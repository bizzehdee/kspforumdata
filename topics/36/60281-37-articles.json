{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":37,"Articles":[{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-03-19T12:42:28Z","Content":"\n\u003Cp\u003E@Darkblade: For slide pots, high resistance is good. 50k is excellent, I use 10k myself, and have used a 1K in a pinch (not recommended). The limiting factor is the max current draw from the Arduino, and 50K would be 0,1 mA out of 500 mA available from the \u002B5V pin.\u003C/p\u003E\n"},{"CreatedByName":"Darkblade48","CreatedById":113269,"CreatedDateTime":"2015-03-19T12:50:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Freshmeat\u0022 data-cite=\u0022Freshmeat\u0022\u003E\u003Cdiv\u003E@Darkblade: For slide pots, high resistance is good. 50k is excellent, I use 10k myself, and have used a 1K in a pinch (not recommended). The limiting factor is the max current draw from the Arduino, and 50K would be 0,1 mA out of 500 mA available from the \u002B5V pin.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcellent; now to figure out how to connect it up and get it to work in KSPIO \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Darkblade48","CreatedById":113269,"CreatedDateTime":"2015-03-20T02:18:26Z","Content":"\n\u003Cp\u003EJust a quick coding question (to see if I am making this overly complicated).\u003C/p\u003E\u003Cp\u003EI have two switches (STAGELOCK and STAGE) as well as an LED. The behaviour I want is as follows:\u003C/p\u003E\u003Cp\u003EWhen STAGELOCK is toggled, turn on LED.\u003C/p\u003E\u003Cp\u003EWhen STAGELOCK is toggled and STAGE is triggered, launch the rocket.\u003C/p\u003E\u003Cp\u003EBoth STAGELOCK and STAGE are using internal pull-up resistors, so this means they normally read HIGH.\u003C/p\u003E\u003Cp\u003EI have the following code for the first part.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif (digitalRead(STAGELOCKPIN)) //pull-up resistor is used so this pin is normally high\u003Cbr\u003EdigitalWrite(GLED, LOW);\u003Cbr\u003E    else\u003Cbr\u003EdigitalWrite(GLED, HIGH); //once key lock is toggled, turn on LED\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFor the second part, I am not sure if it is necessary to define all the cases. There are 4 cases and my desired actions:\u003C/p\u003E\u003Cp\u003E1) STAGELOCKPIN is high (due to pull-up resistor), STAGEPIN is high = rocket does not launch\u003C/p\u003E\u003Cp\u003E2) STAGELOCKPIN is low (toggled), STAGEPIN is high = rocket does not launch, but LED is turned on (taken care of above)\u003C/p\u003E\u003Cp\u003E3) STAGELOCKPIN is high, STAGEPIN is low (this is the case where you try to press the launch button without disarming the safety) = rocket does not launch\u003C/p\u003E\u003Cp\u003E4) Both STAGELOCKPIN and STAGEPIN are low (both switches toggled) = rocket launches\u003C/p\u003E\u003Cp\u003EI have the first 3 cases coded as follows, but I am not sure if it is necessary to explicitly stage cases 2 and 3 (also, the fact I am inverting the boolean logic is quite messy). I am unsure what would happen if I do not define case 2 and 3.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// HIGH \u0026amp;\u0026amp; HIGH || HIGH \u0026amp;\u0026amp; LOW || LOW \u0026amp;\u0026amp; HIGH\u003Cbr\u003Eif ((digitalRead(STAGELOCKPIN) \u0026amp;\u0026amp; digitalRead(STAGEPIN)) || (digitalRead(STAGELOCKPIN) \u0026amp;\u0026amp; !digitalRead(STAGEPIN)) || (!digitalRead(STAGELOCKPIN) \u0026amp;\u0026amp; digitalRead(STAGEPIN)))\u00C3\u00A3\u00E2\u201A\u00AC\u00E2\u201A\u00AC\u003Cbr\u003EMainControls(STAGE, LOW);\u003Cbr\u003E    else\u003Cbr\u003E      MainControls(STAGE, HIGH); //LOW \u0026amp;\u0026amp; LOW\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-20T02:32:26Z\u0022 title=\u002203/20/2015 02:32  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 20, 2015\u003C/time\u003E by Darkblade48\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-03-20T04:29:03Z","Content":"\n\u003Cp\u003EYou can do all of that simply by checking for case 4 in your list. The outcome of all of the other cases is the same. Something like this should be all you need.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (!digitalRead(STAGELOCKPIN) \u0026amp;\u0026amp; !digitalRead(STAGEPIN)) {\u003Cbr\u003E    MainControls(STAGE, HIGH);\u003Cbr\u003E} else {\u003Cbr\u003E    MainControls(STAGE, LOW);\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Darkblade48","CreatedById":113269,"CreatedDateTime":"2015-03-20T05:21:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EYou can do all of that simply by checking for case 4 in your list. The outcome of all of the other cases is the same. Something like this should be all you need.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (!digitalRead(STAGELOCKPIN) \u0026amp;\u0026amp; !digitalRead(STAGEPIN)) {\u003Cbr\u003E    MainControls(STAGE, HIGH);\u003Cbr\u003E} else {\u003Cbr\u003E    MainControls(STAGE, LOW);\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh of course!\u003C/p\u003E\u003Cp\u003EI don\u0027t know why I was making it so complicated by defining out all the cases I \u003Cstrong\u003Edidn\u0027t\u003C/strong\u003E want the rocket to stage and then just putting the one case as part of the \u0027else\u0027 statement. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003EQuick question regarding pin assignment; since the Arduino uses TX and RX to communicate, I assume that we cannot assign these pins (pins 0 and 1 on an Uno) for use?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-20T12:39:01Z\u0022 title=\u002203/20/2015 12:39  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 20, 2015\u003C/time\u003E by Darkblade48\u003C/strong\u003E\n\u003Cbr\u003EAdditional question\n\u003C/span\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-22T04:21:27Z","Content":"\n\u003Cp\u003EWhere is the best place to send output to an LCD panel?\u003C/p\u003E\u003Cp\u003EI can only get it to function in the main loop, but it seems to cause some stuttering issues on my 7 segs when burning to really high orbit.\u003C/p\u003E\u003Cp\u003EPlacing the code in \u0022void indicators ()\u0022 doesn\u0027t seem to do anything.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E  \u003Cbr\u003Elcd.setCursor(8,0);  \u003Cbr\u003Elcd.print(VData.G);\u003Cbr\u003Elcd.setCursor(10,1);\u003Cbr\u003Elcd.print(VData.TAp);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENevermind.... I needed to place brackets around the code \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-22T04:25:22Z\u0022 title=\u002203/22/2015 04:25  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 22, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-03-22T04:34:21Z","Content":"\n\u003Cp\u003EIn theory it\u0027s only worth updating the LCD when you get a new VesselData packet. In the KSPIODemo sketch, the original Indicators() method in utilities.ino is called whenever a valid VesselData is received from the game. You should be able to just update your LCD in that, rather than spend the extra time calling it in every iteration of loop().\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-22T06:07:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EIn theory it\u0027s only worth updating the LCD when you get a new VesselData packet. In the KSPIODemo sketch, the original Indicators() method in utilities.ino is called whenever a valid VesselData is received from the game. You should be able to just update your LCD in that, rather than spend the extra time calling it in every iteration of loop().\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, it is behaving better now.\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-03-26T16:31:49Z","Content":"\n\u003Cp\u003EStill waiting for the weather to get good enough for soldering without freezing my fingers off, but in the meantime I have managed to hook up a secondary display from an old car DVD using the TV-OUT library. I am very tempted to use this instead of soldering a bunch of 7 seg LEDs.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-03-26T22:48:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Freshmeat\u0022 data-cite=\u0022Freshmeat\u0022\u003E\u003Cdiv\u003EStill waiting for the weather to get good enough for soldering without freezing my fingers off, but in the meantime I have managed to hook up a secondary display from an old car DVD using the TV-OUT library. I am very tempted to use this instead of soldering a bunch of 7 seg LEDs.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can get some cheap \u0026lt;$10 3 or 4 inch composite video LCDs on Ebay for that as well.\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-27T08:06:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EYou can get some cheap \u0026lt;$10 3 or 4 inch composite video LCDs on Ebay for that as well.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAww now you\u0027re both just making me want to spend \u003Cem\u003Emore \u003C/em\u003Emoney!\u003C/p\u003E\u003Cp\u003EAfter a few glasses of fermented grape juice last week I bid on a bunch of old VU meters.\u003C/p\u003E\u003Cp\u003EIt turns out that they\u0027re enormous!\u003C/p\u003E\u003Cp\u003EMarzubus style OlED for comparison on the bottom right.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh6.googleusercontent.com/-b-1frXD73bA/VREe4lAKHGI/AAAAAAAABuI/A06V7RqeCVE/w600-h450-no/IMG_0429.JPG\u0022 alt=\u0022IMG_0429.JPG\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-03-27T10:06:47Z","Content":"\n\u003Cp\u003E@TAPOR: They are beautiful. I keep wanting to ditch some of the old voltmeters at school \u0022for taking up storeroom\u0022, but I really cannot bring myself to press on with my colleagues. The real problem with that meter is the voltage, you will have to mess with it to bring it down to 5 V.\u003C/p\u003E\u003Cp\u003E@Zitronen: Free is cheaper than $10. Especially since the dollar rose just enough to make $10 uncomfortably close to the magic 80 dkr when import tax kicks in with 25% plus administration fee of ~\u00C3\u201A\u00C2\u00A320. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhile we\u0027re at it, I have given some thoughts to external power for my leds. The display comes with a 9V supply and plenty of power. I wondered if I could use a 7805 to tap \u002B5V from it as well. The main worry I have is common ground. In Denmark we don\u0027t have seperate grounding for appliances, so I worry if the ground of the display PSU is the same as the ground in the Arduino. Is it safe to connect them, maybe with a resistor between? And how big is the tolerance, are we talking mV or tens of mV?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-27T10:27:41Z\u0022 title=\u002203/27/2015 10:27  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 27, 2015\u003C/time\u003E by Freshmeat\u003C/strong\u003E\n\u003Cbr\u003EMore questions\n\u003C/span\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-27T20:25:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Freshmeat\u0022 data-cite=\u0022Freshmeat\u0022\u003E\u003Cdiv\u003E@TAPOR: They are beautiful. I keep wanting to ditch some of the old voltmeters at school \u0022for taking up storeroom\u0022, but I really cannot bring myself to press on with my colleagues. The real problem with that meter is the voltage, you will have to mess with it to bring it down to 5 V.\u003Cp\u003E@Zitronen: Free is cheaper than $10. Especially since the dollar rose just enough to make $10 uncomfortably close to the magic 80 dkr when import tax kicks in with 25% plus administration fee of ~\u00C3\u201A\u00C2\u00A320. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhile we\u0027re at it, I have given some thoughts to external power for my leds. The display comes with a 9V supply and plenty of power. I wondered if I could use a 7805 to tap \u002B5V from it as well. The main worry I have is common ground. In Denmark we don\u0027t have seperate grounding for appliances, so I worry if the ground of the display PSU is the same as the ground in the Arduino. Is it safe to connect them, maybe with a resistor between? And how big is the tolerance, are we talking mV or tens of mV?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I\u0027m prepared for that.\u003C/p\u003E\u003Cp\u003EThere are 3 terminals on the back, one is marked \u002B one is 10 and the other is blank.\u003C/p\u003E\u003Cp\u003EI\u0027m assuming that the blank is either 20v or GND.\u003C/p\u003E\u003Cp\u003EWhich kind of leads into your point about common ground.\u003C/p\u003E\u003Cp\u003EIn my experience and coming from an audio perspective, different grounds can cause problems with noise on the line.\u003C/p\u003E\u003Cp\u003EIf you want to protect your Arduino, you might want to look into using a Zener diode (say 4.7v or 5.1v).\u003C/p\u003E\u003Cp\u003EHere\u0027s an example from \u003Ca href=\u0022http://www.musicfromouterspace.com/analogsynth_new/SOUNDLABMINISYNTH/soundlabmods/soundlabmods.html#PROTECTCVINPUTS\u0022 rel=\u0022external nofollow\u0022\u003EMusicFromOuterSpace\u003C/a\u003E which is intended for an analogue synthesizer, but would work equally well here (I think)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.musicfromouterspace.com/analogsynth_new/SOUNDLABMINISYNTH/soundlabmods/images/protectcvinputs.gif\u0022 alt=\u0022protectcvinputs.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EReplace ext CV with your positive supply and VC Summer OpAmp with your \u002B rail on the Arduino.\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-03-28T04:40:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Freshmeat\u0022 data-cite=\u0022Freshmeat\u0022\u003E\u003Cdiv\u003EWhile we\u0027re at it, I have given some thoughts to external power for my leds. The display comes with a 9V supply and plenty of power. I wondered if I could use a 7805 to tap \u002B5V from it as well. The main worry I have is common ground. In Denmark we don\u0027t have seperate grounding for appliances, so I worry if the ground of the display PSU is the same as the ground in the Arduino. Is it safe to connect them, maybe with a resistor between? And how big is the tolerance, are we talking mV or tens of mV?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDepending on your Arduino, you won\u0027t even need a 7805. Standard Uno and Mega boards have an on board regulator that can handle from 7V up to 20, but they recommend no higher than 12. You can supply 9V either through the barrel jack on the board, or via the VIN pin, and it will run with no problems. I bought a 9V power supply to run my arduino, because I needed more power for the motorised throttle slider, and it supplies a fair bit more current for LEDs and things than I\u0027d get powered from USB alone.\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-28T05:46:20Z","Content":"\n\u003Cp\u003EDang it, the Bakelite VU is dead.\u003C/p\u003E\u003Cp\u003EI might be able to transfer the guts of anotheer workling unit to it, but am not sure its worth the hassle.\u003C/p\u003E\u003Cp\u003EI have a square one from 1966 that works.\u003C/p\u003E\u003Cp\u003EAlmost as big, but not quite as pretty.\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-03-28T09:48:10Z","Content":"\n\u003Cp\u003E@TAPOR \u0026amp; Stibbons: Thanks for the reply, it did not occur to me that you could use the barrel connection while you where connected on USB. The specs on the \u002B5V are the same as I could get using an external regulator. I can easily throttle the output of the MAX7219 to be something like 10-15 mA per pin, leaving me plenty of current to drive 4 ic\u0027s within budget.\u003C/p\u003E\u003Cp\u003EAnd I am sorry for your loss, TAPOR. It was truly a beauty.\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-28T20:29:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Freshmeat\u0022 data-cite=\u0022Freshmeat\u0022\u003E\u003Cdiv\u003E@TAPOR \u0026amp; Stibbons: Thanks for the reply, it did not occur to me that you could use the barrel connection while you where connected on USB. The specs on the \u002B5V are the same as I could get using an external regulator. I can easily throttle the output of the MAX7219 to be something like 10-15 mA per pin, leaving me plenty of current to drive 4 ic\u0027s within budget.\u003Cp\u003EAnd I am sorry for your loss, TAPOR. It was truly a beauty.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks Freshmeat, \u003C/p\u003E\u003Cp\u003EI\u0027ll resurrect it someday.\u003C/p\u003E\u003Cp\u003EI have a new dilemma. Too many data displays and don\u0027t know what to display on them all \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EMy panel has 6 x 8 digit 7 segment leds and I can only think of what to do with four.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EApoapsis\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EPeriapsis\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESea Level Altitude\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERadar Altitude\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E???\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E???\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve also added 2 x 4 digit 7 segment clock modules:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ETime to Apoapsis\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EReal world time\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere is also a 20x4 LCD in transit, plus the teeny weeny oled.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EAny suggestions for what to display on the last two 7 segs and LCD would be most welcome.\u003C/strong\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-28T20:49:08Z\u0022 title=\u002203/28/2015 08:49  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 28, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-03-28T23:18:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022T.A.P.O.R.\u0022 data-cite=\u0022T.A.P.O.R.\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EAny suggestions for what to display on the last two 7 segs and LCD would be most welcome.\u003C/strong\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDepends on what you want to do, for launch, all you need is AP, PE, inclination, time to AP and eccentricity to get to a perfect circular orbit without looking at the map. You can also display altitude and orbital speed, but they are already in the game anyway. G force is also nice. For landing, you may want rate of decent, fuel, oxidizer etc. For precise orbits like geostationary, you may want semi major\u0026amp;minor axes, orbital period.\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-03-31T14:27:02Z","Content":"\n\u003Cp\u003EAnd finally the weather got warm enough for an extended stay in the workshop. My hardware has gone through an extensive repair and upgrade. It started with my roll potmeter drifting, I was using far to much current so the voltage dropped. Further, resistors in parallel did not work out to sort switches, as the tolerance needed to be down to 2%. So my light was constantly flickering. And the coding had to make an entry for each value, quite horrible.\u003C/p\u003E\u003Cp\u003ESo I have since my first attempt learned about shift-in and MAX7219 ic\u0027s, headers, veroboards, shrink tubing, and proper soldering techniques. The result is a controller that can do the same as the old controller did, but with a much cleaner layout of circuits, possibility of expanding, and far simpler code. This means I actually get to play again, after a forced hiatus since just after New Year \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EOnce I get more time, I still plan on a major rebuild. The LCD tv ought to be incorperated, and I want to add a couple of proper joysticks (one analog, one digital) to the Arduino instead of using the mounted Logitech controller. The reason is I want to be able to exchange roll and yaw controls in game for either planes or rockets. And get relevant flight data on the screen so I can ditch KER HUD.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EEdit:\u003C/em\u003E OK, testing is done. At the same time I discovered a couple of bugs in my old code that made it skip some security checks. There is room for improving my landing assist system, getting a LED to blink should keep me entertained for a while.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-31T20:18:09Z\u0022 title=\u002203/31/2015 08:18  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 31, 2015\u003C/time\u003E by Freshmeat\u003C/strong\u003E\n\u003Cbr\u003ETesting done\n\u003C/span\u003E\n"},{"CreatedByName":"Cell","CreatedById":140314,"CreatedDateTime":"2015-04-01T21:31:24Z","Content":"\n\u003Cp\u003EI\u0027m having trouble getting the tutorial code to work from the first post. When I go to the launch pad, the RX LED on the arduino will start rapidly blinking. It says \u0022Starting serial port COM3\u0022 at the bottom right corner of the screen and the log says: KSPSerialIO: Handshake received - 314. But none of the 3 LEDS ever turn on.\u003C/p\u003E\u003Cp\u003EThis is how it\u0027s connected up:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/SrPqLGs.jpg\u0022 alt=\u0022SrPqLGs.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve confirmed all 3 LEDs work using the basic Blink arduino sketch.\u003C/p\u003E\u003Cp\u003EAny ideas what\u0027s going on?\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-04-02T06:24:44Z","Content":"\n\u003Cp\u003EHey Welcome to the forum \u0026amp; good luck with KSPIO \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cell\u0022 data-cite=\u0022Cell\u0022\u003E\u003Cdiv\u003EI\u0027m having trouble getting the tutorial code to work from the first post. When I go to the launch pad, the RX LED on the arduino will start rapidly blinking. It says \u0022Starting serial port COM3\u0022 at the bottom right corner of the screen and the log says: KSPSerialIO: Handshake received - 314. But none of the 3 LEDS ever turn on.\u003Cp\u003EThis is how it\u0027s connected up:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/SrPqLGs.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/SrPqLGs.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve confirmed all 3 LEDs work using the basic Blink arduino sketch.\u003C/p\u003E\u003Cp\u003EAny ideas what\u0027s going on?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe green light should be on (and stay on) once handshake is connected.\u003C/p\u003E\u003Cp\u003EDid you have a successful upload of the sketch?\u003C/p\u003E\u003Cp\u003ETry increasing the baud rate from the default to 115200, this has helped with a couple of my boards.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESerial.begin(115200);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI also had a lot of ports clogged up, so even though It would upload sketches, KSP sometimes refused to connect.\u003C/p\u003E\u003Cp\u003EDon\u0027t forget to re-start KSP every time you unplug the board or change the configure file.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003EI\u0027ve had another look, and it all looks like it\u0027s wired up correctly.\u003C/p\u003E\u003Cp\u003EI\u0027m guessing that it\u0027s an issue between KSP \u0026amp; your com port.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-02T10:16:59Z\u0022 title=\u002204/02/2015 10:16  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 2, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cell","CreatedById":140314,"CreatedDateTime":"2015-04-04T01:32:40Z","Content":"\n\u003Cp\u003EThe green LED comes on for two or three seconds and then turns off. It seems that the board is resetting a second or two after the handshake goes through. The sketch is uploaded fine and increasing the baud rate doesn\u0027t make a difference. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003Eedit: It seems that the arduino is resetting just before the green LED comes on as well.\u003C/p\u003E\u003Cp\u003EDuring loading the launch pad:\u003C/p\u003E\u003Cp\u003EArduino resets\u003C/p\u003E\u003Cp\u003EGreen LED turns on for 2 seconds\u003C/p\u003E\u003Cp\u003EGreen LED turns off\u003C/p\u003E\u003Cp\u003EArduino resets\u003C/p\u003E\u003Cp\u003EFinishes loading, RX light starts blinking\u003C/p\u003E\u003Cp\u003EAny ideas?\u003C/p\u003E\u003Cp\u003Eedit edit:Tried putting a capacitor across the RESET and GND pins which successfully stops the arduino from resetting but hasn\u0027t made a difference otherwise. LED still only coming on for a couple of seconds.\u003C/p\u003E\u003Cp\u003EChanging IDLETIMER in the Arduino sketch determines how long the Green LED will come on for, so I guess after the initial handshake it\u0027s not receiving any data.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-04T03:27:09Z\u0022 title=\u002204/04/2015 03:27  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 4, 2015\u003C/time\u003E by Cell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-04-04T06:53:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cell\u0022 data-cite=\u0022Cell\u0022\u003E\u003Cdiv\u003EI\u0027m having trouble getting the tutorial code to work from the first post. When I go to the launch pad, the RX LED on the arduino will start rapidly blinking. It says \u0022Starting serial port COM3\u0022 at the bottom right corner of the screen and the log says: KSPSerialIO: Handshake received - 314. But none of the 3 LEDS ever turn on.\u003Cp\u003EThis is how it\u0027s connected up:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/SrPqLGs.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/SrPqLGs.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve confirmed all 3 LEDs work using the basic Blink arduino sketch.\u003C/p\u003E\u003Cp\u003EAny ideas what\u0027s going on?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had something similar earlier on, I think it had something to do with the xml config file in KSP.\u003C/p\u003E\u003Cp\u003EIf you like you can PM me the code from your sketch and I\u0027ll compare it with mine, but I still have a feeling that its something to do with the serial/usb port.\u003C/p\u003E\n"},{"CreatedByName":"Cell","CreatedById":140314,"CreatedDateTime":"2015-04-04T10:00:00Z","Content":"\n\u003Cp\u003EWell now I feel really dumb. It seems that CKAN isn\u0027t using the latest version (only 16.1). Updating to the latest version from the OP has fixed it and every thing is working now. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-04-04T20:01:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cell\u0022 data-cite=\u0022Cell\u0022\u003E\u003Cdiv\u003EWell now I feel really dumb. It seems that CKAN isn\u0027t using the latest version (only 16.1). Updating to the latest version from the OP has fixed it and every thing is working now. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESweet, glad you got it sorted \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EGood luck with your build and remember to search this thread if you get stuck.\u003C/p\u003E\n"}]}