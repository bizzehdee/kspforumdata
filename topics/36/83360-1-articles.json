{"TopicId":83360,"ForumId":36,"TopicTitle":"[Hardware] Custom Control Console","CreatedByName":"Unistrut","CreatedById":2229,"CreatedDateTime":"2014-08-30T06:59:02Z","PageNum":1,"Articles":[{"CreatedByName":"Unistrut","CreatedById":2229,"CreatedDateTime":"2014-08-30T06:59:02Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/ouuP6vB\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/ouuP6vBl.jpg\u0022 alt=\u0022ouuP6vBl.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESo ever since seeing my first custom control setup I wanted to try building one. However, instead of using an Arduino (mine\u0027s currently busy being a Morse code trainer) I figured I\u0027d use a USB keyboard encoder like my friends and I used when building a MAME cabinet.\u003C/p\u003E\u003Cp\u003EIt seemed easier.\u003C/p\u003E\u003Cp\u003ENow of course, I work in theater, so I can\u0027t just throw some switches in a box and call it a day. It has to look nice, and possibly period. I had a bunch of push buttons from some random piece of surplus hardware (a SWITCH ASSEMBLY SA-569/APA 90 if anyone cares, they make a really nice chunk-unk when pushed) and bought a bunch of toggle switches and two sticks from \u003Ca href=\u0022http://na.suzohapp.com/\u0022 rel=\u0022external nofollow\u0022\u003EHapp controls\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EI also wanted a throttle. I use an old Saitek Cyborg Evo when I\u0027m playing KSP, mostly for the throttle, and I wanted a nice analog throttle for the control panel. Little did I know just how much f@#$ing harder it was going to make my life.\u003C/p\u003E\u003Cp\u003ETHE PANEL - \u003C/p\u003E\u003Cp\u003EThe initial control layout was done in a piece of scrap cardboard. Easier to change marks on an old keyboard box than move holes drilled in sheet metal. Once I was satisfied I started marking up a piece of scrap aluminum sheet from work. After drilling the holes I gave it a nice layer of Hammer Coat. I bent the sheet using a table edge and some bits of wood clamped to the sheet to keep a nice sharp corner. \u003C/p\u003E\u003Cp\u003EThe next challenge was the ROTATE control. I wanted three axis and only had two. We had used \u0022spinner\u0022 joysticks on the MAME cabinet, so I cut and bent another piece of aluminum (this one from an old 1/4\u0022 tape reel) and built a bracket to hold two microswitches that were engaged by a lever attached to the joystick. So you can push left/right or up/down and also twist CW/CCW. The twist action is a little stiff though, I should have done some more work sanding that down and smoothing it out before permanently gluing bits of it together. I don\u0027t think things through sometimes.\u003C/p\u003E\u003Cp\u003EAbout this time I (thought) I\u0027d figured out my throttle issue. I had an ancient wheel and pedal combo (it still used a Gameport connector) and I figured I could scavenge one of the pedals for my throttle. I trimmed out the metal around it, drilled some holes for mounting and made a handle from some bits of dowel, red paint and more hammer coat. It\u0027s mounted with long bolts going through copper tube as spacers.\u003C/p\u003E\u003Cp\u003ETHE CASE - I wanted a nice retro look for the case. Most of the wood is scavenged stage flooring, but I wanted the wood grain look, like an old Atari 2600. The TD knew where there was some actual vintage \u0022wood\u0022 paneling stuffed in one of the stock rooms and let me make off with it. It looks \u003Cem\u003Eamazing\u003C/em\u003E but the California heat tends to make it peel off. I really need to add some tacks to the edges to keep it from curling as much. I decorated the case with the name plate from the switch box the buttons came from and a North American Aviation property tag I found on a desk that was being thrown out.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/aQDZh7i\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/aQDZh7il.jpg\u0022 alt=\u0022aQDZh7il.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESitting on the desk ready to start soldering.\u003C/p\u003E\u003Cp\u003ENow, I wanted to get the same keyboard encoder we\u0027d used on the MAME cabinet, but it seemed to be out of stock, so I wound up getting an \u003Ca href=\u0022http://www.ultimarc.com/a-pac.html\u0022 rel=\u0022external nofollow\u0022\u003EUltimarc A-Pac\u003C/a\u003E instead. This would prove to not be the best choice I made in this project.\u003C/p\u003E\u003Cp\u003EDon\u0027t get me wrong, the A-Pac worked great as an interface for my old Atari joysticks when I was playing around with Stella (Atari emulator) and will probably be useful when I start trying to program the Morse code receiving trainer, but it was not the best choice for this control panel. First off, KSP, probably thanks to Unity, has really wonky joystick support (seriously Unity dudes, you\u0027re making a \u003Cem\u003EGAME ENGINE\u003C/em\u003E, solid joystick support should be higher on your priority list. You will get yelled at again for this later). The A-Pac appears to the PC as two USB joysticks, and KSP was not able to tell them apart. So pressing \u0022Button 1\u0022 on the first joystick would also register as a hit on \u0022Button 1\u0022 on the second joystick. This did not work, although it produced a rather spectacular surprise launch. \u0022Turn Left\u0022 was J1B1 and J2B1 was ... well, \u0022Stage\u0022. \u0022Okay, let\u0027s test the roll, pitch and yaaaaaaaaaaWWWWW\u0022 \u0026lt;FWOOOOSH\u0026gt;.\u003C/p\u003E\u003Cp\u003EThe next problem was the throttle. This one is all Unity. Now, once again, you Unity guys are making a Game Engine. You are charging people money to use it. It should \u003Cem\u003Ehave \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003Eworking JOYSTICKS\u003C/em\u003E\u003C/strong\u003E. The throttle was completely unusable due to Unity\u0027s lovely habit of ignoring Windows joystick calibrations.\u003C/p\u003E\u003Cp\u003ENow, after this little issue I looked a lot harder for the equivalent of what we\u0027d used for MAME. It just appeared to the computer as a keyboard. If I did my programming right I wouldn\u0027t even have to change any key bindings in KSP. I finally found it, or at least the newest revision. \u003Ca href=\u0022http://www.poscope.com/PoKeys56U\u0022 rel=\u0022external nofollow\u0022\u003EPoKeys 56U\u003C/a\u003E It actually came really quickly considering it was being shipped from Slovenia. \u003C/p\u003E\u003Cp\u003EAfter pulling the A-Pac I installed the 56U.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/q4Sm1mL\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/q4Sm1mLl.jpg\u0022 alt=\u0022q4Sm1mLl.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EOut with the old. In with the new. Look at that \u0022wood\u0022 grain.\u003C/p\u003E\u003Cp\u003ENow, with the PoKeys I didn\u0027t have any of the button problems I had with the A-Pac but the throttle was still wonky, once again entirely due to Unity. Luckily, PoKeys has a function where you can take an analog input and have it register as keypresses depending on where the analog input is located - so the throttle currently triggers the \u0022throttle up\u0022 key when pushed forward and the \u0022throttle down\u0022 key when pulled back. You can also have it press the key faster the farther towards the edge you get. It\u0027s not as responsive as a real analog control, but the closest we can really do right now.\u003C/p\u003E\u003Cp\u003EMostly it\u0027s just buttons and sticks, but it does have two or three neat tricks - the big covered switches enable the STAGE and ABORT functions, so I can have them large and easily accessible, but also not worry about accidentally firing a stage. The SAS and brakes (BRK) use both a toggle switch and a push button. The brakes just use the toggle for a parking brake, but the SAS switch is set up so that you can lock the SAS on or off, and whichever state it\u0027s in, pushing the button briefly switches it to the other state. So you can leave it on for docking, but turn it off briefly for a turn, or leave it off to save resources and briefly trigger it when you just want the ship to stop spinning for a second.\u003C/p\u003E\u003Cp\u003EThe white bit in the middle of the top section is actually an acrylic window where you can put an index card reminding you what those action groups do. In this case, the VINNABY ship has solar panels, claw and engine cutoff.\u003C/p\u003E\u003Cp\u003EFuture Plans:\u003C/p\u003E\u003Cp\u003EThe stage and abort enable switches have LEDs in them. They don\u0027t currently light up. There are also status lights by the stage and abort buttons. They do not currently light up. I\u0027m working on getting both of those working, but have spend the last few days fighting with the throttle control.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-30T07:42:46Z\u0022 title=\u002208/30/2014 07:42  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 30, 2014\u003C/time\u003E by Unistrut\u003C/strong\u003E\n\u003Cbr\u003ELink for Happ Controls added.\n\u003C/span\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-08-30T08:03:07Z","Content":"\n\u003Cp\u003Ea little exxessive - maybe - but awesome! :-D\u003C/p\u003E\n"},{"CreatedByName":"Ezriilc","CreatedById":34556,"CreatedDateTime":"2014-08-30T12:42:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022philotical\u0022 data-cite=\u0022philotical\u0022\u003E\u003Cdiv\u003Ea little exxessive - maybe - but awesome! :-D\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELet me re-word that...: \u0022A little excessive - definitely - AND all kinds of awesome!\u0022\u003C/p\u003E\u003Cp\u003EWell done indeed. I find myself wishing I had one.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-08-30T13:44:50Z","Content":"\n\u003Cp\u003EVery cool and a nice write up. The guys over at hackaday.com will love it too, if you fancy spreading the word a little wider.\u003C/p\u003E\n"}]}