{"TopicId":66398,"ForumId":36,"TopicTitle":"[WIP] Loading textures only as required","CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-03-21T14:47:56Z","PageNum":30,"Articles":[{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-04-22T17:41:10Z","Content":"\n\u003Cp\u003EThe thing to keep in mind is that the size of your GameData folder, or rather all the assets when KSP compiles everything together when loading, is not what you eventually get in your RAM usage. Unless you\u0027re running Linux with an absolute ton of RAM available, you\u0027re still extremely limited. ATM isn\u0027t allowing you to use more ram, all it\u0027s doing is resizing and compressing textures to reduce the amount of RAM that is being used in the first place. That means, KSP 32-bit DirectX cannot use that ~6.6 Gigs of RAM, period, even with ATM.\u003C/p\u003E\u003Cp\u003EAs for the limitation of using this with DirectX, I am not even sure if it even works with anything other than DirectX 9. It\u0027s not impossible to make something like this happen in DX11, or OGL, or whatever. The only fact is that \u003Cem\u003Ethis\u003C/em\u003E way of implementing such a system is limited in this way. That and the rest of us don\u0027t have the expertise to modify it or rewrite it for a different set of rendering drivers and libraries.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-22T17:46:32Z\u0022 title=\u002204/22/2015 05:46  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 22, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"E.Nygma","CreatedById":104703,"CreatedDateTime":"2015-04-22T17:54:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaalidas\u0022 data-cite=\u0022Gaalidas\u0022\u003E\u003Cdiv\u003EThat means, KSP 32-bit DirectX cannot use that ~6.6 Gigs of RAM, period, even with ATM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, I understand that and thanks for your reply! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E That\u0027s why I\u0027m currently on Ubuntu x64, but as hab136 pointed out, Ubuntu uses OpenGL, so currently no LoD for me or anyone on either of the two operating systems mentioned. I tried to ask for a way to get rid of the DirectX-dependency in my post above yours...this may have not been very clear though, I apologize if there was a misunderstanding...and of course, the size of GameData is in no way indicative for the actual used RAM-space, I can remember that one from my computer science class about 15 years ago...\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EAh, okay so long story short: big fat NO on getting it on Linux...Thanks for the answer, kind sir!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-22T17:59:21Z\u0022 title=\u002204/22/2015 05:59  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 22, 2015\u003C/time\u003E by E.Nygma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-04-22T19:43:13Z","Content":"\n\u003Cp\u003EBig fat NO, but... as you well know... the bigger they are, the harder they fall from orbit and slam into the ground...\u003C/p\u003E\u003Cp\u003EI think I over did that one, but you get the picture. It\u0027s not impossible, just not happening anytime soon unless another unknown modder comes out of nowhere and blows our minds with some new implementation.\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-23T21:17:53Z","Content":"\n\u003Cp\u003EIf anyone has successfully compiled loadOnDemand for 0.90 can I please have a copy? I don\u0027t feel like compiling from source and setting up dependecies.\u003C/p\u003E\n"},{"CreatedByName":"capi3101","CreatedById":59027,"CreatedDateTime":"2015-04-23T22:01:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blackrack\u0022 data-cite=\u0022blackrack\u0022\u003E\u003Cdiv\u003EIf anyone has successfully compiled loadOnDemand for 0.90 can I please have a copy? I don\u0027t feel like compiling from source and setting up dependecies.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESpaceTiger has a link to a compiled version a few pages back:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpaceTiger\u0022 data-cite=\u0022SpaceTiger\u0022\u003E\u003Cdiv\u003E Get the dll from \u003Ca href=\u0022https://github.com/jamesb6626/KspLoadOnDemand/releases/tag/v3.5\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. Download and install the requirements(\u003Ca href=\u0022http://www.microsoft.com/en-us/download/details.aspx?id=17851\u0022 rel=\u0022external nofollow\u0022\u003E.NET Framework (4.0)\u003C/a\u003E/\u003Ca href=\u0022http://www.microsoft.com/en-us/download/details.aspx?id=40784\u0022 rel=\u0022external nofollow\u0022\u003EVisual C\u002B\u002B Redistributable Packages for Visual Studio 2013\u003C/a\u003E) and load up your game. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou just need to put the dll in your GameData directory and you\u0027re off to the races.\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-23T22:17:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022capi3101\u0022 data-cite=\u0022capi3101\u0022\u003E\u003Cdiv\u003ESpaceTiger has a link to a compiled version a few pages back:\u003Cp\u003EYou just need to put the dll in your GameData directory and you\u0027re off to the races.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks a lot, it works.\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2015-04-24T02:38:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaalidas\u0022 data-cite=\u0022Gaalidas\u0022\u003E\u003Cdiv\u003EAs for the limitation of using this with DirectX, I am not even sure if it even works with anything other than DirectX 9. It\u0027s not impossible to make something like this happen in DX11, or OGL, or whatever. The only fact is that \u003Cem\u003Ethis\u003C/em\u003E way of implementing such a system is limited in this way. That and the rest of us don\u0027t have the expertise to modify it or rewrite it for a different set of rendering drivers and libraries.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd... it works under linux... almost.\u003C/p\u003E\u003Cp\u003E*To explain:\u003C/p\u003E\u003Cp\u003EWine provides linux with a directx to opengl wrapper. While you won\u0027t get the benefits of software being designed for the platform, you can still run the software; if what I did worked, getting it to work under linux would be as simple (well... not really \u0022simple\u0022) as wrapping the KSP executable to redirect incompatible system calls to wine. I\u0027m, not really certain I\u0027d want to go down that road myself though...\u003C/p\u003E\u003Cp\u003EOne caveat is that you must have dotnet40 installed, not just mono (tested under wine-mono-4.5.6). Don\u0027t know why, don\u0027t care... mono probably just isn\u0027t feature complete.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EWhat works... is just about everything.\u003C/strong\u003E Thumbnails are generated and loaded instead of textures, memory usage is ~200mb lower than without (tested under base install), textures load when requested on launch pad and in VAB.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EWhat doesn\u0027t is how the textures load; \u003C/strong\u003Esome don\u0027t really look like the right texture, others just look like they weren\u0027t mapped correctly to the model. \u003C/p\u003E\u003Cp\u003EWhy post this? Because it is close. I was only testing the Windows version, a similar approach with the linux version may have different results. Someone may know how to get wine to simply sit back and handle the windows calls with a command line script that means you don\u0027t even need to write a wrapper; or know of a program that would do what I\u0027m saying anyways. The issue may even be corrected in a future version of wine. It may even be a simple setting somewhere that can be changed to fix it; I don\u0027t know.\u003C/p\u003E\u003Cp\u003EIt is just an idea, do what you will with it.\u003C/p\u003E\n"},{"CreatedByName":"MainSailor","CreatedById":74050,"CreatedDateTime":"2015-04-29T11:18:58Z","Content":"\n\u003Cp\u003EHas anyone tried to compile this under 1.0? I would but I\u0027m not familiar with compiling and other coding mechanics.\u003C/p\u003E\n"},{"CreatedByName":"SpaceTiger","CreatedById":133800,"CreatedDateTime":"2015-04-29T11:31:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MainSailor\u0022 data-cite=\u0022MainSailor\u0022\u003E\u003Cdiv\u003EHas anyone tried to compile this under 1.0? I would but I\u0027m not familiar with compiling and other coding mechanics.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was able to compile this under 1.0 with a few changes. But since 1.0 uses dds textures and LoD never was made compatible to handle dds it doesn\u0027t do anything.\u003C/p\u003E\n"},{"CreatedByName":"capi3101","CreatedById":59027,"CreatedDateTime":"2015-04-30T08:17:23Z","Content":"\n\u003Cp\u003EArgh. Well, it was a good two weeks...guess I get to go back to the drudgery of ATM......\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-04-30T11:19:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpaceTiger\u0022 data-cite=\u0022SpaceTiger\u0022\u003E\u003Cdiv\u003EI was able to compile this under 1.0 with a few changes. But since 1.0 uses dds textures and LoD never was made compatible to handle dds it doesn\u0027t do anything.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGah! Could you explain the problem to a lay person? Why is it not compatible. Could be be made to be compatible?\u003C/p\u003E\n"},{"CreatedByName":"SpaceTiger","CreatedById":133800,"CreatedDateTime":"2015-04-30T12:48:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EGah! Could you explain the problem to a lay person? Why is it not compatible. Could be be made to be compatible?\u003C/div\u003E\u003C/blockquote\u003EDDS textures aren\u0027t in LoD\u0027s list of \u0022workable\u0022 textures. If i add them to it KSP crashes as soon as it hits the main menu. From what i looked at the problem is in the C\u002B\u002B/Nativebridge part of LoD which i don\u0027t understand at all.\n"},{"CreatedByName":"BrutalRIP","CreatedById":59065,"CreatedDateTime":"2015-05-04T03:40:21Z","Content":"\n\u003Cp\u003EIm hoping someone picks this up and gets it working with dds ...I keep seeing people say 1.0.2(ksp) makes it so we can add more mods for me this doesnt seem to be the case with just an hand full off mods with low part counts i get CTD no ram issue even though im using opengl. With this mod and ddsloader on .90 i could run 50-60 mods including kw,b9,vens,sspe, Interstellar V2 and the whole USI catologue together....OH boy not anymore not even close.......\u003C/p\u003E\u003Cp\u003EBrutal\u003C/p\u003E\n"},{"CreatedByName":"RED-404","CreatedById":107573,"CreatedDateTime":"2015-05-06T00:10:46Z","Content":"\n\u003Cp\u003E$20 to the individual that gets this working. \u003C/p\u003E\u003Cp\u003EWorking properly, that is.\u003C/p\u003E\n"},{"CreatedByName":"EveningTea","CreatedById":143296,"CreatedDateTime":"2015-05-06T21:29:20Z","Content":"\n\u003Cp\u003EGot an incomplete (doesn\u0027t fill in dds srcs, so black/undefined for now, just need to fill stub) experimental fork done: 2.2gb (without) vs 1.7gb (with)\u003C/p\u003E\u003Cp\u003EWill post something when done (later, but do hold your breath for my amusment). Should be doing work right now so I unreasonably expect devout prostration from y\u0027all when I do stuff this online.\u003C/p\u003E\u003Cp\u003ENote: Didn\u0027t notice much better load times; Logging/dbgr bottlenecking the process? Will check later.\u003C/p\u003E\n"},{"CreatedByName":"SpaceTiger","CreatedById":133800,"CreatedDateTime":"2015-05-06T21:49:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EveningTea\u0022 data-cite=\u0022EveningTea\u0022\u003E\u003Cdiv\u003ENote: Didn\u0027t notice much better load times; Logging/dbgr bottlenecking the process? Will check later.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you use Debug.Log a lot it will slow down quiet a bit\u003C/p\u003E\n"},{"CreatedByName":"FS3D","CreatedById":73099,"CreatedDateTime":"2015-05-06T23:45:39Z","Content":"\n\u003Cp\u003EThis mod, with the right changes, should be integrated into KSP\u0027s stock version in the future...\u003C/p\u003E\u003Cp\u003EEven better is if Squad could implement the functionality directly using Unity.\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-14T16:13:11Z","Content":"\n\u003Cp\u003ESorry for dropping in out of the blue, but is this compatible with 1.0.2? And with the new DDS textures do we still need this?\u003C/p\u003E\n"},{"CreatedByName":"BrutalRIP","CreatedById":59065,"CreatedDateTime":"2015-05-15T13:52:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blackrack\u0022 data-cite=\u0022blackrack\u0022\u003E\u003Cdiv\u003ESorry for dropping in out of the blue, but is this compatible with 1.0.2? And with the new DDS textures do we still need this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would say yes we do \u003C/p\u003E\u003Cp\u003EREPOST FROM LAST PAGE:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BrutalRIP\u0022 data-cite=\u0022BrutalRIP\u0022\u003E\u003Cdiv\u003EIm hoping someone picks this up and gets it working with dds ...I keep seeing people say 1.0.2(ksp) makes it so we can add more mods for me this doesnt seem to be the case with just an hand full off mods with low part counts i get CTD no ram issue even though im using opengl. With this mod and ddsloader on .90 i could run 50-60 mods including kw,b9,vens,sspe, Interstellar V2 and the whole USI catologue together....OH boy not anymore not even close.......\u003Cp\u003EBrutal\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Viruzzz","CreatedById":78314,"CreatedDateTime":"2015-07-02T19:55:30Z","Content":"\n\u003Cp\u003EHi, anyone can repair this Plugin for DDS format? I looked at code but i not understand what i can do for DDS. I use few mods and i have already 95% ram used by mods. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis plugin are the best for adding more mods and no lag in game or something else. It\u0027s wonderful this plugin.\u003C/p\u003E\n"},{"CreatedByName":"Nansuchao","CreatedById":135151,"CreatedDateTime":"2015-07-02T20:43:21Z","Content":"\n\u003Cp\u003EI agree, hopefully someone will take the maintainance of this mod.\u003C/p\u003E\n"},{"CreatedByName":"Dagger","CreatedById":147766,"CreatedDateTime":"2015-07-09T15:18:30Z","Content":"\n\u003Cp\u003EI learned C\u002B\u002B back at university, unfortunately I hardly remember anything and now I make my living with c#.\u003C/p\u003E\u003Cp\u003EIf someone has some guidelines, posts or information I can try to fix it or at least help others but I don\u0027t know how to even start with this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-08-11T13:16:35Z","Content":"\n\u003Cp\u003EJust bumping this for attention. Anyone interested in taking over the torch?\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-08-11T13:21:03Z","Content":"\n\u003Cp\u003EI think it\u0027s best to wait after unity 5, which will likely improve a lot, including memory managment\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-08-11T15:38:52Z","Content":"\n\u003Cp\u003EWe can hope, but realistically it will likely only make memory management worse. With every major update, this \u0022game\u0022 has become more and more memory intensive.\u003C/p\u003E\n"}]}