{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":397,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-05-03T09:01:01Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Rodger said:\n\u003E \n\u003E \n\u003E I\u0027m getting a weird issue in 2.5x GPP (and TUFX), wondering if it\u0027s a scatterer thing, or a config issue due to rescaling.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E images in spoiler:\n\u003E \n\u003E \n\u003E \n\u003E Hide contents\n\u003E \n\u003E \n\u003E 1: in orbit, sun is about to rise:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![UmBIwN1.jpg](https://i.imgur.com/UmBIwN1.jpg)](https://i.imgur.com/UmBIwN1.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 2: as soon as the sun clears the main body of the planet, but not past the atmosphere, everything goes black, including glowing parts:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![rtGKzeD.jpg](https://i.imgur.com/rtGKzeD.jpg)](https://i.imgur.com/rtGKzeD.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 3: past the atmosphere, it\u0027s back to normal with an orange sunrise:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![Un7RnM9.jpg](https://i.imgur.com/Un7RnM9.jpg)](https://i.imgur.com/Un7RnM9.jpg \u0022Enlarge image\u0022)\n\u003E \n\nLooks like the atmosphere is too thick and broken. Does this happen without rescale? I doubt GPP atmosphere configs have been updated."},{"CreatedByName":"Rodger","CreatedById":153575,"CreatedDateTime":"2022-05-03T16:28:58Z","Content":"Nope, removing the rescale patch did stop it. Do you know what might need to be updated to fix it on my end?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-05-03T17:01:30Z","Content":"\u003E \n\u003E \n\u003E 29 minutes ago, Rodger said:\n\u003E \n\u003E \n\u003E Nope, removing the rescale patch did stop it. Do you know what might need to be updated to fix it on my end?\n\u003E \n\nNo idea, if this is with the latest scatterer version post your logs, scatterer configs and the rescale patch and I\u0027ll check it, probably a shader issue."},{"CreatedByName":"G\u0026#039;th","CreatedById":98595,"CreatedDateTime":"2022-05-03T21:10:25Z","Content":"Blackrack - Am I correct in interpreting that with the latest Scatterer that the half files aren\u0027t necessary anymore?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-05-03T21:36:58Z","Content":"\u003E \n\u003E \n\u003E 25 minutes ago, G\u0027th said:\n\u003E \n\u003E \n\u003E Blackrack - Am I correct in interpreting that with the latest Scatterer that the half files aren\u0027t necessary anymore?\n\u003E \n\nYea, they are generated on the end user\u0027s machine and don\u0027t need to be distributed."},{"CreatedByName":"G\u0026#039;th","CreatedById":98595,"CreatedDateTime":"2022-05-03T21:41:14Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Yea, they are generated on the end user\u0027s machine and don\u0027t need to be distributed.\n\u003E \n\nNeat!"},{"CreatedByName":"jebycheek","CreatedById":221190,"CreatedDateTime":"2022-05-13T08:05:46Z","Content":"Does anyone have this problem:Specific stock waterfall (and restock ) engine plume Glitching with black shadow,only switching back to earlier scatterer version  can solve this problem,  really need some help here ![:0.0:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif \u0022:0.0:\u0022)\n\n**Edited \u003Ctime datetime=\u00222022-05-13T08:07:31Z\u0022 title=\u002205/13/2022 08:07  AM\u0022 data-short=\u00222 yr\u0022\u003EMay 13, 2022\u003C/time\u003E by jebycheek**"},{"CreatedByName":"OldMold","CreatedById":102700,"CreatedDateTime":"2022-05-14T00:18:56Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, jebycheek said:\n\u003E \n\u003E \n\u003E Does anyone have this problem:Specific stock waterfall (and restock ) engine plume Glitching with black shadow,only switching back to earlier scatterer version  can solve this problem,  really need some help here ![:0.0:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif \u0022:0.0:\u0022)\n\u003E \n\nTry disabling TAA"},{"CreatedByName":"jebycheek","CreatedById":221190,"CreatedDateTime":"2022-05-14T01:05:39Z","Content":"@OldMod Oh! thanks!But the problem still remains.disable TAA can\u0027t fix the engine plume shadow.\n\n**Edited \u003Ctime datetime=\u00222022-05-14T01:25:54Z\u0022 title=\u002205/14/2022 01:25  AM\u0022 data-short=\u00222 yr\u0022\u003EMay 14, 2022\u003C/time\u003E by jebycheek**"},{"CreatedByName":"OldMold","CreatedById":102700,"CreatedDateTime":"2022-05-15T16:18:20Z","Content":"Not sure what you mean then - can you show screenshots and logs?"},{"CreatedByName":"Diddly Feelerino","CreatedById":116824,"CreatedDateTime":"2022-05-24T00:23:57Z","Content":"I\u0027m having a frustrating issue with Sunflares in Scatterer; the ghost images seem to work fine but the actual sunflare itself is always invisible/superseded by the Sun itself. Tried amending the syntaxversion to 1 and 2 but to no avail.  \n\nTested it on a clean install and it doesn\u0027t work. What gives?   \n\nHere\u0027s a screenshot:  \n  \n[https://ibb.co/GscNkh8](https://ibb.co/GscNkh8)"},{"CreatedByName":"Benzo Kerman","CreatedById":218403,"CreatedDateTime":"2022-05-24T01:17:03Z","Content":"\u003E \n\u003E \n\u003E 46 minutes ago, Diddly Feelerino said:\n\u003E \n\u003E \n\u003E Tested it on a clean install and it doesn\u0027t work. What gives?\n\u003E \n\nThere is nothing *wrong* with it, per say, this is just the way it is implimented. I agree with you on the fact that it doesn\u0027t look the best, but you can change in. I found the best way is to just mess around with the Scatterer sunflare settings, like I see you have open. The simplest way to go about this is just to over saturate the flare. Simply multiply the color setting evenly across RGB to your liking. You can mess around with some of the other settings too, but just remember you have to write the settings in the sun.cfg inside Scatterer, it won\u0027t save automatically. Hope this helps!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-05-24T06:28:14Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, Diddly Feelerino said:\n\u003E \n\u003E \n\u003E I\u0027m having a frustrating issue with Sunflares in Scatterer; the ghost images seem to work fine but the actual sunflare itself is always invisible/superseded by the Sun itself. Tried amending the syntaxversion to 1 and 2 but to no avail.  \n\u003E   \n\u003E \n\u003E Tested it on a clean install and it doesn\u0027t work. What gives?   \n\u003E   \n\u003E \n\u003E Here\u0027s a screenshot:  \n\u003E   \n\u003E [https://ibb.co/GscNkh8](https://ibb.co/GscNkh8)\n\u003E \n\nYou have to make it brighter if you want it to be brighter than the sun, refer to this page for settings [https://github.com/LGhassen/Scatterer/wiki/SunflaresConfig#syntax-version-2](https://github.com/LGhassen/Scatterer/wiki/SunflaresConfig#syntax-version-1)\n\n**Edited \u003Ctime datetime=\u00222022-05-24T06:33:31Z\u0022 title=\u002205/24/2022 06:33  AM\u0022 data-short=\u00222 yr\u0022\u003EMay 24, 2022\u003C/time\u003E by blackrack**"},{"CreatedByName":"Diddly Feelerino","CreatedById":116824,"CreatedDateTime":"2022-05-24T10:44:40Z","Content":"Thanks for the replies lads; got it working now!"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-05-25T12:21:43Z","Content":"Hello,\n\nMoreover about sun flares, I\u0027ve made a rework of scale curve to better match with distance. The one of scatterer config isn\u0027t so bad but there some little inconsistencies with some distances.\n\nHere it is:\n\n    scaleCurve\n    {key = 1 6 0 -0.2key = 52 1 0 -0.01key = 76 0.8 0 -0.005key = 262 0.3 0 0key = 434 0.1 0 0\n    }\n\nYou can apply it on your sunFlare and sunSpikes configs."},{"CreatedByName":"jebycheek","CreatedById":221190,"CreatedDateTime":"2022-05-27T04:27:12Z","Content":"So if i want to make kerbin texture always at right condition , I have to change both the land and ocean texture(Brightness/contrast /Saturation )all to 1.0 every time the game restart,exhausting right ? then i found the little save button, i was just about to sing the holy song , then i see there is a red line of words says: \u0022you want save it? no bi\\*ch,giving up your awesome mods first. \u0022\n\nYup, another day, another sad man.  \n\nPS:if there is any another way I can make this right, please  do tell me, and i\u0027ll be really grateful and  buy you a drink!\n\n**Edited \u003Ctime datetime=\u00222022-05-27T04:42:27Z\u0022 title=\u002205/27/2022 04:42  AM\u0022 data-short=\u00222 yr\u0022\u003EMay 27, 2022\u003C/time\u003E by jebycheek**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-05-27T07:36:51Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, jebycheek said:\n\u003E \n\u003E \n\u003E So if i want to make kerbin texture always at right condition , I have to change both the land and ocean texture(Brightness/contrast /Saturation )all to 1.0 every time the game restart,exhausting right ? then i found the little save button, i was just about to sing the holy song , then i see there is a red line of words says: \u0022you want save it? no bi\\*ch,giving up your awesome mods first. \u0022\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Yup, another day, another sad man.  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E PS:if there is any another way I can make this right, please  do tell me, and i\u0027ll be really grateful and  buy you a drink!\n\u003E \n\nFind the .cfg overriding the scatterer config and make your changes there"},{"CreatedByName":"jebycheek","CreatedById":221190,"CreatedDateTime":"2022-05-27T16:55:50Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Find the .cfg overriding the scatterer config and make your changes there\n\u003E \n\nThanks,I managed to find the  .cfg in Scatterer/config/Planets/kerbin/atmo.cfg  and I have changed the texture  parameters to 1.0 \uFF0Cbut still,It only works without  modulemanager patch , now I\u0027m very curious about how does it remains the same  wrong factors even the source has been changed."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-05-27T17:02:22Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, jebycheek said:\n\u003E \n\u003E \n\u003E Thanks,I managed to find the  .cfg in Scatterer/config/Planets/kerbin/atmo.cfg  and I have changed the texture  parameters to 1.0 \uFF0Cbut still,It only works without  modulemanager patch , now I\u0027m very curious about how does it remains the same  wrong factors even the source has been changed.\n\u003E \n\nBecause that\u0027s not the one overriding it, look in a different folder, if you have a visual pack installed look there"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-05-27T23:18:03Z","Content":"Hello [@jebycheek](https://forum.kerbalspaceprogram.com/index.php?/profile/221190-jebycheek/), you can take look to my config. May be it will help you to understand how to apply change over a visual pack. Or if you don\u2019t want to bother with this, you can simply download and use it. My config is based on Astronomer\u0027s Visual Pack, see how my Kerbin looks :\n\nSpoiler\n\n![kWFuR71.jpeg](https://i.imgur.com/kWFuR71.jpeg)\n\nYou can see my config here: [https://github.com/Vandest1/Optimal_Visual_Aspect](https://github.com/Vandest1/Optimal_Visual_Aspect)"},{"CreatedByName":"jebycheek","CreatedById":221190,"CreatedDateTime":"2022-05-28T01:18:57Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Because that\u0027s not the one overriding it, look in a different folder, if you have a visual pack installed look there\n\u003E \n\nProblem solved, i\u0027m such a rookie,thanks man."},{"CreatedByName":"Rakete","CreatedById":208801,"CreatedDateTime":"2022-05-29T20:01:22Z","Content":"I guess, i found an incompability between Scatterer and Waterfall. Sorry in advance.\n\nSee in the picture below. As soon, as Scatterer is installed (tested with Spectra and also with Astronomer\u0027s Pack - both the same) the plumes of waterfallized engines tend to show less beautiful flickering shadows around the end of the engine bells. It gets visible as you reach the upper atmosphere and beyond. Here you see the waterfallized Wolfhound engine from stock KSP.\n\n[@Knight of St John](https://forum.kerbalspaceprogram.com/index.php?/profile/172107-knight-of-st-john/) [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)\n\nRemoving Scatterer restores the flickering-shadow-free engine plumes by Knight of St. John using Waterfall.\n\n![wK4Fy8C.png](https://i.imgur.com/wK4Fy8C.png)\n\n**Edited \u003Ctime datetime=\u00222022-05-29T20:53:54Z\u0022 title=\u002205/29/2022 08:53  PM\u0022 data-short=\u00222 yr\u0022\u003EMay 29, 2022\u003C/time\u003E by Rakete**"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-05-30T20:53:38Z","Content":"Hello [@Rakete](https://forum.kerbalspaceprogram.com/index.php?/profile/208801-rakete/), this is a know issue. A workaround is to disable TAA (Tamporal AntiAliasing). You can use SMAA (Subpixel Morphological AntiAliasing) instead."},{"CreatedByName":"Anroalh","CreatedById":212745,"CreatedDateTime":"2022-05-30T21:03:32Z","Content":"I\u0027m getting a weird bright atmosphere with Scatterer in Kerbin (just using Eve Redux with BoulderCo configs and Scatterer last version). Just with everything maxed in graphical settings and Very High preset with Scatterer.\n\nFirst time getting these. Deleting scatterer folder along with cache and reinstalling again fixes it.\n\nMaybe it\u0027s a feature I didn\u00B4t know about or just a strange thing.\n\n![9df30f7485f1894d23cd94f62a72f29fc21e79e6](https://64.media.tumblr.com/49f26f604b12601f2257653ba0c10b68/8d525840e9758bd9-00/s1280x1920/9df30f7485f1894d23cd94f62a72f29fc21e79e6.pnj)\n\n![4f09ec192c076e77702b478e64c69a5a152c72b9](https://64.media.tumblr.com/2824875473afb2e020e796ab887f8fb7/8d525840e9758bd9-54/s640x960/4f09ec192c076e77702b478e64c69a5a152c72b9.pnj)"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2022-05-30T21:21:25Z","Content":"\u003E \n\u003E \n\u003E 14 minutes ago, Anroalh said:\n\u003E \n\u003E \n\u003E I\u0027m getting a weird bright atmosphere with Scatterer in Kerbin (just using Eve Redux with BoulderCo configs and Scatterer last version). Just with everything maxed in graphical settings and Very High preset with Scatterer.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E First time getting these. Deleting scatterer folder along with cache and reinstalling again fixes it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Maybe it\u0027s a feature I didn\u00B4t know about or just a strange thing.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![9df30f7485f1894d23cd94f62a72f29fc21e79e6](https://64.media.tumblr.com/49f26f604b12601f2257653ba0c10b68/8d525840e9758bd9-00/s1280x1920/9df30f7485f1894d23cd94f62a72f29fc21e79e6.pnj)](https://64.media.tumblr.com/49f26f604b12601f2257653ba0c10b68/8d525840e9758bd9-00/s1280x1920/9df30f7485f1894d23cd94f62a72f29fc21e79e6.pnj \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![4f09ec192c076e77702b478e64c69a5a152c72b9](https://64.media.tumblr.com/2824875473afb2e020e796ab887f8fb7/8d525840e9758bd9-54/s640x960/4f09ec192c076e77702b478e64c69a5a152c72b9.pnj)](https://64.media.tumblr.com/2824875473afb2e020e796ab887f8fb7/8d525840e9758bd9-54/s640x960/4f09ec192c076e77702b478e64c69a5a152c72b9.pnj \u0022Enlarge image\u0022)\n\u003E \n\nIn my case setting the \u0022tonemapper\u0022 option to 0 would make the atmosphere and clouds look extremely bright. Setting it to 1 or 2 fixes the problem. However in sure there are better options in scatterer in game configuration (Alt\u002BF10) but I dont have a lot of experience with it"}]}