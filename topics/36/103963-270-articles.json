{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":270,"Articles":[{"CreatedByName":"AlexTheNotSoGreat","CreatedById":144772,"CreatedDateTime":"2017-10-18T00:26:29Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E They do work. The issue is now Scatterer, it\u2019s how KSP implements their stock sun flare. You can fix it using kopernicus and creating a confit with this in it: \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     @Kopernicus:NEEDS[scatterer]\n\u003E     {\t   @Body:HAS[@Template:HAS[#name[Sun]]]{\t%ScaledVersion\t{\t\t%Light\t\t{\t\t\t%sunLensFlareColor = 0,0,0,0\t\t}\t}\n\u003E         \t}\n\u003E     }\n\u003E \n\nAlright, it works! thanks man."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-10-18T00:41:04Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, AlexTheNotSoGreat said:\n\u003E \n\u003E \n\u003E Alright, it works! thanks man.\n\u003E \n\nGlad you were able to figure that out with all of my typos lol geez, I should probably proof read before posting ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Damien212","CreatedById":120997,"CreatedDateTime":"2017-10-19T16:06:13Z","Content":"\u003E \n\u003E \n\u003E On 4/12/2015 at 9:37 AM, blackrack said:\n\u003E \n\u003E \n\u003E **Download link(KSP 1.3):** [http://spacedock.info/mod/141/scatterer](http://spacedock.info/mod/141/scatterer)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Download link(KSP 1.2.2):** [https://spacedock.info/mod/141/scatterer/download/0.0320](https://spacedock.info/mod/141/scatterer/download/0.0320)\n\u003E \n\nHi, when installing scatterer using the 0.0320 version from spacedock (0.0320 for compatibility with RSSVE), the in game window shows 0.0315. The 0.0320b version shows 0.0320b as it should but isn\u0027t compatible with RSSVE. Has the wrong version been uploaded to spacedock as 0.0320 or does 0.0320 show an incorrect no version when in game but is actually correct?\n\n**Edited \u003Ctime datetime=\u00222017-10-19T16:06:32Z\u0022 title=\u002210/19/2017 04:06  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 19, 2017\u003C/time\u003E by Damien212**"},{"CreatedByName":"Alexoff","CreatedById":145774,"CreatedDateTime":"2017-10-20T20:32:25Z","Content":"I\u0027m trying to use scatterer for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, there is some strange bug\n\n![2ywyJ.png](http://funkyimg.com/i/2ywyJ.png)\n\n![2ywyH.png](http://funkyimg.com/i/2ywyH.png)\n\n![2ywyK.png](http://funkyimg.com/i/2ywyK.png)\n\nOn the surface or LEO it works fine, but at high orbits scatterer blue sphere became smaller than Earth and it just dissapear near Moon. What can be wrong?"},{"CreatedByName":"BLN","CreatedById":182379,"CreatedDateTime":"2017-10-26T04:33:17Z","Content":"Hello everyone !   \n\nI just registered because after looking at a looooooot of pages here I didn\u0027t get the answer I\u0027m looking for (just as [@JBore](https://forum.kerbalspaceprogram.com/index.php?/profile/179686-jbore/) [@Epoxid](https://forum.kerbalspaceprogram.com/index.php?/profile/170132-epoxid/) [@Hemml](https://forum.kerbalspaceprogram.com/index.php?/profile/118419-hemml/) [@Rodger](https://forum.kerbalspaceprogram.com/index.php?/profile/153575-rodger/)) :  \n\nI have both problems :   \n\n- The Halo [https://ibb.co/jcWCgR](https://ibb.co/jcWCgR)\n\n- Blue terminator (instead of red / orange at sunset / sunrise).  [https://ibb.co/mPCeT6](https://ibb.co/mPCeT6)  \n\nAre there any fixes yet ? \n\nConfig: iMac 21,5\u0022 4k Retina 2017 (High end setup: i5 quad 3.4Ghz \u002B 8Gb RAM \u002B Radeon Pro 560 4Gb) running MacOS 10.13 High Sierra"},{"CreatedByName":"xXxP0t4t0MStRxXx","CreatedById":182119,"CreatedDateTime":"2017-10-26T12:55:37Z","Content":"I\u0027m having the same issue. I use a Macbook Pro that I just bought. I posted a couple weeks back but no one responded.\n\nImages: [https://imgur.com/gallery/XD5A7](https://imgur.com/gallery/XD5A7)"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-10-26T14:34:41Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, BLN said:\n\u003E \n\u003E \n\u003E Hello everyone !   \n\u003E \n\u003E I just registered because after looking at a looooooot of pages here I didn\u0027t get the answer I\u0027m looking for (just as [@JBore](https://forum.kerbalspaceprogram.com/index.php?/profile/179686-jbore/) [@Epoxid](https://forum.kerbalspaceprogram.com/index.php?/profile/170132-epoxid/) [@Hemml](https://forum.kerbalspaceprogram.com/index.php?/profile/118419-hemml/) [@Rodger](https://forum.kerbalspaceprogram.com/index.php?/profile/153575-rodger/)) :  \n\u003E \n\u003E I have both problems :   \n\u003E \n\u003E - The Halo [https://ibb.co/jcWCgR](https://ibb.co/jcWCgR)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E - Blue terminator (instead of red / orange at sunset / sunrise).  [https://ibb.co/mPCeT6](https://ibb.co/mPCeT6)  \n\u003E   \n\u003E \n\u003E Are there any fixes yet ? \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Config: iMac 21,5\u0022 4k Retina 2017 (High end setup: i5 quad 3.4Ghz \u002B 8Gb RAM \u002B Radeon Pro 560 4Gb) running MacOS 10.13 High Sierra\n\u003E \n\n\u003E \n\u003E \n\u003E 1 hour ago, xXxP0t4t0MStRxXx said:\n\u003E \n\u003E \n\u003E I\u0027m having the same issue. I use a Macbook Pro that I just bought. I posted a couple weeks back but no one responded.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Images: [https://imgur.com/gallery/XD5A7](https://imgur.com/gallery/XD5A7)\n\u003E \n\nNope no fixes yet. The issue is known to the dev, but seeing as he is taking a break (rightly so) there probably wont be a fix for a while."},{"CreatedByName":"Epoxid","CreatedById":170132,"CreatedDateTime":"2017-10-26T17:00:02Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Galileo said:\n\u003E \n\u003E \n\u003E Nope no fixes yet. The issue is known to the dev, but seeing as he is taking a break (rightly so) there probably wont be a fix for a while.\n\u003E \n\n[@BLN](https://forum.kerbalspaceprogram.com/index.php?/profile/182379-bln/) Got the tags... but no news or fixes from my side, either. I use the version with the floating tiles, on that version the sqrt-fix option works. The newer versions always halo for me, no matter what. Still using the mac ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"JFXAM","CreatedById":165446,"CreatedDateTime":"2017-10-27T16:38:00Z","Content":"The mod looks incredible, however, I found an issue when using BD Armory Continued. When I launch a craft equiped with a FLIR Targeting ball (A part from BDA that is a camera) and use said part, something really strange happens. On the camera screen, instead of showing what the camera would see, it blends togheter the external view with the camera\u0027s view. I found out that it was your mod which caused that by testing on a clean installation (only BD Armory and \u0022physics range extended\u0022, as it is a dependency) and the camera worked fine. However, when I added your mod, the camera was broken again. \n\nI have to point out that the same issue also happens with previous versions of BD Armory, where \u0022physics range extender\u0022 was not required (and not installed), so it has nothing to do with that mod.\n\nReproducing the issue is very easy; Make any type of vessel (rocket or plane), add a FLIR Targeting Ball and a weapon manager (although this last part is optional) then take off and use the camera by either right clicking on it and hitting enable, or by clicking on it in the Weapons Manager modules tab. Finally turn the FLIR camera around using the small arrow buttons on the window that will pop up and turn drag the game\u0027s camera by right clicking and dragging your mouse.\n\n[https://imgur.com/a/Hsnl4](https://imgur.com/a/Hsnl4)\n\nNote how the camera on top is pointing up.\n\nEdit: I forgot to mention that I\u0027m running version 1.3.0\n\n**Edited \u003Ctime datetime=\u00222017-10-27T16:47:23Z\u0022 title=\u002210/27/2017 04:47  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 27, 2017\u003C/time\u003E by JFXAM**"},{"CreatedByName":"A_name","CreatedById":134040,"CreatedDateTime":"2017-10-27T17:22:40Z","Content":"Can it be made so that the environment (on Kerbin at least) looks a little bit more \u0022crisp\u0022 and less hazy? I have no idea how to work with the configs, so sorry if this is an obvious question.\n\nAlso, is there a way to make the sun look less like a fried egg? I don\u0027t have a screenshot right now but what I mean is that there\u0027s a very noticeable boundary between the \u0022central circle\u0022 and the \u0022halo\u0022 part of the sun, so that it looks like the yolk, and then the halo part ends too sharply so it looks like the white part of a fried egg.\n\nThank you in advance for the help!"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-10-27T17:27:30Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, A\\_name said:\n\u003E \n\u003E \n\u003E Can it be made so that the environment (on Kerbin at least) looks a little bit more \u0022crisp\u0022 and less hazy? I have no idea how to work with the configs, so sorry if this is an obvious question.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also, is there a way to make the sun look less like a fried egg? I don\u0027t have a screenshot right now but what I mean is that there\u0027s a very noticeable boundary between the \u0022central circle\u0022 and the \u0022halo\u0022 part of the sun, so that it looks like the yolk, and then the halo part ends too sharply so it looks like the white part of a fried egg.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thank you in advance for the help!\n\u003E \n\nThere should be a parameter in the cfgs called \u201Cpost-processing\u201D or something along those lines. Lower that value for less \u201Chaze\u201D. \n\nAs for your sun issue, post a screenshot because I have no idea what you are talking about lol"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-27T18:09:11Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, JFXAM said:\n\u003E \n\u003E \n\u003E The mod looks incredible, however, I found an issue when using BD Armory Continued. When I launch a craft equiped with a FLIR Targeting ball (A part from BDA that is a camera) and use said part, something really strange happens. On the camera screen, instead of showing what the camera would see, it blends togheter the external view with the camera\u0027s view. I found out that it was your mod which caused that by testing on a clean installation (only BD Armory and \u0022physics range extended\u0022, as it is a dependency) and the camera worked fine. However, when I added your mod, the camera was broken again.\n\u003E \n\nA similar problem happens with external cameras in RasterPropMonitor.  It appears (in the RPM case, at least) that scatterer is doing \u0022something\u0022 during the render, but it\u0027s not using the external camera\u0027s parameters.  Instead, it looks like it\u0027s using the main game camera\u0027s parameters (like something in the shader wasn\u0027t updated based on the external camera\u0027s Camera settings, perhaps)."},{"CreatedByName":"Damien212","CreatedById":120997,"CreatedDateTime":"2017-10-27T21:02:06Z","Content":"Has anyone at all got a copy of Scatterer 0.0320? The spacedock download for 0.0320, while being labelled as 0.0320 is actually 0.0315 when you open it in game."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-10-28T12:34:19Z","Content":"Hey guys, to ease my task of tracking and fixing issues, I recommend using GitHub\u0027s issue section: [https://github.com/LGhassen/Scatterer/issues](https://github.com/LGhassen/Scatterer/issues)\n\nPlease provide logs and reproduction issues for everything: [https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/](https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/)\n\nI will update the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E soon to say this.\n\n\u003E \n\u003E \n\u003E On 02/08/2017 at 11:06 AM, Galileo said:\n\u003E \n\u003E \n\u003E Very known, but not really an issue, more like a limitation. Scatterer can only render perfect sphere atmospheres, leaving bodies with greater distortion with bits and pieces popping through. Raising the atmo effect looks worse, leaving a gap between the atmo effect and the surface. Gotta love unity.\n\u003E \n\n\u003E \n\u003E \n\u003E On 02/08/2017 at 8:03 PM, blorgon said:\n\u003E \n\u003E \n\u003E Well but what about those two screenshots I posted? In the first one the atmosphere is behaving how you describe (and how I expected, too, since you can clearly see that the \u0022ring\u0022 starts at what appears to be Duna\u0027s sea level), but the second one shows the atmosphere behaving a little closer to how it should just by making a very small change in camera angle. Is it still Unity that is preventing the behavior in the second screenshot from being consistent, or does it have to do with the way scatterer draws the atmosphere relative to the game camera?\n\u003E \n\nThis happens because for local space objects I use the depth buffer which lets me know accurately where the terrain is and how to apply the effect. For scaled space objects no such thing is used and the shader assumes everything is a perfect ball, so for \u0022bumpy\u0022 scaled space objects like Duna, mountains seem to go behind and out of the atmosphere and the transition between scaled space and local space looks weird.\n\nI have a fix in mind but no idea when I\u0027ll have it in yet.\n\n\u003E \n\u003E \n\u003E On 05/08/2017 at 5:57 PM, Gameslinx said:\n\u003E \n\u003E \n\u003E The problem is I don\u0027t want the scatterer ocean, because the \u0027ocean\u0027 is lava! (It worked on the last scatterer but not when water refraction is enabled in this version). Disabling the refraction worked - i don\u0027t reaaaally like the effect because it creates strange borders in lakes.\n\u003E \n\nI will investigate this.\n\n\u003E \n\u003E \n\u003E On 06/08/2017 at 9:56 AM, Tynton said:\n\u003E \n\u003E \n\u003E I noted this issue whenever I enabled lensflares for stars distant from the Sun. The lensflare moves away from the star in question and will teleport back into place, this is more apparent when timewarped. I doubted anyone else has mentioned this, but I would like for a workaround, nonetheless here\u0027s a reference image\u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedid=\u0022embed2122243598\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026module=system\u0026controller=embed\u0026url=http://imgur.com/a/0Jwn7\u0022 style=\u0022height:12px;\u0022\u003E\u003C/iframe\u003E\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The dark brown dot above the star is the Sun, by the way.\n\u003E \n\nCan you make a video of the issue?\n\n\u003E \n\u003E \n\u003E On 26/08/2017 at 1:36 PM, Singing Boyo said:\n\u003E \n\u003E \n\u003E Running this at 4k with AVP repackaged, and it looks great!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E One quick question - at least at 4k, things end up looking \u0027banded\u0027, especially at the terminator. It\u0027s somewhat visible in other people\u0027s screenshots as well, but basically I think something in the interpolation gives me noticeable stripes of color, rather than a smooth gradient. Is there something I can tweak to improve this?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E To be honest, I\u0027m not sure if the cause is scatterer, AVP, or something to do with stock, but I figure that if there is a setting that will help it\u0027s probably scatterer-related ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nI noticed this issue since the beginning, no fix for now.\n\n\u003E \n\u003E \n\u003E On 04/09/2017 at 2:07 AM, Drew Kerman said:\n\u003E \n\u003E \n\u003E it\u0027s not a sure bet, but given that blackrack has posted WIP of planetshine, which could require handling multiple light sources, it may be possible. I doubt he\u0027s treating the sun as a single light source and doing reflection calculations to get the amount of light bounced onto the farside of a moon from a planet like Jool. More likely is that Jool will have its own value for light output, thus be treated as a separate lighting source.\n\u003E \n\nCorrect, in my opinion this gives the modders more control over the final look.\n\n\u003E \n\u003E \n\u003E On 06/09/2017 at 12:50 PM, chukovskiy said:\n\u003E \n\u003E \n\u003E **Update. \u0022Ocean: Refraction Effects\u0022 in the main menu scatterer settings causes the problem.**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have an issue with violent\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u0022[EXC 13:07:44.728] NullReferenceException: Object reference not set to an instance of an object  \n\u003E \n\u003E     scatterer.RefractionCamera.OnPreCull ()\u0022\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E exception spam after loading/switching to a vessel on Duna. I\u0027ve also tested Eve and Laythe so far and they work with no issues.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Reproduction: start a new game -\u003E build 3-part canister with engine -\u003E cheat-land it on Duna. At this point everything is OK. If you quicksave-quickload now, the problem will appear.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Switching to Duna-vessel also causes the problem.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP.log: [https://drive.google.com/open?id=0B-CeLSG9s3dCUTNxaWYyaEpQTkE](https://drive.google.com/open?id=0B-CeLSG9s3dCUTNxaWYyaEpQTkE) (the only one I managed to find)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E GameData folder:\n\u003E \n\ni will investigate this, thanks for the report.\n\n\u003E \n\u003E \n\u003E On 17/09/2017 at 6:39 PM, SpaceSmith said:\n\u003E \n\u003E \n\u003E Here you go,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Hope I did this right. [https://imgur.com/a/C4k7x](https://imgur.com/a/C4k7x)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If you can\u0027t see the outline, you\u0027ll have to \u0027inspect image\u0027 so you can see it larger, it really shows then.\n\u003E \n\nThis is caused by depth buffer aliasing and a long-running issue. I think I was able to fix this before by playing with transparency supersampling settings in the Nvidia Inspector, If it still works I will post a little guide on how to do the same thing, for AMD no idea though but I assume a similar setting might exist.\n\n\u003E \n\u003E \n\u003E On 27/09/2017 at 2:35 PM, 15Redstones said:\n\u003E \n\u003E \n\u003E I like the ocean, but for some reason instead of replacing the stock ocean it now just displays both which gets weird...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://i.imgur.com/UE9O34m.jpg](https://i.imgur.com/UE9O34m.jpg)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://i.imgur.com/ZmApKVV.jpg](https://i.imgur.com/ZmApKVV.jpg)\n\u003E \n\nPlease provide logs and reproduction steps:\n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4792159792\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/\u0026do=embed\u0022 style=\u0022height:207px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\n\u003E \n\u003E \n\u003E On 10/10/2017 at 9:08 AM, Drew Kerman said:\n\u003E \n\u003E \n\u003E so has blackrack just taken a breather? I know he got a job, possibly along the same line of work so that makes hobby stuff hard. Totally understandable. Just curious\n\u003E \n\nYeha pretty much, I work as a software developer and working on the mod/fixing bugs outside of work can feel like a drag sometimes.\n\n\u003E \n\u003E \n\u003E On 20/10/2017 at 10:32 PM, Alexoff said:\n\u003E \n\u003E \n\u003E I\u0027m trying to use scatterer for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, there is some strange bug\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E On the surface or LEO it works fine, but at high orbits scatterer blue sphere became smaller than Earth and it just dissapear near Moon. What can be wrong?\n\u003E \n\nNever saw this before and tbh I don\u0027t know if I have time to spend on \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E compatibility at this point, maybe later on.\n\n\u003E \n\u003E \n\u003E On 26/10/2017 at 6:33 AM, BLN said:\n\u003E \n\u003E \n\u003E Hello everyone !   \n\u003E \n\u003E I just registered because after looking at a looooooot of pages here I didn\u0027t get the answer I\u0027m looking for (just as [@JBore](https://forum.kerbalspaceprogram.com/index.php?/profile/179686-jbore/) [@Epoxid](https://forum.kerbalspaceprogram.com/index.php?/profile/170132-epoxid/) [@Hemml](https://forum.kerbalspaceprogram.com/index.php?/profile/118419-hemml/) [@Rodger](https://forum.kerbalspaceprogram.com/index.php?/profile/153575-rodger/)) :  \n\u003E \n\u003E I have both problems :   \n\u003E \n\u003E - The Halo [https://ibb.co/jcWCgR](https://ibb.co/jcWCgR)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E - Blue terminator (instead of red / orange at sunset / sunrise).  [https://ibb.co/mPCeT6](https://ibb.co/mPCeT6)  \n\u003E   \n\u003E \n\u003E Are there any fixes yet ? \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Config: iMac 21,5\u0022 4k Retina 2017 (High end setup: i5 quad 3.4Ghz \u002B 8Gb RAM \u002B Radeon Pro 560 4Gb) running MacOS 10.13 High Sierra\n\u003E \n\nFor the halo: Try toggling the alternateSQRT option in the main menu, if it doesn\u0027t work, go back a couple scatterer versions and try the same thing, if it works I will just revert it to how it was before.\n\nFor the Blue terminator, make sure you have \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration ON and using a compatible version of \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E (eg. the new waz\u0027s builds, not the old \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E 7-4)\n\n\u003E \n\u003E \n\u003E On 26/10/2017 at 2:55 PM, xXxP0t4t0MStRxXx said:\n\u003E \n\u003E \n\u003E I\u0027m having the same issue. I use a Macbook Pro that I just bought. I posted a couple weeks back but no one responded.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Images: [https://imgur.com/gallery/XD5A7](https://imgur.com/gallery/XD5A7)\n\u003E \n\nSame as above.\n\n\u003E \n\u003E \n\u003E 18 hours ago, MOARdV said:\n\u003E \n\u003E \n\u003E A similar problem happens with external cameras in RasterPropMonitor.  It appears (in the RPM case, at least) that scatterer is doing \u0022something\u0022 during the render, but it\u0027s not using the external camera\u0027s parameters.  Instead, it looks like it\u0027s using the main game camera\u0027s parameters (like something in the shader wasn\u0027t updated based on the external camera\u0027s Camera settings, perhaps).\n\u003E \n\nProbably the postprocessing shader doing something on that camera and using the main scatterer depth buffer (which is fixed to the main camera), might be able to fix this if I put some time into it."},{"CreatedByName":"snkiz","CreatedById":176192,"CreatedDateTime":"2017-10-29T18:48:08Z","Content":"wanted to share this, It was a kerbin eclipse with SiFi \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E.\n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7213191040\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/151190-13sci-fi-visual-enchancements-v-13-high-performance-alt-to-sve/\u0026do=embed\u0026comment=3206515\u0026embedComment=3206515\u0026embedDo=findComment\u0022 style=\u0022height:264px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\nIt looked good but not quite right."},{"CreatedByName":"Marcus Helios","CreatedById":114690,"CreatedDateTime":"2017-10-29T21:35:39Z","Content":"Lights don\u0027t illuminate the surface during an eclipse... Just landed on the Mun with kerbin blocking out the sun, but my landing lights only illuminated my ship, not the ground, the only things that were not completely black were the scattered rocks and the dust kicked up by my engines...  \n\nI\u0027ll just have to disable the eclipse for now, \u0027radar altitude only\u0027 landings are pretty scary when you are surrounded by the black of the sky and the black of the ground..."},{"CreatedByName":"JFXAM","CreatedById":165446,"CreatedDateTime":"2017-10-31T12:56:09Z","Content":"\u003E \n\u003E \n\u003E On 27/10/2017 at 8:09 PM, MOARdV said:\n\u003E \n\u003E \n\u003E A similar problem happens with external cameras in RasterPropMonitor.  It appears (in the RPM case, at least) that scatterer is doing \u0022something\u0022 during the render, but it\u0027s not using the external camera\u0027s parameters.  Instead, it looks like it\u0027s using the main game camera\u0027s parameters (like something in the shader wasn\u0027t updated based on the external camera\u0027s Camera settings, perhaps).\n\u003E \n\nAny way to fix it?"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-10-31T16:23:13Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, JFXAM said:\n\u003E \n\u003E \n\u003E Any way to fix it?\n\u003E \n\n\u003E \n\u003E \n\u003E On 10/28/2017 at 8:34 AM, blackrack said:\n\u003E \n\u003E \n\u003E Probably the postprocessing shader doing something on that camera and using the main scatterer depth buffer (which is fixed to the main camera), might be able to fix this if I put some time into it.\n\u003E"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-10-31T17:26:09Z","Content":"\u003E \n\u003E \n\u003E On 29/10/2017 at 10:35 PM, Marcus Helios said:\n\u003E \n\u003E \n\u003E Lights don\u0027t illuminate the surface during an eclipse... Just landed on the Mun with kerbin blocking out the sun, but my landing lights only illuminated my ship, not the ground, the only things that were not completely black were the scattered rocks and the dust kicked up by my engines...  \n\u003E \n\u003E I\u0027ll just have to disable the eclipse for now, \u0027radar altitude only\u0027 landings are pretty scary when you are surrounded by the black of the sky and the black of the ground...\n\u003E \n\nTake this to the \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E thread. Scatterer doesn\u0027t do eclipse effects in local space."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-10-31T18:01:48Z","Content":"\u003E \n\u003E \n\u003E On 10/29/2017 at 4:35 PM, Marcus Helios said:\n\u003E \n\u003E \n\u003E Lights don\u0027t illuminate the surface during an eclipse... Just landed on the Mun with kerbin blocking out the sun, but my landing lights only illuminated my ship, not the ground, the only things that were not completely black were the scattered rocks and the dust kicked up by my engines...  \n\u003E \n\u003E I\u0027ll just have to disable the eclipse for now, \u0027radar altitude only\u0027 landings are pretty scary when you are surrounded by the black of the sky and the black of the ground...\n\u003E \n\nOr, call me crazy, but don\u2019t land during an eclipse??????"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-11-02T18:59:49Z","Content":"\u003E \n\u003E \n\u003E On 06/09/2017 at 12:50 PM, chukovskiy said:\n\u003E \n\u003E \n\u003E **Update. \u0022Ocean: Refraction Effects\u0022 in the main menu scatterer settings causes the problem.**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have an issue with violent\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u0022[EXC 13:07:44.728] NullReferenceException: Object reference not set to an instance of an object  \n\u003E \n\u003E     scatterer.RefractionCamera.OnPreCull ()\u0022\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E exception spam after loading/switching to a vessel on Duna. I\u0027ve also tested Eve and Laythe so far and they work with no issues.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Reproduction: start a new game -\u003E build 3-part canister with engine -\u003E cheat-land it on Duna. At this point everything is OK. If you quicksave-quickload now, the problem will appear.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Switching to Duna-vessel also causes the problem.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP.log: [https://drive.google.com/open?id=0B-CeLSG9s3dCUTNxaWYyaEpQTkE](https://drive.google.com/open?id=0B-CeLSG9s3dCUTNxaWYyaEpQTkE) (the only one I managed to find)\n\u003E \n\nCan you test if this fixes your issue?\n\n[https://mega.nz/#!XZQ2iK4Z!tbLiIlMAr1UUqz50Kndk8BPq52I9gx9rHrbxyvxvNCc](https://mega.nz/#!XZQ2iK4Z!tbLiIlMAr1UUqz50Kndk8BPq52I9gx9rHrbxyvxvNCc)\n\nEdited:\n\n[@Poodmund](https://forum.kerbalspaceprogram.com/index.php?/profile/128643-poodmund/) Can you test as well? I think this should fix [https://github.com/LGhassen/Scatterer/issues/28](https://github.com/LGhassen/Scatterer/issues/28)\n\n\u003E \n\u003E \n\u003E On 05/08/2017 at 5:16 PM, Gameslinx said:\n\u003E \n\u003E \n\u003E Heya! I have this code in PlanetList for a custom Laythe ocean:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     \t\tItem\t{\t\tcelestialBodyName = Borea\t\ttransformName = Borea\t\tloadDistance = 100000000\t\tunloadDistance = 200000000\t\thasOcean = False\t\tusesCloudIntegration = False\t\tmainSunCelestialBody = Helios\t}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     NullReferenceException: Object reference not set to an instance of an object\n\u003E       at scatterer.RefractionCamera.OnPreCull () [0x00000] in  unknown\u003E:0 \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This error only happens whilst the planet is loaded. I removed all the others except this and the error persists. I removed this planet and the error goes away - it\u0027s definitely this planet.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E As you can see it says \u0027RefractionCamera.OnPreCull ()\u0027. This is definitely related to the lack of an ocean. There is no ocean config for this planet since \u0022hasOcean\u0022 is false.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E When I disable ocean refraction in the scatterer config, this error goes away.\n\u003E \n\nSame as above\n\n**Edited \u003Ctime datetime=\u00222017-11-02T19:08:23Z\u0022 title=\u002211/02/2017 07:08  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 2, 2017\u003C/time\u003E by blackrack**"},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2017-11-02T19:13:55Z","Content":"\u003E \n\u003E \n\u003E 12 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E [@Poodmund](https://forum.kerbalspaceprogram.com/index.php?/profile/128643-poodmund/) Can you test as well? I think this should fix [https://github.com/LGhassen/Scatterer/issues/28](https://github.com/LGhassen/Scatterer/issues/28)\n\u003E \n\nCurrently in a predicament where I do not have access to my PC due to flooding but as soon as I do, I\u0027ll be sure to check it out. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) ... and no, that wasn\u0027t a cue for a Scatterer \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E glitch joke. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-11-02T19:37:20Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, Poodmund said:\n\u003E \n\u003E \n\u003E Currently in a predicament where I do not have access to my PC due to flooding but as soon as I do, I\u0027ll be sure to check it out. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) ... and no, that wasn\u0027t a cue for a Scatterer \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E glitch joke. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nHope all is well on your side"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-11-04T15:51:06Z","Content":"I made a few new bug fixes:\n\n-Fixed black sky and disappearing ocean in space center view when reverting sometimes (I hope this also fixes the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E flood bug, so need testers)\n\n-Fixed Ocean \u0022appearing\u0022 on moon and other atmosphere-less bodies in certain conditions\n\n-Properly disable stock sunflares on the new version\n\n-This also includes the refractions nullref-spam fix from above\n\nTesters needed:\n\n[https://github.com/LGhassen/Scatterer/raw/a6ae4b4e2d6ffb254d444876388896dc5617951c/scatterer/bin/Release/scatterer.dll](https://github.com/LGhassen/Scatterer/raw/a6ae4b4e2d6ffb254d444876388896dc5617951c/scatterer/bin/Release/scatterer.dll)\n\n**Edited \u003Ctime datetime=\u00222017-11-04T15:52:16Z\u0022 title=\u002211/04/2017 03:52  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 4, 2017\u003C/time\u003E by blackrack**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-11-04T16:11:25Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E I made a few new bug fixes:\n\u003E \n\nSo far so good. Ill keep testing over the weekend\n\nI\u0027m sure you are still tracking some of the other little bugs from the last release. If you need a refresher just ask ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) \n\n**Edited \u003Ctime datetime=\u00222017-11-04T16:14:47Z\u0022 title=\u002211/04/2017 04:14  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 4, 2017\u003C/time\u003E by Galileo**"}]}