{"TopicId":43480,"ForumId":36,"TopicTitle":"ISA MapSat \u0026quot;Legacy\u0026quot; discussion","CreatedByName":"Benzschwagel","CreatedById":75790,"CreatedDateTime":"2013-08-19T01:19:47Z","PageNum":3,"Articles":[{"CreatedByName":"Lombax","CreatedById":78407,"CreatedDateTime":"2013-08-23T15:02:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Capt\u0022 data-cite=\u0022Capt\u0022\u003E\u003Cdiv\u003EThat may be a fun fact\u0027 date=\u0027 but the real fact is that Innsewerants still retains the rights to his code. And in the absence of specific permission, no permission is the default. So until Innsewerants says otherwise, we will not allow any derivatives of his work on our network.\u003Cp\u003EThis is not to say someone can\u0027t create and build a similar add-on, only that it can\u0027t contain code from ISA MapSat.\u003C/p\u003E\u003Cp\u003ECheers!\u003C/p\u003E\u003Cp\u003E[b\u0027]Capt\u0027n Skunky\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#800080;\u0022\u003E\u003Cstrong\u003EKSP Community Manager\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust to make sure, ISA Mapsat isn\u0027t supposed to work on the current build of ksp is it? It makes the game lag horrendously for me when i try to take off. The items also don\u0027t have the right hitbox when it comes to placement on my ships. I have to click way off to the left to actually select ISA Mapsat items.\u003C/p\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-08-23T17:36:10Z","Content":"\n\u003Cp\u003EAs far as I\u0027m aware, Mapsat works just fine in the current release, when installed correctly and when using the latest development version. It\u0027s a memory hog, but that was true in the previous KSP build as well.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-08-23T18:32:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimberly\u0022 data-cite=\u0022Kimberly\u0022\u003E\u003Cdiv\u003EAs far as I\u0027m aware, Mapsat works just fine in the current release, when installed correctly and when using the latest development version. It\u0027s a memory hog, but that was true in the previous KSP build as well.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPardon me, but as far as I\u0027m aware, \u0022it\u0027s a memory hog\u0022 to the point of total unusability with any reasonable amount of other mods.\u003C/p\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-08-23T19:50:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EPardon me, but as far as I\u0027m aware, \u0022it\u0027s a memory hog\u0022 to the point of total unusability with any reasonable amount of other mods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEh, that\u0027s subjective.\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2013-08-23T20:23:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimberly\u0022 data-cite=\u0022Kimberly\u0022\u003E\u003Cdiv\u003EEh, that\u0027s subjective.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that was his point. Your assessment of it as not being a memory hog is every bit as subjective as his assessment of it being a memory hog.\u003C/p\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-08-23T21:39:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022johnsonwax\u0022 data-cite=\u0022johnsonwax\u0022\u003E\u003Cdiv\u003EI think that was his point. Your assessment of it as not being a memory hog is every bit as subjective as his assessment of it being a memory hog.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, I said that it worked except that it was a memory hog, which is objectively true. And he says that it you can\u0027t use with a \u0022reasonable\u0022 amount of mods and is therefore totally unusable, which is subjective.\u003C/p\u003E\n"},{"CreatedByName":"Benzschwagel","CreatedById":75790,"CreatedDateTime":"2013-08-23T23:14:36Z","Content":"\n\u003Cp\u003Eand I\u0027m still not sure if I even care about that... (Tomaeto, tomahto, and trolling for good measure)\u003C/p\u003E\u003Cp\u003EAnyways, back to the discussion at hand, a bunch of you were discussing the possiblity of having something \u0022prediscover\u0022 the terrain so that it could then be tagged \u0022on\u0022 during a scan. I was actually thinking of something like that while going through the earlier posts, and then noticed that people started mentioning it. My thought on it was to have something setup so that the user could select something that was listed somewhere in it\u0027s code as a planetary body (planet, moon, asteroid, orbiting land mass, etc...), whether it be stock or mod, and they could click a button that would then do a preparatory \u0022prescan\u0022 to collect data on the body which would have an \u0022off\u0022 tag by default. Scanning said body with a mapsat would, of course, cause those tags to be turned on as the mapsat passes over them. The process could run passive in the background, but some might prefer active in the foreground with a possible progress bar or percentage and the name of the celestial body being prescanned so they knew when the one they cared about was finished. Maybe even a button that reads \u0022scan all planetary bodies now\u0022, something that would be useful for new starters, version or update changes to large numbers of planets, or mass corrupted scan results (not sure why this would happen, but who knows, it could)...\u003C/p\u003E\u003Cp\u003EExample:\u003C/p\u003E\u003Cp\u003EUser sets Kerbin to be prescanned actively in foreground. Upon completion, user sets all other celestial bodies to be scanned passively in the background. User proceeds to build mapsat (or load, for those of us that aren\u0027t artistically inclined, hint hint, that means someone build me a mapsat, lol \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E ). User launches several mapsats in orbit around Kerbin, which are all \u0022gathering data\u0022 in unison (switching tags to \u0022on\u0022). User then checks GUI to see if the rest of the planets/moons have been scanned. User notices that Mun prescan is complete, but a few far off moons are still waiting to be prescanned. User proceeds to send mapsats to the Mun. User then sends a mapsat to a far off moon not realizing it has not yet been prescanned, but KSP doesn\u0027t crash because mapsat sets location polygons (which have no map data, but are still in existence) to \u0022on\u0022. Prescan finishes on that moon, mapsat scanned areas now display data without having to be rescanned again. User exits KSP. Overnight, Squad updates and changes terrain features on nearly all celestial bodies. User opens KSP saved game and immediately exclaims, \u0022WTF!!!\u0022 User then remembers the \u0022scan all planetary bodies now\u0022 button, and waits patiently (yeah, right \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E ) for prescan to complete. Upon completion, user checks current maps and notices that all previously scanned polygons are still set to \u0022on.\u0022 User lets out a sigh of relief and continues playing.\u003C/p\u003E\u003Cp\u003EHope this helps for ideas. By the way, according to this example, the layout of polygons across a planet\u0027s surface and the \u0022prescanning\u0022 of said planet would probably be 2 different threads.\u003C/p\u003E\u003Cp\u003EBenz\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-23T23:17:15Z\u0022 title=\u002208/23/2013 11:17  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 23, 2013\u003C/time\u003E by Benzschwagel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2013-08-23T23:19:56Z","Content":"\n\u003Cp\u003EAnother consideration, to add to realism but which takes this project in a somewhat different direction:\u003C/p\u003E\u003Cp\u003EWe don\u0027t actually map bodies in the manner that is being described here. We start with telescopes, and we get reasonably good maps, at least of the bits we can see, just from there. I\u0027d like my telescopes to be useful, so what are the capabilities of combining the mapping operation with one of the telescope dlls? They\u0027d give you a low-resolution map quickly, with a better telescope or longer time observing give you at most a medium-resolution map, and then with a satellite and active scanner you could get the high resolution ones with all of the goodies (anomalies, etc.).\u003C/p\u003E\n"},{"CreatedByName":"GavinZac","CreatedById":68719,"CreatedDateTime":"2013-08-24T16:54:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Britich\u0022 data-cite=\u0022Britich\u0022\u003E\u003Cdiv\u003EFun Fact, according to real copyright laws any mod is owned by the IP holder, in this case its Squad.\u003Cp\u003ESo someone could take this mod over without even needing to ask.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs to why this is incorrect - this would be true if this was a genuine \u0027modification\u0027 of Squad\u0027s work - a dodgy config edit of a stock part, for example. However, this is an \u0027add-on\u0027 or \u0027plug-in\u0027 - a separate piece of code that is built to be compatible with something, not built \u0027from\u0027 or \u0027of\u0027 it. As KSP is designed to load these addons of a certain specification and none else, Crater\u0027s analogy can be pushed even further - this is more like suggesting that Microsoft own the copyright to my monthly report because it includes an Excel graph.\u003C/p\u003E\n"},{"CreatedByName":"GavinZac","CreatedById":68719,"CreatedDateTime":"2013-08-24T17:03:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Benzschwagel\u0022 data-cite=\u0022Benzschwagel\u0022\u003E\u003Cdiv\u003E User then remembers the \u0022scan all planetary bodies now\u0022 button, and waits patiently (yeah, right \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E ) for prescan to complete.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is my only fear in your scenario. 150 pages of \u0022hey whats going on I\u0027ve got a really old version of MapSat installed\u0022 makes me fear there\u0027d be 150 pages of \u0022why are my maps out of date?\u0022. A good UI would assuage this, I guess.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-08-25T22:32:52Z","Content":"\n\u003Cp\u003Emapping, hexes, detail cpu time.\u003C/p\u003E\u003Cp\u003EAs you pass over a hex, sample points based on something like a fractal code so you get detail like a jpeg loading slowly over dial up. heavily pixellated at first then more and more detailed as you scan more points. If you want a smaller memory footprint, do faster scans at lower detail. overscan areas of interest for more detail but more memory usage.\u003C/p\u003E\u003Cp\u003Eonly save scanned data, not every pixel st the start.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2013-08-26T01:39:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John FX\u0022 data-cite=\u0022John FX\u0022\u003E\u003Cdiv\u003EAs you pass over a hex, sample points based on something like a fractal code so you get detail like a jpeg loading slowly over dial up. heavily pixellated at first then more and more detailed as you scan more points. If you want a smaller memory footprint, do faster scans at lower detail. overscan areas of interest for more detail but more memory usage.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, this is what I had in mind with the recursively subdivided geodesic. I\u0027ll need to modify the grid code to at least support translation between different subdivision levels, and I might even need to come up with a completely new coordinate system.\u003C/p\u003E\u003Cp\u003EI don\u0027t really think the PQS queries will be a problem. If anything, I\u0027d defer queries until the data is actually needed rather than preemptively querying.\u003C/p\u003E\n"},{"CreatedByName":"GavinZac","CreatedById":68719,"CreatedDateTime":"2013-08-26T10:00:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EYeah, this is what I had in mind with the recursively subdivided geodesic. I\u0027ll need to modify the grid code to at least support translation between different subdivision levels, and I might even need to come up with a completely new coordinate system.\u003Cp\u003EI don\u0027t really think the PQS queries will be a problem. If anything, I\u0027d defer queries until the data is actually needed rather than preemptively querying.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat do we need to do, to get the ball rolling? I\u0027m familiar with C# but mostly in a web development context; I might be more useful for tweaks and so on. I can understand ISAMapSat\u0027s code for the most part, but I am not familiar with the Unity libraries and/or most of KSP\u0027s libraries.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2013-08-26T14:39:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GavinZac\u0022 data-cite=\u0022GavinZac\u0022\u003E\u003Cdiv\u003EWhat do we need to do, to get the ball rolling?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wrote up some notes last night on a rewrite of the grid code. I\u0027ve worked out some of the cell enumeration algorithms, but I\u0027ve not yet tackled indexing.\u003C/p\u003E\u003Cp\u003EIf someone wants to write code, they could come up with a few coloring routines, but I think it\u0027s a bit early to be writing much code.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2013-08-30T07:10:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EPardon me, but as far as I\u0027m aware, \u0022it\u0027s a memory hog\u0022 to the point of total unusability with any reasonable amount of other mods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you clean the duplicate entries out of your artifacts.dat file, as detailed here: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/9396-0-20-ISA-MapSat-4-0-Dev-Build?p=420617\u0026amp;viewfull=1#post420617\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/9396-0-20-ISA-MapSat-4-0-Dev-Build?p=420617\u0026amp;viewfull=1#post420617\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis should reduce the memory usage, possibly quite drastically (it really gets a LOT of duplicates.)\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-08-30T08:23:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiron\u0022 data-cite=\u0022Tiron\u0022\u003E\u003Cdiv\u003EDid you clean the duplicate entries out of your artifacts.dat file... \u003C/div\u003E\u003C/blockquote\u003E \u003Cp\u003EYes, I wrote a script to do it, and people for whom MapSat somehow works without making the game unplayable have annoyed me with this and associated advice (much of it bordering on voodoo) many times by now. \u003C/p\u003E\u003Cp\u003EMapSat as it is only works for suitably small quantities of \u0022works\u0022 and that suitably small is quite insufficient for me.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2013-08-30T09:09:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EYes, I wrote a script to do it, and people for whom MapSat somehow works without making the game unplayable have annoyed me with this and associated advice (much of it bordering on voodoo) many times by now. \u003Cp\u003EMapSat as it is only works for suitably small quantities of \u0022works\u0022 and that suitably small is quite insufficient for me.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is probably because many of us are seeing it work nearly perfectly, myself included. And we don\u0027t understand why you would say that it doesn\u0027t, since you\u0027re really not making it clear what\u0027s wrong with it (Other than \u0027the memory use is too high\u0027, which I\u0027m going to quantify as soon as I finish mapping Dres.) And thus conclude you\u0027ve probably botched up your install somehow.\u003C/p\u003E\u003Cp\u003ERegardless, my KSP is only using 2.6GB right now (a bit higher than the normal 2.4GB), but then I don\u0027t really use parts packs. Because so many of them are imbalanced...and the textures eat a lot of memory. among other issues.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-30T09:13:06Z\u0022 title=\u002208/30/2013 09:13  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 30, 2013\u003C/time\u003E by Tiron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-08-30T13:21:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiron\u0022 data-cite=\u0022Tiron\u0022\u003E\u003Cdiv\u003EThis is probably because many of us are seeing it work nearly perfectly, myself included. And we don\u0027t understand why you would say that it doesn\u0027t, since you\u0027re really not making it clear what\u0027s wrong with it (Other than \u0027the memory use is too high\u0027, which I\u0027m going to quantify as soon as I finish mapping Dres.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERegular, constant, reliable out-of-memory crashes whenever I fly or launch, or even as much as remember that a vessel with a MapSat part on it exists. Without MapSat, it takes most of a day of playing before KSP\u0027s memory leaks finally catch up with it, with it, an hour is sufficient.\u003C/p\u003E\u003Cp\u003EReally, what \u003Cem\u003Eelse\u003C/em\u003E could be wrong with it when I say \u0022memory use is too high\u0022? I\u0027m honestly curious, I might be missing some other potential irritation that I don\u0027t see because my KSP process doesn\u0027t live to see it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiron\u0022 data-cite=\u0022Tiron\u0022\u003E\u003Cdiv\u003E..but then I don\u0027t really use parts packs.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, there\u0027s why it works for you, and why it doesn\u0027t work for many other people -- by far I\u0027m not in a minority here. For me, the information MapSat provides is not worth the inconvenience of playing without part packs.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2013-08-30T14:04:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003ERegular, constant, reliable out-of-memory crashes whenever I fly or launch, or even as much as remember that a vessel with a MapSat part on it exists. Without MapSat, it takes most of a day of playing before KSP\u0027s memory leaks finally catch up with it, with it, an hour is sufficient.\u003Cp\u003EReally, what \u003Cem\u003Eelse\u003C/em\u003E could be wrong with it when I say \u0022memory use is too high\u0022? I\u0027m honestly curious, I might be missing some other potential irritation that I don\u0027t see because my KSP process doesn\u0027t live to see it.\u003C/p\u003E\u003Cp\u003EWell, there\u0027s why it works for you, and why it doesn\u0027t work for many other people -- by far I\u0027m not in a minority here. For me, the information MapSat provides is not worth the inconvenience of playing without part packs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy general thought would be that the problem is the parts packs, not Mapsat itself. Texture files are the number one user of memory, and parts packs have a lot of them.\u003C/p\u003E\u003Cp\u003EBut seriously, even with the other mods I *do* have, There\u0027s still nearly a gigabyte and a half of memory left for other things. That\u0027s a LOT of memory to play around with. If the parts packs you\u0027re using are hogging up that much, then the parts packs have just as much of a memory usage problem as Mapsat does.\u003C/p\u003E\u003Cp\u003EThe ultimate cause probably has to do with the many bug reports there\u0027s been recently about png based textures causing insane amounts of memory usage ingame, and it not being affected by turning the texture quality down. ISA uses PNGs for the maps...\u003C/p\u003E\u003Cp\u003EAnd memory leaks? I\u0027ve never noticed any substantial memory leaks. My memory usage has historically hovered around 2,400,000 for KSP, regardless of just about everything. The memory usage actually DROPPED after I made my previous post and ended up in the high 2,500,000 range, and this after having the game run continuously for almost 24 hours straight! (Mapping Dres takes FOREVER.) Could it be that one of your other mods has a memory leak and that\u0027s what\u0027s causing your problems?\u003C/p\u003E\u003Cp\u003ENow then, I\u0027m going to measure Mapsats\u0027 memory usage. I\u0027ve removed the ISA folder from Gamedata, and manually edited persistent.sfs to pull the mapsat dish off the one probe that\u0027s using the part, to minimize the difference between the save files.\u003C/p\u003E\u003Cp\u003EWithout ISA, at initial load, I\u0027m getting memory usage by KSP of 1,786,500 kb, or so. Climbs to a little over 1,800,000 after a bit.\u003C/p\u003E\u003Cp\u003EWith ISA re-added (and my original save with the dish restored) I\u0027m getting 2,478,500...and then dropped to 2,462,400 after a bit. And back up again to over 2,488,000.\u003C/p\u003E\u003Cp\u003ESo Mapsat\u0027s using about 700 MB of Memory. That\u0027s quite a lot more than I would expect, yes, given the folder\u0027s only 26MB it\u0027s really a bit hard to fathom.\u003C/p\u003E\u003Cp\u003EThe key thing here though is your parts packs have to be taking up around a Gigabyte to even get near territory where you could get an out of memory error at all. Secondary, you\u0027ve got the fact that my system with relatively few mods only had the memory usage about 100mb higher after a full 24 hours of mapping, so you\u0027re either right on the razor\u0027s edge to start with...or one of your mods that I don\u0027t have has a major memory leak in it.\u003C/p\u003E\u003Cp\u003EEdit: Actually, it was more like 26 hours of continuous game running, since I posted that I\u0027d just dropped into Dres mapping orbit at 8AM yesterday and posted this at 10AM today...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-30T14:29:48Z\u0022 title=\u002208/30/2013 02:29  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 30, 2013\u003C/time\u003E by Tiron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Orphican","CreatedById":39466,"CreatedDateTime":"2013-08-30T15:57:42Z","Content":"\n\u003Cp\u003EKSP is a single player game and the enjoyment each player finds in playing with or without certain mods is entirely subjective. That said I\u0027m with Mihara, ISA is not worth keeping in my game if it performs as described by many others. Fortunately I have no life and I\u0027ve gotten pretty good at balancing my mods. I\u0027m currently running 45 mods including KW Rocketry, Universe Replacer, and ISA X4r1 (I\u0027m only counting mods with textures). I\u0027ve trimmed some mods and done many of the things others have suggested to get my game running around 3.2GB. For this effort I rewarded with a KSP that only crashes about once every ten hours or so. Still KSP gets very unhappy anytime ISA is even thought of not to mention the other bugs Mihara doesn\u0027t get to see. Sorry Tiron but Mihara\u0027s right. ISA is still available if you can get it to work but we need a new plugin.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2013-08-30T17:03:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Orphican\u0022 data-cite=\u0022Orphican\u0022\u003E\u003Cdiv\u003EKSP is a single player game and the enjoyment each player finds in playing with or without certain mods is entirely subjective. That said I\u0027m with Mihara, ISA is not worth keeping in my game if it performs as described by many others. Fortunately I have no life and I\u0027ve gotten pretty good at balancing my mods. I\u0027m currently running 45 mods including KW Rocketry, Universe Replacer, and ISA X4r1 (I\u0027m only counting mods with textures). I\u0027ve trimmed some mods and done many of the things others have suggested to get my game running around 3.2GB. For this effort I rewarded with a KSP that only crashes about once every ten hours or so. Still KSP gets very unhappy anytime ISA is even thought of not to mention the other bugs Mihara doesn\u0027t get to see. Sorry Tiron but Mihara\u0027s right. ISA is still available if you can get it to work but we need a new plugin.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually what we need is a way to get Unity not to convert the textures to uncompressed bitmaps, thus massively bloating the memory usage. And a 64 bit build that\u0027s stable. Both Unity problems (although there\u0027s speculation there may be a way to use a plugin to use DDS textures.)\u003C/p\u003E\u003Cp\u003EAnd seriously, I\u0027m NOT seeing increasing memory usage as the game runs, it\u0027s very near constant. If you\u0027re seeing increasing memory usage over time it\u0027s likely that one of your installed mods has a memory leak. And a bad one, if it\u0027s burning up 700\u002B MB in a few hours.\u003C/p\u003E\u003Cp\u003EAfter running the game constantly for a bit over 26 hours, \u003Cstrong\u003EI saw less than a 150mb increase in memory usage\u003C/strong\u003E, despite the fact I was actively scanning every time I checked it.\u003C/p\u003E\u003Cp\u003EEdit: With 1 ISA Mapsat equipped ship in the air that I haven\u0027t focused yet in this instance, I\u0027m running just shy of 1,900,000 KB. Most likely because it hasn\u0027t loaded Mapsat\u0027s assets yet.\u003C/p\u003E\u003Cp\u003EThe problem is not Mapsat, it\u0027s Unity bloating the textures, probably mostly the map textures themselves.\u003C/p\u003E\u003Cp\u003EEdit2:\u003C/p\u003E\u003Cp\u003EI should further note that \u003Cstrong\u003Eany\u003C/strong\u003E Mapping mod is going to encounter the same texture memory bloat problem, because you HAVE to have a texture for the planetary maps, and it has to be fairly large if you want any kind of detail.\u003C/p\u003E\u003Cp\u003EEdit3:\u003C/p\u003E\u003Cp\u003EYep, when I loaded the craft in question, the memory usage blew up to around 2,600,000, with the game exhibiting symptoms of \u0027waaah you alt-tabbed\u0027, like it was late in my Dres mapping. I\u0027ll try a quick further experiment, no idea if it\u0027ll work or not.\u003C/p\u003E\u003Cp\u003EEdit4:\u003C/p\u003E\u003Cp\u003ESurprisingly, it did. I stripped every single texture ISA had, the GUI, the parts, everything, except for the map textures. And the \u0027Sun Textures\u0027, which he\u0027s apparently loading Dynamically off the NASA website, which is actually kinda cool.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://cloud-3.steampowered.com/ugc/594761586618052062/CC0F286F96DFE116E804E93470040D932470E22B/\u0022 alt=\u0022CC0F286F96DFE116E804E93470040D932470E22B\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote the white dish and the lack of any GUI at all other than the box itself and the text, which are both built in features.\u003C/p\u003E\u003Cp\u003EMemory Usage? Peaked at 2,466,508. Maybe I\u0027ll try blipping the models too, but I doubt that\u0027s going to have much effect.\u003C/p\u003E\u003Cp\u003EIn any case, it looks like almost all of the memory usage is...the maps themselves, bloated by Unity converting them to Bitmaps from PNGs. Either that or the \u0027pull the sun images from the interwebs\u0027 thing is using a LOT of memory.\u003C/p\u003E\u003Cp\u003EEdit5:\u003C/p\u003E\u003Cp\u003EI don\u0027t like telling people things that are actually wrong, so I went and figured out a way to test it: With all the textures gone, I created a 8x8 square of red pixels in png format, and then laboriously copied and renamed it as if it were the map textures, replacing both ISA and Polars for every planet, as well as noterrain.png, blankmap.png, and mapbg.png (I think the last was unneccessary). I did all this because I thought that part of why memory usage was so high is that it was creating/loading blank textures of the appropriate size (2048x1024) for all the blank maps and holding them in memory, if not saving them to the hard drive like it used to.\u003C/p\u003E\u003Cp\u003EBasically, I tricked it into loading very small textures so it wouldn\u0027t try to create new, big ones (which is what it\u0027s designed to do, that\u0027s how it works after all.) The result?\u003C/p\u003E\u003Cp\u003EUpon loading the ship with the ISA dish (I wasn\u0027t able to delete the models, it pitched a fit), the memory usage spikes back up to about 2,400,000. And then immediately drops off...to 1,800,000 or less, about what it is without ISA installed at all(Almost like it\u0027s allocating the memory for the expected size of the textures and then realizing it doesn\u0027t need that big allocation after all.)\u003C/p\u003E\u003Cp\u003EIn short: the plugin itself uses very little memory: That hogging actually IS almost entirely the textures, specifically the extra-large map textures. If you really wanna cut the memory usage you could crush the resolution on the map textures down, at the expense of losing detail on the maps.(Make sure you use sizes that are a power of 2 if you do this. I don\u0027t know for sure that it\u0027s a requirement, but it\u0027s fairly likely that it is.) It\u0027ll probably still spike pretty high on initial load, but then drop off, which should still help if a memory leak from a mod is your problem.\u003C/p\u003E\u003Cp\u003EJust as one final test, I gave it back everything, all the textures, except for blankmap.png and the topos. Memory usage: peak 2,444,160kb, fell down to: ~1,835,500\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-30T18:33:36Z\u0022 title=\u002208/30/2013 06:33  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 30, 2013\u003C/time\u003E by Tiron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaius","CreatedById":66495,"CreatedDateTime":"2013-08-31T02:31:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiron\u0022 data-cite=\u0022Tiron\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI should further note that \u003Cstrong\u003Eany\u003C/strong\u003E Mapping mod is going to encounter the same texture memory bloat problem, because you HAVE to have a texture for the planetary maps, and it has to be fairly large if you want any kind of detail.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect me if I\u0027m wrong, but isn\u0027t the main problem with ISA MapSat is that it loads every single map texture it has into memory? The mod seems to work fine when I first start using it, and make my first map of Kerbin, but the longer I keep using it, and the more planets I map, the worse the performance gets. Last time I was using the dev build, I had mapsats around Kerbin, working fine, Mun, working fine, Minmus, working fine, Moho, starting to drag, and Duna, um, oh dear... and I was forced to uninstall the mod and go back to 3.3.4 to stop my game from crashing constantly. Sure, any mapping mod has to have a big texture around for the body being mapped, but it doesn\u0027t need a huge texture around for every single body in the universe at all times.\u003C/p\u003E\u003Cp\u003EAlso, were you switching probes while checking for memory leaks? I never had any problems with MapSat gradually consuming more and more memory while I just left it running, mapping a body. It did that without problems just fine. It was just when I was switching back and forth from mission to mission that things would start going south and eventually lock the system or drag FPS so low it was essentially useless... if MapSat wasn\u0027t leaking memory on mission switches, I\u0027m not sure what else might have been, but I suppose it could be some other mod, and the increased memory use of MapSat just aggravated the issue that was actually caused by something else leaking memory.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-31T02:38:49Z\u0022 title=\u002208/31/2013 02:38  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 31, 2013\u003C/time\u003E by Gaius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2013-08-31T07:28:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaius\u0022 data-cite=\u0022Gaius\u0022\u003E\u003Cdiv\u003ECorrect me if I\u0027m wrong, but isn\u0027t the main problem with ISA MapSat is that it loads every single map texture it has into memory? The mod seems to work fine when I first start using it, and make my first map of Kerbin, but the longer I keep using it, and the more planets I map, the worse the performance gets. Last time I was using the dev build, I had mapsats around Kerbin, working fine, Mun, working fine, Minmus, working fine, Moho, starting to drag, and Duna, um, oh dear... and I was forced to uninstall the mod and go back to 3.3.4 to stop my game from crashing constantly. Sure, any mapping mod has to have a big texture around for the body being mapped, but it doesn\u0027t need a huge texture around for every single body in the universe at all times.\u003Cp\u003EAlso, were you switching probes while checking for memory leaks? I never had any problems with MapSat gradually consuming more and more memory while I just left it running, mapping a body. It did that without problems just fine. It was just when I was switching back and forth from mission to mission that things would start going south and eventually lock the system or drag FPS so low it was essentially useless... if MapSat wasn\u0027t leaking memory on mission switches, I\u0027m not sure what else might have been, but I suppose it could be some other mod, and the increased memory use of MapSat just aggravated the issue that was actually caused by something else leaking memory.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, I was mapping Dres, and consequently had it sitting focused on the one probe (the only thing I had up with mapsat even ON it.)\u003C/p\u003E\u003Cp\u003EI do kinda tend to focus on one thing at a time, so I usually don\u0027t do a lot of craft switching.\u003C/p\u003E\u003Cp\u003EAnd so far as I can tell, it actually loads ALL the maps into Memory, including the blank ones, when you load a craft which has an ISA dish/GPS on it. The PNGs on disk have an average size of 2.11mb for the ones I\u0027ve completed. There\u0027s a total of 30 map textures, two for each planet, which would lead to an extrapolated total size of about 63.3 MB for all the maps. Somehow, when the game loads them, they\u0027re taking up TEN TIMES that much memory. Even 32 Bit BMPs at that size are only 8MB each, so it\u0027s clearly something more than that. I first started hearing reports of PNG textures having incredible memory use a version or two ago, and also heard complaints that it still doesn\u0027t get scaled down if you drop the texture quality.\u003C/p\u003E\u003Cp\u003EWhen you get right down to it, the question is not so much \u0027why does it load all the maps at once when you load a vehicle with Mapsat\u0027, it\u0027s \u0027Why is Unity using 20mb per 2mb map\u0027.\u003C/p\u003E\u003Cp\u003EI also have yet to observe any increase in the size of the memory usage as I map stuff, either. It\u0027s pretty constant around 2,400,000 for me. With occasional excursions into the 2,500,000s and rarely edging on 2,600,000, most likely because I fairly recently added Modular Multiwheels to my repertoire(Dem landing Gear.) I\u0027ve turned on the peak working set column to help me monitor changes in the amount of memory it uses, and so far I\u0027ve seen nothing of note.\u003C/p\u003E\u003Cp\u003EI\u0027ll set up a test for some ISA and Non-ISA ship swapping later, to check for those memory leaks. If there\u0027s anything particular involved I\u0027d love to hear it as it\u0027d help set things up (IE: Is two craft enough or do I need more than one? Does it matter if they\u0027re within physics range of each other or does it need to go through a scene load to get it?)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-31T08:00:48Z\u0022 title=\u002208/31/2013 08:00  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 31, 2013\u003C/time\u003E by Tiron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2013-08-31T12:29:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiron\u0022 data-cite=\u0022Tiron\u0022\u003E\u003Cdiv\u003EWhen you get right down to it, the question is not so much \u0027why does it load all the maps at once when you load a vehicle with Mapsat\u0027, it\u0027s \u0027Why is Unity using 20mb per 2mb map\u0027.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m wondering if it\u0027s ISA or Unity that\u0027s doing this. Try putting the maps just loose in GameData and then remove ISA itself -- the game will still load the PNGs into memory, letting you get a baseline value for Unity\u0027s memory usage to load the files.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2013-08-31T16:16:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022somnambulist\u0022 data-cite=\u0022somnambulist\u0022\u003E\u003Cdiv\u003EI\u0027m wondering if it\u0027s ISA or Unity that\u0027s doing this. Try putting the maps just loose in GameData and then remove ISA itself -- the game will still load the PNGs into memory, letting you get a baseline value for Unity\u0027s memory usage to load the files.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI did it the other way around, I replaced the map textures with very tiny image files, 8x8, instead of the maps to see what happened when Mapsat loaded them.\u003C/p\u003E\u003Cp\u003EThe memory usage spikes up to the \u0027Normal\u0027 level for Mapsat for just a few seconds during loading, and then drops back down to the level it\u0027s at when you\u0027ve yet to load a craft with a Mapsat unit. I think it\u0027s allocating memory for the full-size textures, and then de-allocating it when it doesn\u0027t get used by the tiny ones that actually get loaded. \u003C/p\u003E\u003Cp\u003EIt does the exact same thing to in essence the same values regardless of if it has the gui/other textures or not. The difference between the 8x8 images and the 2048x1048 maps being loaded was right around 600mb. The numbers are in the last part of my mega-post on the previous page (edit5).\u003C/p\u003E\n"}]}