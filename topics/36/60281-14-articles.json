{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":14,"Articles":[{"CreatedByName":"thatsmessedup","CreatedById":82196,"CreatedDateTime":"2014-04-20T16:23:25Z","Content":"\n\u003Cp\u003EHere is my log as requested. \u003Ca href=\u0022https://drive.google.com/file/d/0BywyT2cDCiRoR2pPa2ZSYk1WdlU/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/0BywyT2cDCiRoR2pPa2ZSYk1WdlU/edit?usp=sharing\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThanks mulbin for the info.\u003C/p\u003E\u003Cp\u003Ealso, here is something in the log that has to do with the IODemo\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.646] AddonLoader: Instantiating addon \u0027KSPSerialPort\u0027 from assembly \u0027KSPSerialIO\u0027\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.649] KSPSerialIO: Version 0.14.3\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.649] KSPSerialIO: Getting serial ports...\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.649] KSPSerialIO: Output packet size: 129/255\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.652] KSPSerialIO: Found 2 serial ports\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.653] KSPSerialIO: trying default port COM1\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.667] Error opening serial port COM1: CreateFile Failed: 2\u003C/p\u003E\u003Cp\u003E[LOG 01:37:21.668] KSPSerialIO: trying port \\Device\\USBSER000 - COM3\u003C/p\u003E\u003Cp\u003E[LOG 01:37:25.688] KSPSerialIO: KSP Display not found\u003C/p\u003E\u003Cp\u003E[LOG 01:37:25.689] AddonLoader: Instantiating addon \u0027KSPSerialIO\u0027 from assembly \u0027KSPSerialIO\u0027\u003C/p\u003E\u003Cp\u003E[LOG 01:37:25.690] AddonLoader: Instantiating addon \u0027SteamGauges\u0027 from assembly \u0027SteamGauges\u0027\u003C/p\u003E\u003Cp\u003E[LOG 01:37:26.022] Parsing rect\u003C/p\u003E\u003Cp\u003E[LOG 01:37:26.023] Parsing bool\u003C/p\u003E\u003Cp\u003E[LOG 01:37:26.023] Parsing double\u003C/p\u003E\u003Cp\u003E[LOG 01:37:26.024] Parsing bool\u003C/p\u003E\u003Cp\u003E[LOG 01:37:26.024] Parsing rect\u003C/p\u003E\u003Cp\u003E[LOG 01:37:26.024] Parsing bool\u003C/p\u003E\u003Cp\u003E[LOG 01:37:26.025] Parsing bool\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-20T16:26:35Z\u0022 title=\u002204/20/2014 04:26  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 20, 2014\u003C/time\u003E by thatsmessedup\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-20T20:02:23Z","Content":"\n\u003Cp\u003EOK so for some reason it can\u0027t detect the arduino, it is on COM3? Try increasing the handshake delay in the settings .xml file in the gamedata folder\u003C/p\u003E\u003Cp\u003EYou also seem to have quite a few mods installed, can you try it on a fresh install?\u003C/p\u003E\u003Cp\u003EYou can also try the new version of the plugin and arduino code in post 317.\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-04-20T20:48:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003ETry\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003Efloat drainPerSecond;\u003Cbr\u003Efloat chargePrevious;\u003Cbr\u003E...\u003Cbr\u003E\u003Cbr\u003EdrainPerSecond = (VData.ECharge - chargePrevious)/VData.deltaTime;\u003Cbr\u003EchargePrevious = VData.ECharge;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, sorry, newb questions again.\u003C/p\u003E\u003Cp\u003EI assume I put the floats in the list with the existing floats... but where do I put this?\u003C/p\u003E\u003Cp\u003E drainPerSecond = (VData.ECharge - chargePrevious)/VData.deltaTime;\u003C/p\u003E\u003Cp\u003E chargePrevious = VData.ECharge;\u003C/p\u003E\u003Cp\u003EI can\u0027t find anywhere to put it that doesn\u0027t just throw errors back at me about them not being defined.\u003C/p\u003E\n"},{"CreatedByName":"thatsmessedup","CreatedById":82196,"CreatedDateTime":"2014-04-20T22:20:24Z","Content":"\n\u003Cp\u003EThanks. I reinstalled the game and used the updated arduino code. It works great now! Iv reinstalled my plugins and save folder and it is still working so It must have been the code I was running or the ksp install was broken.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-21T15:45:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mulbin\u0022 data-cite=\u0022Mulbin\u0022\u003E\u003Cdiv\u003EOk, sorry, newb questions again.\u003Cp\u003EI assume I put the floats in the list with the existing floats... but where do I put this?\u003C/p\u003E\u003Cp\u003E drainPerSecond = (VData.ECharge - chargePrevious)/VData.deltaTime;\u003C/p\u003E\u003Cp\u003E chargePrevious = VData.ECharge;\u003C/p\u003E\u003Cp\u003EI can\u0027t find anywhere to put it that doesn\u0027t just throw errors back at me about them not being defined.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you put the declarations in the main tab with the rest of the variable you should be able to put the calculations anywhere.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-21T15:46:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022thatsmessedup\u0022 data-cite=\u0022thatsmessedup\u0022\u003E\u003Cdiv\u003EThanks. I reinstalled the game and used the updated arduino code. It works great now! Iv reinstalled my plugins and save folder and it is still working so It must have been the code I was running or the ksp install was broken.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlright cool, I thought you found yet another annoy bug.\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-04-21T16:18:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EIf you put the declarations in the main tab with the rest of the variable you should be able to put the calculations anywhere.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry, still don\u0027t understand. What do you mean by \u0022declarations and \u0022Variable\u0022, I\u0027m not a coder so don\u0027t know the jargon.\u003C/p\u003E\u003Cp\u003EI have put the floats in StructVesselData so it now looks like this...\u003C/p\u003E\u003Cp\u003Estruct VesselData\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E byte id; //1\u003C/p\u003E\u003Cp\u003E float AP; //2\u003C/p\u003E\u003Cp\u003E float PE; //3\u003C/p\u003E\u003Cp\u003E float SemiMajorAxis; //4\u003C/p\u003E\u003Cp\u003E float SemiMinorAxis; //5\u003C/p\u003E\u003Cp\u003E float VVI; //6\u003C/p\u003E\u003Cp\u003E float e; //7\u003C/p\u003E\u003Cp\u003E float inc; //8\u003C/p\u003E\u003Cp\u003E float G; //9\u003C/p\u003E\u003Cp\u003E long TAp; //10\u003C/p\u003E\u003Cp\u003E long TPe; //11\u003C/p\u003E\u003Cp\u003E float TrueAnomaly; //12\u003C/p\u003E\u003Cp\u003E float Density; //13\u003C/p\u003E\u003Cp\u003E long period; //14\u003C/p\u003E\u003Cp\u003E float RAlt; //15\u003C/p\u003E\u003Cp\u003E float Alt; //16\u003C/p\u003E\u003Cp\u003E float Vsurf; //17\u003C/p\u003E\u003Cp\u003E float Lat; //18\u003C/p\u003E\u003Cp\u003E float Lon; //19\u003C/p\u003E\u003Cp\u003E float LiquidFuelTot; //20\u003C/p\u003E\u003Cp\u003E float LiquidFuel; //21\u003C/p\u003E\u003Cp\u003E float OxidizerTot; //22\u003C/p\u003E\u003Cp\u003E float Oxidizer; //23\u003C/p\u003E\u003Cp\u003E float EChargeTot; //24\u003C/p\u003E\u003Cp\u003E float ECharge; //25\u003C/p\u003E\u003Cp\u003E float MonoPropTot; //26\u003C/p\u003E\u003Cp\u003E float MonoProp; //27\u003C/p\u003E\u003Cp\u003E float IntakeAirTot; //28\u003C/p\u003E\u003Cp\u003E float IntakeAir; //29\u003C/p\u003E\u003Cp\u003E float SolidFuelTot; //30\u003C/p\u003E\u003Cp\u003E float SolidFuel; //31\u003C/p\u003E\u003Cp\u003E float XenonGasTot; //32\u003C/p\u003E\u003Cp\u003E float XenonGas; //33\u003C/p\u003E\u003Cp\u003E float LiquidFuelTotS; //34\u003C/p\u003E\u003Cp\u003E float LiquidFuelS; //35\u003C/p\u003E\u003Cp\u003E float OxidizerTotS; //36\u003C/p\u003E\u003Cp\u003E float OxidizerS; //37\u003C/p\u003E\u003Cp\u003E uint32_t MissionTime; //38\u003C/p\u003E\u003Cp\u003E float deltaTime; //39\u003C/p\u003E\u003Cp\u003E float drainPerSecond;\u003C/p\u003E\u003Cp\u003E float chargePrevious;\u003C/p\u003E\u003Cp\u003EBut still can\u0027t find anywhere that I can put this...\u003C/p\u003E\u003Cp\u003EdrainPerSecond = (VData.ECharge - chargePrevious)/VData.deltaTime;\u003C/p\u003E\u003Cp\u003EchargePrevious = VData.ECharge;\u003C/p\u003E\u003Cp\u003E...without just getting errors.\u003C/p\u003E\u003Cp\u003EI either get this...\u003C/p\u003E\u003Cp\u003Eoutput:1: error: expected constructor, destructor, or type conversion before \u0027=\u0027 token\u003C/p\u003E\u003Cp\u003Eoutput:2: error: expected constructor, destructor, or type conversion before \u0027=\u0027 token\u003C/p\u003E\u003Cp\u003EOr I get this...\u003C/p\u003E\u003Cp\u003Eutput.ino: In function \u0027void output()\u0027:\u003C/p\u003E\u003Cp\u003Eoutput:9: error: \u0027drainPerSecond\u0027 was not declared in this scope\u003C/p\u003E\u003Cp\u003Eoutput:9: error: \u0027chargePrevious\u0027 was not declared in this scope\u003C/p\u003E\n"},{"CreatedByName":"thatsmessedup","CreatedById":82196,"CreatedDateTime":"2014-04-21T16:41:30Z","Content":"\n\u003Cp\u003EGot my LCD Displaying some data WOOOHOOO!! Just wanted to make a shout out to the creator of this plugin. Thanks for doing all the dirty, under the hood stuff. That would have been very difficult for a hobbyist like myself. I get jealous looking at all these different control panel mods. I just need to figure out what I want and get the pieces together. OOO, and Im still not quite sure how I am going to hook everything up with just my one uno. I will probably need to do research. I want about 15 buttons/switches with leds and a few lcd... possible an rcs thruster joystick.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-21T17:05:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mulbin\u0022 data-cite=\u0022Mulbin\u0022\u003E\u003Cdiv\u003ESorry, still don\u0027t understand. What do you mean by \u0022declarations and \u0022Variable\u0022, I\u0027m not a coder so don\u0027t know the jargon.\u003Cp\u003EI have put the floats in StructVesselData so it now looks like this...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-04-21T17:47:12Z","Content":"\n\u003Cp\u003ECould you look at my code and tell me what\u0027s wrong? you\u0027re not making it very clear where I put the two separate bits of code and it\u0027s still just throwing up error messages. I know it\u0027s a pain having noobs trying to understand your plugin but I\u0027m not a coder so things you might assume are intuitive to me really aren\u0027t \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Thanks for being patient!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E/pins for LEDs\u003Cbr\u003E#define GLED 40\u003Cbr\u003E#define YLED 41\u003Cbr\u003E#define RLED 42\u003Cbr\u003E#define RCSLED 44\u003Cbr\u003E#define RCSWARNLED 43\u003Cbr\u003E#define RWLED 45\u003Cbr\u003E#define RWWARNLED 46\u003Cbr\u003E#define MONOWARNLED 47\u003Cbr\u003E\u003Cbr\u003E//pins for input\u003Cbr\u003E#define RCSPIN 22\u003Cbr\u003E#define SASPIN 23\u003Cbr\u003E#define CG1PIN 24\u003Cbr\u003E#define CG2PIN 25\u003Cbr\u003E#define CG3PIN 26\u003Cbr\u003E#define CG4PIN 27\u003Cbr\u003E#define CG5PIN 28\u003Cbr\u003E#define CG6PIN 29\u003Cbr\u003E#define GEARPIN 30\u003Cbr\u003E#define CG7PIN 31\u003Cbr\u003E#define CG8PIN 32\u003Cbr\u003E#define LIGHTPIN 33\u003Cbr\u003E#define CG9PIN 34\u003Cbr\u003E#define CG10PIN 35\u003Cbr\u003E\u003Cbr\u003E//pins for gauges\u003Cbr\u003E#define MONOPIN 2\u003Cbr\u003E#define CHARGEPIN 3\u003Cbr\u003E#define DRAWPIN 4\u003Cbr\u003E\u003Cbr\u003E#define THROTTLEDB 4 //Throttle axis deadband\u003Cbr\u003E\u003Cbr\u003E#define SAS 7\u003Cbr\u003E#define RCS 6\u003Cbr\u003E#define LIGHTS 5\u003Cbr\u003E#define GEAR 4\u003Cbr\u003E#define BRAKES 3\u003Cbr\u003E#define PRECISION 2\u003Cbr\u003E#define ABORT 1\u003Cbr\u003E#define STAGE 0\u003Cbr\u003E\u003Cbr\u003E//macro \u003Cbr\u003E#define details(name) (uint8_t*)\u0026amp;name,sizeof(name)\u003Cbr\u003E\u003Cbr\u003E//if no message received from KSP for more than 2s, go idle\u003Cbr\u003E#define IDLETIMER 2000\u003Cbr\u003E#define CONTROLREFRESH 25\u003Cbr\u003E\u003Cbr\u003E//warnings\u003Cbr\u003E#define GWARN 9                  //9G Warning\u003Cbr\u003E#define GCAUTION 5               //5G Caution\u003Cbr\u003E#define FUELCAUTION 10.0         //10% Fuel Caution\u003Cbr\u003E#define FUELWARN 5.0             //5% Fuel warning\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eunsigned long deadtime, deadtimeOld, controlTime, controlTimeOld;\u003Cbr\u003Eunsigned long now;\u003Cbr\u003E\u003Cbr\u003E  float drainPerSecond;\u003Cbr\u003E  float chargePrevious; \u003Cbr\u003E\u003Cbr\u003E  drainPerSecond = (VData.ECharge - chargePrevious)/VData.deltaTime;\u003Cbr\u003E  chargePrevious = VData.ECharge;\u003Cbr\u003E\u003Cbr\u003Eboolean Connected = false;\u003Cbr\u003E\u003Cbr\u003Ebyte caution = 0, warning = 0, id;\u003Cbr\u003E\u003Cbr\u003Estruct VesselData\u003Cbr\u003E{\u003Cbr\u003E  byte id;                //1\u003Cbr\u003E  float AP;               //2\u003Cbr\u003E  float PE;               //3\u003Cbr\u003E  float SemiMajorAxis;    //4\u003Cbr\u003E  float SemiMinorAxis;    //5\u003Cbr\u003E  float VVI;              //6\u003Cbr\u003E  float e;                //7\u003Cbr\u003E  float inc;              //8\u003Cbr\u003E  float G;                //9\u003Cbr\u003E  long TAp;               //10\u003Cbr\u003E  long TPe;               //11\u003Cbr\u003E  float TrueAnomaly;      //12\u003Cbr\u003E  float Density;          //13\u003Cbr\u003E  long period;            //14\u003Cbr\u003E  float RAlt;             //15\u003Cbr\u003E  float Alt;              //16\u003Cbr\u003E  float Vsurf;            //17\u003Cbr\u003E  float Lat;              //18\u003Cbr\u003E  float Lon;              //19\u003Cbr\u003E  float LiquidFuelTot;    //20\u003Cbr\u003E  float LiquidFuel;       //21\u003Cbr\u003E  float OxidizerTot;      //22\u003Cbr\u003E  float Oxidizer;         //23\u003Cbr\u003E  float EChargeTot;       //24\u003Cbr\u003E  float ECharge;          //25\u003Cbr\u003E  float MonoPropTot;      //26\u003Cbr\u003E  float MonoProp;         //27\u003Cbr\u003E  float IntakeAirTot;     //28\u003Cbr\u003E  float IntakeAir;        //29\u003Cbr\u003E  float SolidFuelTot;     //30\u003Cbr\u003E  float SolidFuel;        //31\u003Cbr\u003E  float XenonGasTot;      //32\u003Cbr\u003E  float XenonGas;         //33\u003Cbr\u003E  float LiquidFuelTotS;   //34\u003Cbr\u003E  float LiquidFuelS;      //35\u003Cbr\u003E  float OxidizerTotS;     //36\u003Cbr\u003E  float OxidizerS;        //37\u003Cbr\u003E  uint32_t MissionTime;   //38\u003Cbr\u003E  float deltaTime;        //39\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003Estruct HandShakePacket\u003Cbr\u003E{\u003Cbr\u003E  byte id;\u003Cbr\u003E  byte M1;\u003Cbr\u003E  byte M2;\u003Cbr\u003E  byte M3;\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003Estruct ControlPacket {\u003Cbr\u003E  byte id;\u003Cbr\u003E  byte MainControls;                  //SAS RCS Lights Gear Brakes Precision Abort Stage \u003Cbr\u003E  byte Mode;                          //0 = stage, 1 = docking, 2 = map\u003Cbr\u003E  unsigned int ControlGroup;          //control groups 1-10 in 2 bytes\u003Cbr\u003E  byte AdditionalControlByte1;        //other stuff\u003Cbr\u003E  byte AdditionalControlByte2;\u003Cbr\u003E  int Pitch;                          //-1000 -\u0026gt; 1000\u003Cbr\u003E  int Roll;                           //-1000 -\u0026gt; 1000\u003Cbr\u003E  int Yaw;                            //-1000 -\u0026gt; 1000\u003Cbr\u003E  int TX;                             //-1000 -\u0026gt; 1000\u003Cbr\u003E  int TY;                             //-1000 -\u0026gt; 1000\u003Cbr\u003E  int TZ;                             //-1000 -\u0026gt; 1000\u003Cbr\u003E  int Throttle;                       //    0 -\u0026gt; 1000\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003EHandShakePacket HPacket;\u003Cbr\u003EVesselData VData;\u003Cbr\u003EControlPacket CPacket;\u003Cbr\u003E\u003Cbr\u003Evoid setup(){\u003Cbr\u003E  Serial.begin(38400);\u003Cbr\u003E\u003Cbr\u003E  initLEDS();\u003Cbr\u003E  InitTxPackets();\u003Cbr\u003E  controlsInit();\u003Cbr\u003E\u003Cbr\u003E  LEDSAllOff();\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Evoid loop()\u003Cbr\u003E{  \u003Cbr\u003E  input();\u003Cbr\u003E  output();\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAll I am still getting is...\u003C/p\u003E\u003Cp\u003EKSPIODemo2:63: error: expected constructor, destructor, or type conversion before \u0027=\u0027 token\u003C/p\u003E\u003Cp\u003EKSPIODemo2:64: error: expected constructor, destructor, or type conversion before \u0027=\u0027 token\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-21T17:50:46Z\u0022 title=\u002204/21/2014 05:50  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 21, 2014\u003C/time\u003E by Mulbin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-21T18:15:28Z","Content":"\n\u003Cp\u003EThe declarations are correct, but these need to go in your inputs() function, where you do the rest of your input stuff, dials LEDs and so on\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E  drainPerSecond = (VData.ECharge - chargePrevious)/VData.deltaTime;\u003Cbr\u003E  chargePrevious = VData.ECharge;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u0022drainPerSecond\u0022 is called a variable, when you do \u0022float drainPerSecond\u0022 you are declaring that \u0022drainPerSecond\u0022 to be a variable that is of the floating point type (i.e. with decimal point), so the next time you use \u0022drainPerSecond\u0022 the compiler know what to do with it.\u003C/p\u003E\n"},{"CreatedByName":"thatsmessedup","CreatedById":82196,"CreatedDateTime":"2014-04-22T04:29:58Z","Content":"\n\u003Cp\u003EAAAAAA!! This is what im missing. I was playing around with my pot for a good while and finally decided to search the thread for \u0022throttle\u0022. Had to enable the the bit in the config file. Maybe add that to the comments \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E.. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003E\u003Cspan\u003E\u0022Weekly\u0022 update 8: 0.14.1\u003C/span\u003E\u003Cp\u003EAxes! Currently Only throttle, will add others later. You will need to go to settings file and set ThrottleEnable to 1, by default throttle is not enabled. Once throttle is enabled you will lose the ability to control it with keyboard. Connect a pot to an analog input pin 0 and that\u0027s it (see \u003Ca href=\u0022arduino.cc/en/Tutorial/ReadAnalogVoltage\u0022 rel=\u0022external nofollow\u0022\u003Earduino.cc/en/Tutorial/ReadAnalogVoltage\u003C/a\u003E).\u003C/p\u003E\u003Cp\u003EPlugin:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPSerialIO_014_1.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPSerialIO_014_1.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EArduino:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPIODemo4.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPIODemo4.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EOnce this has been tested I will add more axes and update the first post.\u003C/p\u003E\u003Cp\u003EEdit: Unfortunately I\u0027m away to Germany next week, will not be able to answer questions.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-04-22T12:02:23Z","Content":"\n\u003Cp\u003EThanks Zitronen, it\u0027s accepted the code now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027ll play around with the formula for the displays later.\u003C/p\u003E\n"},{"CreatedByName":"BagelSoTasty","CreatedById":32876,"CreatedDateTime":"2014-04-23T22:12:11Z","Content":"\n\u003Cp\u003EBefore anyone facedesks at me, I\u0027m a total Arduino noob.\u003C/p\u003E\u003Cp\u003EI can\u0027t upload the code for the LED warning lights, because it claims:\u003C/p\u003E\u003Cp\u003EKSPIODemo.ino: In function \u0027void setup()\u0027:\u003C/p\u003E\u003Cp\u003EKSPIODemo:58: error: \u0027initLEDS\u0027 was not declared in this scope\u003C/p\u003E\u003Cp\u003EKSPIODemo:60: error: \u0027LEDSAllOff\u0027 was not declared in this scope\u003C/p\u003E\u003Cp\u003EKSPIODemo.ino: In function \u0027void loop()\u0027:\u003C/p\u003E\u003Cp\u003EKSPIODemo:67: error: \u0027KSPBoardReceiveData\u0027 was not declared in this scope\u003C/p\u003E\u003Cp\u003EKSPIODemo:71: error: \u0027Handshake\u0027 was not declared in this scope\u003C/p\u003E\u003Cp\u003EKSPIODemo:74: error: \u0027Indicators\u0027 was not declared in this scope\u003C/p\u003E\u003Cp\u003EKSPIODemo:87: error: \u0027LEDSAllOff\u0027 was not declared in this scope\u003C/p\u003E\u003Cp\u003EI have no clue what to do, and I\u0027m amped about this plugin.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-24T13:47:20Z","Content":"\n\u003Cp\u003EDid you make sure all the files from the KSPIODemo4.zip are included in your arduino folder?\u003C/p\u003E\u003Cp\u003EWhen you open the \u0022sketch\u0022 it should include multiple tabs.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-24T13:49:24Z\u0022 title=\u002204/24/2014 01:49  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 24, 2014\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-24T13:48:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022thatsmessedup\u0022 data-cite=\u0022thatsmessedup\u0022\u003E\u003Cdiv\u003EAAAAAA!! This is what im missing. I was playing around with my pot for a good while and finally decided to search the thread for \u0022throttle\u0022. Had to enable the the bit in the config file. Maybe add that to the comments \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E..\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUm this is described in the first post! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"8749236","CreatedById":27470,"CreatedDateTime":"2014-04-24T14:17:20Z","Content":"\n\u003Cp\u003EYou\u0027ve just reminded me my Smart House project in school..\u003C/p\u003E\u003Cp\u003EPretty impressive =D\u003C/p\u003E\u003Cp\u003EI never thought of that..\u003C/p\u003E\u003Cp\u003EPerhaps you can use that to make your own \u003Cstrong\u003ESpace Center\u003C/strong\u003E at home!..\u003C/p\u003E\u003Cp\u003EAnother suggestion: Why not just label all the fuels with numbers, then just dispatch the remaining resource values just by numbers.. So you dont need to worry about those words or something...\u003C/p\u003E\u003Cp\u003EI\u0027m sure KSC will approve this =P\u003C/p\u003E\n"},{"CreatedByName":"BagelSoTasty","CreatedById":32876,"CreatedDateTime":"2014-04-24T18:31:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EDid you make sure all the files from the KSPIODemo4.zip are included in your arduino folder?\u003Cp\u003EWhen you open the \u0022sketch\u0022 it should include multiple tabs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDuhuhuh! Thank you.\u003C/p\u003E\n"},{"CreatedByName":"pantner","CreatedById":83119,"CreatedDateTime":"2014-04-29T16:02:11Z","Content":"\n\u003Cp\u003EOk, been a while since I\u0027ve posted here. Been very busy lately.\u003C/p\u003E\u003Cp\u003EReceived my 20x4 LCD display and have been fighting with it for a couple of days, finally ironed out my problems and got it working (Hello World! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\u003Cp\u003EAnd just now (as a proof of concept) had it displaying the \u0027vertical velocity\u0027 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks again for this amazing plugin, will post back when I have something more stubstantial to reporting... Might look at the throttle next...\u003C/p\u003E\u003Cp\u003EAny idea what rating pot would be best used to get the full range of it working? 5k? 10K? Obviously need to put it all the way to 100%, but don\u0027t want it to reach 100% when the physical throttle is only at 75%...\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-29T19:54:53Z","Content":"\n\u003Cp\u003E5K 10K 100K all should work fine. You can also write some code to make it use whatever range your want.\u003C/p\u003E\n"},{"CreatedByName":"pantner","CreatedById":83119,"CreatedDateTime":"2014-04-30T04:11:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003E5K 10K 100K all should work fine. You can also write some code to make it use whatever range your want.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eok, cool, thanks for that. Will see what is available.\u003C/p\u003E\n"},{"CreatedByName":"thatsmessedup","CreatedById":82196,"CreatedDateTime":"2014-04-30T05:11:12Z","Content":"\n\u003Cp\u003EWhere did you learn about programing the display like that?\u003C/p\u003E\n"},{"CreatedByName":"pantner","CreatedById":83119,"CreatedDateTime":"2014-04-30T13:06:32Z","Content":"\n\u003Cp\u003Ehow are you dealing with the \u0027trash\u0027 characters on your LCD? ie, your speed drops from 100 to 99 but the LCD displays 990 because you didn\u0027t tell it to stop displaying the last 0 from 100...\u003C/p\u003E\u003Cp\u003E**EDIT - also, just realised, there is no orbit velocity reading? or am I missing something?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-30T13:45:29Z\u0022 title=\u002204/30/2014 01:45  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 30, 2014\u003C/time\u003E by pantner\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-04-30T18:10:15Z","Content":"\n\u003Cp\u003EYou can simply print some blank spaces where your number is before you print the number every time, or you can use a function such as \u0022dtostrf\u0022 to print formatted strings.\u003C/p\u003E\u003Cp\u003EI\u0027ll add orbital velocity this weekend. Anything else you want added?\u003C/p\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2014-04-30T18:20:21Z","Content":"\n\u003Cp\u003EThis reminds me of my SLI PRO interface for racing sims, good job!\u003C/p\u003E\n"}]}