{"TopicId":86596,"ForumId":36,"TopicTitle":"0.90 Kerbal Weather Systems! Alpha 0.5.3 WIP! (Jan 2)","CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2014-10-09T03:27:37Z","PageNum":8,"Articles":[{"CreatedByName":"Fox Loco","CreatedById":116387,"CreatedDateTime":"2015-01-02T00:18:05Z","Content":"\n\u003Cp\u003EHello again! i\u0027ve tested with RO and the clouds seem to work fine, in the China\u0027s launch site, wich is at 7500m the clouds were covering the mountains flowing to the ground, very beautyful, but i couldn\u0027t find the GUI to change the wind config tho. i use the toolbar mod.\u003C/p\u003E\u003Cp\u003EWhat is API btw? hehehe\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://imageupper.com/s02/1/2/A14201575141852419_1.jpg\u0022 alt=\u0022A14201575141852419_1.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-02T00:12:32Z\u0022 title=\u002201/02/2015 12:12  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 2, 2015\u003C/time\u003E by Fox Loco\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-02T01:05:53Z","Content":"\n\u003Cp\u003E@FoxLoco, You don\u0027t change the wind, the wind changes you! Also, I could be misusing the term API, but what I mean is: \u0022A class or series of classes fit for the use and advantage of others when referencing your library(.dll)\u0022 So that way you can check the wind speed in your code, if you were to code something.\u003C/p\u003E\n"},{"CreatedByName":"theonegalen","CreatedById":71012,"CreatedDateTime":"2015-01-02T22:07:59Z","Content":"\n\u003Cp\u003ESo are you integrating with the new version of EVE coming out soon? Some of the things coming out of the EVE Overhaul dev thread are amazing and it would be wonderful to see tornadoes, etc, rolling out along a KWS storm front.\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-02T23:19:10Z","Content":"\n\u003Cp\u003E@theonegalen, Rbray and I haven\u0027t really gotten to discussing the new EVE that much, however I will have to take a look at what it\u0027s come out with so far and see if it\u0027d be of any use. I\u0027m not aiming to implement things that wouldn\u0027t benefit the end user. My mod will be quite something on performance generally, as I\u0027m not making whimsical weather, but a potato-sized weather simulator. The storms will come in due time when I get everything all worked out with the cell code and having proper interactions between the cells.\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2015-01-09T02:43:58Z","Content":"\n\u003Cp\u003EHi SilverFox,\u003C/p\u003E\u003Cp\u003EI love your mod, have a couple of questions if you can help me:\u003C/p\u003E\u003Cp\u003E1. wind speeds are often very strong, upwards of 30-70kph cross winds, causing for very challenging Jeb moments \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E - typically I would expect to see in calm days light winds, is there any configuration that I can change min/max (other than the wind storms option)?\u003C/p\u003E\u003Cp\u003E2. the wind speed reported in your UI is vastly different than that of the Anemometer. see here:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/A8A9Rzu.png\u0022 alt=\u0022A8A9Rzu.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Eperhaps Im not using the mod correctly, is this an issue?\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-09T04:50:43Z","Content":"\n\u003Cp\u003EThe wind speeds at one point didn\u0027t match, the one on the anemometer is in km/h and the one in the UI is m/s it seems. I did not notice it was as such when I released it, my bad. And also, on your point about strong winds, yes, I literally had no idea what was making them so strong tbh. They were supposed to be from -5 - \u002B5 m/s (~18km/h)at most, but instead they went on to be upwards of 70km/h, again, have no idea what\u0027s happening there. \u003C/p\u003E\u003Cp\u003EOn better news, I\u0027m currently working on getting the atmospheric layering for the cells so that global cooling and warming may come into effect, day/night cycles to help with that, and adding in the coriolis effect to the winds. Today I got the cell Albedo changing moreorless properly. Tomorrow(Jan 9th) I will be layering the atmospheres properly so that they somewhat match that of the ISA(International Standard Atmosphere), and can be used for calculations, and eventually, calculation and simulation of wind! \u003C/p\u003E\u003Cp\u003EA fun ride is ahead, enjoy the fun wind while it lasts!\u003C/p\u003E\u003Cp\u003E~SilverFox8124\u003C/p\u003E\u003Cp\u003EPS. I just realized you don\u0027t have the 3 or 4 cloud layers in that screenshot, are you sure you\u0027re using the latest version of KWS, or did you manually remove them?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-09T05:48:19Z\u0022 title=\u002201/09/2015 05:48  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 9, 2015\u003C/time\u003E by silverfox8124\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sober667","CreatedById":116695,"CreatedDateTime":"2015-01-10T16:51:52Z","Content":"\n\u003Cp\u003Eim close to RAM limit(HUGE amount of mods ) so im using it with DX11 and ATM is any way to make just a little less RAM-hitting?\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-10T17:08:58Z","Content":"\n\u003Cp\u003E@sober667, I\u0027m working on ways to try and reduce the RAM, but it\u0027s quite hard to do in this situation, as there needs to at least be weather existing on other planets, else, there would be no weather on a planet. The only option I\u0027m seeing currently is to give you guys the option to disable weather for a planet? What do you guys think about that?\u003C/p\u003E\u003Cp\u003EThe thing is, weather just can\u0027t simply *not* happen at a specific time, I can\u0027t turn off specific cells, because then the neighbouring cells go off that \u0022off\u0022 cell\u0027s data to get temps and pressures and such. Having a weather simulator with a little impact is tough, and damn near impossible to do right, but I\u0027m trying my best to conjure up ideas for reducing impact, such as less CPU usage by not having all the planets being simulated at a given time, only the one you are orbiting. \u003C/p\u003E\u003Cp\u003EI\u0027m also adding in a Settings GUI on the main menu for adjusting things like the grid level, which determines how big or small the grid is, this would affect RAM footprint directly, but I\u0027m standing by that the grid shouldn\u0027t have a level smaller than 5(the level it has now) simply because of how weather happens and how it needs certain areas to be certain ways for weather phenomena to happen. I\u0027m also adding in a way of reducing CPU usage via making n amount of cells being updated per weather tick (which is also adjustable) instead of *every* cell being updated every weather tick.\u003C/p\u003E\u003Cp\u003EOptimizations will come along the way, that\u0027s almost inevitable, but the next update will introduce more RAM usage(most likely) from now adding in more layers of cells for proper atmospheric calculations.\u003C/p\u003E\u003Cp\u003EAgain, optimizing this can be quite the challenge, and having only one brain come up with optimization ideas can be pretty blinding sometimes, so suggestions are welcomed and will be considered.\u003C/p\u003E\u003Cp\u003ETL;DR: Weather Simulators are hard, More RAM usage to come, optimizations too, later, and suggestions pl0x\u003C/p\u003E\u003Cp\u003E~SilverFox8124\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-01-10T17:18:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sober667\u0022 data-cite=\u0022sober667\u0022\u003E\u003Cdiv\u003Eim close to RAM limit(HUGE amount of mods ) so im using it with DX11 and ATM is any way to make just a little less RAM-hitting?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOpenGL can knock a few hundred more MB off of your RAM usage, possibly at the cost of some FPS. Also, take a look in your ATM cache -- if there are any folders larger than a few dozen MB, there are probably some normal maps that aren\u0027t being compressed (though compressing them will cause some loss of sharp detail). You can tell ATM to compress them by making a config like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EACTIVE_TEXTURE_MANAGER_CONFIG\u003Cbr\u003E{\u003Cbr\u003E    folder = *whatever*\u003Cbr\u003E    enabled  = true\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-10T18:50:11Z","Content":"\n\u003Cp\u003EThe thing is, my mod isn\u0027t heavily based on Textures, it\u0027s 99% data. Doubles, floats, ints bools, and other data types are being stored and calculated, so using any sort of texture reducer or memory management shouldn\u0027t have an effect on the majority of my mod\u0027s RAM.\u003C/p\u003E\n"},{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-01-10T19:02:39Z","Content":"\n\u003Cp\u003EWell hopefully all these niggles will be non existent when we get unity 5.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-01-10T19:03:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022silverfox8124\u0022 data-cite=\u0022silverfox8124\u0022\u003E\u003Cdiv\u003EThe thing is, my mod isn\u0027t heavily based on Textures, it\u0027s 99% data. Doubles, floats, ints bools, and other data types are being stored and calculated, so using any sort of texture reducer or memory management shouldn\u0027t have an effect on the majority of my mod\u0027s RAM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, but sober667 mentioned having lots of other mods -- my suggestions may help reduce the memory load of those, thus leaving more room for weather.\u003C/p\u003E\u003Cp\u003EAlso, a weather vane would be a great science tool. I\u0027m not sure what critter the Kerbals might use -- perhaps a Kucco, or a Kraken, or a rocket (the rocket from the KSP logo might be cool). \u0022The weathervane twists wildly in the storm.\u0022\u003C/p\u003E\n"},{"CreatedByName":"DaMichel","CreatedById":93697,"CreatedDateTime":"2015-01-10T19:18:33Z","Content":"\n\u003Cp\u003Esilverfox, i think what you are doing is awesome but would you consider making a light version which fakes the whole weather simulation with closed formulas? I just think that basically doing a weather forecast simulation may be a bit too computationally demanding for the sake of just having a bit of wind to make flying more interesting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-10T19:20:49Z","Content":"\n\u003Cp\u003E@DaMichel, To make a whimsical weather system is not my goal with KWS, I *may* make one later on, after I\u0027m done with KWS, but that\u0027s a big if, simply because magical weather doesn\u0027t interest me. And trust me, so far it won\u0027t be too demanding on your toaster \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-11T17:52:41Z","Content":"\n\u003Cp\u003EBtw, if any of you thought 70km/h winds are crazy, I\u0027m currently getting \u0026gt;8000km/h winds \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Darren9","CreatedById":58062,"CreatedDateTime":"2015-01-11T21:39:50Z","Content":"\n\u003Cp\u003E70km/h is enough to deal with for me I think \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Is there/could there be some way to \u0022look out the window\u0022 and asses the wind/weather from the VAB/SPH before making the trek out to the runway and ending up sat there with a craft that can\u0027t possibly take off in the conditions you find?\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-12T00:09:40Z","Content":"\n\u003Cp\u003E@Darren9, when weather tracking becomes a thing, I\u0027ll have a GUI that comes up on the Space Center view to let you know of the weather around the globe, the GUI in the VAB will be for measuring EC generated from wind turbines on craft, resource capacity, weather tracking abilities, and data bandwidth.\u003C/p\u003E\n"},{"CreatedByName":"DaMichel","CreatedById":93697,"CreatedDateTime":"2015-01-12T10:24:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022silverfox8124\u0022 data-cite=\u0022silverfox8124\u0022\u003E\u003Cdiv\u003E@DaMichel, To make a whimsical weather system is not my goal with KWS, I *may* make one later on, after I\u0027m done with KWS, but that\u0027s a big if, simply because magical weather doesn\u0027t interest me. And trust me, so far it won\u0027t be too demanding on your toaster \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay then. \u003C/p\u003E\u003Cp\u003EOn the other hand i realize that i would like to test vehicles in specific wind conditions. So something even simpler than what i requested would be nice to have. Basically like the very beginning of Kerbal Weather Sytems where you just set a constant wind speed and maybe some turbulence. When i have time and feel like doing so i will just make this for myself using the old KWS as basis.\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-12T17:35:02Z","Content":"\n\u003Cp\u003E@DaMichel, Hmm.. Testing facilities would be nice.. Perhaps if there was a wind tunnel or weather testing facility of sorts? The idea of having a testing facility, where you put your vessel inside it, and then manually create the conditions is something that *could* be done... But for now, that is on the back burner. I shall add that to my Wishlist. However, please take into consideration the Copyright license KWS has/had and all I ask is for you to respect it.\u003C/p\u003E\u003Cp\u003EAlso, on the note of turbulence, that is something I could probably add without *too* much hassle, but it\u0027s not of significant priority currently. This mod is still Alpha, and probably will be for a few months until things start coming along better.\u003C/p\u003E\u003Cp\u003EAs for progress update, I just changed the WeatherCell class into a struct, and am working on going through all those changes and such. I\u0027m sorry to say, but it\u0027s going to be a decent chunk of time before the 6.0 comes out, but when it does come out, it will be gloriously mediocre.\u003C/p\u003E\n"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-01-14T15:43:28Z","Content":"\n\u003Cp\u003EHey creator, I was thinking of including this for RVE (RSS) and in particular for Venus, which has pretty intense wind speeds up to 355km/h however it wouldn\u0027t be this great at ground level, and trying to land/take off/EVA in those kinds of winds would be impossible. So I ask this; would it be possible to allow some logarithmic wind speed decrease with decreasing altitude, to better replicate high altitude winds?\u003C/p\u003E\u003Cp\u003ECheers again for the mod,\u003C/p\u003E\u003Cp\u003EP\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-14T17:23:29Z","Content":"\n\u003Cp\u003Eputting in a plea for Blizzy toolbar support. AppLauncher is just not a feasible sole target at the moment because it becomes too crowded, too quick. Soon my top-center UI widget will be overrun!\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-14T17:52:47Z","Content":"\n\u003Cp\u003E@Gaiiden, I\u0027d like to get the stock app launcher up and running first before moving to blizzy\u0027s toolbar. Also, if the button is lost, it\u0027s alright, just press ESC and it pops up automatically for some reason unknown...\u003C/p\u003E\u003Cp\u003E@pingopete, the high(er) altitude high winds are caused by less friction being had against the earth\u0027s surface that lower atmospheric layers have, and I\u0027m *hoping* to include friction as a factor, but that could perhaps be for 6.1, right now I\u0027m focused on getting my cells to stack, layer and update properly with proper values, which is a task in itself... Also, I\u0027m quite sure that the decrease in wind speed is logarithmic with altitude... It\u0027s a series of calculations and calls to surrounding points in space that gives you your answer of wind speed and direction. \u003C/p\u003E\u003Cp\u003EWeather isn\u0027t easy, it\u0027ll take time to get good. Also, it doesn\u0027t make my job any easier that our knowledge on climates of other planets isn\u0027t as \u0022full\u0022 as our knowledge of earth\u0027s climates and wind patterns. I also can\u0027t apply earth\u0027s values to Laythe because it\u0027s atmosphere is a metric f* ton of salt and it has very little land to it.\u003C/p\u003E\n"},{"CreatedByName":"DaMichel","CreatedById":93697,"CreatedDateTime":"2015-01-17T18:30:20Z","Content":"\n\u003Cp\u003EDid it. This is a polished up version of your first release. No fancy stuff.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/EgP74pM.jpg\u0022 alt=\u0022EgP74pM.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/DaMichel/KerbalWind/releases/download/R1/KerbalWindR1.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/DaMichel/KerbalWind/releases/download/R1/KerbalWindR1.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/DaMichel/KerbalWind\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/DaMichel/KerbalWind\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not sure where to put it. Do you want to put it in the OP until KerbalWeatherSystem is more stable? I\u0027m planning to add a bit of random noise for turbulence. Apart from that i think it is already done. \u003C/p\u003E\u003Cp\u003EBeside, you will see that i (re)wrote virtually everything by myself, using KerbalWeatherSystem.cs as starting point, i have to admit. I\u0027m no lawyer, but i think it is fair if i claim it as my intellectual property, or whatever, and put it under GPL, okay?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-17T18:36:59Z\u0022 title=\u002201/17/2015 06:36  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 17, 2015\u003C/time\u003E by DaMichel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-17T21:25:11Z","Content":"\n\u003Cp\u003E@DaMichel, Neat work you\u0027ve done. It\u0027d fit well with a turbulence/ wind tunnel facility. However, in your code, you reference the navball, and this is unnecessary. You just go: \u003C/p\u003E\u003Cp\u003EVessel vessel = FlightGlobals.ActiveVessel;\u003C/p\u003E\u003Cp\u003EVector3 Up = vessel.upAxis.normalized; \u003C/p\u003E\u003Cp\u003EBoth ferram4 and I use this code to get the up vector relative to surface, no need to use the navball. But I do commemorate your use of other methods. \u003C/p\u003E\u003Cp\u003EI however, am not too entirely sure about license conflicts, as I operate under ARR(All Rights Reserved) and I don\u0027t know if that conflicts with GPL.\u003C/p\u003E\u003Cp\u003EHowever, since you did copy-paste my source, then edit it as necessary, you MUST include my license in yours. That is, you must mention me in your license, and include source of where you got the code from, that is what I ask of you. Also, my thread isn\u0027t a place for your mod to be put, I suggest making your own thread for such, and in such, I also request that you link to this thread, or in the very least, to my github. I shall get back to you on any other matter regarding such that comes up.\u003C/p\u003E\u003Cp\u003EIf only we could make our own buildings, I would be in full agreeance to collaberate with what you have and build a wind tunnel facility. I wonder if this can be done already, however I do not know.. \u003C/p\u003E\u003Cp\u003ENext step I suggest would be making a text field for the wind speed input. I also recommend a Lerp function to go from wind direction to wind direction, see my Wind.cs class for more code example on how I do things.\u003C/p\u003E\u003Cp\u003EBest of luck~\u003C/p\u003E\u003Cp\u003E~SilverFox8124\u003C/p\u003E\n"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-01-17T22:57:15Z","Content":"\n\u003Cp\u003EAlso, the line: \u0022The following code is based off the work of SilverFox8124, and used with permission under license of: All Right\u0027s Reserved, 2014(copyright symbol)\u0022\u003C/p\u003E\u003Cp\u003Ewould be acceptable to put in the license.\u003C/p\u003E\u003Cp\u003E~SilverFox8124\u003C/p\u003E\n"}]}