{"TopicId":134896,"ForumId":36,"TopicTitle":"[1.0.5] Music Hack - custom soundtrack player","CreatedByName":"tay","CreatedById":160740,"CreatedDateTime":"2016-03-25T00:03:14Z","PageNum":1,"Articles":[{"CreatedByName":"tay","CreatedById":160740,"CreatedDateTime":"2016-03-25T00:03:14Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:36px;\u0022\u003E\u003Cstrong\u003EMusic Hack\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI made a short \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/62902-105-krpc-remote-procedure-call-server-v022-28th-feb-2016/\u0022\u003EkRPC\u003C/a\u003E script that plays music based on in-game events and figured I\u0027d share it here and maybe get some feedback. It\u0027s an alternative to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/59682-10x-soundtrack-editor-30-beta-available/\u0022\u003ESoundtrack Editor\u003C/a\u003E for people low on memory. It\u0027ll also be easier to add new music events for people who\u0027d rather not dive into full-on add-on development. I\u0027ve found this better than the \u0022mute and play space music\u0022 strategy I was using earlier.\n\u003C/p\u003E\n\u003Ch2 style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003EFeatures\u003C/strong\u003E\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cul\u003E\u003Cli\u003E\nAs an external program, no impact on game memory usage\n\u003C/li\u003E\n\u003Cli\u003E\nCan play anything that VLC can play, such as Youtube URLs\n\u003C/li\u003E\n\u003Cli\u003E\nCan play dramatic music during docking or rendezvous a la \u003Cem\u003EInterstellar\u003C/em\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nPlay custom music while editing, above the atmosphere, at the space center, or at the tracking station, eg play the Normandy galaxy map theme at the tracking center\n\u003C/li\u003E\n\u003Cli\u003E\nPlay main menu music\n\u003C/li\u003E\n\u003Cli\u003E\nConfigurable via \u003Ccode\u003Emusic.yaml\u003C/code\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nComes with stock music\n\u003C/li\u003E\n\u003C/ul\u003E\u003Ch2 style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003ERequirements\u003C/strong\u003E\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cul\u003E\u003Cli\u003E\nPython 2.7 or later\n\u003C/li\u003E\n\u003Cli\u003E\nLibVLC for Python (\u003Ccode\u003Epip install python-vlc\u003C/code\u003E) - currently only supports 32 bit python\n\u003C/li\u003E\n\u003Cli\u003E\nkRPC (\u003Ccode\u003Epip install krpc\u003C/code\u003E)\n\u003C/li\u003E\n\u003Cli\u003E\nPyYAML (\u003Ccode\u003Epip install PyYAML\u003C/code\u003E)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003EDownloads\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003E\u003Ca href=\u0022https://github.com/FenixFeather/ksp-music-hack/archive/v0.2.1.zip\u0022 rel=\u0022external nofollow\u0022\u003EGithub\u003C/a\u003E\u003Cspan\u003E | \u003Ca href=\u0022https://github.com/FenixFeather/ksp-music-hack\u0022 rel=\u0022external nofollow\u0022\u003ESource\u003C/a\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Ch2 style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003EConfiguration\u003C/strong\u003E\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cul\u003E\u003Cli\u003E\nEdit \u003Ccode\u003Emusic.yaml\u003C/code\u003E\n\u003Cul\u003E\u003Cli\u003E\nIndividual files or directories with music inside are allowed\n\u003C/li\u003E\n\u003Cli\u003E\nTo disable music for a label, just delete all the bullets underneath it\n\u003C/li\u003E\n\u003Cli\u003E\nBackslashes must be doubled for Windows style paths\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nMute KSP music\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003EUsage\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nRun the program (\u003Ccode\u003Epython music_hack.py\u003C/code\u003E or \u003Ccode\u003E./music_hack.py\u003C/code\u003E) and start the game, in whatever order\n\u003C/li\u003E\n\u003Cli\u003E\nStart kRPC server (or set to autostart) after loading a save\n\u003C/li\u003E\n\u003Cli\u003E\nAccept connection from KSP (or set KRPC server to auto-accept)\n\u003C/li\u003E\n\u003Cli\u003E\nCrashes of the music player only require a restart of the music player\n\u003C/li\u003E\n\u003C/ul\u003E\u003Ch2 style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003ELimitations\u003C/strong\u003E\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cul\u003E\u003Cli\u003E\nCan only distinguish the tracking center. The rest of the space center scenes all play music from the space center label.\n\u003C/li\u003E\n\u003Cli\u003E\nDoesn\u0027t come with stock tracking or main menu music (licensing limitations)\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cs\u003ECan\u0027t play KSP theme when the program launches\u003C/s\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nYoutube playback depends on whether LibVLC has up-to-date Youtube capabilities.\n\u003C/li\u003E\n\u003Cli\u003E\nSpace music continues after switch to space center till next scene change.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-28T02:50:46Z\u0022 title=\u002203/28/2016 02:50  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 28, 2016\u003C/time\u003E by tay\u003C/strong\u003E\n\u003Cbr\u003EUpdate download link\n\u003C/span\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-03-25T05:35:19Z","Content":"\n\u003Cp\u003E\nSpiffy! I always like to see pythonic things created (since it\u0027s about all I know how to program, haha...\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNice program!\n\u003C/p\u003E\n"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-03-25T05:46:03Z","Content":"\n\u003Cp\u003E\nBasically works like\u00A0SoundSense for Dwarf Fortress? Neat.\n\u003C/p\u003E\n"},{"CreatedByName":"tay","CreatedById":160740,"CreatedDateTime":"2016-03-25T06:03:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222472696\u0022 data-ipsquote-contentid=\u0022134896\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458884119\u0022 data-ipsquote-userid=\u0022102065\u0022 data-ipsquote-username=\u0022komodo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, komodo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSpiffy! I always like to see pythonic things created (since it\u0027s about all I know how to program, haha...\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNice program!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks! Yeah, similar story here. Didn\u0027t want to get into the whole mono business \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222472704\u0022 data-ipsquote-contentid=\u0022134896\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458884763\u0022 data-ipsquote-userid=\u0022110725\u0022 data-ipsquote-username=\u0022Enceos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Enceos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBasically works like\u00A0SoundSense for Dwarf Fortress? Neat.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup, good eye \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I might\u0027ve been a little bit inspired by a \u003Ca href=\u0022https://github.com/FenixFeather/df-music-simple\u0022 rel=\u0022external nofollow\u0022\u003Emusic program I wrote for dwarf fortress\u003C/a\u003E after I gave up trying to make SoundSense work. I guess the same thing happened to me again with Soundtrack Editor. I\u0027m actually thinking about a soundsense-like way to somehow use the KSP game log to figure out when to play the main menu music while waiting to connect to the kRPC server.\n\u003C/p\u003E\n"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-03-25T11:31:26Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/160740-tay/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022160740\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160740-tay/\u0022\u003E@tay\u003C/a\u003E\u00A0KSP game log has all the scene changes you may want to use.\n\u003C/p\u003E\n"},{"CreatedByName":"tay","CreatedById":160740,"CreatedDateTime":"2016-03-25T18:28:16Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/110725-enceos/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110725\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110725-enceos/\u0022\u003E@Enceos\u003C/a\u003E Wow, thanks for the heads up! This is exactly what I needed. Time to take a look at my game log monitoring code...\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Okay, looks like the log file is buffered so it can\u0027t be reliably used for scene changes, but I\u0027ll see if I can get main menu music to work...\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Main menu music is working!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-25T22:22:41Z\u0022 title=\u002203/25/2016 10:22  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 25, 2016\u003C/time\u003E by tay\u003C/strong\u003E\n\u003Cbr\u003EUpdate on findings\n\u003C/span\u003E\n"}]}