{"TopicId":100469,"ForumId":36,"TopicTitle":"KSPBlender - Blender Addon for importing .craft files (now with complete mod support!)","CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-02-22T22:45:19Z","PageNum":9,"Articles":[{"CreatedByName":"esinohio","CreatedById":57681,"CreatedDateTime":"2015-03-11T14:29:15Z","Content":"Not done any animations here yet but looking into it. I have a couple small videos I\u0027ve done in KSP that I\u0027d like to redo completely in Blender or some combination of the KSP and Blender animations. As for renders, I\u0027m currently dumping way to much in the fan works \u0022Show off your Blender Render\u0022 section. Can\u0027t help it! Dang mod is so much fun!\n\nCan\u0027t say it enough Dasoccerguy, Thanks a ton for this Blender mod!!!!! I\u0027m salivating over that Kerbal I see on your front page here. It looks great!"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-03-11T15:12:36Z","Content":"\u003E \n\u003E Not done any animations here yet but looking into it. I have a couple small videos I\u0027ve done in KSP that I\u0027d like to redo completely in Blender or some combination of the KSP and Blender animations. As for renders, I\u0027m currently dumping way to much in the fan works \u0022Show off your Blender Render\u0022 section. Can\u0027t help it! Dang mod is so much fun!\n\u003E Can\u0027t say it enough Dasoccerguy, Thanks a ton for this Blender mod!!!!! I\u0027m salivating over that Kerbal I see on your front page here. It looks great!\n\nAhh I should have thought to look there lol. Thanks to Dasoccerguy, I think I\u0027m going to be spending more of my \u0022free time\u0022 in blender/KSP now lol"},{"CreatedByName":"hobbez","CreatedById":138355,"CreatedDateTime":"2015-03-12T19:46:13Z","Content":"i hope this isn\u0027t considered off topic but:\n\ndo you guys know if this or a similar program can import/export models to solidworks?\n\nI wouldn\u0027t mind 3d printing one of my rockets or rovers, and at the same time, i\u0027m curious to see if i can add parts in the game."},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-03-12T20:41:48Z","Content":"\u003E \n\u003E i hope this isn\u0027t considered off topic but:\n\u003E do you guys know if this or a similar program can import/export models to solidworks?\n\u003E \n\u003E I wouldn\u0027t mind 3d printing one of my rockets or rovers, and at the same time, i\u0027m curious to see if i can add parts in the game.\n\nIf solidworks can use stl I imagine so. Blender does have a bunch of file types it supports. Also there is an \u0022official\u0022 service that will do this now too. Just upload your craft file and it does the heavy work for you. Bit expensive though."},{"CreatedByName":"longbyte1","CreatedById":17521,"CreatedDateTime":"2015-03-13T03:24:42Z","Content":"\u003E \n\u003E i hope this isn\u0027t considered off topic but:\n\u003E do you guys know if this or a similar program can import/export models to solidworks?\n\u003E \n\u003E I wouldn\u0027t mind 3d printing one of my rockets or rovers, and at the same time, i\u0027m curious to see if i can add parts in the game.\n\nThe workflow wouldn\u0027t be hard: just import to Blender, then export it to OBJ, DAE, or STL, then import that into Solidworks. You should try all 3 and see which one preserves the most data."},{"CreatedByName":"Cryocore","CreatedById":88476,"CreatedDateTime":"2015-03-13T11:33:41Z","Content":"In the partdir, where it shows a word in parenthesis next to the directory, what is that word for? In the case of this part: partdir[\u0027adapterSize2-Mk2\u0027] = [\u0022\\\\GameData\\\\Squad\\\\Parts\\\\FuelTank\\\\adapterTanks\\\\Size2-Mk2.mu\u0022,\u0022fuel\u0022], the word is \u0022fuel\u0022. Also, AIES Aerospace is a bigger mod pack than I thought lol, might take me some more time."},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-03-14T09:23:46Z","Content":"\u003E \n\u003E In the partdir, where it shows a word in parenthesis next to the directory, what is that word for? In the case of this part: partdir[\u0027adapterSize2-Mk2\u0027] = [\u0022\\\\GameData\\\\Squad\\\\Parts\\\\FuelTank\\\\adapterTanks\\\\Size2-Mk2.mu\u0022,\u0022fuel\u0022], the word is \u0022fuel\u0022. Also, AIES Aerospace is a bigger mod pack than I thought lol, might take me some more time.\n\nHonestly the tag at the end isn\u0027t very important for any part besides the fuel lines, struts, and clamps because those parts have special code to help them import. One thing I\u0027ve been meaning to do (that I\u0027ll go make a note of on Trello) would be to make that info a little more useful, like saying which section in the VAB they come from."},{"CreatedByName":"hobbez","CreatedById":138355,"CreatedDateTime":"2015-03-14T20:12:13Z","Content":"\u003E \n\u003E The workflow wouldn\u0027t be hard: just import to Blender, then export it to OBJ, DAE, or STL, then import that into Solidworks. You should try all 3 and see which one preserves the most data.\n\nyeah solidworks can do stl. I was hoping to cut out the blender middle man though, since i don\u0027t have it. I\u0027ll figure something out."},{"CreatedByName":"Thomas988","CreatedById":92699,"CreatedDateTime":"2015-03-14T20:50:01Z","Content":"Hey, I\u0027ve got a bit of a problem here. I finally got this mod to work for me (it\u0027s awesome!), but I\u0027m a total newbie at Blender. You see, I got this render down pat, but how to I make it not so dark?\n\nEDIT: Okay, I just solved my previous question. However, I have a new one: how do I increase the render distance? If I move the camera too far the spacecraft I\u0027m trying to get a picture of just vanishes.\n\n**Edited \u003Ctime datetime=\u00222015-03-14T20:55:18Z\u0022 title=\u002203/14/2015 08:55  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 14, 2015\u003C/time\u003E by Thomas988**"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-03-14T21:46:17Z","Content":"\u003E \n\u003E Hey, I\u0027ve got a bit of a problem here. I finally got this mod to work for me (it\u0027s awesome!), but I\u0027m a total newbie at Blender. You see, I got this render down pat, but how to I make it not so dark?\n\u003E EDIT: Okay, I just solved my previous question. However, I have a new one: how do I increase the render distance? If I move the camera too far the spacecraft I\u0027m trying to get a picture of just vanishes.\n\nSounds like a clipping issue. What you\u0027ll want to try is in the 3d view, push N (that toggles one of the tool bars) in that toolbar (you may have to scroll it) you should find \u0022Clip:\u0022 change those numbers until it is visible again. Also you MIGHT want to scale down what you import so you don\u0027t have to mess with clipping. Of course with things like this there are more than several ways to handle it lol"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2015-03-15T16:56:43Z","Content":"Does anyone have an idea what\u0027s going on here? \n\n![5sE47Th.png](http://i.imgur.com/5sE47Th.png)"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-03-15T17:16:47Z","Content":"\u003E \n\u003E Does anyone have an idea what\u0027s going on here? \n\u003E [http://i.imgur.com/5sE47Th.png](http://i.imgur.com/5sE47Th.png)\n\nUsually that is because of an error with the folders for ksp, either the location you put in the kspdir.txt (I think that\u0027s the name) is wrong or I also saw this with the older version of the addon. Double, or triple check you have the right link for ksp put in the addon configuration file and try it again."},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2015-03-15T18:51:15Z","Content":"Thanks! I\u0027ve checked it but same result every time. Doesn\u0027t matter, the Blender Foundation can get a prize for the worst user experience anyway. Every time I download, install and try it, I get extremely annoyed after 15 minutes. I said it last time and should\u0027ve listened to myself: Never again."},{"CreatedByName":"Mad Rocket Scientist","CreatedById":139256,"CreatedDateTime":"2015-03-15T19:09:53Z","Content":"I just bought a book on blender: [http://www.amazon.com/Blender-Foundations-Essential-Guide-Learning/dp/0240814304](https://www.amazon.com/Blender-Foundations-Essential-Guide-Learning/dp/0240814304)\n\nWatch out! Mad blender science coming! (Maybe).\n\nP.S.\n\nLove this add-on, I\u0027ve already done a bunch of renders."},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-03-15T19:14:21Z","Content":"\u003E \n\u003E Thanks! I\u0027ve checked it but same result every time. Doesn\u0027t matter, the Blender Foundation can get a prize for the worst user experience anyway. Every time I download, install and try it, I get extremely annoyed after 15 minutes. I said it last time and should\u0027ve listened to myself: Never again.\n\nSounds like you could use a video tutorial, which I just so happen to be working on!\n\nI have a hunch that the .mu importer isn\u0027t enabled. Press Ctrl\u002BAlt\u002BU and go to Addons, then search \u0022ksp\u0022 and make sure both addons show up and that you\u0027ve checked the checkboxes. It threw an error when it went to look for an object within Blender that was never created because it was never imported.\n\nBlender has a steep learning curve, but it is the single most rewarding program I have ever used. It has all the potential if you just tough it out. This week I\u0027ll be making a YouTube series for people exactly in your shoes, so can you give it 1 more chance?"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2015-03-15T19:21:19Z","Content":"\\*sigh\\*\n\nYou\u0027ve convinced me. The alternatives aren\u0027t really alternatives. I\u0027ll just drink a bottle of wine and listen to happy music while trying, and I\u0027ll watch your video tutorials. It\u0027s better than coding anyway, when trying to understand even kOS my reactor almost went critical."},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-03-15T19:29:45Z","Content":"\u003E \n\u003E I just bought a book on blender: [http://www.amazon.com/Blender-Foundations-Essential-Guide-Learning/dp/0240814304](https://www.amazon.com/Blender-Foundations-Essential-Guide-Learning/dp/0240814304)\n\u003E Watch out! Mad blender science coming! (Maybe).\n\u003E \n\u003E P.S.\n\u003E \n\u003E Love this add-on, I\u0027ve already done a bunch of renders.\n\nThanks for the P.S.! Any sneak peeks you want to upload?\n\nThe book looks interesting, though the first thing I noticed is that it was written for 2.6 (2012 and 2013). All of the fundamentals will be the same, but there have been a lot of improvements and very valuable additions since then. Blender tends to get 2 or 3 major updates every year. On this page ([http://www.blender.org/features/past-releases/](http://www.blender.org/features/past-releases/)) you can see the release history to get an idea of what I\u0027m talking about. Each image goes to a changelog where they talk about what was updated.\n\nSome highlights:\n\n- Freescale render engine (v2.67b), which lets you do cartoon and cell shading, outlines, and several other things very easily. I\u0027ve used this render engine for making engineering-y schematics.\n- Volumetric rendering for Cycles, which lets you do things like create photorealistic fire and smoke in like 2 minutes once you get the hang of it.\n- Overhauls to the texture painting and sculpting modes\n- Overhaul of the node editor\n\nBut the book looks like a good place to start. Blender underwent a complete transformation at the 2.5 release, so it\u0027s crucial that the book is after that. Apparently they don\u0027t even list the versions before 2.5 (i.e. before mid 2011) on the downloads page... haha. Every now and then when you search around the internet for help you\u0027re going to come across images like this: [http://wiki.blender.org/uploads/0/0c/Tree_interface.png](http://wiki.blender.org/uploads/0/0c/Tree_interface.png), which is from a pre-2.5 version of Blender. It honestly looks like a different program.\n\n**Edited \u003Ctime datetime=\u00222015-03-15T20:08:07Z\u0022 title=\u002203/15/2015 08:08  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 15, 2015\u003C/time\u003E by Dasoccerguy**"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-03-15T21:45:11Z","Content":"\u003E \n\u003E Blender has a steep learning curve, but it is the single most rewarding program I have ever used. It has all the potential if you just tough it out. This week I\u0027ll be making a YouTube series for people exactly in your shoes, so can you give it 1 more chance?\n\nThat\u0027s certainly the truth. I find Blender Guru has some great tutorials, and I would recommend them to anyone starting out with Blender. \n\nI got into blender because I was introduced to 3d Studio Max (version 3.0) back in 1998 or around there, when I was in high school. First I got into it as it was part of a tech class I was in, but also when I was in FIRST Robotics they gave schools copies of it. Then of course I got into blender, as it was free and was similar to 3dsm, though at the time it was very limited. Now of course it\u0027s pretty much got all the features you would need. I\u0027m pretty interested in the camera tracking bit. Keep meaning to do something with that but have yet to mess with it."},{"CreatedByName":"Cptman","CreatedById":101643,"CreatedDateTime":"2015-03-16T18:39:59Z","Content":"Hello everyone\n\nThanks for the add-on it looks great (even if I can\u0027t get it to work, it seems that it has a problem with finding the correct part for the cockpit. I might try again later )\n\nI think that you should mention to people (maybe on the download page ?) that they can use their GPU to render with Cycles in Blender, it goes much faster (most of the time). It would be really useful for people who are new to Blender and might not know about it.\n\nTo be able to use your GPU you have to go in User Preference \u003E System \u003ECompute Device (bottom left) and select CUDA and in the menu select the GPU you want to use.\n\nHowever, it has some limitations : not every GPU are supported [http://www.blender.org/manual/render/cycles/gpu_rendering.html](http://www.blender.org/manual/render/cycles/gpu_rendering.html) (\\*), some Cycles features are also experimantal on GPUs. \n\n(\\*) No need to complain here, the Blender Foundation already had a lot of complains about it. They\u0027ve said what was the reason, but I don\u0027t remember where\n\nAlso, I\u0027ve been trying to make a python script to create the dictionary needed for the paths of the models, the right size and the right location. I\u0027ve managed to do something but then I saw that not every mod as the same folder organization (I was testing on B9). So, I\u0027ll have to work some more on it. As far as I know this kind of thing is not in the current add-on, am I right ?\n\nWell, for know I can at least give you the dictionary for B9. So, tell me if you want it."},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-03-16T23:36:55Z","Content":"\u003E \n\u003E Hello everyone\n\u003E Thanks for the add-on it looks great (even if I can\u0027t get it to work, it seems that it has a problem with finding the correct part for the cockpit. I might try again later )\n\nYou may have already gone through this but check to make sure both the mu and KSP import plugin are enabled. There was something else i did to fix mine but don\u0027t remember what that was now lol.\n\n\u003E \n\u003E I think that you should mention to people (maybe on the download page ?) that they can use their GPU to render with Cycles in Blender, it goes much faster (most of the time). It would be really useful for people who are new to Blender and might not know about it.\n\u003E \n\u003E To be able to use your GPU you have to go in User Preference \u003E System \u003ECompute Device (bottom left) and select CUDA and in the menu select the GPU you want to use.\n\u003E \n\u003E However, it has some limitations : not every GPU are supported [http://www.blender.org/manual/render/cycles/gpu_rendering.html](http://www.blender.org/manual/render/cycles/gpu_rendering.html) (\\*), some Cycles features are also experimantal on GPUs. \n\u003E \n\u003E (\\*) No need to complain here, the Blender Foundation already had a lot of complains about it. They\u0027ve said what was the reason, but I don\u0027t remember where\n\nYeh, apparently only NVIDIA cards can do GPU rendering, as far as I\u0027ve read anyway.\n\n\u003E \n\u003E Also, I\u0027ve been trying to make a python script to create the dictionary needed for the paths of the models, the right size and the right location. I\u0027ve managed to do something but then I saw that not every mod as the same folder organization (I was testing on B9). So, I\u0027ll have to work some more on it. As far as I know this kind of thing is not in the current add-on, am I right ?\n\u003E \n\u003E Well, for know I can at least give you the dictionary for B9. So, tell me if you want it.\n\nI had been working on adding the mods I use and sending the directory structure to Dasoccerguy, but got distracted with an animation im working on and some other real life stuff lol. I should get back on that sometime in the next few weeks...hopefully"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-03-18T02:10:45Z","Content":"I posted a video I was working on over on the \u0022Show off your KSP Blender Renders\u0022 thread. Here is the link to the post for those interested: [http://forum.kerbalspaceprogram.com/threads/111540-Show-off-your-KSP-Blender-Renders%21?p=1792093\u0026viewfull=1#post1792093](https://forum.kerbalspaceprogram.com/threads/111540-Show-off-your-KSP-Blender-Renders%21?p=1792093\u0026viewfull=1#post1792093)"},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-03-19T01:08:42Z","Content":"\u003E \n\u003E Hello everyone...\n\nI\u0027m going to basically echo what Sma said. Check that both addons are downloaded and enabled, and that you have the right info in kspdir.txt. Eventually I\u0027m going to be consuming the .mu importer and kspdir.txt will become config.txt (and I might even try to find a fancy way to have it force you to update the configuration file when you first use the addon).\n\nYou\u0027re totally right about the GPU thing. I have mentioned it at some points to some people, just not to everyone. There are a couple of hitches, however. While nVidia cards will almost always work, with AMD it is not as certain. Also (and I was beating my head against my desk for an hour before figuring this out), Cycles\u0027 fire and smoke will not render on the GPU. These are new features, so the idea in the Blender development pipeline was to just get them working on CPUs first. I think you understand all that.\n\nAs for the python script for the dictionary... if you can figure it out you\u0027ve solved the last great challenge of this project. I saw no way around manually doing it, especially because the naming conventions are so...... random.\n\nHere\u0027s an example:![H9mjyCj.png](http://i.imgur.com/H9mjyCj.png)\n\nIn the VAB, this part is called \u0022Mk1-2 Command Pod\u0022. The folder it is in is \u0022Mk1-2Pod\u0022. In the .craft file, this part is called \u0022Mark1-2Pod\u0022, as you can see in the bottom left of the screenshot (they\u0027re imported to Blender with the naming system in the .craft files.)\n\nSooooo, I don\u0027t see an easy way to procedurally do this. If all the modders (and Squad) were perfectly consistent then it would be possible.\n\n- - - Updated - - -\n\nAlso if anyone can help me, is it possible to remove the Poll I made on this thread? I figured it would vanish when time was up, but it\u0027s still around and being useless.\n\n**Edited \u003Ctime datetime=\u00222015-03-19T01:09:17Z\u0022 title=\u002203/19/2015 01:09  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 19, 2015\u003C/time\u003E by Dasoccerguy**\n  \n)"},{"CreatedByName":"Mad Rocket Scientist","CreatedById":139256,"CreatedDateTime":"2015-03-19T20:06:34Z","Content":"Here are some renders:\n\n![P9luxAK.jpg](http://i.imgur.com/P9luxAK.jpg)\n\n![AjzKNle.jpg](http://i.imgur.com/AjzKNle.jpg)"},{"CreatedByName":"Cptman","CreatedById":101643,"CreatedDateTime":"2015-03-21T18:19:03Z","Content":"I finished my script and it should work !\n\n\u003E \n\u003E I saw no way around manually doing it, especially because the naming conventions are so...... random.\n\u003E \n\u003E .....\n\u003E \n\u003E In the VAB, this part is called \u0022Mk1-2 Command Pod\u0022. The folder it is in is \u0022Mk1-2Pod\u0022. In the .craft file, this part is called \u0022Mark1-2Pod\u0022, as you can see in the bottom left of the screenshot (they\u0027re imported to Blender with the naming system in the .craft files.)\n\nYeah, I\u0027ve seen that and that\u0027s quite annoying, it would have been quite easier if they had all agreed on a convention.\n\nBut I think that there is a trick: the name in the .craft file is (normally) the same as the one in the .cfg. So, you just have to search in every .cfg file (![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)) (Is\u0027nt it what you did to create the dictionary sofar ? ) and look for the \u0022name =\u0022 and here you go ! And you also have the right scale, location and rescale factor (and even the category).\n\nMy script does exactly that and everything should work alright (hopefully).\n\nBut I\u0027ve already noticed that B9 does not respect that: they use a \u0027.\u0027 as a separator in the .craft and a \u0027\\_\u0027 in the .cfg, so you would have to replace everything onced you have created the dic or when you search for the part (that\u0027s up to you)\n\nMaybe, it is easier to \n\nFinally, where should I put the script ? Github ?\n\n(Off-topic: Is it normal that I have to relog each time just before posting ?)"},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-03-21T18:58:02Z","Content":"\u003E \n\u003E I finished my script and it should work !\n\u003E Yeah, I\u0027ve seen that and that\u0027s quite annoying, it would have been quite easier if they had all agreed on a convention.\n\u003E \n\u003E But I think that there is a trick: the name in the .craft file is (normally) the same as the one in the .cfg. So, you just have to search in every .cfg file (![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)) (Is\u0027nt it what you did to create the dictionary sofar ? ) and look for the \u0022name =\u0022 and here you go ! And you also have the right scale, location and rescale factor (and even the category).\n\u003E \n\u003E My script does exactly that and everything should work alright (hopefully).\n\u003E \n\u003E But I\u0027ve already noticed that B9 does not respect that: they use a \u0027.\u0027 as a separator in the .craft and a \u0027\\_\u0027 in the .cfg, so you would have to replace everything onced you have created the dic or when you search for the part (that\u0027s up to you)\n\u003E \n\u003E Maybe, it is easier to \n\u003E \n\u003E Finally, where should I put the script ? Github ?\n\u003E \n\u003E (Off-topic: Is it normal that I have to relog each time just before posting ?)\n\nI actually had a much stupider way of figuring out each part name. I can\u0027t believe I didn\u0027t use the .cfg files.\n\nYou can email me the script, add it to a Github fork, put it in Dropbox, or whatever you want. I\u0027m really excited to get this going! I\u0027m happy to take a look into the . vs \\_ issue, but I\u0027m thinking that, worst case, we could just have it crank out a big text file that would get added into partdir.py\u0027s dictionary, and we would only have to run the script once per mod.\n\nIt would be great to do away with partdir.py, however..."}]}