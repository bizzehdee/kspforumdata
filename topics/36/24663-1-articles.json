{"TopicId":24663,"ForumId":36,"TopicTitle":"The state of Vessel fields in OnUpdate and OnFixedUpdate","CreatedByName":"Croc","CreatedById":59791,"CreatedDateTime":"2013-04-29T11:18:42Z","PageNum":1,"Articles":[{"CreatedByName":"Croc","CreatedById":59791,"CreatedDateTime":"2013-04-29T11:18:42Z","Content":"\n\u003Cp\u003EHi all,\u003C/p\u003E\u003Cp\u003EThe values in various Vessel fields, for example, acceleration, longitude etc seem to oscillate between a value i\u0027d expect to see and another random value which looks like junk. For example, i\u0027m examining acceleration.x on each update and it sawtooths between the expected value and 0. Longitude does the same except it oscillates between the expected value and a negative number.\u003C/p\u003E\u003Cp\u003EI wondered if perhaps it is not reliable to use these fields or use them in update. If I examine them in OnFixedUpdate, the acceleration vector is always 0,0,0 which suggests it is reset before some calculations take place.\u003C/p\u003E\u003Cp\u003EAny pointers appreciated!\u003C/p\u003E\n"},{"CreatedByName":"ummwut","CreatedById":29846,"CreatedDateTime":"2013-05-02T22:03:34Z","Content":"\n\u003Cp\u003EVessel.transform should give you some info about your craft as far as momentum is concerned. For lat and lon, use CelestialBody.GetLatitude(this.vessel.findWorldCenterOfMass()) and CelestialBody.GetLongitude(this.vessel.findWorldCenterOfMass()).\u003C/p\u003E\u003Cp\u003EAs for whether or not the Lat and Lon values will be within \u002B/- 180 I don\u0027t know. So far during my tests, that seems to be the case.\u003C/p\u003E\u003Cp\u003EAh, actually, there\u0027s a few methods in Vessel that will give you velocity: GetObtVelocity() and GetSrfVelocity(). I hope you can distinguish when to use each.\u003C/p\u003E\n"},{"CreatedByName":"Hooligan Labs","CreatedById":45359,"CreatedDateTime":"2013-05-09T20:03:07Z","Content":"\n\u003Cp\u003EIn short, OnUpdate is when graphics are done and OnFixedUpdate are when physics are done. Anything related to physics should happen during OnFixedUpdate.\u003C/p\u003E\u003Cp\u003EHere is a helpful API list for everything you should need to know about the vessel: \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Category:Community_API_Documentation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Category:Community_API_Documentation\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EExample code:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Module_code_examples\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Module_code_examples\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EGood luck!\u003C/p\u003E\n"}]}