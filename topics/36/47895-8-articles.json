{"TopicId":47895,"ForumId":36,"TopicTitle":"[PLUGIN][ALPHA-10] City Lights and Clouds on Kerbin/Others","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-10T05:10:41Z","PageNum":8,"Articles":[{"CreatedByName":"XNerd_Bomber","CreatedById":54332,"CreatedDateTime":"2013-10-22T08:51:29Z","Content":"\n\u003Cp\u003EInstead of having separate cloud textures for when you are on the ground and then in the sky, why not use the same? Also, can you try making it so that you can pass through the cloud layer, and see it below you as you continue up?\u003C/p\u003E\n"},{"CreatedByName":"Lack","CreatedById":47978,"CreatedDateTime":"2013-10-22T10:01:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022XNerd_Bomber\u0022 data-cite=\u0022XNerd_Bomber\u0022\u003E\u003Cdiv\u003EInstead of having separate cloud textures for when you are on the ground and then in the sky, why not use the same? Also, can you try making it so that you can pass through the cloud layer, and see it below you as you continue up?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf that\u0027s possible then that would be rather nice if it could be made to work properly. Also, I could swear that the under-cloud detail moves across the sky in the opposite direction to the actual clouds.\u003C/p\u003E\u003Cp\u003EAs for other suggestions for other features, only real one I can think of that you haven\u0027t already listed would be a true/false option in the clouds.cfg for the clouds to \u0027stay visible\u0027 as you come closer to them (if that makes sense). This is primarily as, with my current set up, when you approach Eve the cloud layer disappears [see images] and you can see the ground below prior to passing through the layer (and I quite like the idea of not having a clue where you\u0027re going to land till the last moment). But that\u0027s not really super important.\u003C/p\u003E\u003Cp\u003EAlso, an interesting seam I encountered with Alpha-5. Granted this is wildly stretching the scope of the mod, guess it could count as \u0027stress testing\u0027 though.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/5U0Xkwih.png\u0022 alt=\u00225U0Xkwih.png\u0022\u003E\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/v4iVm\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-22T13:03:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022XNerd_Bomber\u0022 data-cite=\u0022XNerd_Bomber\u0022\u003E\u003Cdiv\u003EInstead of having separate cloud textures for when you are on the ground and then in the sky, why not use the same? Also, can you try making it so that you can pass through the cloud layer, and see it below you as you continue up?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is actually just the same texture with a tiled detail applied on the bottom. If the detail is applied to the top, it looks horrible and can be spotted too easily. you can see this by going into map view and view the clouds from within the planet.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-22T14:43:29Z","Content":"\n\u003Cp\u003EAlpha 6 is available... Should add light detail and help the cloud weirdness at lower altitudes.\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2013-10-22T15:39:34Z","Content":"\n\u003Cp\u003EThis is definitely coming along. There are still a couple of glitches - I am seeing seam that Lack reported when I look at Kerbin from the map view, and I am seeing something that looks like z-fighting in that view as well that I didn\u0027t notice earlier this morning on Alpha-5. My main beef with the clouds is that they\u0027re barely visible from low orbit (90km). It seems I need to go up significantly higher before they really fade back into view. From the ground, they look fine. It just looks weird blasting off through clouds, seeing nothing during most of the flight to orbit, and then seeing thin clouds in orbit, despite their much bolder appearance in map view. I assume you\u0027re using distance to the clouds to adjust alpha from above? Maybe reduce the range where that happens by a lot so the clouds are visible from high atmosphere and low orbit?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-22T18:00:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EThis is definitely coming along. There are still a couple of glitches - I am seeing seam that Lack reported when I look at Kerbin from the map view, and I am seeing something that looks like z-fighting in that view as well that I didn\u0027t notice earlier this morning on Alpha-5. My main beef with the clouds is that they\u0027re barely visible from low orbit (90km). It seems I need to go up significantly higher before they really fade back into view. From the ground, they look fine. It just looks weird blasting off through clouds, seeing nothing during most of the flight to orbit, and then seeing thin clouds in orbit, despite their much bolder appearance in map view. I assume you\u0027re using distance to the clouds to adjust alpha from above? Maybe reduce the range where that happens by a lot so the clouds are visible from high atmosphere and low orbit?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInitially, my light shader was doing that... Or so I thought. When I added the cloud layers in, I was surprised to see that they too faded as the camera neared; from the outside only. I realized last night that it is actually the camera performing this shading. I\u0027m trying to work out how to use another camera (and different layers/rendering order) to fix this. If I am able to get this working, it will also fix the z-fighting problem and the lights will be able to go down to right above the surface.\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2013-10-22T21:45:35Z","Content":"\n\u003Cp\u003EOh. My God.\u003C/p\u003E\u003Cp\u003EIs it okay for a dude to say he loves another dude?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://pulpaudio.com/ksp/night/newlights.png\u0022 alt=\u0022newlights.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-22T21:55:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EOh. My God.\u003Cp\u003EIs it okay for a dude to say he loves another dude?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://pulpaudio.com/ksp/night/newlights.png\u0022 alt=\u0022newlights.png\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHaha... In the state of New Jersey it is? I really wish I could figure out how to get the camera to stop fading everything out. It removes the control from the shader and makes it all but impossible to perfect this mod.\u003C/p\u003E\n"},{"CreatedByName":"ahappydude","CreatedById":458,"CreatedDateTime":"2013-10-23T00:07:09Z","Content":"\n\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/3vxvVTp.png\u0022 alt=\u00223vxvVTp.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAdds an new level of awesome sauce in ksp, cheers!\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-23T00:14:42Z","Content":"\n\u003Cp\u003ESo...this is probably quicker than reading the source, but apologies for making you work rather than me. How is the radius of the sphere calculated?\u003C/p\u003E\u003Cp\u003EHere\u0027s why: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/54327-WIP-ALPHA-Realism-Overhaul-Planet-rescale?p=722167\u0026amp;viewfull=1#post722167\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/54327-WIP-ALPHA-Realism-Overhaul-Planet-rescale?p=722167\u0026amp;viewfull=1#post722167\u003C/a\u003E - I\u0027ve rescaled Kerbin to Earth size. Where do you pull planet radius from, or is it harcoded?\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2013-10-23T02:47:24Z","Content":"\n\u003Cp\u003EIt may take a week or 2 (which if my past work on this is any indication, I should be done by Thursday but no promises) but I\u0027ve got some ideas for a new lights map, inspired by how the new cities look from LKO. Hopefully it\u0027ll make for a very nice orbital experience all around.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T04:07:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003ESo...this is probably quicker than reading the source, but apologies for making you work rather than me. How is the radius of the sphere calculated?\u003Cp\u003EHere\u0027s why: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/54327-WIP-ALPHA-Realism-Overhaul-Planet-rescale?p=722167\u0026amp;viewfull=1#post722167\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/54327-WIP-ALPHA-Realism-Overhaul-Planet-rescale?p=722167\u0026amp;viewfull=1#post722167\u003C/a\u003E - I\u0027ve rescaled Kerbin to Earth size. Where do you pull planet radius from, or is it harcoded?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo all planets are actually scaled to the planetary transform. The config files for the cloud allows one to change the sphere radius, but I didn\u0027t expect a need to alter the light sphere size. Though, they may not need to be as they are based off of the planetary sphere transform.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T04:09:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EIt may take a week or 2 (which if my past work on this is any indication, I should be done by Thursday but no promises) but I\u0027ve got some ideas for a new lights map, inspired by how the new cities look from LKO. Hopefully it\u0027ll make for a very nice orbital experience all around.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOooh! I can hardly wait!\u003C/p\u003E\n"},{"CreatedByName":"MrMooner","CreatedById":79610,"CreatedDateTime":"2013-10-23T05:01:32Z","Content":"\n\u003Cp\u003Erbray89, I dip my hat to you sir... this mod, well words do no describe how nice it is to see Kerbin at night\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-23T05:28:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ESo all planets are actually scaled to the planetary transform. The config files for the cloud allows one to change the sphere radius, but I didn\u0027t expect a need to alter the light sphere size. Though, they may not need to be as they are based off of the planetary sphere transform.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, I\u0027ll make sure I\u0027m properly setting that then, and let you know if I run into problems. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"Tommygun","CreatedById":41293,"CreatedDateTime":"2013-10-23T06:01:19Z","Content":"\n\u003Cp\u003EI can\u0027t tell you how awesome this mod is.\u003C/p\u003E\u003Cp\u003EI haven\u0027t felt like this sense I first started playing KSP.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/JCVjBvq\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/JCVjBvq.png\u0022 alt=\u0022JCVjBvq.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-23T07:18:13Z","Content":"\n\u003Cp\u003EDefinitely going to be keeping an eye on this one, good job so far. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Destroyer","CreatedById":36109,"CreatedDateTime":"2013-10-23T07:27:01Z","Content":"\n\u003Cp\u003EBreaking news: Hovering citys seen from Eve probe launch!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Y4UAyr6.png\u0022 alt=\u0022Y4UAyr6.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tw1","CreatedById":59717,"CreatedDateTime":"2013-10-23T12:23:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EOh. My God.\u003Cp\u003E-snip-\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWow. looks like I missed an update. Hope it\u0027s not using too much more memory..\u003C/p\u003E\u003Cp\u003EExcept, that looks like it\u0027s all grid based. Any chance we could mix things up a little, with some radial, or unplanned city forms?\u003C/p\u003E\u003Cp\u003EI\u0027ll be cool to see your net light map, I hope you take the opportunity to modify a few things- Kerbin City doesn\u0027t really stand out in what I\u0027ve got, perhaps it could do with some satellite cities. \u003C/p\u003E\u003Cp\u003EI like how you can see the lights from the Mun. It may not be so realistic, but it helps make it seem more lively. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/M5oJsnxl.png\u0022 alt=\u0022M5oJsnxl.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd the Mun more lonely...\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2013-10-23T12:55:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tw1\u0022 data-cite=\u0022Tw1\u0022\u003E\u003Cdiv\u003EWow. looks like I missed an update. Hope it\u0027s not using too much more memory..\u003Cp\u003EExcept, that looks like it\u0027s all grid based. Any chance we could mix things up a little, with some radial, or unplanned city forms?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe grid you see is defined by a png in the mod named detail.png. I\u0027m not sure yet what changing it will do (esp. changing its size and whatnot) but it\u0027s completely modifiable. Might be cool to allow \u0022detail1.png\u0022 and \u0022detail2.png\u0022 etc.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI\u0027ll be cool to see your net light map, I hope you take the opportunity to modify a few things- Kerbin City doesn\u0027t really stand out in what I\u0027ve got, perhaps it could do with some satellite cities.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKerbin City was my first target. I\u0027ve not seen it yet in game but I think you\u0027ll be satisfied with the change \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T13:01:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EThe grid you see is defined by a png in the mod named detail.png. I\u0027m not sure yet what changing it will do (esp. changing its size and whatnot) but it\u0027s completely modifiable. Might be cool to allow \u0022detail1.png\u0022 and \u0022detail2.png\u0022 etc.\u003Cp\u003EKerbin City was my first target. I\u0027ve not seen it yet in game but I think you\u0027ll be satisfied with the change \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EChanging the grid texture will replace the alpha overlay that is used to provide fake detail. As long as it is tileable and has good covrage it should look good.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T15:20:33Z","Content":"\n\u003Cp\u003EOK! I figured out how to add a new camera properly. Now all I have to do is figure out what to do with lighting... You see, I realized that because the clouds are on a new layer, Kerbol has to have it\u0027s culling mask modified to include it. I did that, now, it mostly works, aside from when Kerbol hits the horizon and the lens flare causes the overlay to render the skybox and makes Kerbin semi-transparent. That\u0027s a feature right? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T18:11:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tommygun\u0022 data-cite=\u0022Tommygun\u0022\u003E\u003Cdiv\u003EI can\u0027t tell you how awesome this mod is.\u003Cp\u003EI haven\u0027t felt like this sense I first started playing KSP.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/JCVjBvq\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/JCVjBvq.png\u0022 alt=\u0022JCVjBvq.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, these kind of responses are the exact reason I\u0027m doing this. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Lack","CreatedById":47978,"CreatedDateTime":"2013-10-23T19:25:22Z","Content":"\n\u003Cp\u003ESome more playing around with this, here\u0027s a few Gifs (fair warning, they\u0027re fairly large so I\u0027ve only put the links in).\u003C/p\u003E\u003Cp\u003EManaged to get the bands on Jool to move in a more interesting way.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/zH8dplR.gif\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehttp://i.imgur.com/zH8dplR.gif\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd Eve\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/DdkVgPY.gif\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehttp://i.imgur.com/DdkVgPY.gif\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBoth sped up considerably.\u003C/p\u003E\u003Cp\u003EAnd a screenshot of Duna. The clouds are a few km too high here, but any lower then they impact with the terrain and it looks a tad silly.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/FJAkiOM.png\u0022 alt=\u0022FJAkiOM.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T19:36:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Lack\u0022 data-cite=\u0022Lack\u0022\u003E\u003Cdiv\u003ESome more playing around with this, here\u0027s a few Gifs (fair warning, they\u0027re fairly large so I\u0027ve only put the links in).\u003Cp\u003EManaged to get the bands on Jool to move in a more interesting way.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/zH8dplR.gif\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehttp://i.imgur.com/zH8dplR.gif\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd Eve\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/DdkVgPY.gif\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehttp://i.imgur.com/DdkVgPY.gif\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBoth sped up considerably.\u003C/p\u003E\u003Cp\u003EAnd a screenshot of Duna. The clouds are a few km too high here, but any lower then they impact with the terrain and it looks a tad silly.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/FJAkiOM.png\u0022 alt=\u0022FJAkiOM.png\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh Man! I love how Jool looks! Reminds me of Jupiter.\u003C/p\u003E\u003Cp\u003EWith any luck, the next release should fix how the clouds look from a distance, and it will be tweakable to get the cut-off just right.\u003C/p\u003E\n"}]}