{"TopicId":54734,"ForumId":36,"TopicTitle":"[1.2.0] Toolbar 1.7.13 - Common API for draggable/resizable buttons toolbar","CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-29T22:39:58Z","PageNum":2,"Articles":[{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2013-12-01T21:22:47Z","Content":"\n\u003Cp\u003EIf you do release with a 000 name, consider adding a KSP version check so the plugin deactivates itself after KSP 0.22. This way, you can reevaluate your decision after KSP 0.23, and most people update mods after a major game release anyway.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EOh, and speaking of that. Will unresolved dependencies stop breaking the game as well?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot that I know of. How would that work, anyway? If a dependency isn\u0027t available, a plugin might try to execute code that doesn\u0027t exist.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-02T19:34:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TaranisElsu\u0022 data-cite=\u0022TaranisElsu\u0022\u003E\u003Cdiv\u003EI know that you are planning on it, but I wanted to reiterate that it is very important that you allow us to control in which scene(s) the icons show.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have added API to add an extensible point to control visibility in a flexible way. (buzzword bingo anyone?)\u003C/p\u003E\u003Cp\u003EExample code: \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/TestButtons/TestButtons.cs#L42-L48\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blizzy78/ksp_toolbar/blob/master/TestButtons/TestButtons.cs#L42-L48\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2013-12-02T20:42:48Z","Content":"\n\u003Cp\u003EWow, I too was going to look at this for a next project \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Good job Blizzy78.\u003C/p\u003E\u003Cp\u003Ei\u0027d be interested in being able to leverage this kind of thing, but I do have one suggestion/idea that I have been researching.\u003C/p\u003E\u003Cp\u003EWhat do you think of using reflection/late dll binding to make the call to the interface. Then other mod writers simply include a code file in our mod, we can test for being able to bind in your dll, and if it cannot find the dll it still displays the way we already do?\u003C/p\u003E\u003Cp\u003EThis means people could have a have a choice of the toolbar or not, and also means no need to include two plugins in a bunch of downloads.\u003C/p\u003E\u003Cp\u003EI can provide some help on that if you are interested - I plan to use the method to allow others to interface to KAC in the future\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2013-12-03T07:06:48Z","Content":"\n\u003Cp\u003EOne thing the KSP UI desperately needs is for buttons that toggle the state of things to show \u003Cem\u003Eon the buttons themselves\u003C/em\u003E their state. As it is, no button using the built in KSP theme/style does that. Some change a tiny icon (enabling/disabling a fuel tank), some change text next to the button. Some, such as Control From Here, change *nothing visually*.\u003C/p\u003E\u003Cp\u003EA toggle button should in some way emulate the style of a real pushbutton that locks in when on and pops out when off. That way all the player has to do is right click a part and at a glance can see the on or off status of all toggle-able functions. In the case of Control From Here it would definitely show which part has control, instead of the current system where it\u0027s impossible to know by looking at or reading the popup menu on control pod parts.\u003C/p\u003E\u003Cp\u003EThere\u0027s a huge number of ways for a GUI button to show its status, but the least ambiguous way is to alter the look of the button itself. One very common example is in multimedia programs where something directly on the Record button turns red. It\u0027s an emulation of the red light on physical equipment that was often mounted in or behind the button.\u003C/p\u003E\u003Cp\u003EThere\u0027s a long standing convention in GUI design for functions that have two or more settings or options. Where only one of a group may be active, the selection graphics should be round. They\u0027re called \u0022radio buttons\u0022 after the station selector buttons on old car and home radios where only one at a time could be pushed in, which would pop out the previously pushed in button. Before GUIs on computers, round circles were used on paper forms where only one in a group should be marked. Radio buttons should show a solid dot when selected.\u003C/p\u003E\u003Cp\u003EWhen any number of options in a group may be selected, the selection graphics should be square or square-ish and are called checkboxes after the square boxes on things like paper forms with lists of things where you may check all that apply. Checkboxes should display a checkmark or X or some other mark that doesn\u0027t nearly fill the box to avoid any visual confusion with radio buttons.\u003C/p\u003E\u003Cp\u003ELike toggle function buttons, radio buttons and checkboxes visually display their change of state.\u003C/p\u003E\u003Cp\u003EClearly and unambiguously displaying the status of things, and sticking to the radio button and checkbox convention (no mater how creatively designed the graphics are) enables the user/player to *quickly* see how things are. That speed can be vital in KSP when you have only a short time to avoid disaster.\u003C/p\u003E\u003Cp\u003EI\u0027ve used and worked on computers for 30\u002B years. Software that goes by these simple conventions is easy to use. The major point of a GUI is that once you\u0027ve learned to use one, you can quickly learn any other - as long as it uses similar techniques for how the controls operate.\u003C/p\u003E\u003Cp\u003EBut then the two biggest proponents and implementors of standardized GUI design have often drastically broken their own rules. Yeah, I\u0027m looking at *you* Apple multimedia apps (all of them from Quicktime 4 on) and Microsoft Office!\u003C/p\u003E\u003Cp\u003EGoogle \u003Ca href=\u0022https://www.google.com/search?q=user\u002Binterface\u002Bhall\u002Bof\u002Bshame\u0022 rel=\u0022external nofollow\u0022\u003EUser Interface Hall of Shame\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-03T09:34:27Z","Content":"\n\u003Cp\u003EAlright, thank you for that little excourse, Galane.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-12-03T15:20:43Z","Content":"\n\u003Cp\u003ESome mod community standardization, I like it. I especially like the idea of the toolbar to handle multiple mods. If it gets a toolbar, Steamgauges is in.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-03T15:33:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trueborn\u0022 data-cite=\u0022Trueborn\u0022\u003E\u003Cdiv\u003EIf it gets a toolbar, Steamgauges is in.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure if that is what you mean, but mod support is generic. There is no need for me to specifically add SteamGauges in any way - you can just use it at will.\u003C/p\u003E\u003Cp\u003E(If you talked about something else, please let me know \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-12-03T15:43:06Z","Content":"\n\u003Cp\u003EI\u0027m just saying I don\u0027t see a whole lot of utility to replacing my current button with yours unless you implement the toolbar style where multiple buttons are part of a single bar. If I start up a new mod I\u0027ll probably use it regardless, though.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-03T15:50:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trueborn\u0022 data-cite=\u0022Trueborn\u0022\u003E\u003Cdiv\u003EI\u0027m just saying I don\u0027t see a whole lot of utility to replacing my current button with yours unless you implement the toolbar style where multiple buttons are part of a single bar.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight. I have thought about adding toolbars, but haven\u0027t made a final decision yet. It all depends on how far you want to go with this feature: Allow a single toolbar or multiple? Can buttons only live in toolbars, or can they be standalone (as they can now)? If you have multiple toolbars, there needs to be some way to drag a button from one to the other. Especially so if toolbars can be configured to auto-hide if the mouse pointer is somewhere else. You also need some way to create/delete toolbars in the first place.\u003C/p\u003E\u003Cp\u003EIn the end it all comes down to effort vs. usefulness.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-12-03T16:08:33Z","Content":"\n\u003Cp\u003EI did have visions of the Wow toolbars, where you could have like 8 of them. And then I remembered that you probably don\u0027t need that many buttons for KSP mods... But hey, you could always start with one and go from there.\u003C/p\u003E\n"},{"CreatedByName":"softweir","CreatedById":2795,"CreatedDateTime":"2013-12-03T16:30:27Z","Content":"\n\u003Cp\u003EAs a user I would only ever use one buttonbar: I don\u0027t use many mods and wouldn\u0027t feel the need for multiple buttonbars. I wouldn\u0027t really want to move buttons all over the place and I dislike each mod having its own button wherever the mod-creator puts it, and where possible I cluster them all together. So I personally would be very happy with a minimalist buttonbar!\u003C/p\u003E\u003Cp\u003EHowever, I can\u0027t help but think that it should be possible to organise the API so all this is invisible to plugins using it: they don\u0027t care if the buttons are docked to a buttonbar or isolated, they just need to be able to register a button, set its visibility and be informed of click events. (It *would* be useful if the API made the location available at the time a button is clicked so plugin authors can implement drop-down menus.) So at this stage I would suggest you produce the minimal feature-set (up to you to decide if that consists of a buttonbar or individual buttons) and find out how easy or hard that is before going on to elaborate the feature-set.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-03T16:36:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trueborn\u0022 data-cite=\u0022Trueborn\u0022\u003E\u003Cdiv\u003EAnd then I remembered that you probably don\u0027t need that many buttons for KSP mods... But hey, you could always start with one [toolbar] and go from there.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022softweir\u0022 data-cite=\u0022softweir\u0022\u003E\u003Cdiv\u003EHowever, I can\u0027t help but think that it should be possible to organise the API so all this is invisible to plugins using it: they don\u0027t care if the buttons are docked to a buttonbar or isolated, they just need to be able to register a button, set its visibility and be informed of click events.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s exactly what this is all about \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027d like to transfer as much control over the buttons from the plugin authors to the players.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022softweir\u0022 data-cite=\u0022softweir\u0022\u003E\u003Cdiv\u003ESo at this stage I would suggest you produce the minimal feature-set (up to you to decide if that consists of a buttonbar or individual buttons) and find out how easy or hard that is before going on to elaborate the feature-set.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell a \u0022minimal feature set\u0022 already exists (although not recommended for distribution yet.) Please see the OP for a video, downloads, and links to example source code.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-03T17:50:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022softweir\u0022 data-cite=\u0022softweir\u0022\u003E\u003Cdiv\u003EIt *would* be useful if the API made the location available at the time a button is clicked so plugin authors can implement drop-down menus.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d rather have the Toolbar Plugin provide a means to support drop-down menus.\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2013-12-03T20:16:46Z","Content":"\n\u003Cp\u003EI too am a fan of the idea of a single bar with docked icons Blizzy78. Even if its not that I look forward to seeing what you come up with \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-03T20:18:26Z","Content":"\n\u003Cp\u003EI\u0027m currently working on it, but don\u0027t hold your breath just yet.\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2013-12-03T20:23:25Z","Content":"\n\u003Cp\u003EHope that wasnt taken the wrong way, am happy to wait, I know how busy it can get\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-03T20:26:06Z","Content":"\n\u003Cp\u003EOh no, not at all \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EJust wanted to let you know that it won\u0027t be released like today or tomorrow, but it will take a little while. In the meantime, feel free to check out the source code on GitHub, compile against it, and see if anything crops up.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-03T22:27:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EI\u0027d rather have the Toolbar Plugin provide a means to support drop-down menus.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E...I must say, I would like nothing better than an easy to use GUI toolkit I could just link to and not worry about it myself, and your plugin looks suspiciously like a starting point for one.\u003C/p\u003E\u003Cp\u003EI suck at GUIs. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-04T09:51:40Z","Content":"\n\u003Cp\u003EOkay, so I\u0027ve been mucking about with a toolbar yesterday, and so far it\u0027s looking quite nice. I hope to push my code changes to GitHub tonight, zip up another pre-compiled and runnable download, and make a new video demonstrating things.\u003C/p\u003E\u003Cp\u003EAlso, I\u0027m seriously considering dropping button text support for toolbar buttons. It\u0027s not that I can\u0027t get it to work (it already does), but text buttons look really ugly in combination with icon buttons on the toolbar. They also do take up a lot more space than a single icon.\u003C/p\u003E\u003Cp\u003EAlso, I\u0027ve made code changes so that icons on the buttons should be 24x24 pixels, while the buttons themselves will be 32x32 pixels.\u003C/p\u003E\u003Cp\u003EI\u0027d like to point out that things are still a little bit in flux right now, and will continue to be until I\u0027ve released the final version that is ready to be included into third-party plugins.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-04T22:08:50Z","Content":"\n\u003Cp\u003EToolbar is in.\u003C/p\u003E\u003Cp\u003EI have updated the OP for a new video as well as a new pre-compiled demonstration download. Source code is available on GitHub as well. Please enjoy.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-05T00:56:29Z\u0022 title=\u002212/05/2013 12:56  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 5, 2013\u003C/time\u003E by blizzy78\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2013-12-05T12:56:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EToolbar is in.\u003Cp\u003EI have updated the OP for a new video as well as a new pre-compiled demonstration download. Source code is available on GitHub as well. Please enjoy.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAmazing! Believe it or not, I had the same idea for dragging the edge of the window to change grid size. But couldn\u0027t find a technical solution how to do it with GUI xD\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-05T13:02:03Z","Content":"\n\u003Cp\u003EYou can actually only drag the lower-right corner to resize the toolbar. But yeah.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-12-05T14:25:59Z","Content":"\n\u003Cp\u003ECool. SteamGauges will be ready to release with the toolbar when you clear it for public consumption. Are you looking into a way to allow users to change button order?\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-05T14:33:43Z","Content":"\n\u003Cp\u003EYes I am. I have not decided if that feature should make it into the first release, though. A quicker approach would be to just auto-sort by \u0022namespace.id\u0022 for now.\u003C/p\u003E\n"},{"CreatedByName":"PrivateFlip","CreatedById":68273,"CreatedDateTime":"2013-12-05T14:51:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EI will be working hard to ensure that the API will be upwards-compatible, so that a third-party plugin compiled against an older version of the Toolbar Plugin will work fine with a newer version of the plugin.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis would be my mayor concern, I\u0027m glad you\u0027re on it.\u003C/p\u003E\n"}]}