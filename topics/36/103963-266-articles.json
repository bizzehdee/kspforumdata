{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":266,"Articles":[{"CreatedByName":"Epoxid","CreatedById":170132,"CreatedDateTime":"2017-08-29T17:53:01Z","Content":"\u003E \n\u003E \n\u003E 37 minutes ago, JBore said:\n\u003E \n\u003E \n\u003E Can I ask what model/year you\u0027re using? I\u0027m wondering if this is video card specific, since Macs are so standardized .... \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And that is exactly the crespulent lighting that makes this mod so wonderful.\n\u003E \n\nI am using MacBook Pro Retina from mid 2015, 2.8 Ghz Core i7 on macOS Sierra 10.12.6\n\nThis machine has two GPUs: Intel Iris Pro 1536 MB and AMD Radeon R9 M370X. I assume it activates the Radeon when KSP is running and I don\u0027t know if there is a way to enforce the Intel to check if the halo is gone then. Does anyone know?\n\nMaybe the halo is an AMD thing on OSX?\n\n**Edited \u003Ctime datetime=\u00222017-08-29T17:53:57Z\u0022 title=\u002208/29/2017 05:53  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 29, 2017\u003C/time\u003E by Epoxid**"},{"CreatedByName":"HaydenTheKing","CreatedById":170974,"CreatedDateTime":"2017-08-29T22:02:37Z","Content":"Graphical Glitch with scatter.  I get this white across my screen at the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E.  It moves up and down depending how i zoom in and out.  It went away when i turned AA off and when i uninstall scatterer.\n\nHardware: Intel I7 4790k @4.6, 32Gb DDR3, Nvdia GTX 1080TI\n\nOutput log:    [https://www.dropbox.com/s/re4o6tkb41qcafm/output_log.txt?dl=0](https://www.dropbox.com/s/re4o6tkb41qcafm/output_log.txt?dl=0)\n\nMod list and pictures of error:  \n\n\u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026module=system\u0026controller=embed\u0026url=http://imgur.com/a/JHA5P\u0022 style=\u0022height:371px;\u0022\u003E\u003C/iframe\u003E\n\n**Edited \u003Ctime datetime=\u00222017-08-29T22:17:06Z\u0022 title=\u002208/29/2017 10:17  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 29, 2017\u003C/time\u003E by HaydenTheKing**"},{"CreatedByName":"Chaumas","CreatedById":179009,"CreatedDateTime":"2017-08-31T01:07:12Z","Content":"[@JBore](https://forum.kerbalspaceprogram.com/index.php?/profile/179686-jbore/) Sure thing! My system specs:  iMac 2013\n\n- Processor: 3.4GHz Intel Core i5\n- RAM: 24GB\n- NVIDIA GeForce GTX775M 2048MB\n- OS: MacOS 10.12.6\n\nYes, I am so grateful for awesome visual mods like Scatterer."},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-09-02T10:40:05Z","Content":"Will scatterer have support for multiple star light sources in the future? Kopernicus updated and supports this now ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nGreat work"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-09-02T10:43:11Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Gameslinx said:\n\u003E \n\u003E \n\u003E Will scatterer have support for multiple star light sources in the future? Kopernicus updated and supports this now ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E Great work\n\u003E \n\nWhat do you mean?"},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-09-02T11:05:53Z","Content":"\u003E \n\u003E \n\u003E 21 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E What do you mean?\n\u003E \n\nFor example if there was a planet between two stars, both sides of the atmosphere would be lit up. In the latest Kopernicus and scatterer, scatterer only uses 1 mainSunBody (I think it\u0027s called that), and only 1 side is lit by 1 star.\n\nIf that made any sense I congratulate you"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2017-09-03T00:50:28Z","Content":"Getting an NRE running GPP.         \u0022Volumetric clouds error on planet: GaelSystem.NullReferenceException: Object reference not set to an instance of an object  \n\n  at scatterer.SkyNode.mapEVEvolumetrics () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u0022    Is this anything to be worried about?     \u003Ca href=\u0022https://www.dropbox.com/s/gjxr0a6uoeup4aa/output_log.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EOutput\u003C/a\u003E  \u003Cbr\u003E\u003Ca href=\u0022http://i.imgur.com/ElkNIDL.jpg\u0022 rel=\u0022external nofollow\u0022\u003EMod List\u003C/a\u003E\n\u003C/filename\u003E\n\n**Edited \u003Ctime datetime=\u00222017-09-03T00:51:32Z\u0022 title=\u002209/03/2017 12:51  AM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 3, 2017\u003C/time\u003E by Motokid600**"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-09-04T00:07:38Z","Content":"\u003E \n\u003E \n\u003E On 9/2/2017 at 7:05 AM, Gameslinx said:\n\u003E \n\u003E \n\u003E For example if there was a planet between two stars, both sides of the atmosphere would be lit up. In the latest Kopernicus and scatterer, scatterer only uses 1 mainSunBody (I think it\u0027s called that), and only 1 side is lit by 1 star.\n\u003E \n\nit\u0027s not a sure bet, but given that blackrack has posted WIP of planetshine, which could require handling multiple light sources, it may be possible. I doubt he\u0027s treating the sun as a single light source and doing reflection calculations to get the amount of light bounced onto the farside of a moon from a planet like Jool. More likely is that Jool will have its own value for light output, thus be treated as a separate lighting source.\n\n**Edited \u003Ctime datetime=\u00222017-09-04T00:08:08Z\u0022 title=\u002209/04/2017 12:08  AM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 4, 2017\u003C/time\u003E by Drew Kerman**"},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-09-04T13:30:12Z","Content":"Spoiler\n\n[https://imgur.com/30MCBmx](https://imgur.com/30MCBmx)"},{"CreatedByName":"CommanderSmith","CreatedById":102438,"CreatedDateTime":"2017-09-04T13:32:23Z","Content":"\u003E \n\u003E \n\u003E Just now, Agustin said:\n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E [https://imgur.com/30MCBmx](https://imgur.com/30MCBmx)\n\u003E \n\nI\u0027m going to give you a heads-up now, before someone bites your head off. In every thread (and in particular this one), if you have a bug, you really need to post your logs and a detailed description of it, including things such as reproducibility. Get those up as soon as possible, is my advice to you. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-09-04T13:36:04Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, Agustin said:\n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E [https://imgur.com/30MCBmx](https://imgur.com/30MCBmx)\n\u003E \n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6473636090\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/\u0026do=embed\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-09-04T14:18:05Z","Content":"I am using scatterer-0.0300 for 1.3 Is that my problem? \n\n\u003E \n\u003E \n\u003E 49 minutes ago, Agustin said:\n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E [https://imgur.com/30MCBmx](https://imgur.com/30MCBmx)\n\u003E \n\n**Edited \u003Ctime datetime=\u00222017-09-04T14:18:24Z\u0022 title=\u002209/04/2017 02:18  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 4, 2017\u003C/time\u003E by Agustin**"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2017-09-04T15:55:59Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Agustin said:\n\u003E \n\u003E \n\u003E I am using scatterer-0.0300 for 1.3 Is that my problem?\n\u003E \n\nWho can tell?  You\u0027ve not provided any description or logs, so no one knows the version of KSP you\u0027re running, what mods you have, or any of the other myriad factors that would affect this.  Personally, I\u0027ve seen a lot of glitches in passing or in detail, but I\u0027ve not seen one that can create what appears to be a river near \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E.  Can\u0027t even be sure of that, considering it\u0027s only one screenshot.  You didn\u0027t even couch your reply considering what [@CommanderSmith](https://forum.kerbalspaceprogram.com/index.php?/profile/102438-commandersmith/) said in his post:\n\n\u003E \n\u003E \n\u003E 2 hours ago, CommanderSmith said:\n\u003E \n\u003E \n\u003E I\u0027m going to give you a heads-up now, before someone bites your head off. In every thread (and in particular this one), if you have a bug, you really need to post your logs and a detailed description of it, including things such as reproducibility. Get those up as soon as possible, is my advice to you. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nSo, as [@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/) as linked, also linked in the red-lettered last line of my signature, I suggest you read the post linked there about how you should properly report an issue so that people can help you.  If you don\u0027t, there\u0027s nothing we can do.\n\n**Edited \u003Ctime datetime=\u00222017-09-04T15:57:07Z\u0022 title=\u002209/04/2017 03:57  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 4, 2017\u003C/time\u003E by Jacke**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-09-04T17:00:05Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Agustin said:\n\u003E \n\u003E \n\u003E I am using scatterer-0.0300 for 1.3 Is that my problem?\n\u003E \n\nYes, that is an issue. If you use v0.0300 in 1.3, the ocean shaders absolutely have to be disabled or you will get floating terrain tiles or what you see in your screenshots."},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-09-04T18:41:19Z","Content":"Updated to 320 and it\u0027s beautiful. Even without all features activated, everything is way much better now. Especially water."},{"CreatedByName":"Teobald","CreatedById":168511,"CreatedDateTime":"2017-09-04T18:46:01Z","Content":"Hello fellow kerbonauts!\n\nI have a problem with the ocean. I get no refelctions. It looks like this. I have all settings enabled in scatterer (I\u0027m using \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E).\n\n[https://imgur.com/a/o4ox3](https://imgur.com/a/o4ox3)\n\nI really hope you can help me! I tried reinstall the game as well."},{"CreatedByName":"Brigadier","CreatedById":147109,"CreatedDateTime":"2017-09-05T01:29:50Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, Teobald said:\n\u003E \n\u003E \n\u003E Hello fellow kerbonauts!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have a problem with the ocean. I get no refelctions. It looks like this. I have all settings enabled in scatterer (I\u0027m using \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://imgur.com/a/o4ox3](https://imgur.com/a/o4ox3)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I really hope you can help me! I tried reinstall the game as well.\n\u003E \n\n[@Teobald](https://forum.kerbalspaceprogram.com/index.php?/profile/168511-teobald/), I suggest you read this first - [How To Get Support (READ FIRST) - Technical Support (PC, modded installs) - Kerbal Space Program Forums](https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/)\n\nWhich versions of KSP, Scatterer and \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E are you using?"},{"CreatedByName":"Teobald","CreatedById":168511,"CreatedDateTime":"2017-09-05T20:47:58Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, Brigadier said:\n\u003E \n\u003E \n\u003E [@Teobald](https://forum.kerbalspaceprogram.com/index.php?/profile/168511-teobald/), I suggest you read this first - [How To Get Support (READ FIRST) - Technical Support (PC, modded installs) - Kerbal Space Program Forums](https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Which versions of KSP, Scatterer and \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E are you using?\n\u003E \n\nHi again! I\u0027m using:\n\nScatterer 0.032b\n\nKSP 1.3\n\n\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E 1.2.2-1\n\nI\u0027m also using stock size \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E if that could have any impact.\n\n**Edited \u003Ctime datetime=\u00222017-09-05T20:55:39Z\u0022 title=\u002209/05/2017 08:55  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 5, 2017\u003C/time\u003E by Teobald**\n  \nmissed mods"},{"CreatedByName":"Teobald","CreatedById":168511,"CreatedDateTime":"2017-09-05T21:10:44Z","Content":"Found this in the log:\n\n[Scatterer] Atmosphere config not found for: Earth  \n\n(Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\n[Scatterer] Removing Earth from planets list  \n\n(Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\nNullReferenceException: Object reference not set to an instance of an object  \n\n  at scatterer.SkyNode.saveToConfigNode () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003Cbr\u003E\n  at scatterer.SkyNode.OnDestroy () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003Cbr\u003E\n  at scatterer.Manager.OnDestroy () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003Cbr\u003E\n  at scatterer.SkyNode.loadFromConfigNode () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003Cbr\u003E\n  at scatterer.Manager.Awake () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003Cbr\u003E\n  at scatterer.Core.Update () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \n\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E"},{"CreatedByName":"Teobald","CreatedById":168511,"CreatedDateTime":"2017-09-05T21:55:24Z","Content":"Hi again guys! SOrry for spamming. But the new release of RSRSS solved my issue! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"chukovskiy","CreatedById":166437,"CreatedDateTime":"2017-09-06T10:50:22Z","Content":"**Update. \u0022Ocean: Refraction Effects\u0022 in the main menu scatterer settings causes the problem.**\n\nI have an issue with violent\n\n\u0022[EXC 13:07:44.728] NullReferenceException: Object reference not set to an instance of an object  \n\n    scatterer.RefractionCamera.OnPreCull ()\u0022\n\nexception spam after loading/switching to a vessel on Duna. I\u0027ve also tested Eve and Laythe so far and they work with no issues.\n\nReproduction: start a new game -\u003E build 3-part canister with engine -\u003E cheat-land it on Duna. At this point everything is OK. If you quicksave-quickload now, the problem will appear.\n\nSwitching to Duna-vessel also causes the problem.\n\nKSP.log: [https://drive.google.com/open?id=0B-CeLSG9s3dCUTNxaWYyaEpQTkE](https://drive.google.com/open?id=0B-CeLSG9s3dCUTNxaWYyaEpQTkE) (the only one I managed to find)\n\nGameData folder:\n\n![6EENztE.png](http://i.imgur.com/6EENztE.png)\n\n**Edited \u003Ctime datetime=\u00222017-09-07T20:17:31Z\u0022 title=\u002209/07/2017 08:17  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 7, 2017\u003C/time\u003E by chukovskiy**"},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-09-09T20:05:39Z","Content":"Hi, anyone knws how to disable everything but the water effets? I a using sci fi visual enhancements but it\u0027s too laggy. I just want the water effects fro scatterer. How can I do that in a simple eeasy way to explain?"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-09-09T21:34:05Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Agustin said:\n\u003E \n\u003E \n\u003E Hi, anyone knws how to disable everything but the water effets? I a using sci fi visual enhancements but it\u0027s too laggy. I just want the water effects fro scatterer. How can I do that in a simple eeasy way to explain?\n\u003E \n\nNot possible. Also,the ocean shaders are the most demanding part of scatterer so disabling everything else probably wouldn\u0027t help very much, even if it was possible."},{"CreatedByName":"Ivy","CreatedById":180919,"CreatedDateTime":"2017-09-10T02:41:01Z","Content":"I have a good bunch of mods installed (SVE, SVT, and a multitude of non graphical mods), so it may not be wholly the fault of scatterer, but I figured this would be the first place to look:\n\n    (Filename:  Line: -1)\n    \n    NullReferenceException: Object reference not set to an instance of an object\n      at scatterer.RefractionCamera.OnPreCull () [0x00000] in :0 \n\nThis line gets spammed ad infinitum when I\u0027m near the surface of the M\u00FCn, and only that body. I thought at first (didn\u0027t look at the verbose logs, just the in-game console) that it could be all the physics-enabled terrain scatter, but those still render a few hundred meters up while the error spam (and associated lag) does go away at that height.\n\n**Edited \u003Ctime datetime=\u00222017-09-10T02:41:43Z\u0022 title=\u002209/10/2017 02:41  AM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 10, 2017\u003C/time\u003E by Ivy**"},{"CreatedByName":"chukovskiy","CreatedById":166437,"CreatedDateTime":"2017-09-10T21:34:24Z","Content":"\u003E \n\u003E \n\u003E 18 hours ago, Ivy said:\n\u003E \n\u003E \n\u003E NullReferenceException: Object reference not set to an instance of an object at scatterer.RefractionCamera.OnPreCull () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\n\u003E \u003C/filename\u003E\n\u003E \n\nTry to uncheck scatterer\u0027s **** **Ocean: Refraction Effects** in the main menu."}]}