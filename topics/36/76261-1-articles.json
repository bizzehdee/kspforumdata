{"TopicId":76261,"ForumId":36,"TopicTitle":"Using Animations for Laser Weapons","CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-06-29T15:56:15Z","PageNum":1,"Articles":[{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-06-29T15:56:15Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EBeam Sword\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis is my attempt to build a custom lightsaber for my Gundam Mech, which I believe I pretty much accomplished. The beam is slightly transparent, glows, and disappears and reappears. The collider disappears as well, which means it won\u0027t bash into things when the beam is turned off.\u003C/p\u003E\u003Cp\u003EI have yet to program the beam to cause damage to objects it comes in contact with, but it is still fun to bash things.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://img1.wikia.nocookie.net/__cb20121226163320/dynastywarriors/images/9/99/Gundam.jpg\u0022 alt=\u0022Gundam.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://giant.gfycat.com/AshamedConfusedBlackfly.gif\u0022 alt=\u0022AshamedConfusedBlackfly.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EI also used the technique for a beam cannon. This animation turns on, then off after a few seconds.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EBeam Cannons\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://giant.gfycat.com/JointCrazyFossa.gif\u0022 alt=\u0022JointCrazyFossa.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EHow I achieved the beam saber, the technique was kind of reversed for the cannon.\u003C/p\u003E\u003Cp\u003EIn blender:\u003C/p\u003E\u003Cp\u003E-Create the object with the beam where it should be when toggled on. So I created the handle with the beam fully extended.\u003C/p\u003E\u003Cp\u003E-THen I added a 1 frame LocScale animation where the beam shrinks down(really, really shrinks down) and moves just above the handle. I didn\u0027t want it to touch it because if damage ever gets added I don\u0027t want it destroying the handle.\u003C/p\u003E\u003Cp\u003EIn Unity:\u003C/p\u003E\u003Cp\u003E-I loaded it into unity and gave the handle and beam convex mesh colliders.\u003C/p\u003E\u003Cp\u003E-For the beam I used additive particles and played with the colors to get the pink glow I wanted.\u003C/p\u003E\u003Cp\u003E.cfg\u003C/p\u003E\u003Cp\u003E-Give the part and animateGeneric module and you should be set to go. \u003C/p\u003E\u003Cp\u003Ecb\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-06T18:50:26Z\u0022 title=\u002209/06/2014 06:50  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 6, 2014\u003C/time\u003E by clown_baby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-06-29T16:16:54Z","Content":"\n\u003Cp\u003Ebeen trying to figure out some FX stuff myself. I think the emitter has to be in a separate mu file, with no visible mesh. when you switch the sword on, the game spawns the FX mu file at a transform you place in the sword mu file. I\u0027m pretty sure that\u0027s how engine particles work. Hot Rocket FX mod thread has a tutorial that might help.\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-06-29T16:19:07Z","Content":"\n\u003Cp\u003EI can\u0027t help in unity editor, never used it much - but I\u0027ve seen a lot of editor tuts while searching for API tuts \u003C/p\u003E\u003Cp\u003EHowever - I\u0027d suggest to write a plugin anyways.\u003C/p\u003E\u003Cp\u003EThe linerenderer,emiter is well documented for scripts many examples online..\u003C/p\u003E\u003Cp\u003E(but why do you use particles and not just a line? Isn\u0027t a light saber just a line anyways? will safe FPS compared to constently emiting that many particles to make it look like a line..)\u003C/p\u003E\u003Cp\u003EAlso damage could be done much more precise in a plugin - what ever get\u0027s touched by the sword will overheat..\u003C/p\u003E\u003Cp\u003Ecurrently working on star trek mod - there I\u0027ve added Phasers and torpedos - in my opinion, this sword can be done wizh 2 or 3 dozens lines of code..\u003C/p\u003E\n"},{"CreatedByName":"hydran101","CreatedById":66994,"CreatedDateTime":"2014-06-29T16:40:42Z","Content":"\n\u003Cp\u003EOh, btw the sword is called a \u0022Beam Saber\u0022\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-06-29T18:37:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Ebeen trying to figure out some FX stuff myself. I think the emitter has to be in a separate mu file, with no visible mesh. when you switch the sword on, the game spawns the FX mu file at a transform you place in the sword mu file. I\u0027m pretty sure that\u0027s how engine particles work. Hot Rocket FX mod thread has a tutorial that might help.\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-06-30T02:24:43Z","Content":"\n\u003Cp\u003Eyeah LineRenderer would be much more efficient than particles, but as far as I know there\u0027re no stock LineRenderer FX you can take without writing a plugin.\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-06-30T15:53:27Z","Content":"\n\u003Cp\u003EWell I guess i could give it a shot. I thought the particle sword looked cool though. Like what a plasma sword would look like\u003C/p\u003E\u003Cp\u003EI found this which should help\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprivate LineRenderer line = null;\u003Cbr\u003E\u003Cbr\u003E    protected override void onFlightStart() {\u003Cbr\u003E        base.onFlightStart();\u003Cbr\u003E\u003Cbr\u003E        // First of all, create a GameObject to which LineRenderer will be attached.\u003Cbr\u003E        GameObject obj = new GameObject( \u0022Line\u0022 );\u003Cbr\u003E\u003Cbr\u003E        // Then create renderer itself...\u003Cbr\u003E        line = obj.AddComponent\u0026lt; LineRenderer \u0026gt;();\u003Cbr\u003E        line.transform.parent = transform; // ...child to our part...\u003Cbr\u003E\tline.useWorldSpace = false; // ...and moving along with it (rather \u003Cbr\u003E                                    // than staying in fixed world coordinates)\u003Cbr\u003E        line.transform.localPosition = Vector3.zero;\u003Cbr\u003E        line.transform.localEulerAngles = Vector3.zero; \u003Cbr\u003E\u003Cbr\u003E        // Make it render a red to yellow triangle, 1 meter wide and 2 meters long\u003Cbr\u003E        line.material = new Material( Shader.Find( \u0022Particles/Additive\u0022 ) );\u003Cbr\u003E        line.SetColors( Color.red, Color.yellow );\u003Cbr\u003E        line.SetWidth( 1, 0 ); \u003Cbr\u003E        line.SetVertexCount( 2 );\u003Cbr\u003E        line.SetPosition( 0, Vector3.zero );\u003Cbr\u003E        line.SetPosition( 1, Vector3.forward * 2 ); \u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    protected override void onPartFixedUpdate() {\u003Cbr\u003E        base.onPartFixedUpdate();\u003Cbr\u003E        // As our part moves make the line point downwards to planet\u0027s center.\u003Cbr\u003E        Vector3 gee = FlightGlobals.getGeeForceAtPosition( transform.position ); \u003Cbr\u003E        line.transform.rotation = Quaternion.LookRotation( gee.normalized );\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-06-30T16:30:59Z","Content":"\n\u003Cp\u003Eas far as I know, you can use these little scripts also in editor - just save it there as .CS and \u0022drag-drop\u0022 it on your part object (at least that is what I remember from a tut I\u0027ve watched once..)\u003C/p\u003E\u003Cp\u003EMaybe that saves the full plugin - but as I said - not much clues about editor..\u003C/p\u003E\u003Cp\u003EHow about you send me your part, and I give it a try..\u003C/p\u003E\u003Cp\u003EAlthough I\u0027m sure, you can learn and grow on your own, faster than you expect - might be a funny project for you..\u003C/p\u003E\u003Cp\u003Eif you try, you can ask me what ever you don\u0027t get - I\u0027ll do my best to clarify - but I also just started with KSP coding a few weeks ago..\u003C/p\u003E\u003Cp\u003Eso don\u0027t expect me to be a university totur..\u003C/p\u003E\u003Cp\u003Ehere some first hints:\u003C/p\u003E\u003Cp\u003E\u0026gt;line.SetColors( Color.red, Color.yellow );\u003C/p\u003E\u003Cp\u003EI suggest to use Color.red for both..\u003C/p\u003E\u003Cp\u003Eas the code is now, it would make a color-gradient - red at the root, yellow at the top..\u003C/p\u003E\u003Cp\u003Eyou either want red or magenta on both ends..\u003C/p\u003E\u003Cp\u003E\u0026gt;line.SetWidth( 1, 0 ); \u003C/p\u003E\u003Cp\u003EThis will make a line like this:\u003C/p\u003E\u003Cp\u003E1m at the root thinning out to 0 at the tip.\u003C/p\u003E\u003Cp\u003Eyou probbably would want to use values like\u003C/p\u003E\u003Cp\u003E=\u0026gt;line.SetWidth( 0.125, 0.08 ); \u003C/p\u003E\u003Cp\u003EThis is a 12.5cm at the root thinning out to 8 cm\u003C/p\u003E\u003Cp\u003E(depends on the scale of you model ofcourse..)\u003C/p\u003E\u003Cp\u003E\u0026gt;line.SetPosition( 0, Vector3.zero );\u003C/p\u003E\u003Cp\u003EThis is the definition for the root position..\u003C/p\u003E\u003Cp\u003E0 = first point - 1 = second point - see below\u003C/p\u003E\u003Cp\u003E\u0026gt;line.SetPosition( 1, Vector3.forward * 2 );\u003C/p\u003E\u003Cp\u003EThis code line defines the end of your sword.\u003C/p\u003E\u003Cp\u003Eposition 1 - see above - The Vector.forward defines what axis the line follows - the \u0022* 2\u0022 is a shortcut to define a lenght..\u003C/p\u003E\u003Cp\u003Ethe here shown definition will draw a 2m line in the \u0022forward\u0022 direction - if your part is rotate correctly in editor, this is what you want. \u003C/p\u003E\u003Cp\u003Emaybe that 2m length is ok, maybe that is too long - depends on the size of your model..\u003C/p\u003E\u003Cp\u003Eto adjust, simply add the desired meter value there..\u003C/p\u003E\u003Cp\u003Efor example\u003C/p\u003E\u003Cp\u003EVector3.forward * 1.7584 wil produce a 1m 75 cm and 84mm line\u003C/p\u003E\u003Cp\u003EI guess you get the point..\u003C/p\u003E\u003Cp\u003EHTH\u003C/p\u003E\u003Cp\u003EGood luck..\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-06-30T16:54:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022philotical\u0022 data-cite=\u0022philotical\u0022\u003E\u003Cdiv\u003Eas far as I know, you can use these little scripts also in editor - just save it there as .CS and \u0022drag-drop\u0022 it on your part object (at least that is what I remember from a tut I\u0027ve watched once..)\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECertainly worth trying, I experimented with embedding KSP Particle in a model that I tried to turn on/off with a generic animation, didn\u0027t work out. But if embedding a line renderer works out, and you can toggle it on/off with ModuleAnimateGeneric it\u0027d be alot easier than dealing with a plugin.\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-06-30T18:47:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022philotical\u0022 data-cite=\u0022philotical\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHow about you send me your part, and I give it a try..\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s really just a cylinder right now. But I could send it to you if you want. What file format?\u003C/p\u003E\u003Cp\u003EI\u0027m down to learn new stuff, I just taught myself blender and unity for my zoids, I just don\u0027t have a whole lot of free time right now\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-06-30T19:04:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022clown_baby\u0022 data-cite=\u0022clown_baby\u0022\u003E\u003Cdiv\u003EIt\u0027s really just a cylinder right now. But I could send it to you if you want. What file format?\u003Cp\u003EI\u0027m down to learn new stuff, I just taught myself blender and unity for my zoids, I just don\u0027t have a whole lot of free time right now\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ebest is a KSP part..\u003C/p\u003E\u003Cp\u003EgameData/Sword/\u003C/p\u003E\u003Cp\u003Ewith model, texture and CFG\u003C/p\u003E\u003Cp\u003Eif i can load it in the game, I can work with it..\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-06-30T20:10:36Z","Content":"\n\u003Cp\u003Ehere\u0027s the handle\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.sendspace.com/file/gmysxh\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.sendspace.com/file/gmysxh\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-07-02T17:53:08Z","Content":"\n\u003Cp\u003Eok I\u0027ve started - it\u0027s actually allready working - but the origin seems to be off - unity is stubborn as allways..\u003C/p\u003E\u003Cp\u003EMay I ask, is this part screwed up in editor or are all axis where they should be according to docs..\u003C/p\u003E\u003Cp\u003EForward = z = straight up (if I\u0027m not mistaken)\u003C/p\u003E\u003Cp\u003EIn case you don\u0027t really know, what I\u0027m talking about, please send me the unity asset so I can check my selfe..\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-07-02T18:31:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022philotical\u0022 data-cite=\u0022philotical\u0022\u003E\u003Cdiv\u003Eok I\u0027ve started - it\u0027s actually allready working - but the origin seems to be off - unity is stubborn as allways..\u003Cp\u003EMay I ask, is this part screwed up in editor or are all axis where they should be according to docs..\u003C/p\u003E\u003Cp\u003EForward = z = straight up (if I\u0027m not mistaken)\u003C/p\u003E\u003Cp\u003EIn case you don\u0027t really know, what I\u0027m talking about, please send me the unity asset so I can check my selfe..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think y is up. I\u0027ll fix it tonight\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-07-02T18:34:19Z","Content":"\n\u003Cp\u003Ek - I got close to the desired result in meantime..\u003C/p\u003E\u003Cp\u003Ewith that info, I should be abele to get it done, if not, I\u0027ll let you know..\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-07-11T19:58:50Z","Content":"\n\u003Cp\u003Ephilotical has been a huge help at getting this far, but it\u0027s still slightly off base. The part and plugin source are in the updated OP if you think you have any ideas. Thanks a lot\u003C/p\u003E\u003Cp\u003Ecb\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/qXxn3o0.png\u0022 alt=\u0022qXxn3o0.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-07-11T21:22:50Z","Content":"\n\u003Cp\u003EYour Unity GameObject seems to be displaced slightly from the actual meshes. Make sure you zero out its position (and center the meshes again) before you export it. It looks like philotical was on the right track to figuring it out though:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EswordTransform = this.part.transform;\u003Cbr\u003E//swordTransform = this.part.transform.Find(\u0022Cylinder.002\u0022);\u003Cbr\u003E//swordTransform = this.part.transform.Find(\u0022GundamBeamSaber\u0022);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo close \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E It should work with the existing model with this little change:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EswordTransform = part.FindModelTransform(\u0022Cylinder_002\u0022);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-07-11T21:47:37Z","Content":"\n\u003Cp\u003Eyou want to put the pivot of the grip at the cylinder\u0027s center so the beam will center on the grip.\u003C/p\u003E\u003Cp\u003Ethen you can change the surface attach node in the sword config and offset it in the X by the radius of the grip so you can attach it properly to the IR hinges\u003C/p\u003E\u003Cp\u003Edamage is more complicated. you need a raycast from the grip, in the same direction and length as the linerenderer to check for collisions. if collision is detected, damage is applied to the detected object. I believe you can spawn particle FX at the point of collision as well. I\u0027m don\u0027t know enough programming to code it though. :/\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-07-11T21:48:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003EYour Unity GameObject seems to be displaced slightly from the actual meshes. Make sure you zero out its position (and center the meshes again) before you export it. It looks like philotical was on the right track to figuring it out though:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EswordTransform = this.part.transform;\u003Cbr\u003E//swordTransform = this.part.transform.Find(\u0022Cylinder.002\u0022);\u003Cbr\u003E//swordTransform = this.part.transform.Find(\u0022GundamBeamSaber\u0022);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo close \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E It should work with the existing model with this little change:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EswordTransform = part.FindModelTransform(\u0022Cylinder_002\u0022);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIts all 0s in unity\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/FTxmJtk.png\u0022 alt=\u0022FTxmJtk.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-07-11T21:50:42Z","Content":"\n\u003Cp\u003Emight just need to update your export then. when I pulled the mu into unity the pivot was off to the side, where the beam is in your screencap\u003C/p\u003E\u003Cp\u003Ewhat\u0027s the position of the parent object?\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-07-11T21:51:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022clown_baby\u0022 data-cite=\u0022clown_baby\u0022\u003E\u003Cdiv\u003EIts all 0s in unity\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELook at its parent GameObject\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-07-11T22:32:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003ELook at its parent GameObject\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll check again when I get to my computer but I can pretty much guarantee that\u0027s all 0s as well\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-07-11T23:08:24Z","Content":"\n\u003Cp\u003EAre you \u003Cem\u003Eabsolutely\u003C/em\u003E certain? Could you have a older export in the zip? Here\u0027s what I get with a little debug test:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E\u003Cbr\u003Evar pT = DebugVisualizer.Point(part.transform, 0.25f);\u003Cbr\u003Evar modelT = DebugVisualizer.Point(part.transform.FindChild(\u0022model\u0022), 0.25f);\u003Cbr\u003Evar cylT = DebugVisualizer.Point(part.FindModelTransform(\u0022Cylinder_002\u0022), 0.25f);\u003Cbr\u003E\u003Cbr\u003EpT.renderer.material = modelT.renderer.material = cylT.renderer.material = ResourceTools.ResourceUtil.LocateMaterial(\u0022DebugTools.XrayShader.shader\u0022);\u003Cbr\u003E\u003Cbr\u003EpT.renderer.material.color = Color.red;\u003Cbr\u003EmodelT.renderer.material.color = Color.blue;\u003Cbr\u003EcylT.renderer.material.color = Color.green;\u003Cbr\u003E\u003Cbr\u003ELog.Write(\u0022Finished adding debug spheres\u0022);\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPart part = FlightGlobals.ActiveVessel.parts.Find(p =\u0026gt; p.partInfo.name == \u0022GundamBeamSaber\u0022);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, Part top-level GameObject in red, model transform in blue, and the point my previous snippet will find in green:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://puu.sh/a7idI/4cb5b0b306.jpg\u0022 alt=\u00224cb5b0b306.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ENo question that in the model provided in the zip the MeshRenderers and MeshColliders are displaced. Maybe you intended it to export this way? But then why make it radial-attachable if you only want it to attach at a single point? Hmmm\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2014-07-12T00:40:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Eyou want to put the pivot of the grip at the cylinder\u0027s center so the beam will center on the grip.\u003Cp\u003Ethen you can change the surface attach node in the sword config and offset it in the X by the radius of the grip so you can attach it properly to the IR hinges\u003C/p\u003E\u003Cp\u003Edamage is more complicated. you need a raycast from the grip, in the same direction and length as the linerenderer to check for collisions. if collision is detected, damage is applied to the detected object. I believe you can spawn particle FX at the point of collision as well. I\u0027m don\u0027t know enough programming to code it though. :/\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry I missed this comment. I think the node_attach is to blame. I thought thats how surface attach worked, but I guess node attach can be center and surface attach will still work?\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-07-12T05:24:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022clown_baby\u0022 data-cite=\u0022clown_baby\u0022\u003E\u003Cdiv\u003ESorry I missed this comment. I think the node_attach is to blame. I thought thats how surface attach worked, but I guess node attach can be center and surface attach will still work?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003Enode_attach\u003C/strong\u003E are surface attach nodes and don\u0027t show as green ball in editor; for something like your saber grip, it would be offset in the X direction by about the radius of the object. if there is no offset the objects will clip, which may or may not work depending on your clipping settings in cfg file, Alt-F12, and collision mesh setup.\u003C/p\u003E\n"}]}