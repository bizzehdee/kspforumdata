{"TopicId":100838,"ForumId":36,"TopicTitle":"[1.2] WIP: Civilian population development thread","CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-02-27T04:39:28Z","PageNum":1,"Articles":[{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-02-27T04:39:28Z","Content":"I\u0027ve begun working on the idea I had for in situ kerbal recruitment. The first step is done: confirm that it is actually possible to generate a new kerbal on board a ship. I\u0027m working this as it\u0027s actually possible. The pipeline idea I had before (where you build pipes on a planet) is scrapped as it seems i can\u0027t get resources off a ship unless its loaded.\n\nThe answer is that it\u0027s possible. Here I\u0027m testing the recruitment module using the science lab as a basis. I\u0027ll do a new model for this (maybe). \n\n![uQyJSFS.png](http://i.imgur.com/uQyJSFS.png)\n\n![i2nh7gM.png](http://i.imgur.com/i2nh7gM.png)\n\nThe kerbal in the module on the second screenshot was added straight to it from the roster. Apparently that\u0027s the only way to do it without breaking game saves. Trying to interact directly with the CrewGenerator will result in being unable to save and go back to the space center (wow).\n\nNow that i confirmed it\u0027s possible to recruit a kerbal directly to a ship it\u0027s time to build the Civilian population mod.\n\nHeres how ISKR (in situ kerbal recruitment) will work:\n\nCivilian population will be a new resource (like the green resources). In order to build a population on your base or station there will be 3 types of parts you need.\n\n1. Civilian spacecraft dock: This dock will be how civilians actually get to your station. This is a commercial subcontractor dock which will receive new civilians at a rate depending on where the base is. You don\u0027t need this if you plan to launch them yourself.\n\n2. Food: There will be new garden modules and biodomes (like my farm biodome) which will add a \u0022food\u0022 capacity to your ship. Food will be required to support a civilian population\n\n3. Housing: A house module will be available (that actually stores the civilian resource) in different sizes.\n\n4. Kerbal Resource department (pictured above): Finally once you build up enough civilian population you can recruit from it. This spawns crew in-situ.\n\nIf your station or base has enough food and housing and a civilian dock you\u0027ll start to receive civilians. The rate you receive depends on where your base is and how big the current population on it is. Within kerbin system would be the order of a few hours at a time. Out by Eeloo would take years to get them there. You can of course launch a ship with civilians on it to seed your base. That ship will need the necessary parts to sustain the population.\n\n**Edited \u003Ctime datetime=\u00222015-03-11T17:40:14Z\u0022 title=\u002203/11/2015 05:40  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 11, 2015\u003C/time\u003E by michaelhester07**"},{"CreatedByName":"Joshwoo70","CreatedById":111345,"CreatedDateTime":"2015-02-27T05:14:10Z","Content":"I read your food resource\n\nyou can us TAC LS to add the food resource. ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nGot potential! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Tommygun","CreatedById":41293,"CreatedDateTime":"2015-02-27T05:37:23Z","Content":"You could also have In situ Kerbal reproduction for off world colonies with this too.\n\nWith all the mods for new star systems, resource gathering and off world launch pads this is the one resource you can\u0027t generate off world.\n\n**Edit:** I didn\u0027t see that last part of your post.\n\nThe Kerbal Resource department, I guess that\u0027s where you are going with it.\n\n**Edited \u003Ctime datetime=\u00222015-02-27T05:40:26Z\u0022 title=\u002202/27/2015 05:40  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 27, 2015\u003C/time\u003E by Tommygun**"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-02-27T14:46:05Z","Content":"The last part about how big the population is: This is where you can start to get kerbals reproducing. That said I don\u0027t know what the gestation period and lifespan of a kerbal is supposed to be or how horny they are. I would guess you can hire children right out of the box.\n\nPlan for reproduction balance:\n\n- Minimum Civie pop for reproduction: around 50 or so\n- Civie birth rate: once every 3 months per 50 population (it grows faster with a bigger population)\n\nOpen resource system has a food definition that I\u0027ll use.\n\nKerbal Resource Department: Yes your crew are technically your employees so in order to \u0022hire\u0022 them you need an office for them to fill out paperwork in. At the moment I have no plans to make civilian population visible on your ship/base. The civie living space will have some space for crew as well. \n\nA brainstorm of modules I\u0027ll do\n\n- Small mobile KR office: Basic recruitment capability (seen in the picture... i\u0027ll probably just recycle the science lab model for it)\n- Small civilian transport pod: Holds a small civilian population (up to 8). (2.5 meter part)\n- Small garden module: Spherical center module with two 2.5 meter end caps contains floating hydroponic garden. Provides enough food for one small transport pod. Garden pod will probably only consume electricity\n- Larger version of those 3 parts for 25 civilians. Large KR office contains training facility so you can produce experienced kerbals.\n- Farm biodome: provides 50 food\n- Apartment biodome: Civilian population of 50, 8 crew capacity\n- Generation ship quarters: Colossal space biosphere (15 meter radius), 100 civie, 20 crew capacity.\n- Generation ship Farm sphere: Basically the farm biodome but space based.\n- Government center: Reduces the cost of recruiting a kerbal at the base/station it\u0027s attached to and will increase the civilian growth rate.\n- Civilian space dock: Allows growth of population from kerbin (rate will depend on how far from kerbin you are)\n\nI expect to finish the coding tonight and start modelling."},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-02-27T20:33:32Z","Content":"A slow day at work leads me to making some concept models for the generation ship biosphere and the small garden\n\n![mzvBcN6.png](http://i.imgur.com/mzvBcN6.png)\n\n![d7kCj0C.png](http://i.imgur.com/d7kCj0C.png)\n\nThe end caps on the biosphere are sized for 3 meters. Final texture details are yet to come.\n\nThe garden module is 2.5 meter diameter\n\nNew balance brainstorm:\n\nThe biospheres will have greater efficiency in space than on the ground while the biodomes will have greater efficiency on ground than in space.\n\n**Edited \u003Ctime datetime=\u00222015-02-27T20:39:30Z\u0022 title=\u002202/27/2015 08:39  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 27, 2015\u003C/time\u003E by michaelhester07**"},{"CreatedByName":"Nansuchao","CreatedById":135151,"CreatedDateTime":"2015-02-27T23:13:01Z","Content":"Great job, but a little question. How can we took the biospheres in space?"},{"CreatedByName":"Kibble","CreatedById":131042,"CreatedDateTime":"2015-02-27T23:20:27Z","Content":"\u003E \n\u003E I don\u0027t know what the gestation period and lifespan of a kerbal is supposed to be or how horny they are.\n\nHaha! \n\nI assumed Kerbals were birthed from a vat of rocket fuel.\n\n![uruk-hai-birth-o.gif](http://stream1.gifsoup.com/view1/4743214/uruk-hai-birth-o.gif)"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-02-28T04:06:10Z","Content":"Lol a plausible scenario ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nMaking progress on this tonight:\n\nThe coding is mostly there. The models are in the works.\n\nThis is an initial test with the finished Farm biosphere. It has a sphere collider on it which works surprisingly well. \n\n![NOxw94x.jpg](http://i.imgur.com/NOxw94x.jpg)\n\nThe biospheres come with 3 meter attach points on the ends so they can become part of your ship. The farm lights up inside to indicate it is active. It will eventually use the water resource onboard as well, producing waste water which must be recycled. \n\nHere are a few test shots of a generation ship. Depending on how big your ship gets you may need the hangar extender mod.\n\n![YTgCpyW.jpg](http://i.imgur.com/YTgCpyW.jpg)\n\n![lj0EpY6.jpg](http://i.imgur.com/lj0EpY6.jpg)\n\n![Bfe6JiU.png](http://i.imgur.com/Bfe6JiU.png)\n\nHeres a break down on the stats that you see here\n\n![Aalr8F3.jpg](http://i.imgur.com/Aalr8F3.jpg)\n\nFood per pop: This is how much food each civilian consumes\n\npopulation decay rate: if you don\u0027t have enough food the decay timer runs. When that timer goes longer than the decay rate the population decays by 1. The number is in seconds. Timewarping speeds this up.\n\nReproduction rate: You need more than this many civilians for them to start reproducing. The larger your colony gets the faster they reproduce.\n\nGrowth Rate: this is the rate at which your kerbal civilian propulation grows. It is a multipler added to the growth timer.\n\nPopulation growth timer: This timer goes with the Population Growth rate, when it gets higher than the number the population grows by 1. The other Growth Rate accelerates this timer.\n\nConsumption rate: the total speed that your civilians are consuming food on your colony. Your farms need to produce more food than this for your civilian population to survive.\n\nStill to come: making the growth rates process even when the ship is not focused, models for the rest of the parts planned."},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-02-28T23:30:42Z","Content":"Worked on the part models today.\n\nThe Small civilian pod (you can see into it) and Medium civilian quarters\n\n![Msgivmv.png](http://i.imgur.com/Msgivmv.png)\n\nThe large civilian quarters\n\n![db4gtZE.png](http://i.imgur.com/db4gtZE.png)\n\nYou saw the large farm biosphere. The parts below it are the small biosphere and the inline garden\n\n![a\u003E)](()\n\n![6nXeeV6.png](http://i.imgur.com/6nXeeV6.png)"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-03T17:09:33Z","Content":"Now that I launched this I saw some suggestions. I\u0027ll work on the first of the few. Seems that the biggest questions are about how this interacts with TAC life support and MKS. I developed this independent of those mods but the first thing to do will be to integrate with them. Specifically I\u0027ll integrate with the concepts in them.\n\n**TAC life support and MKS**\n\nCurrently the Civilian population only requires food to survive. \n\nEdit:\n\nI\u0027ve decided to separate the civilian resources from existing life support resources. Those systems are well thought out and it\u0027s easier for me to adjust the civilian population balance without breaking those systems by separating the resource.\n\n**Entertainment, Schools, etc (brainstorm)**\n\nIdeas were brought up and I had them too for entertainment and schooling for the civilians. I\u0027ll expand on this for the next update (which will probably come this weekend). I need some play time on TAC and MKS afterall!\n\n*Entertainment*\n\nCivilian kerbals are easily distracted my flashy movies. Movies would inspire them to become pilots, scientists or engineers. A movie theater module would provide a new \u0022Inspiration\u0022 resource. This resource would be required to recruit a kerbal with a specific background (pilot, scientist, engineer). Otherwise the kerbal you get is random (the current \u0022recruit kerbal\u0022 method). Kerbals recruited from the movie theater can be of a specific background but will start at level 1. Movie theaters can choose the type of movie they play granting a different bonus for each. Changing the type of movie clears generated inspiration for that movie theater.\n\nMovie Theater options: (cost reductions only apply to kerbals recruited at that movie theater)\n\n- Play Love Movies: Inspires the Population to reproduce, doubling the growth rate for reproduction. Does not produce inspiration.\n- Play Racing movies: Inspires engineers, generates Inspiration and reduces the cost of recruiting engineers by 10%.\n- Play Scifi movies: Inspires pilots, generates inspiration and reduces the cost of recruiting pilots by 10%\n- Play Science documentaries: Inspires Scientists, generates inspiration and reduces the cost of recruiting scientists by 10%\n\n*Universities*\n\nOnly available in large size components a civilian university on your ship allows you to recruit Scientists and Engineers with level 3 experience. Kerbals recruited from the universities will add to your agency\u0027s reputation. Universities generate an \u0022Education\u0022 resource which is required to recruit the scientist or engineer. Universities would be able to train existing crew as well.\n\nUniversities may also process science experiments (counts as a lab).\n\n*Flight School*\n\nOnly available in large size components a Flight School allows the recruitment of pilots with level 3 experience. Will generate a \u0022Flight experience\u0022 resource. Kerbals recruited from the Flight School add to your agency\u0027s rep.\n\n*Recruting a kerbal with a specific job*\n\n- Recruiting a level 1 kerbal of any job: At the Movie theater, will require 50 inspiration per recruit. May be reduced by the bonus based on the movie type playing.\n- Recruiting a level 3 kerbal scientist or engineer: At the university, will require 5000 education, 500 inspiration per recruit\n- Recruiting a level 3 kerbal Pilot: at the flight school, will require 5000 flight experience, 500 inspiration per recruit\n\nTraining crew at university: Only crew in slots at univ may train, will require 1 education per second for the job selected. Crew cannot be trained beyond level 3.\n\nTraining at flight school: Only crew in slots at flight school may train, will require 1 flight exp per second for the job selected. Crew cannot be trained beyond level 3.\n\n**Edited \u003Ctime datetime=\u00222015-03-03T17:57:53Z\u0022 title=\u002203/03/2015 05:57  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 3, 2015\u003C/time\u003E by michaelhester07**"},{"CreatedByName":"superkurbol2014","CreatedById":103568,"CreatedDateTime":"2015-03-03T20:44:50Z","Content":"It looks like you got a good start. I was wondering can this be used with MKS mod? I was thinking if I could use both that way I could start a small colony and then once it starts to grow I can add a bunch of cilizans and create a large colony. So what I am thinking is I use TAC life support. I start a MKS colony on the moon. I am wanting to bring civilivans to the colony. So I drop a apartment moduel and a farming dome. If I connect that with my current MKS colony could I combine all the life support that it\u0027s already producing?"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-04T15:13:58Z","Content":"Update from last night (I\u0027ll get that question too)\n\nI fixed all of my generators to use double instead of float as that\u0027s how all the resources are handled. The generators no longer have floating point errors! This is big because it allows me to finally use the Community Resource pack resources of Food and Water. Along that lines it will become possible to use existing life support systems to feed your civilians. I\u0027ve gotten into using TAC life support which will be the big integration here. Here\u0027s what will change.\n\n**Integrating into the existing resources, changes coming**\n\nWith the generators fixed I can integrate at the proper consumption rate with TAC Ls. Note that TACLS will not be necessary to have civilians. They\u0027ll use the same resources though. \n\nCivilian population will grow so long as you have food. You\u0027ll no longer have to have a certain amount of it on hand, just that it\u0027s around. They\u0027ll eat food way slower than before, closer to TAC LS default rate. In later releases they\u0027ll consume air and produce CO2 as well. They\u0027ll produce wasteWater and probably consume water too.\n\nThe farm units will have recyclers on board which can convert waste water back into water. They\u0027ll also have always active co2-\u003Eo2 converters cause they\u0027re filled with plants!\n\nWhen your population grows through reproduction there must be 105kg worth of food on hand for the growth to occur, which will be deducted from your food supply when the growth occurs. Growth through the civilian contractor dock will not incur this penalty so long as it\u0027s in kerbin space.\n\n**Kerbal Recruitment: Recruiting specific kerbals**\n\nA random kerbal may be recruited from any Civilian module. This is functionality you enjoy now.\n\nThis random kerbal will have 0 experience.\n\nA specific kerbal job may be recruited from a Movie Theater. Kerbals recruited here will be level 1 (they think they understand how to do a job based on the movies they watched). This will require 50 inspiration(which the theater generates as it operates). You can play any of 4 types of movie with bonuses to each:\n\n- Racing movies: bonus to engineer recruitment\n- Scifi movies: bonus to pilot recruitment\n- Documentaries: bonus to scientist recruitment\n- Love movies: bonus to popultation growth\n\nChanging the type of movie removes all the inspiration from a movie theater.\n\nAs of this point the small movie theater is done. \n\nYes, there will be a 20 screen multiplex biodome because I can\u0027t leave it at just a ball with Movie Theater written on it.\n\nUniversities and Flight schools will also be available. These let you recruit level 3 kerbals.\n\n5000 education (if recruiting from a university)\n\n5000 flightexperience (if recruiting from a flight school)\n\nUniversities are not done yet.\n\nUpdate from tonight\n\nI\u0027ve made my farm generators scalable. They can take any number of input resources and generate any number of output resources. The Civilian regulator does the same thing with the civies. This lets me balance it all.\n\nCivilian Kerbals will consume 1kg of food, 1 kg of water and produce 1kg of waste and wastewater per day.\n\nFarm modules will take .2kg of water and 1kg of biomass and conver them those to 1kg of food and .2kg of waste water per 20 hours (slightly out paces the matched population).\n\nRecyclers on the farms will take 1kg of waste and 1kg of wastewater and convert those into 1kg of biomass and 1kg of water every 12 hours. (so you only need half the recyclers running as you do farms).\n\nNo part will have more than 2 resources on it due to that zooming in bug. There are new tanks that you can attach to your ship in addition to pre-existing containers from other mods.\n\nFarm has: Water/Food\n\nCivilian modules only have Civilian population\n\nContainers:\n\nWater/food (sustenance container)\n\nWaste/WasteWater (waste container)\n\nBiomass/Water(fertilizer container)\n\n**Edited \u003Ctime datetime=\u00222015-03-05T02:52:38Z\u0022 title=\u002203/05/2015 02:52  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 5, 2015\u003C/time\u003E by michaelhester07**\n  \nso i don\u0027t get too spammy"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-06T02:08:53Z","Content":"Been working on the whole rebalance of things and now that it\u0027s finally squared away I got to making the Flight school and university parts.\n\nFlight School:\n\n![czLffQL.png](http://i.imgur.com/czLffQL.png)\n\nThe landing pads are attach nodes so you can actually dock something if you wanted (dock not included)\n\nUniversity\n\n![5OTlEH0.png](http://i.imgur.com/5OTlEH0.png)\n\nThe university has a lab in it to process science experiments."},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-11T01:23:54Z","Content":"Now that 1.1 is flying high I\u0027ve turned my attention to the city that you\u0027ll be flying places... or building on the surface. With that comes a custom biodome/biosphere framework.\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/PkdQ6)\n\nI\u0027ve always wanted kerbals walking around inside a biodome park (it was my first mod even). Now that I\u0027m better at this stuff I can see to making that happen. In that set of screenshots the parts provided allowed me to construct a biodome where my kerbal can walk around inside of and also a biosphere he could fly around in space.\n\nThis will be part of 1.2 (which i\u0027ll save releasing for a while) along with the IVAs for all the civilian population modules."},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2015-03-11T18:02:57Z","Content":"These are looking really good ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nMy concern would be launching them... something tells me FAR will not be impressed with giant spheres going supersonic xD Maybe an option for a foldaway construction that packs into a 3.75m tube and pops out to full size on demand? ^^"},{"CreatedByName":"Goddess Bhavani","CreatedById":14001,"CreatedDateTime":"2015-03-12T03:16:43Z","Content":"I\u0027m really looking forward to playing with these. The biodomes remind me of [Silent Running](https://www.google.com.sg/url?sa=t\u0026rct=j\u0026q=\u0026esrc=s\u0026source=web\u0026cd=2\u0026cad=rja\u0026uact=8\u0026ved=0CCgQFjAB\u0026url=http%3A%2F%2Fwww.imdb.com%2Ftitle%2Ftt0067756%2F\u0026ei=BwUBVfDGB4OdugSWnILQAg\u0026usg=AFQjCNGCMj0NP34anPJVxx9U0NHqxHXzPw\u0026sig2=yJ0NMLzCNMTcIkUtcPTPqw\u0026bvm=bv.87920726,d.c2E)."},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-13T15:30:40Z","Content":"\u003E \n\u003E These are looking really good ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E My concern would be launching them... something tells me FAR will not be impressed with giant spheres going supersonic xD Maybe an option for a foldaway construction that packs into a 3.75m tube and pops out to full size on demand? ^^\n\nYou really want to trust Bob with an acetylene torch? \n\nI\u0027d hope a ball would fly well. I\u0027ll need to grab FAR and see what happens.\n\nThe biodome framework is done. I decided against making them smart enough to remove kerbal helmets. I\u0027ve turned my attention to the cruisers and generation ships you\u0027ll end up with by making some new gigantic structural parts:\n\n![mtV5eMu.png](http://i.imgur.com/mtV5eMu.png)\n\n![ILlem2c.png](http://i.imgur.com/ILlem2c.png)\n\n![hUOa0bl.png](http://i.imgur.com/hUOa0bl.png)\n\nThe structural girders you see are Netherdyne\u0027s Jumbo Truss Girder line. Parts included:\n\n6mx6m cube hub, with and without 3 meter core\n\n18mx18mx6m L girder (seen in the first screenshot)\n\n18mx6mx6m Long truss\n\nThe truss parts are light because they\u0027re mostly welded iron pipes but give a sturdy surface to build generation ships and cruisers out of.\n\nThere is also the cruiser landing leg (seen in the last screenshot), which lofts a land base or cruiser up off the ground by up to 8 meters to protect it from the base kraken."},{"CreatedByName":"AlonzoTG","CreatedById":118178,"CreatedDateTime":"2015-03-26T17:58:01Z","Content":"I am wrapping up my first major city build, design population is around 304 LGM. I am on a mod-planet that is in Kerbin\u0027s orbit but no civies have shown up. I accidentially built with the orbital dock but swapped in the ground dock by editing the save, maybe that caused a problem... Anyway, a universal algorithm to detect whether u are orbiting something is: \n\nboolean recursive\\_is\\_orbiting(local\\_body, tgt\\_body) {\n\nif(local\\_body == tgt\\_body) return true;\n\nif(local\\_body.parent == null) return false; \n\nreturn recursive\\_is\\_orbiting(local\\_body.parent, tgt\\_body);\n\n}\n\n2. Getting agriculture bootstrapped was kinda tricky because I didn\u0027t have any bioMass, I had to ship some up with kerbin using a dinky little multi-function container I had. My life-support tower is overbuilt by a factor of 100 because I wanted to have time to fix things before running out of supplies. \n\nLag is pretty horrible at the base. =P"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-26T18:32:06Z","Content":"I\u0027m planning to release 1.3 tonight so the recursive thing will wait till 1.4. I didn\u0027t expect people to mod planets into kerbin\u0027s SOI so it just reads if you\u0027re at \u0022mun\u0022 or \u0022kerbin\u0022 or \u0022minmus\u0022. \n\nLaggy base is to be expected as KSP does that with high part counts anyway. You can convert substrate into biomass if you have water on your base and substrate is found pretty much anywhere. It might not be on a modded planet unless it\u0027s supported in the community resource pack. I recently had to ship in water to a base I built for QA purposes last night and realized a glitch in the substrate converter. It would produce more water than it consumed. \n\nStay tuned.. probably by 7pm tonight I\u0027ll have the release out.\n\nSome quick teasers!\n\nNew landing gear\n\n![djLzOsz.png](http://i.imgur.com/djLzOsz.png)\n\nNew textures on everything\n\n![RQ9TZMe.png](http://i.imgur.com/RQ9TZMe.png)\n\nThe test base from last night. The biodome farm has a new texture and it\u0027s now properly re-oriented as the Mk2. The original model is kept as the mk1 so I don\u0027t end up destroying all your bases when you update it.\n\n![8LDqPBr.png](http://i.imgur.com/8LDqPBr.png)\n\nFunny thing is my test base doesn\u0027t enough supplies to sustain the 140 population cap it has. The plus side is that it doesn\u0027t lag KSP.\n\n**Edited \u003Ctime datetime=\u00222015-03-26T18:37:09Z\u0022 title=\u002203/26/2015 06:37  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 26, 2015\u003C/time\u003E by michaelhester07**"},{"CreatedByName":"AlonzoTG","CreatedById":118178,"CreatedDateTime":"2015-03-27T05:50:23Z","Content":"okay, kewel.... Here\u0027s a snapshot of what I had built: \n\n![zYc7psS.jpg](http://i.imgur.com/zYc7psS.jpg)\n\nIn somewhat related news, I\u0027ve been trying to fix up that lab from ur StanfordTorus kit because it\u0027s one of my faves, I got the exterior texture back... Things look great from the EVA view except for the kerbal\u0027s rotations but the IVA view is foobar, I had it working before but it got messed up when I started using Unity to work on this. IVA kerbals are in position but the floor and everything else is rotated 90 degrees and pointed toward the north on the KSP pad. \n\nWishlist for that part: \n\nRaster Prop Monitor live orbital display over monitor screen.\n\nGet the damn airlock to work again, I totally botched it...\n\nRadiation-proof glass like you find on airplanes, real spaceships.\n\ngeneral fit and finish improvements. \n\nI\u0027m not sure what your workflow is...\n\nBy the way, notice the exception report in that screenshot, I\u0027m seeing thousands of \u0022PipLines.[C.P.R].ApplyCalculations exceptions..."},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-27T16:28:53Z","Content":"Those exceptions are they from 1.3 or 1.2 civilian pop? I\u0027m pretty sure I didn\u0027t see anything but I\u0027ll have to take a look.\n\nIf you\u0027re rebuilding the IVA for the science center there\u0027s an easy way to go about it:\n\nOpen the External file. \n\nDuplicate the core game object, move it to the right or left. Name it \u0022internal\u0022. Rotate it -90 degrees on X.\n\nRotate the model under the new \u0022internal\u0022 90 degrees on X. This will let you view it properly when you edit it.\n\nI can give you the unity project so you can maintain the stanford torus mod if you want it with my original models in it.\n\nI came to this post to update on the roadmap for 1.4. \n\nObviously the movie theater didn\u0027t get IVAs yet (and i hope you had one in your base). This is because I don\u0027t have a plugin to play movies. I\u0027ll look at that but there is something more pressing to solve in 1.4: to set out and create the actual namesake for the pipelines namespace: pipelines. Being better at modding now I can make the pipelines mod. It will become part of Civilian Population 1.4. Here\u0027s the design plan:\n\nThe pipeline system will implement a network. A scenario config will be used to track the networks on a planet.\n\n- Each ship which wishes to use the pipeline has a pipeline installer part. This part allows a ship to register on the planet\u0027s network. The initial node on the network does not have to do additional setup work. \n\n- Subsequent nodes which will join it will have to pay a cost in rocket parts and build time. Network will likely cost between 1-10 rocket parts per meter distance to the nearest node. During install the rocket parts from an existing network may be used to expand the network. This expansion is processed on the new node. Maximum network connection range will be 10 km.\n\n- Installation for a 10km pipeline will likely take 1 kerbin month.\n\n- The pipeline is severed if a ship leaves the landed state for more than 3 seconds. Severed pipes need to be rebuilt for the full construction cost.\n\n- Once a ship is connected to the network it submits its resources and delta-resource rate to the network. It then gains the full network resource capacity and delta resource. It will be desirable to have the network node part on landing legs of some kind. I\u0027ll have to update the mass of the part to adjust for the resource change. \n\n- Gaining the full network capacity will be the tricky part as it will have to combine almost all in-situ resource generators in existence through every mod. I\u0027ll initially have support for regolith based converters and stock generators. Solar panels will be assumed to be on a duty cycle of 50% of their full rated output (to account for planetary rotation). Other generators will submit their current production to the network as is.\n\n- All resources will be capable of being sent through the pipeline network, even civilians ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n- Planets may have multiple networks on them. If two networks have nodes closer than 10km together they\u0027ll join into a single network. \n\nI\u0027ll be doing the theater IVA as well."},{"CreatedByName":"AlonzoTG","CreatedById":118178,"CreatedDateTime":"2015-03-27T23:30:23Z","Content":"yeah, I\u0027d like that, -- see if I can merge it with the changes I\u0027ve made. Thanks for explaining pipelines, sounds like a great concept for multi-biome harvesting."},{"CreatedByName":"Yski","CreatedById":119366,"CreatedDateTime":"2015-03-28T19:39:11Z","Content":"I have to say I love your mods, simply because of the sheer scale of things. The game gets awfully laggy when you try to stuff hundreds of kerbals into one ship, so I decided I need a civilian population mod to expand my empires beyond mere dozens of kerbals. Until I stumbled across this gem I though I\u0027d have to hack something together myself, but great minds think alike it seems. Keep them coming ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n**Edited \u003Ctime datetime=\u00222015-03-28T19:47:09Z\u0022 title=\u002203/28/2015 07:47  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 28, 2015\u003C/time\u003E by Yski**"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-30T14:13:03Z","Content":"An update on the progress of the pipeline idea\n\nSo it turns out that I can directly modify the resources on unloaded ships. It\u0027s a bit more complicated than the usual part.requestResource() thing. The last part for pipelines is simulating the resources that are changing on the unloaded parts in realtime, down to the modules in use on it. This is fairly difficult as I need to simulate every generator in every existing mod. To be frank, there\u0027s a strong chance that most mods that make their own generator won\u0027t be supported in live unfocused resource updates.\n\nPipelines will support generators in stock, MKS, and Regolith. \n\nHere\u0027s how unfocused resource modification works...\n\nThe FlightGlobals variable has to carry certain data about ships so that they can be loaded and unloaded properly. It has a list of Vessel objects for all of the current vessels. Each vessel has a variable \u0022IsLoaded\u0022 which tells if it\u0027s loaded. If the vessel is loaded then I can get resources directly from it with the part.requestResource() method. If the vessel is not loaded then there is a \u0022ProtoVessel\u0022 which contains the information I need. \n\nProtoVessel contains ProtoPart which contains the resource definitions, stored as a config node. To get resources from the unloaded vessel I parse that protopart, grab what I need, then write back what\u0027s left. The result is live access to resources on all ships, regardless of whether they\u0027re loaded. This part is working properly as expected even. I setup 2 ships outside of \u0022local area network\u0022 range (2.4km) and was able to use resources on the unloaded ship from my main ship. The last part is simulating the resource changes on the ship. This is the tricky part. \n\nDuring my test for this I zeroed all of the resources on every ship in my sandbox from my loaded ship.\n\nThe end result is two types of network.\n\nThe \u0022local area network\u0022 (LAN) contains the loaded ships. Loaded ships will process in realtime, so I don\u0027t need to simulate anything on them.\n\nThe \u0022Wide area network\u0022 (WAN) contains the unloaded ships. Unloaded ships will need to be simulated.\n\nWhat I\u0027ll end up doing is each \u0022live\u0022 ship registers the state of its generators on the pipeline network part module. This keeps me from having to cross reference generators on the part with its config. I don\u0027t know how savegame loads do that. I surmise though if one were to swap the order of modules in the save file (or in the config) that one could break their ship\u0027s modules as modules don\u0027t have IDs stored in the savefile. If they did this paragraph would be way different. I\u0027ll see if I can get an initial version working tonight. If I can then for at least regolith supporting mods the modules on the pipeline network will update constantly, even while away, rather than simply simulating what happens when you get back. I\u0027ll add support for mods as time goes on.\n\n**Edited \u003Ctime datetime=\u00222015-03-30T14:16:10Z\u0022 title=\u002203/30/2015 02:16  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 30, 2015\u003C/time\u003E by michaelhester07**"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-03-31T03:50:54Z","Content":"Heh new bump, cause I finally got the wide area network working! \n\nSupported generators (Regolith, Stock electricity generators) will update in real time while unfocused if they\u0027re on the WAN. \n\n-Solar panels: solar panel simulation is tricky as to truly accurately simulate it I need to know if the ship is currently in sunlight. I got the altitude correctly for Kerbin, but may need to update it for sub-bodies, so long as they\u0027re not the sun.\n\n- RTG: fully supported ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n- Regolith: I simulate the results of the regolith generators and harvesters. This is so far 100% working.\n\nAny generator not supported in the WAN simulation is considered to be inactive on the network when unloaded. Most mod generators will calculate their changes when you get back to the ship. They don\u0027t give any benefit or draw any resource when unloaded. All loaded ships are on the LAN and will update as usual in real time.\n\nI\u0027m going to restrict the pipeline network to basic resources which could realistically be piped around a planet.\n\nElectricity,\n\nWater,\n\nFood,\n\nOre (molten),\n\nMetal (molten),\n\nOxygen,\n\nCarbonDioxide,\n\nWaste (mixed in water)\n\nWasteWater\n\nLiqFuel, Oxidizer\n\nKarbonite and Kethane will be too dangerous to pipe through a network.\n\nResources not carried by the pipe network will have to be handled locally."}]}