{"TopicId":59941,"ForumId":36,"TopicTitle":"Kerbal Crew API","CreatedByName":"EnterElysium","CreatedById":61981,"CreatedDateTime":"2014-01-14T09:41:04Z","PageNum":1,"Articles":[{"CreatedByName":"EnterElysium","CreatedById":61981,"CreatedDateTime":"2014-01-14T09:41:04Z","Content":"\n\u003Cp\u003EHey guys,\u003C/p\u003E\u003Cp\u003Ejust having a quick play with making a plugin (my first time touching code other than a little bit of JavaScript as well), so please be gentle! Was trying to figure out what the calls are to read kerbal crew data such as names and their stats and badass flag whilst they are embarked or even on eva. I can\u0027t find anything on this other than a peruse of the (excellent) Crew Manifest mod\u0027s source code but that\u0027s distributed around several dll\u0027s and hard for a noob like me to follow. Any idea on where to get started and what calls I need to do to grab this info?\u003C/p\u003E\u003Cp\u003EAnd since I\u0027m a complete novice please phrase your answer as if you were talking to a very small braindead child, thanks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"shaw","CreatedById":64788,"CreatedDateTime":"2014-01-14T15:41:23Z","Content":"\n\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    // Iterate through all Kerbals (including those not on a mission).\u003Cbr\u003E    var e = HighLogic.CurrentGame.CrewRoster.GetEnumerator();\u003Cbr\u003E    while (e.MoveNext())\u003Cbr\u003E    {\u003Cbr\u003E      ProtoCrewMember cm = e.Current;\u003Cbr\u003E      // ...\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    // Access info about Kerbals on the scene.\u003Cbr\u003E    if (HighLogic.LoadedSceneIsFlight \u0026amp;\u0026amp; FlightGlobals.ActiveVessel != null)\u003Cbr\u003E    {\u003Cbr\u003E      // Get the current vessel.\u003Cbr\u003E      Vessel vessel = FlightGlobals.ActiveVessel;\u003Cbr\u003E      // Get crew of a vessel.\u003Cbr\u003E      List\u0026lt;ProtoCrewMember\u0026gt; cms = vessel.GetVesselCrew();\u003Cbr\u003E      foreach (ProtoCrewMember cm in cms)\u003Cbr\u003E      {\u003Cbr\u003E        // Do comething for cre members.\u003Cbr\u003E        print(cm.name);\u003Cbr\u003E        cm.isBadass = false;\u003Cbr\u003E        // ...\u003Cbr\u003E      }\u003Cbr\u003E      // ...\u003Cbr\u003E\u003Cbr\u003E      // Get all EVAs on the scene.\u003Cbr\u003E      KerbalEVA[] evas = (KerbalEVA[]) KerbalEVA.FindObjectsOfType(typeof(KerbalEVA));\u003Cbr\u003E      foreach (KerbalEVA eva in evas)\u003Cbr\u003E      {\u003Cbr\u003E        // Get the vessel representing the Kerbal on EVA.\u003Cbr\u003E        Vessel evaVessel = eva.GetComponent\u0026lt;Vessel\u0026gt;();\u003Cbr\u003E        // ...\u003Cbr\u003E      }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"EnterElysium","CreatedById":61981,"CreatedDateTime":"2014-01-19T17:01:28Z","Content":"\n\u003Cp\u003EThanks very much man that was really useful, I\u0027ve managed (the very simple task, I know) of getting my GUI to list crew. Now I just need to figure out how to assign variables to all crew on the roster... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"KhaosCorp","CreatedById":61149,"CreatedDateTime":"2014-01-19T17:39:54Z","Content":"\n\u003Cp\u003ESorry, cant help at all with code or anything......but Im very curious where your going with this?\u003C/p\u003E\n"},{"CreatedByName":"EnterElysium","CreatedById":61981,"CreatedDateTime":"2014-01-19T18:17:14Z","Content":"\n\u003Cp\u003EI\u0027d like to be able to assign a \u0027sanity\u0027 value to Kerbals and initally have it tick down over time and distance from Kerbin with the rate of decrease affected by how much \u0027room\u0027 Kerbals on mission have. So Kerbal in confined spaces, especially alone, would suffer greater sanity loss than three kerbals with some crew compartments to live in. When sanity reaches zero for a kerbal then have some events fire such as \u0027goes for space walk... without his suit\u0027 or \u0027goes on a rampage killing another crew member\u0027 or similar.\u003C/p\u003E\u003Cp\u003ECan around from Scott mentioning it and from playing lots of hard-modded KSP where I found manned missions to be way too superior to using probes.\u003C/p\u003E\u003Cp\u003EHopefully could tie this in to a kerbal\u0027s innate stats like \u0027courage\u0027 and \u0027stupidity\u0027 to have these stats affect how long it takes to go insane, which would give them some meaning at least.\u003C/p\u003E\u003Cp\u003EThe issue is I don\u0027t code but it\u0027s something I mean to get in to, and while I can be imitative and iterative with my coding I don\u0027t understand enough of the fundamental underpinnings of coding language in general. So I\u0027m a little hesitant to call this anything other than a bit of fun/learning for now.\u003C/p\u003E\n"},{"CreatedByName":"The Error","CreatedById":58941,"CreatedDateTime":"2014-01-19T18:40:59Z","Content":"\n\u003Cp\u003EInteresting. So derpy kerbals take longer to realize they should go nuts, or smart ones last longer, or...\u003C/p\u003E\u003Cp\u003EHuh.\u003C/p\u003E\u003Cp\u003EFUN TIMES AHEAD\u003C/p\u003E\n"},{"CreatedByName":"DasBananenbrot","CreatedById":70900,"CreatedDateTime":"2014-01-19T18:48:36Z","Content":"\n\u003Cp\u003EYeah that is something I wish for a long time now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Spacemonkey","CreatedById":74681,"CreatedDateTime":"2014-01-19T23:27:15Z","Content":"\n\u003Cp\u003EI know! The more SRBs there are on a ship with Jeb in it, the more crazy he goes until he starts randomly firing rockets and your ship explodes...\u003C/p\u003E\n"},{"CreatedByName":"a__gun","CreatedById":83859,"CreatedDateTime":"2014-01-21T12:35:13Z","Content":"\n\u003Cp\u003EI think this is definately something that would go down well in the community. I would try to talk to some of the life support modders, as this should really be a part of a life support mod rather than stand alone and they clearly know how to trigger kerbal-kill events \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-01-21T13:17:44Z","Content":"\n\u003Cp\u003EI saw a thread asking for suggestions on sanity a while back, perhaps it was you. Anyway, I have been thinking of how it might work ever since.\u003C/p\u003E\u003Cp\u003EMy thoughts were that sanity not be a resource that depletes, but a value for each kernel that varies up or down based on their environment. Obviously living space has an impact, as does distance / communication lag from home.\u003C/p\u003E\u003Cp\u003EI also though it would be good if the sanity of each kerbal was affected by their own attributes and those of the other kernels they are living with. So:\u003C/p\u003E\u003Cp\u003E1) stupid kernel loose sanity faster,\u003C/p\u003E\u003Cp\u003E2) courageous kernels have a positive effect on other kernels.\u003C/p\u003E\u003Cp\u003E3) lack of sanity has a negative influence on the sanity of others.\u003C/p\u003E\u003Cp\u003EThe idea is to make sanity less of a problem that you solve by sending out a new part (ie send a container of fun with the cargo run to the colony), but instead it is more about the mix of crew attributes. It also has the fun of one kerbel loosing it and driving his crew mates mad, or alternatively, topping himself and so removing the negative influance on the group. You could also sepetate certain crew members for the benfirt of others, or intruduce a very courageous kernel to restore everyone else\u0027s sanity.\u003C/p\u003E\u003Cp\u003EAnyway, just my ideas.\u003C/p\u003E\u003Cp\u003EIf you need any support or encouragement with the coding, feel free to ask me in a PM.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-21T13:20:40Z\u0022 title=\u002201/21/2014 01:20  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 21, 2014\u003C/time\u003E by codepoet\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DisarmingBaton5","CreatedById":68576,"CreatedDateTime":"2014-01-22T00:42:00Z","Content":"\n\u003Cp\u003EPerhaps creating a new resource and applying it to every commend pod? If it ticks down per time, you could eventually trigger something like extreme overheating of the command pod (insta-death). You would also need \u0022supply packages,\u0022 or parts that contain sanity. Checking courage/stupidity/BadS numbers would be a bit more difficult.\u003C/p\u003E\n"},{"CreatedByName":"EnterElysium","CreatedById":61981,"CreatedDateTime":"2014-01-25T12:41:50Z","Content":"\n\u003Cp\u003EA new resource would not be ideal, because you also have to account for Kerbal\u0027s on EVA and the resource would be shared equally or use at different rates meaning that Kerbal would still have a collective pool to draw from and they would all run out at once. Using personal sanity variable\u0027s this allows for much more flexibility.\u003C/p\u003E\n"},{"CreatedByName":"Hellbrand","CreatedById":65742,"CreatedDateTime":"2014-01-25T14:13:39Z","Content":"\n\u003Cp\u003EWorld war k 2 woooooooooooo!\u003C/p\u003E\n"},{"CreatedByName":"timmers_uk","CreatedById":97413,"CreatedDateTime":"2014-01-28T14:26:41Z","Content":"\n\u003Cp\u003EAny news on this? I\u0027ve been looking into putting together a fitness/effects of zero g mod which has some similar properties ( reduced g tolerance due to time spent in near zero/high Gee environments, and use of crew modules with exercise regime parts or g simulation parts to reduce or counter these effects), and would be interested to hear how you are getting on (though I wouldn\u0027t be planning on making use of the Kerbals\u0027 stupidity stat msyelf - how hard can it be to use a gym \u003Ca href=\u0022https://en.wikipedia.org/wiki/List_of_spaceflight-related_accidents_and_incidents#cite_note-64\u0022 rel=\u0022external nofollow\u0022\u003Ewithout putting your eye out?\u003C/a\u003E)\u003C/p\u003E\n"}]}