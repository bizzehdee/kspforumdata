{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":290,"Articles":[{"CreatedByName":"Mark Kerbin","CreatedById":167193,"CreatedDateTime":"2018-05-01T14:26:02Z","Content":"Ok [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) tks for the speedy reply.\n\nnot at my pc rn, but I can say that scatterer  is not functional for me. I copied everything from the .30b zip from space dock into my game data. Scatterer menu opens but no sign of clouds in the flight scene or elsewhere. Atmosphere seems to be duller but that\u2019s about it. I can find logs when I get back.\n\nruning ksp 1.4.3 and I had \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E reload everything, plus did a fresh install of scatterer.\n\ntks\n\n[Edit] Im a twit\n\n**Edited \u003Ctime datetime=\u00222018-05-01T21:39:34Z\u0022 title=\u002205/01/2018 09:39  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 1, 2018\u003C/time\u003E by Mark Kerbin**"},{"CreatedByName":"TheKurgan","CreatedById":164104,"CreatedDateTime":"2018-05-01T18:47:07Z","Content":"\u003E \n\u003E \n\u003E On 4/26/2018 at 9:51 PM, TheKurgan said:\n\u003E \n\u003E \n\u003E KSP 1.3.1 with scatterer version Version 0.0324 and BDAc version 1.0.0\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Ocean shaders are on.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Here is a video \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [KSP 1.3.1 BDAc Camera Comparison with scatterer](https://youtu.be/ooCzbWEUfDU)\n\u003E \n\n[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I am just curious if you had a look? \n\nIn 1.3.1 the BDAc target camera was fine, and in 1.4.\\* the same camera is showing this weird issue when Scatterer is installed.\n\nIs there a chance you could have a look and see if this is fixable on your end, or if BDAc has to change something WRT the camera. \n\nThanks.\n\n**Edited \u003Ctime datetime=\u00222018-05-01T18:47:51Z\u0022 title=\u002205/01/2018 06:47  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 1, 2018\u003C/time\u003E by TheKurgan**"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2018-05-01T21:27:05Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, Mark Kerbin said:\n\u003E \n\u003E \n\u003E Ok [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) tks for the speedy reply.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E not at my pc rn, but I can say that scatterer  is not functional for me. I copied everything from the .30b zip from space dock into my game data. Scatterer menu opens but no sign of clouds in the flight scene or elsewhere. Atmosphere seems to be duller but that\u2019s about it. I can find logs when I get back.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E runing ksp 1.4.3 and I had \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E reload everything, plus did a fresh install of scatterer.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E tks\n\u003E \n\nScatterer doesn\u0027t provide clouds, it (wait for it ...) scatters the light simulating atmospheric haze and related optical effects."},{"CreatedByName":"Mark Kerbin","CreatedById":167193,"CreatedDateTime":"2018-05-01T21:30:32Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, LameLefty said:\n\u003E \n\u003E \n\u003E Scatterer doesn\u0027t provide clouds, it (wait for it ...) scatters the light simulating atmospheric haze and related optical effects.\n\u003E \n\nWait. What thread am I on...\n\n[Edit] Great Kraken I am clearly having a massive brain failure.\n\nPlease disregard all previous posts. Guess who removed some important folders...\n\n**Edited \u003Ctime datetime=\u00222018-05-01T21:31:49Z\u0022 title=\u002205/01/2018 09:31  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 1, 2018\u003C/time\u003E by Mark Kerbin**"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2018-05-01T21:31:45Z","Content":"\u003E \n\u003E \n\u003E Just now, Mark Kerbin said:\n\u003E \n\u003E \n\u003E Wait. What thread am I on...\n\u003E \n\nYou\u0027re in the Scatterer thread and reported you don\u0027t have clouds. That\u0027s because Scatterer doesn\u0027t provide clouds."},{"CreatedByName":"Mark Kerbin","CreatedById":167193,"CreatedDateTime":"2018-05-01T21:32:19Z","Content":"\u003E \n\u003E \n\u003E Just now, LameLefty said:\n\u003E \n\u003E \n\u003E You\u0027re in the Scatterer thread and reported you don\u0027t have clouds. That\u0027s because Scatterer doesn\u0027t provide clouds.\n\u003E \n\nAnd you are correct and I am dumb as a box of rocks."},{"CreatedByName":"Rohaq","CreatedById":100297,"CreatedDateTime":"2018-05-02T22:03:18Z","Content":"I\u0027m currently getting some crap performance in KSP, and I\u0027m trying to track down the causes across my visual mods. Does anyone know what kind of impact on performance each option in the Scatterer config has?"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2018-05-02T22:20:33Z","Content":"\u003E \n\u003E \n\u003E 14 minutes ago, Rohaq said:\n\u003E \n\u003E \n\u003E I\u0027m currently getting some crap performance in KSP, and I\u0027m trying to track down the causes across my visual mods. Does anyone know what kind of impact on performance each option in the Scatterer config has?\n\u003E \n\nScatterers ocean shaders are the hungriest in terms of performance. Disable them and ocean refractions.\n\nalso, kopernicus currently is causing a big performance issues with mid to low range computers. A fix is being tested however. So if you have kopernicus, it may also be the culprit"},{"CreatedByName":"Rohaq","CreatedById":100297,"CreatedDateTime":"2018-05-02T23:53:26Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Galileo said:\n\u003E \n\u003E \n\u003E Scatterers ocean shaders are the hungriest in terms of performance. Disable them and ocean refractions.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E also, kopernicus currently is causing a big performance issues with mid to low range computers. A fix is being tested however. So if you have kopernicus, it may also be the culprit\n\u003E \n\nDang, it could be Kopernicus, I\u0027ve been disabling a bunch of other visual mods, including Scatterer, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, and associated packs for it, but I\u0027ve only been seeing a few more FPS in performance.\n\nI\u0027ll keep an eye on Kopernicus\u0027 updates, and maybe see if there\u0027s some configuration changes I can make there."},{"CreatedByName":"Omnipius","CreatedById":173022,"CreatedDateTime":"2018-05-02T23:58:53Z","Content":"\u003E \n\u003E \n\u003E On 5/1/2018 at 4:08 AM, blackrack said:\n\u003E \n\u003E \n\u003E Please be more specific when reporting your issue. Are those scatterer sunflares? If they aren\u0027t centered on associated star what are they centered on? How did you modify the config?\n\u003E \n\nActually, my intent was to ask for documentation of sunflare config values so I can understand them. I am having an issue, but I can\u0027t be certain that its a bug or just my config.\n\nHowever, in the interest of answering your questions: Yes, these are scatterer sunflares. They don\u0027t appear to centered on anything, just floating off in space next to the associated stellar body. I\u0027m working off of [@AndrewDrawsPrettyPictures](https://forum.kerbalspaceprogram.com/index.php?/profile/156312-andrewdrawsprettypictures/) \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E Constellations / CVO configs, but at this point I\u0027ve modified the rest of the universe so heavily it wouldn\u0027t be accurate to say that this is actually RSSC/CVO. Call it a personal fork.\n\nAt any rate, using the original sunflare configs, the at least some of the sunflares don\u0027t center on their star. I assume that their must be a config setting to adjust placement, because how else could it be wrong? So, that brings me back to my original question of what each sunflare config setting actually does and what the input ranges are. I guess I\u0027m looking for a fishing lesson, not just a fish. ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022:wink:\u0022)\n\n**Edited \u003Ctime datetime=\u00222018-05-03T00:01:27Z\u0022 title=\u002205/03/2018 12:01  AM\u0022 data-short=\u00226 yr\u0022\u003EMay 3, 2018\u003C/time\u003E by Omnipius**"},{"CreatedByName":"Rainbowd4sh","CreatedById":158946,"CreatedDateTime":"2018-05-03T03:34:47Z","Content":"My sun flare seems to be overlayed with the standard KSP sun, for example, when it\u0027s partially obscured by my ship, you can see the correct flare, but in an uncovered view, it just seems like the stock sun. \n\nhttps://imgur.com/a/qXW8Y8W\n\nI have the latest version of all mods, and have AVP, with all its requirements, as well as KS3P, Distant Objects, Planetshine, and Texture Replacer for a sky box. What can I do to get Scatter\u0027s sun flare to pop up? Or is it another mod conflicting?"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2018-05-04T00:54:58Z","Content":"\u003E \n\u003E \n\u003E On \u200E5\u200E/\u200E2\u200E/\u200E2018 at 5:20 PM, Galileo said:\n\u003E \n\u003E \n\u003E also, kopernicus currently is causing a big performance issues with mid to low range computers. A fix is being tested however. So if you have kopernicus, it may also be the culprit\n\u003E \n\nWell, I don\u0027t mean to start an argument about what constitutes a \u0022mid to low range\u0022 but my system is a Core i7-6820HK with a GTX1070 8GB video card. I can run THE WITCHER 3 at 1080p and Ultra graphical settings at a rock-solid 60 FPS. Most other recent-gen games run similarly well, and older titles even better. \n\nIn my KSP 1.4 - 1.4.3 Career save I have a moderately complex station around the Mun. With Kopernicus installed (along with StockVisualTerrain), I get 11 fps in physics range of this station. When I remove Kopernicus from my GameData folder I get 21 - 25 fps with the same station.  \\*shrug\\*"},{"CreatedByName":"Javascap","CreatedById":74106,"CreatedDateTime":"2018-05-04T03:01:13Z","Content":"**KSP:** 1.3.2 Windows 64bit\n\n**Problem:** Scatter cuts out from alititude of about 160 km to 250 km\n\n**Mods installed:**\n\nScatterer 0.0331b\n\nAny visual pack\n\nRescale! 6.4x\n\nAnd many more.\n\n**Reproduction steps:**\n\nLaunch a rocket into an altitude that passes above 160 km, and scatterer seems to cut out completely.\n\nNote: I am playing on the unusual resolution of 3440\\*1440\n\n**Log:**\n\n[https://www.dropbox.com/s/3vwtnvpwzby1mru/output_log.txt?dl=0](https://www.dropbox.com/s/3vwtnvpwzby1mru/output_log.txt?dl=0)\n\n**Link to Youtube video showcasing the bug:**\n\n**[https://www.youtube.com/watch?v=MkumYzrTdm4\u0026feature=youtu.be](https://www.youtube.com/watch?v=MkumYzrTdm4\u0026feature=youtu.be)**\n\n**Edited \u003Ctime datetime=\u00222018-05-04T03:56:07Z\u0022 title=\u002205/04/2018 03:56  AM\u0022 data-short=\u00226 yr\u0022\u003EMay 4, 2018\u003C/time\u003E by Javascap**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2018-05-04T04:08:19Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, LameLefty said:\n\u003E \n\u003E \n\u003E Well, I don\u0027t mean to start an argument about what constitutes a \u0022mid to low range\u0022 but my system is a Core i7-6820HK with a GTX1070 8GB video card. I can run THE WITCHER 3 at 1080p and Ultra graphical settings at a rock-solid 60 FPS. Most other recent-gen games run similarly well, and older titles even better. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In my KSP 1.4 - 1.4.3 Career save I have a moderately complex station around the Mun. With Kopernicus installed (along with StockVisualTerrain), I get 11 fps in physics range of this station. When I remove Kopernicus from my GameData folder I get 21 - 25 fps with the same station.  \\*shrug\\*\n\u003E \n\nYou cannot cannot compare KSP to the Witcher. The Witcher is not calculating physics of hundreds of parts, hogging your CPU, and is on what I assume is a custom engine. It\u2019s apple and oranges. Let\u2019s not derail the thread, though."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-05-04T06:04:13Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Galileo said:\n\u003E \n\u003E \n\u003E You cannot cannot compare KSP to the Witcher. The Witcher is not calculating physics of hundreds of parts, hogging your CPU, and is on what I assume is a custom engine. It\u2019s apple and oranges. Let\u2019s not derail the thread, though.\n\u003E \n\nActually I think this touches on the heart of the matter. There\u0027s all manner of spectres and fiends and cursed beings lurking in KSP haunting the code and causing lag and physics mishaps. And not a witcher in sight to save us..."},{"CreatedByName":"reducing","CreatedById":93353,"CreatedDateTime":"2018-05-05T18:44:48Z","Content":"\u003E \n\u003E \n\u003E On 4/29/2018 at 4:29 AM, blackrack said:\n\u003E \n\u003E \n\u003E Please override your scatterer.dll with this file and check if this fixes your sky issues with or without godrays or anything else: [https://mega.nz/#!fQADGL5A!djG6qHW95pyh8b3faNGH8FUs5U4k-qB6m9GKxLrwOyQ](https://mega.nz/#!fQADGL5A!djG6qHW95pyh8b3faNGH8FUs5U4k-qB6m9GKxLrwOyQ)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Please test as well the above .dll, it should fix your missing night sky issue (override .dll from latest released version).\n\u003E \n\nI was having the dark sky problem with GPP/GEP/OPM on 1.3.1 and this .dll fixed it. It shouldn\u0027t cause any problems in my game going forward since its for 1.4.X? Thanks for the help!"},{"CreatedByName":"Trimix3D","CreatedById":187736,"CreatedDateTime":"2018-05-06T21:44:16Z","Content":"Sorry i don\u0027t understand english very well.\n\nI don\u0027t have scatterer atmosphere effect with my ksp 1.4.3\n\nDo i have a bug or it\u0027s just a compatibility problem with 1.4.3 ?\n\nThanks in advance\n\n**Edited \u003Ctime datetime=\u00222018-05-06T22:10:04Z\u0022 title=\u002205/06/2018 10:10  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 6, 2018\u003C/time\u003E by Trimix3D**"},{"CreatedByName":"Capt. Hunt","CreatedById":97860,"CreatedDateTime":"2018-05-07T16:06:26Z","Content":"\u003E \n\u003E \n\u003E 18 hours ago, Trimix3D said:\n\u003E \n\u003E \n\u003E Sorry i don\u0027t understand english very well.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I don\u0027t have scatterer atmosphere effect with my ksp 1.4.3\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Do i have a bug or it\u0027s just a compatibility problem with 1.4.3 ?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks in advance\n\u003E \n\nIt should work fine in 1.4.3.  Unfortunately, we need more information in order to help you.\n\nFirst off, what exactly is your problem?  A screen capture might help.\n\nAlso, can you post your Output\\_Log file?  What other mods do you have?"},{"CreatedByName":"Bideogames","CreatedById":188375,"CreatedDateTime":"2018-05-09T02:15:08Z","Content":"Hey Y\u0027all\n\nMajor respect for this mod, a total game changer.\n\nI just have one problem: The sky and oceans get funky when you install module manager along with Eve and SVE. And by \u0022get Funky\u0022 I mean they both appear as a solid, off-white color.\n\n**KSP:** 1.4.3 Mac 64bit\n\n**Problem:** When Module manager is installed, Scatter makes the oceans and sky appear off-white.\n\n**Mods Installed:**\n\n\u003Cabbr style=\u0022border-bottom:none;\u0022 title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, Scatter, SVE (and SVE textures), Module manager 3.0.7 (All mods are up to date)\n\n**Reproduction Steps:**\n\nOpen any saved game and the ocean and sky look off-white. This issue persists even when flying a vehicle.\n\nScatter does not have this issue when Module Manager is NOT installed. \n\nThe only thing I can tell is when I start the game, on the loading screen it shows that module manager made 110 patches. I don\u0027t know if these patches are causing the problem?\n\nThat being said, I am aware that this whole problem could be caused by conflicting config files (or lack of). \n\nIf you can\u0027t tell I\u0027m pretty new to troubleshooting this kind of stuff. Any input is well Appreciated!\n\n~Bideogames\n\nDon\u0027t Forget the log!\n\n[https://www.dropbox.com/s/k7nui3h94v7nvnx/Player.log.zip?dl=0](https://www.dropbox.com/s/k7nui3h94v7nvnx/Player.log.zip?dl=0)\n\n![funs4Au.png](https://i.imgur.com/funs4Au.png)\n\nEDIT: I got this problem fixed. It was because of my lack of VRAM and using the SVE textures\n\n**Edited \u003Ctime datetime=\u00222018-05-11T17:53:59Z\u0022 title=\u002205/11/2018 05:53  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 11, 2018\u003C/time\u003E by Bideogames**"},{"CreatedByName":"Sunesha","CreatedById":175069,"CreatedDateTime":"2018-05-09T17:40:15Z","Content":"I searched in the topic. Did not find anything concerning this topic. I didn\u0027t find anything sun.cfg and scatter.cfg \n\nIs it possible to just disable sunflare only in map mode view ?\n\nReason:  \n\nI really love my sunflare from Maar I use in flight mode, but it is just make everything really difficult in map mode to read the text. If not possible, I will have to consider to get a smaller sunflare so mapmode is not blocked out by a flare. I would be willing to forgo all scatter effects in map mode if this is possible."},{"CreatedByName":"EdwardB3020","CreatedById":223607,"CreatedDateTime":"2018-05-11T17:12:34Z","Content":"Can this be updated for KSP 1.4.3 please and Scatter with the atmosphere does not show the atomosphere arround the planet. Ok it looks like ksp with scatterer not installed but i have it installed."},{"CreatedByName":"Brigadier","CreatedById":147109,"CreatedDateTime":"2018-05-11T19:40:10Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Trekkie148 said:\n\u003E \n\u003E \n\u003E Can this be updated for KSP 1.4.3 please and Scatter with the atmosphere does not show the atomosphere arround the planet. Ok it looks like ksp with scatterer not installed but i have it installed.\n\u003E \n\nFirst, please be patient.  The mod will be updated when the dev has the time and can devote the effort to it.  Pestering him/her/it ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022) has been known to cause to frustration and delays because this is a hobby not a job.  Blackrack has an excellent track record keeping this mod up-to-date.\n\nSecond, have you tried to troubleshoot the problem yourself (for example, does the behaviour still occur on a clean KSP install \u002B Scatterer \u002B your visual mod)?  You haven\u0027t provided nearly enough information to help diagnose the issue.  I recommend you (re)read the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E and follow the \u0022How to Report Problems\u0022 section since some devs will ignore help requests without detailed information (though, in my experience, that\u0027s not the case here; the devs have been amazingly supportive)."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2018-05-12T16:11:46Z","Content":"\u003E \n\u003E \n\u003E 22 hours ago, Trekkie148 said:\n\u003E \n\u003E \n\u003E Can this be updated for KSP 1.4.3 please and Scatter with the atmosphere does not show the atomosphere arround the planet. Ok it looks like ksp with scatterer not installed but i have it installed.\n\u003E \n\nScatterer works fine in 1.4.3. It does not work in the tracking station, but if you would actually fly a vessel to orbit you would see the atmospheric effects.\n\n**Edited \u003Ctime datetime=\u00222018-05-12T16:11:56Z\u0022 title=\u002205/12/2018 04:11  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 12, 2018\u003C/time\u003E by Galileo**"},{"CreatedByName":"EdwardB3020","CreatedById":223607,"CreatedDateTime":"2018-05-12T16:22:48Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E Scatterer works fine in 1.4.3. It does not work in the tracking station, but if you would actually fly a vessel to orbit you would see the atmospheric effects.\n\u003E \n\nOk thanks for the notice and help but could it be fixed on where it will show in the tracking station and also when I select ocean reflection effects and terrain shadows on startup that does not select. No rush thanks."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2018-05-12T18:52:47Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Trekkie148 said:\n\u003E \n\u003E \n\u003E Ok thanks for the notice and help but could it be fixed on where it will show in the tracking station and also when I select ocean reflection effects and terrain shadows on startup that does not select. No rush thanks.\n\u003E \n\nNo it cannot be fixed by end users. Blackrack will have to fix that himself. As for the other options, I assume you are using SVE. I purposefully disable those effects because they hit performance hard and too many people complain about them. I will not enable them."}]}