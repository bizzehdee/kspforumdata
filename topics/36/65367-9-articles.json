{"TopicId":65367,"ForumId":36,"TopicTitle":"Test of continuing KER developments [0.24.2]","CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-03-10T11:31:34Z","PageNum":9,"Articles":[{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-04-30T18:37:56Z","Content":"\n\u003Cp\u003EOh cool.\u003C/p\u003E\u003Cp\u003EOne more thing. Are individual thrust vectors being taken into account? Sometimes people angle their engines. Just some basic trigonometry I guess?\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-04-30T19:47:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EOh cool.\u003Cp\u003EOne more thing. Are individual thrust vectors being taken into account? Sometimes people angle their engines. Just some basic trigonometry I guess?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot at the moment, no. Actually, the \u0022correct\u0022 way to do it requires no trigonometry, it just needs all the thrust and deltaV related calculations to be done as vectors rather than scalars (because force and velocity are both vector quantities). Simply calculating a cosine loss against the primary axis of the vessel (or any fixed axis) assumes that all the stages are fired with the vessel pointing the same way. Doing it all as vectors allows it to easily account for very odd designs, e.g. with a first stage that points up, and a second that points sideways where you will change the orientation of the vessel between the stages, a simple cosine loss calculation will get 0 dV for the second stage. Doing it as vectors per stage makes a \u0022smaller\u0022 assumption, that each stage is burned completely in one direction but each stage can be in a different direction. The calculated deltaV for each stage will be a vector and, when totalling the deltaV, the magnitudes of the individual stage vectors will be added.\u003C/p\u003E\u003Cp\u003EI plan to do this fairly soon though there are a number of other things I\u0027ll be doing first.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-01T14:40:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EI think this should be fixed by a change I did yesterday evening that makes it ignore decouplers that have already been fired. I have made quite a few other tweaks and fixes but didn\u0027t get around to updating the DLL zip in the first post. I will try to update the zip later this evening but if you are desperate you should be able to download the two updated DLLs from the github repository. Make sure you are looking at the simulate branch, navigate into Output\\Engineer and download the Engineer.dll and EngineerToolbar.dll.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy new machine arrived yesterday so I obviously spent some (considerable) time enjoying the improved speed. Going from a 2.16 GHz CoreDuo laptop to an i7-4770K means I can now run at default graphics settings at full HD and still get much better frame rates than my laptop could manage with heavily optimised settings at 1360x768. I don\u0027t have a decent video card yet but the on-board Intel HD4600 video has a 3dmark of about 13 times what my laptop has. I\u0027m still probably going to tweak the ocean subdivision settings a bit as looking at Kerbin is still a bit sluggish.\u003C/p\u003E\u003Cp\u003EWhile I was playing I did notice a problem with the latest DLLs in GitHub. The flight engineer is not calculating the deltaV for the asparagus launch stages of my large asteroid tug correctly. It appears similar to the strut issue introduced by 0.23.5 where it works correctly in the VAB but seems to lump all the asparagus stages together in flight. So, I don\u0027t recommend that anyone tries using the DLLs from GitHub as I suggested above. I\u0027ll be investigating this later today and I will update the zip in the first post once it has been fixed.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-01T14:43:23Z\u0022 title=\u002205/01/2014 02:43  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 1, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-03T12:28:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EWhile I was playing I did notice a problem with the latest DLLs in GitHub. The flight engineer is not calculating the deltaV for the asparagus launch stages of my large asteroid tug correctly. It appears similar to the strut issue introduced by 0.23.5 where it works correctly in the VAB but seems to lump all the asparagus stages together in flight. So, I don\u0027t recommend that anyone tries using the DLLs from GitHub as I suggested above. I\u0027ll be investigating this later today and I will update the zip in the first post once it has been fixed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve found the cause of this issue. I changed the threshold at which a part is considered empty of resources and this has uncovered a bug in the simulation code where it is tracking the amounts of all resources and not just the ones being burnt by the engines. Specifically the KS25x4 engines read as having a small quantity of electric charge which causes it to think there is still unburned fuel in the stage so it doesn\u0027t stage at the correct times. It should be fairly easy to fix it but I am away from home until Monday night and, while I do have my dev machine with me, I haven\u0027t set it up yet. Hopefully I should post a fixed version this evening sometime...\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-04T00:55:54Z","Content":"\n\u003Cp\u003EI\u0027ve now updated my github branch and the zipped DLLs in the first post. This version includes a fix for the asparagus issue mentioned earlier, a fix for the \u0022already fired decoupler\u0022 issue and a number of other tweaks and optimisations. The rate the simulation runs can now be controlled with a tweakable slider on the engineer part both in the VAB and in flight. It basically sets the minimum time (in ms) from the start of 1 run to the start of the next, so a value of 200 should give 5 updates per second and 1000 would be 1 update per second. Setting it to 0 (or to any value \u0026lt; 50 due to the way the sliders work) will run the simulation as fast as possible but will probably affect the speed of the game significantly.\u003C/p\u003E\u003Cp\u003ENext job, starting the simulation with the currently active engines...\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-05-04T00:58:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EThe rate the simulation runs can now be controlled with a tweakable slider on the engineer part both in the VAB and in flight.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAwwwwwwwwww yeeeeeeeeaaaaaaaaaah.... thanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Woopert","CreatedById":84274,"CreatedDateTime":"2014-05-04T01:05:42Z","Content":"\n\u003Cp\u003EThanks Padishar, you\u0027ve done marvelous work for KER and deserve a lot more rep! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Woopert","CreatedById":84274,"CreatedDateTime":"2014-05-04T15:57:29Z","Content":"\n\u003Cp\u003EHey Padishar, cybutek just updated KER. Which version should I use? I love your work but I\u0027m not sure which one is more up to date. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mipe","CreatedById":109421,"CreatedDateTime":"2014-05-04T16:01:19Z","Content":"\n\u003Cp\u003EUh... he says this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThis version pulls all the changes and advances done by Padishar into the official release.\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Woopert","CreatedById":84274,"CreatedDateTime":"2014-05-04T16:02:16Z","Content":"\n\u003Cp\u003EWhoops, sorry. Didn\u0027t see that. I don\u0027t know how I missed that, I thought I read the whole thread. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-04T16:07:08Z","Content":"\n\u003Cp\u003EI will be continuing work on KER but I will be creating a new fork in my github repo and working from there. This thread should now be considered dead. I will make a new thread once I have a new development version for people to test.\u003C/p\u003E\u003Cp\u003EAll queries and bug reports with the 0.6.2.4 version should now be posted in the main KER thread again.\u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-09T23:53:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003ENext job, starting the simulation with the currently active engines...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have now implemented this and, rather than posting a new thread, I have resurrected this one as it contains various posts about this issue (and others that I will be working on).\u003C/p\u003E\u003Cp\u003EDuring flight, if the currently active engines are different to what should be active in the current stage then an extra \u0022stage\u0022 of calculations will be done with just the currently active engines. This stage is reported in the VES window as \u0022DeltaV (active)\u0022. The simulation runs the current engines until they are completely out of fuel and then continues with the normal staging process. This should make KER much more useful in situations where engines are manually stopped and started differently to the defined staging.\u003C/p\u003E\u003Cp\u003EPlease give it a try and continue to use this thread to report issues or give other feedback.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-14T20:44:47Z","Content":"\n\u003Cp\u003EI have updated the zip in the first post to include a couple of new fixes:\u003C/p\u003E\u003Cp\u003EThe simulation will now not stage if nothing is decoupled and any engines are still burning. This fixes the pod with a chute on a solid booster to show the deltaV in S1 rather than in S0 (with the chute).\u003C/p\u003E\u003Cp\u003EThe RealFuels support now checks for a third type of engine module.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-15T22:59:53Z","Content":"\n\u003Cp\u003EI have updated the zip in the first post to remove some annoying log spam when using non-RF engines when RF is installed. I have also removed the logging of the simulation timing to further improve performance.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-17T16:39:58Z","Content":"\n\u003Cp\u003EI have now implemented velocity thrust correction for jets. The flight engineer uses the craft\u0027s current surface speed and the build engineer has a new tweakable slider to set the speed from 0-2500 m/s.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-05-18T22:28:51Z","Content":"\n\u003Cp\u003ELittle feature request: you know how the TWR of each stage is shown in the VAB? Well, would it be possible to show it in flight as well? Just the starting TWR of the next stage assuming 100% trust and throttle, possibly in the brackets that include the burn time (like \u0022(1.02.8s, 1.4)\u0022). \u003C/p\u003E\u003Cp\u003EThanks for your continued work on this. I\u0027ve certainly noticed it get a lot better at calculating dV in different situations so yeah, thank you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-18T22:46:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EOh cool.\u003Cp\u003EOne more thing. Are individual thrust vectors being taken into account? Sometimes people angle their engines. Just some basic trigonometry I guess?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have now implemented correction for engine thrust vectors. The build and flight engineer tweakables have a new toggle that switches between \u0022scalar\u0022, the old simple method, and \u0022vector\u0022, the new method that tracks the thrust vectors of the individual engine modules of each engine, giving adjusted values for thrust, TWR, deltaV and ISP. This method allows each stage\u0027s overall thrust vector to point in a totally different direction and the deltaV is calculated relative to this which gives meaningful results for even very obscure designs, e.g. if you mount your lander sideways on top of the rocket it will still read the correct (i.e. useful) values for the lander and all the launch stages.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ELittle feature request: you know how the TWR of each stage is shown in the VAB? Well, would it be possible to show it in flight as well? Just the starting TWR of the next stage assuming 100% trust and throttle, possibly in the brackets that include the burn time (like \u0022(1.02.8s, 1.4)\u0022). \u003Cp\u003EThanks for your continued work on this. I\u0027ve certainly noticed it get a lot better at calculating dV in different situations so yeah, thank you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you only want the stats for the next stage then this can probably be managed quite easily but I\u0027m trying to avoid doing too much to the UI because Cybutek is still working on v1.0.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-18T22:59:24Z\u0022 title=\u002205/18/2014 10:59  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 18, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-05-25T11:06:44Z","Content":"\n\u003Cp\u003ETwo things:\u003C/p\u003E\u003Cp\u003EI recently started my spaceplane programme and having the dV displayed for the ACTIVE engines, not the ones in the stage is so helpful. I think that solves a lot of problems with incorrect dV/engines in another stage firing/action group controlled engines. Very welcome addition, it\u0027s nice to begin orbital insertion and see that I have over 2km/s left. Few tweaks needed to the plane but I can\u0027t fault KER while flying it, does its job perfectly. It doesn\u0027t trip up switching between jets and the aerospike or both, it\u0027s all clear and as far as I can tell, correct. Even with PWB fuel balancer that moves fuel around and everything.\u003C/p\u003E\u003Cp\u003ESecond thing, what\u0027s the \u0027Dump Tree\u0027 option do? I saw it appear on the right click menu and looking at the craft file, it\u0027s from the Engineer module. My command pod right click menu is getting rather crowded (thanks in part to the GUI) so is it entirely necessary? Or can it be hidden and toggled from the KER window or something? Just curious.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-25T11:09:28Z\u0022 title=\u002205/25/2014 11:09  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 25, 2014\u003C/time\u003E by ObsessedWithKSP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-25T12:22:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ETwo things:\u003Cp\u003EI recently started my spaceplane programme and having the dV displayed for the ACTIVE engines, not the ones in the stage is so helpful. I think that solves a lot of problems with incorrect dV/engines in another stage firing/action group controlled engines. Very welcome addition, it\u0027s nice to begin orbital insertion and see that I have over 2km/s left. Few tweaks needed to the plane but I can\u0027t fault KER while flying it, does its job perfectly. It doesn\u0027t trip up switching between jets and the aerospike or both, it\u0027s all clear and as far as I can tell, correct. Even with PWB fuel balancer that moves fuel around and everything.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool, thanks for the report. I\u0027m pretty happy with how it\u0027s behaving now...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ESecond thing, what\u0027s the \u0027Dump Tree\u0027 option do? I saw it appear on the right click menu and looking at the craft file, it\u0027s from the Engineer module. My command pod right click menu is getting rather crowded (thanks in part to the GUI) so is it entirely necessary? Or can it be hidden and toggled from the KER window or something? Just curious.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, this is a development/debugging tool I added to my development version. It basically dumps out the part tree of the vessel into output_log.txt on the next run of the simulation code. It can be useful to diagnose weird issues with the simulation. It almost certainly wont be in any official release of KER. I\u0027ll probably add a switch in the settings soon.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-25T13:52:14Z\u0022 title=\u002205/25/2014 01:52  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 25, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-27T12:23:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EMy new machine arrived yesterday so I obviously spent some (considerable) time enjoying the improved speed. Going from a 2.16 GHz CoreDuo laptop to an i7-4770K means I can now run at default graphics settings at full HD and still get much better frame rates than my laptop could manage with heavily optimised settings at 1360x768. I don\u0027t have a decent video card yet but the on-board Intel HD4600 video has a 3dmark of about 13 times what my laptop has. I\u0027m still probably going to tweak the ocean subdivision settings a bit as looking at Kerbin is still a bit sluggish.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve got a few more tweaks to the simulation code that need a bit more testing. I\u0027ll try to post an updated dev version this evening but I\u0027ve now managed to pick up an overclocked GTX560ti so my 3dmark is now another 5-6 times higher and I\u0027ve not done a lot of development over the weekend because I\u0027ve been too \u0022busy\u0022 checking out how well all sorts of games run now...\u003C/p\u003E\n"},{"CreatedByName":"xrayfishx","CreatedById":76147,"CreatedDateTime":"2014-05-31T21:41:15Z","Content":"\n\u003Cp\u003EIt\u0027s been a while since I played KSP, but I encountered a bug I reported previously again so now I have the output_log. However, I wasn\u0027t using this development version.\u003C/p\u003E\u003Cp\u003EJust to remind what bug it was...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xrayfishx\u0022 data-cite=\u0022xrayfishx\u0022\u003E\u003Cdiv\u003EI have a weird problem right now. KER was working fine until I got RSS and Real Fuels (with RftS) working. Now it (KER, I mean) usually works, but often there is a bug where a stage\u0027s dV is only shown for a split second when I attach the engine. If I then remove that engine and add it again, it won\u0027t show dV even for that split second. If I remove the engine and select a new one (even if it\u0027s the same type of engine) and attach it, it will show dV for that split sec again.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/9jlrslxtjyvzggg/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003EOutput file.\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-31T22:39:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xrayfishx\u0022 data-cite=\u0022xrayfishx\u0022\u003E\u003Cdiv\u003EIt\u0027s been a while since I played KSP, but I encountered a bug I reported previously again so now I have the output_log. However, I wasn\u0027t using this development version.\u003Cp\u003EJust to remind what bug it was...\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/9jlrslxtjyvzggg/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003EOutput file.\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I can\u0027t see any obvious KER related errors except for the unnecessary log lines that I removed in the development version a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72062-Test-of-continuing-KER-developments-0-23-5?p=1160511\u0026amp;viewfull=1#post1160511\u0022 rel=\u0022external nofollow\u0022\u003Ecouple of weeks ago\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003ECan you give me some idea of what you did in this run of KSP, when the problem started, what sort of engine it was you added when the problem started and how long you left it going wrong before you quit? It looks to me like the craft has 4 solid rocket boosters but can you tell me what other engines etc it uses (or post the craft file)?\u003C/p\u003E\u003Cp\u003EI have just updated the dev version in this thread to add the \u0022Dump tree\u0022 button to the build engineer tweakable. Can you install this version and, when it happens again, right click on the engineer part (or the command pod if you use a module manager config), click the \u0022Dump tree\u0022 button and then make sure you save the ship in the broken state. Then if you could post the log and the craft file I may be able to extract more useful information. If I don\u0027t get enough information from that then I may need to add a toggle that turns on the full debug logging in the simulation code.\u003C/p\u003E\u003Cp\u003EIt may also be worth checking with the Real Fuels people as it sounds like the first run of the simulation after adding the fresh engine works but then something is modifying the engine in some way that makes it not work.\u003C/p\u003E\u003Cp\u003EIt is probably unrelated but I did notice there are quite a lot of other errors in your log, specifically a whole bunch of TACLS things. I would recommend you run these past the TACLS folk to find out if they are normal or indicate some real issue.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-31T23:25:11Z\u0022 title=\u002205/31/2014 11:25  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 31, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"xrayfishx","CreatedById":76147,"CreatedDateTime":"2014-05-31T23:55:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003ECan you give me some idea of what you did in this run of KSP, when the problem started, what sort of engine it was you added when the problem started and how long you left it going wrong before you quit? It looks to me like the craft has 4 solid rocket boosters but can you tell me what other engines etc it uses (or post the craft file)?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was making a small rocket to launch a small useless probe to the orbit, I think. The problem started when I was making the second stage of the rocket (or it might have been the third) and added the Decurion engine to it. I quit pretty much right after I noticed the problem. It has indeed 4 SRB retrorockets, the other engines were an LR25R I think, and the Decurion I mentioned earlier. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EI have just updated the dev version in this thread to add the \u0022Dump tree\u0022 button to the build engineer tweakable. Can you install this version and, when it happens again, right click on the engineer part (or the command pod if you use a module manager config), click the \u0022Dump tree\u0022 button and then \u003Cstrong\u003Emake sure you save the ship in the broken state.\u003C/strong\u003E Then if you could post the log and the craft file I may be able to extract more useful information. If I don\u0027t get enough information from that then I may need to add a toggle that turns on the full debug logging in the simulation code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe problem goes away once I leave the VAB and come back. Reloading the ship might also have been necessary, I don\u0027t remember. I\u0027m pretty sure quitting the game was not necessary. Therefore I doubt there will be any anomalies in the save file. I will try and remember to do it next time this happens, though.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EIt may also be worth checking with the Real Fuels people as it sounds like the first run of the simulation after adding the fresh engine works but then something is modifying the engine in some way that makes it not work.\u003Cp\u003EIt is probably unrelated but I did notice there are quite a lot of other errors in your log, specifically a whole bunch of TACLS things. I would recommend you run these past the TACLS folk to find out if they are normal or indicate some real issue.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll talk to them.\u003C/p\u003E\n"},{"CreatedByName":"How2FoldSoup","CreatedById":82003,"CreatedDateTime":"2014-06-03T06:15:33Z","Content":"\n\u003Cp\u003EI\u0027ve got a bug. It only happens with my large mothership and no other of my ships. Whenever the KER tab is up it flickers in the toolbar and causes my game to lag TREMENDOUSLY. When I hide the ui or minimize KER in flight the lag goes away. I remember mentioning this before and you telling me it was fixed. I just realized there was a new update so I installed that. The flickering has gone away and some of the lag with it, but it still lags whenever the KER information tabs are up. Again, it\u0027s weird that it happens only with this ship..I tried replacing the KER part as well\u003C/p\u003E\u003Cp\u003ESoup\u003C/p\u003E\u003Cp\u003Eedit: It\u0027s whenever the vessel tab is open so I assume its the dv calculations that are lagging it up.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-03T06:33:58Z\u0022 title=\u002206/03/2014 06:33  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 3, 2014\u003C/time\u003E by How2FoldSoup\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-06-03T08:35:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022How2FoldSoup\u0022 data-cite=\u0022How2FoldSoup\u0022\u003E\u003Cdiv\u003EI\u0027ve got a bug. It only happens with my large mothership and no other of my ships. Whenever the KER tab is up it flickers in the toolbar and causes my game to lag TREMENDOUSLY. When I hide the ui or minimize KER in flight the lag goes away. I remember mentioning this before and you telling me it was fixed. I just realized there was a new update so I installed that. The flickering has gone away and some of the lag with it, but it still lags whenever the KER information tabs are up. Again, it\u0027s weird that it happens only with this ship..I tried replacing the KER part as well\u003Cp\u003ESoup\u003C/p\u003E\u003Cp\u003Eedit: It\u0027s whenever the vessel tab is open so I assume its the dv calculations that are lagging it up.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat spec is your machine (specifically CPU type and speed, though any other details you have may be handy) and how big/complex is the ship in question? I presume it is quite complex as you call it a \u0022large mothership\u0022. One thing you can do to reduce the lag caused by the deltaV calculations is to right click on the engineer part and drag the slider for \u0022Sim time\u0022 to the right. This increases the delay between runs of the simulation code and should improve matters...\u003C/p\u003E\u003Cp\u003EAssuming the list of mods it uses isn\u0027t too extreme, could you post a craft/persistence/quicksave file that I could take a look at (and a list of the mods)...?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-03T09:56:15Z\u0022 title=\u002206/03/2014 09:56  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 3, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"}]}