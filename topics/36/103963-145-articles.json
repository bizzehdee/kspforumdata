{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":145,"Articles":[{"CreatedByName":"Death Engineering","CreatedById":68528,"CreatedDateTime":"2016-03-05T02:50:41Z","Content":"Unbelievable! Barely 800k in orbit with 65 part craft with KSPRC textures.. and beautiful..!\n\nThanks [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)   ![:cool:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif \u0022:cool:\u0022)"},{"CreatedByName":"stratochief66","CreatedById":59541,"CreatedDateTime":"2016-03-05T03:08:13Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Alright, that\u0027s pretty accurate, I\u0027ll look at it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edited:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [@Theysen](https://forum.kerbalspaceprogram.com/index.php?/profile/144656-theysen/)  [@stratochief66](https://forum.kerbalspaceprogram.com/index.php?/profile/59541-stratochief66/) Grab this [https://mega.nz/#!yc4yABLR!CpbBgK_9BVFyabsBZX1OkjwkvQwy-KYEJjQmsQbSBtw](https://mega.nz/#!yc4yABLR!CpbBgK_9BVFyabsBZX1OkjwkvQwy-KYEJjQmsQbSBtw) or revert to the previous .dll (the one with the memory savings), this time change both entries in the planetsList file to Earth\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     scattererCelestialBodies\n\u003E     {Item{\tcelestialBodyName = Earth\ttransformName = Earth\tloadDistance = 5E\u002B07\tunloadDistance = 1E\u002B08\thasOcean = True\teclipseCasters\t{\t\tItem = Moon\t}}\n\u003E     }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It seems with either the newest version of RSS or Kopernicus the differing transformName is no longer required, maybe [@NathanKell](https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/) could confirm this.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edited:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027ve updated the downloads with the memory-improved version\n\u003E \n\nI used the most recently released version with those suggested settings, and everything worked well for Earth. Mapmode, launch, everything looks good. I increased the sun flare size by a factor of 5 instead of 10 because the big sun just hurts my yes \u003Cthen don\u0027t=\u0022\u0022 look=\u0022\u0022 into=\u0022\u0022 it,=\u0022\u0022 stupid!=\u0022\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nI play with the ocean for Earth set to false (in case that might be important) and around the PQS/SS transition, the scattering post processing appears to apply over the land, but not over the ocean. I\u0027m not sure if that is unique to me, or something other people are experiencing with RSS Earth as well.\n\u003C/then\u003E"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2016-03-05T03:42:22Z","Content":"Hey [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I want to do a little more investigating before I complain like a big fat baby. But a heavily modded instal on win 10 x64. I have blue engine exhaust and a blue Tron looking KSC. The last dll (not the memory saver) worked without a hitch. I am not at my box ATM. But I\u0027ll post some pics and an output log. Looked pretty cool though I think you\u0027ll have a good laugh ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nedit\n\nHere is what I saw\n\nSpoiler\n\n![screenshot28_zpstpbcavmv.png~original](http://i1077.photobucket.com/albums/w475/v8jester1/Random%20KSP/screenshot28_zpstpbcavmv.png~original)\n\n![screenshot29_zpsnnqrcefv.png~original](http://i1077.photobucket.com/albums/w475/v8jester1/Random%20KSP/screenshot29_zpsnnqrcefv.png~original)\n\n**Edited \u003Ctime datetime=\u00222016-03-05T05:13:55Z\u0022 title=\u002203/05/2016 05:13  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 5, 2016\u003C/time\u003E by V8jester**"},{"CreatedByName":"daniel l.","CreatedById":57763,"CreatedDateTime":"2016-03-05T05:45:01Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, V8jester said:\n\u003E \n\u003E \n\u003E Hey [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I want to do a little more investigating before I complain like a big fat baby. But a heavily modded instal on win 10 x64. I have blue engine exhaust and a blue Tron looking KSC. The last dll (not the memory saver) worked without a hitch. I am not at my box ATM. But I\u0027ll post some pics and an output log. Looked pretty cool though I think you\u0027ll have a good laugh ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E edit\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Here is what I saw\n\u003E \n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E ![screenshot28_zpstpbcavmv.png~original](http://i1077.photobucket.com/albums/w475/v8jester1/Random%20KSP/screenshot28_zpstpbcavmv.png~original)\n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![screenshot29_zpsnnqrcefv.png~original](http://i1077.photobucket.com/albums/w475/v8jester1/Random%20KSP/screenshot29_zpsnnqrcefv.png~original)\n\u003E \n\nYes! I got this as well. On my version all the planets went blue in scaledspace."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-03-05T08:39:33Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, daniel l. said:\n\u003E \n\u003E \n\u003E Yes! I got this as well. On my version all the planets went blue in scaledspace.\n\u003E \n\n\u003E \n\u003E \n\u003E 4 hours ago, V8jester said:\n\u003E \n\u003E \n\u003E Hey [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I want to do a little more investigating before I complain like a big fat baby. But a heavily modded instal on win 10 x64. I have blue engine exhaust and a blue Tron looking KSC. The last dll (not the memory saver) worked without a hitch. I am not at my box ATM. But I\u0027ll post some pics and an output log. Looked pretty cool though I think you\u0027ll have a good laugh ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E edit\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Here is what I saw\n\u003E \n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E ![screenshot28_zpstpbcavmv.png~original](http://i1077.photobucket.com/albums/w475/v8jester1/Random%20KSP/screenshot28_zpstpbcavmv.png~original)\n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![screenshot29_zpsnnqrcefv.png~original](http://i1077.photobucket.com/albums/w475/v8jester1/Random%20KSP/screenshot29_zpsnnqrcefv.png~original)\n\u003E \n\nIs this with the newest release from yesterday? I thought I fixed this like a week ago."},{"CreatedByName":"daniel l.","CreatedById":57763,"CreatedDateTime":"2016-03-05T09:02:05Z","Content":"\u003E \n\u003E \n\u003E 21 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Is this with the newest release from yesterday? I thought I fixed this like a week ago.\n\u003E \n\n\u003E \n\u003E \n\u003E 22 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Is this with the newest release from yesterday? I thought I fixed this like a week ago.\n\u003E \n\nIt was the newest, I tried the previous release and the bug went away."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-03-05T09:05:53Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, daniel l. said:\n\u003E \n\u003E \n\u003E It was the newest, I tried the previous release and the bug went away.\n\u003E \n\nAlright well, what else do you have? Anything in the debug log? Any other symptoms? And post your platform and renderer."},{"CreatedByName":"daniel l.","CreatedById":57763,"CreatedDateTime":"2016-03-05T09:11:33Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Alright well, what else do you have? Anything in the debug log? Any other symptoms? And post your platform and renderer.\n\u003E \n\nI\u0027ll see what i can do but aside from the bug i told you about, Scatterer does horrible things to my old gaming pc. Maybe you could release a lite version that has just the sun flare and basic scattering.\n\nAnd something i personally would love wouldbe if you released independantly whatever plugin you used for the sun flare and give it a config file so users can add a flare to any star? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-03-05T09:16:26Z","Content":"\u003E \n\u003E \n\u003E Just now, daniel l. said:\n\u003E \n\u003E \n\u003E I\u0027ll see what i can do but aside from the bug i told you about, Scatterer does horrible things to my old gaming pc. Maybe you could release a lite version that has just the sun flare and basic scattering.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And something i personally would love wouldbe if you released independantly whatever plugin you used for the sun flare and give it a config file so users can add a flare to any star? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nYou can just disable the ocean, the godrays and the shadows and you\u0027ll have the \u0022lite\u0022 version, really there wouldn\u0027t be a point in releasing a separate version for that.\n\nSo are you asking for a standalone lens flare shader or just multiple star support? In the case of a standalone shader, keep in mind you won\u0027t have the lens flare change color during sunsets/sunrises."},{"CreatedByName":"daniel l.","CreatedById":57763,"CreatedDateTime":"2016-03-05T09:30:59Z","Content":"\u003E \n\u003E \n\u003E 7 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E So are you asking for a standalone lens flare shader or just multiple star support? In the case of a standalone shader, keep in mind you won\u0027t have the lens flare change color during sunsets/sunrises.\n\u003E \n\nI am asking for standalone and multiple please ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) The lens flare is great on its own and would be even greater with multistar support, Making kopernicus packs would be great because a modder could choose his/her own flare for the custom star. And not to bug but maybe add layer support like EVE clouds so that a modder could add a space engine like corona, And put the flare over it.\n\nAnd while i of course dont mind if i wont be able to have it change color during sunsets and sunrises it would be worth it anyway, Maybe you could eventually add that.\n\nBut yes the sun flare is too good to be a mere part of a greater mod, It should be independant so players will be able to enjoy beautiful custom flares without having scatterer. (A great mod but burdensome on computer resources when you got it for the flare like i did ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) )"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-03-05T09:39:37Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, daniel l. said:\n\u003E \n\u003E \n\u003E I am asking for standalone and multiple please ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) The lens flare is great on its own and would be even greater with multistar support, Making kopernicus packs would be great because a modder could choose his/her own flare for the custom star. And not to bug but maybe add layer support like EVE clouds so that a modder could add a space engine like corona, And put the flare over it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And while i of course dont mind if i wont be able to have it change color during sunsets and sunrises it would be worth it anyway, Maybe you could eventually add that.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E But yes the sun flare is too good to be a mere part of a greater mod, It should be independant so players will be able to enjoy beautiful custom flares without having scatterer. (A great mod but burdensome on computer resources when you got it for the flare like i did ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) )\n\u003E \n\nAlright, fair enough, I will do it but not right now."},{"CreatedByName":"daniel l.","CreatedById":57763,"CreatedDateTime":"2016-03-05T09:43:35Z","Content":"\u003E \n\u003E \n\u003E Just now, blackrack said:\n\u003E \n\u003E \n\u003E Alright, fair enough, I will do it but not right now.\n\u003E \n\nThanks ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2016-03-05T16:26:23Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Is this with the newest release from yesterday? I thought I fixed this like a week ago.\n\u003E \n\nYes, this was from the newest release on space dock. I also for the first time have a.... I guess \u0022digital camo\u0022 pattern on the moon. I\u0027m afraid to give you my log though, I\u0027m over 100 mods at this point. But since it worked on the pre memory optimization. I figured I\u0027d at the very least mention it."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2016-03-05T16:44:03Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Alright, fair enough, I will do it but not right now.\n\u003E \n\nWell, you do already have tone mapper as a stand alone.... And if Scatterer is broken up into multiple seperate mods. It may confuse a lot of people.\n\nalso [@daniel l.](https://forum.kerbalspaceprogram.com/index.php?/profile/57763-daniel-l/) the lens flare is fairly easy to modify. I ripped the textures from an asset file for AVP I2 and was able to modify it to work with scatterer. And modders can use a similar approache as texture replacer. Just make there own textures and you would over right existing scatterer textures. Then you would have a new flare with fewer mod folders to keep track of."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2016-03-05T17:50:22Z","Content":"I was just too stoked about this, I have to share. So I put GEM FX on top of everything (Scatterer EVE AVP) and this was the end result ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/fOQDGCvJ1h4?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Brigadier","CreatedById":147109,"CreatedDateTime":"2016-03-05T19:02:47Z","Content":"[@V8jester](https://forum.kerbalspaceprogram.com/index.php?/profile/136093-v8jester/), all I can say is \u0027wow\u0027."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2016-03-05T19:04:28Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I have to commend you on the new lens flare system. It works so much better than the systems we previously had. The color fading and lightening as your angle to the sun changes looks fantastic! I converted the asset file lens flares Astronomer made for AVP. As he has been absent for some time. Here is a link to those lens flares. If he has any objections I\u0027ll be happy to take it down.\n\n**[Scatterer Lens Flares](https://www.dropbox.com/s/xw5vefezqqkq6qz/Scatterer%20Lens%20flares.rar?dl=0)**"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2016-03-05T19:50:14Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, V8jester said:\n\u003E \n\u003E \n\u003E o I put GEM FX on top of everything (Scatterer EVE AVP) and this was the end result\n\u003E \n\nYour video seriously needs Real Pume ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2016-03-05T19:52:00Z","Content":"\u003E \n\u003E \n\u003E Just now, sashan said:\n\u003E \n\u003E \n\u003E Your video seriously needs Real Pume ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nYou know.... Your at absolutely right ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) I\u0027ll remember that for next time. I really haven\u0027t played with RP yet but I\u0027ve seen it before."},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2016-03-05T19:57:20Z","Content":"\u003E \n\u003E \n\u003E Just now, V8jester said:\n\u003E \n\u003E \n\u003E You know.... Your at absolutely right ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) I\u0027ll remember that for next time. I really haven\u0027t played with RP yet but I\u0027ve seen it before.\n\u003E \n\nIt\u0027s simply awesome.  \n![q4baF1L.png](http://i.imgur.com/q4baF1L.png)  \n\nOn-topic: Would it be possible to make water splash horizontal particles to be drawn on top of water again? They are completely invisible now."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-03-06T06:02:13Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, V8jester said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I have to commend you on the new lens flare system. It works so much better than the systems we previously had. The color fading and lightening as your angle to the sun changes looks fantastic! I converted the asset file lens flares Astronomer made for AVP. As he has been absent for some time. Here is a link to those lens flares. If he has any objections I\u0027ll be happy to take it down.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **[Scatterer Lens Flares](https://www.dropbox.com/s/xw5vefezqqkq6qz/Scatterer%20Lens%20flares.rar?dl=0)**\n\u003E \n\nThanks, I wasn\u0027t satisfied with the existing lens flare system, it was too simplistic and I thought that some small changes could make it a lot better. I also tried implementing another feature where additional spikes would rotate and grow around the sun as it moves around, to make it seem less static, but it didn\u0027t look good, I\u0027ll probably give it another try later on.\n\n\u003E \n\u003E \n\u003E 10 hours ago, sashan said:\n\u003E \n\u003E \n\u003E On-topic: Would it be possible to make water splash horizontal particles to be drawn on top of water again? They are completely invisible now.\n\u003E \n\nI didn\u0027t actually remove them (though I didn\u0027t like them either) so not sure what\u0027s going on, could be because of the new method to disable the ocean, if that\u0027s the case it\u0027s safe to say they aren\u0027t coming back unless you want the performance hit back."},{"CreatedByName":"Brigadier","CreatedById":147109,"CreatedDateTime":"2016-03-06T06:31:30Z","Content":"FYI, I\u0027ve reported a possible anomaly with the TST mod and Scatterer in the TST thread at [this post](https://forum.kerbalspaceprogram.com/index.php?/topic/100188-105-tarsier-space-technology-with-galaxies-continued-v58-28th-jan-2016/\u0026do=findComment\u0026comment=2444209).  When I open a telescope window from his mod, I\u0027m getting some sort of additional layer that looks suspiciously like one of yours.  Example [here](https://www.dropbox.com/s/r5ac72fe805te9w/Telescope%20Window%20Anomaly.png?dl=0).\n\n**Edited \u003Ctime datetime=\u00222016-03-06T06:34:22Z\u0022 title=\u002203/06/2016 06:34  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 6, 2016\u003C/time\u003E by Brigadier**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-03-06T06:48:33Z","Content":"\u003E \n\u003E \n\u003E 16 minutes ago, Brigadier said:\n\u003E \n\u003E \n\u003E FYI, I\u0027ve reported a possible anomaly with the TST mod and Scatterer in the TST thread at [this post](https://forum.kerbalspaceprogram.com/index.php?/topic/100188-105-tarsier-space-technology-with-galaxies-continued-v58-28th-jan-2016/\u0026do=findComment\u0026comment=2444209).  When I open a telescope window from his mod, I\u0027m getting some sort of additional layer that looks suspiciously like one of yours.  Example [here](https://www.dropbox.com/s/r5ac72fe805te9w/Telescope%20Window%20Anomaly.png?dl=0).\n\u003E \n\nYes, this was reported on my github repository a long time ago, I haven\u0027t fixed it yet."},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2016-03-06T09:42:24Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E I didn\u0027t actually remove them (though I didn\u0027t like them either) so not sure what\u0027s going on, could be because of the new method to disable the ocean, if that\u0027s the case it\u0027s safe to say they aren\u0027t coming back unless you want the performance hit back.\n\u003E \n\nWhat happened is that you\u0027ve changed draw order of ocean in relation to particles - they are in the same layer now. This made smoke and others look much better near the ocean but splash FX is almost always a bit lower than actual ocean surface - so it\u0027s invisible."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-03-06T10:05:57Z","Content":"Does anybody else feel the stock re-entry/mach effects are big performance hogs?\n\n\u003E \n\u003E \n\u003E 22 minutes ago, sashan said:\n\u003E \n\u003E \n\u003E What happened is that you\u0027ve changed draw order of ocean in relation to particles - they are in the same layer now. This made smoke and others look much better near the ocean but splash FX is almost always a bit lower than actual ocean surface - so it\u0027s invisible.\n\u003E \n\nRight, try the oceanRenderQueue field in the UI."}]}