{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":191,"Articles":[{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2016-07-23T03:04:25Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E What happens when you uncheck the load alternate dx11 option? Did this not happen with last version? Do you get the artifacts with previous version?\n\u003E \n\nI still crash with the alternate DirectX 11 shaders options unchecked.\n\nI am using the latest version v0.0247 which came with [Stock Visual Enhancement v1.0.4](https://forum.kerbalspaceprogram.com/index.php?/topic/143288-113-104-stock-visual-enhancements/). I have tested uninstalling SVE and using default Scatterer v0.0247, and I still crash. So the issue can\u0027t be from SVE.\n\nI\u0027m not sure which artifacts you\u0027re referring to with the previous version."},{"CreatedByName":"SuperTrev","CreatedById":166947,"CreatedDateTime":"2016-07-23T17:29:48Z","Content":"I apologize if this issue has already been addressed but its hard to tell if anyone is having the same problem from screenshots alone. Has anyone experienced anything like this? Only happens when adjusting the viewport along one axis. Happens with / without mods, full-screen / windowed, with various graphics settings in Kerbal and Nvidia control panel. Adjusting nearClip doesn\u0027t seem to help. Doesn\u0027t Happen with ocean shaders disabled.\n\nI\u0027m pretty unfamiliar with forum etiquette so if I\u0027m breaking some kind of cardinal rule please don\u0027t crucify me. Thanks! \n\nNvidia GTX 960 with latest driver \u0022368.81\u0022\n\n[https://youtu.be/wfpJboQHLD0](https://youtu.be/wfpJboQHLD0)\n\n**Edited \u003Ctime datetime=\u00222016-07-23T17:30:58Z\u0022 title=\u002207/23/2016 05:30  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 23, 2016\u003C/time\u003E by SuperTrev**"},{"CreatedByName":"Stratzenblitz75","CreatedById":108287,"CreatedDateTime":"2016-07-23T20:32:01Z","Content":"\u003E \n\u003E \n\u003E On 7/19/2016 at 2:10 PM, blackrack said:\n\u003E \n\u003E \n\u003E pics?\n\u003E \n\nI\u0027ve also experienced the \u0022stock flare combined scatterer flare\u0022. I\u0027m positive it is a result of having both Kopernicus and scatterer installed at the same time. (A stock 1.1.3 install with only scatterer has the correct sun-flare. Kopernicus plus scatterer creates a mish-mash of the two flares).  Here\u0027s what it looks like: \n\n![MhT4XFQ.png](http://i.imgur.com/MhT4XFQ.png)\n\nFrom this distance, it doesn\u0027t look that bad. However, when you get closer to the sun, the stock-flare becomes extremely large and completely overpowers the scatterer flare.\n\nI\u0027ve already notified the Kopernicus devs of this and am awaiting their response."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-07-24T20:59:31Z","Content":"\u003E \n\u003E \n\u003E On 7/23/2016 at 7:29 PM, SuperTrev said:\n\u003E \n\u003E \n\u003E I apologize if this issue has already been addressed but its hard to tell if anyone is having the same problem from screenshots alone. Has anyone experienced anything like this? Only happens when adjusting the viewport along one axis. Happens with / without mods, full-screen / windowed, with various graphics settings in Kerbal and Nvidia control panel. Adjusting nearClip doesn\u0027t seem to help. Doesn\u0027t Happen with ocean shaders disabled.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m pretty unfamiliar with forum etiquette so if I\u0027m breaking some kind of cardinal rule please don\u0027t crucify me. Thanks! \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Nvidia GTX 960 with latest driver \u0022368.81\u0022\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://youtu.be/wfpJboQHLD0](https://youtu.be/wfpJboQHLD0)\n\u003E \n\nIt gets reported quite a lot, for some people it seems to start happening fps goes about 50, for others it\u0027s there no matter what.\n\nNo known fix for now.\n\n\u003E \n\u003E \n\u003E On 7/23/2016 at 10:32 PM, Stratzenblitz75 said:\n\u003E \n\u003E \n\u003E I\u0027ve also experienced the \u0022stock flare combined scatterer flare\u0022. I\u0027m positive it is a result of having both Kopernicus and scatterer installed at the same time. (A stock 1.1.3 install with only scatterer has the correct sun-flare. Kopernicus plus scatterer creates a mish-mash of the two flares).  Here\u0027s what it looks like:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E From this distance, it doesn\u0027t look that bad. However, when you get closer to the sun, the stock-flare becomes extremely large and completely overpowers the scatterer flare.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027ve already notified the Kopernicus devs of this and am awaiting their response.\n\u003E \n\nCan you try without kopernicus? Also, which mod are you using that uses kopernicus?"},{"CreatedByName":"Stratzenblitz75","CreatedById":108287,"CreatedDateTime":"2016-07-24T21:15:08Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Can you try without kopernicus? Also, which mod are you using that uses kopernicus?\n\u003E \n\nI have tried it without kopernicus. The flare works completely fine without kopernicus installed.\n\nI use [stock visual terrain](https://forum.kerbalspaceprogram.com/index.php?/topic/143828-stock-visual-terrain/) with kopernicus. However, while trying to find the cause of the sun-flare incompatibility, I uninstalled stock visual terrain. This mish-mash of the stock sun-flare and the scatterer sun-flare happens with just scatterer and kopernicus installed."},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2016-07-24T21:20:20Z","Content":"\u003E \n\u003E \n\u003E 20 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Can you try without kopernicus? Also, which mod are you using that uses kopernicus?\n\u003E \n\n\u003E \n\u003E \n\u003E 4 minutes ago, Stratzenblitz75 said:\n\u003E \n\u003E \n\u003E This mish-mash of the stock sun-flare and the scatterer sun-flare happens with just scatterer and kopernicus installed.\n\u003E \n\nCan confirm this as well"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-07-24T21:22:19Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Gaiiden said:\n\u003E \n\u003E \n\u003E Can confirm this as well\n\u003E \n\n\u003E \n\u003E \n\u003E 6 minutes ago, Stratzenblitz75 said:\n\u003E \n\u003E \n\u003E I have tried it without kopernicus. The flare works completely fine without kopernicus installed.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I use [stock visual terrain](https://forum.kerbalspaceprogram.com/index.php?/topic/143828-stock-visual-terrain/) with kopernicus. However, while trying to find the cause of the sun-flare incompatibility, I uninstalled stock visual terrain. This mish-mash of the stock sun-flare and the scatterer sun-flare happens with just scatterer and kopernicus installed.\n\u003E \n\nOk, I will look into it, shouldn\u0027t be too complicated."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-07-26T07:19:00Z","Content":"\u003E \n\u003E \n\u003E On \u200E7\u200E/\u200E24\u200E/\u200E2016 at 5:22 PM, blackrack said:\n\u003E \n\u003E \n\u003E Ok, I will look into it, shouldn\u0027t be too complicated.\n\u003E \n\nI have fixed this issue. Its not on your end, its on the end of any modder who didn\u0027t set his sun cfg up right in kopernicus (me)\n\n\u003E \n\u003E \n\u003E On \u200E7\u200E/\u200E24\u200E/\u200E2016 at 5:15 PM, Stratzenblitz75 said:\n\u003E \n\u003E \n\u003E I have tried it without kopernicus. The flare works completely fine without kopernicus installed.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I use [stock visual terrain](https://forum.kerbalspaceprogram.com/index.php?/topic/143828-stock-visual-terrain/) with kopernicus. However, while trying to find the cause of the sun-flare incompatibility, I uninstalled stock visual terrain. This mish-mash of the stock sun-flare and the scatterer sun-flare happens with just scatterer and kopernicus installed.\n\u003E \n\nI fixed the issue in SVT. it was my cfg"},{"CreatedByName":"Pol","CreatedById":101137,"CreatedDateTime":"2016-07-26T13:51:51Z","Content":"I\u0027m just use        light { sunLensFlareColor = 0.0, 0.0, 0.0, 0.0}(just 0 to alpha is sufficient I suppose, but I was lazy to test) in kopernicus sun config since I noticed that overlaping. Don\u0027t  know is this best way but it works for me. \n\n**Edited \u003Ctime datetime=\u00222016-07-26T13:53:38Z\u0022 title=\u002207/26/2016 01:53  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 26, 2016\u003C/time\u003E by Pol**"},{"CreatedByName":"Thomas P.","CreatedById":113164,"CreatedDateTime":"2016-07-26T14:02:17Z","Content":"In case it helps, the code responsible for this behaviour is located here: [https://github.com/Kopernicus/Kopernicus/blob/master/Kopernicus/Kopernicus.Components/KopernicusStar.cs#L268](https://github.com/Kopernicus/Kopernicus/blob/master/Kopernicus/Kopernicus.Components/KopernicusStar.cs#L268)\n\nIn case you need help on the Kopernicus side, PM me, or ping me in #Kopernicus. If I have time I might just mash together some reflection code to interface with Kopernicus."},{"CreatedByName":"cubinator","CreatedById":150330,"CreatedDateTime":"2016-07-26T17:17:42Z","Content":"\u003E \n\u003E \n\u003E On 6/1/2016 at 0:01 AM, sDaZe said:\n\u003E \n\u003E \n\u003E [![YL4YTIT.jpg](http://i.imgur.com/YL4YTIT.jpg)](http://i.imgur.com/YL4YTIT.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This is on Titan.\n\u003E \n\nIf I may ask, what did you do to get Scatterer working in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E? I\u0027ve been trying to get it working along with RVE to no avail. The RVE clouds are working perfectly, but all of Scatterer\u0027s functions are absent."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-07-26T17:27:11Z","Content":"\u003E \n\u003E \n\u003E 26 minutes ago, cubinator said:\n\u003E \n\u003E \n\u003E If I may ask, what did you do to get Scatterer working in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E\u003C/abbr\u003E? I\u0027ve been trying to get it working along with RVE to no avail. The RVE clouds are working perfectly, but all of Scatterer\u0027s functions are absent.\n\u003E \n\nthis isn\u0027t rve its ssrss which uses custom cfgs from SVE\n\n**Edited \u003Ctime datetime=\u00222016-07-26T17:44:17Z\u0022 title=\u002207/26/2016 05:44  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 26, 2016\u003C/time\u003E by Berlin**"},{"CreatedByName":"Stratzenblitz75","CreatedById":108287,"CreatedDateTime":"2016-07-26T18:00:43Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, Berlin said:\n\u003E \n\u003E \n\u003E I have fixed this issue. Its not on your end, its on the end of any modder who didn\u0027t set his sun cfg up right in kopernicus (me)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I fixed the issue in SVT. it was my cfg\n\u003E \n\nThats interesting... I was certain that SVT wasn\u0027t to blame because the issue came up without it being installed. I guess I was wrong.\n\nMy apologies for reporting this bug to you, [@blackrack](%7B___base_url___%7D/index.php?/profile/104258-blackrack/)"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-07-26T18:13:45Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, Stratzenblitz75 said:\n\u003E \n\u003E \n\u003E Thats interesting... I was certain that SVT wasn\u0027t to blame because the issue came up without it being installed. I guess I was wrong.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E My apologies for reporting this bug to you, [@blackrack](%7B___base_url___%7D/index.php?/profile/104258-blackrack/)\n\u003E \n\nWell,  you weren\u0027t wrong.  Kopernicus needs a sun.cfg like the one in SVT in order for the sun flares to work.  Without it,  kopernicus\u0027 default sun blocks scatterers flare. I\u0027m sure there is nothing wrong with either mod. They just need some TLC to work together ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Pol","CreatedById":101137,"CreatedDateTime":"2016-07-26T18:27:38Z","Content":"\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E I\u0027m sure there is nothing wrong with either mod.\n\u003E \n\nWell, If I remeber correctly previosly scatterer replaced the flare (as advertised), now it just draw it (and this is nice too), without doing anything with stock one.\n\nBy the way, if scatterer can add flare to game object can it be possible to create part module to go full Abrams and make possible to add custom  flares to lights and engines?\n\n**Edited \u003Ctime datetime=\u00222016-07-26T18:27:51Z\u0022 title=\u002207/26/2016 06:27  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 26, 2016\u003C/time\u003E by Pol**"},{"CreatedByName":"cubinator","CreatedById":150330,"CreatedDateTime":"2016-07-26T18:44:29Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Berlin said:\n\u003E \n\u003E \n\u003E this isn\u0027t rve its ssrss which uses custom cfgs from SVE\n\u003E \n\nAh, ok."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-07-26T19:25:33Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Thomas P. said:\n\u003E \n\u003E \n\u003E In case it helps, the code responsible for this behaviour is located here: [https://github.com/Kopernicus/Kopernicus/blob/master/Kopernicus/Kopernicus.Components/KopernicusStar.cs#L268](https://github.com/Kopernicus/Kopernicus/blob/master/Kopernicus/Kopernicus.Components/KopernicusStar.cs#L268)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In case you need help on the Kopernicus side, PM me, or ping me in #Kopernicus. If I have time I might just mash together some reflection code to interface with Kopernicus.\n\u003E \n\nAre you actually doing multiple lens flares for additional stars now?\n\n\u003E \n\u003E \n\u003E 56 minutes ago, Pol said:\n\u003E \n\u003E \n\u003E Well, If I remeber correctly previosly scatterer replaced the flare (as advertised), now it just draw it (and this is nice too), without doing anything with stock one.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E By the way, if scatterer can add flare to game object can it be possible to create part module to go full Abrams and make possible to add custom  flares to lights and engines?\n\u003E \n\nYou know what, I actually thought about this but didn\u0027t want to implement it as I didn\u0027t want the game going full abrams yet."},{"CreatedByName":"Thomas P.","CreatedById":113164,"CreatedDateTime":"2016-07-26T19:31:50Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Are you actually doing multiple lens flares for additional stars now?\n\u003E \n\nYes, Kopernicus has support for multiple lensflares that can be customised through Unity Flares exported to Asset Bundles. It differs a bit from the stock implementation, mainly to make Kittopias Star Editor less tendious to use."},{"CreatedByName":"TheUnamusedFox","CreatedById":5606,"CreatedDateTime":"2016-07-27T18:07:49Z","Content":"Hate to ask, but could someone put together a tutorial on making scatterer configs? I played around with the tool, but I feel like a monkey with a typewriter. If I make something look good, it\u0027s only going to be once in a long, long while... I really like to make some configs for planets from New Horizons and the brown dwarf systems mod.\n\n**Edited \u003Ctime datetime=\u00222016-07-27T18:15:36Z\u0022 title=\u002207/27/2016 06:15  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 27, 2016\u003C/time\u003E by TheUnamusedFox**"},{"CreatedByName":"Estebanium","CreatedById":152854,"CreatedDateTime":"2016-07-29T08:10:17Z","Content":"I installed Scatterer with forced DX11. I use \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E in addition. I noticed a small blue line at the coastline and if I launch a rocket, the atmosphere looks like it would bounce up and down. Is this normal?\n\n[http://steamcommunity.com/sharedfiles/filedetails/?id=733572257](http://steamcommunity.com/sharedfiles/filedetails/?id=733572257)\n\nOh and is it normal that the planet in the start screen looks like in vanilla? There is no cool effect on it..\n\n**Edited \u003Ctime datetime=\u00222016-07-29T08:25:11Z\u0022 title=\u002207/29/2016 08:25  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 29, 2016\u003C/time\u003E by Estebanium**"},{"CreatedByName":"MorePortal","CreatedById":157886,"CreatedDateTime":"2016-07-29T14:01:07Z","Content":"Can you make config where we can set color for lens flares?"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-07-29T15:23:33Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, MorePortal said:\n\u003E \n\u003E \n\u003E Can you make config where we can set color for lens flares?\n\u003E \n\nThat is already in the works.  Also if you want a different lense flare color you could just make one and make it whatever color you want...  Or you can ask someone that already has a sun flare mod to make a custom one for you. (like me) \n\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/138919-113-14-galileos-sun-flares/\u0026do=embed\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"MorePortal","CreatedById":157886,"CreatedDateTime":"2016-07-29T16:19:49Z","Content":"\u003E \n\u003E \n\u003E 54 minutes ago, Berlin said:\n\u003E \n\u003E \n\u003E That is already in the works.  Also if you want a different lense flare color you could just make one and make it whatever color you want...  Or you can ask someone that already has a sun flare mod to make a custom one for you. (like me)\n\u003E \n\nI mean one star have one lens flare, other star have other lens flare"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-07-29T16:32:19Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, MorePortal said:\n\u003E \n\u003E \n\u003E I mean one star have one lens flare, other star have other lens flare\n\u003E \n\nScatterer doesn\u0027t do that but ask in the kopernicus thread. I\u0027m pretty sure you can with a kopernicus cfg"},{"CreatedByName":"MorePortal","CreatedById":157886,"CreatedDateTime":"2016-07-29T16:51:23Z","Content":"\u003E \n\u003E \n\u003E 18 minutes ago, Berlin said:\n\u003E \n\u003E \n\u003E Scatterer doesn\u0027t do that but ask in the kopernicus thread. I\u0027m pretty sure you can with a kopernicus cfg\n\u003E \n\nI mean scatterer lens (in future update)"}]}