{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":326,"Articles":[{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-25T15:43:39Z","Content":"I\u0027m pretty sure I already know the answer to this, but does SSTU have any way to add/remove available modules on a part?"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-01-25T15:49:01Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E I\u0027m pretty sure I already know the answer to this, but does SSTU have any way to add/remove available modules on a part?\n\u003E \n\nWhat do you mean?\n\nYou could edit the cfg files, and eliminate any adapters/etc you never use, for example. Is that what you mean?"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-25T16:34:56Z","Content":"I don\u0027t think KSP allows the adding/removing of modules in-game, only disabling them if there is an option to in the module itself (like reaction wheels and \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E). If you want to add a command module or reaction wheels to something for example, you will need to manually change the cfg files (see my patches ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) ) ."},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-25T19:10:10Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E I don\u0027t think KSP allows the adding/removing of modules in-game, only disabling them if there is an option to in the module itself (like reaction wheels and \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E). If you want to add a command module or reaction wheels to something for example, you will need to manually change the cfg files (see my patches ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) ) .\n\u003E \n\nThat\u0027s what I figured but wanted to ask since SSTU has lots of features.  ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-25T20:36:35Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E I don\u0027t think KSP allows the adding/removing of modules in-game, only disabling them if there is an option to in the module itself (like reaction wheels and \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E). If you want to add a command module or reaction wheels to something for example, you will need to manually change the cfg files (see my patches ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) ) .\n\u003E \n\nYes it does. Deadly Reentry does that to ensure that every part has its module installed (except for flags and certain others). \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E does the same thing."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-25T20:42:33Z","Content":"Yeah, by adding a patch at startup of the game to add modules into the existing CFG, but not when the game is already running. Not the same thing though ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-25T21:43:58Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, Starwaster said:\n\u003E \n\u003E \n\u003E Yes it does. Deadly Reentry does that to ensure that every part has its module installed (except for flags and certain others). \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E does the same thing.\n\u003E \n\n\u003E \n\u003E \n\u003E 1 minute ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E Yeah, by adding a patch at startup of the game to add modules into the existing CFG, but not when the game is already running. Not the same thing though ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)\n\u003E \n\nMore precisely -- you *can* add modules to a part at runtime.  You can even remove modules.  It is just ugly and dirty, and can cause tons of compatibility problems with stock and other mods\u0027 code.\n\nWhat you *can\u0027t* do (at least not that I\u0027ve been able to figure out) is get proper and robust persistence support for modules added at runtime (any module not in the prefab will not get its persistent data reloaded properly).  You also can\u0027t patch/module-manager-edit any modules added at runtime (as there is nothing in the config file to patch).  Nor is there any generic method to add/remove arbitrary modules -- most modules have very specific setup/initialization/ordering that needs to be done to not break things."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-25T23:29:50Z","Content":"[@Jimbodiah](https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/)  I\u0027m not talking about using Module Manager patches. You can add modules at runtime. Deadly Reentry does so when the game gets to the main menu. \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E does so when a vessel is loaded.\n\n[@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) The only mods I\u0027ve seen compatibility problems with were mods with invasive coding practices (which also caused the compatibility issues with multiple other mods)... or mods with just bad code"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-26T00:04:26Z","Content":"Basically what I was hoping to do was put a couple different TACLS modules onto the generic station parts, then have a selection options in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E that let you specify which set you launch the part with.  That way I could use the same generic station part for Mir and ISS modules.  But it doesn\u0027t sound like I can do that.\n\nSo here\u0027s a different question.  Since I need to make parts that are more or less specific to Mir modules, and different parts that are specific to ISS modules, I\u0027ve decided to just make parts without the SSTUModularStationCore Module.  I know that means I have to specify all the model\u0027s (and place/size those models properly) myself.  That\u0027s not actually all that hard.  But is there any way to tell those models to use other textures?  I know that with SSTUModularStationCore you can change from the default beige texture, to green, grey and a couple others.  I\u0027ve tried using \u0022texture = ST-DOS-GREEN-DIFF,SSTU/Assets/ST-DOS-GREEN-DIFF\u0022 in the MODEL section to make the core green, but that just doesn\u0027t seem to do the trick."},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2018-01-26T06:54:28Z","Content":"Quick question: I\u0027m trying to add the SSTU Heatshield module to an existing part (to reduce part count on my spacecraft), and when I right click the part ingame, my game freezes. Is there a fix to this I can do, or will I have to use the stock heatshield module and add a pull request on github?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-26T15:34:15Z","Content":"\u003E \n\u003E \n\u003E 14 hours ago, chrisl said:\n\u003E \n\u003E \n\u003E I\u0027ve tried using \u0022texture = ST-DOS-GREEN-DIFF,SSTU/Assets/ST-DOS-GREEN-DIFF\u0022 in the MODEL section to make the core green, but that just doesn\u0027t seem to do the trick.\n\u003E \n\nThe SSTUModularStationCore, and all of the models it use, use the TextureSet system.  Look in the SSTU/Data/TextureSets folder for the texture sets.  Basically create a new texture set, and reference that in the SSTU\\_MODEL.  Remove any existing sets if you want to force a specific texture.\n\n\u003E \n\u003E \n\u003E 8 hours ago, T-10a said:\n\u003E \n\u003E \n\u003E Quick question: I\u0027m trying to add the SSTU Heatshield module to an existing part (to reduce part count on my spacecraft) [...snip...]\n\u003E \n\nShould be possible.  That is the entire reason for the module.\n\nLog file?  (nothing I can do without logs but... guess...... I guess there is a problem somewhere?)\n\n\u003E \n\u003E \n\u003E 15 hours ago, Starwaster said:\n\u003E \n\u003E \n\u003E The only mods I\u0027ve seen compatibility problems with were mods with invasive coding practices (which also caused the compatibility issues with multiple other mods)... or mods with just bad code\n\u003E \n\nHave you figured out how to get persistent data to work for those modules (added at runtime)?  And how do you deal with the ModuleManager patching issues?  (no config to patch = can\u0027t patch it?)\n\nRuntime module switching is something I\u0027ve wanted... forever.  Every attempt at that I\u0027ve done it runs into issues with stock code in one place or another.\n\n(note, I\u0027m not talking about just adding one specific simple module; that I can already do.... I need full in-editor switching of arbitrary modules, with persistent data support; e.g. remove engine module, add \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E module; or swtich out a \u0027probe core\u0027 module for a \u0027science experiment\u0027 module)"},{"CreatedByName":"RaiderMan","CreatedById":180001,"CreatedDateTime":"2018-01-26T16:12:56Z","Content":"the ISS style hab modules, I\u0027ve never looked despite using them often, but are they resizable like the fuel tanks and whatnot are?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-26T16:16:22Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, RaiderMan said:\n\u003E \n\u003E \n\u003E the ISS style hab modules, I\u0027ve never looked despite using them often, but are they resizable like the fuel tanks and whatnot are?\n\u003E \n\nNo.  Crewed parts are not resizable; only the raw resource containers can have their size/diameter adjusted."},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-26T16:50:23Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Shadowmage said:\n\u003E \n\u003E \n\u003E The SSTUModularStationCore, and all of the models it use, use the TextureSet system.  Look in the SSTU/Data/TextureSets folder for the texture sets.  Basically create a new texture set, and reference that in the SSTU\\_MODEL.  Remove any existing sets if you want to force a specific texture.\n\u003E \n\nLike I said, I ended up creating parts without SSTUModularStationCore.  Since I am making specific parts to be specific components of Mir and ISS, it didn\u0027t seem like the best option to use SSTUModularStationCore.  After all, if you\u0027re using just one specific Top adapter, one Bottom Adapter, one solar panel and no docking ports, it didn\u0027t seem worth it to use SSTUModularStationCore.  Especially since SSTUModularStationCore doesn\u0027t allow for statically declared mass and volume values.  So rather than using SSTUModularStationCore, the parts I setup have 11 MODEL definitions in the cfg file.  I had to work out the scale, position and rotation for each of those MODEL definitions, but that wasn\u0027t overly complicated with the hints already available in the SSTU\\_MODEL I was mixing and matching.  The parts I setup all look good and seem to work properly.  But they are all using the default textures which isn\u0027t horrible but if I could figure out how to get the texture command to work in the MODEL definitions, I\u0027d be able to use (for instance) the green textures you have available for the DOS station parts."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-26T17:51:08Z","Content":"\u003E \n\u003E \n\u003E 54 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E But they are all using the default textures which isn\u0027t horrible but if I could figure out how to get the texture command to work in the MODEL definitions, I\u0027d be able to use (for instance) the green textures you have available for the DOS station parts.\n\u003E \n\nThe stock MODEL node setup does not support the proper shaders and other features needed for SSTU textures.  So basically, its never going to work properly/fully using the stock texture changing methods. \n\nYou can either accept whatever the default texture/color is, or you can setup the SSTUModularStationCore module (it works fine with only a single adapter option; it\u0027ll even disable the adapter-selection-GUI controls if only a single option is specified), or you can work out how to use the SSTUTextureSwitch module (which is fully capable of using custom shaders/textures).\n\n\u003E \n\u003E \n\u003E 58 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E Especially since SSTUModularStationCore doesn\u0027t allow for statically declared mass and volume values.\n\u003E \n\nIt does, very much so.  You just have to specify them properly in the SSTU\\_MODEL nodes and/or in the PartModule itself.\n\nLook in the existing station-core parts.  See the CORE node, with the mass/volume specified?  Yep, that bit right there lets you change the mass/volume of the part.  You can even adjust the VolumeContainer config so that it does no further mass adjustments for tankage, using the mass of the CORE \u002B resources only."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-26T17:54:56Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Have you figured out how to get persistent data to work for those modules (added at runtime)?  And how do you deal with the ModuleManager patching issues?  (no config to patch = can\u0027t patch it?)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Runtime module switching is something I\u0027ve wanted... forever.  Every attempt at that I\u0027ve done it runs into issues with stock code in one place or another.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (note, I\u0027m not talking about just adding one specific simple module; that I can already do.... I need full in-editor switching of arbitrary modules, with persistent data support; e.g. remove engine module, add \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E module; or swtich out a \u0027probe core\u0027 module for a \u0027science experiment\u0027 module)\n\u003E \n\nAh, sorry, I guess we misunderstood each other. DRE does add modules but only at the main menu. So what you\u0027re wanting isn\u0027t just runtime addition but to do so on the fly. Persistence shouldn\u0027t be a problem because as long as the relevant fields are marked persistent then they\u0027ll be deserialized when  a craft with that module is loaded. \n\n\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patching would clearly be a problem though if there\u0027s an actual need to patch something, maybe you could get by with template parts that exist but aren\u0027t usable by the player (no techRequired assigned or a dummy tech so they don\u0027t appear) and patch that and then refer to the template when needing to add the module.\n\nUnfortunately I can\u0027t speak to other problems you may have had since I haven\u0027t done that kind of module manipulation before. Adding them and then having them disabled when not present (as [@Jimbodiah](https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/) alluded to) seems easier"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-26T18:12:46Z","Content":"\u003E \n\u003E \n\u003E 17 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E The stock MODEL node setup does not support the proper shaders and other features needed for SSTU textures.  So basically, its never going to work properly/fully using the stock texture changing methods. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You can either accept whatever the default texture/color is, or you can setup the SSTUModularStationCore module (it works fine with only a single adapter option; it\u0027ll even disable the adapter-selection-GUI controls if only a single option is specified), or you can work out how to use the SSTUTextureSwitch module (which is fully capable of using custom shaders/textures).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It does, very much so.  You just have to specify them properly in the SSTU\\_MODEL nodes and/or in the PartModule itself.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Look in the existing station-core parts.  See the CORE node, with the mass/volume specified?  Yep, that bit right there lets you change the mass/volume of the part.  You can even adjust the VolumeContainer config so that it does no further mass adjustments for tankage, using the mass of the CORE \u002B resources only.\n\u003E \n\nI hadn\u0027t considered creating/using a separate SSTU\\_MODEL for each part.  Can\u0027t use the same for each since the mass/volume of Kvant-2, Spektr, Zarya and Nauka are all wildly different (examples) from each other which was were I was running into problems.  I may have to consider trying that.\n\nAs for SSTUTextureSwitch, is that part of SSTU 0.5.34.134?  I haven\u0027t looked through every part, but I\u0027m not seeing that module on the parts I\u0027ve looked at so far."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-26T18:13:20Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, Starwaster said:\n\u003E \n\u003E \n\u003E Ah, sorry, I guess we misunderstood each other. DRE does add modules but only at the main menu. So what you\u0027re wanting isn\u0027t just runtime addition but to do so on the fly. Persistence shouldn\u0027t be a problem because as long as the relevant fields are marked persistent then they\u0027ll be deserialized when  a craft with that module is loaded.\n\u003E \n\nAhh, yeah, adding them at the main menu (into the prefab part) should present no problems with persistence.  As long as the module is in the prefab part, it should \u0027just work\u0027.\n\nMy problem is that modules added in the editor to an instance of a part are not present in the prefab.  They\u0027ll save their data out during the OnSave() call, and properly write it to the persistence file/craft file, but as the module is not present in the prefab, the module will never be reloaded properly.  It\u0027ll just log some error about \u0027ModuleXXX was present in the save file but not in the part prefab\u0027 or somesuch; the stock code doesn\u0027t even attempt to re-add the module if it isn\u0027t in the prefab.\n\n\u003E \n\u003E \n\u003E 12 minutes ago, Starwaster said:\n\u003E \n\u003E \n\u003E Adding them and then having them disabled when not present (as [@Jimbodiah](https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/) alluded to) seems easier\n\u003E \n\nIndeed -- but this only works with modules that support the stock \u0027moduleIsEnabled\u0027 flag, which is sadly, a very small number of them.  Works fine for \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E (which as moduleIsEnabled support), but not for engines (which do not have any support for moduleIsEnabled).\n\n\u003E \n\u003E \n\u003E 14 minutes ago, Starwaster said:\n\u003E \n\u003E \n\u003E \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patching would clearly be a problem though if there\u0027s an actual need to patch something, maybe you could get by with template parts that exist but aren\u0027t usable by the player (no techRequired assigned or a dummy tech so they don\u0027t appear) and patch that and then refer to the template when needing to add the module.\n\u003E \n\nMy previous attempts had this setup such that the module-to-be-added was defined in a sub-node in the ModuleSwitch part-module.  It allowed for patching of the dynamically-added modules\u0027 config values, but was incompatible with existing patches (they would need to be re-targeted at the sub-node of the ModuleSwitch).\n\nReally the largest problem that I was unable to solve regarding dynamic-module switching was the persistence handling.\n\n\u003E \n\u003E \n\u003E Just now, chrisl said:\n\u003E \n\u003E \n\u003E I haven\u0027t looked through every part, but I\u0027m not seeing that module on the parts I\u0027ve looked at so far.\n\u003E \n\nIt is mostly used on the command-pods, namely the SC-B (Apollo) pod.\n\n\u003E \n\u003E \n\u003E 1 minute ago, chrisl said:\n\u003E \n\u003E \n\u003E I hadn\u0027t considered creating/using a separate SSTU\\_MODEL for each part.\n\u003E \n\nYou shouldn\u0027t need to.  You can override the mass/volume of the SSTU\\_MODEL directly in the CORE subnode of the SSTUModularPart config.\n\nE.G.: The mass and volume specified here --  [https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Data/ModelData/ModelData-ST-DOS.cfg#L1-L61](https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Data/ModelData/ModelData-ST-DOS.cfg#L1-L61)\n\nare overriden here for that specific part -- [https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/StationCore/ST-DOS/ST-DOS-\u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E.cfg#L136-L142](https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/StationCore/ST-DOS/ST-DOS-COM.cfg#L136-L142)\n\nAnd it looks like the VolumeContainer on those parts is already setup properly to not adjust things further (so it should use the values specified in the CORE block directly) -- [https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/StationCore/ST-DOS/ST-DOS-\u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E.cfg#L591-L592](https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/StationCore/ST-DOS/ST-DOS-COM.cfg#L591-L592)"},{"CreatedByName":"RaiderMan","CreatedById":180001,"CreatedDateTime":"2018-01-26T18:24:21Z","Content":"bugger. \n\nwhat part(s) would you recommend then, as something that could be taken up on an ares flight, far as throwaway hab/mission modules are concerned?"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-26T18:35:22Z","Content":"\u003E \n\u003E \n\u003E 40 minutes ago, Starwaster said:\n\u003E \n\u003E \n\u003E Unfortunately I can\u0027t speak to other problems you may have had since I haven\u0027t done that kind of module manipulation before. Adding them and then having them disabled when not present (as [@Jimbodiah](https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/) alluded to) seems easier\n\u003E \n\nThis is why I have my own pack of patched parts, as they tend to be very specific to my personal game play. I just make a copy of the part in question and configure it to hold whatever modules and/or resources I want. Specific game-play features will always be hard to include in mod packs, especially ones as flexible as SSTU. I\u0027m amazed what Mage pulls off with all the modelling options and still have it work properly ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)  If he ever finds out how to add modules in-game, I\u0027ll be stuck in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E even longer ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022)![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022)\n\n**Edited \u003Ctime datetime=\u00222018-01-26T18:36:19Z\u0022 title=\u002201/26/2018 06:36  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 26, 2018\u003C/time\u003E by Jimbodiah**"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-26T18:37:59Z","Content":"\u003E \n\u003E \n\u003E 22 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E It is mostly used on the command-pods, namely the SC-B (Apollo) pod.\n\u003E \n\nI don\u0027t see it on any of the SC-B parts that come with v0.5.34.134 but I do see it on parts that come with v0.7.39.148.  Unfortunately, I think I\u0027m limited to v0.5.34.134 since I\u0027m still using KSP1.2.2.  But I will definitely keep it in mind for what \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E is finally updated to support KSP1.3.1."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-26T18:43:36Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, RaiderMan said:\n\u003E \n\u003E \n\u003E bugger. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E what part(s) would you recommend then, as something that could be taken up on an ares flight, far as throwaway hab/mission modules are concerned?\n\u003E \n\nThe COS parts work fine as temp habs.  A bit heavy perhaps, but functional.  You realize you don\u0027t *need* larger diameter parts, right?  2.5m is just fine, esp. when enclosed in a fairing on a larger diameter rocket.\n\nThe alternative to the COS parts that I\u0027ve used is the HAB parts, notably the HAB-B series.  It requires an additional container of resources to inflate it once in orbit, but they are some of the better mass-per-kerbal habitation parts included in SSTU, and is what I was using as a transit-hab for my Kerbin\u003C-\u003EMinmus missions  (life support \u002B hab requirements = can\u0027t cram 6 kerbals in an SC-C for the entire trip).\n\n\u003E \n\u003E \n\u003E 6 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E Unfortunately, I think I\u0027m limited to v0.5.34.134 since I\u0027m still using KSP1.2.2.\n\u003E \n\nErm.. yeah... can\u0027t really offer any help then.  I don\u0027t even remember what the feature-set was that far back...  (I don\u0027t think the texture-switch module was developed yet at that point).\n\nThe rest of the SSTUModularStationCore stuff should still work; I believe the features I was talking about were part of its original development, so they should be present even in the older releases."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-26T18:50:31Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E can\u0027t cram 6 kerbals in an SC-C for the entire trip).\n\u003E \n\nWhut?! You mean I didn\u0027t send tourists to gather science by accident after all?"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-26T18:56:40Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E This is why I have my own pack of patched parts, as they tend to be very specific to my personal game play. I just make a copy of the part in question and configure it to hold whatever modules and/or resources I want. Specific game-play features will always be hard to include in mod packs, especially ones as flexible as SSTU. I\u0027m amazed what Mage pulls off with all the modelling options and still have it work properly ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)  If he ever finds out how to add modules in-game, I\u0027ll be stuck in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E even longer ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022)![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022)\n\u003E \n\nI do that to a limited extent, stuff like cloning KWR 5m parts and making them 10m so that I can make Saturn V type launchers for Kerbol 10x. So when I first installed SSTU I tried to cherry pick parts  which was a veritable nightmare (you understand why no doubt), but having tried them, next major KSP install I\u0027ll just do a full SSTU install and ditch a lot of the other stuff. Especially now that he\u0027s got PBR in there"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-26T19:09:56Z","Content":"\u003E \n\u003E \n\u003E 56 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E My problem is that modules added in the editor to an instance of a part are not present in the prefab.  They\u0027ll save their data out during the OnSave() call, and properly write it to the persistence file/craft file, but as the module is not present in the prefab, the module will never be reloaded properly.  It\u0027ll just log some error about \u0027ModuleXXX was present in the save file but not in the part prefab\u0027 or somesuch; the stock code doesn\u0027t even attempt to re-add the module if it isn\u0027t in the prefab.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Indeed -- but this only works with modules that support the stock \u0027moduleIsEnabled\u0027 flag, which is sadly, a very small number of them.  Works fine for \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E (which as moduleIsEnabled support), but not for engines (which do not have any support for moduleIsEnabled).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E My previous attempts had this setup such that the module-to-be-added was defined in a sub-node in the ModuleSwitch part-module.  It allowed for patching of the dynamically-added modules\u0027 config values, but was incompatible with existing patches (they would need to be re-targeted at the sub-node of the ModuleSwitch).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Really the largest problem that I was unable to solve regarding dynamic-module switching was the persistence handling.\n\u003E \n\nOk here\u0027s an idea...  assuming a central module that\u0027s keeping track of these configurations. All possible PartModules that could be added to the part are added in the config so that they\u0027re present in the prefab. When the part is loaded in the editor or in flight mode, the controlling module will remove everything that\u0027s not designated as being installed by default. Loading into the editor (whether from the part inventory list or loaded craft) all such modules are removed. Loading into flight scene, same thing. \n\nAdding them back in later then should get around the issue of the KSP not finding the modules in the prefab during loading.\n\n(ugh, that was supposed to get appended to the last message but I guess I took too long)\n\n**Edited \u003Ctime datetime=\u00222018-01-26T19:10:18Z\u0022 title=\u002201/26/2018 07:10  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 26, 2018\u003C/time\u003E by Starwaster**"}]}