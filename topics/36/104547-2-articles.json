{"TopicId":104547,"ForumId":36,"TopicTitle":"[1.3] IR Sequencer v1.0.3 - Add-On to Infernal Robotics (updated 05/06/2017)","CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-04-20T23:30:43Z","PageNum":2,"Articles":[{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-04-27T15:39:05Z","Content":"\u003E \n\u003E I\u0027m glad you considered my ideas. What will \u0022states\u0022 represent ? Something like snapshots of current positions of all parts ? If not, here is (yet another) idea for Sequence Builder (with load/save) - set all parts to certain position and then take a snapshot, set them again then take another snapshot. This kind of workflow is similar to stop-motion animation. That way one can quickly build multiple sequences that are independent from each other. Making sequences that are dependant on each other is a bit non-sensical except for \u0022archiving\u0022 purposes (reusing same code etc).\n\nStates was an idea I proposed to Ziw towards the end of development. My thought was that states would be arbitrary things that you as a player define, but you can then assign sequences to states so they will only run when within it, and when finished can trigger a state change. If you\u0027re familiar with how state machines are represented then sequences would be the transitions between states, rather than the states themselves.\n\nThe example I came up with at the time was having Folded and Deployed states on a craft. When folded all you can do it play the Unfold sequence that then triggers a change to the Deployed state when it finishes. Once in Deployed the Unfold sequence is locked from playing, but other sequences such as Spin Antenna and Refold become unlocked."},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-04-27T15:51:45Z","Content":"Ahh that\u0027s why i did not recognize the term, i did not directly learned about this (there is no shame in admiting ignorance, only in refusing to learn if needed). Here is wikipedia article on [finite state machines](https://en.wikipedia.org/wiki/Finite-state_machine) for anyone interested.\n\nPS: triggers i proposed earlier are form of states and transitions, so pretty much IR Sequencer is going in that direction ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-04-27T15:54:01Z\u0022 title=\u002204/27/2015 03:54  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 27, 2015\u003C/time\u003E by fatcargo**"},{"CreatedByName":"Kolago","CreatedById":103729,"CreatedDateTime":"2015-04-27T20:02:19Z","Content":"This is a really great mod! Maybe sequences can be stored in a extra config file (PluginData directory) and not in the safe game file, so sequences persist after reverting to VAB/SPH."},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-04-27T20:34:59Z","Content":"Unfortunately for now I cannot find a way to save sequences to be reusable, sequences are very intimately tied to a craft they were created on. I understand that this is a very needed feature, but due to the way KSP and IR works I don\u0027t see a way to do it right now, but I\u0027ll keep looking."},{"CreatedByName":"m1sz","CreatedById":93466,"CreatedDateTime":"2015-04-29T19:53:20Z","Content":"I\u0027ve just spent a few hours trying to make a robot walk with these sequences... :-), it\u0027s a very nice mod, it allows for complex operations, but the inability to configure the preset in the SPH makes it really hard.\n\nAnyway, considering the tinkering you have to do all the time with IR timers and speeds, it would be really good if the sequence could be modify, and not just replaced with a new order, so instead of adding a new order with a few more degrees and speed, you can just modify the current one. Moving orders in the middle of 20\u002B other orders is kinda messy and boring :-P\n\nBut after all, I\u0027m just amazed of what a wonderful addition this is!!"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-04-29T21:36:14Z","Content":"Thank you for the feedback. Modifying sequences is high on the list of things to do, I think it will be ready quite soon, maybe even over the weekend."},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-01T08:20:26Z","Content":"\u003E \n\u003E I\u0027ve just spent a few hours trying to make a robot walk with these sequences... :-), it\u0027s a very nice mod, it allows for complex operations, but the inability to configure the preset in the SPH makes it really hard.\n\u003E Anyway, considering the tinkering you have to do all the time with IR timers and speeds, it would be really good if the sequence could be modify, and not just replaced with a new order, so instead of adding a new order with a few more degrees and speed, you can just modify the current one. Moving orders in the middle of 20\u002B other orders is kinda messy and boring :-P\n\u003E \n\u003E But after all, I\u0027m just amazed of what a wonderful addition this is!!\n\nWhat do you think about this solution?\n\n![dz5kIuk.png](http://i.imgur.com/dz5kIuk.png)\n\nCommand numbers are toggles, and yellow line indicates where the new commands will be inserted. Thus you can delete a command you don\u0027t like and easily insert a new in its place without much clicking."},{"CreatedByName":"m1sz","CreatedById":93466,"CreatedDateTime":"2015-05-01T09:23:59Z","Content":"Being able to quickly add a new one in the correct spot makes editing an existing one not that much needed, so as a solution, I think it could be very handy!\n\nBTW, I forgot to report a bug I found while tinkering with the mod. It\u0027s about the \u0022wait for moves\u0022. Sometimes it gets stuck waiting \u0022for moves\u0022, while nothing is moving. I found it to happen when you give 2 orders to the same part, one in one direction and the other in the other direction, and the second order takes place before the first is complete (before the first movement reached the value you set). I didn\u0027t try it further but happened to me several times that day!\n\nthanks for the time and effort! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"m1sz","CreatedById":93466,"CreatedDateTime":"2015-05-05T20:14:02Z","Content":"I\u0027ve been testing it a bit more. There\u0027s an issue with the loop option. The script pauses at the last order, before going to the first one. As you can see in the GFY I add below, it doesn\u0027t matter that I remove the \u0022wait XX\u0022 at the end, it still waits for something, making the walk animation wrong!\n\n[http://gfycat.com/FeistyWillingFerret](http://gfycat.com/FeistyWillingFerret)\n\nStill, a wonderful mod to come :-D\n\nAbout the save scripts, could it be possible to save the script to the .craft of the ship you are using? (so no need to tinker the list in the editor, just make it available to future launches of the same .craft)\n\nthanks!"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-05T20:35:00Z","Content":"\u003E \n\u003E I\u0027ve been testing it a bit more. There\u0027s an issue with the loop option. The script pauses at the last order, before going to the first one. As you can see in the GFY I add below, it doesn\u0027t matter that I remove the \u0022wait XX\u0022 at the end, it still waits for something, making the walk animation wrong!\n\u003E [http://gfycat.com/FeistyWillingFerret](http://gfycat.com/FeistyWillingFerret)\n\u003E \n\u003E Still, a wonderful mod to come :-D\n\u003E \n\u003E About the save scripts, could it be possible to save the script to the .craft of the ship you are using? (so no need to tinker the list in the editor, just make it available to future launches of the same .craft)\n\u003E \n\u003E thanks!\n\nIt is the intended behaviour, the sequence always waits for all queued commands to finish before looping. It is best to construct sequences around this fact. \n\nSaving on the craft for now is difficult, but I\u0027m still looking for a ways to do it (problem is in identifying IR servos, as their unique IDs are assigned to them only on vessel creation). I\u0027m going to release an updated version with the ability to insert commands at the arbitrary point in the sequence tomorrow though, just ironing out some minor details."},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-07T14:49:27Z","Content":"Updated for version 1.0.2 of KSP. Added the discussed feature."},{"CreatedByName":"cy-one","CreatedById":74874,"CreatedDateTime":"2015-05-08T01:43:30Z","Content":"Errrrm... Am I just too stupid, or is there no way to open the sequencer in the VAB/SPH?"},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-05-08T02:58:30Z","Content":"\u003E \n\u003E Errrrm... Am I just too stupid, or is there no way to open the sequencer in the VAB/SPH?\n\nThere is no way to create sequences in-editor. This is due to many technical differences between in-editor and in-flight craft, and is something that may not ever be resolved."},{"CreatedByName":"cy-one","CreatedById":74874,"CreatedDateTime":"2015-05-08T03:30:02Z","Content":"Aww, shoots. Cool tool anyway! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2015-05-08T03:38:46Z","Content":"Thanks - looks very interesting. One note - the OP link is still to 0.2 github page."},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-08T06:15:51Z","Content":"\u003E \n\u003E Thanks - looks very interesting. One note - the OP link is still to 0.2 github page.\n\nThank you, fixed."},{"CreatedByName":"cy-one","CreatedById":74874,"CreatedDateTime":"2015-05-08T11:32:31Z","Content":"As you can\u0027t create sequences in-editor, could you please, please, please add a \u0022save sequence\u0022 functionality? So we can program something and when we have to edit the craft, or maybe build a new craft with the same functionality (aka, all the rotapivowhatever-trons would move the same), we can just load the old program?\n\nAlso, a bigger window would be appreciated (maybe adjustable?). Currently, the left window is \u0022two-rowed\u0022 for me... well, the names are ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI\u0027m also experiencing either a bug or pebcak when it comes to foldatrons.\n\nI\u0027m trying to rebuild the \u0022walker\u0022 seen in the video, using Pivotrons to move the legs forwards and backwards, and foldatrons to lift the legs.\n\nCommands like 1: Pivotron 1 Left to 35 at 2x work like a charm. But Foldatron 2.1 Left to 100 at 1x doesn\u0027t (the indicator stays green and the program stops (wait for moves).\n\nManually moving the Foldatron works without a problem.\n\n![FVygsnK.png](http://i.imgur.com/FVygsnK.png)\n\n**Edited \u003Ctime datetime=\u00222015-05-08T11:47:36Z\u0022 title=\u002205/08/2015 11:47  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 8, 2015\u003C/time\u003E by cy-one**"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-08T11:48:16Z","Content":"\u003E \n\u003E As you can\u0027t create sequences in-editor, could you please, please, please add a \u0022save sequence\u0022 functionality? So we can program something and when we have to edit the craft, or maybe build a new craft with the same functionality (aka, all the rotapivowhatever-trons would move the same), we can just load the old program?\n\u003E Also, a bigger window would be appreciated (maybe adjustable?). Currently, the left window is \u0022two-rowed\u0022 for me... well, the names are ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI am working on it. There are certain limitations of IR API and KSP API making this not so easy."},{"CreatedByName":"cy-one","CreatedById":74874,"CreatedDateTime":"2015-05-08T11:50:01Z","Content":"\u003E \n\u003E I am working on it. There are certain limitations of IR API and KSP API making this not so easy.\n\nThat is awesome to hear... Well, the first part is XD\n\nLet\u0027s hope I\u0027m just too stupid for the Foldatron-problem mentioned above and that there is an easy fix ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nEdit: And as an idea (you probably already had that one, but hey, no harm in mentioning it ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)) for the \u0022load/save\u0022 program...\n\nThere could be an Export-button, which opens a Popup with a serialized list of commands (like \u00221:Pivotron 1 Left:35:1\u0022 for \u00221: Pivotron 1 Left to 35 at 1x\u0022), with each command as a new row. People could then save that exported list of commands either to an out-of-game notepad or to an ingame-notepad.\n\nThe Import-function would open an empty popup to paste the commands into. While not perfect (as this would obviously rely on IR-parts being uniquely named, so the Import can assign each command by name to a IR-part), it would work good enough, I think.\n\n**Edited \u003Ctime datetime=\u00222015-05-08T12:25:11Z\u0022 title=\u002205/08/2015 12:25  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 8, 2015\u003C/time\u003E by cy-one**"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-08T16:19:59Z","Content":"\u003E \n\u003E That is awesome to hear... Well, the first part is XD\n\u003E Let\u0027s hope I\u0027m just too stupid for the Foldatron-problem mentioned above and that there is an easy fix ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\u003E \n\u003E Edit: And as an idea (you probably already had that one, but hey, no harm in mentioning it ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)) for the \u0022load/save\u0022 program...\n\u003E \n\u003E There could be an Export-button, which opens a Popup with a serialized list of commands (like \u00221:Pivotron 1 Left:35:1\u0022 for \u00221: Pivotron 1 Left to 35 at 1x\u0022), with each command as a new row. People could then save that exported list of commands either to an out-of-game notepad or to an ingame-notepad.\n\u003E \n\u003E The Import-function would open an empty popup to paste the commands into. While not perfect (as this would obviously rely on IR-parts being uniquely named, so the Import can assign each command by name to a IR-part), it would work good enough, I think.\n\nCurrently I\u0027m not relying on unique names of servos in favor of PartIDs, which are unfortunately assigned to a vessel when it is launched and are unique, that is why serializing in editor is not possible at the moment."},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-12T09:53:25Z","Content":"Good news. I\u0027ve found a proper way of saving sequences in editor, we just need to wait until IR releases an update, after which I can release an update to Sequencer which will make creating and saving sequences possible in Editor.\n\nBut there will be some limitations to running sequences in Editors:\n\n1) Servos will move to positions instantly\n\n2) Action groups will not work (obviously)\n\n3) Adding/removing parts to your craft may interfere with current sequences, so it would be best to leave the sequence creation as a last step of creating a ship."},{"CreatedByName":"OzoneGrif","CreatedById":142389,"CreatedDateTime":"2015-05-19T19:32:56Z","Content":"Cool, and thank you for this mod.\n\nI have a problem with looping and \u0022Go To Command\u0022. Go to command is apparently treated as a \u0022Wait for moves\u0022 (try to copy the sequence).\n\nI also noticed that Wait for moves get sometimes stuck, the move is done, but it keeps waiting.\n\nLooping also doesn\u0027t seem to work.\n\nI\u0027m using a Rotatron, trying to make it spin continuously.\n\n**Edited \u003Ctime datetime=\u00222015-05-19T19:36:24Z\u0022 title=\u002205/19/2015 07:36  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 19, 2015\u003C/time\u003E by OzoneGrif**"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-19T23:08:26Z","Content":"\u003E \n\u003E Cool, and thank you for this mod.\n\u003E I have a problem with looping and \u0022Go To Command\u0022. Go to command is apparently treated as a \u0022Wait for moves\u0022 (try to copy the sequence).\n\u003E \n\u003E I also noticed that Wait for moves get sometimes stuck, the move is done, but it keeps waiting.\n\u003E \n\u003E Looping also doesn\u0027t seem to work.\n\u003E \n\u003E I\u0027m using a Rotatron, trying to make it spin continuously.\n\nCan you post some screenshots/animated gifs?"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-05-25T21:51:18Z","Content":"I HAVE MASTERED THE ART OF ROBOCRAWLING! Okay not really, lol\n\n[![screenshot5_zpsasmnqyxl.png](http://img.photobucket.com/albums/v214/smjjames/screenshot5_zpsasmnqyxl.png)](http://smg.photobucket.com/user/smjjames/media/screenshot5_zpsasmnqyxl.png.html)\n\nI made a primitive (emphasis on primitive) crawler thing as I wanted to mess around with a walking robot.\n\nAlso, I have a question and a suggestion or two:\n\n1. How do I edit the commands that are already in the list while in flight? Would be nice if I could.\n\n2. Would it be possible to have it detect the angle of a IR part as you set it in the editor and have it show that angle while creating a command sequence? To give an example of what I mean, say I put one set of joints into a position that I want them to have as a step, would it be possible for the mod to see that the angle is now 45 degrees or whatever and display that in the commands to be added list? It already instantly sees and mirrors changes to the name of a part or group.\n\n[![screenshot6_zps0n6duzyv.png](http://img.photobucket.com/albums/v214/smjjames/screenshot6_zps0n6duzyv.png)](http://smg.photobucket.com/user/smjjames/media/screenshot6_zps0n6duzyv.png.html)"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-05-25T22:19:43Z","Content":"To edit commands you can set a pointer by clicking on command number and add a new command below and remove old command via delete button\n\nparts position is read upon adding new parts, but I can make it re-read them more often"}]}