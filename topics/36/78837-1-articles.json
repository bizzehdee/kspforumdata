{"TopicId":78837,"ForumId":36,"TopicTitle":"\u0026quot;Attempting to replace PartModule \u0026#039;Module1\u0026#039;\u0026#039; with \u0026#039;Module2\u0026#039;\u0026quot; means what?\u0026#039;","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-21T16:35:34Z","PageNum":1,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-21T16:35:34Z","Content":"\n\u003Cp\u003EOkay.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried a search for this on the forum and I did really find an answer beyond the fact that this is something Squad added in 0.24 to try and handle cases where the order of partModules in the save file and in the part loader do not agree.\u003C/p\u003E\u003Cp\u003EDo we know more then this? What is it doing when it does this?\u003C/p\u003E\u003Cp\u003EI\u0027m trying to troubleshoot some weird behavior in how my action group mod deals with it\u0027s partmodule to save data and when this message appears in the log window, I\u0027m sure to see weird stuff. \u003C/p\u003E\u003Cp\u003EThe issue is I\u0027m not seeing enough of what is going to to figure out just what is happening on Squad\u0027s end to figure out what I need to change in my mod to compensate.\u003C/p\u003E\u003Cp\u003EDoes anyone know more about this that they could give me a pointer or two?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-21T17:23:36Z","Content":"\n\u003Cp\u003EThis is because the \u0022fix\u0022 to the \u0022trying to load modules but they\u0027re out of order\u0022 issue breaks things pretty much as severely.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-22T02:46:10Z","Content":"\n\u003Cp\u003EOkay, upon further investigation it appears that this was a red herring.\u003C/p\u003E\u003Cp\u003EI store data in a partModule for my Action Groups mod and upon adding detailed logging the data is in fact loading correctly even after my partModule had been moved by this mechanic.\u003C/p\u003E\u003Cp\u003ESo while this does not mean no one will have problems with it, this mechanic functions as expect the way my action groups mod is using it.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-07-22T04:57:49Z","Content":"\n\u003Cp\u003ESo, I suppose this means that, when translated into a language we all understand, all is good until stated otherwise? uh huh,\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-22T13:40:38Z","Content":"\n\u003Cp\u003EAll it means is that I do not believe this mechanic is causing me problems.\u003C/p\u003E\u003Cp\u003EFrom NathanKell\u0027s comment, it sounds like other devs are seeing issues so I qualified my comment that it is working fine in my case as that is all I can say for certain.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-22T15:57:03Z","Content":"\n\u003Cp\u003EIt looks like this is causing issues loading .craft saved modless for basically any mod that changes modules via ModuleManager. Does Sarbian know? Is there a way to stop Squad\u0027s \u0022fixer\u0022 from running?\u003C/p\u003E\u003Cp\u003EIn the meantime I\u0027ve added PSAs to my part-changing mods:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E0.24 Compatibility Note\u003C/span\u003E\u003C/span\u003E\u003Cp\u003E${ModName} is not broken in 0.24, and neither are a lot of other mods. That said, \u003Cstrong\u003Eif you are using mods that change part functionality, especially if those mods use ModuleManager, you cannot use old or un-modded .craft files because KSP will break them.\u003C/strong\u003E Squad introduced some new code to \u0022fix\u0022 module order when loading persistence files, and it has introduced a raft of new issues to do when loading craft that were saved without mods into a game with mods. \u003Cstrong\u003EIf you are having issues and are trying to load from a .craft file; please rebuild the craft by hand before reporting a bug.\u003C/strong\u003E Thanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"iueras","CreatedById":76413,"CreatedDateTime":"2014-07-22T18:34:02Z","Content":"\n\u003Cp\u003EIs this what has gone through and replaced all the LifeSupport, ModuleEngines, and FXModuleAnimateThrottle modules my capsule and engines need with multiple copies of \u0022FarBasicDragModel\u0022 and \u0022ModuleAeroReentry\u0022? It nuked the engines and pods on almost every craft I have... including some that were built in .23.5 with the exact same mods (but usually different versions) that I am using in .24.\u003C/p\u003E\u003Cp\u003EIs it possible to fix this in the persistence file by putting the modules back like they should be?\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-07-22T19:01:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022iueras\u0022 data-cite=\u0022iueras\u0022\u003E\u003Cdiv\u003EIs this what has gone through and replaced all the LifeSupport, ModuleEngines, and FXModuleAnimateThrottle modules my capsule and engines need with multiple copies of \u0022FarBasicDragModel\u0022 and \u0022ModuleAeroReentry\u0022? It nuked the engines and pods on almost every craft I have... including some that were built in .23.5 with the exact same mods (but usually different versions) that I am using in .24.\u003Cp\u003EIs it possible to fix this in the persistence file by putting the modules back like they should be?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPossible, yes, but if you don\u0027t do it exactly right you could make things worse.\u003C/p\u003E\u003Cp\u003ESo what do we REALLY know about Squad\u0027s PartModule reordering and what misconduct can we actually implicate it in?\u003C/p\u003E\n"},{"CreatedByName":"iueras","CreatedById":76413,"CreatedDateTime":"2014-07-22T23:02:07Z","Content":"\n\u003Cp\u003EI got it done, at least the ships I needed to. Had to launch a newly built vessel and copy the module data from it. Dunno if it is this problem specifically causing it, but I can confirm that adding mods that add modules to existing parts, even to an already modded install, does bad bad things to your .craft files AND already launched vessels, in some cases.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-22T23:04:37Z\u0022 title=\u002207/22/2014 11:04  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 22, 2014\u003C/time\u003E by iueras\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-23T03:50:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EPossible, yes, but if you don\u0027t do it exactly right you could make things worse.\u003Cp\u003ESo what do we REALLY know about Squad\u0027s PartModule reordering and what misconduct can we actually implicate it in?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know if we\u0027re \u003Cem\u003Etechnically\u003C/em\u003E allowed to REALLY know about Squad\u0027s PartModule reordering... but I\u0027m pretty sure it\u0027s happening in Part.LoadModules and it definitely \u003Cem\u003Elooks\u003C/em\u003E like it\u0027s just throwing Part prefabs to the wind and trying to rebuild the prototype modulename for modulename. And, I\u0027d pretty confidently say that about 90% of the reports I\u0027ve seen regarding TweakableEverything and sarbian\u0027s DecoupleForX64 have been directly caused by it breaking mod compatibility with old persistence/craft files.\u003C/p\u003E\u003Cp\u003EIf you started fresh in 0.24 and don\u0027t use any shared or stock craft files, even with a heavily modded install you might not have noticed at all. If you tried to continue a save from 0.23 or use craft or subassemblies saved without your mods... everything might just be broken completely.\u003C/p\u003E\u003Cp\u003EI\u0027m pretty sure that re-enabling ModuleManager\u0027s SaveGameFixer will work around the code by making all of the craft and persistence files look like the prefabs as loaded up by various mods and ModuleManager. Hoping to test that more tonight whilst sarbian sleeps.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-23T10:58:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EHoping to test that more tonight whilst sarbian sleeps.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESince you seem to know a lot more about it than me, if your testing has some results, would you oblige in filing a bug report with Squad? I mean, fair enough, TweakableEverything but DecoupleForx64 actually \u003Cem\u003Ere-enables\u003C/em\u003E a core game function that x64 (sometimes) breaks. As you said, it flies in the face of modders who were counting on this for forward compatibility.. and Squad does like the modding community a lot.. I get that updates are not guaranteed to remain compatible and thatthe change probably had to come somewhen, but not like this.. it renders stock vessels unusable, breaks old .crafts in a way that doesn\u0027t have a fix documented (that I know of), likely makes subassemblies useless and is, I imagine, a slap in the face of modders who relied on it. Kind of like \u0022Surprise! Your mod breaks KSP now!\u0022.. I dunno, I\u0027m just rambling at this point.. I hope this gets sorted out, this is quite annoying :/\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-23T16:24:18Z","Content":"\n\u003Cp\u003EI believe some of the more Big Time modders might have a more direct line to people who can do things about this than I do... but I may also be misinterpreting things. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E That said, if I can think of a good way to pose this without decompiling and quoting what I think is wrong, I will absolutely post a bug if no one else does first. First I\u0027m going to try to help work around it though; we can turn out releases a lot faster than Squad can. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"}]}