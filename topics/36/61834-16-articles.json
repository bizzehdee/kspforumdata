{"TopicId":61834,"ForumId":36,"TopicTitle":"kOS Autopilot","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T17:34:35Z","PageNum":16,"Articles":[{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-09-09T04:34:33Z","Content":"\n\u003Cp\u003ESounds reasonable enough. I will have a go at what I have been trying off and on for a while now. If that does not work out, I will haunt and bug you again.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-09-11T20:32:21Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-size:24px;\u0022\u003ENEW RELEASE\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENew Hotness\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E* Updated fonts, Thanks @MrOnak\u003Cbr\u003E* Now runtime errors show source location and call stack trace (Github issues #186 and #210).  Example:\u003Cbr\u003E~~~\u003Cbr\u003E    Tried To push Infinity into the stack.\u003Cbr\u003E    At MyProgramFile2 on Archive, line 12\u003Cbr\u003E        PRINT var1/var2.\u003Cbr\u003E                  ^\u003Cbr\u003E    Called from MyProgramFile1 on Archive, line 213\u003Cbr\u003E    RUN MyProgramFIle2(\u0022hello\u0022).\u003Cbr\u003E    ^\u003Cbr\u003E    Called from StartMission on Archive, line 2.\u003Cbr\u003E    RUN MyProgramFile1.\u003Cbr\u003E    ^\u003Cbr\u003E    _\u003Cbr\u003E~~~\u003Cbr\u003E* (WHEN and ON) Triggers that are taking longer than an Update is meant to take, and thus can freeze KSP are caught and reported (Github issue #104).  Gives the user an explanatory message about the problem.\u003Cbr\u003E  * WARNING: Because of a change that had to be done for this, it is **_Highly_ recommended that you increase your *InstructionsPerUpdate* setting in config.xml to 150% as much** as it was before (i.e. from 100 to 150, or if it was 200, make it 300.).\u003Cbr\u003E* Multiple Terminal Windows - possible to have one open per CPU part.  (Github issue #158) \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://raw.githubusercontent.com/KSP-KOS/KOS/master/Docs/Images/MultiEdit.png\u0022 alt=\u0022MultiEdit.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EOld and Busted ( now fixed )\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E* \u0022rename\u0022 was deleting files instead of moving them. (Github issue #220).\u003Cbr\u003E* Was parsing array index brakets \u0022[..]\u0022 incorrectly when they were on the lefthand side of an assignment.  (Github issue #219)\u003Cbr\u003E* SHIP:SENSORS were reading the wrong ship\u0027s sensors sometimes in multi-ship scenarios.  (GIthub issue #218 )\u003Cbr\u003E* Integer and Floating point numbers were not quite properly interchangable like they were meant to be. (Github issue #209) \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-11T20:34:24Z\u0022 title=\u002209/11/2014 08:34  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 11, 2014\u003C/time\u003E by erendrake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-09-11T21:06:09Z","Content":"\n\u003Cp\u003EOK. So when do we get RPC calls, so our CPUs can talk amongst themselves and \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eplot our demise\u003C/span\u003E better serve our needs? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"KerTrotsky","CreatedById":120127,"CreatedDateTime":"2014-09-17T11:44:42Z","Content":"\n\u003Cp\u003EWhy is the \u0022Page Not Found\u0022 in the OP links to this add-on?\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-09-17T15:16:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerTrotsky\u0022 data-cite=\u0022KerTrotsky\u0022\u003E\u003Cdiv\u003EWhy is the \u0022Page Not Found\u0022 in the OP links to this add-on?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am guessing that github might have changed their paths??? or I fat fingered the paths.\u003C/p\u003E\u003Cp\u003EOne is more likely, the other makes me feel better \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EFixed!\u003C/p\u003E\n"},{"CreatedByName":"Skyfoxyz","CreatedById":91975,"CreatedDateTime":"2014-09-18T10:45:43Z","Content":"\n\u003Cp\u003EHello!\u003C/p\u003E\u003Cp\u003EFirst of all, great job with 0.14.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried to launch 2 SSTO at once.\u003C/p\u003E\u003Cp\u003EAll was good while distance between vessels hit 2.5 k\u003C/p\u003E\u003Cp\u003EAfter that, one of the terminals disappears and one of the scripts stops working.\u003C/p\u003E\u003Cp\u003EThe ship itself is not unloaded because I use mod TT Nevers Unload, but engines stops and vessel continue freefall.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/48720-TT-NeverUnload-Vessel-Unloading-Preventer\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/48720-TT-NeverUnload-Vessel-Unloading-Preventer\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ECan you please fix this issue ?\u003C/p\u003E\u003Cp\u003EI\u0027ll post example video soon \u003C/p\u003E\u003Cp\u003EP.S\u0026gt; Sorry for bad english.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-09-18T17:39:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Skyfoxyz\u0022 data-cite=\u0022Skyfoxyz\u0022\u003E\u003Cdiv\u003EHello!\u003Cp\u003EFirst of all, great job with 0.14.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried to launch 2 SSTO at once.\u003C/p\u003E\u003Cp\u003EAll was good while distance between vessels hit 2.5 k\u003C/p\u003E\u003Cp\u003EAfter that, one of the terminals disappears and one of the scripts stops working.\u003C/p\u003E\u003Cp\u003EThe ship itself is not unloaded because I use mod TT Nevers Unload, but engines stops and vessel continue freefall.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/48720-TT-NeverUnload-Vessel-Unloading-Preventer\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/48720-TT-NeverUnload-Vessel-Unloading-Preventer\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ECan you please fix this issue ?\u003C/p\u003E\u003Cp\u003EI\u0027ll post example video soon \u003C/p\u003E\u003Cp\u003EP.S\u0026gt; Sorry for bad english.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is very interesting, I responded that the load distance needed to be changed but if you are using never unload then maybe we have another issue. I would be interested in seeing a log from when this happened.\u003C/p\u003E\n"},{"CreatedByName":"Skyfoxyz","CreatedById":91975,"CreatedDateTime":"2014-09-18T18:17:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EThat is very interesting, I responded that the load distance needed to be changed but if you are using never unload then maybe we have another issue. I would be interested in seeing a log from when this happened.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll be happy to provide info but...\u003C/p\u003E\u003Cp\u003EI\u0027m noob.\u003C/p\u003E\u003Cp\u003EWhere are stored the logs ?\u003C/p\u003E\u003Cp\u003EKSP itself did not crash, only one CPU unit stops.\u003C/p\u003E\u003Cp\u003EUpdate:\u003C/p\u003E\u003Cp\u003EProblem solved.\u003C/p\u003E\u003Cp\u003ESorry for false report.\u003C/p\u003E\u003Cp\u003EI\u0027ve totally noob and just forget to \u0022enable\u0022 TT Never Unload part on my vessel.\u003C/p\u003E\u003Cp\u003ETT Never unload part DISABLED\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPRINT LOADDISTANCE\u003Cbr\u003E2500\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETT Never unload part ENABLED\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPRINT LOADDISTANCE\u003Cbr\u003E300000\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EShort video with 2x Stock Aeris \u002B TT NU \u002B KOS\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/TKzjblNTxxQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003ESo it\u0027s not KOS issue but my fault.\u003C/p\u003E\u003Cp\u003EHowever, it would be nice, to control load distance directly from KOS.\u003C/p\u003E\u003Cp\u003Eby command \u0022SET LOADDISTANCE TO XXX\u0022\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-20T06:01:27Z\u0022 title=\u002209/20/2014 06:01  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 20, 2014\u003C/time\u003E by Skyfoxyz\u003C/strong\u003E\n\u003Cbr\u003Eproblem solved\n\u003C/span\u003E\n"},{"CreatedByName":"mideg","CreatedById":126846,"CreatedDateTime":"2014-10-24T18:45:07Z","Content":"\n\u003Cp\u003EHey everyone!\u003C/p\u003E\u003Cp\u003EI hope I\u0027m not in the wrong thread. I started using kOS a couple days ago after reading about it for some weeks. Since I use RemoteTech in my main (career) game, I was hoping I could use kOS to automate the first couple satellites for my RemoteTech communications network. (I know how to do it without, but I figured it\u0027s more fun to do a truly automated launch.)\u003C/p\u003E\u003Cp\u003EUnfortunatly, after finally learning about the config-setting in kOS that\u0027s supposed to enable RemoteTech integration I tested that today but kOS still looses control of the vessel after going out of range. Am I doing something wrong or does it currently not work? (It is supposed to override the lack of connection, right?)\u003C/p\u003E\u003Cp\u003EIf needed, I can do further testing. :-)\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-30T14:51:50Z","Content":"\n\u003Cp\u003EFirst, in case anyone missed my post in the other thread, I am the Action Groups Extended dev.\u003C/p\u003E\u003Cp\u003EI have a couple conversations on-going about kOS integration and I want to make sure I\u0027m covering everything so this post is my master list of things I am going to add. I will move this list to my \u003Ca href=\u0022https://github.com/SirDiazo/AGExt/issues/9\u0022 rel=\u0022external nofollow\u0022\u003EGitHub issue here after a couple days of discussion for long term tracking.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETo cover all my bases, here is what I\u0027m planning to expose in AGX for kOS to use, in pseudo-code showing the method names to make sure I\u0027m using the same type of objects you guys are.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXTriggerAction(Vessel vsl, int grp) //basic toggle of an action group on a vessel.\u003C/pre\u003E\u003Cp\u003E I assume passing the Vessel object will work or does kOS use some other identifier? \u003C/p\u003E\u003Cp\u003ENote this returns a bool, true if AGX is able to complete the command, false if not. I\u0027m pretty sure just calling the method will also be fine if you don\u0027t want to use the bool that gets returned.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXTriggerAction(Vessel vsl, int grp, bool force) //basic on/off of an action group. \u003C/pre\u003E\u003Cp\u003E Same logic as previous but add a bool as a 3rd parameter (true = force activate, false = force deactivate) for what to do.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXActionState(Vessel vsl, int grp) //Check action state on/off (true/false on returned bool)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOne of the other conversations also requested the following:\u003C/p\u003E\u003Cp\u003E-Getting the list of modules that have actions bound to them for an arbitrary group\u003C/p\u003E\u003Cp\u003E-Getting the list of parts that have actions bound to them for an arbitrary group ( lower priority )\u003C/p\u003E\u003Cp\u003EBoth of these will be covered by:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E public List\u0026lt;BaseAction\u0026gt; AGXGetActions(Vessel vsl, int grp) //get list of actions assigned to the defined group\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen off the list of returned BaseActions you can use BaseAction.listParent.part and BaseAction.listParent.module to get the part and partModule that a specific action belongs to. It would also be straightfoward to return all actions on a vessel this way.\u003C/p\u003E\u003Cp\u003EThis one is the method I am most uncertain about, is a list of BaseAction\u0027s what makes sense for me to be returning?\u003C/p\u003E\u003Cp\u003EAlso planned would be using group names instead of group numbers, so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXTriggerAction(Vessel vsl, string grpName)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis would keep in mind kOS\u0027s intention that case does not matter and would match \u0022lights\u0022 to the \u0022Lights\u0022 group.\u003C/p\u003E\u003Cp\u003ESo, thoughts?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003Cp\u003Eedit: One other critical question I need answered, when is kOS available? Right now, AGX only runs during the editor and flight scenes. Do I need to add support for returning calls in other scenes?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-30T15:12:37Z\u0022 title=\u002210/30/2014 03:12  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 30, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-10-30T15:52:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXTriggerAction(Vessel vsl, int grp) //basic toggle of an action group on a vessel.\u003C/pre\u003E\u003Cp\u003E I assume passing the Vessel object will work or does kOS use some other identifier? \u003C/p\u003E\u003Cp\u003ENote this returns a bool, true if AGX is able to complete the command, false if not. I\u0027m pretty sure just calling the method will also be fine if you don\u0027t want to use the bool that gets returned.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EVessel should work, using it depends on some reference equality because squad hasnt build custom equality comparision. The remotetech API uses vessel.rootpart.flightid and it works pretty well.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXTriggerAction(Vessel vsl, int grp, bool force) //basic on/off of an action group. \u003C/pre\u003E\u003Cp\u003E Same logic as previous but add a bool as a 3rd parameter (true = force activate, false = force deactivate) for what to do.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is what i imagine we would hook up to to make it behave the same way that action groups work now in kOS.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXActionState(Vessel vsl, int grp) //Check action state on/off (true/false on returned bool)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E public List\u0026lt;BaseAction\u0026gt; AGXGetActions(Vessel vsl, int grp) //get list of actions assigned to the defined group\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis one is the method I am most uncertain about, is a list of BaseAction\u0027s what makes sense for me to be returning?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that is a fine return value, a list of base actions is exactly what we use for finding the actions for parts and modules now.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso planned would be using group names instead of group numbers, so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXTriggerAction(Vessel vsl, string grpName)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis would keep in mind kOS\u0027s intention that case does not matter and would match \u0022lights\u0022 to the \u0022Lights\u0022 group.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat sounds cool to me, it is going to take some work to give this to scripters but i like the idea. Also would the names match to one of the existing 250? or are they their own additional action groups? \u003C/p\u003E\u003Cp\u003EWould you also extend the rest of the API to take a string as well as an int? im thinking about the force option, the getter, and the \u0022get baseactions for this group\u0022.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eedit: One other critical question I need answered, when is kOS available? Right now, AGX only runs during the editor and flight scenes. Do I need to add support for returning calls in other scenes?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe are currently available in the flight scene with thoughts of adding the editor eventually. Nothing else is needed for kOS right now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EDoes that answer all of your questions?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-30T16:38:50Z","Content":"\n\u003Cp\u003EThat is pretty much what I needed. Comments in-line.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EThe remotetech API uses vessel.rootpart.flightid and it works pretty well.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI actually use rootpart.flightId internally and would have to convert it from the vessel object anyways.\u003C/p\u003E\u003Cp\u003EIt looks like I should accept \u0022int flightID\u0022 rather then \u0022Vessel vsl\u0022 as you already have the code for it worked out.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u0026lt;SNIP methods to use actiongroups\u0026gt;\u003Cp\u003EThis is what i imagine we would hook up to to make it behave the same way that action groups work now in kOS.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne note I have is toggling an action vs. setting it on/off. At the moment I\u0027m looking at 2 methods, one to toggle the group with 2 parameters (flightID, actionGroup), one with set the group on/off with 3 (flightID, actionGroup, activate [as bool])\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u0026lt;SNIP method to check a group\u0027s state\u0026gt;\u003Cp\u003EThis too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne thing I just thought of is that AGX handles group states differently. \u003C/p\u003E\u003Cp\u003EIn default KSP an action group\u0027s state is saved with the vessel. If group 1 is deactivated and the \u0022toggle group 1\u0022 command is sent, all actions in group 1 get the \u0022activate\u0022 command. This means that any actions that were already activated do not do anything as they are already activated.\u003C/p\u003E\u003Cp\u003EIn AGX, an actions state is tracked per action. If the \u0022toggle group 1\u0022 is sent, each action is checked and any actions that are deactivated get activated and and actions that are activated get deactivated. This means however that I have to fudge the group state however.\u003C/p\u003E\u003Cp\u003EMy current thought is:\u003C/p\u003E\u003Cp\u003EIf all actions in the group are deactivated, return false (group deactivated)\u003C/p\u003E\u003Cp\u003EIf any actions in the group are activated, return true (group activated)\u003C/p\u003E\u003Cp\u003EThis means that if a group has 10 actions, 9 deactivated and 1 activated, my group status method will return true (activated) for that group.\u003C/p\u003E\u003Cp\u003ENote that this is one of the primary reasons I offer two activation methods, one to toggle a group and one to activate/deactivate a group.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u0026lt;SNIP returning List\u0026lt;BaseAction\u0026gt;\u0026gt;\u003Cp\u003EI think that is a fine return value, a list of base actions is exactly what we use for finding the actions for parts and modules now.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E Alright, this part is set then.\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThat sounds cool to me, it is going to take some work to give this to scripters but i like the idea. Also would the names match to one of the existing 250? or are they their own additional action groups? \u003Cp\u003EWould you also extend the rest of the API to take a string as well as an int? im thinking about the force option, the getter, and the \u0022get baseactions for this group\u0022.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirst, on presenting it to the scripters, I was wondering about adding an AGX \u0027namespace\u0027 instead of trying to modify the existing AG \u0027namespace\u0027. That way players don\u0027t have to keep track of if AGX is installed or not, the AG namespace will work the same regardless and the AGX namespace will throw an error if AGX is not present. (When you assign actions in AGX, they are back-ported to default KSP so action groups 1-10 will work the same regardless if AGX is installed or not.)\u003C/p\u003E\u003Cp\u003ESecond, there are 250 numbered action groups that can be given a name if desired. So if a player names action group 33 \u0022Lights\u0022, they could do something like [AGX \u0022Lights\u0022 on] to activate group 33.\u003C/p\u003E\u003Cp\u003EThird, while the initial release will probably only support group numbers, when I add support for group names any place where AGX accepts a group number will accept a group name. Note however that it will be a first found thing. If a player names group 33 \u0022Lights\u0022 and group 37 \u0022lights\u0022, passing AGX \u0022lights\u0022 will return only group 33.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EWe are currently available in the flight scene with thoughts of adding the editor eventually. Nothing else is needed for kOS right now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood, that makes things simpler. You can only activate actions in flight so only having to offer the external methods there is straightforward.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-10-30T17:30:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI actually use rootpart.flightId internally and would have to convert it from the vessel object anyways.\u003C/p\u003E\u003Cp\u003EIt looks like I should accept \u0022int flightID\u0022 rather then \u0022Vessel vsl\u0022 as you already have the code for it worked out.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Esounds fine to me!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOne note I have is toggling an action vs. setting it on/off. At the moment I\u0027m looking at 2 methods, one to toggle the group with 2 parameters (flightID, actionGroup), one with set the group on/off with 3 (flightID, actionGroup, activate [as bool])\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThats cool, we likely would only hook to the set/get rather than the toggle. We dont actually use the toggle from the base action groups either. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EFirst, on presenting it to the scripters, I was wondering about adding an AGX \u0027namespace\u0027 instead of trying to modify the existing AG \u0027namespace\u0027. That way players don\u0027t have to keep track of if AGX is installed or not, the AG namespace will work the same regardless and the AGX namespace will throw an error if AGX is not present. (When you assign actions in AGX, they are back-ported to default KSP so action groups 1-10 will work the same regardless if AGX is installed or not.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy current plan is to have actiongroup 1-10 to use the stock game\u0027s method for activation and when we detect that AGX is installed we wire up the other 240 in their own kos \u0022Binding\u0022 class. trying to use the extra Action groups would result in a kOS script error if AGX was not detected.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESecond, there are 250 numbered action groups that can be given a name if desired. So if a player names action group 33 \u0022Lights\u0022, they could do something like [AGX \u0022Lights\u0022 on] to activate group 33.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne request for this behavior would be for you to log which action group came back from the name resolution, and if you are already walking the whole list it would be great to know when there was an ambigious call. I just assume someone will have a \u0022bug\u0022 to report after the integration does something they didnt expect, and it would take a while to figure it out if we didnt know which AG# was getting called in AGX\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-30T17:56:16Z","Content":"\n\u003Cp\u003EOkay, I think I have a working basis.\u003C/p\u003E\u003Cp\u003EI took a look at how you are binding the current action groups and I will admit it went a bit over my head.\u003C/p\u003E\u003Cp\u003EJust to confirm, if I give you:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXGroupState(int FlightID, int group) //check if group is activated\u003Cbr\u003Epublic bool AGXTriggerAction(int FlightID, int group, bool doActivate) //doActivate = true to activate the group, false to deactivate\u003Cbr\u003Epublic List\u0026lt;BaseAction\u0026gt; AGXGetActions(int FlightID, int group)//actions list\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou can bind those so that \u0027AG11\u0027 in the kOS console passes to AGX correctly?\u003C/p\u003E\u003Cp\u003EIf so, these are the 3 initial methods I will look at implementing.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-30T17:59:32Z\u0022 title=\u002210/30/2014 05:59  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 30, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-10-30T18:04:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EOkay, I think I have a working basis.\u003Cp\u003EI took a look at how you are binding the current action groups and I will admit it went a bit over my head.\u003C/p\u003E\u003Cp\u003EJust to confirm, if I give you:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic bool AGXGroupState(int FlightID, int group) //check if group is activated\u003Cbr\u003Epublic bool AGXTriggerAction(int FlightID, int group, bool doActivate) //doActivate = true to activate the group, false to deactivate\u003Cbr\u003Epublic List\u0026lt;BaseAction\u0026gt; AGXGetActions(int FlightID, int group)//actions list\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou can bind those so that \u0027AG11\u0027 in the kOS console passes to AGX correctly?\u003C/p\u003E\u003Cp\u003EIf so, these are the 3 initial methods I will look at implementing.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI believe that should do it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I am pretty excited and i think this is going to be a cool new feature.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-30T18:07:58Z","Content":"\n\u003Cp\u003EGood to go then.\u003C/p\u003E\u003Cp\u003EI don\u0027t think it is a huge project on my end, I should be able to get a test version out reasonably soon.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-30T20:36:13Z","Content":"\n\u003Cp\u003EI wonder how this will need to be joined with the new SHIP:PARTSINGROUP() method. It should be doable. I\u0027m just trying to think of how it would be done.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-30T20:48:33Z","Content":"\n\u003Cp\u003EWhat exactly does PARTSINGROUP return? (I can\u0027t find it on a search of kOS\u0027s Github.)\u003C/p\u003E\u003Cp\u003ERight now I\u0027m returning a List\u0026lt;BaseAction\u0026gt; that would need to be walked to pull all the BaseAction.listParent.Part properties to create the PARTSINGORUP list (assuming PARTSINGROUP returns a List\u0026lt;Part\u0026gt;). Would there be another return type you\u0027d like to see instead?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-30T21:07:52Z\u0022 title=\u002210/30/2014 09:07  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 30, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-10-30T21:06:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI wonder how this will need to be joined with the new SHIP:PARTSINGROUP() method. It should be doable. I\u0027m just trying to think of how it would be done.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is an excellent question. It will likely involve us building up that abstraction you were talking about wanting between the actiongroup binding and the partsingroup method.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EWhat exactly does PARTSINGROUP return? (I can\u0027t find it on a search of kOS\u0027s Github.)\u003Cp\u003ERight now I\u0027m returning a List\u0026lt;BaseAction\u0026gt; that would need to be walked to pull all the BaseAction.listParent.Part properties to create the PARTSINGORUP list (assuming PARTSINGROUP returns a List\u0026lt;Part\u0026gt;).\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eits not on the master branch yet because it is part of 0.15 \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Suffixed/VesselTarget.cs#L245-323\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Suffixed/VesselTarget.cs#L245-323\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-31T15:44:00Z","Content":"\n\u003Cp\u003EOkay, I have come across a potential issue but I\u0027m not sure how serious it is.\u003C/p\u003E\u003Cp\u003EIn the main kOS thread, there is that example code where they are using the \u0022ON AG8\u0022 command to trigger when an action group changes state.\u003C/p\u003E\u003Cp\u003EMy search skills are failing me and I can\u0027t find where this is located in kOS\u0027s code. My worry that if this is implemented as a call to AGX for each separate group, that is 250 calls through reflection that I understand to be quite expensive in terms of CPU load.\u003C/p\u003E\u003Cp\u003EDoes kOS handle this some other way or did you want me to look at implementing either a callback in AGX that will trigger when an action group activates? Or pass you an enum that is the state of all action groups that you can do a compare against from last frame? (Would have to be 4 ulong\u0027s to cover all the groups.)\u003C/p\u003E\u003Cp\u003EOtherwise things are coming along well. Depending on how much time I have after my kid\u0027s bedtime tonight (if I can get her to sleep, yay halloween!) I may have a test version ready for you to experiment with things on the kOS end.\u003C/p\u003E\u003Cp\u003E(Test version meaning AGX will accept commands without throwing errors, but does not correctly execute actions yet.)\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-31T16:01:16Z\u0022 title=\u002210/31/2014 04:01  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 31, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-10-31T17:19:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EOkay, I have come across a potential issue but I\u0027m not sure how serious it is.\u003Cp\u003EIn the main kOS thread, there is that example code where they are using the \u0022ON AG8\u0022 command to trigger when an action group changes state.\u003C/p\u003E\u003Cp\u003EMy search skills are failing me and I can\u0027t find where this is located in kOS\u0027s code. My worry that if this is implemented as a call to AGX for each separate group, that is 250 calls through reflection that I understand to be quite expensive in terms of CPU load.\u003C/p\u003E\u003Cp\u003EDoes kOS handle this some other way or did you want me to look at implementing either a callback in AGX that will trigger when an action group activates? Or pass you an enum that is the state of all action groups that you can do a compare against from last frame? (Would have to be 4 ulong\u0027s to cover all the groups.)\u003C/p\u003E\u003Cp\u003EOtherwise things are coming along well. Depending on how much time I have after my kid\u0027s bedtime tonight (if I can get her to sleep, yay halloween!) I may have a test version ready for you to experiment with things on the kOS end.\u003C/p\u003E\u003Cp\u003E(Test version meaning AGX will accept commands without throwing errors, but does not correctly execute actions yet.)\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIts a great observation. I think we should see how the performance looks once we have the methods we have talked about and we can always work on making it faster. Luckily we arent doing all of the reflection calls each time. they are getting done on load and then we only need a smaller delegate call to make it all work.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-31T19:33:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EOkay, I have come across a potential issue but I\u0027m not sure how serious it is.\u003Cp\u003EIn the main kOS thread, there is that example code where they are using the \u0022ON AG8\u0022 command to trigger when an action group changes state.\u003C/p\u003E\u003Cp\u003EMy search skills are failing me and I can\u0027t find where this is located in kOS\u0027s code. My worry that if this is implemented as a call to AGX for each separate group, that is 250 calls through reflection that I understand to be quite expensive in terms of CPU load.\u003C/p\u003E\u003Cp\u003EDoes kOS handle this some other way or did you want me to look at implementing either a callback in AGX that will trigger when an action group activates? Or pass you an enum that is the state of all action groups that you can do a compare against from last frame? (Would have to be 4 ulong\u0027s to cover all the groups.)\u003C/p\u003E\u003Cp\u003EOtherwise things are coming along well. Depending on how much time I have after my kid\u0027s bedtime tonight (if I can get her to sleep, yay halloween!) I may have a test version ready for you to experiment with things on the kOS end.\u003C/p\u003E\u003Cp\u003E(Test version meaning AGX will accept commands without throwing errors, but does not correctly execute actions yet.)\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe \u0022ON AG8 { dosomething }\u0022 construct does this every update tick:\u003C/p\u003E\u003Cp\u003EQuery the current boolean value of AG8.\u003C/p\u003E\u003Cp\u003ESet a \u0022do it \u0022 flag to true if the previous boolean value of AG8 differs from this new value.\u003C/p\u003E\u003Cp\u003EStore the new boolean value in the previous value variable for next time.\u003C/p\u003E\u003Cp\u003EIf the \u0022do it\u0022 flag was true, then execute the body of the code, else skip it.\u003C/p\u003E\u003Cp\u003EEach Update tick it re-queries the current state of the action group boolean value and compares it to what it was on the previous update tick. During the update tick in which the value had just changed, from false to true or from true to false, either way, it triggers the body to execute.\u003C/p\u003E\u003Cp\u003EBut none of the above work happens UNLESS the script actually mentions an ON AG8 command in it. Only those action groups for which there is an \u0022ON AG#\u0022 command in the script get this query. It does not query all 10 groups just in case one of them is used. It only queries the action groups that were actually set up to have hooks on them, and furthermore it only starts querying for the group activation AFTER the point where the trigger is first mentioned.\u003C/p\u003E\u003Cp\u003EIf you have a kOS script like this:\u003C/p\u003E\u003Cp\u003EON AG7 { print \u0022AG7 activated\u0022. }.\u003C/p\u003E\u003Cp\u003EWAIT 60.\u003C/p\u003E\u003Cp\u003EON AG8 { print \u0022AG8 activated\u0022. }.\u003C/p\u003E\u003Cp\u003EWAIT 999999.\u003C/p\u003E\u003Cp\u003EThen if action group 8 is activated by the user during the first minute of execution and never again (before the WAIT 60 is done), then the message \u0022AG8 activated\u0022 will in fact NEVER get printed. Until the \u0022ON AG8\u0022 is executed, the checking hasn\u0027t started yet, and it\u0027s only if the sate is toggled AFTER the checking is turned on that it does anything. In the case where AG8 was activated prior to the ON AG8 command being run, then when ON AG8 is first run, it\u0027s \u0022previous value\u0022 STARTS off as already being \u0022TRUE\u0022, and then it will activate if it becomes false.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-31T19:41:10Z\u0022 title=\u002210/31/2014 07:41  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 31, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-31T20:02:28Z","Content":"\n\u003Cp\u003EThank you for the explanation. That actually dispels my concern. Even a large vessel with a lot of action groups should not be an issue then as it does not monitor all groups, only the groups that have \u0022ON AG\u0022 statements. \u003C/p\u003E\u003Cp\u003EI can\u0027t see only a few groups being monitored any sort of performance issue.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-11-01T01:44:17Z","Content":"\n\u003Cp\u003ESteven, in case you had not found it on your own yet, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/93722-0-25-Simulate-Revert-Launch-v1-30-2014-10-31\u0022 rel=\u0022external nofollow\u0022\u003Ethis is the simulation mod\u003C/a\u003E I was talking about the other day. I have not tested it, but looks useful.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-01T02:57:33Z","Content":"\n\u003Cp\u003EOkay, I have a test version of AGX ready to go for kOS to try integrating with. Note that only the currently focused vessel works. If you pass AGX the FlightID of another vessel, it currently prints a message to the log and does not actually activate those action. However, fixing that is internal to AGX and will not change the reflection code I have given you below.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/releases/tag/1.20a\u0022 rel=\u0022external nofollow\u0022\u003EIt is version 1.20a found on my GitHub.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI have included the entire AGX mod in the attached .zip. \u003C/p\u003E\u003Cp\u003EI have updated my own thread about AGX\u0027s external interface with all 11 methods it currently supports, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/74199-Action-Groups-Extended-Development-Thread-and-External-Interface\u0022 rel=\u0022external nofollow\u0022\u003Eas can be found here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI have also included my test file as \u0022OSK.dll\u0022 which is not part of AGX but is the \u0022separate mod\u0022 I used for testing purposes. It will draw a window with 11 buttons to call the external methods to AGX. \u003Ca href=\u0022https://github.com/SirDiazo/AGExt/blob/master/AGExt/OSK.cs\u0022 rel=\u0022external nofollow\u0022\u003ESource of OSK.dll here.\u003C/a\u003E Note I have included several extra methods I expect kOS will not use. Delete/rename OSK.dll to get rid of the this window.\u003C/p\u003E\u003Cp\u003ENow, I am still completely stumped on how to go about adding this to kOS. Would it work something like this? (I grabbed the ActionGroups.cs in the Bindings subfolder as a base for this, but it is horrendously broken at written. I don\u0027t understand Bindings as you are using them.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eusing kOS.Utilities;\u003Cbr\u003Eusing System.Reflection;\u003Cbr\u003Enamespace kOS.Binding\u003Cbr\u003E{\u003Cbr\u003E    [kOSBinding(\u0022ksp\u0022)]\u003Cbr\u003E    public class ActionGroupsAGX : Binding\u003Cbr\u003E    {\u003Cbr\u003E        public override void AddTo(SharedObjects shared)\u003Cbr\u003E        {\u003Cbr\u003E            if(AGExtInstalled) //check AGX installed?\u003Cbr\u003E            {\u003Cbr\u003E            Shared = shared;\u003Cbr\u003E                for(int i = 11;i \u0026lt;= 250 ;i\u002B\u002B) //rather then copy-pasting 240 lines, I think this works? Syntax is broken but the idea is valid?\u003Cbr\u003E                {\u003Cbr\u003E                    Shared.BindingMgr.AddSetter(\u0022AG\u0022\u002Bi.ToString(), (cpu.FlightID, val) =\u0026gt; Shared.AGX2VslActivateGroup(cpu.FlightID,i,val);\u003Cbr\u003E                    Shared.BindingMgr.AddGetter(\u0022AG\u0022\u002Bi.ToString(), cpu.FlightID =\u0026gt; Shared.AGX2VslGroupState(cpu.FlightID,i);\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E            else\u003Cbr\u003E            {\u003Cbr\u003E                //need placeholder code if AGX not installed?\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E        }\u003Cbr\u003E        //start AGX Reflection methods\u003Cbr\u003E        public bool AGExtInstalled() //is AGX installed? Returns bool\u003Cbr\u003E        {\u003Cbr\u003E            Type calledType = Type.GetType(\u0022ActionGroupsExtended.AGExtExternal, AGExt\u0022);\u003Cbr\u003E\u003Cbr\u003E            return (bool)calledType.InvokeMember(\u0022AGXInstalled\u0022, BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.Static, null, null, null);\u003Cbr\u003E        }\u003Cbr\u003E        public bool AGX2VslActivateGroup(uint FlightID, int group, bool forceDir) //Activate an action group, FlightID of rootpart of vessel, group of ActionGroup, forceDir is true to Activate, false to deActivate group\u003Cbr\u003E        {\u003Cbr\u003E            Type calledType = Type.GetType(\u0022ActionGroupsExtended.AGExtExternal, AGExt\u0022);\u003Cbr\u003E            bool GroupAct = (bool)calledType.InvokeMember(\u0022AGX2VslActivateGroup\u0022, BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.Static, null, null, new System.Object[] { FlightID, group, forceDir });\u003Cbr\u003E            return GroupAct;\u003Cbr\u003E        }\u003Cbr\u003E        public bool AGX2VslGroupState(uint FlightID, int group) //check actiongroup state\u003Cbr\u003E        {\u003Cbr\u003E            Type calledType = Type.GetType(\u0022ActionGroupsExtended.AGExtExternal, AGExt\u0022);\u003Cbr\u003E            //FlightID = 4198041784;\u003Cbr\u003E            //group = 10;\u003Cbr\u003E            bool GroupAct = (bool)calledType.InvokeMember(\u0022AGX2VslGroupState\u0022, BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.Static, null, null, new System.Object[] { FlightID, group });\u003Cbr\u003E            print(GroupAct);\u003Cbr\u003E            return GroupAct;\u003Cbr\u003E        }\u003Cbr\u003E        public List\u0026lt;BaseAction\u0026gt; AGExtGet2VslGroupActions(uint FlightID, int group) //return list of all actions in a group, not sure where this goes.\u003Cbr\u003E        {\u003Cbr\u003E            Type calledType = Type.GetType(\u0022ActionGroupsExtended.AGExtExternal, AGExt\u0022);\u003Cbr\u003E            List\u0026lt;BaseAction\u0026gt; RetActs = (List\u0026lt;BaseAction\u0026gt;)calledType.InvokeMember(\u0022AGX2VslGroupActions\u0022, BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.Static, null, null, new System.Object[] { FlightID, group });\u003Cbr\u003E            return RetActs;\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m hoping you can make something out of this, I should be around most of the weekend if you have questions.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"}]}