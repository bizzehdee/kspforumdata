{"TopicId":135769,"ForumId":36,"TopicTitle":"1.1 - New ModuleEngines Features Examples and Discussion","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-02T04:59:52Z","PageNum":1,"Articles":[{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-02T04:59:52Z","Content":"\n\u003Cp\u003E\nWould like to open a general discussion regarding the new features added to ModuleEngines with 1.1:\u003Cbr\u003E\n(Will attempt to keep OP updated with as new information is added/discovered)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1.) Resource-based thrust curves -- obvious application is for SRB thrust curves.\u003Cbr\u003E\nImplementation:\u00A0 Looks as though you need to add a new float-curve to your engine module with the node name of \u0027thrustCurve\u0027 and set \u0027useThrustCurve\u0027 to true.\u00A0 By default it is the average of all propellants levels.\u00A0 Individual propellants can be excluded by adding \u0027ignoreForThrustCurve = true\u0027 in the PROPELLANT node.\n\u003C/p\u003E\n\u003Cp\u003E\nExample: (WIP)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n2.) Per-thrust-transform thrust multipliers -- known application is for vernier nozzles on engines while using a single ModuleEngines module in the part\u003Cbr\u003E\nImplementation: add a new config node to the engine module with the transform multipliers; see example below.\n\u003C/p\u003E\n\u003Cp\u003E\nExample: Added in the ModuleEngines config, as a node similar to propellant/cuves/etc.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\ntransformMultipliers\n{\n    trf0 = 0.4\n    trf1 = 0.4\n    trf2 = 0.1\n\ttrf3 = 0.1\n} \u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cbr\u003E\n3.) ModuleGimbal - per-axis range limitations.\u00A0 Usefull for many custom parts and engine setups.\u00A0 Can limit a gimbal to only respond on a single axis, or have different ranges per-axis\u003Cbr\u003E\u003Cbr\u003E\nExample:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EMODULE\n{\n\tname = ModuleGimbal\n\tgimbalTransformName = RD-108A-Vernier\n\tgimbalRange = 5\n\tuseGimbalResponseSpeed = false\n\tgimbalRangeYP = 0\n\tgimbalRangeYN = 0\n\tgimbalRangeXP = 5\n\tgimbalRangeXN = 5\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny other new features that I missed?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone have any additional information or details on these points they would like to add?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Updated to add examples for 2, \u0026amp; 3\u003Cbr\u003E\nEdit: Add slightly more info for #1 regarding propellant setup (example still todo)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-07T04:43:12Z\u0022 title=\u002204/07/2016 04:43  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"heliobyte","CreatedById":160047,"CreatedDateTime":"2016-04-02T05:59:44Z","Content":"\n\u003Cp\u003E\nI just want to chime in and say that I am extremely happy that they basically implemented ETC and KM_Gimbal into ModuleEngines. Stock SRBs has desperately needed thrust curves for the longest time. Both these features will open up quite a few new ways of designing your craft, which is always nice.\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-04-02T06:22:39Z","Content":"\n\u003Cp\u003E\n1. Yup. By default it uses the min ratio of (total amount / total capacity) across all propellants. Propellants can be ignored by adding ignoreForThrustCurve = true in the PROPELLANT node.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Used like this. In the module, add:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003EtransformMultipliers\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003E{\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003Etrf0 = ratio_for_first_transform\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003Etrf1 = ratio_for_second_trasnform\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003E...etc.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003E}\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003EThe ratios must add up to 1; in fact for an engine with n\u002B1 trasnforms, trf(n) is ignored and is calculated by doing 1 - (sum of other trf valuse).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003ESo you\u0027d do, for the Mammoth:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003EtransformMultipliers\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003E{\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003Etrf0 = 0.2\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003Etrf1 = 0.2\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003Etrf2 = 0.3\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003E}\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003Eand the 4th transform (trf3) can even be left out; it will be 1 - (0.2 \u002B 0.2 \u002B 0.3).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pl-s\u0022\u003E3. ModuleGimbal requires gimbal transforms to align Z with the thrust axis. An engine will rotate its gimbal a maximum of gimbalRangeXP degrees forward around X, gimbalRangeXN degrees backwards around X, and same for YP and YN. You can just specify gimbalRangeXP and gimbalRangeYP if the ranges are symmetric, or just gimbalRange if they are equal across XP, XN, YP, and YN.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-04-02T13:42:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222489574\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459578159\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThe ratios must add up to 1; in fact for an engine with n\u002B1 trasnforms, trf(n) is ignored and is calculated by doing 1 - (sum of other trf valuse).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ESo \u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo it\u0027s impossible to get ludicrous thrust by stacking multiple thrustTransform and setting them all to ratio of 1... and engines can have 0-thrust FX-only transforms. Sounds about right?\n\u003C/p\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-04-02T18:35:06Z","Content":"\n\u003Cp\u003E\nI wonder if the new gimbal limits will make KM_GIMBAL redundant.. I\u0027ll have to this out on my engine.\n\u003C/p\u003E\n"},{"CreatedByName":"InsaneDruid","CreatedById":137849,"CreatedDateTime":"2016-04-02T19:32:38Z","Content":"\n\u003Cp\u003E\nIt does. Maybe besides responseSpeed, which doesnt seem to be supported by the stock gimbal. I replaced KM with stock though.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-04-02T19:42:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222490496\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459622106\u0022 data-ipsquote-userid=\u002259995\u0022 data-ipsquote-username=\u0022martinezfg11\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, martinezfg11 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI wonder if the new gimbal limits will make KM_GIMBAL redundant.. I\u0027ll have to this out on my engine.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003EKM_GIMBAL\u003C/span\u003E will be gone in 1.1. I will add a module that does the Gimbal\u00A0Trim but it will use the stock gimbal module.\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-04-02T19:57:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222489574\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459578159\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n1. Yup. By default it uses the min ratio of (total amount / total capacity) across all propellants. Propellants can be ignored by adding ignoreForThrustCurve = true in the PROPELLANT node.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m sorry, could you possibly explain this in more detail? \u00A0Do you mean the input to the FloatCurve is the current amount of resource (well, ratio current:full)? \u00A0Is this the ratio of all\u00A0the resource accessible to the engine? \u00A0Does the fuel flow rate change or does that stay constant and the effective Isp change? \u00A0Does this take into account partially filled tanks or just assume that means a different starting thrust? \u00A0It sounds like this is going to complicate the calculation of TWR...\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-04-02T21:24:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222490640\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459627069\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt sounds like this is going to complicate the calculation of TWR...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIndeed. I had a look and I am not sure I will add support for that curve.\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-04-03T06:31:23Z","Content":"\n\u003Cp\u003E\nI would suggest that you may well not want to support it, and that engine makers should use the average thrust (total impulse divided by time) as the \u0027maxThrust\u0027 of their engine so info-mod burn times will be correct.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/97386-padishar/\u0026amp;do=hovercard\u0022 data-mentionid=\u002297386\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/97386-padishar/\u0022 id=\u0022ips_uid_3038_8\u0022\u003E@Padishar\u003C/a\u003E The algorithm is basically this:\n\u003C/p\u003E\n\u003Cp\u003E\nratio = 1\n\u003C/p\u003E\n\u003Cp\u003E\nfor each propellant:\n\u003C/p\u003E\n\u003Cp\u003E\nif propellant has ignoreForThrustCurve, then skip\n\u003C/p\u003E\n\u003Cp\u003E\nelse ratio = min(ratio, propellant.totalAmount / propellant.totalCapacity)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nflow multiplier *= thrustCurve.Evaluate(ratio)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd yes, if you tweak an SRB to have \u0026lt; full resource, the thrust curve will start out at say key .5; I\u0027m open to suggestions if you\u0027d rather I take a different approach.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222490591\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459625558\u0022 data-ipsquote-userid=\u0022137849\u0022 data-ipsquote-username=\u0022InsaneDruid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, InsaneDruid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nIt does. Maybe besides responseSpeed, which doesnt seem to be supported by the stock gimbal. I replaced KM with stock though.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nuseGimbalResponseSpeed = true\n\u003C/p\u003E\n\u003Cp\u003E\ngimbalResponseSpeed = (whatever)\n\u003C/p\u003E\n\u003Cp\u003E\nthe speed is used in a lerp(existing, desired, speed * fixedDeltaTime)\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-03T18:02:45Z","Content":"\n\u003Cp\u003E\nRegarding the gimbal;\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m having some issues getting it working with my engine cluster module and parts.\u00A0 It works fine with a single engine, but as soon as I add another engine model, it only responds properly to roll input.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am re-initializing the gimbal after the model changes by calling its OnStart() method; and I can tell that it has the transforms are referenced properly, as all of the engines respond to roll input; but for pitch or yaw input they merely twitch a little bit.\n\u003C/p\u003E\n\u003Cp\u003E\nThe gimbal transform is the engine bell mesh, which is aligned with the thrust transform.\u00A0 It gimbals properly in a single engine setup; multi-engine setups worked fine in 1.05 with reloading the gimbal module.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst image is hierarchy; second image is gimbal centered; third image is gimbal full deflection; fourth image is single-engine centered; fifth image is single engine full deflection\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/YW3oD/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cp\u003E\nAm going to manually build a part through MODEL nodes with multiple models to make sure it is nothing in my plugin/code that is causing the issue.\u00A0 Will update with more info when I have it\n\u003C/p\u003E\n\u003Cp\u003E\nFurther Edit:\u003Cbr\u003E\nGimbal behaves properly when part is built with individual models through MODEL nodes in the part config.\u00A0 \u003Cs\u003EWhich means that there is something in the updating code that I\u0027m not updating or resetting properly.\u003C/s\u003E\u00A0 \u003Cs\u003EAny clues on how to do run-time re-init of the gimbal module (update transform lists, etc)?\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMore Edit:\u003Cbr\u003E\nIf I take that same test-part built with MODEL nodes, but rotate the models in the node, the gimbal stops working.\u00A0 The exact same config without the rotation= in the model node definitions works properly.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EPART\n{\nmodule = Part\nname = SSTU-SC-ENG-J-2-Test\nauthor = Shadowmage\n\nTechRequired = fuelSystems\nentryCost = 22000\ncost = 5500\ncategory = Engine\nsubcategory = 0\ntitle = SSTU - SC-ENG - J-2\nmanufacturer = SSTU\ndescription = SSTU - ShipCore: Engines - J-2.  When the mission planners at SSTU were unimpressed with the thrust output of the RL10 series of engines, they tasked the engineering team with coming up with a viable restartable second-stage motor for larger payloads.  The J-2 is the result of over two years of development, three exploded hangars, and twelve and a half tons of melted prototype engines.  Intended to be used solely as an upper-stage engine, its sea-level thrust and efficiency are quite poor, but generally compensated for by its above-average vacuum performance.\n\nMODEL\n{\n\tmodel = SSTU/Assets/SC-ENG-J-2\n\tposition = 1, 0, 0\n\trotation = 0, -90, 0\n}\nMODEL\n{\n\tmodel = SSTU/Assets/SC-ENG-J-2\n\tposition = -1, 0, 0\n\trotation = 0, 90, 0\n}\nrescaleFactor = 1\n\n// nodes/attachment \n// node position specification: posX,posY,posZ,axisX,axisY,axisZ,size\n// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision\nnode_stack_top = 0,0,0,0,1,0,2\nnode_stack_bottom = 0,-2.0833,0,0,-1,0,2\nnode_attach = 0, 1.2, 0, 0, 1, 0, 2\nattachRules = 1,1,1,1,0\n\nmass = 2.93\ncrashTolerance = 6\nmaxTemp = 2000\nfuelCrossFeed = True\nbreakingForce = 200\nbreakingTorque = 200\n\n//FX\nEFFECTS\n{\n\trunning_closed\n\t{\n\t\tAUDIO\n\t\t{\n\t\t\tchannel = Ship\n\t\t\tclip = sound_rocket_spurts\n\t\t\tvolume = 0.0 0.0\n\t\t\tvolume = 1.0 1.0\n\t\t\tpitch = 0.0 0.2\n\t\t\tpitch = 1.0 1.0\n\t\t\tloop = true\n\t\t}\n\t\tPREFAB_PARTICLE\n\t\t{\n\t\t\tprefabName = fx_smokeTrail_veryLarge\n\t\t\ttransformName = J-2-ThrustTransform\t\n\t\t\temission = 0.0 0.0\n\t\t\temission = 0.05 0.0\n\t\t\temission = 0.075 0.25\n\t\t\temission = 1.0 1.25\n\t\t\tspeed = 0.0 0.25\n\t\t\tspeed = 1.0 1.0\n\t\t\tlocalOffset = 0, 0, 3\n\t\t}\n\t\tMODEL_MULTI_PARTICLE\n\t\t{\n\t\t\tmodelName = Squad/FX/ks1_Exhaust\n\t\t\ttransformName = J-2-ThrustTransform\t\t\t\n\t\t\temission = 0.0 0.0\n\t\t\temission = 0.05 0.0\n\t\t\temission = 0.075 0.25\n\t\t\temission = 1.0 1.25\n\t\t\tspeed = 0.0 0.5\n\t\t\tspeed = 1.0 1.2\n\t\t\tlocalPosition = 0, 0, 2\n\t\t}\n\t}\n\tengage\n\t{\n\t\tAUDIO\n\t\t{\n\t\t\tchannel = Ship\n\t\t\tclip = sound_vent_soft\n\t\t\tvolume = 1.0\n\t\t\tpitch = 2.0\n\t\t\tloop = false\n\t\t}\n\t}\n\tflameout\n\t{\n\t\tPREFAB_PARTICLE\n\t\t{\n\t\t\tprefabName = fx_exhaustSparks_flameout_2\n\t\t\ttransformName = J-2-ThrustTransform\n\t\t\toneShot = true\n\t\t}\n\t\tAUDIO\n\t\t{\n\t\t\tchannel = Ship\n\t\t\tclip = sound_explosion_low\n\t\t\tvolume = 1.0\n\t\t\tpitch = 2.0\n\t\t\tloop = false\n\t\t}\n\t}\n}\n\nMODULE\n{\n\tname = ModuleEnginesFX\n\tengineID = SSTU-J-2\n\trunningEffectName = running_closed\n\tthrustVectorTransformName = J-2-ThrustTransform\n\texhaustDamage = True\n\tignitionThreshold = 0.1\n\tminThrust = 0\n\tmaxThrust = 423\n\theatProduction = 250\n\tfxOffset = 0, 0, 2.3\n\tPROPELLANT\n\t{\n\t\tname = LqdHydrogen\n\t\tratio = 15\n\t\tDrawGauge = True\n\t}\n\tPROPELLANT\n\t{\n\t\tname = Oxidizer\n\t\tratio = 1\n\t}\n\tatmosphereCurve\n \t{\n\t\tkey = 0 421\n\t\tkey = 1 200\n \t}\n}\nMODULE\n{\n\tname = ModuleGimbal\n\tgimbalTransformName = J-2-Bell\n\tgimbalRange = 5\n\tuseGimbalResponseSpeed = true\n}\nMODULE\n{\n\tname = ModuleSurfaceFX\n\tthrustProviderModuleIndex = 1\n\tfxMax = 1\n\tmaxDistance = 120\n\tfalloff = 2\n\tthrustTransformName = J-2-ThrustTransform\n}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEven more edit:\u003Cbr\u003E\nMerely rotating the model in the MODEL node for a single engine also results in.... improper gimbal setups depending upon how far rotated it is.\u00A0 Rotating 90\u0027 results in the engine gimbaling on the pitch axis for roll input (single engine should not respond to roll input...)\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nRotating the models in stock parts will also make them exhibit this problem.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E -- modified mammoth engine cluster exhibits gimbal problems\n\t// mesh = Size3EngineCluster.mu\n\tMODEL\n\t{\n\t\tmodel = Squad/Parts/Engine/Size3EngineCluster/Size3EngineCluster\n\t\trotation = 0, 90, 0\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nGoing to file a bug report as soon as I gather more info.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 Bug report opened:\u00A0\u00A0 \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/8345\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/issues/8345\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-04T14:43:59Z\u0022 title=\u002204/04/2016 02:43  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 4, 2016\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2016-04-04T14:36:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222491479\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459665083\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 03/04/2016 at 8:31 AM, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would suggest that you may well not want to support it, and that engine makers should use the average thrust (total impulse divided by time) as the \u0027maxThrust\u0027 of their engine so info-mod burn times will be correct.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/97386-padishar/\u0026amp;do=hovercard\u0022 data-mentionid=\u002297386\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/97386-padishar/\u0022\u003E@Padishar\u003C/a\u003E The algorithm is basically this:\n\u003C/p\u003E\n\u003Cp\u003E\nratio = 1\n\u003C/p\u003E\n\u003Cp\u003E\nfor each propellant:\n\u003C/p\u003E\n\u003Cp\u003E\nif propellant has ignoreForThrustCurve, then skip\n\u003C/p\u003E\n\u003Cp\u003E\nelse ratio = min(ratio, propellant.totalAmount / propellant.totalCapacity)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nflow multiplier *= thrustCurve.Evaluate(ratio)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd yes, if you tweak an SRB to have \u0026lt; full resource, the thrust curve will start out at say key .5; I\u0027m open to suggestions if you\u0027d rather I take a different approach.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022\u003E@NathanKell\u003C/a\u003E , it was a really awaited feature for me!\n\u003C/p\u003E\n\u003Cp\u003E\nby reading the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/133679-changelog/\u0022\u003Echangelog\u003C/a\u003E in the \u003Cstrong\u003EPart Modules\u003C/strong\u003E\u00A0 section we can read:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EPart Modules\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E...\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAllow ModuleAblator to create a resource as it consumes the ablator (i.e. cracked ablator).\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nout of thread: i thought it will be used for the blackish texture when reentry, but i didn\u0027t change anything in actual 1.1, did i missed something?\n\u003C/p\u003E\n\u003Cp\u003E\n1.1:\u003Cimg alt=\u0022DQ5wXQ6.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/DQ5wXQ6.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n1.0.5:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022HV0Xaoe.png\u0022 class=\u0022ipsImage\u0022 height=\u0022564\u0022 src=\u0022http://i.imgur.com/HV0Xaoe.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo maybe why not using this same trick for the SRB to know the amount of solide fuel set in the VAB? lets say a booster create a new ressource called \u0022BurntSF\u0022 when burning SolidFuel.\n\u003C/p\u003E\n\u003Cp\u003E\nSo at all time you know that BurntSF \u002B available Solid fuel = total of solid fuel set in the VAB,\n\u003C/p\u003E\n\u003Cp\u003E\nand then use it to define the thrust curve instead, to avoid it starting offset of X frames when a SRB is not full at ignition.\n\u003C/p\u003E\n\u003Cp\u003E\ni have really hope to see this in stock KSP:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022uzxnjtg.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/uzxnjtg.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.reddit.com/r/KerbalSpaceProgram/comments/2jwc28/mod_idea_solid_fuel_thrust_profiles/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.reddit.com/r/KerbalSpaceProgram/comments/2jwc28/mod_idea_solid_fuel_thrust_profiles/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nas you stated the mod Engine thrust control allowed this, it\u0027s really good for a fixed curve ( for reproduction in RSS for exemple) but it is impossible to tune it in the VAB:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022qPJnrGX.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/qPJnrGX.png\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nthis simpler mod however has a nearly perfect gameplay implementation IMO ( just need to define points as above instead of constant thrust segments and show the curve: time/thrust)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/125618-105alpha-boosteriferous-srb-thrust-profiles/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022bfer-0.1.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://jttlov.no-ip.org/img/bfer-0.1.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nkeep up the good work team! \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-04T15:37:05Z\u0022 title=\u002204/04/2016 03:37  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 4, 2016\u003C/time\u003E by Skalou\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-04-05T03:03:01Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022\u003E@Shadowmage\u003C/a\u003E you ever post that issue?\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-05T03:05:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222495290\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459825381\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022\u003E@Shadowmage\u003C/a\u003E you ever post that issue?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIndeed: \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/8345\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/issues/8345\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still working on tracking down the specifics and more debugging(read: random testing) on it; but the general details are in the issue ticket.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-05T03:08:08Z\u0022 title=\u002204/05/2016 03:08  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 5, 2016\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-05T03:34:26Z","Content":"\n\u003Cp\u003E\nDouble posting to tag \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022\u003E@NathanKell\u003C/a\u003E because I\u0027m a noob and didn\u0027t hit the quote button on the last post... \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-04-05T06:58:26Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022\u003E@Shadowmage\u003C/a\u003E It worked just fine--quotes / tags edited in later still pop as notifys. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(As I just proved by forgetting to tag you at first \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E )\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-05T14:08:33Z","Content":"\n\u003Cp\u003E\nLol, thanks, and noted.\u00A0 Sorry for the spam \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nPlease let me know if there is any further information that I can provide, test to do, or whatever \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Bonus Eventus","CreatedById":115722,"CreatedDateTime":"2016-04-05T17:05:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222489574\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459578159\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/2/2016 at 11:22 PM, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n1. Yup. By default it uses the min ratio of (total amount / total capacity) across all propellants. Propellants can be ignored by adding ignoreForThrustCurve = true in the PROPELLANT node.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Used like this. In the module, add:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EtransformMultipliers\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E{\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Etrf0 = ratio_for_first_transform\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Etrf1 = ratio_for_second_trasnform\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E...etc.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E}\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThe ratios must add up to 1; in fact for an engine with n\u002B1 trasnforms, trf(n) is ignored and is calculated by doing 1 - (sum of other trf valuse).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ESo you\u0027d do, for the Mammoth:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EtransformMultipliers\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E{\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Etrf0 = 0.2\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Etrf1 = 0.2\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Etrf2 = 0.3\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E}\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Eand the 4th transform (trf3) can even be left out; it will be 1 - (0.2 \u002B 0.2 \u002B 0.3).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E3. ModuleGimbal requires gimbal transforms to align Z with the thrust axis. An engine will rotate its gimbal a maximum of gimbalRangeXP degrees forward around X, gimbalRangeXN degrees backwards around X, and same for YP and YN. You can just specify gimbalRangeXP and gimbalRangeYP if the ranges are symmetric, or just gimbalRange if they are equal across XP, XN, YP, and YN.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks so much \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022\u003E@NathanKell\u003C/a\u003E, I was completely stumped last night trying to figure out why gimballing wasn\u0027t working in 1.1 pre-release on a 9 nozzle engine. Now it works great. All I had to do to fix it was (for anyone interested) make a new gimbal transform in unity with x = 90. I then switched the children of the old gimbal transform to the new gimbal transform, and since unity has child compensation, everything ended up in the right place. Just know that prior to 1.1 you could have your gimbal transform in unity oriented to Y and now it must be oriented to z like thrustTransform as Nathan pointed out.\n\u003C/p\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2016-04-05T21:05:19Z","Content":"\n\u003Cp\u003E\nWould this be correct?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\tMODULE\n\t{\n\t\tname = FXModuleAnimateThrottle\n\t\tThrustAnimationName = masamuneThrust\n\t\tdependOnEngineState = True\n\t\tdependOnThrottle = True\n\t\tresponseSpeed = 0.007\n\t\tpreferMultiMode = True // bind to the parent multimode module, not the actual engines.\n\t}\n\t\n\tMODULE\n\t{\n\t\tname = ModuleGimbal\n\t\tgimbalTransformName = Gimbal\n\t\tgimbalRange = 10\n\t}\n\t\n\tMODULE\n    {\n\t    name = ModuleGimbal\n\t    gimbalTransformName = vaneMover1\n\t    gimbalRange = 10\n\t    useGimbalResponseSpeed = true\n\t\tgimbalResponseSpeed = 5\n\t    gimbalRangeYP = 0\n\t    gimbalRangeYN = 0\n\t    gimbalRangeXP = 10\n\t    gimbalRangeXN = 10\n    }\n\t\n\t\tMODULE\n    {\n\t    name = ModuleGimbal\n\t    gimbalTransformName = vaneMover2\n\t    gimbalRange = 10\n\t    useGimbalResponseSpeed = true\n\t\tgimbalResponseSpeed = 5\n\t    gimbalRangeYP = 0\n\t    gimbalRangeYN = 0\n\t    gimbalRangeXP = 10\n\t    gimbalRangeXN = 10\n    }\n\t\n\t\tMODULE\n    {\n\t    name = ModuleGimbal\n\t    gimbalTransformName = vaneMover3\n\t    gimbalRange = 10\n\t    useGimbalResponseSpeed = true\n\t\tgimbalResponseSpeed = 5\n\t    gimbalRangeYP = 0\n\t    gimbalRangeYN = 0\n\t    gimbalRangeXP = 10\n\t    gimbalRangeXN = 10\n    }\n\t\n\t\tMODULE\n    {\n\t    name = ModuleGimbal\n\t    gimbalTransformName = vaneMover4\n\t    gimbalRange = 10\n\t    useGimbalResponseSpeed = true\n\t\tgimbalResponseSpeed = 5\n\t    gimbalRangeYP = 0\n\t    gimbalRangeYN = 0\n\t    gimbalRangeXP = 10\n\t    gimbalRangeXN = 10\n    }\n\t\t\n\tMODULE\n\t{\n\t\tname = ModuleSurfaceFX\n\t\tthrustProviderModuleIndex = 1\n\t\tfxMax = 0.6\n\t\tmaxDistance = 25\n\t\tfalloff = 2\n\t\tthrustTransformName = thrustTransform\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-05T21:06:38Z\u0022 title=\u002204/05/2016 09:06  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 5, 2016\u003C/time\u003E by Eskandare\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-05T21:44:28Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/62742-eskandare/\u0026amp;do=hovercard\u0022 data-mentionid=\u002262742\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/62742-eskandare/\u0022\u003E@Eskandare\u003C/a\u003E\u00A0You don\u0027t need to specify all the range parameters. \u00A0In your case setting (gimbalRange = 0, gimbalRangeXP = 10) or (gimbalRangeYP = 0, gimbalRangeXP = 10) would be sufficient - the positive range updates from the regular range if it\u0027s not set, and the negative range updates from the positive range if not set.\n\u003C/p\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2016-04-06T15:06:22Z","Content":"\n\u003Cp\u003E\nI take it we are still limited to one\u00A0FXModuleAnimateThrottle animation? I noticed it still doesn\u0027t like to animate across gimbals.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-06T15:16:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222498314\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459955182\u0022 data-ipsquote-userid=\u002262742\u0022 data-ipsquote-username=\u0022Eskandare\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, Eskandare said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI take it we are still limited to one\u00A0FXModuleAnimateThrottle animation? I noticed it still doesn\u0027t like to animate across gimbals.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think it works (see stock Panther), but maybe all of the animations have to be on the same component? \u00A0I forget exactly what the limitation is.\n\u003C/p\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2016-04-06T16:41:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222498335\u0022 data-ipsquote-contentid=\u0022135769\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459955770\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think it works (see stock Panther), but maybe all of the animations have to be on the same component? \u00A0I forget exactly what the limitation is.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan\u0027t put it on the same component, either I have the animation and the gimbals don\u0027t work or I have gimbals but no animation. I feel like I have tried every configuration imaginable including separate animations for each vector fin. I still can\u0027t get it to work.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: each vector fin has it\u0027s own gimbal.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022YYvHZC0.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/YYvHZC0.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-06T16:44:11Z\u0022 title=\u002204/06/2016 04:44  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 6, 2016\u003C/time\u003E by Eskandare\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-04-06T17:07:11Z","Content":"\n\u003Cp\u003E\nThe old gimbal pivoted around the Z just like thrustTransform. You could assign thrustTransform for both gimbal and thrust if you wanted to. The only one that used Y axis was the smoke trail transform.\u003Cbr\u003E\u003Cbr\u003E\n@Eskandare, if you haven\u0027t tried it already... I think you\u0027ll get better results combining the vector paddles into single mesh and using Skinned mesh. Child the end joint\u00A0to the gimbal transform, and you can animate the end joint in/out the exhaust, or just scale it,\u00A0to close/open the nozzle.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2016-04-06T22:15:55Z","Content":"\n\u003Cp\u003E\nWhat defines layer, for example:\u00A0layer = 1\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: ...and what is it used for?\n\u003C/p\u003E\n\u003Cp\u003E\nContext:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\tMODULE\n\t{\n\t\tname = FXModuleAnimateThrottle\n\t\tanimationName = TurboJetNozzleDry\n\t\tresponseSpeed = 0.05\n\t\tlayer = 1\n\t\tdependOnEngineState = True\n\t\tdependOnThrottle = True\n\t\tengineName = Dry\n\t\tweightOnOperational = True\n\t}\n\tMODULE\n\t{\n\t\tname = FXModuleAnimateThrottle\n\t\tanimationName = TurboJetNozzleWet\n\t\tresponseSpeed = 0.08\n\t\tlayer = 2\n\t\tdependOnEngineState = True\n\t\tdependOnThrottle = True\n\t\tengineName = Wet\n\t\tweightOnOperational = True\n\t}\n\tMODULE\n\t{\n\t\tname = FXModuleAnimateThrottle\n\t\tanimationName = TurboJetHeat\n\t\tresponseSpeed = 0.0005\n\t\tlayer = 3\n\t\tdependOnEngineState = True\n\t\tengineName = Wet\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-06T22:19:11Z\u0022 title=\u002204/06/2016 10:19  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 6, 2016\u003C/time\u003E by Eskandare\u003C/strong\u003E\n\u003C/span\u003E\n"}]}