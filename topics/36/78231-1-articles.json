{"TopicId":78231,"ForumId":36,"TopicTitle":"Application Launcher and Mods","CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2014-07-18T15:45:08Z","PageNum":1,"Articles":[{"CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2014-07-18T15:45:08Z","Content":"\n\u003Cp\u003E\nThe Application Launcher or applauncher is one of the new GUI features for KSP 0.24. This GUI is supposed to work as a toolbar for stock apps/widgets and mods. Subsequently it is divided into two lists separated with a border. On the right hand you have the stock ksp apps and on the left hand you have the mod apps.\n\u003C/p\u003E\n\u003Cp\u003E\nThe list of mod applications is a little bit different from the stock list in the sense that it is able to hold as many mods as you want. Therefore it will also rest at a fixed size when the list gets to big for the gui. When this happens it will become scrollable. By design the stock apps are also mutually exclusive: only one app can stat visible at any given time. It is possible to make your mod share this behaviour. The details follows below.\n\u003C/p\u003E\n\u003Cp\u003E\nThe goal of this guide is to explain how to use the applauncher with your mod.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ERequirements:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn order to be able to use the applauncher in your mod you must include Assembly-CSharp-firstpass.dll when building your project. It is located in the same folder the regular ksp dll is in and you should already be familiar with how to include it. The reason is because we allow for animated buttons and they require a class which is located in that library.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EAdd your mod to the applauncher:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFirst of all you retrieve the applauncher instance with the static flag \u003Cem\u003EApplicationLauncher.Instance\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are two methods to use for adding a mod to the applauncher:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n    /// \u0026lt;summary\u0026gt;\n    /// Add a MOD(3rd party) application to the Application Launcher. Use ApplicationLauncherButton.VisibleInScenes to set where the button should be displayed.\n    /// \u0026lt;/summary\u0026gt;\n    /// \u0026lt;param name=\u0022onTrue\u0022\u0026gt;Callback for when the button is toggeled on\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onFalse\u0022\u0026gt;Callback for when the button is toggeled off\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onHover\u0022\u0026gt;Callback for when the mouse is hovering over the button\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onHoverOut\u0022\u0026gt;Callback for when the mouse hoveris off the button\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onEnable\u0022\u0026gt;Callback for when the button is shown or enabled by the application launcher\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onDisable\u0022\u0026gt;Callback for when the button is hidden or disabled by the application launcher\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022visibleInScenes\u0022\u0026gt;The \u0022scenes\u0022 this button will be visible in. For example VisibleInScenes = ApplicationLauncher.AppScenes.FLIGHT | ApplicationLauncher.AppScenes.MAPVIEW;\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022texture\u0022\u0026gt;The 38x38 Texture to use for the button icon.\u0026lt;/param\u0026gt;\n    /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\n    public ApplicationLauncherButton AddModApplication(RUIToggleButton.OnTrue onTrue, RUIToggleButton.OnFalse onFalse, RUIToggleButton.OnHover onHover, RUIToggleButton.OnHoverOut onHoverOut, RUIToggleButton.OnEnable onEnable, RUIToggleButton.OnDisable onDisable, ApplicationLauncher.AppScenes visibleInScenes, Texture texture)\n\nand\n\n    /// \u0026lt;summary\u0026gt;\n    /// Add a MOD(3rd party) application to the Application Launcher. Use ApplicationLauncherButton.VisibleInScenes to set where the button should be displayed.\n    /// \u0026lt;/summary\u0026gt;\n    /// \u0026lt;param name=\u0022onTrue\u0022\u0026gt;Callback for when the button is toggeled on\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onFalse\u0022\u0026gt;Callback for when the button is toggeled off\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onHover\u0022\u0026gt;Callback for when the mouse is hovering over the button\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onHoverOut\u0022\u0026gt;Callback for when the mouse hoveris off the button\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onEnable\u0022\u0026gt;Callback for when the button is shown or enabled by the application launcher\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022onDisable\u0022\u0026gt;Callback for when the button is hidden or disabled by the application launcher\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022visibleInScenes\u0022\u0026gt;The \u0022scenes\u0022 this button will be visible in. For example VisibleInScenes = ApplicationLauncher.AppScenes.FLIGHT | ApplicationLauncher.AppScenes.MAPVIEW;\u0026lt;/param\u0026gt;\n    /// \u0026lt;param name=\u0022sprite\u0022\u0026gt;The 38x38 PackedSprite animation to use for the button icon. Use ApplicationLauncherButton.PlayAnim() to play the animation.\u0026lt;/param\u0026gt;\n    /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\n    public ApplicationLauncherButton AddModApplication(RUIToggleButton.OnTrue onTrue, RUIToggleButton.OnFalse onFalse, RUIToggleButton.OnHover onHover, RUIToggleButton.OnHoverOut onHoverOut, RUIToggleButton.OnEnable onEnable, RUIToggleButton.OnDisable onDisable, ApplicationLauncher.AppScenes visibleInScenes, PackedSprite sprite)\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs you can see the only difference is in the last parameter \u003Cem\u003ETexture texture\u003C/em\u003E vs \u003Cem\u003EPackedSprite sprite\u003C/em\u003E. The first one is for textures and you should already be familiar with it. The second is for animations. Both of these are sized at 38x38 pixels.\n\u003C/p\u003E\n\u003Cp\u003E\nThe callbacks listed are used mainly for showing and hiding the gui associated with the applauncher button. You can safely set most of them to null but you should at least define a delegate for the onTrue and onFalse callbacks.\n\u003C/p\u003E\n\u003Cp\u003E\nNote that the visibleInScenes is a reference to the [system.Flags] ApplicationLauncher.AppScenes and it has the following options: NEVER, SCPACECENTER, FLIGHT, MAPVIEW, VAB, SPH, ALWAYS. You can make your mod button display on the application launcher automatially by setting this. For example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nVisibleInScenes = ApplicationLauncher.AppScenes.FLIGHT | ApplicationLauncher.AppScenes.SPACECENTER;\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis will make your button show in flight and in the spacecenter. It is also possible to handle the hiding and showing of your mod button manually if you really want to. To pull this off you need to manually listen to other ksp events, the most important one being \u003Cem\u003EGameEvents.onGameSceneLoadRequested\u003C/em\u003E. This is fired at the point when applauncher becomes !Ready.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ERemove your mod from the applauncher:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRemoving an app from the applauncher is a lot easier than adding. Simply keep a reference to your button and make the following method call.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nApplicationLauncher.Instance.RemoveModApplication(ApplicationLauncherButton button)\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EWhen to add it:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nApplauncher becomes alive and is running when going from mainmenu to spacecenter. It has a static flag \u003Cem\u003EApplicationLauncher.Ready\u003C/em\u003E which indicates when it is ready to receive add/remove commands. The event \u003Cem\u003EGameEvents.onGUIApplicationLauncherReady\u003C/em\u003E will fire when this happens.\n\u003C/p\u003E\n\u003Cp\u003E\nApplauncher will destroy itself when exiting to the mainmenu. \u003Cem\u003EGameEvents.onGUIApplicationLauncherDestroyed\u003C/em\u003E will be fired when this happens.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are using applauncher with a mod that uses a partless loader, for example by adding this attribute to your class: \u003Cem\u003E[KSPAddon(KSPAddon.Startup.MainMenu, true)]\u003C/em\u003E. It is important that you listen to both events and re-add your button when necessary.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EApplauncher callbacks:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to use the application launcer in multiple scenes AND OR only in the space center scene you should also subscribe to the following events to make your mod gui hide with the launcher. These events are fired when the application launcher shows/hides itself. You can also pull this off by making the transform of your mod gui a child of the applauncher.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nAddOnShowCallback(OnShow del)\nRemoveOnShowCallback(OnShow del)\nAddOnHideCallback(OnHide del)\nRemoveOnHideCallback(OnHide del)\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAll of these delegates have no parameters.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you use some form of \u0022docking\u0022 (positioning your mod gui directly below the applauncher) for your mod gui you may also want to subscribe to the following events:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nAddOnRepositionCallback(OnShow del)\nRemoveOnRepositionCallback(OnShow del)\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is usefull because the applauncher shows up in the bottom right position in the VAB/SPH. These callbacks are fired when it reposition and there is also a flag (\u003Cem\u003EIsPositionedAtTop\u003C/em\u003E) you can check to figure out where it is positioned. You can determine what position your gui should take by using the position field on the transform of your modApplicationButton, some trial and error is manditory. Also keep in mind that when the list of mod buttons in applauncher gets big it will become scrollable and depending on where your button is in the list, it is likely that it will be completely hidden at some points so it is reccommended to have the gui at a static position.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMake your mod app mutually exclusive along with the stock KSP apps:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn KSP 0.24.1 i added two methods you can use to make your mod mutually exclusive along with the stock KSP apps. This means that only one app can be visible at any given time. It makes use of the onTrue, onFalse, onHover and onHoverOut callbacks, so it is important that you subscribe to those callbacks if you want to use this feature. The methods are as follows:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\npublic void EnableMutuallyExclusive(ApplicationLauncherButton launcherButton)\npublic void DisableMutuallyExclusive(ApplicationLauncherButton launcherButton)\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EAdvanced use:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\nIt is possible to hijack ksp stock buttons by taking over all the delegates in them or by getting a reference to the button and replacing it with your own. If you take the latter approach it is however likely that you will modify the order the stock apps are displayed in.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv\u003E\n//Get the buttons like this\nApplicationLauncherButton button = ResourceDisplay.Instance.appLauncherButton;\nApplicationLauncherButton button = ContractsApp.Instance.appLauncherButton;\nApplicationLauncherButton button = MessageSystem.Instance.appLauncherButton;\n//Then make sure the app you want to take over is hidden or disabled. Just call:\nbutton.onDisable();\n//take over the delagates like this\nbutton.toggleButton.onTrue = yourDelegate;\nbutton.toggleButton.onFalse = yourDelegate;\nbutton.toggleButton.onHover = yourDelegate;\nbutton.toggleButton.onHoverOut = yourDelegate;\nbutton.toggleButton.onEnable = yourDelegate;\nbutton.toggleButton.onDisable = yourDelegate;\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n\u00A0\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nKeep in mind that there are probably parts of the code that will mess things up for you if you try to take over the button like this. For example the delegates used to hide and show the app when the applauncher shows so all in all you might just want to remove the button and replace it with your own, after all the system was not intended to be used like this. But do let me know how this works out.\n\u003C/p\u003E\n\u003Cp\u003E\nThe currency widget app uses a slightly different system so it doesn\u0027t have a reference to the button atm. I wanted to include that and refactor a lot of other parts of the code but it will require testing to make sure it\u0027s stable and there simply wasn\u0027t time in this update.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFinally, the Application Launcher will most likely get updates in the coming versions. Suggestions are most welcome.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-16T00:06:10Z\u0022 title=\u002203/16/2016 12:06  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 16, 2016\u003C/time\u003E by NecroBones\u003C/strong\u003E\n\u003Cbr\u003Espelling in stickied title\n\u003C/span\u003E\n"},{"CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2014-07-24T12:33:45Z","Content":"\n\u003Cp\u003EIn case you have tried adding your mod to the application launcher, please post your feedback here.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-07-24T12:36:29Z","Content":"\n\u003Cp\u003EI\u0027m waiting for what\u0027s to come with KSP 0.24.1 - you did announce some changes in #kspmodders.\u003C/p\u003E\n"},{"CreatedByName":"Dave Kerbin","CreatedById":78777,"CreatedDateTime":"2014-07-24T22:55:53Z","Content":"\n\u003Cp\u003EThe change notes for .24.1 seem to indicate that this issue has been resolved:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://steamcommunity.com/games/220200/announcements/detail/164697537330848761\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://steamcommunity.com/games/220200/announcements/detail/164697537330848761\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EDoes this mean it is no longer necessary to hook these events, you can just use AddModApplication on startup and be done with it?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EGameEvents.onGUIApplicationLauncherReady\u003C/p\u003E\u003Cp\u003EGameEvents.onGameSceneLoadRequested\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2014-07-25T14:45:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dave Kerbin\u0022 data-cite=\u0022Dave Kerbin\u0022\u003E\u003Cdiv\u003EThe change notes for .24.1 seem to indicate that this issue has been resolved:\u003Cp\u003E\u003Ca href=\u0022http://steamcommunity.com/games/220200/announcements/detail/164697537330848761\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://steamcommunity.com/games/220200/announcements/detail/164697537330848761\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EDoes this mean it is no longer necessary to hook these events, you can just use AddModApplication on startup and be done with it?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat you should do is this, when starting up: check if ApplicationLauncher.Ready. If it is not ready just subscribe to the event GameEvents.onGUIApplicationLauncherReady. The applauncher starts up when you transition into space center from mainmenu and is destroyed when you exit to mainmenu. And it is Ready when it becomes alive in a scene, it becomes !Ready when you transition into a new scene. \u003C/p\u003E\u003Cp\u003EBut of course, it\u0027s probably going to work even it it\u0027s not Ready, feel free to experiment and let me know what you discover ;-)\u003C/p\u003E\u003Cp\u003EMore details will follow as i edit this thread.\u003C/p\u003E\n"},{"CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2014-07-25T21:44:39Z","Content":"\n\u003Cp\u003EOk guys, i have updated the documentation for the application launcher. Let me know if you have any questions.\u003C/p\u003E\u003Cp\u003ESuggestions are always welcome.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-07-25T21:52:36Z","Content":"\n\u003Cp\u003EThanks, that looks like some fairly extensive documentation. A good first start for some official KSP API documentation \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dave Kerbin","CreatedById":78777,"CreatedDateTime":"2014-07-25T22:28:44Z","Content":"\n\u003Cp\u003EThanks, not just for the documentation but for the feature itself. It\u0027s always bothered me how many mods don\u0027t fit into the rest of the game\u0027s UI, this makes it a lot easier for them to look like they are.\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-08-01T13:03:17Z","Content":"\n\u003Cp\u003EJust bringing some feedback for you on some of the coding fun \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMutuallyExclusive stuff\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EEnabling and Disabling all works a treat. I did find one challenge though - if you change the setting when apps are open, ie. their buttons are toggled on, you seem to have to toggle all the buttons to get the launcher in a desired state (or restart the scene). A good example is to have a stock App toggled on and a mod app toggled on and then enable exclusivity on the mod app - you\u0027ll still have two apps toggled on, and weird things going on till you get the apps in a state where the exclusivity can look after itself\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETurning toggles and off\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhile trying to work with the challenge above I was trying to reset the toggle state programmatically when that happened and I struck a couple of issues: ApplicationLauncherButton.SetTrue/False and ApplicationLauncherButton.togglebutton.SetTrue/False . These didnt actually change the toggle state of the Apps for me. calling onTrue and onFalse would trigger the events, but not change the state of the buttons (obviously as they are the events)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EReplacing a stock App\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EYour suggestion of hijacking the events worked quite well for me with the Alternate Resource Panel - managed to replace the stock app and all seems to be working well. The things I had to work on were:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EI had no easy way to store the existing App functions to then restore it back if I wanted to in the scene - I left a message for the user so they know whats needed\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ETrying to replace the app when the launcher was ready was no good for me - as the app wasnt loaded yet - Used a time delay and check\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI did find it easier to remove the App and add my own as a stock app, but it reshuffled the button order - so I avoided that\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFor these it would make it easier (for me anyway \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E ) if the Apps had an event fire when they had loaded, if you could toggle the visibility of an app and change its position in the order - then the apps would be there the whole time and just displaying em leads to less event challenges. \u003C/p\u003E\u003Cp\u003EEnough complaining \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E , has been a good outing with it all with only a couple of challenges. Thanks for the excellent documentation, I would have been struggling without it\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-08-03T15:37:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Romfarer\u0022 data-cite=\u0022Romfarer\u0022\u003E\u003Cdiv\u003EIt is also possible to handle the hiding and showing of your mod button manually if you really want to. To pull this off you need to manually listen to other ksp events, the most important one being \u003Cem\u003EGameEvents.onGameSceneLoadRequested\u003C/em\u003E. This is fired at the point when applauncher becomes !Ready.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt seems like ApplicationLauncher.Ready always returns false during an onGameSceneLoadRequested callback. This makes it impossible to remove buttons via RemoveModApplication() if it only does so when Ready==true.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprivate void Awake() {\u003Cbr\u003E  GameEvents.onGameSceneLoadRequested.Add(onGameSceneLoadRequested);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Eprivate void onGameSceneLoadRequested(GameScenes scene) {\u003Cbr\u003E  Debug.Log(string.Format(\u0022app launcher ready: {0}\u0022, ApplicationLauncher.Ready)); // always prints \u0022False\u0022\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-03T15:39:52Z\u0022 title=\u002208/03/2014 03:39  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 3, 2014\u003C/time\u003E by blizzy78\u003C/strong\u003E\n\u003Cbr\u003Eadded example code\n\u003C/span\u003E\n"},{"CreatedByName":"BloodyRain2k","CreatedById":50835,"CreatedDateTime":"2014-08-15T03:57:46Z","Content":"\n\u003Cp\u003EIt should be mentioned at this point that the hovereffect is done by changing the buttons background image of the button, meaning that you will not get any at all should you make the mistake (like I did) of using a fully opaque image.\u003C/p\u003E\u003Cp\u003ETook me 2 days to figure this out now.\u003C/p\u003E\u003Cp\u003EIt probably offers it\u0027s advantages by being able to use a custom hovereffect should you want to but given that this would require custom code for switching the image could the stock hovereffect as well be a layer on top of the button that get\u0027s turned visible when hovered and a setting to disable that.\u003C/p\u003E\u003Cp\u003EJust my feedback so far from trying to make ORDA use the toolbar. Aside of this little witch hunt for the reason why the hovereffect was missing is it very easy to use.\u003C/p\u003E\n"},{"CreatedByName":"Xaiier","CreatedById":22833,"CreatedDateTime":"2014-08-22T10:05:56Z","Content":"\n\u003Cp\u003EThe lack of the AppLauncher in the tracking station is unfortunate. Hopefully that can be changed soon.\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2014-09-04T13:47:57Z","Content":"\n\u003Cp\u003EIt\u0027s been mentioned a few times on the Toolbar plugin topic, might as well bring the discussion here (on a friendly tone, as constructive criticism). Things to learn from Blizzy\u0027s Toolbar:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ESmaller, unobtrusive icons\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFolders\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EConfigurable position, hide on border\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EConfigurable button order / visible status\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EMultiple bars\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOf these, I find the two first items the most needed. The current size might be OK for stock apps, but once you just start stockpiling mods, and with no folders to group them, thing gets pretty unwieldy. Having folders also mitigates need for multiple bars and configurable button visible status (just make a \u0022Trash\u0022 folder for unwanted buttons).\u003C/p\u003E\u003Cp\u003EIn any case, a big stock toolbar is better than no stock toolbar.\u003C/p\u003E\u003Cp\u003E[edit]\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xaiier\u0022 data-cite=\u0022Xaiier\u0022\u003E\u003Cdiv\u003EThe lack of the AppLauncher in the tracking station is unfortunate. Hopefully that can be changed soon.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, also this.\u003C/p\u003E\u003Cp\u003ENo preview button on edit post?\u003C/p\u003E\n"},{"CreatedByName":"Dave Kerbin","CreatedById":78777,"CreatedDateTime":"2014-09-04T14:03:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003EIt\u0027s been mentioned a few times on the Toolbar plugin topic, might as well bring the discussion here (on a friendly tone, as constructive criticism). Things to learn from Blizzy\u0027s Toolbar:\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ESmaller, unobtrusive icons\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe larger icons in stock are very useful for players to learn the game. I think it would need to be a toggle (I think it might be time for the UI size slider in settings to get split into several options - overall size for UI, size for just navball and option for large or small app icons). Of course offering two sizes might require some additions to help authors know where to position windows in relation to the icons size their size might now be variable.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOh, also this.\u003C/p\u003E\u003Cp\u003ENo preview button on edit post?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPress \u0027Go Advanced\u0027 to switch from the quick edit to full sized edit/preview/etc.\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2014-09-04T18:36:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dave Kerbin\u0022 data-cite=\u0022Dave Kerbin\u0022\u003E\u003Cdiv\u003EPress \u0027Go Advanced\u0027 to switch from the quick edit to full sized edit/preview/etc.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks.\u003C/p\u003E\u003Cp\u003EAlso, there\u0027s a minor typo in the topic\u0027s title, \u0022Appilcation\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-04T18:40:21Z\u0022 title=\u002209/04/2014 06:40  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 4, 2014\u003C/time\u003E by monstah\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2014-09-12T14:12:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EIt seems like ApplicationLauncher.Ready always returns false during an onGameSceneLoadRequested callback. This makes it impossible to remove buttons via RemoveModApplication() if it only does so when Ready==true.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprivate void Awake() {\u003Cbr\u003E  GameEvents.onGameSceneLoadRequested.Add(onGameSceneLoadRequested);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Eprivate void onGameSceneLoadRequested(GameScenes scene) {\u003Cbr\u003E  Debug.Log(string.Format(\u0022app launcher ready: {0}\u0022, ApplicationLauncher.Ready)); // always prints \u0022False\u0022\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk the issue here is that the Application Launcher hides itself in GameEvents.onGameSceneLoadRequested as well. In 0.25 i\u0027m therefore adding a second level event which will fire just before the Application Launcher is about to become !Ready. The event looks like it will be called GameEvents.onGUIApplicationLauncherUnreadifying and it will send with it the GameScene it is about to enter just like onGameSceneLoadRequested.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-09-12T14:19:26Z","Content":"\n\u003Cp\u003ESounds good.\u003C/p\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-09-19T08:18:13Z","Content":"\n\u003Cp\u003EHas anyone ever noticed duplicate (or even triplicate) application-launcher buttons being created? \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/tEz7tP6.png\u0022 alt=\u0022tEz7tP6.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-09-19T10:51:51Z","Content":"\n\u003Cp\u003EOoh, thats a new one - would sort of indicate to me that the scene changing event didn\u0027t fire that is where we all destroy the buttons - or the ready event fired twice creating extra\u0027s. As its all the buttons I wonder if theres any extra logging we could see in that situation, or any steps that cause it to happen\u003C/p\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-09-19T20:47:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TriggerAu\u0022 data-cite=\u0022TriggerAu\u0022\u003E\u003Cdiv\u003EOoh, thats a new one - would sort of indicate to me that the scene changing event didn\u0027t fire that is where we all destroy the buttons - or the ready event fired twice creating extra\u0027s. As its all the buttons I wonder if theres any extra logging we could see in that situation, or any steps that cause it to happen\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere\u0027s some behavior notes the screenshot alone may not capture:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EThis is on OSX (I don\u0027t know if it\u0027s platform specific).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDuplicates don\u0027t seem to function properly when clicked.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDuplicates only exist when controlling an active craft. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThey go away at the screen of the space center buildings. But upon returning to a craft, will reappear. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EWhen duplicates happen, the windows associated with those buttons (FAR/KER) tend to reset to default window positions (center of screen).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERestarting the game fixes it.\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027d like to offer a log of this happening, but of course now that I \u003Cem\u003Ewant\u003C/em\u003E it to reproduce it, it\u0027s decided to be uncooperative. Given some time it\u0027s bound to reoccur, as I\u0027ve seen it happen too many times.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-19T20:53:57Z\u0022 title=\u002209/19/2014 08:53  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 19, 2014\u003C/time\u003E by Entropius\u003C/strong\u003E\n\u003Cbr\u003Espelling/grammar\n\u003C/span\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-09-21T04:42:50Z","Content":"\n\u003Cp\u003EOkay, now I finally have \u003Ca href=\u0022https://www.dropbox.com/s/0al70qe068r2x5i/duptoolbuttons%20-%20Player.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ea log demonstrating the duplicate application-launcher buttons\u003C/a\u003E (took a while).\u003C/p\u003E\u003Cp\u003EAnd here\u0027s another screenshot:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/nfIhBpz.png\u0022 alt=\u0022nfIhBpz.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ECuriously, I noticed Chatterer\u0027s button was unaffected.\u003C/p\u003E\u003Cp\u003EOne minor thing I should correct about my previous description of it\u0027s behavior: The duplicate buttons do appear to work. I guess I misremembered that part for some reason.\u003C/p\u003E\n"},{"CreatedByName":"Xaiier","CreatedById":22833,"CreatedDateTime":"2014-09-24T01:45:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xaiier\u0022 data-cite=\u0022Xaiier\u0022\u003E\u003Cdiv\u003EThe lack of the AppLauncher in the tracking station is unfortunate. Hopefully that can be changed soon.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SQUAD\u0022 data-cite=\u0022SQUAD\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EJim (Romfarer):\u003C/strong\u003E...I also added the Application Launcher to the tracking station...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYay! Thanks!\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-12-27T06:26:51Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EMake your mod app mutually exclusive along with the stock KSP apps:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIn KSP 0.24.1 i added two methods you can use to make your mod mutually exclusive along with the stock KSP apps. This means that only one app can be visible at any given time. It makes use of the onTrue, onFalse, onHover and onHoverOut callbacks, so it is important that you subscribe to those callbacks if you want to use this feature. The methods are as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic void EnableMutuallyExclusive(ApplicationLauncherButton launcherButton)\u003Cbr\u003Epublic void DisableMutuallyExclusive(ApplicationLauncherButton launcherButton)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIs anyone else using this Mutually exclusive bit - I\u0027m sure I had it working at some point, but am struggling with it now\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-22T04:53:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TriggerAu\u0022 data-cite=\u0022TriggerAu\u0022\u003E\u003Cdiv\u003EJust bringing some feedback for you on some of the coding fun \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETurning toggles and off\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhile trying to work with the challenge above I was trying to reset the toggle state programmatically when that happened and I struck a couple of issues: ApplicationLauncherButton.SetTrue/False and ApplicationLauncherButton.togglebutton.SetTrue/False . These didnt actually change the toggle state of the Apps for me. calling onTrue and onFalse would trigger the events, but not change the state of the buttons (obviously as they are the events)\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve set up dynamic switching between Blizzy\u0027s Tool bar and the stock Toolbar in Ship Manifest (KSP .90, 32 bit). However I seem to be running into the above issue reported by TriggerAu.\u003C/p\u003E\u003Cp\u003EI attempt to set the button state using .SetTrue(), but it does not seem to go to the true state... I must click the button twice to return to a false state (to close an already open app window). (I\u0027m automatically detecting if the app is currently open during the toolbar switch and attempting to set the applauncher button state appropriately.\u003C/p\u003E\u003Cp\u003EAm I missing something? has this been resolved?\u003C/p\u003E\u003Cp\u003EMy testing shows that after the .SetTrue() function is called, the OnTrue callback function is called, and the button.state changes to true, but still it requires 2 clicks to return the button state back to false. In fact, the first click fires the OnTrue callback. Note that I\u0027ve just completed instantiating the buttons when the call for SetTrue is made.\u003C/p\u003E\u003Cp\u003Esample code\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESettings.ShowRoster = true;  // This is a flag to notify the window display code to activate the window, or in this case, leave it open...\u003Cbr\u003ESMRoster_Stock.SetTexture((Texture)GameDatabase.Instance.GetTexture(Settings.ShowRoster ? ImageFolder \u002B \u0022IconR_On_38\u0022 : ImageFolder \u002B \u0022IconR_Off_38\u0022, false));\u003Cbr\u003ESMRoster_Stock.toggleButton.SetTrue();\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOk, I\u0027ve solved my problem, but the fix was to ignore the button state. Since I manage the window state using another flag, I now use that flag exclusively, and set both the OnTrue and OnFalse callbacks to the same handler. I then interrogate the window state and make the necessary testure changes in that method. Now I have the behavior I desire, and the actual button state no longer matters.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-23T13:52:20Z\u0022 title=\u002202/23/2015 01:52  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 23, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-04-27T18:48:22Z","Content":"\n\u003Cp\u003EIt seems like in 1.0 the GameEvent.onGUIApplicationLauncherReady is not fired. This makes most mod\u0027s icons not appear on the stock app launcher.\u003C/p\u003E\n"}]}