{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":23,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-07T19:13:56Z","Content":"\u003E \n\u003E This is awesome, but i guess there\u0027s nothing you can do to fix the black space when you pass 6km mark?\n\nI\u0027ve had this bug reported many times but I\u0027ve never had it happen. I think it should be easy to fix I just haven\u0027t looked into it yet. So everything in space goes completely black after 6km right? no stars, no sun no moon?\n\n\u003E \n\u003E I just tried this on a basic 1.0.2 install with no other visual mods and using the default settings in dx9, looks fantastic. Well done!\n\u003E One thing I have noticed is it seems to break the thermal overlay (the F11 one that shows the vessel in colors from red to white based on their temps). Activating the overlay with this mod installed has no effect, the image of the vessel does not change at all.\n\nI\u0027ll look into this, tbh with you guys I don\u0027t even play much with 1.0\u002B.\n\n\u003E Hmmm... I never thought about that one. You could manually populate the entries, or you could split the config items into sub-classes and load them individually. Keep in-mind, the configs are organized not by file, but by config node.\n\nWell, I wanted to have different config files for the different planets so that people can just switch planets or copy the planets they want from packs/compilations/whatever without having to do any copypasting inside huge config files. Anyway, I\u0027m using the new xmlreader thing (KSP.IO.PluginConfiguration) I haven\u0027t tried the old method. Anyway, is there a good example of the KSP implementation with the [persistent] tags done somewhere so I could take from it?\n\n**Edited \u003Ctime datetime=\u00222015-05-07T20:24:06Z\u0022 title=\u002205/07/2015 08:24  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-05-07T19:26:09Z","Content":"@Blackrack - If you feel as if your hobby is becoming more of a job make sure you take a break and come up for some air. Ever see Men and Black 3? Go eat some pie and the solutions you need will come to you. Or in this case play some KSP. ( without scatterer )"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2015-05-07T19:59:32Z","Content":"Hi there,\n\nYou may already be aware of this, but nobody has use the word Kopernicus in this thread yet so... this happens when you combine Scatterer and Kopernicus, in OpenGL mode ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)\n\n![Rqdw5ef.jpg](http://i.imgur.com/Rqdw5ef.jpg)\n\nApparently some sort of transparency issue; I also get a pink box around the \u0022loading...\u0022 message on scene transitions too. Doesn\u0027t happen without Scatterer, doesn\u0027t happen in DX9 mode (but it does hit a memory wall ![:blush:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif)).\n\nThank you for the work so far though; Scatterer really does make Kerbin look so much prettier! One of those \u0022should be stock\u0022 mods. Er, when you\u0027ve had time to settle it in maybe ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nCheers!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-07T20:12:23Z","Content":"\u003E \n\u003E @Blackrack - If you feel as if your hobby is becoming more of a job make sure you take a break and come up for some air. Ever see Men and Black 3? Go eat some pie and the solutions you need will come to you. Or in this case play some KSP. ( without scatterer )\n\nActually I really enjoy spending time on the mod, it doesn\u0027t feel like a job, the problem is I have very limited time to work on it these days. But when I do have time I really enjoy it.\n\n\u003E \n\u003E Hi there,\n\u003E You may already be aware of this, but nobody has use the word Kopernicus in this thread yet so... this happens when you combine Scatterer and Kopernicus, in OpenGL mode ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)\n\u003E \n\u003E [http://i.imgur.com/Rqdw5ef.jpg](http://i.imgur.com/Rqdw5ef.jpg)\n\u003E \n\u003E Apparently some sort of transparency issue; I also get a pink box around the \u0022loading...\u0022 message on scene transitions too. Doesn\u0027t happen without Scatterer, doesn\u0027t happen in DX9 mode (but it does hit a memory wall ![:blush:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif)).\n\u003E \n\u003E Thank you for the work so far though; Scatterer really does make Kerbin look so much prettier! One of those \u0022should be stock\u0022 mods. Er, when you\u0027ve had time to settle it in maybe ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E \n\u003E Cheers!\n\nIs this that mod that generates planets? Ayway, I don\u0027t plan to support mods like this yet, let me first get scatterer working well enough with the base game, that way I can keep my sanity.\n\nEdited:\n\nI just saw this pic and thought it\u0027d be great if there was a way to change the clouds color at sunset/sunrise.\n\n![11120076_819222651503050_3180820701727036223_n.jpg?oh=771d2f81c82b73c3c93591371d8352cd\u0026oe=55BED43F](https://scontent-cdg.xx.fbcdn.net/hphotos-xfa1/v/t1.0-9/11120076_819222651503050_3180820701727036223_n.jpg?oh=771d2f81c82b73c3c93591371d8352cd\u0026oe=55BED43F)\n\n**Edited \u003Ctime datetime=\u00222015-05-07T20:27:21Z\u0022 title=\u002205/07/2015 08:27  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-05-07T20:27:06Z","Content":"@Blackrack - That\u0027s good. Just giving you heads up if you ever start feeling that way. It happens a lot. Modders often work themselves into the ground and don\u0027t even get to enjoy the piece of software there modding. \n\nAnd thank you for your hard work on this. Slowly, but surely KSP is becoming the best looking game on pc. Can\u0027t wait for the released version of this mod, but like I said just make sure you do it at a pace that keeps it feeling like a hobby."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-07T20:34:09Z","Content":"\u003E \n\u003E @Blackrack - That\u0027s good. Just giving you heads up if you ever start feeling that way. It happens a lot. Modders often work themselves into the ground and don\u0027t even get to enjoy the piece of software there modding. \n\u003E And thank you for your hard work on this. Slowly, but surely KSP is becoming the best looking game on pc. Can\u0027t wait for the released version of this mod, but like I said just make sure you do it at a pace that keeps it feeling like a hobby.\n\nThanks, I admit I sort of started feeling like that a few weeks ago, I couldn\u0027t stop thinking about the mod and ways to improve it/do things differently all the time (sometimes even thinking about it in my sleep) and it was growing into a sort of obsession. But then lots of stuff changed in real-life and it balanced itself out. I definitely understand what you\u0027re talking about but that\u0027s bound to happen with a hobby like this that really absorbs you."},{"CreatedByName":"zlsa","CreatedById":132697,"CreatedDateTime":"2015-05-07T20:44:33Z","Content":"blackrack, you may want to take a look at the FlightGear flight simulator\u0027s [atmospheric light scattering](http://wiki.flightgear.org/Atmospheric_light_scattering) implementation. They only have to handle a single planet, but it does it quite well."},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-05-07T20:51:22Z","Content":"\u003E Well, I wanted to have different config files for the different planets so that people can just switch planets or copy the planets they want from packs/compilations/whatever without having to do any copypasting inside huge config files. Anyway, I\u0027m using the new xmlreader thing (KSP.IO.PluginConfiguration) I haven\u0027t tried the old method. Anyway, is there a good example of the KSP implementation with the [persistent] tags done somewhere so I could take from it?\n\nhad to dig around a bit, but found the guide I used here: [http://forum.kerbalspaceprogram.com/entries/1265-An-Adventure-in-Plugin-Coding-7-Thanks-for-the-Persistence](https://forum.kerbalspaceprogram.com/entries/1265-An-Adventure-in-Plugin-Coding-7-Thanks-for-the-Persistence)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-07T20:51:28Z","Content":"\u003E \n\u003E blackrack, you may want to take a look at the FlightGear flight simulator\u0027s [atmospheric light scattering](http://wiki.flightgear.org/Atmospheric_light_scattering) implementation. They only have to handle a single planet, but it does it quite well.\n\nIt\u0027s about the same as the proland implementation (which scatterer is based on) with a few weather additions. In scatterer there are problems added by the fact that the shader works in postprocessing and by trying to give kerbin a realistic earth look while having the scale completely off.\n\n\u003E \n\u003E had to dig around a bit, but found the guide I used here: [http://forum.kerbalspaceprogram.com/entries/1265-An-Adventure-in-Plugin-Coding-7-Thanks-for-the-Persistence](https://forum.kerbalspaceprogram.com/entries/1265-An-Adventure-in-Plugin-Coding-7-Thanks-for-the-Persistence)\n\nThanks a lot, this will definitely be very useful.\n\n**Edited \u003Ctime datetime=\u00222015-05-07T20:59:27Z\u0022 title=\u002205/07/2015 08:59  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Bluejay0013","CreatedById":139714,"CreatedDateTime":"2015-05-07T21:16:15Z","Content":"\u003E \n\u003E Thanks, I admit I sort of started feeling like that a few weeks ago, I couldn\u0027t stop thinking about the mod and ways to improve it/do things differently all the time (sometimes even thinking about it in my sleep) and it was growing into a sort of obsession. But then lots of stuff changed in real-life and it balanced itself out. I definitely understand what you\u0027re talking about but that\u0027s bound to happen with a hobby like this that really absorbs you.\n\nI cant even imagine on how to start writing a program for a mod in the first place!![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)"},{"CreatedByName":"Sabor","CreatedById":59932,"CreatedDateTime":"2015-05-07T22:05:52Z","Content":"This is one of those mods that changes and does very little to the game, but creates an impact so huge that you just can\u0027t play the damn game without it. Looking forward to future updates, Black"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-05-07T23:23:36Z","Content":"Can I just say, that despite Kerbin being a bit odd looking from space, the ride up there is one of the best things I\u0027ve ever done in KSP. Thank you so much for an amazing mod, superb work.\n\n![cgAuSxx.jpg](http://i.imgur.com/cgAuSxx.jpg)"},{"CreatedByName":"KillAshley","CreatedById":128696,"CreatedDateTime":"2015-05-08T08:05:19Z","Content":"\u003E \n\u003E Is this that mod that generates planets? Ayway, I don\u0027t plan to support mods like this yet, let me first get scatterer working well enough with the base game, that way I can keep my sanity.\n\nhey look he took a picture of my pack, haha! yeah I\u0027ve been following this since the first post, Kopernicus is a mod that allows for extremely well done custom planets (it\u0027s planetfactory/rss/kittopia all rolled into one with more features). Take you\u0027re time blackrack, all the planet pack creators are pretty patient ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif) I\u0027ll get this going for my packs one day hopefully, but i agree with you that you should focus on getting the base game as stable as possible before adding compatibility with planet packs......"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2015-05-08T08:40:12Z","Content":"\u003E \n\u003E Is this that mod that generates planets? Ayway, I don\u0027t plan to support mods like this yet, let me first get scatterer working well enough with the base game, that way I can keep my sanity.\n\nThat\u0027s completely fair ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nGiven the loading screen transparency=pink issue though, I suspect it\u0027s just that nothing else in KSP is bothering to do any and that the problem\u0027s an overall thing for OpenGL. Totally understand focussing on DX9 and pure stock though, I\u0027ll just look forward to the day when all mods work together in glorious harmony ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-05-08T16:00:54Z","Content":"\u003E \n\u003E That\u0027s completely fair ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E Given the loading screen transparency=pink issue though, I suspect it\u0027s just that nothing else in KSP is bothering to do any and that the problem\u0027s an overall thing for OpenGL. Totally understand focussing on DX9 and pure stock though, I\u0027ll just look forward to the day when all mods work together in glorious harmony ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI think both Blackrack and I have to rebase our shaders off the KSP ones. This might be causing the issue seen."},{"CreatedByName":"BFGfreak","CreatedById":57395,"CreatedDateTime":"2015-05-08T16:08:27Z","Content":"Hey I was wondering if you had any luck figuring out that problem you discovered about a week back?\n\n\u003E \n\u003E So apparently, the atmosphere looking too thick from orbit is a bug that found it\u0027s way in (among many other bugs) when I ported the shaders to dx9.\n\u003E We all just dismissed it as the atmosphere being too dense because we thought it made sense.\n\u003E \n\u003E .......\n\nAnyway if you need a personal cheer up, feel free to let us know."},{"CreatedByName":"AWOL","CreatedById":143452,"CreatedDateTime":"2015-05-08T16:23:25Z","Content":"Registered more or less just to say this: Brilliant work, this adds massively to the game IMHO. Now I have to go visit every planet again."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-08T17:58:43Z","Content":"\u003E \n\u003E Hey I was wondering if you had any luck figuring out that problem you discovered about a week back?\n\u003E Anyway if you need a personal cheer up, feel free to let us know.\n\nYeah, I\u0027m sad to report it was a false alarm, that bug only happened in unity because I didn\u0027t recompile the terrain and ocean shaders in that particular copy of the project to work without compute shaders, the atmosphere was working fine but the ocean and terrain shaders were basically loading empty scattering tables. I got too excited and posted about it because it looked a bit like what kerbin looked like from orbit and I thought it\u0027d fix the atmosphere being too thick. I then loaded up the KSP shaders in that same project and they worked fine. Even tried adding the \u0022bug\u0022 in the KSP postprocessing shader to see if it had a different result and it did :/\n\n\u003E \n\u003E Registered more or less just to say this: Brilliant work, this adds massively to the game IMHO. Now I have to go visit every planet again.\n\nOnly kerbin is supported right now (unless you use the config tool for one modified planet every time). I\u0027m working on fixing the memory leak right now and will add multiple planets right after."},{"CreatedByName":"piotrektt","CreatedById":109497,"CreatedDateTime":"2015-05-08T18:24:29Z","Content":"Looks amazing, keep up the good work! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2015-05-08T19:10:37Z","Content":"\u003E \n\u003E Does everybody else get this hexagonal effect above 200km over Kerbin?\n\u003E [http://i.imgur.com/L2uOX4Z.png](http://i.imgur.com/L2uOX4Z.png)\n\nI do! At least most of the time ... above a certain altitude it starts disappearing again\n\n- - - Updated - - -\n\n\u003E \n\u003E I wasn\u0027t aware this mod added black holes to the game.\n\u003E [http://i.imgur.com/AL3510v.png](http://i.imgur.com/AL3510v.png)\n\u003E \n\u003E EDIT:\n\u003E \n\u003E Oh my goooooooooooooooood\n\u003E \n\u003E [http://i.imgur.com/QJHzXPA.png](http://i.imgur.com/QJHzXPA.png)\n\nThe latter is more of a white hole ...\n\n**Edited \u003Ctime datetime=\u00222015-05-08T19:17:15Z\u0022 title=\u002205/08/2015 07:17  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 8, 2015\u003C/time\u003E by Bizz Keryear**"},{"CreatedByName":"Gojira","CreatedById":10884,"CreatedDateTime":"2015-05-08T20:29:16Z","Content":"Has anyone gotten this to work on Mac? I\u0027m getting jagged lines in the sky."},{"CreatedByName":"SmallFatFetus","CreatedById":137860,"CreatedDateTime":"2015-05-08T21:13:08Z","Content":"\u003E \n\u003E Has anyone gotten this to work on Mac? I\u0027m getting jagged lines in the sky.\n\nSame here. Any fixes known?"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2015-05-08T21:29:05Z","Content":"\u003E \n\u003E Same here. Any fixes known?\n\nSounds like the OpenGL issue for which the solution (for most people) has been to completely disable anisotropic filtering for KSP"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-05-08T21:56:37Z","Content":"\u003E \n\u003E disable anisotropic filtering for KSP\n\nAnd how do I do that? Via AMD control panel or within KSP? I am not good with computer.."},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2015-05-08T22:12:45Z","Content":"\u003E \n\u003E And how do I do that? Via AMD control panel or within KSP? I am not good with computer..\n\nI would have thought you could do this via the control panel but I had a look on my wifes computer and there isn\u0027t a disable option (only force 2-16)\n\nMaybe it\u0027s controlled by the ingame render quality slider in the graphics panel, I think someone said setting this to \u0027fastest\u0027 worked?"}]}