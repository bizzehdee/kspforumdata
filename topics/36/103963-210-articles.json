{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":210,"Articles":[{"CreatedByName":"sneekyzeke","CreatedById":153754,"CreatedDateTime":"2016-10-23T20:24:12Z","Content":"\u003E \n\u003E \n\u003E 24 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E I would just disable the ocean shader, once that\u0027s done, you can run the mod on anything that already runs KSP.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also, depending on your specs, forcing the game to run in directx 11 might give you a performance boost. Which GPU and CPU do you have?\n\u003E \n\nThanks! I\u0027ll try that. I do use the dx11 switch; seems to lessen the memory impact, as advertised. I have (get ready ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)) an AMD Athlon II X2 250 @ 3 GHz and an AMD Radeon HD 5570 with 1 GB video memory; running KSP @ 1600 by 900 rez."},{"CreatedByName":"VonFrank","CreatedById":103325,"CreatedDateTime":"2016-10-23T21:39:11Z","Content":"Are the steps to modify scatterer to function with \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E in 1.2 the same as they were in older versions? I seem to be having problems getting atmospheres to show up on the \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E bodies using the same process described on the \u003Cabbr title=\u0022Original Post(er). The first post in a thread, or the person who posted it.\u0022\u003EOP\u003C/abbr\u003E."},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2016-10-24T00:27:27Z","Content":"Scatterer seems to act on the particles produced by SmokeScreen (under RealPlume), which possibly isn\u0027t intended (it certainly makes them look super-bright/blobby if your point of view places them above the atmosphere, especially transecting the horizon)\n\nIs there a way to get Scatterer to not effect the thrust/exhaust particles, would SmokeScreen need to generate those particles on another layer for this?"},{"CreatedByName":"sneekyzeke","CreatedById":153754,"CreatedDateTime":"2016-10-24T01:14:06Z","Content":"I disabled the ocean shader as blackrack suggested; the performance is quite acceptable (if it lags too bad during a critical time, I just look up ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) life is full of compromises) and it\u0027s still gorgeous, even with low res clouds (from SVE). Thanks very much blackrack.\n\n![hm6agT9.png](http://i.imgur.com/hm6agT9.png)\n\n![Q7n74Mw.png](http://i.imgur.com/Q7n74Mw.png)\n\n![R5hHH7J.png](http://i.imgur.com/R5hHH7J.png)"},{"CreatedByName":"Moggiog","CreatedById":112824,"CreatedDateTime":"2016-10-24T13:44:19Z","Content":"I forgot the log in a comment I made earlier about the sky and ocean being invisible, so here it is [https://www.dropbox.com/s/xhi399tecj48klu/KSP.log?dl=0](https://www.dropbox.com/s/xhi399tecj48klu/KSP.log?dl=0) At least I think that\u0027s the log needed."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-10-24T14:17:22Z","Content":"\u003E \n\u003E \n\u003E 32 minutes ago, Moggiog said:\n\u003E \n\u003E \n\u003E I forgot the log in a comment I made earlier about the sky and ocean being invisible, so here it is [https://www.dropbox.com/s/xhi399tecj48klu/KSP.log?dl=0](https://www.dropbox.com/s/xhi399tecj48klu/KSP.log?dl=0) At least I think that\u0027s the log needed.\n\u003E \n\nWrong log.  Need the output.log not ksp.log"},{"CreatedByName":"Moggiog","CreatedById":112824,"CreatedDateTime":"2016-10-24T14:39:51Z","Content":"\u003E \n\u003E \n\u003E 22 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E Wrong log.  Need the output.log not ksp.log\n\u003E \n\nFigured. This one? [https://www.dropbox.com/s/oo9kln1owclgw80/output_log.txt?dl=0](https://www.dropbox.com/s/oo9kln1owclgw80/output_log.txt?dl=0)"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-10-24T14:42:49Z","Content":"\u003E \n\u003E \n\u003E 7 minutes ago, Moggiog said:\n\u003E \n\u003E \n\u003E Figured. This one? [https://www.dropbox.com/s/oo9kln1owclgw80/output_log.txt?dl=0](https://www.dropbox.com/s/oo9kln1owclgw80/output_log.txt?dl=0)\n\u003E \n\nYep that\u0027s the one.  If you are using force opengl in your command line,  delete it and try the mod again\n\nAlso,  your module manager is not up to date.  It won\u0027t make a difference,  I just happened to notice. \n\n**Edited \u003Ctime datetime=\u00222016-10-24T14:47:19Z\u0022 title=\u002210/24/2016 02:47  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 24, 2016\u003C/time\u003E by Galileo**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-10-24T14:54:23Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) have you ever thought about adding a subtle,  dynamic depth of field?  Is that even possible?  \n\n**Edited \u003Ctime datetime=\u00222016-10-24T15:05:12Z\u0022 title=\u002210/24/2016 03:05  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 24, 2016\u003C/time\u003E by Galileo**"},{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2016-10-24T16:54:38Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Galileo said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) have you ever thought about adding a subtle,  dynamic depth of field?  Is that even possible?\n\u003E \n\nYESYESYESYES! please!"},{"CreatedByName":"mulfucer","CreatedById":168385,"CreatedDateTime":"2016-10-24T20:30:31Z","Content":"How to install only lensflare?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-10-24T21:02:21Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, Galileo said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) have you ever thought about adding a subtle,  dynamic depth of field?  Is that even possible?\n\u003E \n\nYes, and yes it\u0027s possible. I have an approach in mind but I have a few things I want to do before.\n\nAhh if I could have infinite time...\n\n\u003E \n\u003E \n\u003E 24 minutes ago, mulfucer said:\n\u003E \n\u003E \n\u003E How to install only lensflare?\n\u003E \n\nDelete all planet entries in the planetsList file.\n\n\u003E \n\u003E \n\u003E 6 hours ago, Moggiog said:\n\u003E \n\u003E \n\u003E Figured. This one? [https://www.dropbox.com/s/oo9kln1owclgw80/output_log.txt?dl=0](https://www.dropbox.com/s/oo9kln1owclgw80/output_log.txt?dl=0)\n\u003E \n\nI will look at this when I can.\n\n\u003E \n\u003E \n\u003E 20 hours ago, NoMrBond said:\n\u003E \n\u003E \n\u003E Scatterer seems to act on the particles produced by SmokeScreen (under RealPlume), which possibly isn\u0027t intended (it certainly makes them look super-bright/blobby if your point of view places them above the atmosphere, especially transecting the horizon)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Is there a way to get Scatterer to not effect the thrust/exhaust particles, would SmokeScreen need to generate those particles on another layer for this?\n\u003E \n\nScreens?\n\n\u003E \n\u003E \n\u003E 23 hours ago, VonFrank said:\n\u003E \n\u003E \n\u003E Are the steps to modify scatterer to function with \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E in 1.2 the same as they were in older versions? I seem to be having problems getting atmospheres to show up on the \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E bodies using the same process described on the \u003Cabbr title=\u0022Original Post(er). The first post in a thread, or the person who posted it.\u0022\u003EOP\u003C/abbr\u003E.\n\u003E \n\nI frankly don\u0027t know, I haven\u0027t tried with \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E in ages. Try the Kerbin/Earth aproach otherwise try Earth/Earth."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-10-24T21:11:59Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Yes, and yes it\u0027s possible. I have an approach in mind but I have a few things I want to do before.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Ahh if I could have infinite time...\n\u003E \n\nI wish you had infinite time as well!"},{"CreatedByName":"Mystique","CreatedById":95628,"CreatedDateTime":"2016-10-24T21:21:12Z","Content":"\u003E \n\u003E \n\u003E On 9/26/2016 at 0:51 AM, blackrack said:\n\u003E \n\u003E \n\u003E I knew about the dark bar for a while but it didn\u0027t bother me much, I will fix it soon. Effects aren\u0027t supported to work in main menu so ignore it and get in flight.\n\u003E \n\nSorry for bumping old question, is there any fix for \u0022dark bar\u0022 issue? I\u0027m talking about thing like this, when there is transition line clearly visible at some angles:\n\n[![c2e24eddcc9ad0c5414156d1be83ec88.jpeg](http://i84.fastpic.ru/thumb/2016/1025/88/c2e24eddcc9ad0c5414156d1be83ec88.jpeg)](http://fastpic.ru/view/84/2016/1025/c2e24eddcc9ad0c5414156d1be83ec88.png.html)\n\n**Edited \u003Ctime datetime=\u00222016-10-24T21:21:31Z\u0022 title=\u002210/24/2016 09:21  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 24, 2016\u003C/time\u003E by Mystique**"},{"CreatedByName":"skandervr","CreatedById":78102,"CreatedDateTime":"2016-10-24T21:55:54Z","Content":"Is it just me or is the ocean sun reflection faded in 0256? Or is it supposed to be this way?\n\nComparison (can\u0027t seem to insert images...):\n\n1.1.3 with 0255 [http://imgur.com/OJlsboq](http://imgur.com/OJlsboq)\n\n1.2 with 0256 [http://imgur.com/e144vaj](http://imgur.com/e144vaj)\n\n**Edited \u003Ctime datetime=\u00222016-10-24T21:56:27Z\u0022 title=\u002210/24/2016 09:56  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 24, 2016\u003C/time\u003E by skandervr**"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2016-10-24T23:46:49Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Screens?\n\u003E \n\nSorry, I\u0027ve taken a few shots here (imgur isn\u0027t saving the order for some reason, I may just record a video)\n\n[imgur.com/a/6mEWA](http://imgur.com/a/6mEWA)\n\nThe plumes seem normal until ~14000m altitude or so and then start getting bright/white/blobby\n\nPerhaps this is when the plume expansion is kicking in\n\n**Edited \u003Ctime datetime=\u00222016-10-24T23:50:54Z\u0022 title=\u002210/24/2016 11:50  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 24, 2016\u003C/time\u003E by NoMrBond**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-10-24T23:54:23Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, NoMrBond said:\n\u003E \n\u003E \n\u003E Sorry, I\u0027ve taken a few shots here\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [imgur.com/a/6mEWA](http://imgur.com/a/6mEWA)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The plumes seem normal until ~14000m altitude or so and then start getting bright/white/blobby\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Perhaps this is when the plume expansion is kicking in\n\u003E \n\nAs far as I can tell that has been the way it has looked since forever.  have you tried it without scatterer?"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2016-10-25T02:33:45Z","Content":"yea [@NoMrBond](https://forum.kerbalspaceprogram.com/index.php?/profile/69263-nomrbond/) I\u0027m not sure what is supposed to look wrong in those screens either. Def need some Scatterer/Non-Scatterer comparison shots"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2016-10-25T03:33:29Z","Content":"Fair point, I should have tested it correctly before skipping straight on to musing\n\nWill sort out a clean KSP install and do Scatterer-only/RealPlume-only/Scatterer\u002BRealPlume"},{"CreatedByName":"mulfucer","CreatedById":168385,"CreatedDateTime":"2016-10-25T10:50:55Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I\u0027m delete planet entries but no working sunflare\n\n[http://imgur.com/xZqoP0c](http://imgur.com/xZqoP0c)\n\n**Edited \u003Ctime datetime=\u00222016-10-25T10:53:53Z\u0022 title=\u002210/25/2016 10:53  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 25, 2016\u003C/time\u003E by mulfucer**"},{"CreatedByName":"Program Kerbal Space","CreatedById":169331,"CreatedDateTime":"2016-10-25T22:13:21Z","Content":"How do i install plz!"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-10-25T22:14:42Z","Content":"\u003E \n\u003E \n\u003E Just now, Program Kerbal Space said:\n\u003E \n\u003E \n\u003E How do i install plz!\n\u003E \n\nDrop the scatterer folder into your gamedata folder"},{"CreatedByName":"Program Kerbal Space","CreatedById":169331,"CreatedDateTime":"2016-10-25T22:15:16Z","Content":"\u003E \n\u003E \n\u003E 12 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E Drop the scatterer folder into your gamedata folder\n\u003E \n\ndo i extract?\n\nnvm u dont\n\n**Edited \u003Ctime datetime=\u00222016-10-25T22:27:10Z\u0022 title=\u002210/25/2016 10:27  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 25, 2016\u003C/time\u003E by Program Kerbal Space**"},{"CreatedByName":"Program Kerbal Space","CreatedById":169331,"CreatedDateTime":"2016-10-27T19:38:18Z","Content":"the scariest part is i dont know what it does... i guess ill have  to try it"},{"CreatedByName":"Falco251","CreatedById":167941,"CreatedDateTime":"2016-10-28T11:19:26Z","Content":"I installed KSP on the Win 10 partition (before I used it under MacOS) and I installed the same mods I had before the update.\n\nAfter some troubleshooting I found that the problem I was experiencing was caused by Scatterer. I removed all the mods and installed them back one at a time, until I found the one that was causing the issue.\n\nBasically, the games loads correctly but when I start a scenario (any kind) data starts to increase in RAM at a rate of 250-300MB per second, until it reaches 32 GB (16GB RAM \u002B 16GB virtual memory). The task manager graph indicates a steady rate throughout.  \n\nUpon filling up the memory, KSP crashes because of an access violation error (I guess no more addresses are available).\n\nI can replicate the problem each and every time with scatterer installed (alone, no other mods that use it). If I remove scatterer, the game is perfectly playable.\n\nWhat can I do? I would like to have those awesome graphics back!\n\n--------------------------\n\nEdit: I seem to have found a possible cause. There was a png file missing in the \u0022config\u0022 folder (in the log there is a series of \u0022IsolatedStorageException: Could not find file\u0022 errors). Maybe the code could be changed in order to make sure that if a file is not found scatterer doesn\u0027t start an endless loop.\n\n**Edited \u003Ctime datetime=\u00222016-10-28T11:33:28Z\u0022 title=\u002210/28/2016 11:33  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 28, 2016\u003C/time\u003E by Falco251**\n  \nAdded info"}]}