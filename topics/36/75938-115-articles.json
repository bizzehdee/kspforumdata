{"TopicId":75938,"ForumId":36,"TopicTitle":"[1.0.x] [V1.9f] Kerbal Foundries wheels, anti-grav repulsors and tracks","CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-06-25T17:24:04Z","PageNum":115,"Articles":[{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-12T21:12:57Z","Content":"\n\u003Cp\u003EUhm i dont know exactly where it was, my first guess are the firespitter float parts...they have a water effects toggle. Does that help?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-12T22:26:30Z","Content":"\n\u003Cp\u003EErrr. You can check if its colliding with the collider that gets created? The relevant stuff is in VesselTools\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-06-13T01:17:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tyren\u0022 data-cite=\u0022Tyren\u0022\u003E\u003Cdiv\u003EUhm i dont know exactly where it was, my first guess are the firespitter float parts...they have a water effects toggle. Does that help?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy question was specific to the KF source. The next release of the KF package will include dust effect emitters for the wheels and repulsors, which also means I\u0027ll need some way of detecting water repulsion so that the \u0022dust\u0022 can be made liquid-ish.... ish...\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EErrr. You can check if its colliding with the collider that gets created? The relevant stuff is in VesselTools\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I was just having some trouble figuring out when it\u0027s all active or not. Would you be opposed to me adding an \u0022isActive\u0022 boolean that I can call up in the repulsor dustFX module? I don\u0027t see any easier ways to do it.\u003C/p\u003E\u003Cp\u003EEDIT: On second thought... I can\u0027t even see where, anywhere in your code, you\u0027re checking if the collider is even necessary. Are those things always running the water colliders when active, and not just when over water? That would sure put small monkey wrench into my proverbial fan.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-13T01:31:52Z\u0022 title=\u002206/13/2015 01:31  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 13, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-13T09:29:56Z","Content":"\n\u003Cp\u003EI think it\u0027s running all the time.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-06-13T16:16:28Z","Content":"\n\u003Cp\u003EAlright then, back to the drawing board. I\u0027ve also been digging a bit into cameras for the idea of sampling the texture color under the collider. Not much luck there, unfortunately. There\u0027s lots of stuff about the cameras themselves, but no one really uses a camera without making it visible to the user, and there\u0027s even less information about the possibility of sampling the colors from a camera. Besides all that, we\u0027d need a way to gather the average color of the texture we\u0027re looking at and emit that, otherwise we\u0027d get dust that\u0027s changing color constantly due to the textures not being solid colors. I also got a chance to finally test out the emitter variables using GUI sliders, and discovered that I can control the apparent thickness of the particle with the \u0022energy\u0022 parameter instead of relying on an alpha level, but it looks like the \u0022emission\u0022 parameter really doesn\u0027t do much. I found that moving it to zero, of course, turned off the effect, but anything above zero had the same appearance. There doesn\u0027t appear to be any sort of scale parameter that I can find... yet... so there\u0027s not much chance of being able to make the effect bigger for things like the mole tracks, but that should be easily worked around now that we can emit from all of the colliders in a multi-collider set.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-13T17:04:04Z","Content":"\n\u003Cp\u003EHmmm, odd you can\u0027t scale. Try changing the scale of the GO that\u0027s created? Careful emitting from all colliders, could lead to performance issues.\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-13T19:54:06Z","Content":"\n\u003Cp\u003EHmm can you handle the dust via smokescreen plugin? Then you should be able to scale appearance, dissipation, fading and spread.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-13T23:52:54Z","Content":"\n\u003Cp\u003EPossibly, but I try to avoid dependencies like the plague. I\u0027ll have a rummage around the methods we\u0027re using; there must be a way.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-06-14T00:51:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EHmmm, odd you can\u0027t scale. Try changing the scale of the GO that\u0027s created? Careful emitting from all colliders, could lead to performance issues.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey, you\u0027re the one who made it happen, so don\u0027t blame me if your computer starts begging for death. Anyway, I have enough performance issues for a whole army, and I\u0027ve still managed to get away with rovers sporting over 20 wheels or wheel-colliders on each side without performance becoming a huge issue. Compared with a smkoescreen-style emission, in which I can get a near-crash when emitting a single effect, well... the possibility of this creating a huge problem is pretty small.\u003C/p\u003E\u003Cp\u003EWith that said... I have no idea what a \u0022GO\u0022 is nor how I would ever scale it. I\u0027m sure it\u0027s possible and all, I just haven\u0027t found that magic little code snippet.\u003C/p\u003E\u003Cp\u003EI\u0027d actually like to find out if there are other, possibly more appropriate, effects that I could use. Right now it\u0027s just using a light smoke effect. Would sure be nice if I could preview effects like that without loading them into the game. I\u0027m really missing the super-easy NIF model format that\u0027s used in Bethesda games. It sure made effect modding easy.\u003C/p\u003E\u003Cp\u003EEDIT: I discovered the min/maxSize properties of the particle emitter. Going to do some testing tomorrow and see what kind of effect they have. I\u0027m also experimenting with a \u0022grow\u0022 parameter in the color animation part. supposedly is handles a grow rate over the lifetime of the color animation, which is set up by the array of colors which, in DustFX, is the same for all the frames we populate it with. Without a clear idea of how much they will grow/shrink (I\u0027m experimenting with entering a negative number, hoping it will shrink over time), it\u0027ll take some experimentation. Knowing what KSP sets for the default values of these parameters when not set would sure be nice.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-14T05:40:59Z\u0022 title=\u002206/14/2015 05:40  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 14, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-06-14T14:26:55Z","Content":"\n\u003Cp\u003EFrom the department of hopelessly vague bug reports, this rover:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.chiark.greenend.org.uk/~damerell/games/ksp/mkii-rear.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.chiark.greenend.org.uk/~damerell/games/ksp/mkii-rear.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis looked like a plausible design until I got it off the runway and onto a rough surface. Then, intermittently, the middle or rear track is yanked backwards with some force, causing the whole rover body to distort.\u003C/p\u003E\u003Cp\u003ETwo KF medium tracks, one on the fore and aft panels, do something similar. One KF medium track in the middle with wheels fore and aft also does it. I haven\u0027t built a satisfactory rover with a KF medium track mounted behind any other part. Any ideas? Anything else I can do to test it?\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-14T14:38:14Z","Content":"\n\u003Cp\u003EI believe it\u0027s the game which causes this behavior. The ground is made of several \u0022patches\u0022. When driving over a \u0022seam\u0022 between patches the collision calculation can mess up leading to flips or even ripping the wheels off your rover. It\u0027s a bug in KSP.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-14T15:04:49Z","Content":"\n\u003Cp\u003EI\u0027ll get back to you, I\u0027ve noticed some odd things with the medium tracks that I\u0027ve not managed to narrow down. Anything in the logs? Sounds like it manages to get stuck in the ground, which is odd because there shouldn\u0027t be any anywhere near to get stuck.\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-14T15:26:07Z","Content":"\n\u003Cp\u003EI have driven them quite a lot and never had any issues...weird.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EExcept for some crashes due to memory, that is. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-14T15:28:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022*Aqua*\u0022 data-cite=\u0022*Aqua*\u0022\u003E\u003Cdiv\u003EI believe it\u0027s the game which causes this behavior. The ground is made of several \u0022patches\u0022. When driving over a \u0022seam\u0022 between patches the collision calculation can mess up leading to flips or even ripping the wheels off your rover. It\u0027s a bug in KSP.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that is annoying. I believe the collider for the ground is sort of created dynamically, and its this that causes that behaviour.\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-06-14T17:07:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EI\u0027ll get back to you, I\u0027ve noticed some odd things with the medium tracks that I\u0027ve not managed to narrow down. Anything in the logs? Sounds like it manages to get stuck in the ground, which is odd because there shouldn\u0027t be any anywhere near to get stuck.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m glad I experimented some more before I read your reply (best not to lead the witness); after a bit of fiddling, I\u0027d concluded it was always the medium track that caused the problem. Two long track pairs? Works fine. A half-track with wheels\u002B long track? Fine. A half-track with tiny tracks and long tracks? Fine. Invertible tracks? Fine, pity they run so slow. But anything I\u0027ve tried with medium tracks is prone to this.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-14T20:16:36Z","Content":"\n\u003Cp\u003EWait a minute. Are you using the latest version? Some of the older revisions had issues like that.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-06-14T21:13:22Z","Content":"\n\u003Cp\u003EI remember a rover I built long ago that had that problem with the medium wheels, and I was experiencing something similar recently with the medium wheels when transitioning from the runway to the planet surface. I\u0027m not convinced it\u0027s KF that\u0027s doing it though.\u003C/p\u003E\u003Cp\u003ESometimes, when running in less than high-quality planet details, the interaction between the ground and the wheels can become distorted and even \u0022sticky\u0022 which has led to an entire rover being ripped to tiny pieces. That was a sad day, but what was left of the rover still made it back to KSC somewhat intact.\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-14T21:35:58Z","Content":"\n\u003Cp\u003EThe height map is slightly.off with medium to low planetary details. The biomes miss somewhat like a smooth rendering at their edges, but still i couldnt reconstruct that issue. Weird.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-14T21:42:50Z","Content":"\n\u003Cp\u003EYep, there are certainly some weird things that go on..\u003C/p\u003E\u003Cp\u003EBy the way, everything is going to be all over the place in dev for the time being. I\u0027m trying out some new features! Rovers will be faster or slower to accelerate than usual because the wheels now react to vessel mass correctly - what Riocrokite was talking about. I\u0027m not sure if the methods are quite bullet proof enough yet, but the effects shouldn\u0027t be devastating. Also added some bits in for electronicfox and Zodius that will be useful for their stuff. More to look into on DustFX\u003C/p\u003E\u003Cp\u003ENew tracks are coming along nicely.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-06-14T21:54:30Z","Content":"\n\u003Cp\u003EOof, when release? XD lol\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-14T22:15:36Z","Content":"\n\u003Cp\u003EWorking as fast as I can \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E As usual, I\u0027ve bitten off quite a lot, so LOTS of testing/checking/panicking to do beforehand. electronicfox and Zodius are waiting on the plugin to be ready, but all the parts need an update to operate properly before I can do that. So much to do, but I hate releasing stuff unless I know there\u0027s a fighting chance it\u0027s pretty well (major) bug free.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAlso, I think I broke the biome colour stuff in DustFX. Sad \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-06-14T22:28:28Z","Content":"\n\u003Cp\u003ENo hurry on my part though \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Also, I noticed this odd bug where the screw drive will actually still be able to propel you when in water, despite a torque and RPM of 0.\u003C/p\u003E\u003Cp\u003E(Ignore the fact that the boat is partially capsized and the probe core is upside down)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://smg.photobucket.com/user/smjjames/media/screenshot54_zpsxmmqimnp.png.html\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://img.photobucket.com/albums/v214/smjjames/screenshot54_zpsxmmqimnp.png\u0022 alt=\u0022screenshot54_zpsxmmqimnp.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-14T22:44:04Z\u0022 title=\u002206/14/2015 10:44  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 14, 2015\u003C/time\u003E by smjjames\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-14T22:47:49Z","Content":"\n\u003Cp\u003EHahaha! That\u0027ll teach me to knock up modules for something silly without proper testing. I\u0027ll add that to the fix list...\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-14T22:54:56Z","Content":"\n\u003Cp\u003Eif i can be of any help, i am pretty skilled at panicking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnyway, just work it over step by step, thats some massive to do list youve got here...^^\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-14T23:40:10Z","Content":"\n\u003Cp\u003EAh, excellent! It just so happens we have an opportunity...\u003C/p\u003E\u003Cp\u003EJust a little teaser:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/2YwCw9w.png\u0022 alt=\u00222YwCw9w.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIgnore the temporary textures.\u003C/p\u003E\u003Cp\u003EEDIT: also ignore the rollcage being too big. Blame the silly default scale factor.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-14T23:56:42Z\u0022 title=\u002206/14/2015 11:56  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 14, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"}]}