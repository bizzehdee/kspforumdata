{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":35,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-27T18:35:52Z","Content":"I just fixed the blending issues (look at the stars near the horizon), ignore the artifacts in lower left, these are caused by some stuff I\u0027m testing for the reflected light.\n\n![JMrSRiC.jpg](http://i.imgur.com/JMrSRiC.jpg)\n\nCeiling effect (non-smooth transition to space) is now also fixed\n\n![qmu7Z2W.jpg](http://i.imgur.com/qmu7Z2W.jpg)"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2015-05-27T18:45:04Z","Content":"\u003E \n\u003E I just fixed the blending issues (look at the stars near the horizon), ignore the artifacts in lower left, these are caused by some stuff I\u0027m testing for the reflected light.\n\u003E [http://i.imgur.com/JMrSRiC.jpg](http://i.imgur.com/JMrSRiC.jpg)\n\u003E \n\u003E Ceiling effect (non-smooth transition to space) is now also fixed\n\u003E \n\u003E [http://i.imgur.com/qmu7Z2W.jpg](http://i.imgur.com/qmu7Z2W.jpg)\n\nNice! Not to downplay the truly epicness of what you\u0027ve already done, but. That looks a lot smoother than before. Keep it up man."},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-05-27T19:05:52Z","Content":"Man, that\u0027s looking really good. This mod has become a must-have for me. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-05-27T19:23:18Z","Content":"\u003E \n\u003E Man, that\u0027s looking really good. This mod has become a must-have for me. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nThis, word for word. Great work, blackrack."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-05-27T20:53:00Z","Content":"\u003E \n\u003E I just fixed the blending issues (look at the stars near the horizon), ignore the artifacts in lower left, these are caused by some stuff I\u0027m testing for the reflected light.\n\u003E [http://i.imgur.com/JMrSRiC.jpg](http://i.imgur.com/JMrSRiC.jpg)\n\u003E \n\u003E Ceiling effect (non-smooth transition to space) is now also fixed\n\u003E \n\u003E [http://i.imgur.com/qmu7Z2W.jpg](http://i.imgur.com/qmu7Z2W.jpg)\n\nDude! Amazing!"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-05-27T20:56:21Z","Content":"Looks insanely good Blackrack!!\n\nBTW, I\u0027ve found a bug in the actual version, if you use it with Kopernicus mod. I\u0027m not sure if comes from the Kopernicus particle system or if it is an issue caused by Scatterer\u0027s flare problems in the last version. I\u0027ll try to send you a pic ASAP."},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2015-05-27T22:51:49Z","Content":"Looking beautiful!\n\nAlso I really hope you get a chance to look at the ocean shader again sometime soon. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Windspren","CreatedById":134441,"CreatedDateTime":"2015-05-28T03:23:37Z","Content":"Why, oh why, hasn\u0027t this been featured in Modding Monday\u0027s??? SQUAD, I\u0027m looking at you!"},{"CreatedByName":"Errol","CreatedById":118622,"CreatedDateTime":"2015-05-28T04:58:26Z","Content":"I could be wrong, but I\u0027m pretty sure it has been featured at some point earlier in it\u0027s development on monding mondays already."},{"CreatedByName":"mythbusters844","CreatedById":72313,"CreatedDateTime":"2015-05-28T05:07:24Z","Content":"Dude, I just want to tell you that your mod is absolutely amazing and well-made. Can\u0027t wait to see where this mod will go.\n\n\u003E \n\u003E is okay he will be fixed soon\n\nAlready answered:\n\n\u003E \n\u003E I\u0027m doing this when I get some free time."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-28T09:50:42Z","Content":"\u003E \n\u003E Looks insanely good Blackrack!!\n\u003E BTW, I\u0027ve found a bug in the actual version, if you use it with Kopernicus mod. I\u0027m not sure if comes from the Kopernicus particle system or if it is an issue caused by Scatterer\u0027s flare problems in the last version. I\u0027ll try to send you a pic ASAP.\n\nThanks, you could just post a screen and we\u0027ll see what it is.\n\n\u003E \n\u003E I could be wrong, but I\u0027m pretty sure it has been featured at some point earlier in it\u0027s development on monding mondays already.\n\nIt was featured on a twitter post before.\n\n**Edited \u003Ctime datetime=\u00222015-05-28T12:28:18Z\u0022 title=\u002205/28/2015 12:28  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 28, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"brusura","CreatedById":57899,"CreatedDateTime":"2015-05-28T19:34:53Z","Content":"Nice ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) keep up the good work"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2015-05-28T21:18:27Z","Content":"When you are in the atmosphere and switch to map view, the sunlit side of Kerbin is solid blue. If you then turn/rotate view, a half-blue, half-black ball will be visible next to the planet. Is it intended or is something wrong?"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-05-28T21:20:06Z","Content":"\u003E \n\u003E When you are in the atmosphere and switch to map view, the sunlit side of Kerbin is solid blue. If you then turn/rotate view, a half-blue, half-black ball will be visible next to the planet. Is it intended or is something wrong?\n\nFrom the OP:\n\n\u003E \n\u003E **Known issues of newest version**:\n\u003E -Map view lags behind and has issues with the effect covering the planet when on the ground\n\u003E \n\u003E \n\u003E \n\u003E **Try to read at least 10 pages back and check the known issues section in the OP before posting**"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-05-29T03:36:08Z","Content":"Sorry for the lateness... you know, RL.\n\nOk, this seems to be a bit random, so I could not do a better pic in this \u0022round\u0022:\n\n![FJEI2Sk.jpg](http://i.imgur.com/FJEI2Sk.jpg)\n\nSeems like scatterer\u0027s black texture is interfering with the particle system of Kopernicus mod (used in the sun). Could be a bug in the camera order, but I was thinking too that this could be a problem related to the blending issues in the last version. So if you fixed it, don\u0027t be worried for this. We will see if this remains in the next version."},{"CreatedByName":"Valerian","CreatedById":124076,"CreatedDateTime":"2015-05-29T04:08:19Z","Content":"\u003E \n\u003E When you are in the atmosphere and switch to map view, the sunlit side of Kerbin is solid blue. If you then turn/rotate view, a half-blue, half-black ball will be visible next to the planet. Is it intended or is something wrong?\n\nPlanetShine also have this issue (without Scatterer), sorry for that, I\u0027m aware of this bug but I will only fix it in the next big release of PlanetShine for which I am recoding almost everything, so it will take time."},{"CreatedByName":"Terrible Inclinations","CreatedById":111011,"CreatedDateTime":"2015-05-29T05:18:24Z","Content":"![NK1dLnJ.png](http://i.imgur.com/NK1dLnJ.png)\n\n![U6rs7x5.jpg](http://i.imgur.com/U6rs7x5.jpg)\n\nSo good. I dont think I can ever actually yank this out of my install"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-29T06:53:29Z","Content":"\u003E \n\u003E Sorry for the lateness... you know, RL.\n\u003E Ok, this seems to be a bit random, so I could not do a better pic in this \u0022round\u0022:\n\u003E \n\u003E [http://i.imgur.com/FJEI2Sk.jpg](http://i.imgur.com/FJEI2Sk.jpg)\n\u003E \n\u003E Seems like scatterer\u0027s black texture is interfering with the particle system of Kopernicus mod (used in the sun). Could be a bug in the camera order, but I was thinking too that this could be a problem related to the blending issues in the last version. So if you fixed it, don\u0027t be worried for this. We will see if this remains in the next version.\n\nWhat is the exact problem? The sun rendering over the sky or the artifacts on the sun?\n\nIf it\u0027s the first it\u0027s definitely a render order issue, should be easy to fix but we\u0027ll have to see how the copernicus dev does things."},{"CreatedByName":"Monkthespy","CreatedById":7644,"CreatedDateTime":"2015-05-29T07:39:18Z","Content":"\u003E \n\u003E -snip-\n\u003E So good. I dont think I can ever actually yank this out of my install\n\nCan you share your reshade settings? This looks very nice."},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-05-29T09:24:58Z","Content":"**@Terrible Inclinations** is that a photoshop in the first image or the new engine lighting mod?"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-29T16:44:13Z","Content":"\u003E \n\u003E **@Terrible Inclinations** is that a photoshop in the first image or the new engine lighting mod?\n\nI believe [thread=121987]this is[/thread] what you are looking for, it was in this week\u0027s [thread=123055]Modding Monday[/thread]."},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-05-29T17:19:55Z","Content":"\u003E \n\u003E **@Terrible Inclinations** is that a photoshop in the first image or the new engine lighting mod?\n\nengine lighting mod \u002B ReShade (a pack of shaders not related to KSP). But I must warn this: if you don\u0027t have a high profile video card, effects are FPS eaters. Not worth it, IMHO.\n\n\u003E \n\u003E What is the exact problem? The sun rendering over the sky or the artifacts on the sun?\n\u003E If it\u0027s the first it\u0027s definitely a render order issue, should be easy to fix but we\u0027ll have to see how the copernicus dev does things.\n\nI bet for the second. But I\u0027m not realy sure. From the sun, sometimes, the black texture seem to crossbreed with the particles. In other occasions the flare appears displaced and the sun particles looks well (despite the black blending issue)."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-29T19:47:39Z","Content":"I managed to fix a problem where the water randomly disappears at some angles and when closing in on it so here\u0027s a little close-up:\n\n![D4NKAYi.jpg](http://i.imgur.com/D4NKAYi.jpg)\n\n(don\u0027t worry if the reflexion looks a little low-quality, I have it set to lowest quality so this laptop doesn\u0027t burn up)\n\nThere\u0027s still the problem with the water moving around but I\u0027m working on it.\n\n\u003E \n\u003E engine lighting mod \u002B ReShade (a pack of shaders not related to KSP). But I must warn this: if you don\u0027t have a high profile video card, effects are FPS eaters. Not worth it, IMHO.\n\u003E I bet for the second. But I\u0027m not realy sure. From the sun, sometimes, the black texture seem to crossbreed with the particles. In other occasions the flare appears displaced and the sun particles looks well (despite the black blending issue).\n\nI guess I\u0027ll have to test it out with kopernicus then.\n\n**Edited:**\n\nAlso, with the new blending method stellar objects are visible in the sky even at 100% opacity.\n\nThis allows to see the moon without having to sacrifice the sky\u0027s color by loweing alpha to something like 70%, but it may also look somewhat unrealistic, as the dark portions of the moon shouldn\u0027t be visible at all.\n\n![JKnOBMQ.jpg](http://i.imgur.com/JKnOBMQ.jpg)\n\nIn later versions I could still roll it back to the old method for when on the ground if you guys think it looks better ( see this pic [http://i.imgur.com/7Y2rjUI.jpg](http://i.imgur.com/7Y2rjUI.jpg) proot posted about 10-20 pages back for what the moon and the sky looked like with lowered atmosphere alpha).\n\nIf i\u0027m not mistaken, new blending method should also have fixed the \u0022space cuts to black after a certain altitude\u0022 bug some people were getting.\n\n**Edited \u003Ctime datetime=\u00222015-05-29T20:06:13Z\u0022 title=\u002205/29/2015 08:06  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 29, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-05-29T20:15:31Z","Content":"\u003E \n\u003E I managed to fix a problem where the water randomly disappears at some angles and when closing in on it so here\u0027s a little close-up:\n\u003E [http://i.imgur.com/D4NKAYi.jpg](http://i.imgur.com/D4NKAYi.jpg)\n\u003E \n\u003E (don\u0027t worry if the reflexion looks a little low-quality, I have it set to lowest quality so this laptop doesn\u0027t burn up)\n\u003E \n\u003E There\u0027s still the problem with the water moving around but I\u0027m working on it.\n\u003E \n\u003E I guess I\u0027ll have to test it out with kopernicus then.\n\u003E \n\u003E **Edited:**\n\u003E \n\u003E Also, with the new blending method stellar objects are visible in the sky even at 100% opacity.\n\u003E \n\u003E This allows to see the moon without having to sacrifice the sky\u0027s color by loweing alpha to something like 70%, but it may also look somewhat unrealistic, as the dark portions of the moon shouldn\u0027t be visible at all.\n\u003E \n\u003E [http://i.imgur.com/JKnOBMQ.jpg](http://i.imgur.com/JKnOBMQ.jpg)\n\u003E \n\u003E In later versions I could still roll it back to the old method for when on the ground if you guys think it looks better ( see this pic [http://i.imgur.com/7Y2rjUI.jpg](http://i.imgur.com/7Y2rjUI.jpg) proot posted about 10-20 pages back for what the moon and the sky looked like with lowered atmosphere alpha).\n\nWait, Low quality??? I\u0027m here, drooling for multiplanet, and you left us this marvelous!!!\n\nFrom the stock sea to that \u0022low quality\u0022... light years of difference! the water shader is static or have surface\u0027s animation? It\u0027s configurable?\n\nSorry if I\u0027m asking too much, but is simply awesome.\n\nBTW I like the visible near bodies feature. Maybe with Planet Shine mod you can get the dark sides back.\n\nCongrats man, huge step on."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-05-29T20:25:10Z","Content":"\u003E \n\u003E Wait, Low quality??? I\u0027m here, drooling for multiplanet, and you left us this marvelous!!!\n\u003E From the stock sea to that \u0022low quality\u0022... light years of difference! the water shader is static or have surface\u0027s animation? It\u0027s configurable?\n\u003E \n\u003E Sorry if I\u0027m asking too much, but is simply awesome.\n\u003E \n\u003E BTW I like the visible near bodies feature. Maybe with Planet Shine mod you can get the dark sides back.\n\u003E \n\u003E Congrats man, huge step on.\n\nThanks a lot man.\n\nThe surface has animated waves, their speed and height is configurable. The water color is also configurable but the reflected color matches that of the sky and the sun has it\u0027s own reflexion. There are also some gridsize and resolution settings, these control the overall quality, I set those a little low so the reflection looks a bit blurry in my screen.\n\nThe ocean looks and moves similarly to the one in this video\n\n\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/jL9BKTkTMY4?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n but doesn\u0027t have that jarring tiling effect.\nLet\u0027s just hope I can fix the few remaining problems with it."}]}