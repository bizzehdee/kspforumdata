{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":52,"Articles":[{"CreatedByName":"GorillaZilla","CreatedById":100625,"CreatedDateTime":"2015-07-28T20:56:03Z","Content":"Just finished reading through all 128 pages and have to say Im Really loving your work on the scatterer mod, and love how you and Rbray are working together, so hopefully Scatterer and New E.V.E will work really well together and not step on each others toes... I love seeing how you, rbray, Valerian and other visual enhancements modders are taking an interest in each other\u0027s works and helping out and working on making everyones Work all play nice and come together, working off of and accounting for each other to make amazing visuals without tripping over each other and making artefacts ect.\n\nThe screenshots that PingoPete has been comming up with from his work on the E.V.E/scatterer ect visual pack for Real Solar system are looking impossibly beautiful, same with Proot\u0027s Work in progress pack, Thanks for helping make the work they are doing possible :-)\n\nThose water shaders... animated waves... amazing... Best of luck getting them to behave in KSP because they would be really nice to see :-)\n\nAlso Looking forward to KSP moving to Unity 5 and the possibilities it presents. I\u0027m trying to imagine what it will look like when Scatterer, New E.V.E, Texture Replacer, Planetshine, Kopernicus, distant object enhancement, And all the other little visual enhancement mods like Engine lighting, Window/solarpanel reflections ect... \n\nAll come together under a hopefully 64 bit Unity 5 KSP in the future ![^_^](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png)\n\nI hope to put a really nice realistic but uncomplicated build of KSP together for my nephew once he is old enough. And do a few career mode runs though it to make sure it\u0027s stable and no problems, as I\u0027d want him to have the best first impressions of KSP :-)"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-28T21:02:18Z","Content":"\u003E \n\u003E Just finished reading through all 128 pages and have to say Im Really loving your work on the scatterer mod, and love how you and Rbray are working together, so hopefully Scatterer and New E.V.E will work really well together and not step on each others toes... I love seeing how you, rbray, Valerian and other visual enhancements modders are taking an interest in each other\u0027s works and helping out and working on making everyones Work all play nice and come together, working off of and accounting for each other to make amazing visuals without tripping over each other and making artefacts ect.\n\u003E The screenshots that PingoPete has been comming up with from his work on the E.V.E/scatterer ect visual pack for Real Solar system are looking impossibly beautiful, same with Proot\u0027s Work in progress pack, Thanks for helping make the work they are doing possible :-)\n\u003E \n\u003E Those water shaders... animated waves... amazing... Best of luck getting them to behave in KSP because they would be really nice to see :-)\n\u003E \n\u003E Also Looking forward to KSP moving to Unity 5 and the possibilities it presents. I\u0027m trying to imagine what it will look like when Scatterer, New E.V.E, Texture Replacer, Planetshine, Kopernicus, distant object enhancement, And all the other little visual enhancement mods like Engine lighting, Window/solarpanel reflections ect... \n\u003E \n\u003E All come together under a hopefully 64 bit Unity 5 KSP in the future ![^_^](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png)\n\u003E \n\u003E I hope to put a really nice realistic but uncomplicated build of KSP together for my nephew once he is old enough. And do a few career mode runs though it to make sure it\u0027s stable and no problems, as I\u0027d want him to have the best first impressions of KSP :-)\n\nIs there a \u0022best post of the month\u0022 award out there? Because hands down you just won it. Cudos to you and thanks a ton for the recap (and partial mention-y thing sort of!). I couldn\u0027t have stated that better if I tried. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"GorillaZilla","CreatedById":100625,"CreatedDateTime":"2015-07-28T21:14:36Z","Content":"Thanks, I see you chaps doing amazing things, making the KSP I enjoy better and better seemingly without end and want to help, but I\u0027ve no modding ability whatsoever beyond just changing simple numerical entries in CFGs to make an engine produce more or less thrust ect so all I can do is read through the threads in wonderment and give whatever encouragement I can, let you know how much what you do is appreciated ![^_^](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png)\n\nYour windowshine is the finishing touch on this Screenshot of PingoPetes work on his real solar system visual pack using The mentioned foundation mods It\u0027s only a small part of the whole, but that subtle reflection in the solar panels just perfects the scene...\n\n![QFuBT7v.png](http://i.imgur.com/QFuBT7v.png)\n\nAnd when I said \u0022impossibly beautiful for KSP\u0022 in reference to PingoPete\u0027s current work, that screenshot is the one I\u0027m thinking of :-)\n\n**Edited \u003Ctime datetime=\u00222015-07-29T22:40:01Z\u0022 title=\u002207/29/2015 10:40  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 29, 2015\u003C/time\u003E by GorillaZilla**"},{"CreatedByName":"HoloYolo","CreatedById":138353,"CreatedDateTime":"2015-07-28T22:07:27Z","Content":"Can you do this for Eve, Jool, Laythe, and Duna too?"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-28T23:44:47Z","Content":"\u003E \n\u003E Can you do this for Eve, Jool, Laythe, and Duna too?\n\n\u003E \n\u003E So, can anybody think of an easy way to detect an eclipse? I need to hide the sunflare I\u0027m adding when on laythe and jool occludes the sun.\n\u003E If I cast a ray, will it work in scaledspace? Do the scaledspace objects have colliders?\n\n![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) I think the answer is yissss"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-07-29T00:29:18Z","Content":"Hey blackrack, I had just one more question, I don\u0027t suppose there\u0027s anyway to alter the scale of the sunflare texture used in scatterer? I noticed it can have any resolution (good thing for RSS/RVE ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\n**Edited \u003Ctime datetime=\u00222015-07-29T15:48:10Z\u0022 title=\u002207/29/2015 03:48  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 29, 2015\u003C/time\u003E by pingopete**"},{"CreatedByName":"Gampersnaz","CreatedById":147919,"CreatedDateTime":"2015-07-29T15:48:44Z","Content":"When I use this mod, my first launch goes fine. When I go back to the VAB and launch a new rocket, the sky is either bright red, bright green, or black. The game then crashes next time I change scenes. This is my only mod other than the stock part revamp. I have an i7 3770k, GTX 780, and 16 GB RAM. I have tried forcing dx11 and open gl, played with anti-aliasing settings, re installed, and rolled back video drivers. I can\u0027t imagine many people are experiencing this problem as it seems to be fairly successful. Any suggestions? I love this mod, and just want it working for more than one launch.\n\n**Edited \u003Ctime datetime=\u00222015-07-29T15:52:07Z\u0022 title=\u002207/29/2015 03:52  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 29, 2015\u003C/time\u003E by Gampersnaz**"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2015-07-29T17:03:53Z","Content":"Hello Scatterer community!\n\nI\u0027ve got a little problem with my setting file (config/Settings.txt), when i leave the game normaly (by the menu) the setting file is erase by other settings. I\u0027ve got two ways for this,either I make a back up, or I leave the game by Alt\u002BF4.\n\nDoes anyone else have this problem?"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-29T17:28:53Z","Content":"\u003E \n\u003E Hey blackrack, I had just one more question, I don\u0027t suppose there\u0027s anyway to alter the scale of the sunflare texture used in scatterer? I noticed it can have any resolution (good thing for RSS/RVE ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nThat would be quite handy if so... It sounded like the sunflare in RSS was just about the only thing that really annoyed you."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-29T17:40:37Z","Content":"\u003E \n\u003E Hey blackrack, I had just one more question, I don\u0027t suppose there\u0027s anyway to alter the scale of the sunflare texture used in scatterer? I noticed it can have any resolution (good thing for RSS/RVE ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nThere isn\u0027t a way currently but I could implement one. Since I\u0027m implementing the raycast thing next I could also extend the sunflare to work outside of the atmosphere and make it into a full sunflare replacement. Just one question, if you replace the sunflare texture with a higher res one, does it actually work but stay at the same scale? I actually thought it would scale up.\n\n\u003E \n\u003E When I use this mod, my first launch goes fine. When I go back to the VAB and launch a new rocket, the sky is either bright red, bright green, or black. The game then crashes next time I change scenes. This is my only mod other than the stock part revamp. I have an i7 3770k, GTX 780, and 16 GB RAM. I have tried forcing dx11 and open gl, played with anti-aliasing settings, re installed, and rolled back video drivers. I can\u0027t imagine many people are experiencing this problem as it seems to be fairly successful. Any suggestions? I love this mod, and just want it working for more than one launch.\n\nNo idea what might be happening, check log for issues.\n\nAlso, the \u0022black sky at random\u0022 is apparently a very common bug but never happened to me before I started working on multiplanets, so now I\u0027m trying to fix it.\n\n\u003E \n\u003E Hello Scatterer community!\n\u003E I\u0027ve got a little problem with my setting file (config/Settings.txt), when i leave the game normaly (by the menu) the setting file is erase by other settings. I\u0027ve got two ways for this,either I make a back up, or I leave the game by Alt\u002BF4.\n\u003E \n\u003E Does anyone else have this problem?\n\nWhat does erased by other settings mean? The default settings? Are all the config points erased? Also, you could just set the settings file to read-only and that should solve it."},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-07-29T18:04:20Z","Content":"\u003E \n\u003E There isn\u0027t a way currently but I could implement one. Since I\u0027m implementing the raycast thing next I could also extend the sunflare to work outside of the atmosphere and make it into a full sunflare replacement. Just one question, if you replace the sunflare texture with a higher res one, does it actually work but stay at the same scale? I actually thought it would scale up.\n\nYeah I gave it a test, the scale stays the same, so a much res sun flare texture with a proportionately smaller actual flare just gives a smaller sun flare in game currently. And thanks, That\u0027d be SUPER handy for RSS!!\n\n\u003E \n\u003E That would be quite handy if so... It sounded like the sunflare in RSS was just about the only thing that really annoyed you.\n\nWell.. not the *only* thing ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif) It\u0027s just that using the shared assets method means the resolution is fixed and so looks pretty low res at RSS scales :/\n\n**Edited \u003Ctime datetime=\u00222015-07-29T18:08:10Z\u0022 title=\u002207/29/2015 06:08  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 29, 2015\u003C/time\u003E by pingopete**"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-29T18:55:17Z","Content":"\u003E Well.. not the *only* thing ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif) It\u0027s just that using the shared assets method means the resolution is fixed and so looks pretty low res at RSS scales :/\n\nThere is always the option of designing a texture that\u0027s blurred enough that it has no jagged pixels... I\u0027ve had to do that a number of times when making custom textures. Though I\u0027m not sure how well it would work with a sun flare ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-07-29T22:39:53Z","Content":"\u003E \n\u003E There is always the option of designing a texture that\u0027s blurred enough that it has no jagged pixels... I\u0027ve had to do that a number of times when making custom textures. Though I\u0027m not sure how well it would work with a sun flare ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nYeah Astronomer suggested the same thing, when I tried it helped a little but the flare still lacks that true HD\u0027ness ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-29T22:46:17Z","Content":"\u003E \n\u003E Yeah Astronomer suggested the same thing, when I tried it helped a little but the flare still lacks that true HD\u0027ness ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nSo I guess I\u0027m not the only one.\n\nWait... You\u0027ve had recent contact with Astronomer?!? ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-07-30T00:31:28Z","Content":"Blackrack, has changed the config tool with the new version?\n\nI mean, to use atmos generated before the update will look right?"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-30T02:36:57Z","Content":"I just took a peek at your image files. Any particular reason they are .png images? I could convert them for you if you like... ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nEDIT:\n\nWOAH!\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/zFv0t)\n\nI increased pixel light count from default 8 to 12 through the in game settings tab and when I applied the settings it did this. IT LOOKS SO COOL I DON\u0027T EVEN WANT TO CALL IT A BUG XD\n\nIt vanished on game reboot.\n\nOh and imgur told me that this is a new picture of the earth. I think it\u0027s a pretty good template of scattering and atmospheric effects:\n\n\u003E ![OwmFjkz.png](http://i.imgur.com/OwmFjkz.png)\n\nMight be useful, might not ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\n**Edited \u003Ctime datetime=\u00222015-07-30T03:07:35Z\u0022 title=\u002207/30/2015 03:07  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 30, 2015\u003C/time\u003E by Avera9eJoe**"},{"CreatedByName":"tkw","CreatedById":142638,"CreatedDateTime":"2015-07-30T03:15:54Z","Content":"this is goes to the jool looks green ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-30T06:56:43Z","Content":"\u003E \n\u003E Blackrack, has changed the config tool with the new version?\n\u003E I mean, to use atmos generated before the update will look right?\n\nI changed nothing, they should work the same.\n\n\u003E \n\u003E I just took a peek at your image files. Any particular reason they are .png images? I could convert them for you if you like... ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nWhat image files?"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-30T07:04:14Z","Content":"\u003E \n\u003E What image files?\n\nThese two images:\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/0ule6)\n\nI think those are the only two images currently in scatterer lol"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-30T07:24:36Z","Content":"\u003E \n\u003E These two images:\n\u003E [http://imgur.com/a/0ule6](http://imgur.com/a/0ule6)\n\u003E \n\u003E I think those are the only two images currently in scatterer lol\n\nNot sure if these would work if you change them to dds but the gain is completely negligible anyway."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-07-30T07:46:14Z","Content":"\u003E \n\u003E Not sure if these would work if you change them to dds but the gain is completely negligible anyway.\n\nYou can never optimize *too* much... ![F5CB59F85FB1C445802CFC85204269D9C02FADB4](http://cloud-4.steamusercontent.com/ugc/885234158935968876/F5CB59F85FB1C445802CFC85204269D9C02FADB4/)"},{"CreatedByName":"Gampersnaz","CreatedById":147919,"CreatedDateTime":"2015-07-30T14:24:11Z","Content":"\u003E \n\u003E I just took a peek at your image files. Any particular reason they are .png images? I could convert them for you if you like... ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\u003E EDIT:\n\u003E \n\u003E WOAH!\n\u003E \n\u003E [http://imgur.com/a/zFv0t](http://imgur.com/a/zFv0t)\n\u003E \n\u003E I increased pixel light count from default 8 to 12 through the in game settings tab and when I applied the settings it did this. IT LOOKS SO COOL I DON\u0027T EVEN WANT TO CALL IT A BUG XD\n\u003E \n\u003E It vanished on game reboot.\n\u003E \n\u003E Oh and imgur told me that this is a new picture of the earth. I think it\u0027s a pretty good template of scattering and atmospheric effects:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003E [http://i.imgur.com/OwmFjkz.png](http://i.imgur.com/OwmFjkz.png)\n\u003E \n\u003E \n\u003E Might be useful, might not ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nThis is what was happening to me. Sometimes it\u0027s red haha"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-30T14:39:28Z","Content":"\u003E \n\u003E This is what was happening to me. Sometimes it\u0027s red haha\n\nIs this a completely new bug with the new version or has it been happening for a while?\n\nDoes it work if you turn pixel light count back to 8?"},{"CreatedByName":"Gampersnaz","CreatedById":147919,"CreatedDateTime":"2015-07-30T15:35:22Z","Content":"\u003E \n\u003E Is this a completely new bug with the new version or has it been happening for a while?\n\u003E Does it work if you turn pixel light count back to 8?\n\nNot sure if it\u0027s a new bug. I installed it just the other day for the first time. Pixel light count makes no difference. I managed to get it working more often by running with -force-d3d11-no-singlethreaded, but it still only gives me three or four scene changes before crashing the game.\n\nEDIT: Ummm, it seems to work fine now...? I had a driver update so maybe that was it. I have my pixel light count at 12, dx11 enabled, fxaa enabled, all that stuff. looks really nice ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Sorry I couldn\u0027t be of more help diagnosing the problem, but I just played for a while with no issues. The odd blip when coming out of the pause menu, but that\u0027s it.\n\n**Edited \u003Ctime datetime=\u00222015-07-30T15:47:10Z\u0022 title=\u002207/30/2015 03:47  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 30, 2015\u003C/time\u003E by Gampersnaz**"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2015-07-30T16:14:48Z","Content":"\u003E \n\u003E If either of you figure out how to have a moon cast a shadow on a planet I will buy you a beverage of your choice. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n\u003E \n\u003E Already working on it. I\u0027m re-jiggering the shadow mechanism I created for the clouds to work for moons as well ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nWhat are the reasons for the standard KSP-Unity lighting system not being capable of doing this? I made a crude attempt to see what had prevented Squad from doing it, but I don\u0027t know enough about shaders or Unity rendering setups to parse what I\u0027m seeing. I used a simple sphere, scaled and positioned, with shadows enabled for the ScaledSpace bodies and light:\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/ac9fx)"}]}