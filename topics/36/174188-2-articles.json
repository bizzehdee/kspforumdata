{"TopicId":174188,"ForumId":36,"TopicTitle":"[1.12.x] Textures Unlimited Recolour Depot","CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-04-22T19:40:04Z","PageNum":2,"Articles":[{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-24T17:40:57Z","Content":"\n\u003Cp\u003E\nI\u0027ve added a config set to the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E which implements the familiar \u0022make it shiny\u0022 metallic setup and falls in line with the standardised switching. It\u0027s mainly so engines don\u0027t just sit on the stock shader. With a bit of find and replacing it can be used to make further patches for variations of a theme and more.\n\u003C/p\u003E\n"},{"CreatedByName":"Chimichanga","CreatedById":144936,"CreatedDateTime":"2018-09-26T00:41:46Z","Content":"\n\u003Cp\u003E\n\u003Cimg alt=\u00222vb17Z9.png\u0022 class=\u0022ipsImage\u0022 height=\u0022605\u0022 src=\u0022https://i.imgur.com/2vb17Z9.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSuperb!\u00A0 Oh, where has this mod been all my life?!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m sure it\u0027s on your radar, but about those Making History parts.....\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-26T14:03:12Z","Content":"\n\u003Cp\u003E\nHeh, I did the same when workshop went live with someones SR-71 craft. As for Making History...one day, though a lot of the parts have stock variants system in place from memory and it doesn\u0027t play well with the custom recolour module right now. Basically, you\u0027d be able to paint them in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E / \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E but it will revert to no paint when launched.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s been a really small update to MK3 Expansion config and the stock recolour pack. Something slipped in the stock pack that I\u0027d completely forgotten I had done. It was a quick test months ago and initially I was just going to remove it but instead I touched it up so it is more inline with what I had intended to do but never got round to. It also fixes a missing part of a colour map. MK3 \u0022fix\u0022 was the \u0022oh I forgot to do something\u0022 I mentioned previously.\n\u003C/p\u003E\n\u003Cp\u003E\nIf people notice things that seem wonky, please let me know. While I am aware quite a few\u00A0colour maps still need polishing because converting them from KerbPaint to TU screwed with them a little, I might miss some issues since I don\u0027t currently\u00A0play the game and only really look at parts as and when I\u0027m editing them.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-26T19:53:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458154\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537970592\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthough a lot of the parts have stock variants system in place from memory and it doesn\u0027t play well with the custom recolour module right now\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you are \u0027updating\u0027 the parts to use TU -- you can remove all of that stock part-variant stuff and use TU\u0027s \u0027KSPTextureSwitch\u0027 part-module for texture switching (if even needed).\u00A0 Its a bit more aggressive of a patch, but there really is no way to get both TU \u002B the stock system to play nicely together (mostly because I cannot change the stock code, and it is written with so many assumptions on part/model/material/shader setup).\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2018-09-26T20:44:08Z","Content":"\n\u003Cp\u003E\nDoes it not work to have the RGB map texture as one of the variants, then also add part recoloring?\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-26T20:44:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458318\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537991584\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n...you can remove all of that stock part-variant stuff and use TU\u0027s \u0027KSPTextureSwitch\u0027 part-module for texture switching (if even needed).\u00A0 Its a bit more aggressive of a patch...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, this is the road I started down back in April for the new jumbo fuel tanks. It hit a dead end there because\u00A0the orange tanks .mu file seems to not have a collider mesh. I was basically going to set them up as separate parts but when doing so the orange tank could not be interacted with once it was placed. I could be wrong\u00A0but I am assuming that it is the collider that KSP uses to determine if you have moused over a part. For stock parts that literally just change texture with variants it would be perfectly viable however.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458339\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537994648\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes it not work to have the RGB map texture as one of the variants, then also add part recoloring?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI did attempt to fudge something like this back then also. I got the shader to apply through variants with fixed colours and added an empty texture\u00A0switch setup with recolour module. I didn\u0027t get it to work but that\u0027s not to say it isn\u0027t possible.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnother edit: Hmmm, I just had another look and Squad have changed how the Rockomax tanks are configured with variants somewhere between 1.4.1 and 1.4.5. Time to fiddle.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-26T21:07:32Z\u0022 title=\u002209/26/2018 09:07  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 26, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-26T21:07:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458340\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537994651\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt hit a dead end there because\u00A0the orange tanks .mu file seems to not have a collider mesh.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nInteresting... I haven\u0027t investigated the stock part-variant system much (undocumented, no source access), so I couldn\u0027t say for certain how they have those parts set up.\u00A0 A brief look at the part configs would hint that they are using a single model, and selectively enabling/disabling specific meshes based on the variant (something not supported by TU) -- as the collider mesh is not listed in the variants, I would assume it is always part of the model.mu.\u00A0 Perhaps that transform is \u0027disabled by default\u0027 in the model file, and only enabled specifically by the variant system at runtime?\u00A0 Thus when you use the model \u0027normally\u0027 -- it lacks a collider?\n\u003C/p\u003E\n\u003Cp\u003E\nHmm.... yeah.... not sure TU could really support such a setup without branching out into some really ugly areas (model manipulation).\u00A0 I didn\u0027t realize stock was doing silly things like that...\n\u003C/p\u003E\n\u003Cp\u003E\nWill give it some thought though.\u00A0 Might be able to come up with a solution specifically to allow for support of those parts... without branching into dynamic model manipulation.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-26T21:22:34Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0Yeah, that\u0027s what I just found, they enable or disable the tube mesh from within a single model file. Back in 1.4.1, there were two distinct mu files for B\u0026amp;W and Orange.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-26T21:44:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458352\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537996954\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBack in 1.4.1, there were two distinct mu files for B\u0026amp;W and Orange.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhich is, IMO, the only proper way to do it.\u00A0 Two separate models?\u00A0 Put them in two separate files....\n\u003C/p\u003E\n\u003Cp\u003E\n(sadly, even that would not help solve this problem;\u00A0 stock was never supposed to have mesh-switching, as stated by previous devs multiple times, and thus I did not include any provisions for such features while developing TU)\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-26T22:00:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458362\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537998295\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(sadly, even that would not help solve this problem...)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKind of. If the Orange model was previously complete and functional as a separate model, then it would just sit as its own part in the menu and be configured like everything else.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve just noticed something else though....have a look at the rockomax_16 [AlbedoM] BW.dds texture.\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\u00A0I.....I\u0027m lost for words.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-26T22:54:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458370\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537999228\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhave a look at the rockomax_16 [AlbedoM] BW.dds texture.\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\u00A0I.....I\u0027m lost for words.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat about it?\u00A0 Looks about like a standard texture file to me.\u00A0 (genuinely curious what you spotted in there...)\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-26T23:07:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458390\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538002452\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat about it?\u00A0 Looks about like a standard texture file to me.\u00A0 (genuinely curious what you spotted in there...)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe alpha channel is flipped, so part of the tube of the tank shines like an end cap and the \u0022ridges\u0022 are out of place.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-26T23:21:45Z\u0022 title=\u002209/26/2018 11:21  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 26, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-26T23:24:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458394\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538003278\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe alpha channel (or maybe the main layer)\u00A0is flipped, so part of the tube of the tank shines like an end cap and the \u0022ridges\u0022 are out of place.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, can confirm; didn\u0027t even look at the alpha before.\u00A0 Specular layer is inverted in the texture compared to the diffuse, at least when I extract the channels using GIMP\u0027s Colors-\u0026gt;Decompose tool.\u00A0 Looks the same when I simply view the channels of the raw image though... so.... yeah.... quite the \u0027oops\u0027 you found there.\n\u003C/p\u003E\n\u003Cp\u003E\nThe real question is -- does the errant specular map show up like that in-game?\u00A0\u00A0\u00A0 Yes... yes it does.\u00A0 (note the non-shiny to shiny transition at the right side of the tank, near the end) (someone should report this to SQUAD so that they might fix it for the 1.5 release...)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022zpLCQ5r.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/zpLCQ5r.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2018-09-27T10:30:11Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117203\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0022 rel=\u0022\u0022\u003E@Manwith Noname\u003C/a\u003E\u00A0Suggestion: redefine the list of preset colors that comes with TU as they don\u0027t match the stock color scheme and most don\u0027t have any metal/smooth set on them. (you can use an \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch to remove the existing ones)\n\u003C/p\u003E\n\u003Cp\u003E\n... it also just occurred to me that your mod is listed as turd... I apologize, but I had to laugh several times.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0In order for the recolor GUI to make the surface 100% smooth, it requires 512 specular value; but the slider only goes to 255; why is this the case? His metal/gloss alpha values range between 20 and 75.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T10:54:34Z\u0022 title=\u002209/27/2018 10:54  AM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-27T11:18:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458586\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538044211\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n53 minutes ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117203\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0022 rel=\u0022\u0022\u003E@Manwith Noname\u003C/a\u003E\u00A0Suggestion: redefine the list of preset colors that comes with TU as they don\u0027t match the stock color scheme and most don\u0027t have any metal/smooth set on them. (you can use an \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch to remove the existing ones)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis has popped in mind a couple of times. Not necessarily removing existing presets but adding some that are more inline with how things are configured currently, which is explained by...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458586\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538044211\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n53 minutes ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0In order for the recolor GUI to make the surface 100% smooth, it requires 512 specular value; but the slider only goes to 255; why is this the case? His metal/gloss alpha values range between 20 and 75.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is because I\u0027m currently cheating the system and using the existing stock textures for colour, specular and metallic\u00A0scaling. The intention is to change this but as I\u0027ve said a few times, while Squad are still changing textures and models, I\u0027m not massively enthused by the prospect of spending the many hours creating maps that will become obsolete with the next patch.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, stock \u0022white\u0022 doesn\u0027t reach 255 in any of the RGB scales. This then also applies to specular. If the part texture has a solid white alpha you get metallic scaled correctly (without any \u0022detail\u0022) but those which have specular maps result in the metal scale being off.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458586\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538044211\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n53 minutes ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n...I apologize, but I had to laugh several times.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo need. To put this in to perspective, back in 2014 / 2015, I had intended to start something called, Kerbpaint Repository for Addons Project. It\u0027s just my warped sense of humour.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Oh additionally on the specular scale. White parts should only need somewhere in the 300 range to get full spec. Where the colouring is occurring over darker parts of the texture\u00A0you\u0027ll need higher values.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T11:27:48Z\u0022 title=\u002209/27/2018 11:27  AM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2018-09-27T11:29:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458600\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538047112\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is because I\u0027m currently cheating the system and using the existing stock textures for colour, specular and metallic\u00A0scaling. The intention is to change this but as I\u0027ve said a few times, while Squad are still changing textures and models, I\u0027m not massively enthused by the prospect of spending the many hours creating maps that will become obsolete with the next patch.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, stock \u0022white\u0022 doesn\u0027t reach 255 in any of the RGB scales. This then also applies to specular. If the part texture has a solid white alpha you get metallic scaled correctly (without any \u0022detail\u0022) but those which have specular maps result in the metal scale being off.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe\u00A0\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003ETINTING_MODE keyword will double the impact of the original RGBA from both the main texture and the glossmetal\u00A0texture, though that would also negatively impact the selected color values form the GUI.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T11:31:27Z\u0022 title=\u002209/27/2018 11:31  AM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-27T11:34:15Z","Content":"\n\u003Cp\u003E\nI think it\u0027s the other way around. Tinting mode puts TU in to \u0022subtraction\u0022. So it looks at the base texture and subtracts values from there. Without tinting mode, TU expects a grey 128 baseline and uses multiplication.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: That\u0027s my over simplified attempt at describing it anyway. It\u0027s not as simple as just subtracting since you can still oversaturate.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T11:35:54Z\u0022 title=\u002209/27/2018 11:35  AM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-27T13:55:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458609\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538048055\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTinting mode puts TU in to \u0022subtraction\u0022. So it looks at the base texture and subtracts values from there. Without tinting mode, TU expects a grey 128 baseline and uses multiplication.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nStandard mode in masked areas (simplified a bit):\n\u003C/p\u003E\n\u003Cp\u003E\nOutput-RGB = TextureRGB - (127,127,127) \u002B userMaskColorForSection\u00A0 //(it actually adds all THREE user colors... but only one _should_ be used based on the color of the mask for that pixel)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTinting Mode -- uses standard color multiplication (the same thing that happens when you use the _Color property):\n\u003C/p\u003E\n\u003Cp\u003E\nOutput-RGB = TextureRGB * userMaskColorForSection\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSpecular and metallic use the same maths as the diffuse RGB (either offset and add in standard mode, or multiply in tinting mode)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458586\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538044211\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn order for the recolor GUI to make the surface 100% smooth, it requires 512 specular value; but the slider only goes to 255; why is this the case?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBecause the system is being used incompletely.\u00A0 Properly setup, using gray-based input textures, the range of 0-255 covers full standard (non HDR) color range.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2018-09-27T14:04:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458667\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538056540\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBecause the system is being used incompletely.\u00A0 Properly setup, using gray-based input textures, the range of 0-255 covers full standard (non HDR) color range.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe smoothness has to get some value from the main texture alpha channel, some value from the recolor selection integer, and some value from the gloss/metal map red channel, right? Exactly how much\u00A0are from which?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T14:20:29Z\u0022 title=\u002209/27/2018 02:20  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-27T14:20:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458675\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538057097\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe smoothness has to get some value from the main texture alpha...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot with the masked shader. The masked shader uses the _SpecMap for smooth and metal, like the PBR Metallic shader uses the _MetallicGlossMap, but the layers are flipped (Masked looks for smoothness on the main layer and metal in the alpha, Metallic shader is the other way around). The Stock Metallic Bumped shader looks at the _MainTex alpha for smoothness and at the gloss map main layer for metal.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T14:26:04Z\u0022 title=\u002209/27/2018 02:26  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2018-09-27T14:26:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458681\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538058010\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot with the masked shader. The masked shader uses the _SpecMap for smooth and metal, like the PBR Metallic shader uses the _MetallicGlossMap, but the layers are flipped. The Stock Metallic Bumped shader looks at the _MainTex alpha for smoothness.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot main texture, sorry; mask texture... here is the actual shader part for smooth and metal, but I\u0027m not sure exactly how it acts.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Efixed m = saturate(1 - (mask.r \u002B mask.g \u002B mask.b));\nfixed3 userSpec = mask.r * _MaskColor1.a \u002B mask.g * _MaskColor2.a \u002B mask.b * _MaskColor3.a;\nfixed userMetallic = mask.r * _MaskMetallic.r \u002B mask.g * _MaskMetallic.g \u002B mask.b * _MaskMetallic.b;\n\nfixed3 baseSpec = spec.rgb * m;\nfixed baseMetallic = spec.a * m;\n\nfixed3 detailSpec = (spec.rgb - 0.5) * (1 - m);\nfixed detailMetallic = (spec.a - 0.5) * (1 - m);\n\no.Smoothness = saturate(userSpec \u002B baseSpec \u002B detailSpec).r;\no.Metallic = saturate(userMetallic \u002B baseMetallic \u002B detailMetallic);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt only ever looks at the mask, the glossmap, and the user recolor.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T14:50:06Z\u0022 title=\u002209/27/2018 02:50  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-27T15:50:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458675\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538057097\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nExactly how much\u00A0are from which?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn tinting mode?\u00A0 It loads the full value from the original texture, and then \u003Cem\u003Emultiplies\u003C/em\u003E by the user selected color/spec/metal values multiplied by the inverse of the mask intensity (so black mask = no effect from user input).\n\u003C/p\u003E\n\u003Cp\u003E\nIn standard/non-tinting mode?\u00A0 The contribution from the original texture is much harder to explain; simply use the gray base textures as intended and it will work (really, the explanation is in the shader source code below).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the \u0027full\u0027 source of the PBR-Masked shader:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\n//these values are the values sampled from the textures\nfixed4 color = tex2D(_MainTex,(IN.uv_MainTex));\nfixed3 mask = tex2D(_MaskTex, (IN.uv_MainTex));\nfixed4 spec = tex2D(_SpecMap, (IN.uv_MainTex));\nfixed3 normal = UnpackNormal(tex2D(_BumpMap, IN.uv_MainTex));\nfixed4 ao = tex2D(_AOMap, (IN.uv_MainTex));\nfixed4 glow = tex2D(_Emissive, (IN.uv_MainTex));\n\n// the variable \u0027m\u0027 controls how much of the base texture color is used, and how much comes from the user-selected color\n// the brighter the colors in the mask, the more that the outputs are controlled by the user colors.  Duller (or black) mask, means the outputs are controlled only from the texture samples\nfixed m = saturate(1 - (mask.r \u002B mask.g \u002B mask.b));\n// this calculates the user-specified color for this pixel by some dirty shader-swizzled vector math\nfixed3 userColor = mask.rrr * _MaskColor1.rgb \u002B mask.ggg * _MaskColor2.rgb \u002B mask.bbb * _MaskColor3.rgb;\n// just like the line above, but for specular\nfixed3 userSpec = mask.r * _MaskColor1.a \u002B mask.g * _MaskColor2.a \u002B mask.b * _MaskColor3.a;\n// just like above, but for metallic\nfixed userMetallic = mask.r * _MaskMetallic.r \u002B mask.g * _MaskMetallic.g \u002B mask.b * _MaskMetallic.b;\n\t\nfixed3 diffuseColor = color.rgb * m;\nfixed3 baseSpec = spec.rgb * m;\nfixed baseMetallic = spec.a * m;\n\t\t\t\n#if TINTING_MODE\n\tfixed3 detailColor = color.rgb * (1 - m);\n\tfixed3 detailSpec = spec.rgb * (1 - m);\n\tfixed detailMetallic = spec.a * (1 - m);\n\to.Albedo = saturate(userColor * detailColor \u002B diffuseColor);\n\to.Smoothness = saturate(userSpec * detailSpec \u002B baseSpec).r;\n\to.Metallic = saturate(userMetallic * detailMetallic \u002B baseMetallic);\n#else\n\tfixed3 detailColor = (color.rgb - 0.5) * (1 - m);\n\tfixed3 detailSpec = (spec.rgb - 0.5) * (1 - m);\n\tfixed detailMetallic = (spec.a - 0.5) * (1 - m);\n\to.Albedo = saturate(userColor \u002B diffuseColor \u002B detailColor);\n\to.Smoothness = saturate(userSpec \u002B baseSpec \u002B detailSpec).r;\n\to.Metallic = saturate(userMetallic \u002B baseMetallic \u002B detailMetallic);\n#endif\n\no.Occlusion = ao.r;\no.Normal = normal;\no.Emission = glow.rgb * glow.aaa * _EmissiveColor.rgb *_EmissiveColor.aaa \u002B stockEmit(IN.viewDir, normal, _RimColor, _RimFalloff, _TemperatureColor) * _Opacity;\no.Alpha = _Opacity;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Trying to think of a good way to explain the masked shaders \u0027standard\u0027 mode....\n\u003C/p\u003E\n\u003Cp\u003E\nOn non-masked pixels (mask texture is black) -- the original textures are used without change.\n\u003C/p\u003E\n\u003Cp\u003E\nOn masked pixels the standard diffuse/spec/metallic values for the pixel are used as a \u0027detail texture\u0027 applied on top of the user-selected color/spec/metal value.\u00A0 In order to facilitate using the original texture detail for both highlights and shadows, the base value for that texture sample is offset by -0.5.\u00A0 Thus a 1.0 (white) becomes a \u002B0.5, and a 0.0 (black) becomes a -0.5; in this way the data from the original textures can both \u0027add\u0027 and \u0027subtract\u0027 from the user-selected color based on how far from neutral gray (0.5) that pixel is.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T16:19:41Z\u0022 title=\u002209/27/2018 04:19  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2018-09-27T16:56:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458721\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538063401\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOn non-masked pixels (mask texture is black) -- the original textures are used without change.\n\u003C/p\u003E\n\u003Cp\u003E\nOn masked pixels the standard diffuse/spec/metallic values for the pixel are used as a \u0027detail texture\u0027 applied on top of the user-selected color/spec/metal value.\u00A0 In order to facilitate using the original texture detail for both highlights and shadows, the base value for that texture sample is offset by -0.5.\u00A0 Thus a 1.0 (white) becomes a \u002B0.5, and a 0.0 (black) becomes a -0.5; in this way the data from the original textures can both \u0027add\u0027 and \u0027subtract\u0027 from the user-selected color based on how far from neutral gray (0.5) that pixel is.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll use his mk2 inline as an example on the painted part. I\u0027m ignoring the RGB component because that works just fine.\n\u003C/p\u003E\n\u003Cp\u003E\nFor specular:\u003Cbr\u003E\ndiffuse.RGBA is ignored\u003Cbr\u003E\nmask.R is 255\u003Cbr\u003E\nmask.GBA is 0\u003Cbr\u003E\nspec.RGB is 192\u003Cbr\u003E\nspec.A is ignored\u003Cbr\u003E\nrecolor.A is 255\n\u003C/p\u003E\n\u003Cp\u003E\nso:\u003Cbr\u003E\nm = 1 - 1 - 0 - 0 = 0\u003Cbr\u003E\nuser = 1 * 1 \u002B 0 * 1 \u002B 0 * 1 = 1\u003Cbr\u003E\nbase = 0.75 * 0 = 0\u003Cbr\u003E\ndetail = (0.75 - 0.5) * (1 - 0) = 0.25\u003Cbr\u003E\nsmoothness = 1 \u002B 0 \u002B 0.25 = 1.25 = 1\n\u003C/p\u003E\n\u003Cp\u003E\nexcept, it isn\u0027t 100%; instead it is somewhere around 50%\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T16:57:07Z\u0022 title=\u002209/27/2018 04:57  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-09-27T17:47:30Z","Content":"\n\u003Cp\u003E\nHeh, I know this is about understanding the code and the math but here\u0027s how I see it....\n\u003C/p\u003E\n\u003Cp\u003E\nThe specmap ultimately defines the maximum possible value attainable. As you say, the red channel is 190 (0.75), so with the spec slider at 255 (1) in the GUI, the value I expect to be output for spec is 190 (0.75).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:...and just from looking at things, that seems to align with what I see. I\u0027d need to load it up to be perfectly sure but I seem to recall, like I said earlier, full gloss on \u0022white\u0022 parts should happen between 300-350.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-09-27T17:50:12Z\u0022 title=\u002209/27/2018 05:50  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 27, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-09-27T18:03:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458779\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538067382\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nexcept, it isn\u0027t 100%; instead it is somewhere around 50%\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not seeing the problem?\u00A0 The maximum deviation from gray will be \u002B0.5 (white) or -0.5 (black), thus 50%.\u00A0 Your main textures should never be very far from flat gray in portions that are masked for recoloring.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223458779\u0022 data-ipsquote-contentid=\u0022174188\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538067382\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nspec.RGB is 192\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat is the problem.\u00A0 Spec input should be 127 for any masked area on the texture.\n\u003C/p\u003E\n\u003Cp\u003E\nAn specular texture input of 192 is basically saying \u0027add 65 to whatever the user selected specular color is\u0027.\u00A0 (192 - 127 = 65).\n\u003C/p\u003E\n\u003Cp\u003E\nAn specular texture input of 100 is basically saying \u0027subtract 27 from whatever the user selected specular color is\u0027\u00A0 (100 - 127 = -27)\n\u003C/p\u003E\n"}]}