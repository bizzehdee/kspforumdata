{"TopicId":83753,"ForumId":36,"TopicTitle":"[WIP] ATC - Alternative Tree Configurator (released)","CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2014-09-03T22:51:14Z","PageNum":1,"Articles":[{"CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2014-09-03T22:51:14Z","Content":"\n\u003Cp\u003EAllright ladies and gentleman, time to bust out something potentially awesome. After a long time waiting and hoping someone or Squad would finally build a TreeLoader replacement, I decided to tackle the issue myself. \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EATC - Alternative Tree Configurator\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis is a plugin to modify the stock tech tree and assign parts to the nodes without writing huge ModuleManager scripts\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/fnhPmwx.png\u0022 alt=\u0022fnhPmwx.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODIFY_NODE\u003Cbr\u003E{\u003Cbr\u003E\tgameObjectName = node2_stability\u003Cbr\u003E\ttitle = New Fancy Technology\u003Cbr\u003E\tdescription = this is what we should research soon\u003Cbr\u003E\tscienceCost = 100\u003Cbr\u003E\ticon = COMPOSITES\u003Cbr\u003E\tanyParentUnlocks = false\u003Cbr\u003E\u003Cbr\u003E\tposX = 2000\u003Cbr\u003E\tposY = 1500\u003Cbr\u003E\u003Cbr\u003E\tREQUIRES\u003Cbr\u003E\t{\u003Cbr\u003E\t\ttech = node0_start\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tPARTS\u003Cbr\u003E\t{\u003Cbr\u003E\t\tpart = probeCoreSphere\u003Cbr\u003E\t\tpart = tailfin\u003Cbr\u003E\t\t//etc etc, just list each part with the name from its cfg-file\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E... And changing the science-value factors and altitude thresholds for each celestial body\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EBODY_SCIENCE_PARAMS\u003Cbr\u003E{\u003Cbr\u003E\tcelestialBody = Kerbin\u003Cbr\u003E\u003Cbr\u003E\tLandedDataValue = 0.2\u003Cbr\u003E\tSplashedDataValue = 0.2\u003Cbr\u003E\tFlyingLowDataValue = 0.7\u003Cbr\u003E\tFlyingHighDataValue = 0.7\t\u003Cbr\u003E\tInSpaceLowDataValue= 1\u003Cbr\u003E\tInSpaceHighDataValue= 1\u003Cbr\u003E\u003Cbr\u003E\tflyingAltitudeThreshold= 20000\u003Cbr\u003E\tspaceAltitudeThreshold= 500000\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhy? Because its a TreeLoader alternative. One that does not use an online backend for file distribution, so Techtree-Modders can simply distribute a cfg-file with their release. Maybe one day it will become obsolete when/if Squad does something like this in stock, but for now I\u0027d like to be able to mod the techtree without having to write code.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDone\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E - Change parameters and part assignments to tech nodes\u003C/p\u003E\u003Cp\u003E - change position and dependencies of tech nodes\u003C/p\u003E\u003Cp\u003E - change celestial body science multipliers and thresholds\u003C/p\u003E\u003Cp\u003E - multiple tree configs can be used simultaneously - just add multiple \u0022TechTree = xyz.cfg\u0022 lines to your settings file. Later edits overwrite previous ones.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERelease\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ENot yet. \u003C/p\u003E\u003Cp\u003EHowever, the code has been released (MIT License), please read \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92829-WIP-ATC-Alternative-Tree-Configurator?p=1405035\u0026amp;viewfull=1#post1405035\u0022 rel=\u0022external nofollow\u0022\u003Ethis release post\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIdeas pile / TODO / Issues (roughly sorted by priority)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E - option to add new nodes in a similar syntax\u003C/p\u003E\u003Cp\u003E - gui to select a techtree (maybe even per savegame)\u003C/p\u003E\u003Cp\u003E - option/button/shortcut to reload the tree\u003C/p\u003E\u003Cp\u003E - option to specify custom icons\u003C/p\u003E\u003Cp\u003E - a tool that outputs such a tree-cfg-file (ingame-tool or external program) would be very nice to have.\u003C/p\u003E\u003Cp\u003EIts not yet in a presentable state, but its getting there. If you want to help, now is the time to step up. There will be quite a lot of code to write, debug and refactor, and I would really like to turn this into a group-maintained plugin via GitHub. The workload for the current feature list is currently way more than I am willing to do completely on my own. Also, any feedback and discussion is welcome.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-14T11:20:32Z\u0022 title=\u002209/14/2014 11:20  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 14, 2014\u003C/time\u003E by SirJodelstein\u003C/strong\u003E\n\u003Cbr\u003Ereleased\n\u003C/span\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-03T23:05:46Z","Content":"\n\u003Cp\u003EI like it! Once it can do a custom tree branch let me know and I will help test it out.\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2014-09-03T23:19:13Z","Content":"\n\u003Cp\u003EThis is relevant to my interests. I agree with you, something like this should already be in the game.\u003C/p\u003E\u003Cp\u003ESadly putting me on coding duty would be... well it would be bad.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-03T23:24:41Z\u0022 title=\u002209/03/2014 11:24  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 3, 2014\u003C/time\u003E by 5thHorseman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2014-09-04T13:57:44Z","Content":"\n\u003Cp\u003ESuper exciting! Thanks for taking this up.\u003C/p\u003E\n"},{"CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2014-09-04T20:00:01Z","Content":"\n\u003Cp\u003EI just added this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EBODY_SCIENCE_PARAMS\u003Cbr\u003E{\u003Cbr\u003E\tcelestialBody = Kerbin\u003Cbr\u003E\u003Cbr\u003E\tLandedDataValue = 0.2\u003Cbr\u003E\tSplashedDataValue = 0.2\u003Cbr\u003E\tFlyingLowDataValue = 0.7\u003Cbr\u003E\tFlyingHighDataValue = 0.7\t\u003Cbr\u003E\tInSpaceLowDataValue= 1\u003Cbr\u003E\tInSpaceHighDataValue= 1\u003Cbr\u003E\u003Cbr\u003E\tflyingAltitudeThreshold= 20000\u003Cbr\u003E\tspaceAltitudeThreshold= 500000\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Enext up: learn how the dependency arrows are drawn =\u0026gt; invent \u0022NEW_NODE\u0022 and create option to change node dependencies.\u003C/p\u003E\n"},{"CreatedByName":"cvod","CreatedById":110540,"CreatedDateTime":"2014-09-04T21:36:21Z","Content":"\n\u003Cp\u003EI like the looks of this.\u003C/p\u003E\u003Cp\u003EIt\u0027d also be great to have a modified/replacement version of TreeEdit so that it would spit out a config file for your ATC to read instead of a TreeLoader config. But that\u0027s probably outside the scope of your plans for this, isn\u0027t it?\u003C/p\u003E\n"},{"CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2014-09-04T22:06:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cvod\u0022 data-cite=\u0022cvod\u0022\u003E\u003Cdiv\u003EI like the looks of this.\u003Cp\u003EIt\u0027d also be great to have a modified/replacement version of TreeEdit so that it would spit out a config file for your ATC to read instead of a TreeLoader config. But that\u0027s probably outside the scope of your plans for this, isn\u0027t it?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEditing/Modifying Treeedit is not possible due to copyright reasons. I deliberately chose a different format to prevent any potential issues with r4m0n, i don\u0027t want him complaining about me using stuff he created.\u003C/p\u003E\u003Cp\u003EA rebuilt-from-scratch editor replacement is on my wishlist (see OP), but not very high. I first want to get the parsing part done before thinking about tools to actually create those files. In the meantime, I think it would should not be too hard to build an external converter tool/script to convert Treeloader configs to the ATC format. Even a conversion by hand shouldn\u0027t be that much work. But yeah, thats beyond what I really want to do - if someone wants to have a go, just speak up.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-09-04T22:12:31Z","Content":"\n\u003Cp\u003EHeck, it wouldn\u0027t be that hard to write an external *editor*, and it\u0027d probably be easier to use than having to load KSP to edit the tree.\u003C/p\u003E\n"},{"CreatedByName":"sgt_flyer","CreatedById":57690,"CreatedDateTime":"2014-09-04T22:47:20Z","Content":"\n\u003Cp\u003EInteresting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI was just wondering something about contracts and the science tree\u003C/p\u003E\u003Cp\u003EEven if it\u0027s surely too soon for you to answer this, maybe it could become an additionnal possibility of your plugin \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Ewould it be possible to allow the unlocking of a science node only after you sucessfully finished a specific part testing contract (not necessarily a random one)\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2014-09-04T23:47:37Z","Content":"\n\u003Cp\u003EThis would be awesome, not least because it means I can stop fiddling with my own and spend that time elsewhere \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2014-09-06T00:24:00Z","Content":"\n\u003Cp\u003EOh yeah! That took way longer than it should have. Drawing those arrows correctly is tricky. But its done now:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/fnhPmwx.png\u0022 alt=\u0022fnhPmwx.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENode repositioning and changing node dependencies: done \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODIFY_NODE\u003Cbr\u003E{\u003Cbr\u003E\tgameObjectName = node1_basicRocketry\u003Cbr\u003E\u003Cbr\u003E\t//original position: Node node1_basicRocketry at (-1901.2, 896.6, -1.0)\u003Cbr\u003E\tposX = -1901.2\u003Cbr\u003E\tposY = 1050\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODIFY_NODE\u003Cbr\u003E{\u003Cbr\u003E\tgameObjectName = node2_stability\u003Cbr\u003E\t//Test - change parent node to node0 (original parent was node1)\u003Cbr\u003E\tREQUIRES\u003Cbr\u003E\t{\u003Cbr\u003E\t\ttech = node0_start\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENext: New nodes. Shouldn\u0027t be that much of a stretch now.\u003C/p\u003E\u003Cp\u003EThen: code cleanup and first test release.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-09-06T01:05:42Z","Content":"\n\u003Cp\u003ENice! Very nice indeed!\u003C/p\u003E\n"},{"CreatedByName":"Ixonal","CreatedById":79203,"CreatedDateTime":"2014-09-06T07:13:07Z","Content":"\n\u003Cp\u003EWas just thinking that something exactly like this should be made lol. Lookin forward to seeing the results of this.\u003C/p\u003E\n"},{"CreatedByName":"Ratzap","CreatedById":75982,"CreatedDateTime":"2014-09-06T19:05:29Z","Content":"\n\u003Cp\u003EJust repeating for the thread what I PM\u0027d you:\u003C/p\u003E\u003Cp\u003EA treeloader/edit replacement without the server lookup would be good but you\u0027ll have the same hassle that treeloader does. The contracts code does no error checking, when it whips up a random part test contract it assumes that any part will exist, be loaded and have an assigned tech node. So any edited tree with empty nodes or optional part packs is going to run into problems.\u003C/p\u003E\u003Cp\u003EI was thinking of adding settings so that if a node is empty, it gets populated with defined single part. If a part is not loaded (ie they don\u0027t have that pack installed) remove the part from the tree and if a part has no tech node (meaning it\u0027s defined node doesn\u0027t exist in the custom tree) assign it to a default bucket tech node.\u003C/p\u003E\u003Cp\u003EI\u0027ll have a look at your WIP and may be able to help. If nothing else I\u0027ll keep you up to date with anything I find. \u003C/p\u003E\u003Cp\u003EYou only have to worry about part assignments in career mode obviously. Science sandbox and normal sandbox don\u0027t run the contract code so they don\u0027t hit the same problems.\u003C/p\u003E\n"},{"CreatedByName":"cvod","CreatedById":110540,"CreatedDateTime":"2014-09-06T22:57:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ratzap\u0022 data-cite=\u0022Ratzap\u0022\u003E\u003Cdiv\u003EA treeloader/edit replacement without the server lookup would be good but you\u0027ll have the same hassle that treeloader does. The contracts code does no error checking, when it whips up a random part test contract it assumes that any part will exist, be loaded and have an assigned tech node. So any edited tree with empty nodes or optional part packs is going to run into problems.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs it possible to fix this problem by suppressing that contract type and adding a replacement contract for part testing that\u0027s more robust?\u003C/p\u003E\n"},{"CreatedByName":"Ratzap","CreatedById":75982,"CreatedDateTime":"2014-09-06T23:23:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cvod\u0022 data-cite=\u0022cvod\u0022\u003E\u003Cdiv\u003EIs it possible to fix this problem by suppressing that contract type and adding a replacement contract for part testing that\u0027s more robust?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood question, as far as I know the answer is no though. The methods in the stack trace are mostly \u0027Protected\u0027 meaning it would be hard to override them with something else - go look at the Assembly-csharp references in Mono, you want Contracts.Templates -\u0026gt; PartTest(). That gets invoked, presumably with some randomly selected tgtPart, possibly done by calling Generate()?\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-09-07T01:13:49Z","Content":"\n\u003Cp\u003EHaving replaced the part test contract with my own for other reasons, yes, removing it and overriding it with your own is definitely possible. Feel free to check out the BTSM code for it, or my posts on the subject here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/86588-Contract-Modding-Information-for-Mod-Authors?p=1317690\u0026amp;viewfull=1#post1317690\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/86588-Contract-Modding-Information-for-Mod-Authors?p=1317690\u0026amp;viewfull=1#post1317690\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIn my case, I\u0027m removing the stock part tests and replacing them with my own child class of the stock part test contracts so I can filter out specific ones through my own code, but replacing them entirely is perfectly feasible as well, as I am doing that for other stock contracts like the \u0022Explore Body\u0022 ones already.\u003C/p\u003E\u003Cp\u003EAlso, if I am understanding the above problem correctly, I suspect you could get around it with a ModuleManager script that removes the part module associated with part test contracts from all parts. Parts don\u0027t get assigned such contracts without that module, and while I think that would effectively remove part test contracts from the game, it should also solve your issue in a very simple manner (maybe).\u003C/p\u003E\u003Cp\u003ENice job on getting the node dependencies working SirJodelstein. That alone is worth its weight in gold \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-07T01:25:56Z\u0022 title=\u002209/07/2014 01:25  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 7, 2014\u003C/time\u003E by FlowerChild\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"INSULINt","CreatedById":104803,"CreatedDateTime":"2014-09-07T11:46:37Z","Content":"\n\u003Cp\u003EOne thing that really turned me off TreeLoader was that you could only load one mods tree. At least as far as I could tell. Any plans on having this act more like MM with multiple tree cfgs. It would be extremely usefull if multiple mods wanted to add new nodes. I\u0027m specifically thinking of something like the new b9 parts and intersteller, where both can easily make use of custom nodes.\u003C/p\u003E\u003Cp\u003EI know there would be the problem of mods conflicting with stock part movement. Maybe add a plugin cfg with a var for prefering earlier or later part placement?\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-09-07T13:47:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EHeck, it wouldn\u0027t be that hard to write an external *editor*, and it\u0027d probably be easier to use than having to load KSP to edit the tree.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey it looks like you\u0027re volunteering. Good luck.\u003C/p\u003E\n"},{"CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2014-09-07T14:10:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022INSULINt\u0022 data-cite=\u0022INSULINt\u0022\u003E\u003Cdiv\u003E It would be extremely usefull if multiple mods wanted to add new nodes. [...]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELoading from multiple configfiles sounds definitely useful, and is a simple extension I\u0027ve just added in (later entries just overwrite earlier entries, order is configured via settings-file)\u003C/p\u003E\u003Cp\u003E.... but at the moment, i am seriosly considering cutting the \u0022new node\u0022 function entirely. Up to \u0022modify existing nodes\u0022 (including dependendy changes), the code is readable and well-structured. But adding new nodes? Oh dear, now it gets ugly. There is no way to to extend the tree without going through extreme hoops (SQUAD, why does RDTechTee have \u0022GetTreeNodes()\u0022 function but no \u0022AddTreeNode(RDNode)\u0022 function??! And how do i setup a new RDNode/RDTech at all? Why does RDNode have a non-null prefab but GameObject.Instatiate(rdNode.prefab) cause an exception?). Really, the API there is extremely convoluted (RDNode.WarmUp(RDTech), RDNode.Setup(), RDController.RegisterNode(RDNode)), and i am getting frustrated. And since I am doing this in my free time for fun, there is only a certain amount of frustration I want to take (and hours I want to sink into this) before I give up and say \u0022actually, I\u0027d rather play the game instead\u0022. Unfortunately, this limit is almost reached \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003ESQUAD, please give us a function that creates a new dummy RDNode so that we can fill in the necessary fields (title, science cost, parts, parents/childs etc). Or just create 200 more invisible dummy-RDNodes in the AssetBase.RnDTechTree...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-07T14:13:00Z\u0022 title=\u002209/07/2014 02:13  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 7, 2014\u003C/time\u003E by SirJodelstein\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ratzap","CreatedById":75982,"CreatedDateTime":"2014-09-07T18:14:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EHaving replaced the part test contract with my own for other reasons, yes, removing it and overriding it with your own is definitely possible. Feel free to check out the BTSM code for it, or my posts on the subject here:\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/86588-Contract-Modding-Information-for-Mod-Authors?p=1317690\u0026amp;viewfull=1#post1317690\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/86588-Contract-Modding-Information-for-Mod-Authors?p=1317690\u0026amp;viewfull=1#post1317690\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIn my case, I\u0027m removing the stock part tests and replacing them with my own child class of the stock part test contracts so I can filter out specific ones through my own code, but replacing them entirely is perfectly feasible as well, as I am doing that for other stock contracts like the \u0022Explore Body\u0022 ones already.\u003C/p\u003E\u003Cp\u003EAlso, if I am understanding the above problem correctly, I suspect you could get around it with a ModuleManager script that removes the part module associated with part test contracts from all parts. Parts don\u0027t get assigned such contracts without that module, and while I think that would effectively remove part test contracts from the game, it should also solve your issue in a very simple manner (maybe).\u003C/p\u003E\u003Cp\u003ENice job on getting the node dependencies working SirJodelstein. That alone is worth its weight in gold \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, good to know thanks. I quit fiddling with it for a few days as it was just doing my head in. Taking them out completely shouldn\u0027t be necessary though, I\u0027ll have to see how next week is for free time.\u003C/p\u003E\n"},{"CreatedByName":"Ixonal","CreatedById":79203,"CreatedDateTime":"2014-09-08T04:27:44Z","Content":"\n\u003Cp\u003Eout of curiosity, is there a repository for this? I might wanna poke my head in and see what\u0027s up in there.\u003C/p\u003E\n"},{"CreatedByName":"klgraham1013","CreatedById":105132,"CreatedDateTime":"2014-09-08T14:48:50Z","Content":"\n\u003Cp\u003EI support this effort. I\u0027d love to make my own tech tree, but tree loader seems to have been abandoned.\u003C/p\u003E\n"},{"CreatedByName":"passinglurker","CreatedById":103157,"CreatedDateTime":"2014-09-08T15:01:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SirJodelstein\u0022 data-cite=\u0022SirJodelstein\u0022\u003E\u003Cdiv\u003ELoading from multiple configfiles sounds definitely useful, and is a simple extension I\u0027ve just added in (later entries just overwrite earlier entries, order is configured via settings-file)\u003Cp\u003E.... but at the moment, i am seriosly considering cutting the \u0022new node\u0022 function entirely. Up to \u0022modify existing nodes\u0022 (including dependendy changes), the code is readable and well-structured. But adding new nodes? Oh dear, now it gets ugly. There is no way to to extend the tree without going through extreme hoops (SQUAD, why does RDTechTee have \u0022GetTreeNodes()\u0022 function but no \u0022AddTreeNode(RDNode)\u0022 function??! And how do i setup a new RDNode/RDTech at all? Why does RDNode have a non-null prefab but GameObject.Instatiate(rdNode.prefab) cause an exception?). Really, the API there is extremely convoluted (RDNode.WarmUp(RDTech), RDNode.Setup(), RDController.RegisterNode(RDNode)), and i am getting frustrated. And since I am doing this in my free time for fun, there is only a certain amount of frustration I want to take (and hours I want to sink into this) before I give up and say \u0022actually, I\u0027d rather play the game instead\u0022. Unfortunately, this limit is almost reached \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003ESQUAD, please give us a function that creates a new dummy RDNode so that we can fill in the necessary fields (title, science cost, parts, parents/childs etc). Or just create 200 more invisible dummy-RDNodes in the AssetBase.RnDTechTree...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Emaybe we should organize a collective letter writing campaign? no new nodes would be just fine for some realism mods, rebalance mods, better than starting manned, and bargain rockets, but it would be useless for the sci fi futuristic mods that rely on treeloader like Near Future or Interstellar.\u003C/p\u003E\u003Cp\u003EAlternately the \u0022don\u0027t decomplie rules\u0022 only apply to the forum and curse correct? or is it something that\u0027s baked into the EULA? If it the former then perhaps one should just do what is necessary and distribute through other unofficial channels?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-08T15:04:42Z\u0022 title=\u002209/08/2014 03:04  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 8, 2014\u003C/time\u003E by passinglurker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-09-08T18:18:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SirJodelstein\u0022 data-cite=\u0022SirJodelstein\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E.... but at the moment, i am seriosly considering cutting the \u0022new node\u0022 function entirely. Up to \u0022modify existing nodes\u0022 (including dependendy changes), the code is readable and well-structured. But adding new nodes? Oh dear, now it gets ugly. There is no way to to extend the tree without going through extreme hoops (SQUAD, why does RDTechTee have \u0022GetTreeNodes()\u0022 function but no \u0022AddTreeNode(RDNode)\u0022 function??! And how do i setup a new RDNode/RDTech at all? Why does RDNode have a non-null prefab but GameObject.Instatiate(rdNode.prefab) cause an exception?). Really, the API there is extremely convoluted (RDNode.WarmUp(RDTech), RDNode.Setup(), RDController.RegisterNode(RDNode)), and i am getting frustrated. And since I am doing this in my free time for fun, there is only a certain amount of frustration I want to take (and hours I want to sink into this) before I give up and say \u0022actually, I\u0027d rather play the game instead\u0022. Unfortunately, this limit is almost reached \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, as I understand it, there isn\u0027t a mod API for doing this kind of thing, and it\u0027s not something that Squad ever planned for us to be able to do.\u003C/p\u003E\u003Cp\u003EI\u0027m honestly impressed you managed to get the ability to move nodes and add parents in as the times I\u0027ve poked at that code (and I\u0027ve done so on several occasions), I never figured out a reasonable method to get that done, and I very much would have liked to be able to do so. That alone would make a HUGE difference for what I could do with BTSM.\u003C/p\u003E\u003Cp\u003EAnyways man, I know that modding KSP can be extremely frustrating at times given how difficult it can be to do what seems like an extremely simple task, but I just wanted to reiterate that you\u0027ve already done some amazing things here and I can\u0027t wait to get my hands on it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}