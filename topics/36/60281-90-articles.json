{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":90,"Articles":[{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2020-11-08T15:50:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223878988\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221604850020\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#B22222;\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EUpdate 0.19.3b:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nChanges:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nOk so not sure when this happened, but it seems you no longer have to disable \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E to update vessel controls, so the annoy issue of having to disable \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E to move an axis is gone (the whole business with SASTol no longer an issue, it now doesn\u0027t do anything). Now the axis control behaves like normal joystick input. I didn\u0027t do anything apart from remove the check and doing some testing. Please let me know if this is actually fixed, that would be great! Thanks to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/168905-c4ooo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022168905\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/168905-c4ooo/\u0022 rel=\u0022\u0022\u003E@c4ooo\u003C/a\u003E for letting me know.\n\u003C/li\u003E\n\u003Cli\u003E\nAlso recompiled against 1.10.1\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nPlugin download link:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPSerialIO_019_3b.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPSerialIO_019_3b.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nArduino code dowload (same as before):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPIODemo17.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPIODemo17.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs the download link supposed to only contain the config file? Seems identical to the one I have already...\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2020-11-08T15:52:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223878992\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221604850622\u0022 data-ipsquote-userid=\u0022200916\u0022 data-ipsquote-username=\u0022CommanderMAM\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, CommanderMAM said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs the download link supposed to only contain the config file? Seems identical to the one I have already...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOops, try it now.\n\u003C/p\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2020-11-08T16:03:42Z","Content":"\n\u003Cp\u003E\nInitial tests seem to confirm it is indeed working. Thanks for fixing this \u003Cspan\u003Ezitronen!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-11-08T16:06:21Z\u0022 title=\u002211/08/2020 04:06  PM\u0022 data-short=\u00223 yr\u0022\u003ENovember 8, 2020\u003C/time\u003E by CommanderMAM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"gt3073b","CreatedById":208034,"CreatedDateTime":"2020-11-09T15:19:06Z","Content":"\n\u003Cp\u003E\nThank you all for your help and for the great plugin. I haven\u0027t played enough to know if I would miss that orbital data, it sounds like I won\u0027t. Thanks again!\n\u003C/p\u003E\n"},{"CreatedByName":"geeksmithing","CreatedById":208745,"CreatedDateTime":"2020-12-16T22:00:37Z","Content":"\n\u003Cp\u003E\nPlease forgive my ignorance here (new KSPSerialIO user as of today).... I am just trying out this plugin with a single button toggling \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on and off to learn how stuff works, and the throttle is stuck at 20% before I hit anything on the keyboard, and all throttle controls are unresponsive if I have the arduino plugged in.\u00A0 If I restart the game/save file without it, throttle works great.\u00A0 \u00A0To my knowledge I have not messed with the throttle controls (or any arduino code for that matter)\u00A0at all.\u00A0 What did I do wrong to cause this? \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 Thanks a ton!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2020-12-17T15:02:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223894578\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608156037\u0022 data-ipsquote-userid=\u0022208745\u0022 data-ipsquote-username=\u0022geeksmithing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, geeksmithing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPlease forgive my ignorance here (new KSPSerialIO user as of today).... I am just trying out this plugin with a single button toggling \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E on and off to learn how stuff works, and the throttle is stuck at 20% before I hit anything on the keyboard, and all throttle controls are unresponsive if I have the arduino plugged in.\u00A0 If I restart the game/save file without it, throttle works great.\u00A0 \u00A0To my knowledge I have not messed with the throttle controls (or any arduino code for that matter)\u00A0at all.\u00A0 What did I do wrong to cause this? \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 Thanks a ton!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi if you are using the demo code and not using the throttle on the arduino, you need to change the settings.cfg file to disable it (see first post for options).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"filipWithTelescope","CreatedById":209573,"CreatedDateTime":"2021-01-22T13:42:33Z","Content":"\n\u003Cp\u003E\nAwesome. Allways dreamed about this. I wish i knew how to use it\n\u003C/p\u003E\n"},{"CreatedByName":"nenico87","CreatedById":60274,"CreatedDateTime":"2021-02-21T16:24:54Z","Content":"\n\u003Cp\u003E\nHello, is there any way to \u0022emulate\u0022 game for arduino? like sending strings thru serial monitor and receiving it, you know, for testing things so you don\u0027t need to relaunch game and try it ingame after update to controller?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Jimbofarrar","CreatedById":156767,"CreatedDateTime":"2021-02-21T23:25:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929993\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613924694\u0022 data-ipsquote-userid=\u002260274\u0022 data-ipsquote-username=\u0022nenico87\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, nenico87 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello, is there any way to \u0022emulate\u0022 game for arduino? like sending strings thru serial monitor and receiving it, you know, for testing things so you don\u0027t need to relaunch game and try it ingame after update to controller?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHello you can try this\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022160620\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed3694034627\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/139842-wiphardware-plugin-software-a-debugging-tool-for-kspserialio/\u0026amp;do=embed\u0026amp;comment=3703663\u0026amp;embedComment=3703663\u0026amp;embedDo=findComment\u0022 style=\u0022height:297px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2021-04-01T15:44:13Z","Content":"\n\u003Cp\u003E\nI seem to be having an issue where the controller is taking a very long time to connect to the game once the flight has started. This started once I wired an LCD to my controller and started coding it. I\u0027m not sure if it is a coding problem, an issue with the plugin, or possibly something to do with crossed wires, but after removing the LCD code\u00A0the issue persists, and I am in the process of rewiring part of my controller but so far it hasn\u0027t fixed anything. Is there some way I can upload my code other than pasting it in a post? It is mostly based off of the KSPDemo_17 code but there is a lot of additions for various other functions scattered about.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2021-04-26T11:40:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223947741\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617291853\u0022 data-ipsquote-userid=\u0022200916\u0022 data-ipsquote-username=\u0022CommanderMAM\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/1/2021 at 4:44 PM, CommanderMAM said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI seem to be having an issue where the controller is taking a very long time to connect to the game once the flight has started. This started once I wired an LCD to my controller and started coding it. I\u0027m not sure if it is a coding problem, an issue with the plugin, or possibly something to do with crossed wires, but after removing the LCD code\u00A0the issue persists, and I am in the process of rewiring part of my controller but so far it hasn\u0027t fixed anything. Is there some way I can upload my code other than pasting it in a post? It is mostly based off of the KSPDemo_17 code but there is a lot of additions for various other functions scattered about.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi, apologies for the late reply, do you still need help with this? Just to confirm that the default Demo17 code works ok?\n\u003C/p\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2021-04-27T18:35:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223960989\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221619437238\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/26/2021 at 7:40 AM, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, apologies for the late reply, do you still need help with this? Just to confirm that the default Demo17 code works ok?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe issue is still present with my old code, but with a modified version of the demo code that just has the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E and \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E buttons (momentary push buttons) it seems to work.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2021-04-27T19:41:52Z","Content":"\n\u003Cp\u003E\nYou don\u0027t have anything like \u0022delay(xxx)\u0022 in your code right? You can post which you changed here, or put it in pastbin or something if you can\u0027t figure it out yourself.\n\u003C/p\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2021-04-27T19:44:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223961958\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221619552512\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou don\u0027t have anything like \u0022delay(xxx)\u0022 in your code right? You can post which you changed here, or put it in pastbin or something if you can\u0027t figure it out yourself.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ndid a ctrl F search and the only delay it came up with was the commented out part in the Handshake tab, which is present in both my code and the demo code\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCould the LiquidCrystal_I2C or SoftwareSerial libraries cause this?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-27T19:46:05Z\u0022 title=\u002204/27/2021 07:46  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 27, 2021\u003C/time\u003E by CommanderMAM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2021-04-27T19:59:54Z","Content":"\n\u003Cp\u003E\nLiquidCrystal possibly, SoftwareSerial can definitely cause problems. Do you need to use another serial port? I would recommend getting a board with 2 hardware serial ports rather than using softwareserial which is not only slow but also locks up the processor when it\u0027s working, which will lead to packet loss.\n\u003C/p\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2021-04-27T20:02:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223961968\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221619553594\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLiquidCrystal possibly, SoftwareSerial can definitely cause problems. Do you need to use another serial port? I would recommend getting a board with 2 hardware serial ports rather than using softwareserial which is not only slow but also locks up the processor when it\u0027s working, which will lead to packet loss.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm, I\u0027m using a Mega, so I\u0027m not sure I need more serial ports. Those are SDA and SCL right?\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2021-04-28T16:09:04Z","Content":"\n\u003Cp\u003E\nSDA SCL are for i2c, the mega has like 3 hardware serial ports, pin numbers are listed here: \u003Ca href=\u0022https://www.arduino.cc/en/reference/serial\u0026amp;gt;\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.arduino.cc/en/reference/serial\u0026amp;gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2021-05-05T16:00:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223962509\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221619626144\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/28/2021 at 12:09 PM, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSDA SCL are for i2c, the mega has like 3 hardware serial ports, pin numbers are listed here: \u003Ca href=\u0022https://www.arduino.cc/en/reference/serial\u0026amp;gt;\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.arduino.cc/en/reference/serial\u0026amp;gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, been messing around here\u0027s what I\u0027ve figured out.\n\u003C/p\u003E\n\u003Cp\u003E\n1) My LCD uses i2c and is (a 20 by 4 character display)\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n2) My code works as long as all the portions involving the LCD\u00A0are commented out\n\u003C/p\u003E\n\u003Cp\u003E\n3) This means that the issue involves these lines of code:\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUnder \u003Cstrong\u003Evoid setup\u00A0\u003C/strong\u003Ein the main page (for the demo, the one titled Demo17, for me its titled KerbalCode):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ESerial.begin(9600); //LCD Connection\u003Cbr\u003E\n\u00A0 lcd.init();\u003Cbr\u003E\n\u00A0 lcd.backlight();\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u00A0\u00A0\u003Cbr\u003E\n\u00A0 //write to LCD\u003Cbr\u003E\n\u00A0 lcd.clear();\u003Cbr\u003E\n\u00A0 lcd.setCursor(0,0);\u003Cbr\u003E\n\u00A0 lcd.print(\u0022KerbalController\u0022);\u003Cbr\u003E\n\u00A0 lcd.setCursor(0,1);\u003Cbr\u003E\n\u00A0 lcd.print(\u0022booting...\u0022);\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUnder \u003Cstrong\u003Evoid\u003C/strong\u003E\u00A0\u003Cstrong\u003EIndicators \u003C/strong\u003Ein the utilities tab:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u00A0//MODE 0 : TakeOff Mode\u003Cbr\u003E\n\u00A0if(digitalRead(LCDPINA) == HIGH){\u003Cbr\u003E\n\u00A0 \u00A0 //Mode 1 Takeoff Mode\u003Cbr\u003E\n\u00A0 \u00A0 lcd.clear();\u003Cbr\u003E\n\u00A0 \u00A0 //Vsurf\u003Cbr\u003E\n\u00A0 \u00A0 lcd.setCursor(0,0);\u003Cbr\u003E\n\u00A0 \u00A0 char bufferVsurf[17];\u003Cbr\u003E\n\u00A0 \u00A0 String strVsurf = \u0022Vsurf: \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strVsurf \u002B= String(VData.Vsurf, 0);\u003Cbr\u003E\n\u00A0 \u00A0 strVsurf \u002B= \u0022 m/s\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strVsurf.toCharArray(bufferVsurf,17);\u003Cbr\u003E\n\u00A0 \u00A0 lcd.print(bufferVsurf);\u003Cbr\u003E\n\u00A0 \u00A0 //Acceleration (G)\u003Cbr\u003E\n\u00A0 \u00A0 lcd.setCursor(0,1);\u003Cbr\u003E\n\u00A0 \u00A0 char bufferGee[17];\u003Cbr\u003E\n\u00A0 \u00A0 String strGee = \u0022G-Force: \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strGee \u002B= String(VData.G, 0);\u003Cbr\u003E\n\u00A0 \u00A0 strGee \u002B= \u0022 G\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strGee.toCharArray(bufferGee,17);\u003Cbr\u003E\n\u00A0 \u00A0 lcd.print(bufferGee);\u003Cbr\u003E\n\u00A0 \u00A0 //Altitude from Sea Level\u003Cbr\u003E\n\u00A0 \u00A0 lcd.setCursor(0,2);\u003Cbr\u003E\n\u00A0 \u00A0 char bufferAtl[17];\u003Cbr\u003E\n\u00A0 \u00A0 String strAlt = \u0022Alt: \u00A0\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strAlt \u002B= String(VData.Alt, 0);\u003Cbr\u003E\n\u00A0 \u00A0 strAlt \u002B= \u0022 m\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strAlt.toCharArray(bufferAtl,17);\u003Cbr\u003E\n\u00A0 \u00A0 lcd.print(bufferAtl);\u003Cbr\u003E\n\u00A0 }\u003Cbr\u003E\n\u00A0 if(digitalRead(LCDPINA) == LOW){\u003Cbr\u003E\n\u00A0 \u00A0 //MODE 2: Orbit Mode\u003Cbr\u003E\n\u00A0 \u00A0 lcd.clear();\u003Cbr\u003E\n\u00A0 \u00A0 //VOrbit\u003Cbr\u003E\n\u00A0 \u00A0 lcd.setCursor(0,0);\u003Cbr\u003E\n\u00A0 \u00A0 char bufferVOrbit[17];\u003Cbr\u003E\n\u00A0 \u00A0 String strVOrbit = \u0022VOrbit: \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strVOrbit \u002B= String(VData.VOrbit, 0);\u003Cbr\u003E\n\u00A0 \u00A0 strVOrbit \u002B= \u0022 m/s\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strVOrbit.toCharArray(bufferVOrbit,17);\u003Cbr\u003E\n\u00A0 \u00A0 lcd.print(bufferVOrbit);\u003Cbr\u003E\n\u00A0 \u00A0 //Altitude from Sea Level\u003Cbr\u003E\n\u00A0 \u00A0 lcd.setCursor(0,1);\u003Cbr\u003E\n\u00A0 \u00A0 char bufferAtl[17];\u003Cbr\u003E\n\u00A0 \u00A0 String strAlt = \u0022Alt: \u00A0\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strAlt \u002B= String(VData.Alt, 0);\u003Cbr\u003E\n\u00A0 \u00A0 strAlt \u002B= \u0022 m\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 //Apoapsis\u003Cbr\u003E\n\u00A0 \u00A0 lcd.setCursor(0,2);\u003Cbr\u003E\n\u00A0 \u00A0 char bufferAP[17];\u003Cbr\u003E\n\u00A0 \u00A0 String strApo = \u0022AP: \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 if (VData.AP \u0026lt; 10000 \u0026amp;\u0026amp; VData.AP \u0026gt; -10000) {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= String(VData.AP,0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= \u0022m \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 } else if ((VData.AP \u0026gt;= 10000 \u0026amp;\u0026amp; VData.AP \u0026lt; 10000000) || (VData.AP \u0026lt;= -10000 \u0026amp;\u0026amp; VData.AP \u0026gt; -10000000)) {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= String((VData.AP / 1000),0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= \u0022km \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 } else if ((VData.AP \u0026gt;= 10000000 \u0026amp;\u0026amp; VData.AP \u0026lt; 10000000000) || (VData.AP \u0026lt;= -10000000 \u0026amp;\u0026amp; VData.AP \u0026gt; -10000000000)) {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= String((VData.AP / 1000000),0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= \u0022Mm \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 } else {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= String((VData.AP / 1000000000),0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strApo \u002B= \u0022Gm \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 }\u003Cbr\u003E\n\u00A0 \u00A0 strApo \u002B= String(VData.TAp); //time to apoapsis\u003Cbr\u003E\n\u00A0 \u00A0 strApo \u002B= \u0022s\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strApo.toCharArray(bufferAP,17);\u003Cbr\u003E\n\u00A0 \u00A0 lcd.print(bufferAP);\u003Cbr\u003E\n\u00A0 \u00A0 //Periapsis\u003Cbr\u003E\n\u00A0 \u00A0 lcd.setCursor(0,3);\u003Cbr\u003E\n\u00A0 \u00A0 char bufferPE[17];\u003Cbr\u003E\n\u00A0 \u00A0 String strPeri = \u0022PE: \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 if (VData.PE \u0026lt; 10000 \u0026amp;\u0026amp; VData.PE \u0026gt; -10000) {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= String(VData.PE,0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= \u0022m \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 } else if ((VData.PE \u0026gt;= 10000 \u0026amp;\u0026amp; VData.PE \u0026lt; 10000000) || (VData.PE \u0026lt;= -10000 \u0026amp;\u0026amp; VData.PE \u0026gt; -10000000)) {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= String((VData.PE / 1000.0),0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= \u0022km \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 } else if ((VData.PE \u0026gt;= 10000000 \u0026amp;\u0026amp; VData.PE \u0026lt; 10000000000) || (VData.PE \u0026lt;= -10000000 \u0026amp;\u0026amp; VData.PE \u0026gt; -10000000000)) {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= String((VData.PE / 1000000.0),0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= \u0022Mm \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 } else {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= String((VData.PE / 1000000000.0),0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 strPeri \u002B= \u0022Gm \u0022;\u003Cbr\u003E\n\u00A0 \u00A0 }\u003Cbr\u003E\n\u00A0 \u00A0 strPeri \u002B= String(VData.TPe); //time to periapsis\u003Cbr\u003E\n\u00A0 \u00A0 strPeri \u002B= \u0022s\u0022;\u003Cbr\u003E\n\u00A0 \u00A0 strPeri.toCharArray(bufferPE,17);\u003Cbr\u003E\n\u00A0 \u00A0 lcd.print(bufferPE);\u003Cbr\u003E\n\u00A0 }\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOnly other code relating to the LCD is just some basic defining stuff in the main page and the output page, and works without being commented out.\n\u003C/p\u003E\n\u003Cp\u003E\nMain page:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E#include \u0026lt;LiquidCrystal_I2C.h\u0026gt;\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELiquidCrystal_I2C lcd(0x27,20,4); \u00A0\u003Cbr\u003E\n// set the LCD address to 0x27 for a 20 chars and 4 line display\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUnder \u003Cstrong\u003Evoid controlsInit\u003C/strong\u003E in the output page:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u00A0 pinMode(LCDPINA, INPUT);\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure what could be messing things up, maybe something with the Serial connection? Any help or insight would be greatly appreciated.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-05T16:01:07Z\u0022 title=\u002205/05/2021 04:01  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 5, 2021\u003C/time\u003E by CommanderMAM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2021-05-07T11:27:57Z","Content":"\n\u003Cp\u003E\nAny reason why you are using 9600 for serial, not faster? Default should be 38400, but use fastest speed your board supports.\n\u003C/p\u003E\n\u003Cp\u003E\nlcd.clear() might be slow, if you are overwriting the display you could get rid of it. Otherwise I don\u0027t know? Have you tried just printing a simple line and see if that works?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-07T11:31:47Z\u0022 title=\u002205/07/2021 11:31  AM\u0022 data-short=\u00223 yr\u0022\u003EMay 7, 2021\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2021-05-07T15:03:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223968083\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620386877\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n59 minutes ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny reason why you are using 9600 for serial, not faster? Default should be 38400, but use fastest speed your board supports.\n\u003C/p\u003E\n\u003Cp\u003E\nlcd.clear() might be slow, if you are overwriting the display you could get rid of it. Otherwise I don\u0027t know? Have you tried just printing a simple line and see if that works?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt prints the \u0022Kerbal Controller booting...\u0022 message just fine, but the board doesn\u0027t communicate with the game. TX light isn\u0027t flashing like it\u0027s supposed to, and controls are unresponsive. Could the LCD\u0027s serial channel and the one communicating with the game be interfering with each other?\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2021-05-08T14:53:13Z","Content":"\n\u003Cp\u003E\nHuh? Your LCD is is i2c based, it shouldn\u0027t use serial?\n\u003C/p\u003E\n"},{"CreatedByName":"CommanderMAM","CreatedById":200916,"CreatedDateTime":"2021-05-08T15:50:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223968872\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620485593\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n40 minutes ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHuh? Your LCD is is i2c based, it shouldn\u0027t use serial?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSDA stands for serial data pin, and SCL is serial clock pin,\u00A0right? The couple of tutorials I used to first set this up about a year ago all\u00A0started\u00A0with a Serial begin command. Even if I don\u0027t have the command (say if its commented out), the issue still persists.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2021-05-09T17:57:49Z","Content":"\n\u003Cp\u003E\nSerial port (TTL or RS232) and i2c are not the same thing, \u003Ca href=\u0022https://www.robotshop.com/community/forum/t/serial-vs-i2c-communication/12316\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.robotshop.com/community/forum/t/serial-vs-i2c-communication/12316\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSerial port (over USB) is used by the Arduino to communicate with KSP\n\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2021-05-14T09:55:10Z","Content":"\n\u003Cp\u003E\nLCD original implementation is slow as molasses. It might time the connection out? I used a \u003Ca href=\u0022https://github.com/fmalpartida/New-LiquidCrystal\u0022 rel=\u0022external nofollow\u0022\u003Edifferent implementation\u003C/a\u003E which is significantly faster, and yet I only update every 250 ms to avoid loosing connection.\n\u003C/p\u003E\n"},{"CreatedByName":"sec3","CreatedById":167394,"CreatedDateTime":"2021-06-09T21:21:37Z","Content":"\n\u003Cp\u003E\n@CommanderMAM\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1.)\n\u003C/p\u003E\n\u003Cp\u003E\ndon\u00B4t run the\u00A0 .clear\u00A0 everytime...\u00A0 \u00A0only once at\n\u003C/p\u003E\n\u003Cp\u003E\nvoid setup ()\n\u003C/p\u003E\n\u003Cp\u003E\nto clear the display use subvoids and \u0022 \u0022 (spaces) and overwrite\u00A0at the cursor position.\u00A0\u003Cbr\u003E\nno problems running i2c/ FastLED.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nfor example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0void LiquidFuel()\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 lcd.print(\u0022L%\u0022);\u00A0\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 lcd.print((VData.LiquidFuel/VData.LiquidFuelTot*100),0);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\nlcd.setCursor(0,0);\u003Cbr\u003E\n\u00A0 \u00A0LiquidFuel();\u003Cbr\u003E\n\u00A0 \u00A0 lcd.print(\u0022 \u00A0 \u0022);\n\u003C/p\u003E\n\u003Cp\u003E\nor with the sprintf function to combine text and digits ...\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nyou calculate and print as you need.\u00A0 it works great for missionTimer and so on in realtime.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n2.) increase the buffer (handshaketime) and bauds, if it doesn\u00B4t startup.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nmyUsage: NewLiquidCrystal_i2c\u00A0 lib\u00A0 \u00A0as\u00A0 freshmeat told.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-09T21:55:59Z\u0022 title=\u002206/09/2021 09:55  PM\u0022 data-short=\u00223 yr\u0022\u003EJune 9, 2021\u003C/time\u003E by sec3\u003C/strong\u003E\n\u003C/span\u003E\n"}]}