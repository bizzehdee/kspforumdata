{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":231,"Articles":[{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2017-01-26T16:35:06Z","Content":"[@hschembri](https://forum.kerbalspaceprogram.com/index.php?/profile/109477-hschembri/) Try turning off the ocean shaders at the main menu."},{"CreatedByName":"hschembri","CreatedById":109477,"CreatedDateTime":"2017-01-26T16:40:41Z","Content":"[@cy4n](https://forum.kerbalspaceprogram.com/index.php?/profile/160682-cy4n/)OK. Let me try and play with the settings. So as such I am assuming my rig specs should cope with the add-on."},{"CreatedByName":"stratvox","CreatedById":134498,"CreatedDateTime":"2017-01-26T16:40:57Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, hschembri said:\n\u003E \n\u003E \n\u003E Does anyone know what hardware specs one needs to get this thing running smoothly? My rig has the following specs:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **GTX 4GB 970** \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **24GB RAM**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Core i7**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **SSD 500GB**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E My system can barely cope with KSP running this addon. I checked the memory and it is using a whopping 10GB. In conjunction with this add on i am using SVE at High Res. Everything runs smoothly without scatterer.\n\u003E \n\nYou need to revert to the version of scatterer included with SVE. The new version and SVE have a compatibility issue. [@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/) is working to deal with them in SVE; hopefully he\u0027ll have it out soon."},{"CreatedByName":"hschembri","CreatedById":109477,"CreatedDateTime":"2017-01-26T16:43:56Z","Content":"@stratvox OK. I am downloading it through \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E. I will also try solution by installing it manually and see what happens."},{"CreatedByName":"stratvox","CreatedById":134498,"CreatedDateTime":"2017-01-26T16:56:24Z","Content":"\u003E \n\u003E \n\u003E 11 minutes ago, hschembri said:\n\u003E \n\u003E \n\u003E @stratvox OK. I am downloading it through \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E. I will also try solution by installing it manually and see what happens.\n\u003E \n\nThere is a copy of scatterer in the zip file with SVE in it. Use that one; it\u0027s the version he used when he developed the last release of SVE and it is guaranteed compatible. Using \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E will simply get the latest one again, and you will still have the compatibility issue."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2017-01-26T17:17:38Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) (I\u0027m totally about to say this wrong) but did you get rid of that \u0022near plane clip\u0022 something er other, setting?\n\nIt no longer appears in the GUI or the settings file. And placing in the value I had in my old settings file didn\u0027t appear to do anything. I like to scale that back for cinematics / close ups, so the camera wouldn\u0027t clip through so much. Either way, not a huge deal. But I wanted to ask just the same."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-01-26T17:26:00Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, hschembri said:\n\u003E \n\u003E \n\u003E Does anyone know what hardware specs one needs to get this thing running smoothly? My rig has the following specs:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **GTX 4GB 970** \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **24GB RAM**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Core i7**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **SSD 500GB**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E My system can barely cope with KSP running this addon. I checked the memory and it is using a whopping 10GB. In conjunction with this add on i am using SVE at High Res. Everything runs smoothly without scatterer.\n\u003E \n\nThat should be fine ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) I ran a 970 with my i7 6700k for a while and had no problems."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2017-01-26T17:30:24Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E That should be fine ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) I ran a 970 with my i7 6700k for a while and had no problems.\n\u003E \n\nI can also back that up. I run Scatterer in addition to over 100 other mods. With videos up on YouTube to prove I can see 30-60 fps. I tend to hover around 11-13gb of ram used.\n\nI7 4790k\n\nGTX 970 - 4GB\n\n32GB of ram\n\n500GB SSD"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-01-26T17:44:06Z","Content":"\u003E \n\u003E \n\u003E 12 minutes ago, V8jester said:\n\u003E \n\u003E \n\u003E I can also back that up. I run Scatterer in addition to over 100 other mods. With videos up on YouTube to prove I can see 30-60 fps. I tend to hover around 11-13gb of ram used.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I7 4790k\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E GTX 970 - 4GB\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 32GB of ram\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 500GB SSD\n\u003E \n\nAlas, I\u0027ve only got 16GB of ram in my system ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022) - also it\u0027s DDR3-1600... I should probably upgrade that considering my CPU is an i7-6700k and I\u0027m running a GTX 1070 now (The only reason I haven\u0027t is because I\u0027d need to replace my MoBo as well since it doesn\u0027t support higher speed RAM)..."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2017-01-26T18:00:57Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E Alas, I\u0027ve only got 16GB of ram in my system ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022) - also it\u0027s DDR3-1600... I should probably upgrade that considering my CPU is an i7-6700k and I\u0027m running a GTX 1070 now (The only reason I haven\u0027t is because I\u0027d need to replace my MoBo as well since it doesn\u0027t support higher speed RAM)...\n\u003E \n\nSorry for the derail guys\n\nDid you notice enough difference in the jump to the 1070? Or do you wish you\u0027d gone for the 1080? I\u0027m still using DDR3 as well but 1866 and I\u0027m happy with it. (I can still always OC if I get board though ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) - GSkill Trident X)"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-01-26T18:23:07Z","Content":"\u003E \n\u003E \n\u003E 45 minutes ago, V8jester said:\n\u003E \n\u003E \n\u003E Sorry for the derail guys\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Did you notice enough difference in the jump to the 1070? Or do you wish you\u0027d gone for the 1080? I\u0027m still using DDR3 as well but 1866 and I\u0027m happy with it. (I can still always OC if I get board though ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) - GSkill Trident X)\n\u003E \n\nThe 1070 is incredible - I\u0027m able to stream[60fps at 720p on twitch](https://www.twitch.tv/avera9ejoe/v/115749586), with the Division on ultra (Though it could be tied to my using a 6700k). It\u0027s been said that there\u0027s an [80% performance jump from the 970 to the 1070](https://www.youtube.com/watch?v=tWiZqFeGVIs) (Both of those cards are the exact ones I have. I can relate. Do keep in mind though that he\u0027s relating various FPS games, KSP is a bit different). In all honesty I didn\u0027t get the 1080 because I didn\u0027t think I needed it, and from the performance that I have now I was right that the 1070 was plenty. If you want to use 4k then get the 1080 xD If not imo the 1070 is your best choice.\n\n**Edited \u003Ctime datetime=\u00222017-01-26T18:46:31Z\u0022 title=\u002201/26/2017 06:46  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 26, 2017\u003C/time\u003E by Avera9eJoe**"},{"CreatedByName":"hschembri","CreatedById":109477,"CreatedDateTime":"2017-01-26T18:30:50Z","Content":"@stratvox Thanks. It worked. Runs as smooth as anything.\n\n**Edited \u003Ctime datetime=\u00222017-01-26T18:31:12Z\u0022 title=\u002201/26/2017 06:31  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 26, 2017\u003C/time\u003E by hschembri**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-01-26T22:26:11Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, V8jester said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) (I\u0027m totally about to say this wrong) but did you get rid of that \u0022near plane clip\u0022 something er other, setting?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It no longer appears in the GUI or the settings file. And placing in the value I had in my old settings file didn\u0027t appear to do anything. I like to scale that back for cinematics / close ups, so the camera wouldn\u0027t clip through so much. Either way, not a huge deal. But I wanted to ask just the same.\n\u003E \n\nI did, it is no longer needed as the ocean no longer clips randomly with the coast (which it was supposed to fix). It was also messing with re-entry effects so I got rid of it. Essentially it is now just leaving the default values of the game untouched, but if you really want it back I can put it as an optional parameter in config files or w/e.\n\n\u003E \n\u003E \n\u003E 4 hours ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E Alas, I\u0027ve only got 16GB of ram in my system ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022) - also it\u0027s DDR3-1600... I should probably upgrade that considering my CPU is an i7-6700k and I\u0027m running a GTX 1070 now (The only reason I haven\u0027t is because I\u0027d need to replace my MoBo as well since it doesn\u0027t support higher speed RAM)...\n\u003E \n\n\u003E \n\u003E \n\u003E 4 hours ago, V8jester said:\n\u003E \n\u003E \n\u003E Sorry for the derail guys\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Did you notice enough difference in the jump to the 1070? Or do you wish you\u0027d gone for the 1080? I\u0027m still using DDR3 as well but 1866 and I\u0027m happy with it. (I can still always OC if I get board though ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) - GSkill Trident X)\n\u003E \n\nI don\u0027t know what you guys do, but I\u0027m perfectly happy with a gtx 780 and 8gb of RAM, in fact, I\u0027m beyond happy with the GPU actually, it literally can do anything.\n\n**Edited \u003Ctime datetime=\u00222017-01-26T22:26:24Z\u0022 title=\u002201/26/2017 10:26  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 26, 2017\u003C/time\u003E by blackrack**"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-01-26T22:50:54Z","Content":"\u003E \n\u003E \n\u003E 24 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E I did, it is no longer needed as the ocean no longer clips randomly with the coast (which it was supposed to fix). It was also messing with re-entry effects so I got rid of it. Essentially it is now just leaving the default values of the game untouched, but if you really want it back I can put it as an optional parameter in config files or w/e.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I don\u0027t know what you guys do, but I\u0027m perfectly happy with a gtx 780 and 8gb of RAM, in fact, I\u0027m beyond happy with the GPU actually, it literally can do anything.\n\u003E \n\n![:o](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon2.png \u0022:o\u0022) but can it stream in 1080p60? Lol\n\n**Edited \u003Ctime datetime=\u00222017-01-26T22:51:39Z\u0022 title=\u002201/26/2017 10:51  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 26, 2017\u003C/time\u003E by Avera9eJoe**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-01-26T23:10:55Z","Content":"\u003E \n\u003E \n\u003E 19 minutes ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E ![:o](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon2.png \u0022:o\u0022) but can it stream in 1080p60? Lol\n\u003E \n\nDoesn\u0027t shadowplay negate any performance impact on streaming/recording?"},{"CreatedByName":"CrazyTolradi","CreatedById":161709,"CreatedDateTime":"2017-01-26T23:14:23Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Doesn\u0027t shadowplay negate any performance impact on streaming/recording?\n\u003E \n\nFrom my understanding it just offloads the encoding to the GPU rather than CPU, if you\u0027re using OBS and using the Nvidia/AMD encoding anyway it won\u0027t make much difference."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2017-01-26T23:45:28Z","Content":"Thanks [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) Well I will not complain one way or another. I personally would like to have it as it made it more predictable in \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E when building, as well as allowed me to get better close ups in my videos. But With all the improvements you\u0027ve given us. I\u0027m not complaining about a thing ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) Really appreciate all the hard work man. Scatterer has really become 2nd to none around here."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-01-26T23:53:33Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, V8jester said:\n\u003E \n\u003E \n\u003E Scatterer has really become 2nd to none around here.\n\u003E \n\nThe name of my next mod will be \u0022none\u0022... \n\n![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\n**Edited \u003Ctime datetime=\u00222017-01-26T23:53:48Z\u0022 title=\u002201/26/2017 11:53  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 26, 2017\u003C/time\u003E by Galileo**"},{"CreatedByName":"Inflectrum","CreatedById":138771,"CreatedDateTime":"2017-01-27T14:03:30Z","Content":"I am getting a massive RAM leak which appears to be caused by scatterer whilst using stock visual enhancements. Anyone have any idea what might be causing it, and have any potential solutions?\n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E (Filename:  Line: -1)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [Scatterer] Added eclipse caster Mun for Kerbin  \n\u003E \n\u003E    \n\u003E \n\u003E (Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [Scatterer] Added eclipse caster Minmus for Kerbin  \n\u003E \n\u003E    \n\u003E \n\u003E (Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [Scatterer] Atmosphere config found for: Kerbin  \n\u003E \n\u003E    \n\u003E \n\u003E (Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E NullReferenceException: Object reference not set to an instance of an object  \n\u003E \n\u003E   at scatterer.Manager.getDirectionToSun () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n\u003E   at scatterer.SkyNode.InitPostprocessMaterial (UnityEngine.Material mat) [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n\u003E   at scatterer.SkyNode.Start () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n\u003E   at scatterer.Manager.Awake () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n\u003E   at scatterer.Core.Update () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\n\u003E \u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E\n\u003E \n\nAnyone have any idea what could be causing this?\n\n[output_log.txt](https://1drv.ms/t/s!ApUp7oaUksQihdJSqIxyRG_8xThDuQ)\n\n**Edited \u003Ctime datetime=\u00222017-01-27T14:08:22Z\u0022 title=\u002201/27/2017 02:08  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 27, 2017\u003C/time\u003E by Inflectrum**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-01-27T14:13:37Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, Inflectrum said:\n\u003E \n\u003E \n\u003E I am getting a massive RAM leak which appears to be caused by scatterer whilst using stock visual enhancements. Anyone have any idea what might be causing it, and have any potential solutions?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Anyone have any idea what could be causing this?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [output_log.txt](https://1drv.ms/t/s!ApUp7oaUksQihdJSqIxyRG_8xThDuQ)\n\u003E \n\nPlease read the last 2 pages. This question has been answered multiple times. \n\n**Edited \u003Ctime datetime=\u00222017-01-27T14:14:17Z\u0022 title=\u002201/27/2017 02:14  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 27, 2017\u003C/time\u003E by Galileo**"},{"CreatedByName":"Arcadian Del Sol","CreatedById":169920,"CreatedDateTime":"2017-01-27T16:02:13Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Galileo said:\n\u003E \n\u003E \n\u003E Please read the last 2 pages. This question has been answered multiple times.\n\u003E \n\nHang in there, man.\n\nWe know you\u0027re working hard on an update.\n\nWe appreciate it."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-01-27T16:03:39Z","Content":"\u003E \n\u003E \n\u003E Just now, Arcadian Del Sol said:\n\u003E \n\u003E \n\u003E Hang in there, man.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E We know you\u0027re working hard on an update.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E We appreciate it.\n\u003E \n\nI have an update ready. I am just waiting for the black cloud fix blackrack is working on. The release will follow directly after"},{"CreatedByName":"PmThay","CreatedById":117293,"CreatedDateTime":"2017-01-28T04:24:40Z","Content":"Some more cool pictures. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n![KoL9cLB.jpg](http://i.imgur.com/KoL9cLB.jpg)\n\n![rOWZ6Ne.jpg](http://i.imgur.com/rOWZ6Ne.jpg)\n\n![5WtxrHU.jpg](http://i.imgur.com/5WtxrHU.jpg)"},{"CreatedByName":"Identitools","CreatedById":168921,"CreatedDateTime":"2017-01-28T17:28:34Z","Content":"Scatterer is eating all my sweet sweet 16gb of ram, disabling it solved my problems. Is someone else got this problem?"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2017-01-28T17:33:23Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Identitools said:\n\u003E \n\u003E \n\u003E Scatterer is eating all my sweet sweet 16gb of ram, disabling it solved my problems. Is someone else got this problem?\n\u003E \n\nA few people have made this same observation. I hit 17GB last night on my 32GB system myself. It seems to have a memory leak the I believe [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) is aware of and I\u0027m sure will tackle in due time. One of us just needs to go down to his dungeon and change his water and food bowls first ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"}]}