{"TopicId":114602,"ForumId":70,"TopicTitle":"Physic Lag increase in 1.0.4?","CreatedByName":"WeirdCulture","CreatedById":76591,"CreatedDateTime":"2015-06-29T22:41:59Z","PageNum":1,"Articles":[{"CreatedByName":"WeirdCulture","CreatedById":76591,"CreatedDateTime":"2015-06-29T22:41:59Z","Content":"Hi fellow kerbonauts and rocket builders, \n\ndid something changed in 1.0.4 (haha!) that causes a massive increase of physics calculations? After 1.0.4 I have a huge increase of \u0022yellow\u0022 times at the beginning of a launch, even some \u0022red\u0022. I could swear that I hadn\u0027t this before 1.0.4 (hadn\u0027t the chance to test 1.0.3) \n\nThe rocket which I\u0027ve constructed has about 100 Parts which is this not this much. I\u0027ve tried many things as deleting mods which increase the graphics like EVE, planetshine, Engine lighning.. but nothing helps a lot. \n\n![hmfOaDwh.jpg](http://i.imgur.com/hmfOaDwh.jpg)\n\nI see also a huge, a really huge instant yellow and red physic delay when I see and \u0022feel\u0022 the supersonic effects. The same at visual thermal effects.\n\nis there any possibility to debug this more than from the debug menu (alt/LSHIFT-F12)\n\nBefore I start to try to pin down which of this mods I use creates the lag, by\n\n10 removing one mod\n\n20 RUN KSP ( in open opengl mode)\n\n30 Wait..\n\n40 Wait more (did i pressed play on tape? ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif))\n\n50 load into savegame\n\n60 launch\n\n70 see physics delay and get frustrated and exit KSP \n\n80 reinstall mod\n\n90 GOTO 10\n\nare there any known performance issues with KSP since 1.0.4? I need to know this before I will try to find this out the hard way ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nPS: it doesn\u0027t matter if I try this on Windows or Linux both have the same issue. (with the same copy of the savegame) ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nPPS: I search for a solution for about 2 evenings, and yesterday if I tried it ingame with different parts, I switched the engine on the 3rd stage to the LV909 and the problem disappeared ... so I was wondering and put the LV45 back, didn\u0027t came back... first a big \u0022YEAH... lets try to restart and reproduce!\u0022 after the restart the problem came back but the \u0022solution\u0022 didn\u0027t work ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nPPPS: I install my mods via CKAN if possible"},{"CreatedByName":"WeirdCulture","CreatedById":76591,"CreatedDateTime":"2015-07-02T09:23:39Z","Content":"Ohh dear deer, \n\nafter iterations of the loop above, and finally striping the installation down, and even a fresh installation to a vanilla installation, it is the OpenGL mode which creating the huge Performance hit in 1.0.4. Eyecandy like EvE, EngineLightning etc. just make it worse. I can switch it on/off by Playing in D3D or OpenGL. Or just switching back to 1.0.2... ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif) I don\u0027t know what I am dooing next, no eyecandy and D3D or Eyecandy and 15 FPS ..."},{"CreatedByName":"Xyd","CreatedById":73520,"CreatedDateTime":"2015-07-02T09:54:42Z","Content":"Yep getting this exact same problem. Massive unexplained lag increase in 1.04 with mods. Although not sure whats causing it, wasn\u0027t even aware I was using OpenGL... Will try it without, but something is seriously wrong here."},{"CreatedByName":"Baleur","CreatedById":9954,"CreatedDateTime":"2015-09-21T10:27:07Z","Content":"Same problem. Ran with all my fancy mods in 1.0.2 and had playable framerates.\n\nNow in 1.0.4 i cant even launch a THIRTY (30!!) part rocket without yellow physics delay where 1 second equals EIGHT (8!!) real life seconds.\n\nIt is utterly ridiculous.\n\nforce-d3d9 or force-d3d11 or force-opengl doesnt change anything.\n\nNo mods, still the same extreme physics slowdown.\n\nSick of this. Why cant i download 1.0.2 from the official store anymore?"},{"CreatedByName":"guifon","CreatedById":96763,"CreatedDateTime":"2015-09-21T12:02:10Z","Content":"Same problem here. I use only Planet Shine and Real Plume/SmokeScreen for visual mods (had eve then uninstalled it). Also i use always D3D mode (the default) with half-res because in Open-GL and D3D11 the performance is worse.\n\nI can see that the performance gets worse when the speed comes to Mach 1 and after Mach 2, then it gets better."},{"CreatedByName":"yorshee","CreatedById":135011,"CreatedDateTime":"2015-09-21T12:08:59Z","Content":"The performance improves if you aim the camera toward the sky, which makes me think it\u0027s an issue with Kerbin\u0027s terrain. Try turning the graphics down a bit? That\u0027s what I did since I had the same issue."},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-09-21T19:43:29Z","Content":"\u003E \n\u003E The performance improves if you aim the camera toward the sky, which makes me think it\u0027s an issue with Kerbin\u0027s terrain. Try turning the graphics down a bit? That\u0027s what I did since I had the same issue.\n\nSame problem here. When near Kerbin\u0027s terrain (or in orbit directly above it) the FPS drops and the physics lag increases rapidly. Everything is fine when looking at empty space.\n\nGraphics settings (from extremely low to max) make no difference, game is stuck at 22FPS when terrain is in view. Overclocking my CPU also seems to have no effect, meaning the graphics card and the CPU are not bottlenecking.\n\nThat leaves memory bandwidth (my DDR2-800 may be showing its age here) and possible disk I/O for loading terrain. Issue does not seem to be restricted to Kerbin, missions to Minmus show a similar slowdown when over the surface."},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-09-22T18:38:37Z","Content":"OK, further testing:\n\nThe issue is definitely terrain rendering. Physics lag increase and FPS drops to 25.0 flat when Kerbin is taking up the majority of the view. It\u0027s also not mod-related and present in stock KSP.\n\nWorkaround for now is to drop the rendering quality level. AA and texture size don\u0027t matter, it\u0027s the complexity of the terrain that is pegging the CPU and shader pipeline."},{"CreatedByName":"Baleur","CreatedById":9954,"CreatedDateTime":"2015-09-23T11:47:38Z","Content":"22fps, you guys are lucky. I get 1-2 fps. With 30-part ships. Without any ships (only the graphics rendering) i get 50fps stable, on the surface, in the air, or in orbit. This is with mods and EVE with clouds and citylights etc. \n\nIn 1.0.2 i got 30fps at the ground.\n\nSo something DEFINTELY broke with the updates.\n\n(yes, obviously tried stock too, and updating the mods to their 1.0.4 versions)"},{"CreatedByName":"TheMoonRover","CreatedById":136199,"CreatedDateTime":"2015-09-23T14:39:00Z","Content":"There\u0027s always been a noticeable performance drop whenever you\u0027re looking towards Kerbin\u0027s horizon and not straight down or up. It\u0027s just that people with higher end PCs don\u0027t notice it - I play on a laptop with an i3 processor (Intel HD graphics FTW!) I\u0027ve not noticed it any more than there was before 1.0\n\nBut recently (as in 1.0.4) I\u0027ve noticed a further performance drop whenever the active ship is in the atmosphere (even if looking straight up) and above about 750m/s, which would suggest an issue with krakensbane. [EDIT: And I\u0027m playing mostly stock. When entering the atmosphere at around orbital velocity I\u0027m getting more than one second per frame for several frames.] Could this be what you guys are seeing?\n\n**Edited \u003Ctime datetime=\u00222015-09-23T14:41:17Z\u0022 title=\u002209/23/2015 02:41  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 23, 2015\u003C/time\u003E by TheMoonRover**"},{"CreatedByName":"Baleur","CreatedById":9954,"CreatedDateTime":"2015-10-01T18:07:40Z","Content":"Yeah, even a completely stock mark 1 crew pod, with only an antenna and some batteries, bits and bobs (no more than 8 parts in total) attached.\n\nWhen hitting the atmosphere the framerate will drop to 2-3 on average. Even with the graphics options set to low (such as the aero fx which some suggested were a preformance hog).\n\nBut frankly the graphics options dont matter, might as well keep them maxed out, because in 1.0.2 i never saw this issue.\n\nSomething is wrong with the simulation, the physics calculation regarding atmospherics, drag or lift, or temperature."},{"CreatedByName":"KapitaenM","CreatedById":125176,"CreatedDateTime":"2015-10-04T17:24:39Z","Content":"Depending on the complexity of my craft, visually-apparent drag during ascent will cause severe performance problems as everyone has mentioned prior.\n\nRunning on OpenGL with EVE/clouds/etc. However, even with aircraft that do not breach the atmosphere, if I push its velocity to get some drag effects, the FPS will drop... a lot.\n\nThere\u0027s definitely a terrain thing going on, too."},{"CreatedByName":"Beduino","CreatedById":81326,"CreatedDateTime":"2015-10-08T18:31:51Z","Content":"Not necessarily physics, but probably the heat calculation adds too much complexity per part. \n\nI mean, most parts are made of metal anyway which is quite good in heat conductivity. If heat was big enough to cause problems it would spread pretty quickly and gobble the whole ship, to me it would have been sufficient to have heat as part of the whole ship calculation, instead of having it calculated per part, except for the parts that generate or radiate heat anyway.\n\nThat being said, I hate this version because lag has increased per part, not only in the launch but now i cannot build bigger bases or stations anymore, the performance is reduced a lot more compared to older versions."},{"CreatedByName":"WeirdCulture","CreatedById":76591,"CreatedDateTime":"2015-10-13T15:30:31Z","Content":"\u003E \n\u003E Not necessarily physics, but probably the heat calculation adds too much complexity per part.\n\nwhat helps is the reducing the entry effects. But every mod which increases physics calculations slows it down. Hope for 1.1. \n\nBut this seems to be an OpenGL issue, because i didn\u0027t have the problems with DirectX (if I reduce the ammount of mods to a minimum). But I have to play on Linux because of the tons of mods\n\n**Edited \u003Ctime datetime=\u00222015-10-13T15:32:32Z\u0022 title=\u002210/13/2015 03:32  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 13, 2015\u003C/time\u003E by WeirdCulture**"},{"CreatedByName":"gre8","CreatedById":94985,"CreatedDateTime":"2015-11-09T14:51:12Z","Content":"Just leaving this here because I\u0027m having the same problem.\n\nIt is not hardware or mod related: my computer always had more power than the game required and i\u0027m running clean installs (not even kerbal engineer).\n\nI noticed this huge frame drop when looking at terrain too and I\u0027m guessing it is something related to it also. But evenwhen in orbit, I still get strang hiccups with even the smallest ships, when in the past I used to build nice space stations that would now be unthinkable. Really hoping the next update, or the 64bit version will ammend this."}]}