{"TopicId":163678,"ForumId":29,"TopicTitle":"Best way to determine if a vessel is a kerbal","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-25T11:24:26Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-25T11:24:26Z","Content":"\n\u003Cp\u003E\nGiven a Vessel ( which may or may not be the active vessel), what is the best way to determine if it is a Kerbal or not? \u00A0This needs to be checked in the GameEvents.onVesselModified, it seems that when a Kerbal goes EVA, the vessel is modified, but I haven\u0027t \u00A0yet been able to properly identify if it\u0027s a kerbal\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve come up with the following \u003Cs\u003Ewhich seems to work\u003C/s\u003E, is there a better way (ie: faster):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Evoid testVessel(Vessel v)\n{\n\tif (v.rootPart.Modules.Contains(\u0022Kerbal\u0022))\n                return;\n      \n    // do something here if NOT a kerbal\n      \n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAlso, this doesn\u0027t seem to work either:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eif (v.isEVA \u0026amp;\u0026amp; v.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;KerbalEVA\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E() != null)\n                return;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t just compare the vessel name to the name of the crew, since it is conceivable that someone might name a ship the same as the kerbal inside.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-07-25T12:21:30Z\u0022 title=\u002207/25/2017 12:21  PM\u0022 data-short=\u00226 yr\u0022\u003EJuly 25, 2017\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-25T12:49:23Z","Content":"\n\u003Cp\u003E\nActually, I may be mistaken. \u00A0It appears that I\u0027m actually seeing the onVesselModified on the original vessel, not the kerbal.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-07-25T12:54:35Z","Content":"\n\u003Cp\u003E\nThe module name is\u00A0KerbalEVA so I don\u0027t see how it would work with\u00A0v.rootPart.Modules.Contains(\u0022Kerbal\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nand the fastest would be v.rootPart.Modules.Contains\u0026lt;KerbalEVA\u0026gt;()\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-25T13:03:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223130686\u0022 data-ipsquote-contentid=\u0022163678\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500987275\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe module name is\u00A0KerbalEVA so I don\u0027t see how it would work with\u00A0v.rootPart.Modules.Contains(\u0022Kerbal\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nand the fastest would be v.rootPart.Modules.Contains\u0026lt;KerbalEVA\u0026gt;()\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks, I did find that was working.\n\u003C/p\u003E\n\u003Cp\u003E\nRelated question, I\u0027m getting an \u0022onVesselWasModified\u0022 event for the parent vessel \u00A0when a kerbal goes EVA. \u00A0Is there an easy way to determine if this event was generated because of an EVA?\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-07-25T13:14:05Z","Content":"\n\u003Cp\u003E\nI don\u0027t think so.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-25T13:17:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223130698\u0022 data-ipsquote-contentid=\u0022163678\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500988445\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t think so.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I\u0027ve seen is that the onCrewTransferred is thrown just before the onVesselModified, so I\u0027ll just have to set a flag.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-07-25T13:42:23Z","Content":"\n\u003Cp\u003E\nMake sure to test with other scenario than EVA with a hatch (like ejected from a command seat ? Forgot how that one works) so be sure your code is not dependent on event created by UI code..\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-25T21:47:19Z","Content":"\n\u003Cp\u003E\nYup, thanks\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-27T09:01:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223130717\u0022 data-ipsquote-contentid=\u0022163678\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500990143\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/25/2017 at 9:42 AM, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMake sure to test with other scenario than EVA with a hatch (like ejected from a command seat ? Forgot how that one works) so be sure your code is not dependent on event created by UI code..\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt was different, as was crew transferred, but I have them both working now.\n\u003C/p\u003E\n"}]}