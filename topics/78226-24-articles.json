{"TopicId":78226,"ForumId":34,"TopicTitle":"[1.4] StageRecovery - Recover Funds\u002B from Dropped Stages - v1.8.0 (March 11, 2018)","CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2014-07-18T15:15:22Z","PageNum":24,"Articles":[{"CreatedByName":"AlphaAsh","CreatedById":105348,"CreatedDateTime":"2015-05-16T13:48:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EI also added some things to the API that should make KerbalKonstruct support super easy, but it will require a change on their side...\u003Cp\u003E- Added OnRecoveryProcessingStart and OnRecoveryProcessingFinish events to API, for Kerbal Konstructs support. Fire when first starting recovery code (after determining viability for recovery, but before Vt calculations) and at the end of recovery code (doesn\u0027t include information about recovery, just for cleaning up)...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds good chap and I\u0027ll have a look-see. KK is only concerned with recovery of splashed and landed missions so I\u0027m not sure this is the right way round to do it though. What might be a better approach is if KK\u0027s calculation of distance to nearest open base was exposed for StageRecovery to be able to hook on. TBH though, my coding skills are sucky and rusty so I\u0027ll probably need some help with that.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-16T14:35:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AlphaAsh\u0022 data-cite=\u0022AlphaAsh\u0022\u003E\u003Cdiv\u003ESounds good chap and I\u0027ll have a look-see. KK is only concerned with recovery of splashed and landed missions so I\u0027m not sure this is the right way round to do it though. What might be a better approach is if KK\u0027s calculation of distance to nearest open base was exposed for StageRecovery to be able to hook on. TBH though, my coding skills are sucky and rusty so I\u0027ll probably need some help with that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI considered trying to get at that function through reflection, but it\u0027s always a pain to do properly. I figured others might want to use the new events in the API for some reason, and it should be pretty plug and play for you, if you decide to include it. If you want me to make the changes for you and do a PR I can, otherwise I\u0027ll try to quickly go through what you\u0027d need to do.\u003C/p\u003E\u003Cp\u003E1. Include the \u003Ca href=\u0022https://github.com/magico13/StageRecovery/blob/master/StageRecovery/StageRecoveryWrapper.cs\u0022 rel=\u0022external nofollow\u0022\u003EStageRecovery Wrapper\u003C/a\u003E in KK (and change the namespace to that of KK\u0027s)\u003C/p\u003E\u003Cp\u003E2. Where you add GameEvents in the KerbalKonstructs.cs file, add\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif (StageRecoveryWrapper.StageRecoveryAvailable)\u003Cbr\u003E{\u003Cbr\u003E    StageRecoveryWrapper.AddRecoveryProcessingStartListener(OnVesselRecoveryRequested); //This uses the already existing function in KK that change the space center instance when something is being recovered\u003Cbr\u003E    StageRecoveryWrapper.AddRecoveryProcessingFinishListener(SRProcessingFinished); //This requires a new function for now, but it will just link to the OnVesselRecovered function\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E3. You\u0027ll need to add one tiny function for resetting the space center, but we\u0027ll call the already existing OnVesselRecovered function in it so you won\u0027t need to make changes in the future.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid SRProcessingFinished(Vessel vessel)\u003Cbr\u003E{\u003Cbr\u003E    OnVesselRecovered(vessel.protoVessel);\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd that\u0027s it! If SR isn\u0027t installed, it won\u0027t do anything, but if it is it\u0027ll set the SpaceCenter instance when SR goes to do calculations, then reset it at the end. If you make changes to how the normal recovery works, it should change for SR based recovery as well. Note that the SRProcessingFinished doesn\u0027t say whether or not the recovery was \u003Cem\u003Esuccessful\u003C/em\u003E, just that it finished processing. If you want to do anything on only a successful recovery, you\u0027ll need to add a new event listener with StageRecoveryWrapper.AddRecoverySuccessEvent().\u003C/p\u003E\u003Cp\u003EI should note that I haven\u0027t been able to test it a whole lot. It occurs to me now that it might be possible for the RecoveryProcessingFinish event to not be fired if an error occurs during recovery processing, meaning the SpaceCenter instance would get \u0022stuck\u0022. Except, thinking about it the code still continues when it catches the most common errors. Other errors would indicate a more severe problem anyway, so I don\u0027t think that will be an issue. Just something I\u0027ll need to watch out for.\u003C/p\u003E\u003Cp\u003EIf you decide you\u0027d rather just expose the GetClosestBase function, we can talk more to figure out a way to do that. Thanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022politas\u0022 data-cite=\u0022politas\u0022\u003E\u003Cdiv\u003EI haven\u0027t updated to the latest version yet, but I\u0027ve been getting a few stages that the SR dialog tells me are recovered without any notifications popping up for the recovered funds. The last one was a stage I separated from in atmo, after aerobraking below 2000m/s. It had sufficient parachutes to land safely, but stayed in physics bubble until I landed the capsule, and then just disappeared.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESR can only work (and does only work) when vessels are unloaded and destroyed as a result. If they\u0027re still in physics range, that\u0027s on you to recover. Make sure it didn\u0027t also land and just can\u0027t been seen in the map because it\u0027s listed as \u0022debris\u0022 (so, in the map/tracking station modify the filters at the top until you can see debris).\u003C/p\u003E\n"},{"CreatedByName":"AlphaAsh","CreatedById":105348,"CreatedDateTime":"2015-05-16T18:19:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003E... words ...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECheers chap. I\u0027ll spend some time on this probably tomorrow and give you a shout if I hit a wall.\u003C/p\u003E\n"},{"CreatedByName":"brygun","CreatedById":141392,"CreatedDateTime":"2015-05-17T04:11:13Z","Content":"\n\u003Cp\u003ENot sure how to give you a \u002B1 or something, so another post of thanks.\u003C/p\u003E\u003Cp\u003EI personally use a bit of imagination on what I call \u0022near volume space\u0022 rather than the CLS mod. A space holding adapter for instance might have some of the fuel tank shifted into it to create space in the fuel tank. I do empty out fuel tanks either fully as a habitable space sometimes to. So having the option to self regulate vs CLS is great as Im also glad to see folks supporting each other\u0027s mods.\u003C/p\u003E\u003Cp\u003ESometimes with my near volume approach it can be tricky during a refuelling to do it right or balanced without filling up the wrong tank. So glad how your mod works and gladder still for it being patched.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-17T04:13:21Z\u0022 title=\u002205/17/2015 04:13  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 17, 2015\u003C/time\u003E by brygun\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AlphaAsh","CreatedById":105348,"CreatedDateTime":"2015-05-17T11:45:53Z","Content":"\n\u003Cp\u003EMission successful \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.kashcorp.co.uk/allgood.png\u0022 alt=\u0022allgood.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis rocket was launched from Round Range and the recovery distance used for the dropped booster stages is correct. Same issue KSP has with the name of the base reported for the recovery of a landed or splashed mission, but that\u0027s a minor concern.\u003C/p\u003E\u003Cp\u003EThanks magico13 for making this so easy to sort and for the great mod. I\u0027ll get the new version of KK out later today.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-17T11:48:20Z\u0022 title=\u002205/17/2015 11:48  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 17, 2015\u003C/time\u003E by AlphaAsh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"oversoul","CreatedById":66822,"CreatedDateTime":"2015-05-19T01:34:01Z","Content":"\n\u003Cp\u003EThanks for the 1.5.6 update! I am recovering things now. :3\u003C/p\u003E\n"},{"CreatedByName":"SpaceSmith","CreatedById":23693,"CreatedDateTime":"2015-05-24T16:23:54Z","Content":"\n\u003Cp\u003ESo I am using 1.5.6 with 1.0 KSP and I am getting nothing of the sort of what you have in the images. When I load a craft, all I get is the recovered and destroyed options, nothing that says parts, crew, or anything else..... And even though I equip my stages with parachutes and drop them, it doesn\u0027t tell me anything about them being either recovered or destroyed. \u003C/p\u003E\u003Cp\u003EWhats more is I cannot seem to get the menu to pull up during the VAB at all either.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-24T17:34:21Z","Content":"\n\u003Cp\u003EThose pictures are a bit out of date, so what you describe isn\u0027t too far from what you should be seeing. Let me see if I can help.\u003C/p\u003E\u003Cp\u003EThe window in flight will just list recovered/destroyed until something is actually recovered or destroyed, then clicking on the button will list all of the recovered/destroyed stages. Clicking again on a stage in the list will bring up the parts/crew/etc tabs.\u003C/p\u003E\u003Cp\u003EKSP 1.0 increased the physics range, so it\u0027s possible that the stages you\u0027re dropping are hitting the ground before they would go out of physics range. Try either deploying the chutes when you decouple, or decoupling at a higher altitude. You need to get 22.5km away from them before they hit the ground in order for StageRecovery to kick in (that\u0027s when KSP deletes them).\u003C/p\u003E\u003Cp\u003EIn the VAB/SPH clicking the SR button will cause a message to appear in the stock messaging system (where contract completion messages go). There isn\u0027t a SR specific GUI in the editor.\u003C/p\u003E\u003Cp\u003EIf you still need help, let me know and I\u0027ll try my best to help you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Vorg","CreatedById":74652,"CreatedDateTime":"2015-05-24T20:02:41Z","Content":"\n\u003Cp\u003ESet set the chutes pressure setting to .32. This keeps the chutes from popping out until I think it was ~15-20k? I forget now. I was having a problem with the retro burn section burning off chutes during reentry if it followed too close to the pod. With a setting of .32, you can stage the chutes, but they don\u0027t deploy until after reentry. Even at .3 I was loosing chutes. .32 puts it a bit low if the part happens to come down over mountains. They may not slow down enough before hitting.\u003C/p\u003E\n"},{"CreatedByName":"SpaceSmith","CreatedById":23693,"CreatedDateTime":"2015-05-25T09:13:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EThose pictures are a bit out of date, so what you describe isn\u0027t too far from what you should be seeing. Let me see if I can help.\u003Cp\u003EThe window in flight will just list recovered/destroyed until something is actually recovered or destroyed, then clicking on the button will list all of the recovered/destroyed stages. Clicking again on a stage in the list will bring up the parts/crew/etc tabs.\u003C/p\u003E\u003Cp\u003EKSP 1.0 increased the physics range, so it\u0027s possible that the stages you\u0027re dropping are hitting the ground before they would go out of physics range. Try either deploying the chutes when you decouple, or decoupling at a higher altitude. You need to get 22.5km away from them before they hit the ground in order for StageRecovery to kick in (that\u0027s when KSP deletes them).\u003C/p\u003E\u003Cp\u003EIn the VAB/SPH clicking the SR button will cause a message to appear in the stock messaging system (where contract completion messages go). There isn\u0027t a SR specific GUI in the editor.\u003C/p\u003E\u003Cp\u003EIf you still need help, let me know and I\u0027ll try my best to help you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, I will try it with your suggestions and see how well it works. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"b0bby","CreatedById":57886,"CreatedDateTime":"2015-05-26T00:49:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EThose pictures are a bit out of date, so what you describe isn\u0027t too far from what you should be seeing. Let me see if I can help.\u003Cp\u003EThe window in flight will just list recovered/destroyed until something is actually recovered or destroyed, then clicking on the button will list all of the recovered/destroyed stages. Clicking again on a stage in the list will bring up the parts/crew/etc tabs.\u003C/p\u003E\u003Cp\u003EKSP 1.0 increased the physics range, so it\u0027s possible that the stages you\u0027re dropping are hitting the ground before they would go out of physics range. Try either deploying the chutes when you decouple, or decoupling at a higher altitude. You need to get 22.5km away from them before they hit the ground in order for StageRecovery to kick in (that\u0027s when KSP deletes them).\u003C/p\u003E\u003Cp\u003EIn the VAB/SPH clicking the SR button will cause a message to appear in the stock messaging system (where contract completion messages go). There isn\u0027t a SR specific GUI in the editor.\u003C/p\u003E\u003Cp\u003EIf you still need help, let me know and I\u0027ll try my best to help you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi there!\u003C/p\u003E\u003Cp\u003EFirst of all, thx a lot for your awesome job on your mods. I totally love them!\u003C/p\u003E\u003Cp\u003EUnfortunatly i\u0027ve got a little issue with SR. The SR button in the VAB dont show up at all, and messages of recovered/destroyed stages neither. But the last point must be because of the increased physic\u0027s loading distance as you mentioned.\u003C/p\u003E\u003Cp\u003ECan you just help me about that invisible button? Thank you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-26T00:57:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022b0bby\u0022 data-cite=\u0022b0bby\u0022\u003E\u003Cdiv\u003EHi there!\u003Cp\u003EFirst of all, thx a lot for your awesome job on your mods. I totally love them!\u003C/p\u003E\u003Cp\u003EUnfortunatly i\u0027ve got a little issue with SR. The SR button in the VAB dont show up at all, and messages of recovered/destroyed stages neither. But the last point must be because of the increased physic\u0027s loading distance as you mentioned.\u003C/p\u003E\u003Cp\u003ECan you just help me about that invisible button? Thank you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECould be that the mod is installed wrong (make sure the StageRecovery folder is inside the GameData folder, and not that there\u0027s a GameData folder inside the GameData folder). It should look like {KSP Folder}\\GameData\\StageRecovery, not {KSP Folder}\\GameData\\GameData\\StageRecovery. If that\u0027s not the problem, it might be that a mod is having an error and is preventing StageRecovery from loading, which the log files might be able to point out. Alternatively, Active Texture Management might be affecting it (but usually that just turns it white). One last option is that you have the toolbar mod installed, in which case the button will appear there but not in the Stock toolbar. You should be able to choose between them in the SR settings (which you can do in game once you find the button, or out of game by modifying the Config.txt file)\u003C/p\u003E\n"},{"CreatedByName":"b0bby","CreatedById":57886,"CreatedDateTime":"2015-05-26T02:51:35Z","Content":"\n\u003Cp\u003EOk! I\u0027ve found where does this issue come from! It appears that SR mod might be in conflict with FMRS mod. I will delete FMRS that i dont really have the need of and everything shoud will be fine after that. Thanks for your quick replay anyway Magico. I really apprecied it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-26T02:54:13Z\u0022 title=\u002205/26/2015 02:54  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 26, 2015\u003C/time\u003E by b0bby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-26T03:11:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022b0bby\u0022 data-cite=\u0022b0bby\u0022\u003E\u003Cdiv\u003EOk! I\u0027ve found where does this issue come from! It appears that SR mod might be in conflict with FMRS mod. I will delete FMRS that i dont really have the need of and everything shoud will be fine after that. Thanks for your quick replay anyway Magico. I really apprecied it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell that\u0027s unfortunate, because I tried to add FMRS compatibility in one of the most recent updates \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E It was working fine in 0.90, but I didn\u0027t get to test it in 1.0 before release. Since I play with both mods, I\u0027ll probably run into issues at some point and will fix them. Thanks for doing some problem solving on your own as well \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"b0bby","CreatedById":57886,"CreatedDateTime":"2015-05-26T04:35:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EWell that\u0027s unfortunate, because I tried to add FMRS compatibility in one of the most recent updates \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E It was working fine in 0.90, but I didn\u0027t get to test it in 1.0 before release. Since I play with both mods, I\u0027ll probably run into issues at some point and will fix them. Thanks for doing some problem solving on your own as well \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWait, my problem is solved, but my SR icon wasnt showing up till i\u0027ve found it in my toolbar mod. Maybe i was wrong about FMRS compatibility. You should wait for some more feedback about this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Vandros","CreatedById":131571,"CreatedDateTime":"2015-05-26T06:51:06Z","Content":"\n\u003Cp\u003EHi Magico! Thanks for this great mod. It has really made the CFO of To Space Inc a nicer person to be around \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI have one suggestion for this mod. Would it be possible to add one extra line to the recovery message that states what the maximum recovery funds would have been.\u003C/p\u003E\u003Cp\u003EWe are of course able to check this in the editor, but I think this might really add to wanting te recover as efficiently as possible.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-26T06:51:54Z\u0022 title=\u002205/26/2015 06:51  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 26, 2015\u003C/time\u003E by Vandros\u003C/strong\u003E\n\u003Cbr\u003ESpelling\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-26T14:43:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vandros\u0022 data-cite=\u0022Vandros\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI have one suggestion for this mod. Would it be possible to add one extra line to the recovery message that states what the maximum recovery funds would have been.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDefinitely doable! I think I was even wanting this the other day, so I\u0027ll try to remember to add it in next version \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drake1500","CreatedById":134696,"CreatedDateTime":"2015-05-28T00:22:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EAdded FMRS support. The two shouldn\u0027t try to recover the same things now and should play nicely together!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes this mean that if FMRS is active, StageRecovery will not fire? I thought that perhaps I had hit a bug when SR refused to recover my spent stages, until I tried turning FMRS off.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-28T01:56:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Drake1500\u0022 data-cite=\u0022Drake1500\u0022\u003E\u003Cdiv\u003EDoes this mean that if FMRS is active, StageRecovery will not fire? I thought that perhaps I had hit a bug when SR refused to recover my spent stages, until I tried turning FMRS off.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf FMRS is on it will handle recovery of controlled stages and stages with RealChutes on them. That also includes all parachutes when FAR is installed, on SR\u0027s side at least. FMRS might not try to recover those.\u003C/p\u003E\u003Cp\u003EWith stock chutes or FMRS turned off, StageRecovery takes over completely. Unfortunately, that\u0027s about all I can do because FMRS hasn\u0027t made any changes on their side for the compatibility (nor is there an FMRS API)\u003C/p\u003E\n"},{"CreatedByName":"neskire","CreatedById":142733,"CreatedDateTime":"2015-05-28T15:07:51Z","Content":"\n\u003Cp\u003EHey Magico, This is not a bug report, im just curious if you or anybody else have the same experience as me.\u003C/p\u003E\u003Cp\u003EWhats up with the huge cpu spikes every 5-10 seconds?\u003C/p\u003E\u003Cp\u003EIm running this on a low-end computer which pulls around 25 FPS with 200-part ship in VAB, every 10 or so seconds fps comes to a halt for around 1-4 sec.\u003C/p\u003E\u003Cp\u003EIs it possible for the you (Magico) to stop whatever check / loop running at least while in the VAB or increase the timer to say: 60 seconds?.\u003C/p\u003E\u003Cp\u003Eedit: This goes without saying that im only running your mod, on a clean steam install.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-28T15:10:59Z\u0022 title=\u002205/28/2015 03:10  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 28, 2015\u003C/time\u003E by neskire\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-28T15:27:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022neskire\u0022 data-cite=\u0022neskire\u0022\u003E\u003Cdiv\u003EHey Magico, This is not a bug report, im just curious if you or anybody else have the same experience as me.\u003Cp\u003EWhats up with the huge cpu spikes every 5-10 seconds?\u003C/p\u003E\u003Cp\u003EIm running this on a low-end computer which pulls around 25 FPS with 200-part ship in VAB, every 10 or so seconds fps comes to a halt for around 1-4 sec.\u003C/p\u003E\u003Cp\u003EIs it possible for the you (Magico) to stop whatever check / loop running at least while in the VAB or increase the timer to say: 60 seconds?.\u003C/p\u003E\u003Cp\u003Eedit: This goes without saying that im only running your mod, on a clean steam install.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is with StageRecovery, not with Kerbal Construction Time, right? StageRecovery doesn\u0027t run anything inside a loop, ever, except for GUI code that only runs when an SR GUI is open (which only can happen in flight and in the space center). I\u0027d be very surprised if it was StageRecovery related.\u003C/p\u003E\u003Cp\u003ENow, if you meant Kerbal Construction Time, then I can totally see that happening. Whenever parts are changed, KCT has to update the BP value, meaning it has to recalculate everything, including parsing the build rate formula. That check is restricted to happen once per second (I believe it\u0027s once per second, it might be longer) and only when parts have been changed within that time, meaning just sitting in the editor without clicking things can\u0027t trigger it.\u003C/p\u003E\u003Cp\u003EIf you want to send \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92229-How-To-Get-Support-%28READ-FIRST%29\u0022 rel=\u0022external nofollow\u0022\u003Elog files\u003C/a\u003E I can try to see if anything is being reported there. I\u0027d also double check that it doesn\u0027t happen under otherwise identical circumstances in a vanilla install. To minimize other variables, I suggest you load up the game with SR installed, load that ship, and observe if you get the problem. Then close KSP, remove SR, load up KSP and that ship and see if you still get the freezes. If you do, it\u0027s a KSP problem, not a mod problem. If you don\u0027t, then I\u0027ll definitely need to see log files from when you have SR installed.\u003C/p\u003E\n"},{"CreatedByName":"neskire","CreatedById":142733,"CreatedDateTime":"2015-05-28T18:33:10Z","Content":"\n\u003Cp\u003EYou are right, im seeing this using only StageRecovery. At first i thought it was freezing every time i put a part on, since as you say thats where addons usually recalculate stuff, like Kerbal Engineer. However this happens statically, every 10 seconds. \u003C/p\u003E\u003Cp\u003EAnyway heres a log. I cleared it in advance so it the smallest size. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/es7azlxsjt1ybmm/Player.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/es7azlxsjt1ybmm/Player.log?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI fear that i\u0027ll have to record the problem, dont get me wrong, i will record it if it means finding a solution to this. Since your addon really is a must. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-28T18:34:28Z\u0022 title=\u002205/28/2015 06:34  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 28, 2015\u003C/time\u003E by neskire\u003C/strong\u003E\n\u003Cbr\u003Eautocorrect -.-\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-30T01:40:49Z","Content":"\n\u003Cp\u003EI tried to replicate the issue you were having \u003Cstrong\u003Eneskire\u003C/strong\u003E, but unfortunately I\u0027m not seeing anything similar. I took one of the stock ships and upped it\u0027s part count to over a thousand and didn\u0027t see any slowdowns in the editor with just SR installed. According to the FPS counter in the debug menu my fps stayed at about 33 fps (but leveled out there and didn\u0027t change \u003Cem\u003Eat all\u003C/em\u003E which makes me wonder if that\u0027s working properly). Moving the camera so basically no parts were visible raised that up substantially, but no spikes were noticed. When panning around I didn\u0027t notice any lag. And, before you ask, yes I did try to launch the monstrosity. It went about as expected \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/l1STNlc.png\u0022 alt=\u0022l1STNlc.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/NbXuaJ5.png\u0022 alt=\u0022NbXuaJ5.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/qc402Ad.png\u0022 alt=\u0022qc402Ad.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Smurfalot","CreatedById":72587,"CreatedDateTime":"2015-05-30T16:13:49Z","Content":"\n\u003Cp\u003EWhen I have an upper stage set into a degrading orbit (peri ~45k) I noticed that it does not experience any drag effects that would normally cause the stage to finish falling to the ground so stage recovery never takes it. I think if I put the orbit down to \u0026lt;0 it will recover, but the faster reentry speed tends to burn things up...\u003C/p\u003E\u003Cp\u003ESometimes I even land my ship and recover it with the debris still floating in an orbit that should decay with drag. Would it be possible to have SR check for debris that has not yet landed to see if it \u003Cem\u003Eshould decay\u003C/em\u003E and do the recovery at the same time you recover the command part of the ship?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-30T16:25:14Z\u0022 title=\u002205/30/2015 04:25  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 30, 2015\u003C/time\u003E by Smurfalot\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vorg","CreatedById":74652,"CreatedDateTime":"2015-05-30T20:02:38Z","Content":"\n\u003Cp\u003EIf you get too far away, parts go on a rail. As long as they don\u0027t hit the planet, there is no drag. That\u0027s the way I understand it.\u003C/p\u003E\n"}]}