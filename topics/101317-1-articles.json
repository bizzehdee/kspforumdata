{"TopicId":101317,"ForumId":39,"TopicTitle":"T.A.P.O.R. KSP SimPit Oddyssey","CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-05T20:30:28Z","PageNum":1,"Articles":[{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-05T20:30:28Z","Content":"\n\u003Cp\u003EThis is the first step in building my own KSP custom control rig.\u003C/p\u003E\u003Cp\u003EWhile I am no stranger to \u003Ca href=\u0022http://theawesomepowerofrockets.blogspot.com.au/\u0022 rel=\u0022external nofollow\u0022\u003Eelectronics\u003C/a\u003E, I am not a professional and the closest thing I\u0027ve done in terms of \u0022code\u0022 \u003C/p\u003E\u003Cp\u003Eis a bit of HTML \u0026amp; Javascript back in the early 2000\u0027s and writing Macro\u0027s in Excel.\u003C/p\u003E\u003Cp\u003ENot exactly applicable, but hopefully that experience assists with debugging.\u003C/p\u003E\u003Cp\u003EI\u0027ve got my prototype up \u0026amp; running with a few switches and LEDs embdded into a scrap of MDF.\u003C/p\u003E\u003Cp\u003EThe rectangular holes were done with a coping saw \u0026amp; tidied up with a chisel.\u003C/p\u003E\u003Cp\u003ETo make testing various things easier, I\u0027ve wired up a basic shield, so that I can unplug my control panel quickly and transfer between the UNO \u0026amp; Leonardo.\u003C/p\u003E\u003Cp\u003EInitial BOM\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EA bunch of SPDT switches\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECheap 7 Segment LED modules\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E1 x Arduino UNO\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E1 x Adruino Leonardo\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E1 x LCD shield\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E20 x chrome LED bezels.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh3.googleusercontent.com/-P9LGH3EQI-I/VPqyGXiHUfI/AAAAAAAABl0/iFhpaQfksVU/w490-h653-no/IMG_0391.JPG\u0022 alt=\u0022IMG_0391.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003EAs is plainly obvious in the first gif, it didn\u0027t work very well when trying to debug on my own.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh3.googleusercontent.com/-WIcqP646pNo/VOlSGYtwLUI/AAAAAAAABiI/vdCl_9a7qPg/s480/8segLed.gif\u0022 alt=\u00228segLed.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs you can see in gif #2, that has now been fixed, thanks to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66393-Hardware-Plugin-Arduino-based-physical-display-serial-port-io-tutorial-%2817-Dec%29\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E and AmeliaEatYaheart for the solution below.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh4.googleusercontent.com/-7BfRFVVDw3U/VPi6gQQGRhI/AAAAAAAABic/8q_Zh4zDnio/s192/output_rwboDL.gif\u0022 alt=\u0022output_rwboDL.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote: these displays are wired serially and did not suffer from the overheating problem present in K4TEE and AmeliaEatYaheart\u0027s 7 Seg modules.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003EWith some PM help from AmeliaEatyaHeart I managed to get my 7 Seg LED Displays and my controls working!\u003C/p\u003E\u003Cp\u003EHere\u0027s the fix:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETab: KSPIODemo10\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E\u003Cbr\u003E#include \u0026lt;LedControl.h\u0026gt; \u003Cbr\u003E\u003Cbr\u003E #define LEDClkPin 4\u003Cbr\u003E #define LEDChipSel 3 \u003Cbr\u003E #define LEDDatain 2\u003Cbr\u003E //these pins were set up for an Arduino Uno, adjust as appropriate.\u003Cbr\u003E\u003Cbr\u003E LedControl lc=LedControl(LEDDatain,LEDClkPin,LEDChipSel,2);//1==num of 8x8pixel arrays in line. can be up to 8.\u003Cbr\u003E\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003Evoid setup()\u003Cbr\u003E{ Serial.begin(38400);\u003Cbr\u003E\u003Cbr\u003E[B]LedControl lc=LedControl(LEDDatain,LEDClkPin,LEDChipSel,2); //number of displays is the last variable, will be 1-8.\u003Cbr\u003E blankLEDscreens(); //initialise screen, and show display number examples.[/B]\u003Cbr\u003E\u003Cbr\u003E initLEDS();\u003Cbr\u003E InitTxPackets();\u003Cbr\u003E controlsInit();\u003Cbr\u003E\u003Cbr\u003E LEDSAllOff(); \u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Evoid loop()\u003Cbr\u003E{ \u003Cbr\u003E input();\u003Cbr\u003E output();\u003Cbr\u003E}\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETab: Utilities\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E{ \u003Cbr\u003E[B]printNumLED(0, (long)(VData.AP), \u0027A\u0027, 3);//will display apoapsis, with the decimal point separating km and m.\u003Cbr\u003EprintNumLED(1, (long)(VData.RAlt), \u0027B\u0027, 3);//will display Radar Alt in same format.[/B]\u003Cbr\u003E\u003Cbr\u003E caution = 0;\u003Cbr\u003E warning = 0;\u003Cbr\u003E\u003Cbr\u003E caution \u002B= VData.G \u0026gt; GCAUTION;\u003Cbr\u003E warning \u002B= VData.G \u0026gt; GWARN;\u003Cbr\u003E caution \u002B= VData.LiquidFuelS/VData.LiquidFuelTotS*100 \u0026lt; FUELCAUTION;\u003Cbr\u003E warning \u002B= VData.LiquidFuelS/VData.LiquidFuelTotS*100 \u0026lt; FUELWARN;\u003Cbr\u003E\u003Cbr\u003E if (caution != 0)\u003Cbr\u003E digitalWrite(YLED,HIGH);\u003Cbr\u003E else\u003Cbr\u003E digitalWrite(YLED,LOW);\u003Cbr\u003E\u003Cbr\u003E if (warning != 0)\u003Cbr\u003E digitalWrite(RLED,HIGH);\u003Cbr\u003E else\u003Cbr\u003E digitalWrite(RLED,LOW);\u003Cbr\u003E\u003Cbr\u003E digitalWrite(SASLED,ControlStatus(AGSAS));\u003Cbr\u003E digitalWrite(RCSLED,ControlStatus(AGRCS));\u003Cbr\u003E digitalWrite(CG1LED,ControlStatus(AGCustom01));\u003Cbr\u003E\u003Cbr\u003E}\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Evoid Indicators() \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDon\u0027t forget to include AmeliaEatYaheart\u0027s LedControlFunctions tab from \u003C/strong\u003E\u003Ca href=\u0022https://www.dropbox.com/s/nmrvrhj1fj0es3v/Demo_for_7segMAX7219_module.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ethis sketch\u003C/strong\u003E\u003C/a\u003E\u003Cstrong\u003E.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003ETab Utilities\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E { analogWrite(VUAPIN, round(VData.LiquidFuelS/VData.LiquidFuelTotS*250)); \u003Cbr\u003E analogWrite(VUBPIN, round(VData.LiquidFuel/VData.LiquidFuelTot*250)); \u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve been considering a few options as I\u0027ve collected a lot of stuff over the years.\u003C/p\u003E\u003Cp\u003EDo I go a small SimPit with basic controls, repurpose an old faceplate from an unknown device or re-purpose a vintage gaming console?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh5.googleusercontent.com/-vNMitCSJA5g/VPqyINCMb7I/AAAAAAAABlk/hjA7JmOG9CE/w653-h490-no/IMG_0396.JPG\u0022 alt=\u0022IMG_0396.JPG\u0022\u003E\u003Cimg src=\u0022https://lh6.googleusercontent.com/-TPx6d1V5uas/VPqyIRlQCgI/AAAAAAAABlo/F_KyjhN8z-c/w653-h490-no/IMG_0400.JPG\u0022 alt=\u0022IMG_0400.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh5.googleusercontent.com/4_VeiKvph8rxXBUCQNL2OqFDp9C3yuocFI6lYvylKnI=w613-h264-no\u0022 alt=\u00224_VeiKvph8rxXBUCQNL2OqFDp9C3yuocFI6lYvylKnI=w613-h264-no\u0022\u003E\u003Cimg src=\u0022https://lh3.googleusercontent.com/-Hdnft0f9_Bs/VPqyHlpAsXI/AAAAAAAABlg/M7OnMDBYmbs/w653-h490-no/IMG_0395.JPG\u0022 alt=\u0022IMG_0395.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-18T20:49:57Z\u0022 title=\u002203/18/2015 08:49  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 18, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-11T08:11:21Z","Content":"\n\u003Cp\u003ESmall update, I\u0027ve expanded my prototype with VU\u0027s from some old audio console \u0026amp; a non-backlit LCD (and lots of hot glue).\u003C/p\u003E\u003Cp\u003ENeither are connected at the moment as I\u0027ve run out of pins on the arduino \u0026amp; am trying to get my head around shift registers.\u003C/p\u003E\u003Cp\u003EI\u0027ve ordered a mega2650 (just in case I can\u0027t figure out shift registers) and some different displays.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh5.googleusercontent.com/-oUDMtWnpSWE/VP_3XOAsh9I/AAAAAAAABns/rx017xpQFf4/w800-h600-no/IMG_0406.JPG\u0022 alt=\u0022IMG_0406.JPG\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-03-11T09:34:43Z","Content":"\n\u003Cp\u003EThat is a fantastic looking panel so far. Nice work! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E My inner small child is very glad you didn\u0027t butcher the Atari for it.\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-11T20:48:39Z","Content":"\n\u003Cp\u003EThanks Stibbons,\u003C/p\u003E\u003Cp\u003EI couldn\u0027t in good conscience chop up the Atari (I don\u0027t even know if it works).\u003C/p\u003E\u003Cp\u003EThis proto-panel is the result of no planning whatsoever.\u003C/p\u003E\u003Cp\u003EWhen I bought the big red button, I didn\u0027t realise that the switching mechanism would protrude quite so far out the back.\u003C/p\u003E\u003Cp\u003EHence the unused space toward the front.\u003C/p\u003E\u003Cp\u003EAnother thing that I hadn\u0027t anticipated was the toggle switch covers make it harder to see the switch position.\u003C/p\u003E\u003Cp\u003EOn my next Proto, I\u0027ll probably split it into two parts:\u003C/p\u003E\u003Cp\u003E a horizontal control board to sit behind the keyboard \u0026amp; under the monitor\u003C/p\u003E\u003Cp\u003Ea vertical display board to sit adjacent to the monitor, for a more heads-up approach.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh5.googleusercontent.com/-lxE4W9cMTNc/VPqyFRkrgFI/AAAAAAAABk4/motnijXo8HQ/w653-h490-no/IMG_0390.JPG\u0022 alt=\u0022IMG_0390.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh4.googleusercontent.com/-jt5qyK9MIIY/VQCoIdj--QI/AAAAAAAABoY/WNLR3Leekag/w600-h450-no/IMG_0410.JPG\u0022 alt=\u0022IMG_0410.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh6.googleusercontent.com/-NAd5ctk6dsg/VQCoI4caExI/AAAAAAAABoc/hgk-8iy7B-c/w600-h450-no/IMG_0411.JPG\u0022 alt=\u0022IMG_0411.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh6.googleusercontent.com/-dZjHVcF0oj0/VQCoHwS2_fI/AAAAAAAABoI/Dp0-djWdaQM/w600-h450-no/IMG_0407.JPG\u0022 alt=\u0022IMG_0407.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh3.googleusercontent.com/-3R1BXi9BBJ4/VQCoIIxaiHI/AAAAAAAABoQ/fqzDovFikUM/w600-h450-no/IMG_0408.JPG\u0022 alt=\u0022IMG_0408.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Gmack85","CreatedById":136511,"CreatedDateTime":"2015-03-11T22:10:43Z","Content":"\n\u003Cp\u003EWow, man! Nice work. I wish I had the knowledge in electronics and coding to build one of these. Guess I\u0027ll just have to stick to Ye Olde Keyboard.\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-12T20:52:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gmack85\u0022 data-cite=\u0022Gmack85\u0022\u003E\u003Cdiv\u003EWow, man! Nice work. I wish I had the knowledge in electronics and coding to build one of these. Guess I\u0027ll just have to stick to Ye Olde Keyboard.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi Gmack85,\u003C/p\u003E\u003Cp\u003EYou can get a \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Esimple\u003C/span\u003E simpit going for under $20 and with no soldering.\u003C/p\u003E\u003Cp\u003EI did my first altimeter with an Arduino Leonardo \u0026amp; a 1602 LCD Shield, simply plug in the shield to the Arduino, and the Arduino to your compute.\u003C/p\u003E\u003Cp\u003EThen add a little code to Zitronen\u0027s Sketch \u0026amp; you\u0027re in business \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh5.googleusercontent.com/-7QFfCnn3Md0/VQH0pFdD_II/AAAAAAAABo0/I-SDTGhcy_4/w600-h450-no/KSPIO%2BLCD%2BShield%2BAltimeter.JPG\u0022 alt=\u0022KSPIO%2BLCD%2BShield%2BAltimeter.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E[B]//This goes at the top of tab one\u003Cbr\u003E\u003Cbr\u003E[/B]#include \u0026lt;LiquidCrystal.h\u0026gt;\u003Cbr\u003ELiquidCrystal lcd(8, 9, 4, 5, 6, 7);\u003Cbr\u003E\u003Cbr\u003E[B]//This goes down the bottom of tab one\u003Cbr\u003E\u003Cbr\u003E[/B]void setup(){\u003Cbr\u003E Serial.begin(38400);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E // initLEDS();\u003Cbr\u003E // InitTxPackets();\u003Cbr\u003E // controlsInit();\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E // LEDSAllOff(); \u003Cbr\u003E\u003Cbr\u003E// set up the LCD\u0027s number of columns and rows:\u003Cbr\u003Elcd.begin(16, 2);\u003Cbr\u003E// Print a message to the LCD.\u003Cbr\u003Elcd.setCursor(0,0);\u003Cbr\u003Elcd.print(\u0022GForce \u0022);\u003Cbr\u003Elcd.setCursor(0,1);\u003Cbr\u003Elcd.print(\u0022RAlt \u0022);\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid loop()\u003Cbr\u003E{ \u003Cbr\u003E input();\u003Cbr\u003E output();\u003Cbr\u003E\u003Cbr\u003Elcd.setCursor(8,0);\u003Cbr\u003Elcd.print(VData.G);\u003Cbr\u003Elcd.setCursor(6,1);\u003Cbr\u003Elcd.print(VData.RAlt);\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-03-13T01:23:59Z","Content":"\n\u003Cp\u003EAnd don\u0027t forget the simplest option for custom inputs - pull apart a keyboard and wire new switches in to it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-13T08:25:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EAnd don\u0027t forget the simplest option for custom inputs - pull apart a keyboard and wire new switches in to it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd remember, don\u0027t do what I did and tear the trace off the board in the process of learning the pinouts:(\u003C/p\u003E\u003Cp\u003ENot a big deal really, but Arduino is a fair bit easier than the board I tried.\u003C/p\u003E\u003Cp\u003EThe guts were just two pieces of plastic with circuits printed on them.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-03-13T08:43:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022T.A.P.O.R.\u0022 data-cite=\u0022T.A.P.O.R.\u0022\u003E\u003Cdiv\u003EAnd remember, don\u0027t do what I did and tear the trace off the board in the process of learning the pinouts:(\u003Cp\u003ENot a big deal really, but Arduino is a fair bit easier than the board I tried.\u003C/p\u003E\u003Cp\u003EThe guts were just two pieces of plastic with circuits printed on them.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf it\u0027s not too bad you can solder them back on. Or retrace them in solder\u003C/p\u003E\n"},{"CreatedByName":"marzubus","CreatedById":68021,"CreatedDateTime":"2015-03-13T17:42:09Z","Content":"\n\u003Cp\u003EHej T.A.P.O.R! Awesome work!\u003C/p\u003E\u003Cp\u003EWhere did you get the analog volt gauges, and what sensitivity are they? Can they be opened and replace the backing-cards?\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-13T19:05:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EIf it\u0027s not too bad you can solder them back on. Or retrace them in solder\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh no, I did a very good job of messing up the PCB.\u003C/p\u003E\u003Cp\u003EI\u0027ve got a stack of old keyboards, but then I found Arduino for cheap on the wide wide world of web \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022marzubus\u0022 data-cite=\u0022marzubus\u0022\u003E\u003Cdiv\u003EHej T.A.P.O.R! Awesome work!\u003Cp\u003EWhere did you get the analog volt gauges, and what sensitivity are they? Can they be opened and replace the backing-cards?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks Mazubus,\u003C/p\u003E\u003Cp\u003EIf only you could see it in meat space, it\u0027s not very impressive.\u003C/p\u003E\u003Cp\u003EEven if it does have a strut made from MDF \u0026amp; melted plastic \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe analogue gauges came to me in a box of junk (stuff for recycling) from a guy who runs a synth building club.\u003C/p\u003E\u003Cp\u003EThere are two transparent panels in the middle of the two VU\u0027s that make me think it might have been pulled from an old tape deck, or maybe reel to reel.\u003C/p\u003E\u003Cp\u003EFrom the looks of the light mount behind them, it predates LED\u0027s. There are no markings as to what it was actually a part of though.\u003C/p\u003E\u003Cp\u003EI don\u0027t know the voltages, but I think they\u0027re about 3v as a couple of AA\u0027s can max them out.\u003C/p\u003E\u003Cp\u003EThey can be easily opened and the backing cards can be replaced (just tried this now), in fact they were held together by sticky tape \u0026amp; the pressure of the screws holding them to the old panel.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh4.googleusercontent.com/USgl82nz1bwDG0WmEU86ugoq2uhPt7vKMOtxAeQOiQo=w600-h450\u0022 alt=\u0022USgl82nz1bwDG0WmEU86ugoq2uhPt7vKMOtxAeQOiQo=w600-h450\u0022\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s a hipster 2nd hand dealer on the other side of town that has awesome vintage test \u0026amp; radio gear, but its really expensive.\u003C/p\u003E\u003Cp\u003EOh how I would like to have them as part of my KSP rig!\u003C/p\u003E\u003Cp\u003E**corrected typo\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-14T05:08:20Z\u0022 title=\u002203/14/2015 05:08  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 14, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"marzubus","CreatedById":68021,"CreatedDateTime":"2015-03-13T19:17:41Z","Content":"\n\u003Cp\u003EI have been looking for some round VU meters in the 3.3 to 5v range, but had no luck in finding any that I can change the back card. :/ At least I have my OLED solution now. I think I will make a digital needle like meter or something akin to airbus or boeing instruments.\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-14T08:01:40Z","Content":"\n\u003Cp\u003EIn had a hunt about on the internet for a round VU with removable innards, but didn\u0027t have any luck either.\u003C/p\u003E\u003Cp\u003EWhat I did find was a pair of 20 segment 3 coloured led bar graphs.\u003C/p\u003E\u003Cp\u003EThese will come in handing for one thing or another.\u003C/p\u003E\u003Cp\u003EI\u0027ve managed to get LEDs to go on my shift register, but getting an LCD to work? \u003C/p\u003E\u003Cp\u003ENope.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried heaps of options, even went back to the regular way of driving an LCD to make sure I hadn\u0027t broken anything and it was fine, something I\u0027m doing wrong :\u0027(\u003C/p\u003E\n"},{"CreatedByName":"marzubus","CreatedById":68021,"CreatedDateTime":"2015-03-16T08:03:32Z","Content":"\n\u003Cp\u003EI never tried running a lcd on a shift register, I guess it would be real funky for the driver. What kind of lcd?\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-16T20:48:16Z","Content":"\n\u003Cp\u003EH marzubus,\u003C/p\u003E\u003Cp\u003EI have two, one was off the shelf at a \u003Ca href=\u0022http://www.jaycar.com.au/p/QP5517\u0022 rel=\u0022external nofollow\u0022\u003Elocal electronics supplier\u003C/a\u003E and another made by Optrex that was in my box of junk.\u003C/p\u003E\u003Cp\u003EThey both have the same pin designations.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried \u003Ca href=\u0022http://playground.arduino.cc/Main/LiquidCrystal\u0022 rel=\u0022external nofollow\u0022\u003Ethis example\u003C/a\u003E and others that are similar, but all I get are a series of rectangles on the LCD.\u003C/p\u003E\u003Cp\u003ENo matter, Ihave a 4 x 20 screen coming with an i2c adapter to minimise the amount of pins required, and my Mega should be here tomorrow, so I\u0027ll have pins galore \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"marzubus","CreatedById":68021,"CreatedDateTime":"2015-03-16T21:56:28Z","Content":"\n\u003Cp\u003EI try to stick to lcd modules which are supported by u8glib, and I believe you can have a custom communications procedure for the custom defined modules. \u003C/p\u003E\u003Cp\u003ESee \u003Ca href=\u0022https://code.google.com/p/u8glib/wiki/devicedesign\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://code.google.com/p/u8glib/wiki/devicedesign\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EMight be worth a try if ur module is supported. that said, I\u0027ve never tried. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EYeah all those mega pins!!! There area couple of really nice lcd modules on aliexpress! It\u0027s super easy if u find one that has the same chip as u8glib supports!\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-16T22:45:45Z","Content":"\n\u003Cp\u003EThe mega has arrived!\u003C/p\u003E\u003Cp\u003Etoo bad I have to wait all day before I can go home and play.\u003C/p\u003E\u003Cp\u003EI shall checkout that store as I\u0027ve not used it before. Thanks for the tip!\u003C/p\u003E\u003Cp\u003E** Transplanted pins from the UNO to the Mega and uploaded the same sketch.\u003C/p\u003E\u003Cp\u003EIt works perfectly. \u003C/p\u003E\u003Cp\u003EI\u0027ll need to reassign the pins in order to free up the PWM functions for my VU\u0027s\u003C/p\u003E\u003Cp\u003EBut as far as LCDs, LEDs \u0026amp; switches go, I\u0027m all set and don\u0027t need to mess about with hard stuff like shift registers for the time being.\u003C/p\u003E\u003Cp\u003EThat brings me to another piont.\u003C/p\u003E\u003Cp\u003EDo I need all the Action Groups on the board, when I can do them all on my flight stick?\u003C/p\u003E\u003Cp\u003EI think yes.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-17T09:14:15Z\u0022 title=\u002203/17/2015 09:14  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 17, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-17T20:47:17Z","Content":"\n\u003Cp\u003ELCD Works, Analogue VU kinda works...\u003C/p\u003E\u003Cp\u003EI have 10k reistor in series.\u003C/p\u003E\u003Cp\u003EI\u0027ve placed this:\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EanalogWrite(VUAPIN, round(VData.LiquidFuelS*255/100));\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ein \u0022Void Indicators\u0022 and it appears to sit at roughly the right value.\u003C/p\u003E\u003Cp\u003EBut as I burn, it goes to zero fairly quickly then springs to the dial maximum and repeats down to zero until the fuel is depleted.\u003C/p\u003E\u003Cp\u003EIs this just a case of needing a higher value resistor, or am I missing something?\u003C/p\u003E\u003Cp\u003EI don\u0027t know the spec of my VU\u0027s as they\u0027re out of an old machine and have no markings that are of any use.\u003C/p\u003E\n"},{"CreatedByName":"marzubus","CreatedById":68021,"CreatedDateTime":"2015-03-17T21:29:54Z","Content":"\n\u003Cp\u003EI guess u could push 3.0v to the VU and see if it reads max. Else have you got a stable power supply? One with lcd screen and all. Try ramp it up to determine the actual max voltage. Carefully though.\u003C/p\u003E\u003Cp\u003EUr using a 5v Arduino right? So ur pushing 5v to that thing at peak I guess. Else maybe a cap or something to smooth out sudden shifts in value? I\u0027m just guessing here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022T.A.P.O.R.\u0022 data-cite=\u0022T.A.P.O.R.\u0022\u003E\u003Cdiv\u003ELCD Works, Analogue VU kinda works...\u003Cp\u003EI have 10k reistor in series.\u003C/p\u003E\u003Cp\u003EI\u0027ve placed this:\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EanalogWrite(VUAPIN, round(VData.LiquidFuelS*255/100));\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ein \u0022Void Indicators\u0022 and it appears to sit at roughly the right value.\u003C/p\u003E\u003Cp\u003EBut as I burn, it goes to zero fairly quickly then springs to the dial maximum and repeats down to zero until the fuel is depleted.\u003C/p\u003E\u003Cp\u003EIs this just a case of needing a higher value resistor, or am I missing something?\u003C/p\u003E\u003Cp\u003EI don\u0027t know the spec of my VU\u0027s as they\u0027re out of an old machine and have no markings that are of any use.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-17T22:32:00Z","Content":"\n\u003Cp\u003EYep, just powering off the usb at the moment.\u003C/p\u003E\u003Cp\u003EI\u0027ve got a regulator kit (1.5-12v)in my workshop(I ARDUINO in the dining room/office), so I\u0027ll try that when I get home.\u003C/p\u003E\u003Cp\u003EI will also post another gif showing the weirdness, for posterity.\u003C/p\u003E\u003Cp\u003EIn other news my oled arrived, it\u0027s so small!\u003C/p\u003E\u003Cp\u003EI laughed when I pulled it out of the bag, as it\u0027s about twice the with of my thumbnail.\u003C/p\u003E\n"},{"CreatedByName":"marzubus","CreatedById":68021,"CreatedDateTime":"2015-03-18T08:47:30Z","Content":"\n\u003Cp\u003EIt\u0027s so hard with all these secondary workspaces. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E what oled did u buy? \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022T.A.P.O.R.\u0022 data-cite=\u0022T.A.P.O.R.\u0022\u003E\u003Cdiv\u003EYep, just powering off the usb at the moment.\u003Cp\u003EI\u0027ve got a regulator kit (1.5-12v)in my workshop(I ARDUINO in the dining room/office), so I\u0027ll try that when I get home.\u003C/p\u003E\u003Cp\u003EI will also post another gif showing the weirdness, for posterity.\u003C/p\u003E\u003Cp\u003EIn other news my oled arrived, it\u0027s so small!\u003C/p\u003E\u003Cp\u003EI laughed when I pulled it out of the bag, as it\u0027s about twice the with of my thumbnail.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-18T10:29:54Z","Content":"\n\u003Cp\u003EOk, looks like the VU maxes out at 0.8v\u003C/p\u003E\u003Cp\u003EI fixed the weird cycling issue by changing my code and added 11k of resistance in series.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    {\u003Cbr\u003E    analogWrite(VUAPIN, round(VData.LiquidFuelS/VData.LiquidFuelTotS*250));       \u003Cbr\u003E    analogWrite(VUBPIN, round(VData.LiquidFuel/VData.LiquidFuelTot*250));       \u003Cbr\u003E    } \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow I\u0027m getting a weird staging bug when I engage SAS, but it only happens for the first stage.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003ENope, nothing wrong with the code, but possibly my eyesight.\u003C/p\u003E\u003Cp\u003EMy stage button is set to 10, but I\u0027d plugged it into 13!\u003C/p\u003E\u003Cp\u003EThis somehow (I don\u0027t have the foggiest) enabled SAS to stage.\u003C/p\u003E\u003Cp\u003ENow for a shaky test video!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/TOXwJlUX0II?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-18T20:44:36Z\u0022 title=\u002203/18/2015 08:44  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 18, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-18T20:20:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022marzubus\u0022 data-cite=\u0022marzubus\u0022\u003E\u003Cdiv\u003EIt\u0027s so hard with all these secondary workspaces. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E what oled did u buy?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah I guess....The dining room is also my office and the workshoppe is kinda crummy, but I built it myself (so I can only blame one person for the crumminess).\u003C/p\u003E\u003Cp\u003EOLED Specs:\u003C/p\u003E\u003Cp\u003ESPI Interface\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:Verdana;\u0022\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003EDriver IC: SSD1306\u003C/span\u003E\u003C/span\u003EPin Definitions:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EVCC:3.3-5V\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EGND: grounding\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ECLK: clock module\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EMOSI: Data input\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ECs: Chip select signal\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ED/C: Command / data change\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHere\u0027s some perspective that I was missing from your OLED pic, though I guess the USB plug should have been a bit of a giveaway.\u003C/p\u003E\u003Cp\u003EI had thought it would be about the size of the Nokia 5110 display below.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh6.googleusercontent.com/-rkGuGXDNfI8/VQnZuC-srTI/AAAAAAAABps/Qe4TCTSeI4o/w600-h450-no/IMG_0416.JPG\u0022 alt=\u0022IMG_0416.JPG\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh5.googleusercontent.com/85Zos3gSz8cMQfrokEYjykFKw88uyAmXkjT6Tdd0KTc=w540-h551-no\u0022 alt=\u002285Zos3gSz8cMQfrokEYjykFKw88uyAmXkjT6Tdd0KTc=w540-h551-no\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for your explanation of your OLED code by the way, I didn\u0027t understand a word of it, but I tried reading before my morning coffee.\u003C/p\u003E\n"},{"CreatedByName":"marzubus","CreatedById":68021,"CreatedDateTime":"2015-03-18T22:49:59Z","Content":"\n\u003Cp\u003EHi! Yeah that\u0027s the same oled driver. Sorry I didn\u0027t clarify its size. My plan with these was to emulate a single analog style VU each. I bought six of them because I got them cheap.\u003C/p\u003E\u003Cp\u003EYou should be able to use my code as is for that particular display. Is it the monochrome or 2 color version? \u003C/p\u003E\u003Cp\u003EI am still shopping for a display double that size. If u find any other well priced ones, just check if the chip is mentioned in the u8glib drivers wiki.\u003C/p\u003E\n"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-03-18T23:50:39Z","Content":"\n\u003Cp\u003EI don\u0027t mind, it was cheap \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eyellow/blue\u003C/p\u003E\u003Cp\u003EThere is one \u003Ca href=\u0022http://www.jaycar.com.au/p/XC4270\u0022 rel=\u0022external nofollow\u0022\u003Ergb OLED\u003C/a\u003E that I found that is about $50aud (way overpriced IMO) and a teensie bit bigger than the ones we have.\u003C/p\u003E\u003Cp\u003E\u0022\u003Cspan style=\u0022font-family:Arial;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003EActive display area 28.8 x 26.8 mm, (1.5 inch diagonal) \u0022\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.jaycar.com.au/medias/XC4270gallery1-300Wx300H?context=bWFzdGVyfGltYWdlc3w3ODk0NXxpbWFnZS9qcGVnfGltYWdlcy9oOTcvaDkwLzg4MTU2MzUyMDIwNzguanBnfDQ2YjA5ZTNlNTZiZTJkMDE3MGEwYzMzYTQyNjliZmQ3MmQ5MmQyYTFlYmIyOTA3YWM2M2IwYWU0NjdlZDFiM2Q\u0022 alt=\u0022XC4270gallery1-300Wx300H?context=bWFzdGVyfGltYWdlc3w3ODk0NXxpbWFnZS9qcGVnfGltYWdlcy9oOTcvaDkwLzg4MTU2MzUyMDIwNzguanBnfDQ2YjA5ZTNlNTZiZTJkMDE3MGEwYzMzYTQyNjliZmQ3MmQ5MmQyYTFlYmIyOTA3YWM2M2IwYWU0NjdlZDFiM2Q\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-19T08:18:12Z\u0022 title=\u002203/19/2015 08:18  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 19, 2015\u003C/time\u003E by T.A.P.O.R.\u003C/strong\u003E\n\u003C/span\u003E\n"}]}