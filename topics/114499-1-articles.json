{"TopicId":114499,"ForumId":16,"TopicTitle":"How to design rockets to be able to follow the optimal trajectory?","CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-06-29T01:11:40Z","PageNum":1,"Articles":[{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-06-29T01:11:40Z","Content":"\n\u003Cp\u003EI roughly know how the optimal trajectory goes. It\u0027s following it that is the problem.\u003C/p\u003E\u003Cp\u003EMy rockets, when it comes to ascent, fall into two categories:\u003C/p\u003E\u003Cp\u003E- Don\u0027t touch the controls or it will flip over,\u003C/p\u003E\u003Cp\u003E- Push the controls as much as you like, it will turn 2-3 degrees at most and the prograde direction won\u0027t change.\u003C/p\u003E\u003Cp\u003EMost fall into both categories at once, the first until some 2000m altitude, the second when moving above that. Usually only after the SRBs are burned off (at some 4000m) I\u0027m able to turn the rocket horizontal, and by that time it has some 160km apoapsis and needs a good 1600m/s of horizontal dV to achieve orbit.\u003C/p\u003E\u003Cp\u003ESo, what will allow me to begin the turn at some 10,000m so that the rocket will not flip over but will respond to controls?\u003C/p\u003E\u003Cp\u003E(same applies to my spaceplanes; flip-happy at low speeds, totally unresponsive at high speeds, and yes, the center of lift is just behind the center of mass)\u003C/p\u003E\u003Cp\u003E(just to add, most of my rockets get the Delta Deluxe winglets on the core stage, sometimes simple winglets on the SRBs, always some nose cone, and a LF engine with gimball (though I often delay firing these until some 10,000m where they are at 90% of vacuum ISp).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-08T06:38:04Z\u0022 title=\u002207/08/2015 06:38  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 8, 2015\u003C/time\u003E by Sharpy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lelitu","CreatedById":146287,"CreatedDateTime":"2015-06-29T02:31:33Z","Content":"\n\u003Cp\u003Eif you\u0027ve got an apoapsis of 160km at solid booster burn out, you have *way* too much power in the first stage\u003C/p\u003E\u003Cp\u003EYou\u0027ll generally want a pad TWR of somewhere close to 1.5 for a controllable launch.\u003C/p\u003E\u003Cp\u003EAlso, 10km is *far* too high to be initiating the turn in 1.0.x atmo, you\u0027ll want to start turning much, much earlier\u003C/p\u003E\u003Cp\u003Earound 50 to 100m/s is usually a good target, with a slow, steady turn to 45deg or less from horizontal by 15km altitude.\u003C/p\u003E\u003Cp\u003EWhen gravity turning, you\u0027ll generally want to keep the nose in or on the prograde ring, and let prograde follow the nose. At high subsonic or over, a craft not pointing nose close to prograde will be *very* unstable\u003C/p\u003E\u003Cp\u003Eas drag overpowers any control that won\u0027t snap your rocket like a twig.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-29T02:33:36Z\u0022 title=\u002206/29/2015 02:33  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 29, 2015\u003C/time\u003E by Lelitu\u003C/strong\u003E\n\u003Cbr\u003Eadded more info\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-06-29T02:49:17Z","Content":"\n\u003Cp\u003EBear in mind that drag increases dramatically when you pass Mach 1, which is around 330 m/s at sea level on Kerbin. Passing that when you\u0027re low altitude will make you much more flip-prone, not to mention wasting a lot of fuel. I like to accelerate as hard as I can up to around 200 m/s, then accelerate very gradually so that I get to 300 m/s at around 12 km altitude, then punch it hard.\u003C/p\u003E\u003Cp\u003EIf you\u0027re starting your rocket with SRBs, make sure they\u0027re not overpowered. You don\u0027t want a TWR any higher than about 1.5 on the pad. Take the total mass of your rocket in tons, multiply by 9.8 (Kerbin gravity), multiply by 1.5 (desired TWR), that gives you the desired thrust in kN. Divide that by the total thrust of your SRBs, that\u0027s the fraction of maximum thrust you want them to be. Then in the VAB, right-click on the SRBs and set their thrust limiter to that percentage. This helps stop you from overpowering.\u003C/p\u003E\u003Cp\u003EMake sure that the front end of your craft is reasonably streamlined. In the early career, when you pretty much always have a Mk1 command pod capped by a parachute, then you\u0027re fine. Later on, when you start making uglier, less-streamlined things, you may want to consider putting a fairing around the non-streamlined payload to reduce the drag in front.\u003C/p\u003E\n"},{"CreatedByName":"Kryxal","CreatedById":102688,"CreatedDateTime":"2015-06-29T02:53:13Z","Content":"\n\u003Cp\u003EAlso, don\u0027t forget that not all the SRBs need to have the same thrust settings. If you have four burning at 75%, see what happens if you set two to 80% and two to 70% (and toss the pair that burn out first, when they burn out). Alternatively, if you have a cluster of 5, have the center one at full thrust and the others at a lesser setting.\u003C/p\u003E\n"},{"CreatedByName":"DancesWithSquirrels","CreatedById":138267,"CreatedDateTime":"2015-06-29T03:04:30Z","Content":"\n\u003Cp\u003EUse the AV-R8 rather than the Delta Deluxe; 30% less lift per deflection, but almost 5x the surface area applying that lift. Swap the fixed winglets for control surfaces it you need to.\u003C/p\u003E\u003Cp\u003EWhen you hit 50-100 m/s, turn about 10\u00C3\u201A\u00C2\u00B0 to the East, then if your ship is stable you can just turn off SAS and let the gravity turn and your tail feathers guide you up through 20-30k meters. \u003C/p\u003E\u003Cp\u003EAnd as others have noted, tweak your boosters and use your throttle to keep launch TWR down to about 1.5 or lower. If you start getting shock waves below 10-15k meters, lower your throttle - you\u0027re just wasting thrust. \u003C/p\u003E\u003Cp\u003EPersonally I am happy to light a Skipper or other high altitude engine at launch, realizing that thrust will be low, if it provides enough thrust to be a good control input.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E Once your pilot has reached level 1, or if you have a probe better than the Stayputnik on board, you can use Prograde SAS orientation. Turn ~10\u00C3\u201A\u00C2\u00B0 just after launch, set your SAS to Prograde, and your rocket should perform a gravity turn on its own. I find that different designs require different initial angles (5-15\u00C3\u201A\u00C2\u00B0), you\u0027ll have to test to be more precise, but 10\u00C3\u201A\u00C2\u00B0 is a reasonable first turn.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-29T14:41:24Z\u0022 title=\u002206/29/2015 02:41  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 29, 2015\u003C/time\u003E by DancesWithSquirrels\u003C/strong\u003E\n\u003Cbr\u003EAdded missing comment on SAS\n\u003C/span\u003E\n"},{"CreatedByName":"Senormeens","CreatedById":145344,"CreatedDateTime":"2015-06-29T03:17:25Z","Content":"\n\u003Cp\u003EWhat engines are you using? I always try to incorporate at least one engine with a gimbal that fires as soon as you launch(In the early game it is the Swivel engine) and i usually put this on the center stage, then put any non-gimballing LF/OX or SRBs around it. This usually allows me to control the craft, sometimes with a late gravity turn if it flips a little too easily, but then i just wait until higher in the atmosphere.\u003C/p\u003E\u003Cp\u003EIt sounds like your having problems with torque, relying on your capsules reaction wheels alone might not be enough, and those delta deluxe wings might not be helping much, since there is little control surface on them. I usually just go with winglets. So adding a engine that can gimbal to turn your craft could help.\u003C/p\u003E\u003Cp\u003EYou having your gimbal engine turned off is hampering you ability to turn i would say, if you don\u0027t want it burning all your fuel up you can turn down the max thrust so it burns slower but still allows you to use it to turn.\u003C/p\u003E\u003Cp\u003ENow for not flipping the only advice i can give you is take it slow, try to turn to about five degrees just after you launched, and slowly keep turning, keeping your marker on the naval close to or within prograde.\u003C/p\u003E\u003Cp\u003EFor space planes i have nothing for you, sorry. Lets just say they aren\u0027t my specialty\u003C/p\u003E\n"},{"CreatedByName":"G\u0026#039;th","CreatedById":98595,"CreatedDateTime":"2015-06-29T04:26:05Z","Content":"\n\u003Cp\u003EIt\u0027d be easier to figure out how to help with your rocket if we saw a picture of it.\u003C/p\u003E\n"},{"CreatedByName":"Nich","CreatedById":145678,"CreatedDateTime":"2015-06-29T15:27:59Z","Content":"\n\u003Cp\u003EGo as fast as you can. start your gravity turn the second you launch. Depending on TWR you want to get it to 1 degree (low TWR) or 20 degrees (high TWR) within the first 5 seconds. It takes a little practice to know. Then take your hands off the controls (assuming you built a stable COM COL COT rocket) Just about everything I launch has SAS off until upper atm.\u003C/p\u003E\u003Cp\u003EAnd yes I can not build a stable plane all my planes require SAS and if you go outside 20 AOA it is over.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-29T15:30:07Z\u0022 title=\u002206/29/2015 03:30  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 29, 2015\u003C/time\u003E by Nich\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-06-29T20:48:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DancesWithSquirrels\u0022 data-cite=\u0022DancesWithSquirrels\u0022\u003E\u003Cdiv\u003EOnce your pilot has reached level 1, or if you have a probe better than the Stayputnik on board, you can use Prograde SAS orientation.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, this can work, but one has to be careful with it. I\u0027ve found that SAS is very prone to wobble in any mode other than \u0022hold orientation\u0022: if you have a gibaling engine, for example, it waggles back and forth madly. Aero control surfaces like the AV-R8 also can spam the wiggle. This can become a problem if you have a long/skinny rocket that\u0027s vulnerable to flexing.\u003C/p\u003E\u003Cp\u003ENot that this is a showstopper, just that one has to watch out for it and compensate:\u003C/p\u003E\u003Cp\u003E- If you find your rocket wiggling because the engine is spamming gimbal-waggle: in the VAB, right-click on the engine and reduce the gimbal range to 50% (or 30%, or whatever works)\u003C/p\u003E\u003Cp\u003E- If you find your rocket wiggling because active aero surfaces are overpowered (spamming wiggles): unfortunately there\u0027s no way to tone this down on the parts themselves, but you can make them slightly less overpowered by moving them up a little bit towards the craft\u0027s CoM to make them less effective.\u003C/p\u003E\n"},{"CreatedByName":"Wlan","CreatedById":140772,"CreatedDateTime":"2015-06-30T09:31:31Z","Content":"\n\u003Cp\u003EBy how you\u0027re describing it, you\u0027re doing it the pre 1.0 style gravity turn. Do it slowly like 2-3 degrees at liftoff and slowly tilting until you\u0027re about at the 45 degree at 10 km.\u003C/p\u003E\n"},{"CreatedByName":"A_name","CreatedById":134040,"CreatedDateTime":"2015-06-30T15:43:51Z","Content":"\n\u003Cp\u003E-Your TWR on launch should be low, 1.5 or less. Higher thrust makes it harder to make the rocket tip over naturally for a gravity turn, which is likely why some of your rockets are refusing to turn. While launching, if you see you\u0027re gaining too much altitude and the rocket isn\u0027t tipping over fast enough, reduce throttle, and vice versa.\u003C/p\u003E\u003Cp\u003E-Make sure you\u0027r rocket\u0027s center of drag is below center of mass, which will stop your rockets flipping. This can be tricky because there isn\u0027t a center of drag indicator in the VAB. But you can mostly get away with just adding winglets or wing surfaces as further down on the rocket as possible.\u003C/p\u003E\u003Cp\u003EOnce you have the above points implemented, try this ascent path:\u003C/p\u003E\u003Cp\u003E1. Turn on SAS.\u003C/p\u003E\u003Cp\u003E2. Launch.\u003C/p\u003E\u003Cp\u003E2. As soon as you hit 50 m/s, tip over between 5\u00C3\u201A\u00C2\u00B0 and 10\u00C3\u201A\u00C2\u00B0. The higher your thrust, the more you need to turn initially; higher thrust makes the rocket want to go straight forward along its velocity vector.\u003C/p\u003E\u003Cp\u003E3. As soon as your SAS stabilizes (i.e. the control input indicators on the bottom left are all centered) turn off SAS.\u003C/p\u003E\u003Cp\u003E4. Throttle up or down accordingly to maintain a gradual turn. At 10 km altitude you should roughly be pointing between 60\u00C3\u201A\u00C2\u00B0 and 45\u00C3\u201A\u00C2\u00B0 and your speed should be around 250 m/s. If at 10km you\u0027re going supersonic (i.e. faster than 300 m/s) or if you\u0027re still pointing above 60\u00C3\u201A\u00C2\u00B0, you are going too fast and need to throttle down.\u003C/p\u003E\u003Cp\u003E5. By 30 km altitude there is negligible drag and you can throttle all the way up. At this point you should be pointing around 30\u00C3\u201A\u00C2\u00B0 or lower. The higher your thrust the more horizontal you can afford to go. Be careful because at this point you\u0027ll usually be riding your upper stage which tends to have lower thrust and if you go too horizontal you might not be able to push you Ap above 70km. My rule of thumb here is to keep your Ap around 45 seconds in front of you. You can check for this info in map view by mousing over the Ap indicator, or if you have KER it will show on your left HUD. If you\u0027re time to Ap is more than 45 sec, you need to throttle down and/or point more horizontal, and vice versa. Continue burning prograde while adjusting pitch and throttle until you\u0027re in orbit or your Ap reaches your desired altitude. The most efficient assent possible (citation needed) is if you can do your ascent and orbital insertion in a single continuous burn, while pointing directly prograde throughout. Much easier said than done but you should aim for this goal.\u003C/p\u003E\u003Cp\u003EHope this helps.\u003C/p\u003E\n"}]}