{"TopicId":81627,"ForumId":29,"TopicTitle":"Cross-Platform Debugging Help","CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-08-13T18:23:47Z","PageNum":1,"Articles":[{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-08-13T18:23:47Z","Content":"\n\u003Cp\u003ESomebody recently posted a bug to the Custom Asteroids thread that only appears in 64-bit KSP for Linux, but completely breaks asteroids when it does appear. The problem? I only have KSP for Windows, and I\u0027ve confirmed that the bug doesn\u0027t appear there.\u003C/p\u003E\u003Cp\u003EAny advice on how to diagnose and fix a problem when you can\u0027t reproduce the conditions it requires? Thanks!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-14T13:50:16Z\u0022 title=\u002208/14/2014 01:50  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 14, 2014\u003C/time\u003E by Starstrider42\u003C/strong\u003E\n\u003Cbr\u003EThread move request fulfilled\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-08-13T19:49:06Z","Content":"\n\u003Cp\u003EAs you wish. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-08-13T20:57:17Z","Content":"\n\u003Cp\u003EOne trick to narrow down exactly what is happening is to error trap code as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic void MethodName()\u003Cbr\u003E{\u003Cbr\u003Estring errorLine = \u00221\u0022;\u003Cbr\u003Etry\u003Cbr\u003E{\u003Cbr\u003EerrorLine = \u00222\u0022;\u003Cbr\u003E--Line of Code\u003Cbr\u003EerrorLine = \u00223\u0022;\u003Cbr\u003E--Line of Code\u003Cbr\u003EerrorLine = \u00274\u0027;\u003Cbr\u003E--Line of Code\u003Cbr\u003Eetc.\u003Cbr\u003E--Last line of Code\u003Cbr\u003EerrorLine = \u002225\u0022\u0027\u003Cbr\u003E}\u003Cbr\u003Ecatch(Exception e)\u003Cbr\u003E{\u003Cbr\u003Eprint(\u0022Error MethodName \u0022 \u002B errorLine \u002B \u0022 \u0022 \u002B e)\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis way, if (and only if) there is an error, it prints the fact to the debug log (and output_log.txt). Then using whatever number prints for the errorLine variable, you can tell exactly which line of code is failing.\u003C/p\u003E\u003Cp\u003EThen have whoever is seeing the error send you the debug log as normal.\u003C/p\u003E\u003Cp\u003EThe caveats to this are that is is decent chunk of overhead in terms of what the code is doing and in your time to get it setup correctly. Also, there has to be an error thrown for the try-catch block to see. If the \u0022error\u0022 is something else, such as a foreach call not executing because the list it references is emtpy, this trick will not catch that.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-08-14T09:00:57Z","Content":"\n\u003Cp\u003Ehum, that beat my habit of printing A B C D... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-08-14T13:51:14Z","Content":"\n\u003Cp\u003ESo basically, ask the people who reported the bug to try playing with a dev version? Fine, if that\u0027s what it takes...\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-08-14T15:19:48Z","Content":"\n\u003Cp\u003EThat was actually the reason I came up with the code in my previous post, a way to only print to the log on error.\u003C/p\u003E\u003Cp\u003EI did that so I could distribute my release version with the code in place without having to release a dev version for testing.\u003C/p\u003E\u003Cp\u003EAs I was trying to track down the errors happening since 0.24 released, pretty much my entire mod has that enabled at the moment, but the intention is that only the critical bits for save/load will have it once I can get things settled down.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"noisybit","CreatedById":62545,"CreatedDateTime":"2014-08-14T22:30:52Z","Content":"\n\u003Cp\u003EI had reason to do this myself last night to isolate a bug. I ended up putting an Ubuntu Live CD on a thumb drive. Once rebooted into Ubuntu I just installed Steam and then installed KSP. I got KSP running with my mod but then went to sleep. In theory it should be an easy way to test things like this in the future. Supposedly there are even persistent thumb drive linux distros which would make it all much easier.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-14T22:31:38Z\u0022 title=\u002208/14/2014 10:31  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 14, 2014\u003C/time\u003E by noisybit\u003C/strong\u003E\n\u003Cbr\u003Ewords\n\u003C/span\u003E\n"}]}