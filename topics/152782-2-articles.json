{"TopicId":152782,"ForumId":34,"TopicTitle":"[1.8.x] KSPWheel - Physics Based Alternate Wheel Collider [API Only]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-11-30T18:26:55Z","PageNum":2,"Articles":[{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-03T02:12:46Z","Content":"\n\u003Cp\u003E\nOne addendum. Maximum braking torque should probably need to be around the maximum drive torque at double gear reduction (the 22kN for the worked example above) but will need to be tweakable freely in flight - because KSP\u0027s brakes are either full-on or full-off.\n\u003C/p\u003E\n"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2016-12-03T02:22:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222872188\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480700507\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nINot quite sure what you are referring to with adjustable bump?\u00A0 (As in bump-stop?\u00A0 Not much that can be done to tune it; it uses a collider to ensure overcompression does not occur)\n\u003C/p\u003E\n\u003Cp\u003E\nGuessing that damper rebound is referring to using a different damper rate for compression vs. decompression... which I\u0027ve been thinking myself is a bit of a needed thing.\u00A0 Could benefit the handling for many off road type setups, especially at higher speeds when traversing smaller rough details.\n\u003C/p\u003E\n\u003Cp\u003E\n(Disclaimer: I am not a vehicle physics expert, merely a programmer with a decent grasp of maths; many of the specific terms are unfamiliar to me by name, but I can probably tell you how they function...)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re right, that\u0027s exactly what I\u0027m pointing at. Bump is the damping ratio while the strut is being compressed, rebound the ratio of return. The advantage of a stiffer rebound is it prevents a wheel from losing contact with the surface. The problem with the current KSP dampers is that a high damper setting puts too much strain on the part, in other words it\u0027s easy to break the wheels. In real life you get an uncomfortable ride and everything wears down quicker, especially bearings and joints. Oh and yes, easier to damage your tire as well.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile we\u0027re at it, there\u0027s something else missing in the stock game: anti-roll bars. If I were a programmer I would use a method of clicking two parts to create a symbolic link. Anti-roll bars are very important. If for example you have a four wheel drive vehicle with the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E in the center, same tires front \u0026amp; back, same spring rate and damper settings etc, you can actually control the vehicle behaviour when driving at its limits: if you want understeer you\u0027ll choose a stiffer anti-roll bar on the front than the rear. If you want oversteer, the opposite. The reason is that while the primary function of an anti-roll bar is to prevent rolling of the vehicle in corners thereby reducing a shift in \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E and preventing a change in camber,\u00A0 the anti-roll bar also pulls a wheel up because it\u0027s connected to the wheel on the other side of the axle. Now if the other bar is less stiff, it won\u0027t pull as hard and because both bars are connected to the chassis or monocoque, it will create a difference: less road contact for the wheel with the stiffer bar -\u0026gt; less grip.\n\u003C/p\u003E\n\u003Cp\u003E\nOh and they also help when you have two big guys sitting on one side of the car. Without anti-roll bars, the car would list to one side all the time. And I\u0027ve already seen it with some overweight kerbals sitting in my cars.\n\u003C/p\u003E\n\u003Cp\u003E\nOne more thing ... Mentioned this before to Squad but no reply. Isn\u0027t it odd those heavy \u0026amp; powerful electric motors don\u0027t generate any heat at all?\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s it, I\u0027m done, have a picture.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022dhXNDKl.png\u0022 class=\u0022ipsImage\u0022 height=\u0022564\u0022 src=\u0022http://i.imgur.com/dhXNDKl.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222872805\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480731166\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne addendum. Maximum braking torque should probably need to be around the maximum drive torque at double gear reduction (the 22kN for the worked example above) but will need to be tweakable freely in flight - because KSP\u0027s brakes are either full-on or full-off.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot exactly, I\u0027ve noticed the brakes are progressive ... it just involves learning the right way of using PWM. The fact the brakes have a delay doesn\u0027t help though.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-03T02:31:53Z\u0022 title=\u002212/03/2016 02:31  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 3, 2016\u003C/time\u003E by Azimech\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-03T02:34:24Z","Content":"\n\u003Cp\u003E\nI think it would be best to try, as far as possible, free the player from the need to play a little tattoo on the brake button. :-)\n\u003C/p\u003E\n\u003Cp\u003E\nAddendum the second; this is all a bit more complicated when it comes to treads, and I\u0027m not sure I know enough about the current internal model. Assuming they are still so-many actually independent wheels in line and the tread is purely cosmetic, I think the thing to do is perform the calculations as above then divide the total torque between the wheels. Force their speeds to be identical then dynamically change the division of torque to remove it from wheels which are trying to go faster than average and add it to slower ones. I don\u0027t know how feasible that is and it\u0027s definitely pretty vague.\n\u003C/p\u003E\n"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2016-12-03T02:43:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222872827\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480732464\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think it would be best to try, as far as possible, free the player from the need to play a little tattoo on the brake button. :-)\n\u003C/p\u003E\n\u003Cp\u003E\nAddendum the second; this is all a bit more complicated when it comes to treads, and I\u0027m not sure I know enough about the current internal model. Assuming they are still so-many actually independent wheels in line and the tread is purely cosmetic, I think the thing to do is perform the calculations as above then divide the total torque between the wheels. Force their speeds to be identical then dynamically change the division of torque to remove it from wheels which are trying to go faster than average and add it to slower ones. I don\u0027t know how feasible that is and it\u0027s definitely pretty vague.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSounds you\u0027re talking about ESC or ESP. Also ... very complex :-)\u003Cbr\u003E\nIt would need to know the fact you\u0027re steering, because the inner wheels turn slower than the outer wheels, but it also needs the speed data from the wheels before cornering starts and know the steering angle, power requested by the user, use an accelerometer to measure the difference between initial acceleration and current (in any direction), compare the values in a pre-defined lookup table ... ugh.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-03T02:44:07Z\u0022 title=\u002212/03/2016 02:44  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 3, 2016\u003C/time\u003E by Azimech\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"colmo","CreatedById":25950,"CreatedDateTime":"2016-12-03T03:26:35Z","Content":"\n\u003Cp\u003E\nEverything a train mod needs:\n\u003C/p\u003E\n\u003Cp\u003E\n- More advanced wheel colliders (this mod)\n\u003C/p\u003E\n\u003Cp\u003E\n- Appropriate rail statics and a working Kerbal Konstructs (AlphaAsh talked about using statics joined by nodes and drawn by splines, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167349-ger_space/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022167349\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167349-ger_space/\u0022 rel=\u0022\u0022\u003E@Ger_space\u003C/a\u003E\u00A0fyi)\n\u003C/p\u003E\n\u003Cp\u003E\n- A means of controlling ground vehicles without physics, like Bon Voyage.\n\u003C/p\u003E\n\u003Cp\u003E\nWe now have all mod raw ingredients for a Kerbal Rail System...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-03T04:25:32Z\u0022 title=\u002212/03/2016 04:25  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 3, 2016\u003C/time\u003E by colmo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-03T04:01:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222872834\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480733016\u0022 data-ipsquote-userid=\u002250750\u0022 data-ipsquote-username=\u0022Azimech\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Azimech said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSounds you\u0027re talking about ESC or ESP. Also ... very complex :-)\u003Cbr\u003E\nIt would need to know the fact you\u0027re steering, because the inner wheels turn slower than the outer wheels, but it also needs the speed data from the wheels before cornering starts and know the steering angle, power requested by the user, use an accelerometer to measure the difference between initial acceleration and current (in any direction), compare the values in a pre-defined lookup table ... ugh.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think you have misunderstood. There are no \u0022inner wheels\u0022 and \u0022outer wheels\u0022 on a track; I\u0027m talking about the line-astern wheels on one track unit, which all turn at the same speed.\n\u003C/p\u003E\n\u003Cp\u003E\nAddendum (again): One advantage (I hope) of the approach I outline is that the part data file need only specify the wheel diameter, power output (or perhaps power/mass ratio), and nominal maximum speed, unless it is desired to override some of the computed values like maximum efficient motor RPM or default gear ratio. Everything else can be computed. The advantage is that the potential for error - putting some value in the data file that\u0027s off by an order of magnitude, or something - should be reduced.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-03T15:34:02Z\u0022 title=\u002212/03/2016 03:34  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 3, 2016\u003C/time\u003E by damerell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DirkLarien","CreatedById":91662,"CreatedDateTime":"2016-12-03T10:57:12Z","Content":"\n\u003Cp\u003E\nTo be honest.\n\u003C/p\u003E\n\u003Cp\u003E\nAt this point i would be willing to pay for mod like Adjustable landing gear.\n\u003C/p\u003E\n\u003Cp\u003E\nI think it is one of the mods i am unwilling to play the game without.\n\u003C/p\u003E\n\u003Cp\u003E\nOk ok i am addicted i know.....but i dont care :-) i need my fix XD\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-03T10:57:43Z\u0022 title=\u002212/03/2016 10:57  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 3, 2016\u003C/time\u003E by DirkLarien\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-03T17:54:09Z","Content":"\n\u003Cp\u003E\nUpdated testing release is available:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/shadowmage45/KSPWheel/releases/tag/0.9.0.3\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/KSPWheel/releases/tag/0.9.0.3\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLots of fixes, improvements, enhancements.\u00A0 Adds much better friction combination code, and adds an \u0027auto-tune suspension\u0027 function to help setup suspension properly (set the load share for the wheel, press the auto-tune button, done).\u00A0 Also a few config tweaks, but nothing too substantial (sorry, no steering curves yet).\u00A0 Adds deploy/retract sounds to stock legs and gear.\u00A0 Full details and more info is in the change log.\n\u003C/p\u003E\n\u003Cp\u003E\nDevelopment will be continuing for the next few weeks, focusing on bugfixing, cleanup, and polish.\u00A0 Still a few more physics problems and edge-cases that need to be sorted out, and certainly the amount of auto-configuration for basic suspension parameters could be improved on the PartModule end of things.\n\u003C/p\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2016-12-04T00:11:01Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0Great work - I wanted to ask, I was testing the tracks a bit and noticed that they all seem to be working somewhat , but lacking any power to move anything with speed. Before I went through a full report, are tracks still a WIP?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"mechanicH","CreatedById":167929,"CreatedDateTime":"2016-12-04T03:20:31Z","Content":"\n\u003Cp\u003E\n@gomker are you using the tracks that say KSPWheals in front of the title. There should be a set of 2 of the track. Use the ones titled KSPWheals.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-04T14:47:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222873955\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480810261\u0022 data-ipsquote-userid=\u0022141269\u0022 data-ipsquote-username=\u0022gomker\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, gomker said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0Great work - I wanted to ask, I was testing the tracks a bit and noticed that they all seem to be working somewhat , but lacking any power to move anything with speed. Before I went through a full report, are tracks still a WIP?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCould you show a screenshot of the vessel with the tracks right-click menus open?\u00A0 A few different things could cause lack of traction, most of them wheel/craft setup related.\n\u003C/p\u003E\n\u003Cp\u003E\nCould also be the torque outputs are not setup completely, and if tweakscale is in use, it could also be an incorrect torque-scaling multiplier.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2016-12-04T16:14:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222874721\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480862862\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCould also be the torque outputs are not setup completely, and if tweakscale is in use, it could also be an incorrect torque-scaling multiplier.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMy first instinct is a\u00A0tweakscale issue, all tests using the KF Track Long with Auto-tune suspend on. When at a 100% Scaling\u00A0I can get the craft to move, a bit slow to start but will get moving on runway.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022MKnaIt7.png\u0022 class=\u0022ipsImage\u0022 height=\u0022625\u0022 src=\u0022http://i.imgur.com/MKnaIt7.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAt 200% size on the track - heavier vehicle 24 tons - 12 tons of that is just the tracks\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022E158q5s.png\u0022 class=\u0022ipsImage\u0022 height=\u0022625\u0022 src=\u0022http://i.imgur.com/E158q5s.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIt moves very slowly like stuck in mud.\n\u003C/p\u003E\n\u003Cp\u003E\nI will note with either vehicle turning is almost impossible, the tank steering is not doing much at all.\n\u003C/p\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2016-12-04T16:26:13Z","Content":"\n\u003Cp\u003E\nUpdate: I went the opposite direction, shrunk something to fit, using KF Track RBIMole. This was able to move the tank and climb after a few tweaks of the lat/long slip.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would appear TweakScale is the root cause to me.\n\u003C/p\u003E\n"},{"CreatedByName":"qromodynmc","CreatedById":87139,"CreatedDateTime":"2016-12-04T19:57:22Z","Content":"\n\u003Cp\u003E\nI installed this today and i must say THANK YOU!..\u00A0 There are some issues but so far so good it feels amazing to see this mod working again.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is an example tank i built;\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022giphy.gif\u0022 class=\u0022ipsImage\u0022 src=\u0022https://media.giphy.com/media/kxOOLP1l7myiY/giphy.gif\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nat first tracks felt very underpowered and i had to edit config a bit, other than that it works perfectly, just needs proper adjustments.\n\u003C/p\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2016-12-04T20:05:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875112\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480881442\u0022 data-ipsquote-userid=\u002287139\u0022 data-ipsquote-username=\u0022qromodynmc\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, qromodynmc said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ni had to edit config a bit\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan you share what you changed?\n\u003C/p\u003E\n"},{"CreatedByName":"qromodynmc","CreatedById":87139,"CreatedDateTime":"2016-12-04T20:11:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875123\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480881906\u0022 data-ipsquote-userid=\u0022141269\u0022 data-ipsquote-username=\u0022gomker\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, gomker said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan you share what you changed?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0 From this;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 name = KSPWheelMotor\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0wheelIndex = 1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxMotorTorque = 0.10\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0resourceAmount = 0.25\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0throttleResponse = 2\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0tankSteering = true\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxRPM = 600\n\u003C/p\u003E\n\u003Cp\u003E\nto this;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 name = KSPWheelMotor\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0wheelIndex = 1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxMotorTorque = 1.0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0resourceAmount = 0.25\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0throttleResponse = 2\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0tankSteering = true\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxRPM = 2000\n\u003C/p\u003E\n\u003Cp\u003E\nLines are from KSPWheel patches folder, KF-tracklong.cfg.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-04T20:38:09Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/123074-damerell/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022123074\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/123074-damerell/\u0022 rel=\u0022\u0022\u003E@damerell\u003C/a\u003E\u00A0 Thanks for the detailed write-up, excellent work on including the maths and details.\u00A0 Apologies for not replying sooner, been trying to juggle too many projects, leaving not much time for writing posts.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure I want to get as technical as specific gear ratios and changing of gear ratios.\u00A0 I\u0027m not trying to make a full vehicle simulator, merely trying to make wheel colliders that work with \u0026gt;1 collider in a part and don\u0027t have orientation restrictions.\u00A0 I\u0027m also not aiming for a highly-technical or accurate balancing for the part patches, but more of a gameplay-oriented balance for them.\n\u003C/p\u003E\n\u003Cp\u003E\nWith that said, I do like some of the ideas and data that you have presented, and will give some further thought to if/how they could be used.\u00A0 Gearing isn\u0027t completely off the table, but I would have to rework how motors are handled in order to be able to make use of such a setup (and add provisions for the user to be able to change gearing while in flight = more keybinds...).\u00A0 If I were to allow for changing of gearing, I would probably also want to include provisions for changing out the motor itself, which would be even more code-side work, more configs to manage, and more user-end setup that would need to be done.\u00A0 Might play around with these concepts a bit, but no guarantees that it\u0027ll be done anytime soon.\n\u003C/p\u003E\n\u003Cp\u003E\nRolling resistance -- already on the TODO list, likely to be supported at the wheel-collider level.\u00A0 I intend to setup a basic linear rpm-based rolling resistance friction value; probably using a spring-force multiplier as a secondary term to adjust rolling resistance as load changes, with both values being configurable.\u00A0 RR would be applied to the wheel alongside brake and motor torques.\u00A0 Nothing too complex.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyhow, I\u0027ve copied your post out to the github repo so the information doesn\u0027t get lost; it is written well enough that I feel I should keep it around for future reference for if/when I start working on those features \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50750-azimech/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250750\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50750-azimech/\u0022 rel=\u0022\u0022\u003E@Azimech\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRoll/anti-sway bars -- Requires that there be some sort of \u0027vehicle\u0027 level controller to adjust forces/settings across multiple parts, or some other cross-part linking.\u00A0 Would love to be able to have both roll-bars and some sort of differential / axle setup across parts, but will take some thought on the UI and VesselModule/cross-part setup end of things.\n\u003C/p\u003E\n\u003Cp\u003E\nMotor-heat output -- seems logical, and probably not too hard to add in.\u00A0 If I rework the motor data a bit, using the motor input KW and efficiency data it should be not too hard to figure out how much heat is being generated.\u00A0 As a bonus, could add heat output for brakes, rolling resistance, and possibly slip forces (though all of those are probably minor in comparison to the motor).\u00A0 Might be an interesting mechanic to have to deal with managing motor heat\n\u003C/p\u003E\n\u003Cp\u003E\nDamper differential -- investigating methods to be able to include this feature, and its implications for performance and handling.\u00A0 May see it included eventually (alongside non-linear springs), but will likely take me a bit to figure it out.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222874822\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480868773\u0022 data-ipsquote-userid=\u0022141269\u0022 data-ipsquote-username=\u0022gomker\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, gomker said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUpdate: I went the opposite direction, shrunk something to fit, using KF Track RBIMole. This was able to move the tank and climb after a few tweaks of the lat/long slip.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would appear TweakScale is the root cause to me.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, I need to take a look on how torque and wheel mass scale with different tweakscale settings.\u00A0 Currently it is all linear, which I\u0027m pretty sure is not correct in all cases.\u00A0 Notably wheel inertia rises with the square of radius, which means that for the same angular velocity increase, motor torque would need to be at least squared as well (but is this appropriate? the same angular velocity at different scales would be different linear velocities depending on wheel radius, thus different linear accelerations).\u00A0 I\u0027m not really sure how load rating/spring stiffness would increase with scale either -- an abstract mathematical spring is one dimensional, so linear scaling would seem appropriate; but a physical spring derives its values from its coil dimensions, and I haven\u0027t dug into those equations too far.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn general news I\u0027m investigating how to best auto-calculate valid suspension settings for wheels, so as to remove most of the possibility for invalid configurations.\u00A0 This is what the stock wheels appear to do, and while I\u0027m not fond of the idea, I can see where it is good from an ease-of-use standpoint.\u003Cbr\u003E\u003Cbr\u003E\nThe current sticking point is on how to account properly for the number of wheels in a vehicle, and all of their positioning and orientations.\u00A0 I really don\u0027t think that is a problem that I\u0027m going to be able to solve, at least not reliably and in an efficient manner.\u00A0 Instead I think that I\u0027ll have to go with a feedback based approach using an initial rough-guess based on vehicle mass, and then have each wheel further adjust itself based on current ride height vs. target ride height, with some sort of delay built in to ensure it doesn\u0027t interfere with standard suspension response during cornering.\u00A0 In the end the two UI controls would be \u0027stiffness\u0027 (damper ratio), and \u0027ride height\u0027, which would allow control of those values within the supposedly valid range.\u00A0 Adding in some sort of \u0027wheel groups\u0027 or \u0027axle\u0027 settings for wheels would allow for ensuring that left/right wheels use the same settings, and might help with detecting cornering as well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nAnother bit I\u0027m investigating is another slight tweak to the friction code.\u00A0 After looking closer at my friction-combine code I realized it is using a simple diamond/slope based capping rather than a circular capping method (was summing as a maximum value, rather than calculating as a vector magnitude).\u00A0 The result of this is that both side and fwd friction should be increased by up to ~30% when both are at maximal value (~0.7 vs ~0.5), but will not have noticeable changes when only one or the other is at maximum.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nTook a look over the Adjustable Landing Gear models and setup yesterday.\u00A0 While I can get the basic functionality working for them (suspension, brakes, wheels spinning), none of the advanced functionality is working as those models were specially constructed with the BD plugins in mind (and/or the plugins were written for the modules).\u00A0 Not even the deploy animations work, as no actual animations exist, the transforms were all driven manually by the plugin.\u00A0 To top it all off, the models are rigged in such a way as to make it very problematic to support the features (such as objects that need to rotate around other objects\u0027 origin points, randomly interspersed with normal-rotation setups).\u00A0 Sad, because they are nice looking models; but I would have to have access to the original modeling files to re-rig them for standard uses / easier coding for support of the intended features, or do some very custom code to support them in their current state.\n\u003C/p\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2016-12-04T20:44:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875159\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480883889\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nmotor torque would need to be at least squared as well (but is this appropriate?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis does get tricky - I have the same issues when figuring out scaling factors for BDA damage code right now. What should be vs.\u00A0what makes gameplay work? \u00A0At the moment the updates \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/87139-qromodynmc/\u0026amp;do=hovercard\u0022 data-mentionid=\u002287139\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/87139-qromodynmc/\u0022 rel=\u0022\u0022\u003E@qromodynmc\u003C/a\u003E\u00A0pointed out are working for me, I would vote to\u00A0up those values for now (maxTorque) and work on the more pressing matters.\n\u003C/p\u003E\n"},{"CreatedByName":"qromodynmc","CreatedById":87139,"CreatedDateTime":"2016-12-04T20:49:46Z","Content":"\n\u003Cp\u003E\nI totally had no idea about that. But it worked, or didnt. maybe it just worked because of increased rpm?.\n\u003C/p\u003E\n"},{"CreatedByName":"DirkLarien","CreatedById":91662,"CreatedDateTime":"2016-12-05T02:10:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875159\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480883889\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nt I would have to have access to the original modeling files to re-rig them for standard uses / easier coding for support of the intended features, or do some very custom code to support them in their current state.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot certain if i understand correctly but...\n\u003C/p\u003E\n\u003Cp\u003E\nI am almost certain it is modified landing gear originally from B9 aerospace..... old version that is...which can be found on curse....\n\u003C/p\u003E\n\u003Cp\u003E\nor.... let me check yup 23.5 version fully modded with b9 and some more on my drive ;-)\n\u003C/p\u003E\n\u003Cp\u003E\ni can provide that if needed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-05T02:11:52Z\u0022 title=\u002212/05/2016 02:11  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 5, 2016\u003C/time\u003E by DirkLarien\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TiktaalikDreaming","CreatedById":136290,"CreatedDateTime":"2016-12-05T09:55:04Z","Content":"\n\u003Cp\u003E\nI drove around a box on wheels using just the reconfiged stock wheels, and it\u0027s lovely.\u00A0 Now to start messin about with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E config to switch out the stock modules for the rover.\u00A0 And then it\u0027ll be time to look at tracks for the box on tracks.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022QHNLnf7.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/QHNLnf7.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875130\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480882272\u0022 data-ipsquote-userid=\u002287139\u0022 data-ipsquote-username=\u0022qromodynmc\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, qromodynmc said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0 From this;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 name = KSPWheelMotor\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0wheelIndex = 1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxMotorTorque = 0.10\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0resourceAmount = 0.25\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0throttleResponse = 2\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0tankSteering = true\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxRPM = 600\n\u003C/p\u003E\n\u003Cp\u003E\nto this;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 name = KSPWheelMotor\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0wheelIndex = 1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxMotorTorque = 1.0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0resourceAmount = 0.25\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0throttleResponse = 2\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0tankSteering = true\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxRPM = 2000\n\u003C/p\u003E\n\u003Cp\u003E\nLines are from KSPWheel patches folder, KF-tracklong.cfg.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nConsidering beasts like the M-1 have serious gas turbines with 1000kW or more, you may have wanted to beef up the resourceAmount from 0.25 a wee bit as well.\u00A0 Not every tracked vehicle speeds along at 20\u002Bm/s, but those that do pay for that with power, same as a car does.\n\u003C/p\u003E\n"},{"CreatedByName":"TiktaalikDreaming","CreatedById":136290,"CreatedDateTime":"2016-12-05T10:06:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222874822\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480868773\u0022 data-ipsquote-userid=\u0022141269\u0022 data-ipsquote-username=\u0022gomker\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, gomker said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUpdate: I went the opposite direction, shrunk something to fit, using KF Track RBIMole. This was able to move the tank and climb after a few tweaks of the lat/long slip.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would appear TweakScale is the root cause to me.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWheels, gear, legs etc have never behaved well with scaling in KSP.\u00A0 Tweakscale tries to compensate (I assume the devs know that wheels etc are an issue), but there\u0027s only so much they can do.\u00A0 And tweakscale vs a completely new module is likely to just not scale.\u00A0 So, core KSP values, like mass, will increase, but the power to the ground and energy use, and all sorts of wheel/track behaviour won\u0027t.\u00A0 TweakScale isn\u0027t actually magic, it\u0027s just lots of hard work, hidden away.\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-05T17:36:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875159\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480883889\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/123074-damerell/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022123074\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/123074-damerell/\u0022 rel=\u0022\u0022\u003E@damerell\u003C/a\u003E With that said, I do like some of the ideas and data that you have presented, and will give some further thought to if/how they could be used.\u00A0 Gearing isn\u0027t completely off the table, but I would have to rework how motors are handled in order to be able to make use of such a setup (and add provisions for the user to be able to change gearing while in flight = more keybinds...).\u00A0 If I were to allow for changing of gearing, I would probably also want to include provisions for changing out the motor itself, which would be even more code-side work, more configs to manage, and more user-end setup that would need to be done.\u00A0 Might play around with these concepts a bit, but no guarantees that it\u0027ll be done anytime soon.\n\u003C/p\u003E\n\u003Cp\u003E\nRolling resistance -- already on the TODO list, likely to be supported at the wheel-collider level.\u00A0 I intend to setup a basic linear rpm-based rolling resistance friction value; probably using a spring-force multiplier as a secondary term to adjust rolling resistance as load changes, with both values being configurable.\u00A0 RR would be applied to the wheel alongside brake and motor torques.\u00A0 Nothing too complex.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, I appreciate that if I want something implemented I should be prepared to implement it myself, but... one advantage of the system I outline, I hope, is that it\u0027s almost entirely hands-off. Given the part\u0027s wheel radius, assign a nominal speed and all the other values just fall out deterministically. If you don\u0027t like the performance that gives you, assign a non-default power/mass ratio. (It\u0027s worth noting, as well, that motor RPM is a purely cosmetic value. It isn\u0027t _used_ for anything - the power tailoff is just based on the nominal speed, multiplied by gearing).\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t see any need for the user to change gearing in flight rather than in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E - certainly not with keybinds, and arguably if it can be done in flight, only when the part is not operating. Electric vehicles don\u0027t typically make use of gear shifting because of the way electric motors can already provide full torque at very low revolutions in a way that infernal combustion engines can\u0027t (which is also partly why diesel locomotives typically generate electricity to run electric traction motors). The proposed gearing feature is part of vehicle design - not just to up the torque if designing a very heavy crawler, but because it will make it easier to mix and match wheels - a wheel designed for a slower speed can be geared up and while it won\u0027t provide much torque it will be able to provide some at the vehicle\u0027s intended speed. It also is intended to reduce the need for the part designer to get the part \u0022just right\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-05T17:48:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875159\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480883889\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, I need to take a look on how torque and wheel mass scale with different tweakscale settings.\u00A0 Currently it is all linear, which I\u0027m pretty sure is not correct in all cases.\u00A0 Notably wheel inertia rises with the square of radius, which means that for the same angular velocity increase, motor torque would need to be at least squared as well (but is this appropriate? the same angular velocity at different scales would be different linear velocities depending on wheel radius, thus different linear accelerations).\u00A0 I\u0027m not really sure how load rating/spring stiffness would increase with scale either -- an abstract mathematical spring is one dimensional, so linear scaling would seem appropriate; but a physical spring derives its values from its coil dimensions, and I haven\u0027t dug into those equations too far.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t think wheel inertia should rise with the square of radius. It would do so if the mass of the part didn\u0027t change. However, the mass probably increases with the cube of linear dimension so the moment of inertia would follow the fifth power of radius.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I don\u0027t think it has anything to do with torque. The job of the torque isn\u0027t to rotate the wheel, it\u0027s to move the vehicle!\n\u003C/p\u003E\n\u003Cp\u003E\nIf one assumes a fairly naive scaling-up, the power output has presumably increased with the cube of linear dimension. However, wheel revolutions for a given speed will have reduced proportionately to the linear dimension. If a wheel n times as big is expected to go no faster, torque should increase with the square of linear dimension; if it\u0027s expected to go n times as fast, it should increase with the cube of linear dimension. [1]\n\u003C/p\u003E\n\u003Cp\u003E\nLinear scaling for a spring is surely wrong - even if the spring is an exact copy of the spring it replaced, it is fatter as well as longer. I would guess, cube of the linear dimension.\n\u003C/p\u003E\n\u003Cp\u003E\n[1] One of these cases looks like something for nothing - but that\u0027s because gearing, and the point where the power output can no longer provide maximum torque, aren\u0027t reflected in it.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875159\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480883889\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nRolling resistance -- already on the TODO list, likely to be supported at the wheel-collider level.\u00A0 I intend to setup a basic linear rpm-based rolling resistance friction value; probably using a spring-force multiplier as a secondary term to adjust rolling resistance as load changes, with both values being configurable.\u00A0 RR would be applied to the wheel alongside brake and motor torques.\u00A0 Nothing too complex.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf rolling resistance is to be applied as a torque it should not vary with speed (aside from the reduction at very low speeds I outline). It will already drain more energy at higher speeds because more work is done per second against it.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-05T18:54:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876129\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480960130\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I don\u0027t think it has anything to do with torque. The job of the torque isn\u0027t to rotate the wheel, it\u0027s to move the vehicle!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is false; a vehicles motor does not apply torque or any other forces directly to the vehicle or road.\u00A0 A vehicles motor applies torque to drive-train through to the axles, and thus eventually to the wheels, which causes the wheels to spin faster (or slower).\u00A0 It is the friction caused by the difference in velocity of the wheels against the road surface that propels the vehicle.\u00A0 (In real life, the \u0027spin faster\u0027 of the wheel is mostly absorbed by rubber stretch and deformation, so except in extreme cases of slip, the wheel visually appears to adhere to the road, even though there is some stretching and deforming going on at the contact patch)\n\u003C/p\u003E\n\u003Cp\u003E\nThink of what happens when a vehicle is airborne and you hit the throttle -- the motor revs up and the wheels spin faster, but there is no change in vehicle velocity.\u00A0 The \u003Cstrong\u003Esame\u003C/strong\u003E thing happens when you are on the ground, only the friction between the wheels and the surface transforms some of the wheels rotational inertia into forwards momentum.\u00A0 The job of the motor \u003Cstrong\u003Eis\u003C/strong\u003E to rotate the wheel.\u00A0 It is the job of friction to move the vehicle.\u00A0 (its a bit more complex than that, even in the fairly simple model that I use; but I can tell you with certainty that the motor forces act on the wheels, and not on the road or vehicle directly).\n\u003C/p\u003E\n\u003Cp\u003E\nAnother example is to think of a slick surface, say a patch of ice.\u00A0 A vehicle on this surface will have very low friction between its tires and the surface.\u00A0 If you apply too much throttle, the wheels will simply spin out, applying close to no force to the vehicle (even though the same torque is being applied to the wheels themselves as on a higher friction surface).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMoment of inertia of a wheel -- It does rise with the square of the radius -- \u003Ca href=\u0022http://hyperphysics.phy-astr.gsu.edu/hbase/icyl.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hyperphysics.phy-astr.gsu.edu/hbase/icyl.html\u003C/a\u003E ( MOI of a cylinder = 0.5 * mass * radius ^2 ).\u00A0 It is this moment of inertia that determines an individual tires response to torque input from a motor; a higher MOI requires more torque for the same angular acceleration.\u00A0 Now, that is not saying that my current scaling for the \u0027wheelMass\u0027 is correct (it is not).\u00A0 Wheel mass should probably use cubic scaling, where it currently uses linear.\u00A0 (The entirety of TweakScale support currently uses linear scaling where it is actually used; going to take me quite awhile to figure out the proper scaling method for everything)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nRolling resistance -- while I\u0027m not fond of quoting Wikipedia, it is an easily available source of information.\u00A0 From everything I can see, wheel speed / wheel rpm does play a factor in rolling resistance calculations:\u00A0 \u0022Additional contributing factors include \u003Ca href=\u0022https://en.wikipedia.org/wiki/Rolling_resistance#Depends_on_diameter\u0022 rel=\u0022external nofollow\u0022\u003Ewheel diameter\u003C/a\u003E, \u003Ca href=\u0022https://en.wikipedia.org/wiki/Rolling_resistance#Depends_on_speed\u0022 rel=\u0022external nofollow\u0022\u003Espeed\u003C/a\u003E,\u003Csup\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Rolling_resistance#cite_note-Hibbeler-2\u0022 rel=\u0022external nofollow\u0022\u003E[2]\u003C/a\u003E\u003C/sup\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Rolling_resistance#Depends_on_load\u0022 rel=\u0022external nofollow\u0022\u003Eload on wheel\u003C/a\u003E, surface adhesion, sliding, and relative micro-sliding between the surfaces of contact.\u0022\u00A0\u00A0 I have no idea if it should rise linearly with speed, or some more complex term, but it is linked with speed.\u003Cbr\u003E\n(Rolling resistance and drag chart, from:\u00A0\u003Ca href=\u0022http://www.asawicki.info/Mirror/Car%20Physics%20for%20Games/Car%20Physics%20for%20Games.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.asawicki.info/Mirror/Car Physics for Games/Car Physics for Games.html\u003C/a\u003E , shows linear increase in RR with speed)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ctgraph.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://www.asawicki.info/Mirror/Car%20Physics%20for%20Games/Car%20Physics%20for%20Games_files/ctgraph.jpg\u0022\u003E\u003Cbr\u003E\nHowever whether it should be applied as a torque or force... really plays nothing into the equation; one is equivalent to the other * the wheel radius, and as rolling resistance will be applied to the wheels/axles, it needs to be applied as a torque (even if calculated as a force originally, it will need to converted to a torque before being integrated to change the wheels angular velocity).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nGearing / motor output -- still looking into things.\u00A0 Good point that gear changing might not be needed in flight; while it could have its benefits, the main reason for transmission-style-gear-changing is indeed for the low-torque output at low-rpms from ICEs, where as most electric motors actually have their highest torque output at zero/low RPM.\u00A0 Could still be of use for multi-purpose vehicles; a rock crawler that can gear down for rough terrain or high slopes, but gear up for higher max cruise speed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNot intending to argue on these points, merely presenting the information as I know it.\u00A0 If you believe any of these points or posed information is incorrect, I have no problem with discussing it and finding a proper solution, but please be prepared to back up your information with references so that I can see how/where/why my information is wrong.\n\u003C/p\u003E\n"}]}