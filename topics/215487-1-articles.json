{"TopicId":215487,"ForumId":197,"TopicTitle":"[BUG: VAB] Launch displays incorrect delta-V when adding parts after adding a fuel line (has workaround)","CreatedByName":"mezzo_forte","CreatedById":228031,"CreatedDateTime":"2023-03-19T04:28:29Z","PageNum":1,"Articles":[{"CreatedByName":"mezzo_forte","CreatedById":228031,"CreatedDateTime":"2023-03-19T04:28:29Z","Content":"\n\u003Cp\u003E\nNot sure if this is considered a repost (please remove if it is). I saw a few other posts related to issues with the delta-V calculation generally, but I found a current workaround that may be helpful figuring out some of the particular delta-v issues.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EKSP Version\u003C/strong\u003E: v.1.1.0 (latest as of today)\u003Cbr\u003E\n\u003Cstrong\u003EOperating System and version\u003C/strong\u003E: Windows 10 (Version 10.0.19044 Build 19044), also tested on Debian sid\u003Cbr\u003E\n\u003Cstrong\u003ECPU\u003C/strong\u003E: Intel i7-6700 @ 3.40GHz\u003Cbr\u003E\n\u003Cstrong\u003EGPU\u003C/strong\u003E: Nvidia GeForce RTX 3060 Ti (driver version 531.29)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u003Cstrong\u003EDescription of the bug:\u00A0\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe launch panel seems to incorrectly calculate delta-V after a fuel line is added, once additional parts are brought into the mix.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, a Mun lander might be built with small boosters on the side with fuel lines to bring its delta-V to 3000 m/s. If you want to add landing gear, your delta-V instantly drops to 2000 m/s. A small drop is expected, but not that much. Surprisingly you can get the delta-V back just by rebuilding the fuel line. This short clip I recorded shows how you can get inconsistent readings for the same set of parts\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t see a way to embed webms here so, here\u0027s a direct link instead:\u00A0\u003Ca href=\u0022https://drive.google.com/file/d/1wWtzLFNOE5H7kJz-58PTuRyS63Wl0WbI/view?usp=share_link\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1wWtzLFNOE5H7kJz-58PTuRyS63Wl0WbI/view?usp=share_link.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EExpected Behavior\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFuel Lines should not be discounted from delta-V in Trip planner if additional parts are added. The delta-V should stay close to 3000 m/s.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EObserved Behavior\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDisplayed delta-V drops to its \u0022pre-fuel line\u0022 value when modifications are added.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ESteps to Replicate\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1. Build any craft with fueled boosters that feed into a central fueled tank.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Make adjustments or additions to the craft to observe\u00A0inconsistent readings of delta-V.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EFixes / Workarounds\u003C/strong\u003E: Rebuild the fuel line (note: this is pretty difficult to do if you have a smaller craft behind fairing)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EOther Notes\u003C/strong\u003E:\n\u003C/p\u003E\n\u003Cp\u003E\nIn the video posted, my craft starts from the \u0022expected\u0022 delta-V after I applied the workaround.\u00A0 I remove a landing leg and LOSE 900 m/s (removing weight should be a gain). I remove all parts and attempt to rebuild the craft I started with. Everything builds as expected until I add the landing gear. When I add\u00A0a landing leg, I again LOSE 900 m/s. I can get this lost speed back simply by removing and adding the fuel line.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-19T04:33:30Z\u0022 title=\u002203/19/2023 04:33  AM\u0022 data-short=\u00221 yr\u0022\u003EMarch 19, 2023\u003C/time\u003E by mezzo_forte\u003C/strong\u003E\n\u003Cbr\u003EDid not understand that was a code tag, not embedded HTML\n\u003C/span\u003E\n"}]}