{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":242,"Articles":[{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-23T17:50:53Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, maculator said:\n\u003E \n\u003E \n\u003E I just did notice that I think \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E itself is the problem ... If I look at planet eve with only \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E installed it is a purple ball too...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So I guess I\u0027ll compliment myself out of this thread an try to find a solution over in the \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E thread. This is gonna be fun searching for \u0022Eve clouds not showing\u0022 in the \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E thread ![:/](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png \u0022:/\u0022)\n\u003E \n\u003E \n\u003E \n\u003E Should have checked that before, stupid old me. Well maybe the SVE complete pack I\u0027m downloading right now ill work - might aswell just use that.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![38MthCI.png](http://i.imgur.com/38MthCI.png)](http://i.imgur.com/38MthCI.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thank you ALL!!! This is the most beautiful thing I saw today!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://github.com/Galileo88/StockVisualEnhancements/releases/tag/v1.1.6](https://github.com/Galileo88/StockVisualEnhancements/releases/tag/v1.1.6)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E the linked complete pack worked!\n\u003E \n\nThat is an outdated version, btw. It will work in 1.2.2, but just know its not the latest version"},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2017-04-23T19:05:38Z","Content":"[@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/) I know its not the latest but every other version of eve I got my hands on either didn\u0027t work or like the last two releases messes up the planet eve."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-23T19:51:27Z","Content":"\u003E \n\u003E \n\u003E 37 minutes ago, maculator said:\n\u003E \n\u003E \n\u003E [@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/) I know its not the latest but every other version of eve I got my hands on either didn\u0027t work or like the last two releases messes up the planet eve.\n\u003E \n\nThe version of \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E in SVE 1.1.6 and the new version are nearly identical. The only difference being the models \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E can cast shadows on. Other than that, it\u0027s exactly the same and should work fine."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-04-23T20:02:30Z","Content":"I\u0027ll give it a test run with Spectra if you want? Should be home in a few hours ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-04-23T20:19:30Z","Content":"\u003E \n\u003E \n\u003E 16 minutes ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E I\u0027ll give it a test run with Spectra if you want? Should be home in a few hours ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nNo hurry though, whenever you have time ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-04-23T23:13:27Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E There used to be a very obvious line around 300m in front of the camera where the postprocessing effect starts, this is fixed.\n\u003E \n\nI think I just noticed this last night. Great!\n\n\u003E \n\u003E \n\u003E 10 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E I haven\u0027t tested with \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E or any other mods, I expect the clouds might be visible through the underwater surface, please tell me if this is the case.\n\u003E \n\nthey are not visible. Should the 2D clouds at least be visible when looking straight up?\n\n\u003E \n\u003E \n\u003E 10 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E NearClipPlane parameter is back in the config file, I don\u0027t recommend messing with it.\n\u003E \n\nso many thanks! I set it to 0.1 and can see all around my IVAs without any nasty clipping and I don\u0027t notice any ground/water clipping effects either when outside of IVA\n\nLooks great! Performance is still real good.\n\n![eflciDa.png](http://i.imgur.com/eflciDa.png)\n\nthe atmosphere is different though. Did you tweak the configs for Kerbin or is there something more fundamental with this new version? Here\u0027s the same time with the latest release:\n\n![LU1a2vg.png](http://i.imgur.com/LU1a2vg.png)\n\nI ran a diffcheck and see the changes to m\\_mieG  and \\_Post\\_Extinction\\_Tint  - still wondering tho if that was a simple cosmetic tweak on your end or if it was done because of some change to the plugin.\n\n**Edited \u003Ctime datetime=\u00222017-04-24T03:53:20Z\u0022 title=\u002204/24/2017 03:53  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 24, 2017\u003C/time\u003E by Drew Kerman**"},{"CreatedByName":"N70","CreatedById":165182,"CreatedDateTime":"2017-04-23T23:47:45Z","Content":"Any way to get sunflares to display properly on 6.4x?"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-23T23:57:46Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, N70 said:\n\u003E \n\u003E \n\u003E Any way to get sunflares to display properly on 6.4x?\n\u003E \n\nYes. In the sunflare folder find the sun.cfg. There are instructions in the cfg. You will need to change the last value in the flareSettings and in the SpikeSettings. The smaller the value, the bigger the flare."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-04-24T03:16:27Z","Content":"It looks amazing [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) Just one note, there seems to be a black \u0027highlight\u0027 that covers anti-aliasing on parts that are in front of the water shader (or below the surface). Is this similar to the highlight that we see on the scatter shader? It appears with all forms of anti-aliasing. As it stands it would prevent me from filming any scenes involving water :L\n\n![UmW7zOr.png](http://i.imgur.com/UmW7zOr.png)\n\nAll in all though the new effects are fantastic... ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nEDIT: It seems as though there is a slider to change underwater color but it doesn\u0027t seem to change anything in game. Is this known info?\n\n**Edited \u003Ctime datetime=\u00222017-04-24T04:26:59Z\u0022 title=\u002204/24/2017 04:26  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 24, 2017\u003C/time\u003E by Avera9eJoe**"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-04-24T03:55:14Z","Content":"\u003E \n\u003E \n\u003E 38 minutes ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E Are you going to make the color of the water configurable?\n\u003E \n\nI didn\u0027t play with the values and currently have it removed for better performance but I know I saw some new color values in the water settings"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-04-24T04:05:37Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, Drew Kerman said:\n\u003E \n\u003E \n\u003E I didn\u0027t play with the values and currently have it removed for better performance but I know I saw some new color values in the water settings\n\u003E \n\nAch aye there are - I installed the test pack and then overwrote the configs with my current ones - that\u0027d explain why it looks bad for me ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022) Going back and manually changing things now ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022). Removing that comment from my post too"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-04-24T06:36:42Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E It looks amazing [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) Just one note, there seems to be a black \u0027highlight\u0027 that covers anti-aliasing on parts that are in front of the water shader (or below the surface). Is this similar to the highlight that we see on the scatter shader? It appears with all forms of anti-aliasing. As it stands it would prevent me from filming any scenes involving water :L\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![UmW7zOr.png](http://i.imgur.com/UmW7zOr.png)](http://i.imgur.com/UmW7zOr.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E All in all though the new effects are fantastic... ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E EDIT: It seems as though there is a slider to change underwater color but it doesn\u0027t seem to change anything in game. Is this known info?\n\u003E \n\nYes, same reason. You could try removing AA and downsampling instead but I haven\u0027t tried that in KSP in a while. I should probably make the depth-based transparency togglable for this reason.\n\n\u003E \n\u003E \n\u003E 7 hours ago, Drew Kerman said:\n\u003E \n\u003E \n\u003E I think I just noticed this last night. Great!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E they are not visible. Should the 2D clouds at least be visible when looking straight up?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E so many thanks! I set it to 0.1 and can see all around my IVAs without any nasty clipping and I don\u0027t notice any ground/water clipping effects either when outside of IVA\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Looks great! Performance is still real good.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The atmosphere is different though. Did you tweak the configs for Kerbin or is there something more fundamental with this new version? Here\u0027s the same time with the latest release:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I ran a diffcheck and see the changes to m\\_mieG and \\_Post\\_Extinction\\_Tint - still wondering tho if that was a simple cosmetic tweak on your end or if it was done because of some change to the plugin.\n\u003E \n\nNo they\u0027re not supposed to be visible, all good.\n\nI did a small cosmetic tweak on the extinction tint but don\u0027t remember consciously changing mieG, thanks for testing."},{"CreatedByName":"N70","CreatedById":165182,"CreatedDateTime":"2017-04-24T21:12:21Z","Content":"Whenever I enable \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E intergration, it automatically disables itself?"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-24T21:13:04Z","Content":"\u003E \n\u003E \n\u003E Just now, N70 said:\n\u003E \n\u003E \n\u003E Whenever I enable \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E intergration, it automatically disables itself?\n\u003E \n\nare you using SVE?"},{"CreatedByName":"N70","CreatedById":165182,"CreatedDateTime":"2017-04-24T21:25:20Z","Content":"\u003E \n\u003E \n\u003E 12 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E are you using SVE?\n\u003E \n\nyes"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-24T21:27:38Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, N70 said:\n\u003E \n\u003E \n\u003E yes\n\u003E \n\nSVE Isn\u0027t developed to work with \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration because currently it doesn\u0027t work with colored cloud textures. I have implemented code to disable the eve integration in SVE"},{"CreatedByName":"N70","CreatedById":165182,"CreatedDateTime":"2017-04-24T21:28:16Z","Content":"\u003E \n\u003E \n\u003E Just now, Galileo said:\n\u003E \n\u003E \n\u003E SVE Isn\u0027t developed to work with \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration because currently it doesn\u0027t work with colored cloud textures. I have implemented code to disable the eve integration in SVE\n\u003E \n\nok ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-04-25T05:24:00Z","Content":"Hm, a general complaint (Or bug?) I have... It seems as though the stock atmospheric effects haven\u0027t been disabled though I have Scatterer installed:\n\n![SEKZPCX.png](http://i.imgur.com/SEKZPCX.png)\n\nRunning Kopernicus, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, and your Scatterer WIP release. I don\u0027t know if this is intended or if it\u0027s a bug? I also don\u0027t know if this is a concern at the moment ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022) You\u0027re pretty busy with oceans at the moment and I\u0027d hate to deter from that."},{"CreatedByName":"stratvox","CreatedById":134498,"CreatedDateTime":"2017-04-25T05:50:18Z","Content":"Hi Blackrack!\n\nI put your experimental version in. I\u0027m using SVE and SVT. When I go look at the sun in the tracking station, here\u0027s what I get:\n\n![2W474t7.png](http://i.imgur.com/2W474t7.png)\n\nIt looks like this in the sky as well.\n\nI updated to the very latest version of SVE at the same time I put the experimental version of scatterer in, so [@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/) may be interested in this.\n\nIf there\u0027s anything you need, please let me know.\n\nCheers!"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-25T06:52:45Z","Content":"\u003E \n\u003E \n\u003E 56 minutes ago, stratvox said:\n\u003E \n\u003E \n\u003E Hi Blackrack!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I put your experimental version in. I\u0027m using SVE and SVT. When I go look at the sun in the tracking station, here\u0027s what I get:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![2W474t7.png](http://i.imgur.com/2W474t7.png)](http://i.imgur.com/2W474t7.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It looks like this in the sky as well.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I updated to the very latest version of SVE at the same time I put the experimental version of scatterer in, so [@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/) may be interested in this.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If there\u0027s anything you need, please let me know.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Cheers!\n\u003E \n\nWell, there are obvious changes in the WIP scatterer version. I haven\u0027t messed with it yet and probably won\u0027t until some other fixes are implemented, so unfortunately, I can\u0027t help here. I recommend not trying to play seriously with the experimental version, but if your intention was bug hunting, then keep up the good work! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-04-25T13:16:06Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E Hm, a general complaint (Or bug?) I have... It seems as though the stock atmospheric effects haven\u0027t been disabled though I have Scatterer installed:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Running Kopernicus, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, and your Scatterer WIP release. I don\u0027t know if this is intended or if it\u0027s a bug? I also don\u0027t know if this is a concern at the moment ![:P](http://91.68.209.8/bmi/forum.kerbalspaceprogram.com/uploads/emoticons/default_k_tongue.gif \u0022:P\u0022) You\u0027re pretty busy with oceans at the moment and I\u0027d hate to deter from that.\n\u003E \n\nIs the stock atmo visible in this screenshot? I can\u0027t really tell.\n\nIn any case I\u0027m pretty much done with what I wanted to add to the ocean and I\u0027m going to dedicate some time to fix bugs and refactor the code.\n\nBtw the ocean shader is at the limit of what I can fit in a dx9 shader atm. It might be difficult in the future to make it work with planetshine without breaking refractions.\n\n\u003E \n\u003E \n\u003E 7 hours ago, stratvox said:\n\u003E \n\u003E \n\u003E Hi Blackrack!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I put your experimental version in. I\u0027m using SVE and SVT. When I go look at the sun in the tracking station, here\u0027s what I get:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It looks like this in the sky as well.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I updated to the very latest version of SVE at the same time I put the experimental version of scatterer in, so [@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/) may be interested in this.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If there\u0027s anything you need, please let me know.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Cheers!\n\u003E \n\nI will probably get back to you when I get around to bug fixing."},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2017-04-25T16:13:25Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E ... and I\u0027m going to dedicate some time to fix bugs and **refactor the code**.\n\u003E \n\nWoohoo! Everyone\u0027s raving about the new shaders but this is what gets me really excited."},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2017-04-25T17:06:29Z","Content":"Praise the surf!\n\nIt\u0027s beautiful. Kudos. Really makes the water much more realistic. You say you are reaching the limit of what\u0027s possible so does that mean shadows on the water are not possible? This may have been covered in the past and I forgot about it. I\u0027ve noticed a few oddities, some of which have been mentioned but one in particular relates to another mod (Distant Object Enhancement) so it might need to be changed there and honestly, it\u0027s a really minor problem."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-04-25T17:32:35Z","Content":"\u003E \n\u003E \n\u003E 25 minutes ago, Manwith Noname said:\n\u003E \n\u003E \n\u003E Praise the surf!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It\u0027s beautiful. Kudos. Really makes the water much more realistic. You say you are reaching the limit of what\u0027s possible so does that mean shadows on the water are not possible? This may have been covered in the past and I forgot about it. I\u0027ve noticed a few oddities, some of which have been mentioned but one in particular relates to another mod (Distant Object Enhancement) so it might need to be changed there and honestly, it\u0027s a really minor problem.\n\u003E \n\nWell, in dx9, but there might still be tricks. Anyway, shadows should be possible technically but unity doesn\u0027t like the projected grid and it makes the shadows flicker on all the other objects when I enable them on the ocean. Not sure why atm."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-04-27T20:17:23Z","Content":"Image of Titan in front of Saturn for some concept on atmospheres in front of other atmospheres:\n\n ![v2-RTR3795S.jpg](https://static.independent.co.uk/s3fs-public/thumbnails/image/2014/04/16/09/v2-RTR3795S.jpg)\n\nSaw this picture and was instantly reminded of Scatterer ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n**Edited \u003Ctime datetime=\u00222017-04-27T20:21:43Z\u0022 title=\u002204/27/2017 08:21  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 27, 2017\u003C/time\u003E by Avera9eJoe**"}]}