{"TopicId":115474,"ForumId":29,"TopicTitle":"Adding Science and making it stick","CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2015-07-09T14:25:08Z","PageNum":1,"Articles":[{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2015-07-09T14:25:08Z","Content":"\n\u003Cp\u003EHi all,\u003C/p\u003E\u003Cp\u003EI am trying to add Science outside of using experiments (both Career and Science Sandbox mode, KSP 1.0.4), and I found this: \u003C/p\u003E\u003Cp\u003EResearchAndDevelopment.Instance.AddScience(1.0f, TransactionReasons.Any);\u003C/p\u003E\u003Cp\u003EIf I then check to see if the science was added, I use this:\u003C/p\u003E\u003Cp\u003EResearchAndDevelopment.Instance.Science\u003C/p\u003E\u003Cp\u003EI\u0027ve verified that ResearchAndDevelopment.Instance.Science reflects the amount of science added using ResearchAndDevelopment.Instance.AddScience. The second I go back to the Space Center and look at the Science meter, it retains the value it had before entering Flight and altering the Science. As far as I can tell, the ResearchAndDevelopment scenario isn\u0027t saving the adjustment to Science when I switch the scene from Flight to Space Center. I\u0027m also seeing that the Science readout in Flight doesn\u0027t reflect the change I did. Is there a way to tell the ResearchAndDevelopment scenario to save its new values? Is there another place to set Science other than in the ResearchAndDevelopment scenario?\u003C/p\u003E\u003Cp\u003EThanks for the help. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Nailed it! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E The problem is that I was adding science during the OnStart method. All I needed to do is wait a bit such as during OnUpdate or OnFixedUpdate.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-09T15:47:45Z\u0022 title=\u002207/09/2015 03:47  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 9, 2015\u003C/time\u003E by Angel-125\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ozraven","CreatedById":106313,"CreatedDateTime":"2015-07-09T15:44:15Z","Content":"\n\u003Cp\u003EI\u0027m more familiar with how R\u0026amp;D works outside of the Flight scene, and in that case, saving the game solved a similar issue for me.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EGamePersistence.SaveGame(\u0022persistent\u0022, HighLogic.SaveFolder, SaveMode.OVERWRITE);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHowever, I am not sure how forcing a save might affect reverting, etc. when in the Flight scene.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-07-09T15:44:48Z","Content":"\n\u003Cp\u003EYou may need to fire the onScienceModified event, e.g.\u003C/p\u003E\u003Cp\u003EGameEvents.onScienceModified.Fire(1.0, TransactionReasons.Any);\u003C/p\u003E\u003Cp\u003EYou may not need to do the other call in this case (the R\u0026amp;D center may have an event handler for that event). You\u0027ll either need to experiment or look for a mod that does something similar...\u003C/p\u003E\n"},{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2015-07-09T17:30:10Z","Content":"\n\u003Cp\u003EThank you, I will give your suggestions a try. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ser","CreatedById":104207,"CreatedDateTime":"2015-07-10T09:26:33Z","Content":"\n\u003Cp\u003EAs I recall that method takes TransactionReason as a parameter. Try different reasons. I\u0027ve tried the \u0022RnDs\u0022 value and everything was fine as long as I could see. If nothing helps, there\u0027s also the method CheatAddScience.\u003C/p\u003E\n"}]}