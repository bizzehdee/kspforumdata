{"TopicId":196455,"ForumId":16,"TopicTitle":"Calculating an orbit so the time spent on either side of a threshold alt is the same.","CreatedByName":"eberkain","CreatedById":157548,"CreatedDateTime":"2020-08-22T16:25:25Z","PageNum":1,"Articles":[{"CreatedByName":"eberkain","CreatedById":157548,"CreatedDateTime":"2020-08-22T16:25:25Z","Content":"\n\u003Cp\u003E\nLets take an example.\u00A0 We are at the Mun with an \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E of 20km.\u00A0 We know the cutoff between low/high space is at 60km.\u00A0 What does my \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u00A0need to be so that the vessel spends about the same amount of time both above and below the 60km border during a single orbit?\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2020-08-22T16:56:39Z","Content":"\n\u003Cp\u003E\nI think it depends on the definition of \u0022about\u0022 the same amount of time.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t crunch any numbers, and the census guy just woke me up so I\u0027m groggy and grumpy, but instinctively, I think this isn\u0027t possible. \u00A0\u00A0\u00A0 If you spend the same amount of time on each side of the \u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E/\u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E, then you have a circular orbit.\u00A0\u00A0 Lowering your \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E means that half of the orbit is not only shorter, but the craft will be moving faster.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo I don\u0027t think it\u0027s possible to have \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E/\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\u0027s set to have equal time above/below a mean Altitude.\n\u003C/p\u003E\n\u003Cp\u003E\nNow if you\u0027re looking to gather science, that\u0027s a different story.\u00A0\u00A0\u00A0 I would think being \u002B/- 1km from your mean altitude should given you plenty of time to do all the experiments you want to do.\u00A0\u00A0\u00A0 Throw in some inclination, and you could cover the majority of the body\u0027s orbital biomes pretty easily.\n\u003C/p\u003E\n\u003Cp\u003E\nSo if the cutoff is 60km, then a 59x61km orbit should suit your needs fine.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2020-08-22T17:49:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223842284\u0022 data-ipsquote-contentid=\u0022196455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598115399\u0022 data-ipsquote-userid=\u002264714\u0022 data-ipsquote-username=\u0022Gargamel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, Gargamel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI didn\u0027t crunch any numbers, and the census guy just woke me up so I\u0027m groggy and grumpy, but instinctively, I think this isn\u0027t possible. \u00A0\u00A0\u00A0 If you spend the same amount of time on each side of the \u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E/\u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E, then you have a circular orbit.\u00A0\u00A0 Lowering your \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E means that half of the orbit is not only shorter, but the craft will be moving faster.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYour grogginess is indeed doing you a disservice \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIt is in fact possible to create an orbit where you spend the same amount of time both below and above a certain altitude. Think about it: if you move faster in the low part of the orbit, then the high part of the orbit simply must be less than half of an orbit. For example, if you have a PE of 20 km and an AP of 65 km, then the part of the orbit that is above 60 km will not be half an orbit, but rather noticably less. You move slower across that section, but because it is shorter, it will not take as long to move through.\n\u003C/p\u003E\n\u003Cp\u003E\nThat said, I don\u0027t know how to precalculate such an orbit. If I wanted to do it ingame, I\u0027d probably guess an apoapsis altitude, make a maneuver node to plan it, note the resulting orbital period, and then mouse over the two 60 km altitude points and measure the time difference between them. Then adjust AP until the time difference between the 60 km points is half the orbital period.\n\u003C/p\u003E\n\u003Cp\u003E\nHow do you find out where the 60 km altitude line is? No idea! At least not without cheating. You could use the set orbit cheat to put a disposable probe into a circular 60 km orbit at the inclination and LAN that you need, use it to help plot your orbit, and then delete the cheated object again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-22T17:51:43Z\u0022 title=\u002208/22/2020 05:51  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 22, 2020\u003C/time\u003E by Streetwind\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2020-08-22T18:06:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223842319\u0022 data-ipsquote-contentid=\u0022196455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598118596\u0022 data-ipsquote-userid=\u002298962\u0022 data-ipsquote-username=\u0022Streetwind\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Streetwind said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat said, I don\u0027t know how to precalculate such an orbit.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think that\u0027s the rub here.\u00A0\u00A0 Since we\u0027re not, assumedly, dealing with some need for a wonky Polynya style orbit, where exact position and timing is required, I don\u0027t see why just going slightly above and below our mean altitude wouldn\u0027t work here. \u00A0 Yes, the times aren\u0027t even, but I don\u0027t think it matters. \u00A0 If you just want to get science (which I believe is the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u0027s intent), then just having some significant portion above and below should suffice.\u00A0\u00A0 It shouldn\u0027t matter that it\u0027s 54%/46% or whatever, as long as you have enough time to do all the science you want, and the orbit precesses over the surface.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut while this might be the most fuel efficient method, having one orbit that covers all situations and biomes, the amount of \u003Cabbr title=\u0022Delta-V\u0022\u003EDv\u003C/abbr\u003E required to make a sub 60km circular orbit and then bump it to an over 60km circular orbit should be minuscule.\u00A0\u00A0\u00A0 That way you can get all the science you want for one situation in a single orbit or two, and then bump it up, and do it again.\u00A0\u00A0 Gameplay, this would take far less time than waiting for above/below orbit to precess over the body.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is, of course, assuming science is the goal, which was implied in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E, but not specifically stated.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Aelipse","CreatedById":197170,"CreatedDateTime":"2020-08-22T18:07:01Z","Content":"\n\u003Cp\u003E\nThis is an interesting mathematical problem. Not impossible, I reckon, but the difference between your periapsis and the mean altitude would have to be larger than the difference between the mean altitude and your apoapsis, since objects always travel faster the lower in the gravitational well they\u00A0get. In mathematical terms:\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n|M - P| \u0026gt; |A - M|\n\u003C/p\u003E\n\u003Cp\u003E\nwhere M is the \u0022dividing\u0022 altitude (60 km in your example), A and P are Apoapsis and Periapsis respectively.\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure how serious you are about the answer, but I could imagine the simplest way to calculate this using the Kepler\u0027s laws.\n\u003C/p\u003E\n\u003Cp\u003E\nThe second Kepler\u0027s law tells you that the ratio of time spent on any two\u00A0segments of an elliptical orbit is exactly the same as the surface area covered by a line segment between your vessel and the centre of the celestial body you\u0027re orbiting. The request of t1 = t2 thus translates into S1 = S2. Now all you have to do is pick an eccentricity of an ellipse, write down its analytical equation and integrate it to get the surface area.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022hrtrm3o1n1bzeowzg.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002249.90\u0022 height=\u0022487\u0022 width=\u0022976\u0022 src=\u0022http://www.mediafire.com/convkey/e1a2/hrtrm3o1n1bzeowzg.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEDIT: And by altitude in the picture above I mean altitude above the centre of the body, not its surface. It tends to be easier to just forget about the size of the celestial body and simply view it as a point. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0You can always subtract its radius from your result.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-22T18:11:51Z\u0022 title=\u002208/22/2020 06:11  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 22, 2020\u003C/time\u003E by Aelipse\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lt_Duckweed","CreatedById":201466,"CreatedDateTime":"2020-08-23T05:49:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223842329\u0022 data-ipsquote-contentid=\u0022196455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598119621\u0022 data-ipsquote-userid=\u0022197170\u0022 data-ipsquote-username=\u0022Aelipse\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Aelipse said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is an interesting mathematical problem. Not impossible, I reckon, but the difference between your periapsis and the mean altitude would have to be larger than the difference between the mean altitude and your apoapsis, since objects always travel faster the lower in the gravitational well they\u00A0get. In mathematical terms:\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n|M - P| \u0026gt; |A - M|\n\u003C/p\u003E\n\u003Cp\u003E\nwhere M is the \u0022dividing\u0022 altitude (60 km in your example), A and P are Apoapsis and Periapsis respectively.\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure how serious you are about the answer, but I could imagine the simplest way to calculate this using the Kepler\u0027s laws.\n\u003C/p\u003E\n\u003Cp\u003E\nThe second Kepler\u0027s law tells you that the ratio of time spent on any two\u00A0segments of an elliptical orbit is exactly the same as the surface area covered by a line segment between your vessel and the centre of the celestial body you\u0027re orbiting. The request of t1 = t2 thus translates into S1 = S2. Now all you have to do is pick an eccentricity of an ellipse, write down its analytical equation and integrate it to get the surface area.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022hrtrm3o1n1bzeowzg.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002249.90\u0022 height=\u0022487\u0022 width=\u0022976\u0022 src=\u0022https://www.mediafire.com/convkey/e1a2/hrtrm3o1n1bzeowzg.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEDIT: And by altitude in the picture above I mean altitude above the centre of the body, not its surface. It tends to be easier to just forget about the size of the celestial body and simply view it as a point. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0You can always subtract its radius from your result.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor funsies, I decided to take a stab at this and uhh, it\u0027s not pretty at all...\n\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2020-08-23T05:58:48Z","Content":"\n\u003Cp\u003E\nThis feels like calculus. And I haven\u0027t done calculus since I was forced to in college. The year started with a \u00221\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nSo no thanks \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-23T05:58:56Z\u0022 title=\u002208/23/2020 05:58  AM\u0022 data-short=\u00223 yr\u0022\u003EAugust 23, 2020\u003C/time\u003E by Superfluous J\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2020-08-23T10:32:58Z","Content":"\n\u003Cp\u003E\nIt\u0027s a solved problem for elliptical orbits using the function between mean anomaly (time based from periapsis) and eccentric anomaly (angle based from periapsis).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://en.wikipedia.org/wiki/Mean_anomaly\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Mean_anomaly\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAt the end of the article just before the references, there\u0027s a infinite equation to calculate the eccentric anomaly from the mean anomaly that can be used to figure out the position.\u00A0 From that, should be able to calculate the required orbital parameters.\n\u003C/p\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2020-08-23T11:24:56Z","Content":"\n\u003Cp\u003E\nHmmm, it\u0027s more complex a problem.\u00A0 In the statement of the problem, the periapsis is fixed and the apoapsis is variable.\u00A0 Which means the eccentricity is variable.\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2020-08-23T11:42:00Z","Content":"\n\u003Cp\u003E\nI think at this point, to satisfy my own curiosity, is this highly mathematical orbit any better for gathering science than one that barely dips above and below the stated mean?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still curious to hear the solution to the more complex problem, though.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Aelipse","CreatedById":197170,"CreatedDateTime":"2020-08-23T12:22:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223842703\u0022 data-ipsquote-contentid=\u0022196455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598182920\u0022 data-ipsquote-userid=\u002264714\u0022 data-ipsquote-username=\u0022Gargamel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, Gargamel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think at this point, to satisfy my own curiosity, is this highly mathematical orbit any better for gathering science than one that barely dips above and below the stated mean?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still curious to hear the solution to the more complex problem, though.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe mathematical solutions satisfying the given time requirement does actually involve orbits that barely dip above and below a chosen mean altitude. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Entropian","CreatedById":205453,"CreatedDateTime":"2020-08-23T14:10:28Z","Content":"\n\u003Cp\u003E\nYeah, this is going to need calculus.\u00A0 I\u0027m thinking some kind of integral...\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-08-23T14:23:18Z","Content":"\n\u003Cp\u003E\nWe can solve numerically using Kepler\u0027s equation.\n\u003C/p\u003E\n\u003Cp\u003E\nMean anomaly (M) is zero at periapsis, increases uniformly to \u03C0 at as the craft reaches apoapis, then increases to 2\u03C0 as the craft returns to periapsis. If we want to find the altitude that half the orbital time is spent above, then we set M to 0.5 * \u03C0. (As another example, if we wanted the radius above which 30% of the time is spent, then we would set M = 0.7 * \u03C0).\u003Cbr\u003E\u003Cbr\u003E\nKepler\u0027s equation relating mean anomaly and eccentric anomaly (E) is:\u003Cbr\u003E\u003Cstrong\u003E(1) M = E - e * sin(E)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo we have:\u003Cbr\u003E\u003Cstrong\u003E(2) 0 = E - e * sin(E) - 0.5 * \u03C0\u003C/strong\u003E\u003Cbr\u003E\u003Cbr\u003E\nDefine\u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nPeriapsis radius = \u003Cstrong\u003Er\u003Csub\u003Ep \u003C/sub\u003E\u003C/strong\u003E= 220000 km (from center of Mun)\n\u003C/li\u003E\n\u003Cli\u003E\nThreshold radius = \u003Cstrong\u003Er\u003Csub\u003Et\u003C/sub\u003E\u003C/strong\u003E = 260000 km\n\u003C/li\u003E\n\u003Cli\u003E\nApoapsis radius = \u003Cstrong\u003Er\u003C/strong\u003E = ?\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nEccentricity (e) in terms of our unknown (\u003Cstrong\u003Er\u003C/strong\u003E):\u003Cbr\u003E\u003Cstrong\u003E(3) e = (r - r\u003Csub\u003Ep\u003C/sub\u003E) / (r \u002B r\u003Csub\u003Ep\u003C/sub\u003E)\u003C/strong\u003E\u003Cbr\u003E\nDerivative of equation 3:\u003Cbr\u003E\u003Cstrong\u003E(4) de/dr = e\u0027 = 2r\u003Csub\u003Ep\u003C/sub\u003E / (r \u002B r\u003Csub\u003Ep\u003C/sub\u003E)\u003Csup\u003E2\u003C/sup\u003E\u003C/strong\u003E\u003Cbr\u003E\u003Cbr\u003E\nCosine of eccentric anomaly (E) in terms of our unknown (\u003Cstrong\u003Er\u003C/strong\u003E):\u003Cbr\u003E\u003Cstrong\u003E(5) cos(E) = c = (r \u002B r\u003Csub\u003Ep\u003C/sub\u003E - 2r\u003Csub\u003Et\u003C/sub\u003E) / (r - r\u003Csub\u003Ep\u003C/sub\u003E)\u003C/strong\u003E\u003Cbr\u003E\nDerivative of equation 5:\u003Cbr\u003E\u003Cstrong\u003E(6) d(cos(E))/dr = c\u0027 = 2 * (r\u003Csub\u003Et\u003C/sub\u003E - r\u003Csub\u003Ep\u003C/sub\u003E) / (r - r\u003Csub\u003Ep\u003C/sub\u003E)\u003Csup\u003E2\u003C/sup\u003E\u003C/strong\u003E\u003Cbr\u003E\u003Cbr\u003E\nFor convenience:\u003Cbr\u003E\u003Cstrong\u003E(7) sin(E) = s = sqrt(1 - c\u003Csup\u003E2\u003C/sup\u003E)\u003Cbr\u003E\n(8) E = cos\u003Csup\u003E-1\u003C/sup\u003E(c)\u003C/strong\u003E\u003Cbr\u003E\u003Cbr\u003E\nPutting\u003Cstrong\u003E \u003C/strong\u003E(2), (7) and (8) together, our function to find \u003Cstrong\u003Er\u003C/strong\u003E (will be zero when r is our desired apoapsis):\u003Cbr\u003E\u003Cstrong\u003Ef(r) = cos\u003Csup\u003E-1\u003C/sup\u003E(c) - e * s - 0.5 * \u03C0\u003C/strong\u003E\u003Cbr\u003E\nThe derivative of this function (liberally applying chain and product rules) is:\u003Cbr\u003E\u003Cstrong\u003Ef\u0027(r) = -c\u0060 / sqrt(1 - c\u003Csup\u003E2\u003C/sup\u003E) - [e\u0027 * s - e * c * c\u0027 / sqrt(1-c\u003Csup\u003E2\u003C/sup\u003E)]\u003C/strong\u003E\u003Cbr\u003E\nTidying:\u003Cbr\u003E\u003Cstrong\u003Ef\u0027(r) = c\u0060 * (e * c - 1) / s - (e\u0027 * s)\u003C/strong\u003E\u003Cbr\u003E\u003Cbr\u003E\nSolve numerically using your favorite method (e.g Newton\u0027s method). kOS code in the spoiler\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elocal rp is mun:radius \u002B 20000.\u003Cbr\u003E\nlocal rt is mun:radius \u002B 60000.\u003Cbr\u003E\nlocal M is 0.5 * constant:pi.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elocal ra is rt \u002B 1. // Initial guess\u003Cbr\u003E\nlocal delta is 1.\u003Cbr\u003E\nlocal iterations is 0.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Euntil abs(delta) \u0026lt; 1 or iterations = 15 {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local e is (ra - rp) / (ra \u002B rp).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local de is (2 * rp) / ((ra \u002B rp) ^ 2).\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0\u00A0 \u00A0local c is (rp \u002B ra - 2 * rt) / (ra - rp).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local dc is 2 * (rt - rp) / ((ra - rp) ^ 2).\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0\u00A0 \u00A0local s is sqrt(1 - c ^ 2).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local EA is arccos(c) * constant:degtorad.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0\u00A0 \u00A0local f is EA - e * s - M.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local df is dc * (e * c - 1 ) / s - de * s.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0\u00A0\u00A0 set delta to f / df.\u003Cbr\u003E\n\u00A0\u00A0\u00A0 set ra to ra - delta.\u003Cbr\u003E\n\u00A0\u00A0\u00A0 set iterations to iterations \u002B 1.\u003Cbr\u003E\n}\u003Cbr\u003E\u003Cbr\u003E\nprint ra.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cstrong\u003Er\u00A0\u003C/strong\u003E\u2248 \u003Cstrong\u003E 290,408m \u003C/strong\u003E(from center of Mun) \u2248 90,408m in-game altitude.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-23T15:10:48Z\u0022 title=\u002208/23/2020 03:10  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 23, 2020\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Entropian","CreatedById":205453,"CreatedDateTime":"2020-08-23T14:57:23Z","Content":"\n\u003Cp\u003E\nNice calculus!\u00A0 I was thinking about some sort of integral of an infinitesimally small triangle dtheta, using a polar coordinate system, but your method is much more elegant.\n\u003C/p\u003E\n"},{"CreatedByName":"Lt_Duckweed","CreatedById":201466,"CreatedDateTime":"2020-08-23T19:24:58Z","Content":"\n\u003Cp\u003E\nYeah, that\u0027s way better than the integrals I was doing in rectangular coordinates lol.\n\u003C/p\u003E\n"},{"CreatedByName":"Aelipse","CreatedById":197170,"CreatedDateTime":"2020-08-23T21:16:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223842890\u0022 data-ipsquote-contentid=\u0022196455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598210698\u0022 data-ipsquote-userid=\u0022201466\u0022 data-ipsquote-username=\u0022Lt_Duckweed\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Lt_Duckweed said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, that\u0027s way better than the integrals I was doing in rectangular coordinates lol.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis can be actually done in the Cartesian coordinates. The function for the upper half of the ellipse (we can only take one half since it\u0027s symmetrical) is:\n\u003C/p\u003E\n\u003Cp\u003E\ny = b * sqrt( 1 - x2/a2\u00A0). Integrating it over dx\u00A0requires a clever trick of substituting x for for a new variable z with this condition: x = a * cos(z).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou get this formula for the surface area under the ellipse curve: S = a * b * integral( sin(z)2 * dz\u00A0)\n\u003C/p\u003E\n\u003Cp\u003E\nThis can be tackled easily with\u00A0the knowledge of the trigonometric equality cos(2z) = cos(z)2 - sin(z)2, which gives you sin(z)2 = ( 1 - cos(2z) ) / 2\n\u003C/p\u003E\n\u003Cp\u003E\nYour integral is then S = a * b * integral( (1 - cos(2z)) / 2 ) dz, which then can be torn apart into two integrals, both for x running from -a to a (after having reversed the substitution). You end up with a formula for the surface area of an ellipse (a whole ellipse would\u00A0yield pi * a * b, by the way). Then you simply subtract the surface area of the yellow\u00A0triangle below the line segment dividing the green and the yellow areas and you get a nice formula for the green surface area (the upper half of it rather). Then you have to solve what you got for T, where T is the x coordinate of the dividing point which we are really trying to find.\n\u003C/p\u003E\n\u003Cp\u003E\nI did a very similar calculation\u00A0with my high school\u00A0students and many of them got the gist of it, although admittedly none were\u00A0too keen to be tested on this. \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EEDIT: A big shout out to the administrators of the forum. Why do we not have an equation editor? \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-23T21:17:33Z\u0022 title=\u002208/23/2020 09:17  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 23, 2020\u003C/time\u003E by Aelipse\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lt_Duckweed","CreatedById":201466,"CreatedDateTime":"2020-08-24T02:15:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223842932\u0022 data-ipsquote-contentid=\u0022196455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598217368\u0022 data-ipsquote-userid=\u0022197170\u0022 data-ipsquote-username=\u0022Aelipse\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Aelipse said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis can be actually done in the Cartesian coordinates. The function for the upper half of the ellipse (we can only take one half since it\u0027s symmetrical) is:\n\u003C/p\u003E\n\u003Cp\u003E\ny = b * sqrt( 1 - x2/a2\u00A0). Integrating it over dx\u00A0requires a clever trick of substituting x for for a new variable z with this condition: x = a * cos(z).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou get this formula for the surface area under the ellipse curve: S = a * b * integral( sin(z)2 * dz\u00A0)\n\u003C/p\u003E\n\u003Cp\u003E\nThis can be tackled easily with\u00A0the knowledge of the trigonometric equality cos(2z) = cos(z)2 - sin(z)2, which gives you sin(z)2 = ( 1 - cos(2z) ) / 2\n\u003C/p\u003E\n\u003Cp\u003E\nYour integral is then S = a * b * integral( (1 - cos(2z)) / 2 ) dz, which then can be torn apart into two integrals, both for x running from -a to a (after having reversed the substitution). You end up with a formula for the surface area of an ellipse (a whole ellipse would\u00A0yield pi * a * b, by the way). Then you simply subtract the surface area of the yellow\u00A0triangle below the line segment dividing the green and the yellow areas and you get a nice formula for the green surface area (the upper half of it rather). Then you have to solve what you got for T, where T is the x coordinate of the dividing point which we are really trying to find.\n\u003C/p\u003E\n\u003Cp\u003E\nI did a very similar calculation\u00A0with my high school\u00A0students and many of them got the gist of it, although admittedly none were\u00A0too keen to be tested on this. \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EEDIT: A big shout out to the administrators of the forum. Why do we not have an equation editor? \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe approach that I took was to get the explicit equation for an ellipse with one foci at (0, 0), then perform 3 integrals\u003Cbr\u003E\n1. The integral for the ellipse from c-a to n (where n is the x coordinate point we are interested in)\u003Cbr\u003E\n2. The line radiating out from the origin to the point in interest expressed with slope as a function of n, then\u00A0integrated from 0 to n\u003Cbr\u003E\n3. The ellipse integrated from n to c\u002Ba.\u003Cbr\u003E\u003Cbr\u003E\nAfter much variable wrangling and simplification, I got to the equation\u00A0n= a*sin((c/a)(1-((n-c)/a)^2)^(1/2))\u002Bc where n is the x coord of the point, a is the semimajor axis, and c is the distance from the foci to the center of the ellipse (in other words a*eccentricity).\u00A0 I\u0027m sure you can see the issue here.\u00A0 while I have a nice clean n by itself on the left, I also have one buried deep within the sin term on the right.\n\u003C/p\u003E\n"},{"CreatedByName":"DerekL1963","CreatedById":57091,"CreatedDateTime":"2020-08-24T03:17:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223842703\u0022 data-ipsquote-contentid=\u0022196455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598182920\u0022 data-ipsquote-userid=\u002264714\u0022 data-ipsquote-username=\u0022Gargamel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Gargamel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nis this highly mathematical orbit any better for gathering science than one that barely dips above and below the stated mean?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo.\u00A0 At least not for stock.\u00A0 You just have to below the border for long enough to activate your instruments, a minute or so max.\u00A0 If you can\u0027t do it that fast for whatever reason, just timewarp ahead until you drop below the border again.\u00A0 Lather, rinse, repeat as needed.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-24T03:18:07Z\u0022 title=\u002208/24/2020 03:18  AM\u0022 data-short=\u00223 yr\u0022\u003EAugust 24, 2020\u003C/time\u003E by DerekL1963\u003C/strong\u003E\n\u003C/span\u003E\n"}]}