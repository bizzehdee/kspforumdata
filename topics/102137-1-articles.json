{"TopicId":102137,"ForumId":44,"TopicTitle":"Delta V calculations with Python","CreatedByName":"Feradose","CreatedById":111211,"CreatedDateTime":"2015-03-17T13:13:02Z","PageNum":1,"Articles":[{"CreatedByName":"Feradose","CreatedById":111211,"CreatedDateTime":"2015-03-17T13:13:02Z","Content":"Hello everyone,\n\nI wanted to make a DeltaV calculator in python and I failed I think.\n\nCan anyone fix it?\n\n(I read it had to do something with local gravity too so I put them there)\n\nYou dont need to put aerodynamics stuff in it, just think its vacuum\n\n\u003E \n\u003E mass\\_empty=int(raw\\_input(\u0022Enter dry mass \u0022))\n\u003E \n\u003E mass\\_full=int(raw\\_input(\u0022Enter wet mass \u0022))\n\u003E \n\u003E isp=int(raw\\_input(\u0022Enter Isp \u0022))\n\u003E \n\u003E thrust=int(raw\\_input(\u0022Enter thrust \u0022))\n\u003E \n\u003E celestialBody\\_number=int(raw\\_input(\u0022Choose celestial body \u0022))\n\u003E \n\u003E if celestialBody\\_number==0:\n\u003E \n\u003E  g=1.746\n\u003E \n\u003E  print \u0022You have selected Kerbol\u0022\n\u003E \n\u003E if celestialBody\\_number==1:\n\u003E \n\u003E  g=0.275\n\u003E \n\u003E  print \u0022You have selected Moho\u0022\n\u003E \n\u003E if celestialBody\\_number==2:\n\u003E \n\u003E  g=1.7\n\u003E \n\u003E  print \u0022You have selected Eve\u0022\n\u003E \n\u003E if celestialBody\\_number==3:\n\u003E \n\u003E  g=0.005\n\u003E \n\u003E  print \u0022You have selected Gilly\u0022\n\u003E \n\u003E if celestialBody\\_number==4: \n\u003E \n\u003E  g=1\n\u003E \n\u003E  print \u0022You have selected Kerbin\u0022\n\u003E \n\u003E if celestialBody\\_number==5:\n\u003E \n\u003E  g=0.116\n\u003E \n\u003E  print \u0022You have selected M\u00C3\u0192\u00C2\u00BCn\u0022\n\u003E \n\u003E if celestialBody\\_number==6: \n\u003E \n\u003E  g=0.05\n\u003E \n\u003E  print \u0022You have selected Minmus\u0022\n\u003E \n\u003E if celestialBody\\_number==7:\n\u003E \n\u003E  g=0.3\n\u003E \n\u003E  print \u0022You have selected Duna\u0022\n\u003E \n\u003E if celestialBody\\_number==8:\n\u003E \n\u003E  g=0.112\n\u003E \n\u003E  print \u0022You have selected Ike\u0022\n\u003E \n\u003E if celestialBody\\_number==9:\n\u003E \n\u003E  g=0.115\n\u003E \n\u003E  print \u0022You have selected Dres\u0022\n\u003E \n\u003E if celestialBody\\_number==10:\n\u003E \n\u003E  g=0.8\n\u003E \n\u003E  print \u0022You have selected Jool\u0022\n\u003E \n\u003E if celestialBody\\_number==11:\n\u003E \n\u003E  g=0.8\n\u003E \n\u003E  print \u0022You have selected Laythe\u0022\n\u003E \n\u003E if celestialBody\\_number==12:\n\u003E \n\u003E  g=0.235\n\u003E \n\u003E  print \u0022You have selected Vall\u0022\n\u003E \n\u003E if celestialBody\\_number==13:\n\u003E \n\u003E  g=0.8\n\u003E \n\u003E  print \u0022You have selected Tylo\u0022\n\u003E \n\u003E if celestialBody\\_number==14:\n\u003E \n\u003E  g=0.06\n\u003E \n\u003E  print \u0022You have selected Bop\u0022\n\u003E \n\u003E if celestialBody\\_number==15:\n\u003E \n\u003E  g=0.038\n\u003E \n\u003E  print \u0022You have selected Pol\u0022\n\u003E \n\u003E if celestialBody\\_number==16:\n\u003E \n\u003E  g=0.172\n\u003E \n\u003E  print \u0022You have selected Eeloo\u0022\n\u003E \n\u003E Delta\\_V=(mass\\_full/mass\\_empty)\\*isp\\*g\n\u003E \n\u003E print Delta\\_V\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E"},{"CreatedByName":"Black_Tomcat","CreatedById":63718,"CreatedDateTime":"2015-03-17T14:59:16Z","Content":"g in the dV formula is always 9,81m/s^2\n\nIt\u0027s not dependant on the gravity well you are in, otherwise you\u0027d have to factor in different g\u0027s for different altitudes as well."},{"CreatedByName":"Frida Space","CreatedById":60943,"CreatedDateTime":"2015-03-17T15:08:08Z","Content":"That\u0027s why the exhaust velocity formula (i believe) is \n\nVex = g0 x Isp\n\n\u0022g0\u0022 means the g value at 0 m of height here on Earth/Kerbin (9.81 m/s^2)"},{"CreatedByName":"Feradose","CreatedById":111211,"CreatedDateTime":"2015-03-17T16:11:34Z","Content":"Thanks!"},{"CreatedByName":"GreenWolf","CreatedById":65798,"CreatedDateTime":"2015-03-17T16:45:36Z","Content":"\u003E \n\u003E That\u0027s why the exhaust velocity formula (i believe) is \n\u003E Vex = g0 x Isp\n\u003E \n\u003E \u0022g0\u0022 means the g value at 0 m of height here on Earth/Kerbin (9.81 m/s^2)\n\nYou have it backwards. ISP (when measured in seconds) is Ve \\* 9.81, where Ve is exhaust velocity. ISP is less useful than Ve when calculating delta-v, since Ve plugs directly into the rocket equation, which is Delta-v = Ve \\* ln(Initial Mass/Dry Mass)."},{"CreatedByName":"Frida Space","CreatedById":60943,"CreatedDateTime":"2015-03-17T17:03:42Z","Content":"\u003E \n\u003E You have it backwards. ISP (when measured in seconds) is Ve \\* 9.81, where Ve is exhaust velocity. ISP is less useful than Ve when calculating delta-v, since Ve plugs directly into the rocket equation, which is Delta-v = Ve \\* ln(Initial Mass/Dry Mass).\n\nAre you sure? Everywhere I look it says the opposite.\n\nFrom [NASA](http://www.grc.nasa.gov/WWW/k-12/airplane/specimp.html):\n\n\u003E \n\u003E The specific impulse Isp is given by:\n\u003E **Isp = Veq / g0**\n\u003E \n\u003E where g0 is the gravitational acceleration constant (32.2 ft/sec^2 in English units, 9.8 m/sec^2 in metric units)."},{"CreatedByName":"GreenWolf","CreatedById":65798,"CreatedDateTime":"2015-03-17T17:13:14Z","Content":"\u003E \n\u003E Are you sure? Everywhere I look it says the opposite.\n\u003E From [NASA](http://www.grc.nasa.gov/WWW/k-12/airplane/specimp.html):\n\nNo, wait, you\u0027re right. What threw me off was the way you wrote it the first time. Guess this is what I get for not double checking my equations."},{"CreatedByName":"Frida Space","CreatedById":60943,"CreatedDateTime":"2015-03-17T18:11:30Z","Content":"\u003E \n\u003E No, wait, you\u0027re right. What threw me off was the way you wrote it the first time. Guess this is what I get for not double checking my equations.\n\nDon\u0027t worry... it\u0027s actually rather amazing that I for once wasn\u0027t the one who wrote an equation backwards ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2015-03-17T20:19:51Z","Content":"Always check the units. s \\* m/s^2 = m/s"},{"CreatedByName":"IzzyIA","CreatedById":171381,"CreatedDateTime":"2016-11-09T11:24:20Z","Content":"i am confused, how do i find the vex variable?"},{"CreatedByName":"Nefrums","CreatedById":145422,"CreatedDateTime":"2016-11-09T13:07:57Z","Content":"Add:\n\n    from math import log\n\nAnd change to:\n\n    Delta_V=log(mass_full/mass_empty)*isp*9.81 \n\nThen remove everything related to \u0022g\u0022\n\nEdit:\n\nThis should probably do it:\n\n    from math import log\n    \n    mass_empty=int(raw_input(\u0022Enter dry mass \u0022))\n    mass_full=int(raw_input(\u0022Enter wet mass \u0022))\n    isp=int(raw_input(\u0022Enter Isp \u0022))\n    Delta_V=log(mass_full/mass_empty)*isp*9.81 \n    print Delta_V\n\n**Edited \u003Ctime datetime=\u00222016-11-09T13:13:24Z\u0022 title=\u002211/09/2016 01:13  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 9, 2016\u003C/time\u003E by Nefrums**"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2016-11-10T00:08:09Z","Content":"I saw this topic and thought it sounded like a fun project, so here\u0027s my contribution in case it\u0027s of any interest. The license is public domain.\n\n[https://github.com/HebaruSan/KSP_Tools/blob/master/deltav.py](https://github.com/HebaruSan/KSP_Tools/blob/master/deltav.py)\n\n![hySlz4F.png](http://i.imgur.com/hySlz4F.png)"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2016-11-10T07:32:10Z","Content":"\u003E \n\u003E \n\u003E 18 hours ago, Nefrums said:\n\u003E \n\u003E \n\u003E Add:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     from math import log\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And change to:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     Delta_V=log(mass_full/mass_empty)*isp*9.81 \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Then remove everything related to \u0022g\u0022\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This should probably do it:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     from math import log\n\u003E     \n\u003E     mass_empty=int(raw_input(\u0022Enter dry mass \u0022))\n\u003E     mass_full=int(raw_input(\u0022Enter wet mass \u0022))\n\u003E     isp=int(raw_input(\u0022Enter Isp \u0022))\n\u003E     Delta_V=log(mass_full/mass_empty)*isp*9.81 \n\u003E     print Delta_V\n\u003E \n\nIs \u0022log\u0022 here same as ln??"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2016-11-10T08:11:58Z","Content":"\u003E \n\u003E \n\u003E 48 minutes ago, kurja said:\n\u003E \n\u003E \n\u003E Is \u0022log\u0022 here same as ln??\n\u003E \n\nAh yes, that unfortunate bit about nomenclature...\n\n\u0022log\u0022 is shorthand for \u0022logarithm\u0022. There are an infinite number of different logarithms, because by its very nature of being a reversal of the exponentiation operation, a logarithm is only defined in relation to a \u0027base\u0027 number. So you start writing the base down whenever you write log. A logarithm in base 10 becomes log\u003Csub\u003E10\u003C/sub\u003E. A logarithm in base 2 becomes log\u003Csub\u003E2\u003C/sub\u003E. And so on and so forth.\n\nNow, when you\u0027re talking about exponential functions, there\u0027s one number that always comes up, because it appears everywhere in nature. The very term \u0022exponential\u0022 growth or decay refers to this very special number. That is \u0022e\u0022, or \u0022Euler\u0027s number\u0022. e^x^ is called *the* exponential function. It follows, then, that in any reversal of the exponentiation operation, there needs to exist a reversal of the exponential function, and it should be just as important as the exponential function itself.\n\nThat is the so-called \u0027natural logarithm\u0027, or the logarithm in base e. Now, you could write this as log\u003Csub\u003Ee\u003C/sub\u003E, but in practical application, nobody ever does this. Because it is called \u0027natural\u0027, it is written as log\u003Csub\u003En\u003C/sub\u003E instead.\n\nAnd this is where it gets confusing.\n\nPeople are lazy. People who have to write a lot are especially lazy about writing. Mathematicians, programmers, scientists and engineers have to do a lot of writing. Lazy people don\u0027t want to write out the full terms of everything everytime, so they develop shorthands. In case of the logarithm, this is especially dangerous, because 99% of the time, your chosen field of study involves exactly one important logarithm and ignores the others. Mathematicians deal with the natural logarithm a lot. Musicians deal with the binary logarithm (base 2) a lot. And so on and so forth. And then everyone goes and shorthands it to just log, leaving the base out. After all, it makes perfect sense to them. They only deal in one single base all the time. In the rare case where they need a different base, they\u0027ll just write the base down explicitly.\n\nThis is of course super confusing to anyone outside a specific discipline, or worse, someone studying across disciplines. Enter the ISO, the International Standards Organization. Recognizing that people are lazy, they went and suggested a new form of writing the most common logarithms in shorthand. In fact, their suggestions are even shorter! The binary logarithm log\u003Csub\u003E2\u003C/sub\u003E becomes lb, the natural logarithm log\u003Csub\u003En\u003C/sub\u003E becomes ln, and the decimal logarithm log\u003Csub\u003E10\u003C/sub\u003E becomes ld. Super short, super quick to write or type, and still easily distinguishable. Perfect for everyone, right?\n\nWell, as it so often goes, the lazyness of people transcends all logic. Despite the standardized format actually being faster, people are so lazy that they refuse to make the switch, and continue using the less short older shorthand notation to this day. You essentially have [this effect](https://xkcd.com/927/).\n\nThe bottomline is: Yes, in this case, \u0022log\u0022 is equal to \u0022ln\u0022, because this is about maths and programming. Programmers are closely affiliated with mathematicians, so the natural logarithm is \u0022their\u0022 logarithm without a specific base notation. Hence, when the programmer created that mathematics library and implemented the logarithm function, he implemented the natural logarithm and just called it \u0022log\u0022 out of sheer lazyness and inertia (even though ln would be shorter). Your only chance of knowing this is understanding that the natural logarithm is used more in computer programming and mathematics than any other logarithm is.\n\n(The function may even be overloaded, allowing you to pass a second argument as the base or something, but default to ln without being provided a base. Again, you would only know this if you\u0027re into programming yourself.)\n\n**Edited \u003Ctime datetime=\u00222016-11-10T08:22:10Z\u0022 title=\u002211/10/2016 08:22  AM\u0022 data-short=\u00227 yr\u0022\u003ENovember 10, 2016\u003C/time\u003E by Streetwind**\n  \nTypos, typos everywhere!"},{"CreatedByName":"Nefrums","CreatedById":145422,"CreatedDateTime":"2016-11-10T08:19:54Z","Content":"the log function from the math python lib can use any base.  the default is natural logarithm\n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E math.log(x[, base])\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E With one argument, return the natural logarithm of x (to base e).\n\u003E \n\n[ref](https://docs.python.org/2/library/math.html)"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2016-11-10T08:41:44Z","Content":"Ah. My old pocket calculator that I\u0027ve used since my school years has a \u0022log\u0022 button that defaults to base 10 - and a separate \u0022ln\u0022 button. So, all this time I\u0027ve assumed that log is base ten unless specified otherwise ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\nEdit - I believe ms excel, and most other spreadsheets too, behave similarly.\n\n**Edited \u003Ctime datetime=\u00222016-11-10T08:43:43Z\u0022 title=\u002211/10/2016 08:43  AM\u0022 data-short=\u00227 yr\u0022\u003ENovember 10, 2016\u003C/time\u003E by kurja**"},{"CreatedByName":"wumpus","CreatedById":133850,"CreatedDateTime":"2016-11-10T15:49:07Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, Streetwind said:\n\u003E \n\u003E \n\u003E The bottomline is: Yes, in this case, \u0022log\u0022 is equal to \u0022ln\u0022, because this is about maths and programming. Programmers are closely affiliated with mathematicians, so the natural logarithm is \u0022their\u0022 logarithm without a specific base notation. Hence, when the programmer created that mathematics library and implemented the logarithm function, he implemented the natural logarithm and just called it \u0022log\u0022 out of sheer lazyness and inertia (even though ln would be shorter). Your only chance of knowing this is understanding that the natural logarithm is used more in computer programming and mathematics than any other logarithm is.\n\u003E \n\nI\u0027m rather surprised that log\u003Csub\u003E2\u003C/sub\u003E isn\u0027t baked more into computers.  I\u0027d expect it to come in handy while programming more than ln() (there is another thread pointing out how rarely actual math is used during programming.  But ln() happens more often in trying to handle the data, and would also work for any log-based DSP work.  Not sure if it is any easier to compute in hardware."},{"CreatedByName":"Steel","CreatedById":49317,"CreatedDateTime":"2016-11-10T15:53:54Z","Content":"\u003E \n\u003E \n\u003E Just now, wumpus said:\n\u003E \n\u003E \n\u003E I\u0027m rather surprised that log\u003Csub\u003E2\u003C/sub\u003E isn\u0027t baked more into computers.  I\u0027d expect it to come in handy while programming more than ln() (there is another thread pointing out how rarely actual math is used during programming.  But ln() happens more often in trying to handle the data, and would also work for any log-based DSP work.  Not sure if it is any easier to compute in hardware.\n\u003E \n\nQuick off topic correction: we in the other topic are not saying that there is rarely maths in programming, just that knowledge of advanced mathematics is not required to learn and that any maths you do end up having to do tends to be fairly simple\n\nAlso, log\u003Csub\u003E2\u003C/sub\u003E isn\u0027t used so much simply because, on the whole, humans (who mostly do the programming) don\u0027t work well in base two. Also, most of the time you\u0027re ever going to use a logarithm in any high level language, it will be a natural one."},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2016-11-10T16:16:16Z","Content":"\u003E \n\u003E \n\u003E On 3/17/2015 at 9:13 AM, Feradose said:\n\u003E \n\u003E \n\u003E if celestialBody\\_number==0:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E     \n\u003E \u003E     \n\u003E \u003E     g=1.746\n\u003E \u003E     \n\u003E \u003E     print \u0022You have selected Kerbol\u0022\n\u003E \u003E     \n\u003E \u003E     if celestialBody_number==1:\n\u003E \u003E     \n\u003E \u003E     g=0.275\n\u003E \u003E     \n\u003E \u003E     print \u0022You have selected Moho\u0022\n\u003E \u003E     \n\u003E \u003E     if celestialBody_number==2:\n\u003E \u003E     \n\u003E \u003E     g=1.7\n\u003E \u003E     \n\u003E \u003E     print \u0022You have selected Eve\u0022\n\u003E \u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E 8\u003C snip ---------------------------\n\u003E \u003E \n\u003E \u003E\n\u003E \n\nA bit more Pythonic would be:\n\n    body_data = {\n      0:{\u0027name\u0027:\u0027Sun\u0027,\u0027g\u0027:1.746},\n      1:{\u0027name\u0027:\u0027Moho\u0027,\u0027g\u0027:0.275},\n      2:{\u0027name\u0027:\u0027Eve\u0027,\u0027g\u0027:1.7},\n      3:{\u0027name\u0027:\u0027Gilly\u0027,\u0027g\u0027:0.005},\n      etc, etc\n    }\n\nand then:\n\n    celestialBody_number=int(raw_input(\u0022Choose celestial body \u0022))\n    print(\u0027You have selected {}.\u0027.format(body_data[celestialBody_number][\u0027name\u0027]))\n    g = body_data[celestialBody_number][\u0027g\u0027]\n\nIt would be easier to maintain, easy to extend with other data (say, the radius of the body) and reduces the amount of code.\n\nOn a side note, raw\\_input suggests you\u0027re using Python 2.7 (well, Python 2.*x* but I\u0027m guessing 2.7). Python 3 has matured a lot these days and it\u0027s not like a couple of years ago where a lot of popular libraries were P2 only. If you\u0027re starting out with Python I would *highly* recommend switching over to Python 3. There are very few differences (for beginners most notably print being a function and not a statement, and / no longer being an integer division for integers, and input replacing raw\\_input, obviously) but I suspect that you\u0027re going to be running rapidly into a situation where some things don\u0027t work as expected as examples online are more and more written for Python 3, and not Python 2. Besides, it\u0027s the future!\n\n**Edited \u003Ctime datetime=\u00222016-11-10T16:28:09Z\u0022 title=\u002211/10/2016 04:28  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 10, 2016\u003C/time\u003E by Kerbart**"}]}