{"TopicId":137652,"ForumId":29,"TopicTitle":"Unity 5 shader AssetBundle bootstrap (?)","CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-04-21T22:30:30Z","PageNum":1,"Articles":[{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-04-21T22:30:30Z","Content":"\n\u003Cp\u003E\nI\u0027ve got a few shaders in my RasterPropMonitor mod that I embedded in the DLL and I load using the obsolete way of feeding the text to a new Material object. \u00A0That generates warnings with KSP 1.1 when compiling, so I really need to find something that can bootstrap me into the Unity 5 approved way of generating a shader AssetBundle. \u00A0I tried pasting an existing text into a new shader asset in Unity 5 today, and I got all sorts of errors starting, so it\u0027s not going to be a seamless transition. \u00A0My shaders are fairly simple, but I\u0027m not familiar with the Unity 4 / Unity 5 environment, so I\u0027ve been mostly getting by with lucky guesses.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone point me at a resource that can tell me how to create a new asset that contains a shader, get the shader to compile successfully (it did with the Cg stuff included with Unity 4), and export that into an AssetBundle?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-04-22T02:44:01Z","Content":"\n\u003Cp\u003E\nsarbian has something here - \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/135179-info-on-how-to-convert-your-plugin-to-ksp-11/\u0022 rel=\u0022\u0022\u003EInfo on how to convert your Plugin to KSP 1.1\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAt the bottom of the OP is some assetbundle code.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-04-22T07:22:41Z","Content":"\n\u003Cp\u003E\nAnd if you don\u0027t know how to put something in a bundle. Select your shader, look in the lower right pane and you will be able to select a bundle/create one. Then you ll need the new PartTool to generate the bundle.\n\u003C/p\u003E\n\u003Cp\u003E\nPic of the menu :\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00222016-01-20%2B%25282%2529.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://4.bp.blogspot.com/-Bu2MfeLRfxw/Vp-TSwUHl9I/AAAAAAAAAF8/udcrfWLjcSY/s1600/2016-01-20%2B%25282%2529.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-04-22T13:18:02Z","Content":"\n\u003Cp\u003E\nI must be dense. \u00A0There is a step I\u0027m still missing. \u00A0I\u0027ve got KSP PartTool 1.1 installed, I\u0027ve created the shader, and I got it to compile (don\u0027t know why it didn\u0027t previously). \u00A0I\u0027ve created an asset bundle as you described. \u00A0I found KSPAssets/AssetCompiler. \u00A0Here\u0027s what I see when I open it:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://imagizer.imageshack.us/v2/1024x768q90/922/cGy2xy.jpg\u0022 alt=\u0022cGy2xy.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve already tried to update/build. \u00A0If I click View, I see this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://imagizer.imageshack.us/v2/1024x768q90/924/b2K3Om.jpg\u0022 alt=\u0022b2K3Om.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNothing is checked under Auto. \u00A0I don\u0027t know if that matters. \u00A0If I press \u0027Select\u0027, nothing appears to happen. \u00A0If I press Show All to go back up, and I press Update and Build, what I end up with is an empty Assets directory and a mostly-empty XML.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://imagizer.imageshack.us/v2/1024x768q90/922/wcx9EL.jpg\u0022 alt=\u0022wcx9EL.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems I am missing a step that tells the tool to add the shader to the bundle, or at least attaches the output of the compiled shader to the bundle.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-04-22T14:36:38Z","Content":"\n\u003Cp\u003E\nI could not get the auto load to work in the Pre (but I did not look all that much). I ll have an other look and and test with only a shader\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-22T14:38:25Z\u0022 title=\u002204/22/2016 02:38  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 22, 2016\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-05-04T12:29:45Z","Content":"\n\u003Cp\u003E\nI kept poking around with this, and it appears that PartTools didn\u0027t like the asset bundle name matching the scene name (?!?)\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCannot mark assets and scenes in one AssetBundle. AssetBundle name is \u0022rpm-fontshader\u0022.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}