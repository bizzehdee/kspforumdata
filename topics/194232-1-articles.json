{"TopicId":194232,"ForumId":36,"TopicTitle":"Probabaly a side effect of Unpack like behavior?","CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-05-28T04:38:18Z","PageNum":1,"Articles":[{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-05-28T04:38:18Z","Content":"\n\u003Cp\u003E\nContext: Question is Regarding KOS code development.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo I have a new weird difficulty.\n\u003C/p\u003E\n\u003Cp\u003E\nIve been trying to write some code that looked at what parts ships have that are a long way away from the CPU SHip.\n\u003C/p\u003E\n\u003Cp\u003E\nIndeed i wanted to do that for all 50 ships in the game at the time so I could decide which ones actually had relay parts.\n\u003C/p\u003E\n\u003Cp\u003E\nThis code snippet prints out (and logs see below) that the Variable is indeed a\u00A0 \u0026gt;\u0026gt; Hop AS VESSEL(\u0022Hop\u0022)\u0026lt;\u0026lt;\n\u003C/p\u003E\n\u003Cp\u003E\nWith or without the wait the LOC\u00A0 \u00A0\u00A0\u00A0 local MyParts is AShip:Parts.\u00A0 go bang (but only on new chip each time) and says\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCode snippet:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:1568.8px;height:170.8px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022height:1267px;width:3505px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:36.6167px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:1568.8px;height:170.8px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv style=\u0022width:auto;height:auto;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv title=\u0022Found 1 error in text\u0022\u003E\n1\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 Print AShip:Name \u002B \u0022 AS \u0022 \u002B AShip.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Log AShip:Name \u002B \u0022 AS \u0022 \u002B AShip to \u0022MyLog.txt\u0022.\u003Cbr\u003E\n\u00A0 wait 0.2.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local MyParts is AShip:Parts.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Print \u0022 No Bug \u0022.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Log \u0022 No Bug \u0022 \u002B AShip to \u0022MyLog.txt\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:1568.8px;height:296.8px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022height:1393px;width:3505px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:34.9px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:1568.8px;height:296.8px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv style=\u0022width:auto;height:auto;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv title=\u0022Found 1 error in text\u0022\u003E\n1\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nActual Log File\n\u003C/p\u003E\n\u003Cp\u003E\n2G Malaya OneTreeHill AS VESSEL(\u00222G Malaya OneTreeHill\u0022)\u003Cbr\u003E\n\u00A0No Bug VESSEL(\u00222G Malaya OneTreeHill\u0022)\u003Cbr\u003E\nBoab Tree Plain AS VESSEL(\u0022Boab Tree Plain\u0022)\u003Cbr\u003E\n\u00A0No Bug VESSEL(\u0022Boab Tree Plain\u0022)\u003Cbr\u003E\nJump AS VESSEL(\u0022Jump\u0022)\u003Cbr\u003E\n\u00A0No Bug VESSEL(\u0022Jump\u0022)\u003Cbr\u003E\nTag AS VESSEL(\u0022Tag\u0022)\u003Cbr\u003E\n\u00A0No Bug VESSEL(\u0022Tag\u0022)\u003Cbr\u003E\nHop AS VESSEL(\u0022Hop\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nafter running the program a few times all the other vessels up to there now have parts... Each time one extra vessel agree it has parts too.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nError Text:\u00A0 object reference not set to an instance of an object.\n\u003C/p\u003E\n\u003Cp\u003E\nBut it just Printed out that it was a\u00A0 \u0022Vessel(\u0022Hop\u0022)\u0022 .\n\u003C/p\u003E\n\u003Cp\u003E\nConclusion?\n\u003C/p\u003E\n\u003Cp\u003E\nOk so I\u0027m not allowed to inspect parts of vessels that long way away. (I was pleasantly surprised when i found i could rename them)\u003Cbr\u003E\nbut the weird bit is if I run the program second time it works for \u0022Hop\u0022, then barfs at the next new ship (as I am looping through all of them).\n\u003C/p\u003E\n\u003Cp\u003E\nHuh?\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone know what will happen if I ran the program enough times to get all 50 ships loaded and unpacked or whatever it is that is causing it?\n\u003C/p\u003E\n\u003Cp\u003E\nI could make another CPU power cycle this CPU 50\u00A0 times.... : but hat seems way too kerbal to be sane.\n\u003C/p\u003E\n\u003Cp\u003E\n=============\n\u003C/p\u003E\n\u003Cp\u003E\nI have one or more work arounds.... I write save file parser in C\u002B\u002B and do the task I was doing in game outside the fourth wall.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso currently all 50\u002B ships (except the one running the code) are all landed relays. So I don\u0027t reallly need to check.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat worries me is just how big a kraken i might summon if I kept unpacking or whatever it is I am doing by rerunning the program.\n\u003C/p\u003E\n\u003Cp\u003E\nQuestions:\n\u003C/p\u003E\n\u003Cp\u003E\nAm I right in thinking that when I get a Ship via list targets in AllShips thats its parts are expected not to be available?\n\u003C/p\u003E\n\u003Cp\u003E\nI cant currently as too many ships have the same name. But I if I create a\n\u003C/p\u003E\n\u003Cp\u003E\nlocal AShip Vessel(\u0022a unique Ship name\u0022).\n\u003C/p\u003E\n\u003Cp\u003E\nWill that improve accessibility to its parts list?\n\u003C/p\u003E\n\u003Cp\u003E\n======\n\u003C/p\u003E\n\u003Cp\u003E\nAddendum: I also discovered something else today. if your code goes boom and terminates the entire KSP game,really unceremoniously. As in poof its gone.\n\u003C/p\u003E\n\u003Cp\u003E\nIts plausible one of your collection objects has reference to itself containing itself and thus forms a DCG not a DAG. That makes things like PRINT Object_that_recusively_contains_reference_to_itself go boom.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n================\n\u003C/p\u003E\n\u003Cp\u003E\nreading\n\u003C/p\u003E\n\u003Cp\u003E\n================\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-06-04T03:32:30Z\u0022 title=\u002206/04/2020 03:32  AM\u0022 data-short=\u00224 yr\u0022\u003EJune 4, 2020\u003C/time\u003E by AxleGreaser\u003C/strong\u003E\n\u003Cbr\u003Eaddendum context\n\u003C/span\u003E\n"},{"CreatedByName":"James Kerman","CreatedById":160462,"CreatedDateTime":"2020-05-28T05:08:24Z","Content":"\n\u003Cp\u003E\nHello \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/204413-axlegreaser/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022204413\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/204413-axlegreaser/\u0022 rel=\u0022\u0022\u003E@AxleGreaser\u003C/a\u003E, your request for assistance has been moved to add-on development.\n\u003C/p\u003E\n"}]}