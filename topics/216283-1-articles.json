{"TopicId":216283,"ForumId":29,"TopicTitle":"[C# Plugin] Get the save file game was saved to, like quicksave.sfs, persistent.sfs, etc. and also get the loaded save file","CreatedByName":"cymon4380","CreatedById":228465,"CreatedDateTime":"2023-04-07T13:45:53Z","PageNum":1,"Articles":[{"CreatedByName":"cymon4380","CreatedById":228465,"CreatedDateTime":"2023-04-07T13:45:53Z","Content":"\n\u003Cp\u003E\nHello there! I\u0027m making a plugin for KSP and I\u0027ve run into an issue. How to get the save file game was saved to, like quicksave.sfs, persistent.sfs, etc.? For example, some settings need to be saved to SFS file, and when a player loads some save (persistent, quicksave or other), they\u0027ll need to load too.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003EGAME {\n\t(some game stuff)\n}\n\nMY_MOD {\n\tparam1 = 1\n    param2 = Some Parameter\n    param3 = true\n}\u003C/pre\u003E\n\u003Cp\u003E\nThank you in advance for your answer \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2023-04-07T16:52:31Z","Content":"\n\u003Cp\u003E\nBefore you worry about the file name, you should try to use the built-in save/load functionality if at all possible.\u00A0If your class inherits from \u003Cstrong\u003EScenarioModule\u003C/strong\u003E\u00A0and has the \u003Cstrong\u003EKSPScenario \u003C/strong\u003Eattribute, its \u003Cstrong\u003EOnSave \u003C/strong\u003Eand \u003Cstrong\u003EOnLoad \u003C/strong\u003Emethods will be called when the game saves and loads, and the parameter is a ConfigNode that you can save to/load from, that will automatically be included in/retrieved from the save file.\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_scenario_module.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_scenario_module.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_k_s_p_scenario.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_k_s_p_scenario.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_config_node.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_config_node.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/HebaruSan/PlanningNode/blob/faa12a59ce935fc5fa59a17fa8e2f63e8c98b661/Source/PlanningNodesManager.cs#L22-L45\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HebaruSan/PlanningNode/blob/faa12a59ce935fc5fa59a17fa8e2f63e8c98b661/Source/PlanningNodesManager.cs#L22-L45\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"cymon4380","CreatedById":228465,"CreatedDateTime":"2023-04-08T01:17:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224269962\u0022 data-ipsquote-contentid=\u0022216283\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680886351\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBefore you worry about the file name, you should try to use the built-in save/load functionality if at all possible.\u00A0If your class inherits from \u003Cstrong\u003EScenarioModule\u003C/strong\u003E\u00A0and has the \u003Cstrong\u003EKSPScenario \u003C/strong\u003Eattribute, its \u003Cstrong\u003EOnSave \u003C/strong\u003Eand \u003Cstrong\u003EOnLoad \u003C/strong\u003Emethods will be called when the game saves and loads, and the parameter is a ConfigNode that you can save to/load from, that will automatically be included in/retrieved from the save file.\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_scenario_module.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_scenario_module.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_k_s_p_scenario.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_k_s_p_scenario.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_config_node.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_config_node.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/HebaruSan/PlanningNode/blob/faa12a59ce935fc5fa59a17fa8e2f63e8c98b661/Source/PlanningNodesManager.cs#L22-L45\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HebaruSan/PlanningNode/blob/faa12a59ce935fc5fa59a17fa8e2f63e8c98b661/Source/PlanningNodesManager.cs#L22-L45\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI worry about the file name because I\u0027m making a salary mod and I\u0027m afraid players will be able to bypass it. For example, a player quicksaved a game, paid to kerbals their salary and then quickloaded and saved funds. I\u0027m new to mod development, so I don\u0027t know literally anything about saving data. Also, if a player loads a fairly old save, all settings should load too.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-04-08T01:18:56Z\u0022 title=\u002204/08/2023 01:18  AM\u0022 data-short=\u00221 yr\u0022\u003EApril 8, 2023\u003C/time\u003E by cymon4380\u003C/strong\u003E\n\u003Cbr\u003Eminor correction\n\u003C/span\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2023-04-08T04:20:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224270144\u0022 data-ipsquote-contentid=\u0022216283\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680916666\u0022 data-ipsquote-userid=\u0022228465\u0022 data-ipsquote-username=\u0022cymon4380\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, cymon4380 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI worry about the file name because I\u0027m making a salary mod and I\u0027m afraid players will be able to bypass it. For example, a player quicksaved a game, paid to kerbals their salary and then quickloaded and saved funds.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s probably impossible to prevent, given that the user controls the computer where the code runs.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s probably also a bad idea to try to prevent it. What user would keep using a mod that didn\u0027t allow them to play the way they wanted to?\n\u003C/p\u003E\n"},{"CreatedByName":"cymon4380","CreatedById":228465,"CreatedDateTime":"2023-04-08T05:18:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224270177\u0022 data-ipsquote-contentid=\u0022216283\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680927623\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s probably impossible to prevent, given that the user controls the computer where the code runs.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s probably also a bad idea to try to prevent it. What user would keep using a mod that didn\u0027t allow them to play the way they wanted to?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, I got it. Anyway, how can I know if the game was saved and then save mod settings into save file? And also load settings when loading save. Please reply ASAP, I wanna create my mod in a few days. Thank you.\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2023-04-08T05:32:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224270182\u0022 data-ipsquote-contentid=\u0022216283\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680931117\u0022 data-ipsquote-userid=\u0022228465\u0022 data-ipsquote-username=\u0022cymon4380\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, cymon4380 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, I got it. Anyway, how can I know if the game was saved and then save mod settings into save file? And also load settings when loading save. Please reply ASAP, I wanna create my mod in a few days. Thank you.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can try what I suggested earlier:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224269962\u0022 data-ipsquote-contentid=\u0022216283\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680886351\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBefore you worry about the file name, you should try to use the built-in save/load functionality if at all possible.\u00A0If your class inherits from \u003Cstrong\u003EScenarioModule\u003C/strong\u003E\u00A0and has the \u003Cstrong\u003EKSPScenario \u003C/strong\u003Eattribute, its \u003Cstrong\u003EOnSave \u003C/strong\u003Eand \u003Cstrong\u003EOnLoad \u003C/strong\u003Emethods will be called when the game saves and loads, and the parameter is a ConfigNode that you can save to/load from, that will automatically be included in/retrieved from the save file.\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_scenario_module.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_scenario_module.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_k_s_p_scenario.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_k_s_p_scenario.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://www.kerbalspaceprogram.com/ksp/api/class_config_node.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.kerbalspaceprogram.com/ksp/api/class_config_node.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/HebaruSan/PlanningNode/blob/faa12a59ce935fc5fa59a17fa8e2f63e8c98b661/Source/PlanningNodesManager.cs#L22-L45\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HebaruSan/PlanningNode/blob/faa12a59ce935fc5fa59a17fa8e2f63e8c98b661/Source/PlanningNodesManager.cs#L22-L45\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat last link is sample code that does exactly this for one of my mods.\n\u003C/p\u003E\n"},{"CreatedByName":"cymon4380","CreatedById":228465,"CreatedDateTime":"2023-04-09T03:42:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224270184\u0022 data-ipsquote-contentid=\u0022216283\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680931938\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou can try what I suggested earlier:\n\u003C/p\u003E\n\u003Cp\u003E\nThat last link is sample code that does exactly this for one of my mods.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you very much! It works! Now I can resume my mod development \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"}]}