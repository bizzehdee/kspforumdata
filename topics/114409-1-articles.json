{"TopicId":114409,"ForumId":29,"TopicTitle":"Questions About Asteroids (and the Orbit Class)","CreatedByName":"ve2dmn","CreatedById":147103,"CreatedDateTime":"2015-06-28T02:01:06Z","PageNum":1,"Articles":[{"CreatedByName":"ve2dmn","CreatedById":147103,"CreatedDateTime":"2015-06-28T02:01:06Z","Content":"I\u0027m trying to find which Asteroid are on a collision course for Kerbin and I can\u0027t seem to get the info from the orbit Class.\n\nVessel.orbit.closestEncounterLevel always seems to be None for not active vessel;\n\nSimilar results for (all return false, none, null, etc...) :\n\n- orbit.closestEncounterBody\n- orbit.closestEncounterPatch\n- orbit.nextPatch\n\nThe only information I need is the altitude at periapsis around Kerbin, if there is one. (Then set to Asteroid to be auto-tracked, Which I know how to do thanks to [http://forum.kerbalspaceprogram.com/threads/75376-Asteroid-Spawn-API](https://forum.kerbalspaceprogram.com/threads/75376-Asteroid-Spawn-API) ) \n\nBut so far, if the vessel is OnRail (AKA not the active one), I cannot get any orbit information besides the current orbit. (and I can\u0027t get Orbit.SolveClosestApproach to work)\n\nAny idea?"},{"CreatedByName":"ve2dmn","CreatedById":147103,"CreatedDateTime":"2015-07-02T01:45:34Z","Content":"To reply to my own post, This is code that made Patches possible.\n\n    if (!v.PatchedConicsAttached) {\t\t\t\tprint(\u0022No PatchedConicSolver. Creating a New One. \u0022);\t\t\t\tv.patchedConicSolver = new PatchedConicSolver ();\t\t\t\tv.AttachPatchedConicsSolver ();\t\t\t\tv.patchedConicSolver.Update ();\t\t\t}\n\nI still have to figure out why it works Sometimes, and sometimes, it gives my a NullReference Exception for AttachPatchedConicsSolver ()...\n\nBut at least now I have Encouters and NextPatch in the robit of each vessel (just need to remember to run v.DetachPatchedConicsSolver () once I have the info I need....)"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-07-02T08:47:51Z","Content":"Career mode ? Fail when the tracking station is not upgraded ?"},{"CreatedByName":"ve2dmn","CreatedById":147103,"CreatedDateTime":"2015-07-03T00:59:46Z","Content":"\u003E \n\u003E Career mode ? Fail when the tracking station is not upgraded ?\n\nAsteroids do not spawn if the tracking station is not upgraded..."},{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2015-07-09T13:35:42Z","Content":"These are exactly the 2 questions I came to this sub-forum to ask.\n\nHowever I can\u0027t see on the linked thread anything about making an asteroid tracked. I want to start tracking an asteroid at the moment that the player accepts a contract involving it. At the moment I have the regretable situation that a player can accept a contract only to find that the asteroid involved gets deleted immediatly afterwards.\n\nedit:\n\nFound this discovery line\n\nvessel.DiscoveryInfo.SetLevel(DiscoveryLevels.StateVectors | DiscoveryLevels.Name | DiscoveryLevels.Presence);\n\nWill this be enough to prevent it from being deleted?\n\n**Edited \u003Ctime datetime=\u00222015-07-09T14:48:58Z\u0022 title=\u002207/09/2015 02:48  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 9, 2015\u003C/time\u003E by tomf**"}]}