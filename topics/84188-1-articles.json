{"TopicId":84188,"ForumId":70,"TopicTitle":"x64 not using any 64bit memory?","CreatedByName":"BoomBoom","CreatedById":120938,"CreatedDateTime":"2014-09-09T08:45:54Z","PageNum":1,"Articles":[{"CreatedByName":"BoomBoom","CreatedById":120938,"CreatedDateTime":"2014-09-09T08:45:54Z","Content":"\n\u003Cp\u003ESo, i have been using ksp since .22 with no problems. (occasional CTD- as expected when heavily modding)\u003C/p\u003E\u003Cp\u003ESince .24.2 i cant even run x86 (verified install, clean install etc.) and x64 crashes way too often due to memory errors (see attached log)\u003C/p\u003E\u003Cp\u003EYes i mod heavily, yes i am using ATM, in-game textures are lowered to quarter res.\u003C/p\u003E\u003Cp\u003Ewin 8 task mgr showing only 3.3gb mem usage? yet still getting memory write errors (thought it was a mem issue so i ran all required tests for memory errors - none found)\u003C/p\u003E\u003Cp\u003EAlso KSP doesnt use any VRAM (available 3gb)\u003C/p\u003E\u003Cp\u003ESpecs:\u003C/p\u003E\u003Cp\u003ECore: i7-4700HQ (2.4ghz @ 3.6ghz/4core\u002B8thread)\u003C/p\u003E\u003Cp\u003ERAM: 16gb 1600\u003C/p\u003E\u003Cp\u003EGPU: GTX 770m x2 SLi --(ran in non-SLi and SLi mode no effect)\u003C/p\u003E\u003Cp\u003EError Log:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EUnity Player [version: Unity 4.5.2f1_9abb1b59b47c]\u003Cp\u003EKSP_x64.exe caused an Access Violation (0xc0000005)\u003C/p\u003E\u003Cp\u003E in module KSP_x64.exe at 0033:03630000.\u003C/p\u003E\u003Cp\u003EError occurred at 2014-09-09_173804.\u003C/p\u003E\u003Cp\u003EF:\\SteamLibrary\\SteamApps\\common\\Kerbal Space Program\\KSP_x64.exe, run by Blade.\u003C/p\u003E\u003Cp\u003E30% memory in use.\u003C/p\u003E\u003Cp\u003E16302 MB physical memory [11365 MB free].\u003C/p\u003E\u003Cp\u003E24494 MB paging file [18010 MB free].\u003C/p\u003E\u003Cp\u003E134217728 MB user address space [134215208 MB free].\u003C/p\u003E\u003Cp\u003EWrite to location 03630000 caused an access violation.\u003C/p\u003E\u003Cp\u003EContext:\u003C/p\u003E\u003Cp\u003ERDI: 0x164c9d32 RSI: 0x518ed3a0 RAX: 0x518ed360\u003C/p\u003E\u003Cp\u003ERBX: 0x31c54910 RCX: 0x518ed360 RDX: 0x518ed3a0\u003C/p\u003E\u003Cp\u003ERIP: 0x03630000 RBP: 0x14eff0d0 SegCs: 0x00000033\u003C/p\u003E\u003Cp\u003EEFlags: 0x00010202 RSP: 0x14eff010 SegSs: 0x0000002b\u003C/p\u003E\u003Cp\u003ER8: 0x00000800 R9: 0x00000000 R10: 0x8af4bf60\u003C/p\u003E\u003Cp\u003ER11: 0x89740a7c R12: 0x592c3ee0 R13: 0x034c4d48\u003C/p\u003E\u003Cp\u003ER14: 0x00000003 R15: 0x4f35b300\u003C/p\u003E\u003Cp\u003EBytes at CS:EIP:\u003C/p\u003E\u003Cp\u003E?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? Module 1\u003C/p\u003E\u003Cp\u003EC:\\Windows\\SYSTEM32\\xinput1_3.dll\u003C/p\u003E\u003Cp\u003EImage Base: 0x00400000 Image Size: 0x0001e000\u003C/p\u003E\u003Cp\u003EFile Size: 107368 File Time: 2007-04-04_185422\u003C/p\u003E\u003Cp\u003EVersion:\u003C/p\u003E\u003Cp\u003E Company: Microsoft Corporation\u003C/p\u003E\u003Cp\u003E Product: Microsoft\u00C3\u201A\u00C2\u00AE DirectX for Windows\u00C3\u201A\u00C2\u00AE\u003C/p\u003E\u003Cp\u003E FileDesc: Microsoft Common Controller API\u003C/p\u003E\u003Cp\u003E FileVer: 9.18.944.0\u003C/p\u003E\u003Cp\u003E ProdVer: 9.18.944.0\u003C/p\u003E\u003Cp\u003E== [end of error.log] ==\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2014-09-09T09:59:06Z","Content":"\n\u003Cp\u003EThis is a known issue, aye. From what I recall, it\u0027s an issue in Unity\u0027s own coding, something to do with the pointers it uses as memory references not working well (if at all) above ~3.5GB or so of RAM usage. Not a great deal that Squad can do except attempt to avoid running into the trouble until Unity fixes the problem. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Azazael","CreatedById":68390,"CreatedDateTime":"2014-09-10T16:54:00Z","Content":"\n\u003Cp\u003ESnap exactly the same for me.\u003C/p\u003E\u003Cp\u003ESo we all switch to 64bit to allow us to have a few decent MODS and not run out of memory and now its totally nerfed ?\u003C/p\u003E\u003Cp\u003EUnity Player [version: Unity 4.5.2f1_9abb1b59b47c]\u003C/p\u003E\u003Cp\u003EKSP_x64.exe caused an Access Violation (0xc0000005)\u003C/p\u003E\u003Cp\u003E in module KSP_x64.exe at 0033:03d00000.\u003C/p\u003E\u003Cp\u003EError occurred at 2014-09-10_173300.\u003C/p\u003E\u003Cp\u003EF:\\Games\\SteamApps\\Common\\Kerbal Space Program\\KSP_x64.exe, run by ray_000.\u003C/p\u003E\u003Cp\u003E17% memory in use.\u003C/p\u003E\u003Cp\u003E32713 MB physical memory [27052 MB free].\u003C/p\u003E\u003Cp\u003E37577 MB paging file [31185 MB free].\u003C/p\u003E\u003Cp\u003E134217728 MB user address space [134213947 MB free].\u003C/p\u003E\u003Cp\u003EWrite to location 03d00000 caused an access violation.\u003C/p\u003E\u003Cp\u003EContext:\u003C/p\u003E\u003Cp\u003ERDI: 0x00000024 RSI: 0xc4954bd0 RAX: 0xe3776fc0\u003C/p\u003E\u003Cp\u003ERBX: 0xd18751a0 RCX: 0xe3776fc0 RDX: 0x4f28d400\u003C/p\u003E\u003Cp\u003ERIP: 0x03d00000 RBP: 0x0092efb0 SegCs: 0x00000033\u003C/p\u003E\u003Cp\u003EEFlags: 0x00010282 RSP: 0x0092ef00 SegSs: 0x0000002b\u003C/p\u003E\u003Cp\u003ER8: 0xc4e9dd48 R9: 0x0000000b R10: 0x00000000\u003C/p\u003E\u003Cp\u003ER11: 0xade91662 R12: 0x0092f580 R13: 0x03c04d48\u003C/p\u003E\u003Cp\u003ER14: 0x0092f4b8 R15: 0x00000000\u003C/p\u003E\u003Cp\u003EBytes at CS:EIP:\u003C/p\u003E\u003Cp\u003E?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? Module 1\u003C/p\u003E\u003Cp\u003EC:\\WINDOWS\\SYSTEM32\\xinput1_3.dll\u003C/p\u003E\u003Cp\u003EImage Base: 0x00400000 Image Size: 0x0001e000\u003C/p\u003E\u003Cp\u003EFile Size: 107368 File Time: 2007-04-04_195422\u003C/p\u003E\u003Cp\u003EVersion:\u003C/p\u003E\u003Cp\u003E Company: Microsoft Corporation\u003C/p\u003E\u003Cp\u003E Product: Microsoft\u00C3\u201A\u00C2\u00AE DirectX for Windows\u00C3\u201A\u00C2\u00AE\u003C/p\u003E\u003Cp\u003E FileDesc: Microsoft Common Controller API\u003C/p\u003E\u003Cp\u003E FileVer: 9.18.944.0\u003C/p\u003E\u003Cp\u003E ProdVer: 9.18.944.0\u003C/p\u003E\n"},{"CreatedByName":"LoganMalone","CreatedById":113397,"CreatedDateTime":"2014-09-10T17:11:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022vexx32\u0022 data-cite=\u0022vexx32\u0022\u003E\u003Cdiv\u003EThis is a known issue, aye. From what I recall, it\u0027s an issue in Unity\u0027s own coding, something to do with the pointers it uses as memory references not working well (if at all) above ~3.5GB or so of RAM usage. Not a great deal that Squad can do except attempt to avoid running into the trouble until Unity fixes the problem. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHas there been even a single KSP Dev post about this issue communicated from the KSP Devs to the Unity Devs? Any forward traction to get conversation about it which could cause potential actions towards a resolution even in the near or distant future be it one, two, or three years\u002B ?? I\u0027m getting weary of hearing about what the problem is and not hearing enough about actions towards a fix.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-09-10T20:44:31Z","Content":"\n\u003Cp\u003ESince other Unity-based games on Windows x64 don\u0027t seem to experience issues with exception handling, if it is an issue with Unity it\u0027s one Squad can work around. And no, no Squad dev has commented on the Windows x64 issues (at least as far as I am aware).\u003C/p\u003E\n"},{"CreatedByName":"MartGonzo","CreatedById":65764,"CreatedDateTime":"2014-09-10T20:55:14Z","Content":"\n\u003Cp\u003EI never believed that \u0027Unity issue\u0027 thing.\u003C/p\u003E\u003Cp\u003EI was running the x64 hack for 23.5 for over a month with no issues at all, whereas the new 64bit executable runs like crap compared to x86 and crashes all the time.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-09-11T11:14:04Z","Content":"\n\u003Cp\u003EMaybe if you deny it a bit more the crash will just go away ?\u003C/p\u003E\n"},{"CreatedByName":"IPsoFreely","CreatedById":115188,"CreatedDateTime":"2014-09-12T16:45:48Z","Content":"\n\u003Cp\u003EWell I don\u0027t have a memory issue like you guys as I\u0027ve had ksp running 8.2gb of memory (that is only about 9% used) 96gb in machine with 6gb vram. My issue that could well be related to memory is that right clicking frustrating issue. It just took a spam off right clicks just to extend a panel. Although when i go back to space center i get a nice ksp.exe has stopped working crash.\u003C/p\u003E\u003Cp\u003EI currently am running about 54 mods and plugins.\u003C/p\u003E\u003Cp\u003EUnity Player [version: Unity 4.5.2f1_9abb1b59b47c]\u003C/p\u003E\u003Cp\u003EUnknown caused an Access Violation (0xc0000005)\u003C/p\u003E\u003Cp\u003E in module Unknown at 0033:03850000.\u003C/p\u003E\u003Cp\u003EError occurred at 2014-09-12_155446.\u003C/p\u003E\u003Cp\u003EC:\\Program Files (x86)\\Steam\\steamapps\\common\\Kerbal Space Program\\KSP_x64.exe, run by Owner.\u003C/p\u003E\u003Cp\u003E9% memory in use.\u003C/p\u003E\u003Cp\u003E96330 MB physical memory [89294 MB free].\u003C/p\u003E\u003Cp\u003E82658 MB paging file [75073 MB free].\u003C/p\u003E\u003Cp\u003E968388608 MB user address space [968383846 MB free].\u003C/p\u003E\u003Cp\u003EWrite to location 03850000 caused an access violation.\u003C/p\u003E\u003Cp\u003EContext:\u003C/p\u003E\u003Cp\u003ERDI: 0x0a700c38 RSI: 0x460e4500 RAX: 0xc2c80000\u003C/p\u003E\u003Cp\u003ERBX: 0x60d4a520 RCX: 0x460e4500 RDX: 0x001bed90\u003C/p\u003E\u003Cp\u003ERIP: 0x03850000 RBP: 0x001bf130 SegCs: 0x00000033\u003C/p\u003E\u003Cp\u003EEFlags: 0x00010206 RSP: 0x001bf020 SegSs: 0x0000002b\u003C/p\u003E\u003Cp\u003ER8: 0x001bed80 R9: 0x001bee50 R10: 0x001bed80\u003C/p\u003E\u003Cp\u003ER11: 0xb55e042c R12: 0x001bf520 R13: 0x03644d48\u003C/p\u003E\u003Cp\u003ER14: 0x00000000 R15: 0x00000000\u003C/p\u003E\u003Cp\u003ESo Unity can hold high amounts of memory but it seems only up to a certain point.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-12T16:50:00Z\u0022 title=\u002209/12/2014 04:50  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 12, 2014\u003C/time\u003E by IPsoFreely\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Thanny","CreatedById":110623,"CreatedDateTime":"2014-09-13T03:23:17Z","Content":"\n\u003Cp\u003EThe instability of the 64-bit Windows version has nothing to do with how much memory is in use. All of the crashes I\u0027ve experienced were during the loading process (i.e. if you would normally see the loading graphic on the bottom right, it\u0027s a candidate crash situation). They were all random in nature, as well. Repeating the behavior as precisely as is possible (i.e. same steps from program launch) did not reproduce the crash. For example, loading the game, going straight to VAB, and loading a ship. Crashes on one attempt, doesn\u0027t crash on another.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-09-13T04:48:21Z","Content":"\n\u003Cp\u003EYou...understand that KSP loads all assets at the start, right? And garbage collection doesn\u0027t run until later. So during loading, your memory usage is actually maxed.\u003C/p\u003E\n"},{"CreatedByName":"Joshwoo70","CreatedById":111345,"CreatedDateTime":"2014-09-13T07:38:20Z","Content":"\n\u003Cp\u003EIt is true.\u003C/p\u003E\u003Cp\u003EMy computer was like a loud whirring sound but after loading the assets the sound lowers.\u003C/p\u003E\u003Cp\u003EIf you have unity experience problems, use 32 bit executable. \u003C/p\u003E\u003Cp\u003EIt helps.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-13T07:38:49Z\u0022 title=\u002209/13/2014 07:38  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 13, 2014\u003C/time\u003E by Joshwoo69\u003C/strong\u003E\n\u003Cbr\u003Ehave\n\u003C/span\u003E\n"},{"CreatedByName":"Thanny","CreatedById":110623,"CreatedDateTime":"2014-09-17T15:07:12Z","Content":"\n\u003Cp\u003EMemory usage goes up after initial load, obviously. The game doesn\u0027t load any saves until you choose to, and those game states take up memory. The more flights you have, the more memory you need.\u003C/p\u003E\n"},{"CreatedByName":"LoganMalone","CreatedById":113397,"CreatedDateTime":"2014-09-17T17:31:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Thanny\u0022 data-cite=\u0022Thanny\u0022\u003E\u003Cdiv\u003EMemory usage goes up after initial load, obviously. The game doesn\u0027t load any saves until you choose to, and those game states take up memory. The more flights you have, the more memory you need.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDo \u0027flights\u0027 include the space debris \u0026amp; junk from real flights of probes, stations, etc? If this is the case, then I\u0027d recommend limiting the space junk quantity in the menu settings.\u003C/p\u003E\n"},{"CreatedByName":"Kaezan","CreatedById":108274,"CreatedDateTime":"2014-09-17T17:42:18Z","Content":"\n\u003Cp\u003Espace junk is considered a \u0027flight\u0027 yes. it exists, it is there, it is moving, so it must be computed.\u003C/p\u003E\n"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2014-09-17T19:12:42Z","Content":"\n\u003Cp\u003EThe amount of RAM used by an on rails craft is miniscule. It saves a few numbers and computes their next position, it\u0027s kilobytes at best. Nothing close game assets. Killing all your debris is not going to save you much.\u003C/p\u003E\n"}]}