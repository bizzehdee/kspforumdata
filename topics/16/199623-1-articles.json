{"TopicId":199623,"ForumId":16,"TopicTitle":"[not a bug] Tricky maneuver nodes?","CreatedByName":"OnlyLightMatters","CreatedById":204296,"CreatedDateTime":"2021-01-15T16:02:52Z","PageNum":1,"Articles":[{"CreatedByName":"OnlyLightMatters","CreatedById":204296,"CreatedDateTime":"2021-01-15T16:02:52Z","Content":"\n\u003Cp\u003E\nI\u0027ve tried to understand what seems to be a bug in 1.11.0\n\u003C/p\u003E\n\u003Cp\u003E\nSuppose you want to leave Kerbin. You plot your maneuver mode, you warp just before starting burning, you burn -\u0026gt; \u003Cstrong\u003Ebehaves like expected\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nNow let\u0027s use a craft with a low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E. We need\u00A0to achieve our transfer with slowly raising your apoapsis and gain benefit of the Oberth effect for\u00A0the final burn.\u003Cbr\u003E\nYou plot your maneuver node.\u00A0Several orbits before the maneuver node time, you start incremental burns -\u0026gt; the maneuver marker in the navball moves and can bounces up \u0026amp; down along on the pro/retrograde plane. The remaining\u00A0amount of deltav to be burned varies a lot (I had 850 -\u0026gt; almost 5000).\n\u003C/p\u003E\n\u003Cp\u003E\nHave you noticed this phenomenon?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-16T08:16:56Z\u0022 title=\u002201/16/2021 08:16  AM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 16, 2021\u003C/time\u003E by OnlyLightMatters\u003C/strong\u003E\n\u003Cbr\u003ENot a bug\n\u003C/span\u003E\n"},{"CreatedByName":"MrWookie2U","CreatedById":209383,"CreatedDateTime":"2021-01-15T16:53:44Z","Content":"\n\u003Cp\u003E\nHey, did you add steering parts (the tiny thrusters that have 4 tiny rockets going it opposite directions)\n\u003C/p\u003E\n\u003Cp\u003E\nif not try this. I\u2019m not sure if it\u2019s what you need, but I have made the mistake of forgetting these before.\u00A0\u003Cbr\u003E\nif it\u00A0\u003Cem\u003Edoes\u003C/em\u003E\u00A0help post that it worked, so other players can see it.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Wobbly Av8r","CreatedById":206697,"CreatedDateTime":"2021-01-15T16:57:44Z","Content":"\n\u003Cp\u003E\nI could be wrong, but I don\u0027t think it was a bug...\n\u003C/p\u003E\n\u003Cp\u003E\nA maneuver node is essentially a \u0022plan\u0022 to achieve a certain trajectory. As such, once the node is established, what the Navball maneuver prograde marker indicates is how to continue to achieve that path - both in direction and required \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E, not necessarily what was contemplated when placing the node (i.e. x amount of thrust in prograde direction, and so on).\n\u003C/p\u003E\n\u003Cp\u003E\nThus, with a low-\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E vessel, in order to accomplish what was planned with the maneuver node, let\u0027s say a burn that takes 10 minutes at low thrust (optimally accomplished by starting 5 minutes before the node and completed 5 minutes after the node), as the vessel proceeds past the 5-minutes-before mark, the requirement for thrust will exceed the thrust available and the node reflects that by increasing and a continuously changing requirement as you continue to close in on the node, as displayed.\n\u003C/p\u003E\n\u003Cp\u003E\nAdditionally (edit add) if your \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E does not allow a single orbit burn (it requires too much time) it will act rather bizarrely regardless of how you attempt it - the solution is plan a, say, 10 minute burn over multiple orbits until the cumulative effect results in your desired trajectory / path.\n\u003C/p\u003E\n\u003Cp\u003E\n[Edit 2:\n\u003C/p\u003E\n\u003Cp\u003E\nA full circular orbit at 100,000m takes about 32 min 38 sec.; a 35 min burn would literally require burning over an entire orbit and then some.\n\u003C/p\u003E\n\u003Cp\u003E\nManeuver nodes are simplifications of a maneuver\u0027s burn requirement - AS PLANNED they are \u0022instantaneous\u0022 burns, meaning we know that to be precise, you would need to \u0022instantaneously\u0022 burn all the \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E at the point of the node. Realistically (even in KSP!) we have to distribute the burn over time due to \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E constraints (the half-before the node, half-after referenced above), with the burn time constraints becoming virtually impossible as the burn time requirement exceeds half of an orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nHope that all makes sense... ]\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-15T17:43:54Z\u0022 title=\u002201/15/2021 05:43  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 15, 2021\u003C/time\u003E by Wobbly Av8r\u003C/strong\u003E\n\u003Cbr\u003EAdditional information\n\u003C/span\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2021-01-15T23:39:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223909440\u0022 data-ipsquote-contentid=\u0022199623\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221610726572\u0022 data-ipsquote-userid=\u0022204296\u0022 data-ipsquote-username=\u0022OnlyLightMatters\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, OnlyLightMatters said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSeveral orbits before the maneuver node time, you start incremental burns\u00A0 [ . . .]\n\u003C/p\u003E\n\u003Cp\u003E\nHave you noticed this phenomenon?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes.\u00A0 \u00A0The remaining burn, for nodes a few orbits in future, has behaved in this strange way since at least version 1.2.1, so unfortunately it might not but just a bug, but something they never designed in the first place.\n\u003C/p\u003E\n\u003Cp\u003E\nI think the remaining-burn display does roughly this:\u00A0\u003Cbr\u003E\nFigure (a) the craft\u0027s velocity at the maneuver-node time, given its current orbit after maybe a partial burn, then\u003Cbr\u003E\nsubtract (b) the velocity along the planned route at the maneuver-node time.\n\u003C/p\u003E\n\u003Cp\u003E\nBut if you split a long burn into a few orbits, then when you start the partial burn you lengthen the time it takes for one orbit, so at the original time of the maneuver, our current orbit might be\u00A0maybe one-and-a-half orbits in future, and then the velocity (a) is taken from a point in the orbit when we are going the wrong way.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat we would\u00A0like to see, is the difference between our velocity when we return to the maneuver node\u0027s\u00A0\u003Cem\u003Eangular position \u003C/em\u003Earound the orbited body\u003Cem\u003E,\u003C/em\u003E at whatever time that may be, and the desired velocity after the maneuver.\u00A0 \u00A0(The UTC time of the maneuver node would then need to change.)\u00A0 I would guess that is possible to program, but difficult to get the details right like exactly how to define that angular position.\n\u003C/p\u003E\n\u003Cp\u003E\nTo help with this situation,\u00A0people have made maneuver-node-splitting mods, that we might still find on this forum.\n\u003C/p\u003E\n"},{"CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2021-01-16T00:28:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223909440\u0022 data-ipsquote-contentid=\u0022199623\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221610726572\u0022 data-ipsquote-userid=\u0022204296\u0022 data-ipsquote-username=\u0022OnlyLightMatters\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, OnlyLightMatters said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve tried to understand what seems to be a bug in 1.11.0\n\u003C/p\u003E\n\u003Cp\u003E\nSuppose you want to leave Kerbin. You plot your maneuver mode, you warp just before starting burning, you burn -\u0026gt; \u003Cstrong\u003Ebehaves like expected\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nNow let\u0027s use a craft with a low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E. We need\u00A0to achieve our transfer with slowly raising your apoapsis and gain benefit of the Oberth effect for\u00A0the final burn.\u003Cbr\u003E\nYou plot your maneuver node.\u00A0Several orbits before the maneuver node time, you start incremental burns -\u0026gt; the maneuver marker in the navball moves and can bounces up \u0026amp; down along on the pro/retrograde plane. The remaining\u00A0amount of deltav to be burned varies a lot (I had 850 -\u0026gt; almost 5000).\n\u003C/p\u003E\n\u003Cp\u003E\nHave you noticed this phenomenon?\u003Cbr\u003E\nThat\u0027s very annoying regarding xenon powered crafts\u00A0\u003Cspan\u003E\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a video to illustrate the issue.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 width=\u0022200\u0022 data-embed-src=\u0022https://www.youtube.com/embed/FZoywiJ3OII?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthere\u0027s nothing strange there, it\u0027s absolutely normal.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you set up the manuever node, say, 10 orbits for now, in 5 hours because you have a 30 minutes orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nthen you start burning well before the time, and your orbit changes. it change time. so now in 5 hours you won\u0027t be on your manuever node again, you will be in a different part of the orbit. but the game still think you will want a manuever node in 5 hours, because manuever nodes are set in time, not in position. So, of course to perform the same manuever in the completely wrong part of the orbit, you would need a much higher amount of deltaV. But then, keep burning prograde, you will achieve a 33 minutes 20 seconds orbit, and 9 of those orbits will get you at your manuever node in exactly 5 hours, again! so the burn time will go down again.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd then your orbital time will again go up, and your manuever node will be screwed, until you will increment orbital time enough to get 5 hours in 8 orbits. and so on.\n\u003C/p\u003E\n\u003Cp\u003E\nJust make the manuever node anew after every incremental apoapsis raising.\n\u003C/p\u003E\n"},{"CreatedByName":"FloppyRocket","CreatedById":173990,"CreatedDateTime":"2021-01-16T02:37:51Z","Content":"\n\u003Cp\u003E\nI think the key issue is that maneuver\u00A0nodes assume you\u0027re going to make an impulse burn of the required delta-v, and it doesn\u0027t expect the maneuver to be spread out over time.\n\u003C/p\u003E\n"},{"CreatedByName":"OnlyLightMatters","CreatedById":204296,"CreatedDateTime":"2021-01-16T08:15:40Z","Content":"\n\u003Cp\u003E\nYeah I think you are right (all of you).\u003Cbr\u003E\nSome quotes.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003EJust make the maneuver node anew after every incremental apoapsis raising.\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n-\u0026gt; The idea was to plan the node to make incremental raising so that each of them could take in account a strong normal deviation which happens sometimes for interplanetary transfers with inclined celestial bodies (Eeloo, moho).\n\u003C/p\u003E\n\u003Cdiv style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ETo help with this situation,\u00A0people have made maneuver-node-splitting mods, that we might still find on this forum.\u003C/strong\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nWill do some research \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003EAdditionally (edit add) if your\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\u003Cabbr style=\u0022background-color:#f9f9f9;border-bottom:none;color:#2d3134;font-size:15px;\u0022 title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Edoes not allow a single orbit burn (it requires too much time) it will act rather bizarrely regardless of how you attempt it - the solution is plan a, say, 10 minute burn over multiple orbits until the cumulative effect results in your desired trajectory / path.\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is why it is the whole point of raising slowly your apoapsis and quickly you will have hours or days to complete a maneuver.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-16T08:18:15Z\u0022 title=\u002201/16/2021 08:18  AM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 16, 2021\u003C/time\u003E by OnlyLightMatters\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2021-01-16T09:12:55Z","Content":"\n\u003Cp\u003E\nPeriapsis kicks aka breaking up a looong burn into a series of shorter ones, all on the periapsis to maximise efficiency (hence the name), is a pretty standard procedure when you have limited \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and unlimited (or close enough) engine ignitions- because in real life most rockets can only be lit once rather than flipped on and off like a switch as for KSP. There\u2019s even a mod to do just that- Maneuver Node Splitter, which can split the node by burn duration, orbital period or maximum apoapsis.\n\u003C/p\u003E\n\u003Cp\u003E\nJust be glad that you\u2019re not using real ion thrusters, which have thrust measured in milliNewtons not kiloNewtons and which take \u003Ci\u003Emonths \u003C/i\u003Eto do their burns...\n\u003C/p\u003E\n"},{"CreatedByName":"vv3k70r","CreatedById":208078,"CreatedDateTime":"2021-01-17T18:15:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223909440\u0022 data-ipsquote-contentid=\u0022199623\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221610726572\u0022 data-ipsquote-userid=\u0022204296\u0022 data-ipsquote-username=\u0022OnlyLightMatters\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/15/2021 at 5:02 PM, OnlyLightMatters said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHave you noticed this phenomenon?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat engine, what reaction wheels?\n\u003C/p\u003E\n\u003Cp\u003E\nIs \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E coaxial with thrust?\n\u003C/p\u003E\n\u003Cp\u003E\nI nottice this phenomen every time I build crap that is not corectly engineered because I would have some fancy construction instead of symetric one.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223909472\u0022 data-ipsquote-contentid=\u0022199623\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221610729864\u0022 data-ipsquote-userid=\u0022206697\u0022 data-ipsquote-username=\u0022Wobbly Av8r\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/15/2021 at 5:57 PM, Wobbly Av8r said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nManeuver nodes are simplifications of a maneuver\u0027s burn requirement - AS PLANNED they are \u0022instantaneous\u0022 burns, meaning we know that to be precise, you would need to \u0022instantaneously\u0022 burn all the \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E at the point of the node. Realistically (even in KSP!) we have to distribute the burn\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn real manouvers are counted this way. Then from this point they are computed for specific engines and controls depend of remain fuel and mass distribution.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223909741\u0022 data-ipsquote-contentid=\u0022199623\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221610764671\u0022 data-ipsquote-userid=\u0022173990\u0022 data-ipsquote-username=\u0022FloppyRocket\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/16/2021 at 3:37 AM, FloppyRocket said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think the key issue is that maneuver\u00A0nodes assume you\u0027re going to make an impulse burn of the required delta-v, and it doesn\u0027t expect the maneuver to be spread out over time.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhole orbital mechanics use this. It is why there are corection burns.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223909872\u0022 data-ipsquote-contentid=\u0022199623\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221610788375\u0022 data-ipsquote-userid=\u0022199902\u0022 data-ipsquote-username=\u0022jimmymcgoochie\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/16/2021 at 10:12 AM, jimmymcgoochie said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust be glad that you\u2019re not using real ion thrusters, which have thrust measured in milliNewtons not kiloNewtons and which take \u003Ci\u003Emonths \u003C/i\u003Eto do their burns...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWith this hair drayer thrust there is no issue of counteracting them with thrusters. Reaction wheel is enough.\n\u003C/p\u003E\n"}]}