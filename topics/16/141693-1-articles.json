{"TopicId":141693,"ForumId":16,"TopicTitle":"Mechjeb relative inclination","CreatedByName":"schedar","CreatedById":164417,"CreatedDateTime":"2016-06-13T00:02:32Z","PageNum":1,"Articles":[{"CreatedByName":"schedar","CreatedById":164417,"CreatedDateTime":"2016-06-13T00:02:32Z","Content":"\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I select moon as a target then in Mechjeb\u0027s \u0022Rndezvous Planner\u0022 i can see relative inclination. When it reaches 0 it means that my rocket on landing pad is inside moon\u0027s orbital plane. This mean that if I launch when relative inclination is 0 I will be able to match moon\u0027s orbital inclination with least delta-v. That much I understand. The queston is how do I calculate relative inclination without using Mechjeb? I want to write a program in kOS that will automatically launch when relative inclination is near 0.\n\u003C/p\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2016-06-13T00:21:04Z","Content":"\n\u003Cp\u003E\nHmmmm. Well, there are two possibilities -- either you are doing a direct (pure vertical) launch, or you are doing a gravity turn into LKO. But in either case, I don\u0027t think you are going to get what you want.\n\u003C/p\u003E\n\u003Cp\u003E\nThe condition you are talking about is \u0022being at the ascending or descending node\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nBut if you are doing a gravity turn into LKO, then what matters is that you are at the node when you do your transfer burn to the target\u00A0-- it doesn\u0027t matter at all what your inclination is when you launch. In fact, if you launch at the node, then you will be late for the transfer burn (you will be past the node) once you\u0027ve done an orbit around Kerbin.\n\u003C/p\u003E\n\u003Cp\u003E\nOTOH, if you are doing a direct ascent, then you are already doing a non-optimal launch profile from a deltaV perspective. And one of the benefits of direct launches is that you can launch once per day and it only takes a small course correction to account for any inclination differences.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"schedar","CreatedById":164417,"CreatedDateTime":"2016-06-13T19:38:45Z","Content":"\n\u003Cp\u003E\nWell it\u0027s called \u0022relative inclination\u0022 in Mechjeb and I was wondering what does it have to do with inclination. Obviously I want to do a gravity turn to LKO with the inclination matching the Moon\u0027s inclination. In order to do that I need to launch before the point when my position on the launchpad is below Moon\u0027s orbit. Then I would launch making dogleg maneuver to match moons orbital inclination. The question is how do I know (mathematically) when I\u0027m exactly at that spot below Moon\u0027s orbit?\n\u003C/p\u003E\n"},{"CreatedByName":"Zhetaan","CreatedById":125721,"CreatedDateTime":"2016-06-13T20:45:52Z","Content":"\n\u003Cp\u003E\nWhat \u0027relative inclination\u0027 has to do with inclination:\n\u003C/p\u003E\n\u003Cp\u003E\nIf inclination is the angle of your orbital plane compared to the equatorial plane (or ecliptic, or whatever), relative inclination is your inclination relative to the orbital plane of whatever you want to rendezvous with. \u00A0Its only relationship to your orbital inclination is that both compare the tilt of your orbital plane to something else. \u00A0Orbital inclination compares it to the parent body; relative inclination compares it to another satellite. \u00A0The Mun is a bad example for this because it orbits at zero inclination already; a standard eastward launch puts you in a matched orbital plane automatically. \u00A0Minmus is a better example; twice per day, the KSC passes through Minmus\u0027s orbital plane. \u00A0This is true of every point on Kerbin\u0027s surface up to six degrees of latitude away from the equator, six degrees\u00A0being Minmus\u0027s orbital inclination. \u00A0At points further north and south, it costs far too much fuel to try to match inclinations while launching; you are better off launching and then correcting your inclination later.\n\u003C/p\u003E\n\u003Cp\u003E\nHow to match your orbits:\n\u003C/p\u003E\n\u003Cp\u003E\nWhat you need to calculate is the longitude of the ascending node. \u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/117211-finding-normal-vector-to-arbitrary-orbit/\u0022 rel=\u0022\u0022\u003EHere\u003C/a\u003E\u00A0is another discussion about a related topic (writing a kOS script to launch satellites into specific orbits for contracts), but the basic idea is this: \u00A0let us consider an\u00A0object\u00A0orbiting Kerbin\u00A0in an inclined orbit. \u00A0The points of intersection between the inclined orbital plane and the equatorial plane--where the orbiting object \u0027bursts through\u0027 the equatorial plane, so to speak, are called the ascending and descending nodes. \u00A0The ascending node is the one where the object breaks the plane in a positive normal (north) direction. \u00A0But where is it in 3-D space? \u00A0If I launch a rocket into LKO with a ten-degree inclination, and launch another one an hour later, the two resulting orbits are not coplanar. \u00A0The two rockets\u0027 ascending nodes are at different points along Kerbin\u0027s celestial \u0027equator\u0027.\n\u003C/p\u003E\n\u003Cp\u003E\nThe longitude of the ascending node tells the angle of the ascending node with respect to a line drawn from Kerbin\u0027s centre to a fixed point in space. \u00A0In reality, we use a far-away star for Earth-orbiting satellites, but KSP has no\u00A0far-away stars, so it\u0027s a direction in space that points to nothing. \u00A0The important part is that it is Kerbin-centric, but no co-rotating: \u00A0in other words, it only pays attention to Kerbin\u0027s \u003Cem\u003Elocation\u003C/em\u003E, not its \u003Cem\u003Eorientation\u003C/em\u003E. \u00A0All objects orbiting Kerbin at a nonzero inclination have a longitude of the ascending node with respect to Kerbin\u0027s reference direction, and the value of that\u00A0longitudinal angle is a fixed property of their orbits.\n\u003C/p\u003E\n\u003Cp\u003E\nTo match for a launch, you need to find out what the longitude of the ascending node is, figure out your own celestial longitude (surface longitude will not do, because it rotates) and, when the two are equal,\u00A0launch into an orbit matching the inclination of your target.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce you know what the reference direction is, you can calculate KSC\u0027s\u00A0current orientation using the time of day. \u00A0I do not know whether the reference direction precesses with Kerbin\u0027s orbit around the Sun or is utterly absolute; if it is absolute, you will also need to factor the time of year. \u00A0You may also be able to calculate it based on the UP direction, but this is only if you have a core or command pod that faces up (I leave what to do with exotic spaceplanes and other craft as an exercise for the reader).\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2016-06-13T23:07:26Z","Content":"\n\u003Cp\u003E\nPresumably this is not in the stock universe, otherwise in stock the question would be moot for the scenario you describe.\u00A0 (In stock, the Mun is in an equatorial orbit, and the KSC launchpad is on the equator, so you\u0027re always in the Mun\u0027s orbital plane whenever you launch.\u00A0 Clearly you\u0027re using one of the many mods that changes the solar system a bit, but your post didn\u0027t mention which one.).\n\u003C/p\u003E\n\u003Cp\u003E\nIf you\u0027re launching from the equator, then your relative inclination vs the Mun should be static no matter where you are in the day.\u00A0 Your \u0022orbit\u0022 is an equatorial one at that point, albeit one that has a periapsis deep inside the planet (you have an \u0022orbit\u0022 because of the rotation of the planet, but the ground beneath you is preventing you from following it and you always stay at the apoapsis of it).\u00A0 If you\u0027re launching from somewhere north or south of the equator (again, you didn\u0027t tell us which mod you\u0027re using or where you\u0027re launching from so I don\u0027t know), then your relative inclination would indeed change through the day, because your \u0022orbit\u0022 isn\u0027t a naturally possible one you could have achived up in space.\u00A0 Your \u0022orbit\u0022 stays at the same fixed non-equatorial latitude all the time, which wouldn\u0027t happen to a ship in an actual space orbit (it would cycle back and forth across the equator).\u00A0 The effect of this is that your landed \u0022orbit\u0022 is essentially constant being changed to a new \u0022orbit\u0022 by the ground \u0022pushing\u0022 you to keep you up at the same latitude.\u00A0 Because it keeps changing the orbit, your relative inclination to the Mun would indeed always change in this case.\u00A0 HOWEVER, that doesn\u0027t guarantee it will ever hit zero.\u00A0 To get that you\u0027d have to coincidentally have a launchpad at just the right latitude that you\u0027re at the peak of where the Mun\u0027s orbit\u0027s latitude is, so that as you kiss the Mun\u0027s orbit, the Mun\u0027s orbit happens to be aimed straight east at that point.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat you proably actually want is one of two things:\n\u003C/p\u003E\n\u003Cp\u003E\nFinding not the point where the relative inclination is exactly zero, since that won\u0027t happen unless you\u0027ve got lucky circumstances, but rather the point where it hits its minimum and would start rising again.\n\u003C/p\u003E\n\u003Cp\u003E\nor\n\u003C/p\u003E\n\u003Cp\u003E\nThe point where you cross orbits with the Mun, not where you have the same relative inclination as it.\u00A0 That would be your ascending node or descending node with the Mun.\u00A0 Then instead of launching due east, you launch a bit north or south of due east, to match the direction the mun\u0027s orbit would have at that point.\n\u003C/p\u003E\n"},{"CreatedByName":"schedar","CreatedById":164417,"CreatedDateTime":"2016-06-14T18:10:45Z","Content":"\n\u003Cp\u003E\nApoogies I didn\u0027t say I play RSS. I though when I refer to Moon instead of Mun it will be clear. Mea Culpa. So the case was that I was launching above the equator. I definitely understand that while I\u0027m landed my ship\u0027s orbital inclination is not constans but Moon\u0027s inclination is. I did all the visualisation in my head. Very good point that I have to find the minimum of the relative inclination instead of zero that is not always possible. And yes the idea is to launch east facing my ship in the direction of moon\u0027s orbit. This of course would be done before that sweetspot so that I have time to match my ship velocity vector with the orbit.\u003Cbr\u003E\nAnyway ... I actually found my solution under link below. I don\u0027t yet fully understand how it works but It works. I\u0027m going to figure it out eventually. Thank for your help.\u003Cbr\u003E\u003Ca href=\u0022https://www.reddit.com/r/Kos/comments/4nxkfh/mechjebs_relative_inclination_in_kos/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.reddit.com/r/Kos/comments/4nxkfh/mechjebs_relative_inclination_in_kos/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}