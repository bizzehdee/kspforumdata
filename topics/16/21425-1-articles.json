{"TopicId":21425,"ForumId":16,"TopicTitle":"Fuel Line bug? Or am I just doing it rong?!","CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2012-10-05T20:25:16Z","PageNum":1,"Articles":[{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2012-10-05T20:25:16Z","Content":"\n\u003Cp\u003EBeen trying to build a Returnable Eve expedition for most of a week, and it\u0027s not been going well... and now I\u0027ve run into what I *think* is a bug in the fuel logic, but I\u0027m not sure.\u003C/p\u003E\u003Cp\u003EBasically, I\u0027m trying to do inter-stage asparagus-ing (it\u0027s awesome when it works), but I\u0027m having some problems getting fuel routed from my lower stages to an upper one(With radial engines) through the lander stage. Basically, the Lander stage is a 3-3-1 asparagus setup (So it can land stably even with one of them gone), and the stages both above and below it are 2-2-2-1 based. The fuel routing just won\u0027t seem to work right, no matter what I try.\u003C/p\u003E\u003Cp\u003EInstead of burning all the radials on the upper stage off the two active asparagus stages on the bottom, it burns off the two bottom tanks AND off two of the tanks on the lander stage simultaneously(Since the lander\u0027s 3-based, this would end up unbalancing it.) Two of the three fuel lines leading from below up to the lander stage show as inactive. Disabling flow on \u003Cstrong\u003Eone\u003C/strong\u003E tank on the lander stage fixes it, but then runs into \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/23009-0-17-Disable-Flow-and-Fuel-Connectors\u0022 rel=\u0022external nofollow\u0022\u003Ethis bug\u003C/a\u003E when you try to re-enable it later.\u003C/p\u003E\u003Cp\u003EI made a stripped down mockup (bare minimum of everything, to make it easier to follow and to mess with different configurations: Instead of 2-2-2-1-3-3-1-2-2-2, it\u0027s set up as just 2-1-3-1-2 with all the engines but the radials removed for clarity), and it also exhibits the problem. Experimentation has shown that the fuel flow logic can track through either of the transitions by themselves just fine (Meaning the 2-1-2 or the 3-1-2), but can\u0027t seem to figure out how to get through both in one go.\u003C/p\u003E\u003Cp\u003EI evidentally haven\u0027t made enough posts to do attachments, or something, so I can\u0027t attach the .craft file. Here\u0027s a screenshot of the mockup as a consolation prize: \u003Ca href=\u0022http://steamcommunity.com/sharedfiles/filedetails/?id=101012978\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://steamcommunity.com/sharedfiles/filedetails/?id=101012978\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2012-10-05T20:33:11Z","Content":"\n\u003Cp\u003EHi Tiron, you can post the link to a \u003Ca href=\u0022http://\u0022 rel=\u0022external nofollow\u0022\u003Emediafire\u003C/a\u003E or \u003Ca href=\u0022http://filedropper.com\u0022 rel=\u0022external nofollow\u0022\u003Efiledropper\u003C/a\u003E page with your craft, or just \u003Ca href=\u0022http://pastebin.com\u0022 rel=\u0022external nofollow\u0022\u003Epastebin\u003C/a\u003E it.\u003C/p\u003E\u003Cp\u003EI think adding fuel lines makes parts capable of transferring fuel still, maybe that\u0027s what is messing up your design?\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2012-10-05T20:35:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EHi Tiron, you can post the link to a \u003Ca href=\u0022http://\u0022 rel=\u0022external nofollow\u0022\u003Emediafire\u003C/a\u003E or \u003Ca href=\u0022http://filedropper.com\u0022 rel=\u0022external nofollow\u0022\u003Efiledropper\u003C/a\u003E page with your craft, or just \u003Ca href=\u0022http://pastebin.com\u0022 rel=\u0022external nofollow\u0022\u003Epastebin\u003C/a\u003E it.\u003Cp\u003EI think adding fuel lines makes parts capable of transferring fuel still, maybe that\u0027s what is messing up your design?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/uYqUwSbk\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/uYqUwSbk\u003C/a\u003E then. Named Fuel Flow Tester.craft\u003C/p\u003E\u003Cp\u003EEdit: Sorry, ADHD Got me. I actually thought about that, except that all my lines are purely tank-to-tank, with all of them separated by decouplers... and the problem isn\u0027t the fuel flowing where it shouldn\u0027t, it\u0027s the fuel \u003Cstrong\u003Enot\u003C/strong\u003E flowing. There\u0027s actually two fuel lines that are showing up inactive(Grey), even though they\u0027re part of a set of three, and the third one is fully functional.\u003C/p\u003E\u003Cp\u003EEdit2: Oh, and the tester is set up so that the staging shows the way the fuel \u003Cstrong\u003Eshould\u003C/strong\u003E flow, at least in theory, with each fuel line on its own stage so you can see the active and inactive ones easier.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-05T20:51:50Z\u0022 title=\u002210/05/2012 08:51  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 5, 2012\u003C/time\u003E by Tiron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2012-10-05T22:11:57Z","Content":"\n\u003Cp\u003EI tried fuel lines every which way and can\u0027t get it to work like you want, I even tried different tank configurations like 4 into 2 into 2.\u003C/p\u003E\u003Cp\u003EThis has to be a bug, I\u0027d post a \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/3610-Bug-Reporting-Guidelines\u0022 rel=\u0022external nofollow\u0022\u003Ebug report\u003C/a\u003E \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/forumdisplay.php/34-KSP-Development\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E with as much info as you can including this affected craft, then the test team and developers can check it out, and hopefully fix it for 0.17.1, or 0.18 maybe.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2012-10-05T22:23:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EI tried fuel lines every which way and can\u0027t get it to work like you want, I even tried different tank configurations like 4 into 2 into 2.\u003Cp\u003EThis has to be a bug, I\u0027d post a \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/3610-Bug-Reporting-Guidelines\u0022 rel=\u0022external nofollow\u0022\u003Ebug report\u003C/a\u003E \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/forumdisplay.php/34-KSP-Development\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E with as much info as you can including this affected craft, then the test team and developers can check it out, and hopefully fix it for 0.17.1, or 0.18 maybe.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I thought as much but I thought I\u0027d better check first. The thing that gets me is that both of the individual transitions works fine, it\u0027s just sequentially that it has a problem with. Thanks, though!\u003C/p\u003E\n"},{"CreatedByName":"SpeedDaemon","CreatedById":38448,"CreatedDateTime":"2012-10-06T02:43:17Z","Content":"\n\u003Cp\u003EWhat symmetry did you use to add the radial stages? I had a problem with a similar configuration when I added the radials with 6x symmetry on a rocket with 6 2x stages in the outer ring, 3 2x in the inner ring, a central stage. I had to add the fuel lines without symmetry, and the \u0022path\u0022 on one side of the rocket worked fine, but the other side did all sorts of weird stuff until I tore it apart and rebuilt with 2x symmetry.\u003C/p\u003E\n"},{"CreatedByName":"sjwt","CreatedById":9268,"CreatedDateTime":"2012-10-06T08:59:45Z","Content":"\n\u003Cp\u003ETwo different issues are being encountered here,\u003C/p\u003E\u003Cp\u003EThe first is for some reason, you have used 2x and 3x symmetry, this confuses the fuel flow algorithm..\u003C/p\u003E\u003Cp\u003EThe second is that have you noticed stage 10 and 11 the fuel lines are breaking after you start the craft?\u003C/p\u003E\u003Cp\u003EI shall assume you have chosen to use the 3x and 2x to get a specific number of fuel tanks in use.. so I have redone the craft in a fashion quickly for you as per \u003Ca href=\u0022http://ksp.sjwt.org/2012-10-06/Fuel%20Flow%20%20ALTERD.craft\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003Ethis link\u003C/span\u003E\u003C/a\u003E, I hope it helps..\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2012-10-06T15:44:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sjwt\u0022 data-cite=\u0022sjwt\u0022\u003E\u003Cdiv\u003ETwo different issues are being encountered here,\u003Cp\u003EThe first is for some reason, you have used 2x and 3x symmetry, this confuses the fuel flow algorithm..\u003C/p\u003E\u003Cp\u003EThe second is that have you noticed stage 10 and 11 the fuel lines are breaking after you start the craft?\u003C/p\u003E\u003Cp\u003EI shall assume you have chosen to use the 3x and 2x to get a specific number of fuel tanks in use.. so I have redone the craft in a fashion quickly for you as per \u003Ca href=\u0022http://ksp.sjwt.org/2012-10-06/Fuel%20Flow%20%20ALTERD.craft\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003Ethis link\u003C/span\u003E\u003C/a\u003E, I hope it helps..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe actual rocket that was having the problem had 6-symmetry on all stages, asparagus wired. The upper and lower stages were wired in pairs, the lander stage was wired in triads so that it could land stably. The tester is chopped down, without the \u0027extra\u0027 asparagus stages, to demonstrate the way the fuel flow gets confused. The lines don\u0027t break, they just don\u0027t get activated. If you move the radial engines down to the tri-stage, all three lines function properly.\u003C/p\u003E\u003Cp\u003EI\u0027ve run the lines both with symmetry enabled and one at a time, and redone the fuel line setup entirely three or four times. And used different wiring schemes to accomplish the task at hand. None of these worked.\u003C/p\u003E\u003Cp\u003EThe actual rocket is 2m, planned to use 12 tanks (two groups of six in hex symmetry), wrapped around a hex symmetry stage around a single centeral core, all of it asparagus staged. There\u0027s multiple stages thrown in, as it\u0027s intended for an eve land-and-return trip.\u003C/p\u003E\u003Cp\u003EThe design I was going for would\u0027ve have a huge 19-section for on the bottom for kerbin orbit, a small 19 section for transit (outer ring), and landing (middle ring and core) above that, then a large 7-section (inner ring and core only) for Eve ascent, with a 1m 7-section with rad-rockets for final orbital boost and possibly transit, and a small core-only stage on top with a rad-rocket as a contingency. I wire the asparagus setup to cross sections though, so the upper stage engines can fire immediately after the section under them drops, burning fuel from the lower section to do it.\u003C/p\u003E\u003Cp\u003EI just can\u0027t seem to get it wired through the landing stage.\u003C/p\u003E\n"},{"CreatedByName":"sjwt","CreatedById":9268,"CreatedDateTime":"2012-10-06T16:18:59Z","Content":"\n\u003Cp\u003EIf you could post that file, it would help a lot!\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2012-10-06T17:53:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sjwt\u0022 data-cite=\u0022sjwt\u0022\u003E\u003Cdiv\u003EIf you could post that file, it would help a lot!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell it\u0027s been modified an aweful lot since I posted, as I try to figure out how to work around the fuel routing problem... I have an idea now that I think will work though... but it\u0027s half torn apart atm as I need to do some rebuilding.\u003C/p\u003E\u003Cp\u003EIt\u0027s the exact same problem manifested in the exact same way as on the mockup, though. Complete with the two dead fuel lines and pulling fuel from four tanks instead of two, and two of them on the 3-based landing stage. The mockup\u0027s just umpty thousand times easier to follow because it doesn\u0027t have 250\u002B parts. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E It also doesn\u0027t require any mods...unlike the actual rocket.\u003C/p\u003E\n"}]}