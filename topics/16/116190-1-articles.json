{"TopicId":116190,"ForumId":16,"TopicTitle":"Maths question. Time, altitude, thrust, Isp.","CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2015-07-17T18:41:54Z","PageNum":1,"Articles":[{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2015-07-17T18:41:54Z","Content":"Having a go at KSP (v1.04, KER v1.0.17) after a long break and I\u0027m wondering about quite a lot.\n\n**I**\u003Csub\u003E\u003Cstrong\u003Esp\u003C/strong\u003E\u003C/sub\u003E **calculations:**\n\nIn v0.90 using an older KER, my Isp calulations as a function of altitude agreed with KER and the game. Not so much now.\n\nThe formula I used then and now is\n\nI\u003Csub\u003Esp\u003C/sub\u003E(h) = I\u003Csub\u003Esp(max)\u003C/sub\u003E - (I\u003Csub\u003Esp(max)\u003C/sub\u003E - I\u003Csub\u003Esp(min)\u003C/sub\u003E)\\*e^(-h/s) , where h is height/altitude and s is atmospheric scale height (5000 for Kerbin).\n\nThe difference isn\u0027t great but enough to throw off further calculations. I can think of 2 reasons why this no longer gives me the figures I see in the game. Either the maths in game has changed or something funky is going on with the newer KER. Any thoughts on this?\n\n**Latest: I just read that scale height no longer works the same way as before so I guess that answers my question. Any info on the maths they use now?**\n\n**The new thrust calculations:** \n\nNow that thrust for a given engine at a given power setting is a function of altitude (via I\u003Csub\u003Esp\u003C/sub\u003E I assume and fuel flow is now constant for a given power setting for the said engine), is there a page somewhere with useful formulas for calculating target throttle setting throughout a launch/ascent to orbit? Problem is of course the fuel flow determines the rate of mass reduction which in turn determines the necessary rate of power reduction (which already is altitude dependent) for a target acceleration.\n\nWith the new way scale height works and with all the new maths, I would greatly appreciate it if someone could point me to a page/site that explains the new maths. The KSP wiki only links to Wikipedia on scale height but if there is a KSP specific site out there, a link would be most welcome.\n\nThere is a lot more but this will do for starters."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-17T19:15:18Z","Content":"Check the Overhauls for 1.0 thread for details on the model. OhioBob et al did a lot of graphing and digging. tl;dr it\u0027s an 80% Earth atmosphere, so the pressure you get on Earth (via ICAO atmosphere) at 10km is the pressure you get on Kerbin at 8km."},{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2015-07-17T19:26:00Z","Content":"\u003E \n\u003E Check the Overhauls for 1.0 thread for details on the model.\n\nThread bookmarked! Thanks tons."},{"CreatedByName":"Jimbimbibble","CreatedById":77859,"CreatedDateTime":"2015-07-17T20:02:31Z","Content":"Now that they changed how Isp works, the kind of calculations you want to do are no longer possible to do explicitly (that is, without solving a lot of differential equations). Your best bet would be to solve iteratively using a computer. You would have to write the code to do that, but it should be possible."},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2015-07-17T21:01:50Z","Content":"I also thought about the problem of calculating the ideal ascent profile.\n\nBefore 1.0 it was relatively easy:\n\n- [http://forum.kerbalspaceprogram.com/threads/46194](https://forum.kerbalspaceprogram.com/threads/46194)\n\n- [http://forum.kerbalspaceprogram.com/threads/58531](https://forum.kerbalspaceprogram.com/threads/58531)\n\nHowever currently I see no way to do this again, because of the generated drag. Drag became a much more complex calculation that now depends on\n\n- Form of the rocket\n\n- Angle of attack\n\n- Supersonic drag\n\nI can not see, how exporting these things to an external program could be done."},{"CreatedByName":"Jimbimbibble","CreatedById":77859,"CreatedDateTime":"2015-07-17T23:48:29Z","Content":"You would have to use numerical methods to evaluate the trajectory given a set of parameters and then iterate on those parameters to find the best solution. A genetic algorythm could be useful for something like this. But now we\u0027re talking about graduate level stuff here. It\u0027s doable for sure, just not easy."}]}