{"TopicId":113011,"ForumId":16,"TopicTitle":"Jumping orbits","CreatedByName":"Warzouz","CreatedById":140055,"CreatedDateTime":"2015-06-15T07:30:24Z","PageNum":1,"Articles":[{"CreatedByName":"Warzouz","CreatedById":140055,"CreatedDateTime":"2015-06-15T07:30:24Z","Content":"I\u0027m in the middle of a Duna mission. \n\nI\u0027ve launched 2 ships (one station\u002Bfuel and one lander/probes/return vehicle), they should meet around Duna. Then I had a lately mission for a base on Duna, which I packed quicly and launched a bit late (that should be OK)\n\nAll mission are now in Kerbol SOI 30 days from the mid course correction burn ; while I\u0027m planning for the upcomming Eeloo window.\n\nMy problem is that 2 of the 3 flights have jumping orbits (the space station and the \u0022late\u0022 base). They aren\u0027t stable, I\u0027m worried which one is the real orbit and which one is a glitch. Strangely, the thrid one is stable even its nearly the same as the space station (I even had trouble to do the ejection burn as they where so close...)\n\nPlanning nodes is very hard, even with \u0022node editors\u0022, tajectory jumps a lot. I didn\u0027t experience that in my 14 fights to Jool on beta 0.9. My Duna transfert orbits aren\u0027t exotic. I don\u0027t cross Ike SOI and I don\u0027t have any other encounter before or after Duna.\n\n- What is the reason of those jumps ?\n\n- How can I know what trajectory I\u0027ll get ?\n\n- How can I fix them ? (I\u0027m not sure small correction burn will do anything in that matter)"},{"CreatedByName":"DeMatt","CreatedById":90539,"CreatedDateTime":"2015-06-15T07:47:49Z","Content":"\u003E \n\u003E I\u0027m in the middle of a Duna mission. \n\u003E I\u0027ve launched 2 ships (one station\u002Bfuel and one lander/probes/return vehicle), they should meet around Duna. Then I had a lately mission for a base on Duna, which I packed quicly and launched a bit late (that should be OK)\n\u003E \n\u003E All mission are now in Kerbol SOI 30 days from the mid course correction burn ; while I\u0027m planning for the upcomming Eeloo window.\n\u003E \n\u003E My problem is that 2 of the 3 flights have jumping orbits (the space station and the \u0022late\u0022 base). They aren\u0027t stable, I\u0027m worried which one is the real orbit and which one is a glitch. Strangely, the thrid one is stable even its nearly the same as the space station (I even had trouble to do the ejection burn as they where so close...)\n\u003E \n\u003E Planning nodes is very hard, even with \u0022node editors\u0022, tajectory jumps a lot. I didn\u0027t experience that in my 14 fights to Jool on beta 0.9. My Duna transfert orbits aren\u0027t exotic. I don\u0027t cross Ike SOI and I don\u0027t have any other encounter before or after Duna.\n\u003E \n\u003E - What is the reason of those jumps ?\n\nFloating-point precision errors. Since the numbers KSP uses to calculate orbits have a limited precision (= number of digits behind the decimal place), the further out you ask KSP to calculate a trajectory, the more sensitive the calculation becomes to even minor changes - like turning your ship.\n\n\u003E \n\u003E - How can I know what trajectory I\u0027ll get ?\n\nAccept that you\u0027ll need to make corrections all the way up to your final orbit and rendezvous.\n\n\u003E \n\u003E - How can I fix them ? (I\u0027m not sure small correction burn will do anything in that matter)\n\nInstead of doing your orbit planning while at 1x time acceleration, do it at 5x time acceleration. This \u0022turns off\u0022 the physics calculations and sets your ship on a fixed course."},{"CreatedByName":"Warzouz","CreatedById":140055,"CreatedDateTime":"2015-06-15T08:02:09Z","Content":"Well I would agree if I passed trough several SOI, but that\u0027s a simple Duna transfert ! And one of my ships don\u0027t have jumping orbits. \n\nI don\u0027t mean those AP/PE jumping around on a near circular orbit, I mean trajectory lines juming from one orbit to another, not even passing through Duna SOI."},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2015-06-15T08:21:43Z","Content":"I often get this \u0022encounter, no encounter, encounter, no encounter...\u0022 effect when transferring to Minmus (the smaller the target\u0027s sphere of influence, the smaller the change or error in trajectory calculation needed to miss it - Jool\u0027s sphere of influence is massive). It\u0027s quite distracting as Kerbal Alarm Clock keeps creating then deleting a sphere of influence change alarm. I find that going into time warp makes the \u0027wrong\u0027, no encounter orbit show, but if I do nothing, I end up where I was aiming rather than where the game showed me I was going.\n\nI\u0027m not sure if this is a problem with floating point calculations or a display issue. Or both. The one thing I find that helps is to plot a dummy manoeuvre node just outside the sphere of influence change. That often kicks it into showing the right trajectory. If not, Kerbal Alarm Clock will let me know when I\u0027m close so I don\u0027t warp through the encounter.\n\n**Edited \u003Ctime datetime=\u00222015-06-15T12:47:23Z\u0022 title=\u002206/15/2015 12:47  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 15, 2015\u003C/time\u003E by ElWanderer**"},{"CreatedByName":"tutike2000","CreatedById":134359,"CreatedDateTime":"2015-06-15T12:40:40Z","Content":"Yeah, conics are pretty glitchy. I haven\u0027t been able to use the Advanced Transfer feature in MechJeb for months now. I create a node that takes around 925 m/s, then the \u0027jumping\u0027 happens, and my node gets recalculated and recalculated, and it keeps increasing 2000 m/s, 6000 m/s, 20,000 m/s until I finally give up and do it by hand."},{"CreatedByName":"Warzouz","CreatedById":140055,"CreatedDateTime":"2015-06-15T13:37:04Z","Content":"Can it depend on the patch conics \u0022mode\u0022 ? I\u0027ve changed from 3 to 0 in the settings/parameters/somewhere I don\u0027t recall..."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-06-15T14:16:28Z","Content":"\u003E \n\u003E - What is the reason of those jumps ?\n\nTwo things: The aforementioned floating point errors and KSP calculating orbital path from the root part rather than the center of mass. The latter means ship orientation or wobble will change the trajectory slightly.\n\n\u003E \n\u003E - How can I know what trajectory I\u0027ll get ?\n\u003E - How can I fix them ? (I\u0027m not sure small correction burn will do anything in that matter)\n\nGo into low on-rails timewarp, say 5x. The path will stabilize and you can tweak the node more accurately. This is because on-rails physics assumes a point mass for the vessel and uses 64-bit floats for its calculations, eliminating the root part issue and reducing FP errors."}]}