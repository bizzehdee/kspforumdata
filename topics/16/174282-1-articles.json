{"TopicId":174282,"ForumId":16,"TopicTitle":"How to Calculate Correct delta-V for Manoeuvre Node","CreatedByName":"Benzyme","CreatedById":57936,"CreatedDateTime":"2018-04-26T14:26:52Z","PageNum":1,"Articles":[{"CreatedByName":"Benzyme","CreatedById":57936,"CreatedDateTime":"2018-04-26T14:26:52Z","Content":"\n\u003Cp\u003E\nI am attempting to calculate a the required \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for a circularisation burn using kOS. I am calculating the required \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for both a prograde burn, as well as the required \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E to achieve the desired inclination to cancel out the rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nFor the prograde burn I am doing:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ev_old = sqrt(body:mu\u00A0* (2/(orbitAlt \u002B body:radius) - 2/(ship:periapsis \u002B orbitAlt \u002B 2*body:radius)))\nv_new = sqrt(body:mu * (2/(orbAlt \u002B body:radius) - 2/(2*orbAlt \u002B 2*body:radius)))\ndv_prograde = v_new - v_old\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFor the normal burn I am doing:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ei_deg = targetInclination - ship:orbit:inclination.\ndv_normal = 2 * orbitalVelocity * sin(i_deg / 2).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI then add the two together to get overall \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E required.\u00A0I then create a manoeuvre node using these values:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EburnNode = node(time:seconds \u002B eta:apoapsis, 0, dv_normal, dv_prograde).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis produces a manoeuvre node\u00A0orbit on the map view which has the correct inclination, but the final apoapsis is way too high ( aiming for 75km circular, get 75km periapsis and 161.268km apoapsis).\n\u003C/p\u003E\n\u003Cp\u003E\nI am currently getting round this in my script by checking for \u003Cstrong\u003E\u003Cem\u003Eship:periapsis \u0026gt;= orbAlt\u003C/em\u003E\u003C/strong\u003E, but I would really like to know what is going wrong!\n\u003C/p\u003E\n\u003Cp\u003E\nI assume that I am missing some magic around adding these two delta-V values together, so if anyone knows why this is and how to fix it I would be grateful!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-26T14:29:36Z\u0022 title=\u002204/26/2018 02:29  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 26, 2018\u003C/time\u003E by Benzyme\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-04-26T16:01:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223364293\u0022 data-ipsquote-contentid=\u0022174282\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524752812\u0022 data-ipsquote-userid=\u002257936\u0022 data-ipsquote-username=\u0022Benzyme\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Benzyme said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI assume that I am missing some magic around adding these two delta-V values together\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think the problem is that your normal burn isn\u0027t simply a pure normal burn.\u00A0 For example, in stock KSP:\u00A0 Put yourself in \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E.\u00A0 Drop a maneuver node.\u00A0 Grab the \u003Cspan\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E handle and drag it to give it some magnitude.\u00A0 Now look at your projected \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E, post-node.\u00A0 It\u0027s \u003Cem\u003E\u003Cu\u003Ebigger than the original\u003C/u\u003E\u003C/em\u003E.\u00A0 In other words, doing nothing but dragging on \u003Cspan\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E, with no \u003Cspan\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E component at all, you still \u003Cem\u003E\u003Cu\u003Eraised your \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/u\u003E\u003C/em\u003E.\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003EThat\u0027s because as soon as the \u003Cspan\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E component has any magnitude at all, it\u0027s no longer pure \u003Cspan\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E, because as soon as your inclination has changed a bit, the ship\u0027s path is no longer perpendicular to the original \u003Cspan\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E component, and therefore that original \u003Cspan\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E component actually has a certain amount of \u003Cspan\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E component in the new trajectory.\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003EHere\u0027s how it shows up in the math:\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003EYour ship has some original velocity, \u003Cstrong\u003Ev\u003C/strong\u003E.\u00A0 This is a vector quantity with (x,y,z) components.\u00A0 It has a total magnitude |v|, equal to the Pythagorean sum of its three components.\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003EUsually folks deal with vectors in terms of X, Y, and Z components, e.g. \u003Cstrong\u003Ev\u003C/strong\u003E as the vector sum of v\u003Csub\u003Ex\u003C/sub\u003E, v\u003Csub\u003Ey\u003C/sub\u003E, v\u003Csub\u003Ez\u003C/sub\u003E.\u00A0 But we can use any frame of reference we like, so let\u0027s use the current direction vector as a reference, and instead refer to \u003Cstrong\u003Ev\u003C/strong\u003E as the vector sum of v\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E, v\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:radial:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Radial20px.png\u0022 title=\u0022:radial:\u0022\u003E\u003C/sub\u003E, and v\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E\u003C/sub\u003E .\u00A0 So, the magnitude of your initial velocity can be found as:\u00A0 |v\u003Csub\u003E1\u003C/sub\u003E| = sqrt(\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Csup\u003E2\u003C/sup\u003E \u002B \u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:radial:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Radial20px.png\u0022 title=\u0022:radial:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Csup\u003E2\u003C/sup\u003E \u002B \u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E)\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003EYes, I know that obviously the \u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E component is the only nonzero one here, and |v\u003Csub\u003E1\u003C/sub\u003E| simply equals v\u003C/span\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E\u003C/span\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E.\u00A0 Bear with me here.\u00A0 \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/span\u003E \u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003ENow let\u0027s look at what you\u0027re doing.\u00A0 You\u0027re adding a \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E and a \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E\u003C/sub\u003E\u00A0 into the mix.\u00A0 So, after the burn, your new velocity magnitude uses \u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E(v\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E \u002B d\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E) and (\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E \u002B \u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E) for those two components.\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003ETherefore, the magnitude of your new velocity is:\u00A0 |v\u003Csub\u003E2\u003C/sub\u003E| = sqrt\u003Csub\u003E\u003Cspan style=\u0022font-size:24px;\u0022\u003E(\u003C/span\u003E\u003C/sub\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E(v\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E \u002B d\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E)\u003Csup\u003E2\u003C/sup\u003E\u003C/span\u003E\u003C/span\u003E\u002B \u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:radial:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Radial20px.png\u0022 title=\u0022:radial:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cspan\u003E\u003Cspan\u003E \u002B (\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E \u002B \u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:normal:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/Normal20px.png\u0022 title=\u0022:normal:\u0022\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cspan\u003E)\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u003Cspan style=\u0022font-size:24px;\u0022\u003E)\u003C/span\u003E\u003C/sub\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nIf you crank through the algebra, you\u0027ll find that the actual |v\u003Csub\u003E2\u003C/sub\u003E| is therefore \u003Cem\u003E\u003Cu\u003E\u003Cstrong\u003Ebigger\u003C/strong\u003E\u003C/u\u003E\u003C/em\u003E than simply |v\u003Csub\u003E1\u003C/sub\u003E| \u002B \u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003Ed\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Ev\u003Cspan\u003E\u003Csub\u003E\u003Cimg alt=\u0022:prograde:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/prograde3.png\u0022 title=\u0022:prograde:\u0022\u003E\u003C/sub\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nAnd that\u0027s why your new \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E is higher than you wanted it to be.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-04-26T19:16:03Z","Content":"\n\u003Cp\u003E\nWhat Snark said for why it doesn\u0027t work.\n\u003C/p\u003E\n\u003Cp\u003E\nI had a lot of trouble getting inclination corrections right. My interim solution involved the following:\n\u003C/p\u003E\n\u003Cp\u003E\nLOCAL dv_pro IS -1 * ABS(\u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E * SIN(ang / 2)).\u003Cbr\u003E\nLOCAL dv_norm IS \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E * COS(ang / 2).\n\u003C/p\u003E\n\u003Cp\u003E\nNote that doesn\u0027t work accurately if you\u0027re burning at a point in your orbit where your flight angle is non-zero (as you need a radial component to the burn too). That\u0027s not a problem in this specific case of burning at apoapsis (flight angle is 0 at an apsis or if eccentricity is 0).\n\u003C/p\u003E\n\u003Cp\u003E\nMy current implementation is more complicated - I calculate the desired final velocity vector, then the difference from the initial velocity vector at the node... then convert that difference vector into pro/radial/normal components.\n\u003C/p\u003E\n"}]}