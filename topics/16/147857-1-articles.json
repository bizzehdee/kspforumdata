{"TopicId":147857,"ForumId":16,"TopicTitle":"Rocket design and maths.","CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-16T16:14:00Z","PageNum":1,"Articles":[{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-16T16:14:00Z","Content":"\n\u003Cp\u003E\nFirst, let me just say this is not about cost efficiency or \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E efficiency as such. The topics are:\n\u003C/p\u003E\n\u003Cp\u003E\nHow to design a rocket based on pre-considered performance demands in terms of \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nHow to calculate\u00A0payload mass\u00A0for a given engine or cluster, given the demands for\u00A0\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThis topic is all about the maths that go into calculating this before hitting the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, for no other reason than the fun of it.\n\u003C/p\u003E\n\u003Cp\u003E\nThe main topic though is:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EIf you have any maths that is useful in building, that goes beyond the rocket equation, and that might be new to someone, then please share.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI have just started out looking into this. First I wanted to look at what limitations a given engine has in terms of performance.\u00A0In particular, I wanted to know what the maximum payload for a given engine is, when considering performance requirements. For my example, I have\u00A0a 909 driving an\u00A0upper stage \u002B payload on top.\n\u003C/p\u003E\n\u003Cp\u003E\nThe specifications for the 909 (vaccuum) are:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EThrust max: 60 kN (T)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EI\u003Csub\u003Esp\u003C/sub\u003E: 345s\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMass: 0.5t\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor my upper stage, I decide on:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ERequired \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E: 2000 m/s (\u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ERequired \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E: 1.8 (t)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFrom\u00A0T, one can calculate maximum total mass (wet mass W) for the stage \u002B payload that will give the required \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EW = T / (t * 9.80665) = 3.3990540.\u003C/strong\u003E..\n\u003C/p\u003E\n\u003Cp\u003E\nI will use \u003Cstrong\u003EW = 3.399\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThe rocket equation says\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E = I\u003Csub\u003Esp\u003C/sub\u003E\u00A0* 9.81 ln(W/D)\u00A0\u003C/strong\u003E(equation 1)\n\u003C/p\u003E\n\u003Cp\u003E\nwhere D is the dry mass. Furthermore, we have that\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EW = m\u003Csub\u003Epayload\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Eengine\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Efuel tank\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Efuel\u003C/sub\u003E\u003C/strong\u003E\u003Csub\u003E\u00A0\u003C/sub\u003E(equation 2)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ED =\u00A0m\u003Csub\u003Epayload\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Eengine\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Efuel tank\u003C/sub\u003E\u00A0\u003C/strong\u003E(equation 3)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe rocket equation can then be rewritten\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E =\u00A0I\u003Csub\u003Esp\u003C/sub\u003E\u00A0* 9.81 ln [1 \u002B m\u003Csub\u003Efuel\u00A0\u003C/sub\u003E/ (m\u003Csub\u003Epayload\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Eengine\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Efuel tank\u003C/sub\u003E)] \u003C/strong\u003E(equation 4)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWe set\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er = \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E / (I\u003Csub\u003Esp\u003C/sub\u003E\u00A0* 9.81)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand\u00A0solve the equation\u00A0with respect to the ratio W/D (R):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ER = e^r \u003C/strong\u003E(equation 5)\n\u003C/p\u003E\n\u003Cp\u003E\nSubstituting R with 1 \u002B\u00A0m\u003Csub\u003Efuel\u00A0\u003C/sub\u003E/ (m\u003Csub\u003Epayload\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Eengine\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Efuel tank\u003C/sub\u003E) we can rearrange and solve this equation with respect to m\u003Csub\u003Efuel\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Em\u003Csub\u003Efuel\u003C/sub\u003E\u00A0= (m\u003Csub\u003Epayload\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Eengine\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Efuel tank\u003C/sub\u003E)(e^r - 1)\u00A0\u003C/strong\u003E(equation 6)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn the stock game, the standard tanks have a standard ratio between the mass of a tank and the mass of fuel in a full\u00A0tank. The m\u003Csub\u003Efuel tank\u003C/sub\u003E\u00A0of the 4.5t\u00A0tank is 0.5t, or 1/9 the mass of a full tank. The m\u003Csub\u003Efuel\u003C/sub\u003E\u00A0is 8/9 the mass of a full tank. The mass of the tanks increase/decrease linearly as you go from one size to another. If we call\u00A0the 4.5t tank a 1/1 tank, then each smaller step in size\u00A0is half\u00A0the size of the bigger one so that in stock game, the 1.25m tanks come in these sizes.\n\u003C/p\u003E\n\u003Cp\u003E\n1/1, 1/2, 1/4 and 1/8 with the masses of 0.5t * 1/1, 0.5t * 1/2, 0.5t * 1/4 and 0.5t * 1/8.\n\u003C/p\u003E\n\u003Cp\u003E\nIn my game, I also have access to a 1/16 tank (mod is MRS) and my calculations are based on that. So, this tank has a mass of 0.5 * 1/16 = 0.03125t.\n\u003C/p\u003E\n\u003Cp\u003E\nOne can not have anything other than whole tanks, so the total mass of 1/16 tanks becomes:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Em\u003Csub\u003E\\\u003C/sub\u003E\u003Csub\u003Efuel\u00A0\u003C/sub\u003E\u003Csub\u003Etank\u003C/sub\u003E\u00A0= n * 0.03125t\u00A0\u003C/strong\u003E(equation 7)\n\u003C/p\u003E\n\u003Cp\u003E\nwhere n is a positive integer.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEach tank\u0027s fuel level can be adjusted\u00A0in 10% increments. For the 1/1 tank, the total mass of fuel is 4t. For the 1/16 tank the fuel mass is therefor 0.25t. 10% increments means an increment in mass of 0.025t. This is the \u003Cem\u003Esmallest amount\u003C/em\u003E one can adjust the fuel level, using standard series tanks (Oscar-B and ROUND-8 have a different ratio). This means the total mass of fuel must be an integer k\u00A0times 0.025t.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Em\u003Csub\u003E\\\u003C/sub\u003E\u003Csub\u003Efuel\u00A0\u003C/sub\u003E\u00A0= k * 0.025\u00A0\u003C/strong\u003E(equation 8).\n\u003C/p\u003E\n\u003Cp\u003E\nBack to equation 6, we can now rewrite it as\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Ek = (m\u003Csub\u003Epayload\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Eengine\u003C/sub\u003E\u00A0\u002B m\u003Csub\u003Efuel tank\u003C/sub\u003E)(e^r - 1) /\u00A00.025\u00A0\u003C/strong\u003E(equation 9)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe total wet mass W is the sum of payload mass, fuel mass, engine mass and tank mass (ref equation 2). That gives us that the payload mass\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Em\u003Csub\u003Epayload\u003C/sub\u003E\u00A0= W - m\u003Csub\u003Eengine\u003C/sub\u003E - n * 0.03125 - k * 0.025\u00A0\u003C/strong\u003E(equation 10)\n\u003C/p\u003E\n\u003Cp\u003E\nSubstituting for m\u003Csub\u003Epayload\u003C/sub\u003E\u00A0in equation 9\u00A0and cancelling out adding and subtracting terms, we get\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cb\u003Ek = (W - k * 0.025)(e^r - 1) / 0.025\u00A0\u003C/b\u003E(equation 11)\n\u003C/p\u003E\n\u003Cp\u003E\nSolving equation 11\u00A0with respect to k gives\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Ek = W(e^r - 1) / (0.025 e^r) \u003C/strong\u003E(equation 12)\n\u003C/p\u003E\n\u003Cp\u003E\nk is then\u00A0rounded up to nearest positive integer.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSince a tank can\u00A0hold no more than 100%, for k = 10, this means that for a k from 1\u00A0to 10 requires 1 tank, k from 11 to 20 requires 2 tanks, k from 21 to 30 requires 3 tanks and so on. One can therefor use the value of k to determine n in equation\u00A07 .\n\u003C/p\u003E\n\u003Cp\u003E\nk from 1\u00A0to 10 -\u0026gt; n = 1\n\u003C/p\u003E\n\u003Cp\u003E\nk from 11 to 20 -\u0026gt; n = 2\n\u003C/p\u003E\n\u003Cp\u003E\netc\n\u003C/p\u003E\n\u003Cp\u003E\nWith k and n known, we can then solve equation 10 to find the payload mass that will give us the required \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E and \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nConclusion:\n\u003C/p\u003E\n\u003Cp\u003E\nFor the 909, I found that\n\u003C/p\u003E\n\u003Cp\u003E\nk = 61 from equation 12.\n\u003C/p\u003E\n\u003Cp\u003E\nn = 7 from equation 7.\n\u003C/p\u003E\n\u003Cp\u003E\nW = 3.399\n\u003C/p\u003E\n\u003Cp\u003E\nPayload mass: 1.15525t rounded to 1.155t from equation 10.\n\u003C/p\u003E\n\u003Cp\u003E\nSince n is the number of 1/16 tanks, I then substituted 4 of them with a 1/4 tank and 2 with a 1/8 tank. The remaining 1/16 tank had 10% fuel in it.\n\u003C/p\u003E\n\u003Cp\u003E\nThese calculations were done before building. The result of the build was:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E = 2015 m/s\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E = 1.80.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThese steps can be used when you want to look at the capabilities of a given engine or if you simply want to nerd out and design a rocket taylored for a particular payload. Most of the time though, you know the payload and the challenge is to find the right engine and the right amount of fuel that will give you the required \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E and \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-16T16:25:32Z\u0022 title=\u002209/16/2016 04:25  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 16, 2016\u003C/time\u003E by LN400\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2016-09-16T16:33:00Z","Content":"\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/122722-how-to-mathematically-design-stages/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHooray for spreadsheets!\n\u003C/p\u003E\n\u003Cp\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2016-09-16T16:54:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222759939\u0022 data-ipsquote-contentid=\u0022147857\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474043580\u0022 data-ipsquote-userid=\u0022111526\u0022 data-ipsquote-username=\u0022GoSlash27\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 minutes ago, GoSlash27 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHooray for spreadsheets!\n\u003C/p\u003E\n\u003Cp\u003E\n-Slashy\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m more headed towards Python scripts these days. But hooray for automated calculations.\n\u003C/p\u003E\n\u003Cp\u003E\nMay I also congratulate you on being friendly on the eyes in your post, and using\u00A0\u003Cem\u003Ee\u003Csup\u003Ex\u002B1\u003C/sup\u003E\u00A0\u003C/em\u003Eexponential notation instead of the ugly \u003Cem\u003Ee^(x\u002B1)\u003C/em\u003E clutch? We have superscript, why not use it after all, right?\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2016-09-16T20:31:03Z","Content":"\n\u003Cp\u003E\nHere\u0027s the method I use...\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/136666-a-quick-method-for-designing-liquid-fueled-launchers/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}