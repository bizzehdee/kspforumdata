{"TopicId":42372,"ForumId":16,"TopicTitle":"How to stop Space Station Framerate drop?","CreatedByName":"captainreynolds","CreatedById":78794,"CreatedDateTime":"2013-08-13T20:21:48Z","PageNum":1,"Articles":[{"CreatedByName":"captainreynolds","CreatedById":78794,"CreatedDateTime":"2013-08-13T20:21:48Z","Content":"\n\u003Cp\u003EHey everyone,\u003C/p\u003E\u003Cp\u003EBought the game about 6 months ago, currently running .20\u003C/p\u003E\u003Cp\u003EThis is my space station! The two star shaped objects are attached uav\u0027s that I use to move stuff around.\u003C/p\u003E\u003Cp\u003EI\u0027ve just started to run into some framerate drops (probably half speed) and was curious how I could bring the game back up to speed.\u003C/p\u003E\u003Cp\u003EI have a GTX 670 overclocked with 4GB of video ram, and a 3770K 3.5 GHz i7 intel processor, so I\u0027m a little surprised this small station has so much trouble. Any ideas to improve framerate?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Ax6VLYt.jpg\u0022 alt=\u0022Ax6VLYt.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-15T01:30:43Z\u0022 title=\u002208/15/2013 01:30  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 15, 2013\u003C/time\u003E by captainreynolds\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rockhem","CreatedById":57141,"CreatedDateTime":"2013-08-13T21:11:06Z","Content":"\n\u003Cp\u003EThis is the result of the engine only being able to use 1 core of your processor, so i don\u0027t know any ways around it other than decreasing part count.\u003C/p\u003E\n"},{"CreatedByName":"Jackissimus","CreatedById":73641,"CreatedDateTime":"2013-08-13T21:18:50Z","Content":"\n\u003Cp\u003EYou got two options:\u003C/p\u003E\u003Cp\u003E- decrease part count\u003C/p\u003E\u003Cp\u003E- overclock your CPU\u003C/p\u003E\u003Cp\u003EYeah, get rid of those RCS ports, you don\u0027t need them. The UAVs don\u0027t need that many solar panels either. Also check if the fps drops around the station generally or if it\u0027s only when you are looking at Kerbin.\u003C/p\u003E\n"},{"CreatedByName":"Dkmdlb","CreatedById":70275,"CreatedDateTime":"2013-08-13T21:21:59Z","Content":"\n\u003Cp\u003EHow many parts? I get detectable lag before I get to 200 parts. The choke point is the CPU - it doesn\u0027t matter what RAM or graphics card you have, the lag is mostly the result of the single threaded physics calculations.\u003C/p\u003E\n"},{"CreatedByName":"King Arthur","CreatedById":73849,"CreatedDateTime":"2013-08-13T21:46:45Z","Content":"\n\u003Cp\u003ETry turning off your lights, they look pretty but they also stress the physics engine more than you\u0027d think.\u003C/p\u003E\n"},{"CreatedByName":"sojourner","CreatedById":65674,"CreatedDateTime":"2013-08-13T21:57:10Z","Content":"\n\u003Cp\u003EI have always heard to use an orbit above 150km because it reduces the rendering needed for the planet.\u003C/p\u003E\n"},{"CreatedByName":"mellojoe","CreatedById":69154,"CreatedDateTime":"2013-08-14T14:24:33Z","Content":"\n\u003Cp\u003ELag comes with large part counts. The physics engine isn\u0027t super optimized at this point so every machine has trouble currently. My station is sitting at over 400 parts and it lags like a mother---... you get the idea. Its bad.\u003C/p\u003E\n"},{"CreatedByName":"captainreynolds","CreatedById":78794,"CreatedDateTime":"2013-08-15T01:30:30Z","Content":"\n\u003Cp\u003EThanks for your help everyone! Looks like the pure part count is the problem. Turning off lights, looking away from Kerbin, and moving the station to 175km has no effect on performance.\u003C/p\u003E\u003Cp\u003EAm I the only one that thinks they should be focusing on optimizing the physics engine here rather than adding silly stuff like a crew hiring facility? For me personally at least, the game is all about building really big crazy things, like you would see in minecraft or other places. Don\u0027t see how I can manage doing that if the fps drops with even stuff like this on a fast computer. Little disappointed here, I see no reason to limit my designs because of part counts.\u003C/p\u003E\n"},{"CreatedByName":"PTNLemay","CreatedById":30142,"CreatedDateTime":"2013-08-15T01:52:07Z","Content":"\n\u003Cp\u003EWould reducing the graphics quality or the screen-resolution in the game settings help?\u003C/p\u003E\u003Cp\u003EIt\u0027s funny I have almost the same setup, but I went with a Ivy Bridge i5 instead of the i7. I haven\u0027t yet built big enough to get hard lag, but if I did I\u0027d be willing to sacrifice full 1080p if it would help make the gameplay smoother.\u003C/p\u003E\u003Cp\u003EAlso I think the single-thread problem is a limitation of the Unity engine. The only way Squad could fix it is by switching to an entirely new engine or design their own, which I suspect is a lot harder than it sounds.\u003C/p\u003E\n"},{"CreatedByName":"Johnno","CreatedById":67618,"CreatedDateTime":"2013-08-15T01:53:52Z","Content":"\n\u003Cp\u003EI happen to like silly stuff. Besides, the optimization/engine topic has been discussed over and over, there\u0027s no way around it right now so learn to live with it or take a break until it\u0027s sorted.\u003C/p\u003E\u003Cp\u003EI\u0027m just amazed it took you 6 months to run into part count issues, especially since for you \u0022the game is all about building really big crazy things\u0022. So yeah, either limit your designs to optimize your FPS, or splurge on parts and suffer the consequences.\u003C/p\u003E\n"},{"CreatedByName":"PTNLemay","CreatedById":30142,"CreatedDateTime":"2013-08-15T03:10:37Z","Content":"\n\u003Cp\u003EBy the way, do you actually use all the power those panels produce, or did you just add that many for aesthetic purposes? (And it does look awesome by the way.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-15T03:14:23Z\u0022 title=\u002208/15/2013 03:14  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 15, 2013\u003C/time\u003E by PTNLemay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NGTOne","CreatedById":55972,"CreatedDateTime":"2013-08-15T03:21:30Z","Content":"\n\u003Cp\u003EThe issue isn\u0027t even CPU power past a certain point. I\u0027ve never seen KSP max out on even one of my 8 cores, but the game starts complaining past about 550 parts, and REALLY hates me when I get past 1000. I think it\u0027s more a limitation of the Unity engine itself, as opposed to hardware (past a certain minimum threshold).\u003C/p\u003E\n"},{"CreatedByName":"captainreynolds","CreatedById":78794,"CreatedDateTime":"2013-08-15T04:16:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PTNLemay\u0022 data-cite=\u0022PTNLemay\u0022\u003E\u003Cdiv\u003EBy the way, do you actually use all the power those panels produce, or did you just add that many for aesthetic purposes? (And it does look awesome by the way.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you! I don\u0027t use hardly any power from them, although it would be cool if I could. I\u0027m trying to replicate the ISS! \u003Ca href=\u0022http://apod.nasa.gov/apod/image/0904/iss_sts119_big.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://apod.nasa.gov/apod/image/0904/iss_sts119_big.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd in response to your earlier post, from what I have seen lowering my graphics settings doesn\u0027t change the framerate either. I don\u0027t usually have any trouble with max settings on a normal launch.\u003C/p\u003E\u003Cp\u003EI definitely get why they went with a pre-built system, I guess I just wish it were faster. It\u0027s pretty incredible as it is, I\u0027ve wanted a game like this since I can remember. I\u0027m sure they\u0027ve done all they could with the physics engine given the limitations of Unity.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Johnno\u0022 data-cite=\u0022Johnno\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027m just amazed it took you 6 months to run into part count issues, especially since for you \u0022the game is all about building really big crazy things\u0022. So yeah, either limit your designs to optimize your FPS, or splurge on parts and suffer the consequences.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you for your help! Just got a chance to play the game this past week, so I suppose it did take me 6 months to run into the issue.\u003C/p\u003E\u003Cp\u003EAlso, does anyone know how to find a part count on a ship in orbit like my station?\u003C/p\u003E\n"},{"CreatedByName":"Talonsin","CreatedById":76826,"CreatedDateTime":"2013-08-15T04:37:14Z","Content":"\n\u003Cp\u003EI share your pain mate. I landed a few different modules on the moon to setup a big moonbase and now I have so many parts in a relatively small area that I cant do anything with it because it has turned into a slide show. Sometimes it locks up so bad even hitting the space center key doesn\u0027t work and I have to alt-tab out and kill the game.\u003C/p\u003E\n"},{"CreatedByName":"chrischambers","CreatedById":69113,"CreatedDateTime":"2013-08-15T11:43:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Talonsin\u0022 data-cite=\u0022Talonsin\u0022\u003E\u003Cdiv\u003EI share your pain mate. I landed a few different modules on the moon to setup a big moonbase and now I have so many parts in a relatively small area that I cant do anything with it because it has turned into a slide show. Sometimes it locks up so bad even hitting the space center key doesn\u0027t work and I have to alt-tab out and kill the game.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am in the same boat, I have about 100 parts over many differant smalled craft parts. \u003C/p\u003E\u003Cp\u003EI have also discovered that if you keep on cleaning out all the rubbish, then when you move around it redunces the lag.\u003C/p\u003E\n"},{"CreatedByName":"mellojoe","CreatedById":69154,"CreatedDateTime":"2013-08-15T11:49:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022captainreynolds\u0022 data-cite=\u0022captainreynolds\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, does anyone know how to find a part count on a ship in orbit like my station?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGo out to orbital view. Hit the little \u0022i\u0022 in the right hand side of the screen.\u003C/p\u003E\n"},{"CreatedByName":"squirtgun1234","CreatedById":75567,"CreatedDateTime":"2013-08-15T12:24:51Z","Content":"\n\u003Cp\u003Ethats in .21 only\u003C/p\u003E\n"},{"CreatedByName":"captainreynolds","CreatedById":78794,"CreatedDateTime":"2013-08-15T13:54:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mellojoe\u0022 data-cite=\u0022mellojoe\u0022\u003E\u003Cdiv\u003EGo out to orbital view. Hit the little \u0022i\u0022 in the right hand side of the screen.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerfect, that did the trick in .20 actually.\u003C/p\u003E\u003Cp\u003EMy space station is evidently 338 parts!\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-08-15T14:27:53Z","Content":"\n\u003Cp\u003EIt\u0027s those little parts that really add up in my experience. Things like lights, extra solar panels and RCS thrusters look nice and can be useful, but it\u0027s best to avoid using them. To deal with RCS thrusters you can use a tug to dock things, or you can create some kind of detachable docking system, so that you don\u0027t need to keep all of the RCS parts after everything is docked.\u003C/p\u003E\u003Cp\u003EFor terrain rendering you can just get above 160km and you should avoid any slow down related to that. Or better yet, use the ocean terrain settings tweak to increase performance: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/43253-Default-Terrain-Quality-Without-most-of-The-Lag%21\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/43253-Default-Terrain-Quality-Without-most-of-The-Lag%21\u003C/a\u003E, though that\u0027s really only an issue with relatively weak GPUs. \u003C/p\u003E\u003Cp\u003EAnd if you want to compare your performance to check if something is wrong with your setup in particular go to my CPU performance thread and test my rocket. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/42877-CPU-Performance-Database\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/42877-CPU-Performance-Database\u003C/a\u003E. You can compare your performance to others with a similar CPU to see if you are getting results at least somewhat similar to theirs.\u003C/p\u003E\n"},{"CreatedByName":"DAVIDESCOTT","CreatedById":77876,"CreatedDateTime":"2013-08-15T15:09:42Z","Content":"\n\u003Cp\u003EI don\u0027t understand why the physics engine runs at all for things like space stations, selectively turning it off would seem to be the easy solution.\u003C/p\u003E\u003Cp\u003EFor an object in orbit with no engines firing and no spin, they should just turn off the physics engine entirely, and only turn it on when there is a substantial impact (ie a docking event where the impacting object is moving faster than 0.2m/s or the like.\u003C/p\u003E\n"},{"CreatedByName":"Nachtwind","CreatedById":41015,"CreatedDateTime":"2013-08-15T15:57:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022captainreynolds\u0022 data-cite=\u0022captainreynolds\u0022\u003E\u003Cdiv\u003EAm I the only one that thinks they should be focusing on optimizing the physics engine here rather than adding silly stuff like a crew hiring facility? \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo.\u003C/p\u003E\u003Cp\u003EOptimization normally happens in LATE stages of game development... not in early alpha stages in which we are in. Time spent on optimization would end up being wasted as update .xx breaks it again and squad would have to spend that time again on optimizing.\u003C/p\u003E\u003Cp\u003EAlso there are problems that Squad connot fix - yet. (Once unity implements some things the game should run smoother..) \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022captainreynolds\u0022 data-cite=\u0022captainreynolds\u0022\u003E\u003Cdiv\u003EFor me personally at least, the game is all about building really big crazy things, \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI suppose everyone thinks differently here. I rather focus on designs \u0022as small as possible\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022captainreynolds\u0022 data-cite=\u0022captainreynolds\u0022\u003E\u003Cdiv\u003Elike you would see in minecraft or other places. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESee above comment \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022captainreynolds\u0022 data-cite=\u0022captainreynolds\u0022\u003E\u003Cdiv\u003EDon\u0027t see how I can manage doing that if the fps drops with even stuff like this on a fast computer. Little disappointed here, I see no reason to limit my designs because of part counts.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell.. the thing here is: physics. \u003C/p\u003E\u003Cp\u003ESince all the parts interact you have decreasing computation time with higher part counts - naturally. But if you compare it to minecraft.. Minecraft mostly runs without any physics. If you start \u0022adding\u0022 physics you end up bringing down every fast computer as well. Try it - create a large plane of dirt that starts dropping or water or blow up stuff big time.. you will see what i mean \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhat i could advise you is going into the game settings and reduce the time spent on physics per frame.. that was a big change on my system to decrease it from .10 to .03...\u003C/p\u003E\n"},{"CreatedByName":"Zerro","CreatedById":74790,"CreatedDateTime":"2013-08-15T17:55:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PTNLemay\u0022 data-cite=\u0022PTNLemay\u0022\u003E\u003Cdiv\u003EBy the way, do you actually use all the power those panels produce, or did you just add that many for aesthetic purposes? (And it does look awesome by the way.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy station is at 200km\u003C/p\u003E\u003Cp\u003EI get lag too probably because of part count. I\u0027m going for aesthetics and symmetry with my station than full functionality.\u003C/p\u003E\u003Cp\u003ENow my station probably DOES have many parts that I probably don\u0027t need for aesthetics (ie: RCS engines that were used for rendezvousing and docking) So I was wondering if there\u0027s a way for me to go into creative mode/cheat and just remove those parts so that I can reduce part lag? Or would I have to start over and relaunch the modules with less parts?\u003C/p\u003E\n"},{"CreatedByName":"sojourner","CreatedById":65674,"CreatedDateTime":"2013-08-15T18:15:01Z","Content":"\n\u003Cp\u003ETime for you to build your Station Mark 2. Just pretend you\u0027re Tony Stark. Always building a better suit.\u003C/p\u003E\n"},{"CreatedByName":"PetWolverine","CreatedById":76001,"CreatedDateTime":"2013-08-15T18:56:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022captainreynolds\u0022 data-cite=\u0022captainreynolds\u0022\u003E\u003Cdiv\u003EAm I the only one that thinks they should be focusing on optimizing the physics engine here rather than adding silly stuff like a crew hiring facility?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re not the only one, but it\u0027s a matter of how software development works. As Donald Knuth famously said, premature optimization is the root of all evil. In context, it\u0027s more about optimizing the wrong parts, but it applies equally well to optimizing at the wrong point in the development process, and for the same reason: Once something is optimized, it becomes much harder to change.\u003C/p\u003E\u003Cp\u003EOptimizing the physics, or anything else, at such an early stage in development would lock it in to a large extent, or at least make later changes more difficult (read: longer time between updates). And considering the physics model currently lacks reentry heat and has only a placeholder for drag, there is much that needs to be done before optimizing.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EFor me personally at least, the game is all about building really big crazy things...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo some extent that\u0027s because that\u0027s all there is to do in the game right now. It\u0027s easy to forget that despite KSP\u0027s relative polish, it\u0027s still in alpha. Career mode doesn\u0027t even exist yet; when it does, hiring crew will probably be an important part of running a successful space program. More generally, features that seem like \u0022silly stuff\u0022 now will coalesce into an actual game in the future, whereas right now all we have is a sandbox with the only goals being whatever you decide you want to do.\u003C/p\u003E\u003Cp\u003EBelieve me, I\u0027m frustrated by part count limits as well, but the reality of the situation is it\u0027s going to be that way for a while. If we get to release and 400 parts is still a slideshow, that\u0027s when I\u0027ll be disappointed.\u003C/p\u003E\n"},{"CreatedByName":"captainreynolds","CreatedById":78794,"CreatedDateTime":"2013-08-15T19:35:54Z","Content":"\n\u003Cp\u003EWow, a lot of great responses, and you all make a good point. I guess I keep forgetting this game is in alpha stage (given how much we can all do with it!). Definitely makes sense to hold optimization once huge chunks of the game itself are still being created.\u003C/p\u003E\u003Cp\u003EI\u0027ll lower my physics time per second - I am curious though, what kind of effect will this have?\u003C/p\u003E\u003Cp\u003EAnd you have a good point - I now have two tugboat type things to dock stuff. Looks like it is time for station mk II!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-15T19:38:51Z\u0022 title=\u002208/15/2013 07:38  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 15, 2013\u003C/time\u003E by captainreynolds\u003C/strong\u003E\n\u003C/span\u003E\n"}]}