{"TopicId":158929,"ForumId":16,"TopicTitle":"Impact of PhysicsSignificance on Part-Count vs Frame-Rate","CreatedByName":"StahnAileron","CreatedById":139783,"CreatedDateTime":"2017-04-08T22:50:54Z","PageNum":1,"Articles":[{"CreatedByName":"StahnAileron","CreatedById":139783,"CreatedDateTime":"2017-04-08T22:50:54Z","Content":"\n\u003Cp\u003E\nI\u0027ve been designing space stations as of late. One thing I try to do with them is give them proper self-illumination so I can actually see them at night. (I have plenty of mods and one of them make night-time in space pretty dark...)\n\u003C/p\u003E\n\u003Cp\u003E\nMy first station is over 200 parts and counting (still missing a few nodes.) I think about 20% of the part count is just lights and \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E ports. I just realized the lights and \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E are physics-less. Does that affect the physics processing KSP does since the mass and drag are just added to the parent part? I\u0027d like to think it makes it a little easier, but this is KSP: I can\u0027t assume the best case scenario regarding how it does things.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m asking because\u00A0the surface lights from B9 aren\u0027t physics-less. I like their looks, so I tend to spam them a bit on my designs (spaceplanes especially.) I\u0027m thinking of using them on my next station, a small-medium fuel depot.\u00A0This one is a bit more practical at about 75 parts for better loading and processing. But I realize about 18 parts are already just lights.\n\u003C/p\u003E\n\u003Cp\u003E\nSo does PhysicsSignificance help with physics processing \u0026amp; frame-rates to any degree or is it purely based on part count? (The \u0026gt;200-part station is now chugging along at about half real-time now.) It if leans towards part count, I\u0027ll probably redesign the fuel depot to use Stack Inline Lights for lighting. (And/or saying screw it and launch it as one vessel rather than building it modularly; those docking ports add up...)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEDIT:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223014802\u0022 data-ipsquote-contentid=\u0022158929\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491699849\u0022 data-ipsquote-userid=\u0022154251\u0022 data-ipsquote-username=\u0022bewing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, bewing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[...] Physicsless parts are indeed a little easier to calculate. But they still have colliders -- and that is the worst physics calculation, so the reduction is small.\n\u003C/p\u003E\n\u003Cp\u003E\n[...]\u00A0light sources reflect off things, so you have a lot of raytracing and whatever to deal with for each point source. [...] Your lights are going to add significantly to your GPU load. Not your CPU load.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThen could you clarify the MET color indications? Could a yellow indicator be cause by an overworked GPU? For the record, I\u0027m on an i7-4771 @ 3.5GHz w/ 16GB RAM\u00A0\u0026amp; an AMD HD7990.\n\u003C/p\u003E\n\u003Cp\u003E\nMy game runs slowly (less than\u00A0real-time) but is\u00A0playable\u00A0(not choppy at all) with the \u0026gt;200-part station. I just took at look at the station with the Debug Menu\u0027s Performance graph. Says I\u0027m running at 21FPS, but movement and camera control is quite smooth and even (other than the stutter from GCing every\u00A0few\u00A0minutes.) I\u0027m guessing the 21FPS is more physics frames processed than\u00A0visual frames rendered/displayed? 21 Physics FPS seems to jive with the approximately half real-time rate I was guessing at.\n\u003C/p\u003E\n\u003Cp\u003E\nOh, this was with nearly max graphics settings other than Texture Quality (Half) and ground scatters (Off) and with forced DX11 in this case (trying to save on RAM; had Out of Memory crashes as of late from editing the station). I think my Physics Delta in the settings is 0.04...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEDIT2:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223014849\u0022 data-ipsquote-contentid=\u0022158929\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491704072\u0022 data-ipsquote-userid=\u0022154251\u0022 data-ipsquote-username=\u0022bewing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, bewing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, AFAIK it\u0027s supposed to flip to yellow whenever your frame rate drops below (1 / PhysicsDelta). And your framerate is determined by the worst of either your GPU load or your CPU load (including all the computing power devoted to any other tasks on the machine, of course).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHuh... I just my Physics Delta. I was at 0.05 for 21FPS. I tried it out with extreme settings and got:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n33.2FPS @ 0.03 (consistent and smooth)\n\u003C/li\u003E\n\u003Cli\u003E\n~10FPS @ 0.12 (choppy \u0026amp; stutters between 8-11FPS)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI never did quite understand how Physics Delta worked. I did notice that the frame rates I wound up at equal 1/Physics Delta though. Is that setting\u00A0effectively a \u0022minimum frame rate\u0022 setting or something?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-04-09T02:26:47Z\u0022 title=\u002204/09/2017 02:26  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 9, 2017\u003C/time\u003E by StahnAileron\u003C/strong\u003E\n\u003Cbr\u003EAddressing an answer.\n\u003C/span\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2017-04-08T22:57:01Z","Content":"\n\u003Cp\u003E\nI don\u0027t know about PhysicsSignificance, but in your particular case, I know that lights\u00A0are quite laggy.\n\u003C/p\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2017-04-09T01:04:09Z","Content":"\n\u003Cp\u003E\nAs Gaarst implies -- there are two sources of lag. Physics and graphics. Physics is much less laggy than it used to be (your 200-part station probably wouldn\u0027t run well in version 1.0.5). Physicsless parts are indeed a little easier to calculate. But they still have colliders -- and that is the worst physics calculation, so the reduction is small.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, many people\u0027s machines are graphics-bound, not CPU-bound. And light sources reflect off things, so you have a lot of raytracing and whatever to deal with for each point source. So that\u0027s the main point here. Your lights are going to add significantly to your GPU load. Not your CPU load.\n\u003C/p\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2017-04-09T02:14:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223014715\u0022 data-ipsquote-contentid=\u0022158929\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491691854\u0022 data-ipsquote-userid=\u0022139783\u0022 data-ipsquote-username=\u0022StahnAileron\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, StahnAileron said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nCould a yellow indicator be cause by an overworked GPU?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, AFAIK it\u0027s supposed to flip to yellow whenever your frame rate drops below (1 / PhysicsDelta). And your framerate is determined by the worst of either your GPU load or your CPU load (including all the computing power devoted to any other tasks on the machine, of course).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2017-04-09T05:19:43Z","Content":"\n\u003Cp\u003E\nOne method I have found to reduce part count is to use a welding mod.\u00A0 (I don\u0027t have a link, sorry).\u00A0 Once I established the fact that I could build a station in space, and had made quite a few, I figured I\u0027d cut out the busy work and HyperEdit a station into place.\u00A0 I build the majority of the structure in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, and then using the weld mod, turn it all into one piece.\u00A0 Lights, ports, anything that needs to work, I add after the weld.\u00A0\u00A0 With some designs, that reduces part counts by \u0026gt;50%.\u00A0\u00A0 I still end up launching and attaching modules later, but the lag is nominal then.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI understand if some people would consider this cheating (and I guess it is), or would be opposed to it on purely aesthetical reasons.\u00A0 But when I\u0027ve been there done that, I don\u0027t feel the need to reinvent the wheel every time around. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you do want to build in space, there is the Konstruction mod (I believe that\u0027s what it\u0027s called).\u00A0 It has a bunch of cranes and rover parts, but it\u0027s main use to me is the docking ports.\u00A0 The are nearly identical to the stock parts, but when you have to of them docked, you can have them \u0022weld\u0022 together, and they disappear, fusing the modules together, and reducing your part count by 2 each time.\u00A0\u00A0 Depending on how you build your stations, that can save you 20-30 parts each time.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"fourfa","CreatedById":151713,"CreatedDateTime":"2017-04-09T05:59:34Z","Content":"\n\u003Cp\u003E\nSpamming lights has definitely caused slowdowns for me around space stations due to the raycasting problem. \u00A0Honestly, you need less that you probably think. \u00A0The cabin lights can do a great job of outlining the station outer limits, if you place them right. \u00A0And they don\u0027t cost so much computationally, as they don\u0027t cast light on other objects.\n\u003C/p\u003E\n\u003Cp\u003E\nThe other thing that slows down stations is docking ports. \u00A0Open docking ports are continuously scanning the space in front of them for other ports to initiate docking with. \u00A0On a big station, this might be dozens at a time. \u00A0I\u0027ve found stations to run much smoother when I converted to almost entirely retracting ports. \u00A0I don\u0027t use many parts mods, but there are packs out there with retracting 2.5m ports (I can\u0027t confirm that this would halt their CPU load though). \u00A0I tend to make docking port adapter covers for unused 2.5m ports - one 2.5m port, the thin 1.25-2.5m thin structural adapter, and a 1.25m shielded port on that. \u00A0When I need to open up a 2.5m port, I have a \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tug to move it out of the way. \u00A0While the adapter isn\u0027t connected, it\u0027s adding load, but I find the 2.5m port attachments tend to be semi-permanent\u00A0anyway.\n\u003C/p\u003E\n\u003Cp\u003E\nBoth of these things seem to be far more important than part count, physics significance, etc. \u00A0Welding can definitely still help but be aware that strange things can happen when kraken forces (these days often from autostruts suddenly changing path when the heaviest part changes) flow through welded parts.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-04-09T06:00:35Z\u0022 title=\u002204/09/2017 06:00  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 9, 2017\u003C/time\u003E by fourfa\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Spricigo","CreatedById":166502,"CreatedDateTime":"2017-04-09T09:38:53Z","Content":"\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/96670-122-250-2016-12-28-ubiozur-welding-ltd-continued/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/149233-12-konstruction-weldable-ports-servos-cranes-and-magnets-013/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/64714-gargamel/\u0026amp;do=hovercard\u0022 data-mentionid=\u002264714\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/64714-gargamel/\u0022 rel=\u0022\u0022\u003E@gargamel\u003C/a\u003E those links?\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2017-04-09T19:29:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223015069\u0022 data-ipsquote-contentid=\u0022158929\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491730733\u0022 data-ipsquote-userid=\u0022166502\u0022 data-ipsquote-username=\u0022Spricigo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Spricigo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/96670-122-250-2016-12-28-ubiozur-welding-ltd-continued/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/149233-12-konstruction-weldable-ports-servos-cranes-and-magnets-013/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/64714-gargamel/\u0026amp;do=hovercard\u0022 data-mentionid=\u002264714\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/64714-gargamel/\u0022 rel=\u0022\u0022\u003E@gargamel\u003C/a\u003E those links?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes sir! Muchos gracias!\n\u003C/p\u003E\n"}]}