{"TopicId":37094,"ForumId":16,"TopicTitle":"Why is Mechjeb botching this landing?","CreatedByName":"DangerDave","CreatedById":69244,"CreatedDateTime":"2013-07-14T23:15:55Z","PageNum":1,"Articles":[{"CreatedByName":"DangerDave","CreatedById":69244,"CreatedDateTime":"2013-07-14T23:15:55Z","Content":"\n\u003Cp\u003EI just downloaded Kethane last night, and to test the concepts of it I\u0027m simply trying to mine some of the Kethane that occurs on Kerbal itself. So I built a small drilling lander and put it into orbit, but for some reason whenever I tell Mechjeb to Land At Target (Specifically, the Kethane deposit) he crashes it. Admittedly, he crashes it dead center of the landing zone, totally sticks that part, but once he starts to enter the atmosphere he goes all wonky and tries to land it upside down. He drops the landing gear and does the braking maneuver he\u0027s supposed to right before he lands, but since he has the lander upside down, it just smashes into the ground.\u003C/p\u003E\u003Cp\u003ENow, I know I can land it manually, and I don\u0027t even mind doing so, but I\u0027m worried the problem is a design flaw and I\u0027d like to know where I borked it up. For the record, I\u0027m using the Impossible Innovations parts for this particular lander, mostly so that I could test the Kethane drilling without worrying about fuel and control, and the pure black piece is just a Deuterium tank that doesn\u0027t load the texture for some reason. ::shrug:: I\u0027ve even tried loading four of the S.S.A.S. from the I.I. mod, but it didn\u0027t seem to help and was probably counter productive anyway.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://s28.photobucket.com/user/ROTFLMFA0/media/screenshot10_zps06066ad8.png.html\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i28.photobucket.com/albums/c231/ROTFLMFA0/screenshot10_zps06066ad8.png\u0022 alt=\u0022screenshot10_zps06066ad8.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThanks in advance!\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-07-15T03:28:25Z","Content":"\n\u003Cp\u003EMechJeb is not fail proof, sometimes it doesn\u0027t work. Why?No particular reason, but sometime MechJeb just hate your craft. There\u0027s nothing much you can do.\u003C/p\u003E\u003Cp\u003EI had some success with starting it with land at target so it would get the landing properly aligned and then, deactivating it and just using the land somewhere feature when starting the breaking burn.\u003C/p\u003E\u003Cp\u003EElse, Impossible Innovations is overpowered and MechJeb doesn\u0027t always like that. And the SSAS is just a strong SAS, it does nothing to help you control better just as normal SAS units don\u0027t.\u003C/p\u003E\n"},{"CreatedByName":"Cashen","CreatedById":71281,"CreatedDateTime":"2013-07-15T03:38:40Z","Content":"\n\u003Cp\u003EEven when I used MechJeb for a lot of things, I never quite trusted it to do landings.\u003C/p\u003E\u003Cp\u003EEven when trying to land on a kethane deposit, I still do manual landings. Granted, I haven\u0027t tried to land from orbit on a kethane deposit on a body with an atmosphere yet. But when it\u0027s on an airless body I\u0027d just bring my orbit as low as possible over a deposit, and as soon as the kethane scanner started beeping to indicate a deposit, engines to full power to kill lateral velocity. Most deposits are large enough that you can land on them with this method.\u003C/p\u003E\n"},{"CreatedByName":"Flixxbeatz","CreatedById":29991,"CreatedDateTime":"2013-07-15T03:43:21Z","Content":"\n\u003Cp\u003ENot to discourage you, but try landing it manually.\u003C/p\u003E\n"},{"CreatedByName":"DangerDave","CreatedById":69244,"CreatedDateTime":"2013-07-15T03:43:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stupid_chris\u0022 data-cite=\u0022stupid_chris\u0022\u003E\u003Cdiv\u003EMechJeb is not fail proof, sometimes it doesn\u0027t work. Why?No particular reason, but sometime MechJeb just hate your craft. There\u0027s nothing much you can do.\u003Cp\u003EI had some success with starting it with land at target so it would get the landing properly aligned and then, deactivating it and just using the land somewhere feature when starting the breaking burn.\u003C/p\u003E\u003Cp\u003EElse, Impossible Innovations is overpowered and MechJeb doesn\u0027t always like that. And the SSAS is just a strong SAS, it does nothing to help you control better just as normal SAS units don\u0027t.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWith some experimentation (Mainly, trying to land it manually) I\u0027ve determined that the ship simply won\u0027t keeps its nose up. No amount of input (with or without Mechjeb) will allow me to bring the nose above the horizon and now I\u0027m totally stumped.\u003C/p\u003E\n"},{"CreatedByName":"IllicitMedic","CreatedById":66677,"CreatedDateTime":"2013-07-15T03:55:39Z","Content":"\n\u003Cp\u003EIt might be the cockpit, MechJeb functions based on what \u0022part\u0022 the ship is being controlled from and its orientation relative to the ground...just a thought though idk.\u003C/p\u003E\u003Cp\u003EI know I had that problem with a rocket on launch it kept tipping and pointing down and it was because it was being controlled from a part that faced the ground so it was trying to turn it up...simply selecting my capsule and setting control from here fixed it...so idk...\u003C/p\u003E\u003Cp\u003ETry controlling it from different parts by right clicking and selecting \u0022Control From Here\u0022 its worth a shot anyway.\u003C/p\u003E\n"},{"CreatedByName":"Coneshot","CreatedById":69785,"CreatedDateTime":"2013-07-15T05:43:29Z","Content":"\n\u003Cp\u003EI had the \u0022YAY PINWHEEL TIME!!!\u0022 issue with landings as well, then I got the latest dev version and it stopped.. lands like a dream now:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://jenkins.mumech.com/job/MechJeb2/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://jenkins.mumech.com/job/MechJeb2/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/12384-PART-0-20-Anatid-Robotics-MuMech-MechJeb-Autopilot-v2-0-8\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/12384-PART-0-20-Anatid-Robotics-MuMech-MechJeb-Autopilot-v2-0-8\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2013-07-15T06:47:58Z","Content":"\n\u003Cp\u003ESome causes of MechJeb landing in unanticipated orientations (eg upside down)\u003C/p\u003E\u003Cp\u003EInsufficient engine power.\u003C/p\u003E\u003Cp\u003EControlling from an upside down control pod/cockpit.\u003C/p\u003E\u003Cp\u003EHaving too much drag near the bottom of the vessel and too little drag near the top. IIRC, in game drag = \u0027mass of part\u0027 * \u0027drag of the part\u0027.. I\u0027m guessing this is your problem. \u003C/p\u003E\u003Cp\u003EIt\u0027s easy to test for the drag problem, just add some RCS near the top of the ship, 3 standard ports will do. You don\u0027t need too much RCS fuel as you don\u0027t \u003Cem\u003Eneed \u003C/em\u003Eto enable RCS until the final part of the flight, during the last 10km or so should be enough to at least prove/disprove the drag problem.\u003C/p\u003E\u003Cp\u003EThe last minute of this video is a nice example of what we are trying to achieve...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/3-NctEDVzkQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"DangerDave","CreatedById":69244,"CreatedDateTime":"2013-07-16T05:17:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ecat\u0022 data-cite=\u0022ecat\u0022\u003E\u003Cdiv\u003ESome causes of MechJeb landing in unanticipated orientations (eg upside down)\u003Cp\u003EInsufficient engine power.\u003C/p\u003E\u003Cp\u003EControlling from an upside down control pod/cockpit.\u003C/p\u003E\u003Cp\u003EHaving too much drag near the bottom of the vessel and too little drag near the top. IIRC, in game drag = \u0027mass of part\u0027 * \u0027drag of the part\u0027.. I\u0027m guessing this is your problem. \u003C/p\u003E\u003Cp\u003EIt\u0027s easy to test for the drag problem, just add some RCS near the top of the ship, 3 standard ports will do. You don\u0027t need too much RCS fuel as you don\u0027t \u003Cem\u003Eneed \u003C/em\u003Eto enable RCS until the final part of the flight, during the last 10km or so should be enough to at least prove/disprove the drag problem.\u003C/p\u003E\u003Cp\u003EThe last minute of this video is a nice example of what we are trying to achieve...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI gave that a try and still nothing. It did give the nose quite a bit more control, but still not enough to get above the horizon. I dunno, it\u0027s like the nose of the ship weighs 20 tons. I\u0027m just gonna start from scratch with a different design.\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2013-07-16T12:37:35Z","Content":"\n\u003Cp\u003EMy MJ does everything perfectly until about 10m off the ground, and then it loses it\u0027s mind, starts screaming \u0022I CAN\u0027T DO THAT JEBEDIAH!\u0022 and pinwheels out of control. Even with chutes attached.... lots of them (14). \u003C/p\u003E\u003Cp\u003ERest of the OP is identical to my experience aside from that and the design of my ship.\u003C/p\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2013-07-16T13:01:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DangerDave\u0022 data-cite=\u0022DangerDave\u0022\u003E\u003Cdiv\u003EI gave that a try and still nothing. It did give the nose quite a bit more control, but still not enough to get above the horizon. I dunno, it\u0027s like the nose of the ship weighs 20 tons. I\u0027m just gonna start from scratch with a different design.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo three are not quite enough. Can you post the craft file somewhere? And/or a video of the landing?\u003C/p\u003E\u003Cp\u003EYou can try 4 RCS ports in the usual pattern. You can try 2 sets of 4, one set just above the other. You can try extending the nose of the ship, placing the RCS ports as far from the bottom of the ship as possible. You can also try adding an additional set of RCS ports near the bottom of the ship to provide some counter force - I think this would be the next thing I would try. Just remember, more RCS ports = more RCS fuel use, especially with MechJeb.\u003C/p\u003E\u003Cp\u003EHere I\u0027m using one set of 4 near the bottom and two sets of 4 near the top to give MechJeb control of this 280t monster...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.i2net.me.uk/files/Games/KerbalSP/Ships/B9XSSLU/B9XSSLU-LandDetails.jpg\u0022 alt=\u0022B9XSSLU-LandDetails.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003Efrom: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/33503-Show-off-your-B9-Designs%21?p=508910\u0026amp;viewfull=1#post508910\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/33503-Show-off-your-B9-Designs%21?p=508910\u0026amp;viewfull=1#post508910\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWhile my ship is much heavier it has two advantages over yours. The RCS ports are most effective when placed as far from the centre of mass as possible, think long leavers vs short leavers. My ship has both length and width.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022gargamel\u0022 data-cite=\u0022gargamel\u0022\u003E\u003Cdiv\u003EMy MJ does everything perfectly until about 10m off the ground, and then it loses it\u0027s mind, starts screaming \u0022I CAN\u0027T DO THAT JEBEDIAH!\u0022 and pinwheels out of control. Even with chutes attached.... lots of them (14). \u003Cp\u003ERest of the OP is identical to my experience aside from that and the design of my ship.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you post the craft file or at least a picture?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-16T13:04:11Z\u0022 title=\u002207/16/2013 01:04  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 16, 2013\u003C/time\u003E by ecat\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DerekL1963","CreatedById":57091,"CreatedDateTime":"2013-07-16T15:12:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ecat\u0022 data-cite=\u0022ecat\u0022\u003E\u003Cdiv\u003EJust remember, more RCS ports = more RCS fuel use, especially with MechJeb.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA trick is to use the \u0027R\u0027 key - enabling RCS briefly when needed and disabling it when not.\u003C/p\u003E\n"},{"CreatedByName":"magnemoe","CreatedById":57801,"CreatedDateTime":"2013-07-16T15:19:31Z","Content":"\n\u003Cp\u003EI had much of this issue then trying to land on Pol, used the same landers who worked well on Minmus, on Pol everything went well until final approach. It then started rotating the craft with engines burning. \u003C/p\u003E\u003Cp\u003EWas both normal rocket designs and pancake landers, suspected to high twr, but landed an huge kethane lander on nuclear engine only with the same issue. \u003C/p\u003E\u003Cp\u003EIts not an huge issue main reason to use mechjeb landing is to get close to the target and it don\u0027t happens for me on higher gravity worlds.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-07-16T16:42:10Z","Content":"\n\u003Cp\u003EOne issue with your craft is that you\u0027re using an aircraft cockpit. Those have lower drag coefficients than most other parts in KSP, so under the stock aerodynamic model, your center of mass is ahead of your center of drag. This is great if you want the nose pointed forward, bad for landing when you want the nose pointed backwards. Try the same basic craft with a 0.2-drag capsule and see if that makes a difference.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-07-16T17:33:47Z","Content":"\n\u003Cp\u003EDon\u0027t see anyone talking about balance. And that drill on the side is throwing your balance off in the worst way at the wrong time.\u003C/p\u003E\u003Cp\u003ESince you\u0027re using parachutes, cut MJ off and apply just enough thrust manually (or limit MJ\u0027s use of thrust to maybe 10%-25%?)\u003C/p\u003E\u003Cp\u003EJUST enough to keep your descent speed to the maximum your landing gear can take. Check its impact rating in the VAB. That number is the fastest you can be on descent when it lands. \u003C/p\u003E\u003Cp\u003EAnother tip that might let MJ finish the job in the final stages is to set its landing speed higher. Default is 0.5m/s. Increase that to no higher than the aforementioned impact rating for your gear. Maybe a bit less for safety margin. (but remember that Kerbals don\u0027t like safety margins)\u003C/p\u003E\u003Cp\u003EOne final MJ related tip, if it\u0027s having trouble with the landing, it might be trying to course correct at the last second, assuming that you\u0027re trying to \u0027land at target\u0027. So one thing I find myself doing (A LOT) is on final descent just before the expected suicide burn, is that I abort the auto landing and click \u0027land somewhere\u0027 or is it called \u0027land anywhere\u0027? I forget. That lets MJ just concentrate on getting down safely. Basically you\u0027re saying this location is good enough, just LAND ME ALREADY.\u003C/p\u003E\n"},{"CreatedByName":"Technical Ben","CreatedById":10512,"CreatedDateTime":"2013-07-16T17:35:33Z","Content":"\n\u003Cp\u003ECheck your COB... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-07-16T18:10:00Z","Content":"\n\u003Cp\u003EIs it possible that MechJeb (i am using 2.0.8) has some problems with vectoring engines? I was trying mechjeb\u0027s autoland on my landers and it always crashed. Only one with aerospikes worked fine. Anyways, so i tried another lander that uses radial mounted Mark55\u0027s. It lands fine if in case I lock those engines gimbal. Only in that case...\u003C/p\u003E\n"},{"CreatedByName":"Kosmo-not","CreatedById":14082,"CreatedDateTime":"2013-07-16T18:16:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tavert\u0022 data-cite=\u0022tavert\u0022\u003E\u003Cdiv\u003EOne issue with your craft is that you\u0027re using an aircraft cockpit. Those have lower drag coefficients than most other parts in KSP, so under the stock aerodynamic model, your center of mass is ahead of your center of drag. This is great if you want the nose pointed forward, bad for landing when you want the nose pointed backwards. Try the same basic craft with a 0.2-drag capsule and see if that makes a difference.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E^^^ This is the real issue.\u003C/p\u003E\n"},{"CreatedByName":"ZothTek","CreatedById":70061,"CreatedDateTime":"2013-07-16T18:31:28Z","Content":"\n\u003Cp\u003EI would do land at target its best if you use Translatron and ounce you get close enough to the ground just hover over by setting your speed to 0 then change it back to -1 to land. Also i\u0027ve tried land at target on Kerbin,Moho,Mun, and Minmus it just causes your ship to slam into the ground unless you get your Attitude correct which i do not understand how to do.\u003C/p\u003E\n"},{"CreatedByName":"DangerDave","CreatedById":69244,"CreatedDateTime":"2013-07-16T21:31:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kosmo-not\u0022 data-cite=\u0022Kosmo-not\u0022\u003E\u003Cdiv\u003E^^^ This is the real issue.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI thought that might be the problem at first so I changed it several times to use different pods (Both Lander cans and Command Pods), it didn\u0027t seem to make any difference so I went back to the cockpit just cuz I liked how it looked. I\u0027ll try several of these suggestions out tonight and let you know.\u003C/p\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2013-07-16T21:47:36Z","Content":"\n\u003Cp\u003EI\u0027ve just read this again\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DangerDave\u0022 data-cite=\u0022DangerDave\u0022\u003E\u003Cdiv\u003EI gave that a try and still nothing. It did give the nose quite a bit more control, \u003Cstrong\u003Ebut still not enough to get above the horizon\u003C/strong\u003E. I dunno, it\u0027s like the nose of the ship weighs 20 tons. I\u0027m just gonna start from scratch with a different design.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eget above the horizon?\u003C/p\u003E\u003Cp\u003EHow and when did the pointy end of your ship get below the horizon? Ouch! \u003C/p\u003E\u003Cp\u003EOnce you allow the pointy end to point down you\u0027re in trouble.\u003C/p\u003E\n"},{"CreatedByName":"DangerDave","CreatedById":69244,"CreatedDateTime":"2013-07-16T22:01:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ecat\u0022 data-cite=\u0022ecat\u0022\u003E\u003Cdiv\u003EI\u0027ve just read this again\u003Cp\u003Eget above the horizon?\u003C/p\u003E\u003Cp\u003EHow and when did the pointy end of your ship get below the horizon? Ouch! \u003C/p\u003E\u003Cp\u003EOnce you allow the pointy end to point down you\u0027re in trouble.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s just it. everything goes smoothly until after reentry and then the nose inexorably begins to swing below the horizon and I can\u0027t get it to come back up. =P\u003C/p\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2013-07-16T22:11:28Z","Content":"\n\u003Cp\u003EAnd you use RCS before or after this happens?\u003C/p\u003E\u003Cp\u003EHint:\u003C/p\u003E\u003Cp\u003EThe correct answer is \u003Cem\u003Ebefore\u003C/em\u003E.\u003C/p\u003E\n"}]}