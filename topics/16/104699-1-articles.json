{"TopicId":104699,"ForumId":16,"TopicTitle":"How can I calculate the optimal dV values/ratio for a 2-stage rocket, when accounting for lift?","CreatedByName":"boosters\u002B\u002B","CreatedById":127895,"CreatedDateTime":"2015-04-22T20:23:08Z","PageNum":1,"Articles":[{"CreatedByName":"boosters\u002B\u002B","CreatedById":127895,"CreatedDateTime":"2015-04-22T20:23:08Z","Content":"Hi all,\n\nI want to build an *efficient* 2-stage orbital rocket. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nGiven that:\n\nI have a first stage engine better for use in atmosphere, and a second stage engine better for use in vaccuum.\n\nI have a fine amount of control (through say, Procedural Tanks mod) over the amount of fuel each stage of the rocket will have (and the dV calculations per stage for atmo/vac through MJ and KER)\n\nI will be using MechJeb, so the flight path will consist of two burns: A: ascent to desired apopapsis; and B: circularization burn.\n\nI have taken math through calculus II/integral calculus. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nI have the following questions:\n\n1. How can I figure out the delta-V needed by the first stage to *just reach* the desired apopapsis? \n\n2. How do I calculate the dV \u0022savings\u0022 (compared to an ascent in vacuum) due to lift if I am using FAR (or, presumably, the 1.0 aero model)?\n\n3. What are the optimal turn shape, final flight path angle, and altitude at which to begin a (mechjeb-approximated) gravity turn?\n\n4. Assuming my second stage is now headed to my desired apoapsis (in vacuum), how do I figure out the dV I need for solely the second circularization burn? \n\nThanks in advance! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n**Edited \u003Ctime datetime=\u00222015-04-22T20:35:42Z\u0022 title=\u002204/22/2015 08:35  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 22, 2015\u003C/time\u003E by boosters\u002B\u002B**"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-04-22T21:06:04Z","Content":"1. That would be difficult. Your equation changes every single second, as the atmosphere get\u0027s less dense, and your engines gain/lose ISP.\n\n2. I\u0027m not sure what you mean by \u0022savings\u0022, but I can give you loses. \n\nEnd velocity loses = Gravity loses per second \u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A2 (Seconds spent ascending(1/(G\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A2target body\u0027s gravitational acceleration^2^))) \u002B 2 \u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A2 1/Aerodynamic loses per meter^2^ \u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A2 Number of meters traveled\n\nFeel free to correct me if I\u0027m wrong in that.\n\n3. This is heavily dependent on your TWR. In layman\u0027s terms; higher means turn more, and earlier.\n\n4. Your current speed subtracted from the circular orbital speed of the planet. Without knowing the circular orbital speed, it is a whole lot of math. I\u0027m not exactly sure of the formula, but trust me. The former is much easier."},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2015-04-22T23:09:13Z","Content":"I don\u0027t think there is an easy way to calculate the things you are asking for because it gets very complicated when there is an atmosphere. I attempted to determine the ideal 2-stage design by performing a series of launch simulations. With a simulation I could break the launch down into many small time steps so I could frequently update all the changing variables. I reported the results of my findings [in this thread](https://forum.kerbalspaceprogram.com/threads/99967-The-ideal-launch-vehicle). Those simulations were based on pre-1.0 stock aerodynamics. I just recently switched to FAR and started to modify my simulations to see if I could find a FAR-optimized design, however I\u0027ve put a hold on that. Now that version 1.0 is only days away, I\u0027m planning to ditch FAR and try out Squad\u0027s new aero model.\n\n**Edited \u003Ctime datetime=\u00222015-04-23T00:05:48Z\u0022 title=\u002204/23/2015 12:05  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by OhioBob**"},{"CreatedByName":"Admac","CreatedById":126280,"CreatedDateTime":"2015-04-22T23:32:41Z","Content":"As far as Delta V specifics, the answer is going to be more vague than you like, since there are a huge number of variables;\n\n-Your TWR Profile\n\n-Your aerodynamic profile (Needle vs pancake as it were)\n\n-Efficiency of your ascent path (A function of the first two modified by your piloting skill)\n\nBarring somehow getting higher resolution aerodynamic information this is super close to unsolvable at a resolution better than about a 100ish meters of DV.\n\nThe ancient rule of Kerbal ascent is \u0022For a 75km LKO Orbit use 4500 DV in Stock, 3500 DV in FAR\u0022 with the condition you need a pretty aerodynamic launcher for FAR to not do hilarious things.\n\nI often like to get my stage 1 to get me over 12km altitude because that\u0027s the Max Q point for most ascents, which is usually a hair under 1600 M/s^2 DV, but that\u0027s as much a personal preference thing. SSTO launchers are viable and 5\u002B stages to orbit are a pain but marginally more efficient (As far as mass fraction goes, probably not for price) Kerbal has a pleasingly forgiving low orbital speed, so double digit precision is rarely required. \n\nAerodynamic lift in rockets is a small enough of an effect to be ignored in FAR unless you are strapping wings to your rocket, which is terrifyingly inefficient, and should be avoided.\n\nOne thing you said that makes me nervous is you mentions stage 1 for altitude then stage 2 for circularization. In a real aerodynamic model, your gravity turn starts pretty early (First 20 seconds) and depending on your launch profile it could be anything from a 200-1200 M/s Circ burn. (High TWR means you will have a bigger circ burn) \n\nSpeaking of Max Q and TWR, a rule of thumb I use to develop my launch profiles is to start my turn once my speed is 100m/s, Keep my angle to 75 degrees until I hit Max Q, then aggressively turn to about 15 degrees and hold that heading until my apoapsis tops 80ish Km, then coast to circ burn."},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2015-04-24T02:30:18Z","Content":"Lots and lots of differential equations. ;-)"}]}