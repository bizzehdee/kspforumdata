{"TopicId":20648,"ForumId":16,"TopicTitle":"Improve performance?","CreatedByName":"mrmatrixdlg","CreatedById":31162,"CreatedDateTime":"2012-09-28T02:47:42Z","PageNum":1,"Articles":[{"CreatedByName":"mrmatrixdlg","CreatedById":31162,"CreatedDateTime":"2012-09-28T02:47:42Z","Content":"\n\u003Cp\u003EHello, Just asking if there was any way to improve the performance of KSP. I ask this because I noticed a dramatic drop in frames when i was in orbit (around 100,000) when I looked at Kerbin. Looking into the distance also causes lag.\u003C/p\u003E\u003Cp\u003EHere is my specs for you people who may find it useful for a solution!\u003C/p\u003E\u003Cp\u003EGraphics card:\u003C/p\u003E\u003Cp\u003EATI 5450\u003C/p\u003E\u003Cp\u003EDDR3\u003C/p\u003E\u003Cp\u003E512mb memory\u003C/p\u003E\u003Cp\u003EComputer:\u003C/p\u003E\u003Cp\u003EQuad core i5\u003C/p\u003E\u003Cp\u003E4 gigs ram\u003C/p\u003E\u003Cp\u003E750gb HDD\u003C/p\u003E\u003Cp\u003EWindows 7 home premium\u003C/p\u003E\u003Cp\u003EKSP\u003C/p\u003E\u003Cp\u003EResolution: 1024 x 768\u003C/p\u003E\u003Cp\u003ETerrain Detail: low\u003C/p\u003E\u003Cp\u003ETexture quality: half res\u003C/p\u003E\u003Cp\u003EV Sync: Don\u0027t Sync\u003C/p\u003E\u003Cp\u003EFrame Limit: 120 fps\u003C/p\u003E\u003Cp\u003EPixel light count: 6\u003C/p\u003E\u003Cp\u003EShadow cascades: 1\u003C/p\u003E\n"},{"CreatedByName":"Chainer","CreatedById":52139,"CreatedDateTime":"2012-09-28T03:04:34Z","Content":"\n\u003Cp\u003EI\u0027d say a RAM increase would help, double up to 8 GB and you should see a noticeable improvement, it\u0027s also the easiest change to make.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2012-09-28T04:15:17Z","Content":"\n\u003Cp\u003EOdd. Your computer \u003Cstrong\u003Eshould\u003C/strong\u003E be able to handle KSP quite well. As a caveat though, KSP is still in it\u0027s really early builds, so I doubt much has been done in the way of optimization.\u003C/p\u003E\u003Cp\u003EThat said, looking at a planet will put a fairly intense strain on your graphics card if you\u0027re in time-warp, as it significantly increases the rate at which the engine loads higher-quality textures and maps for the area of the body you\u0027re orbiting, directly below your ship. (And it\u0027ll cause momentary lag regardless.) What, exactly, do you mean by \u0022looking into the distance\u0022?\u003C/p\u003E\u003Cp\u003EIf you have Catalyst Control Center installed, make sure that the settings there aren\u0027t overriding KSP, notably, you might want to turn-down or turn-off AA, and disable V-sync if it\u0027s enabled there. (Conflicting settings are never a good thing, and AA is a serious framerate killer.)\u003C/p\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2012-09-28T11:34:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Chainer\u0022 data-cite=\u0022Chainer\u0022\u003E\u003Cdiv\u003EI\u0027d say a RAM increase would help, double up to 8 GB and you should see a noticeable improvement\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you\u0027re running a 64bit OS, otherwise there\u0027s no point.\u003C/p\u003E\n"},{"CreatedByName":"Seanoog","CreatedById":8599,"CreatedDateTime":"2012-09-28T11:56:24Z","Content":"\n\u003Cp\u003EIs that a laptop specification?\u003C/p\u003E\u003Cp\u003EYou\u0027ll find upgrading laptops expensive, an with certain parts impossible.\u003C/p\u003E\u003Cp\u003ENow your playing it at low setting \u002B low resolution. So it shouldn\u0027t be that taxing.\u003C/p\u003E\u003Cp\u003EIf its a desktop, consider doing the following:\u003C/p\u003E\u003Cp\u003E1. Upgrading cpu heatsink \u002B overclocking.\u003C/p\u003E\u003Cp\u003E2. More Ram, to 8GB if 64Bit OS.\u003C/p\u003E\u003Cp\u003E3. New graphics card.\u003C/p\u003E\u003Cp\u003EKSP is Alpha Stage, so still in active development, an poorly optimised.\u003C/p\u003E\u003Cp\u003ESo running it at max setting is impossible without a powerful computer.\u003C/p\u003E\u003Cp\u003EBut the orbiting visuals are beautiful, if your computer can handle them.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2012-09-28T12:01:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Chainer\u0022 data-cite=\u0022Chainer\u0022\u003E\u003Cdiv\u003EI\u0027d say a RAM increase would help, double up to 8 GB and you should see a noticeable improvement, it\u0027s also the easiest change to make.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d think that very unlikely. KSP is a 32-bit program so it\u0027ll be limited to 2GB usage on 32-bit OSs and 4GB usage on 64-bit ones and a quick check loading up my most part-intensive ship shows it using 1.8GB.\u003C/p\u003E\u003Cp\u003EAdditionally he said this happens when looking at a particular object and goes away as soon as he looks away, it seems unlikely the game is deleting kerbin from memory the second it goes out of sight.\u003C/p\u003E\u003Cp\u003E@mrmatrixdlg: It\u0027s worth turning the settings up as a test, some of the more recent technologies may be faster and if performance doesn\u0027t change much then we can probably rule out your graphics card.\u003C/p\u003E\n"},{"CreatedByName":"Jesrad","CreatedById":49762,"CreatedDateTime":"2012-09-28T12:11:14Z","Content":"\n\u003Cp\u003EIn my experience, KSP\u0027s rendering and physics calculating run in the same execution thread, so that will never use more than one CPU core at a time. I only see it get at most to 120% of a CPU on my 2.4 GHz i5. So bulk CPU speed is probably the main bottleneck - current GPUs typically have no problem of throughput and bulk performance.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2012-09-28T14:34:08Z","Content":"\n\u003Cp\u003EWell, you can try this:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/20983-Kellven-Fixes-your-FPS-Round-2-Kerbin-Lag-Fix\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/forum/showthread.php/20983-Kellven-Fixes-your-FPS-Round-2-Kerbin-Lag-Fix\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EScroll down to my post a little ways down for a working fix. Kellven\u0027s original one was tied to 0.16 and he hadn\u0027t properly updated it for 0.17.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2012-09-28T14:48:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Jesrad\u0022 data-cite=\u0022Jesrad\u0022\u003E\u003Cdiv\u003ESo bulk CPU speed is probably the main bottleneck\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOn an i5? I don\u0027t get the behavior described on a slower Q6600. I would think it\u0027s either the graphics card (which is very weak) or some sort of software/configuration problem.\u003C/p\u003E\u003Cp\u003EI suppose it might be the hard drive, does the performance get any better if you keep looking at kerbin? \u003C/p\u003E\u003Cp\u003EDoes this happen with all rockets or only the larger ones?\u003C/p\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2012-09-28T15:16:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rkman\u0022 data-cite=\u0022rkman\u0022\u003E\u003Cdiv\u003EIf you\u0027re running a 64bit OS, otherwise there\u0027s no point.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWrong. If you have PAE, you\u0027re still limited to 4gb per process, but that 4gb doesn\u0027t need to be shared with Windows and everything else that\u0027s running.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-09-28T15:16:52Z\u0022 title=\u002209/28/2012 03:16  PM\u0022 data-short=\u002211 yr\u0022\u003ESeptember 28, 2012\u003C/time\u003E by draeath\u003C/strong\u003E\n\u003Cbr\u003Eadding quote\n\u003C/span\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2012-09-28T23:56:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EndlessWaves\u0022 data-cite=\u0022EndlessWaves\u0022\u003E\u003Cdiv\u003EKSP is a 32-bit program so it\u0027ll be limited to 2GB usage on 32-bit OSs and 4GB usage on 64-bit ones and a quick check loading up my most part-intensive ship shows it using 1.8GB.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EErm, quick note about that, all of the part information gets loaded (that is, addressed to memory) when the game starts. So, in terms of parts at least, KSP is using the most memory it will when you get to the main menu. Loading a ship in the VAB shouldn\u0027t change this (aside from the relatively tiny .craft file that would need to be loaded). If the engine were reading every part from the hard drive into memory only on an as-needed basis, it would take a \u003Cstrong\u003Elot\u003C/strong\u003E longer to load a single ship in the VAB.\u003C/p\u003E\u003Cp\u003EAny increase in usage beyond that point is likely caused by other stuff, as required. Plugins might use a bit extra when their classes are loaded, but this should be negligible. Even things like ISA Map Sat, which generate huge amounts of raw data, are designed to trash most of it quickly (in ISA MapSat\u0027s case, by either rendering the data points to a PNG and/or recording them in a semi-colon-separated file). Even if it didn\u0027t/doesn\u0027t though, the increase would be negligible, on the order of a few dozen MBs per hour, maybe running the sim at 50x speed.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-09-29T00:03:30Z\u0022 title=\u002209/29/2012 12:03  AM\u0022 data-short=\u002211 yr\u0022\u003ESeptember 29, 2012\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"mrmatrixdlg","CreatedById":31162,"CreatedDateTime":"2012-09-29T01:51:21Z","Content":"\n\u003Cp\u003EI\u0027d like to say thanks to all of you who replied, your responses have been very insightful.\u003C/p\u003E\u003Cp\u003EThanks, and have nice weekend!\u003C/p\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2012-09-30T10:13:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022draeath\u0022 data-cite=\u0022draeath\u0022\u003E\u003Cdiv\u003EWrong. If you have PAE, you\u0027re still limited to 4gb per process, but that 4gb doesn\u0027t need to be shared with Windows and everything else that\u0027s running.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich 32bit MS OS\u0027s intended for home use do not have.\u003C/p\u003E\u003Cp\u003ESo for most people, 32bit OS means they are limited to 4GB.\u003C/p\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2012-09-30T20:42:12Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://msdn.microsoft.com/en-us/library/windows/hardware/gg487503.aspx\u0022 rel=\u0022external nofollow\u0022\u003EOh really?\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Microsoft\u0022 data-cite=\u0022Microsoft\u0022\u003E\u003Cdiv\u003EMicrosoft supports Physical Address Extension (PAE) memory in Microsoft Windows 2000, \u003Cstrong\u003EWindows XP\u003C/strong\u003E, and Windows Server 2003.\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EThe PAE kernel is not enabled by default for systems that can support more than 4 GB of RAM.\u003C/p\u003E\u003Cp\u003ETo boot the system and utilize PAE memory, the /PAE switch must be added to the corresponding entry in the Boot.ini file. If a problem should arise, Safe Mode may be used, which causes the system to boot using the normal kernel (support for only 4 GB of RAM) even if the /PAE switch is part of the Boot.ini file.\u003C/p\u003E\u003Cp\u003EThe PAE mode kernel requires an Intel Architecture processor, Pentium Pro or later, more than 4 GB of RAM, and Windows 2000, Windows XP, or Windows Server 2003.\u003C/p\u003E\u003Cp\u003EThe PAE kernel can be enabled automatically without the /PAE switch present in the boot entry if the system has DEP enabled (/NOEXECUTE switch is present) or the system processor supports hardware-enforced DEP. Presence of the /NOEXECUTE switch on a system with a processor that supports hardware-enforced DEP implies the /PAE switch. If the system processor is capable of hardware-enforced DEP and the /NOEXECUTE switch is not present in the boot entry, Windows assumes /NOEXECUTE=optin by default and enables PAE mode.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENote that Vista, 7 etc all have 64-bit versions, hence their dropping of PAE support. XP technically did, but it shouldn\u0027t be considered the same OS. So, if you have Vista or 7 and more than 4 gb of RAM and your CPU supports it, you bought the wrong version of Windows. Boo hoo - that was your mistake.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2012-10-01T02:40:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022draeath\u0022 data-cite=\u0022draeath\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022http://msdn.microsoft.com/en-us/library/windows/hardware/gg487503.aspx\u0022\u003ESo, if you have Vista or 7 and more than 4 gb of RAM and your CPU supports it, you bought the wrong version of Windows. Boo hoo - that was your mistake.\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://msdn.microsoft.com/en-us/library/windows/hardware/gg487503.aspx\u0022\u003EWhat in the world are you talking about? If you have Vista/7 and 4GB\u002B of RAM, it\u0027ll work. You\u0027ve got the right version. They both come in 32-bit and 64-bit versions, crammed on the same disk.\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2012-10-01T12:01:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022draeath\u0022 data-cite=\u0022draeath\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022http://msdn.microsoft.com/en-us/library/windows/hardware/gg487503.aspx\u0022 rel=\u0022external nofollow\u0022\u003EOh really?\u003C/a\u003E\u003Cp\u003EOriginally Posted by Microsoft\u003C/p\u003E\u003Cp\u003EMicrosoft supports Physical Address Extension (PAE) memory in Microsoft Windows 2000, Windows XP, and Windows Server 2003.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cem\u003EOperating system Maximum memory support with PAE\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EWindows XP (all versions) 4 GB of physical RAM*\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://msdn.microsoft.com/en-us/library/windows/hardware/gg487503.aspx\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://msdn.microsoft.com/en-us/library/windows/hardware/gg487503.aspx\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe point was not have people go buy additional RAM if they already have 4GB and are running a 32bit non-server MS OS. That point stands.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2012-10-01T12:54:34Z","Content":"\n\u003Cp\u003EAnd again, the point stands that it\u0027s only in XP, 2000, and 2003, that you get PAE. Vista and 7 aren\u0027t listed in your link. (There\u0027s still no point to getting more RAM to run KSP if you have at least 4GB and only run KSP. So...I don\u0027t see why this debate is relevant. Intriguing, but tangential to the thread.)\u003C/p\u003E\n"},{"CreatedByName":"boony","CreatedById":97469,"CreatedDateTime":"2013-12-20T18:30:16Z","Content":"\n\u003Cp\u003EWow! Thank you very much! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E Finally i could go back to high settings with better performance than without this workarround on low settings.\u003C/p\u003E\n"}]}