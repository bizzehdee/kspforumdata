{"TopicId":191129,"ForumId":16,"TopicTitle":"Launching to an inclined orbit","CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2020-01-22T14:51:28Z","PageNum":1,"Articles":[{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2020-01-22T14:51:28Z","Content":"\n\u003Cp\u003E\nIf I want to launch to an inclined orbit, how do I calculate the launch angle?\n\u003C/p\u003E\n\u003Cp\u003E\nSay I want to get to a 45 degree orbit, orbital velocity is 2270m/s, so that would be \u003Cem\u003E2270xSin(45)=1612m/s\u003C/em\u003E North and \u003Cem\u003E2270xCos(45)=1612m/s\u003C/em\u003E east.\u00A0 As I\u0027m already doing 175m/s East on the launch pad, is it just a case of subtracting that\u00A0from the easterly component and launching at \u003Cem\u003EaTan(1612/1437)=48.2 degrees,\u003C/em\u003E or it more complex than that?\n\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t quite get my head around how launching to higher altitude, and therefor a lower orbital velocity, would impact it, or how I time the launch to end the burn as I enter the plane (I think that\u0027s 175 x Time to Orbit rather than being related to other speeds isn\u0027t it?).\u00A0 The real world doesn\u0027t help either as nobody launches from the equator, making it even more complicated to work out, but I believe a launch from Cape Canaveral .\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently I just launch at the angle of the plane I want and do a small correction burn in orbit, and that correction burn is pretty small when I\u0027m actually heading for a 6 degree Minmus\u00A0intercept, but I\u0027d like to know how to work it out properly.\n\u003C/p\u003E\n"},{"CreatedByName":"VoidSquid","CreatedById":196199,"CreatedDateTime":"2020-01-22T16:14:03Z","Content":"\n\u003Cp\u003E\nUnless you know exactly your ascend trajectory plus and more important the exact time until you reach the desired orbit, I don\u0027t think it\u0027s possible to make any serious calculations.\n\u003C/p\u003E\n\u003Cp\u003E\nYou maybe want to talk with the developers of MechJeb as \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E does provide the option to make a timed launch into a specific target plane, naturally they\u00A0know how they do the calculations.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-01-22T16:18:11Z\u0022 title=\u002201/22/2020 04:18  PM\u0022 data-short=\u00224 yr\u0022\u003EJanuary 22, 2020\u003C/time\u003E by VoidSquid\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2020-01-22T17:11:32Z","Content":"\n\u003Cp\u003E\nSorry I should have said I\u0027m using kOS so I can launch at very precise angles and times, and can make a pretty good estimate on how long it takes a vessel to get to orbit (by doing a test launch of the same vehicle).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve since found this, which suggests my angle is about right, but I still can\u0027t get my head around the launch altitude bit\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.orbiterwiki.org/wiki/Launch_Azimuth\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.orbiterwiki.org/wiki/Launch_Azimuth\u003C/a\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Zhetaan","CreatedById":125721,"CreatedDateTime":"2020-01-22T17:45:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223731083\u0022 data-ipsquote-contentid=\u0022191129\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221579704688\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf I want to launch to an inclined orbit, how do I calculate the launch angle?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re looking for the launch azimuth equation.\u00A0 The Orbiter wiki is a good place to find that information, so I won\u0027t quote the page here.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223731130\u0022 data-ipsquote-contentid=\u0022191129\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221579713092\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve since found this, which suggests my angle is about right, but I still can\u0027t get my head around the launch altitude bit\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think you mean launch latitude, since there is no mention of launch altitude on that page.\u00A0 The basic idea is that launching from any latitude other than zero imposes a minimum inclination in your orbit equal to the latitude.\u00A0 This is because all orbital planes must pass through the centre of mass of the primary (Kerbin in this case), so if we assume that the centre of mass is also the centre of the planet (which is usually the case), then the orbital plane, in order to pass through the centre of mass, must be tilted at an angle equal to or greater than the amount that the launch site is \u0027tilted\u0027 with respect to the equator and the centre of the planet.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is necessary to account for this for two reasons:\u00A0 first, high-latitude launch sites can only launch vessels to high-inclination orbits (for example, launching from the north pole needs must result in a 90-degree polar orbit), and second, the rotational velocity of the surface varies with your distance to the axis of rotation.\u00A0 In other words, your eastward velocity on account of the planet\u0027s rotation decreases as you approach the poles.\u00A0 This should be fairly obvious once you think about it:\u00A0 a point ten metres from the pole takes one day to trace a circle around it.\u00A0 A point on top of an equatorial mountain (specifically, as far from the axis of rotation as possible) must trace a circle thousands of times larger, but still must do so in one day.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen calculating your launch azimuth, you need to account for the amount of inclination that you get as a consequence of your launch site\u0027s latitude and for the amount of\u00A0velocity you receive from planetary rotation at that latitude.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you restrict yourself to equatorial launches, these considerations simplify immensely.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2020-01-22T20:15:50Z","Content":"\n\u003Cp\u003E\nYeah, not a problem launching from the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E but ideally I\u0027d like to get this working properly when launching from other bodies too.\n\u003C/p\u003E\n\u003Cp\u003E\nI did mean Altitude though, which isn\u0027t on that page.\u00A0 If I launch to a higher altitude I require a lower orbital velocity, which will result in a launch angle even further North I think, which is starting to make sense to me now.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I kind of understand it, next job will be to implement it in to my launch script...kOS is a never ending job \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo supplementary question...doglegs.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve heard some mention of launches to the ISS doing them, presumably this is a mid flight course correction?\u00A0 Is this due to launch direction restrictions (ie only launching out over the sea) or is there more to it?\u00A0 Presumably if I want to launch from 50 degrees North in to a 40 degree plane, I\u0027d launch at 50 and then do a course correction in to the 40 degree plane when my path crosses it, is this what a dogleg is?\n\u003C/p\u003E\n"},{"CreatedByName":"KerballingSmasher","CreatedById":195689,"CreatedDateTime":"2020-01-22T21:19:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223731210\u0022 data-ipsquote-contentid=\u0022191129\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221579724150\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs this due to launch direction restrictions (ie only launching out over the sea) or is there more to it?\u00A0 Presumably if I want to launch from 50 degrees North in to a 40 degree plane, I\u0027d launch at 50 and then do a course correction in to the 40 degree plane when my path crosses it, is this what a dogleg is?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s what I\u0027ve always done in this kind of a scenario with needing an inclined orbit. There is one exception to this, though, and that\u0027s launching into a polar or a nearly-polar orbit. Instead of doing my gravity turn to the east, I do it to the north (or south). I think you could probably do the same with any degree, but since I usually only launch within about 10\u00B0 of either polar, for scanning satellites around Kerbin, or equatorial, for easier transfers to the Mun and Minimus, I have yet to expirement with that.\n\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2020-01-23T01:51:59Z","Content":"\n\u003Cp\u003E\nI worked out the relevant spherical geometry issues a while back, working under the assumption that launch was instantaneous and occurred at a fixed altitude. Since neither is true, I\u0027d have your kOS script switch to a PID loop once you\u0027re within tolerance of your desired azimuth.\n\u003C/p\u003E\n\u003Cp\u003E\nI... don\u0027t remember the equations I came up with, but I do have the spreadsheet! I know I posted it somewhere, so I\u0027ll edit this post once I find where I did the math.\n\u003C/p\u003E\n\u003Cp\u003E\nNote that the spreadsheet is configured for this strange planet called \u0022Earth\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/ljtxh571ll9qy05/Azimuths.xlsx?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/ljtxh571ll9qy05/Azimuths.xlsx?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Found my original post:\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022173586\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7075797317\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/181377-spherical-geometry/\u0026amp;tab=comments\u0026amp;do=embed\u0026amp;comment=3522618\u0026amp;embedComment=3522618\u0026amp;embedDo=findComment#comment-3522618\u0022 style=\u0022height:264px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-01-23T01:53:29Z\u0022 title=\u002201/23/2020 01:53  AM\u0022 data-short=\u00224 yr\u0022\u003EJanuary 23, 2020\u003C/time\u003E by Starman4308\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2020-01-23T11:35:05Z","Content":"\n\u003Cp\u003E\nInteresting stuff, cheers.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think I have a handle on the launch angle now.\u00A0 The biggest problem remaining\u00A0is the timing, I can launch on the right bearing, but if the timing isn\u0027t right I\u0027ll end up at the right inclination but a different longitude of ascending node.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I aim to launch a fraction late I should be\u00A0able to dogleg on the ascent as my path passes through the target plane.\u00A0 In theory I can calculate my closure speed and acceleration\u00A0to the target plane so I shouldn\u0027t even need a PID to do it.\u00A0 This is likely to need some thought and several sheets of paper \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EJust need to get my launch window calculator working properly first...\u003C/span\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Zhetaan","CreatedById":125721,"CreatedDateTime":"2020-01-23T13:37:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223731462\u0022 data-ipsquote-contentid=\u0022191129\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221579779305\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think I have a handle on the launch angle now.\u00A0 The biggest problem remaining\u00A0is the timing, I can launch on the right bearing, but if the timing isn\u0027t right I\u0027ll end up at the right inclination but a different longitude of ascending node.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was going to reply to your earlier question about doglegs but you seem to have figured out the concept on your own.\u00A0 To be clear, however, a dogleg is a manoeuvre that uses some of the propellant margin to adjust the longitude of ascending node.\u00A0 This is useful because it allows one to have an actual launch \u0027window\u0027 as opposed to a launch \u0027arrow-slit\u0027, to coin a term.\u00A0 In other words, it allows one to launch a few minutes to either side of the perfectly ideal alignment of the target orbital plane with the launch site and give some flexibility to the launch time thereby.\u00A0 One can also use it to change inclination:\u00A0 adjustments to longitude of ascending node and inclination are similar in their execution.\u00A0 Efficiency is a separate question.\n\u003C/p\u003E\n"},{"CreatedByName":"Flibble","CreatedById":196830,"CreatedDateTime":"2020-01-24T13:48:09Z","Content":"\n\u003Cp\u003E\nThis is my kOS code for launch azimuth, given an arbitrary inclination (that is greater than or equal to the launch site latitude):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n// Pe and AP in km.\n\nlocal targetPe is Pe * 1000 \u002B Ship:Body:Radius.\nlocal a is (Pe \u002B Ap) * 500 \u002B Ship:Body:Radius.\nlocal sinInertialAz is max(-1, min(cos(targetInclination)/cos(Ship:Latitude),1)).\nlocal vOrbit is sqrt(2 * Ship:Body:Mu / targetPe - Ship:Body:Mu / a).\nlocal vEqRot is 2 * Constant:pi * Ship:Body:Radius / Ship:Body:RotationPeriod.\nset launchAzimuth to mod(arctan2(vOrbit * sinInertialAz - vEqRot * cos(Ship:Latitude), vOrbit * sqrt(1 - sinInertialAz^2)) \u002B 360, 360).\u003C/pre\u003E\n\u003Cp\u003E\nSeems to work fine - I\u0027ve used it to launch into a variety of orbits in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2020-01-27T09:50:33Z","Content":"\n\u003Cp\u003E\nCheers.\u00A0 I think my understanding now matches your LaunchAzimuth equation so I\u0027ll give something a similar a go.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s all on hold at the moment though as I got fed up with the mess my kOS scripts were in and have started a complete rewrite so expect to spend a week or more filling in full stops I\u0027ve missed out before I get to implementing new code \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2020-01-28T21:35:09Z","Content":"\n\u003Cp\u003E\nIf you\u0027re still trying to work out timing, I\u0027m pretty happy with my solution. Here\u0027s a link to my documentation where I go through my launch azimuth/ETA calculations:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/ElWanderer/kOS_scripts/blob/v1.1_draft_changes/documentation/lib_launch_geo_readme.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ElWanderer/kOS_scripts/blob/v1.1_draft_changes/documentation/lib_launch_geo_readme.md\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2020-01-29T10:43:10Z","Content":"\n\u003Cp\u003E\nNice writeup, cheers.\u00A0 I\u0027ll have a read through in depth later.\n\u003C/p\u003E\n"}]}