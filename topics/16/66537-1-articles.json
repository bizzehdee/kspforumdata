{"TopicId":66537,"ForumId":16,"TopicTitle":"How to remove parts from a .craft file?","CreatedByName":"Panchopinata","CreatedById":71857,"CreatedDateTime":"2014-03-23T02:51:26Z","PageNum":1,"Articles":[{"CreatedByName":"Panchopinata","CreatedById":71857,"CreatedDateTime":"2014-03-23T02:51:26Z","Content":"\n\u003Cp\u003EI have a .craft file of a complete space station that I built in the VAB. I use this file when I am launching pieces of it for assembly. A little while back, I updated KAS and now outdated parts from that mod are keeping me from using that file. I\u0027d like to know how to remove those parts from the .craft file.\u003C/p\u003E\n"},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2014-03-23T08:15:50Z","Content":"\n\u003Cp\u003E.craft files should be pretty easy to edit in any text editor.\u003C/p\u003E\u003Cp\u003EIf nothing is attached to the part, just delete the entire PART section for that part. (That is, the part was placed on something, but nothing was placed on the part you want to remove.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E Then delete the name of that part (partName_number) from the PART section of the part it was attached to.\u003C/p\u003E\u003Cp\u003EIf something is attached to the part, it gets trickier. In a PART section there are a few variables that describe how the part is connected to the other parts of the vessel.\u003C/p\u003E\u003Cp\u003EI suggest you go to the VAB and make a very simple rocket: 1 pod, one fuel tank, one engine,\u003C/p\u003E\u003Cp\u003Eand slap one solar panel on the side of the fuel tank. Then go to the VAB and make a second very simple rocket: the same pod and engine, without the tank and panel. Now you can compare the two to see what is needed to remove a part.\u003C/p\u003E\u003Cp\u003EIn the PART section for the pod, it will contain a link to the tank.\u003C/p\u003E\u003Cp\u003EIn the PART section for the tank section, a link to the pod, a link to the engine and a link to the panel.\u003C/p\u003E\u003Cp\u003EIn the PART section for the engine, a link to the tank.\u003C/p\u003E\u003Cp\u003ESo to get rid of the tank and panel, replace the engine\u0027s link to the tank with the tank\u0027s link to the pod,\u003C/p\u003E\u003Cp\u003Eand the pod\u0027s link to the tank with the tank\u0027s link to the engine. Then delete the tank and panel PART sections.\u003C/p\u003E\u003Cp\u003EThen you may have to edit the position of the part in the \u0022pos\u0022 variable. It seems the second coordinate is the z coordinate, which is the distance from the floor of the VAB, or something similar. The z coordinate of all parts attached to moved parts should be adjusted by the same amount (which should be the height of the removed part.)\u003C/p\u003E\u003Cp\u003EIf the part you care about was attached with symmetry, attach the solar panels above with symmetry to see how symmetric parts are linked in .craft files.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-23T18:29:21Z\u0022 title=\u002203/23/2014 06:29  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 23, 2014\u003C/time\u003E by Yasmy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2014-03-23T09:02:41Z","Content":"\n\u003Cp\u003EIf that doesn\u0027t work just install the old version of the mod, load the file, remove the parts, reinstall the new version, and you\u0027re good to go.\u003C/p\u003E\n"},{"CreatedByName":"Sirrobert","CreatedById":70591,"CreatedDateTime":"2014-03-23T12:15:26Z","Content":"\n\u003Cp\u003EIf you do it wrong, your entire .craft file will become invalid\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-03-23T12:42:05Z","Content":"\n\u003Cp\u003EEven if nothing is attached to that part, you cannot simply delete that part from the .craft file. Except if it is the last part in the ship. Otherwise you screw up the structure of the ship.\u003C/p\u003E\u003Cp\u003EThe best thing you can do is replace those parts in place by other parts (e.g. cubic octagonal struts), load the file and remove them in editor.\u003C/p\u003E\n"},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2014-03-23T18:04:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EEven if nothing is attached to that part, you cannot simply delete that part from the .craft file. Except if it is the last part in the ship. Otherwise you screw up the structure of the ship.\u003Cp\u003EThe best thing you can do is replace those parts in place by other parts (e.g. cubic octagonal struts), load the file and remove them in editor.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E.craft files are different from save files. The order of the parts in the .craft file doesn\u0027t matter. Each part is linked explicitly to other parts by a unique part id,\u003C/p\u003E\u003Cp\u003Erather than by the order of the part in a vessel like in a .sfs file. Thus you do not have to renumber all the parts and links in and to parts after the removed part.\u003C/p\u003E\u003Cp\u003EYou just have to remove the part, and references to it from other parts if nothing is attached to it. (So yes, you do have to do slightly more than remove the part.)\u003C/p\u003E\u003Cp\u003EBut yes, sometimes it is easier to edit the part to be a different part. You still have to edit the links in the new part and the part it is attached to.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-23T18:40:08Z\u0022 title=\u002203/23/2014 06:40  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 23, 2014\u003C/time\u003E by Yasmy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2014-03-23T19:03:22Z","Content":"\n\u003Cp\u003EHere are three craft files, with some unimportant stuff removed:\u003C/p\u003E\u003Cp\u003EA: pod, tank, engine, and a modded part, KER, slapped on the side of the tank\u003C/p\u003E\u003Cp\u003EB: pod, tank, engine. no KER\u003C/p\u003E\u003Cp\u003EC: pod, engine. (example of removing a part in the middle of the part tree.)\u003C/p\u003E\u003Cp\u003EBetween craft files A and B, the only differences are\u003C/p\u003E\u003Cp\u003E1) the lack of the Engineer part\u003C/p\u003E\u003Cp\u003E2) the lack of the link to the Engineer part in the tank part in craft B: link = Engineer7500_4294809086\u003C/p\u003E\u003Cp\u003EBetween craft files B and C, the only differences are\u003C/p\u003E\u003Cp\u003E1) the lack of the fuel tank in C\u003C/p\u003E\u003Cp\u003E2) in C, the pod link goes to the engine, and the engine link goes to the pod\u003C/p\u003E\u003Cp\u003E3) the position of the engine has changed by the height of the tank\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eship = A\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = mk1pod_4294824866\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,5,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tlink = fuelTank_4294819070\u003Cbr\u003E\tattN = bottom,fuelTank_4294819070\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = fuelTank_4294819070\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,3.629272,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tlink = liquidEngine3_4294816122\u003Cbr\u003E\tlink = Engineer7500_4294809086\u003Cbr\u003E\tattN = top,mk1pod_4294824866\u003Cbr\u003E\tattN = bottom,liquidEngine3_4294816122\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = liquidEngine3_4294816122\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,2.44615,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tattN = top,fuelTank_4294819070\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = Engineer7500_4294809086\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = -5.412827E-08,3.856584,-0.6191552\u003Cbr\u003E\trot = 0,0.7071068,0,-0.7071069\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 1\u003Cbr\u003E\tsrfN = srfAttach,fuelTank_4294819070\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eship = B\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = mk1pod_4294824866\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,5,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tlink = fuelTank_4294819070\u003Cbr\u003E\tattN = bottom,fuelTank_4294819070\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = fuelTank_4294819070\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,3.629272,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tlink = liquidEngine3_4294816122\u003Cbr\u003E\tattN = top,mk1pod_4294824866\u003Cbr\u003E\tattN = bottom,liquidEngine3_4294816122\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = liquidEngine3_4294816122\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,2.44615,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tattN = top,fuelTank_4294819070\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eship = C\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = mk1pod_4294824866\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,5,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tlink = liquidEngine3_4294816122\u003Cbr\u003E\tattN = bottom,liquidEngine3_4294816122\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = liquidEngine3_4294816122\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,4.32434,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tattN = top,mk1pod_4294824866\u003Cbr\u003E*deleted stuff for brevity*\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENote how each part has a unique id number attached to the part name. If you add more parts of the same type, the id numbers will be different. Position of the part in the craft file doesn\u0027t matter (except maybe the root part.) So removing a part only effects the parts which link to it by name. Of course, if you remove a part in the middle of a structure, and attach the parts it connected to to each other, you will leave a gap. Thus you need to adjust the pos variable of any parts that need to be moved to fill the gap. If you can fill the gap with a similar sized part (by making the appropriate links), you won\u0027t have to adjust the positions of anything.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-23T19:10:19Z\u0022 title=\u002203/23/2014 07:10  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 23, 2014\u003C/time\u003E by Yasmy\u003C/strong\u003E\n\u003C/span\u003E\n"}]}