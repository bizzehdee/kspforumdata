{"TopicId":155701,"ForumId":16,"TopicTitle":"Why does this vessel use RCS fuel this way?","CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2017-01-28T13:55:00Z","PageNum":1,"Articles":[{"CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2017-01-28T13:55:00Z","Content":"\n\u003Cp\u003E\nI\u0027ve encountered what seems an odd phenomenon, that has helped strand a Kerbal in Munar orbit, without a ship.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s a craft file: \u003Ca href=\u0022https://www.dropbox.com/s/f55de541d0wqnfm/Selene%201%20Mod_%202.craft?dl=0\u0022 rel=\u0022external nofollow\u0022\u003ESelene 1 Mod 2\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Selene%201%20Mod%202%20in%20orbit_zpsv4f\u0022 class=\u0022ipsImage\u0022 height=\u0022591\u0022 src=\u0022http://i11.photobucket.com/albums/a183/dqualls/KSP%20Images/Selene%201%20Mod%202%20in%20orbit_zpsv4ft9csw.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI launch this ship with \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E turned off, using main engine gimballing for control until staging.\u00A0 Once I stage away the booster, fairing, and nose cone (above 70 km only due to a spectacular demonstration of the drag still present at 40\u002B km and 1000\u002B m/s), I turn on \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E so I can maneuver before igniting the second stage engine to circularize (the second stage also performs transMunar insertion and Munar orbit capture before being deorbited on the Mun).\u00A0 This is where the odd thing happens.\n\u003C/p\u003E\n\u003Cp\u003E\nIt takes a lot of \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E authority to turn the remaining stack at this stage (initially, with full tanks in all modules), and the center of mass is far enough forward that the \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELf\u003C/abbr\u003E/O thrusters on the second stage tank get a lot of help from the four sets of \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E quads on the lander and pusher stages.\u00A0 However, the \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E on the lander and pusher stages don\u0027t consume fuel evenly from the command pods and \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tanks, despite crossfeed being enabled on every decoupler and stack separator.\u00A0 Rather, the lander\u0027s \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E fuel is depleted first, with the command pod being emptied before the stack \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tank is used, and both of those being burned dry before any fuel is drawn from the pusher (top module at launch).\n\u003C/p\u003E\n\u003Cp\u003E\nThis doesn\u0027t seem to be a case of the game drawing propellant from the lowest tank first, which would make some sense for the usual staging order; rather, the command pod fuel is being depleted first.\u00A0 The only solution I see is to remember to manually disable the command pod and stack tank feeds before launch, and then manually re-enable them before I\u0027m ready to decouple the pusher and turn it around to dock with the lander (\u003Cem\u003Ea la \u003C/em\u003EApollo, which is the configuration I adopt before Munar orbit insertion so the pusher is ready to maneuver itself and the lander as soon as the second stage is jettisoned).\n\u003C/p\u003E\n\u003Cp\u003E\nAm I missing something relative to propellant consumption order?\u00A0 I think this is the first time it\u0027s really matter which tank empties first -- but this time, it led to a Kerbal launching from Mun without enough \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E propellant left to assist when the main engine\u0027s tanks ran dry before establishing orbit.\u00A0 The pusher pilot, meanwhile, was sitting in a safe orbit, with a nearly full \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tank, and no way to help...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-29T00:16:49Z\u0022 title=\u002201/29/2017 12:16  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 29, 2017\u003C/time\u003E by Zeiss Ikon\u003C/strong\u003E\n\u003Cbr\u003EAdd screenshot of vessel\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2017-01-28T14:17:38Z","Content":"\n\u003Cp\u003E\nMoving to Gameplay Questions.\n\u003C/p\u003E\n\u003Cp\u003E\nA suggestion:\u00A0 Posting a link to your .craft is fine, but could you post a screenshot, as well?\u00A0 For most questions, you\u0027re actually more likely to get a helpful response with a screenshot than with a .craft file.\u00A0 Reason:\u00A0 Lots of problems are easily diagnosed from a screenshot by an experienced eye, and can be done very easily by just reading the forum post.\u00A0 If all you\u0027ve provided is a .craft file, then you\u0027re requiring any potential helpful question-answerer to download your file, save it into their KSP game, spin up KSP (which requires that they have access to their KSP computer), and fly the ship to an appropriate situation to reproduce your problem.\u00A0 All of that is pretty inconvenient and will discourage a lot of folks from bothering to try to answer the question.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, I\u0027m not at my KSP computer right now, so your .craft file is completely useless to me.\u00A0 If there were a screenshot, I could probably offer much better advice than the guesswork you\u0027ll see below.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnyway, on to your questions.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222937153\u0022 data-ipsquote-contentid=\u0022155701\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485611700\u0022 data-ipsquote-userid=\u0022174016\u0022 data-ipsquote-username=\u0022Zeiss Ikon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 minutes ago, Zeiss Ikon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ndespite crossfeed being enabled on every decoupler and stack separator\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNote, this is irrelevant.\u00A0 \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E is \u0022whole-ship\u0022 flow, unlike \u003Cabbr title=\u0022Liquid Fuel and Oxidizer\u0022\u003ELFO\u003C/abbr\u003E engines.\u00A0 All \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thrusters have access to all monopropellant on the ship, regardless of crossfeed status.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222937153\u0022 data-ipsquote-contentid=\u0022155701\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485611700\u0022 data-ipsquote-userid=\u0022174016\u0022 data-ipsquote-username=\u0022Zeiss Ikon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 minutes ago, Zeiss Ikon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAm I missing something relative to propellant consumption order?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHave you checked the flow priority on your monopropellant tanks, and compared that with the flow priority on the lander?\u00A0 If you want the lander\u0027s monopropellant to be used last, you want to make sure it has the lowest flow priority.\n\u003C/p\u003E\n\u003Cp\u003E\nUsually the game does a pretty good job of setting up the flow priorities by default so that it \u0022just works\u0022 and you don\u0027t have to futz with it, and it drains the way you\u0027d like (i.e. lowest stages first), but depending on how your ship is constructed and the order in which you put stuff together in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, the default setup may not be working right for you.\u00A0 You can manually adjust the flow priorities, both in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E and in flight.\n\u003C/p\u003E\n\u003Cp\u003E\n(I think you may need to have \u0022advanced tweakables\u0022 turned on to be able to do that, though.\u00A0 Sorry, I always have advanced tweakables turned on myself, so I\u0027m not well-versed in which features require that and which don\u0027t.)\n\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2017-01-28T14:18:02Z","Content":"\n\u003Cp\u003E\nThe game\u0027s fuel flow rules aren\u0027t really designed with Apollo-style missions in mind. As KSP sees it your orbiter is the main ship and the lander the previous stage. Though I\u0027m not sure why the lander pod goes before its main tank.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can fix it by enabling Advanced Tweakables then setting the flow priority on the \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tanks to be all the same or otherwise as desired.\n\u003C/p\u003E\n"},{"CreatedByName":"pincushionman","CreatedById":98495,"CreatedDateTime":"2017-01-28T14:53:20Z","Content":"\n\u003Cp\u003E\nDoes momoprop consumption even obey flow priority? Or does it just draw from all tanks, period?\n\u003C/p\u003E\n\u003Cp\u003E\nIf it\u0027s the latter, and your lander tank is smaller than your xfer stage\u0027s, it will deplete first because it pulls MP from both tanks at the same \u003Ci\u003Erate\u003C/i\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"FullMetalMachinist","CreatedById":156531,"CreatedDateTime":"2017-01-28T15:13:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222937202\u0022 data-ipsquote-contentid=\u0022155701\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485615200\u0022 data-ipsquote-userid=\u002298495\u0022 data-ipsquote-username=\u0022pincushionman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 minutes ago, pincushionman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes momoprop consumption even obey flow priority?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, and so does electric charge consumption with batteries.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2017-01-28T15:57:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222937202\u0022 data-ipsquote-contentid=\u0022155701\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485615200\u0022 data-ipsquote-userid=\u002298495\u0022 data-ipsquote-username=\u0022pincushionman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, pincushionman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes momoprop consumption even obey flow priority?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup.\u00A0 \u003Cem\u003E\u003Cu\u003EAll\u003C/u\u003E\u003C/em\u003E resources do, including electricity (as \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/156531-fullmetalmachinist/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022156531\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/156531-fullmetalmachinist/\u0022 rel=\u0022\u0022\u003E@FullMetalMachinist\u003C/a\u003E points out).\u00A0 Even works for modded resources, such as life support supplies.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s actually cool that it does that-- gives the player a lot of flexibility in ship design.\u00A0 For example, suppose I expect to need a lot of electricity on reentry, because my reentry vehicle is somewhat aerodynamically unstable and I need to use the reaction wheels a lot to hold retrograde.\u00A0 I can set things up so that its batteries (including the built-in ones in the command pod, if there is one) have a lower flow priority than those on the rest of the ship that gets staged away before or during reentry.\u00A0 That way, I\u0027m assured that I have full batteries for the process.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother example of usefulness:\u00A0 Suppose I\u0027m playing with TAC Life Support.\u00A0 There are some parts available for that mod for reprocessing waste into usable resources (e.g. processing CO\u003Csub\u003E2\u003C/sub\u003E back into oxygen, or waste water into water).\u00A0 These parts typically have some storage space for whatever waste they\u0027re designed to process.\u00A0 I like to set them with really high flow priority.\u00A0 Thus, for example, suppose I have a space station with a recycler on it, and I have some ships \u0022parked\u0022, docked to the station:\u00A0 this guarantees that all the waste from the ships\u0027 crews will go straight into the recycler, rather than filling up the limited waste storage capacity on the ships.\n\u003C/p\u003E\n"},{"CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2017-01-29T00:04:40Z","Content":"\n\u003Cp\u003E\nFlow priority -- AHA!!\u00A0 Must go turn on advanced tweakables...\n\u003C/p\u003E\n\u003Cp\u003E\nActually, I\u0027d like the flow to be equal from both modules\u0027 stack tanks, but the command pod tanks last so there\u0027s \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E fuel left for reentry on the lander\u0027s pod.\u00A0 Sounds like I should be able to accomplish that by setting the command pod tanks to lowest priority.\u00A0 BTW, the next upgrade on this design will likely be swapping the lander and return pusher positions, so the lander can undock, land and return and leave the return pusher still coupled to the second stage.\u00A0 By doing that, I should be able to delete the pusher\u0027s own \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELf\u003C/abbr\u003E/O tank and engine entirely, upgrade the lander\u0027s \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELf\u003C/abbr\u003E/O tankage and engine to give enough \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E and thrust to land on Duna, and still save fuel (via saving mass) enough to make the Duna trip, or possibly even Dres.\u00A0 Ike and Gilly are a given if I can make Duna, of course...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222937171\u0022 data-ipsquote-contentid=\u0022155701\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485613058\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMoving to Gameplay Questions.\n\u003C/p\u003E\n\u003Cp\u003E\nA suggestion:\u00A0 Posting a link to your .craft is fine, but could you post a screenshot, as well?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry, I intended to, but I had two power drops in ten minutes (heater flipping a breaker) and by the time I had that straightened out, I\u0027d forgotten to take and post a screen shot.\u00A0 A pad shot won\u0027t really help here anyway, all the relevant parts are inside the fairing, but I might already have a shot of the second stage with the lander and return stage still docked.\u00A0 If so, I\u0027ll edit it in above.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-29T00:19:48Z\u0022 title=\u002201/29/2017 12:19  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 29, 2017\u003C/time\u003E by Zeiss Ikon\u003C/strong\u003E\n\u003Cbr\u003EChange \u0026quot;docked\u0026quot; for \u0026quot;coupled\u0026quot;\n\u003C/span\u003E\n"}]}