{"TopicId":118979,"ForumId":16,"TopicTitle":"How to stop planes \u0026quot;nodding\u0026quot;","CreatedByName":"p1t1o","CreatedById":74091,"CreatedDateTime":"2015-08-21T08:33:07Z","PageNum":1,"Articles":[{"CreatedByName":"p1t1o","CreatedById":74091,"CreatedDateTime":"2015-08-21T08:33:07Z","Content":"\n\u003Cp\u003EI can build planes, good ones even, fast ones, high altitude ones, SSTOs...\u003C/p\u003E\u003Cp\u003EBut every single plane I have ever built \u0022nods\u0022 in flight whilst using any kind of automatic control system (SAS for example, or mechjeb\u0027s S.M.A.R.T.A.S.S). For example, when flying a long distance, or climbing to high altitude, you want your plane to hold a set attitude, you don\u0027t want to keep manually tapping the keys (which causes \u0022nod\u0022 all on its own) so you either put SAS on, or an alternative. The control logic keeps you pointing in the right direction, but there is always \u0022nodding\u0022.\u003C/p\u003E\u003Cp\u003ENodding, nodding, nodding. Has the word lost all meaning yet? Nodding.\u003C/p\u003E\u003Cp\u003EThe FAR stability augmentations are supposed to help, but if they do, they don\u0027t seem to eliminate the problem.\u003C/p\u003E\u003Cp\u003EIs there a way to tweak the control SAS/FAR/mechjeb feedback settings? And if there is, in what way would I tweak them?\u003C/p\u003E\u003Cp\u003E*Occasionally* an aircraft would fly through a certain speed/height regime where the control/response feedback loop settles down and I get a period of smooth flight, but its the exception to the rule, and any control input usually sets up a nice nod.\u003C/p\u003E\u003Cp\u003ECould it be something inherent in the way I build my planes? Perhaps something related to CoL/CoM? I normally set them up with the CoL juuuuuuust behind the CoM (like, within a few blue-CoL-ball radii), with fuel positioned to affect CoM as little as possible.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"KOCOUR","CreatedById":37749,"CreatedDateTime":"2015-08-21T09:01:34Z","Content":"\n\u003Cp\u003EI put COL always exactly centerd with COM in XandZ axis and on top of COM in Y axis. Also i try to have COMs of my fuel tanks aligned with plane COM. Thats possible with smaller planes. In bigger planes i have two half empty \u0022counterweight\u0022 fuel tanks not connected to any other tank or engine so theyr fuel is not used up and i transfer fuel between them when the plane starts to pitch down or up on itself. Dont know if it works with Mechjeb tho, i stopped using it after game introduces its own advanced SAS.\u003C/p\u003E\n"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-08-21T09:33:14Z","Content":"\n\u003Cp\u003ETry \u003Ca href=\u0022https://kerbalstuff.com/mod/532/Pilot%20Assistant\u0022 rel=\u0022external nofollow\u0022\u003EPilot Assistant\u003C/a\u003E. It\u0027s a SAS/autopilot that is intended for airplanes in KSP (and specifically, don\u0027t try it in vacuum, as it tries to use control surfaces for maneuvering which doesn\u0027t work too well without air).\u003C/p\u003E\u003Cp\u003EIt has two modes: \u0022SSAS\u0022 which works with more raw values, providing stability assist - keeping roll, yaw and pitch constant (and whatever climb, speed or turn results from it depends on other factors like throttle or plane geometry) and Pilot Assistant, which works on values like heading, climb speed, target alltitude, target speed. \u003C/p\u003E\u003Cp\u003EI believe if you set given altitude, in Pilot Assist the plane will keep nodding as well, correcting all overcorrections. But in SSAS if you pick given pitch, it will be kept steady.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-21T11:40:58Z","Content":"\n\u003Cp\u003EHave you tried trimming the aircraft with Alt\u002BWASD? I have found that trimming the plane to be neutral at the desired attitude reduces SAS oscillation greatly.\u003C/p\u003E\n"},{"CreatedByName":"Nich","CreatedById":145678,"CreatedDateTime":"2015-08-21T13:12:02Z","Content":"\n\u003Cp\u003ECant you adjust the values on mechjebs PID filter? Make it less reactive to offset and more reactive to rate and intergul.\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-08-21T14:35:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EHave you tried trimming the aircraft with Alt\u002BWASD? I have found that trimming the plane to be neutral at the desired attitude reduces SAS oscillation greatly.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBut I thought trimming and SAS didn\u0027t work together? I\u0027m usually with SAS on, and it took me a long time to realize that\u0027s why trimming wasn\u0027t working for me.\u003C/p\u003E\n"},{"CreatedByName":"p1t1o","CreatedById":74091,"CreatedDateTime":"2015-08-21T14:38:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nich\u0022 data-cite=\u0022Nich\u0022\u003E\u003Cdiv\u003ECant you adjust the values on mechjebs PID filter? Make it less reactive to offset and more reactive to rate and intergul.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes Mechjeb have that ability? Does it affect stock-SAS as well, or just the mechjeb autopilot modes?\u003C/p\u003E\u003Cp\u003EI\u0027m not sure how to modify those sorts of variables to get the result I want, I may have to do some trial-and-error tinkering.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-21T14:42:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003EBut I thought trimming and SAS didn\u0027t work together? I\u0027m usually with SAS on, and it took me a long time to realize that\u0027s why trimming wasn\u0027t working for me.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI certainly could be mistaken, perhaps having it trimmed before engaging SAS means it has less to correct initially and that is what I am seeing.\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2015-08-21T14:50:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EHave you tried trimming the aircraft with Alt\u002BWASD? I have found that trimming the plane to be neutral at the desired attitude reduces SAS oscillation greatly.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBut I thought trimming and SAS didn\u0027t work together? I\u0027m usually with SAS on, and it took me a long time to realize that\u0027s why trimming wasn\u0027t working for me.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect. SAS/SMARTASS completely ignores all trim settings. A few years, and a few versions ago SAS and trim did works together perfectly but sadly not any more.\u003C/p\u003E\u003Cp\u003EHowever RIC\u0027s suggestion is a valid one. A properly designed plane does not need SAS/SMARTASS. I often prefer to fly planes without it and totally rely on trim to keep them stable.\u003C/p\u003E\n"},{"CreatedByName":"Nich","CreatedById":145678,"CreatedDateTime":"2015-08-21T15:50:01Z","Content":"\n\u003Cp\u003EI would think anything with canards is unstable and can not be trimmed into stable flight\u003C/p\u003E\n"},{"CreatedByName":"DancesWithSquirrels","CreatedById":138267,"CreatedDateTime":"2015-08-21T16:24:16Z","Content":"\n\u003Cp\u003ESAS works with trim, but makes it rather irrelevant - the PID controller \u003Cem\u003E(Proportional Integral Derivative)\u003C/em\u003E used in SAS will build up an equivalent \u0027integral\u0027 offset that acts like trim. And if you add in trim that drives the plane away from the SAS vector the integral will cancel it out. \u003C/p\u003E\u003Cp\u003EI use trim on my aircraft when flying \u003Cstrong\u003Ewithout\u003C/strong\u003E SAS. If my plane is positively stable \u003Cem\u003E(CoG slightly ahead of the CoL)\u003C/em\u003E that works just fine, and I can make long flights at 4X speed only slowing time accel. and correcting occasionally.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Longitudinal_static_stability#Trim\u0022 rel=\u0022external nofollow\u0022\u003EA canard should provide less lift than the wing\u003C/a\u003E, with the wing lift vector \u003Cem\u003E(without canards)\u003C/em\u003E rather behind the CoG - the plane will be statically stable if the canard \u003Cstrong\u003Elift * distance from CoG\u003C/strong\u003E is smaller than the wing \u003Cstrong\u003Elift * distance from CoG\u003C/strong\u003E, with the wing having greater leverage. That should be the case if the CoL is behind the CoG, except when the canard authority is greater than the rest of the pitch authority - consider dropping back from a AV-R8 winglet to a less authoritative Delta-deluxe.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-21T16:33:49Z\u0022 title=\u002208/21/2015 04:33  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 21, 2015\u003C/time\u003E by DancesWithSquirrels\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nich","CreatedById":145678,"CreatedDateTime":"2015-08-21T16:58:58Z","Content":"\n\u003Cp\u003EActually even if we assume the wing and canard have the same lift profile you need the delta Lift(Alpha) because at a stable state \u003Cspan style=\u0022color:#333333;\u0022\u003Ecanard \u003C/span\u003E\u003Cstrong\u003Elift * distance \u003C/strong\u003E\u003Cstrong\u003Efrom CoM\u003C/strong\u003E\u003Cstrong\u003E =\u003C/strong\u003E\u003Cstrong\u003E wing\u003C/strong\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E\u003Cstrong\u003Elift * distance from CoM \u003C/strong\u003E\u003C/strong\u003EHowever alpha is not the same for the wing and canard. Because the center of lift is behind the COM alpha will be greater for the canard. In most flight profiles (not stalling or flying very slow) with a low alpha lift is approximately linear thus;\u003C/p\u003E\u003Cp\u003ECanard 10m from COM with 1t lift = 10mt\u003C/p\u003E\u003Cp\u003EWing -1m from COM with 10t lift = -10mt\u003C/p\u003E\u003Cp\u003Eis stable\u003C/p\u003E\u003Cp\u003EChange alpha on the canard by 1 degree\u003C/p\u003E\u003Cp\u003ECanard 10m from COM with 1xt lift = 10x mt\u003C/p\u003E\u003Cp\u003EWing -1m from COM with 10t lift = -10 mt\u003C/p\u003E\u003Cp\u003EPlane pulls up 1 degree\u003C/p\u003E\u003Cp\u003ECanard 10m from COM with 2xt lift = 20x mt\u003C/p\u003E\u003Cp\u003EWing -1m from COM with 10xt lift = -10x mt\u003C/p\u003E\u003Cp\u003EYou now have a ton torque and the plane flips out until front canard starts to stall out but at this point the wing pretty well stalled out as well\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-21T17:01:09Z\u0022 title=\u002208/21/2015 05:01  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 21, 2015\u003C/time\u003E by Nich\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mikki","CreatedById":137508,"CreatedDateTime":"2015-08-21T17:30:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI certainly could be mistaken, perhaps having it trimmed before engaging SAS means it has less to correct initially and that is what I am seeing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAgreed, and flying without SAS is also doable, needs a balanced, fine trimmable construction. Try to make a fuselage with wings and/ or engines (and cockpit...) angled pointing downwards some degrees, expect very interesting flight behaviours... really worth trying out, you won\u0060t regret the time spent.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/5MXmon0.png\u0022 alt=\u00225MXmon0.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"panzer1b","CreatedById":95108,"CreatedDateTime":"2015-08-21T18:09:07Z","Content":"\n\u003Cp\u003EWobbling is 90% of the time caused by too many control surfaces or reaction wheels.\u003C/p\u003E\u003Cp\u003EFor whatever reason all my supermaneuverable craft will do this at higher speeds as the sas overcompensates with too much control authority. Usually using the precision controls and disabling sas entirely is what i do when the wobbling gets very bad. Anyways, for anything that is super fast, you dont want as many control surfaces/wings as its extra drag and causes the stock sas to go nuts. Either use a mod sas (the MJ one seems pretty good), or just disable control surfaces in flight when u get up to those speeds (and disable gimbals too as those can also overcompensate if the engine is very powerful and has good vectoring range).\u003C/p\u003E\n"},{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-08-21T18:15:10Z","Content":"\n\u003Cp\u003EI usually put canards on the nose.\u003C/p\u003E\n"},{"CreatedByName":"DancesWithSquirrels","CreatedById":138267,"CreatedDateTime":"2015-08-21T18:21:03Z","Content":"\n\u003Cp\u003ENich - Yes, differing angles of attack between wings and canards do make matters more complicated. A quick test for this is to rotate the ship in the SPH in pitch, and see what happens to the CoL. If it moves ahead of the CoG at certain angles the plane won\u0027t be stable there.\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2015-08-21T19:47:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SmashBrown\u0022 data-cite=\u0022SmashBrown\u0022\u003E\u003Cdiv\u003EI usually put canards on the nose.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECanards are ALWAYS placed on or near the nose of a plane. No matter how the part is called in the game if you do not place it on or near the nose of a plane it is NOT a canard.\u003C/p\u003E\n"},{"CreatedByName":"A_name","CreatedById":134040,"CreatedDateTime":"2015-08-23T02:35:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SmashBrown\u0022 data-cite=\u0022SmashBrown\u0022\u003E\u003Cdiv\u003EI usually put canards on the nose.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELike a unicorn? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"}]}