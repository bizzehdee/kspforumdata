{"TopicId":194995,"ForumId":16,"TopicTitle":"Air Intake Equations and Tests","CreatedByName":"Schramm","CreatedById":205670,"CreatedDateTime":"2020-06-23T20:50:09Z","PageNum":1,"Articles":[{"CreatedByName":"Schramm","CreatedById":205670,"CreatedDateTime":"2020-06-23T20:50:09Z","Content":"\n\u003Cp\u003E\nI tried to do some air intake / jet engine testing, and have reached a dead end and could use some community input. My measured intake air rates are not the same as what I am calculating they should be. Below I will explain my method and describe the problem in more detail.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI started by obtained atmospheric data. From an atmospheric rocket test I pulled the barometric pressure (at noon from \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E). I tried to record temperature in several locations, but it is too affected by the part heating from air resistance so had to stick with the wiki\u0027s modified USSA equations (\u003Ca href=\u0022https://wiki.kerbalspaceprogram.com/wiki/Kerbin#Atmosphere\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://wiki.kerbalspaceprogram.com/wiki/Kerbin#Atmosphere\u003C/a\u003E, note on the wiki it states the kerbin (z) to earth height (h) is h = 7963.75*z / ( 6371\u002B1.25*z) that this is in km, not m). Using a base temperature of 15C, i got these readings:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022QaKwqwL.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/QaKwqwL.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd converted them into speed of sound and scale height, for interest\u0027s sake:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00229VYR3wl.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/9VYR3wl.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWith these I could then calculate air density at any given time (while adjusting the mean temperature profile to a measured base temperature):\n\u003C/p\u003E\n\u003Cp\u003E\n\u03C1 = P/(R T)\n\u003C/p\u003E\n\u003Cp\u003E\nwhere R is the specific gas constant for Kerbin air. Using the wiki, I found that to be 0.2408 kJ/kg/k\n\u003C/p\u003E\n\u003Cp\u003E\nNext I dug into the cfg files to get the data for the engines and air intakes. For simplicity I started with the J-20 Juno and Small Circular Intake. For the jet engine the cfg files give a nominal thrust, \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E curve (constant for ksp jet engines), A/F ratio, mach curve, and ATM curve. The curves are given in spline format (X, Y, back tangent, forward tangent), and here are the 2 for the Juno:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022X5CjwhF.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/X5CjwhF.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022HSxaeUI.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002254.75\u0022 height=\u0022340\u0022 width=\u0022621\u0022 src=\u0022https://i.imgur.com/HSxaeUI.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWith these I whip up a couple of reference charts for thrust and required air. The thrust equation is simply the nominal thrust multiplied by the mach factor and the density factor. Mach and density can be obtained from current altitude and airspeed.\n\u003C/p\u003E\n\u003Cp\u003E\nFor required air I used the following:\n\u003C/p\u003E\n\u003Cp\u003E\ndm_req = F_thrust / (I_sp g)\u00A0 *\u00A0 AFR / (AFR \u002B 1)\n\u003C/p\u003E\n\u003Cp\u003E\nWhere the first quotient gives the total mass rate ejected from the engine, while the second adjusts that amount to just the quantity of air.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022sO1Lc5o.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002226.50\u0022 height=\u0022271\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/sO1Lc5o.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022iKo3WLi.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002226.64\u0022 height=\u0022272\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/iKo3WLi.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cstrong\u003EThe air required numbers seem suspiciously low, as will be seen later are dwarfed by the air intake values. Is my reasoning and formulae correct?\u003C/strong\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe cfg files for the intakes give an intake area, nominal intake velocity, and a mach curve. Here is the mach curve for the Small Circular Intake:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022fp3lYkz.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/fp3lYkz.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAn air flowrate reference chart was made in similar fashion, using the following air intake equation:\n\u003C/p\u003E\n\u003Cp\u003E\ndm_air = K_mach * \u03C1_air * A_intake * ( M * c \u002B v0_intake )\n\u003C/p\u003E\n\u003Cp\u003E\nwhere K_mach is the intake factor based on mach number, rho air is given from current atmospheric conditions, A_intake is a constant for the intake, M is current mach number, c is current speed of sound, and v0_intake is the constant intake nominal speed. Note that angle of attack (\u003Cabbr title=\u0022Angle of Attack\u0022\u003EAoA\u003C/abbr\u003E) is assumed to be 0 deg at this point for simplicity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022SMZhrF7.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002238.69\u0022 height=\u0022396\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/SMZhrF7.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, putting all these to the test, I built a small intake-probe-fuel-engine\u002Bwings machine to fly around and sample data. Here are the test points I recorded (note I took a lot more data than this, but these two show the span of the testing):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022YSCkXfc.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/YSCkXfc.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nGiven the altitude and the initial zero-speed temperature reading, I calculated the temperature, density and speed of sound for each test point based on the atmospheric model above. Temperatures were adjusted to match the initial reading and biased accordingly through the altitude range. I also calculated angle of attack based on indicated air intake speed and actual airspeed:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Angle of Attack\u0022\u003EAoA\u003C/abbr\u003E = ArcCos( (v_intake - v0_intake)/v_air ) * 180 / pi\n\u003C/p\u003E\n\u003Cp\u003E\nWith these values, the calculated intake mass flowrate can be calculated as before but now with \u003Cabbr title=\u0022Angle of Attack\u0022\u003EAoA\u003C/abbr\u003E:\n\u003C/p\u003E\n\u003Cp\u003E\ndm_air = K_mach * \u03C1_air * A_intake * ( Cos( \u003Cabbr title=\u0022Angle of Attack\u0022\u003EAoA\u003C/abbr\u003E * pi/180 ) * v_air \u002B v0_intake )\n\u003C/p\u003E\n\u003Cp\u003E\nThis calculated value is then compared to the test\u0027s measured value (converting U to kg/s with 1:1, \u003Cstrong\u003E\u003Cem\u003ETHIS SEEMS TO BE COUNTER TO WHAT THE WIKI STATES AS THE CONVERSION\u003C/em\u003E\u003C/strong\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022B33QOa6.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002278.89\u0022 height=\u0022441\u0022 width=\u0022559\u0022 src=\u0022https://i.imgur.com/B33QOa6.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNotice that there is about a 1.25 factor of error between measured and calculated points. Creating a new variable called ErrorFactor = (Calc/Meas - 1) and checking its relation to different inputs, I found that density had the strongest correlation:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022jyI2Tzf.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.07\u0022 height=\u0022340\u0022 width=\u0022566\u0022 src=\u0022https://i.imgur.com/jyI2Tzf.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIf I modify the above dm_air equation with an extra factor of 1 / ( 0.24 \u03C1_air \u002B 1 ) I then get the correct Measured vs Calculated values. Is there something I am missing in the equations I\u0027ve outlined, or is there just this sneaky factor added into the coding to make things more difficult to the kerbal engineer?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance,\n\u003C/p\u003E\n\u003Cp\u003E\nAlex\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2020-06-24T00:28:51Z","Content":"\n\u003Cp\u003E\nIf I understand,\u00A0 you used the air-intake rates reported in the right-click menu on the air-intake parts, and found those\u00A0reported intakes to be lower than\u00A0 (true_airspeed \u002B v0_intake) \u00D7 \u03C1 \u00D7 area.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything you write makes sense (although I don\u0027t see where on the wiki you are referring to with U being not in kg/s) and I don\u0027t know of anything that KSP does that you left out.\u00A0 \u00A0Realistically, we would expect a little less intake than that formula gives, as the bow wave of the craft pushes some air away before it is compressed into the air intake, but I don\u0027t think KSP simulates in that much detail.\n\u003C/p\u003E\n\u003Cp\u003E\nThere is an option alt-F12\u00A0 \u003Cspan\u003E:: Physics \u003Cspan\u003E:: Aero \u003Cspan\u003E:: aero-GUI\u00A0 that shows you what numbers KSP is using for the craft in flight.\u00A0 Maybe that display will\u00A0show where KSP is computing differently than you ?\u00A0 Maybe the local density ?\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Schramm","CreatedById":205670,"CreatedDateTime":"2020-06-24T14:30:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223808349\u0022 data-ipsquote-contentid=\u0022194995\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221592958531\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf I understand,\u00A0 you used the air-intake rates reported in the right-click menu on the air-intake parts, and found those\u00A0reported intakes to be lower than\u00A0 (true_airspeed \u002B v0_intake) \u00D7 \u03C1 \u00D7 area.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything you write makes sense (although I don\u0027t see where on the wiki you are referring to with U being not in kg/s) and I don\u0027t know of anything that KSP does that you left out.\u00A0 \u00A0Realistically, we would expect a little less intake than that formula gives, as the bow wave of the craft pushes some air away before it is compressed into the air intake, but I don\u0027t think KSP simulates in that much detail.\n\u003C/p\u003E\n\u003Cp\u003E\nThere is an option alt-F12\u00A0 \u003Cspan\u003E:: Physics \u003Cspan\u003E:: Aero \u003Cspan\u003E:: aero-GUI\u00A0 that shows you what numbers KSP is using for the craft in flight.\u00A0 Maybe that display will\u00A0show where KSP is computing differently than you ?\u00A0 Maybe the local density ?\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes the effective intake speed I\u0027m using is from the right click menu.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://wiki.kerbalspaceprogram.com/wiki/Intake_air\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://wiki.kerbalspaceprogram.com/wiki/Intake_air\u003C/a\u003E\u00A0is where it lists a 5 kg/unit density for intake air.\n\u003C/p\u003E\n\u003Cp\u003E\nI checked the AeroGUI from the debug menu (did not know about this, very helpful data in there! Thank you) and my density and temperature estimates are within about 0.04%, so negligible. My angle of attack estimate is over a degree off, but that results in a cosine error of less than 0.1% as well.\n\u003C/p\u003E\n\u003Cp\u003E\nThis shouldn\u0027t be this complicated! (Intake speed from right click menu) * (Intake area given in part description) * (Air density from AeroGUI) * 1.0 (factor for M\u0026lt;1) and I\u0027m not getting the right result! Maybe the resource density is something like 1.25 kg/unit? But that wouldn\u0027t make sense since my error is changing with air density/altitude.\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2020-06-25T06:19:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223808237\u0022 data-ipsquote-contentid=\u0022194995\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221592945409\u0022 data-ipsquote-userid=\u0022205670\u0022 data-ipsquote-username=\u0022Schramm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/23/2020 at 1:50 PM, Schramm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ndm_req = F_thrust / (I_sp g)\u00A0 *\u00A0 AFR / (AFR \u002B 1)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI thought AFR was air-to-fuel ratio, so would appear as a simple \u00D7AFR\u00A0 factor here, without the /(AFR\u002B1).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage ipsAttachLink_image ipsAttachLink_right\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 style=\u0022width:512px;height:auto;float:right;\u0022 width=\u00221024\u0022 alt=\u0022bQKsIhq.jpg\u0022 src=\u0022https://i.imgur.com/bQKsIhq.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI see the cfg files have small numbers like\u00A0area = 0.006 for the intake area, and that both you and the player who wrote the wiki figured this must be scaled by 100 to get a reasonable 0.6m\u00B2 area.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I use this convention for area, and use the alt-F12 aero-GUI to find the density, I consistently figure the intake should provide 125% the airflow that the right-click menu says.\u00A0 Maybe that factor of 100 is supposed to be 80 ?\n\u003C/p\u003E\n\u003Cp\u003E\nFor me, the discrepancy is a constant factor regardless of air density (see the image at right, for example).\u00A0 Maybe KSP does not figure density exactly the way you inferred from the wiki?\u00A0 It is possible that KSP adjusted the atmosphere-curves and nobody updated the wiki.\n\u003C/p\u003E\n"},{"CreatedByName":"Schramm","CreatedById":205670,"CreatedDateTime":"2020-06-25T13:41:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223809101\u0022 data-ipsquote-contentid=\u0022194995\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593065990\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI thought AFR was air-to-fuel ratio, so would appear as a simple \u00D7AFR\u00A0 factor here, without the /(AFR\u002B1).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI see the cfg files have small numbers like\u00A0area = 0.006 for the intake area, and that both you and the player who wrote the wiki figured this must be scaled by 100 to get a reasonable 0.6m\u00B2 area.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I use this convention for area, and use the alt-F12 aero-GUI to find the density, I consistently figure the intake should provide 125% the airflow that the right-click menu says.\u00A0 Maybe that factor of 100 is supposed to be 80 ?\n\u003C/p\u003E\n\u003Cp\u003E\nFor me, the discrepancy is a constant factor regardless of air density (see the image at right, for example).\u00A0 Maybe KSP does not figure density exactly the way you inferred from the wiki?\u00A0 It is possible that KSP adjusted the atmosphere-curves and nobody updated the wiki.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAFR is air-fuel-ratio, but the F_thrust to I_sp relation (I assume) works on total ejected mass, which is air and fuel. So to convert from total mass to air mass using AFR:\n\u003C/p\u003E\n\u003Cp\u003E\ndm_air = ( m_air / m_total ) * dm_total\n\u003C/p\u003E\n\u003Cp\u003E\ndm_air = ( m_air / (m_air \u002B mf) ) * dm_total\n\u003C/p\u003E\n\u003Cp\u003E\ndm_air = ( (m_air/m_f) / ( (m_air/m_f) \u002B 1) ) * dm_total\n\u003C/p\u003E\n\u003Cp\u003E\ndm_air = ( AFR / ( AFR \u002B 1) ) * dm_total\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s the similar situation in internal combustion engines, and depends on what ratio you decide to use (AFR, Phi, Lambda, etc). KSP could be using fuel flow rate instead for their \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E calculations? That would explain the massive differences between intakes and engine requirements.\n\u003C/p\u003E\n\u003Cp\u003E\nI did notice the 100x too small area values in the cfg files, and just chose to ignore that fact and take the values from the parts info in-game. Not sure why they are downsize by 100 in the coding?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve only cross checked my numbers with the AeroGUI numbers at about sea level, I will have to run some high-altitude tests and get back to you on the error vs density I am seeing. Is there a good way of measuring air temperature in this game without the effects of part heating (short of the debug/AeroGUI menu)? I haven\u0027t found anything that works at usable speeds.\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2020-06-25T16:38:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223809229\u0022 data-ipsquote-contentid=\u0022194995\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593092471\u0022 data-ipsquote-userid=\u0022205670\u0022 data-ipsquote-username=\u0022Schramm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Schramm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe F_thrust to I_sp relation (I assume) works on total ejected mass, which is air and fuel.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot for air breathing engines, by convention.\u00A0 Not all the air is burned, and the proportion of unburned air that contributes as useful ejected propellant varies a lot.\u00A0 I\u003Csub\u003Esp\u003C/sub\u003E is specified per mass (or weight) of stored fuel only, excluding the components from the atmosphere.\u00A0 You notice the I\u003Csub\u003Esp\u003C/sub\u003E values are very large for high-bypass jet engines.\n\u003C/p\u003E\n\u003Cp\u003E\nI thought [edit: wrongly] that the Thermometer part ignored its own part-temperature, sensing instead ambient temperature (as if the sensing element was cleverly mounted like we mount static pressure sensors on aircraft)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-06-26T00:42:15Z\u0022 title=\u002206/26/2020 12:42  AM\u0022 data-short=\u00224 yr\u0022\u003EJune 26, 2020\u003C/time\u003E by OHara\u003C/strong\u003E\n\u003Cbr\u003EDisabused of the notion that the \u0026quot;measure the temperature on the surface of the Mun at ...\u0026quot; contracts were measuring the temperature of the Mun.\n\u003C/span\u003E\n"},{"CreatedByName":"Schramm","CreatedById":205670,"CreatedDateTime":"2020-06-25T22:25:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223809335\u0022 data-ipsquote-contentid=\u0022194995\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593103109\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot for air breathing engines, by convention.\u00A0 Not all the air is burned, and the proportion of unburned air that contributes as useful ejected propellant varies a lot.\u00A0 I\u003Csub\u003Esp\u003C/sub\u003E is specified per mass (or weight) of stored fuel only, excluding the components from the atmosphere.\u00A0 You notice the I\u003Csub\u003Esp\u003C/sub\u003E values are very large for high-bypass jet engines.\n\u003C/p\u003E\n\u003Cp\u003E\nI thought the Thermometer part ignored its own part-temperature, sensing instead ambient temperature (as if the sensing element was cleverly mounted like we mount static pressure sensors on aircraft)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood point, thanks for the correction. I\u0027ll fix my charts.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the temperature readings from the pressure rocket I sent up, notice the increasing heat due to airspeed, I assume:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022TxnXZif.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/TxnXZif.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI also notice drastic thermometer increases when flying at sonic speeds. I will run the high altitude density tests with AeroGUI and double check these temperatures as well.\n\u003C/p\u003E\n"},{"CreatedByName":"Schramm","CreatedById":205670,"CreatedDateTime":"2020-06-26T14:03:59Z","Content":"\n\u003Cp\u003E\nOkay, I ran another set of tests, this time taking data from AeroGUI. This showed me that the temperature model isn\u0027t correct. If AeroGUI temperatures are truly what are being used in KSP, then the model is close but not exactly the USSA model. I made a piecewise cubic fit of the model containing 9 sections, here is the update atmospheric model, with a base temperature of 313.5 K.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022QpFTRPr.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/QpFTRPr.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022oeuqOh9.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.20\u0022 height=\u0022340\u0022 width=\u0022605\u0022 src=\u0022https://i.imgur.com/oeuqOh9.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd with these temperatures, I am now also getting a constant 1.25x error on all my data points:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022il4se6i.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002278.89\u0022 height=\u0022441\u0022 width=\u0022559\u0022 src=\u0022https://i.imgur.com/il4se6i.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSo, maybe there is a fudge factor in the code somewhere?\n\u003C/p\u003E\n"}]}