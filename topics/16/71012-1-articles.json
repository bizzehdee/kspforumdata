{"TopicId":71012,"ForumId":16,"TopicTitle":"Xenon Fuel Routing / Priority","CreatedByName":"Camaron","CreatedById":100218,"CreatedDateTime":"2014-04-30T05:21:39Z","PageNum":1,"Articles":[{"CreatedByName":"Camaron","CreatedById":100218,"CreatedDateTime":"2014-04-30T05:21:39Z","Content":"\n\u003Cp\u003ESolved (TL-DR) - Exactly as stated by Kasuha:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EXenon and Monopropellant scans go from root part and count how many decouplers have they passes. Tanks behind the most decouplers are drawn first. Decoupler orientation does not matter as well as it does not matter whether it is an inline or radial decoupler. Docking ports don\u0027t count.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo.... somewhere along the line in my adventures I once realized that an Ion ship of mine had actually bled out the Xenon cell of one docked part before another.\u003C/p\u003E\u003Cp\u003EI desperately want to repeat this occurrence and be able to guide Xenon use in some way. I have been experimenting tons, but cannot get that situation to repeat. Everything I do, Xenon expends evenly across the entire craft. \u003C/p\u003E\u003Cp\u003EDoes anyone know any way to affect the evenly distributed use of Xenon? I could swear I had one ship exhibit the behavior of sapping one docked-on cell without using any of its own fuel without disabling the onboard tanks the traditional way (to my great surprise). If I had known it would be impossible to replicate, I would have kept it around.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-30T19:38:36Z\u0022 title=\u002204/30/2014 07:38  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 30, 2014\u003C/time\u003E by Camaron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2014-04-30T06:06:02Z","Content":"\n\u003Cp\u003EIn 0.23.5, they gave monopropellant and xenon a new flow mode called StagePriorityFlow that tries to use tanks in earlier (higher-numbered) stages first. Since parts keep their stage numbers when docked, you might have docked two components that had xenon tanks in different stages.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-04-30T08:14:33Z","Content":"\n\u003Cp\u003EIt doesn\u0027t depend on staging. \u003C/p\u003E\u003Cp\u003EXenon and Monopropellant scans go from root part and count how many decouplers have they passes. Tanks behind the most decouplers are drawn first. Decoupler orientation does not matter as well as it does not matter whether it is an inline or radial decoupler. Docking ports don\u0027t count.\u003C/p\u003E\n"},{"CreatedByName":"Random Tank","CreatedById":104325,"CreatedDateTime":"2014-04-30T08:23:24Z","Content":"\n\u003Cp\u003ECouldn\u0027t you just stop flow by clicking the little arrow at the end of the resource bar on the right click menu for the xenon tank? That would stop flow from that tank...\u003C/p\u003E\u003Cp\u003EOr are you trying to achieve something else?\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-04-30T10:21:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EIt doesn\u0027t depend on staging. \u003Cp\u003EXenon and Monopropellant scans go from root part and count how many decouplers have they passes. Tanks behind the most decouplers are drawn first. Decoupler orientation does not matter as well as it does not matter whether it is an inline or radial decoupler. Docking ports don\u0027t count.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInteresting. Are you planning to share your testing results like your Fuel Flow Rules tutorial? I\u0027ve found that tutorial immensely useful, and now that ions are more useful it would be great to have a similar reference for xenon.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-04-30T10:40:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EAre you planning to share your testing results like your Fuel Flow Rules tutorial?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m planning it for some time now but I did not get over my laziness to actually do it (and perform all necessary experiments to document all my conclusions).\u003C/p\u003E\n"},{"CreatedByName":"Camaron","CreatedById":100218,"CreatedDateTime":"2014-04-30T15:12:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Random Tank\u0022 data-cite=\u0022Random Tank\u0022\u003E\u003Cdiv\u003ECouldn\u0027t you just stop flow by clicking the little arrow at the end of the resource bar on the right click menu for the xenon tank? That would stop flow from that tank...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, but when you\u0027re managing over a hundred tiny Xenon tanks, this can be a huge PITA.\u003C/p\u003E\u003Cp\u003EI will experiment with the decoupler-based tip. Maybe Xenon tanks that were once behind a decoupler but no longer are, retain this priority. IIRC about the built that I caused the priority with originally, this is a huge possibility. Even if the tanks lose their priority after decoupling, maybe I can force them to retain it by designing a decoupler right into each cluster as necessary.\u003C/p\u003E\n"},{"CreatedByName":"Camaron","CreatedById":100218,"CreatedDateTime":"2014-04-30T15:38:17Z","Content":"\n\u003Cp\u003EBased on Kasuha\u0027s tip, I\u0027ve decoded the basics. As he had said, decouplers trigger Xenon priorities. A Cluster which is behind a decoupler is expended first. A Cluster which was decoupled, and redocked, Does \u003Cstrong\u003Enot\u003C/strong\u003E continue to maintain a priority. A cluster which cleverly contains a decoupler solely as a trigger for the priorites, \u003Cstrong\u003Edoes\u003C/strong\u003E exhibit the routing behavior, which resumes as intended even if the cluster is undocked and then redocked. \u003C/p\u003E\u003Cp\u003EVerdict: Spare Xenon Cells will expend their gas in the correct sequence, so long as each cluster has a decoupler in front of the actual Xenon parts within that component.\u003C/p\u003E\u003Cp\u003EI feel safe to assume that you could daisy-chain numerous Xenon clusters as long as they contain a decoupler, and get the desired behavior. I have not tested chains, so I cannot confirm right now. I have not tested whether separators also have this behavior. It wouldn\u0027t matter to me personally, given that they are heavier.\u003C/p\u003E\u003Cp\u003EEdit: I\u0027ve just tested multiple layers of decoupler-inclusive Xenon clusters. They behave as expected, and priority seems to be granted through a very straightforward countup of how many decouplers are in front of them. The xenon groups with the highest number of decouplers in front of them are first. if you have more than one cluster with the same number of decouplers ahead of them (like a right wing - left wing formation) they share that priority space and expend simultaneously.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-30T15:55:20Z\u0022 title=\u002204/30/2014 03:55  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 30, 2014\u003C/time\u003E by Camaron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-04-30T15:52:30Z","Content":"\n\u003Cp\u003EI can think of some scenarios in which decoupler count could trip up the intended draining/staging sequence. Imagine a ship with three stacks of an equal number of decoupler separated xenon tanks, with one mounted axially to the main ship and two mounted radially. The engines are mounted radially to the ship\u0027s core, separate from the fuel stacks. The player might want to stage away all the pairs of tanks in the radial stacks before starting to work down the axially mounted stack, but the flow behavior would mean that tanks in the central stack would start draining before all the ones in the radial stacks are drained.\u003C/p\u003E\u003Cp\u003EEven asparagus staging would be confused by decoupler count. Six tanks attached by radial decouplers to a core tank would drain evenly (I think, haven\u0027t tested) even if they are staged in pairs, because they are the same number of decouplers away from the root part.\u003C/p\u003E\n"},{"CreatedByName":"Camaron","CreatedById":100218,"CreatedDateTime":"2014-04-30T15:59:51Z","Content":"\n\u003Cp\u003EMy last post was just now edited to address most of that. If you want a three levels of Xenon cells on the radial wings to drain before the axial ones, you will simply need some extra decouplers to boost their priority. A little muddy, but from my testing it should work perfectly. Priority literally equals the number of decouplers between the Xenon tank and the ship\u0027s root part.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-04-30T16:18:39Z","Content":"\n\u003Cp\u003EIf I understand you correctly, you can stack multiple decouplers together between the root part and the tank stacks that are intended to be used first, to raise their decoupler count above that of the axial stack. Is that right? So you can pay a smallish mass penalty in decouplers to have the fuel flow follow the desired order?\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2014-04-30T16:50:37Z","Content":"\n\u003Cp\u003E\u0022Just count the decouplers\u0022 is an excellent example of the programming maxim of \u0022Try the simplest thing that could possibly work.\u0022\u003C/p\u003E\n"},{"CreatedByName":"Camaron","CreatedById":100218,"CreatedDateTime":"2014-04-30T18:31:01Z","Content":"\n\u003Cp\u003EYes, from my understanding, that is exactly correct, Red. You could probably clip the decouplers together a bit, too, but that might (probably will) provoke the Kraken. Also, remember that radial decouplers also count. Docks could be used instead of decouplers in some places to avoid excessive decouplers, since they don\u0027t count.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-04-30T18:43:03Z","Content":"\n\u003Cp\u003EI saw your OP edit, I\u0027m fairly sure the rules for battery drain haven\u0027t changed like monopropellant and xenon (i.e. all batteries drain equally regardless of staging).\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-04-30T19:30:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI saw your OP edit, I\u0027m fairly sure the rules for battery drain haven\u0027t changed like monopropellant and xenon (i.e. all batteries drain equally regardless of staging).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, batteries did not change, I tested that together with monopropellant. And I assume intake air did not change as well, as both are rechargeable resources.\u003C/p\u003E\n"},{"CreatedByName":"Camaron","CreatedById":100218,"CreatedDateTime":"2014-04-30T19:38:56Z","Content":"\n\u003Cp\u003EThat line has been sliced, then.\u003C/p\u003E\n"}]}