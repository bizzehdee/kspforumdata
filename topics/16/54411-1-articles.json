{"TopicId":54411,"ForumId":16,"TopicTitle":"Uneven angular torque compensation while translating using RCS","CreatedByName":"Wampa842","CreatedById":85841,"CreatedDateTime":"2013-11-26T12:23:55Z","PageNum":1,"Articles":[{"CreatedByName":"Wampa842","CreatedById":85841,"CreatedDateTime":"2013-11-26T12:23:55Z","Content":"\n\u003Cp\u003EWhile building space stations, I like using RCS-powered \u0022tugboats\u0022 to move parts around, but recently I haven\u0027t been able to build a decent one.\u003C/p\u003E\u003Cp\u003EWhen I translate using RCS with SAS on, it also rotates the boat. This only happens when I\u0027m translating to one direction, usually left, but it has also happened with all six directions. In all of those cases, none of the other directions had this problem.\u003C/p\u003E\u003Cp\u003EIt happens because, as I noticed, SAS doesn\u0027t counter the angular torque of RCS thrust when translating on the bugged direction. The markers at the bottom left corner show that the SAS\u0027 reaction wheel applies some torque when translating on all but the bugged direction. I\u0027ve yet to find what really causes this. My crafts are evenly balanced, and it also happens on a vanilla install.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-26T15:31:28Z\u0022 title=\u002211/26/2013 03:31  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 26, 2013\u003C/time\u003E by Wampa842\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"larsmaehlum","CreatedById":51566,"CreatedDateTime":"2013-11-26T13:13:04Z","Content":"\n\u003Cp\u003EI have found this to happen when I don\u0027t have exactly 4 or 8 thruster blocks around the center of mass. Seems it calculates something wrong when you try to thrust left, but no thruster block is able to apply force in exactly that direction and it has to do a partial thrust on multiple blocks. Not sure if this is your problem. Do you have a screenshot of the craft in question?\u003C/p\u003E\n"},{"CreatedByName":"Dante80","CreatedById":91509,"CreatedDateTime":"2013-11-26T13:17:11Z","Content":"\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/35996-0-22-RCS-Build-Aid-v0-4-For-balanced-placement-of-RCS-GUI-added\u0022 rel=\u0022external nofollow\u0022\u003EUse this\u003C/a\u003E, your COM is probably not aligned with the RCS blocks, thus producing rotation when translating. Have in mind that the COM of your ship changes dramatically during a flight, both due to fuel consumption and docking other parts for tugging.\n"},{"CreatedByName":"Wampa842","CreatedById":85841,"CreatedDateTime":"2013-11-26T13:25:44Z","Content":"\n\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/v4ihZjH.jpg\u0022 alt=\u0022v4ihZjH.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/uwcvqDI.jpg\u0022 alt=\u0022uwcvqDI.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/u02nr46.jpg\u0022 alt=\u0022u02nr46.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EEight RCS blocks perfectly balanced around the CoM, everything but the antennae is stock.\u003C/p\u003E\u003Cp\u003EI decoupled the docking port just below the 2-1m adapter, tried it in space, same problem. I can send you a .craft file if you\u0027d try it.\u003C/p\u003E\n"},{"CreatedByName":"Rosco P. Coltrane","CreatedById":61065,"CreatedDateTime":"2013-11-26T13:28:42Z","Content":"\n\u003Cp\u003EI noticed the same as larsmaehlum. My tug, that worked perfectly in 0.20, has \u0022rows\u0022 of three thrusters and it\u0027s drifting off axis all the time.\u003C/p\u003E\n"},{"CreatedByName":"Dante80","CreatedById":91509,"CreatedDateTime":"2013-11-26T13:31:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wampa842\u0022 data-cite=\u0022Wampa842\u0022\u003E\u003Cdiv\u003E. I can send you a .craft file if you\u0027d try it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, send it over. I like space tugs very much..C:\u003C/p\u003E\n"},{"CreatedByName":"Wampa842","CreatedById":85841,"CreatedDateTime":"2013-11-26T13:41:49Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://docs.google.com/file/d/0B20HEDvnk-sycWVHVWY3V0RVbFk\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.google.com/file/d/0B20HEDvnk-sycWVHVWY3V0RVbFk\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EShould be all-stock. I didn\u0027t include the boosters.\u003C/p\u003E\n"},{"CreatedByName":"Dante80","CreatedById":91509,"CreatedDateTime":"2013-11-26T13:43:47Z","Content":"\n\u003Cp\u003ENo worries, I\u0027ll send it up with style...going to test now..XD\u003C/p\u003E\n"},{"CreatedByName":"Dante80","CreatedById":91509,"CreatedDateTime":"2013-11-26T14:16:16Z","Content":"\n\u003Cp\u003EOkies, here are some suggestions.\u003C/p\u003E\u003Cp\u003E1. As mentioned, the RCS blocks are a little off for your COM, and a lot off when you spend some of the RCS fuel in your tank. Here are a couple of screenshots:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i44.photobucket.com/albums/f9/Dante80/bellycancer/Untitled-1_zps72db2977.jpg~original\u0022 alt=\u0022Untitled-1_zps72db2977.jpg~original\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i44.photobucket.com/albums/f9/Dante80/bellycancer/Untitled-2_zps97c950f1.jpg~original\u0022 alt=\u0022Untitled-2_zps97c950f1.jpg~original\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, the position of the RCS fuel tank unbalances the craft when you spend some of the fuel for rendezvous, tugging and docking. A nifty way to counteract this is to change your part order a little and use the heavy RTGs as weights to balance your crafts COM and DCOM. Here is the result:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i44.photobucket.com/albums/f9/Dante80/bellycancer/Untitled-1_zps8fc8dd29.jpg~original\u0022 alt=\u0022Untitled-1_zps8fc8dd29.jpg~original\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i44.photobucket.com/albums/f9/Dante80/bellycancer/Untitled-2_zps5dec75ad.jpg~original\u0022 alt=\u0022Untitled-2_zps5dec75ad.jpg~original\u0022\u003E\u003C/p\u003E\u003Cp\u003E2. Even if you have a perfectly balanced tug though, you might still encounter problems. The reason is that your COM changes as soon as you dock with a payload to ferry. If we are talking about station parts, a good suggestion would be to use your tug as a subassembly, adding it to the payload when designing in the vab and adjusting the payload RCS blocks to compensate for the new COM. If you don\u0027t want to add RCS thrusters to your payloads though, you will still have problems. Adding more reaction wheels to the tug might help, as long as you limit your thrusting to small intervals. \u003C/p\u003E\u003Cp\u003E3. And even if you have a balanced payload/tug assembly, you might still encounter problems. I have also sometimes encountered the bug you speak of, and it may well stay that way in some situations. Having a balanced ship though will help a lot in limiting it. \u003C/p\u003E\u003Cp\u003EHope that helps, cheers. Here is a craft file for the modded tug if you want to test it...C:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www./download/iy5row5vnyye97e/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./download/iy5row5vnyye97e/\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-26T14:35:37Z\u0022 title=\u002211/26/2013 02:35  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 26, 2013\u003C/time\u003E by Dante80\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wampa842","CreatedById":85841,"CreatedDateTime":"2013-11-26T14:34:27Z","Content":"\n\u003Cp\u003EI have that RCS helper, it showed no rotation, and no change in DCoM at all. Besides, the problem is not with the balance, it\u0027s with SAS. Like I said in the first post, it compensates angular torque on all but one axis.\u003C/p\u003E\u003Cp\u003EI might try redownloading the whole game and pray for resolution.\u003C/p\u003E\n"},{"CreatedByName":"Dante80","CreatedById":91509,"CreatedDateTime":"2013-11-26T14:42:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wampa842\u0022 data-cite=\u0022Wampa842\u0022\u003E\u003Cdiv\u003EI have that RCS helper, it showed no rotation, and no change in DCoM at all.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThen you might have a mod conflict or an old version, because the tug you gave me is \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Edefinitely\u003C/span\u003E not balanced in DCoM. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003ETry out the modded tug I posted and see if you can replicate the problem you have.\u003C/p\u003E\n"},{"CreatedByName":"wasmic","CreatedById":64885,"CreatedDateTime":"2013-11-26T14:58:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wampa842\u0022 data-cite=\u0022Wampa842\u0022\u003E\u003Cdiv\u003EWhile building space stations, I like using RCS-powered \u0022tugboats\u0022 to move parts around, but recently I haven\u0027t been able to build a decent one.\u003Cp\u003EWhen I translate using RCS with SAS on, it also rotates the boat. This only happens when I\u0027m translating to one direction, usually left, but it has also happened with all six directions. In all of those cases, none of the other directions had this problem.\u003C/p\u003E\u003Cp\u003EIt happens because, as I noticed, SAS doesn\u0027t counter the angular torque of RCS thrust when translating on the bugged direction. The markers at the bottom left corner show that the SAS\u0027 reaction wheel applies some torque when translating on all but the bugged direction. I\u0027ve yet to find what really causes this. My crafts are evenly balanced, and it also happens on a vanilla install.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it\u0027s a known bug - C7 (I think it was him, anyway) said that a fix has been made and is waiting on 0.23. You\u0027re using docking control, right? Using staging and hnjikl will allow you to circumvent that bug for now.\u003C/p\u003E\n"},{"CreatedByName":"Wampa842","CreatedById":85841,"CreatedDateTime":"2013-11-26T15:22:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022wasmic\u0022 data-cite=\u0022wasmic\u0022\u003E\u003Cdiv\u003EI think it\u0027s a known bug - C7 (I think it was him, anyway) said that a fix has been made and is waiting on 0.23. You\u0027re using docking control, right? Using staging and hnjikl will allow you to circumvent that bug for now.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe kind of answer I was looking for, thank you. I guess I\u0027ll just have to wait until the next update.\u003C/p\u003E\u003Cp\u003EOne thing still remains, though. I built a tug back in .21 and I copied the .craft to my .22 career save - it worked perfectly. That one either had a flawless design, or it\u0027s a bug with VAB.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-11-26T15:24:46Z","Content":"\n\u003Cp\u003ETwo things; are you using fine control mode, activated with CAPS lock? And are you using docking mode for translation controls? \u003C/p\u003E\u003Cp\u003EFine control mode should help at least a little by reducing thrust from some of the RCS blocks to compensate for any offset in the COM. \u003C/p\u003E\u003Cp\u003EAnd docking mode doesn\u0027t work right for RCS translation controls as wasmic said. When you switch to docking mode and use the WASD keys it will make SAS momentarily switch to damping mode (the orange arrows on the SAS indicator), which can really screw up your heading in some cases. The behavior of this isn\u0027t entirely predictable and sometimes thrusting in one direction will trigger damping mode while others won\u0027t.\u003C/p\u003E\u003Cp\u003EOnly use the translation controls in staging mode and you should avoid this problem.\u003C/p\u003E\n"},{"CreatedByName":"arq","CreatedById":71084,"CreatedDateTime":"2013-11-26T16:40:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003ETwo things; are you using fine control mode, activated with CAPS lock? And are you using docking mode for translation controls? \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAgreed, I find that fine controls reduce the necessity of meticulously trying to balance RCS. It also helps if while in this mode, you just repeatedly tap the translation keys rather than holding them down.\u003C/p\u003E\n"}]}