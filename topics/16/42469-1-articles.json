{"TopicId":42469,"ForumId":16,"TopicTitle":"Matching Rotation with Planet\u0026#039;s Surface","CreatedByName":"el_oscuro","CreatedById":78907,"CreatedDateTime":"2013-08-14T15:00:34Z","PageNum":1,"Articles":[{"CreatedByName":"el_oscuro","CreatedById":78907,"CreatedDateTime":"2013-08-14T15:00:34Z","Content":"\n\u003Cp\u003EHey gang, long-time lurker first-time poster. I\u0027ve been playing for over a year now on and off but only casually (no mods) and don\u0027t do all the sums like some of you guys (hey physics is my day job- I play with Jeb and co. to have fun \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)!\u003C/p\u003E\u003Cp\u003EAnyway, it\u0027s good to have this community for modding and asking questions and here\u0027s something that\u0027s bugged me for a while. It\u0027s probably been answered before, but I can\u0027t find it on here so here goes.\u003C/p\u003E\u003Cp\u003EIf I have a craft in orbit over a body, is there a simple way to match the internal rotational period of the ship with its orbital period around the body, i.e. lock the vessel\u0027s nose to always be pointing prograde at the horizon, for example? I\u0027ve often found when building space stations that it would be useful to be able to approach from behind the station and \u003Cem\u003Eknow\u003C/em\u003E where the docking ports are without having to switch to it and back to check what orientation it\u0027s at. If its spin were coupled to its orbit, then I\u0027d be able to just come up from target retrograde and slot in, instead of having to dance around and find the port I want. Any thoughts?\u003C/p\u003E\n"},{"CreatedByName":"ChevronTango","CreatedById":70939,"CreatedDateTime":"2013-08-14T15:17:06Z","Content":"\n\u003Cp\u003EI don\u0027t know of a way of holding your heading like that when in orbit, however for ease of docking, I always align my space station north-south when its on an equitorial orbit. That way I always know when trying to dock with it, that I should approach from south to north, though I\u0027ll need to rotate my alignment when I get nearer. The space station will continue rotate the way you described, but around the north south axis, so you might as well keep it pointing that way for ease of docking.\u003C/p\u003E\n"},{"CreatedByName":"Johnno","CreatedById":67618,"CreatedDateTime":"2013-08-14T15:20:25Z","Content":"\n\u003Cp\u003ENot possible to do what you\u0027re asking. The only way is with an autopilot (like mechjeb) but even then it only works while you\u0027re flying that specific craft, as soon as you swap to another craft the previous craft gets put \u0022on rails\u0022 and continues its orbit in the direction it was facing when you swapped.\u003C/p\u003E\n"},{"CreatedByName":"2-Zons","CreatedById":94850,"CreatedDateTime":"2013-12-04T07:35:56Z","Content":"\n\u003Cp\u003EThis seems strange that there is no way to do this, even without Mechjeb. SAS should be able to lock on surface get your rotation matched and once matched it would stay that way forever. Obviously IRL most satellites have their rotation matched with their orbit. I\u0027m sure it requires the occasional adjustment to keep it perfect, and so that a microscopic mismatch of rotation doesn\u0027t accumulate.\u003C/p\u003E\n"},{"CreatedByName":"Dogface","CreatedById":75396,"CreatedDateTime":"2013-12-04T11:27:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Johnno\u0022 data-cite=\u0022Johnno\u0022\u003E\u003Cdiv\u003ENot possible to do what you\u0027re asking. The only way is with an autopilot (like mechjeb) but even then it only works while you\u0027re flying that specific craft, as soon as you swap to another craft the previous craft gets put \u0022on rails\u0022 and continues its orbit in the direction it was facing when you swapped.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have also found this to be the case. \u003C/p\u003E\u003Cp\u003EAnd if you were to have a hundred ships in space (and 300 debris), you wouldn\u0027t want the program to be calculating all their headings. It would slow the game down, not something youd want while youre trying fly a ship.\u003C/p\u003E\n"},{"CreatedByName":"Sirrobert","CreatedById":70591,"CreatedDateTime":"2013-12-04T12:41:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00222-Zons\u0022 data-cite=\u00222-Zons\u0022\u003E\u003Cdiv\u003EThis seems strange that there is no way to do this, even without Mechjeb. SAS should be able to lock on surface get your rotation matched and once matched it would stay that way forever. Obviously IRL most satellites have their rotation matched with their orbit. I\u0027m sure it requires the occasional adjustment to keep it perfect, and so that a microscopic mismatch of rotation doesn\u0027t accumulate.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, it makes perfect sense. Rotation means physics calcuation. There is no physics calculation if you are not manually flying the craft. The alternative is to simulate EVERYTHING. Which would melt your CPU faster than Wackjob could\u003C/p\u003E\n"},{"CreatedByName":"Starwhip","CreatedById":83990,"CreatedDateTime":"2013-12-04T13:19:38Z","Content":"\n\u003Cp\u003EThe adjustment of rotation would be so slight that you wouldn\u0027t be able to do it yourself. I don\u0027t know if there are mods to do that, but you could look it up.\u003C/p\u003E\n"},{"CreatedByName":"Murph","CreatedById":90837,"CreatedDateTime":"2013-12-04T13:28:11Z","Content":"\n\u003Cp\u003EThe game wouldn\u0027t need to constantly do it for every object out there. It could be done on loading/unloading objects. On unloading, store the last time, current rotation, and rotational velocity/parameters, and you can calculate the position it should be at when next loaded. There would be rounding errors, and such, so a complete solution might include some way to record a setting such as \u0022pointed toward/away from object, prograde/retrograde, norm \u002B/-, rad \u002B/-, etc\u0022. I.e. much the same way as the system currently \u0022cheats\u0022 on the orbit calculations, by not really doing the same as when an object is actually loaded, just the minimum to keep track of it for when it\u0027s actually needed.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2013-12-04T15:27:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sirrobert\u0022 data-cite=\u0022Sirrobert\u0022\u003E\u003Cdiv\u003ENo, it makes perfect sense. Rotation means physics calcuation. There is no physics calculation if you are not manually flying the craft. The alternative is to simulate EVERYTHING. Which would melt your CPU faster than Wackjob could\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EConservation of angular momentum during on-rails phase should not be that much of a problem, the game could do that exactly the same way it is done with planets. The ship would just keep rotating at the same angular speed it rotated right before the warp started. Unless SAS is on which case must be handled separately - either stop any signs of rotation (if ship\u0027s rotation is small enough) or switch SAS off (if the ship is rotating more than certain threshold).\u003C/p\u003E\u003Cp\u003EThere is just slight problem with planet rotational spheres of influence because it would need some adjustments against planet rotation pulling the ships rotation along (which you might have noticed happens now in LKO and in many other places). But that still can be done in a \u0022deterministic one-shot\u0022 way without need for iterating.\u003C/p\u003E\u003Cp\u003ETurning the ship the same side towards the planet as a special mode can surprisingly come along all that because it\u0027s also deterministic.\u003C/p\u003E\n"},{"CreatedByName":"M5000","CreatedById":57096,"CreatedDateTime":"2013-12-04T15:48:48Z","Content":"\n\u003Cp\u003EYou can keep the nose pointed north, and have it rotate about its central \u0022shaft\u0022 just rotate to the normal/antinormal position and, while the craft will still roll, at least the nose/engine will always point north/south depending on how you place it. \u003C/p\u003E\u003Cp\u003EThis assumes an equatorial orbit, though, else it won\u0027t be perfectly North or South.\u003C/p\u003E\n"},{"CreatedByName":"2-Zons","CreatedById":94850,"CreatedDateTime":"2013-12-04T16:31:02Z","Content":"\n\u003Cp\u003EI don\u0027t think they would need to have all the overhead you speak of Dogface. First off Debris wouldn\u0027t change. What happens to debris now when it\u0027s left spinning? Whatever it is, there would be no reason to change anything with debris. Now for ships, stations etc, if the SAS had an option to match rotation to surface, for one, the game engine could just assume that it was very good at matching the rotation, so no corrections are required. A flag could be set indicating that the object has it\u0027s rotation matched to surface. Whenever an object is loaded or switched to and it has the \u0027locked to surface\u0027 flag set, then it would simply align the objets rotation with the surface before it\u0027s loaded. No need to continuously do calculations. In fact this could reduce calculations from what they are now.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-12-04T16:35:09Z","Content":"\n\u003Cp\u003EThe reason why you can\u0027t maintain a fixed orientation with respect to a planet is that the game doesn\u0027t consider or store that information. Your orientation is only considered with respect to the entire Kerbal universe. If you look at the persistence file each vessel has an orientation line that defines which direction you are pointed.\u003C/p\u003E\u003Cp\u003EWith a few exceptions you probably wouldn\u0027t want the game to work otherwise. For instance, locking onto a maneuver node and following it during a long burn is much more important than being able to maintain the alignment of a space station. That wouldn\u0027t be possible if SAS locked you heading relative to a planet. \u003C/p\u003E\u003Cp\u003EThe only way to maintain a fixed orientation is to point directly north or south. That way your orientation is fixed in two dimensions while it simply rotates around the third dimension (i.e. a docking port will always point directly north or south, but the craft as whole will still rotate). \u003C/p\u003E\u003Cp\u003EThe only way to keep your orientation fixed with respect to a planet (which is not necessarily the same thing as what I described above) is to align along the normal vectors. You can do this by making a maneuver node, pull out one of the purple icons, and align yourself with the blue maneuver node on the navball. If you are in a equatorial orbit this means pointing north/south, but for other inclinations it will be different.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-04T16:37:36Z\u0022 title=\u002212/04/2013 04:37  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 4, 2013\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2013-12-05T03:16:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022el_oscuro\u0022 data-cite=\u0022el_oscuro\u0022\u003E\u003Cdiv\u003EI\u0027ve often found when building space stations that it would be useful to be able to approach from behind the station and \u003Cem\u003Eknow\u003C/em\u003E where the docking ports are without having to switch to it and back to check what orientation it\u0027s at.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOrientate space stations \u002Bnormal or -normal (docking port pointing north or south if in equatorial orbit).\u003C/p\u003E\n"},{"CreatedByName":"Alistone","CreatedById":60032,"CreatedDateTime":"2013-12-06T02:42:57Z","Content":"\n\u003Cp\u003ESo I don\u0027t recall where I read it, but it turns out tha to orient themselves astronauts would use a distant constellation that essentially is the same direction from everywhere in the solar system. \u003C/p\u003E\u003Cp\u003EYou can use the same method by aligning your ships with a distant star/constellation of the background. I usually point at the \u0022Milky Way\u0022 of Kerbin which creates that illuminated ring. You can pick a blue or red star or spiral and use that as your designated align point.\u003C/p\u003E\u003Cp\u003EThis way regardless of where in the solar system you are, you have the same reference point for direction. The problem is that it isn\u0027t the most precise alignment since you aren\u0027t using a nav-ball marker to set it up. But it still helped me a few times. Other times I would tend to just point due north/south for equatorial orbits.\u003C/p\u003E\n"},{"CreatedByName":"LethalDose","CreatedById":92657,"CreatedDateTime":"2013-12-06T03:03:30Z","Content":"\n\u003Cp\u003EAs stated above, I don\u0027t think there\u0027s a way for a craft to maintain an orientation relative the body it\u0027s orbiting, at least not in the stock game, and there are the simulation issues discussed above.\u003C/p\u003E\u003Cp\u003EThere \u003Cem\u003Eis\u003C/em\u003E a station design work around for this issue, though, that I\u0027ve found works well. If you orient your station\u0027s primary axis to align with the planet\u0027s poles, and place a ring of docking ports (4-6) radially around the axis, the direction of your approach doesn\u0027t matter, since there should be a port facing you.\u003C/p\u003E\u003Cp\u003EAgain, doesn\u0027t fix the original question, but it may help avoid your immediate problem.\u003C/p\u003E\n"}]}