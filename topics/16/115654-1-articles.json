{"TopicId":115654,"ForumId":16,"TopicTitle":"SAS Heading Lock Spasming","CreatedByName":"Phanixis","CreatedById":145750,"CreatedDateTime":"2015-07-11T19:05:41Z","PageNum":1,"Articles":[{"CreatedByName":"Phanixis","CreatedById":145750,"CreatedDateTime":"2015-07-11T19:05:41Z","Content":"I have discovered a new problem with KSP.\n\nI recently built a ship composed of an empty command pod, drone core, avionics fly-by-wire hub, advanced inline stabilizer, RCS thrusters, two rechargeable batteries, two solar panels, some parachutes a spark engine and a fuel tank. This ship gets launched from a space plane and then is used to retrieve stranded Kerbal for career mode contract missions.\n\nThe ship would work great if it weren\u0027t for the fact the the SAS head lock is flaking out. Whenever I set a heading, the spacecraft points almost in the direction of the heading, but with a slight offset. It then starts vibrating as it seems the SAS is trying to pull it the rest of the way to the heading and something else is pooling it back. This as the consequence of both making calculated burns inaccurated an rapidly draining battery power. If it weren\u0027t for the solar panels, I think the SAS would drain spacecraft stored power in the space of a minute. If RCS is enabled, it will similarly waste all of the crafts mono propellant. \n\nThis problems takes a spacecraft that is specialized in orbital rendezvous maneuvers and supposed to make them painless and makes all orbital maneuvers needlessly complicated.\n\nDoes anyone know what is going on here? Why is the SAS behaving this way?\n\nThanks for the help."},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T19:10:14Z","Content":"This has been around for quite some time. It generally happens when A] You have a lot of torque [for your craft size]. B] Your craft is small. It happens quite a lot with me; little bug that needs to be fixed. [it could very well be the NaNo virus during lunchbreak, but that\u0027s a bit of paranoia kicking in]"},{"CreatedByName":"_stilgar_","CreatedById":147818,"CreatedDateTime":"2015-07-11T19:12:38Z","Content":"It\u0027s best to switch to \u0022stabilize\u0022 SAS mode when you are close to your heading. If you switch to stabilize and then back to heading, it\u0027s much less shaky."},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-07-11T19:38:10Z","Content":"Yeah. Sadly tiny ships with lots of torque don\u0027t know what to do with it all. Big ships with lots of bend can shake themselves apart. Mid sized ships with low(ish) torque though tend to keep their headings fairly well.\n\nI\u0027ve seen tiny ship shimmy-shake themselves into slow circles, wandering far from the intended target on the navball."},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-07-12T01:01:13Z","Content":"One thing you can do to mitigate this in certain circumstances is to toggle torque on/off for the reaction wheels. For example, suppose you want a lot of torque available when you\u0027re manually controlling the ship (to make it nimble), but when you are telling it to hold a particular orientation, you\u0027re not really doing maneuvering and don\u0027t need the extra torque. So when you get to that situation, just turn off the reaction wheel in the SAS stabilizer. As long as you still have *some* torque left (e.g. from your command pod), then that will give you the ability to hold a heading without going all ........\n\nAside from fixing the bug, I really wish Squad would make reaction wheels tweakable, so that you can control the amount of torque they generate to something less than 100% (similar to what you can already do with gimbals on engines). Right now they\u0027re either 100% on or 100% off, no in between.\n\nA side note: If you ever use a mod that has some other form of automatic attitude control available, that may help. For example, I like using RemoteTech, and its flight computer has a mode that\u0027s similar to what SAS does (e.g. you can tell it \u0022hold orbital prograde\u0022 or whatever). And notably, RemoteTech\u0027s flight computer does *not* have that bug, so it avoids the spasm. Also, I know that there are popular autopilot mods out there (like MechJeb)-- haven\u0027t used them myself, but perhaps they might provide a similar benefit? Perhaps someone familiar with MechJeb (or its ilk) could comment."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-07-12T04:24:08Z","Content":"Yeah, unfortunately has been stated, small craft or craft with a lot of torque tend to shake a lot when using the pilot SAS abilities. You need to either reduce the control authority, or make the ship heavier (neither of which is always ideal). The other option is to let it steer you to the right place (such as for the maneuver node), then activate \u0022Stability Hold\u0022 which works a bit better than the other modes.\n\nIf you aren\u0027t opposed to add-ons, I\u0027ve been working on a fix for this that is included in my [bugfix mod](https://forum.kerbalspaceprogram.com/threads/97285). Not perfect, but seems to do a bit better. There\u0027s also a StockPlus option that lets you tweak the SAS settings a bit.\n\nCheers,\n\n~Claw"},{"CreatedByName":"Mic_n","CreatedById":27054,"CreatedDateTime":"2015-07-12T11:53:48Z","Content":"\u003E \n\u003E So when you get to that situation, just turn off the reaction wheel in the SAS stabilizer.\n\nJust thinking here, but you could probably also edit the SAS action group to automatically toggle the wheels..\n\n\u003E \n\u003E Also, I know that there are popular autopilot mods out there (like MechJeb)-- haven\u0027t used them myself, but perhaps they might provide a similar benefit? Perhaps someone familiar with MechJeb (or its ilk) could comment.\n\nMechjeb\u0027s Smart A.S.S holds can suffer from an amount of flutter as well, thuogh it\u0027s usually a little different. Pretty much comes down to a combination of sample rates and how aggressive it is with the control inputs, it\u0027s all a matter of trade-offs."}]}