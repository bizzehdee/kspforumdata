{"TopicId":62921,"ForumId":16,"TopicTitle":"Precise KEO/KSO insertion","CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-12T00:32:42Z","PageNum":1,"Articles":[{"CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-12T00:32:42Z","Content":"\n\u003Cp\u003EMy original question is below, but if anyone wants a spreadsheet that they can input their orbital values into to move into a precise KSO/KEO orbit, the link is:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://docs.google.com/spreadsheet/ccc?key=0AmfOWKPzBUdwdHRuUUpmeURLMTJ6Uk5IbzNfTU5LTHc\u0026amp;usp=drive_web#gid=0\u0022 rel=\u0022external nofollow\u0022\u003ESPREADHSEET\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI haven\u0027t bothered making it super precise so that you can enter your current altitude, so it works best if you start from a parking orbit with an eccentricity close to 0. If anyone has any suggestions or notices something wrong, please let me know!\u003C/p\u003E\u003Cp\u003EHello! I apologize for such a simple question but I can\u0027t seem to find an answer in the normal wiki spots.\u003C/p\u003E\u003Cp\u003ECurrently in my games, to put a satellite into KEO/KSO I just park them above or below the correct altitude and wait for the target to pass under to correct the orbital period to 6 hours.\u003C/p\u003E\u003Cp\u003EI got to thinking that there must be a way to predetermine when to make a burn so that you arrive at periapsis or apoapsis above your target and make it a bit more scientific. If some of you wizards of maths could help me I\u0027d very much appreciate it. \u003C/p\u003E\u003Cp\u003EI\u0027d ultimately like to put 3 satellites each into inclinations graduating by 45 degrees, for a total of 24 if my math is right. Each satellite in the same inclination would be separated by 2 hours, and all inclinations would intersect above a common point (KSO for the first satellite), with a satellite passing over that intersection point every 15 minutes. I plan to have the apoapsis and periapsis values different for satellites orbiting in prograde and retrograde to prevent collisions, but will enjoy the problem of fine tuning that dance when I encounter it.\u003C/p\u003E\u003Cp\u003EI did search the forums, but didn\u0027t find an answer so assumed if it\u0027s there to find I\u0027m suffering from a case of missing keys.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-13T16:50:48Z\u0022 title=\u002202/13/2014 04:50  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 13, 2014\u003C/time\u003E by tkb\u003C/strong\u003E\n\u003Cbr\u003EAdded spreadsheet link!\n\u003C/span\u003E\n"},{"CreatedByName":"Rhomphaia","CreatedById":2440,"CreatedDateTime":"2014-02-12T02:04:01Z","Content":"\n\u003Cp\u003EBest idea would be to choose a circular parking orbit at the altitude where the periapsis would be on a four hour orbit with apoapsis at KSO altitude.\u003C/p\u003E\u003Cp\u003EThen burn when you are directly opposite your desired point and wait 1.5 orbits to circularize\u003C/p\u003E\n"},{"CreatedByName":"adinfinitum","CreatedById":49226,"CreatedDateTime":"2014-02-12T05:15:48Z","Content":"\n\u003Cp\u003ETo get a satellite directly above a location on Kerbin stationary orbit, first you need to find out the angle between the satellite and the location you want it above. Take that, divide by 360, and then multiply that number times 6 hours (21,600 seconds). \u003C/p\u003E\u003Cp\u003EIf you are ahead of the location, this is the amount of time you need to increase your orbital period by, and if you are behind that location it is the amount of time you need to decrease your period by. \u003C/p\u003E\u003Cp\u003ENow that you know the time that your orbit needs to take, you can solve \u003Ca href=\u0022https://en.wikipedia.org/wiki/Orbital_period#Small_body_orbiting_a_central_body\u0022 rel=\u0022external nofollow\u0022\u003Ethis equation\u003C/a\u003E for the semi major axis, and adjust your orbit accordingly. After one full orbit you circularize back to a six hour period, and you should be in your desired position.\u003C/p\u003E\u003Cp\u003EThe same thing works for satellite spacing, just find out what angle the craft is at from where you want it to be at.\u003C/p\u003E\u003Cp\u003EIf you are doing inclination intervals of 45 degrees, you should only need 12 satellites, otherwise once you get past four inclinations the orbits start to overlap, but the satellites will be traveling in opposite directions, making for a nice fireworks show.\u003C/p\u003E\n"},{"CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-13T03:49:22Z","Content":"\n\u003Cp\u003EThanks for the answer. I\u0027d just like to make sure I smell what you\u0027re stepping in and not getting lucky.\u003C/p\u003E\u003Cp\u003ELet\u0027s say I\u0027m in a parking orbit with a SMA of 2633.09 km. That should give me an orbital period of 14285.41 seconds. I would want to burn to raise my apoapsis to ~2868.75km, giving me a SMA of 3050.92 km, and increasing my orbital period to 17817.24 seconds. So I\u0027d take the difference of 3531.83 seconds, divide by 21600, then multiply by 360 to get the degrees? That results in 58.86 degrees, which I\u0027d then wait one full orbit and circularize at periapsis to give myself an orbital period of 6 hours?\u003C/p\u003E\u003Cp\u003EBased on the above, I decided to try to half it so I could burn at the next apoapsis, and it put me about right above KSC (I burnt at ~104 degrees west). Now to figure out the timing for a bi-elliptic transfer.\u003C/p\u003E\n"},{"CreatedByName":"adinfinitum","CreatedById":49226,"CreatedDateTime":"2014-02-13T04:46:30Z","Content":"\n\u003Cp\u003EI think that might\u0027ve ended up being a little more luck than anything else. I wish there was a way to write out formulas in a post that looked nice and neat, it would make things so much easier.\u003C/p\u003E\u003Cp\u003EThe math you did is almost right, because you increased took the difference between the first orbit and the second orbit, you\u0027d have to divide by the period of the second orbit to get the angular change between your position before and after one orbit, relative to the other orbit. \u003C/p\u003E\u003Cp\u003EStarting from a parking orbit at a lower altitude complicates things a little bit, because then you have to take into account how long it takes for you to travel from position one to position two, and from there you can found out the angle you need to be at relative to the second position to make the burn at. It essentially becomes the same as an interplanetary transfer, where you have a specific launch window to get from point A to point B. \u003C/p\u003E\u003Cp\u003EIf you want to do it this way, then you have to find the flight time for one half of the transfer orbit, because when you perform a Hohmann transfer you only go through half of the orbit before you recircularize. \u003C/p\u003E\u003Cp\u003EStarting from a 2633.09 km SMA, the transfer orbit will have a SMA of 3050.92 km, and a period of 17817.24s. Divide that by two to get the travel time, which is 8908.62s. Now imagine that you draw a line straight up from the location you want to be over to the synchronous orbit, and place a ball there. It\u0027s orbital period will be 21600s, so if we divide 8908.62 by 21600, we will get the percent of it\u0027s orbit the ball travels through. Multiply by 360 and you get the number of degrees it travels, which in this case is 148.48 degrees. This means that the target will travel ~148 degrees while you complete your transfer to apoapsis of the higher orbit. This means that the target must be 180-148.48 degrees in front of you when you begin the transfer, or 31.52 degrees. If you burn at this time, it will place your apoapsis directly at the target, where you then burn and circularize.\u003C/p\u003E\u003Cp\u003EHowever, if it was me, I would start at synchronous orbit, find the angle between me and the location I want to be, and follow the math from my first post. If you\u0027ve done rendezvous of two craft in the same orbit, its the same idea, except with a location as your target instead of a second craft. For example, I launch in synchronous orbit, but find out I am about 45 degrees too far ahead of where I want to be. I divide 45 by 360, and multiply by 21600, to give me 2700s. I can rearrange the equation for orbital period to solve for SMA, just plug in everything and let algebra do its magic. Because you are ahead of the desired position, add 2700 to 21600, solving gives me a SMA of 3752.10 km. This means that apoapsis needs to be increased 4035.46 km, if I did all the math right. \u003C/p\u003E\u003Cp\u003EIMO, the second method is easier and faster to do that the first, but if you need a parking orbit for some reason then the first method would be the way to go. Also, I know there is a protractor program you can download that overlays a movable protractor onto your desktop screen, it\u0027s very useful for finding angles between objects. I don\u0027t know what it is called or where it is however, it\u0027s on my computer but I can\u0027t find it at the current moment. If you have any questions about any algebra I left out between steps let me know, it would be a lot easier if I could draw out diagrams and formulas onto the forum.\u003C/p\u003E\n"},{"CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-13T06:27:01Z","Content":"\n\u003Cp\u003EAh, it was absolutely luck that it ended up in the correct position! I ended up making corrections to a spreadsheet I made for KEO/KSO launches and tested it with varying parking orbits and I\u0027m putting satellites within a degree of KSC, so it\u0027s great. I know it may be more complicated, but it makes me feel like I\u0027m doing it the way a mission planner on earth would do it.\u003C/p\u003E\u003Cp\u003EAnyway, thanks again!\u003C/p\u003E\n"},{"CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-13T16:52:37Z","Content":"\n\u003Cp\u003EMy original question has been answered, but if anyone wants a spreadsheet that they can input their orbital values into to move into a kind of precise KSO/KEO orbit, the link is:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://docs.google.com/spreadsheet/ccc?key=0AmfOWKPzBUdwdHRuUUpmeURLMTJ6Uk5IbzNfTU5LTHc\u0026amp;usp=drive_web#gid=0\u0022 rel=\u0022external nofollow\u0022\u003ESPREADHSEET\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI haven\u0027t bothered making it super precise so that you can enter your current altitude, so it works best if you start from a parking orbit with an eccentricity close to 0. If anyone has any suggestions or notices something wrong, please let me know!\u003C/p\u003E\n"},{"CreatedByName":"adinfinitum","CreatedById":49226,"CreatedDateTime":"2014-02-13T22:50:46Z","Content":"\n\u003Cp\u003EI\u0027m glad I could help \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E There\u0027s nothing else like the satisfaction of a precisely coordinated mission working out. Also, I\u0027m sure you\u0027ve figured it out by now with your spreadsheet, but the bigger the difference between the parking orbit and final orbit, the less time you have to wait until another opportunity to transfer to the final orbit.\u003C/p\u003E\n"},{"CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-14T02:52:20Z","Content":"\n\u003Cp\u003EYep! Again, I really appreciate the help in figuring it out. If you\u0027d be willing to continue the help, I\u0027m working on another issue now.\u003C/p\u003E\u003Cp\u003EI\u0027m working on adding polar insertion into my spreadsheet. I\u0027ve got the first part down, I think. I can get it to tell me based on from what latitude I burn from to the equator, it tells me the longitude I\u0027ll arrive at. I know with these values I can then figure out when in the future I\u0027ll arrive at the correct lat/long to burn for a polar orbit that passes directly over KSC at the same time my KEO satellite does (Don\u0027t worry, I\u0027ll give them 50 meters or so of altitude difference so there\u0027s no sad engineers on the ground!). I figure for now that passing over it heading north or south is really inconsequential, but I\u0027m having problems putting the equation together.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-14T05:09:20Z\u0022 title=\u002202/14/2014 05:09  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 14, 2014\u003C/time\u003E by tkb\u003C/strong\u003E\n\u003Cbr\u003ECorrected explanation\n\u003C/span\u003E\n"},{"CreatedByName":"adinfinitum","CreatedById":49226,"CreatedDateTime":"2014-02-14T07:51:26Z","Content":"\n\u003Cp\u003EOkay, so it took me a little while to think through this, I hadn\u0027t planned something like this before, but I\u0027m pretty sure what I\u0027ve got should work. I\u0027m going to use this picture to try and help. Now, if you use your imagination and pretend that these are nice, perfect circles, the diagrams are drawn from a top down view of Kerbin.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/C25AtP1.jpg?1\u0022 alt=\u0022C25AtP1.jpg?1\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m assuming that you are already in a polar parking orbit, which is the vertical line in the second diagram, and the satellite is coming over the top of Kerbin down the page. The KEO satellite is at some position in the desired orbit, for now it doesn\u0027t matter. Let\u0027s pretend we take the parking orbit and lay it on its side, so that is orbiting the same direction as the desired orbit. This gives us the first diagram. If we transpose latitudes onto the parking orbit in the first diagram, 90 degrees North would be on the left, 0 degrees would be on the bottom, and 90 degrees South would be on the right. From now on I will call North latitudes positive, and South latitudes negative. For example, 45 degrees N will be \u002B90 degrees, and 60 degrees S will be -60 degrees.\u003C/p\u003E\u003Cp\u003EIf these were two equatorial orbits, with a parking orbit SMA of 1500, and the desired is a synchronous orbit, then the KEO satellite would travel 109.1 degrees during the transfer, and needs to be 70.9 degrees ahead of the current satellite when the first burn occurs. It works the exact same way for a polar orbit insertion, except that now we can no longer hold a protractor over Kerbin, and we have to find a meaningful way to compare latitude to longitude. To help keep things clear, we\u0027ll call the angle that the KEO satellite needs to lead the current satellite by alpha. So angle alpha is is 70.9 degrees in this situation. Now we just need to focus on the bottom half of the second diagram. If you look at that diagram you will see that I labeled one portion positive, and one portion negative. They are separated by the plane of the polar orbit, and that\u0027s how we will orient ourselves. Angle alpha is positive, so it is on the right portion, which is exactly how we would expect the positions to look like for a transfer between two equatorial orbits. \u003C/p\u003E\u003Cp\u003EWe know what angle alpha is, but to find out what angle the KEO satellite has to make with the polar plane, which will be angle beta, we have to look at our current latitude. If our latitude is 0 degrees, then angle beta is the same as angle alpha. However, let\u0027s say our latitude is \u002B50 degrees. To find angle beta, we subtract the latitude from angle alpha and get 20.9 degrees. This means that the KEO satellite must make an angle of 20.9 degrees with the polar plane, and since it is positive, it will be 20.9 degrees to the right. If our latitude is \u002B80 degrees, angle beta is -9.1 degrees, and therefore is 9.1 degrees to the left of the polar plane. If our latitude is -60 degrees, then angle beta is 70.9-(-60), which is 130.9 degrees, to the right. Additionally, for the transfer burn to put you in the right position to circularize, angle beta \u002B latitude has to equal angle alpha. Any other time and you won\u0027t end up at the right spot to pass over at the same take as the KEO satellite.\u003C/p\u003E\u003Cp\u003ENow, what do we do if angle beta plus our latitude doesn\u0027t equal angle alpha? If beta plus latitude doesn\u0027t equal alpha, we will call beta plus latitude angle theta instead. And now can find the rate at which angle theta is changing. The rate of change of position angle in each orbit is called angular velocity, which is 360 divided by the orbit period. In the example from before, the angular velocity of the synchronous orbit is 0.0167 degrees/second. The angular velocity of the parking orbit is -0.0446 degrees/second, because the current satellite is traveling from positive to negative latitude. To find the rate that theta is changing, we add the angular velocities together, which gives us -0.0279 degrees/second. If we take angle alpha minus angle theta, and divide it by the rate that theta is changing, it should give us the time until there orbits are properly lined up and we perform our transfer burn. For example, let\u0027s say our orbits are the same as before, which means angle alpha is 70.9 degrees. If we are at latitude \u002B45, and angle beta is 60 degrees, then angle theta is 105 degrees. Angle alpha minus angle theta is -34.1 degrees, divide by -0.0279 degrees/second, and we get 1222.22 seconds until the orbits line up properly.\u003C/p\u003E\u003Cp\u003EI really hope this helped some, the method turned out to be a lot more convoluted than I had hoped, but I couldn\u0027t figure out any other way to make it work using latitude, since latitude goes from 90 N to 90 S and then repeats on the other side. I\u0027m pretty sure it will work out correctly, but I haven\u0027t had a chance to test it yet. Also, sorry if I ended up typing too much, I was an organic chemistry lab instructor last year, so I got used to breaking things down into very small pieces to explain them.\u003C/p\u003E\n"},{"CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-15T20:26:55Z","Content":"\n\u003Cp\u003EI\u0027m dense and am not quite sure I\u0027m following your solution as every time I try I can\u0027t get it to work out. I\u0027ve ended up working out a method that takes the given lat/long, then just does stepping burns based on that to slowly bring the satellite and the location closer together.\u003C/p\u003E\u003Cp\u003EI\u0027ve also thought about launching, achieving KSO, burning out to double my orbital period, performing the inclination change, then recircularizing.\u003C/p\u003E\n"},{"CreatedByName":"adinfinitum","CreatedById":49226,"CreatedDateTime":"2014-02-16T19:12:12Z","Content":"\n\u003Cp\u003EIt\u0027s not that you\u0027re dense, it\u0027s just that once you start trying to do calculations on orbits that are of two very different inclinations, things become a lot less intuitive. It\u0027s one thing to see that in a co-planar transfer you need to be behind your target if you\u0027re in a lower orbit, because you are traveling faster, and the added problem of trying to compare latitude to longitude just complicates things further. I hadn\u0027t gotten a chance to test out my method, but I\u0027ll see if I can get it to work today, and get it into a spreadsheet.\u003C/p\u003E\n"},{"CreatedByName":"tkb","CreatedById":103248,"CreatedDateTime":"2014-02-16T22:23:52Z","Content":"\n\u003Cp\u003EThanks. I may have in fact used your method, I did come up with one that worked. But, the one I used ended up having to wait a VERY long time in some lat/long combinations.\u003C/p\u003E\n"},{"CreatedByName":"adinfinitum","CreatedById":49226,"CreatedDateTime":"2014-02-16T23:35:36Z","Content":"\n\u003Cp\u003EOkay, I got a spreadsheet working, and I think it should work for just about any case, I tried it out real quick using mechjeb for the manuevers. If you use an ion engine or RCS to get everything extremely accurate, you should pretty much be able to hit one satellite with the other. Mechjeb was a few seconds off from a perfect orbit, but I was still able to get the satellites within 3 km of each other. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/GzaQYtv.png\u0022 alt=\u0022GzaQYtv.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd here is the spreadsheet that I created. You just need to put in the altitude of the parking and final orbits, and I also include a spot for the gravitational parameter if you want to use the spreadsheet for other bodies too. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/mpg4stqfukrjx49/Polar%20Transfer.xls\u0022 rel=\u0022external nofollow\u0022\u003ESpreadsheet\u003C/a\u003E\u003C/p\u003E\n"}]}