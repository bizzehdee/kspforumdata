{"TopicId":161861,"ForumId":16,"TopicTitle":"Orbital calculation headaches","CreatedByName":"Maltman","CreatedById":166014,"CreatedDateTime":"2017-06-09T20:27:09Z","PageNum":1,"Articles":[{"CreatedByName":"Maltman","CreatedById":166014,"CreatedDateTime":"2017-06-09T20:27:09Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to get more into the math of orbiting Kerbin.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOne concept I am struggling with is how to come up with all the orbital information when you don\u0027t know the periapsis or apoapsis or semi major axis or anything.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI want to know how to calculate the periapsis, apoapsis ( and all that the game always gives you) using only the velocity vector, distance from center of planet, and the planets mass. (AKA using only your position, your velocity vector and the planets gravitational force).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPlease help me\n\u003C/p\u003E\n\u003Cp\u003E\nAnd thank you.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2017-06-09T20:40:43Z","Content":"\n\u003Cp\u003E\nCheck \u003Ca href=\u0022http://www.braeunig.us/space/orbmech.htm\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI cannot give a full answer, but on the top of my head: v squared gives kinetic energy, distance potential energy. Your semi major axis is dependent on only mechanical energy. From the velocity vector and distance to center you get angular momentum which is conserved. Thus you should be able to get ap and pe by solving for a velocity and distance that satisfies both angular momentum and mechanical energy. I\u0027m off to bed, and will be off for a day or two, but I think it is doable using only algebra.\n\u003C/p\u003E\n"},{"CreatedByName":"Maltman","CreatedById":166014,"CreatedDateTime":"2017-06-09T22:13:53Z","Content":"\n\u003Cp\u003E\nI understand how to get the velocity of a spacecraft using the range and semi major axis.\u003Cimg border=\u00220\u0022 height=\u002239\u0022 src=\u0022http://www.braeunig.us/space/pics/eq4-45.gif\u0022 style=\u0022color:#000000;\u0022 width=\u0022206\u0022 alt=\u0022eq4-45.gif\u0022\u003E\u00A0 These are just for the magnitude of velocity and distance though and I want to figure out how to get the semi major axis using velocity and distance vector.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am having a hell of a time finding any information about this on the internet oddly enough. I would think it would be one of the most important concepts.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI should have payed more attention in school!\n\u003C/p\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2017-06-09T22:31:36Z","Content":"\n\u003Cp\u003E\nSquare both sides. Divide both sides by GM. Subtract 2/r from both sides. Then negate and invert both sides. That should give you \u0022a\u0022 in terms of V and R.\n\u003C/p\u003E\n"},{"CreatedByName":"Maltman","CreatedById":166014,"CreatedDateTime":"2017-06-10T02:07:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223086347\u0022 data-ipsquote-contentid=\u0022161861\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221497047496\u0022 data-ipsquote-userid=\u0022154251\u0022 data-ipsquote-username=\u0022bewing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, bewing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSquare both sides. Divide both sides by GM. Subtract 2/r from both sides. Then negate and invert both sides. That should give you \u0022a\u0022 in terms of V and R.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI got this equation from that method\u00A0\u003Cb\u003E\u003Cimg src=\u0022https://lh3.googleusercontent.com/cKCXEaN8_eUFKop3e1cAoOXqZ1u5jG1_4GzA5ZHXw9avI_0ff69Go78TnacJu-jd6RVVuHSW_4wsqUrKQrVTawOfKuyqyVEfv2cjjdWIPy9-DzeL4Fs8K11-ILDbyTEhNlA5O3w99H8w\u0022 alt=\u0022cKCXEaN8_eUFKop3e1cAoOXqZ1u5jG1_4GzA5ZHXw9avI_0ff69Go78TnacJu-jd6RVVuHSW_4wsqUrKQrVTawOfKuyqyVEfv2cjjdWIPy9-DzeL4Fs8K11-ILDbyTEhNlA5O3w99H8w\u0022\u003E. I can find the length of the semi major axis through this and then the distances for the\u00A0periapsis and apoapsis. \u00A0Is there any way I can determine the coordinates of where the semi major axis, periapsis, and apoasis will be?\u003C/b\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2017-06-10T07:00:32Z","Content":"\n\u003Cp\u003E\nOK, assuming you got the math right so far, then yes. It\u0027s not too hard to describe in words.\n\u003C/p\u003E\n\u003Cp\u003E\nYour ship is on an ellipse. So you make up a coordinate system with the x axis along the \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E-\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E line, in the plane containing your ship, with the origin at the center of the ellipse. The basic equation of your ellipse is: (x \u002B (\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E - \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E)/2))^2 / a^2 \u002B y^2 / b^2 = 1. In the new coordinate system that is.\n\u003C/p\u003E\n\u003Cp\u003E\nEccentricity is probably a good thing to calculate:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022{\\displaystyle {\\begin{aligned}e\u0026amp;={{r_{\\text{a}}-r_{\\text{p}}} \\over {r_{\\text{a}}\u002Br_{\\text{p}}}}\\\\\u0026amp;=1-{\\frac {2}{{\\frac {r_{\\text{a}}}{r_{\\text{p}}}}\u002B1}}\\end{aligned}}}\u0022 aria-hidden=\u0022true\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/99ee180dc25c6cb34118a8fba435d0ed4d1a2628\u0022 style=\u0022color:#222222\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFrom that, you should be able to easily calculate b (the semi-minor axis). And you basically know x and y for your ship\u0027s current position. However, it\u0027s in the wrong coordinate system.\n\u003C/p\u003E\n\u003Cp\u003E\nSo you also need a \u0022transform\u0022 for the coordinate system. If you aren\u0027t familiar with those -- they are a bit annoyingly complicated, but look it up on wikipedia. To calculate it:\n\u003C/p\u003E\n\u003Cp\u003E\nThe cross product of your velocity vector with the Kerbin radius vector always\u00A0gives you a vector perpendicular to your new coordinate system\u0027s XY plane -- ie. the new Z-axis vector. But there is still one more\u00A0rotation angle. And you need to solve backwards for that -- using\u00A0the ellipse equation, and solving for x and y simultaneously.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce you have calculated the coordinate system transform, then you just plug in (\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp - (Ap - \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E)/2\u003C/abbr\u003E, 0, 0) and (-\u003Cabbr title=\u0022Periapsis\u0022\u003EPe \u002B (\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E - Pe)/2\u003C/abbr\u003E, 0, 0) and solve backwards to find their locations in your original coordinate system.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-10T22:03:52Z\u0022 title=\u002206/10/2017 10:03  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 10, 2017\u003C/time\u003E by bewing\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cunjo Carl","CreatedById":162109,"CreatedDateTime":"2017-06-11T06:00:25Z","Content":"\n\u003Cp\u003E\nHmmm.... This is a thing I\u0027ve wanted to do for ages! \u00A0My goal is to provide the math for \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/166014-maltman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022166014\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/166014-maltman/\u0022 rel=\u0022\u0022\u003E@Maltman\u003C/a\u003E\u0027s request with high school level math/physics concepts (the kind I work best with). It\u0027ll be long, but hopefully intuitive and informative.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nLet\u0027s make this derivation in terms of polar coordinates... And let\u0027s do it 2d! Finally, let\u0027s do it in terms of the fictitious rotational forces, because I think it\u0027ll make more intuitive sense than the other stuff I\u0027ve tried to figure out (wiki / old texts). So... We\u0027ll solve for our object\u0027s motion in terms of Gravity, Centrifugal and Coriolis forces. The advantage of doing it this way is we won\u0027t (or at least I think we won\u0027t) need to deal with any confusing reference frame stuff this way. It\u0027ll just be F=ma with forces for all of its simplicity and occasional nastiness.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nWe can handle our position and velocity variables like this: we\u0027re at a certain distance (\u003Cstrong\u003Er\u003C/strong\u003E) from the planet while traveling a certain velocity (\u003Cstrong\u003Ev\u003C/strong\u003E) and traveling at a certain angle compared to the \u0027horizon\u0027 on the planet ( \u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E\u003C/span\u003E ). So, for \u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E,\u003Cb\u003E \u003C/b\u003E\u003C/span\u003Eif we\u0027re flying level with the planet (eg. circular orbit, or at apoapsis, periapsis) \u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E\u003C/span\u003E\u00A0 = 0, and if we\u0027re flying straight up \u003Cstrong\u003E\u003Cspan\u003E\u03C6\u003C/span\u003E\u003C/strong\u003E = pi/2 (aka 90 degrees). Finally there\u0027s \u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E , which will be our present angle in the orbit relative to our starting point. The initial values will be r\u003Csub\u003E0\u003C/sub\u003E, v\u003Csub\u003E0\u003C/sub\u003E,\u00A0 \u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E and \u003C/span\u003E \u003Cspan\u003E\u03B8\u003C/span\u003E\u003Csub\u003E0\u003C/sub\u003E\u003Cspan\u003E. Present variables will always be bold, while constants will be normal type.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFor convenience, we can re-package the information from \u003Cstrong\u003Ev \u003C/strong\u003Eand \u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E\u003C/span\u003E by turning it into \u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E and \u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cb\u003E , \u003C/b\u003Emeaning the velocities of our object going up/down and round/round. The conversion\u0027s the simple standard:\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E v \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Ecos(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E=\u003Cstrong\u003E v \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Esin(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EGreat! The stage is set. Let\u0027s plug in the forces F=ma style. Because it\u0027s the simplest part, we\u0027ll start with the rotational direction \u03B8. The only force in the \u03B8 direction will be Coriolis force, however that one\u0027s confusing if you\u0027ve never had to deal with it before, so let\u0027s talk about it. If you\u0027re on a ... spinny thing at the kid\u0027s park.... you push them and they spin round, and you get all sick? Anyways, let\u0027s say you\u0027re near the edge while it\u0027s spinning, and you start pulling yourself inwards. What happens? You\u0027re doing work to pull in (force*distance on centrifugal force) and in exchange, the spinny thing pushes you in the direction of rotation. Our velocity actually increases as we pull ourselves in, and we spin round faster as a result. Coriolis force!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ECoriolis Force = m*\u003C/span\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E*\u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E/\u003Cstrong\u003Er \u003C/strong\u003Ein the direction of rotation. So, in order to feel a coriolis force we need to be spinning, and then it\u0027s proportional to the relative change in radius. I don\u0027t have my derivation with me anymore, but I\u0027m pretty sure this was it. That said, I\u0027ll be using a workaround with an angular momentum balance instead until I\u0027m sure I\u0027ve got it right.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ECentrifugal Force = m*\u003C/span\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cb\u003E/r\u003C/b\u003E in the outwards direction\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EGravity =\u003Cb\u003E \u003C/b\u003EG\u003Csub\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E* \u003C/strong\u003E\u003C/sub\u003EM\u003Csub\u003E * \u003C/sub\u003Em / \u003Cb\u003Er\u003Csup\u003E2\u003C/sup\u003E\u003C/b\u003E in the inwards direction. G is the gravitational constant and M is the mass of our planet.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAll of our forces are proportional to our object\u0027s mass, so we can write things immediately in terms of accelerations where: a = F/m\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan\u003Ea\u003C/span\u003E\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/sub\u003E\u003C/strong\u003E\u003Cspan\u003E\u003Cb\u003E \u003C/b\u003E=\u003Cb\u003E \u003C/b\u003E\u003C/span\u003E-2\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E*\u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E/\u003Cstrong\u003Er \u003C/strong\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0 (a = coriolis)\u00A0 (probably... sorry, I\u0027ll doublecheck this one soon! I use another approach momentarily)\u003C/span\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E \u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cbr\u003E\u003Cstrong\u003Ea\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003Er\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003E=\u00A0\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cb\u003E/r\u00A0\u00A0 \u003C/b\u003E-\u00A0\u00A0 G\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/ \u003Cb\u003Er\u003Csup\u003E2\u003C/sup\u003E \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\u00A0 \u003C/b\u003E(a = centrifugal out - gravity in)\u003C/span\u003E \u003Cstrong\u003E \u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ENow the next step would be to find \u003C/span\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003Eas a function of \u003Cstrong\u003Er\u003C/strong\u003E. Why? We\u0027d like to avoid solving this as a parametric (simultaneous) system, so if we can solve for that\u00A0\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E \u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003Ehanging out in \u003Cstrong\u003Ea\u003Csub\u003Er \u003C/sub\u003E\u003C/strong\u003E\u0027s equation, we can solve for \u003Cstrong\u003Ea\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E much more simply.\u003C/span\u003E You can think of this as: centrifugal force should only depend on the initial conditions and the present radius. That makes sense! I want to do with an energy balance on coriolis force eventually, but for the moment, we happen to know the answer from conservation of angular momentum is:\u003Cbr\u003E\u003Cbr\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003E= v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E * r\u003Csub\u003E0\u003C/sub\u003E /\u003Cstrong\u003E r\u00A0\u00A0\u00A0 \u003C/strong\u003E(because L = constant = m \u003Csub\u003E*\u003C/sub\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003Cstrong\u003E \u003C/strong\u003E*\u003C/sub\u003E\u003Cstrong\u003Er\u003C/strong\u003E at all times. This means \u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003Cstrong\u003E \u003C/strong\u003E*\u003C/sub\u003E\u003Cstrong\u003Er \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E * r\u003Csub\u003E0\u003C/sub\u003E , and we get our equation from here \u00A0 I will replace this later - It\u0027s just Coriolis force in disguise!)\n\u003C/p\u003E\n\u003Cp\u003E\nPlug it in~!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Ea\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003Er\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003E=\u00A0v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E /\u003Cstrong\u003E r\u003Csup\u003E3\u003C/sup\u003E\u003C/strong\u003E\u003Cspan\u003E\u003Cb\u003E \u00A0 \u003C/b\u003E-\u00A0\u00A0 G\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/ \u003Cb\u003Er\u003Csup\u003E2\u003C/sup\u003E \u00A0\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0 \u00A0 \u003C/b\u003EThis is our acceleration away from kerbin knowing only our present radius and initial starting conditions\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnd this is great- it relates exactly the things we want to know in a simple way without fuss... and it happens to be completely unsolvable. Thanks math. \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E Even if we can\u0027t solve it directly, it does make a great vantage point for us to stop and take a look to make sure we\u0027re on the right track. Let\u0027s see. This makes sense! When you get too far in, centrifugal force quickly pushes you out (inverse r cubed) . When you get too far out, gravity eventually pulls you back in (inverse r squared). When orbiting, you tend to swing past the periapsis quickly and the apoapsis slowly, so I\u0027ll claim we\u0027re on the right track. I\u0027m lucky I had to go make pancakes at this point, because that\u0027s a nasty integral. The next couple steps took me the rest of the day to puzzle through, and I think it\u0027s important to realize that these next steps don\u0027t gain us ANYTHING conceptually. They\u0027re purely mathematical manipulations to cram our formula into one of the solvable forms for a second order ordinary difeq. \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003Ehave\u00A0\u00A0\u00A0 a\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E = ~~~/\u003Cstrong\u003Er\u003C/strong\u003E\u003Csup\u003E3\u003C/sup\u003E - ~~~/\u003Cstrong\u003Er\u003C/strong\u003E\u003Csup\u003E2\u00A0\u00A0 \u003C/sup\u003E\u003Cstrong\u003E\u00A0\u00A0\u00A0 \u003C/strong\u003ERight now the formula looks like this, which is nasty unsolvable analytically\u003Cbr\u003E\u003Cstrong\u003Ewant\u00A0\u00A0\u00A0\u00A0 a\u003Csub\u003Eu\u003C/sub\u003E\u003C/strong\u003E = \u00A0 \u00A0\u00A0 \u003Cstrong\u003E-u\u003C/strong\u003E \u002B ~~~\u00A0\u00A0\u00A0\u00A0\u00A0 If it instead looked like this, it would be solvable as a standard harmonic oscillator (sin and cos) Let\u0027s get it into this form.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWe would adore some variable substitution to pop an \u003Cstrong\u003Er\u003C/strong\u003E\u003Csup\u003E3\u003C/sup\u003E in there, but sadly there are none. Because of this, we have to make a concession and solve for just the orbit\u0027s shape, not its motion as a function of time. It\u0027s pretty yuck, but it\u0027s a hallmark of any orbit derivation. Over the centuries, people have made hundreds of increasingly complicated ways to partially undo the damage done in this next tragic-but-necessary-step. We\u0027ll use Leibnitz notation to convert our equation from time domain, where it tells us exactly what our craft does over time, into theta domain where it will only tell us the shape of its path. We\u0027ll also introduce a helper variable \u003Cstrong\u003Eu\u003C/strong\u003E = 1/\u003Cstrong\u003Er\u003C/strong\u003E just to make the math work nicely.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Ehave\u003C/strong\u003E \u00A0 \u003Cspan\u003E\u003Cstrong\u003Ea\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E = \u003Cstrong\u003Ed\u003Csup\u003E2\u003C/sup\u003Er/(dt)\u003Csup\u003E2\u003C/sup\u003E\u00A0\u003C/strong\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 This is just the definition, showing off Leibnitz notation.\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003Ewant\u003C/strong\u003E\u00A0\u00A0\u00A0 \u003Cspan\u003E\u003Cstrong\u003Ea\u003Csub\u003Eu\u003C/sub\u003E\u003C/strong\u003E\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003Ed\u003Csup\u003E2\u003C/sup\u003Eu/(d\u003C/strong\u003E\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8)\u003Csup\u003E2\u003C/sup\u003E\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOk, so to get from where we are to where we want to be we\u0027ll need to convert from \u003Cstrong\u003Et\u003C/strong\u003E to \u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E, and from \u003Cstrong\u003Er\u003C/strong\u003E to \u003Cstrong\u003Eu\u003C/strong\u003E. First we\u0027ll make a conversion factor of (d\u003Cstrong\u003Et\u003C/strong\u003E/d\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u003Csup\u003E2 \u003C/sup\u003Eto convert the domain (\u003C/span\u003E\u003Cstrong\u003Et\u003C/strong\u003E-\u0026gt;\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) Leibnitz style, and then a d\u003Cstrong\u003Eu\u003C/strong\u003E/d\u003Cstrong\u003Er\u003C/strong\u003E factor to convert to our helper (\u003C/span\u003E\u003Cstrong\u003Er\u003C/strong\u003E-\u0026gt;\u003Cstrong\u003E\u003Cspan\u003Eu\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan\u003Ed\u03B8/dt * r \u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E \u003C/span\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003E= v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E * r\u003Csub\u003E0\u003C/sub\u003E /\u003Cstrong\u003E r\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003C/strong\u003EThat\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ed\u03B8/dt will help in our conversion. d\u03B8/dt is the rate you\u0027re spinning in circles expressed in radians, and if you multiply it by your radius, you\u0027ll get your radial velocity. Hey we have a handy relationship for radial velocity from before thanks to Coriolis force / angular momentum.\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003E\u003Cspan\u003Ed\u03B8/dt \u003C/span\u003E\u003C/strong\u003E= v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E * r\u003Csub\u003E0\u003C/sub\u003E /\u003Cstrong\u003E r\u003Csup\u003E2\u003C/sup\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003C/strong\u003EIn this step we solve for \u003Cspan\u003Ed\u03B8/d\u003C/span\u003Et. In the next we invert and square it to make the conversion factor.\u003Cbr\u003E\n(\u003Cstrong\u003Edt/d\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u003Csup\u003E2\u003C/sup\u003E =\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E \u003C/span\u003E\u003C/strong\u003E \u003Cstrong\u003Er\u003Csup\u003E4\u003C/sup\u003E\u003C/strong\u003E/\u003Cstrong\u003E\u00A0\u003C/strong\u003E(v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E * r\u003Csub\u003E0\u003C/sub\u003E)\u003Csup\u003E2\u003C/sup\u003E\u003Cstrong\u003E \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0 \u00A0\u00A0 \u003C/strong\u003E[1] \u00A0This factor will let us convert to theta domain. We just need to find the conversion factor for the u = 1/r helper variable now.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Eu\u003C/strong\u003E = 1/\u003Cstrong\u003Er\u003C/strong\u003E\u003Cbr\u003E\u003Cstrong\u003Edu/dr\u003C/strong\u003E = -1/\u003Cstrong\u003Er\u003C/strong\u003E\u003Csup\u003E2\u003C/sup\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0 \u00A0\u00A0 [2]\u00A0 Solving for du/dr was much easier.\n\u003C/p\u003E\n\u003Cp\u003E\nAll set! Let\u0027s multiply our \u003Cstrong\u003Ea\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003Er \u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003Eequations \u003C/span\u003Ewith the conversion factors [1] and [2], and replace any remaining 1/r with u. Finally, move the u across to the left, and we\u0027ll have the classic harmonic equation:\u003Cbr\u003E\u003Cspan\u003E\u003Cstrong\u003Ea\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E = \u003Cstrong\u003Ed\u003Csup\u003E2\u003C/sup\u003Er/(dt)\u003Csup\u003E2\u003C/sup\u003E\u003C/strong\u003E=\u00A0\u003C/span\u003E v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E /\u003Cstrong\u003E r\u003Csup\u003E3\u003C/sup\u003E\u003C/strong\u003E\u003Cspan\u003E\u003Cb\u003E \u00A0 \u003C/b\u003E-\u00A0\u00A0 G\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/ \u003Cb\u003Er\u003Csup\u003E2\u003C/sup\u003E \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003C/b\u003Ereminder of the ar equation. Next we plug in the equations [1] and [2].\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003Ed\u003Csup\u003E2\u003C/sup\u003Er/(dt)\u003Csup\u003E2\u003C/sup\u003E *\u00A0\u003C/strong\u003E\u003C/span\u003E(\u003Cstrong\u003Edt/d\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u003Csup\u003E2 \u003C/sup\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/span\u003E\u003Cstrong\u003E du/dr \u00A0\u003C/strong\u003E=\u00A0\u00A0 (v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E /\u003Cstrong\u003E r\u003Csup\u003E3\u003C/sup\u003E\u003C/strong\u003E\u003Cspan\u003E\u003Cb\u003E \u00A0 \u003C/b\u003E-\u00A0\u00A0 G\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/ \u003Cb\u003Er\u003Csup\u003E2\u003C/sup\u003E\u003C/b\u003E) * (\u003C/span\u003E\u003Cstrong\u003Er\u003Csup\u003E4\u003C/sup\u003E\u003C/strong\u003E/\u003Cstrong\u003E\u00A0\u003C/strong\u003E(v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E * r\u003Csub\u003E0\u003C/sub\u003E)\u003Csup\u003E2\u003C/sup\u003E) * (-1/\u003Cstrong\u003Er\u003C/strong\u003E\u003Csup\u003E2\u003C/sup\u003E)\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 Plugged in equations... and then it simplifies to!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan\u003Ed\u003Csup\u003E2\u003C/sup\u003Eu/(d\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E\u003Cstrong\u003E)\u003Csup\u003E2\u003C/sup\u003E\u003C/strong\u003E \u002B\u003Cb\u003E u\u00A0 \u003C/b\u003E=\u003Cb\u003E\u00A0 \u003C/b\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E) \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 This is the happy form, which shows up for all ideal harmonic oscillators. We can now get our solution from an integral table:\u003Cspan\u003E\u003Cb\u003E \u003C/b\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Eu\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E)\u00A0 \u002B C\u003Csub\u003E1\u003C/sub\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) \u002B C\u003Csub\u003E2\u003C/sub\u003E*cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 Ok, next we need to solve for those integration constants... Let\u0027s make \u03B8\u003C/span\u003E\u003Csub\u003E0 \u003C/sub\u003E= 0. at t = 0. then we can plug in r\u003Csub\u003E0\u003C/sub\u003E to get C\u003Csub\u003E2\u003C/sub\u003E:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nu\u003Csub\u003E0\u003C/sub\u003E =\u003Cstrong\u003E \u003C/strong\u003E1/r\u003Csub\u003E0\u003C/sub\u003E = \u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E)\u00A0\u003Cspan\u003E\u002B C\u003Csub\u003E2\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003C/sub\u003ESolving for C\u003Csub\u003E2\u003C/sub\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EC\u003Csub\u003E2\u003C/sub\u003E = \u003C/span\u003E1/r\u003Csub\u003E0\u003C/sub\u003E - \u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E)\u003Cspan\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\u00A0\u00A0 Gotcha! No time like the present, plug it in.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Eu\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E)\u00A0 \u002B C\u003Csub\u003E1\u003C/sub\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) \u002B (\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E1/r\u003Csub\u003E0\u003C/sub\u003E - \u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E)\u003Cspan\u003E ) \u003C/span\u003E\u003Cspan\u003E*cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 Working equation...\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAlright, the next one\u0027s gonna be the trick. We need to bring in our starting angle \u003C/span\u003E\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E\u003Cspan\u003E, which will interact with the first derivative of \u003C/span\u003E\u003Cstrong\u003Eu\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cspan\u003E to generate C\u003Csub\u003E1\u003C/sub\u003E.\u003C/span\u003E\u00A0 When we take the first derivative, the constant drops out, the cosine turns into a -sine (which is 0 at \u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E=0) and the sine with C\u003Csub\u003E1\u003C/sub\u003E into a cosine (which is 1 at \u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E=0)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan\u003Ed\u003C/span\u003Eu/d\u003C/strong\u003E\u003Cspan\u003E\u003Cstrong\u003E\u03B8\u003C/strong\u003E\u003Cstrong\u003E\u003Cspan\u003E \u003C/span\u003E\u003C/strong\u003E(evaluated at \u03B8 = 0) = C\u003Csub\u003E1\u003C/sub\u003E \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0 We\u0027re gonna need 3 derivatives for piecing together d\u003C/span\u003E\u003Cstrong\u003Eu/\u003C/strong\u003Ed\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E, Fortunately, all of which we\u0027ve determined already.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1. \u003Cstrong\u003Edu/dr\u003C/strong\u003E = -1/\u003Cstrong\u003Er\u003C/strong\u003E\u003Csup\u003E2\u003C/sup\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 2.\u00A0\u00A0 \u003Cstrong\u003Edr/dt \u003C/strong\u003E=\u003Cstrong\u003E v\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E=\u003Cstrong\u003E v \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Esin(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u00A0 \u00A0 \u00A0 \u00A0 3.\u00A0 \u003C/span\u003E\u003Cstrong\u003Ed\u003C/strong\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003Cstrong\u003E/dt \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Cb\u003E/r\u003C/b\u003E\u003C/span\u003E\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E v \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Ecos(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u003Cstrong\u003E/r\u003C/strong\u003E \u00A0 .....\u00A0\u00A0 from these \u00A0\u00A0 Eq1 * Eq2 / Eq3 \u00A0 gives \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003Ed\u003C/span\u003Eu/d\u003C/strong\u003E\u003Cspan\u003E\u003Cstrong\u003E\u03B8\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003Edu/dr * dr/dt / (d\u003C/strong\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003Cstrong\u003E/dt ) = (\u003C/strong\u003E-1/\u003Cstrong\u003Er\u003C/strong\u003E\u003Csup\u003E2\u003C/sup\u003E) * \u003Cstrong\u003Ev \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Esin(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E) \u003C/span\u003E/ (\u003Cstrong\u003Ev \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Ecos(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u003Cstrong\u003E/r\u003C/strong\u003E) \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Simplify...\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003E\u003Cspan\u003Ed\u003C/span\u003Eu/d\u003C/strong\u003E\u003Cspan\u003E\u003Cstrong\u003E\u03B8 = \u003C/strong\u003E\u003C/span\u003E-tan(\u003Cspan\u003E\u003Cstrong\u003E\u03C6\u003C/strong\u003E)/\u003Cstrong\u003Er\u003C/strong\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 And finally, evaluating at t = 0...\u003C/span\u003E\u003Cbr\u003E\u003Cspan\u003EC\u003Csub\u003E1\u003C/sub\u003E = \u003C/span\u003E-tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)/r\u003Csub\u003E0\u003C/sub\u003E \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0 \u003Cs\u003EThis was easier than I feel like it should have been. I\u0027ll take it!\u003C/s\u003E \u003Cs\u003E\u003Cu\u003EWrong units. Huh.\u003C/u\u003E\u003C/s\u003E Good to go.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Eu\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E)\u00A0 \u002B (-tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)/r\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E)*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) \u002B (\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E1/r\u003Csub\u003E0\u003C/sub\u003E - \u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E)\u003Cspan\u003E )\u003C/span\u003E\u003Cspan\u003E*cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0\u00A0 Last step, convert back to \u003Cstrong\u003Er\u003C/strong\u003E = 1/\u003Cstrong\u003Eu\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E1/\u003Cspan\u003E[\u00A0 G\u003Csub\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003C/sub\u003EM ( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2 \u003C/sup\u003E)\u00A0 \u002B (-tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)/r\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) \u002B (\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E1/r\u003Csub\u003E0\u003C/sub\u003E - \u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003C/sub\u003EM/( \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E * r\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E)\u003Cspan\u003E )\u003C/span\u003E\u003Cspan\u003E*cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) ]\u00A0 Hee! Does it work? .... bug fixing.... bug fixing.... Now it does. Er, I mean, I always get it right first try!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1/\u00A0 ( (3.5*10^12)/(2275^2*675000^2) \u002B\u00A0 (-tan(3.14/16)/675000)*sin(t) \u00A0 (1/675000 - (3.5*10^12)/(2275^2*675000^2))*cos(t) )\u00A0 Checks out. I\u0027ll need to double check exact values later, but it seems to fit the bill.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003C/span\u003E/\u003Cspan\u003E[\u00A0 G\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/ \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u00A0 - r\u003Csub\u003E0\u003C/sub\u003E*tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) \u002B (\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003Er\u003Csub\u003E0\u003C/sub\u003E - \u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/ \u003C/span\u003Ev\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E*cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) ]\u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0 One simplification form.... I think this form is my favorite, but lastly:\u003Cbr\u003E\u003Cbr\u003E\n-------------------------------------------------------------------------------------------------------------------------\u003C/span\u003E\u003Cbr\u003E\n|\u003Cstrong\u003E\u00A0\u00A0\u00A0\u00A0 r\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E/\u003Cspan\u003E[\u00A0 G\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u00A0 - tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0 \u002B\u00A0 \u003Cstrong\u003E(\u003C/strong\u003E\u003C/span\u003E1 - \u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/ (r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003Cstrong\u003E)\u003C/strong\u003E\u003C/span\u003E\u003Cspan\u003E*cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) ]\u00A0 \u00A0\u00A0 \u00A0 |\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 Yatta! \u003C/span\u003E\u003Cimg alt=\u0022:lol:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_laugh.png\u0022 title=\u0022:lol:\u0022\u003E\u003Cbr\u003E\u003Cspan\u003E-------------------------------------------------------------------------------------------------------------------------\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n=============================================================\u003Cbr\u003E\n||\u003Cstrong\u003E \u00A0 r\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E/\u003Cspan\u003E[\u003Cstrong\u003E \u003C/strong\u003E\u003C/span\u003E\u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u003Cstrong\u003E\u003Cspan\u003E \u003C/span\u003E\u003C/strong\u003E\u002B \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E*(1-\u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E))\u003C/span\u003E\u00A0 - tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0 ]\u00A0 \u00A0 ||\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 (another alternative form, simplified for the constants, easier to play with)\u003Cbr\u003E\n============================================================= \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ESo we finally have our full orbit equation in terms of only initial conditions. At some point, if the equations don\u0027t spaghetti\u00A0 I\u0027ll complete the derivation of orbital parameters from initial conditions here. \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EDay 2:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOK, in a lot of ways the double boxed equation is super ideal! If you type it in to a calculator you can quickly go from your present conditions to an equation for your entire orbit. The question was how to get specific orbital values though, so in this next part we\u0027ll shoe-horn this equation into the standard format so we can find periapsis, argument of periapsis, eccentricity, and so on.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EFirst off, what form are we trying to fit?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003Ehave\u003C/strong\u003E \u003C/span\u003E\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E/\u003Cspan\u003E[\u00A0\u00A0\u00A0 P\u003C/span\u003E\u00A0 \u002B Q*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0 \u002B\u00A0 (\u003C/span\u003E1 - \u003Cspan\u003EP\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E*cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) \u00A0\u00A0 ]\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 (the single boxed formula we just derived with convenience constants P and Q)\u003Cbr\u003E\u003Cstrong\u003Ewant\u003C/strong\u003E \u003C/span\u003E\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E) = a*(1-e\u003Csup\u003E2\u003C/sup\u003E) / ( 1 - e*cos(\u003Cstrong\u003E\u003Cspan\u003E\u03B8 \u002B \u003C/span\u003E\u003C/strong\u003E \u003Cspan\u003E\u03B1\u003C/span\u003E ) ) \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 (the standard formula with a phase shift so our variables will fit. Has convenience constants a=semimajor and e=eccentricity)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 We had to add the\u00A0 \u003Cspan\u003E\u03B1\u003C/span\u003E\u00A0 into the standard form because our theta is 0 at t=0, rather than 0 at periapsis. The first step is going to be cramming the sin and cos terms together into one. Trigonometry textbook formula page go!\n\u003C/p\u003E\n\u003Cp\u003E\na*sin(x) \u002B b*cos(x) = R*cos(x-\u003Cspan\u003E\u03B1)\u00A0\u00A0 , \u00A0 R=\u003C/span\u003E(a\u003Csup\u003E2\u003C/sup\u003E \u002B b\u003Csup\u003E2\u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E\u00A0 , \u00A0 \u003Cspan\u003E\u03B1=arctan(a/b) \u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow we just fill the form:\u003Cbr\u003E\nR=(Q\u003Csup\u003E2\u003C/sup\u003E \u002B \u003Cspan\u003E(1-P\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Csup\u003E2\u00A0 \u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 where P =\u003Cstrong\u003E\u003Cspan\u003E (\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u00A0 \u003C/strong\u003Eand Q = -tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0 We\u0027re just plugging our convenience variables in.\u003Cbr\u003E\u003Cspan\u003E\u03B1 = arctan(Q\u003C/span\u003E\u003Cspan\u003E / (1-P)\u003C/span\u003E\u003Cstrong\u003E \u003C/strong\u003E) \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 This has a tan in an arctan... I want to fix it but I can\u0027t \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E/\u003Cspan\u003E[\u00A0\u00A0 P\u003C/span\u003E\u00A0 \u002B R*cos(\u003Cstrong\u003E\u003Cspan\u003E\u03B8-\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E\u03B1\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E\u00A0 ]\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 We\u0027re plugging in our new simplified form with convenience variables composed of convenience variables! How deep will the rabbit hole go? We\u0027ll get apoapsis and periapsis from this equation. The cosine has a max of \u002B1 and a min of -1, which correspond to periapsis and apoapsis respectively.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E (\u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E/P)\u003C/span\u003E/\u003Cspan\u003E[ 1 -\u003C/span\u003E (-R/P)*cos(\u003Cstrong\u003E\u003Cspan\u003E\u03B8-\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E\u03B1\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E\u00A0 ]\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 Here we have our equation shoe-horned in to the standard form. From this we can get eccentricity, true anomaly and semi-major axis. Argument of periapsis could also be determined if we had a set reference angle, but we never declared one. I suppose we could now, but eh?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPeriapsis = \u003Cspan\u003Er\u003Csub\u003E0 \u003C/sub\u003E/ (P\u002BR) =\u00A0\u00A0 r\u003Csub\u003E0 \u003C/sub\u003E/ (P\u002B\u003C/span\u003E(Q \u002B \u003Cspan\u003E(1-P\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Csup\u003E2\u00A0 \u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E\u003Cspan\u003E)\u003Cbr\u003E\nPeriapsis = \u00A0 r\u003Csub\u003E0 \u003C/sub\u003E/ \u003Cstrong\u003E[\u003C/strong\u003E\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u00A0\u003C/strong\u003E\u003Cspan\u003E\u002B\u003C/span\u003E(tan\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E \u002B \u003Cspan\u003E(1-\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Csup\u003E2\u00A0 \u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E\u003Cspan\u003E\u003Cstrong\u003E]\u003C/strong\u003E \u00A0\u00A0 It\u0027s honestly not too bad, but it\u0027s a bit spaghetti.\u003C/span\u003E\u003Cbr\u003E\u003Cbr\u003E\nApoapsis = \u003Cspan\u003Er\u003Csub\u003E0 \u003C/sub\u003E/ (P-R) =\u00A0\u00A0 r\u003Csub\u003E0 \u003C/sub\u003E/ (P-\u003C/span\u003E(Q \u002B \u003Cspan\u003E(1-P\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Csup\u003E2\u00A0 \u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E\u003Cspan\u003E)\u003Cbr\u003E\nApoapsis = \u00A0 r\u003Csub\u003E0 \u003C/sub\u003E/ \u003Cstrong\u003E[\u003C/strong\u003E\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E) \u003C/strong\u003E\u003Cspan\u003E- \u003C/span\u003E(tan\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E \u002B \u003Cspan\u003E(1-\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Csup\u003E2\u00A0 \u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E\u003Cspan\u003E\u003Cstrong\u003E]\u003C/strong\u003E \u00A0\u00A0 There\u0027s other forms, but I haven\u0027t found any simpler\u003C/span\u003E\u003Cbr\u003E\u003Cbr\u003E\neccentricity = -R/P\u00A0 = -(Q\u003Csup\u003E2\u003C/sup\u003E \u002B \u003Cspan\u003E(1-P\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Csup\u003E2\u00A0 \u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E / P\u00A0\u003Cbr\u003E\neccentricity =\u00A0 -(tan\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E \u002B \u003Cspan\u003E(1-\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Csup\u003E2\u00A0 \u003C/sup\u003E)\u003Csup\u003E1/2\u003C/sup\u003E /\u00A0 \u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 These are all easiest to just calculate P, Q and R first.\u003Cbr\u003E\u003Cbr\u003E\nSemi-major axis = \u003Cspan\u003Er\u003Csub\u003E0 \u003C/sub\u003E/ (P*(1-(R/P)\u003Csup\u003E2\u003C/sup\u003E))\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 This one in particular!\u003Cbr\u003E\u003Cbr\u003E\nTrue anomaly = -arctan(Q\u003C/span\u003E\u003Cspan\u003E / (1-P)\u003C/span\u003E\u003Cstrong\u003E \u003C/strong\u003E)\u003Cbr\u003E\nTrue anomaly = \u003Cspan\u003Earctan(\u003C/span\u003E tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E) / (1-\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cstrong\u003E \u003C/strong\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nAll this said, I\u0027ve had way worse as far as spaghetti goes. Hey! We set out to find our orbit\u0027s critical values in terms of present position/velocity and here we have it! We built a boat and found ourselves on the far shore. What to do now we\u0027re here? I think I\u0027ll just enjoy the view. Hopefully for you this is enough to take the next trek farther!\n\u003C/p\u003E\n\u003Cp\u003E\nDay 3:\u00A0 (WIP)\n\u003C/p\u003E\n\u003Cp\u003E\n*cough cough*\n\u003C/p\u003E\n\u003Cp\u003E\nSpeaking of enjoying the view, I couldn\u0027t help but consider what we could learn from the equations we generated. In particular, the double-boxed equation is surprisingly concise. It wraps up the entire orbit using our starting variables only once or twice each, and can be invoked from any point in the orbit. Given the complexity of orbit and of orbital equations, that\u0027s surprising!\n\u003C/p\u003E\n\u003Cp\u003E\nLet\u0027s look at that thing I dubbed \u0027P\u0027, which is central in the double-boxed equation\u003Cbr\u003E\u003Cstrong\u003EP = \u003Cspan\u003EG\u003Csub\u003E*\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cbr\u003E\nQ = - tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E\u003C/strong\u003E\u003Cbr\u003E\u003Cbr\u003E\nI actually wrote a section about how it\u0027s an energy ratio between escape energy and rotational energy\u00A0 \u003Cstrong\u003EE\u003Csub\u003Egrav\u003C/sub\u003E\u003C/strong\u003E = GMm/\u003Cstrong\u003Er\u00A0 \u003C/strong\u003Eand\u00A0\u00A0 \u003Cstrong\u003EE\u003Csub\u003Erot\u003C/sub\u003E\u003C/strong\u003E = 1/2 m \u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u00A0\u00A0 ... and while it is (mind the factor of 2) there\u0027s actually a better explanation.... It\u0027s a force balance!! I may be the only person for whom this seems insane- I wish I could convey it. There\u0027s a force balance in an equation that holds for all time. Forces are present, all time is not. This isn\u0027t a thing that I\u0027ve ever seen happen for a system so complex. Energy sure, but force?? I think I\u0027ll leave the mistaken section at the bottom because I think it\u0027s funny. Also, the reason it isn\u0027t clear what these things mean is that they started as integration constants, which need to be divined from starting conditions through mathematical tomfoolery, they don\u0027t start as physical relationships. Ok, enough gabbing. Time to copy paste.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EGravity =\u003Cb\u003E \u003C/b\u003EG\u003Csub\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E* \u003C/strong\u003E\u003C/sub\u003EM\u003Csub\u003E * \u003C/sub\u003Em / \u003Cb\u003Er\u003Csup\u003E2\u003C/sup\u003E\u003C/b\u003E\u003Cbr\u003E\nCentrifugal Force = m*\u003C/span\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cb\u003E/r\u003Cbr\u003E\nP = Gravity/Centrifugal\u003C/b\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThen we notice the only difference between centrifugal force and coriolis force is that a v\u003Csub\u003Er\u003C/sub\u003E and v\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8 \u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003Eare swapped. Suddenly, the tan(\u03C6) makes sense!\u003Cbr\u003E\nCoriolis Force = -2m*\u003C/span\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E*\u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E/\u003Cstrong\u003Er \u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E v \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Ecos(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u00A0\u00A0 ,\u00A0\u00A0 \u003C/span\u003E\u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E=\u003Cstrong\u003E v \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Esin(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u00A0\u00A0\u00A0 ,\u00A0\u00A0\u00A0 \u003C/span\u003E\u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E/v\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8 \u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E= tan(\u003Cb\u003E\u03C6\u003C/b\u003E)\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003EQ = Coriolis/Centrifugal\u00A0\u00A0\u00A0 \u003C/strong\u003E(well \u003Csup\u003E1\u003C/sup\u003E/\u003Csub\u003E2\u003C/sub\u003EQ the way I defined it)\n\u003C/p\u003E\n\u003Cp\u003E\nAnd then, in the greatest logic leap I\u0027ve made in a while, I\u0027ll claim that:\u003Cbr\u003E\u003Cstrong\u003E1 =\u003C/strong\u003E \u003Cstrong\u003ECentrifugal/Centrifugal\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo plugging it all back in, we see:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E\u00A0 * \u00A0\u00A0 F\u003Csub\u003ECentrifugal,0 \u003C/sub\u003E/\u003Cspan\u003E[\u003Cstrong\u003E \u003C/strong\u003E\u003C/span\u003EF\u003Csub\u003ECentrifugal,0\u003C/sub\u003E * \u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u003Cstrong\u003E\u003Cspan\u003E \u003C/span\u003E\u003C/strong\u003E\u002B \u003C/span\u003EF\u003Csub\u003EGravityl,0\u003C/sub\u003E*(1-\u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E))\u003C/span\u003E\u00A0 - F\u003Csub\u003ECoriolis,0\u003C/sub\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0 ]\u00A0\u00A0\u00A0\u00A0 Then we remember that the only difference between these trig functions is the phase shift.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E\u00A0 *\u00A0\u00A0\u00A0 F\u003Csub\u003ECentrifugal,0 \u003C/sub\u003E/\u003Cspan\u003E[\u003Cstrong\u003E \u003C/strong\u003E\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003EF\u003Csub\u003EGravityl,0\u003C/sub\u003E*(1\u002B\u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E-180deg))\u003C/span\u003E\u00A0 - \u003Csup\u003E1\u003C/sup\u003E/\u003Csub\u003E2\u003C/sub\u003EF\u003Csub\u003ECoriolis,0\u003C/sub\u003E*cos(\u003Cstrong\u003E\u003Cspan\u003E\u03B8-\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E90deg) -\u00A0\u003C/span\u003EF\u003Csub\u003ECentrifugal,0\u003C/sub\u003E * \u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E-180deg) ]\u00A0\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThis is it! Values in the denominator increase your radius when they\u0027re small or negative, and increase your radius when they\u0027re big and positive. Because of that, I put minus signs on the forces that generally hold you out, so when that value\u0027s phase comes about is when it\u0027s doing its thing the most. We posited in the begining that orbits are caused by the interplay of these three forces, and now we can see the nature of that interplay very plainly. Hm.. maybe the best way to convey it would be a chart?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003ETotal Coefficients of:\u003C/strong\u003E\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003C/span\u003EF\u003Csub\u003EGravity \u00A0 \u00A0\u00A0\u003C/sub\u003E\u003Cspan\u003E \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003C/span\u003EF\u003Csub\u003ECentrifugal \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u003C/sub\u003E\u003Cspan\u003E \u00A0 \u003C/span\u003EF\u003Csub\u003ECoriolis\u003C/sub\u003E\u003Cbr\u003E\u003Cspan\u003ENow\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 1\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 0\u003Cbr\u003E\n90 deg\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 1\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 -\u003Csup\u003E1\u003C/sup\u003E/\u003Csub\u003E2\u003C/sub\u003E\u003Cbr\u003E\n180 deg\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 2\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 -1\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 0\u003Cbr\u003E\n270 deg\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 1\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0 \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003Csup\u003E1\u003C/sup\u003E/\u003Csub\u003E2\u003C/sub\u003E\u003Cbr\u003E\n360 deg\u00A0 \u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 1\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRemember, negative numbers mean out! So, this is a measure of how much your initial radius changes relative to whatever imbalance in the forces there are.\n\u003C/p\u003E\n\u003Cp\u003E\ntoo tired to go on. committing edit.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n-----------------------------\n\u003C/p\u003E\n\u003Cp\u003E\nIf you look at it just right, you can see that it\u0027s actually an energy ratio, between the energy we have sunk into the gravity field versus the energy we have available as rotational kinetic energy.\u003Cbr\u003E\u003Cstrong\u003EE\u003Csub\u003Egrav\u003C/sub\u003E\u003C/strong\u003E = GMm/\u003Cstrong\u003Er\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u003C/strong\u003EThis is the energy required to escape the gravity field from this point\u003Cbr\u003E\u003Cstrong\u003EE\u003Csub\u003Erot\u003C/sub\u003E\u003C/strong\u003E = 1/2 m \u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cstrong\u003E \u00A0 \u003C/strong\u003E= \u00A0\u00A0\u003Cstrong\u003E \u003C/strong\u003E 1/2 m \u003Cstrong\u003Ev\u003C/strong\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cstrong\u003E \u003Csub\u003E*\u003C/sub\u003E\u003C/strong\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u003Cb\u003E\u03C6\u003C/b\u003E)\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 This is our kinetic energy in the rotational direction\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nE\u003Csub\u003Egrav,0\u003C/sub\u003E/E\u003Csub\u003Erot,0\u003C/sub\u003E = \u003Cspan\u003E2*G\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)) = 2P \u00A0\u00A0\u00A0 So 2P is this interaction between these two energies. Perhaps we might expect 2P to appear somewhere in our equation? Let\u0027s look.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E180deg\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E/\u003Cspan\u003E[\u003Cstrong\u003E \u003C/strong\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E180deg\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u003Cstrong\u003E\u003Cspan\u003E \u003C/span\u003E\u003C/strong\u003E\u002B \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E(\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003EG\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EM/(r\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003Ev\u003Csub\u003E0\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E*\u003C/sub\u003Ecos\u003Csup\u003E2\u003C/sup\u003E(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E))\u003C/span\u003E\u003Cstrong\u003E)\u003C/strong\u003E*(1-\u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E180deg\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E))\u003C/span\u003E\u00A0 - tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E180deg\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u00A0 ]\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u00A0\u003C/span\u003Er(\u003Cspan\u003E180deg\u003C/span\u003E)\u003Cspan\u003E tells us our position when we\u0027re on the opposite side of the planet\u003C/span\u003E\u003Cbr\u003E\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E180deg\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E\u003C/span\u003E/\u003Cspan\u003E[\u003Cstrong\u003E \u003C/strong\u003E\u003C/span\u003E\u003Cspan\u003E2P\u003C/span\u003E - 1\u003Cspan\u003E\u00A0 ]\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 We can see that if 2P \u0026gt; 1\u00A0\u00A0 (aka if \u003C/span\u003E\u003Cstrong\u003EE\u003Csub\u003Erot\u003C/sub\u003E \u0026gt; E\u003Csub\u003Egrav\u003C/sub\u003E\u003C/strong\u003E) \u00A0 then we\u0027ll escape before we reach the far side (because the denominator will cross 0)\u00A0 \u003Cspan\u003E \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat makes plenty of sense. Interestingly, our position on the far side of the planet doesn\u0027t depend on how fast up/down we\u0027re going, only on how fast round we\u0027re going. So if you burn normal or antinormal, your position on the far side of the planet shouldn\u0027t change.... neat.\n\u003C/p\u003E\n\u003Cp\u003E\nCan we re-phrase the base equation to be more evocative of this?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E180deg\u003C/span\u003E\u003C/strong\u003E) = \u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E / (\u003C/span\u003EE\u003Csub\u003Egrav,0\u003C/sub\u003E/E\u003Csub\u003Erot,0\u00A0\u003C/sub\u003E - 1)\u003Cbr\u003E\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E180deg\u003C/span\u003E\u003C/strong\u003E) = \u003Cspan\u003Er\u003Csub\u003E0\u003C/sub\u003E *\u00A0\u003C/span\u003EE\u003Csub\u003Erot,0\u003C/sub\u003E\u003Cspan\u003E / (\u003C/span\u003EE\u003Csub\u003Egrav,0\u003C/sub\u003E\u003Csub\u003E\u00A0\u003C/sub\u003E - E\u003Csub\u003Erot,0\u003C/sub\u003E)\u00A0\u00A0\u00A0\u00A0 Well, there we go!\u003Cbr\u003E\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Er\u003Csub\u003E0*\u003C/sub\u003E\u003C/span\u003EE\u003Csub\u003Erot,0\u003C/sub\u003E/\u003Cspan\u003E[\u003Cstrong\u003E \u003C/strong\u003E\u003C/span\u003EE\u003Csub\u003Erot,0 \u003C/sub\u003E*\u003Cspan\u003E cos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E)\u003Cstrong\u003E\u003Cspan\u003E \u003C/span\u003E\u003C/strong\u003E\u002B \u003C/span\u003EE\u003Csub\u003Egrav,0\u003C/sub\u003E*(1-\u003Cspan\u003Ecos(\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E))\u003C/span\u003E\u00A0 -\u00A0E\u003Csub\u003Erot,0\u003C/sub\u003E tan(\u003Cspan\u003E\u03C6\u003Csub\u003E0\u003C/sub\u003E)\u003C/span\u003E*sin(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E) ]\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 I\u0027m not immediately convinced.... that tan(phi-not) would need to be squared to turn Erot into Evertical ... So...\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Eoh.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n-------------------------------\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-14T23:44:25Z\u0022 title=\u002206/14/2017 11:44  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 14, 2017\u003C/time\u003E by Cunjo Carl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"xendelaar","CreatedById":139535,"CreatedDateTime":"2017-06-11T15:44:08Z","Content":"\n\u003Cp\u003E\nholy kraken \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/162109-cunjo-carl/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022162109\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/162109-cunjo-carl/\u0022 rel=\u0022\u0022\u003E@Cunjo Carl\u003C/a\u003E\u00A0that was a very thorough derivation. must have taken you ages to write this paper. it\u0027s very clear and i hope \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/166014-maltman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022166014\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/166014-maltman/\u0022 rel=\u0022\u0022\u003E@Maltman\u003C/a\u003E can use it to his advantage.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Cunjo Carl","CreatedById":162109,"CreatedDateTime":"2017-06-12T02:44:22Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/139535-xendelaar/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022139535\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/139535-xendelaar/\u0022 rel=\u0022\u0022\u003E@xendelaar\u003C/a\u003E Thanks! In retrospect, the whole derivation from base principals may have been a little overkill \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E... Hopefully it makes for some nice food-for-thought! Thanks for checking through, by the way.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI did go back and finally solve for the standard orbital parameters (like the positions of apoapsis, periapsis) in terms of initial conditions, and just editted it in after the original derrivation of the orbital equation. Though I call it \u0022a bit spaghetti\u0022 in the post, I\u0027m actually surprised how clean the equations wound up now that I\u0027ve started going back to look over other people\u0027s derivations (like wiki). Eccentricity is a fairly complicated little convenience variable, so an equation that can catch it from conditions on any point of the orbit will necessarily be a bit complicated. In the end it was all pretty fun! Please let me know if there\u0027s any questions, and I understand if it was a bit... beyond what\u0027s directly useful \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E . Cheers!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOh, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154251-bewing/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022154251\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154251-bewing/\u0022 rel=\u0022\u0022\u003E@bewing\u003C/a\u003E, I\u0027m burning with curiosity now. Do you happen to know how KSP goes from position/velocity to the orbit?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-12T03:00:44Z\u0022 title=\u002206/12/2017 03:00  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 12, 2017\u003C/time\u003E by Cunjo Carl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2017-06-12T02:58:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223088641\u0022 data-ipsquote-contentid=\u0022161861\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221497235462\u0022 data-ipsquote-userid=\u0022162109\u0022 data-ipsquote-username=\u0022Cunjo Carl\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, Cunjo Carl said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nOh, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154251-bewing/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022154251\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154251-bewing/\u0022 rel=\u0022\u0022\u003E@bewing\u003C/a\u003E, I\u0027m burning with curiosity now. Do you happen to know how KSP goes from position/velocity to the orbit?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBig linear algebra matrix math things that convert directly from parametrized keplerian orbital values to whatever local coordinate system is being used, and back.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Cunjo Carl","CreatedById":162109,"CreatedDateTime":"2017-06-15T04:23:02Z","Content":"\n\u003Cp\u003E\nI think I finally have it boiled down to the base concepts. It seems like \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/166014-maltman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022166014\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/166014-maltman/\u0022 rel=\u0022\u0022\u003E@Maltman\u003C/a\u003E is already set, so I\u0027m a little hesitant to post it here, but without kicking a new thread (and where would it go?), I\u0027m not sure where else to put it! Well, here we go:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:24px;\u0022\u003EOrbits \u003C/span\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003Efor those finally tired of going round in circles\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Er\u003C/strong\u003E(\u003Cstrong\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/strong\u003E)\u003Cstrong\u003E \u003C/strong\u003E=\u003Cstrong\u003E \u003C/strong\u003E\u003Cspan\u003Ep\u003C/span\u003E/\u003Cspan\u003E(1\u002B\u003C/span\u003Ee\u003Csub\u003E*\u003C/sub\u003Ecos(\u003Cspan\u003E\u003Cstrong\u003E\u03B8\u003C/strong\u003E\u003Cem\u003E-\u003C/em\u003E\u03B1)\u003C/span\u003E\u003Cspan\u003E)\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThis equation tells you the entire shape of your orbit in terms of 3 constants, which you can calculate from any point in your orbit. Those constants determine shape, size and direction:\u003Cbr\u003E\ne \u0022eccentricity\u0022 which defines the shape\u003Cbr\u003E\np\u0022semilatus rectum\u0022 which defines the size\u003Cbr\u003E\n\u03B1 \u0022longitude of periapsis\u0022 which defines the direction the short end points.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ETasty elements of orbit like apoapsis and semimajor axis\u003Ca href=\u0022http://www.bogan.ca/orbits/kepler/orbteqtn.html\u0022 rel=\u0022external nofollow\u0022\u003E can all be found as simple relationships\u003C/a\u003E to these 3 constants, and in the next few paragraphs we\u0027ll see how these terms arise from from the fundamental concepts of an orbit. For a refresher: Orbits work by having you spin \u0027round a planet, and your centrifugal force holds you up even though gravity pulls you down. If these two forces happen to balance eachother your orbit will be a pleasant circle, but if they\u0027re out of balance, you\u0027ll bounce back and forth between them like a mass on a spring. At periapsis, extra centrifugal force becomes upwards momentum and you rise, then at apoapsis the higher relative gravity becomes downwards momentum and you fall. Then the cycle repeats, and because it happens the same way every time your craft orbits in the same shape every time. So the shape of the orbit must be based on the forces that make it happen. Let\u0027s see how.\u003C/span\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cspan\u003E\u003Cstrong\u003ECheat Sheet:\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Er = radius from the planet\u003Cbr\u003E\nv\u003Csub\u003Er\u003C/sub\u003E = speed going away from the planet \u003C/span\u003E(\u003Cspan\u003Edr/dt)\u003C/span\u003E\u003Cbr\u003E\u003Cspan\u003E\u03B8 = present angle going \u0027round the planet\u003C/span\u003E\u003Cbr\u003E\n\u03C9 = rate your angle is changing (\u003Cspan\u003Ed\u03B8/dt) \u0022angular velocity\u0022\u003Cbr\u003E\nv\u003Csub\u003E\u03B8\u003C/sub\u003E = speed going around the planet \u003C/span\u003E(r*\u003Cspan\u003Ed\u03B8/dt)\u003Cbr\u003E\u003Cbr\u003E\nm = mass of your craft\u003C/span\u003E\u003Cbr\u003E\nM = mass of the planet\u003Cbr\u003E\nG = the gravitational constant\u003Cbr\u003E\u003Cbr\u003E\u003Cspan\u003EP\u003Csub\u003EUp\u00A0\u003C/sub\u003E (Upwards Momentum) = m \u003Csub\u003E*\u003C/sub\u003E\u003Cstrong\u003Ev\u003Csub\u003Er\u003C/sub\u003E\u003C/strong\u003E\u003Cbr\u003E\nF\u003Csub\u003EG\u003C/sub\u003E (Gravity) =\u003Cb\u003E \u003C/b\u003EG\u003Csub\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E* \u003C/strong\u003E\u003C/sub\u003EM\u003Csub\u003E * \u003C/sub\u003Em / \u003Cb\u003Er\u003Csup\u003E2\u003C/sup\u003E\u003C/b\u003E\u003Cbr\u003E\nF\u003Csub\u003EC\u003C/sub\u003E (Centrifugal Force) = m*\u003C/span\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cspan\u003E\u003Csup\u003E2\u003C/sup\u003E\u003Cb\u003E/r\u003C/b\u003E\u003C/span\u003E\u003Cbr\u003E\u003Cbr\u003E\nv = total velocity of your craft\u003Cbr\u003E\u003Cspan\u003E\u03C6 = angle between velocity and horizon\u003C/span\u003E\u003Cbr\u003E\nv\u003Csub\u003Er\u003C/sub\u003E = v \u003Csub\u003E* \u003C/sub\u003Esin(\u003Cspan\u003E\u03C6)\u00A0\u003C/span\u003E\u003Cbr\u003E\nv\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E\u003C/sub\u003E = v \u003Csub\u003E*\u003C/sub\u003E cos(\u003Cspan\u003E\u03C6)\u003C/span\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cstrong\u003Ev\u003C/strong\u003E\u003Csub\u003E\u003Cspan\u003E\u003Cb\u003E\u03B8\u003C/b\u003E\u003C/span\u003E\u003C/sub\u003E\u003Cstrong\u003E \u003C/strong\u003E= v\u003Csub\u003E\u003Cspan\u003E\u03B8\u003C/span\u003E,0\u003C/sub\u003E * r\u003Csub\u003E0\u003C/sub\u003E /\u003Cstrong\u003E r\u003C/strong\u003E\u00A0\u00A0\u00A0 Because angular momentum is conserved, we go \u0027round faster the further we go in. This mathematically describes the relationship. 0s mean initial, and bold means present.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E1. Eccentricity: The Shape\u003Cbr\u003E\ne = sqrt[ (\u003C/span\u003E\u03C9\u003Cspan\u003E\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EP\u003Csub\u003EUp\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E)\u003Csup\u003E2\u003C/sup\u003E \u002B (F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E - 1)\u003Csup\u003E2 \u003C/sup\u003E]\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe eccentricity measures the ovalness of an orbit, and to rephrase the picture painted in the intro, it captures this cycle: \u003Cspan\u003EF\u003Csub\u003EC \u003C/sub\u003E\u0026gt;F\u003Csub\u003EG\u003C/sub\u003E ... we go up ... \u003C/span\u003E\u003Cspan\u003EF\u003Csub\u003EC \u003C/sub\u003E\u0026lt;F\u003Csub\u003EG\u003C/sub\u003E ...\u00A0 we go down... [repeat]. So, our constant \u0027e\u0027 needs to be able to catch the essence of this at any point in time. \u003C/span\u003EIt handles this by adding these two squared terms:\u003Cbr\u003E\u003Cspan\u003E(\u003C/span\u003E\u03C9\u003Cspan\u003E\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EP\u003Csub\u003EUp\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E) , which is the upwards momentum relative to the force of gravity (then multiplied by the rate your angle is changing to make the units work out right... \u0026lt;waves hands\u0026gt;). Any amount of upwards/downwards momentum causes imbalance, but the amount is relative to the gravity it\u0027ll be pushing against.\u003C/span\u003E\u003Cbr\u003E\u003Cspan\u003E(F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E - 1) When centrifugal force and gravity are equal to eachother, F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E becomes 1, and the term falls to 0. As either becomes greater than the other the term gets a greater and greater magnitude.\u003C/span\u003E\u003Cbr\u003E\nSince these two things are \u0027added in quadrature\u0027 (a\u003Csup\u003E2\u003C/sup\u003E \u002B b\u003Csup\u003E2\u003C/sup\u003E = c\u003Csup\u003E2\u003C/sup\u003E hypotenuse style), it doesn\u0027t matter if the terms are positive or negative, it only matters how big they are. And with this, all possibilities for imbalance are captured and brought together, and can be measured anywhere in the orbit!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n2. Semilatus Rectum: The Size\u003Cbr\u003E\np = r\u003Csub\u003E*\u003C/sub\u003EF\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E\u003Cbr\u003E\u003Cbr\u003E\nThe semilatus rectum measures the size of an orbit. It tells us the radius your orbit will have in that single moment of the cycle when gravity and centrifugal force balance. We can measure what this magic radius should be from anywhere in the orbit by taking our current radius and multiplying it by a fudge factor: F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG \u003C/sub\u003E. Why? By serendipity, F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG \u003C/sub\u003Ehappens to be proportional to 1/r, so whenever our radius increases, the fudge factor decreases by exactly the same amount. The product is the same as our radius when F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E = 1, or in other words, when the forces balance. In this way we can measure this special radius from any point in our orbit.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n3. Longitude of Periapsis: The Direction\u003Cbr\u003E\u003Cspan\u003E\u03B1 = \u03B8 - arctan( (\u003C/span\u003E\u03C9\u003Cspan\u003E\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EP\u003Csub\u003EUp\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E) / (F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E - 1) )\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThe Argument of Periapsis measures the direction (angle) of our orbit\u0027s periapsis relative to some pre-chosen galactic standard. Notice the (\u003C/span\u003E\u03C9\u003Cspan\u003E\u003Csub\u003E\u003Cstrong\u003E*\u003C/strong\u003E\u003C/sub\u003EP\u003Csub\u003EUp\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E) and\u00A0(F\u003Csub\u003EC\u003C/sub\u003E/F\u003Csub\u003EG\u003C/sub\u003E - 1) terms are just the measurements from before for how far out of balance we are through either up/down momentum or imbalanced forces. Their ratio tells us where we are in the cycle, and the arctan turns that information into an angle. That whole piece tells us where the periapsis is relative to us, so when we add it to \u03B8 (which is where we are relative to the standard) we get the longitude of periapsis: the angle our periapsis points relative to the standard. Because it\u0027s always relative to where we are, we can figure out the direction of the orbit from anywhere along it.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnd that\u0027s it! Now we know the shape, size and direction of our orbit we can plot it or gather other information through simple relationships. I hope it\u0027s brought some insight to the nature of these seemingly ineffable constants!\u003C/span\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-15T05:41:28Z\u0022 title=\u002206/15/2017 05:41  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 15, 2017\u003C/time\u003E by Cunjo Carl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Maltman","CreatedById":166014,"CreatedDateTime":"2017-06-15T05:10:15Z","Content":"\n\u003Cp\u003E\nHey thanks for all these quality posts! I especially appreciate yours Cunjo!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am struggling to understand it all. I am also making a 2D orbit game and I want to code some of this math into the game so that the player can get information on his orbit. I find all of this shockingly complex sometimes and rather overwhelming. So far I have the eccentricity down as well as the angular momentum. I\u0027d like to code an entire orbital read out with prediction like you get in KSP or in Kerbal Engineer.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve just gotten over the cold.\u00A0I have to devote some quality time to understanding these concepts. I almost need someone to explain it over a discord or IRC for me because I am derp.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-15T06:01:07Z\u0022 title=\u002206/15/2017 06:01  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 15, 2017\u003C/time\u003E by Maltman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cunjo Carl","CreatedById":162109,"CreatedDateTime":"2017-06-15T21:21:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223092097\u0022 data-ipsquote-contentid=\u0022161861\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221497503415\u0022 data-ipsquote-userid=\u0022166014\u0022 data-ipsquote-username=\u0022Maltman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Maltman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0I almost need someone to explain it over a discord or IRC...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m in! My free time is pretty sparse, sadly. Do you have availability tonight 9-10pm PDT (4-5am GMT)? If not, I can try to swing a time this weekend.\n\u003C/p\u003E\n\u003Cp\u003E\nJust like anything, it\u0027s tricky stuff when you first get going, but gets easier as you play with it. Hopefully I can get you started! What language program, btw?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Maltman","CreatedById":166014,"CreatedDateTime":"2017-06-16T21:35:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223092902\u0022 data-ipsquote-contentid=\u0022161861\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221497561698\u0022 data-ipsquote-userid=\u0022162109\u0022 data-ipsquote-username=\u0022Cunjo Carl\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/15/2017 at 2:21 PM, Cunjo Carl said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m in! My free time is pretty sparse, sadly. Do you have availability tonight 9-10pm PDT (4-5am GMT)? If not, I can try to swing a time this weekend.\n\u003C/p\u003E\n\u003Cp\u003E\nJust like anything, it\u0027s tricky stuff when you first get going, but gets easier as you play with it. Hopefully I can get you started! What language program, btw?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy free time is infinite thankfully! So we should be able to talk some time at night or during the weekends. I\u0027ll send you a PM with like my gmail and you can contact me on hangouts is that OK?\n\u003C/p\u003E\n\u003Cp\u003E\nYeah I struggle with the feeling of being overwhelmed a lot, but I\u0027m learning to ask others for help! I\u0027m making it in Unity with C#.\n\u003C/p\u003E\n"}]}