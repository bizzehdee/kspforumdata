{"TopicId":105597,"ForumId":16,"TopicTitle":"Whats with the insane heating spike at Mach 2?","CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-28T11:23:52Z","PageNum":1,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-28T11:23:52Z","Content":"![sYh563i.png](http://i.imgur.com/sYh563i.png)\n\nThe red line is convective flux (heat energy transfer rate) on a craft flying at 500m altitude. The sudden spike at Mach 2 is why planes all explode when you go much beyond 700m/s at sea level (the instant speed is \u003E mach 2, flux/second increases by a factor of 70...)\n\nJust wondering if there is any reason for there to be a sudden sharp change in heating characteristics passing through Mach 2\n\n**Edited \u003Ctime datetime=\u00222015-04-28T22:17:44Z\u0022 title=\u002204/28/2015 10:17  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 28, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Blu_C","CreatedById":39941,"CreatedDateTime":"2015-04-28T11:42:21Z","Content":"My guess would be it is simulating shock heating effects. As you go faster the air in front of you compresses more, and using the friendly formula of PV=nRT we can see that as Pressure goes up so too must temperature in order to keep the equation balanced (both n and R are constants). At some point the heat gained from friction is significantly less than the heat gained from shock heating.\n\nHow accurate that spike is I cannot comment on, however it is true that aircraft which are designed to travel at especially high speeds do have problems with heating. In fact, as I recall, the SR-71 was designed with many gaps in it\u0027s structure since, once in flight, the plates would expand as a result of heating and create a seal (as such, the thing was leaking fuel on the ground and had to be refueled shortly after take-off)."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-04-28T18:54:31Z","Content":"Good find."},{"CreatedByName":"antbin","CreatedById":22389,"CreatedDateTime":"2015-04-28T19:00:20Z","Content":"What tools do you use to capture / plot these values?"},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2015-04-28T19:48:27Z","Content":"It would be interesting to see these heat profiles on a per-part basis as a function of distance from the front. For example, have the front of a rocket be a stack of several empty liquid fuel tanks with nothing attached to them, and plot the heat fluxes vs. Mach number for each tank. (Might want to pick something with higher max temperature than a fuel tank, but something light and of constant cross section.)\n\n**Edited \u003Ctime datetime=\u00222015-04-28T20:00:04Z\u0022 title=\u002204/28/2015 08:00  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 28, 2015\u003C/time\u003E by Yasmy**"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-28T20:09:04Z","Content":"The raw data of the kink:\n\n[TABLE=class: grid, width: 150]\n\n[TR]\n\n[TD]Mach[/TD]\n\n[TD]Flux[/TD]\n\n[TD]Flux\u0027[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]1.995[/TD]\n\n[TD]2037.6[/TD]\n\n[TD]2.17[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]1.996[/TD]\n\n[TD]2039.8[/TD]\n\n[TD]2.19[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]1.997[/TD]\n\n[TD]2042.0[/TD]\n\n[TD]2.18[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]1.998[/TD]\n\n[TD]2046.3[/TD]\n\n[TD]2.21[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]1.999[/TD]\n\n[TD]2046.3[/TD]\n\n[TD]2.14[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]2.000[/TD]\n\n[TD]2048.6[/TD]\n\n[TD]2.22[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]2.001[/TD]\n\n[TD]2073.8[/TD]\n\n[TD]25.3[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]2.002[/TD]\n\n[TD]2215.8[/TD]\n\n[TD]142.0[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]2.003[/TD]\n\n[TD]2367.9[/TD]\n\n[TD]152.0[/TD]\n\n[/TR]\n\n[TR]\n\n[TD]2.004[/TD]\n\n[TD]2506.9[/TD]\n\n[TD]139.0[/TD]\n\n[/TR]\n\n[/TABLE]\n\nFlux\u0027 (convective) stabilises at 150 (\u002B/- 5) per frame\n\n\u003E \n\u003E My guess would be it is simulating shock heating effects. As you go faster the air in front of you compresses more, and using the friendly formula of PV=nRT we can see that as Pressure goes up so too must temperature in order to keep the equation balanced (both n and R are constants). At some point the heat gained from friction is significantly less than the heat gained from shock heating.\n\nOh, I have no issue with the **increase** in heating. It is specifically the jump as you pass Mach 2 that I was wondering:\n\nA) Is there any basis in reality\n\n![B)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png) Any way to even begin to deal with it\n\nC) Any settings that could smooth that out a bit\n\n\u003E \n\u003E Good find.\n\nImplying it\u0027s a bug I assume (although I guess there\u0027s not much chance of it not being one given how unmanageable gaining 100s of thousands of flux in seconds is).\n\n\u003E \n\u003E What tools do you use to capture / plot these values?\n\nCustom plugin =\u003E excel\n\n\u003E \n\u003E It would be interesting to see these heat profiles on a per-part basis as a function of distance from the front. For example, have the front of a rocket be a stack of several empty liquid fuel tanks with nothing attached to them, and plot the heat fluxes vs. Mach number for each tank. (Might want to pick something with higher max temperature than a fuel tank, but something light and of constant cross section.)\n\nIn a stack, parts towards the rear have a delayed response almost exactly as you would expect. The parts that heat the fastest are small and stick out into the airflow (canards are really bad for this)"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-04-28T21:10:22Z","Content":"Try messing with machConvectionEnd in Physics.cfg."},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2015-04-28T21:57:54Z","Content":"Maybe they are using Mach 2 as something like a transonic/supersonic boundary, rather than a more conventional 1.2ish. \n\nI wonder if there is a similar change in the heating model at a subsonic/transonic boundary and a super/hypersonic boundary (perhaps at Mach 3.5?).\n\nFrom Physics.cfg: (thanks NathanKell)\n\nmachConvectionStart = 2\n\nmachConvectionEnd = 3.5\n\n**Edited \u003Ctime datetime=\u00222015-04-28T21:58:45Z\u0022 title=\u002204/28/2015 09:58  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 28, 2015\u003C/time\u003E by Yasmy**\n  \nspeeling"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-28T22:17:10Z","Content":"Can\u0027t really change those too much otherwise you end up killing re-entry heating off. The issue here is that the interpolation method used is completely linear, causing an extremely sharp kink as it cuts in"},{"CreatedByName":"Cinocal","CreatedById":54959,"CreatedDateTime":"2015-04-29T14:55:40Z","Content":"Not exactly and elegant solution."},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-29T16:51:07Z","Content":"\u003E \n\u003E [http://i.imgur.com/sYh563i.png](http://i.imgur.com/sYh563i.png)\n\u003E The red line is convective flux (heat energy transfer rate) on a craft flying at 500m altitude. The sudden spike at Mach 2 is why planes all explode when you go much beyond 700m/s at sea level (the instant speed is \u003E mach 2, flux/second increases by a factor of 70...)\n\u003E \n\u003E Just wondering if there is any reason for there to be a sudden sharp change in heating characteristics passing through Mach 2\n\nGood work. Any chance i could get your plugin to output to excel? ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)\n\nI\u0027ve noticed similar discontinuities/extreme sensitivities in my thead [here](https://forum.kerbalspaceprogram.com/threads/117511-Serious-Bug-in-Convective-Aerodynamic-Heating?p=1878034\u0026viewfull=1#post1878034)\n\n- - - Updated - - -\n\n\u003E \n\u003E Oh, I have no issue with the **increase** in heating. It is specifically the jump as you pass Mach 2 that I was wondering:\n\u003E \n\u003E A) Is there any basis in reality\n\u003E \n\u003E ![B)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png) Any way to even begin to deal with it\n\u003E \n\u003E C) Any settings that could smooth that out a bit\n\nAccording to this formula, it should be continuous starting from Mach 0: [http://en.wikipedia.org/wiki/Stagnation_temperature](https://en.wikipedia.org/wiki/Stagnation_temperature) but this only includes stagnation temperature and not viscous heating and/or other effects (though i\u0027m not sure which effects KSP even attempts to simulate)."},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-04-29T18:53:37Z","Content":"Is there any modelling of thermal conduction anywhere? but really I think it\u0027s just a case of attempting to handwave \u0026 getting it wrong, rather like the odd drag behaviour of the new aero."}]}