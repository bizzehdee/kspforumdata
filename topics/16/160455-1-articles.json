{"TopicId":160455,"ForumId":16,"TopicTitle":"Hoverslam equations?","CreatedByName":"kerbinorbiter","CreatedById":172446,"CreatedDateTime":"2017-05-10T14:51:24Z","PageNum":1,"Articles":[{"CreatedByName":"kerbinorbiter","CreatedById":172446,"CreatedDateTime":"2017-05-10T14:51:24Z","Content":"\n\u003Cp\u003E\nThe question is what are the maths behind a\u00A0\u003Cs\u003Esuicide burn\u003C/s\u003E\u00A0sorry I meant hoverslam, and also I would like an example because the ones I\u0027ve seen I cannot understand\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\noh welcome to the 100 club Kerbin orbiter!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-10T14:52:13Z\u0022 title=\u002205/10/2017 02:52  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 10, 2017\u003C/time\u003E by kerbinorbiter\u003C/strong\u003E\n\u003Cbr\u003EOh 100th post\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2017-05-10T15:18:12Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052027\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494427884\u0022 data-ipsquote-userid=\u0022172446\u0022 data-ipsquote-username=\u0022kerbinorbiter\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, kerbinorbiter said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe question is what are the maths behind a\u00A0\u003Cs\u003Esuicide burn\u003C/s\u003E\u00A0sorry I meant hoverslam, and also I would like an example because the ones I\u0027ve seen I cannot understand\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, there\u0027s \u003Ca href=\u0022https://github.com/mrbradleyjh/KOS-Hoverslam\u0022 rel=\u0022external nofollow\u0022\u003Ethis kOS script\u003C/a\u003E that someone put together, does that fit the bill?\n\u003C/p\u003E\n\u003Cp\u003E\nWhat kind of math are you looking for?\u00A0 i.e. what exactly is the problem that you\u0027re trying to solve?\n\u003C/p\u003E\n"},{"CreatedByName":"kerbinorbiter","CreatedById":172446,"CreatedDateTime":"2017-05-10T15:18:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052057\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494429492\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWell, there\u0027s \u003Ca href=\u0022https://github.com/mrbradleyjh/KOS-Hoverslam\u0022 rel=\u0022external nofollow\u0022\u003Ethis kOS script\u003C/a\u003E that someone put together, does that fit the bill?\n\u003C/p\u003E\n\u003Cp\u003E\nWhat kind of math are you looking for?\u00A0 i.e. what exactly is the problem that you\u0027re trying to solve?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCoincidentally I\u0027m looking to create a KOS script\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthe problem im trying to solve is what altitude do I need to burn at with a thrust of 300Kn at sea level\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\non kerbin\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-10T15:20:42Z\u0022 title=\u002205/10/2017 03:20  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 10, 2017\u003C/time\u003E by kerbinorbiter\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2017-05-10T15:28:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052059\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494429537\u0022 data-ipsquote-userid=\u0022172446\u0022 data-ipsquote-username=\u0022kerbinorbiter\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, kerbinorbiter said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCoincidentally I\u0027m looking to create a KOS script\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthe problem im trying to solve is what altitude do I need to burn at with a thrust of 300Kn at sea level\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\non kerbin\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not that simple.\u00A0 If you\u0027re trying to solve an \u003Cem\u003E\u003Cu\u003Eactual game problem\u003C/u\u003E\u003C/em\u003E rather than simply wanting to do some theoretical analysis, then you\u0027ll have to take a \u003Cem\u003E\u003Cu\u003Elot\u003C/u\u003E\u003C/em\u003E of factors into account:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nHow is the ship moving already?\u00A0 (both horizontal and vertical components)\n\u003C/li\u003E\n\u003Cli\u003E\nWhat\u0027s the terrain under the ship?\u00A0 (If you\u0027re not doing a straight-vertical descent, and you\u0027re not landing on perfectly flat terrain, then you have to project your impact point under thrust so you\u0027ll know how high the ground will be at the point where you land.)\n\u003C/li\u003E\n\u003Cli\u003E\nWhat\u0027s the fuel consumption rate?\u00A0 Your acceleration will change as you burn fuel and thereby lose mass.\n\u003C/li\u003E\n\u003Cli\u003E\nIf you\u0027re doing it in atmosphere:\u00A0 What\u0027s the drag on your ship?\u00A0 Which depends on a complicated interaction of the shape of your ship, the orientation during descent, the particular atmospheric characteristics where you\u0027re landing, etc.\n\u003C/li\u003E\n\u003Cli\u003E\nHow\u0027s the Isp curve on your engines?\u00A0 Depending on the pressure gradient, your velocity, etc. it\u0027s possible there could be a significant change to your engine thrust as you descend.\n\u003C/li\u003E\n\u003Cli\u003E\netc.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nOf course you can always use approximations, and go for a \u0022pretty good\u0022 solution that ignores or very roughly approximates various factors such as the above-- just pointing out that this is a non-trivial problem to compute.\u00A0 Not saying it can\u0027t be done, just... it\u0027s not a matter of plugging in a couple of equations and then done.\n\u003C/p\u003E\n"},{"CreatedByName":"Spricigo","CreatedById":166502,"CreatedDateTime":"2017-05-10T16:01:18Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe a more empirical approach works for you. Do a few attempt to execute the maneuver by yourself to get a idea of what commands are necessary and then try to write to replicate it with a script. Refine and iterate until you get a reliable and consistent result.\n\u003C/p\u003E\n"},{"CreatedByName":"kerbinorbiter","CreatedById":172446,"CreatedDateTime":"2017-05-10T16:03:38Z","Content":"\n\u003Cp\u003E\nYeah that\u0027s how I do things trial and error I did do an attempt yesterday with the ratio\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nfor every 8 m/s add 100m to the burn time I got an altitude of around 142m Radar alt\n\u003C/p\u003E\n\u003Cp\u003E\nwould I devide by 2?\n\u003C/p\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2017-05-10T16:41:01Z","Content":"\n\u003Cp\u003E\nYou can achieve a pretty good first approximation answer by doing some with high school physics.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst you need the burn time to zero velocity which will be V\u003Csub\u003E0\u003C/sub\u003E*F/M. derivation is left as an exercise for the reader. Then drop that into V\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003E0\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003Et-Mt\u003Csup\u003E2\u003C/sup\u003E/(2F), again derivation left as an exercise,\u00A0to get the distance to stop. Add that to the height above ASL of the terrain and Jeb\u0027s your pilot.\u003C/font\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYour second approximation answer is less simple. As Snark has mentioned you will have to factor in some heavier math because mass and force are not constant. The trivial case of no atmospheric change in \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is ignored for the moment. This will require probably require some of the terror math\u00A0\u0026lt;/legion voice\u0026gt;Ordinary Differential Equations\u0026lt;/legion voice\u0026gt;... whimper.\u00A0 You can for the most part use a basic linear approximation for the isp curve. The mass is the same...\u00A0Okay I can do this. Just not right yet. I\u0027m going to\u00A0need some space. Here,\u00A0hold my beer.\n\u003C/p\u003E\n\u003Cp\u003E\nBasically, this approximation and it\u0027s kin are the reason why Rocket Science is synonymous with smart people only. ODEs and matrix ODEs are not some of the nicest thing to work with, or learn about.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cfont size=\u00222\u0022\u003EYour third approximation answer does not exist. No it doesn\u0027t. \u0027cause drag is voodoo mathamagic. So forget about it. It just doesn\u0027t exist.\u003C/font\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-10T16:50:56Z\u0022 title=\u002205/10/2017 04:50  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 10, 2017\u003C/time\u003E by steuben\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2017-05-10T17:04:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052104\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494432218\u0022 data-ipsquote-userid=\u0022172446\u0022 data-ipsquote-username=\u0022kerbinorbiter\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, kerbinorbiter said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah that\u0027s how I do things trial and error I did do an attempt yesterday with the ratio\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nfor every 8 m/s add 100m to the burn time I got an altitude of around 142m Radar alt\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, so if you\u0027re just trial-and-erroring it, then yeah, you can do better than that with some math by making a bunch of simplifying assumptions.\u00A0 As steuben points out,\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052152\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494434461\u0022 data-ipsquote-userid=\u002277368\u0022 data-ipsquote-username=\u0022steuben\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, steuben said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFirst you need the burn time to zero velocity which will be V\u003Csub\u003E0\u003C/sub\u003E*F/M. derivation is left as an exercise for the reader. Then drop that into V\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003E0\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003Et-Mt\u003Csup\u003E2\u003C/sup\u003E/(2F), again derivation left as an exercise,\u00A0to get the distance to stop. Add that to the height above ASL of the terrain and Jeb\u0027s your pilot.\u003C/font\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n^ This.\u00A0 It\u0027s not too hard \u003Cspan style=\u0022font-size:9px;\u0022\u003E(tedious, but needs only algebra, no fancy differential equations or anything)\u003C/span\u003E to come up with a formula where you plug in the following:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nlocal gravity\n\u003C/li\u003E\n\u003Cli\u003E\nship mass \u002B engine thrust\u00A0 (these two numbers will give you your acceleration)\n\u003C/li\u003E\n\u003Cli\u003E\ncurrent height above terrain\n\u003C/li\u003E\n\u003Cli\u003E\ncurrent downward velocity\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n...which will spit out \u0022how many meters above terrain should I turn on my engine for the burn.\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nThat ought to do a lot better than just trial and error.\u00A0 However, it\u0027s going to be making several assumptions:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nthat you\u0027re going straight down\n\u003C/li\u003E\n\u003Cli\u003E\nthat your burn is short enough that the fuel mass you burn will be very small relative to the total mass of your ship\n\u003C/li\u003E\n\u003Cli\u003E\nthat the effects of aerodynamics are minimal (i.e. that you\u0027re flying something dense, streamlined, and not going too fast)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n...The first one might be valid, and the second one might not be \u003Cem\u003E\u003Cu\u003Etoo\u003C/u\u003E\u003C/em\u003E bad... but the third one could be potentially significant.\u00A0 Depends completely on ship design.\u00A0 And there\u0027s no good way to approximate it, either.\u00A0 Drag is complicated.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"kerbinorbiter","CreatedById":172446,"CreatedDateTime":"2017-05-10T17:09:43Z","Content":"\n\u003Cp\u003E\nthe ratio i get is 8:100 8m/s=100m burn altitude when i do this however i get a 142m height above altitude radar after i reach 0 speed\n\u003C/p\u003E\n\u003Cp\u003E\nhowever i should test it with a orbital-class rocket though because that was a grasshopper readout\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-10T17:12:45Z\u0022 title=\u002205/10/2017 05:12  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 10, 2017\u003C/time\u003E by kerbinorbiter\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2017-05-10T17:20:16Z","Content":"\n\u003Cp\u003E\nright I forgot local g... so that turns the first approx. answer for distance into\n\u003C/p\u003E\n\u003Cp\u003E\nV0t-Mt\u003Csup\u003E2\u003C/sup\u003E/(2F)\u002B1/2g\u003Csub\u003El\u003C/sub\u003Et\n\u003C/p\u003E\n\u003Cp\u003E\nfor a straight down drop.\n\u003C/p\u003E\n\u003Cp\u003E\nextension for any thing else is pretty easy and left as an exercise for the reader.\n\u003C/p\u003E\n"},{"CreatedByName":"Spricigo","CreatedById":166502,"CreatedDateTime":"2017-05-10T17:23:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052152\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494434461\u0022 data-ipsquote-userid=\u002277368\u0022 data-ipsquote-username=\u0022steuben\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n44 minutes ago, steuben said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou can achieve a pretty good first approximation answer by doing some with high school physics.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst you need the burn time to zero velocity which will be V\u003Csub\u003E0\u003C/sub\u003E*F/M. derivation is left as an exercise for the reader. Then drop that into V\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003E0\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003Et-Mt\u003Csup\u003E2\u003C/sup\u003E/(2F) to get the distance to stop. Add that to the height above ASL of the terrain and Jeb\u0027s your pilot.\u003C/font\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwhy not V\u00B2=Vi\u00B2\u002B2ad\u00A0 \u003Cfont face=\u0022Lucida\u0022\u003E\u003Cb\u003E\u2234 \u003C/b\u003Ed= Vi\u00B2/2a\u00A0 Where a={(T/m)-g}\u00A0 (as a first approximation trajectory is exactly vertical and mass is constant)\u003C/font\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cfont face=\u0022Lucida\u0022\u003Ewhich may not be so bad for a booster landing back at Kerbin SpaceX style, but if we consider that mass decrease, the actual distance will be less than we calculated. We can still use the formula if we use the average acceleration (not so simple because variation is not linear). \u003C/font\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAdding other factors (drag, change of Isp, fuel consumption, attitude) can make the calculations pretty quickly. So I\u0027d start with this and see how good it works out before considering such factor.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-10T17:25:31Z\u0022 title=\u002205/10/2017 05:25  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 10, 2017\u003C/time\u003E by Spricigo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-05-10T18:29:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052074\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494430107\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s not that simple.\u00A0 If you\u0027re trying to solve an \u003Cem\u003E\u003Cu\u003Eactual game problem\u003C/u\u003E\u003C/em\u003E rather than simply wanting to do some theoretical analysis, then you\u0027ll have to take a \u003Cem\u003E\u003Cu\u003Elot\u003C/u\u003E\u003C/em\u003E of factors into account:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nHow is the ship moving already?\u00A0 (both horizontal and vertical components)\n\u003C/li\u003E\n\u003Cli\u003E\nWhat\u0027s the terrain under the ship?\u00A0 (If you\u0027re not doing a straight-vertical descent, and you\u0027re not landing on perfectly flat terrain, then you have to project your impact point under thrust so you\u0027ll know how high the ground will be at the point where you land.)\n\u003C/li\u003E\n\u003Cli\u003E\nWhat\u0027s the fuel consumption rate?\u00A0 Your acceleration will change as you burn fuel and thereby lose mass.\n\u003C/li\u003E\n\u003Cli\u003E\nIf you\u0027re doing it in atmosphere:\u00A0 What\u0027s the drag on your ship?\u00A0 Which depends on a complicated interaction of the shape of your ship, the orientation during descent, the particular atmospheric characteristics where you\u0027re landing, etc.\n\u003C/li\u003E\n\u003Cli\u003E\nHow\u0027s the Isp curve on your engines?\u00A0 Depending on the pressure gradient, your velocity, etc. it\u0027s possible there could be a significant change to your engine thrust as you descend.\n\u003C/li\u003E\n\u003Cli\u003E\netc.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nOf course you can always use approximations, and go for a \u0022pretty good\u0022 solution that ignores or very roughly approximates various factors such as the above-- just pointing out that this is a non-trivial problem to compute.\u00A0 Not saying it can\u0027t be done, just... it\u0027s not a matter of plugging in a couple of equations and then done.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBecause I didn\u0027t want to bother with the algebra and the messy situation here, I went with a simulation in the computer\u0027s \u0022head\u0022, running constantly in a loop in a loop, where each pass of the inner loop does this:\n\u003C/p\u003E\n\u003Cp\u003E\nouter loop:\n\u003C/p\u003E\n\u003Cp\u003E\nset dT to some_small_number_like_0.5.\n\u003C/p\u003E\n\u003Cp\u003E\ninner loop:\n\u003C/p\u003E\n\u003Cp\u003E\nApply dT\u0027s worth of thrust in reverse-velocity direction (using surface-relative velocity, of course).\u00A0 Divide by ship\u0027s current mass to get the acceleration due to thrust.\n\u003C/p\u003E\n\u003Cp\u003E\nApply gravity\u0027s acceleration downwards over dT seconds at gravity\u0027s strength at ship\u0027s altitude.\n\u003C/p\u003E\n\u003Cp\u003E\nCalculate new velocity based on those two accelerations.\n\u003C/p\u003E\n\u003Cp\u003E\nApply that velocity over dT seconds, to the position.\n\u003C/p\u003E\n\u003Cp\u003E\nUse \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E to calculate how much mass will have been lost at max thrust for dT seconds, and subtract that from ship\u0027s current mass.\n\u003C/p\u003E\n\u003Cp\u003E\nIf direction of velocity has just flipped, then exit the loop because you just passed the point where the burn will have stopped your movement.\n\u003C/p\u003E\n\u003Cp\u003E\nelse repeat inner loop.\n\u003C/p\u003E\n\u003Cp\u003E\nNow that loop is over, look at the calculated final position it came up with.\u00A0 If it\u0027s really close to the terrain height at that position, you\u0027d better start the burn.\u00A0 Else repeat outer loop.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat solves the problem of not knowing the terrain at the landing spot, by actually predicting the landing spot with a simulation.\u00A0 This was made for places without atmosphere though.\u00A0 To make it work with an atmosphere, you\u0027d have to add the ability to vary the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E based on atmosphere at current simulated altitude (which I can do), and add an anti-thrust force due to the drag at current simulated velocity at simulated atmosphere level at altitude (which I have no clue how to do so that\u0027s where I stopped trying.\u00A0 The drag will vary massively depending on the ship\u0027s shape and attitude.\u00A0 And if you have the grid-fins that SpaceX uses, then I don\u0027t know how in the heck to put that in the simulation.).\n\u003C/p\u003E\n"},{"CreatedByName":"Spricigo","CreatedById":166502,"CreatedDateTime":"2017-05-10T19:50:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052257\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494440953\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsnip\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyour method is the numerical analyses of the problem. It or algebra should lead to same conclusion, with imprecision depending on the approximations done.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDrag is probably the most unpredictable factor by far.\u00A0 So probably the best to face with guesswork rather than with maths.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-10T20:03:23Z\u0022 title=\u002205/10/2017 08:03  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 10, 2017\u003C/time\u003E by Spricigo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2017-05-11T01:24:24Z","Content":"\n\u003Cp\u003E\ndang this is an interesting problem... time to break out the power tools. Now where is that copy of Maple V?... Behold the Power of Math!\u0026lt;\u003Ca href=\u0022http://tvtropes.org/pmwiki/pmwiki.php/Main/DramaticThunder\u0022 rel=\u0022external nofollow\u0022\u003Edramatic thunder and lightning\u003C/a\u003E\u0026gt; A closed form function will beat a numeric approximation and can be recalculated if the engine and other hings change easily rather than rerunning the approximation. Besides the Newton fractal is a pretty good reason to not fully trust numerical methods.\n\u003C/p\u003E\n\u003Cp\u003E\nCause i might be chasing a much more general case than i need to... but who cares \u0027cause Math!\n\u003C/p\u003E\n\u003Cp\u003E\nQuestion... that 300kN engine is it stock? \u00A0if so which one... though\u00A0the equation set can be generalised.\n\u003C/p\u003E\n\u003Cp\u003E\nQuestion... will it be landing in an atmosphere? if yes and a non-stock engine\u00A0what is the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E spread like?\n\u003C/p\u003E\n\u003Cp\u003E\nQuestion... from an arbitrary velocity relative to the surface? or nearly vertical? though again the equation set can be generalised.\n\u003C/p\u003E\n\u003Cp\u003E\nQuestion... will the script cycle constantly or will it just grab the value and run with it?\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-05-11T03:42:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223052317\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494445813\u0022 data-ipsquote-userid=\u0022166502\u0022 data-ipsquote-username=\u0022Spricigo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Spricigo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nyour method is the numerical analyses of the problem. It or algebra should lead to same conclusion, with imprecision depending on the approximations done.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDrag is probably the most unpredictable factor by far.\u00A0 So probably the best to face with guesswork rather than with maths.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe solution probably involves re-calculating the results on the fly as you suicide burn, rather than just predicting when to start the suicide burn and assuming full throttle from then on.\u00A0 Because drag will not be predictable and will change dynamically in flight, this is the only technique that has any hope.\u00A0 Your initial estimate of when to start has to slightly over-estimate the needed burn time, and then you dynamically adjust the throttle as you burn based on what your new predictions are saying at the moment.\u00A0 Thus if you have an engine that can only throttle down to, say, 70%, and your initial estimate at 100% throttle would have ended up slightly above the launchpad (and then have to drop from there, too far, because you can\u0027t descend at 10% throttle like you\u0027d have to), you can adjust that problem before you get to it, starting to throttle back to maybe 95% or so from that high up, so you don\u0027t have to try to throttle down to 10% at the very end when you stop too high up.\u00A0 Instead the need to throttle a bit less than full gets spread out over the whole descent instead of having to happen all at the very end.\n\u003C/p\u003E\n\u003Cp\u003E\nYou start burning, then re-run the prediction, and as it starts claiming you\u0027ll stop quite a ways above the ground instead of where you first predicted (because it didn\u0027t account for as much drag as there ended up being), you can start throttling back a bit well before you reach that point.\n\u003C/p\u003E\n\u003Cp\u003E\nBecause I would want to eventually have that whole system in place, that\u0027s why I went with the numerical approximation technique - with only a bit of editing later, it should allow me to make it capable of reacting to changing drag conditions on the fly after the initial prediction.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-11T03:44:29Z\u0022 title=\u002205/11/2017 03:44  AM\u0022 data-short=\u00227 yr\u0022\u003EMay 11, 2017\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kerbinorbiter","CreatedById":172446,"CreatedDateTime":"2017-05-11T06:24:40Z","Content":"\n\u003Cp\u003E\nYes it will recalculate it will be in atmo the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is 215 to 255 and its stock\n\u003C/p\u003E\n\u003Cp\u003E\nthe dry mass is about 21.818t\n\u003C/p\u003E\n\u003Cp\u003E\nthe resources left are\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n680 liquid fuel\n\u003C/p\u003E\n\u003Cp\u003E\n860 oxidiser\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(also ill credit you guys in the releases of the code)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-11T07:16:06Z\u0022 title=\u002205/11/2017 07:16  AM\u0022 data-short=\u00227 yr\u0022\u003EMay 11, 2017\u003C/time\u003E by kerbinorbiter\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2017-05-11T20:06:28Z","Content":"\n\u003Cp\u003E\n300kN, with 215/255 isp... which engine is it?... or do you have a mix of them?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"kerbinorbiter","CreatedById":172446,"CreatedDateTime":"2017-05-11T20:07:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223053588\u0022 data-ipsquote-contentid=\u0022160455\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494533188\u0022 data-ipsquote-userid=\u002277368\u0022 data-ipsquote-username=\u0022steuben\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, steuben said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n300kN, with 215/255 isp... which engine is it?... or do you have a mix of them?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nit isnt a stock engine its the Merlin 1D from SpaceX launcher pack\n\u003C/p\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2017-05-12T15:49:40Z","Content":"\n\u003Cp\u003E\nGiven the script will be\u00A0regularly checking a basic calculation with binary logic should work. The engine thrust at ASL will be used for the calculation.\n\u003C/p\u003E\n\u003Cp\u003E\nif\u00A0A \u0026lt;=v\u003Csup\u003E2\u003C/sup\u003EI\u003Csub\u003Ev\u003C/sub\u003EM/2(F\u003Csub\u003Ev\u003C/sub\u003EI\u003Csub\u003Ea\u003C/sub\u003E-gI\u003Csub\u003Ev\u003C/sub\u003EM) \u002B A\u003Csub\u003ET\u003C/sub\u003E fire engine.\n\u003C/p\u003E\n\u003Cp\u003E\nI suspect\u00A0the engine\u00A0will\u00A0knock a fair bit around A.\u00A0It will also\u00A0hit\u00A00 m/s above the ground since the thrust is calibrated to ASL rather then current altitude. If it isn\u0027t paying attention will probably hit the ground. So a safety check when the speed is around 10 m/s is recommended. But it will probably knock as well around 0 m/s\n\u003C/p\u003E\n\u003Cp\u003E\nwith:\u003Cbr\u003E\nA\u00A0-\u00A0altitude ASL\u003Cbr\u003E\nA\u003Csub\u003ET\u003C/sub\u003E - altitude of terrain\u003Cbr\u003E\nv - current velocity\u003Cbr\u003E\nI\u003Csub\u003Ev\u003C/sub\u003E - \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E in vacuum\u003Cbr\u003E\nI\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003Ea\u003C/font\u003E\u003C/sub\u003E - \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E at ASL\u003Cbr\u003E\nF\u003Csub\u003EV\u003C/sub\u003E - Force in vacuum\u003Cbr\u003E\nM - mass\u003Cbr\u003E\ng - local g\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nDerivation is as follows:\n\u003C/p\u003E\n\u003Cp\u003E\nF\u003Csub\u003EV\u003C/sub\u003E=m\u0027gI\u003Csub\u003EV\u003C/sub\u003E\u003Cbr\u003E\nF\u003Csub\u003Ea\u003C/sub\u003E=m\u0027gI\u003Csub\u003Ea\u003C/sub\u003E\u003Cbr\u003E\n=F\u003Csub\u003EV\u003C/sub\u003EI\u003Csub\u003Ea\u003C/sub\u003E/I\u003Csub\u003EV\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\nd\u0027\u0027 =F\u003Csub\u003Ea\u003C/sub\u003E/M\u003Cbr\u003E\n=F\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003EI\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003Ea\u003C/font\u003E\u003C/sub\u003E/I\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003EM\u003C/font\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n0=d\u0027-(d\u0027\u0027-g)t\u003Cbr\u003E\nt=d\u0027/(d\u0027\u0027-g)\n\u003C/p\u003E\n\u003Cp\u003E\nd=d\u0027t-1/2(d\u0027\u0027-g)t\u003Csup\u003E2\u003C/sup\u003E\u003Cbr\u003E\nd=d\u0027\u003Csup\u003E2\u003C/sup\u003E/(d\u0027\u0027-g)-d\u0027\u003Csup\u003E\u003Cfont size=\u00222\u0022\u003E2\u003C/font\u003E\u003C/sup\u003E\u003Cfont size=\u00222\u0022\u003E/2\u003C/font\u003E(d\u0027\u0027-g)\u003Cbr\u003E\nd=d\u0027\u003Csup\u003E\u003Cfont size=\u00222\u0022\u003E2\u003C/font\u003E\u003C/sup\u003E/2(d\u0027\u0027-g)\u003Cbr\u003E\nd=d\u0027\u003Csup\u003E\u003Cfont size=\u00222\u0022\u003E2\u003C/font\u003E\u003C/sup\u003E/2(F\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003EI\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003Ea\u003C/font\u003E\u003C/sub\u003E/I\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003EM\u003C/font\u003E-g)\u003Cbr\u003E\nd=d\u0027\u003Csup\u003E\u003Cfont size=\u00222\u0022\u003E2\u003C/font\u003E\u003C/sup\u003E/2(F\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003EI\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003Ea\u003C/font\u003E\u003C/sub\u003E/I\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003EM\u003C/font\u003E-g)\u003Cbr\u003E\nd=d\u0027\u003Csup\u003E2\u003C/sup\u003EI\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003EM/2(\u003C/font\u003EF\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003EI\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003Ea\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003E-\u003C/font\u003EI\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003EV\u003C/font\u003E\u003C/sub\u003E\u003Cfont size=\u00222\u0022\u003EM\u003C/font\u003Eg)\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve dropped some of the basic symbol shuffling\u00A0for clarity. Feel free to check my symbol shuffling, I\u0027ve been known to drop stuff and reverse signs as I go along.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}