{"TopicId":174735,"ForumId":16,"TopicTitle":"Mun ejection angle","CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-05-08T08:56:54Z","PageNum":1,"Articles":[{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-05-08T08:56:55Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to do as much as I can with KOS in this career, which means actually working out what\u0027s going on rather than just eyeballing it with the manoeuvre nodes.\n\u003C/p\u003E\n\u003Cp\u003E\nCalculating the \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E and phase angle to get to the Mun is easy enough, but I can\u0027t get my head around coming back. I know from previous experience that 250ish m/s at an angle somewhere between pointing at Kerbin and Mun retrograde will get me the most efficient return to Kerbin atmosphere, but can\u0027t see how to work it out.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor a given \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E altitude\u00A0above Kerbin I can work out the velocity I need to achieve my required Kerbin \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E, and for a given ejection burn I should be able to calculate the velocity and altitude relative to Kerbin at the point it leaves the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E (not done this yet but I think I know how),\u00A0but as the required Kerbin\u00A0velocity will change with \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E altitude I can\u0027t see how to link the two together.\n\u003C/p\u003E\n\u003Cp\u003E\nAny suggestions?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Mark Kerbin","CreatedById":167193,"CreatedDateTime":"2018-05-08T15:24:35Z","Content":"\n\u003Cp\u003E\nI find that firing retrograde in reference to the mun\u00A0at about 5 degrees past when your ship, the mun and kerbin line up is the best. Not sure about \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E tho.\n\u003C/p\u003E\n\u003Cp\u003E\nif you want, install mechjeb and have it create a return from moon node. That was how I figured it out back in the day.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-05-08T15:24:51Z\u0022 title=\u002205/08/2018 03:24  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 8, 2018\u003C/time\u003E by Mark Kerbin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Not Sure","CreatedById":165210,"CreatedDateTime":"2018-05-08T17:32:00Z","Content":"\n\u003Cp\u003E\nHmm, well you want to be exiting towards the muns retrograde vector. I do not know how to translate that to kOS right now. Maybe you can look around in the script library for the Mun mission script, it should be in there.\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2018-05-08T19:11:11Z","Content":"\n\u003Cp\u003E\nAfter existing Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E you want to be in an orbit with an \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E near Mun (~12,000 km) and a \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E near Kerbin (~625 km).\u00A0 So the semimajor axis is,\n\u003C/p\u003E\n\u003Cp\u003E\na = (12000000 \u002B 625000) / 2 = 6312500 m\n\u003C/p\u003E\n\u003Cp\u003E\nUsing the vis-viva equation, the velocity at \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E is,\n\u003C/p\u003E\n\u003Cp\u003E\nv = SQRT(3.5316E\u002B12 * (2/12000000 - 1/6312500) = 170.7 m/s\n\u003C/p\u003E\n\u003Cp\u003E\nMun\u0027s orbital velocity is,\n\u003C/p\u003E\n\u003Cp\u003E\nv = SQRT(3.5316E\u002B12 / 12000000) = 542.5 m/s\n\u003C/p\u003E\n\u003Cp\u003E\nTherefore the spacecraft\u0027s velocity relative to Mun must be,\n\u003C/p\u003E\n\u003Cp\u003E\nv_rel = 542.5 - 170.7 = 371.8 m/s\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor the next part we use the following equation,\n\u003C/p\u003E\n\u003Cp\u003E\nv_\uA699^2 = v_bo^2 - v_esc^2\n\u003C/p\u003E\n\u003Cp\u003E\nwhere\u00A0v_\uA699 is hyperbolic excess velocity, v_bo is burnout velocity, and v_esc is escape velocity.\u00A0 What this says is if we take the square of the velocity we\u0027re traveling after completing the ejection burn, and subtract the square of the escape velocity, what we get is the square of the velocity we\u0027ll be traveling after escaping Mun\u0027s gravity.\u00A0 Hyperbolic excess velocity is the result of the extra energy we give the vessel at ejection over and above that needed just to escape.\n\u003C/p\u003E\n\u003Cp\u003E\nv_\uA699 is the velocity we\u0027ll be traveling relative to Mun after escaping, so we set v_\uA699 = v_rel.\u00A0 So we first calculate v_esc and then v_bo.\u00A0 Let\u0027s say our orbit around Mun is at an altitude of 20 km.\n\u003C/p\u003E\n\u003Cp\u003E\nv_esc = SQRT(2 * \u00A06.51384E\u002B10 / 220000) = 769.5 m/s\n\u003C/p\u003E\n\u003Cp\u003E\nv_bo = SQRT(371.8^2 \u002B 769.5^2) = 854.6 m/s\n\u003C/p\u003E\n\u003Cp\u003E\nSo the\u00A0\u0394v that we require for the ejection burn is simply v_bo less the original orbital velocity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u0394v = 854.6 - SQRT(6.51384E\u002B10 / 220000) = 310.5 m/s\n\u003C/p\u003E\n\u003Cp\u003E\nI find that in practice I generally need about 270 m/s.\u00A0 The reason this is less than 310.5 m/s is because of the way KSP uses patched conics.\u00A0 We don\u0027t need to accelerate all the way to escape velocity in order to leave Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E.\u00A0 Therefore it takes less \u0394v to acquire the same v_\uA699 as it would in real life.\n\u003C/p\u003E\n\u003Cp\u003E\nAs far as ejection angle goes, it\u0027s easier to show than explain.\u00A0 Take a look at this,\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.braeunig.us/space/orbmech.htm#hyperbolic\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.braeunig.us/space/orbmech.htm#hyperbolic\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYou want one of the asymptotes of the hyperbola to be pointed in the retrograde direction.\u00A0 This means that the ejection angle from retrograde would be the angle\u00A0\u03B7 shown in figures 4.14 and 4.15.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-05-08T22:05:58Z\u0022 title=\u002205/08/2018 10:05  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 8, 2018\u003C/time\u003E by OhioBob\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-05-09T07:27:17Z","Content":"\n\u003Cp\u003E\nAwesome stuff \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022128005\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0022 rel=\u0022\u0022\u003E@OhioBob\u003C/a\u003E, thanks.\n\u003C/p\u003E\n\u003Cp\u003E\nI more or less understood the \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E requirement before but\u00A0it\u0027s crystal clear now\u00A0thanks to that explanation.\u00A0 As we know the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E radius for each body presumably I could also calculate the patched conics version\u00A0with the Vis Viva equation to find the velocity at my 20km periapsis\u00A0needed to reach the\u00A0\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E limit at Apoapsis?\n\u003C/p\u003E\n\u003Cp\u003E\nI think I need to work through the asymptote bit with a pencil one evening though.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo to make sure I\u0027ve understood this, I need to\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCalculate the \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u00A0for escape velocity, which effectively puts me in a kerbin orbit at the same radius as the Mun\n\u003C/li\u003E\n\u003Cli\u003E\nAdd the amount \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E needed to decelerate it enough to get my required Kerbin \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E.\n\u003C/li\u003E\n\u003Cli\u003E\nCalculate the asymptote angle I\u0027ll get that from that burn from my current Mu orbit\n\u003C/li\u003E\n\u003Cli\u003E\nCentre my burn that angle before I reach retrograde to the Mun orbit.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nIs that right?\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2018-05-09T15:01:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223374478\u0022 data-ipsquote-contentid=\u0022174735\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221525850837\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo to make sure I\u0027ve understood this, I need to\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCalculate the \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u00A0for escape velocity, which effectively puts me in a kerbin orbit at the same radius as the Mun\n\u003C/li\u003E\n\u003Cli\u003E\nAdd the amount \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E needed to decelerate it enough to get my required Kerbin \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E.\n\u003C/li\u003E\n\u003Cli\u003E\nCalculate the asymptote angle I\u0027ll get that from that burn from my current Mu orbit\n\u003C/li\u003E\n\u003Cli\u003E\nCentre my burn that angle before I reach retrograde to the Mun orbit.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nIs that right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s correct, but the first two items are a single maneuver, not two separate ones.\u00A0 Maybe you understand this, but that\u0027s not the way it sounds from reading your description.\u00A0 That is, you don\u0027t (1) perform a burn with just enough velocity to escape, and then (2) perform a second burn after escaping to lower the \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E.\u00A0 What you do is perform a single burn near Mun that provides the velocity to both escape and lower the \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E at the same time.\u00A0 You provide more velocity during this burn than what is needed just to escape.\u00A0 The energy that this extra velocity provides is leftover after escaping in the form of hyperbolic excess velocity.\u00A0 The hyperbolic excess velocity is what lowers the \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E.\u00A0 This method is far more efficient than performing two separate burns because we take advantage of the Oberth effect by performing the burn near Mun.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-05-14T20:52:02Z","Content":"\n\u003Cp\u003E\nThanks for the help, it works, my KOS scrip can now get me back from the Mun, which means I should have the needed maths for transfers to other planets too.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022sEOefjn.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/sEOefjn.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n"}]}