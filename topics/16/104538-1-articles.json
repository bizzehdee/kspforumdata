{"TopicId":104538,"ForumId":16,"TopicTitle":"Avoiding \u0022Ghost Forces\u0022 below 750 m/s","CreatedByName":"Ten Key","CreatedById":123319,"CreatedDateTime":"2015-04-20T21:46:22Z","PageNum":1,"Articles":[{"CreatedByName":"Ten Key","CreatedById":123319,"CreatedDateTime":"2015-04-20T21:46:22Z","Content":"I am having a problem with what can best be described as \u0022turbulence\u0022 any time a craft drops below 750 m/s orbital velocity. It is an abrupt transition. . .751 m/s is fine, 749 m/s is not. This is not an RCS/SAS issue. With the RCS disabled, SAS disengaged and all engines deactivated, I can watch the turbulence start right at the 750 threshold, with the NAVball suddenly pulsing in random directions. It\u0027s almost like the ship is colliding with something. \n\nAnd if the reading I\u0027ve been doing is correct, it *is* colliding with something. The ship is colliding with itself. \n\nThis seems related to the [Krakensbane](https://forum.kerbalspaceprogram.com/entries/12-Krakensbane) fix, whereby KSP switches how velocity is handled to avoid physics errors. According to the [API entry](http://wiki.kerbalspaceprogram.com/wiki/API:Krakensbane) on the wiki, the transition point is 750 m/s orbital velocity.\n\nAfter digging around on the internet for a bit, the general consensus seems to be that part clipping is a major contributor. My first Mun probes did not suffer from this, though there was some minor part clipping involved. My later Mun ships were heavily part clipped, and suffered from these \u0022ghost forces\u0022 quite a bit. It seemed to get worse as more and more objects were placed in Munar orbit, to the point where the landers, transit ship and supply station were behaving like they were full of angry cats.\n\nI found the following in a wiki page regarding \u0022closed loop\u0022 construction work arounds. . .\n\n\u0022Key to the paired-port strategy is correct assembly. If parts overlap, even slightly, then \u0022ghost forces\u0022 arise that cause uncontrolled attitude changes, even changes in velocity vector.\u0022\n\nHoping to avoid this, I built a new transit ship for Minmus that was completely devoid of part clipping. I sent it on along an elliptical Kerbin orbit as a test, and sure enough, at exactly 749 m/s the 150 ton ship started tumbling every which way, like it was being poked by an invisible giant every few seconds. \n\nLet\u0027s go back to my first Mun probes for a moment. There was some part clipping baked into them, but they did *not* have this problem. But they *also* did not have any struts on them. I started adding struts to probes and spacecraft after one of the probes had serious flexing issues during a burn. And after that, everything I\u0027ve sent out that drops below 750 m/s has wanted to gyrate all over the place. Having taken considerable care to avoid part clipping on this new ship, the struts stand out as the obvious culprit.\n\nThis is driving me nuts. A big part of my enjoyment of this game is \u0022OMG SPACE!!\u0022, and I don\u0027t get that from watching missions play out from the tracking station, or from having to constantly pump time compression to hold a ship steady enough to interact with it. Manual IVA docking in Munar orbit is an absolute slog, to say nothing about having to account for ridiculous reserves of monopropellant.\n\nObviously, struts cannot be avoided on ships of any real size. I\u0027ve been reading through some of the threads devoted to Kraken Drive development, and I\u0027ve been wondering if the design community has found a way to deal with the \u0022ghost force\u0022 issue.\n\nIs there a way of placing struts so that they do not trigger collision forces inside a ship? Are there specific parts that tend to cause this? Has anyone else noticed that ghost forces tend to get more pronounced as the number of vessels in orbit goes up?\n\n**Edited \u003Ctime datetime=\u00222015-05-05T16:25:10Z\u0022 title=\u002205/05/2015 04:25  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by Ten Key**"},{"CreatedByName":"panzer1b","CreatedById":95108,"CreatedDateTime":"2015-04-20T22:24:45Z","Content":"This must have something to do with kraken-drives, as those essentially explode when you drop from above 750 to below 750m/s. So there is a transition point at 750m/s for something (k-drives go from anti-grav below it, to 20\u002B Gs of linear acceleration above it.\n\nAnyways, ive never had major issues with phantom forces except for some parts such as landing gear, legs, claws. If its animated and movable, it can cause some issues when clipped or partially clipped into other parts.\n\nThen again, with conventional parts, i do not believe you can even have issues unless something detaches and remains inside your craft. Even stacks of 10\u002B intakes all inside each other dont case any issues, until ofc one of them breaks off and decided to explode the rest of the ship."},{"CreatedByName":"Ten Key","CreatedById":123319,"CreatedDateTime":"2015-04-20T23:01:11Z","Content":"Did a bit more digging, and found this. . .\n\n\u003E \n\u003E I\u0027ve seen two causes for phantom forces causing this kind of rotation.\n\u003E The first is as mentioned, part clipping.\n\u003E \n\u003E The second is more annoying since it\u0027s harder to avoid. Sometimes, struts just do that. The first time I encountered this and it wasn\u0027t clipping was when I was doing a mothership to Jool type mission, and the phantom rotation started up in LKO. I eventually found that by changing the position of the struts that the phantom rotation would go away. So I did a shakedown cruise to the Mun and Minmus, and the phantom rotation returned in Minmus orbit. I deleted all the struts and put them back in approximately the same place and went on the shakedown cruise again, and had no phantom force problems.\n\u003E \n\u003E The second time was on a grand tour mission, where there was no phantom force problems in LKO, the Mun, or Minmus (yes, because of precisely this issue, those are now required stops on any mothership-style mission that I do). However, it started up in Moho orbit, the first stop of the grand tour. This time, I did more thorough testing. I created a new drive section, hyperedited it into Moho orbit, and it started spinning. I stripped off all of the struts in the drive section, hyperedited that into Moho orbit, and there was no spinning, but the craft wasn\u0027t stable enough to launch. \n\u003E \n\u003E I then returned to the original design and stripped off the bottom-most 8 struts (out of 16 struts total, if I remember correctly), hyperedited that into Moho orbit, and there was no spinning. Several attempts at replacing the eight struts all resulted in spinning. So I went back to the reduced strut drive section, found it stable enough to launch, flew it out to Moho where it picked up the mission sections and completed the mission. The drive section with the problem is still in Moho orbit in that save file. In copies of that save file, I\u0027ve both hyperedited the drive section back to LKO (and low Minmus orbit), and just flown it back, and the phantom forces only appear in Moho orbit. Maybe someday I\u0027ll take that drive section on it\u0027s own grand tour to see if there are any other planets/moons that cause that particular one to have phantom forces.\n\nWhat I\u0027m specifically looking for is a sort of \u0022best practices\u0022 for strut placement to mitigate issues like this. If it really just comes down to repeated trial and error, I may go mad. ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)"},{"CreatedByName":"Ten Key","CreatedById":123319,"CreatedDateTime":"2015-05-05T16:24:41Z","Content":"So, after repeated trial and error (![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)), it looks like removing *all* of the struts from the spacecraft has mostly solved the problem. It still wants to bobble a little bit, but it\u0027s far more controllable and the ship no longer bleeds monopropellant."}]}