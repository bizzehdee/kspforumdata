{"TopicId":90524,"ForumId":16,"TopicTitle":"How to restore a messed-up orbit?","CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-17T06:44:20Z","PageNum":1,"Articles":[{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-17T06:44:20Z","Content":"\n\u003Cp\u003EI\u0027ve got a problem where an asteroid changed its orbit without apparent reason. Which would have gone unnoticed if it wasn\u0027t for an asteroid redirect mission that is now going nowhere. \u003Cstrong\u003EThere is no reasonable in-game explanation.\u003C/strong\u003E The asteroid was trailing Kerbin by ~15\u00C3\u201A\u00C2\u00B0 and should not have caught up by much in the meantime -- certainly not enough to get a timewarp pseudo-encounter.\u003C/p\u003E\u003Cp\u003EI do have savegames from before and after. However, several hours of gameplay happened between the change and my becoming aware of it. I\u0027m not exactly looking forward to doing it all over again. How do I edit the savegame so the asteroid is put back on the track and position where it\u0027s supposed to be at this point in time?\u003C/p\u003E\u003Cp\u003EOrbit in a savegame looks like this (note that this is not the asteroid that\u0027s bugging me, it\u0027s just one set of orbital parameters I pulled from a savegame):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\t\tlat = -2.83448079789533\u003Cbr\u003E\t\t\tlon = 181.081293330851\u003Cbr\u003E\t\t\talt = 14594725647.149\u003Cbr\u003E                        [...]\u003Cbr\u003E\t\t\tORBIT\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tSMA = 15240603816.5306\u003Cbr\u003E\t\t\t\tECC = 0.109160279581076\u003Cbr\u003E\t\t\t\tINC = 2.8722369411542\u003Cbr\u003E\t\t\t\tLPE = 2.11729314595258\u003Cbr\u003E\t\t\t\tLAN = 261.773336336443\u003Cbr\u003E\t\t\t\tMNA = 6.22770556444832\u003Cbr\u003E\t\t\t\tEPH = 2043585.73608398\u003Cbr\u003E\t\t\t\tREF = 0\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI guess the ORBIT{} has to be copied from the old save, and lat/lon/alt need to be updated according to time. Are there any tools or helpers that could calculate this for me? Any launch window planner has to do that sort of prediction... but I Know Too Little to do it myself.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-17T16:36:15Z\u0022 title=\u002211/17/2014 04:36  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 17, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Oafman","CreatedById":110386,"CreatedDateTime":"2014-11-17T11:21:18Z","Content":"\n\u003Cp\u003EHaving tried my hand at a bit of save file editing recently (I have zero coding experience, so it\u0027s all a learning curve), I had to find out what each of those categories actually is. The top 3 (SMA, ECC, INC) are obvious, but the others less so.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E SMA : \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Terminology#sma\u0022 rel=\u0022external nofollow\u0022\u003ESemimajor axis\u003C/a\u003E \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 the average of the periapsis and apoapsis distances from the orbiting body center \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E ECC : \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Terminology#ecc\u0022 rel=\u0022external nofollow\u0022\u003EEccentricity\u003C/a\u003E \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 shape of the ellipse, describing how much it elongated compared to a circle. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E INC : \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Terminology#inc\u0022 rel=\u0022external nofollow\u0022\u003EInclination\u003C/a\u003E \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 vertical tilt of the ellipse with respect to the reference plane, measured at the ascending node. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E LPE : Longitude of \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Terminology#pe\u0022 rel=\u0022external nofollow\u0022\u003Eperiapsis\u003C/a\u003E \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 horizontally orients the periapsis of the ellipse. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E LAN : Longitude of the \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Terminology#an\u0022 rel=\u0022external nofollow\u0022\u003Eascending node\u003C/a\u003E \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 horizontally orients the ascending node of the ellipse. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E MNA : Mean anomaly at epoch \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 defines the position of the orbiting body along the ellipse at a specific time. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E EPH : epoch \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 the reference time for the orbit. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E REF : reference body \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 the ID of the body around which the orbit occurs. 0 is the sun, 1 is Kerbin, 2 is Mun, 3 is Minmus. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E OBJ : Some sort of object reference (I wouldn\u0027t change this number). It appears that 0 corresponds to probes, and 1 corresponds to debris. \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo, I guess you would need to change the MNA and EPH, as the top 5 would remain the same regardless of where the roid is on its orbit\u003C/p\u003E\u003Cp\u003EAs for how much these need to be changed by, I have no idea I\u0027m afraid, and would be interested to see a formula for calculating how these would change in relation to each other as the body moves on its orbit.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-11-17T13:29:40Z","Content":"\n\u003Cp\u003EUse Hyperedit to enter the correct orbital parameters manually, the lat/long/altitude will take care of themselves.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-17T14:13:28Z","Content":"\n\u003Cp\u003EI was hoping that MNA would override lat/lon/alt -- but won\u0027t I have to update MNA according to the current time?\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-11-17T14:16:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EI was hoping that MNA would override lat/lon/alt -- but won\u0027t I have to update MNA according to the current time?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think so. It is the mean anomaly at \u0022epoch\u0022, which means at Day 1 0:00:00. MNA doesn\u0027t change as the object follows its orbit.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-11-17T14:20:16Z","Content":"\n\u003Cp\u003ENo chance that it managed a gravity assist from something?\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-17T16:19:54Z","Content":"\n\u003Cp\u003E@Wanderfound: see OP.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EUse Hyperedit to enter the correct orbital parameters manually, the lat/long/altitude will take care of themselves.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EIt is the mean anomaly at \u0022epoch\u0022, which means at Day 1 0:00:00. MNA doesn\u0027t change as the object follows its orbit.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E....and right you are, it is really that simple. Just copy the ORBIT{} block from the old savegame, put it into the current save, and you have your old orbit back.\u003C/p\u003E\u003Cp\u003ETried and works.\u003C/p\u003E\u003Cp\u003EBy the way: looking through my old saves, the figures for lat/lon/alt apparently have never changed. Maybe they serve no real purpose or only come into play once I get into physics range, I don\u0027t know.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-17T16:33:56Z\u0022 title=\u002211/17/2014 04:33  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 17, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-11-17T18:08:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EBy the way: looking through my old saves, the figures for lat/lon/alt apparently have never changed. Maybe they serve no real purpose or only come into play once I get into physics range, I don\u0027t know.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaybe they\u0027re only used when landed.\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2014-11-18T00:45:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EMaybe they\u0027re only used when landed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMost likely this. Although they are updated (on some occasions) while in orbit, I know for sure they are not used when in orbit (you can change them at will with no effect). I don\u0027t think they are used during suborbital flight, but I haven\u0027t confirmed that.\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003E-Claw\u003C/p\u003E\n"}]}