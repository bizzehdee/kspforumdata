{"TopicId":74365,"ForumId":16,"TopicTitle":"spaceplane ascent -- what do you do once the rockets are on?","CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-07T02:26:13Z","PageNum":1,"Articles":[{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-07T02:26:13Z","Content":"\n\u003Cp\u003EWriting a kOS script for spaceplane ascent, I don\u0027t quite know what to do once I switched to rockets.\u003C/p\u003E\u003Cp\u003EInitial ascent is quite straightforward: stick to a certain percentage or terminal velocity, adjust climb so you stay near that percentage while going full throttle. 60% seems to be a good starting point for vessels of all sizes.\u003C/p\u003E\u003Cp\u003EGaining speed is simple, too: just stick to a certain climb rate during the last few minutes before you have to switch.\u003C/p\u003E\u003Cp\u003EBut then? Climb again, of course; about 25\u00C3\u201A\u00C2\u00B0 at first seems to be best (might that be the maximum angle of attack for wings, perhaps?). One should slowly turn towards the horizon at about 40km and reach level flight by something like 45-50km. Both figures may vary by quite a bit, depending on -- what? I don\u0027t know. I\u0027m currently using Time To Apoapsis as a proxy (or rather, it\u0027s rate of change), but while it gives better results than anything else I tried so far, it\u0027s not exactly good.\u003C/p\u003E\u003Cp\u003EWhat do you do? How do you tell that it\u0027s time to get out of the climb, and how quickly?\u003C/p\u003E\n"},{"CreatedByName":"Tortoise","CreatedById":68002,"CreatedDateTime":"2014-06-07T02:30:54Z","Content":"\n\u003Cp\u003ETry doing a test-flight prior to programming the autopilot. And see what altitude your apoapsis reaches above 70km.\u003C/p\u003E\u003Cp\u003EThen write the kos script and launch under the same conditions.\u003C/p\u003E\n"},{"CreatedByName":"O-Doc","CreatedById":95453,"CreatedDateTime":"2014-06-07T04:28:04Z","Content":"\n\u003Cp\u003EI couldn\u0027t describe how to do this is kOS but, there\u0027s basically four variables I\u0027m using to manually optimise my ascent profile with SSTOs:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EVertical acceleration delta\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHorizontal acceleration delta\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIntake air to turbo throttle ratio\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThrust to drag ratio\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUp to the critical air intake to engine ratio I\u0027m looking to maximise my vertical delta. Then, I\u0027m basically looking to maximise my horizontal delta. Thrust to weight ratio will decide what my delta thresholds are prior to switching to rockets.\u003C/p\u003E\u003Cp\u003ESome simple rules:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EVertical delta should not go above 5m/s/s after 15km\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EVertical delta should never be negative if vertical is not positive\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EVertical delta should not go less than negative 5m/s/s at any time\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThrust to drag must not drop below certain value*\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E*This last one is subjective and I don\u0027t have any research invested in what those numbers are. It\u0027s more like a guess from experience than something I\u0027ve quantified. Basically, I\u0027m looking for a value which can best be described as the thrust to drag ratio.\u003C/p\u003E\u003Cp\u003EThere would be another layer of rules where you would need to power down at your air intake threshold and then engage rockets once thrust to drag drops below a certain level. You would also need to moderate AoA to keep your vertical acceleration constant by measuring the vertical delta to intake ratio. Also, the moment you turn off your turbos and go for full rocket would be when vertical delta and horizontal delta go negative.\u003C/p\u003E\u003Cp\u003EIt might be interesting to get into kOS at some point to see if I can get SSTOs up more efficiently than by hand. I\u0027m confident you could get an efficient ascent profile using these four base variables.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-07T11:32:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022O-Doc\u0022 data-cite=\u0022O-Doc\u0022\u003E\u003Cdiv\u003EI couldn\u0027t describe how to do this is kOS but, there\u0027s basically four variables I\u0027m using to manually optimise my ascent profile with SSTOs:\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EVertical acceleration delta \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHorizontal acceleration delta \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIntake air to turbo throttle ratio \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThrust to drag ratio \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasically, it goes like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003Eif fast enough: pitch \u002B1\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eif too slow: pitch -1\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eif climb rate too low: pitch \u002B1\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Ewait a moment\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Erepeat until air gets too thin.\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe desired airspeed is defined as a percentage of terminal velocity (isn\u0027t that another name for thrust-to-drag?). So I\u0027m climbing at 60% termvelocity at first, later the script switches the desired speed to some unachievable figure, effectively bringing the plane down to the pre-set climb rate. Actual code is a little more elaborate, of course, but that\u0027s the gist of it. It really is that simple. Btw, you should try climbing a little faster than 5m/s -- each and every of my vessels can maintain at least 15m/s, often more, without sacrificing airspeed.\u003C/p\u003E\u003Cp\u003EAs I said, this is the easy part. But I don\u0027t know what to do next. I hope that there might be a set of rules for rocket-powered ascent that are as simple as the ones above.\u003C/p\u003E\n"},{"CreatedByName":"Redshift OTF","CreatedById":78679,"CreatedDateTime":"2014-06-07T11:48:58Z","Content":"\n\u003Cp\u003EThe angle of thrust isn\u0027t that important when you get up to about 35km. If you got that high using a 10% glide slope with jet engines then switch to rockets and use the same glide slope until apoapsis reaches 100km or however high it needs to be. As long as you can get that high to begin with it is not complicated.\u003C/p\u003E\n"},{"CreatedByName":"O-Doc","CreatedById":95453,"CreatedDateTime":"2014-06-07T17:51:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EThe desired airspeed is defined as a percentage of terminal velocity (isn\u0027t that another name for thrust-to-drag?).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat might make a good proxy. At high altitudes thrust to weight ratio is not as important as the amount of drag you have to overcome, which is related in KSP to weight. I don\u0027t know if you can get this information with kOS. I\u0027d imagine there are some good estimate proxies for it though.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EActual code is a little more elaborate, of course\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep. I\u0027d imagine code to get an SSTO into orbit would be quite complex given the range of ascents you can take given different engine configurations.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EBtw, you should try climbing a little faster than 5m/s -- each and every of my vessels can maintain at least 15m/s, often more, without sacrificing airspeed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m talking about acceleration(m/s/s). While velocity is important, I think you will ultimately need to be tracking your ascent profile using deltas rather than basic velocity numbers. Velocity is important but, you will need to assess AoA against what deltas you achieve from those angles at given altitudes. That\u0027s going to give you a better understanding of how the plane is performing.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-07T22:44:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022O-Doc\u0022 data-cite=\u0022O-Doc\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYep. I\u0027d imagine code to get an SSTO into orbit would be quite complex given the range of ascents you can take given different engine configurations.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat part is actually rather easy, a block of \u0022when altitude \u0026gt; x then {set climbrate to foo}\u0022 statements. Or \u0022when intakeair \u0026gt; 0.02\u0022 -- you get the drift. But getting to a new climbrate quickly but without overshooting by a mile? That\u0027s what makes the code complex \u0026amp; convoluted.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022O-Doc\u0022 data-cite=\u0022O-Doc\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027m talking about acceleration(m/s/s). While velocity is important, I think you will ultimately need to be tracking your ascent profile using deltas rather than basic velocity numbers. Velocity is important but, you will need to assess AoA against what deltas you achieve from those angles at given altitudes. That\u0027s going to give you a better understanding of how the plane is performing.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EImo, there\u0027s no point in making it so complicated. Find out a) what climbrate still works and \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E when you need to turn from speed-constrained to climb-constrained flight; that will get you to within 1% of the ideal. Deltas are quite important when you want to dampen the oscillation after a turn, though.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-07T23:57:33Z","Content":"\n\u003Cp\u003EI am used to reaching orbital speeds in atmosphere with jet engine (35 km altitude is optimal for that), then just coasting to apoapsis and only using rocket engine when safely in orbit. It takes longer but it also saves fuel.\u003C/p\u003E\u003Cp\u003EI think I should also point out that with a correctly built plane you want to spend a lot of jet burning time with intake air at zero. Even when starved on air, jets have much better thrust at full throttle than at reduced throttle with the same air.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/xsoSSdJ.png\u0022 alt=\u0022xsoSSdJ.png\u0022\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-08T00:00:51Z\u0022 title=\u002206/08/2014 12:00  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 8, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bsalis","CreatedById":32928,"CreatedDateTime":"2014-06-08T08:45:58Z","Content":"\n\u003Cp\u003ESpaceplanes vary so much in ascent profile. Some will punch an AP well over 70Km so you only need rockets to circularise. At the other end of the spectrum, the ascent profile may look more like a jet assisted rocket profile (like they all did pre v18). So making a general purpose kOS program may be quite a challenge.\u003C/p\u003E\u003Cp\u003EAnyhows... I have done a full K-prize run with landing back on the runway fully under kOS control. But the program was written for a particular spaceplane. I will PM you some material. Including a very detailed document that describes the solutions in the program.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-09T12:05:14Z","Content":"\n\u003Cp\u003EAs to my original question: \u0022climb until the air gets thinner, then resume gravity turn\u0022 is obviously drag related. Should have been obvious before I even asked. I based the end condition terminal velocity and immediately saved 10% oxidizer compared to my previous best run.\u003C/p\u003E\u003Cp\u003EBut thruth be told, I have no idea whether I\u0027m actually doing the right thing. The figure I plugged in was pulled from the top of my head.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bsalis\u0022 data-cite=\u0022bsalis\u0022\u003E\u003Cdiv\u003ESpaceplanes vary so much in ascent profile. Some will punch an AP well over 70Km so you only need rockets to circularise. At the other end of the spectrum, the ascent profile may look more like a jet assisted rocket profile (like they all did pre v18). So making a general purpose kOS program may be quite a challenge.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDepends on what you mean by general purpose. You certainly need to configure the action groups, there\u0027s no way around that. Though in most cases, that amounts to \u0022when intakeair \u0026lt; 0.02 then toggle agX\u0022. Other than that, my script needs to be told when to turn from climbing to speed-building; given that data, it will make a decent ascent with any craft. However, getting from \u0022decent\u0022 to \u0022really good\u0022 requires so many breakpoints that one could as well write a targeted script.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-09T13:12:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EThough in most cases, that amounts to \u0022when intakeair \u0026lt; 0.02 then toggle agX\u0022.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIntake air level is \u0022surplus\u0022, if you have some it means your engines don\u0027t consume as much as your intakes collect. But your engines are able to run and produce thrust long after your intakes no longer collect that much air and your intake air level is zero. If you start reducing jet engine power with intake air still positive, you\u0027re wasting power you still have available.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EOther than that, my script needs to be told when to turn from climbing to speed-building; given that data, it will make a decent ascent with any craft. However, getting from \u0022decent\u0022 to \u0022really good\u0022 requires so many breakpoints that one could as well write a targeted script.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor each ratio of intakes to jets, for each throttle setting and for each altitude there\u0027s certain minimum speed below which you will flameout. You can\u0027t simply switch from ascent to speed building, you need to build up your speed as you ascend. Preferably at the highest throttle possible while staying at maximum altitude your speed allows.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-09T18:37:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EIntake air level is \u0022surplus\u0022, if you have some it means your engines don\u0027t consume as much as your intakes collect. But your engines are able to run and produce thrust long after your intakes no longer collect that much air and your intake air level is zero. If you start reducing jet engine power with intake air still positive, you\u0027re wasting power you still have available.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI already wanted to ask you after you said that the first time: how do you do it? I can starve my engines by a little, but not much, before I get flameouts. Intake air remains well above zero almost all the time. It only plummets briefly when an engine gives up; the 0.02 threshold is high enough to catch that when it happens, but before and after the event, intake air reads much higher.\u003C/p\u003E\u003Cp\u003E(The mechjeb counters of intake air needed/available are much more precise, but in kOS you\u0027re stuck with the figures from the resource tab.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EFor each ratio of intakes to jets, for each throttle setting and for each altitude there\u0027s certain minimum speed below which you will flameout. You can\u0027t simply switch from ascent to speed building, you need to build up your speed as you ascend. Preferably at the highest throttle possible while staying at maximum altitude your speed allows.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, but \u0022maintain certain airspeed(1) when possible, otherwise climb at least at a given rate\u0022 approximates this surprisingly well.\u003C/p\u003E\u003Cp\u003E(1) \u0022Airspeed\u0022 as a fraction of terminal velocity, in case I didn\u0027t say this often enough already.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-09T19:05:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EI already wanted to ask you after you said that the first time: how do you do it? I can starve my engines by a little, but not much, before I get flameouts. Intake air remains well above zero almost all the time. It only plummets briefly when an engine gives up; the 0.02 threshold is high enough to catch that when it happens, but before and after the event, intake air reads much higher.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe devil is in how game distributes intake air. Some clues can be found in the Intake Air \u0022chapter\u0022 in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EIn general, you need to mount your intakes and engines evenly. Use only one jet engine type and have exactly the same amount/types of intakes for each engine and mount them one by one.\u003C/p\u003E\u003Cp\u003EFor example you decide to use turbojets and to have two RAM intakes and one radial intake per engine. Go to SPH and strip the plane off all its engines and intakes. Then place two RAMs and one radial intake, then first engine. Another two RAMs and one radial and second engine. And so on till you place all intakes and all engines one by one in exactly the same order (it is irrelevant where on the plane you put them, just the order is important).\u003C/p\u003E\u003Cp\u003ENote also that all intakes need to be oriented the same way, each group placed before each engine must always produce the same amount of air.\u003C/p\u003E\u003Cp\u003EThis way, when you run out of intake air, then still each of your engines will get air from two RAM intakes and one radial intake. Only when they fail to provide enough air to keep the engine running at all, the engine will flameout and the next engine will get double the amount of air. If you have four engines and mount them in order outer left-inner right-outer right-inner left, then one engine on the left and one engine on the right will flameout at once in such situation, suggesting that you need to throttle down. With just two engines you will get asymmetric flameout but after running on zero air for a while and at already reduced thrust.\u003C/p\u003E\u003Cp\u003EWhile looking for the thread linked above I also found \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/82157-A-detailed-look-at-Kerbal-s-jet-engines\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E. I guess you might find it useful as well.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-09T19:45:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003E[...] Then place two RAMs and one radial intake, then first engine. Another two RAMs and one radial and second engine. And so on [...]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf I get this right, symmetry will be punished.\u003C/p\u003E\u003Cp\u003EBut then again, if I really want to play the game like this I have noone to blame but myself.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-10T21:06:12Z\u0022 title=\u002206/10/2014 09:06  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 10, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003Cbr\u003Eftfm.\n\u003C/span\u003E\n"},{"CreatedByName":"LethalDose","CreatedById":92657,"CreatedDateTime":"2014-06-09T19:46:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EWriting a kOS script for spaceplane ascent, I don\u0027t quite know what to do once I switched to rockets.\u003Cp\u003EInitial ascent is quite straightforward: stick to a certain percentage or terminal velocity, adjust climb so you stay near that percentage while going full throttle. 60% seems to be a good starting point for vessels of all sizes.\u003C/p\u003E\u003Cp\u003EGaining speed is simple, too: just stick to a certain climb rate during the last few minutes before you have to switch.\u003C/p\u003E\u003Cp\u003EBut then? Climb again, of course; about 25\u00C3\u201A\u00C2\u00B0 at first seems to be best (might that be the maximum angle of attack for wings, perhaps?). One should slowly turn towards the horizon at about 40km and reach level flight by something like 45-50km. Both figures may vary by quite a bit, depending on -- what? I don\u0027t know. I\u0027m currently using Time To Apoapsis as a proxy (or rather, it\u0027s rate of change), but while it gives better results than anything else I tried so far, it\u0027s not exactly good.\u003C/p\u003E\u003Cp\u003EWhat do you do? How do you tell that it\u0027s time to get out of the climb, and how quickly?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust a quick question: Are you using FAR? \u003C/p\u003E\u003Cp\u003EI\u0027m not sure if the answers given here \u003Cem\u003Eassume\u003C/em\u003E you\u0027re using FAR or not, but I didn\u0027t see it mentioned.\u003C/p\u003E\u003Cp\u003EAnyway, it seems that the flight characteristics of the particular SSTO you\u0027re writing the program for should be determine the program\u0027s parameters and decision rules, in addition to using mods.\u003C/p\u003E\u003Cp\u003EEvery vessel is going to fly differently. Most rockets can be \u003Cem\u003Eroughly\u003C/em\u003E generalized, but in my limited experience with SSTOs (I\u0027ve made exactly \u003Cem\u003Eone\u003C/em\u003E that I thought was worth flying more than once), they are way more individual.\u003C/p\u003E\u003Cp\u003EThe point being: With the SSTO you\u0027re building, what are the general guidelines you use for flying it without kOS?\u003C/p\u003E\n"},{"CreatedByName":"RidingTheFlow","CreatedById":111197,"CreatedDateTime":"2014-06-09T19:55:18Z","Content":"\n\u003Cp\u003EI found that with SSTO with maximum possible payload its absolutely essential to get as much ISP of jet engines as possible. 0.24.5 makes it much easier, because jet engine will automatically throttle down if intake air goes low - it only creates problems when several jet engines throttle down asymmetrically due to subtle intake differences. It solved quite easy, either by having enough vectored control authority, or by leaving just one center-placed jet engine running and gradually switching rest off (in pairs), this allows to get this extra high-ISP jet thrust up to 40\u002Bkm before full flameout (or thrust becoming too low to be useful).\u003C/p\u003E\u003Cp\u003EShallowest ascent angle found quite easy, by monitoring TtA, and making sure that it stays approx. constant, say, in 1-2 min range.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-09T19:57:49Z\u0022 title=\u002206/09/2014 07:57  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 9, 2014\u003C/time\u003E by RidingTheFlow\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-17T10:59:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EThe devil is in how game distributes intake air. Some clues can be found in the Intake Air \u0022chapter\u0022 in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E.\u003Cp\u003EIn general, you need to mount your intakes and engines evenly. Use only one jet engine type and have exactly the same amount/types of intakes for each engine and mount them one by one.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBuilding planes like that is a PITA, but following these rules I find that 2 intakes/engine will invariably last me well beyond 30km. *Every* such plane was able to reach orbital speeds in the atmosphere. The first flameout happens when airflow (according to mechjeb) drops below 10% of your needs.\u003C/p\u003E\u003Cp\u003EUntil now, that is. For my heavyweight of 24 jets, I first created a 4-to-2 nacelle (using 2-1 placement), then cloned this all over the plane. Within each nacelle, one engine was starving while the other was going strong, with flameouts at 50% -- that pattern was still symmetric, so I suspect that I may just switch off every other engine (and may well end up with exactly the same thrust). Won\u0027t get to try that until tomorrow, though.\u003C/p\u003E\u003Cp\u003EBTW: kOS reports intakeair in the same figures as you see in the resource tab, but with many more significant digits. Whatever that figure actually means, it isn\u0027t \u0022surplus\u0022. It only ever reaches zero when you leave the atmosphere. With a single ramjet at high altitudes, setting the throttle to (intake_air * 130) works quite well, except when it doesn\u0027t. It drives me mad.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RidingTheFlow\u0022 data-cite=\u0022RidingTheFlow\u0022\u003E\u003Cdiv\u003EShallowest ascent angle found quite easy, by monitoring TtA, and making sure that it stays approx. constant, say, in 1-2 min range.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETell that to a computer and you will get a shallow ascent indeed, making several orbits inside the atmosphere while spiralling outward ever so slowly. Running on the last jet, it didn\u0027t run out of fuel and actually made it to space... after like 40 minutes or so. I now supplement TtA by enforcing a minimum climb rate (required climb rate tapers off the higher you get, basically a 1/x function).\u003C/p\u003E\u003Cp\u003ESay, is it possible that there is a best ascent path? In real life, you\u0027ve got drag here and gravity there and need to consider a tradeoff. But with the current mass-based drag model, I wonder if the mass on both sides of the equation might be struck out, leaving you with a single solution.\u003C/p\u003E\n"},{"CreatedByName":"O-Doc","CreatedById":95453,"CreatedDateTime":"2014-06-18T01:56:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EImo, there\u0027s no point in making it so complicated. Find out a) what climbrate still works and \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E when you need to turn from speed-constrained to climb-constrained flight; that will get you to within 1% of the ideal. Deltas are quite important when you want to dampen the oscillation after a turn, though.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe problem with using raw velocity numbers is that you cannot \u0022read\u0022 your aerodynamic performance. You will always be reacting to your current situation rather than anticipating and controlling the ascent. So, unless you want to assign paramaters for each craft(see points a and \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E you are going to have to figure out the performance characteristics on the fly. Here\u0027s a good example of a common issue:\u003C/p\u003E\u003Cp\u003EIf you are in a high lift to control surface plane and use a shallow AoA at the beginning of your ascent then, as you get faster in the dense atmosphere your aerodynamics will push your craft flat to the horizon. Whereas, if you aggressively keep you AoA high from the outset your climb rate may be a bit lower at first but, you will soon get higher climb rate and much, much more efficient ascent with full control over your AoA by keeping horizontal velocity low enough for your control surfaces to keep your vertical acceleration high.\u003C/p\u003E\u003Cp\u003EThis situation exists on most of my craft and players have reported not being able to get above 20km.\u003C/p\u003E\n"}]}