{"TopicId":202528,"ForumId":16,"TopicTitle":"Station Design Guidelines","CreatedByName":"Hoozemans","CreatedById":198643,"CreatedDateTime":"2021-05-20T12:20:16Z","PageNum":1,"Articles":[{"CreatedByName":"Hoozemans","CreatedById":198643,"CreatedDateTime":"2021-05-20T12:20:16Z","Content":"\n\u003Cp\u003E\nSo this is not a new question; I\u0027ve seen many other posts on the same general topic. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/132668-station-design-guidelines\u0022 rel=\u0022\u0022\u003EThe previous one with this exact title\u003C/a\u003E was a bit outdated, though, so I thought I\u0027d open a new one.\n\u003C/p\u003E\n\u003Cp\u003E\nThe question is: what can you do to improve performance of your game (outside of bying new computing kit). More specifically: \u003Cstrong\u003Ewhat can you do to improve performance around space stations\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason I ask is I\u0027ve been having inconsistent results with my station designs. I\u0027ve had massively big stations, 500\u002B parts, with \u003Cem\u003Ereasonable\u003C/em\u003E (given the total part count of station, docking and approaching vessels) though not stunning performance:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022FNYdy7q.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002296.36\u0022 height=\u0022900\u0022 width=\u0022934\u0022 src=\u0022https://i.imgur.com/FNYdy7q.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd \u003Cem\u003Ethen\u003C/em\u003E I\u0027ve had \u003Cem\u003Ethis\u003C/em\u003E tiny station\u00A0... :\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022TTlG878.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002296.36\u0022 height=\u0022900\u0022 width=\u0022934\u0022 src=\u0022https://i.imgur.com/TTlG878.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(Modlist for above spacestation:\u00A0\u003Ca href=\u0022https://drive.google.com/file/d/1vajct196DKoGFBZJ_YWFe_QXjAEuXLRe/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1vajct196DKoGFBZJ_YWFe_QXjAEuXLRe/view?usp=sharing\u003C/a\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\n... which sports an entirely reasonable 200 parts (including a few docked tugs) but drops my framerate down to single digits per second - and I didn\u0027t even try to make the rings rotate (the rings were\u00A0just a convenient shape for getting stuff to orbit).\n\u003C/p\u003E\n\u003Cp\u003E\nSo obviously, it\u0027s not just the part count, but the type of parts that matter. Some guesses as to what type of parts have the potential to affect framerate:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nSolar panels: they have to keep track of the orientation of the station relative to the Sun and, if they\u0027re the tracking type, adjust their angle.\n\u003C/li\u003E\n\u003Cli\u003E\nDocking ports: they may be scanning for nearby targets and adjust their behaviour accordingly. (Though the first pic shows a station with massive numbers of docking ports that nevertheless performed way better than the one in the second pic...)\n\u003C/li\u003E\n\u003Cli\u003E\nThe \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003E\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u003C/abbr\u003E Kolonization mod I\u0027m using probably recalculates the current life support status of habitation modules every other.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nIn the above stations I cheated by using the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/96670-14-253-2018-04-06-ubiozur-welding-ltd-continued/\u0022 rel=\u0022\u0022\u003EUbioZur Welding mod\u003C/a\u003E to reduce part count, by welding most continuous \u0027inactive\u0027 parts together (like adjacent crew cabins, girders or fuel tanks). Now theoretically this should reduce the load and therefore improve framerate. But I\u0027m not a coder; I have no idea how the code for this mod works or how the code of the game proper has evolved since this mod was first developed. It may be that it\u0027s not just about the actual parts, but about the modules inside those parts, which aren\u0027t welded - I presume.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, mods installed, type and number of parts ... what else affects framerate? Can I - can we -\u00A0come to some kind of consistent set of guidelines for constructing stations big enough to be worth having that don\u0027t cause you to grind your teeth at every docking manoeuvre? What parts to avoid, how to avoid them; what mods to install, and which mods not to ...\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d love to hear your advice and your experiences. Thanks!\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Another thing, I forgot, that may have impact: \u003Cem\u003Esettings\u003C/em\u003E. Like the max DT per frame spent on physics calculations. The Max\u00A0DT was lower with the top station than with the one below, but I\u0027ve been told that bigger is better in this case. Soit, I\u0027ll have to experiment with this a little.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ESUMMARY TO DATE\u003C/strong\u003E:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cu\u003ELimit the number of docking ports\u003C/u\u003E. Docking ports, especially unshielded ones, scan the environment for partners to mate with, which puts extra load on the CPU. Also, if you limit the number of docking ports, you\u0027ll be limiting the number of craft that are docked at any given time, which limits total part count.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cu\u003ELimit the number of solar panels.\u003C/u\u003E All solar panels, not just the ones that actively track the sun, need to be able to calculate their position and attitude relative to the sun, and whether or not any obstacles are present between them and the sun.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cu\u003ELimit the potential for fuel crossfeed.\u003C/u\u003E Modularize your station: all fuel (or presumably consumables of any given kind) in one section. See \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/122674-starman4308/\u0022 rel=\u0022\u0022\u003EStarman4308\u003C/a\u003E\u0027s mention of \u003Ca href=\u0022https://www.youtube.com/watch?v=iaZ3U6lNvBQ\u0022 rel=\u0022external nofollow\u0022\u003EStratenblitz\u0027s video here\u003C/a\u003E.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nFollowing \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/209127-alpacamall/\u0022 rel=\u0022\u0022\u003EAlpacaMall\u0027s\u003C/a\u003E suggestion: \u003Cu\u003Elimit the number of lights\u003C/u\u003E. I haven\u0027t had this problem myself, but I can see how lights might require CPU intensive calculations.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nAnd of course, \u003Cu\u003Etry to limit the overall number of parts\u003C/u\u003E. Mods like \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/96670-14-253-2018-04-06-ubiozur-welding-ltd-continued/\u0022 rel=\u0022\u0022\u003EUbioZur\u0027s Welding mod\u003C/a\u003E my help here, or things like the various \u003Ca href=\u0022https://www.youtube.com/watch?v=YiWxPH8cyks\u0022 rel=\u0022external nofollow\u0022\u003EStation Parts\u003C/a\u003E modules I occasionally see mentioned. Sure, you can build grandiose stations just for the kick of it; try and match \u003Ca href=\u0022https://www.youtube.com/watch?v=i60SXLaLI48\u0022 rel=\u0022external nofollow\u0022\u003EStratenblitz\u0027s Kerbol 0\u003C/a\u003E if you dare. But if you\u0027re looking for something to use as a staging area and (re)fuelling post\u00A0for forays into the system, then \u003Cu\u003ESimpler Is Better\u003C/u\u003E (which is what gave me the initial idea for the station in the first pic in this post: basically just a bunch of girders, docking ports and fuel tanks).\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-22T13:04:30Z\u0022 title=\u002205/22/2021 01:04  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 22, 2021\u003C/time\u003E by Hoozemans\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AlexinTokyo","CreatedById":104401,"CreatedDateTime":"2021-05-20T12:34:06Z","Content":"\n\u003Cp\u003E\nNot certain it\u0027s your issue, but I\u0027ve found that lights absolutely \u003Cem\u003Emurder\u003C/em\u003E\u00A0the frame rate I get.\n\u003C/p\u003E\n\u003Cp\u003E\nAs in, I can have a 30-odd part rover which putts around fine, but turn on the lights and the physics engine can\u0027t keep up and I go into yellow-clock slow down.\u003Cbr\u003E\nI notice you have all the cabin lights on in the second station pic, so I wonder if that has something to do with the problem?\n\u003C/p\u003E\n"},{"CreatedByName":"Hoozemans","CreatedById":198643,"CreatedDateTime":"2021-05-20T12:39:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223975680\u0022 data-ipsquote-contentid=\u0022202528\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221621514046\u0022 data-ipsquote-userid=\u0022104401\u0022 data-ipsquote-username=\u0022AlexinTokyo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, AlexinTokyo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot certain it\u0027s your issue, but I\u0027ve found that lights absolutely \u003Cem\u003Emurder\u003C/em\u003E\u00A0the frame rate I get.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe weird thing is that the top station in the initial post was literally teeming with lights - a bunch of projectors at each and every girder intersection you see - and yet its performance was better than that of the station below ...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI notice you have all the cabin lights on in the second station pic, so I wonder if that has something to do with the problem?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nQuick check ... [Turns of lights, attempts docking manoeuvre] I\u0027m not sure. It might have helped a little, but whether it\u0027s enough to matter ... ? I should start logging FPS every time I change something. Anyway, thanks for the hint! At the very least, it\u0027s worth investigating.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"AlpacaMall","CreatedById":209127,"CreatedDateTime":"2021-05-20T18:33:03Z","Content":"\n\u003Cp\u003E\nAnother tip I\u0027ve seen is that open docking ports will drop your frame rate significantly. Try only adding the docking ports you\u0027re sure you\u0027ll need, or using the shielded docking ports.\n\u003C/p\u003E\n\u003Cp\u003E\nBut then again, if that were the case then I\u0027d have thought the first station would melt your computer...\n\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2021-05-20T19:58:07Z","Content":"\n\u003Cp\u003E\nMinimizing the potential for fuel crossfeed may also help significantly, as evidenced by Stratenblitz\u0027s recent megaton rocket:\u00A0\u003Ca href=\u0022https://www.youtube.com/watch?v=iaZ3U6lNvBQ\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.youtube.com/watch?v=iaZ3U6lNvBQ\u003C/a\u003E\u00A0. As a corollary, it may be best to have fewer, large \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tanks vs. many small ones placed where there\u0027s room.\n\u003C/p\u003E\n"},{"CreatedByName":"Hoozemans","CreatedById":198643,"CreatedDateTime":"2021-05-21T11:14:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223975928\u0022 data-ipsquote-contentid=\u0022202528\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221621535583\u0022 data-ipsquote-userid=\u0022209127\u0022 data-ipsquote-username=\u0022AlpacaMall\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, AlpacaMall said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnother tip I\u0027ve seen is that open docking ports will drop your frame rate significantly. Try only adding the docking ports you\u0027re sure you\u0027ll need, or using the shielded docking ports. But then again, if that were the case then I\u0027d have thought the first station would melt your computer...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI heard the same. That, and solar panels. But yeah, it\u0027s exactly that inconsistent behaviour that has me asking questions here.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223975986\u0022 data-ipsquote-contentid=\u0022202528\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221621540687\u0022 data-ipsquote-userid=\u0022122674\u0022 data-ipsquote-username=\u0022Starman4308\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Starman4308 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMinimizing the potential for fuel crossfeed may also help significantly, as evidenced by Stratenblitz\u0027s recent megaton rocket:\u00A0\u003Ca href=\u0022https://www.youtube.com/watch?v=iaZ3U6lNvBQ\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.youtube.com/watch?v=iaZ3U6lNvBQ\u003C/a\u003E\u00A0. As a corollary, it may be best to have fewer, large \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E tanks vs. many small ones placed where there\u0027s room.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFuel crossfeed is hard to prevent in most cases; especially if your station is a refuelling station (which I\u0027m guessing most are) with a bunch of ships docked. I\u0027ve seen the video, and I can\u0027t fault Stratenblitz\u0027s findings - but I\u0027m not sure what to do about it... Well, I suppose I can eliminate a few tanks by consolidating them. It might help. Thanks!\n\u003C/p\u003E\n"},{"CreatedByName":"Mahnarch","CreatedById":114432,"CreatedDateTime":"2021-05-22T15:05:31Z","Content":"\n\u003Cp\u003E\nAnd you definitely don\u0027t have other programs running in the background? [Recording/Streaming/YouTube on a second monitor, etc]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI looked up DDR4 RAM chip prices\u00A0and I don\u0027t blame you! They know what they want for those, don\u0027t they?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-22T15:06:39Z\u0022 title=\u002205/22/2021 03:06  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 22, 2021\u003C/time\u003E by Mahnarch\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Hoozemans","CreatedById":198643,"CreatedDateTime":"2021-05-22T17:32:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223976951\u0022 data-ipsquote-contentid=\u0022202528\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221621695931\u0022 data-ipsquote-userid=\u0022114432\u0022 data-ipsquote-username=\u0022Mahnarch\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Mahnarch said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnd you definitely don\u0027t have other programs running in the background?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, you know, a couple of Windows10 VMs, some docker containers that don\u0027t fit in the minikube running in a Linux VM, Firefox (which is a sure performance killer) - the usual.\n\u003C/p\u003E\n\u003Cp\u003E\nNah, the stuff I\u0027m talking about happens whether or not I\u0027m running anything else (although it\u0027s worse when I\u0027m running development tools in a Windows10 VM, of course).\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223976951\u0022 data-ipsquote-contentid=\u0022202528\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221621695931\u0022 data-ipsquote-userid=\u0022114432\u0022 data-ipsquote-username=\u0022Mahnarch\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Mahnarch said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[Recording/Streaming/YouTube on a second monitor, etc]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nActually, display might be a thing under some circumstances. I\u0027ve hooked up an old monitor to my Mac using a hub (\u0027cause these things only have USB-C ports), and depending on what display mode I\u0027m using, performance of *any* program I\u0027m running, but especially games and VMs, really tanks. But then I\u0027ve already ascertained that my issues with KSP-performance occur whether or not I\u0027m using external monitors, or doing anything but running KSP, for that matter.\n\u003C/p\u003E\n\u003Cp\u003E\nRight now I\u0027m attacking the crossfeed thing. Redesigning my space stations, testing the designs. Should\u0027ve done that in the first place, since I really hate having to launch all these parts a second time. Although I get to deorbit the old station now, which gives nice fireworks.\n\u003C/p\u003E\n\u003Cp\u003E\nI think my next station will be more along the lines of the station in the second pic above: just one massive framework for attaching stuff to. Just wondering what shape to give it...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223976951\u0022 data-ipsquote-contentid=\u0022202528\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221621695931\u0022 data-ipsquote-userid=\u0022114432\u0022 data-ipsquote-username=\u0022Mahnarch\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Mahnarch said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI looked up DDR4 RAM chip prices\u00A0and I don\u0027t blame you!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not really the price that I\u0027m worried about. I haven\u0027t been to the pub for two years, and you cannot *believe* how much money I\u0027ve been able to save. It\u0027s just that it\u0027s so much work comparing the specs of candidate memory sticks to candidate mainboards - and it doesn\u0027t help that I\u0027m changing the requirements for my new kit every time I sit down to look at them...\n\u003C/p\u003E\n"}]}