{"TopicId":61441,"ForumId":16,"TopicTitle":"Reversing the Dv equation.","CreatedByName":"Legendmir","CreatedById":101030,"CreatedDateTime":"2014-01-29T01:02:47Z","PageNum":1,"Articles":[{"CreatedByName":"Legendmir","CreatedById":101030,"CreatedDateTime":"2014-01-29T01:02:47Z","Content":"\n\u003Cp\u003EI have been watching the below video a few times trying to understand how he finds the fuel he will need to achieve his mission. \u003C/p\u003E\u003Cp\u003EThe Dv equation is easy enough so iv been trying the equations he has sown in the video and checking my answer with the Dv equation afterwards and no matter how many times i try i don\u0027t get the Dv i put in to the equation. \u003C/p\u003E\u003Cp\u003EIll quickly run through what iv been doing. i do hope you can spot what iv done wrong. \u003C/p\u003E\u003Cp\u003Ee^(Dv/Isp/g) = X\u003C/p\u003E\u003Cp\u003EThen i find the fuel mass by doing d x (X-1)/1 \u002B X/9 giving me F at least that\u0027s the impression i got but its wrong as when i add F to the mass and adjust for dry mass then punch it all in to the Dv equation i get a total different Dv to what i punched in originally. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/MWozfZ7bgYw?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-29T09:43:47Z\u0022 title=\u002201/29/2014 09:43  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 29, 2014\u003C/time\u003E by Legendmir\u003C/strong\u003E\n\u003Cbr\u003EAnswered\n\u003C/span\u003E\n"},{"CreatedByName":"Tank Buddy","CreatedById":69635,"CreatedDateTime":"2014-01-29T01:35:18Z","Content":"\n\u003Cp\u003EHere\u0027s what my aerospace book says: \u003C/p\u003E\u003Cp\u003EDry mass=full mass*2.71828^-(Desired DV/exhaust velocity) Note the negative exponent.\u003C/p\u003E\u003Cp\u003Eand\u003C/p\u003E\u003Cp\u003EFull mass= Dry mass*2.71828^(Desired DV/exhaust velocity)\u003C/p\u003E\u003Cp\u003E2.71828 is some constant.\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-01-29T01:46:50Z","Content":"\n\u003Cp\u003E2.7 is e.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Ed x (X-1)/1 \u002B X/9\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m assuming lower-case x is multiplication, and d is your dry mass?\u003C/p\u003E\u003Cp\u003EDry mass times (X-1) is the propellent mass, so that makes sense.\u003C/p\u003E\u003Cp\u003EThen you\u0027re dividing it by 1 for some reason, which does nothing. Then you add X/9, which is again quite mysterious. I think you\u0027ve got some typos in there.\u003C/p\u003E\u003Cp\u003EWhat I worked it out to be some time ago is that the dry mass of the tanks you need is d(X-1) / (1 - X \u002B 8) ; the mass of the fuel in those tanks is 8 times more. So you\u0027d have 9d(X-1) / (9 - X) total mass.\u003C/p\u003E\n"},{"CreatedByName":"Rusty6899","CreatedById":85172,"CreatedDateTime":"2014-01-29T02:55:31Z","Content":"\n\u003Cp\u003EFirstly, choose an appropriate engine for the stage, based on thrust requirements/delta-v requirements etc. This comes with experience, but can be estimated reasonably well.\u003C/p\u003E\u003Cp\u003ESecondly, add the mass of all the parts in the rocket (except the fuel tanks, because we don\u0027t know how much fuel we need). Call this M_total\u003C/p\u003E\u003Cp\u003ECalculate the required m0/m1 = EXP(dv required / (Isp*9.81))\u003C/p\u003E\u003Cp\u003Ecalculate m1...\u003C/p\u003E\u003Cp\u003Em1= (8*M_total)/(9-(m0/m1)) -----\u0026gt; This only works for fuel tanks where full/empty mass ratio = 9:1. Replace 8 with 4.35 and 9 with 5.35 for the other two tanks.\u003C/p\u003E\u003Cp\u003ECalculate m0....\u003C/p\u003E\u003Cp\u003Em0 = m1* (m0/m1)\u003C/p\u003E\u003Cp\u003Em0 - m1 is the minimum required mass of fuel for the stage.\u003C/p\u003E\u003Cp\u003EYou may want to add a factor of safety of 1.1 or 1.2 to ensure you have enough, but I have used this method a fair few times and never came up short.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-29T03:20:27Z\u0022 title=\u002201/29/2014 03:20  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 29, 2014\u003C/time\u003E by Rusty6899\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Silverware","CreatedById":12194,"CreatedDateTime":"2014-01-29T03:01:53Z","Content":"\n\u003Cp\u003Eg = 9.81\u003C/p\u003E\u003Cp\u003EWet = Full Mass of stage\u003C/p\u003E\u003Cp\u003EDry = Dry Mass of stage\u003C/p\u003E\u003Cp\u003EIsp = Specific Impulse (in seconds)\u003C/p\u003E\u003Cp\u003Eln = Natural Log\u003C/p\u003E\u003Cp\u003EdV = Isp*ln(Wet/Dry)*g\u003C/p\u003E\u003Cp\u003EIsp = (dV/ln(Wet/Dry))/g\u003C/p\u003E\u003Cp\u003EWet = Dry * e^(dV/(Isp*g))\u003C/p\u003E\u003Cp\u003EDry = 1/(e^(dV/(Isp*g))/Wet)\u003C/p\u003E\u003Cp\u003EAll the equations required to do forwards and backwards calculations.\u003C/p\u003E\u003Cp\u003EKnow the approximate dry mass and delta V required? Use the wet calculation and throw the Isp of the engine in!\u003C/p\u003E\n"},{"CreatedByName":"Rusty6899","CreatedById":85172,"CreatedDateTime":"2014-01-29T03:18:05Z","Content":"\n\u003Cp\u003EHere\u0027s an example.\u003C/p\u003E\u003Cp\u003EFrom a low Munar orbit, I want to land on the Mun and return to Kerbin in one stage.\u003C/p\u003E\u003Cp\u003EAccording to the Delta-V map I have, I will need 2350 m/s. (I will round it to 2500 for a factor of safety). \u003C/p\u003E\u003Cp\u003EI choose an LV-909 engine, as I need landing legs to fit on it, it provides sufficient thrust for Mun landing/take off and has low mass with a decent Isp (390) in vacuum.\u003C/p\u003E\u003Cp\u003ESo far my rocket is designed to have...\u003C/p\u003E\u003Cp\u003EMk 1 Lander Can, 3 Microstruts, 3 OXSTATs, a TR-18A decoupler, a Mk16 Parachute and the LV-909.\u003C/p\u003E\u003Cp\u003EM_total = 0.66 \u002B 0.045 \u002B 0.015 \u002B 0.05\u002B 0.1 \u002B 0.5 = 1.37 tonnes\u003C/p\u003E\u003Cp\u003Em0/m1 = EXP(2500/(390*9.81)) = 1.922\u003C/p\u003E\u003Cp\u003Em1 = 8*1.37/(9-1.922) = 1.548t\u003C/p\u003E\u003Cp\u003Em0 = 1.548 * 1.922 = 2.975t\u003C/p\u003E\u003Cp\u003Emass of fuel required = 2.975 - 1.548 = 1.427t\u003C/p\u003E\u003Cp\u003ETherefore an FL-T200 and a FL-T100 can be used.\u003C/p\u003E\u003Cp\u003EFinally, double check this with the Tsiolkovsky Equation...\u003C/p\u003E\u003Cp\u003Edv=390*9.81 * ln(3.0575/1.5575) = 2580m/s --------\u0026gt; The values of m0 and m1 are slightly different because the mass of fuel and fuel tank are slightly higher than the calculated minimums.\u003C/p\u003E\n"},{"CreatedByName":"UmbralRaptor","CreatedById":2767,"CreatedDateTime":"2014-01-29T03:23:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Legendmir\u0022 data-cite=\u0022Legendmir\u0022\u003E\u003Cdiv\u003Ee^(Dv/Isp/g) = X\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks good for getting the mass ratio of a given stage, though I\u0027d write it as e^(\u00C3\u017D\u00E2\u20ACV/(Isp*g0)) in the hopes of extra clarity.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Legendmir\u0022 data-cite=\u0022Legendmir\u0022\u003E\u003Cdiv\u003EThen i find the fuel mass by doing d x (X-1)/1 \u002B X/9 giving me F at least that\u0027s the impression i got but its wrong as when i add F to the mass and adjust for dry mass then punch it all in to the Dv equation i get a total different Dv to what i punched in originally\u003C/div\u003E\u003C/blockquote\u003EI\u0027m a bit confused by this as written.\u003Cp\u003EA first approximation would be X == (Full_Tankage \u002B Other_Mass) / (Empty_Tankage \u002B Other_Mass)\u003C/p\u003E\u003Cp\u003EOther_Mass being upper stages, the payload, engines, or whatever.\u003C/p\u003E\u003Cp\u003EFor FL-T and Rockomaxx stock parts you can assume that Empty_Tankage * 9 == Full_Tankage\u003C/p\u003E\u003Cp\u003EAfter a bit of Algebra: Empty_Tankage == (Other_Mass - X*Other_Mass)/(X\u002B9)\u003C/p\u003E\u003Cp\u003ENote the assumption that you know how much that Other_Mass is.\u003C/p\u003E\u003Cp\u003EThat said, I put together some formulas for generating single stages of various performance a while back:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i26.photobucket.com/albums/c128/raptor_87/KSP/SSTOautogen_zpsc42dacd8.png\u0022 alt=\u0022SSTOautogen_zpsc42dacd8.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E(Though it can stick you with intermediate tank sizes)\u003C/p\u003E\u003Cp\u003EEdit: What is it with you people and 9.81? KSP uses 9.82 m/s\u00C3\u201A\u00C2\u00B2 for g0...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-29T03:27:17Z\u0022 title=\u002201/29/2014 03:27  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 29, 2014\u003C/time\u003E by UmbralRaptor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rusty6899","CreatedById":85172,"CreatedDateTime":"2014-01-29T04:20:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022UmbralRaptor\u0022 data-cite=\u0022UmbralRaptor\u0022\u003E\u003Cdiv\u003EEdit: What is it with you people and 9.81? KSP uses 9.82 m/s\u00C3\u201A\u00C2\u00B2 for g0...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs that true? Can\u0027t say it makes a huge difference to be honest.\u003C/p\u003E\n"},{"CreatedByName":"UmbralRaptor","CreatedById":2767,"CreatedDateTime":"2014-01-29T04:42:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rusty6899\u0022 data-cite=\u0022Rusty6899\u0022\u003E\u003Cdiv\u003EIs that true? Can\u0027t say it makes a huge difference to be honest.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s a small difference, but rather easy to spot if you check the ingame numbers. eg:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i26.photobucket.com/albums/c128/raptor_87/KSP/FC_0180_zps3d5f5da0.png\u0022 alt=\u0022FC_0180_zps3d5f5da0.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Legendmir","CreatedById":101030,"CreatedDateTime":"2014-01-29T09:42:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Silverware\u0022 data-cite=\u0022Silverware\u0022\u003E\u003Cdiv\u003Eg = 9.81\u003Cp\u003EWet = Full Mass of stage\u003C/p\u003E\u003Cp\u003EDry = Dry Mass of stage\u003C/p\u003E\u003Cp\u003EIsp = Specific Impulse (in seconds)\u003C/p\u003E\u003Cp\u003Eln = Natural Log\u003C/p\u003E\u003Cp\u003EdV = Isp*ln(Wet/Dry)*g\u003C/p\u003E\u003Cp\u003EIsp = (dV/ln(Wet/Dry))/g\u003C/p\u003E\u003Cp\u003EWet = Dry * e^(dV/(Isp*g))\u003C/p\u003E\u003Cp\u003EDry = 1/(e^(dV/(Isp*g))/Wet)\u003C/p\u003E\u003Cp\u003EAll the equations required to do forwards and backwards calculations.\u003C/p\u003E\u003Cp\u003EKnow the approximate dry mass and delta V required? Use the wet calculation and throw the Isp of the engine in!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you so much. the first one i came across that i could understand was the one above. \u003C/p\u003E\u003Cp\u003EI quickly checked it against different dry masses and different Dv\u0027s and it worked like a charm. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ELooks good for getting the mass ratio of a given stage, though I\u0027d write it as e^(\u00C3\u017D\u00E2\u20ACV/(Isp*g0)) in the hopes of extra clarity.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EId do that if i had any idea how to do that symbol XD\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-01-29T16:40:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rusty6899\u0022 data-cite=\u0022Rusty6899\u0022\u003E\u003Cdiv\u003EIs that true? Can\u0027t say it makes a huge difference to be honest.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is true: g0 is 9.82 in KSP. Makes a bit more than a part in a thousand difference.\u003C/p\u003E\n"},{"CreatedByName":"Silverware","CreatedById":12194,"CreatedDateTime":"2014-01-29T20:10:57Z","Content":"\n\u003Cp\u003ECan\u0027t say I have noticed it myself, but then again I don\u0027t often look too hard at my calculations, as I leave a large amount of wiggle room.\u003C/p\u003E\n"},{"CreatedByName":"James_Eh","CreatedById":95163,"CreatedDateTime":"2014-01-29T21:52:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022UmbralRaptor\u0022 data-cite=\u0022UmbralRaptor\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EEdit: What is it with you people and 9.81? KSP uses 9.82 m/s\u00C3\u201A\u00C2\u00B2 for g0...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh-HA!!! So THAT\u0027S why I keep getting to 99,898.167 m and then plummeting to the ground !!!\u003C/p\u003E\n"}]}