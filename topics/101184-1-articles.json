{"TopicId":101184,"ForumId":15,"TopicTitle":"Emissive gets screwed up on animated engine?","CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-03-03T22:35:17Z","PageNum":1,"Articles":[{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-03-03T22:35:17Z","Content":"I have a jet engine part that uses an animation to rotate the nozzle, but for some reason the emissive won\u0027t work or causes the part not to load into the game. Is there a specific way to set up these animations in the hierarchy so that they play nice with eachother? Or, is it possible to set the emissive as a snapshot of frames inside the rotation animation so that it counts as one animation, eliminating the need for two animation components, or does it not work that way? Previously I had the emissive set to the nozzle section (which is part of the animation that is rotated), but it would only activate in game if the nozzle had not been rotated, and would not activate after rotation also. Thanks!"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-03-11T10:04:47Z","Content":"Does anyone know how this can be fixed? Here\u0027s a picture of the current Unity setup I am using below. It loads in the game and both animations work, but the emissive gets \u0022frozen\u0022 wherever it was when I activate the vtol animation.\n\nThis is one of the last issues I\u0027m having with these parts lol.\n\n![SLDeeOI.png](http://i.imgur.com/SLDeeOI.png)"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-03-11T10:13:54Z","Content":"How many meshes does this thing have?"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-03-11T10:28:35Z","Content":"\u003E \n\u003E How many meshes does this thing have?\n\nIt has a bunch. 1 for each rotating disk, the main housing, the two doors underneath, and one for each section of the nozzle (was planning to try to rig the nozzle to expand/contract with thrust but never figured that out).\n\nEdit: What it looks like after vtol animation, and the section I\u0027d like to apply the emissive to.\n\n![LAZGNXo.png](http://i.imgur.com/LAZGNXo.png)\n\n**Edited \u003Ctime datetime=\u00222015-03-11T10:42:22Z\u0022 title=\u002203/11/2015 10:42  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 11, 2015\u003C/time\u003E by Quiznos323**"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-03-11T10:47:24Z","Content":"The animation only needs to be applied to the object that emits I think."},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-03-11T11:05:19Z","Content":"\u003E \n\u003E The animation only needs to be applied to the object that emits I think.\n\nHmm, yeah I tried that before but it produced the same results. You mean the emissive animation? Something about the vtol animation is screwing with the emissive but idk what lol."},{"CreatedByName":"Porkjet","CreatedById":92433,"CreatedDateTime":"2015-03-11T11:57:15Z","Content":"Multiple animations dont work very well on stock anim controllers, for instance, you also can\u0027t have a direct throttle anim (ion engine) and an emissive together.\n\nYou\u0027re controlling the vtol anim with moduleAnimateGeneric, yes? I\u0027m surprised that even works, i tried something like that too some time ago and it didnt. Might be due to the changes of the module that came with 0.25.\n\nAnyway, maybe you can make it work with a plugin animation module, such as FSanimateGeneric from Firespitter mod."},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-11T13:42:21Z","Content":"try splitting the emissive part to separate object, child it to the rotating part. Use two animation components, one on part that rotates, one on part that is emissive."},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-03-11T18:32:10Z","Content":"\u003E \n\u003E Multiple animations dont work very well on stock anim controllers, for instance, you also can\u0027t have a direct throttle anim (ion engine) and an emissive together.\n\u003E You\u0027re controlling the vtol anim with moduleAnimateGeneric, yes? I\u0027m surprised that even works, i tried something like that too some time ago and it didnt. Might be due to the changes of the module that came with 0.25.\n\u003E \n\u003E Anyway, maybe you can make it work with a plugin animation module, such as FSanimateGeneric from Firespitter mod.\n\nAlright, I\u0027ll give FSanimateGeneric a shot and see what happens. The way it puts animations on layers might be just what I need. And I\u0027m already using Firespitter anyway to make my other fan part spin ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n\u003E \n\u003E try splitting the emissive part to separate object, child it to the rotating part. Use two animation components, one on part that rotates, one on part that is emissive.\n\nYeah I had tried that before but it seemed to give the same effect.. if the Firespitter module doesn\u0027t work out then I\u0027ll give it another try.\n\nBtw I have to say thanks for the great IVA tutorials! My Mk2 cockpit wouldn\u0027t look as good if not for them ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Also quick question: do you by chance know how to set up turning the cabin light on and off using the B9 light switch prop?"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-11T19:23:16Z","Content":"I\u0027ll check my engine when I get home. It\u0027s same deal as yours. Works fine with AnimateGeneric for rotation and animateHeat for engine emissive IIRC.\n\nB9\u0027s light prop probably uses RPM\u0027s internalLight JSIGroupActionSwitch: [https://github.com/Mihara/RasterPropMonitor/wiki/Prop-modules](https://github.com/Mihara/RasterPropMonitor/wiki/Prop-modules). You do need at least one prop in the IVA with RasterPropMonitor module or none of your RPM props will work. They all share alot of code from the RasterPropMonitor module. \n\nStock code has an internal module for switching lights, but I\u0027m not sure if it works.\n\nshows the part setup in Unity and relevant CFG bits. works as expected in 0.9\n\n![sSJQvax.jpg](https://i.imgur.com/sSJQvax.jpg)\n\n**Edited \u003Ctime datetime=\u00222015-03-11T21:54:21Z\u0022 title=\u002203/11/2015 09:54  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 11, 2015\u003C/time\u003E by nli2work**"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-03-11T21:56:15Z","Content":"@Porkjet: Yay the Firespitter module works! I think I\u0027ll stick with that since I can tweak some other things about the animation with it too ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nAnd I figured out the cockpit light too with your help nli2work, thanks!\n\nEdit: Just saw your picture, thanks for the reference ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-03-11T22:47:18Z\u0022 title=\u002203/11/2015 10:47  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 11, 2015\u003C/time\u003E by Quiznos323**"}]}