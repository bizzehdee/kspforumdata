{"TopicId":116420,"ForumId":70,"TopicTitle":"Forced d3d11 and a manned craft: gives major stuttering ingame (??)","CreatedByName":"Gkirmathal","CreatedById":135480,"CreatedDateTime":"2015-07-20T17:47:40Z","PageNum":1,"Articles":[{"CreatedByName":"Gkirmathal","CreatedById":135480,"CreatedDateTime":"2015-07-20T17:47:40Z","Content":"\n\u003Cp\u003EHello,\u003C/p\u003E\u003Cp\u003EGot an very odd problem I cannot seem to trace.\u003C/p\u003E\u003Cp\u003EFor a planet pack I needed use OGL or d3d11, I decided go for d3d11 due to better performance on my rig.\u003C/p\u003E\u003Cp\u003ENow I did some launches under d3d11, all unmanned, performance with those was smooth. Untill I had a manned mission on the pad.\u003C/p\u003E\u003Cp\u003EThe game started to stutter extensively and become somewhat unresponsive. \u003C/p\u003E\u003Cp\u003EThe in game performance graph showed continues very short fsp drops to below 8fps, while the tops stayed around 38.\u003C/p\u003E\u003Cp\u003EFirst of all, I noticed this \u003Cstrong\u003Eonly occured\u003C/strong\u003E when a capsule is \u003Cstrong\u003Emanned\u003C/strong\u003E with a kerbal(s), \u003Cstrong\u003Eunmanned all is smooth\u003C/strong\u003E.\u003C/p\u003E\u003Cp\u003ESo started to remove all mods that might have script relations to crews. \u003C/p\u003E\u003Cp\u003EFinally removed all mods untill the game was completely stock. Still it stutters when any capsule is manned, unmanned is still smooth as silk.\u003C/p\u003E\u003Cp\u003EThe ksp logs doesn\u0027t show anything odd, like errors or missing data.\u003C/p\u003E\u003Cp\u003EAnyone know what is going on, or if this is a known issue?\u003C/p\u003E\u003Cp\u003EMy system specs:\u003C/p\u003E\u003Cp\u003EOS: Win7 x64\u003C/p\u003E\u003Cp\u003ECPU: Intel X5460 @3.8\u003C/p\u003E\u003Cp\u003ERAM: 6Gb ddr800\u003C/p\u003E\u003Cp\u003EGPU: (2x) HD5770\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-21T22:47:59Z\u0022 title=\u002207/21/2015 10:47  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 21, 2015\u003C/time\u003E by Gkirmathal\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gkirmathal","CreatedById":135480,"CreatedDateTime":"2015-07-21T22:55:58Z","Content":"\n\u003Cp\u003EDid a full clean install of KSP just now and on -force-d3d11 the game still stutters severly when a craft has a crew in it. Without a crew, there is no such problem and dx11 plays very smooth.\u003C/p\u003E\u003Cp\u003EBTW the stutterings only occur with external views on the craft, when manned, not on IVA or EVA\u0027s.\u003C/p\u003E\u003Cp\u003ESo no one know what is causing this?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EScreenshots of the problem with in game performance graph from the debug panel.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/Ssq84i6,g3pdheK#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/Ssq84i6,g3pdheK#0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EFirst screenshot clearly shows the fps dips, which in game result in stuttering when manned.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-21T22:47:12Z\u0022 title=\u002207/21/2015 10:47  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 21, 2015\u003C/time\u003E by Gkirmathal\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-22T20:10:17Z","Content":"\n\u003Cp\u003EDX11 is not a stable client for KSP. I dare say if the Unity folks knew what was breaking for you they\u0027d fix it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-07-22T20:14:58Z","Content":"\n\u003Cp\u003EYep, -force-d3d11\u003Ca href=\u0022http://docs.unity3d.com/Manual/CommandLineArguments.html\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E is a Unity3D thing\u003C/strong\u003E\u003C/a\u003E, nothing to do with KSP at all, if you should be asking anywhere about this it should be on the \u003Ca href=\u0022http://forum.unity3d.com/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EUnity support forums\u003C/strong\u003E\u003C/a\u003E, as we really cannot help with engine issues such as this.\u003C/p\u003E\n"},{"CreatedByName":"Gkirmathal","CreatedById":135480,"CreatedDateTime":"2015-07-22T21:43:34Z","Content":"\n\u003Cp\u003E@sal_vager and @NathanKell \u003C/p\u003E\u003Cp\u003EThanks for the reply guys and I understand about it not being officially supported. \u003C/p\u003E\u003Cp\u003EToday a few questions brewed up. I would like to know a few technical things about KSP, not related to d3d11/ogl/d3d9c: \u003C/p\u003E\u003Cp\u003E- how are the Kerbal 3d models \u002B 3d internals handled? As the issue only occurs when craft is crewed: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E- What is the difference in what KSP does/renders/loads between: a crewed craft and the same non crewed craft, when it is loaded into the world space?\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E- Does KSP 1.0.x, when you view the craft from the outside, render the crew 3d models and internals that are within the craft 3xternal 3d model?? \u003C/em\u003E\u003C/p\u003E\u003Cp\u003EReason to ask the above: \u003C/p\u003E\u003Cp\u003Ewhen I increased \u003Cem\u003EMax Physics D-Time per Frame\u003C/em\u003E from 0.04 \u0026gt; 0.12, the fps dips/stutters became less on said manned craft.\u003C/p\u003E\u003Cp\u003EThis led me to think: UNITY might be rendering Kerbal 3d models within the external 3d model of a craft when viewed in the 3rd person (?) and that there are then physics calculations being done on those Kerbal 3d models within the craft.\u003C/p\u003E\u003Cp\u003ERender technique then indeed could be an influence and there might also be a difference in how NV and AMD handles them with each technique.\u003C/p\u003E\u003Cp\u003EAs everything else with d3d11 in 1.0.4 works flawlessly compared to 0.90, only thing now: what are those those pesky crews doing? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EAre these questions that need to be asked on the UNITY forums as well, or are they KSP specific enough?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-22T21:45:35Z\u0022 title=\u002207/22/2015 09:45  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 22, 2015\u003C/time\u003E by Gkirmathal\u003C/strong\u003E\n\u003C/span\u003E\n"}]}