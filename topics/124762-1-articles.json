{"TopicId":124762,"ForumId":69,"TopicTitle":"Disappearing contracts on Mac OSX","CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-11-08T22:49:52Z","PageNum":1,"Articles":[{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-11-08T22:49:52Z","Content":"\n\u003Cp\u003EHi, this is getting to be a game-breaker. After trying something new, all active contracts simply disappear. This means I keep the advances from the previous 10 accepted active contracts, but I had a few I was working hard on and it kinda ruins the fun :/\u003C/p\u003E\u003Cp\u003EThis is the third time it happened, just now. I quit immediately and I\u0027ve tried looking for the \u0022logs\u0022 since I saw a request for something like that in another thread, but can\u0027t see where they might be.\u003C/p\u003E\u003Cp\u003EMy speculation: it is the fact of entering into a new area of game-play that triggers the generation of a new type of contract. \u003C/p\u003E\u003Cp\u003EFor example, first time contracts disappeared: I had been to Minmus a couple of times, then decided to send a probe out towards Duna. So for the first time I was actually controlling a spacecraft outside Kerbins SOI. As soon as I went back to the space centre, all active contracts had disappeared, but now I got contracts about exploring other planets (rather than the stock \u0022fly by Duna\u0022 which came up very early on with no expiry date).\u003C/p\u003E\u003Cp\u003ESecond time: I had just acquired drilling tech and sent a drill ship up to Minmus. Back at the space centre all contracts had disappeared, but now I had new ones offered such as hauling ore from the Mun.\u003C/p\u003E\u003Cp\u003EThis last time: I tried out Mk2 fuselages for the first time - sent to Minmus to complete an easy contract. Lack of a \u0022mission accomplished\u0022 message implied all was not well. However, although all active contracts have disappeared I don\u0027t see any significant change in the offered contracts.\u003C/p\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-11-08T23:20:31Z","Content":"\n\u003Cp\u003EOh sorry - I forgot to give the details:\u003C/p\u003E\u003Cp\u003EBuild id 00861 / OSX 10.6.8 / First install, no mods (but I previously tried the old demo in 2013 and the newest demo last month) / player log \u003Ca href=\u0022http://www.surrendermonkeys.fr/public/Player.log\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E but I relaunched the game after losing the contracts.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-11-08T23:23:09Z","Content":"\n\u003Cp\u003EHi Plusck, do you have a save from before this happened so we can see what contracts you had? Also if you can reproduce this the logs from that event would be really useful.\u003C/p\u003E\u003Cp\u003EUnfortunately restarting KSP overwrote your log so I can\u0027t see anything wrong there.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-09T00:51:42Z\u0022 title=\u002211/09/2015 12:51  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 9, 2015\u003C/time\u003E by sal_vager\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-11-09T04:01:54Z","Content":"\n\u003Cp\u003EYeah, it was stupid to restart before finding the logs. \u003C/p\u003E\u003Cp\u003EIs a quicksave good enough? This was what I went back to after posting the thread: \u003Ca href=\u0022http://www.surrendermonkeys.fr/public/quicksave\u0022 rel=\u0022external nofollow\u0022\u003Etrying to recover a mucked-up Mun outpost contract with more fuel\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EAfter completing that contract, I accepted an easy 10-person Minmus orbit contract (no lab or fuel or anything required) and unlocked a bunch of Mk2 fuselage bits for it. It was while on the outward leg to Minmus that I switched to another ship from the map screen. Going back to the Mk2 ship/plane, I noticed that my credits weren\u0027t visible. This actually happens quite a lot - I have the impression it happens if you switch out to another vehicle while still able to revert the flight - so I didn\u0027t realise there was a problem until the contract completion message failed to appear.\u003C/p\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-11-30T18:59:56Z","Content":"\n\u003Cp\u003E\nOK, so it\u0027s finally happened again.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is now 1.0.5 build 1028, with a career savegame originally started under 1.0.4. Direct download, so the save folder is the only thing\u00A0(together with the VAB thumbnails) that was carried across from the previous version.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know if it is related, but I was switching between craft in the map view quite a bit - partly because the game was often stopping me from placing manouver nodes.\n\u003C/p\u003E\n\u003Cp\u003E\nLuckily I have a savegame; haven\u0027t managed to reproduce the error though.\n\u003C/p\u003E\n\u003Cp\u003E\nLog file: \u003Ca href=\u0022http://www.surrendermonkeys.fr/public/dead%20contracts%20log.txt\u0022 rel=\u0022external nofollow\u0022\u003Edead contracts log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd quicksave not long beforehand: \u003Ca href=\u0022http://www.surrendermonkeys.fr/public/quicksave%20suicide%20burn%20at%2010s.sfs\u0022 rel=\u0022external nofollow\u0022\u003Equicksave shortly before returning to Kerbin\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-30T19:07:02Z\u0022 title=\u002211/30/2015 07:07  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 30, 2015\u003C/time\u003E by Plusck\u003C/strong\u003E\n\u003Cbr\u003Ea quicksave was requested earlier\n\u003C/span\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-12-16T01:57:28Z","Content":"\n\u003Cp\u003E\nAaaaaand... it happened again.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is again - build 1.0.5 build 1028. Log file: \u003Ca href=\u0022http://www.surrendermonkeys.fr/public/New_Player.log\u0022 rel=\u0022external nofollow\u0022\u003ENew Player.log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, this happened when switching between craft in the map view.\n\u003C/p\u003E\n\u003Cp\u003E\nThe ship I was controlling (\u0022GILLY asteroid miner mk2b\u0022 in the logs) was not letting me place any manoeuvre nodes. I double clicked on another ship (probably \u0022GILLY drill ship\u0022, but \u0022EVE lander and return ship\u0022 was right next to it. These two were within physics range of one another, but not the asteroid miner). Got suspicious about the scene change (which was long and dark) and checked the contract info : all gone.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI would appreciate some feedback on this, given that I\u0027ve been producing the logs and a save as requested...\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-12-16T09:39:10Z","Content":"\n\u003Cp\u003E\nI see this \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/153264-plusck/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022153264\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/153264-plusck/\u0022 id=\u0022ips_uid_6\u0022\u003E@Plusck\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cpre\u003E\r\n\r\nContractList: Contract config is invalid\u003C/pre\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRepeated over and over, then this near the end.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cpre\u003E\r\n\r\n[Contracts App]: No contract found while attempting to refresh contracts list\u003C/pre\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBut I don\u0027t know how it can get like this, I am seeing some weird stuff when you loaded the Gilly drill ship though.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cpre\u003E\r\n\r\n[RESOURCES] No Implementation of IsSituationValid in derived class\u003C/pre\u003E\n\u003Cpre\u003E\r\n\r\n...no TransferDialogSpawner module found on part definition. Skipping...\u003C/pre\u003E\n\u003Cpre\u003E\r\n\r\nPartModule is null.\u003C/pre\u003E\n\u003Cpre\u003E\r\n\r\ndT is NaN! tA: 2.28077268600464, E: 0, M: 0, T: NaN\u003C/pre\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHow old is Gilly drill ship?\u00A0 I\u0027m wondering if the 1.0.5 changes were enough to break contracts even if vessels from 1.0.4 are used.\n\u003C/p\u003E\n\u003Cp\u003E\nI have not been able to reproduce this yet though either with your save or mine, I\u0027ll ask \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/32604-arsonide/\u0026amp;do=hovercard\u0022 data-mentionid=\u002232604\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/32604-arsonide/\u0022 id=\u0022ips_uid_10\u0022\u003E@Arsonide\u003C/a\u003E to take a look, he knows the contract system inside out.\n\u003C/p\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-12-16T11:49:47Z","Content":"\n\u003Cp\u003E\nThanks for taking a look at this.\n\u003C/p\u003E\n\u003Cp\u003E\nFour of the five ships around Gilly were certainly launched post-1.0.5, including the three involved here. The fifth one was on rails all the time and I don\u0027t think it\u0027s even mentioned in the logs.\n\u003C/p\u003E\n\u003Cp\u003E\nLikewise for the logs from 30 November.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, the \u003Cu\u003Emodel\u003C/u\u003E for Gilly drill ship (or rather, one section of it, carried over from another model) does date from 1.0.4.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand, I\u0027m wondering whether there might be a more general problem with my save regarding the LV-N. In my career save, it is still listed as \u0022experimental\u0022 even though I have puchased it. I had assumed this was intended due to the nature of the beast, but it isn\u0027t the case in sandbox mode so now I wonder.\n\u003C/p\u003E\n\u003Cp\u003E\nI originally got it as a test part, and I think that was under 1.0.4. It there is one thing that is certainly common to all cases where my contract has disappeared, it is the *experimental* LV-N.\n\u003C/p\u003E\n\u003Cp\u003E\nIt isn\u0027t on the Gilly drill ship, but is on the asteroid miner and Eve base/return ship.\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-12-17T08:45:53Z","Content":"\n\u003Cp\u003E\nThat may be it, I don\u0027t think I switched to any craft with an LV-N though so that may be why I couldn\u0027t reproduce it.\n\u003C/p\u003E\n\u003Cp\u003E\nUsually the experimental parts are recovered by the player, I hadn\u0027t heard of experimental parts causing this but it may be because it\u0027s from 1.0.4\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll try the asteroid miner.\n\u003C/p\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-12-17T11:27:06Z","Content":"\n\u003Cp\u003E\nThanks again for looking at this - but I\u0027m really not sure you should be spending time trying to reproduce the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nI really couldn\u0027t say what it is about the specific situation which causes the contracts to disappear, but there is nothing inherently different about what I\u0027m doing compared to all the other times when it doesn\u0027t break. The only thing that I can say with some certainty is that the last two times (i.e. under 1.0.5) I\u0027ve been switching between craft in the map view, and that at least one of the craft whose physics were loaded at the time of the switch had an LV-N.\n\u003C/p\u003E\n\u003Cp\u003E\nThe obvious \u0022fix\u0022 would be NOT to switch between craft but go back to the space centre each time... but that\u0027s a bit like fixing an occasionally-deadly door by going all the way round the house instead.\n\u003C/p\u003E\n\u003Cp\u003E\nThe LV-N may be pure coincidence, but it is the only thing in all my parts which, in the career save, appears in blue in VAB with \u0022** EXPERIMENTAL **\u0022 in the description. I had a contract to test it, which IIRC I completed after unlocking the tech tree for it, but the contract was prior to the first loss of contracts so (since the first time I didn\u0027t have a savegame to revert to, and continued playing regardless) there is no archive for it in the science building.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-12-17T13:55:05Z","Content":"\n\u003Cp\u003E\nThing is, if I can reproduce it in your save I can try the same in a completely new 1.0.5 save, with and without an experimental part, if the issue is because it\u0027s an experimental parts from a 1.0.4 save then it should be unlikely to occur again.\n\u003C/p\u003E\n\u003Cp\u003E\nIf it\u0027s reproducible in 1.0.5 then there\u0027s a fault in the contracts and it\u0027s likely to recur.\n\u003C/p\u003E\n"},{"CreatedByName":"Arsonide","CreatedById":32604,"CreatedDateTime":"2015-12-17T14:59:12Z","Content":"\n\u003Cp\u003E\nContracts disappearing is usually a symptom of a cascading exception of some sort. Looking at the log here, I\u0027m seeing a great deal of exceptions that might be causing it. I will look over this.\n\u003C/p\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-12-17T15:00:51Z","Content":"\n\u003Cp\u003E\nHmm.\n\u003C/p\u003E\n\u003Cp\u003E\nLooking at what I wrote the last-but-one time, another thing that was common to the last two times was that the map was bugging out and not letting me place manoeuvre nodes. In the last instance, I think I managed to switch vessels by double-clicking on the map.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you could tell me what that line \u0022dT is NaN...\u0022 means (and any of the other errors seen in both logs), I could maybe try and reproduce the error myself.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, I\u0027ve PM\u0027d you a link with more savefiles if you wish.\n\u003C/p\u003E\n"},{"CreatedByName":"Arsonide","CreatedById":32604,"CreatedDateTime":"2015-12-17T15:21:33Z","Content":"\n\u003Cp\u003E\n\u0022dT is NaN\u0022 means that an orbit is attempting to process a number that is not a number, like a complex number, or infinity, or something. You can typically read that as \u0022an orbit is misbehaving\u0022...and reading through your other log here with the OrbitTargeter null references, that does not surprise me. The orbit issues might simply be symptoms of the original problem as well though. The important thing is to find what initially pushed the boulder. Right now we\u0027re just seeing it roll down the mountain smashing into things. \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n"}]}