{"TopicId":167450,"ForumId":34,"TopicTitle":"[1.9.x] Textures Unlimited - PBR-Shader, Texture Set, and Model Loading API","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-11-11T20:18:14Z","PageNum":65,"Articles":[{"CreatedByName":"UZZO007","CreatedById":203176,"CreatedDateTime":"2020-03-29T10:20:40Z","Content":"\n\u003Cp\u003E\nhi, I installed this mod because I was interested in making my game more realistic, but once installed I entered the game and it has remained the same as before, could you tell me why?\n\u003C/p\u003E\n"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2020-03-29T12:49:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223762954\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221585477240\u0022 data-ipsquote-userid=\u0022203176\u0022 data-ipsquote-username=\u0022UZZO007\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, UZZO007 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhi, I installed this mod because I was interested in making my game more realistic, but once installed I entered the game and it has remained the same as before, could you tell me why?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat is because the mod only provides an API for other mods to work with. By itself it changes nothing.\n\u003C/p\u003E\n"},{"CreatedByName":"HvP","CreatedById":146104,"CreatedDateTime":"2020-03-29T17:14:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223762954\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221585477240\u0022 data-ipsquote-userid=\u0022203176\u0022 data-ipsquote-username=\u0022UZZO007\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, UZZO007 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhi, I installed this mod because I was interested in making my game more realistic, but once installed I entered the game and it has remained the same as before, could you tell me why?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027ll need to install a set of configurations that this mod supports.\n\u003C/p\u003E\n\u003Cp\u003E\nI recommend using \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/174188-18x-textures-unlimited-recolour-depot/\u0022 rel=\u0022\u0022\u003ETextures Unlimited Recolour Depot\u003C/a\u003E with its \u003Ca href=\u0022https://drive.google.com/file/d/1GXjyxHEFhdBYEaFlYWpaXEwOP8QcyoJD/view\u0022 rel=\u0022external nofollow\u0022\u003EStock Recolour\u003C/a\u003E configurations that will allow you to customize your part\u0027s colors.\n\u003C/p\u003E\n"},{"CreatedByName":"UZZO007","CreatedById":203176,"CreatedDateTime":"2020-03-30T17:12:31Z","Content":"\n\u003Cp\u003E\nOk thank you very much guys.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SilverlightPony","CreatedById":79637,"CreatedDateTime":"2020-04-06T16:47:16Z","Content":"\n\u003Cp\u003E\nThis mod seems to override the default textures for Procedural Parts; that mod\u0027s normal texture-switching function in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E has no effect, and its icons in the parts list are just black silhouettes.\u00A0 Removing this mod fixed it.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2020-04-06T21:22:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767052\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586191636\u0022 data-ipsquote-userid=\u002279637\u0022 data-ipsquote-username=\u0022SilverlightPony\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, SilverlightPony said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis mod seems to override the default textures for Procedural Parts; that mod\u0027s normal texture-switching function in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E has no effect, and its icons in the parts list are just black silhouettes.\u00A0 Removing this mod fixed it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis mod doesn\u0027t do anything. You have installed a configuration file from somewhere that uses this mod that causes the issue. You\u0027ll want to let that mod author know so they can look into it. Usually if parts turn black it\u0027s because you haven\u0027t enabled reflections in the game settings.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0I\u0027ve been tinkering with some blanket implementation and procedural diffuse-to-albedo algorithms, but I\u0027ve run into some oddities (with stock parts of course). Could you please see if you know what\u0027s going on here to give me a direction?\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nCode:\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Eusing System;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace TexturesUnlimitedEx\n{\n    [KSPAddon(KSPAddon.Startup.Instantly, true)]\n    public class TexturesUnlimitedEx : MonoBehaviour\n    {\n        private Shader _TU_Specular;\n        private Shader _TU_TransparentSpec;\n\n        public void Start()\n        {\n            DontDestroyOnLoad(this);\n            SceneManager.sceneLoaded \u002B= SceneManager_sceneLoaded;\n        }\n\n        private void SceneManager_sceneLoaded(Scene oScene, LoadSceneMode oMode)\n        {\n            if (oScene == null)\n            { return; }\n\n            //this._TU_Specular = Shader.Find(\u0022TU/Specular\u0022);\n            //this._TU_TransparentSpec = Shader.Find(\u0022TU/Transparent/Specular\u0022);\n\n            Shader[] aryShaders = Resources.FindObjectsOfTypeAll\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Shader\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n\n            foreach (Shader oShader in aryShaders)\n            {\n                if (oShader.name == \u0022TU/Specular\u0022)\n                { this._TU_Specular = oShader; }\n                else if (oShader.name == \u0022TU/Transparent/Specular\u0022)\n                { this._TU_TransparentSpec = oShader; }\n            }\n\n            Material[] aryMaterials = Resources.FindObjectsOfTypeAll\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Material\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n\n            foreach (Material oMaterial in aryMaterials)\n            {\n                if (oMaterial.shader == null)\n                { continue; }\n\n                if (oMaterial.shader.name == \u0022KSP/Diffuse\u0022\n                    || oMaterial.shader.name == \u0022KSP/Bumped\u0022\n                    || oMaterial.shader.name == \u0022KSP/Bumped Specular\u0022\n                    || oMaterial.shader.name == \u0022KSP/Specular\u0022\n                    || oMaterial.shader.name == \u0022KSP/Emissive/Diffuse\u0022\n                    || oMaterial.shader.name == \u0022KSP/Emissive/Specular\u0022\n                    || oMaterial.shader.name == \u0022KSP/Emissive/Bumped Specular\u0022)\n                {\n                    oMaterial.shader = this._TU_Specular;\n                    oMaterial.EnableKeyword(\u0022TU_STOCK_SPEC\u0022);\n\n                    if (oMaterial.GetTexture(\u0022_BumpMap\u0022) == null)\n                    { oMaterial.SetTexture(\u0022_BumpMap\u0022, Texture2D.normalTexture); }\n\n                    if (oMaterial.GetTexture(\u0022_SpecMap\u0022) == null)\n                    { oMaterial.SetTexture(\u0022_SpecGlossMap\u0022, Texture2D.blackTexture); }\n                    else\n                    { oMaterial.SetTexture(\u0022_SpecGlossMap\u0022, oMaterial.GetTexture(\u0022_SpecMap\u0022)); }\n\n                    if (oMaterial.shader.name == \u0022KSP/Diffuse\u0022\n                        || oMaterial.shader.name == \u0022KSP/Bumped\u0022\n                        || oMaterial.shader.name == \u0022KSP/Emissive/Diffuse\u0022)\n                    { oMaterial.SetFloat(\u0022_Smoothness\u0022, 0.3f); }\n                }\n            }\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nScreenshot:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022wPIHZTg.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002264.25\u0022 height=\u0022657\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/wPIHZTg.jpg\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-06T21:23:14Z\u0022 title=\u002204/06/2020 09:23  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 6, 2020\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SilverlightPony","CreatedById":79637,"CreatedDateTime":"2020-04-07T02:50:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767164\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586208134\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis mod doesn\u0027t do anything. You have installed a configuration file from somewhere that uses this mod that causes the issue. You\u0027ll want to let that mod author know so they can look into it. Usually if parts turn black it\u0027s because you haven\u0027t enabled reflections in the game settings.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI didn\u0027t have *any* separate configuration file installed, as I hadn\u0027t yet found one I wanted.\u00A0 Simply having Textures Unlimited installed interferes with the normal textures and texture-swapping function of the Procedural Parts mod.\n\u003C/p\u003E\n\u003Cp\u003E\nThe following screenshots were taken from a completely fresh copy of KSP 1.8.1.\u00A0 The first two are with only Procedural Parts installed.\u00A0 The next three are with Proc.Parts and Textures Unlimited.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nVanilla \u002B Procedural Parts only.\u00A0 Note the texture swap function in the part context menu.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ErmFdhQ.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/ErmFdhQ.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022E4ITVN5.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/E4ITVN5.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNow, with Textures Unlimited added:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022y920hiJ.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/y920hiJ.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022pg0pdLW.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/pg0pdLW.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022I8Rzh4H.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/I8Rzh4H.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNote the broken part icons in the left pane, and that the Proc.Parts texture selector no longer works; the new TU system has completely overridden it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2020-04-07T03:43:07Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/79637-silverlightpony/\u0026amp;do=hovercard\u0022 data-mentionid=\u002279637\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/79637-silverlightpony/\u0022 rel=\u0022\u0022\u003E@SilverlightPony\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat appears to be working as intended and is not directly a result of Textures Unlimited. If you want to use the original Procedural Parts textures when Textures Unlimited is installed, you\u0027ll need to contact the maintainer of the fork you are using and ask them to integrate them in to their patch which is overriding the original assets.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Or make a patch which brings them back.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-07T03:43:45Z\u0022 title=\u002204/07/2020 03:43  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 7, 2020\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SilverlightPony","CreatedById":79637,"CreatedDateTime":"2020-04-07T03:47:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767277\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586230987\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/79637-silverlightpony/\u0026amp;do=hovercard\u0022 data-mentionid=\u002279637\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/79637-silverlightpony/\u0022 rel=\u0022\u0022\u003E@SilverlightPony\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat appears to be working as intended and is not directly a result of Textures Unlimited. If you want to use the original Procedural Parts textures when Textures Unlimited is installed, you\u0027ll need to contact the maintainer of the fork you are using and ask them to integrate them in to their patch which is overriding the original assets.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Or make a patch which brings them back.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll just remove TU until I decide I really want it and can find a suitable PP config/texture-set for it.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-04-07T14:36:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767164\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586208134\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0I\u0027ve been tinkering with some blanket implementation and procedural diffuse-to-albedo algorithms, but I\u0027ve run into some oddities (with stock parts of course). Could you please see if you know what\u0027s going on here to give me a direction?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLooks like possibly an issue with normal maps?\u00A0 Try assigning a default normal map to any materials where you replace the shaders...\u00A0 (why the shaders now require a normal map, and previously would use the default assigned in the property... is likely an under-the-hood change somewhere in Unity...)\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2020-04-07T14:53:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767280\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586231269\u0022 data-ipsquote-userid=\u002279637\u0022 data-ipsquote-username=\u0022SilverlightPony\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, SilverlightPony said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ll just remove TU until I decide I really want it and can find a suitable PP config/texture-set for it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI just noticed something in your screenshots. There\u0027s a new button labelled Legacy Textures with the state disabled, you could try enabling them and see what occurs.\n\u003C/p\u003E\n"},{"CreatedByName":"SilverlightPony","CreatedById":79637,"CreatedDateTime":"2020-04-07T14:54:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767452\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586271215\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just noticed something in your screenshots. There\u0027s a new button labelled Legacy Textures with the state disabled, you could try enabling them and see what occurs.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTried that, it makes no difference if TU is installed.\u00A0 Without TU, that switches between current and previous-version Proc.Parts textures.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-07T14:55:26Z\u0022 title=\u002204/07/2020 02:55  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 7, 2020\u003C/time\u003E by SilverlightPony\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2020-04-07T15:45:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767434\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586270209\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLooks like possibly an issue with normal maps?\u00A0 Try assigning a default normal map to any materials where you replace the shaders...\u00A0 (why the shaders now require a normal map, and previously would use the default assigned in the property... is likely an under-the-hood change somewhere in Unity...)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI forced all materials to use Texture2D.normalTexture, which is a completely flat default, here is the result:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/deKfXgb.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://i.imgur.com/deKfXgb.jpg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI also noticed that the reflections are 180 degrees off; is that a bug with stock?\n\u003C/p\u003E\n\u003Cp\u003E\n[Update]\n\u003C/p\u003E\n\u003Cp\u003E\nI think I figured it out. The TU shaders are broken/unbroken\u00A0if\u00A0TU_BC5_NRM is not enabled. The exact criteria eludes me yet for when it should be on and when off; as the format of the normal is not the deciding factor.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you not use the built-in\u00A0UnityCG.cginc unpacking?\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps I found the hiccup?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003Efixed3 normal = \u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#005cc5;font-size:12px;\u0022\u003EUnpackNormalTU\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003E(\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#005cc5;font-size:12px;\u0022\u003Etex2D\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003E(_BumpMap, IN.uv_MainTex));\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003Eshould be\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003Efixed3 normal = \u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#005cc5;font-size:12px;\u0022\u003EUnpackNormalTU\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003E(\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#005cc5;font-size:12px;\u0022\u003Etex2D\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003E(_BumpMap, IN.uv_BumpMap));\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003EIf you want to see the issue yourself, you can also just set the _BumpMap to null or Texture2D.normalTexture so that it will use a\u00A0completely flat one.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#333333;font-size:14.6667px;text-align:left;\u0022\u003ERGBA(107, 153, 250, 255) should become RGBA(255, 153, 153, 107) since Unity 2017.1. Really, the B value is somewhat arbitrary, and can be 0, 255, equal to G, or some other arbitrary data you want to pack into the texture, at the cost of some extra compression artifacts. The reason is, as shown in my last post, Unity multiplied the R and A channels together to get the encoded X, which is how Unity 2017.1 and beyond supports both RG and AG normal encoding.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#333333;font-size:14.6667px;text-align:left;\u0022\u003EI wanted to touch on this value a bit more. The way the BC (aka DXTC) compression formats work, the red and blue channels use a 5 bits each and the green channel uses 6 bits for encoding per block color palettes. This means the green value has slightly better precision than red or blue, which is why the Y is left in the green channel. Unity actually stores \u201CDXTn\u201D as (1.0, y, y, x), but the precision difference between the G and B means they might not be perfectly equal when sampled by the shader. I honestly don\u2019t know why they chose to duplicate the Y in the blue channel, but most likely it\u2019s because they used to store it as a greyscale value so all 3 channels held the Y, and changing the red to 1.0 was the smallest change to the existing code. It\u2019s possible some encoders do slightly better when data is duplicated across the RGB channels, but there\u2019s no technical reason the format would do better packed that way.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAssume this is the post-conversion pass you\u0027ve done, to convert pre 2017.1 normal maps to post 2017.1 the only difference is the red channel is white instead of a copy of the green channel. For the shader change, use the UnpackScaleNormalDXT5nm function\u00A0instead of the UnpackScaleNormal function and do nothing to the textures and it\u0027ll work fine.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ni.e. old format must have 1.0 on A, new format must have 1.0 on R, then everything plays along happily together.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-08T02:01:59Z\u0022 title=\u002204/08/2020 02:01  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 8, 2020\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-04-08T17:49:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767491\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586274314\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/7/2020 at 9:45 AM, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003Efixed3 normal = \u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#005cc5;font-size:12px;\u0022\u003EUnpackNormalTU\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003E(\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#005cc5;font-size:12px;\u0022\u003Etex2D\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#24292e;font-size:12px;\u0022\u003E(_BumpMap, IN.uv_BumpMap));\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t have separate UV scaling for main vs other textures; I use a single scaling across all, to reduce the number of shader properties.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767491\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586274314\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/7/2020 at 9:45 AM, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan you not use the built-in\u00A0UnityCG.cginc unpacking?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNope, because KSP normal map textures are not authored properly or consistently, they fail when using the built-in decoding.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSome things to think on though...\u00A0 I can certainly open up some additional properties for the UV scaling/offsets for normal maps, as I could possibly see some use of that for some effects.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFixing the stock normal map inconsistent encoding though, well, I also added a config-based system so you can do that yourself (it will fix the textures during loading, however it adds 0.25 - 2s per texture to be fixed, depending on texture size).\u00A0 Let me know if interested and I\u0027ll look into some documentation on the feature.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2020-04-08T18:29:01Z","Content":"\n\u003Cp\u003E\nHow did I not know that TU supported emissive lighting?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022HF7B8TX.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002236.11\u0022 height=\u0022369\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/HF7B8TX.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2020-04-08T19:49:00Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E\u00A0If you\u0027re referring to the cabin lights \u0022shining\u0022 on to other parts of the pod,\u00A0it\u0027s artistic use of the emissive texture itself.\n\u003C/p\u003E\n"},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2020-04-09T01:15:26Z","Content":"\n\u003Cp\u003E\nHello.. How can I make transparent parts? like for example procedural wings...? It seems on the last page of recolour depot thread someone has that...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-09T01:27:13Z\u0022 title=\u002204/09/2020 01:27  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 9, 2020\u003C/time\u003E by Agustin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2020-04-09T03:42:14Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/172127-agustin/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022172127\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/172127-agustin/\u0022 rel=\u0022\u0022\u003E@Agustin\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI know you want it but it might be best to just wait and see if they give you a link to the download. Essentially someone took the pWings parts and made new ones with different material properties and textures. Kinda like TU does without all the external work but it\u0027s worth highlighting, they don\u0027t use TU.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you do something similar with TU? Kinda...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022398791C7AED82ECD7EA4AE38FEE29E0062C45D94\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/1012689151631834483/398791C7AED82ECD7EA4AE38FEE29E0062C45D94/\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThat\u0027s just a quick hack but TU\u0027s translucent shaders are something I have been struggling with for a while now.\n\u003C/p\u003E\n"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2020-04-09T11:36:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223768252\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586403734\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s just a quick hack but TU\u0027s translucent shaders are something I have been struggling with for a while now.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe TU/transparent/ shader doesn\u0027t seem to work properly, look back a few pages where I discussed the problem with \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile I\u0027m at it, would it be outrageous if I asked what the situation currently looks like?\u003Cbr\u003E\nOut of curiosity, I don\u0027t want to press or anything. I realize these things take a lot of time, effort and patience.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-09T11:36:23Z\u0022 title=\u002204/09/2020 11:36  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 9, 2020\u003C/time\u003E by Delay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2020-04-09T14:14:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223768340\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586432162\u0022 data-ipsquote-userid=\u0022173586\u0022 data-ipsquote-username=\u0022Delay\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Delay said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe TU/transparent/ shader doesn\u0027t seem to work properly, look back a few pages...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHehe, yeah, I know. When I say \u0022a while\u0022, I\u0027m talking years. It\u0027s why i don\u0027t currently touch launch clamps, parachutes and...various things I can\u0027t really mention right now due them being projects not revealed. Way back in the early days of this thread there should be a discussion about it from memory.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m sure it\u0027s a nut that will get cracked one day. I had\u00A0revisited a problem with regard to this just recently and I\u0027m gathering more information that might be useful in identifying where things go wrong.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2020-04-09T14:47:22Z","Content":"\n\u003Cp\u003E\nThe TU transparent shader is locked into zwrite=true, srcblend=alpha, dstblend=oneminusalpha, and doesn\u0027t have a cutoff option. This can lead to some cases where it doesn\u0027t work.\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2020-04-10T08:41:44Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, an alpha cutoff shader is what I\u0027ve been after for a long time, it\u0027s what you really want for the launch clamps, parachutes and other cases. The translucency shaders have their place too though and I\u0027ve also been trying to use them as intended previously. Here\u0027s a composite of the various issues I\u0027ve encountered previously but with a modified pWings part...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022B694B568A1F2CCE8FD5F2F5AA0487B767BFE57F7\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/1012689315289610111/B694B568A1F2CCE8FD5F2F5AA0487B767BFE57F7/\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nFrom left to right, showing that reflections and spec works fine in the editor. Next slice is to show how the shine is lost in the flight scene. Third slice is to show the disappearance of almost everything at certain camera distances. Last is to show odd behaviour with regard to world scenery.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-04-10T18:43:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223768252\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586403734\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/8/2020 at 9:42 PM, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s just a quick hack but TU\u0027s translucent shaders are something I have been struggling with for a while now.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnderstandable.\u00A0 I know close to nothing about transparency/etc, so whatever I\u0027ve implemented is likely either too simplistic for all cases, or simply wrong.\n\u003C/p\u003E\n\u003Cp\u003E\n(I never use transparency, not even a single time in my years of modding, so I\u0027ve never had a reason to learn about its use in shaders and how they should be setup, hence the current situation)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I really need, is someone who is an expert at Unity transparent shaders that wouldn\u0027t mind giving some input on what needs to be changed in the shaders to make them workable for all situations (and \u003Cem\u003Estill\u003C/em\u003E be usable from within KSP).\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223768432\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586443642\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/9/2020 at 8:47 AM, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe TU transparent shader is locked into zwrite=true, srcblend=alpha, dstblend=oneminusalpha, and doesn\u0027t have a cutoff option. This can lead to some cases where it doesn\u0027t work.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat would be the needed settings to lead to it working in \u003Cem\u003Eall\u003C/em\u003E cases?\u00A0 (\u003Cem\u003Eis\u003C/em\u003E there a single set of values that work universally?)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223768811\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586508104\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, an alpha cutoff shader is what I\u0027ve been after for a long time, it\u0027s what you really want for the launch clamps, parachutes and other cases.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCould possibly make a new alpha-cutoff shader variant, wouldn\u0027t be too hard -- but what other settings/values does it need for the zwrite/ztest/blending/etc?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWilling to work on fixing these issues, but I\u0027m going to need some very specific input on what needs to be done, as honestly, I don\u0027t care to spend hours \u0027learning all about transparent shaders\u0027, when I\u0027ll never end up using them.\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2020-04-11T21:54:33Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAlright, I\u0027m prepared to do some reading and\u00A0spitball what I find but this might be no use as I\u0027m not a programmer or shader guru (need that bgolus person from the Unity forums that seems to appear in all the threads I read).\n\u003C/p\u003E\n\u003Cp\u003E\nI could be completely wrong but I don\u0027t think you can make a one size fits all shader. For an alpha cutoff shader you want:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022com\u0022\u003E// inside SubShader\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ETags\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022Queue\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022AlphaTest\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022RenderType\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022TransparentCutout\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022IgnoreProjector\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022True\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// inside CGPROGRAM in the fragment Shader:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\nclip\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EtextureColor\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ea \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E-\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E alphaCutoffValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n...according to \u003Ca href=\u0022https://docs.unity3d.com/Manual/SL-Blend.html\u0022 rel=\u0022external nofollow\u0022\u003Ethis.\u003C/a\u003E\u00A0Also on that page, maybe, might be worth implementing as alpha to coverage instead so MSAA can tidy things up. I suppose it would be handy to see inside what KSP/Alpha/Cutoff and the bumped variant use as that\u0027s what is applied to stock parts like the launch clamps and parachutes plus quite commonly in mods using blur textures.\n\u003C/p\u003E\n\u003Cp\u003E\nI also found something that hints at ways to improve the translucency shader so that making a part glass like is represented better\u00A0\u003Ca href=\u0022https://docs.unity3d.com/Manual/SL-CullAndDepth.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere.\u003C/a\u003E\u00A0Primarily, the part right at the bottom with regard to using two passes so the back faces should be rendered.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve also been thinking about altering the shadow strength and colour based on the translucency and shade of the part but so far I\u0027ve come up short.\n\u003C/p\u003E\n"},{"CreatedByName":"VoidCosmos","CreatedById":192336,"CreatedDateTime":"2020-04-12T11:56:23Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHow\u00A0do you write a Textures Unlimited config so as to making a part \u0027white\u0027?\n\u003C/p\u003E\n"}]}