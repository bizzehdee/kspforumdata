{"TopicId":118313,"ForumId":34,"TopicTitle":"[1.0.5] StateFunding 0.3.4","CreatedByName":"iamchairs","CreatedById":143189,"CreatedDateTime":"2015-08-12T18:11:46Z","PageNum":4,"Articles":[{"CreatedByName":"iamchairs","CreatedById":143189,"CreatedDateTime":"2015-09-03T01:10:08Z","Content":"@wild\\_bill123 and @FatherLawrence\n\nI\u0027d love to fix these bugs. But I don\u0027t know how to do that without replicating it myself. Could you tell me which mods- if any- you are using. I could probably solve it very quickly if you guys would send me your save folder, or just the persistence and statefunding files.\n\n@FatherLawrence\n\nI have a save with 26 quarters and no problems. I have the attachment system and and kerbal engineer mods. I don\u0027t know how to replicate this bug."},{"CreatedByName":"Wren","CreatedById":99277,"CreatedDateTime":"2015-09-03T10:44:24Z","Content":"This looks amazing, great job in providing an alternative to the contract play style but supporting some sort of career mode. Subbed."},{"CreatedByName":"FatherLawrence","CreatedById":135927,"CreatedDateTime":"2015-09-04T04:27:05Z","Content":"I\u0027ve figured out the event that\u0027s triggering the bug, at least for my game. It\u0027s renaming my vessel to a Base instead of a Ship.\n\n\u003E \n\u003E I reloaded to an earlier save where SF worked to a point before I launched my first Munar Base mission. I launched it again, quicksaving and checking that the mod works frequently. I landed my vessel on the Mun and up to that point, everything was still working fine. But renaming my vessel a Base, not changing the name, broke SF and caused the empty tabs and NullReference Exceptions to start. The same happened if I edited a quicksave or the Persistence file to change its type to Base. I tried to reload the earliest quicksave with the vessel and rename it in the Pre-Launch state, but that broke it too.\n\u003E \n\u003E Sometime in the next couple days, I\u0027ll try other renaming designations and see if any of those cause the same problem.\n\u003E \n\u003E EDIT: No other type changes are causing this. Interestingly, changing to type to Station causes SF to recognize it as such, even though it\u0027s landed on the Mun and not orbiting.\n\u003E \n\u003E With another vehicle that I\u0027ve had active for half a year, landed on Kerbin, changing the type to Base doesn\u0027t cause the same problem. I\u0027ll try some tests to see if it\u0027s specific to just that vessel.\n\u003E \n\u003E EDIT: Other vessels made before and after that one were capable of being renamed a Base in a variety of situations.\n\nEureka! I\u0027ve been able to reproduce this in a completely stock\u002BState Funding install. The Mark I Command Pod, the first Solar Panel, and the Communotron 16 antenna. Renaming that a Base breaks State Funding.\n\n**Edited \u003Ctime datetime=\u00222015-09-06T16:27:54Z\u0022 title=\u002209/06/2015 04:27  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 6, 2015\u003C/time\u003E by FatherLawrence**"},{"CreatedByName":"BinaryBad","CreatedById":117229,"CreatedDateTime":"2015-09-11T12:01:14Z","Content":"\u003E Eureka! I\u0027ve been able to reproduce this in a completely stock\u002BState Funding install. The Mark I Command Pod, the first Solar Panel, and the Communotron 16 antenna. Renaming that a Base breaks State Funding.\n\nState Funding broke for me too, after I renamed a ship like you did, so I uninstalled it, deleted the cfg file from my game save and reinstalled. However now the mod cannot create a cfg save file for some reason, so the mod acts as if I\u0027ve just installed it each time the game loads, so this mod feels permanently broken for me. Real shame, as I think it\u0027s a terrific concept. Hopefully next update will work so I can run it again."},{"CreatedByName":"FatherLawrence","CreatedById":135927,"CreatedDateTime":"2015-09-15T08:43:12Z","Content":"\u003E \n\u003E State Funding broke for me too, after I renamed a ship like you did, so I uninstalled it, deleted the cfg file from my game save and reinstalled. However now the mod cannot create a cfg save file for some reason, so the mod acts as if I\u0027ve just installed it each time the game loads\n\nIf you\u0027ve got a save from before you renamed that ship, you can reload that and reinstall the mod and it should work, if you don\u0027t lose too much progress. After that, just abstain from renaming ships as bases and you should be fine. I\u0027ve played significantly father after reloading a previous save and everything else in the mod works."},{"CreatedByName":"mkire","CreatedById":5836,"CreatedDateTime":"2015-09-22T22:01:04Z","Content":"How does state funding handle planet packs? I\u0027m contemplating trying out New Horizons, but i want to keep using state funding."},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2015-09-24T00:56:45Z","Content":"\u003E \n\u003E How does state funding handle planet packs? I\u0027m contemplating trying out New Horizons, but i want to keep using state funding.\n\naside from the [general, non planet-pack-based] bugs above noted, it handled new horizons fine for me."},{"CreatedByName":"Jey123456","CreatedById":116201,"CreatedDateTime":"2015-09-25T14:29:53Z","Content":"\u003E \n\u003E I have nothing that attempts to replace contracts in the early game. I\u0027m beginning to think against doing my own contracts because there are so many great contract mods out there. If anything I could tie into those.\n\u003E That\u0027s a limitation of what I know about the KSP API. How can you tell if a flight gets reverted? I\u0027ve been playing with no-reverts for so long I forgot you could.\n\u003E \n\u003E Could you PM me your save or just the vessel from your persistence file?\n\u003E \n\u003E The VesselHelper is a helper class for the mod.\n\u003E \n\u003E [https://github.com/iamchairs/StateFunding/blob/master/Helpers/VesselHelper.cs](https://github.com/iamchairs/StateFunding/blob/master/Helpers/VesselHelper.cs)\n\nAn easy way to know and revert simulations and other save load related issues, would simply be to log the ksp time at which the event occurred. And on load (or on scene change if load isnt available), remove all events that are in the future."},{"CreatedByName":"JorusAton","CreatedById":111385,"CreatedDateTime":"2015-09-25T16:35:48Z","Content":"Great mod! I\u0027ve been really enjoying this. Found just a few issues so far: \n\nIt looks like your Mac is putting **\\_MACOSX** folders into the zip file. One is in the **ZIP**, the next is in the **GameData** folder. \n\nThere are **.DS\\_Store** files in **StateFunding**, as well as the **data** folder and the **GameData** folder. \n\nIf I had to guess, both of these are hidden files that you don\u0027t see on your end, I don\u0027t own a MAC though, so not sure. I deleted them on my install with no issue ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nThe last few items I noticed were just typos and spelling issues (I\u0027ll highlight and follow with parentheses the errors)\n\nIn **governments.settings**, under **the USK\u0027s \u0022description =\u0022**: \n\nFor the people, by the people. At least that\u0027s what they say. With the USK the **peoples** ***(people\u0027s)*** opinions have a greater impact on your funding. Their hearts pour out for Kerbals, not robots and machines. Because of this, the more Kerbals on missions the more interested the people of USK will be in funding **the your** ***(choose one! I\u0027d go with \u0027the\u0027)*** space program. But there\u0027s an equal- well not really equal- reaction to every action. While having Kerbals on missions is crucial to funding, Kerbal death will be devastating in performance reviews. Every life is special and there isn\u0027t much room for **failure** ***(no punctuation ending this sentence. I\u0027d add an exclamation!)***\n\nIn **governments.settings**, under **the USSK\u0027s \u0022description =\u0022**:\n\nThe needs of the many outweigh the needs of the few. The USSK are more interested in results and it\u0027s not as important how you get those results. While the citizens care greatly about their comrades in space, the **governemnt** ***(misspelled, should be \u0027government\u0027)*** **** isn\u0027t all too revealing about their operations and furthermore don\u0027t care too much about the ***peoples (people\u0027s)*** opinions anyway. Kerbal achievement and death will not reach the morning newspaper of many individuals in this country and as a result the impact of such achievements and failures will be muted. A greater reliance on **unmaned** ***(misspelled, should be unmanned)*** vehicles and **surveilance** ***(misspelled, should be \u0027surveillance\u0027)*** will be your best bet for continued funding.\n\nThe ability to customize governments is really cool btw, thank you for making this as mod-able as you did! Looking forward to continued support with this mod, keep up the great work ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) :)"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-09-25T16:46:33Z","Content":"\u003E \n\u003E An easy way to know and revert simulations and other save load related issues, would simply be to log the ksp time at which the event occurred. And on load (or on scene change if load isnt available), remove all events that are in the future.\n\nThe absolute easiest and most foolproof way is to keep everything inside the persistence file. Anything that might be affected by reverting the flight needs to be kept in the persistence and it\u0027s generally way more trouble than it\u0027s worth to try to roll your own external persistence sync, since it\u0027s really easy to save things in the persistence file (and it\u0027s actually rather hard to break the save).\n\nBest way is to add [a new Scenario](https://github.com/magico13/KCT/blob/master/Kerbal_Construction_Time/KerbalConstructionTime.cs#L40) (there is actually a much easier way to do it than how I do. Just ask in the plugin development forum). An alternative way is to add hooks onto the GameEvents.OnPersistenceLoad and GameEvents.OnPersistenceSave (Note: I don\u0027t recall off hand the exact names of those events, but that should get you close), and then manually adding a new ConfigNode with your settings saved in it on Save and manually getting that ConfigNode (node.GetNode(\u0022MyNode\u0022)) and then getting the settings out of it on Load. Super easy and now you never need to worry about anything ever being out of sync.\n\nIf you have questions, I\u0027m absolutely always available for discussion through PMs or in any of my mod threads. KCT is supposed to be used with other mods, so I try my best to support as many as I can, when asked.\n\n(Most of this was aimed toward iamchairs, I was just piggybacking off of your comment Jey123456)"},{"CreatedByName":"baldamundo","CreatedById":138417,"CreatedDateTime":"2015-09-25T19:39:57Z","Content":"I noticed there\u0027s a \u0022government contracts completed\u0022 field in the status screen of this - are those implemented yet? I\u0027ve not gotten any - if they are implemented, it\u0027s probably because of the contract mods I\u0027m running. Is there a simple way of manually adding another mods contracts to qualify as \u0027government contracts\u0027?"},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2015-10-01T11:43:33Z","Content":"This is going straight on my watchlist! Looks verry promissing."},{"CreatedByName":"etmoonshade","CreatedById":1852,"CreatedDateTime":"2015-10-22T02:17:15Z","Content":"This is totally added to my mod list. Very neat mod from what I\u0027ve seen so far.\n\nSuggestions for the future:\n\nFor reputation, how about flags? Either per-biome, or per-object? I\u0027ve only done one or two satellite contracts and don\u0027t have the infrastructure for a Kerblab I yet, but I\u0027ve landed on the Mun and Minmus multiple times with flags. Seems that\u0027d be a huge public opinion boost there.\n\nFor minor early-game public opinion, how about safe spacecraft returns, possibly modified by how close you land to KSC?\n\nI\u0027m not sure what could be done for infrastructure. Perhaps (optional) integration with ScanSAT instead of (or inaddition to) coverage? Everything else seems pretty solid."},{"CreatedByName":"Albert VDS","CreatedById":74055,"CreatedDateTime":"2015-11-06T00:38:22Z","Content":"This mod is great! Even though your space program depends on public opinion, your a whole lot freer to do what ever you want. Great job. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"crash087","CreatedById":151606,"CreatedDateTime":"2015-12-15T22:13:51Z","Content":"any plans to update this for 1.0.5?"},{"CreatedByName":"columini","CreatedById":143825,"CreatedDateTime":"2015-12-22T15:43:59Z","Content":"So I wanted to try this mod and in my first quarter I got 100% satellite coverage on Kerbin, Mun and Minmus with the USSK and I just got 12300 funds for that.\n\nThis is ridiculously low. Is it normal ? Right now it doesn\u0027t allow me to play the game without those stupid contracts that I don\u0027t want to do.\n\n**Edited \u003Ctime datetime=\u00222015-12-22T15:44:16Z\u0022 title=\u002212/22/2015 03:44  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 22, 2015\u003C/time\u003E by columini**"},{"CreatedByName":"FatherLawrence","CreatedById":135927,"CreatedDateTime":"2015-12-28T08:07:01Z","Content":"\u003E \n\u003E \n\u003E On 12/22/2015 at 7:43 AM, columini said:\n\u003E \n\u003E \n\u003E So I wanted to try this mod and in my first quarter I got 100% satellite coverage on Kerbin, Mun and Minmus with the USSK and I just got 12300 funds for that.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This is ridiculously low. Is it normal ? Right now it doesn\u0027t allow me to play the game without those stupid contracts that I don\u0027t want to do.\n\u003E \n\nI have the same satellite coverage you do, but I also have a couple (very small) space stations in orbit and a teeny mining rig on Minmus, and I\u0027m raking in 118,000 funds a quarter for that. I\u0027m also using StageRecovery to recoup some launch costs and ScienceFunding to earn a bit more cash, which both complement this mod very well, but if you really want to get off contracts completely, I recommend doing things like creating stations and attaching lots of fuel tanks or docking ports or whatever parameters you can fill to boost Government Confidence. Satellite networks alone doesn\u0027t cut it. And if you think about it, a couple dozen half-ton satellites doesn\u0027t seem as impressive as even one moderately large space station that puts your civilians into the vast reaches of space."},{"CreatedByName":"gietek","CreatedById":156061,"CreatedDateTime":"2015-12-28T19:41:44Z","Content":"I\u0027m afraid I too have this problem with bases. The only mods I\u0027m using are MechJeb and ScienceAlert. As soon as I sent my first base to Minimus StateFunding broke. Is there any way to \u0022unbreak\u0022 this without reloading the old save (which I haven\u0027t got)? It really is a very good mod giving some purpose to the game and enhancing the experience. I wish I had seen this before."},{"CreatedByName":"MaxPeck","CreatedById":145248,"CreatedDateTime":"2015-12-28T19:47:54Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, gietek said:\n\u003E \n\u003E \n\u003E I\u0027m afraid I too have this problem with bases. The only mods I\u0027m using are MechJeb and ScienceAlert. As soon as I sent my first base to Minimus StateFunding broke. Is there any way to \u0022unbreak\u0022 this without reloading the old save (which I haven\u0027t got)? It really is a very good mod giving some purpose to the game and enhancing the experience. I wish I had seen this before.\n\u003E \n\nMe too.  As soon as I call something a base, State Funding just gives up.  It still works, but the status window is blank.  If I go into the Tracking Station and make the \u0022base\u0022 into anything else, State Funding starts behaving again.\n\nI\u0027ve also noticed that it\u0027s a little unforgiving of reverts... if you screw the pooch and have to revert to launch and try again, it counts the kernels killed and ships as destroyed anyway.  I\u0027ve had to edit the state funding conf file a few times now to undo things that \u0022never happened\u0022.  It also sometimes counts dropped stages as destroyed ships, not sure why."},{"CreatedByName":"FatherLawrence","CreatedById":135927,"CreatedDateTime":"2015-12-28T23:11:46Z","Content":"\u003E \n\u003E \n\u003E Just now, gietek said:\n\u003E \n\u003E \n\u003E I\u0027m afraid I too have this problem with bases. The only mods I\u0027m using are MechJeb and ScienceAlert. As soon as I sent my first base to Minimus StateFunding broke. Is there any way to \u0022unbreak\u0022 this without reloading the old save (which I haven\u0027t got)? It really is a very good mod giving some purpose to the game and enhancing the experience. I wish I had seen this before.\n\u003E \n\nFrom my testing (multiple reinstalls and persistence file edits back when I made my earlier posts), I couldn\u0027t fix a save where StateFunding broke and had to use a previous save. The only way I\u0027ve found to deal with it is to not rename vessels as bases. Although I do have one vessel that was automatically named a base because of some mod parts it had (not sure, possibly PlanetaryBaseSystems) and that didn\u0027t cause problems, so it seems the act of renaming a vessel a base when it was something else is the problem.\n\n\u003E \n\u003E \n\u003E Just now, JJE64 said:\n\u003E \n\u003E \n\u003E I\u0027ve also noticed that it\u0027s a little unforgiving of reverts... if you screw the pooch and have to revert to launch and try again, it counts the kernels killed and ships as destroyed anyway.  I\u0027ve had to edit the state funding conf file a few times now to undo things that \u0022never happened\u0022.  It also sometimes counts dropped stages as destroyed ships, not sure why.\n\u003E \n\nSame thing with using \u0027simulations\u0027 in KerbalConstructionTime; vessel destruction or death still counts against you even though it didn\u0027t *really* happen. I justify it in my head by saying that if it was published that all of NASA\u0027s simulations ended in astronaut deaths, the public would still lose confidence in the program even though no one actually died."},{"CreatedByName":"gietek","CreatedById":156061,"CreatedDateTime":"2016-01-01T17:44:02Z","Content":"I was able to \u0022repair\u0022 State Funding by renaming the vessel to Lander (or anything else). I tried landing only a capsule with a small tank, engine and landing gear on Kerbin, and as soon as I renamed it to Base, it broke the mod again. I renamed it back to Lander and everything was back to \u0022normal\u0022. What\u0027s so special about Bases? I really hope the author still follows this thread and will respond some time soon."},{"CreatedByName":"loki130","CreatedById":64492,"CreatedDateTime":"2016-02-11T03:38:47Z","Content":"Will anything terrible happen if I add this to an existing save?"},{"CreatedByName":"iamchairs","CreatedById":143189,"CreatedDateTime":"2016-02-11T05:24:02Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, loki130 said:\n\u003E \n\u003E \n\u003E Will anything terrible happen if I add this to an existing save?\n\u003E \n\nShould be fine. If you have any concerns backup your save file."},{"CreatedByName":"Maikie_G","CreatedById":13120,"CreatedDateTime":"2016-02-29T10:58:03Z","Content":"I don\u0027t know if this has been mentioned before, but the mod seems to be penalizing me for kerbal \u0027accidents\u0027 after reverting from a failed launch. It has done this across multiple installs. Is anyone else having this issue?"},{"CreatedByName":"etmoonshade","CreatedById":1852,"CreatedDateTime":"2016-03-06T03:14:55Z","Content":"**[@iamchairs](https://forum.kerbalspaceprogram.com/index.php?/profile/143189-iamchairs/):** Help! I don\u0027t have anywhere to download this new version because Kerbalstuff went down. D:\n\n(also, looking forward to playing with this again ^\\_^)"}]}