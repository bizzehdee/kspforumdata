{"TopicId":61584,"ForumId":34,"TopicTitle":"Timewarp Rotation Fix","CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2014-01-30T12:01:59Z","PageNum":2,"Articles":[{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2014-01-31T17:20:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EI am installing this now, but I would like two clarification:\u003Cp\u003E\u003Cstrong\u003EAll vessels rotate during warp, not just the currently active one\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDoes this mean ships that are unloaded from the physics engine will rotate as well?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eit will draw ElectricCharge to maintain orientation\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWill it also gain ElectricCharge from solar panels and other sources?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoboRay\u0022 data-cite=\u0022RoboRay\u0022\u003E\u003Cdiv\u003EShips already gain ElectricCharge from solar panels during warp in stock KSP, I believe.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was thinking more, if my first question\u0027s answer was \u0022yes\u0022...\u003C/p\u003E\n"},{"CreatedByName":"RoboRay","CreatedById":46556,"CreatedDateTime":"2014-01-31T18:36:47Z","Content":"\n\u003Cp\u003EOk, but why would that stock feature be disabled?\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2014-01-31T20:14:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoboRay\u0022 data-cite=\u0022RoboRay\u0022\u003E\u003Cdiv\u003EOk, but why would that stock feature be disabled?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe stock feature that speeding up game time kills rotation? That\u0027s not a feature. It\u0027s a very-exploited bug.\u003C/p\u003E\u003Cp\u003EYou may as well ask, \u0022Why is the stock feature of no resource mining being disabled by Kethane?\u0022\u003C/p\u003E\n"},{"CreatedByName":"RoboRay","CreatedById":46556,"CreatedDateTime":"2014-01-31T20:47:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EThe stock feature that speeding up game time kills rotation? That\u0027s not a feature. It\u0027s a very-exploited bug.\u003Cp\u003EYou may as well ask, \u0022Why is the stock feature of no resource mining being disabled by Kethane?\u0022\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI guess I need to quote your own questions back to you so you don\u0027t get lost. Ok, here is the last few posts again...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EI am installing this now, but I would like two clarification:\u003Cp\u003E\u003Cstrong\u003EAll vessels rotate during warp, not just the currently active one\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDoes this mean ships that are unloaded from the physics engine will rotate as well?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eit will draw ElectricCharge to maintain orientation\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWill it also gain ElectricCharge from solar panels and other sources?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoboRay\u0022 data-cite=\u0022RoboRay\u0022\u003E\u003Cdiv\u003EShips already gain ElectricCharge from solar panels during warp in stock KSP, I believe.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EI was thinking more, if my first question\u0027s answer was \u0022yes\u0022...\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoboRay\u0022 data-cite=\u0022RoboRay\u0022\u003E\u003Cdiv\u003EOk, but why would that stock feature be disabled?\u003C/div\u003E\u003C/blockquote\u003E \u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EThe stock feature that speeding up game time kills rotation?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo. The stock feature that you \u003Cem\u003Ejust \u003C/em\u003Easked about... solar panels working in timewarp.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-31T20:49:18Z\u0022 title=\u002201/31/2014 08:49  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 31, 2014\u003C/time\u003E by RoboRay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2014-01-31T21:12:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoboRay\u0022 data-cite=\u0022RoboRay\u0022\u003E\u003Cdiv\u003EI guess I need to quote your own questions back to you so you don\u0027t get lost. Ok, here is the last few posts again...\u003Cp\u003ENo. The stock feature that you \u003Cem\u003Ejust \u003C/em\u003Easked about... solar panels working in timewarp.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOnly the active vessel draws power from SAS.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-02-01T01:49:07Z","Content":"\n\u003Cp\u003EI think I\u0027ve encountered a bug with this mod. It appears to be multiplying the magnitude of rotation after coming out of timewarp.\u003C/p\u003E\u003Cp\u003EIn the video you can see I start out in 1X time with a small rotation, go to 50X, and back out to 1X. Each time I do this the rotation is greater. I turn on SAS and the rotation is slowly nulled, but if I turn it off, then timewarp again, I see a repeat of the same behavior of each round of timewarp increasing the rotational velocity.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/WDJL5cd5POA?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2014-02-01T02:04:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EI think I\u0027ve encountered a bug with this mod. It appears to be multiplying the magnitude of rotation after coming out of timewarp.\u003Cp\u003EIn the video you can see I start out in 1X time with a small rotation, go to 50X, and back out to 1X. Each time I do this the rotation is greater. I turn on SAS and the rotation is slowly nulled, but if I turn it off, then timewarp again, I see a repeat of the same behavior of each round of timewarp increasing the rotational velocity.\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/WDJL5cd5POA?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOut of curiosity, does this happen with the solar panels retracted too? Getting the vessel spinning again is sort of black magic and it might be confused as to where the center of mass of the solar panel is.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-02-01T02:26:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022skykooler\u0022 data-cite=\u0022skykooler\u0022\u003E\u003Cdiv\u003EOut of curiosity, does this happen with the solar panels retracted too? Getting the vessel spinning again is sort of black magic and it might be confused as to where the center of mass of the solar panel is.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm. Let me try that out and get back to you. When I tested the mod earlier today the vessel didn\u0027t have solar panels, so you may be onto something.\u003C/p\u003E\u003Cp\u003EOn edit: Drat, that wasn\u0027t it. I just tried it out again, and got the same effect as you saw in the previous video, with and without solar panels extended.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-01T04:19:35Z\u0022 title=\u002202/01/2014 04:19  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 1, 2014\u003C/time\u003E by lincourtl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Absolute Human","CreatedById":73157,"CreatedDateTime":"2014-02-01T11:58:40Z","Content":"\n\u003Cp\u003EI think the mod has some problems with remembering the axises of rotation, especially if there were more than one. I could have recorded a video, but is seems pretty obvious to me. Is it confirmed? Or, it can be something in my install? I can see it clearly when I rotate a simple 3 part craft in various directions, warp it a little and when I unwarp it, it gets a rather hard kick in one direction of rotation and loses others. Looks like it gain some momentum too. Maybe, it is more visible with ships that rotate faster.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-02-01T14:34:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Absolute Human\u0022 data-cite=\u0022Absolute Human\u0022\u003E\u003Cdiv\u003EI think the mod has some problems with remembering the axises of rotation, especially if there were more than one. I could have recorded a video, but is seems pretty obvious to me. Is it confirmed? Or, it can be something in my install? I can see it clearly when I rotate a simple 3 part craft in various directions, warp it a little and when I unwarp it, it gets a rather hard kick in one direction of rotation and loses others. Looks like it gain some momentum too. Maybe, it is more visible with ships that rotate faster.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, that\u0027s what I\u0027m seeing too. See the video I posted above (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/67821-Timewarp-Rotation-Fix?p=941290\u0026amp;viewfull=1#post941290\u0022 rel=\u0022external nofollow\u0022\u003E#31\u003C/a\u003E). skykooler thought it might be a problem with center of mass because I had solar panels extended, but further testing on my part revealed the same behavior whether they were extended or not.\u003C/p\u003E\n"},{"CreatedByName":"jpinard","CreatedById":89401,"CreatedDateTime":"2014-02-01T15:10:20Z","Content":"\n\u003Cp\u003EHow much of a performance hit does this have? Is low system spec performance the reason the developers didn\u0027t have this in the game?\u003C/p\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2014-02-01T16:39:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jpinard\u0022 data-cite=\u0022jpinard\u0022\u003E\u003Cdiv\u003EHow much of a performance hit does this have? Is low system spec performance the reason the developers didn\u0027t have this in the game?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo noticable performance hit on my laptop, which is fairly low-specced (even have Intel graphics).\u003C/p\u003E\n"},{"CreatedByName":"Cydonian Monk","CreatedById":69224,"CreatedDateTime":"2014-02-01T18:08:56Z","Content":"\n\u003Cp\u003EI noticed you\u0027re storing vessel rotations in the cfg file using pid. This is fine, except we can have two vessels with the same pid in two different saves. (If we make a copy of the save.) This obviously causes problems when the vessel is landed safely in one save, but in orbit and rotating madly in the other save. I just tested this with a lander on the Mun. Steps to reproduce: Make a copy of the save. In the first copy launch a craft, get into orbit (or at least above the \u0022cannot X while about to crash\u0022 altitude), disable SAS and set the craft tumbling. Timewarp, return the Space Center, exit. Load the second save. Load the craft. Phantom force!\u003C/p\u003E\u003Cp\u003EThis is also an issue with Quick Save / Quick Load.\u003C/p\u003E\u003Cp\u003EWould you consider keeping the records separate by save file? Perhaps by appending a name to the cfg file as AlarmClock does, or even appending the save file name to the pid you\u0027re using as a key? Perhaps keeping the timestamp in there to account for QuickSave/QuickLoad?\u003C/p\u003E\u003Cp\u003E(Note: I\u0027ve also encountered the phantom acceleration when leaving timewarp bug lincourtl reports above, though I don\u0027t have solid numbers on how fast it ended up going.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-01T19:08:21Z\u0022 title=\u002202/01/2014 07:08  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 1, 2014\u003C/time\u003E by Cydonian Monk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jpinard","CreatedById":89401,"CreatedDateTime":"2014-02-01T18:45:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022skykooler\u0022 data-cite=\u0022skykooler\u0022\u003E\u003Cdiv\u003ENo noticable performance hit on my laptop, which is fairly low-specced (even have Intel graphics).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnlike a couple unappreciative people in this thread, I want to thank you for making this. It adds a level of immersion the game was missing for me. Hopefully you can get those last couple of quibbles worked out.\u003C/p\u003E\u003Cp\u003ECheers!\u003C/p\u003E\n"},{"CreatedByName":"mossman","CreatedById":1259,"CreatedDateTime":"2014-02-01T21:46:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jpinard\u0022 data-cite=\u0022jpinard\u0022\u003E\u003Cdiv\u003EUnlike a couple unappreciative people in this thread, I want to thank you for making this. It adds a level of immersion the game was missing for me. Hopefully you can get those last couple of quibbles worked out.\u003Cp\u003ECheers!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree; frankly it\u0027s a wonder that SQUAD hasn\u0027t addressed this yet.\u003C/p\u003E\u003Cp\u003EIt\u0027s a needed feature.\u003C/p\u003E\n"},{"CreatedByName":"BahamutoD","CreatedById":72433,"CreatedDateTime":"2014-02-01T22:30:00Z","Content":"\n\u003Cp\u003EI\u0027ve tested this and can confirm that sometimes the rotation changes after timewarping. Sometimes it comes out of timewarp rotating faster than it did before, and sometimes it rotates less.\u003C/p\u003E\u003Cp\u003EAlso, this is not necessarily a problem with the mod but freely rotating parts using Infernal Robotics docking washers do not maintain their rotation during timewarp with this mod.\u003C/p\u003E\u003Cp\u003EOther than those issues, this alpha is looking promising! Good work.\u003C/p\u003E\n"},{"CreatedByName":"Sandworm","CreatedById":66244,"CreatedDateTime":"2014-02-01T22:46:37Z","Content":"\n\u003Cp\u003ETried it. Love it. This mod adds a level of realism that Squad is moving away from. Specifically, it introduces the need for electric charge and/or RCS to maintain orientation. I played it for an hour or so last night and it\u0027s now a must have right beside deadly reentry.\u003C/p\u003E\u003Cp\u003EThe rotation problem is only a problem where there is rotation to amplify. So long as sas is enabled and the craft is stable before warp, I\u0027m not having issues. It also doesn\u0027t recognize RemoteTech2\u0027s flight computer as sas, but this is really not much of a problem. You just have to remember not to warp with the flight computer in command.\u003C/p\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2014-02-04T00:28:37Z","Content":"\n\u003Cp\u003EDoes anyone have any ideas as to how to fix the rotation changing? The issue, as far as I can tell, is that as you can\u0027t set an angular velocity on the ship as a whole, I am applying a torque to each part when the ship comes out of timewarp to get it moving again. I think I have the right values for torque, because it works fine when a ship contains only stack mounted parts and is being rotated around its yaw axis. The problem is that any parts whose centers of mass are not in line with that of the vessel also need to have a force applied to them, whose value depends on both the direction and distance from the vessel\u0027s center. And I\u0027ve been sort of guessing with the math here, because I\u0027m not really sure what everything is (for example, do animated parts have multiple rigidbodies? I have no idea.) So if anyone has any suggestions to fix my math/physics, that would be most welcome.\u003C/p\u003E\n"},{"CreatedByName":"curiousepic","CreatedById":60039,"CreatedDateTime":"2014-02-04T04:01:32Z","Content":"\n\u003Cp\u003EWoo! I\u0027m glad someone is handling this... it was the one reason I didn\u0027t have the motivation to build a spin hab \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-02-04T04:29:26Z","Content":"\n\u003Cp\u003EI\u0027m totally ignorant as to how KSP/Unity models physics, so I apologize if this sounds idiotic, but is there no way to simply record the force vectors on each part when you put the ship on rails, then restore them when physics is resumed? \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022skykooler\u0022 data-cite=\u0022skykooler\u0022\u003E\u003Cdiv\u003EDoes anyone have any ideas as to how to fix the rotation changing? The issue, as far as I can tell, is that as you can\u0027t set an angular velocity on the ship as a whole, I am applying a torque to each part when the ship comes out of timewarp to get it moving again. I think I have the right values for torque, because it works fine when a ship contains only stack mounted parts and is being rotated around its yaw axis. The problem is that any parts whose centers of mass are not in line with that of the vessel also need to have a force applied to them, whose value depends on both the direction and distance from the vessel\u0027s center. And I\u0027ve been sort of guessing with the math here, because I\u0027m not really sure what everything is (for example, do animated parts have multiple rigidbodies? I have no idea.) So if anyone has any suggestions to fix my math/physics, that would be most welcome.\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2014-02-04T05:38:55Z","Content":"\n\u003Cp\u003ESo I just tried this out... And man does it make some things more challenging. For example, I\u0027m using this in conjunction with deadly re-entry and in career mode before you have the means to regenerate your batteries, and before you have RCS to perform attitude adjustments, this makes conserving your electricity so you can re-orient for re-entry absolutely paramount. Plus it\u0027s slowly but surely helping me break my habit of tapping time warp to kill rotation. I can\u0027t wait to see how far this mod goes!\u003C/p\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2014-02-04T08:23:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EI\u0027m totally ignorant as to how KSP/Unity models physics, so I apologize if this sounds idiotic, but is there no way to simply record the force vectors on each part when you put the ship on rails, then restore them when physics is resumed?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe thing is, parts don\u0027t have forces making them rotate; they are just rotating due to momentum. So rather than having forces, all I have is velocities. And the methods I am using are \u003Cem\u003Esupposed\u003C/em\u003E to assign directly to velocities, but may very well not as I don\u0027t really know what they are doing or how Unity\u0027s physics model works.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-02-04T15:10:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022skykooler\u0022 data-cite=\u0022skykooler\u0022\u003E\u003Cdiv\u003EThe thing is, parts don\u0027t have forces making them rotate; they are just rotating due to momentum. So rather than having forces, all I have is velocities. And the methods I am using are \u003Cem\u003Esupposed\u003C/em\u003E to assign directly to velocities, but may very well not as I don\u0027t really know what they are doing or how Unity\u0027s physics model works.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh! I see now. That is problematic.\u003C/p\u003E\n"},{"CreatedByName":"metl","CreatedById":82406,"CreatedDateTime":"2014-02-04T16:09:19Z","Content":"\n\u003Cp\u003EPlease don\u0027t take this the wrong way, but if killing rotation in stock is a bug, I hope they never fix it. It really isn\u0027t an issue.\u003C/p\u003E\n"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2014-02-04T16:11:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022skykooler\u0022 data-cite=\u0022skykooler\u0022\u003E\u003Cdiv\u003EDoes anyone have any ideas as to how to fix the rotation changing? The issue, as far as I can tell, is that as you can\u0027t set an angular velocity on the ship as a whole, I am applying a torque to each part when the ship comes out of timewarp to get it moving again. I think I have the right values for torque, because it works fine when a ship contains only stack mounted parts and is being rotated around its yaw axis. The problem is that any parts whose centers of mass are not in line with that of the vessel also need to have a force applied to them, whose value depends on both the direction and distance from the vessel\u0027s center. And I\u0027ve been sort of guessing with the math here, because I\u0027m not really sure what everything is (for example, do animated parts have multiple rigidbodies? I have no idea.) So if anyone has any suggestions to fix my math/physics, that would be most welcome.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you go about it that way, you need to use Unity\u0027s Moment of Inertia Tensor for each part. However, counterintuitively, this does not actually return a tensor but a vector containing three values. I think those are the principal moments of inertia, and if you map*those to the diagonal of a zero matrix then you will get the moment of Inertia tensor coordinatized in a principal axis basis. If you can determine what the ship\u0027s angular velocity (use the velocity you stored for the vessel at the start of time warp) is coordinatized in this principal axis basis (I am not 100% sure but I think Unity\u0027s rigidbody.transform.angularVelocity will return this). In essense, multiply this principal moment of inertia matrix and rigidbody.transform.angularVelocity will tell you what the angular momentum is.\u003C/p\u003E\u003Cp\u003EEDIT: Actually, since you want the torque that applies this angular momentum in a single physics step, you probably want to divide the angular momentum by the fixed delta-t of the game.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-04T16:41:31Z\u0022 title=\u002202/04/2014 04:41  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 4, 2014\u003C/time\u003E by tntristan12\u003C/strong\u003E\n\u003C/span\u003E\n"}]}