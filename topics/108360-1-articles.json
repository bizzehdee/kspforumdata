{"TopicId":108360,"ForumId":29,"TopicTitle":"Floating origin system","CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-05-09T05:59:02Z","PageNum":1,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-05-09T05:59:02Z","Content":"As part of a terrain following module for Pilot Assistant, I have been using the altitude of the terrain in front of the craft to predict the climb rate required to navigate that terrain. This is done via raycasting at an angle decided by the current altitude and speed. For the most part, this all works and has proven reasonably successful. However, every time the floating origin shifts, the raycast behaves as if it strikes a vertical boundary either just before or just after, which the control system interprets as an incoming obstacle and makes a rather abrupt effort to avoid.\n\n1) The GameEvent \u0022onFloatingOriginShift\u0022 isn\u0027t firing at all under conditions I would expect it to be (200m/s @ 500m over a period of 10 minutes), so while I can tell it happened (from the breaks in engine noise mostly), I can\u0027t tell exactly when it happens in code at this stage. I was planning on using this to just ignore the raycast for a few physics frames (if it occurred after rather than before the shift...)\n\n2) If the error in the raycast appears before the floating origin shift (or in the case I\u0027m in now where the event doesn\u0027t appear to work), how can I tell that I\u0027m approaching the point where the shift occurs?"}]}