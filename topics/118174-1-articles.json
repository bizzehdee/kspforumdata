{"TopicId":118174,"ForumId":15,"TopicTitle":"Animating multiple landing legs?","CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-11T01:45:08Z","PageNum":1,"Articles":[{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-11T01:45:08Z","Content":"Quick question for anyone who can help. \n\nHave a part all setup with 4 landing legs, they all use the same animation, and they all animate and work just fine in unity when previewed, \n\nWondering if im doing something wrong with the setup in unity , or the config setup. When the part is imported into KSP and i use the standard. \u0022ModuleLandingLeg\u0022 only one leg will work properly (so im assuming its a unity setup issue.) \n\nHere is the config part \n\n    MODULE{    name = ModuleLandingLeg    animationName = Deploy    wheelColliderName = WheelCollider    suspensionTransformName = Piston    suspensionUpperLimit = 2    orientFootToGround = true    landingFootName = FootTransform    impactTolerance = 20000    suspensionSpring = 100    suspensionDamper = 55}\n\nAnd here is how its setup in Unity: \n\n![6Qf0WSm.png](http://i.imgur.com/6Qf0WSm.png)\n\nDoes all the gear need to be under one object? \n\nAny insight would be appreciated! (and if more info is needed just let me know what to provide. Thanks!"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-11T13:53:41Z","Content":"Best thing is bundle your model, scene and any other relevant bits into a .unitypackage and send over. I\u0027ll take a look, see what I can tell you."},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-08-11T14:00:18Z","Content":"As far as I know, you can only have one landing leg in the the same part. I think that\u0027s a KSP limitation. Could be wrong though."},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-11T14:33:18Z","Content":"The limitation with the stock module is one ModuleLandingGear{} in the part. Animating multiple legs driven from a single instance should be entirely possible, which is what I think rabidninjawombat is trying to do(?) But I could be wrong. That does limit you to one wheel collider in the part, of course."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-08-11T14:41:05Z","Content":"I have gotten the multi-leg in a single part to function by adding multiple ModuleLandingleg modules, one for each wheel collider/suspension transform pair. They need to be all driven by the same animation, but have independent suspension and collider transforms. It is a slight bit buggy, insomuch as there are multiple \u0027retract\u0027 / \u0027extend\u0027 buttons on the part that all need to be activated by the user.\n\nAlternatively, if you are up for some custom plugin work, I have a cleaned up multi-leg handling Landing leg module that you are welcome to adapt/use/derive your own code from: [https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs](https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs) (example of config may be found at: [https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216](https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216))."},{"CreatedByName":"frizzank","CreatedById":57210,"CreatedDateTime":"2015-08-11T14:54:46Z","Content":"I know you want to put everything on one part but don\u0027t do it. It causes nothing but problems. The game is built to have independent parts."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-08-11T15:34:57Z","Content":"\u003E \n\u003E I know you want to put everything on one part but don\u0027t do it. It causes nothing but problems. The game is built to have independent parts.\n\nAnd lags terribly when you use said parts as often as they need to be used (at least in anything beyond basic designs). Why have 4 parts just for landing legs when 1 will do? That gives room for more engines, fuel tanks, whatever, before the part-count-lag kicks in. I would -love- nothing more than to not worry about part-count induced lag. Unfortunately it is an absolutely massive problem, and some of us are trying to find ways to mitigate it as much as possible so that we can still enjoy playing the game (rather than swear and curse at a slideshow)."},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-08-11T15:40:02Z","Content":"Roverdude has created some parts with integrated landing legs. MKS/OKS has them, as does the mod with the rover and it\u0027s delivery system (exploration something or other).\n\nExamining working examples tends to help me figure out what I\u0027m messing up."},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-08-11T20:35:57Z","Content":"Well at least you know how to make legs in the first place, I\u0027d be useless at it! All I can make are engines and tanks, and then again, they\u0027re only good when it comes to fuction... ^^\u0027"},{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-11T22:43:34Z","Content":"\u003E \n\u003E I have gotten the multi-leg in a single part to function by adding multiple ModuleLandingleg modules, one for each wheel collider/suspension transform pair. They need to be all driven by the same animation, but have independent suspension and collider transforms. It is a slight bit buggy, insomuch as there are multiple \u0027retract\u0027 / \u0027extend\u0027 buttons on the part that all need to be activated by the user.\n\u003E Alternatively, if you are up for some custom plugin work, I have a cleaned up multi-leg handling Landing leg module that you are welcome to adapt/use/derive your own code from: [https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs](https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs) (example of config may be found at: [https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216](https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216)).\n\nThanks for all the advice everyone! \n\nShadowmage, i tried the multiple ModuleLandingLegs, (each with their unique named transforms, using same animation) I get the 4 deploy buttons, but it still seems to only operate one leg (will double check my work ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)) \n\n@Lo-fi yea, that what im trying to do.  Animating multiple legs driven from a single instance. Id imagine if i redid the animation and model in blender (with the legs) id have no issues. \n\nWas attempted to save time, as I already have the (individual) legs working as a part already. Basically imported the model onto my main part in Unity, (which is why they are separate objects like that in unity)."},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-08-12T14:30:08Z","Content":"Something to consider is that the Unity 5 update is right around the corner, and the whole wheel collider and suspension system is being replaced. It may be more buggy, or less buggy, to try these things in the very near future. Personally, I\u0027d hold off on the experimentation for a few weeks. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-13T02:31:11Z","Content":"\u003E \n\u003E Something to consider is that the Unity 5 update is right around the corner, and the whole wheel collider and suspension system is being replaced. It may be more buggy, or less buggy, to try these things in the very near future. Personally, I\u0027d hold off on the experimentation for a few weeks. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nyea thats honestly what i was thinking ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) Thanks Necrobones. \n\nCalled the part complete, and will let the user add the legs ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"}]}