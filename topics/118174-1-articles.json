{"TopicId":118174,"ForumId":15,"TopicTitle":"Animating multiple landing legs?","CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-11T01:45:08Z","PageNum":1,"Articles":[{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-11T01:45:08Z","Content":"\n\u003Cp\u003EQuick question for anyone who can help. \u003C/p\u003E\u003Cp\u003EHave a part all setup with 4 landing legs, they all use the same animation, and they all animate and work just fine in unity when previewed, \u003C/p\u003E\u003Cp\u003EWondering if im doing something wrong with the setup in unity , or the config setup. When the part is imported into KSP and i use the standard. \u0022ModuleLandingLeg\u0022 only one leg will work properly (so im assuming its a unity setup issue.) \u003C/p\u003E\u003Cp\u003EHere is the config part \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleLandingLeg\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    animationName = Deploy\u003Cbr\u003E    wheelColliderName = WheelCollider\u003Cbr\u003E    suspensionTransformName = Piston\u003Cbr\u003E    suspensionUpperLimit = 2\u003Cbr\u003E    orientFootToGround = true\u003Cbr\u003E    landingFootName = FootTransform\u003Cbr\u003E    impactTolerance = 20000\u003Cbr\u003E    suspensionSpring = 100\u003Cbr\u003E    suspensionDamper = 55\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd here is how its setup in Unity: \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/6Qf0WSm.png\u0022 alt=\u00226Qf0WSm.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EDoes all the gear need to be under one object? \u003C/p\u003E\u003Cp\u003EAny insight would be appreciated! (and if more info is needed just let me know what to provide. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-11T13:53:41Z","Content":"\n\u003Cp\u003EBest thing is bundle your model, scene and any other relevant bits into a .unitypackage and send over. I\u0027ll take a look, see what I can tell you.\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-08-11T14:00:18Z","Content":"\n\u003Cp\u003EAs far as I know, you can only have one landing leg in the the same part. I think that\u0027s a KSP limitation. Could be wrong though.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-11T14:33:18Z","Content":"\n\u003Cp\u003EThe limitation with the stock module is one ModuleLandingGear{} in the part. Animating multiple legs driven from a single instance should be entirely possible, which is what I think rabidninjawombat is trying to do(?) But I could be wrong. That does limit you to one wheel collider in the part, of course.\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-08-11T14:41:05Z","Content":"\n\u003Cp\u003EI have gotten the multi-leg in a single part to function by adding multiple ModuleLandingleg modules, one for each wheel collider/suspension transform pair. They need to be all driven by the same animation, but have independent suspension and collider transforms. It is a slight bit buggy, insomuch as there are multiple \u0027retract\u0027 / \u0027extend\u0027 buttons on the part that all need to be activated by the user.\u003C/p\u003E\u003Cp\u003EAlternatively, if you are up for some custom plugin work, I have a cleaned up multi-leg handling Landing leg module that you are welcome to adapt/use/derive your own code from: \u003Ca href=\u0022https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs\u003C/a\u003E (example of config may be found at: \u003Ca href=\u0022https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216\u003C/a\u003E).\u003C/p\u003E\n"},{"CreatedByName":"frizzank","CreatedById":57210,"CreatedDateTime":"2015-08-11T14:54:46Z","Content":"\n\u003Cp\u003EI know you want to put everything on one part but don\u0027t do it. It causes nothing but problems. The game is built to have independent parts.\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-08-11T15:34:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022frizzank\u0022 data-cite=\u0022frizzank\u0022\u003E\u003Cdiv\u003EI know you want to put everything on one part but don\u0027t do it. It causes nothing but problems. The game is built to have independent parts.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd lags terribly when you use said parts as often as they need to be used (at least in anything beyond basic designs). Why have 4 parts just for landing legs when 1 will do? That gives room for more engines, fuel tanks, whatever, before the part-count-lag kicks in. I would -love- nothing more than to not worry about part-count induced lag. Unfortunately it is an absolutely massive problem, and some of us are trying to find ways to mitigate it as much as possible so that we can still enjoy playing the game (rather than swear and curse at a slideshow).\u003C/p\u003E\n"},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-08-11T15:40:02Z","Content":"\n\u003Cp\u003ERoverdude has created some parts with integrated landing legs. MKS/OKS has them, as does the mod with the rover and it\u0027s delivery system (exploration something or other).\u003C/p\u003E\u003Cp\u003EExamining working examples tends to help me figure out what I\u0027m messing up.\u003C/p\u003E\n"},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-08-11T20:35:57Z","Content":"\n\u003Cp\u003EWell at least you know how to make legs in the first place, I\u0027d be useless at it! All I can make are engines and tanks, and then again, they\u0027re only good when it comes to fuction... ^^\u0027\u003C/p\u003E\n"},{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-11T22:43:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Shadowmage\u0022 data-cite=\u0022Shadowmage\u0022\u003E\u003Cdiv\u003EI have gotten the multi-leg in a single part to function by adding multiple ModuleLandingleg modules, one for each wheel collider/suspension transform pair. They need to be all driven by the same animation, but have independent suspension and collider transforms. It is a slight bit buggy, insomuch as there are multiple \u0027retract\u0027 / \u0027extend\u0027 buttons on the part that all need to be activated by the user.\u003Cp\u003EAlternatively, if you are up for some custom plugin work, I have a cleaned up multi-leg handling Landing leg module that you are welcome to adapt/use/derive your own code from: \u003Ca href=\u0022https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTULandingLeg.cs\u003C/a\u003E (example of config may be found at: \u003Ca href=\u0022https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/series_c/SC-C-109a-LM.cfg#L216\u003C/a\u003E).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for all the advice everyone! \u003C/p\u003E\u003Cp\u003EShadowmage, i tried the multiple ModuleLandingLegs, (each with their unique named transforms, using same animation) I get the 4 deploy buttons, but it still seems to only operate one leg (will double check my work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E) \u003C/p\u003E\u003Cp\u003E@Lo-fi yea, that what im trying to do. \u003Cspan style=\u0022color:#333333;\u0022\u003E Animating multiple legs driven from a single instance. Id imagine if i redid the animation and model in blender (with the legs) id have no issues. \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EWas attempted to save time, as I already have the (individual) legs working as a part already. Basically imported the model onto my main part in Unity, (which is why they are separate objects like that in unity). \u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-08-12T14:30:08Z","Content":"\n\u003Cp\u003ESomething to consider is that the Unity 5 update is right around the corner, and the whole wheel collider and suspension system is being replaced. It may be more buggy, or less buggy, to try these things in the very near future. Personally, I\u0027d hold off on the experimentation for a few weeks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-08-13T02:31:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NecroBones\u0022 data-cite=\u0022NecroBones\u0022\u003E\u003Cdiv\u003ESomething to consider is that the Unity 5 update is right around the corner, and the whole wheel collider and suspension system is being replaced. It may be more buggy, or less buggy, to try these things in the very near future. Personally, I\u0027d hold off on the experimentation for a few weeks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyea thats honestly what i was thinking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Thanks Necrobones. \u003C/p\u003E\u003Cp\u003ECalled the part complete, and will let the user add the legs \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"}]}