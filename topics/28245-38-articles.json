{"TopicId":28245,"ForumId":34,"TopicTitle":"[0.23.5] Spherical and Toroidal Tank Pack (Updated 05/02/14) (New download link)","CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2013-05-23T00:22:39Z","PageNum":38,"Articles":[{"CreatedByName":"Tallinu","CreatedById":57810,"CreatedDateTime":"2014-04-16T05:06:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Talisar\u0022 data-cite=\u0022Talisar\u0022\u003E\u003Cdiv\u003EThis is very cool. As I\u0027m sure you found already, there is no collider associated with the struts to cause issues with the method you\u0027re using here. Making it so the struts themselves would \u0022decouple\u0022 would require a model rework, but I think I have some ideas on how it could work. Something to look into when I go for V4.\u003Cp\u003EYeah, that weird fuel flow has been an issue from the beginning. I honestly have no idea what the cause is, but I\u0027m pretty sure it has to do with the strange way I built the attachments between the toroids and the hubs. What confuses me is that I expected them to drain in the same order as regular stack tanks (top to bottom, etc), and for the life of me can\u0027t figure out why they drain evenly all the time.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe attachment pipes aren\u0027t really an issue, and honestly, it looks better with them coming away with the tanks (even if they do phase through the rocket in the process), unless there was a way to truncate them just outside the rim of the hub. And that wouldn\u0027t be easy, with the variable hub sizes and all.\u003C/p\u003E\u003Cp\u003EThe fuel flow is probably because the toroidal tanks are effectively leaf nodes off of the main stack, as if you\u0027d put in the 6-way adapters and stuck rotated fuel tanks on the side attachment nodes. I\u0027m not sure why it drains them all simultaneously instead of top to bottom, though. Maybe it counts from the \u0027ends\u0027 and works back toward the engine (as in, the most distant part is zero and closer parts are 1, 2, 3, etc, but all the leaf parts are also dead ends and therefore \u0027zero\u0027, and it drains whatever parts have the lowest number(s) first...?)\u003C/p\u003E\u003Cp\u003EThe only way I can think of to solve that problem is to have an intermediate part with crossflow disabled (I tried setting the toroidal tanks themselves to have no crossflow, but that apparently only affects parts *beyond* the one flagged as such). Disabling it on the hubs would most likely prevent fuel flow from the rest of the stack, not just the toroidal tank. Maybe the struts could be that part, but I can\u0027t think of a good way to attach the tank to the struts without making it flop around the way surface attachment would or ending up with an off-center CoM...\u003C/p\u003E\u003Cp\u003EThe best thing I could think of would be some way to make the center attachment node of the hub disallow crossfeed, without affecting the flow between top and bottom nodes. It might take a plugin to make that possible, or it might not be possible at all, and it would certainly confuse things like MechJeb if they didn\u0027t understand it.\u003C/p\u003E\u003Cp\u003EAnother topic: I think you may have mentioned plans regarding this before, but the dry masses on the toroidal tanks seem very high for the amounts of fuel they store. It would be awesome if those were reduced closer to stock tank ratios, even if they were still a few percent heavier in comparison.\u003C/p\u003E\u003Cp\u003EAlso, have you considered making toroidal tanks with thicker tank sections? I keep looking at them and wishing I could get one with a just over 2.5m inner radius but a larger outer radius so it could hold more fuel, instead of the only option being to increase both and not gain nearly as much fuel space.\u003C/p\u003E\u003Cp\u003EThere seems to be a noticeable gap in the choices of spherical tank sizes, big enough that a couple more sizes could easily fit with room to rattle around between them. The only spherical tank with a 3.75m end cap is absolutely mammoth in comparison to the next lower size, and I keep looking at the 2.5/3.75m tank and wishing for a 2.5/5m and 3.75/5m, and one somewhere between that and the largest as well.\u003C/p\u003E\u003Cp\u003EAnd on the topic of spherical tanks, the hemispheres seem to have a bit of extra cylinder tacked on - putting two of them together, for example to get different size end caps on each end, doesn\u0027t make a perfect sphere. It\u0027s like the middle band from the full spheres was kept in its entirety, and only the part of the sphere sticking out below it was cut away. Even if the stats didn\u0027t change at all, it would be nice if we could (perhaps optionally, for those already using and/or liking the current models) have hemisphere models that could be mated without the result looking misshapen.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-16T05:18:05Z\u0022 title=\u002204/16/2014 05:18  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 16, 2014\u003C/time\u003E by Tallinu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2014-04-16T09:47:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tallinu\u0022 data-cite=\u0022Tallinu\u0022\u003E\u003Cdiv\u003EAnother topic: I think you may have mentioned plans regarding this before, but the dry masses on the toroidal tanks seem very high for the amounts of fuel they store. It would be awesome if those were reduced closer to stock tank ratios, even if they were still a few percent heavier in comparison.\u003Cp\u003EAlso, have you considered making toroidal tanks with thicker tank sections? I keep looking at them and wishing I could get one with a just over 2.5m inner radius but a larger outer radius so it could hold more fuel, instead of the only option being to increase both and not gain nearly as much fuel space.\u003C/p\u003E\u003Cp\u003EThere seems to be a noticeable gap in the choices of spherical tank sizes, big enough that a couple more sizes could easily fit with room to rattle around between them. The only spherical tank with a 3.75m end cap is absolutely mammoth in comparison to the next lower size, and I keep looking at the 2.5/3.75m tank and wishing for a 2.5/5m and 3.75/5m, and one somewhere between that and the largest as well.\u003C/p\u003E\u003Cp\u003EAnd on the topic of spherical tanks, the hemispheres seem to have a bit of extra cylinder tacked on - putting two of them together, for example to get different size end caps on each end, doesn\u0027t make a perfect sphere. It\u0027s like the middle band from the full spheres was kept in its entirety, and only the part of the sphere sticking out below it was cut away. Even if the stats didn\u0027t change at all, it would be nice if we could (perhaps optionally, for those already using and/or liking the current models) have hemisphere models that could be mated without the result looking misshapen.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E- On the toroidal weights, we did a lot of work to move them to \u0022realistic\u0022 values, but some believe we did it to the detriment of gameplay. If you go into the config and remove the basemass=-1 lines, then MFT will figure the tank masses and they will be much lighter.\u003C/p\u003E\u003Cp\u003E- Another toroid size is definitely possible. Another thing to keep in mind for V4\u003C/p\u003E\u003Cp\u003E- The spherical tank diameters double for each size (2.5m - 3.75m - 7.5m) which is the reason for that progression that seems to leave such a large gap. That said, it wouldn\u0027t be hard to wedge a 5m diameter tank in there.\u003C/p\u003E\u003Cp\u003E- The band on the hemispherical tanks I left purposely. The main reason was so that there would be a convenient flat place for attaching other parts such as RCS or landing legs. otherwise they would have angled off in weird ways. I could probably have reduced the band size by half so they would mate together and be exactly the same as a single tank though. (V4? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E)\u003C/p\u003E\n"},{"CreatedByName":"Tallinu","CreatedById":57810,"CreatedDateTime":"2014-04-16T11:00:56Z","Content":"\n\u003Cp\u003EThanks for the tip regarding the config setting, I\u0027m still figuring out some of the specifics of how MFT works. Realism is great, generally speaking. But unfortunately, despite being based on real orbital mechanics and such (to the extent possible in a simple simulation like this), a lot of KSP is notably unrealistic for gameplay reasons. Engine masses are often very high and ISPs low, planets unusually dense or the opposite, and with the stock drag model the atmosphere is like pea soup... I prefer to edge in realism\u0027s direction without getting too far from stock values, myself. So for now I\u0027ll try making that settings change, and see what the resulting masses are.\u003C/p\u003E\u003Cp\u003EI wasn\u0027t suggesting that the band be removed, of course - I understand the need for having it there, believe me! Being able to use one (or more) of those hemispheres as the base for a lander is nice, especially when using radial engines. Keeps a lot of the weight low toward the surface for a more stable lander. Cutting it in half would be perfect.\u003C/p\u003E\u003Cp\u003EAnd while I understand what you meant about the tank sizes, I must point out that 3.75m is not double 2.5 or 1.25... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Increments of 1.25m would seem a more appropriate description, which would indeed mean that two sizes are missing (5m and 6.25m) between 3.75m and 7.5m... So, I hope you will consider adding both of those for V4 so that we can have a greater flexibility in choosing the right size tank for our building needs. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E The same goes for the toroid sizes - the current sizes seem pretty good for lower-capacity versions, at least below the biggest one (that might qualify as medium-capacity tank of its diameter). Having one or two more capacities available would be really great.\u003C/p\u003E\u003Cp\u003E(Have you ever thought about procedurally defined tanks, like some of the Goodspeed parts or the StretchySRB stuff? Being able to define inner and outer diameter for toroidals and pick different end cap sizes for your choice of sphere sizes would be awesome too.)\u003C/p\u003E\u003Cp\u003EAnyway, now I have even more reason to look forward to V4. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-04-16T12:22:00Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003ETallinu\u003C/strong\u003E: those masses \u003Cem\u003Eare\u003C/em\u003E based on stock (jumbo-64) tank masses. I even went to efforts to \u003Cem\u003Eincrease\u003C/em\u003E their mass ratios (high mass ratio = good). Long story short: toroids are one of the worst possible shapes for tank mass/volume efficiency (the sphere is the best, but has its own problems). What I don\u0027t get is why they\u0027re so much worse than a cylinder of the same volume.\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2014-04-16T13:42:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tallinu\u0022 data-cite=\u0022Tallinu\u0022\u003E\u003Cdiv\u003EAnd while I understand what you meant about the tank sizes, I must point out that 3.75m is not double 2.5 or 1.25... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Increments of 1.25m would seem a more appropriate description, which would indeed mean that two sizes are missing (5m and 6.25m) between 3.75m and 7.5m... So, I hope you will consider adding both of those for V4 so that we can have a greater flexibility in choosing the right size tank for our building needs. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E The same goes for the toroid sizes - the current sizes seem pretty good for lower-capacity versions, at least below the biggest one (that might qualify as medium-capacity tank of its diameter). Having one or two more capacities available would be really great.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe 1.25x upscale is what caused the weirdness for me there. When I initially modeled them the tank end diameters were 1.25m/2.5m, and I basically made the centerline diameters one step up from the ends. Then there was a request for a bigger tank as well as more variety in endcap sizes, and for some reason I doubled the centerline diameter instead of stepping it up. The spherical tanks were actually my first attempt at modding, so you are seeing the end result of a very poorly planned out learning process \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. The only reason they ended up usable was due to a LOT of help from people like taniwha and Greys (among others).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tallinu\u0022 data-cite=\u0022Tallinu\u0022\u003E\u003Cdiv\u003E(Have you ever thought about procedurally defined tanks, like some of the Goodspeed parts or the StretchySRB stuff? Being able to define inner and outer diameter for toroidals and pick different end cap sizes for your choice of sphere sizes would be awesome too.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had thought about the next iteration of the pack being procedural, but that\u0027s outside my current skillset (and now it looks as if swamp_ig is doing a great job of getting procedural versions out \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/70676-WIP-Procedural-Parts-The-next-phase-of-Stretchy-SRBs\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E). I feel that I have made significant progress toward improving both my modeling and texturing skills, so I think my next swipe at this pack will be aimed at making very good looking models and textures, as well as more firmly planned out workflow to make the tanks offered in sizes that make more sense.\u003C/p\u003E\u003Cp\u003EI haven\u0027t made too much progress on this lately, but here are some reposts of what I\u0027m thinking of for the future of the pack:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/VNvbSuq.jpg\u0022 alt=\u0022VNvbSuq.jpg\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/oCTQXnz.jpg\u0022 alt=\u0022oCTQXnz.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt seems that concerning procedural tanks (and this is totally my own opinion, so take it for what it\u0027s worth), they are \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Egreat\u003C/span\u003E for flexibility such as when you need just a little more or less space in a tank, but specifically modeled sizes can compete if they look really good. I\u0027ve actually found that I personally tend to rarely use the procedural tanks if I am able to accomplish the same thing with standard tanks, but I have definitely been using them more and more.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-16T13:50:21Z\u0022 title=\u002204/16/2014 01:50  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 16, 2014\u003C/time\u003E by Talisar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AntiMatter001","CreatedById":100129,"CreatedDateTime":"2014-04-16T17:36:34Z","Content":"\n\u003Cp\u003Eawww man... i hate MFT... but i REALLY want to use this mod... gah darnit\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-04-16T18:04:23Z","Content":"\n\u003Cp\u003E@Talisar: for a first try, it\u0027s very good, the texture of the two last versions of your tanks are great, and in fact, I like the v1.6 (06/2013) release better than the next (v3.11 01/2014). I didn\u0027t really seen what I\u0027ve done by chance by installing both on my test install.\u003C/p\u003E\u003Cp\u003EThe new model looks good, I hope you\u0027ll keep the \u0022basic gray style\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003E(Procedural things could be great but looking at issues users found on current release, I even don\u0027t want to try it.)\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2014-04-16T18:05:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AntiMatter001\u0022 data-cite=\u0022AntiMatter001\u0022\u003E\u003Cdiv\u003Eawww man... i hate MFT... but i REALLY want to use this mod... gah darnit\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI personally love MFT, but if you don\u0027t have it installed the tanks in this mod will default to containing only Liquidfuel/Oxidizer. You just won\u0027t be able to switch out the contents unless you change the config manually.\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2014-04-16T18:12:23Z","Content":"\n\u003Cp\u003E@Justin Kerbice: I really liked those textures on the v1.6 pack too (they were done by Wyseman76). I ultimately plan on trying to have several choices of texture for the tanks using the same texture switch module from FireSpitter that I currently use for the colored banding.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2014-04-16T18:14:33Z","Content":"\n\u003Cp\u003EI also really like the old texturing better - did you lose the right to release those?\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2014-04-16T21:08:42Z","Content":"\n\u003Cp\u003EWyseman76 never requested that I not use them. The only reason I didn\u0027t continue using them was that when I made the new models the UV\u0027s changed quite a bit so I had to make new ones. I didn\u0027t want to just chop up his good work to make it fit my new texture maps, which I likely would have botched, and I hesitated to ask him to go through all the work to make new ones (the discussion when I initially switched to those textures from my first attempts got...a bit heated). I will definitely be paying closer attention to getting better quality textures made up before any release this time, whether I make them myself or somebody with more artistic skill helps me out with them.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-04-16T21:42:26Z","Content":"\n\u003Cp\u003ETalisar: if you still have the old models, you can use blender\u0027s texture baking to \u0022convert\u0022 the textures. Don\u0027t know how clean the results will be, though.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2014-04-16T22:03:32Z","Content":"\n\u003Cp\u003EIf I put together a CC-licensed multi-author part pack, can I include some of the old models?\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2014-04-16T22:21:12Z","Content":"\n\u003Cp\u003Etaniwha: I haven\u0027t used blender, but I\u0027ll look into it. I have all the old versions archived.\u003C/p\u003E\u003Cp\u003Eialdabaoth: By all means, you\u0027re welcome to use any of the stuff I\u0027ve made if you like. As mentioned above, I have the old versions still, so let me know if you need it.\u003C/p\u003E\u003Cp\u003EAlso, knowing my limitations at texturing, I included the UV templates along with each download. I happily invite anyone who has the inclination to make up textures for the tanks, and I\u0027d be more than willing to provide links to their downloads along with the tank packs.\u003C/p\u003E\n"},{"CreatedByName":"oniontrain","CreatedById":2465,"CreatedDateTime":"2014-04-17T00:04:21Z","Content":"\n\u003Cp\u003EGood to know you\u0027re still working on them, I really like the new models.\u003C/p\u003E\n"},{"CreatedByName":"Tallinu","CreatedById":57810,"CreatedDateTime":"2014-04-18T16:22:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003ETallinu\u003C/strong\u003E: those masses \u003Cem\u003Eare\u003C/em\u003E based on stock (jumbo-64) tank masses. I even went to efforts to \u003Cem\u003Eincrease\u003C/em\u003E their mass ratios (high mass ratio = good). Long story short: toroids are one of the worst possible shapes for tank mass/volume efficiency (the sphere is the best, but has its own problems). What I don\u0027t get is why they\u0027re so much worse than a cylinder of the same volume.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EReally? Maybe I\u0027m missing something major. You probably know more about the subject than I do - I remember reading your discussions of it on these forums, but I\u0027d have to go back and find them again for the details.\u003C/p\u003E\u003Cp\u003EI suspected that the mass of a tank should be related mostly to its surface area (aside from issues like pressurization and other components), with the dry mass of the tank approximated by the surface area times the thickness of the tank\u0027s outer shell times the mass per cubic centimeter of the material used.\u003C/p\u003E\u003Cp\u003EI looked up information on the volume and surface area of cylinders and tori, and right from the start, everything I read seemed to imply the torus was better. The formulas implied it, and explanations of proofs of the formulas seemed to support it as well. As a test, I used the same value for a cylinder\u0027s diameter and the minor diameter of a torus, and the correct cylinder height to make the volumes equal was then easy enough - just replace H with Pi*D. For tori and cylinders matched up by diameter in that way, the volumes were equal and the surface areas of the tori were always lower. So I decided to try values based on the J-64.\u003C/p\u003E\u003Cp\u003EI don\u0027t know the exact height of the J-64 tank, but comparing it with three perpendicular tanks, it seems to be about 7.5 meters, for a volume of about 36.82 cubic meters. Making a 2.5m minor diameter torus with the same volume as a single J-64 would put the major diameter below 2.5m, which would turn it into a spindle torus (to which these formulas don\u0027t apply), so I\u0027ve used two stacked J-64s instead for a volume of 73.63 m^3. The surface area of one is about 68.72, and doubling that gets 137.44 (I\u0027m not simply increasing the height of a single cylinder because you can\u0027t actually do that while playing KSP, at least with stock tanks).\u003C/p\u003E\u003Cp\u003EA height of 15m translates to a major diameter of 4.7746 (via division by Pi), so substituting 15 for Pi*D, the surface area of the torus would be A = Pi*D*Pi*d = 15*Pi*2.5 = Pi*37.5 = about 117.81 square meters. 117.81/137.44 = about 0.857 so the dry mass of the particular toroidal tank I\u0027ve described should be about 14 to 15 percent lower than the dry mass of the pair of J-64s it was based on, while containing an equal volume of fuel. \u003C/p\u003E\u003Cp\u003EI imagine it\u0027s possible to find some horribly high surface area to volume ratios for either a torus or a cylinder - for example, a very thin, wide pancake of a cylinder would be really bad, and a narrow diameter like a pencil would also be bad - both for a torus and a cylinder. By comparison with a sphere, which I believe has the lowest surface area to volume ratio possible in three dimensions, a larger minor diameter is always going to improve the area to volume ratio of a torus, while for a cylinder it will improve it as long as the diameter isn\u0027t so high that the squares in the end-cap terms don\u0027t grow too large... the height must keep pace with the diameter to avoid that. It\u0027s probably possible to write some kind of optimizing function, but that\u0027s a bit of a tangent.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Torus\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/Torus\u003C/a\u003E and \u003Ca href=\u0022http://www.engineeringtoolbox.com/surface-volume-solids-d_322.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.engineeringtoolbox.com/surface-volume-solids-d_322.html\u003C/a\u003E were very helpful, as was Google with search strings like \u0022right cylinder calc: find A\u0022 and \u0022torus calc: find R, r=n/a, V=n/a\u0022.\u003C/p\u003E\u003Cp\u003EAgain, if I\u0027m missing something important, please let me know. I spent quite a while working out errors in my math and I\u0027m fairly certain everything agrees with everything else now, and I hope reading this doesn\u0027t seem like a waste of time in the end, but it seems to confirm the idea that tori are (or at least can be) better than cylinders, from a surface area to volume standpoint.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Talisar\u0022 data-cite=\u0022Talisar\u0022\u003E\u003Cdiv\u003EThe 1.25x upscale is what caused the weirdness for me there. When I initially modeled them the tank end diameters were 1.25m/2.5m, and I basically made the centerline diameters one step up from the ends. Then there was a request for a bigger tank as well as more variety in endcap sizes, and for some reason I doubled the centerline diameter instead of stepping it up. The spherical tanks were actually my first attempt at modding, so you are seeing the end result of a very poorly planned out learning process \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. The only reason they ended up usable was due to a LOT of help from people like taniwha and Greys (among others).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI see. You\u0027ve done well despite the learning process, I think! If these weren\u0027t so useful and decent-looking even with the existing textures and models, I wouldn\u0027t be here bugging you for more, after all... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Talisar\u0022 data-cite=\u0022Talisar\u0022\u003E\u003Cdiv\u003EI had thought about the next iteration of the pack being procedural, but that\u0027s outside my current skillset (and now it looks as if swamp_ig is doing a great job of getting procedural versions out \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/70676-WIP-Procedural-Parts-The-next-phase-of-Stretchy-SRBs\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E). I feel that I have made significant progress toward improving both my modeling and texturing skills, so I think my next swipe at this pack will be aimed at making very good looking models and textures, as well as more firmly planned out workflow to make the tanks offered in sizes that make more sense.\u003Cp\u003EI haven\u0027t made too much progress on this lately, but here are some reposts of what I\u0027m thinking of for the future of the pack:\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHe wrote that he\u0027s not doing anything toroidal, though! But I can totally understand not wanting to jump into coding something like that, especially given the aforementioned newness to modding.\u003C/p\u003E\u003Cp\u003EThose new models look great, but I hope you\u0027ll provide endcap models with cover panels as well as the ones with just struts, for when aerodynamics (or at least the appearance thereof) is an issue. I\u0027ve used your hemispheres as size adapters (particularly 3.75 to 2.5m) because they look a lot more interesting than the boring cones most parts packs offer. The smaller end-capped hemispheres also make great caps for 2.5m and 3.75m tanks mounted radially (or in similar fashions), like this: \u003Ca href=\u0022http://imgur.com/a/1wRdE#41\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/1wRdE#41\u003C/a\u003E Especially when you want to stick docking ports on the ends. (In the left foreground, those are 2.5m KW Rocketry tanks with the 2.5m base \u0026amp; .625m cap hemispheres on top and bottom, Jr. ports on both. Same thing on the opposite side of the ship.)\u003C/p\u003E\u003Cp\u003ERegarding the config options, I\u0027ve tried removing all of the basemass = -1 lines I could find in the toroidal tank configs, but the game still wants to assign a dry mass of 56.2106 tons to the XL toroidal tank as soon as it has fuel tanks defined. The others have similar results. Pulling a fresh XL out of the parts window, it has 3910.3 LF and 4779.3 Oxidizer, and a wet mass of over 99 tons. Removing the LF tank reduces dry mass to 33.7264 tons, and removing both results in 6.2456, which doesn\u0027t even match the part mass listed in the config (mass = 16.0109). Looking in the configs for the spherical tanks (for example, the large), I see that the dry mass of the part does match (mass = 13.5) and doesn\u0027t change when the tanks are removed or re-added in the editor. These still have the basemass = -1 lines. I\u0027m rather confused as to how this works and what\u0027s going on...\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-04-19T05:05:04Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003ETalinu\u003C/strong\u003E: I used blender\u0027s mesh volume tool to calculate the volumes, but they matched closely with my rough hand calculations. Note that they\u0027re not all \u003Cem\u003Ethat\u003C/em\u003E bad: ~3:1 vs stock\u0027s 9:1.\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-04-19T07:13:09Z","Content":"\n\u003Cp\u003EIMHO, those volume calculations may be meaningless as there is first the shell width, the sealed tank inside, some stuffes to (re)fill it, valves, etc so fuel volume might be x % of the external volume, x depending of what is inside (how safe has to be to be stored and use in all kind of temperatures/pressure encountered) as we have to remember material\u0027s temperature greatly change between low \u0026amp; high values.\u003C/p\u003E\n"},{"CreatedByName":"Tallinu","CreatedById":57810,"CreatedDateTime":"2014-04-19T08:36:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003ETalinu\u003C/strong\u003E: I used blender\u0027s mesh volume tool to calculate the volumes, but they matched closely with my rough hand calculations. Note that they\u0027re not all \u003Cem\u003Ethat\u003C/em\u003E bad: ~3:1 vs stock\u0027s 9:1.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf I\u0027m reading that right, it\u0027s wet:dry mass... So 3:1 means having to carry around half a ton of dead weight for every ton of fuel? That\u0027s... absolutely abysmal, honestly.\u003C/p\u003E\u003Cp\u003EI went back and examined a bunch of stock parts, and it\u0027s clear Squad was at the very least fudging the math, if not ignoring it entirely, probably for simplicity and gameplay reasons. Both wet and dry masses of successively smaller 2.5m tanks are exactly halved. A 1.25 tank of the same length as a certain 2.5m tank has exactly 1/4 the masses (which theoretically corresponds correctly to the reduction in diameter, but ignores all sorts of engineering issues like thickness of the tanks and the skin of the part). And halving the length of 1.25m tanks again exactly halves both the wet and dry mass.\u003C/p\u003E\u003Cp\u003EThe takeaway from this, in terms relevant to the discussion, appears to be that Kerbal engineers have a preferred volume to dry mass ratio and adjust things like the thickness of tanks of varying volumes as needed to give them that mass ratio, regardless of surface area. Which throws all discussion of surface area to volume ratios in regards to part mass right out the window in a flurry of scattering paperwork. Sigh.\u003C/p\u003E\u003Cp\u003EI guess I\u0027ll just edit the configs on mine to set the dry mass proportional to the volume and call it a day...\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-04-19T09:02:45Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EJustin Kerbice\u003C/strong\u003E: I did those measurements using shells. My use of \u0022volumes\u0022 included shell volume, not just contents volume. That said, what you are suggesting will only add to the mass and reduce the storage volume.\u003C/p\u003E\u003Cp\u003EAnyway, after a bit of thought, I think I\u0027ve figured out why tori are so terrible for mass ratios: it\u0027s not so much their shape but rather their aspect ratio. In fact, a cylinder and a torus of the same volume and the same radii (ie, minor radius for the torus), the torus will actually have a slightly smaller surface area than the cylinder because it has no end-caps, and surface area translates to mass well enough for this argument.\u003C/p\u003E\u003Cp\u003EAnyway, a torus is just a cylinder that\u0027s had its end-caps removed and been bent into a circle. The length of the cylinder is 2\u00C3\u00E2\u201A\u00ACR where R is the major radius of the torus. We will ignore the end-caps so the surface area is just the minor circumference of the torus multiplied by its major circumference, or \u003Cstrong\u003EA=4\u00C3\u00E2\u201A\u00AC\u003C/strong\u003E\u003Csup\u003E\u003Cstrong\u003E2\u003C/strong\u003E\u003C/sup\u003E\u003Cstrong\u003ERr\u003C/strong\u003E (r is the minor radius).\u003C/p\u003E\u003Cp\u003EHowever, the volume is the cross-sectional area of the torus (one side) multiplied by the major circumference, so \u003Cstrong\u003EV=2\u00C3\u00E2\u201A\u00AC\u003C/strong\u003E\u003Csup\u003E\u003Cstrong\u003E2\u003C/strong\u003E\u003C/sup\u003E\u003Cstrong\u003ERr\u003C/strong\u003E\u003Csup\u003E\u003Cstrong\u003E2\u003C/strong\u003E\u003C/sup\u003E.\u003C/p\u003E\u003Cp\u003EThis means that \u003Cstrong\u003Efor a constant volume, as the minor radius is halved, the major radius must be quadrupled, so the surface area doubles\u003C/strong\u003E. \u003Cem\u003EThis\u003C/em\u003E is why a torus is a sub-optimal choice of tank shape (for mass ratios): they are long skinny cylinders while stock cylinder tanks are relatively squat.\u003C/p\u003E\n"},{"CreatedByName":"Tallinu","CreatedById":57810,"CreatedDateTime":"2014-04-19T09:10:07Z","Content":"\n\u003Cp\u003EAh, that makes sense. Thanks, I hadn\u0027t thought about that approach.\u003C/p\u003E\u003Cp\u003EBut even so, my first reaction to that is: They don\u0027t *have* to be long and skinny! Why would you want to maintain a constant volume while increasing the major diameter anyway? Let the volume increase. And instead of reducing the minor radius, increase it too. The closer to the major radius it can be, the better, right? Yeah, some sizes wont\u0027 fit around the larger hubs, but so be it. Instead of \u0022what size must a certain volume tank be\u0022, consider \u0022what\u0027s a good volume for a certain size tank to be\u0022.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-04-19T09:10:34Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003ETalinu\u003C/strong\u003E: that\u0027s if they weren\u0027t 4:1 (I don\u0027t remember the numbers now, but they should be in the thread).\u003C/p\u003E\u003Cp\u003EAnd yes, stock tanks probably are a little off between the two size families, but not too bad within the one (they\u0027re way out for 0.625m) (double the length, double the volume, not quite double the mass (end-caps)).\u003C/p\u003E\u003Cp\u003EAnyway, I hope my above post satisfies you on the torus mass issue.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-04-19T09:13:35Z","Content":"\n\u003Cp\u003EHeh, we\u0027re ninjaing each other.\u003C/p\u003E\u003Cp\u003EThe point of a torus tank is to put something in the middle. This forces the minor radius to be significantly smaller than the major radius. Constant volume itself isn\u0027t the goal, but just a way of explaining why the ratios are bad.\u003C/p\u003E\n"},{"CreatedByName":"Tallinu","CreatedById":57810,"CreatedDateTime":"2014-04-19T09:29:13Z","Content":"\n\u003Cp\u003EYeah, I\u0027ve been watching the thread and refreshing any time my email beeped at me. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt only forces that if you constrain the total width of the torus. A torus with a bad ratio might as well have its hub replaced with a pancake fuel tank, resulting in a more efficient rocket. The way I see it, if you need more room in the middle, you need to expand the torus to a size where the ratio isn\u0027t bad, not shrink the minor diameter and make it worse. It\u0027s clearly possible to have a surface area to volume ratio that IS better than cylindrical tanks, even with the funny way of assigning masses they\u0027ve used. But to do it you have to make a torus that takes up a lot more space, not less space. The one I described in my comparison to the J-64s would not fit around a 2.5m hub, for example. But if you didn\u0027t mind being equal instead of better, you could use a slightly more convenient minor:major ratio and have a better fit.\u003C/p\u003E\u003Cp\u003EAdditionally, if you look at the A/V of the 1.25m tanks instead of the 2.5m tanks, and/or keep in mind the \u0022Kerbal Way\u0022 that I mentioned a couple posts back, it\u0027s not hard to see how even the current sizes and shapes of the toroidal tanks could have decent mass ratios. The 1 meter minor radius of the large tank isn\u0027t that far from 1.25m, and the XL is definitely more than 1.25m, and those stock 1.25m tanks are still 9:1... What\u0027s that tell us? Apparently, Kerbals can make thin-skinned tanks strong enough to stand up to high accelerations... So why not actually make use of that capability? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-04-19T10:21:34Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003ETallinu\u003C/strong\u003E: it\u0027s the ratio between major and minor radius that causes the poor mass ratio, not the absolute amounts. The Jumbo-64 is six times as long as its radius (7.5m vs 1.25m (radius)). The absolute minimum ratio of length to radius for a torus is 2\u00C3\u00E2\u201A\u00AC (when both major and minor radius are the same).\u003C/p\u003E\u003Cp\u003EThat said, the actual A/V ratio for a torus is simply \u003Cstrong\u003E2/r\u003C/strong\u003E (for comparison, a sphere is 3/r).\u003C/p\u003E\u003Cp\u003EHowever, for structural reasons, the mass of a tank is not proportional to its surface area, but rather to its volume. As you increase the volume of the tank, you must also increase the thickness of its walls in order to contain the same internal pressure. Admittedly, a torus might mess with the exact relation as I\u0027m not sure (don\u0027t remember) if cylinder length (torus major radius) has an effect on required wall thickness, but cylinder width (torus minor radius) certainly does, but a quick glance at the equations indicates that wall thickness being proportional to just the minor radius would keep the tank mass proportional to the tank volume.\u003C/p\u003E\n"}]}