{"TopicId":84339,"ForumId":70,"TopicTitle":"Weird recurring bug","CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-11T04:31:10Z","PageNum":1,"Articles":[{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-11T04:31:10Z","Content":"\n\u003Cp\u003Ehello everyone, I have some enigma of a bug. It seems like some of my vessels gets corrupted, no crash, but when I\u0027m loading them from the tracking station or any another way I get these symptoms :\u003C/p\u003E\u003Cp\u003E- My ship is missing some parts (one time, only my atomic engine was remaining and is was blasting flammes at the back)\u003C/p\u003E\u003Cp\u003E- My nav ball is showing all the prograde retrograde and all nodes at the same place.\u003C/p\u003E\u003Cp\u003E- I can\u0027t move or rotate the ship.\u003C/p\u003E\u003Cp\u003E- I get this yellow [PartJoint]: None of the provided nodes was valid!\u0022 Warning, and red \u0022NullReference Exception: Object not set to an instance of an object\u0022 \u0022exeception\u0022 flooding my debug window, really flooding.\u003C/p\u003E\u003Cp\u003EIt happen when it\u0027s a ship in orbit around kerbin the mun and even at the space center with a rover.\u003C/p\u003E\u003Cp\u003EOn those ships I used some\u003C/p\u003E\u003Cp\u003EProcedural parts,\u003C/p\u003E\u003Cp\u003Eremote tech antenna,\u003C/p\u003E\u003Cp\u003Esome KAS stuff,\u003C/p\u003E\u003Cp\u003E... well the kind of things I use for all my ships\u003C/p\u003E\u003Cp\u003EThanks for the reading, sorry english is not my native language. I think the error has to be find in the log because my ksp is quite stable for all the mods that I have.\u003C/p\u003E\u003Cp\u003EI play 0.24.2 32bits on Win7 with enough hardware to run 2 ksp without problem ( easy lol ).\u003C/p\u003E\u003Cp\u003EMy output_log is comming right away, as soon as I find a way to do so, and if you need some more information or if you want me to do some tests I\u0027m ready to help you help me please thanks if that make any sense.\u003C/p\u003E\u003Cp\u003EHere it is : \u003Ca href=\u0022https://www.dropbox.com/s/67652e9z9iafry0/output_log.7z?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/67652e9z9iafry0/output_log.7z?dl=0\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-11T06:12:48Z\u0022 title=\u002209/11/2014 06:12  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 11, 2014\u003C/time\u003E by Gone004\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-11T13:46:28Z","Content":"\n\u003Cp\u003EOkay, it looks like a file is missing or in the wrong place.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EAssemblyLoader: Exception loading \u0027TweakScale_ModularFuelTanks\u0027: System.Reflection.ReflectionTypeLoadException: The classes in the module cannot be loaded.\u003Cbr\u003E\u003Cbr\u003E  at (wrapper managed-to-native) System.Reflection.Assembly:GetTypes (bool)\u003Cbr\u003E\u003Cbr\u003E  at System.Reflection.Assembly.GetTypes () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AssemblyLoader.LoadAssemblies () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003EAdditional information about this exception:\u003Cbr\u003E\u003Cbr\u003E System.IO.FileNotFoundException: Could not load file or assembly \u0027modularFuelTanks, Version=5.1.1.0, Culture=neutral, PublicKeyToken=null\u0027 or one of its dependencies.\u003Cbr\u003E\u003Cbr\u003EFile name: \u0027modularFuelTanks, Version=5.1.1.0, Culture=neutral, PublicKeyToken=null\u0027\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ENon platform assembly: H:\\BAD KSP 4\\GameData\\TweakScale\\plugins\\TweakScale_RealFuels.dll (this message is harmless)\u003Cbr\u003EAssemblyLoader: Exception loading \u0027TweakScale_RealFuels\u0027: System.Reflection.ReflectionTypeLoadException: The classes in the module cannot be loaded.\u003Cbr\u003E\u003Cbr\u003E  at (wrapper managed-to-native) System.Reflection.Assembly:GetTypes (bool)\u003Cbr\u003E\u003Cbr\u003E  at System.Reflection.Assembly.GetTypes () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AssemblyLoader.LoadAssemblies () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u0022The classes in the assembly could not be loaded\u0022 is the key phrase here. It indicates that Tweakscale is not loading correctly.\u003C/p\u003E\u003Cp\u003EThen, because Tweakscale does not load correctly, everything that depends on it is also broken and things snowball from there.\u003C/p\u003E\u003Cp\u003ESo, start with double checking you have the latest version of RealFules and ModuleFuelTanks and that they are in the right place in your GameData folder. Then also check that you don\u0027t have old/multiple version so Tweakscale installed.\u003C/p\u003E\u003Cp\u003EHope that gets you going.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-09-11T14:04:46Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Diazo\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s normal if Gone004 does not have Modular Fuel Tanks or Real Fuels installed alongside TweakScale. There\u0027s a plan to fix that in future versions, but it\u0027s not the problem here.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Gone004\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s a tremendous amount of errors in that log (50000\u002B). That makes it nearly impossible to track down the root cause. Please read the \u003Cem\u003EHow to Get Support (READ FIRST)\u003C/em\u003E stickied thread.\u003C/p\u003E\n"},{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-11T17:56:48Z","Content":"\n\u003Cp\u003Eok thanks I\u0027m going to test differents configurations with and without the tweakscale plugin(s). I don\u0027t have the modular fuel tanks mod but, procedural parts is quite similar I think.\u003C/p\u003E\n"},{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-11T19:47:47Z","Content":"\n\u003Cp\u003EI forgot to add something, The bug seem to occur after a docking or dedocking, I think the ship is corrupted when the game is saving it in orbit. And I have this little bug : the nav-ball disappeared and some times the altimeter too, (debug say \u0022[exception] :NullReference Exception: Object not set to an instance of an object\u0022 I think I run out of memory at some point ). \u003C/p\u003E\u003Cp\u003E WAIT !... My station... It\u0027s ALIVE ! Just by deleting \u0022tweakscale\u0022 folder in gamedata.... Diazo, you are a genius.\u003C/p\u003E\u003Cp\u003EBut ... Infernal robotics need tweak scale, and klockheed martian too ( for the little cargo bays ) . I thinks there is a workaround for both of them, and if not, I can make my own by adding the same part.cfg with a rescale factor and a different name.\u003C/p\u003E\u003Cp\u003EThank for your time guys, Great forum.\u003C/p\u003E\n"},{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-11T20:11:40Z","Content":"\n\u003Cp\u003EThere is something weird, my docked living quarter section (a 2001 space odyssey rotating style) ... isen\u0027t docked... and the crew who was in it has come back in the command pod in the command section... like the docking never happend. But I haven\u0027t load an old save and I have checked all my backup saves, it\u0027s impossible . I should go to sleep this is too illogic for me. But It\u0027s not a big deal if that \u0027s the price for getting back my space station, anyway in a few kerbal years all the space station will be giant white ships made of B9 5.2.1 parts.\u003C/p\u003E\n"},{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-11T21:04:44Z","Content":"\n\u003Cp\u003Eokay after, some testing I have a godd news and a bad news, \u003C/p\u003E\u003Cp\u003Ethe bad one : my new launched vessel still get corrupted when loading them.\u003C/p\u003E\u003Cp\u003Ethe good one : I can now reproduce the bug without \u0022random\u0022, I simply put my big space shuttle on the runway, launch it, crash it (only because It need some tweaking for the first stage), and hit the revert to launch button. \u003C/p\u003E\u003Cp\u003Echeck out those pictures :\u003C/p\u003E\u003Cp\u003Efirst launch : \u003Ca href=\u0022https://www.dropbox.com/s/3v5ggwmguu8pv0d/screenshot186.png?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/3v5ggwmguu8pv0d/screenshot186.png?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eafter hitting the revert to lauch button : \u003Ca href=\u0022https://www.dropbox.com/s/6wuv2twfsyhdkqj/screenshot187.png?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/6wuv2twfsyhdkqj/screenshot187.png?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Enotice the glitchy nav-ball ?\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-09-11T21:12:26Z","Content":"\n\u003Cp\u003EHave you tried removing all mods.\u003C/p\u003E\u003Cp\u003EThis should be your first test.\u003C/p\u003E\u003Cp\u003EThis determines if it\u0027s a bug in a mod in a mod or the game.\u003C/p\u003E\u003Cp\u003EIt seems you are getting some null reference exceptions from DebRefund so it might be that.\u003C/p\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-09-11T21:14:45Z","Content":"\n\u003Cp\u003EThe pictures help, but now pare down the mods until you can reproduce it with just a few installed and follow the rest of the examples in the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92229-How-To-Get-Support-%28READ-FIRST%29\u0022 rel=\u0022external nofollow\u0022\u003EHow to Get Support (READ FIRST)\u003C/a\u003E sticky.\u003C/p\u003E\n"},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2014-09-11T22:48:48Z","Content":"\n\u003Cp\u003EI\u0027ve had the same issue and I think I\u0027ve might\u0027ve posted it on the wrong thread... Currently I\u0027m at my phone so I\u0027ll just leave a link for consideration ans if you guys want to I\u0027ll repost it here later...\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92348-Ship-Vanishes?p=1410116\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/92348-Ship-Vanishes?p=1410116\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-13T08:08:35Z","Content":"\n\u003Cp\u003EI reduced the mods and the parts,\u003C/p\u003E\u003Cp\u003E the bug still occur exept if I try to remove some air brake on a procedural wing (from procedural dynamics),\u003C/p\u003E\u003Cp\u003E witch is on a procedural multi-adapter (from procedural fairings).\u003C/p\u003E\u003Cp\u003E New output log with less error I hope \u003Ca href=\u0022https://www.dropbox.com/s/a5gwky69cgk2rwd/output_log.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/a5gwky69cgk2rwd/output_log.txt?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBut I thing all this work is for nothing because the .craft file might be corrupted.\u003C/p\u003E\u003Cp\u003E In the SPH if I remove the air brake I was talking about, I get stuck. Not a Freeze or a crash, I just can\u0027t do anything exept moving the mouse around the parts and they glow green like normal, but I can\u0027t use the button or select a part, hopefully I get back to control by pressing ctrl z.\u003C/p\u003E\n"},{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-13T08:27:05Z","Content":"\n\u003Cp\u003Eho, and Broax, we have the exact same bug. If I was good with programs, I would make one that will check the common error between our logs, if that make any sense.\u003C/p\u003E\u003Cp\u003EAlso I noticed the glitchy nav-ball thing only happen if enchanced nav-ball is installed.\u003C/p\u003E\n"},{"CreatedByName":"Gone004","CreatedById":114946,"CreatedDateTime":"2014-09-13T08:34:57Z","Content":"\n\u003Cp\u003ECould it be caused by... some simple part clipping ? (I never use the allow part clipping cheat, but the air brake is slightly touching a procedural control surface and the proc. multi-adapter.\u003C/p\u003E\n"},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2014-09-13T12:08:22Z","Content":"\n\u003Cp\u003EI have a feeling its related to the 64bit version... Are you guys playing in 32 or 64bit?\u003C/p\u003E\u003Cp\u003EI just reinstalled the game and redownloaded every mod... I hope it helps... :x\u003C/p\u003E\n"},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2014-09-27T15:38:41Z","Content":"\n\u003Cp\u003EI hate to repost but I\u0027d like to give an update on this issue: I\u0027ve been playing in the 32bit of the game and everything seems a lot more stable... So far I made it to Duna (first time to Duna, yay!) and I had no crashes or unexplained floating cans... I\u0027ll probably just stick to the 32bit version of the game and will advice anyone struggling with the 64bit version to give it a try as well... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-09-27T18:28:08Z","Content":"\n\u003Cp\u003EYep, (windows) KSP x64 is an unstable mess and, as the READ FIRST sticky says, not really supportable. Linux x64 is stable if you need an x64 client.\u003C/p\u003E\n"}]}