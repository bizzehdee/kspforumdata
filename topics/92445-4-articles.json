{"TopicId":92445,"ForumId":39,"TopicTitle":"My KSP control panel","CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2014-12-10T07:53:50Z","PageNum":4,"Articles":[{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-04T14:18:17Z","Content":"\n\u003Cp\u003EGlad you like it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ECurrent status is that all of the control inputs are working. I\u0027ve got some of the status lights up, but the annunciator and the seven segment displays don\u0027t really have any code at all. And this evening was a fairly frustrating one struggling with the power supply and trying to get it running on my OSX laptop. I really want to shoot a video, but to be honest I\u0027m not happy doing it right now. Will definitely work on getting some footage explaining how it works once it\u0027s finished.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sputnix\u0022 data-cite=\u0022Sputnix\u0022\u003E\u003Cdiv\u003EOpaque Perspex would also work with the transparency over it (just trying to think of ways to diffuse the light the best).\u003Cp\u003EThough, that\u0027s at least another $20 Aus.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI missed your remark about the perspex before, sorry.\u003C/p\u003E\u003Cp\u003EThe instrument panels are cut from 3mm opal perspex that I\u0027ve painted on one side. I bought a square metre of the stuff for this project and still have maybe a quarter of it left untouched. It could work, but I don\u0027t think I\u0027d want to use something that thick as a diffuser for the annunciator because of light bleeding across compartments.\u003C/p\u003E\u003Cp\u003EI might drop by \u003Ca href=\u0022http://reversegarbage.org.au/\u0022 rel=\u0022external nofollow\u0022\u003EReverse Garbage\u003C/a\u003E this weekend and have a rifle through their perspex stock to see if they have anything that might suit.\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-06T13:53:39Z","Content":"\n\u003Cp\u003EOne step forward, several steps back.\u003C/p\u003E\u003Cp\u003EFirst, I picked up some transparency film to redo the annunciator display. That stuff is relatively expensive, I paid about a dollar an A4 sheet. But it seems to be a pretty good compromise - just thin enough to let plenty of light through without being able to see inside. Looks darker when it\u0027s turned off, and much brighter when it\u0027s running. Now you can see where I dropped the annunciator box and broke a corner off. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/kc17uAA.jpg\u0022 alt=\u0022kc17uAA.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd then I started writing test code to actually control the LEDs. Started by lighting each one in turn, just cycling through all 31(!!) one after the other. That revealed what looked like communication issues because I was powering the LEDs separately to the arduino, and didn\u0027t have a common ground. So this evening I arranged a common ground plane and tested again. That looked better running one at a time, so I started updating my actual controller code to start lighting up appropriate LEDs. Having a few of them switch on and off depending on how switches on the display were set was working fine, so I figured it was time to start testing in-game.\u003C/p\u003E\u003Cp\u003EThis led to problem number 2. I just could not get the arduino talking properly to KSP on my mac laptop. Granted, it\u0027s an underpowered Mac Air that struggles to run the game at all, but I couldn\u0027t do anything to reduce the number of dropped packets. There were enough packets getting back and forth that I could say it... probably works OK. But I won\u0027t be able to move my gaming PC up to the maker space I\u0027ve been keeping the controller at the last couple of weeks until Saturday. It makes testing things pretty annoying.\u003C/p\u003E\u003Cp\u003ESo I put that aside for a while and started working on the one other feature I\u0027d like out of this panel - a demo mode that doesn\u0027t render data from the game, just strobes random colours and some canned messages across the displays. I want it to look vaguely interesting while not playing a game. So I started testing code that would write random colours to all of the LEDs in my string. And that\u0027s how I discovered the third problem. Lighting up a handful of LEDs is OK, but writing values out to all of them reasonably rapidly leads to major issues, eventually the whole string seemed to just stop updating. I couldn\u0027t figure out where this was coming from, and my troubleshooting only made things worse. The whole experience was remarkably similar to \u003Ca href=\u0022https://xkcd.com/349/\u0022 rel=\u0022external nofollow\u0022\u003Einstalling OpenBSD\u003C/a\u003E. At various points I was accidentally shorting out the signal cable, feeding the LED signal in to the throttle motor, and trying to push data in to the out pin of a few lights.\u003C/p\u003E\u003Cp\u003EI\u0027ve completely rewired how the LEDs are getting power and checked all of them to make sure there\u0027s no brownouts. Right now I have a vague suspicion one or two of them have had their controller cooked by my shenanigans, so will start trying to bypass them to confirm tomorrow.\u003C/p\u003E\u003Cp\u003EEDIT: Oh man, I forgot the best bit. For the display controller I\u0027m using a \u003Ca href=\u0022https://www.sparkfun.com/products/12640\u0022 rel=\u0022external nofollow\u0022\u003ESparkFun Pro Micro\u003C/a\u003E board. That thing has a tiny little micro-USB connector soldered on to the end, and a couple days ago I discovered that it\u0027s fairly fragile. An accidental hard yank of the cable pulled the connector right off the board. I was able to solder it back on after a couple of tries, but one of the solder pads carrying power had been ripped off so I had to power the board externally. And that attempt didn\u0027t last too long either, it came off again and I\u0027m not sure I can fix it. There\u0027s another one coming to me express post, but if that doesn\u0027t arrive tomorrow it\u0027s really going to make my plans for getting the seven segment displays running.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-06T14:02:47Z\u0022 title=\u002208/06/2015 02:02  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 6, 2015\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-08-06T20:28:05Z","Content":"\n\u003Cp\u003EYou know, I\u0027ve heard a few stories about the micro USB breaking of some Pro Micros. What I\u0027ve been using instead, Are the Pro Minis. They have no USB on them. Instead, they just have a header. you get a USB to serial adapter that has a female header, and you use the header to program them. If you are concerned with the USB socket, then just get a tiny box and mount it all inside, with just the header sticking out the end. That header will be far stronger than the USB. Unless you plan to do the entire project using the Pro micro (in which case I\u0027d see why you want to have the USB), I\u0027d say the Mini is better suited as a \u0022sub\u0022 arduino. The Uno or Mega makes more sense as a primary unit, to me, just due to the beefier USB, and the more connections (incase you expand your controller).\u003C/p\u003E\u003Cp\u003EHere in the USA, I was able to buy 4 Arduino clone Pro Mini 5v versions for $3.99 USD each. I bought 4. They even have the headers already soldered on! Also picked up a pair of Mega2560 R3 for $9.99 USD each. They were on sale at a place called Microcenter. Not sure what prices are like elsewhere, but i thought that seemed like a good deal. The USB adapter was $7.99, but you only need one to program the unit.\u003C/p\u003E\u003Cp\u003EI plan on using one of my Mega2560s as my primary interface for everything, mainly just cause it has a LOT of I/O, and a lot of PWM outs. I have like, 14 analog gauges across everything, So I\u0027ll actually need to use EVERY single PWM line on the Mega2560! I plan to do my FDAI sine generators on their own arduino, so it doesn\u0027t have to juggle tasks. If I can fit it on one of the Pro Minis, I\u0027ll use that, and communicate with it via serial from the main arduino. I\u0027ll need 10 digital I/O as a chip select for my 10 DACs (Pro Mini has 14 Digital I/O, so I should be good). If, it doesn\u0027t have the RAM and or storage needed to execute the sine program, then I\u0027ll just use my other Mega2560, or possibly pick up and Uno.\u003C/p\u003E\u003Cp\u003EBummer about the issues though... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\u003Cp\u003EI must say though... That \u003Cspan style=\u0022color:#333333;\u0022\u003Eannunciator\u003C/span\u003E looks SWEET! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003E********\u003C/p\u003E\u003Cp\u003E**EDIT**\u003C/p\u003E\u003Cp\u003E********\u003C/p\u003E\u003Cp\u003EI see that the Micro differs from the Mini in that it has an integrated USB interface, and can emulate keyboard or mouse, as an option. I can see how that could be useful for some applications, such as an HID mode. It looks like one option to consider might just be soldering a USB-B socket via a small cable to the board, and then mounting that in the controller housing.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-07T07:27:58Z\u0022 title=\u002208/07/2015 07:27  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 7, 2015\u003C/time\u003E by richfiles\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-07T05:12:00Z","Content":"\n\u003Cp\u003EYeah, I\u0027m a big fan of proper arduino-compatibles, but stay away from outright imitations. That usually rules out the ultra-cheap ebay boards. Went with the pro mini because I wanted a Leonardo based board. Normally I\u0027d use something like a Leostick for that, which adds both ICSP and a much sturdier USB connector, but here we are.\u003C/p\u003E\u003Cp\u003ELuckily the replacement arrived this afternoon, so I can go and start hacking on it some more after work. The original board still works fine, so once I\u0027ve got the code down pat I may hold the connector on and flash it, keep this one for another project.\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-08-07T06:34:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EYeah, I\u0027m a big fan of proper arduino-compatibles, but stay away from outright imitations. That usually rules out the ultra-cheap ebay boards. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny reason with this?\u003C/p\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-08-07T07:00:36Z","Content":"\n\u003Cp\u003EI think I like these Microcenter ones. Microcenter has brick and mortar stores, as well as an online store. They carry both the original Arduinos, as well as clone versions. The clones don\u0027t say arduino anywhere on them, nor use the logo, though the packaging says They are manufactured from the original Arduino schematic. They are all \u0022Inland\u0022 branded. They had other stuff, but these were the ones on sale. Normally, they are $7.99 for the minis and $19.99 for the Megas. The sale was a real deal!\u003C/p\u003E\u003Cp\u003EIf you have access to lead based solder, I honestly find it to be far more forgiving of stress than lead-free. Lead free solder seems to be harder/more brittle. The red ring of death / yellow light of death on Xbox 360s and PS3s... That was due to lead free solder balls not he bottom of BGA chips cracking due to thermal expansion and contraction related stress fracturing. If you have problems with the retention of the socket, and have lead solder, try to reflow it with lead solder, before it breaks. Depending on the region where you live, you might not be able to legally sell the part commercially, but since this is for a personal project, there should be no issue.\u003C/p\u003E\u003Cp\u003EHere in America, we still make certain items with lead solder. I happen to make a cable used to power and control a surgical tool. We still use lead solder for it\u0027s construction, because lead solder is more reliable than lead free solders. Lead solder is more pliant to stress (softer/more ductile), and the most common ratios (60/40 and 63/37, for example) also don\u0027t suffer from whisker formation. Some lead free solders can form \u0022whiskers\u0022 of metal deposits that crystalize from the surface, especially when under stress. Tin whiskers caused the failure of the Galaxy IV satellite in 1998, a nuclear plant shutdown, due to false alarms triggered by shorts, and have even allegedly been cited as a possible (though currently denied) cause of the unexpectedly accelerating Toyotas a few years ago.\u003C/p\u003E\u003Cp\u003ELong story short, if you can snag a little bit of lead based solder... It can actually be quite nice for enhancing high stress solder joints.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EYeah, I\u0027m a big fan of proper arduino-compatibles, but stay away from outright imitations.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sputnix\u0022 data-cite=\u0022Sputnix\u0022\u003E\u003Cdiv\u003EAny reason with this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EArduino is an open source platform, but the original Arduinos (made in Italy) help to fund development of new designs and shields and libraries and stuff like that. Some people like to buy at least one legit original, just to chip in. A person doesn\u0027t have to, but it\u0027s certainly courteous toward the future development of the platform. The clones are cheaper, because they aren\u0027t charging the development premium that the branded originals carry.\u003C/p\u003E\u003Cp\u003EThe difference between a clone and an imitation is that clones are just simply Arduino compatible devices. They are designed and marketed as just that. They use the open source design and are marketed as being arduino compatible, or based not he original arduino.\u003C/p\u003E\u003Cp\u003EImitations are designs that try to imitate the appearance of the legit Arduinos, for the sole purpose of trying to sell cheap hardware on a false premium, Sometimes they even go so far as to even print Made in Italy on the boards, when they are clearly made in China, or even try to copy the logo. These boards are either marketed as \u0022cheap Arduinos\u0022 or worse, to confuse people into paying more for cheap hardware. That\u0027s the difference. It is literally dishonesty in making something that\u0027s already free to make... I mean, come on! Really? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 alt=\u0022:mad:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-08-07T08:38:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022richfiles\u0022 data-cite=\u0022richfiles\u0022\u003E\u003Cdiv\u003EI think I like these Microcenter ones. Microcenter has brick and mortar stores, as well as an online store. They carry both the original Arduinos, as well as clone versions. The clones don\u0027t say arduino anywhere on them, nor use the logo, though the packaging says They are manufactured from the original Arduino schematic. They are all \u0022Inland\u0022 branded. They had other stuff, but these were the ones on sale. Normally, they are $7.99 for the minis and $19.99 for the Megas. The sale was a real deal!\u003Cp\u003EIf you have access to lead based solder, I honestly find it to be far more forgiving of stress than lead-free. Lead free solder seems to be harder/more brittle. The red ring of death / yellow light of death on Xbox 360s and PS3s... That was due to lead free solder balls not he bottom of BGA chips cracking due to thermal expansion and contraction related stress fracturing. If you have problems with the retention of the socket, and have lead solder, try to reflow it with lead solder, before it breaks. Depending on the region where you live, you might not be able to legally sell the part commercially, but since this is for a personal project, there should be no issue.\u003C/p\u003E\u003Cp\u003EHere in America, we still make certain items with lead solder. I happen to make a cable used to power and control a surgical tool. We still use lead solder for it\u0027s construction, because lead solder is more reliable than lead free solders. Lead solder is more pliant to stress (softer/more ductile), and the most common ratios (60/40 and 63/37, for example) also don\u0027t suffer from whisker formation. Some lead free solders can form \u0022whiskers\u0022 of metal deposits that crystalize from the surface, especially when under stress. Tin whiskers caused the failure of the Galaxy IV satellite in 1998, a nuclear plant shutdown, due to false alarms triggered by shorts, and have even allegedly been cited as a possible (though currently denied) cause of the unexpectedly accelerating Toyotas a few years ago.\u003C/p\u003E\u003Cp\u003ELong story short, if you can snag a little bit of lead based solder... It can actually be quite nice for enhancing high stress solder joints.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve been aware of this for a while now too -- I can understand the reasoning for limiting lead in electronics (especially when idiots don\u0027t e-cycle); but I\u0027ve heard these stories far too frequently too.\u003C/p\u003E\u003Cp\u003EFrom what I know, you can still get lead-based solder here down-under, but I\u0027m not sure where. Every store I\u0027ve ever been to has been lead-free all the way.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022richfiles\u0022 data-cite=\u0022richfiles\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EArduino is an open source platform, but the original Arduinos (made in Italy) help to fund development of new designs and shields and libraries and stuff like that. Some people like to buy at least one legit original, just to chip in. A person doesn\u0027t have to, but it\u0027s certainly courteous toward the future development of the platform. The clones are cheaper, because they aren\u0027t charging the development premium that the branded originals carry.\u003C/p\u003E\u003Cp\u003EThe difference between a clone and an imitation is that clones are just simply Arduino compatible devices. They are designed and marketed as just that. They use the open source design and are marketed as being arduino compatible, or based not he original arduino.\u003C/p\u003E\u003Cp\u003EImitations are designs that try to imitate the appearance of the legit Arduinos, for the sole purpose of trying to sell cheap hardware on a false premium, Sometimes they even go so far as to even print Made in Italy on the boards, when they are clearly made in China, or even try to copy the logo. These boards are either marketed as \u0022cheap Arduinos\u0022 or worse, to confuse people into paying more for cheap hardware. That\u0027s the difference. It is literally dishonesty in making something that\u0027s already free to make... I mean, come on! Really? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 alt=\u0022:mad:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, I\u0027m aware of this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI was more curious as to why Stibbons chose to avoid the clone-duinos. I\u0027m using a clone mega2560 without any issues, and would get the same \u0027brand\u0027 clone again - simply cos I know it works (even after doing obscure shorts... like plugging my slider into digital i/o pin 4, instead of analogue 4 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E ). \u003C/p\u003E\u003Cp\u003ELike you (and others) I\u0027d love to be able to afford a proper brand-name one to support the work the guys do (even though it\u0027s not exactly revolutionary...) however, at about $100 for a mega board, I think I\u0027ll wait till the exchange rate is either better, or I have more disposable income \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-07T11:23:54Z","Content":"\n\u003Cp\u003EIt\u0027s a licensing thing. I\u0027ll happily buy arduino-compatible boards from anybody, as long as they respect the Arduino licence. I won\u0027t buy from counterfeit manufacturers making fake \u0022official\u0022 Arduino kit.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThis evening I ripped out and replaced all of the slightly dodgy wiring connecting my LEDs and replaced it all with slightly less dodgy wiring. Careful checking during that found three dead LEDs. Chalking that up to carelessness. \u003C/p\u003E\u003Cp\u003EThe rest were reconnected and seem good so far. Unfortunately I\u0027m out of spares, so it might be a little while before I can replace seem. Such is life.\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-08T13:21:45Z","Content":"\n\u003Cp\u003EMy Saturday was nearly a disaster. Woke up early to discover reports of \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66393-Hardware-Plugin-Arduino-based-physical-display-serial-port-io-tutorial-%2806-Jun%29?p=2125346\u0026amp;viewfull=1#post2125346\u0022 rel=\u0022external nofollow\u0022\u003Eissues running KSPSerialIO\u003C/a\u003E under Windows 10. I\u0027d just upgraded my gaming rig to a new machine running Win10 (Microsoft\u0027s online store only seemed to sell the one version in Australia, go figure). So fired it up and, sure enough, a test sketch running on a spare Arduino just wouldn\u0027t connect. There\u0027s some interesting leads in the KSPSerialIO thread about resolving the issue, but I\u0027m under some time pressure to get my build complete and functional so I eventually sighed and dug out the old Windows 7 retail box I had hiding in the back of a drawer. Then I sighed again and yanked the DVD-ROM drive out of my media centre machine so I could get it installed.\u003C/p\u003E\u003Cp\u003EWhile that was catching up with eleventy Windows updates I tidied up the hardware for my build. Routed all the cables neatly and taped them in place. Cleaned and vacuumed the inside of the enclosure and made sure everything that needed labels had labels. Finally I made button caps for my little illuminated tactile buttons by cutting circles from my translucent perspex and glueing them to the buttons. And then I had to disassemble some of them to remove the glue that was gumming up the action. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EAt this point I\u0027m considering the hardware 1.0 complete. There\u0027s still a couple of blown LEDs that need to be replaced and my analogue gauges are purely decorative right now, but unless there\u0027s an emergency I\u0027m not touching any of it for a few weeks.\u003C/p\u003E\u003Cp\u003EAfter one final test to ensure all of the control inputs were functional, I plugged in and ran an in-game test. That was the first time some of this stuff had been used, and the first time I\u0027d ran any of the other panels for a couple of months. Everything ran beautifully, and even without the displays functional it was great to be able to prove to everybody else in the maker space that this huge lump of wiring I\u0027d been poking at for ages actually does something.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/iX8B0nZ.jpg\u0022 alt=\u0022iX8B0nZ.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd then I brought it all home again. Right now the controller is occupying... pretty much all of the coffee table in my living room while I write the display code. Turns out it\u0027s way too big to fit on the desk in the study, so it\u0027s here until I arrange a new one.\u003C/p\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-08-08T19:55:13Z","Content":"\n\u003Cp\u003EAww man! Freakin\u0027 Windows... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 alt=\u0022:mad:\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s wonderful to hear that it\u0027s more or less functional, save for minor LED repair and display code! My solution to the desk issue is gonna be a saws-all with a fresh blade! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-11T15:10:55Z","Content":"\n\u003Cp\u003ELots of hacking the last few days.\u003C/p\u003E\u003Cp\u003EI have four seven-segment displays, each with exponent indicator lights (kilo, mega, giga), and illuminated push-buttons to select what information the display will show. All of those lights had to be checked, and I had to make sure that the input multiplexer was relaying all of the button signals that I needed. That part wasn\u0027t too bad, and worked great.\u003C/p\u003E\u003Cp\u003EThen I wrote the code to handle a single selection for each display, and lighting up the appropriate indicators for that. Much more fun, but again a fairly straightforward problem to solve.\u003C/p\u003E\u003Cp\u003EFinally was the code to take floats from KSPSerialIO, and render them down to \u003Ca href=\u0022https://en.wikipedia.org/wiki/Engineering_notation\u0022 rel=\u0022external nofollow\u0022\u003Eengineering notation\u003C/a\u003E with four significant digits, to be written to the displays. I had an outline for code that I wrote a little while ago for that, which turned out to be slow and almost but not quite completely broken. After a couple of attempts I eventually gave up and looked for somebody else\u0027s code. In the end I\u0027ve adapted an unmerged pull request to the Arduino\u0027s Print library to support rendering floats in engineering notation. Pared it back to stick ints in to a fixed array instead of writing them to a serial port, and I was in business.\u003C/p\u003E\u003Cp\u003EFinally, late this evening, I had my first launch with my fully-functional controller.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/5uDYLui.jpg\u0022 alt=\u00225uDYLui.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EEverything works, but there\u0027s still a bunch of work I can do to improve the experience. Right now the displays show seconds as decimals, when I\u0027d rather have it flick between \u0022seconds.fractions\u0022, \u0022minutes.seconds\u0022 and \u0022hours.minutes\u0022. They also render low numbers \u0026lt; 100 or so untidily, and break down entirely with things like inclination \u0026lt; 0.1.\u003C/p\u003E\u003Cp\u003EI need to redo the demo mode, which will just blink random lights across the panel. And I really need to arrange backlighting. Right now the lettering can be fairly hard to read, but quick tests with a spare lamp in the enclosure show it lighting up quite nicely. I think the first version of the backlight will just be a cheap table lamp or something bolted inside.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-12T14:17:49Z\u0022 title=\u002208/12/2015 02:17  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 12, 2015\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-08-12T00:24:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EAt this point I\u0027m considering the hardware 1.0 complete.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know the feeling \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EGreat effort though.\u003C/p\u003E\u003Cp\u003EI remember the first demo code I wrote to ensure all lights were connected to where I thought was way off \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EYou have a controller now; you can have fun, and design a v2 if you feel so inclined! xD\u003C/p\u003E\u003Cp\u003E[i know I probably will at some point \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E once I actually complete my v1 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E ]\u003C/p\u003E\u003Cp\u003ECould you please share a link to that print library? I suspect it might be useful to a few of us \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-12T00:47:03Z","Content":"\n\u003Cp\u003EThe first very very rough pass that works for my incredibly narrow use case is \u003Ca href=\u0022https://bitbucket.org/pjhardy/ksky/src/feb66a59f80c0ca9884c3515198f27d9c9b8720f/arduino/KerbalDisplay/engnumber.h?at=master\u0022 rel=\u0022external nofollow\u0022\u003Eengnumber.h\u003C/a\u003E and \u003Ca href=\u0022https://bitbucket.org/pjhardy/ksky/src/feb66a59f80c0ca9884c3515198f27d9c9b8720f/arduino/KerbalDisplay/engnumber.cpp?at=master\u0022 rel=\u0022external nofollow\u0022\u003Eenbnumber.cpp\u003C/a\u003E. It was based on a \u003Ca href=\u0022http://forum.arduino.cc/index.php?topic=179111.0\u0022 rel=\u0022external nofollow\u0022\u003Ethread on the arduino forums\u003C/a\u003E about optimising the Print::printFloat method, but I\u0027ve modified it to take a struct containing an array for the numbers, and ints for exponent and position of the decimal point. That\u0027s all there is right now, but I\u0027ll tidy it up and make an actual library next week.\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-08-12T04:00:40Z","Content":"\n\u003Cp\u003EI\u0027m not sure if this was asked -- how come you built such a large enclosure? Do you plan on putting additional elements in the top (\u0027unused\u0027) area? \u003C/p\u003E\u003Cp\u003E(or does it just look big because of the photo \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E )\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-12T04:12:41Z","Content":"\n\u003Cp\u003EYeah, it\u0027s pretty large. 800mm wide, and the control panel is 450mm deep. I always wanted it vaguely arranged this way, most controls along the bottom and displays above. And after that, well, I saved myself a cut using MDF that was 450mm wide. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe electronics are currently mounted on the back of the lid in the top left corner. Future plans are slightly vague, but include a brightness knob and rotary switch for display presets. And a smallish screen.\u003C/p\u003E\u003Cp\u003EIn the immediate term, though, there\u0027s enough space to stick a small keyboard in the top left corner (because you still need one for quite a few things, sadly). And I have a 7\u0022 tablet that\u0027ll fit in the space in the top right that I\u0027m trialling \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/127667-1-0-x-KeRD-Kerbal-Remote-Display-that-runs-in-your-browser-July-7th\u0022 rel=\u0022external nofollow\u0022\u003EKeRD\u003C/a\u003E on.\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-13T03:18:53Z","Content":"\n\u003Cp\u003EWent down to my local hardware shop last night and picked up a portable 15W fluorescent tube work light and quickly taped that to the inside of my enclosure as a panel backlight. This\u0027ll do quite nicely for making it the lettering bright and readable during the day. In the dark it shows through the paint on the panels a little too much though. If/when I remake the panels I\u0027ll add a couple more coats of paint, and try to be a little more careful with the lettering.\u003C/p\u003E\u003Cp\u003EStill, it\u0027s a pretty great effect.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/PS5LJbi.jpg\u0022 alt=\u0022PS5LJbi.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve since added some masking tape on the back around the annunciator box to stop light coming through. Would like to get something in place for the slot for the throttle slider too, but that\u0027s on the back burner for now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-13T03:21:59Z\u0022 title=\u002208/13/2015 03:21  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 13, 2015\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-13T09:28:03Z","Content":"\n\u003Cimg src=\u0022http://i.imgur.com/auc6eec.jpg\u0022 alt=\u0022auc6eec.jpg\u0022\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-08-13T12:02:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003E...there\u0027s enough space to stick a small keyboard in the top left corner ...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs it sad that I read that as \u0027kerbal\u0027? :/ \u003C/p\u003E\u003Cp\u003EHAha! Cr4SH iT! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Nice!\u003C/p\u003E\u003Cp\u003EIt\u0027s very bright o.O\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-13T13:07:35Z","Content":"\n\u003Cp\u003EThe brightness is mostly because of my camera phone. I swear it\u0027s nowhere near that bright in real life, but I am thinking about putting diffusers over the seven segments to dim it a bit further.\u003C/p\u003E\u003Cp\u003EI wanted to write things to the displays while the system was idle, so came up with a list of phrases that can be spelt out with seven segments. \u0022launch it\u0022 is on the list, so is \u0022crash it\u0022. Now that I think about it, there\u0027s nothing about landing. Um.\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2015-08-13T16:48:28Z","Content":"\n\u003Cp\u003EOddly, the Kerbal words for \u0022land\u0022 and \u0022crash\u0022 are distinguished solely by the amount of panic evidenced in the voice of the speaker...\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-08-13T23:47:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EOddly, the Kerbal words for \u0022land\u0022 and \u0022crash\u0022 are distinguished solely by the amount of panic evidenced in the voice of the speaker...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E... and the amount of debris present after the fact \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"mdkendall","CreatedById":114550,"CreatedDateTime":"2015-08-23T19:19:06Z","Content":"\n\u003Cp\u003ESaw this featured on the EEVblog coverage of the Sydney Mini Maker Faire (at 10:27).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/XxAElAtC7uE?start=627\u0026amp;feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Krewmember","CreatedById":144837,"CreatedDateTime":"2015-08-23T21:10:03Z","Content":"\n\u003Cp\u003EWow, that is really cool. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-23T22:13:00Z","Content":"\n\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E I watched those late last night. The maker faire was really, really fun.\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-08-23T23:03:13Z","Content":"\n\u003Cp\u003ECongrats on having your Kerbal Kontrol panel played by an interwebs celeb! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"}]}