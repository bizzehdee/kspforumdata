{"TopicId":114515,"ForumId":29,"TopicTitle":"Determining if Vessel\u0026#039;s Orbit Has SOI Transition","CreatedByName":"stevehead","CreatedById":137745,"CreatedDateTime":"2015-06-29T04:06:33Z","PageNum":1,"Articles":[{"CreatedByName":"stevehead","CreatedById":137745,"CreatedDateTime":"2015-06-29T04:06:33Z","Content":"\n\u003Cp\u003EI\u0027ve been writing a plugin that filters out vessels that meet certain criteria. The current code I have is below:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EFlightGlobals.Vessels.Where(v =\u0026gt; v.vesselType == VesselType.Debris)\u003Cbr\u003E                .Where(v =\u0026gt; v.orbit.eccentricity \u0026lt; 1.0)\u003Cbr\u003E                .Where(v =\u0026gt; v.mainBody.atmosphere)\u003Cbr\u003E                .Where(v =\u0026gt; v.orbit.PeA \u0026lt; v.mainBody.atmosphereDepth)\u003Cbr\u003E                .ToList();\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EObviously, those with hyperbolic trajectories are already excluded, but I also need to exclude those that have an upcoming SOI transition of any type (e.g. Kerbin -\u0026gt; Mun encounter). Anyone with suggestions on the best way to do this? I see the Orbit class has several attributes that seem relevant to how I would achieve this: activePatch, closestEncounterBody, closestEncounterLevel, closestEncounterPatch, nextPatch, patchEndTransition, patchStartTransition, previousPatch, timeToTransition1, timeToTransition2. I\u0027m just not sure what would be best. Thanks in advanced!\u003C/p\u003E\n"},{"CreatedByName":"stevehead","CreatedById":137745,"CreatedDateTime":"2015-06-29T17:49:31Z","Content":"\n\u003Cp\u003EI think the following is what I need to add to the above:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E.Where(v =\u0026gt; v.orbit.closestEncounterLevel == Orbit.EncounterSolutionLevel.NONE)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf anyone can confirm this is the appropriate solution, please let me know. Thanks!\u003C/p\u003E\n"}]}