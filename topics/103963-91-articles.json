{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":91,"Articles":[{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-12-03T07:49:37Z","Content":"![hICK7r1.png](http://i.imgur.com/hICK7r1.png)\n\nThis... this shot alone... this isn\u0027t just a mod it\u0027s a bloody work of art. Have breakfast on me man. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Faile","CreatedById":59519,"CreatedDateTime":"2015-12-03T07:51:03Z","Content":"Ocean shaders look absolutely stunning.\n\nDo you plan to add Caustic scattering for god rays and underwater light?\n\n[https://en.wikipedia.org/wiki/Caustic_(optics)](https://en.wikipedia.org/wiki/Caustic_%28optics%29)"},{"CreatedByName":"doudou","CreatedById":103127,"CreatedDateTime":"2015-12-03T07:53:23Z","Content":"Hi ,\n    I just wanted to salute your work is just beautiful ! Thank you for the time you devote to this mod , it is worth it . THANK YOU , THANK YOU AND THANK YOU again !"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2015-12-03T07:57:07Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, Jeorge said:\n\u003E \n\u003E \n\u003E Sorry it\u0027s still not working, scattering doesn\u0027t show and it\u0027s stuck at 1 fps, no other mods and all the settings are at default. I use the Nvidia 352.63 drivers.\n\u003E \n\nI am using the same and mine works right up till it runs out of memory, I assumed thhat was because I had EVE as well but maybe it is a memory leak."},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2015-12-03T08:07:01Z","Content":"\u003E \n\u003E \n\u003E 23 hours ago, Jeorge said:\n\u003E \n\u003E \n\u003E I really can\u0027t get this to work even on the previous update before the ocean shader. The mod(previous) doesn\u0027t appear and now with the new update(ocean shader), the mod doesn\u0027t appear and I\u0027m stuck at 1 fps. I\u0027m using Ubuntu MATE 15.10 x64 with Steam KSP factory default, no modifications.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit: I use the right file directory too\n\u003E \n\nThe 1 fps comes from Scatterer trying to find a file: CompiledinitDisplacement.shader, which is actually called CompiledInitDisplacement.shader (with an upper case I in the zip file).\n\nEven after changing this, it doesn\u0027t work for me (oceans are just blue, no waves, nothing), but I don\u0027t have time right now to continue bug hunting... Maybe upload your Player.log for blackrack to check for any other obvious issues?  \n\nMine is here:\n\n[https://drive.google.com/file/d/0Bx3gTbeJuJRWNTh0bjFHaVVqNTg/view?usp=sharing](https://drive.google.com/file/d/0Bx3gTbeJuJRWNTh0bjFHaVVqNTg/view?usp=sharing)\n\nEdit 2: I think, that scatterer references shaders by filename (correct me if I\u0027m wrong, didn\u0027t check the source code). So, even if the file is being found, it probably doesn\u0027t apply any settings to the respective shader, so oceans might still be rendered wrong. I\u0027m at work now (that\u0027s why previously I wrote I don\u0027t have any more time), so I cannot check, but maybe in the evening?\n\nEdit 3: Nope, I edited the .dll file in a hex editor so that all occurrences of CompiledInitDisplacement have the same case, and while it then loaded the file correctly, the rendering looked exactly the same as when one simply renames the file. Basicallly the same as in Jeorge\u0027s screenshot below. Ah, and the issue with the dark blue/black sea also appears on a fresh install with no mods but scatterer. Player.log of fresh install with only scatterer:  \n[https://drive.google.com/file/d/0Bx3gTbeJuJRWWHhpMmp1VEczdkk/view?usp=sharing](https://drive.google.com/file/d/0Bx3gTbeJuJRWWHhpMmp1VEczdkk/view?usp=sharing)\n\n**Edited \u003Ctime datetime=\u00222015-12-04T06:48:42Z\u0022 title=\u002212/04/2015 06:48  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 4, 2015\u003C/time\u003E by soulsource**\n  \nAdded Player.log for fresh install of KSP"},{"CreatedByName":"Jeorge","CreatedById":154403,"CreatedDateTime":"2015-12-03T08:20:21Z","Content":"\u003E \n\u003E \n\u003E 17 minutes ago, selfish\\_meme said:\n\u003E \n\u003E \n\u003E I am using the same and mine works right up till it runs out of memory, I assumed thhat was because I had EVE as well but maybe it is a memory leak.\n\u003E \n\nThanks for the help anyway\n\n\u003E \n\u003E \n\u003E 7 minutes ago, soulsource said:\n\u003E \n\u003E \n\u003E The 1 fps comes from Scatterer trying to find a file: CompiledinitDisplacement.shader, which is actually called CompiledInitDisplacement.shader (with an upper case I).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Even after changing this, it doesn\u0027t work for me, but I don\u0027t have time right now to continue bug hunting... Maybe upload your Player.log for blackrag to check for any other obvious issues?\n\u003E \n\nThanks, this fix it for me, now scattering is appearing, but I still have problems with the ocean. I\u0027ll post screenshots later"},{"CreatedByName":"Jeorge","CreatedById":154403,"CreatedDateTime":"2015-12-03T08:33:03Z","Content":"Ocean looks dark. You can only see the details upclose but it\u0027s still fading to dark\n\n![24ffdbr.jpg](http://i64.tinypic.com/24ffdbr.jpg)\n\n![30sadtc.png](http://i68.tinypic.com/30sadtc.png)\n\n**Edited \u003Ctime datetime=\u00222015-12-03T08:48:50Z\u0022 title=\u002212/03/2015 08:48  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by Jeorge**"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-03T09:39:43Z","Content":"Wow, I was away from the thread for a couple of days and I just got my mind blew when coming back. Amazing updates !!"},{"CreatedByName":"Paul_Sawyer","CreatedById":152646,"CreatedDateTime":"2015-12-03T10:35:05Z","Content":"This mod is so awesome it makes me consider stop being a loser and start enhancing my life to buy a new computer - my current laptop barely handles all this beauty. Thank you for your work, blackrack ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  \n\nMeanwhile, I\u0027m not sure if it\u0027s known issue, but I\u0027m getting artifacts below the horizon on the water. I\u0027m not using OpenGL, RSS, Kopernicus or any other mods, that were reported here to have problems, and it happens on a clean install as well.  \n  \n![NtYAkce.png](http://i.imgur.com/NtYAkce.png)\n\n![6WceKab.png](http://i.imgur.com/6WceKab.png)\n\nEDIT:\n\nOk, I\u0027m sorry, I lied when I wrote, that it happens on clean install - it wasn\u0027t actually clear, it was with EVE. Now that I ran it without EVE it looks like everything is all right.  \n  \n![TaJla3V.png](http://i.imgur.com/TaJla3V.png)\n\n**Edited \u003Ctime datetime=\u00222015-12-03T11:06:17Z\u0022 title=\u002212/03/2015 11:06  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by Paul\\_Sawyer**"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2015-12-03T10:53:16Z","Content":"Such ocean. Many wow.\n\nNice work indeed ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2015-12-03T11:16:25Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Jeorge said:\n\u003E \n\u003E \n\u003E Ocean looks dark. You can only see the details upclose but it\u0027s still fading to dark\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![24ffdbr.jpg](http://i64.tinypic.com/24ffdbr.jpg)](http://i64.tinypic.com/24ffdbr.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![30sadtc.png](http://i68.tinypic.com/30sadtc.png)](http://i68.tinypic.com/30sadtc.png \u0022Enlarge image\u0022)\n\u003E \n\nI get similar effects and we are are running similar systems, this is after renaming the file mentioned earlier. Funny effects on ocean at distance.\n\n![PjOF0tn.png](http://i.imgur.com/PjOF0tn.png)\n\nWater looks right, close up, going strange into the distance.\n\n![GTvIBob.png](http://i.imgur.com/GTvIBob.png)"},{"CreatedByName":"AkanoLoki","CreatedById":154276,"CreatedDateTime":"2015-12-03T11:26:11Z","Content":"Oh fantastic oceans!(as well as GPU killers![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif \u0022:confused:\u0022))"},{"CreatedByName":"Kaa253","CreatedById":68628,"CreatedDateTime":"2015-12-03T11:41:52Z","Content":"\u003E \n\u003E \n\u003E 26 minutes ago, selfish\\_meme said:\n\u003E \n\u003E \n\u003E I get similar effects and we are are running similar systems, this is after renaming the file mentioned earlier. Funny effects on ocean at distance.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Water looks right, close up, going strange into the distance.\n\u003E \n\nI am running a similar Linux system too and I have this same result. If I rebuild the ocean again and again I see similar strange effects until occasionally it comes back looking correct and beautiful. Unfortunately I see a significant memory leak occur at every ocean rebuild. I cannot see any error messages in the log (that is after renaming the aforementioned shader file).\n\nA few bugs yet to iron out I presume. When it is good it is gorgeous! Well worth the wait.\n\n**Edited \u003Ctime datetime=\u00222015-12-03T11:44:08Z\u0022 title=\u002212/03/2015 11:44  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by Kaa253**"},{"CreatedByName":"mark7","CreatedById":143108,"CreatedDateTime":"2015-12-03T11:59:45Z","Content":"well I dont find a planetName.txt in the folder,is the latest release compatible with RSS?"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2015-12-03T12:19:31Z","Content":"\u003E \n\u003E \n\u003E 36 minutes ago, Kaa253 said:\n\u003E \n\u003E \n\u003E I am running a similar Linux system too and I have this same result. If I rebuild the ocean again and again I see similar strange effects until occasionally it comes back looking correct and beautiful. Unfortunately I see a significant memory leak occur at every ocean rebuild. I cannot see any error messages in the log (that is after renaming the aforementioned shader file).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E A few bugs yet to iron out I presume. When it is good it is gorgeous! Well worth the wait.\n\u003E \n\nSome of the effects I noticed are affected by other mods like Planetshine and EVE, when they are all removed it is only the middle distance borked and some moiring at the edges."},{"CreatedByName":"Temeter","CreatedById":58056,"CreatedDateTime":"2015-12-03T12:34:37Z","Content":"Amazing work, nuff said. Suprised how much more beautiful Kerbin is starting too look with every new iteration of this mod.\n\nSmall bug report (assuming its just not me): The ocean effects bug out and vanish when the camera gets turned upside down (e.g. while flying a plane in IVA)."},{"CreatedByName":"minepagan","CreatedById":132643,"CreatedDateTime":"2015-12-03T12:42:16Z","Content":"\u003E \n\u003E \n\u003E \n\u003E (ignore this)\n\u003E \n\u003E \n\n**Edited \u003Ctime datetime=\u00222015-12-03T12:50:25Z\u0022 title=\u002212/03/2015 12:50  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by minepagan**\n  \nStupidity."},{"CreatedByName":"Speadge","CreatedById":145302,"CreatedDateTime":"2015-12-03T12:43:48Z","Content":"just wondering as i had no chance to test it yet and get teased all the time:\n\nare the waves actual moving or are they just \u0022hanging\u0022 there? Could someone make a small vid?\n\nI\u0027d appreciate that!\n\n\u003E \n\u003E \n\u003E 6 minutes ago, minepagan said:\n\u003E \n\u003E \n\u003E Ummmmm.....is the gamedata folder supposed to look like this? All the old versions had a \u0027scatterer\u0027 folder.....\n\u003E \n\ni bet you are not supposed to move the Gamedata folder into *Gamedata/scatterer/* - just copy its **contents** (shader \u002B config) into */scatterer/*\n\n*Edit: has been stated before / please read!*\n\n**Edited \u003Ctime datetime=\u00222015-12-03T12:49:10Z\u0022 title=\u002212/03/2015 12:49  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by Speadge**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T12:59:07Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, gkorgood said:\n\u003E \n\u003E \n\u003E also [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I think you forgot a folder. right now it goes \\Scatterer-v0.021\\GameData\\Config\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E you usually make it \\Scatterer-v0.021\\GameData\\scatterer\\Config\n\u003E \n\nIndeed, I was too tired and just zipped everything up and went to bed.\n\n\u003E \n\u003E \n\u003E 7 hours ago, selfish\\_meme said:\n\u003E \n\u003E \n\u003E Does my error message mean you are trying to allocate 32bit memory on a 64bit ksp? I run the 64bit Linux version.\n\u003E \n\nI have no idea, I\u0027ve never seen that error before.\n\n\u003E \n\u003E \n\u003E 7 hours ago, Noname115 said:\n\u003E \n\u003E \n\u003E Also, when I say \u0022map view\u0022, I meant to say the Tracking station, while in-flight the scatterer effects do show up, but for neither the Tracking station or main menu.\n\u003E \n\nEffects are disabled in tracking station and main menu on purpose, they are not needed there and would make loading times longer.\n\n\u003E \n\u003E \n\u003E 7 hours ago, Darren9 said:\n\u003E \n\u003E \n\u003E I\u0027m getting an issue where in cockpit/IVA the ocean vanishes if I roll past 90\\* or go upside-down, I removed EVE and SkyTonemapper so it\u0027s pretty much just part mods left. Is anyone else getting this or will I be making a new install? Looks incredible by the way ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nThis is a current limitation of the method it\u0027s using. If you look straight down at it from above or roll around it disappears. I may or may not be able to fix it.\n\n\u003E \n\u003E \n\u003E 6 hours ago, Azimech said:\n\u003E \n\u003E \n\u003E I changed AMP to 00012 and wind speed to 00006. Other settings didn\u0027t seem to change much.\n\u003E \n\nOmega is also a good setting to play with. try something like amp 3-5, wind speed 15 and omega 1.5\n\nIf you have the GPU for it set m\\_resolution to 1 and fouriergridsize to 256 for extra detail and sharpness.\n\n\u003E \n\u003E \n\u003E 6 hours ago, pargentum said:\n\u003E \n\u003E \n\u003E In 0.021 there are no config files for RSS Earth and Mars.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I copied files from 0.0195 and there are issues.  Earth from space in Staging view looks too blue and too blurry (though it could be just my opinion)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In Map view issues are different and worse (or funnier): see shadowed blue ball over Earth center?\n\u003E \n\nIt\u0027s just your opinion, for the map view scale, I\u0027ll check it out.\n\n\u003E \n\u003E \n\u003E 6 hours ago, cobbman11 said:\n\u003E \n\u003E \n\u003E Okay, one more. Edited, of course ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022:wink:\u0022)[![RU7zHPG.png](http://i.imgur.com/RU7zHPG.png)](http://i.imgur.com/RU7zHPG.png \u0022Enlarge image\u0022)\n\u003E \n\nThat just looks like you dropped a kerbal in a real photo.\n\n\u003E \n\u003E \n\u003E 5 hours ago, Chris P. Bacon said:\n\u003E \n\u003E \n\u003E Glad I\u0027m not the only one having trouble on Linux.  Same deal, 1fps with no mods (except scatterer).  My terrain appears to have vanished too ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\u003E \n\u003E \n\u003E threw everything in a GameData/scatterer folder and made sure the config folder was lowercase\n\u003E \n\nI\u0027ll investigate this as soon as I can.\n\n\u003E \n\u003E \n\u003E 5 hours ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E This... this shot alone... this isn\u0027t just a mod it\u0027s a bloody work of art. Have breakfast on me man. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nThanks a lot!\n\n\u003E \n\u003E \n\u003E 5 hours ago, Faile said:\n\u003E \n\u003E \n\u003E Ocean shaders look absolutely stunning.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Do you plan to add Caustic scattering for god rays and underwater light?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://en.wikipedia.org/wiki/Caustic_(optics)](https://en.wikipedia.org/wiki/Caustic_%28optics%29)\n\u003E \n\nPerhaps later on, I\u0027m considering caustics and reflections.\n\n\u003E \n\u003E \n\u003E 4 hours ago, Jeorge said:\n\u003E \n\u003E \n\u003E Ocean looks dark. You can only see the details upclose but it\u0027s still fading to dark\n\u003E \n\nTry without any other mods? Also try running in different video modes (dx11-opengl etc)\n\n\u003E \n\u003E \n\u003E 2 hours ago, Paul\\_Sawyer said:\n\u003E \n\u003E \n\u003E This mod is so awesome it makes me consider stop being a loser and start enhancing my life to buy a new computer - my current laptop barely handles all this beauty. Thank you for your work, blackrack ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  \n\u003E \n\u003E Meanwhile, I\u0027m not sure if it\u0027s known issue, but I\u0027m getting artifacts below the horizon on the water. I\u0027m not using OpenGL, RSS, Kopernicus or any other mods, that were reported here to have problems, and it happens on a clean install as well.  \n\u003E   \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E EDIT:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Ok, I\u0027m sorry, I lied when I wrote, that it happens on clean install - it wasn\u0027t actually clear, it was with EVE. Now that I ran it without EVE it looks like everything is all right.\n\u003E \n\nThat\u0027s cause by the EVE cloud shadows I\u0027m using a dirty trick to get them to show on the water but it\u0027s also causing these artifacts. I could make them togglable.\n\n\u003E \n\u003E \n\u003E 2 hours ago, selfish\\_meme said:\n\u003E \n\u003E \n\u003E I get similar effects and we are are running similar systems, this is after renaming the file mentioned earlier. Funny effects on ocean at distance.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Water looks right, close up, going strange into the distance.\n\u003E \n\nTry without other mods\n\n\u003E \n\u003E \n\u003E 8 hours ago, Nhawks17 said:\n\u003E \n\u003E \n\u003E Ok odd..... I don\u0027t know if this is because I\u0027m super sampling my screenshots but the shader isn\u0027t showing up in screenshots taken within the game but thats why we have other ways. I don\u0027t even know how you did this in the slightest but I\u0027m so grateful you did.\n\u003E \n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E ![xkDMLvl.jpg](https://i.imgur.com/xkDMLvl.jpg)\n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Not right now. I\u0027m going to guess the configs have changed to accommodate the ocean stuff now so they probably won\u0027t work. Stick with the default stuff.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit: ~~Nevermind, he implemented the configs separately. They should work fine~~ \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Scratch that, I think I need to look into this more ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nIndeed, water disappears or moves if you supersample screenshots. Disable it or just use steam/fraps.\n\n**Edited \u003Ctime datetime=\u00222015-12-03T13:18:19Z\u0022 title=\u002212/03/2015 01:18  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"DuoDex","CreatedById":107061,"CreatedDateTime":"2015-12-03T13:23:58Z","Content":"Lovely update, though it doesn\u0027t seem to be working on Linux.\n\nTesting when I get home with a fresh install/redownload/all the things mod developers like people to test using, just giving you a heads up right now ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T13:46:04Z","Content":"Anyone tried this? [http://forum.kerbalspaceprogram.com/index.php?/topic/110001-105-water-sounds-v11-2015-11-17/](https://forum.kerbalspaceprogram.com/index.php?/topic/110001-105-water-sounds-v11-2015-11-17/)\n\n\u003E \n\u003E \n\u003E 14 minutes ago, DuoDex said:\n\u003E \n\u003E \n\u003E Lovely update, though it doesn\u0027t seem to be working on Linux.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Testing when I get home with a fresh install/redownload/all the things mod developers like people to test using, just giving you a heads up right now ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nI uploaded a new version with the fixed filenames. If it\u0027s what\u0027s causing linux issues it should fix it, else it\u0027ll take a little longer."},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-12-03T14:33:21Z","Content":"I think you may have missed my post in all the noise... I have a way to make craft shadows and lights appear, but not sure about cloud shadows.\n\n\u003E \n\u003E \n\u003E 10 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Well, this bit of code is called to create several meshes [https://github.com/LGhassen/Scatterer/blob/ocean/scatterer/Ocean/OceanNode.cs#L239-L287](https://github.com/LGhassen/Scatterer/blob/ocean/scatterer/Ocean/OceanNode.cs#L239-L287)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E But I haven\u0027t really looked much into or what happens later inside the shader. I cared mostly about getting it running ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nGotcha... Just quickly skimmed it... looks like they do some funky things in there that I honestly have no clue why they do it that way... In this case, they create a plane in front of the camera (much as I would expect... we do a cube for our purposes) but what is odd is the mesh... instead of a single quad with 4 vertices spanning the camera view, they make MANY quads with 1 vertex PER PIXEL. I can\u0027t think of a good reason that they would do this, unless they were doing this in Proland for another engine and the guy porting it to Unity didn\u0027t bother with any optimization.  \n  \nAt any rate, this explains why lights and shadows (and projectors) would not work... they simply can\u0027t. The geometry doesn\u0027t place them in the right location and there is no possible geometry to go off of. However I have a possible work-around though. Much like you\u0027ve seen with the projectors with the ocean geometry, what we can do is create a large quad that moves around the craft that is transparent, and receives shadows and lights. We keep it at ocean level, and just rotate it to always be underneath the craft. It\u0027d have to be somewhat large, but the performance should be pretty negligible (four vertexes only). We\u0027d want to disable projectors on it though.   \n  \nAs for projectors (and by extension cloud shadows), I\u0027m not sure I have a good solution. I\u0027m thinking I could create a companion shader that does something similar as your ocean shader (plane/cube in front of camera) but then in EVE, we need a method to detect that there is no ocean (or it is disabled) so EVE could do this."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T14:42:22Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, rbray89 said:\n\u003E \n\u003E \n\u003E I think you may have missed my post in all the noise... I have a way to make craft shadows and lights appear, but not sure about cloud shadows.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Gotcha... Just quickly skimmed it... looks like they do some funky things in there that I honestly have no clue why they do it that way... In this case, they create a plane in front of the camera (much as I would expect... we do a cube for our purposes) but what is odd is the mesh... instead of a single quad with 4 vertices spanning the camera view, they make MANY quads with 1 vertex PER PIXEL. I can\u0027t think of a good reason that they would do this, unless they were doing this in Proland for another engine and the guy porting it to Unity didn\u0027t bother with any optimization.  \n\u003E   \n\u003E At any rate, this explains why lights and shadows (and projectors) would not work... they simply can\u0027t. The geometry doesn\u0027t place them in the right location and there is no possible geometry to go off of. However I have a possible work-around though. Much like you\u0027ve seen with the projectors with the ocean geometry, what we can do is create a large quad that moves around the craft that is transparent, and receives shadows and lights. We keep it at ocean level, and just rotate it to always be underneath the craft. It\u0027d have to be somewhat large, but the performance should be pretty negligible (four vertexes only). We\u0027d want to disable projectors on it though.   \n\u003E   \n\u003E As for projectors (and by extension cloud shadows), I\u0027m not sure I have a good solution. I\u0027m thinking I could create a companion shader that does something similar as your ocean shader (plane/cube in front of camera) but then in EVE, we need a method to detect that there is no ocean (or it is disabled) so EVE could do this.\n\u003E \n\nThe way I understand it, they do 1 vertex per pixel to maximize the detail onscreen because they displace them later on.\n\nI see, but then we\u0027d also need to have it work for aerial views, so one flat qud won\u0027t do. What do we do then?"},{"CreatedByName":"Space Cowbuoy","CreatedById":117239,"CreatedDateTime":"2015-12-03T14:50:03Z","Content":"How do my lovelies, will this latest release work on 1.0.4 as well or is it strictly for 1.0.5?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T14:50:49Z","Content":"\u003E \n\u003E \n\u003E Just now, Space Cowbuoy said:\n\u003E \n\u003E \n\u003E How do my lovelies, will this latest release work on 1.0.4 as well or is it strictly for 1.0.5?\n\u003E \n\nIt should work but don\u0027t quote me on this."}]}