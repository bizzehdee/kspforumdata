{"TopicId":151119,"ForumId":29,"TopicTitle":"Referencing another Mod (not part modules)","CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2016-10-29T23:18:45Z","PageNum":1,"Articles":[{"CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2016-10-29T23:18:45Z","Content":"\n\u003Cp\u003E\nHello!\n\u003C/p\u003E\n\u003Cp\u003E\nI have a question. I\u0027m trying to improve a mod\u0027s compatibility with \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105198\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0022 rel=\u0022\u0022\u003E@RoverDude\u003C/a\u003E\u0027s \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E Life Support. Part of this mod will sometimes move kerbals into orbit and back without notifying \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E Life Support, which is what I\u0027m trying to address. Some problems with habitation time seem to arise when Kerbals are simply moved onto a vessel in orbit (as the information in USILS isn\u0027t updated accordingly), so I was trying to find a way to modify information concerning when kerbals were last at home.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve stumbled my way through some baby steps and found out how to determine if \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E Life Support is loaded:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E                    bool USILSActive = false;\n                    AssemblyLoader.LoadedAssembly usilsAsm = null;\n\n                    foreach (AssemblyLoader.LoadedAssembly Asm in AssemblyLoader.loadedAssemblies)\n                    {\n                        if (Asm.dllName == \u0022USILifeSupport\u0022)\n                        {\n                            USILSActive = true;\n                            usilsAsm = Asm;\n                        }\n                    }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis appears to work, but I\u0027m not sure how to proceed from here. I know the config node where the settings are stored in the persistence file, but being unfamiliar with the environment, I\u0027m not sure how to go about modifying and saving that information. Can I access it through Highlogic-\u0026gt;currentgame-\u0026gt;config-\u0026gt;getnode? Or do I need to look elsewhere?\n\u003C/p\u003E\n\u003Cp\u003E\nI guess I need to know more about how KSP stores it\u0027s information. So once config nodes are loaded into memory, where are they? If I find them, can I simply modify them and expect \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E Life Support to pick up the changes? If not, I presume I will have to tell \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E Life Support directly about what\u0027s happening and alter some of the information held within it\u0027s objects, and I\u0027m not sure how to go about that. I\u0027ve read some posts on working with \u003Cem\u003Epart\u003C/em\u003E\u00A0modules from other mods, but nothing like this.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCould anyone provide some input please?\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2016-10-29T23:50:21Z","Content":"\n\u003Cp\u003E\nModifying a config node of another mod in game will probably have bad results. If the mod is written to protect its data you won\u0027t be able to anyway without using dirty reflection.\n\u003C/p\u003E\n\u003Cp\u003E\nyou would be much better off approaching the mod author to discuss what you are trying to do first.\n\u003C/p\u003E\n\u003Cp\u003E\nin this case \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105198\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0022 rel=\u0022\u0022\u003E@RoverDude\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2016-10-30T00:04:44Z","Content":"\n\u003Cp\u003E\nYou\u0027re right, and I suspected that might be the case. I don\u0027t want to go diving into another mod\u0027s data if I don\u0027t have to.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn situations where I would like to utilise another mod\u0027s capabilities without introducing a hard dependency, how would I go about doing so without going through parts? I\u0027ve read\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/72060-scary-reflection-stuff-when-wrapping-an-implicit-operator/\u0022 rel=\u0022\u0022\u003Ethis thread\u003C/a\u003E\u00A0but it looks like it operates on parts. It\u0027s possible I\u0027m just\u00A0confused after chasing this down all day.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll raise an issue with RoverDude on his \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS page. Cheers JPLRepo.\n\u003C/p\u003E\n"}]}