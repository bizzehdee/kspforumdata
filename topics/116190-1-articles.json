{"TopicId":116190,"ForumId":16,"TopicTitle":"Maths question. Time, altitude, thrust, Isp.","CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2015-07-17T18:41:54Z","PageNum":1,"Articles":[{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2015-07-17T18:41:54Z","Content":"\n\u003Cp\u003EHaving a go at KSP (v1.04, KER v1.0.17) after a long break and I\u0027m wondering about quite a lot.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EI\u003C/strong\u003E\u003Csub\u003E\u003Cstrong\u003Esp\u003C/strong\u003E\u003C/sub\u003E\u003Cstrong\u003E calculations:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIn v0.90 using an older KER, my Isp calulations as a function of altitude agreed with KER and the game. Not so much now.\u003C/p\u003E\u003Cp\u003EThe formula I used then and now is\u003C/p\u003E\u003Cp\u003EI\u003Csub\u003Esp\u003C/sub\u003E(h) = I\u003Csub\u003Esp(max)\u003C/sub\u003E - (I\u003Csub\u003Esp(max)\u003C/sub\u003E - I\u003Csub\u003Esp(min)\u003C/sub\u003E)*e^(-h/s) , where h is height/altitude and s is atmospheric scale height (5000 for Kerbin).\u003C/p\u003E\u003Cp\u003EThe difference isn\u0027t great but enough to throw off further calculations. I can think of 2 reasons why this no longer gives me the figures I see in the game. Either the maths in game has changed or something funky is going on with the newer KER. Any thoughts on this?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELatest: I just read that scale height no longer works the same way as before so I guess that answers my question. Any info on the maths they use now?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThe new thrust calculations:\u003C/strong\u003E \u003C/p\u003E\u003Cp\u003ENow that thrust for a given engine at a given power setting is a function of altitude (via I\u003Csub\u003Esp\u003C/sub\u003E I assume and fuel flow is now constant for a given power setting for the said engine), is there a page somewhere with useful formulas for calculating target throttle setting throughout a launch/ascent to orbit? Problem is of course the fuel flow determines the rate of mass reduction which in turn determines the necessary rate of power reduction (which already is altitude dependent) for a target acceleration.\u003C/p\u003E\u003Cp\u003EWith the new way scale height works and with all the new maths, I would greatly appreciate it if someone could point me to a page/site that explains the new maths. The KSP wiki only links to Wikipedia on scale height but if there is a KSP specific site out there, a link would be most welcome.\u003C/p\u003E\u003Cp\u003EThere is a lot more but this will do for starters.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-17T19:15:18Z","Content":"\n\u003Cp\u003ECheck the Overhauls for 1.0 thread for details on the model. OhioBob et al did a lot of graphing and digging. tl;dr it\u0027s an 80% Earth atmosphere, so the pressure you get on Earth (via ICAO atmosphere) at 10km is the pressure you get on Kerbin at 8km.\u003C/p\u003E\n"},{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2015-07-17T19:26:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003ECheck the Overhauls for 1.0 thread for details on the model.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThread bookmarked! Thanks tons.\u003C/p\u003E\n"},{"CreatedByName":"Jimbimbibble","CreatedById":77859,"CreatedDateTime":"2015-07-17T20:02:31Z","Content":"\n\u003Cp\u003ENow that they changed how Isp works, the kind of calculations you want to do are no longer possible to do explicitly (that is, without solving a lot of differential equations). Your best bet would be to solve iteratively using a computer. You would have to write the code to do that, but it should be possible.\u003C/p\u003E\n"},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2015-07-17T21:01:50Z","Content":"\n\u003Cp\u003EI also thought about the problem of calculating the ideal ascent profile.\u003C/p\u003E\u003Cp\u003EBefore 1.0 it was relatively easy:\u003C/p\u003E\u003Cp\u003E- \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/46194\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/46194\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E- \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/58531\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/58531\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHowever currently I see no way to do this again, because of the generated drag. Drag became a much more complex calculation that now depends on\u003C/p\u003E\u003Cp\u003E- Form of the rocket\u003C/p\u003E\u003Cp\u003E- Angle of attack\u003C/p\u003E\u003Cp\u003E- Supersonic drag\u003C/p\u003E\u003Cp\u003EI can not see, how exporting these things to an external program could be done.\u003C/p\u003E\n"},{"CreatedByName":"Jimbimbibble","CreatedById":77859,"CreatedDateTime":"2015-07-17T23:48:29Z","Content":"\n\u003Cp\u003EYou would have to use numerical methods to evaluate the trajectory given a set of parameters and then iterate on those parameters to find the best solution. A genetic algorythm could be useful for something like this. But now we\u0027re talking about graduate level stuff here. It\u0027s doable for sure, just not easy.\u003C/p\u003E\n"}]}