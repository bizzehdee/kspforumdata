{"TopicId":165088,"ForumId":20,"TopicTitle":"How to Re-Compile a Mod for 1.2.2?","CreatedByName":"hypervelocity","CreatedById":136426,"CreatedDateTime":"2017-09-02T18:07:31Z","PageNum":1,"Articles":[{"CreatedByName":"hypervelocity","CreatedById":136426,"CreatedDateTime":"2017-09-02T18:07:31Z","Content":"\n\u003Cp\u003E\nHey guys! hope everyone is having a great day today!\n\u003C/p\u003E\n\u003Cp\u003E\nI was wondering if there were any tutorials or guides related to re-compiling mods. I had been using a great mod in 1.1.3 that is no longer available for 1.2.2 (ksp version I\u0027m using). The mod owner kindly offered the source code for me to re-compile it for 1.2.2, but I am clueless on how to do it - however I would love to learn!\n\u003C/p\u003E\n\u003Cp\u003E\nAny tips or directions on how to start my way into doing the aforementioned?\n\u003C/p\u003E\n\u003Cp\u003E\nMany thanks in advance! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2017-09-02T19:05:07Z","Content":"\n\u003Cp\u003E\nFirst you need to set up the tools for compiling a mod. The intro thread summarizes this well in its \u0022IDE setup\u0022 section:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7730599743\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/153765-getting-started-the-basics-of-writing-a-plug-in/\u0026amp;do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nI recommend compiling\u00A0for 1.1.3 first if this is your first rodeo, as a sort of \u0022dry run\u0022. That way you know that it\u00A0\u003Cem\u003Eshould\u003C/em\u003E\u00A0compile without changes, and you can assume that any problems you encounter are due to how you have your compiler set up. The main gotcha in compiling a newly downloaded\u00A0mod is how to handle its\u00A0references to the KSP DLLs. Every mod needs such references, but every mod does it differently; some encode full absolute paths to the author\u0027s Steam library in the csproj file, some expect you to copy the DLLs into the mod\u0027s folder, etc. I haven\u0027t found a generalized\u00A0method for solving this other than reading the csproj file to see where the HintPath of the UnityEngine reference points. It\u0027s also possible for a mod to have references to other mods, which complicates things somewhat but generally works the same way.\n\u003C/p\u003E\n\u003Cp\u003E\nThen once you\u0027re confident that your tools are working, you can switch those references to 1.2.2, attempt a fresh compile,\u00A0and be sure that all the\u00A0\u003Cem\u003Enew\u003C/em\u003E\u00A0problems are due to changes in 1.2.2. Typically you\u00A0will need to make\u00A0changes to the mod\u0027s C# code at this point, so if you\u0027re not comfortable with that, you\u0027ll need to get comfortable. The changes are necessitated by changes that SQUAD made to KSP between those versions, for example they might delete or rename a function that the mod was using, in which case you need to find or create a replacement for that function. Some mods also include their own explicit version locking, which you would also need to update if this mod has that.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally you\u0027ll need to generate a package that you (or other players, if you\u0027re planning to publish your changes) can install in GameData. Typically the skeleton of the mod\u0027s GameData folder is included in the source package, and you just need to copy the DLL or DLLs to the right subfolder, then copy the\u00A0mod folder to GameData.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can see an example of the changes needed to update a mod from 1.2.2 to 1.3.0 here:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Starwaster/ProceduralParts/pull/9/files\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Starwaster/ProceduralParts/pull/9/files\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"genericeventhandler","CreatedById":149557,"CreatedDateTime":"2017-09-02T22:19:32Z","Content":"\n\u003Cp\u003E\nI recompile 1.3 mods\u00A0for 1.2.2 regularly.\n\u003C/p\u003E\n\u003Cp\u003E\nThe first thing you should do is comment out any errors,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are lucky, then it should compile and work under 1.2.2, \u00A0although any localised strings might not work at all,\u00A0\u00A0So edit anything that doesn\u0027t work with some psuedo strings.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor compiling 1.0.3 to 1.2.2 most will work if you reference the correct dlls in your project, there are some changes in the api, so you will have to make a best guess at the extra values that you need to provide.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe big problem is parts, I don\u0027t have the correct stuff or the knowledge to convert a part in one format to another format.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHth\n\u003C/p\u003E\n\u003Cp\u003E\nGEH\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-09-02T22:19:42Z\u0022 title=\u002209/02/2017 10:19  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 2, 2017\u003C/time\u003E by genericeventhandler\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benjamin Kerman","CreatedById":172792,"CreatedDateTime":"2017-09-03T15:06:46Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/156657-hebarusan/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022156657\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/156657-hebarusan/\u0022 rel=\u0022\u0022\u003E@HebaruSan\u003C/a\u003E\u00A0looks like they removed BaseEventData \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-09-03T15:07:09Z\u0022 title=\u002209/03/2017 03:07  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 3, 2017\u003C/time\u003E by Benjamin Kerman\u003C/strong\u003E\n\u003Cbr\u003ECause that and versioning are the only files changed :p\n\u003C/span\u003E\n"}]}