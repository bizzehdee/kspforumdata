{"TopicId":162923,"ForumId":15,"TopicTitle":"How to add Normal maps and regular diffuse \u0026quot;painting\u0026quot;","CreatedByName":"ZuluDoggy","CreatedById":175217,"CreatedDateTime":"2017-07-05T17:06:59Z","PageNum":1,"Articles":[{"CreatedByName":"ZuluDoggy","CreatedById":175217,"CreatedDateTime":"2017-07-05T17:06:59Z","Content":"\n\u003Cp\u003E\nOk, I\u0027ve been putzing around and made a few parts with just a painted texture and gotten them to work (mostly).\u00A0 Now I\u0027d like to be able to do some normal mapping and add it to the diffuse (or other) \u0022painting\u0022 on a part.\u00A0 I\u0027ve searched high and low, read numerous posts, watched numerous videos, but none seem to show how to actually combine the two.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve figured out how to actually create the normal map (through the NVIDIA tools in Photoshop) and can add the normal map to a part I create (using Blender), but it results in just a part that has no colors, just a textured surface.\u00A0 I can also get the \u0022painted\u0022 surface all the way into the game itself, but it\u0027s just painted with no texture.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve read/seen somewhere that two parts are needed - the one on which you intend to have the diffuse (or other) \u0022painting\u0022, and a low-poly copy on which you create the normal map.\u00A0 Is this correct?\u00A0 And if it is, how do you UV map them both from the same scene in Blender?\u00A0 I\u0027ve created an object (a cube), duplicated it in-scene and tried separately UV unwrapping them both only to have Blender put both UVs on the same .png file no matter what I try to prevent it.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve even tried making two UV maps (one regular, one the \u0027normal\u0027 map)\u00A0of the same object but cannot figure out how (in Blender again) to assign\u00A0both UV maps to the same object.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOr do you need to create two separate UV maps in Blender (one that you would paint as usual and the other a normal-mapped copy) and then somehow combine them in Unity?\n\u003C/p\u003E\n\u003Cp\u003E\nOr is it something completely different (and knowing my tendency to over-complicate things, probably much simpler)?\n\u003C/p\u003E\n\u003Cp\u003E\nI would appreciate any help you can offer - even just pointing me to a good video or post is acceptable.\u00A0 Thanks in advance for your help!\n\u003C/p\u003E\n\u003Cp\u003E\nZD\n\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2017-07-05T20:38:20Z","Content":"\n\u003Cp\u003E\nYou don\u0027t need two parts, at least not in the game.\n\u003C/p\u003E\n\u003Cp\u003E\nIt sounds like what you need to do is set the material you use in Unity to something that uses a normal map instead of just diffuse.\u00A0I don\u0027t recall exact name but it will be something like \u0022bumped\u0022. \u00A0That material accepts two textures, one is your diffuse and the other will be your normal map.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s important to import the normal map graphic the correct way into Unity. Again, instead of importing it as a texture you will want to import it as a normal map.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m away from my PC or I could give more specific details. Maybe this is enough to get you down the right path.\n\u003C/p\u003E\n"},{"CreatedByName":"ZuluDoggy","CreatedById":175217,"CreatedDateTime":"2017-07-05T21:34:26Z","Content":"\n\u003Cp\u003E\nIt\u0027s a start, thanks.\u00A0 I\u0027ll see if I can work on it in a little bit.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nZD\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2017-07-06T01:29:53Z","Content":"\n\u003Cp\u003E\nNew to this too so may be off base here but the standard KSP shader in Unity KSP/Diffuse only has a spot for the texture - if you chose a different shader (not sure which one - try one with Bumped in it as Kurld suggested) you may see two spots for textures- one the color and the other the normals. I think the normal needs to be in a different format too - DXT5nm? The positioning of the bumps should use the same UV mapping as the texture.\n\u003C/p\u003E\n"},{"CreatedByName":"ZuluDoggy","CreatedById":175217,"CreatedDateTime":"2017-07-06T14:24:13Z","Content":"\n\u003Cp\u003E\nOk, that\u0027s the first I\u0027ve heard of a different format for a normal map.\u00A0\u00A0Does anyone else have any information on this?\u00A0 I ran out of time last evening and wasn\u0027t able to work in Unity to see if there were options there.\n\u003C/p\u003E\n\u003Cp\u003E\nZD\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2017-07-06T17:34:40Z","Content":"\n\u003Cp\u003E\nI think unity converts it automatically, as long as you tell unity the graphic you are importing is a normal map.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://imgur.com/a/e2jCI\u0022 rel=\u0022external nofollow\u0022\u003EI created a short tutorial with screenshots on imgur.\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Balto-the-Wolf-Dog","CreatedById":17192,"CreatedDateTime":"2017-07-06T20:35:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223113054\u0022 data-ipsquote-contentid=\u0022162923\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499351053\u0022 data-ipsquote-userid=\u0022175217\u0022 data-ipsquote-username=\u0022ZuluDoggy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, ZuluDoggy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, that\u0027s the first I\u0027ve heard of a different format for a normal map.\u00A0\u00A0Does anyone else have any information on this?\u00A0 I ran out of time last evening and wasn\u0027t able to work in Unity to see if there were options there.\n\u003C/p\u003E\n\u003Cp\u003E\nZD\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223113234\u0022 data-ipsquote-contentid=\u0022162923\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499362480\u0022 data-ipsquote-userid=\u002279950\u0022 data-ipsquote-username=\u0022Kurld\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kurld said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think unity converts it automatically, as long as you tell unity the graphic you are importing is a normal map.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://imgur.com/a/e2jCI\u0022 rel=\u0022external nofollow\u0022\u003EI created a short tutorial with screenshots on imgur.\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI never got the unity grayscale converter to do anything for me, but it might be your problem.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst, if your bumpmap image is set to something like \u0022texture\u0022 or \u0022Sprite\u0022 in unity, set it to normal map. At that point unity will assume you want it to do the conversion; I\u0027ve never gotten it to work well, and it won\u0027t work at all with a premade map. When using a premade map make sure you uncheck \u0022generate from grayscale\u0022. After that it\u0027s as has been stated above: KSP has a whole mess of shaders that mix and match support for various attributes, with KSP diffuse supporting only diffuse. In this case you want (from the KSP material list under the shade drop-down) Emissive/Bumped Specular.\n\u003C/p\u003E\n\u003Cp\u003E\nWhy you can\u0027t have a bumped Emissive that isn\u0027t Specular is beyond me, given you can have one that isn\u0027t Emissive\u00A0\u003Cem\u003Eor\u003C/em\u003E\u00A0Specular, but sliding the specularity slider down gets you the same results. On the same coin, I\u0027m not sure why any more than one all-supporting material is necessary. Perhaps it\u0027s an optimisation thing.\n\u003C/p\u003E\n"},{"CreatedByName":"ZuluDoggy","CreatedById":175217,"CreatedDateTime":"2017-07-07T00:40:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223113234\u0022 data-ipsquote-contentid=\u0022162923\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499362480\u0022 data-ipsquote-userid=\u002279950\u0022 data-ipsquote-username=\u0022Kurld\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Kurld said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think unity converts it automatically, as long as you tell unity the graphic you are importing is a normal map.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://imgur.com/a/e2jCI\u0022 rel=\u0022external nofollow\u0022\u003EI created a short tutorial with screenshots on imgur.\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks - makes it easy to see what you were doing.\u00A0 I\u0027ll give it a shot in a little bit.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223113427\u0022 data-ipsquote-contentid=\u0022162923\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499373338\u0022 data-ipsquote-userid=\u002217192\u0022 data-ipsquote-username=\u0022Balto-the-Wolf-Dog\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Balto-the-Wolf-Dog said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI never got the unity grayscale converter to do anything for me, but it might be your problem.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhile I could make grayscale heightmaps in Photoshop, most everything I\u0027ve read said a normal map (bluish-purple) is the way to go.\u00A0 Sounds like there might be a reason for that.\n\u003C/p\u003E\n\u003Cp\u003E\nZD\n\u003C/p\u003E\n"},{"CreatedByName":"Balto-the-Wolf-Dog","CreatedById":17192,"CreatedDateTime":"2017-07-07T00:59:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223113602\u0022 data-ipsquote-contentid=\u0022162923\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499388042\u0022 data-ipsquote-userid=\u0022175217\u0022 data-ipsquote-username=\u0022ZuluDoggy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, ZuluDoggy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks - makes it easy to see what you were doing.\u00A0 I\u0027ll give it a shot in a little bit.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile I could make grayscale heightmaps in Photoshop, most everything I\u0027ve read said a normal map (bluish-purple) is the way to go.\u00A0 Sounds like there might be a reason for that.\n\u003C/p\u003E\n\u003Cp\u003E\nZD\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNormal maps are always bluescale, if that\u0027s the proper terminology. The shades determine \u0022topology\u0022 as far as the lighting engine is concerned, and contain information not only about height but also angle. You definitely want one of those. I use an online normal map generator personally as I haven\u0027t had much luck with unity\u0027s. The point is when you designate your map as a normal map in unity, unity will assume you want it to build a blue map from a grayscale image unless you uncheck \u0022generate from grayscale\u0022, which is checked by default. Letting unity try to generate a normal map from something that is already a normal map will result (probably) in nothing usable. I had a problem very similar to yours when I was getting started, and got hung up in two places: the first was trying to hand paint a simple normal bluescale (which is basically impossible), and the second was failing to designate a proper map as a normal map and uncheck the grayscale box.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you click on your normal map texture in unity, the drop-down menu should specify \u0022normal map\u0022, as opposed to \u0022texture\u0022 or \u0022Sprite\u0022, and \u0022generate from grayscale\u0022 should be off, since the normal map is already a blue map.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: that imgur series tutorial does a better job of explaining it than I do. Just follow that and you should be good. Normal maps are kind of arcane, but they\u0027re easy to produce and use.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-07-07T01:05:56Z\u0022 title=\u002207/07/2017 01:05  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 7, 2017\u003C/time\u003E by Balto-the-Wolf-Dog\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CobaltWolf","CreatedById":105588,"CreatedDateTime":"2017-07-07T02:53:13Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/175217-zuludoggy/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022175217\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/175217-zuludoggy/\u0022 rel=\u0022\u0022\u003E@ZuluDoggy\u003C/a\u003E Unity Convert-From-Grayscale is fine as a preview, but produces issues in game. use a 3rd party program like xNormal to convert your grayscale bump maps to height maps before exporting to the game. Compare the base texture and the NRM texture in this dropbox link, that\u0027s what you\u0027re looking for to start with. I just use modified layers from my diffuse to create the bump map effects.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/sh/agf0oo98yo8g121/AADhZuxNXBu1JKhQt0lEoDo4a?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/agf0oo98yo8g121/AADhZuxNXBu1JKhQt0lEoDo4a?dl=0\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2017-07-07T16:47:41Z","Content":"\n\u003Cp\u003E\nwhy create a greyscale then try to convert it to purple?\n\u003C/p\u003E\n\u003Cp\u003E\nif you have a high and low poly model in blender, you can create directly the normal map (purple) from the high poly, easier faster better.\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-07-08T15:54:43Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022http://cpetry.github.io/NormalMap-Online/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://cpetry.github.io/NormalMap-Online/\u003C/a\u003E\u00A0 \u00A0 I\u0027ve had good luck with this online tool for converting normal maps or generating them from grayscale height maps.\n\u003C/p\u003E\n"},{"CreatedByName":"CobaltWolf","CreatedById":105588,"CreatedDateTime":"2017-07-08T20:28:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223114074\u0022 data-ipsquote-contentid=\u0022162923\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499446061\u0022 data-ipsquote-userid=\u0022133496\u0022 data-ipsquote-username=\u0022Skalou\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/7/2017 at 0:47 PM, Skalou said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhy create a greyscale then try to convert it to purple?\n\u003C/p\u003E\n\u003Cp\u003E\nif you have a high and low poly model in blender, you can create directly the normal map (purple) from the high poly, easier faster better.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPersonally, I like just texturing the normal details rather than having to do a bunch more modeling. But I\u0027m really comfortable with thinking in terms of (black\u0026lt;\u0026gt;white) = height.\n\u003C/p\u003E\n"},{"CreatedByName":"ZuluDoggy","CreatedById":175217,"CreatedDateTime":"2017-07-09T01:41:38Z","Content":"\n\u003Cp\u003E\nSo what am I doing wrong here?\u00A0 Here are my uv map and normal map: \u003Ca href=\u0022http://i.imgur.com/nUakwxY.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/nUakwxY.jpg\u003C/a\u003E\u00A0(uv)\u00A0 \u00A0\u003Ca href=\u0022http://i.imgur.com/4RamvGF.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/4RamvGF.jpg\u003C/a\u003E\u00A0 (normal)\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the normal map imported to Unity (note unchecked \u0027convert from grayscale\u0027): \u003Ca href=\u0022http://i.imgur.com/r78sgYN.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/r78sgYN.jpg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHere are the 2 assigned to the box in Unity, the second as a Bump Map (my only choice in any of the KSP bumped categories): \u003Ca href=\u0022http://i.imgur.com/kyM3MBz.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/kyM3MBz.jpg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd finally, the resulting box immediately before exporting.\u00A0 No surface variations whatsoever.\u00A0 \u003Ca href=\u0022http://i.imgur.com/VXu4gw3.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/VXu4gw3.jpg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried making normal maps in both Photoshop and Gimp, I\u0027ve used both Blender and Wings3D to do the modeling,\u00A0I\u0027m using Unity v5.4.5, and I\u0027m using the \u0022PartTools_AssestBundles\u0022 found somewhere on these boards.\n\u003C/p\u003E\n\u003Cp\u003E\nI admit it, I\u0027m out of ideas.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nZD\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}