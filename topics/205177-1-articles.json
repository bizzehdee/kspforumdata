{"TopicId":205177,"ForumId":70,"TopicTitle":"Extreme FPS drops in Map View/Tracking Station, Low Ship Count","CreatedByName":"WindupHero7","CreatedById":208448,"CreatedDateTime":"2021-10-07T16:34:24Z","PageNum":1,"Articles":[{"CreatedByName":"WindupHero7","CreatedById":208448,"CreatedDateTime":"2021-10-07T16:34:24Z","Content":"\n\u003Cp\u003E\nAs the title says, I\u0027m suddenly having extreme FPS drops when I open the map view or enter the tracking station, regardless of current flight state. I get a stable ~40 FPS when viewing my ship, but the moment I press M it drops to an average of 3.7. Framerate snaps right back to ~40 upon closing the map.\u00A0\u003Cspan\u003EOddly enough, CPU and GPU usage actually drops when opening the map- from 33% CPU and 60-100% GPU in flight view down to ~16% CPU and less than 10% GPU in map mode.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a fairly early career so the number of vessels and debris in orbit is relatively low, 20 vessels and 8 debris, and I\u0027ve only got two ships in a different \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E- one around Mun and another on its way to Eve.\n\u003C/p\u003E\n\u003Cp\u003E\nI have a suite of visual mods installed including Scatterer and \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, and heavy-math mods including \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E and Trajectories (I know that one is usually to blame for things like this, but removing it has no effect), but I\u0027ve used them all for a long time and never had this issue before. The only new additions are Deadly Reentry and AVP, but with AVP performing fine in flight mode I don\u0027t think it\u0027s the cause of my map issues and I don\u0027t see why Deadly Reentry would have an affect.\n\u003C/p\u003E\n"},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2021-10-07T17:31:34Z","Content":"\n\u003Cp\u003E\nLogs? If the game is continuously throwing exceptions then that would make it run really slowly, and would also be very conspicuous in the log files.\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002275006\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed8955593192\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/\u0026amp;do=embed\u0022 style=\u0022height:195px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nIf you recently added AVP, did you remove the default \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E configs (BoulderCo) or whatever you were using before? Having several conflicting configs might make a difference on a sufficiently large scale of a planet, without showing up much/at all in flight because you only see a small part of the planet at once.\n\u003C/p\u003E\n"},{"CreatedByName":"WindupHero7","CreatedById":208448,"CreatedDateTime":"2021-10-08T03:54:25Z","Content":"\n\u003Cp\u003E\nI\u0027m not experienced with Google Drive but here\u0027s the\u00A0\u003Ca href=\u0022https://drive.google.com/file/d/1an95sEsEosn59B0OGDWRhj_tP6rCWrkm/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Elog\u003C/a\u003E\u00A0if I\u0027ve shared it correctly. If I\u0027m reading this correctly, I\u0027m getting exceptions from Contracts Plus? Or is it specific to the WBIContractScenario, which would be Wild Blue?\n\u003C/p\u003E\n\u003Cp\u003E\nI did remove all other \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E configs, and I should note that this FPS drop didn\u0027t start the moment I installed AVP- map view worked well for a while. One thing that did change before the slowdown happened is I picked up a few contracts, so it seems the exception is related.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-10-08T07:05:57Z\u0022 title=\u002210/08/2021 07:05  AM\u0022 data-short=\u00222 yr\u0022\u003EOctober 8, 2021\u003C/time\u003E by WindupHero7\u003C/strong\u003E\n\u003Cbr\u003EEdited link, uploaded wrong log file\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2021-10-18T12:38:25Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/208448-winduphero7/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022208448\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/208448-winduphero7/\u0022 rel=\u0022\u0022\u003E@WindupHero7\u003C/a\u003E\u00A0you did get some exceptions from WBIContractScenario. Twenty-two. Those were happening when it was processing destroyed vessels. That\u0027s not likely to be the cause of your problems.\n\u003C/p\u003E\n\u003Cp\u003E\nThe bulk of the exceptions were from kOS; 2584\u00A0ArgumentOutOfRangeException and were continuously spamming the log for a period of time. That right there is likely why performance dropped and yes, CPU usage may well have dropped as writing the log was taking priority over execution of game code.\n\u003C/p\u003E\n"},{"CreatedByName":"WindupHero7","CreatedById":208448,"CreatedDateTime":"2021-10-18T20:26:25Z","Content":"\n\u003Cp\u003E\nOops, I didn\u0027t go back far enough to see those ones. That\u0027s odd though, I\u0027ve had kOS installed for a long long time and never had problems with it, and honestly haven\u0027t even used any kOS scripting yet in this save.\n\u003C/p\u003E\n\u003Cp\u003E\nSince the problem seems to be local to the map view, is there something unique that kOS does only when the map is open?\u00A0\n\u003C/p\u003E\n"}]}