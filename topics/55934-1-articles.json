{"TopicId":55934,"ForumId":15,"TopicTitle":"Glowing features on models/parts?","CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-12T19:58:54Z","PageNum":1,"Articles":[{"CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-12T19:58:54Z","Content":"\n\u003Cp\u003EI\u0027m currently wrapping my head around my very first modeling project for KSP, but I\u0027m working towards my eventual goal, which is creating a multitude of sci-fi themed parts (to fill the appalling lack of such parts). One of the features that these parts will have is glowing features on the model, (like softly glowing colored lines, for instance).\u003C/p\u003E\u003Cp\u003EHow is this accomplished (in general) with Blender -\u0026gt; KSP? Is this a texture thing? A shader thing? Both? Something I have to take care of in Blender? In the config?\u003C/p\u003E\n"},{"CreatedByName":"astropapi1","CreatedById":57507,"CreatedDateTime":"2013-12-12T20:01:04Z","Content":"\n\u003Cp\u003EYou might want to look at the way engines turn red when firing, or small stock batteries that have a little green LED. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-12T21:18:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022astropapi1\u0022 data-cite=\u0022astropapi1\u0022\u003E\u003Cdiv\u003EYou might want to look at the way engines turn red when firing, or small stock batteries that have a little green LED. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt looks like, at least with KW, it\u0027s done using an animation? That doesn\u0027t make any sense to me:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E\u003Cbr\u003E{\u003Cbr\u003E      name = ModuleAnimateHeat\u003Cbr\u003E      ThermalAnim = GriffonEmissiveAnim\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EIt looks like the glowing is done using an emissive texture on some other mods? Is it autoloaded based on part name? Hmm...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-12T21:34:38Z\u0022 title=\u002212/12/2013 09:34  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 12, 2013\u003C/time\u003E by JordanL\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-12-12T21:56:14Z","Content":"\n\u003Cp\u003Eits a shader, KSP -\u0026gt; Emssive (diffuse, bumped, spec, etc)\u003C/p\u003E\u003Cp\u003EWhen you select it, you get a third texture slot for an emissive, which is a black and white gradient map (black is no glow, white is full glow)\u003C/p\u003E\u003Cp\u003EFor engine glow, at this point you set up an animation on the emissive Red,Green,Blue parameters for your material so your heat glow has a curve (time code zero is for temperature = 0, and the end time code is for max time code)\u003C/p\u003E\u003Cp\u003EI\u0027ve never used a glow outside of the engine, so I\u0027m not exactly sure how you control it for normal parts/lights or whatever.\u003C/p\u003E\n"},{"CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-12T22:04:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiberion\u0022 data-cite=\u0022Tiberion\u0022\u003E\u003Cdiv\u003Eits a shader, KSP -\u0026gt; Emssive (diffuse, bumped, spec, etc)\u003Cp\u003EWhen you select it, you get a third texture slot for an emissive, which is a black and white gradient map (black is no glow, white is full glow)\u003C/p\u003E\u003Cp\u003EFor engine glow, at this point you set up an animation on the emissive Red,Green,Blue parameters for your material so your heat glow has a curve (time code zero is for temperature = 0, and the end time code is for max time code)\u003C/p\u003E\u003Cp\u003EI\u0027ve never used a glow outside of the engine, so I\u0027m not exactly sure how you control it for normal parts/lights or whatever.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe shader is selected after you import the model into Unity, right?\u003C/p\u003E\u003Cp\u003EI\u0027m still very new at this.\u003C/p\u003E\n"},{"CreatedByName":"Dispatcher","CreatedById":78707,"CreatedDateTime":"2013-12-13T00:41:21Z","Content":"\n\u003Cp\u003ECorrect. You set the shader to one of KSP\u0027s shaders in Unity.\u003C/p\u003E\n"},{"CreatedByName":"astropapi1","CreatedById":57507,"CreatedDateTime":"2013-12-13T00:45:25Z","Content":"\n\u003Cp\u003EGood... good luck. I\u0027m too lazy to learn all that stuff. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-12-13T01:39:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JordanL\u0022 data-cite=\u0022JordanL\u0022\u003E\u003Cdiv\u003EThe shader is selected after you import the model into Unity, right?\u003Cp\u003EI\u0027m still very new at this.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, once its imported you click on the \u0022Material\u0022 folder and it should have the individual materials from your model.\u003C/p\u003E\u003Cp\u003EI made a Unity setup tutorial video, if you watch it from about 2:45 it should show you how to import files and set up their materials and textures, though in it I don\u0027t select one of the emissive shaders.\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/EFWF6Qv9Dhk?start=168\u0026amp;feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"WinkAllKerb\u0026#039;\u0026#039;","CreatedById":78047,"CreatedDateTime":"2013-12-14T16:10:24Z","Content":"\n\u003Cp\u003Eyou\u0027ll find all you need in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/25013\u0022 rel=\u0022external nofollow\u0022\u003EHoojiwana modding link compil thread\u003C/a\u003E (light \u002B emmissive \u002B engine sections)\u003C/p\u003E\u003Cp\u003EHope it help.\u003C/p\u003E\n"},{"CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-15T08:34:02Z","Content":"\n\u003Cp\u003EAlright, so all of your help got me very far. The problem now is that I seem to have done everything correctly, and I still don\u0027t have the glow working.\u003C/p\u003E\u003Cp\u003EI created a KSP/Emissive/Specular shader, and made an emissive texture that\u0027s greyscaled (black being no glow), assigned it in Unity. I then created an animation which cycled the alpha of the emissive between 1.5 and -.25 over the course of 3 seconds (named EmissiveAnim), exported it using the PartTools, and created the cfg file.\u003C/p\u003E\u003Cp\u003EBut no joy.\u003C/p\u003E\u003Cp\u003EThis is what the cfg looks like (for testing purposes)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPART\u003Cbr\u003E{\u003Cbr\u003E// --- general parameters ---\u003Cbr\u003Ename = TestFuselage\u003Cbr\u003Emodule = Part\u003Cbr\u003Eauthor = Jordan\u003Cbr\u003E\u003Cbr\u003E// --- asset parameters ---\u003Cbr\u003Emesh = model.mu\u003Cbr\u003Escale = 1.0\u003Cbr\u003ErescaleFactor = 1.0\u003Cbr\u003E\u003Cbr\u003E// --- node definitions ---\u003Cbr\u003Enode_stack_top = 0.0, 6.0, 0.0, 0.0, 1.0, 0.0, 2\u003Cbr\u003Enode_stack_bottom = 0.0, -6.0, 0.0, 0.0, 1.0, 0.0, 2\u003Cbr\u003E\u003Cbr\u003E// --- editor parameters ---\u003Cbr\u003ETechRequired = advConstruction\u003Cbr\u003Ecost = 225\u003Cbr\u003Ecategory = 0\u003Cbr\u003Esubcategory = 0\u003Cbr\u003Etitle = Test Fuselage\u003Cbr\u003Emanufacturer = Jordan\u003Cbr\u003Edescription = this is a test\u003Cbr\u003E\u003Cbr\u003E// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision\u003Cbr\u003EattachRules = 1,1,1,1,1\u003Cbr\u003E\u003Cbr\u003E// --- standard part parameters ---\u003Cbr\u003Emass = 0.5\u003Cbr\u003EdragModelType = default\u003Cbr\u003Emaximum_drag = 0.2\u003Cbr\u003Eminimum_drag = 0.3\u003Cbr\u003EangularDrag = 2\u003Cbr\u003EcrashTolerance = 6\u003Cbr\u003EmaxTemp = 2900\u003Cbr\u003EbreakingForce = 5000\u003Cbr\u003EbreakingTorque = 5000\u003Cbr\u003E\u003Cbr\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = LiquidFuel\u003Cbr\u003E amount = 405\u003Cbr\u003E maxAmount = 405\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxidizer\u003Cbr\u003E amount = 495\u003Cbr\u003E maxAmount = 495\u003Cbr\u003E}\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003Ename = ModuleAnimateGeneric\u003Cbr\u003EanimationName = EmissiveAnim\u003Cbr\u003EanimSwitch = true\u003Cbr\u003EisOneShot = true\u003Cbr\u003E}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EFor the longest time my part was actually falling through the ground, but I think it was because I didn\u0027t declare the mesh and had allowCollisions on 0. After fixing those two, it no longer falls through things.\u003C/span\u003E (It\u0027s still falling through the ground, it\u0027s just no longer falling through other parts. I think I screwed up the collision mesh somehow.)\u003C/p\u003E\u003Cp\u003EBut when I load the part on the launch pad I have no emissive going on at all.\u003C/p\u003E\u003Cp\u003EAny pointers?\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EEven weirder, in Unity if I set up a camera and press play it animates the emissive properly.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-15T09:03:10Z\u0022 title=\u002212/15/2013 09:03  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 15, 2013\u003C/time\u003E by JordanL\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"WinkAllKerb\u0026#039;\u0026#039;","CreatedById":78047,"CreatedDateTime":"2013-12-15T09:34:22Z","Content":"\n\u003Cp\u003Etry this out: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/25023\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/25023\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eplay with \u0027intensity\u0027 for light and the 3 \u0027emmissivecolor\u0027 value (also notice that regarding light and shader ksp overpass/ignore a few unity param).\u003C/p\u003E\u003Cp\u003ETry step by step you part with this tuto you should be oki.\u003C/p\u003E\n"},{"CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-15T09:43:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Etry this out: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/25023\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/25023\u003C/a\u003E\u003Cp\u003Eplay with \u0027intensity\u0027 for light and the 3 \u0027emmissivecolor\u0027 value (also notice that regarding light and shader ksp overpass/ignore a few unity param).\u003C/p\u003E\u003Cp\u003ETry step by step you part with this tuto you should be oki.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... so I should use the emissive color to control the glow instead of the alpha?\u003C/p\u003E\n"},{"CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-16T08:30:45Z","Content":"\n\u003Cp\u003EYeah, this one has me stumped. I followed all these tutorials before I posted this, and they haven\u0027t helped. :/\u003C/p\u003E\n"},{"CreatedByName":"WinkAllKerb\u0026#039;\u0026#039;","CreatedById":78047,"CreatedDateTime":"2013-12-16T10:34:19Z","Content":"\n\u003Cp\u003Esome other related things may be: \u003C/p\u003E\u003Cp\u003E- check your anim hierarchy (sometime better to split prefab and isolate/separate different fonctionnality top of root within different game object) unity animation(s) component is very sensitive to hierarchy and may dislike in certain case to be imbricated.\u003C/p\u003E\u003Cp\u003E- blender layer and unity shader, from what i experienced usually better to separate shader by layer in blender if you use multiple ones\u003C/p\u003E\u003Cp\u003Ekeep trying with a simple geometry like only a cube and you should point out what you missed.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-16T10:44:56Z\u0022 title=\u002212/16/2013 10:44  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 16, 2013\u003C/time\u003E by WinkAllKerb\u0026#39;\u0026#39;\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kerba Fett","CreatedById":62292,"CreatedDateTime":"2013-12-16T23:15:19Z","Content":"\n\u003Cp\u003EMy advice would be to set it up as a static emissive texture first and make sure it\u0027s working then add the animation.\u003C/p\u003E\u003Cp\u003EThat way you only need to play with settings on the shader and can see if it glows in unity.\u003C/p\u003E\u003Cp\u003EOnce you get a non-animated glowey part working you can start trying to animate it. \u003C/p\u003E\u003Cp\u003EThis separates the 2 problems and lets you deal with them separately rather than wondering wether the problem is with the shader or the animation.\u003C/p\u003E\n"},{"CreatedByName":"JordanL","CreatedById":95655,"CreatedDateTime":"2013-12-17T00:48:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerba Fett\u0022 data-cite=\u0022Kerba Fett\u0022\u003E\u003Cdiv\u003EMy advice would be to set it up as a static emissive texture first and make sure it\u0027s working then add the animation.\u003Cp\u003EThat way you only need to play with settings on the shader and can see if it glows in unity.\u003C/p\u003E\u003Cp\u003EOnce you get a non-animated glowey part working you can start trying to animate it. \u003C/p\u003E\u003Cp\u003EThis separates the 2 problems and lets you deal with them separately rather than wondering wether the problem is with the shader or the animation.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll be doing that on a test cube this evening when I get home from work.\u003C/p\u003E\u003Cp\u003EI don\u0027t trust the Unity preview at all though. My Unity render had both static and pulsing emissives, and my .mu had neither.\u003C/p\u003E\n"},{"CreatedByName":"WinkAllKerb\u0026#039;\u0026#039;","CreatedById":78047,"CreatedDateTime":"2013-12-21T12:58:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JordanL\u0022 data-cite=\u0022JordanL\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI don\u0027t trust the Unity preview at all though. My Unity render had both static and pulsing emissives, and my .mu had neither.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyou can\u0027t, KSP ignore/overpass some unity parameter in many different cases, wish i can give more clue about this but i m more a generalist than a specialist \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E isolate iterative testing most of the time the simpliest way to figure them out one by one.\u003C/p\u003E\n"}]}