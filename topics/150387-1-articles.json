{"TopicId":150387,"ForumId":44,"TopicTitle":"How to calculate launch windows?","CreatedByName":"Jovus","CreatedById":117163,"CreatedDateTime":"2016-10-19T22:42:46Z","PageNum":1,"Articles":[{"CreatedByName":"Jovus","CreatedById":117163,"CreatedDateTime":"2016-10-19T22:42:46Z","Content":"\n\u003Cp\u003E\nAs part of my slow-going project to make an \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E launch autopilot for an arbitrary orbit-capable rocket, I\u0027ve run into a small issue.\n\u003C/p\u003E\n\u003Cp\u003E\nHow do you calculate launch windows?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve already properly figured out how to calculate the launch azimuth from an arbitrary launch site into an arbitrary parking orbit (assuming the launch site inclination is \u0026lt;= orbit inclination; I\u0027m not doing bi-elliptic transfer calculations yet). What I don\u0027t have is a way to find when the launch site is in the plane of the target orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone feel like walking me through it? My spherical geometry is rusty, and these days I just don\u0027t have a lot of time on my hands to brush it up again.\n\u003C/p\u003E\n"},{"CreatedByName":"Nibb31","CreatedById":7272,"CreatedDateTime":"2016-10-20T09:21:55Z","Content":"\n\u003Cp\u003E\nThe porkchop analysis is pretty good:\u00A0\u003Ca href=\u0022https://en.wikipedia.org/wiki/Porkchop_plot\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Porkchop_plot\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLuckily, MechJeb has this included. Not sure if it works with \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Jovus","CreatedById":117163,"CreatedDateTime":"2016-10-20T09:53:10Z","Content":"\n\u003Cp\u003E\nI should have been more clear.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not concerned with interplanetary windows yet. All I want is the (twice daily) window when a launch site is in the same plane as an inclined orbit around Earth. (Or some other arbitrary planet.)\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2016-10-20T14:07:55Z","Content":"\n\u003Cp\u003E\nI have a kOS library that tries to calculate this. I\u0027ve only just documented it (most of my code is uncommented, so I\u0027m slowly adding separate readme files), but hopefully that\u0027ll explain the maths behind what I\u0027m doing, even if the kOS code itself is of no use/interest. Check out the etaToOrbitPlane function.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nLibrary: \u003Ca href=\u0022https://github.com/ElWanderer/kOS_scripts/blob/master/scripts/lib_launch_geo.ks\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ElWanderer/kOS_scripts/blob/master/scripts/lib_launch_geo.ks\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDocumentation: \u003Ca href=\u0022https://github.com/ElWanderer/kOS_scripts/blob/master/documentation/lib_launch_geo_readme.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ElWanderer/kOS_scripts/blob/master/documentation/lib_launch_geo_readme.md\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"magnemoe","CreatedById":57801,"CreatedDateTime":"2016-10-21T05:41:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222814493\u0022 data-ipsquote-contentid=\u0022150387\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221476972475\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have a kOS library that tries to calculate this. I\u0027ve only just documented it (most of my code is uncommented, so I\u0027m slowly adding separate readme files), but hopefully that\u0027ll explain the maths behind what I\u0027m doing, even if the kOS code itself is of no use/interest. Check out the etaToOrbitPlane function.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nLibrary: \u003Ca href=\u0022https://github.com/ElWanderer/kOS_scripts/blob/master/scripts/lib_launch_geo.ks\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ElWanderer/kOS_scripts/blob/master/scripts/lib_launch_geo.ks\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDocumentation: \u003Ca href=\u0022https://github.com/ElWanderer/kOS_scripts/blob/master/documentation/lib_launch_geo_readme.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ElWanderer/kOS_scripts/blob/master/documentation/lib_launch_geo_readme.md\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs i suspected you have to launch a bit before you pass below the orbital plane of target, you launch with the inclination of target.\u003Cbr\u003E\nKOS uses an fixed value for the lead time who is half the time you need to reach orbit.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Jovus","CreatedById":117163,"CreatedDateTime":"2016-10-26T12:48:26Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114015\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0022 rel=\u0022\u0022\u003E@ElWanderer\u003C/a\u003E Thanks, that was exactly what I needed. I was missing the ARCSIN(TAN(current_latitude)/TAN(target_orbit_inclination)) bit, and trying something around converting to a ground track and comparing secants. (It was ugly. It didn\u0027t work. I\u0027m not proud.)\n\u003C/p\u003E\n\u003Cp\u003E\nYour method works like a charm.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2016-10-26T13:04:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222824163\u0022 data-ipsquote-contentid=\u0022150387\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477486106\u0022 data-ipsquote-userid=\u0022117163\u0022 data-ipsquote-username=\u0022Jovus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 minutes ago, Jovus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114015\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0022 rel=\u0022\u0022\u003E@ElWanderer\u003C/a\u003E Thanks, that was exactly what I needed. I was missing the ARCSIN(TAN(current_latitude)/TAN(target_orbit_inclination)) bit, and trying something around converting to a ground track and comparing secants. (It was ugly. It didn\u0027t work. I\u0027m not proud.)\n\u003C/p\u003E\n\u003Cp\u003E\nYour method works like a charm.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGlad that helped. I just wish I could remember where I found that function; from memory it was a book which shows up in Google search, but where it shows you every other page rather than the whole thing. In this case the bit I needed was on a page I could see!\n\u003C/p\u003E\n"}]}