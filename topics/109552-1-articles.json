{"TopicId":109552,"ForumId":70,"TopicTitle":"Memory leak on reentry?","CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T19:39:48Z","PageNum":1,"Articles":[{"CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T19:39:48Z","Content":"\n\u003Cp\u003EI just had 2 crashes in a row during reentry with the same craft. It\u0060s a small Minmus lander, so nothing too complex. \u003C/p\u003E\u003Cp\u003ESince I know KSP likes to reach the 4gb ram limit rather sooner than later I checked the ram usage during the 2nd try. After loading the craft in orbit memory usage was about 2.3gb which should be save from any 32bit memory limitations (I currently have relatively few mods installed). The reentry takes a little longer since I come in shallow and from high up (Minmus) and heates up quite a few parts on the lander (no heat shield) but none are exploding. The game crashed again and I get a short glimpse of the memory usage in task manager for KSP and it\u0060s over 3.8gb. Obviously the game will need more ram for all the aerodynamic and heat calculations but 1.5gb difference looks like way too much to me which leads me to believe there is a memory leak somewhere in this situation.\u003C/p\u003E\u003Cp\u003ESadly the game did not generate a crash log so there is not much else I can say about it. I just tried for a 3rd time and it looks like it\u0060s consistent. Memory keeps filling up the longer the reentry takes. I don\u0060t use any mods that modify atmosphere or heat calculations and the craft also is completely stock so I don\u0060t think it\u0060s caused by a mod.\u003C/p\u003E\u003Cp\u003EHere is a picture of the craft during reentry (memory usage was over 3.4gb at this point, game crashed about 10 seconds later):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/y21Wn2L.jpg\u0022 alt=\u0022y21Wn2L.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn case it matters my specs:\u003C/p\u003E\u003Cp\u003EWindows 7\u003C/p\u003E\u003Cp\u003EI5-2500\u003C/p\u003E\u003Cp\u003EGTX 970\u003C/p\u003E\u003Cp\u003E8GB ram\u003C/p\u003E\u003Cp\u003EIt would be great if someone could give me some insight on this.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-17T07:31:03Z\u0022 title=\u002205/17/2015 07:31  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 17, 2015\u003C/time\u003E by Keras\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-16T19:42:10Z","Content":"\n\u003Cp\u003EThe PPFX edge highlighting applied to heated parts is causing more memory to be used than normal, if you disable PPFX (it\u0027s in the main Settings and in the Esc menu settings panel) you\u0027ll be fine*.\u003C/p\u003E\u003Cp\u003E*mostly.\u003C/p\u003E\n"},{"CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T19:58:02Z","Content":"\n\u003Cp\u003EWow, this is crazy. Without the edge highlighting ram usage stays at 2.3gb the whole time. Is there any way to disable it only in-flight? I really like it in the editor but it\u0060s obviously completely broken in-flight.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-16T19:59:16Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through\u0022\u003EUnfortunately not, it\u0027s all or nothing.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EActually there may be a plugin, I\u0027ll find it.\u003C/p\u003E\n"},{"CreatedByName":"SpaceExplorer","CreatedById":138160,"CreatedDateTime":"2015-05-16T20:01:00Z","Content":"\n\u003Cp\u003EPiggybacking off sal_vager, there is also a memory leak with the temperature gauges. In order to reduce the memory consumption press F10 to disable them. \u003C/p\u003E\u003Cp\u003EAll the best.\u003C/p\u003E\u003Cp\u003EEdit: I should really refresh my browser before I post... A lot goes on in three minutes. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-16T20:04:29Z\u0022 title=\u002205/16/2015 08:04  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 16, 2015\u003C/time\u003E by SpaceExplorer\u003C/strong\u003E\n\u003Cbr\u003EAdded some stuff\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-16T20:04:20Z","Content":"\n\u003Cp\u003EThis is that leak SpaceExplorer, it is being erroneously attributed to the gauges but is actually being caused by the edge highlighting, you can test this yourself by disabling PPFX while leaving the gauges on.\u003C/p\u003E\u003Cp\u003EKeras, this will disable the gauges and the edge highlighting in flight. \u003C/p\u003E\n"},{"CreatedByName":"SpaceExplorer","CreatedById":138160,"CreatedDateTime":"2015-05-16T20:05:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EThis is that leak SpaceExplorer, it is being erroneously attributed to the gauges but is actually being caused by the edge highlighting, you can test this yourself by disabling PPFX while leaving the gauges on.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool, now I know. Thanks sal_vager!\u003C/p\u003E\n"},{"CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T20:39:03Z","Content":"\n\u003Cp\u003EThanks a lot sal_vager \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"}]}