{"TopicId":109552,"ForumId":70,"TopicTitle":"Memory leak on reentry?","CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T19:39:48Z","PageNum":1,"Articles":[{"CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T19:39:48Z","Content":"I just had 2 crashes in a row during reentry with the same craft. It\u0060s a small Minmus lander, so nothing too complex. \n\nSince I know KSP likes to reach the 4gb ram limit rather sooner than later I checked the ram usage during the 2nd try. After loading the craft in orbit memory usage was about 2.3gb which should be save from any 32bit memory limitations (I currently have relatively few mods installed). The reentry takes a little longer since I come in shallow and from high up (Minmus) and heates up quite a few parts on the lander (no heat shield) but none are exploding. The game crashed again and I get a short glimpse of the memory usage in task manager for KSP and it\u0060s over 3.8gb. Obviously the game will need more ram for all the aerodynamic and heat calculations but 1.5gb difference looks like way too much to me which leads me to believe there is a memory leak somewhere in this situation.\n\nSadly the game did not generate a crash log so there is not much else I can say about it. I just tried for a 3rd time and it looks like it\u0060s consistent. Memory keeps filling up the longer the reentry takes. I don\u0060t use any mods that modify atmosphere or heat calculations and the craft also is completely stock so I don\u0060t think it\u0060s caused by a mod.\n\nHere is a picture of the craft during reentry (memory usage was over 3.4gb at this point, game crashed about 10 seconds later):\n\n![y21Wn2L.jpg](http://i.imgur.com/y21Wn2L.jpg)\n\nIn case it matters my specs:\n\nWindows 7\n\nI5-2500\n\nGTX 970\n\n8GB ram\n\nIt would be great if someone could give me some insight on this.\n\n**Edited \u003Ctime datetime=\u00222015-05-17T07:31:03Z\u0022 title=\u002205/17/2015 07:31  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 17, 2015\u003C/time\u003E by Keras**"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-16T19:42:10Z","Content":"The PPFX edge highlighting applied to heated parts is causing more memory to be used than normal, if you disable PPFX (it\u0027s in the main Settings and in the Esc menu settings panel) you\u0027ll be fine\\*.\n\n\\*mostly."},{"CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T19:58:02Z","Content":"Wow, this is crazy. Without the edge highlighting ram usage stays at 2.3gb the whole time. Is there any way to disable it only in-flight? I really like it in the editor but it\u0060s obviously completely broken in-flight."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-16T19:59:16Z","Content":"Unfortunately not, it\u0027s all or nothing.\n\nActually there may be a plugin, I\u0027ll find it."},{"CreatedByName":"SpaceExplorer","CreatedById":138160,"CreatedDateTime":"2015-05-16T20:01:00Z","Content":"Piggybacking off sal\\_vager, there is also a memory leak with the temperature gauges. In order to reduce the memory consumption press F10 to disable them. \n\nAll the best.\n\nEdit: I should really refresh my browser before I post... A lot goes on in three minutes. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-16T20:04:29Z\u0022 title=\u002205/16/2015 08:04  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 16, 2015\u003C/time\u003E by SpaceExplorer**\n  \nAdded some stuff"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-16T20:04:20Z","Content":"This is that leak SpaceExplorer, it is being erroneously attributed to the gauges but is actually being caused by the edge highlighting, you can test this yourself by disabling PPFX while leaving the gauges on.\n\nKeras, this will disable the gauges and the edge highlighting in flight."},{"CreatedByName":"SpaceExplorer","CreatedById":138160,"CreatedDateTime":"2015-05-16T20:05:54Z","Content":"\u003E \n\u003E This is that leak SpaceExplorer, it is being erroneously attributed to the gauges but is actually being caused by the edge highlighting, you can test this yourself by disabling PPFX while leaving the gauges on.\n\nCool, now I know. Thanks sal\\_vager!"},{"CreatedByName":"Keras","CreatedById":114511,"CreatedDateTime":"2015-05-16T20:39:03Z","Content":"Thanks a lot sal\\_vager ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"}]}