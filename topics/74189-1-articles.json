{"TopicId":74189,"ForumId":16,"TopicTitle":"SAS modules can fight each other?","CreatedByName":"davidpsummers","CreatedById":108982,"CreatedDateTime":"2014-06-05T09:42:24Z","PageNum":1,"Articles":[{"CreatedByName":"davidpsummers","CreatedById":108982,"CreatedDateTime":"2014-06-05T09:42:24Z","Content":"\n\u003Cp\u003EAm I right in thinking that SAS modules can fight each other when they apply torque if they are on different parts of a ship or station?\u003C/p\u003E\u003Cp\u003EI had suspected it when I had a big ship, but now I have this space station made of these parts (with their own SAS modules) and I\u0027m having trouble with wobbles that won\u0027t seem to dampen down...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-06T01:51:41Z\u0022 title=\u002206/06/2014 01:51  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 6, 2014\u003C/time\u003E by davidpsummers\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-06-05T09:50:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022davidpsummers\u0022 data-cite=\u0022davidpsummers\u0022\u003E\u003Cdiv\u003EAm I right in thinking that SAS modules can fight each other when they apply torque if they are on different parts of a ship or station?\u003Cp\u003EI had suspected it when I had a big ship, but now I have this space station made of these parts (with their own SAS modules) and I\u0027m having trouble with wobbles that won\u0027t seem to dampen down...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think they really fight each other, but where you put them might be an issue.\u003C/p\u003E\u003Cp\u003ETry disabling all but the one nearest the center and see if you still have the wobbling issue.\u003C/p\u003E\u003Cp\u003EAlso, on that subject, maybe your design itself is just wobbly, or maybe you\u0027re using parts that are prone to wobble. (I\u0027ve seen certain parts that when in combination with each other will start all kinds of oscillations, wobbles and gyrations until the station/craft explodes like Oberyn\u0027s head. Most likely that was a collision mesh problem; if two parts have intersecting colliders, bad things can happen)\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-05T09:53:53Z","Content":"\n\u003Cp\u003EThey don\u0027t exactly fight each other. All reaction wheels in a ship always turn in the same direction. The only thing is that they initially turn around their own CoM and the momentum is transferred to the whole ship through part connections. And if these connections are loose and wobbly, the ship will initially twist like a snake.\u003C/p\u003E\u003Cp\u003ETo have best response to reaction wheels, you need to have them distributed evenly through the mass of the ship. One reaction wheel per 40 tons is alright. Concentrating them in any particular place (such as CoM) is not a good idea.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-05T09:56:36Z\u0022 title=\u002206/05/2014 09:56  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 5, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-06-05T10:13:35Z","Content":"\n\u003Cp\u003EWhat Kasuha said, plus: Kerbodyne-sized reaction wheels aren\u0027t very rigid. A string of five orange tanks is reasonably stable, but slip in a reaction wheel and you get the bends. Don\u0027t know if that\u0027s a property of the wheels themselves or the mere fact that you just added two connections over a short length.\u003C/p\u003E\u003Cp\u003EIf that\u0027s the problem, either attach the reaction wheels to the outside (cubic struts) or use a small reaction wheel and bridge the gap with triple struts, or whatever.\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2014-06-05T14:30:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EWhat Kasuha said, plus: Kerbodyne-sized reaction wheels aren\u0027t very rigid. A string of five orange tanks is reasonably stable, but slip in a reaction wheel and you get the bends. Don\u0027t know if that\u0027s a property of the wheels themselves or the mere fact that you just added two connections over a short length.\u003C/div\u003E\u003C/blockquote\u003EThere aren\u0027t any Kerbodyne-size (3.75m) reaction wheels. The Rockomax-size (2.5m) ones are indeed not rigid enough. It is I believe a property of the part: when building in the VAB, you\u0027ll notice the 2.5m reaction wheel has a node size (the green blob) matching normal 1.25m parts, not normal 2.5m ones.\u003Cp\u003EAs for wobbles, remember that the \u0022Control from here\u0022 location (right-click any command module or docking port to set it) determines what parts SAS tries to hold orientation of. It may help to change this. My station started wobbling badly with SAS not helping until I switched to controlling the docking port at the far end of the heavily-loaded and full-of-torque parking lot.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-06-05T14:52:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EThey don\u0027t exactly fight each other. All reaction wheels in a ship always turn in the same direction. The only thing is that they initially turn around their own CoM and the momentum is transferred to the whole ship through part connections. And if these connections are loose and wobbly, the ship will initially twist like a snake.\u003Cp\u003ETo have best response to reaction wheels, you need to have them distributed evenly through the mass of the ship. One reaction wheel per 40 tons is alright. Concentrating them in any particular place (such as CoM) is not a good idea.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually I\u0027ve had good results putting six (6) of them clustered around the CoM. Those were radially mounted however. (stock reaction wheels using that attachment point adapter thing whose name I can\u0027t remember)\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-05T15:52:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EActually I\u0027ve had good results putting six (6) of them clustered around the CoM. Those were radially mounted however. (stock reaction wheels using that attachment point adapter thing whose name I can\u0027t remember)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPutting them near CoM instead of at the end means just reducing the length of \u0022arms\u0022 which you flex when turning the ship to about one half. But they still flex. See an example with reaction wheels mounted at CoM below.\u003C/p\u003E\u003Cp\u003EBy distributing them evenly you make these arms even shorter, resulting in even less flexing.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/W06Unn3.jpg\u0022 alt=\u0022W06Unn3.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-06-05T16:11:58Z","Content":"\n\u003Cp\u003ESince it was demonstrated to me that wheel placement doesn\u0027t affect the torque imparted to the ship I\u0027ve gotten downright careless about where they go. As long as the ship is reasonably rigid it really doesn\u0027t matter.\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2014-06-05T16:22:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003ESince it was demonstrated to me that wheel placement doesn\u0027t affect the torque imparted to the ship I\u0027ve gotten downright careless about where they go. As long as the ship is reasonably rigid it really doesn\u0027t matter.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, if the ship is rigid it doesn\u0027t really matter.\u003C/p\u003E\u003Cp\u003EIf the ship is wobbly, then placement can be critical. And even when carefully placed, a wobbly ship can still come apart.\u003C/p\u003E\u003Cp\u003EThe problem with torque on the end of a wobbly arm is that the input torque can get out of phase with the wobble. That means attempts by the SAS to stabilize the ship actually results in the torque adding to the bend causing it to get worse and worse, eventually resulting in structural failure..\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-06-05T16:31:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Claw\u0022 data-cite=\u0022Claw\u0022\u003E\u003Cdiv\u003EThe problem with torque on the end of a wobbly arm is that the input torque can get out of phase with the wobble. That means attempts by the SAS to stabilize the ship actually results in the torque adding to the bend causing it to get worse and worse, eventually resulting in structural failure..\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve observed this, too. It is exacerbated if the point from which the ship is being controlled is at the end of a wobbly arm.\u003C/p\u003E\u003Cp\u003EI try to build my ships in such a way that they are strutted enough that wobble isn\u0027t a problem but that isn\u0027t always possible, especially if it\u0027s assembled in orbit.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-05T22:08:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Claw\u0022 data-cite=\u0022Claw\u0022\u003E\u003Cdiv\u003EIf the ship is wobbly, then placement can be critical. And even when carefully placed, a wobbly ship can still come apart.\u003Cp\u003EThe problem with torque on the end of a wobbly arm is that the input torque can get out of phase with the wobble. That means attempts by the SAS to stabilize the ship actually results in the torque adding to the bend causing it to get worse and worse, eventually resulting in structural failure..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESurprisingly with a wobbly ship, the more critical thing is selection of the control point. Because SAS then takes the ship orientation from that part and compensates for it. If that part is light and in a very wobbly part of the ship, it may start to resonate.\u003C/p\u003E\u003Cp\u003EHere, an experiment. It\u0027s in hacked gravity. Jumbo tank is root part, default control point is probe core attached to that tank. I have switched control to the docking port on the opposite end with reaction wheels and without any additional input (except initial setup), SAS is keeping that end pointed upwards.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/b37ertj.jpg\u0022 alt=\u0022b37ertj.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"davidpsummers","CreatedById":108982,"CreatedDateTime":"2014-06-06T01:44:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EThey don\u0027t exactly fight each other. All reaction wheels in a ship always turn in the same direction. The only thing is that they initially turn around their own CoM and the momentum is transferred to the whole ship through part connections. And if these connections are loose and wobbly, the ship will initially twist like a snake.\u003Cp\u003ETo have best response to reaction wheels, you need to have them distributed evenly through the mass of the ship. One reaction wheel per 40 tons is alright. Concentrating them in any particular place (such as CoM) is not a good idea.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK, so if you have one SAS module, it will try and pull the ship around the center of mass, causing flexing as the force is transfered. If you have another one further down, or on a side arm (since it is a station) will do the same and it will work cooperatively. It will cause its own flexing but that will be flexing the other one would have had to do to move the parts the second is moving?\u003C/p\u003E\n"},{"CreatedByName":"davidpsummers","CreatedById":108982,"CreatedDateTime":"2014-06-06T01:51:00Z","Content":"\n\u003Cp\u003E\u0022The problem with torque on the end of a wobbly arm is that the input torque can get out of phase with the wobble. That means attempts by the SAS to stabilize the ship actually results in the torque adding to the bend causing it to get worse and worse, eventually resulting in structural failure..\u0022\u003C/p\u003E\u003Cp\u003EMy wobble did _eventually_ die down. I turned off all but one SAS module (I tried using RCS alone, but it was eating up RCS fuel). But it sounds like you just turn modules on and off, and move control points around, until you get ride of resonances.\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2014-06-06T02:28:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022davidpsummers\u0022 data-cite=\u0022davidpsummers\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EMy wobble did _eventually_ die down. I turned off all but one SAS module (I tried using RCS alone, but it was eating up RCS fuel). But it sounds like you just turn modules on and off, and move control points around, until you get ride of resonances.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that is the basic way of reducing wobble. Stiffening up the joints a bit can help reduce bending and subsequent wobble too.\u003C/p\u003E\u003Cp\u003EToo much torque is not always a good thing. Torque on flexible parts can be a bad thing. And, like Kasuha pointed out, if the controlling part (such as a probe core) is on a flexible part it can be bad. I think you summed it up nicely. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2014-06-06T02:31:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022davidpsummers\u0022 data-cite=\u0022davidpsummers\u0022\u003E\u003Cdiv\u003EOK, so if you have one SAS module, it will try and pull the ship around the center of mass, causing flexing as the force is transfered. If you have another one further down, or on a side arm (since it is a station) will do the same and it will work cooperatively. It will cause its own flexing but that will be flexing the other one would have had to do to move the parts the second is moving?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor the most part, yes. Instead of concentrating all that bending in one spot (like a single joint), the bending is spread out a bit more. It helps reduce where all the bending force is concentrating.\u003C/p\u003E\u003Cp\u003EThe resulting rotation is the same, whether you had all the torque modules in one spot, or if they were evenly distributed.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-06-06T02:50:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EPutting them near CoM instead of at the end means just reducing the length of \u0022arms\u0022 which you flex when turning the ship to about one half. But they still flex. See an example with reaction wheels mounted at CoM below.\u003Cp\u003EBy distributing them evenly you make these arms even shorter, resulting in even less flexing.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/W06Unn3.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/W06Unn3.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s an extremely exaggerated example that doesn\u0027t depict what I described at all. I stand by what I said.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-06T04:54:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EThat\u0027s an extremely exaggerated example that doesn\u0027t depict what I described at all. I stand by what I said.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOf course to show the effect I need to use particularly wobbly ship, otherwise it would be hard to see with naked eye. But okay, here\u0027s more fair comparison. It\u0027s in hacked gravity so the ship was behaving like it was in orbit. I have created each screenshot at the moment when the \u0022ship\u0022 was bent the most. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/jMqutWG.jpg\u0022 alt=\u0022jMqutWG.jpg\u0022\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/32uxrac.jpg\u0022 alt=\u002232uxrac.jpg\u0022\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/G4NaL0z.jpg\u0022 alt=\u0022G4NaL0z.jpg\u0022\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-06T04:57:44Z\u0022 title=\u002206/06/2014 04:57  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 6, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-06-06T15:26:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EOf course to show the effect I need to use particularly wobbly ship, otherwise it would be hard to see with naked eye. But okay, here\u0027s more fair comparison. It\u0027s in hacked gravity so the ship was behaving like it was in orbit. I have created each screenshot at the moment when the \u0022ship\u0022 was bent the most. \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, you don\u0027t need to use a deliberately wobbly ship.\u003C/p\u003E\u003Cp\u003EYou \u003Cem\u003Eshould\u003C/em\u003E use a ship that depicts something people are actually likely to send up.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-06-06T15:43:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003ENo, you don\u0027t need to use a deliberately wobbly ship.\u003Cp\u003EYou \u003Cem\u003Eshould\u003C/em\u003E use a ship that depicts something people are actually likely to send up.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat I\u0027m trying to do here is called scientific approach.\u003C/p\u003E\u003Cp\u003EIf you want to prove me wrong, prepare your own experiment and post your results.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-06-06T16:36:30Z","Content":"\n\u003Cp\u003EAn extra wobbly ship just illustrates the principle more clearly, Kasuha\u0027s experiment demonstrates effectively exactly the effect he\u0027s describing: Spreading out the reaction wheels reduces the bending stress on the ship.\u003C/p\u003E\u003Cp\u003EIt\u0027s certainly possible to have good results using a real ship with the wheels clustered around the CoM, but if you have bending problems spreading them out is likely to reduce them.\u003C/p\u003E\n"},{"CreatedByName":"davidpsummers","CreatedById":108982,"CreatedDateTime":"2014-06-08T07:40:39Z","Content":"\n\u003Cp\u003EOne thing I found on a very wobbly ship (3 stages assembled in orbit with triple docking ports) was that once I faced the right direction. I should let the ship just sit for a while. If you don\u0027t let all the wobble dampen out, they come back to haunt you when you start your engines up.\u003C/p\u003E\u003Cp\u003EAlso, I had radial engines (since the docking ports were in the way of inline engines) so after the first try I would light the engines on the third stage and \u0022drag\u0022 the other stages behind (pumping fuel back up through the couplers as I needed to).\u003C/p\u003E\u003Cp\u003EFWIW, Here is the ship at my space station (because I liked the picture). Here is in the day, at night lit up like a Christmas tree, and at night with the lights off. (And docking with something like that was why I start putting lights on things :-)\u003C/p\u003E\u003Cp\u003EThe part sticking off to the right is my old \u0022Sky Lab\u0022 mission that I kept around because it got there with the big tank and having a big tank to hold fuel is just too handy. The other is the supply ship/emergency escape module.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ncTUOsy.png\u0022 alt=\u0022ncTUOsy.png\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/NyOYONM.png\u0022 alt=\u0022NyOYONM.png\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/deF66aw.png\u0022 alt=\u0022deF66aw.png\u0022\u003E\u003C/p\u003E\n"}]}