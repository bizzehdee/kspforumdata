{"TopicId":103430,"ForumId":70,"TopicTitle":"Can anyone confirm if my KSP is crashing due to hitting the memory barrier?","CreatedByName":"Honeybadga","CreatedById":64977,"CreatedDateTime":"2015-04-05T04:05:13Z","PageNum":1,"Articles":[{"CreatedByName":"Honeybadga","CreatedById":64977,"CreatedDateTime":"2015-04-05T04:05:13Z","Content":"I keep getting constant crashes with my modded 32-bit KSP 0.90 installment. The application is hitting the 3.7 - 3.8 GB mark with me trying to get a 30 part rocket into orbit. When I enter my VAB in career mode and load the rocket, KSP is already at around 3.4ish GB. Because I\u0027m $h!t and I need a couple of tries to get that thing into orbit with FAR, everytime I do revert to launch, memory usage keeps increasing until after the 5th or so try, the game crashes at around 3.78ish GB. Could this be a memory leak?\n\nAfter some months of absence, I finally wanted to play KSP again with all the awesome new features for the career mode and I remember that in the past, the game was running fine for me with a good bunch of mods that added even more parts than the installment I\u0027m currently running. Right now I\u0027m very early into career mode and this is a real bummer. I\u0027m trying to avoid to run Active Texture Management in the aggressive setting since the textures look ....ty then, but perhaps I won\u0027t have any other choice.\n\nApologies advance for the following little rant: I consider KSP to be one of the best if not THE best game ever made, I\u0027ve sunk hundreds (probably 1000\u002B) hours into it, but these technical issues are really holding the game back. KSP\u0027s recommended system requirements of 4 GB have nothing to do with reality. [/rant]\n\nIs there any word if we can expect things to get better with the 1.0 release? I\u0027ve already read [Ted\u0027s post about Windows 64-bit builds for KSP](https://forum.kerbalspaceprogram.com/content/328-The-future-of-Windows-64-bit-builds-for-KSP) so I\u0027m not counting on a stable 64-bit version anytime soon, but still, as I\u0027ve already mentioned, I remember things have been better before.\n\nHere are some logs from three instances of the application crashing:\n\n[https://www.dropbox.com/s/6m8mqu44d6x0jzl/2015-04-05_033706.rar](https://www.dropbox.com/s/6m8mqu44d6x0jzl/2015-04-05_033706.rar)\n\n[https://www.dropbox.com/s/pj0m4qntk86r9mz/2015-04-05_035540.rar](https://www.dropbox.com/s/pj0m4qntk86r9mz/2015-04-05_035540.rar)\n\n[https://www.dropbox.com/s/ks4aylmsc8f1utz/2015-04-05_044748.rar](https://www.dropbox.com/s/ks4aylmsc8f1utz/2015-04-05_044748.rar)\n\nMost of this stuff is hieroglyphs to me.\n\nList of mods:\n\nActiveTextureManagement 32bit Basic\n\nAlternate\\_Resource\\_Panel-2.6.3.0\n\nAtmospheric Trajectories-1.1.3\n\nB9\\_Aerospace\\_Pack-R5.2.8\n\nEnhancedNavBall\\_1\\_3\\_5\n\nEnvironmentalVisualEnhancements-7-4\n\nFerram\\_Aerospace\\_Research-v0.14.7\n\nInfernal\\_Robotics\\_Model\\_Rework\\_-\\_Core\\_Pack-v01\n\nInfernal\\_Robotics\\_Model\\_Rework\\_-\\_Expansion\\_Pack-v01\n\nInfernal\\_Robotics\\_Model\\_Rework\\_-\\_Utility\\_Pack-v01\n\nIR.Rework.P2\n\nKarbonite\\_0.5.5\n\nKAS\\_0.4.10\n\nKerbal\\_Alarm\\_Clock-3.2.4.0\n\nKerbal\\_Joint\\_Reinforcement-v3.1.2\n\nKIS\\_v1.0.1\n\nKSPX-v0.2.8.1\n\nKW\\_Rocketry-2.6d2\n\nMark\\_IV\\_Spaceplane\\_System-1.1.2\n\nMechJeb2-2.4.2.0\n\nModuleManager-2.5.13\n\nNavball\\_Docking\\_Alignment\\_Indicator-6\n\nNear\\_Future\\_Construction-0.4.0\n\nNear\\_Future\\_Electrical-0.3.1\n\nNear\\_Future\\_Propulsion-0.4.0\n\nNear\\_Future\\_Solar-0.4.0\n\nNear\\_Future\\_Spacecraft\\_Parts-0.3.1\n\nProcedural\\_Wings-0.9.3\n\nProcFairings\\_3.11\n\nRCSBuildAid\\_v0.6.1\n\nRealChute\\_Parachute\\_Systems-1.3.1\n\nRemoteTech-1.6.3\n\nSCANsat-v10.0\n\nScienceAlert-1.8.4\n\nTacFuelBalancer\\_2.4.1.1008\n\nToolbar-1.7.8\n\nTweakScale\\_-\\_Rescale\\_Everything-v1.52.1\n\nHere\u0027s a screen grab of my game data folder:\n\n![246e3c5614.png](http://puu.sh/h1WvY/246e3c5614.png)\n\nMy system specs:\n\nWindows 7 Ultimate 64-bit SP1\n\nIntel Core i7 930 @ 2.8 GHz\n\n6 GB RAM\n\nZotac GTX470 AMP!\n\n3 Samsung HDDs, no SSDs\n\n**Edited \u003Ctime datetime=\u00222015-04-05T04:23:18Z\u0022 title=\u002204/05/2015 04:23  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 5, 2015\u003C/time\u003E by Honeybadga**"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2015-04-06T06:08:10Z","Content":"Based your post and my own observed crashes, you\u0027re definitely crashing due to memory.\n\nI see you already have AdvancedTextureManagement in your mod list. You might try setting your texture resolution to half and/or using more aggressive settings for ATM to squeeze out a bit more memory.\n\nAlternatively, the -force-d3d11 or -force-opengl launch options may help with memory usage -- but you may notice some pretty significant graphical glitches.\n\nLastly, you can try removing some texture-heavy mods.\n\nRegardless of all this, there does appear to be a memory leak so this merely buys more time between crashes. Whether the leak is stock or an addon or both is anybody\u0027s guess though."},{"CreatedByName":"Windspren","CreatedById":134441,"CreatedDateTime":"2015-04-06T18:49:09Z","Content":"Do you have the patcher in your ksp file? You should delete it as it made my KSP load in 30 seconds. Also, you can make a folder in your gamedata called Part Packs. Move your part mods inside of there and KSP loads way faster"},{"CreatedByName":"Honeybadga","CreatedById":64977,"CreatedDateTime":"2015-04-07T01:42:48Z","Content":"\u003E \n\u003E Based your post and my own observed crashes, you\u0027re definitely crashing due to memory.\n\u003E I see you already have AdvancedTextureManagement in your mod list. You might try setting your texture resolution to half and/or using more aggressive settings for ATM to squeeze out a bit more memory.\n\u003E \n\u003E Alternatively, the -force-d3d11 or -force-opengl launch options may help with memory usage -- but you may notice some pretty significant graphical glitches.\n\u003E \n\u003E Lastly, you can try removing some texture-heavy mods.\n\u003E \n\u003E Regardless of all this, there does appear to be a memory leak so this merely buys more time between crashes. Whether the leak is stock or an addon or both is anybody\u0027s guess though.\n\nI did indeed set ActiveTextureManagement to aggressive but as you already said, it only buys more time between crashes. With ATM basic, from startup to going to the VAB in my career save I was already looking at 3.4 GB RAM usage. ATM\u0027s aggessive setting bought me around 500MB of RAM. However, KSP\u0027s memory usage keeps increasing for me with each change of scenery which includes going from VAB to the starting ramp, doing revert flight back to both start or the VAB, quickloading, finishing a mission etc. This results in me having to restart the game between most successful flights or just waiting for it to crash and then restart.\n\nI have tried starting it with the openGL parameter but it doesn\u0027t really help due to my video card having an issue with it. As I\u0027ve said, I\u0027ve been running heaviliy modded installs of KSP in the past with a good bunch of more texture heavy mods than I do now but it has never been as bad.\n\n\u003E \n\u003E Do you have the patcher in your ksp file? You should delete it as it made my KSP load in 30 seconds. Also, you can make a folder in your gamedata called Part Packs. Move your part mods inside of there and KSP loads way faster\n\nKPS\u0027s loading time isn\u0027t really that much of an issue for me since once ActiveTextureManagement compresses the textures, it doesn\u0027t take that long for the game to load during the consecutive starts. I\u0027m not sure what you mean by the patcher. Also, I\u0027m not sure if I feel comfortable with altering the folder structure of mods like B9."},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2015-04-07T01:55:57Z","Content":"\u003E \n\u003E I did indeed set ActiveTextureManagement to aggressive but as you already said, it only buys more time between crashes. With ATM basic, from startup to going to the VAB in my career save I was already looking at 3.4 GB RAM usage. ATM\u0027s aggessive setting bought me around 500MB of RAM. However, KSP\u0027s memory usage keeps increasing for me with each change of scenery which includes going from VAB to the starting ramp, doing revert flight back to both start or the VAB, quickloading, finishing a mission etc. This results in me having to restart the game between most successful flights or just waiting for it to crash and then restart.\n\nI\u0027ve also ran into this problem, FWIW, and I use to be able to run a much heavier install in 0.22/0.23 as well. \n\nMy hope is that I can free up some memory so I can at least go longer between crashes/restarts. (Actually, now I\u0027m on a project to see if I can get KSP to play nice in a 64-bit Linux VM so I can play it without dual-booting, but there\u0027s already a topic for that.)"},{"CreatedByName":"helaeon","CreatedById":101767,"CreatedDateTime":"2015-04-07T02:16:36Z","Content":"I\u0027m using DDS Loader and the DDS tool found in the forums and no AFT. NearFuture and the MK4 spaceplane can have their textures dropped to 1/2 if DDSed and you won\u0027t likely notice but you\u0027ll save a TON of memory. You may want to do something similar to B9 and KW.\n\nAlso forcing openGL is pretty much mandatory as far as I can tell."},{"CreatedByName":"bernh","CreatedById":140617,"CreatedDateTime":"2015-04-09T04:09:24Z","Content":"Here\u0027s the solution I came up with - [http://forum.kerbalspaceprogram.com/threads/115069-0-90-Possible-Windows-Memory-Wall-Crash-Workaround](https://forum.kerbalspaceprogram.com/threads/115069-0-90-Possible-Windows-Memory-Wall-Crash-Workaround)\n\nIt is similar to what helaeon is suggesting, but I am adding in an extra step in the form of a RAM optimizer. I still couldn\u0027t get past the loading screen until I added the RAM optimizer into the mix."},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2015-04-09T10:33:45Z","Content":"\u003E \n\u003E I see you already have AdvancedTextureManagement in your mod list. You might try setting your texture resolution to half and/or using more aggressive settings for ATM to squeeze out a bit more memory.\n\nI have a good one with regard to ATM... running KSP under OpenGL.\n\nATM under 2x compression was messing up my instruments so I dumped it... and gained 100MBs of memory.. interesting ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif).\n\nI regularly cleaned ATMs cache as I tried and deleted mods, so there was never any leftover images that loaded unnecessary.\n\n**Edited \u003Ctime datetime=\u00222015-04-09T10:36:02Z\u0022 title=\u002204/09/2015 10:36  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 9, 2015\u003C/time\u003E by ColKlonk**"}]}