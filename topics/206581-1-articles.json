{"TopicId":206581,"ForumId":20,"TopicTitle":"How can I make intake air massless?","CreatedByName":"cosekantphi","CreatedById":191755,"CreatedDateTime":"2022-01-24T17:25:44Z","PageNum":1,"Articles":[{"CreatedByName":"cosekantphi","CreatedById":191755,"CreatedDateTime":"2022-01-24T17:25:44Z","Content":"\n\u003Cp\u003E\nOr just a lot less heavy?\n\u003C/p\u003E\n\u003Cp\u003E\nNeither the stock engineering info nor \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003C/abbr\u003E count intake air toward the total mass of the craft while in the editor. For your typical KSP aircraft, this can be treated as a rounding error. But when you\u0027re building a decently accurate Cessna 150 with an empty weight of 520kg, it starts to become a big problem.\n\u003C/p\u003E\n\u003Cp\u003E\nThe prop engines I\u0027m using come from Airplane Plus and they all seem to store 15 units of intake air. Intake air has a mass of 5kg/unit, so this means every craft I build has an extra 75kg of unaccounted for mass in the nose. It doesn\u0027t move the \u003Cabbr title=\u0022Center of Mass\u0022\u003E\u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E\u003C/abbr\u003E in the editor, it doesn\u0027t show up in \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003C/abbr\u003E until after I launch, and \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003E\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003C/abbr\u003E bases the in-editor data on the airless mass.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried simply reducing the amount of intake air stored in each engine by changing their configs, but for some reason it didn\u0027t actually change anything once I loaded up the game. The engines still had an extra 75kg of mass even when I changed the air intake storage to 4 units. I know this has to be a result of the intake air because it doesn\u0027t have this extra mass if I launch with the intake closed.\n\u003C/p\u003E\n\u003Cp\u003E\nI was tempted to just change its density in ResourcesGeneric, but I don\u0027t know if that\u0027ll alter engine performance. Is there a way to reduce intake air mass without messing anything up?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-01-24T17:25:58Z\u0022 title=\u002201/24/2022 05:25  PM\u0022 data-short=\u00222 yr\u0022\u003EJanuary 24, 2022\u003C/time\u003E by cosekantphi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AtomicTech","CreatedById":210823,"CreatedDateTime":"2022-01-24T17:26:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224081570\u0022 data-ipsquote-contentid=\u0022206581\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221643045144\u0022 data-ipsquote-userid=\u0022191755\u0022 data-ipsquote-username=\u0022cosekantphi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, cosekantphi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOr just a lot less heavy?\n\u003C/p\u003E\n\u003Cp\u003E\nNeither the stock engineering info nor \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003C/abbr\u003E count intake air toward the total mass of the craft while in the editor. For your typical KSP aircraft, this can be treated as a rounding error. But when you\u0027re building a decently accurate Cessna 150 with an empty weight of 520kg, it starts to become a big problem.\n\u003C/p\u003E\n\u003Cp\u003E\nThe prop engines I\u0027m using come from Airplane Plus and they all seem to store 15 units of intake air. Intake air has a mass of 5kg/unit, so this means every craft I build has an extra 75kg of unaccounted for mass in the nose. It doesn\u0027t move the \u003Cabbr title=\u0022Center of Mass\u0022\u003E\u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E\u003C/abbr\u003E in the editor, it doesn\u0027t show up in \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003C/abbr\u003E until after I launch, and \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003E\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003C/abbr\u003E bases the in-editor data on the airless mass.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried simply reducing the amount of intake air stored in each engine by changing their configs, but for some reason it didn\u0027t actually change anything once I loaded up the game. The engines still had an extra 75kg of mass even when I changed the air intake storage to 4 units. I know this has to be a result of the intake air because it doesn\u0027t have this extra mass if I launch with the intake closed.\n\u003C/p\u003E\n\u003Cp\u003E\nI was tempted to just change its density in ResourcesGeneric, but I don\u0027t know if that\u0027ll alter engine performance. Is there a way to reduce intake air mass without messing anything up?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think it\u0027s possible.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll look into some .cfg files to change this.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the .cfg file:\n\u003C/p\u003E\n\u003Cp\u003E\nRESOURCE_DEFINITION\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 name = IntakeAir\u003Cbr\u003E\n\u00A0 displayName = #autoLOC_501005 //#autoLOC_501005 = Intake Air\u003Cbr\u003E\n\u00A0 abbreviation = #autoLOC_6002101 //#autoLOC_6002101 = Air\u003Cbr\u003E\n\u00A0 density = 0.005\u003Cbr\u003E\n\u00A0 unitCost = 0\u003Cbr\u003E\n\u00A0 hsp = 10\u003Cbr\u003E\n\u00A0 flowMode = ALL_VESSEL\u003Cbr\u003E\n\u00A0 transfer = PUMP\u003Cbr\u003E\n\u00A0 isTweakable = false\u003Cbr\u003E\n\u00A0 isVisible = false\u003Cbr\u003E\n\u00A0 RESOURCE_DRAIN_DEFINITION\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0isDrainable = false\u003Cbr\u003E\n\u00A0\u00A0 \u00A0showDrainFX = false\u003Cbr\u003E\n\u00A0 }\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E you can do this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E@\u003C/span\u003ERESOURCE_DEFINITION[IntakeAir]\n\u003C/p\u003E\n\u003Cp\u003E\n{\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 @density = 0.001\n\u003C/p\u003E\n\u003Cp\u003E\n}\n\u003C/p\u003E\n"},{"CreatedByName":"cosekantphi","CreatedById":191755,"CreatedDateTime":"2022-01-24T17:39:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224081572\u0022 data-ipsquote-contentid=\u0022206581\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221643045212\u0022 data-ipsquote-userid=\u0022210823\u0022 data-ipsquote-username=\u0022AtomicTech\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, AtomicTech said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think it\u0027s possible.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll look into some .cfg files to change this.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the .cfg file:\n\u003C/p\u003E\n\u003Cp\u003E\nRESOURCE_DEFINITION\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 name = IntakeAir\u003Cbr\u003E\n\u00A0 displayName = #autoLOC_501005 //#autoLOC_501005 = Intake Air\u003Cbr\u003E\n\u00A0 abbreviation = #autoLOC_6002101 //#autoLOC_6002101 = Air\u003Cbr\u003E\n\u00A0 density = 0.005\u003Cbr\u003E\n\u00A0 unitCost = 0\u003Cbr\u003E\n\u00A0 hsp = 10\u003Cbr\u003E\n\u00A0 flowMode = ALL_VESSEL\u003Cbr\u003E\n\u00A0 transfer = PUMP\u003Cbr\u003E\n\u00A0 isTweakable = false\u003Cbr\u003E\n\u00A0 isVisible = false\u003Cbr\u003E\n\u00A0 RESOURCE_DRAIN_DEFINITION\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0isDrainable = false\u003Cbr\u003E\n\u00A0\u00A0 \u00A0showDrainFX = false\u003Cbr\u003E\n\u00A0 }\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E you can do this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E@\u003C/span\u003ERESOURCE_DEFINITION[IntakeAir]\n\u003C/p\u003E\n\u003Cp\u003E\n{\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 @density = 0.001\n\u003C/p\u003E\n\u003Cp\u003E\n}\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was thinking of doing something like that, but I was unsure if that\u0027d alter engine performance. I don\u0027t know enough about how the engines work to know if that\u0027ll\u00A0 have a side effect like changing \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E or maybe their fuel consumption rates. Thanks for the config, I\u0027ll try it in game to see whether or not that\u0027s the case.\n\u003C/p\u003E\n"},{"CreatedByName":"BigFatStupidHead","CreatedById":44217,"CreatedDateTime":"2022-01-24T19:01:11Z","Content":"\n\u003Cp\u003E\nChanging the mass of intake air would be changing the mass of one of your propellants, which may have surprising effects on atmospheric engines.\u00A0 It\u0027s probably better to change the amount of intakeair storage in the Airplane Plus engines down to something like 1. (Alternately, it should be possible to remove that storage all together as long as you have something, somewhere on your aircraft with some intakeair storage, like an intake.)\n\u003C/p\u003E\n"},{"CreatedByName":"cosekantphi","CreatedById":191755,"CreatedDateTime":"2022-01-24T20:41:57Z","Content":"\n\u003Cp\u003E\nAlright, I did AtomicTech\u0027s suggestion and reduced the density of intake air from 5kg/unit to 1kg/unit.\n\u003C/p\u003E\n\u003Cp\u003E\nI loaded up a variety of aircraft in the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E with both modded and stock air breathing engines, and from a cursory look at the \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003C/abbr\u003E window it would appear everything is the same. Mass, \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003E\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E\u003C/abbr\u003E, thrust,\u00A0 burn time, and delta-V\u00A0 all remain the same in both jet and prop powered aircraft.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, when I launch a craft with an intake, the mass only increases by 15kg instead of 75kg. I may reduce it further depending on whether this still causes big differences in the \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003E\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003C/abbr\u003E stability derivatives. For now, I\u0027ll consider this a success! Looks like it worked unless there are some more obscure but relevant parameters not listed in the \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003C/abbr\u003E window. If I\u0027m missing something please let me know.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224081625\u0022 data-ipsquote-contentid=\u0022206581\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221643050871\u0022 data-ipsquote-userid=\u002244217\u0022 data-ipsquote-username=\u0022BigFatStupidHead\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, BigFatStupidHead said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nChanging the mass of intake air would be changing the mass of one of your propellants, which may have surprising effects on atmospheric engines.\u00A0 It\u0027s probably better to change the amount of intakeair storage in the Airplane Plus engines down to something like 1. (Alternately, it should be possible to remove that storage all together as long as you have something, somewhere on your aircraft with some intakeair storage, like an intake.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI noticed while looking through engine configs that all the air breathing engines in both stock and Airplane Plus have:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 PROPELLANT\u003Cbr\u003E\n\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = IntakeAir\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ignoreForIsp = True\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWould this account for any changes in intake air mass? Or would the mass affect things beyond just the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003E\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-01-24T20:45:23Z\u0022 title=\u002201/24/2022 08:45  PM\u0022 data-short=\u00222 yr\u0022\u003EJanuary 24, 2022\u003C/time\u003E by cosekantphi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JadeOfMaar","CreatedById":167617,"CreatedDateTime":"2022-01-26T14:53:23Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/191755-cosekantphi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022191755\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/191755-cosekantphi/\u0022 rel=\u0022\u0022\u003E@cosekantphi\u003C/a\u003E You may want to use this:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\u003Cspan class=\u0022lit\u0022\u003E@RESOURCE_DEFINITION\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EIntakeAir\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E@isTweakable\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Etrue\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// so you can control its fill amount (and lock it) in the editors\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E@isVisible\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Etrue\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// makes it appear in the resource panel in flight\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe parameter \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EignoreForIsp = True\u003C/span\u003E causes mass flow and \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E calculation to ignore the resource and its ratio to be treated as a simple multiplier of the units/sec of the propellant that has mass. The Whiplash engine\u0027s IntakeAir ratio is 8, so whatever LiquidFuel/sec is required, 8x that number in IntakeAir is required.\n\u003C/p\u003E\n\u003Cp\u003E\nIf not for this parameter, \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E calculators would only report a few m/s and burn time of a few sec for an air-breathing vessel. The resource is still required in flight but is seen as irrelevant to the calculators. The Whiplash would then require 8/9 of the total mass flow to be IntakeAir, and 1/9 of that mass to be LiquidFuel. (The 9 is the denominator of the mass fraction and the sum of all propellant ratios in the engine) I haven\u0027t checked but, for example, it would require 1/9 its normal amount of LiquidFuel AND nearly 1/10 IntakeAir.\n\u003C/p\u003E\n"}]}