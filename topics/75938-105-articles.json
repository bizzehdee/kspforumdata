{"TopicId":75938,"ForumId":36,"TopicTitle":"[1.0.x] [V1.9f] Kerbal Foundries wheels, anti-grav repulsors and tracks","CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-06-25T17:24:04Z","PageNum":105,"Articles":[{"CreatedByName":"Dreadp1r4te","CreatedById":98426,"CreatedDateTime":"2015-05-06T13:05:16Z","Content":"\n\u003Cp\u003EIt won\u0027t let me post the whole thing, so here\u0027s the relevant portion of the output log...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 07:59:33.287] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USProbeSci/RPWS/USRPWS\u0027\u003Cbr\u003E[LOG 07:59:33.310] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USScope/USScope/dmUSScope\u0027\u003Cbr\u003E[LOG 07:59:33.333] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USSoilMoisture/USSoilMoisture/dmUSSoilMoisture\u0027\u003Cbr\u003E[LOG 07:59:33.358] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USSolarParticles/USSolarParticles/dmUSSolarParticles\u0027\u003Cbr\u003E[LOG 07:59:33.381] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USStock/ACCGRAV/dmUSAccGrav\u0027\u003Cbr\u003E[LOG 07:59:33.416] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USStock/ATMOSSENSE/dmUSAtmosSense\u0027\u003Cbr\u003E[LOG 07:59:33.438] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USStock/PRESTEMP/dmUSPresTemp\u0027\u003Cbr\u003E[LOG 07:59:33.472] PartLoader: Compiling Part \u0027JSI/RasterPropMonitor/Library/Parts/ExternalCameraPart/external-camera/JSIPrimitiveExternalCamera\u0027\u003Cbr\u003E[ERR 07:59:33.473] PartCompiler: Cannot clone model \u0027Squad/Parts/Utility/linearRCS/model\u0027 as model does not exist\u003Cbr\u003E\u003Cbr\u003E[ERR 07:59:33.474] PartCompiler: Model was not compiled correctly\u003Cbr\u003E\u003Cbr\u003E[ERR 07:59:33.474] PartCompiler: Cannot compile model\u003Cbr\u003E\u003Cbr\u003E[ERR 07:59:33.475] PartCompiler: Cannot compile part\u003Cbr\u003E\u003Cbr\u003E[LOG 07:59:33.475] PartLoader: Compiling Part \u0027KerbalEngineer/Parts/Engineer7500/part/Engineer7500\u0027\u003Cbr\u003E[LOG 07:59:33.492] PartLoader: Compiling Part \u0027KerbalEngineer/Parts/EngineerChip/part/EngineerChip\u0027\u003Cbr\u003E[LOG 07:59:33.506] PartLoader: Compiling Part \u0027KerbalFoundries/APU/LoFiAPUrevA/KF_AuxiliaryPowerUnit\u0027\u003Cbr\u003E[ERR 07:59:33.562] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[LOG 07:59:33.567] Added sound_explosion_low to FXGroup flameout\u003Cbr\u003E[LOG 07:59:33.580] LiquidFuel not found in resource database. Propellant Setup has failed.\u003Cbr\u003E[EXC 07:59:33.584] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tModuleEngines.SetupPropellant ()\u003Cbr\u003E\tModuleEngines.OnLoad (.ConfigNode node)\u003Cbr\u003E\tPartModule.Load (.ConfigNode node)\u003Cbr\u003E\tPart.AddModule (.ConfigNode node)\u003Cbr\u003E\tPartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node)\u003Cbr\u003E\tPartLoader\u002B.MoveNext ()\u003Cbr\u003E[LOG 07:59:33.591] 1.7.5510.36285\u003Cbr\u003E[LOG 07:59:33.594] Found an engine\u003Cbr\u003E[EXC 07:59:33.608] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tPartLoader.GetDatabaseConfig (.Part p)\u003Cbr\u003E\tPartLoader.GetDatabaseConfig (.Part p, System.String nodeName)\u003Cbr\u003E\tDragCubeSystem.LoadDragCubes (.Part p)\u003Cbr\u003E\tPart\u002B.MoveNext ()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T13:20:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dreadp1r4te\u0022 data-cite=\u0022Dreadp1r4te\u0022\u003E\u003Cdiv\u003EHow exactly would I go about finding an output log, since the freeze doesn\u0027t actually halt the game?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell it gets generated the moment the game starts, not just when it crashes... Assuming you\u0027re using the windows build of KSP, it\u0027ll be in the ksp_data folder.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dreadp1r4te\u0022 data-cite=\u0022Dreadp1r4te\u0022\u003E\u003Cdiv\u003EIt won\u0027t let me post the whole thing, so here\u0027s the relevant portion of the output log...\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 07:59:33.287] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USProbeSci/RPWS/USRPWS\u0027\u003Cbr\u003E[LOG 07:59:33.310] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USScope/USScope/dmUSScope\u0027\u003Cbr\u003E[LOG 07:59:33.333] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USSoilMoisture/USSoilMoisture/dmUSSoilMoisture\u0027\u003Cbr\u003E[LOG 07:59:33.358] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USSolarParticles/USSolarParticles/dmUSSolarParticles\u0027\u003Cbr\u003E[LOG 07:59:33.381] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USStock/ACCGRAV/dmUSAccGrav\u0027\u003Cbr\u003E[LOG 07:59:33.416] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USStock/ATMOSSENSE/dmUSAtmosSense\u0027\u003Cbr\u003E[LOG 07:59:33.438] PartLoader: Compiling Part \u0027DMagicOrbitalScience/UniversalStorage/USStock/PRESTEMP/dmUSPresTemp\u0027\u003Cbr\u003E[LOG 07:59:33.472] PartLoader: Compiling Part \u0027JSI/RasterPropMonitor/Library/Parts/ExternalCameraPart/external-camera/JSIPrimitiveExternalCamera\u0027\u003Cbr\u003E[ERR 07:59:33.473] PartCompiler: Cannot clone model \u0027Squad/Parts/Utility/linearRCS/model\u0027 as model does not exist\u003Cbr\u003E\u003Cbr\u003E[ERR 07:59:33.474] PartCompiler: Model was not compiled correctly\u003Cbr\u003E\u003Cbr\u003E[ERR 07:59:33.474] PartCompiler: Cannot compile model\u003Cbr\u003E\u003Cbr\u003E[ERR 07:59:33.475] PartCompiler: Cannot compile part\u003Cbr\u003E\u003Cbr\u003E[LOG 07:59:33.475] PartLoader: Compiling Part \u0027KerbalEngineer/Parts/Engineer7500/part/Engineer7500\u0027\u003Cbr\u003E[LOG 07:59:33.492] PartLoader: Compiling Part \u0027KerbalEngineer/Parts/EngineerChip/part/EngineerChip\u0027\u003Cbr\u003E[LOG 07:59:33.506] PartLoader: Compiling Part \u0027KerbalFoundries/APU/LoFiAPUrevA/KF_AuxiliaryPowerUnit\u0027\u003Cbr\u003E[ERR 07:59:33.562] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[LOG 07:59:33.567] Added sound_explosion_low to FXGroup flameout\u003Cbr\u003E[LOG 07:59:33.580] LiquidFuel not found in resource database. Propellant Setup has failed.\u003Cbr\u003E[EXC 07:59:33.584] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E    ModuleEngines.SetupPropellant ()\u003Cbr\u003E    ModuleEngines.OnLoad (.ConfigNode node)\u003Cbr\u003E    PartModule.Load (.ConfigNode node)\u003Cbr\u003E    Part.AddModule (.ConfigNode node)\u003Cbr\u003E    PartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node)\u003Cbr\u003E    PartLoader\u002B.MoveNext ()\u003Cbr\u003E[LOG 07:59:33.591] 1.7.5510.36285\u003Cbr\u003E[LOG 07:59:33.594] Found an engine\u003Cbr\u003E[EXC 07:59:33.608] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E    PartLoader.GetDatabaseConfig (.Part p)\u003Cbr\u003E    PartLoader.GetDatabaseConfig (.Part p, System.String nodeName)\u003Cbr\u003E    DragCubeSystem.LoadDragCubes (.Part p)\u003Cbr\u003E    Part\u002B.MoveNext ()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerfect, thank you. Running any mods that mess about extra sounds, effects or fuels types?\u003C/p\u003E\u003Cp\u003EI get:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPartLoader: Compiling Part \u0027KerbalFoundries/APU/LoFiAPUrevA/KF_AuxiliaryPowerUnit\u0027\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EEffectList: Created 11 effect types\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dreadp1r4te","CreatedById":98426,"CreatedDateTime":"2015-05-06T13:36:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPerfect, thank you. Running any mods that mess about extra sounds, effects or fuels types?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUh, a few. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI have HotRockets, MobileFrameSystem, ModularFuelTanks, Modular Rocket Systems, ModuleRCSFX, All of the USI mods, KSP-I Extended. I think that\u0027s all the mods that should affect Sounds, Effects, and Fuel Types.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T13:57:07Z","Content":"\n\u003Cp\u003EThere appears to be an issue with one of those I\u0027d say. Do any of them use MM configs to change fuel types for existing engines? The part load fails because LiquidFuel is not in the database - presumably because it\u0027s been removed by another mod to be replaced with something else. It\u0027s probably that, rather than effects.\u003C/p\u003E\n"},{"CreatedByName":"Dreadp1r4te","CreatedById":98426,"CreatedDateTime":"2015-05-06T14:10:53Z","Content":"\n\u003Cp\u003EI\u0027m not sure that makes sense; 75% of the engines in KSP use the LiquidFuel resource, wouldn\u0027t they all cause a crash long before this part was loaded if that were the case? Regardless, I haven\u0027t read anything to indicate any mod I\u0027m using replaces LiquidFuel.\u003C/p\u003E\u003Cp\u003EEDIT: Just to be sure, I skimmed the Output log with Find and found a few instances of LiquidFuel, mostly adding tweakable parameters to engines with liquidfuel, but I cross referenced that search with the offending part name. Nothing was applied to the resource LiquidFuel, near as I can tell, at least not through ModuleManager. There was only one instance of the APU coming up in the log, and that was USI marking it as a RecycleablePart. I don\u0027t think that\u0027s related, though.\u003C/p\u003E\u003Cp\u003EEDIT 2: Just on a whim I removed the APU part temporarily and tried again. It again made it to the KF parts, loaded a few of them fine, and then halted on \u0022KF_RoverBodyLarge.\u0022\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 09:21:32.023] PartLoader: Compiling Part \u0027KerbalFoundries/Repulsor/part/KF_Repulsor\u0027\u003Cbr\u003E[LOG 09:21:32.048] PartLoader: Part \u0027KerbalFoundries/Repulsor/part/KF_Repulsor\u0027 has no database record. Creating.\u003Cbr\u003E[LOG 09:21:32.068] DragCubeSystem: Creating drag cubes for part \u0027KF.Repulsor\u0027\u003Cbr\u003E[LOG 09:21:32.099] PartLoader: Compiling Part \u0027KerbalFoundries/RepulsorSurface/part/KF_RepulsorSurface\u0027\u003Cbr\u003E[LOG 09:21:32.184] PartLoader: Part \u0027KerbalFoundries/RepulsorSurface/part/KF_RepulsorSurface\u0027 has no database record. Creating.\u003Cbr\u003E[LOG 09:21:32.231] DragCubeSystem: Creating drag cubes for part \u0027KF.RepulsorSurface\u0027\u003Cbr\u003E[LOG 09:21:32.251] PartLoader: Compiling Part \u0027KerbalFoundries/RoverBody/part/KF_RoverBodyLarge\u0027\u003Cbr\u003E[ERR 09:21:32.266] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[ERR 09:21:32.266] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[ERR 09:21:32.267] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[WRN 09:21:32.273] Could not create PartResource of type \u0027ElectricCharge\u003Cbr\u003E[WRN 09:21:32.273] Could not create PartResource of type \u0027MonoPropellant\u003Cbr\u003E[WRN 09:21:32.278] Could not create PartResource of type \u0027IntakeAir\u003Cbr\u003E[EXC 09:21:32.288] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tModuleRCS.SetResource (System.String resource)\u003Cbr\u003E\tModuleRCS.OnLoad (.ConfigNode node)\u003Cbr\u003E\tPartModule.Load (.ConfigNode node)\u003Cbr\u003E\tPart.AddModule (.ConfigNode node)\u003Cbr\u003E\tPartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node)\u003Cbr\u003E\tPartLoader\u002B.MoveNext ()\u003Cbr\u003E[EXC 09:21:32.304] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tPartLoader.GetDatabaseConfig (.Part p)\u003Cbr\u003E\tPartLoader.GetDatabaseConfig (.Part p, System.String nodeName)\u003Cbr\u003E\tDragCubeSystem.LoadDragCubes (.Part p)\u003Cbr\u003E\tPart\u002B.MoveNext ()\u003Cbr\u003E[EXC 09:21:32.311] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tModuleRCS.FixedUpdate ()\u003Cbr\u003E[EXC 09:21:32.311] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tModuleRCS.FixedUpdate ()\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe NullReferenceException repeats ad nauseum until I alt-f4\u0027d the task.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-06T14:24:36Z\u0022 title=\u002205/06/2015 02:24  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 6, 2015\u003C/time\u003E by Dreadp1r4te\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-05-06T14:31:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EI think all your points are pretty neatly addressed by a rolling resistance constant. I say constant because for wheels, it doesn\u0027t change much with speed. Though as you point out, it needs to be correctly multiplied with laden weight. This would neatly nerf acceleration and top speed for heavily laden wheels and increase power usage.\u003Cp\u003ETracks probably need a rolling resistance curve, but this is easy to roll into the same config fields as wheels. Tracks need a curve, wheels need a flat line. I\u0027ll work on something. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYah, I tried to play with your code however as a noob can\u0027t compile it since I guess project solution path has changed and compiler just won\u0027t do it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EWell I\u0027ll use rolling resistance term as an aggregate that has many variables in it (terrain resistance, mechanic resistance, loss of energy in moving elements, resistance of overburden wheel that might deform etc)\u003C/p\u003E\u003Cp\u003ESo then this variable could be very helpful \u003C/p\u003E\u003Cp\u003E1) to keep high EC usage high at top speed (especially for tracks)\u003C/p\u003E\u003Cp\u003E2) to simulate getting stuck in sand/gravel. If we think of small wheels on fine sticky surface (mars/moon) they could behave twofold:\u003C/p\u003E\u003Cp\u003Ea) lightweight vehicle - probably flat resistance line as you described - doesn\u0027t change much with speed\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E very heavy vehicle - too small wheels for weight applied - then we probably will have curved resistance profile - the small wheels would probably \u0027mire down\u0027 (sorry I\u0027m not native speaker) in gravel/sand. \u003C/p\u003E\u003Cp\u003ESo rolling resistance would be more something like 0 at 0m/s then maximum at 2m/s and then past that they would decrease quickly to like 50% and then to maybe 40% at higher speeds. So for example under extreme situation you would get stuck and couldn\u0027t move. In order to do so you would have to alternate torque - forward/backward/forward etc to gain momentum and speed to get past maximum resistance (I\u0027m sure you know this technique \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E) In other words starting movement under extreme weight is much harder for wheels than for tracks. I don\u0027t know whether you played spintires, it\u0027s nice approximation of how resistance decreases with speed.\u003C/p\u003E\u003Cp\u003ENow things might get interesting. For example if we introduce some variable (possibly another curve for max flexibility) dependent on force that is applied on wheel/track. It would smoothly change rollingResistance profile based on weight (mass/forces applied) from profile a) to \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E depending on weight.\u003C/p\u003E\u003Cp\u003ESo in this model weight resistance serves as a child of rollingResistance to change it\u0027s curve profile \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E But then I think there\u0027s no need for speed / EC consumption curve since it\u0027s already accounted for with rollingResistance.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T14:50:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EWell it gets generated the moment the game starts, not just when it crashes... Assuming you\u0027re using the windows build of KSP, it\u0027ll be in the ksp_data folder.\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EPerfect, thank you. Running any mods that mess about extra sounds, effects or fuels types?\u003C/p\u003E\u003Cp\u003EI get:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPartLoader: Compiling Part \u0027KerbalFoundries/APU/LoFiAPUrevA/KF_AuxiliaryPowerUnit\u0027\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EEffectList: Created 11 effect types\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dreadp1r4te\u0022 data-cite=\u0022Dreadp1r4te\u0022\u003E\u003Cdiv\u003EI\u0027m not sure that makes sense; 75% of the engines in KSP use the LiquidFuel resource, wouldn\u0027t they all cause a crash long before this part was loaded if that were the case? Regardless, I haven\u0027t read anything to indicate any mod I\u0027m using replaces LiquidFuel.\u003Cp\u003EEDIT: Just to be sure, I skimmed the Output log with Find and found a few instances of LiquidFuel, mostly adding tweakable parameters to engines with liquidfuel, but I cross referenced that search with the offending part name. Nothing was applied to the resource LiquidFuel, near as I can tell, at least not through ModuleManager. There was only one instance of the APU coming up in the log, and that was USI marking it as a RecycleablePart. I don\u0027t think that\u0027s related, though.\u003C/p\u003E\u003Cp\u003EEDIT 2: Just on a whim I removed the APU part temporarily and tried again. It again made it to the KF parts, loaded a few of them fine, and then halted on \u0022KF_RoverBodyLarge.\u0022\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 09:21:32.023] PartLoader: Compiling Part \u0027KerbalFoundries/Repulsor/part/KF_Repulsor\u0027\u003Cbr\u003E[LOG 09:21:32.048] PartLoader: Part \u0027KerbalFoundries/Repulsor/part/KF_Repulsor\u0027 has no database record. Creating.\u003Cbr\u003E[LOG 09:21:32.068] DragCubeSystem: Creating drag cubes for part \u0027KF.Repulsor\u0027\u003Cbr\u003E[LOG 09:21:32.099] PartLoader: Compiling Part \u0027KerbalFoundries/RepulsorSurface/part/KF_RepulsorSurface\u0027\u003Cbr\u003E[LOG 09:21:32.184] PartLoader: Part \u0027KerbalFoundries/RepulsorSurface/part/KF_RepulsorSurface\u0027 has no database record. Creating.\u003Cbr\u003E[LOG 09:21:32.231] DragCubeSystem: Creating drag cubes for part \u0027KF.RepulsorSurface\u0027\u003Cbr\u003E[LOG 09:21:32.251] PartLoader: Compiling Part \u0027KerbalFoundries/RoverBody/part/KF_RoverBodyLarge\u0027\u003Cbr\u003E[ERR 09:21:32.266] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[ERR 09:21:32.266] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[ERR 09:21:32.267] [ShipTemplate]: No Resource definition found for RESOURCE\u003Cbr\u003E\u003Cbr\u003E[WRN 09:21:32.273] Could not create PartResource of type \u0027ElectricCharge\u003Cbr\u003E[WRN 09:21:32.273] Could not create PartResource of type \u0027MonoPropellant\u003Cbr\u003E[WRN 09:21:32.278] Could not create PartResource of type \u0027IntakeAir\u003Cbr\u003E[EXC 09:21:32.288] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E    ModuleRCS.SetResource (System.String resource)\u003Cbr\u003E    ModuleRCS.OnLoad (.ConfigNode node)\u003Cbr\u003E    PartModule.Load (.ConfigNode node)\u003Cbr\u003E    Part.AddModule (.ConfigNode node)\u003Cbr\u003E    PartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node)\u003Cbr\u003E    PartLoader\u002B.MoveNext ()\u003Cbr\u003E[EXC 09:21:32.304] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E    PartLoader.GetDatabaseConfig (.Part p)\u003Cbr\u003E    PartLoader.GetDatabaseConfig (.Part p, System.String nodeName)\u003Cbr\u003E    DragCubeSystem.LoadDragCubes (.Part p)\u003Cbr\u003E    Part\u002B.MoveNext ()\u003Cbr\u003E[EXC 09:21:32.311] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E    ModuleRCS.FixedUpdate ()\u003Cbr\u003E[EXC 09:21:32.311] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E    ModuleRCS.FixedUpdate ()\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe NullReferenceException repeats ad nauseum until I alt-f4\u0027d the task.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that\u0027s because the rover body has some mono propellant. It\u0027s something to do with your install, so take a long look at what mods you\u0027re running, understand what they do, then we can maybe work out a way to bash the configs to the correct fuel types for whatever you\u0027re running. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022riocrokite\u0022 data-cite=\u0022riocrokite\u0022\u003E\u003Cdiv\u003EYah, I tried to play with your code however as a noob can\u0027t compile it since I guess project solution path has changed and compiler just won\u0027t do it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003EWell I\u0027ll use rolling resistance term as an aggregate that has many variables in it (terrain resistance, mechanic resistance, loss of energy in moving elements, resistance of overburden wheel that might deform etc)\u003C/p\u003E\u003Cp\u003ESo then this variable could be very helpful \u003C/p\u003E\u003Cp\u003E1) to keep high EC usage high at top speed (especially for tracks)\u003C/p\u003E\u003Cp\u003E2) to simulate getting stuck in sand/gravel. If we think of small wheels on fine sticky surface (mars/moon) they could behave twofold:\u003C/p\u003E\u003Cp\u003Ea) lightweight vehicle - probably flat resistance line as you described - doesn\u0027t change much with speed\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E very heavy vehicle - too small wheels for weight applied - then we probably will have curved resistance profile - the small wheels would probably \u0027mire down\u0027 (sorry I\u0027m not native speaker) in gravel/sand. \u003C/p\u003E\u003Cp\u003ESo rolling resistance would be more something like 0 at 0m/s then maximum at 2m/s and then past that they would decrease quickly to like 50% and then to maybe 40% at higher speeds. So for example under extreme situation you would get stuck and couldn\u0027t move. In order to do so you would have to alternate torque - forward/backward/forward etc to gain momentum and speed to get past maximum resistance (I\u0027m sure you know this technique \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E) In other words starting movement under extreme weight is much harder for wheels than for tracks. I don\u0027t know whether you played spintires, it\u0027s nice approximation of how resistance decreases with speed.\u003C/p\u003E\u003Cp\u003ENow things might get interesting. For example if we introduce some variable (possibly another curve for max flexibility) dependent on force that is applied on wheel/track. It would smoothly change rollingResistance profile based on weight (mass/forces applied) from profile a) to \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E depending on weight.\u003C/p\u003E\u003Cp\u003ESo in this model weight resistance serves as a child of rollingResistance to change it\u0027s curve profile \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E But then I think there\u0027s no need for speed / EC consumption curve since it\u0027s already accounted for with rollingResistance.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re trying to make it waaaaaaay too complicated. Rolling resistance for a wheel is pretty much constant for a given load over normal speed range - that\u0027s all there is to it. Will rise as laden weight increases. Tracks are a little more complicated, though it just needs to increase with speed and not rise so much as weight is applied compared to a wheel.\u003C/p\u003E\u003Cp\u003EI\u0027ll just define the (currently over simple) rollingResistance constant as a floatcurve and add a coefficient multiplier for weight, which may also end up being a floatcurve. For wheels, you\u0027ll just config it flat, for tracks you can tweak the curve to suit the design. Likewise with the weight multiplier. There\u0027s not really any way to change things for different surfaces in KSP (other than biomes, I suppose), so that\u0027s a non starter.\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-05-06T15:02:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EYes, that\u0027s because the rover body has some mono propellant. It\u0027s something to do with your install, so take a long look at what mods you\u0027re running, understand what they do, then we can maybe work out a way to bash the configs to the correct fuel types for whatever you\u0027re running. \u003Cp\u003EYou\u0027re trying to make it waaaaaaay too complicated. Rolling resistance for a wheel is pretty much constant for a given load over normal speed range - that\u0027s all there is to it. Will rise as laden weight increases. Tracks are a little more complicated, though it just needs to increase with speed and not rise so much as weight is applied compared to a wheel.\u003C/p\u003E\u003Cp\u003EI\u0027ll just define the (currently over simple) rollingResistance constant as a floatcurve and add a coefficient multiplier for weight, which may also end up being a floatcurve. For wheels, you\u0027ll just config it flat, for tracks you can tweak the curve to suit the design. Likewise with the weight multiplier. There\u0027s not really any way to change things for different surfaces in KSP (other than biomes, I suppose), so that\u0027s a non starter.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool, awesome \\o/ I hope there is a way to get a weight variable that is dependent on mass and gravitational forces \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T15:12:07Z","Content":"\n\u003Cp\u003EYeah, that\u0027s easy actually. Loading data is available straight from the wheel colliders \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I learned how to access that when messing with that bulldozer blade!\u003C/p\u003E\u003Cp\u003EAnd thanks for the input! Getting a bit inspired to start messing again \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dreadp1r4te","CreatedById":98426,"CreatedDateTime":"2015-05-06T15:18:30Z","Content":"\n\u003Cp\u003EI think I have a clue; I\u0027m using KSPI-Extended and USI, both of which require CommunityResourcePack, where as near as I can tell, rename some of the simplified fuels to their real-life counterparts; i.e., LiquidFuel becomes LqdHydrogen, and Oxidizer becomes LqdOxygen. I think. It\u0027s very hard to tell what all these things do; ever since 1.0 came out, and with everyone having their own resource framework, it\u0027s gotten entirely too hard to follow since back in .22\u0027s days or whatever it was when KSPI first came out.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T15:22:06Z","Content":"\n\u003Cp\u003EAh, OK. That would make sense. What you\u0027ll need to do is look through the mm configs that come with them and work out what they replace the standard fuels with. This may well be documented. You can look through a save or persistence file too - you\u0027ll quickly find what fuels it\u0027s saving. Then you can config bash the KF configs to match, or write an MM patch. Pretty sure that\u0027ll sort it out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dreadp1r4te","CreatedById":98426,"CreatedDateTime":"2015-05-06T15:56:25Z","Content":"\n\u003Cp\u003EActually, I feel really bad about bothering you now. I stripped out every mod that has anything to do with resources to help identify exactly which mod was causing the problem, and the game STILL hung on your parts, so on a whim I ran a local cache verification via Steam and discovered there were over 1000 corrupt/missing files. It downloaded 70~ meg of crap and now it starts fine. Thanks for the quick responses though; you\u0027re a helluva modder! Gonna piece this back together and see how it runs.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T15:59:54Z","Content":"\n\u003Cp\u003EAhhhh, no drama. Bodged install, then! Cheers \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T18:00:18Z","Content":"\n\u003Cp\u003EBalls. Appears Gaalidas did a load of source updates which I didn\u0027t sync while I was bashing things myself. Now trying to unwrangle the conflicted files :/\u003C/p\u003E\u003Cp\u003EOnce I\u0027ve done that, you can have a play around with the new config options for rolling resistance, Riocrokite. I think you\u0027ve got access to the dev stuff?\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-05-06T18:07:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EBalls. Appears Gaalidas did a load of source updates which I didn\u0027t sync while I was bashing things myself. Now trying to unwrangle the conflicted files :/\u003Cp\u003EOnce I\u0027ve done that, you can have a play around with the new config options for rolling resistance, Riocrokite. I think you\u0027ve got access to the dev stuff?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ecool, yah I have access\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T18:31:59Z","Content":"\n\u003Cp\u003EGreat, I\u0027ll try and get that sorted this eve. If you have a chance could you do me a favour and cast an eye over the wheel and track configs please? I\u0027m painfully aware that weight, cost and tech tree nodes are all over the place.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-05-06T18:34:44Z","Content":"\n\u003Cp\u003EWait... what did I do now? I actually haven\u0027t done much of any updates lately, despite my various reports of \u0022impending updates to the code and/or MM configs\u0022 that I\u0027ve been threatening you all with for the last month. School always gets in the way at the wrong time.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-06T18:37:44Z","Content":"\n\u003Cp\u003ENot your fault, was my local copy that was out of date while making changes. I\u0027ll get it sorted once I\u0027ve beaten GitHub into submission.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-05-06T18:40:27Z","Content":"\n\u003Cp\u003EThat\u0027s what you get for not working right from github in the first place. Every time I update things, I first download anything new from github and use winmerge on it to make sure I\u0027m not screwing anything over, then sync it back up.\u003C/p\u003E\u003Cp\u003EBy the way, that MM config update for TweakScale is... well... still in the works. Yes, I know it\u0027s about three weeks behind my last estimated arrival time, but then 1.0 was released and everything went to heck. Once heck is over with, I\u0027ll get the... uhh... heck... back to it.\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-05-06T18:48:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EGreat, I\u0027ll try and get that sorted this eve. If you have a chance could you do me a favour and cast an eye over the wheel and track configs please? I\u0027m painfully aware that weight, cost and tech tree nodes are all over the place.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyah, no problem\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-07T11:41:19Z","Content":"\n\u003Cp\u003ECool. Preliminary version now up, though I\u0027ve only set up the config correctly for the medium track so far.\u003C/p\u003E\u003Cp\u003EGaalidas, I\u0027m really sorry. I was trying to merge the changes together, hit the Git console too hard, and it overwrote some of your optimisations. Thinking of splitting off the KF plugin into its own repo and taking the source out of the parts directory. Should make life a lot easier.\u003C/p\u003E\u003Cp\u003EAlso, I should mention that the dev repulsors will probably be broken, and there are some new ones. Play at your peril: I can\u0027t remember where I left it all!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-07T12:00:48Z\u0022 title=\u002205/07/2015 12:00  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LORDPrometheus","CreatedById":61414,"CreatedDateTime":"2015-05-07T13:32:03Z","Content":"\n\u003Cp\u003ESo are more tracks or more rover bodies next on the list? Personally I think new rover bodies are a priority since I don\u0027t have much to attatch these awesome wheels and tracks to\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-05-07T13:44:12Z","Content":"\n\u003Cp\u003EYeah, there are a few I\u0027ve been messing with, though all are still experimental designs:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Z821n60.png\u0022 alt=\u0022Z821n60.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso, did you see this that I\u0027ve been messing with:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/tV4l1D6LlFk?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EAnd I\u0027ve been slowly remodeling some variants of this, which was originally SpannerMonkey\u0027s awesome work:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/Q44dtwbUyOo?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-05-07T14:13:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003ECool. Preliminary version now up, though I\u0027ve only set up the config correctly for the medium track so far.\u003Cp\u003EGaalidas, I\u0027m really sorry. I was trying to merge the changes together, hit the Git console too hard, and it overwrote some of your optimisations. Thinking of splitting off the KF plugin into its own repo and taking the source out of the parts directory. Should make life a lot easier.\u003C/p\u003E\u003Cp\u003EAlso, I should mention that the dev repulsors will probably be broken, and there are some new ones. Play at your peril: I can\u0027t remember where I left it all!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethx, I\u0027ll look at it tomorrow (I have some work stuff to do today)\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-05-07T14:49:37Z","Content":"\n\u003Cp\u003EThat\u0027s the great thing about separate working folders between github and a local directory. Anything you overwrite, I can overwrite better! Err... what I mean is... I\u0027ll check out the new stuff and re-merge anything I\u0027ve done into it. Another thing I started working on was a better way to identify all of your log entries with not only the plugin name, but also the specific class that it\u0027s coming from in the form of constant strings that contain a prefix, then using \u0022string.Format\u0022 to prefix all of your logs with that prefix. However, I\u0027m considering adding a custom method to your source which will make the process of conversion much easier, basically replacing all calls for the log methods with a custom method which will insert the appropriate prefix into the calls. Either way, work is being done when I have free time (gasp!) to better identify when, where, and what the error or information being logged is referring to. I\u0027m also considering if it might be better to package my DustFX plugin into the KF plugin considering I made it primarily for your parts and pizzaoverhead has been strangely not responding to any of my attempts to let him in on the developments I\u0027ve made working off of his original code. Besides, the dust that is thrown up from the repulsor colliders is so good that it really should be a stock behavior for this mod. The only thing I want to add it the ability to have the dust be thrown up when the repulsor craft isn\u0027t moving, but only when the repulsors are fired up. Hey, if I don\u0027t remember to do it soon, remind me some time to post up my latest WIP of the plugin for you to play with. The effect is quite nice.\u003C/p\u003E\n"}]}