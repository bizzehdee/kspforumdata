{"TopicId":76031,"ForumId":50,"TopicTitle":"Less memory usage by using OpenGL","CreatedByName":"Eisfunke","CreatedById":113588,"CreatedDateTime":"2014-06-26T19:00:29Z","PageNum":5,"Articles":[{"CreatedByName":"@ND","CreatedById":124881,"CreatedDateTime":"2014-10-08T12:47:58Z","Content":"\n\u003Cp\u003EStarted forcing OpenGL yesterday and noticed a HUGE increase in performance. Went from around 3.0-3.3GB of memory usage to 1.6-2.0GB. Saved around 1.5GB on average! FPS was noticeably better too. Whereas I would get around 50 FPS average with random drops (depending on what was being done), I now get a consistent 60 FPS at (almost) all times. Even my giant space station, which usually gave me around 20-25 FPS, is now idling at about 40! I could not be happier with this tip. Can\u0027t find any downsides to it either. Thanks a million, I owe you one!\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003ECPU\u003C/span\u003E: 3.2GHz i7-960\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EGPU\u003C/span\u003E: EVGA 3GB 660Ti\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003ERAM\u003C/span\u003E: 12GB DDR3\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EOS\u003C/span\u003E: Windows 7 SP1 x64\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-08T14:31:03Z\u0022 title=\u002210/08/2014 02:31  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 8, 2014\u003C/time\u003E by @ND\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"eRe4s3r","CreatedById":35705,"CreatedDateTime":"2014-10-10T00:33:41Z","Content":"\n\u003Cp\u003Ehad to force OpenGL to even start with half my mods in 0.25 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Performance is better not so much the FPS, but it feels a huge lot smoother.. no idea how that is possible, ram usage is around 2GB (before it crashed due to ram limit) about 20 mods (3 big parts mods)\u003C/p\u003E\u003Cp\u003ECPU: AMD Phenom X6 1055T\u003C/p\u003E\u003Cp\u003EGPU: 670GTX\u003C/p\u003E\u003Cp\u003ERAM: 16GB\u003C/p\u003E\u003Cp\u003EOS: win 7 x64\u003C/p\u003E\u003Cp\u003ENoticed no performance drops anywhere. Not even launching a 200 part space-plane \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E And crashing it.\u003C/p\u003E\u003Cp\u003ESomehow the image quality is generally SHARPER with more aliasing around texture detail. So it seems OpenGL skips the broken UNITY mipmap loading and generating. Which would explain the substantially lower ram usage. Again, thanks for this topic and someone mentioning it elsewhere. KSP in OpenGL generally works smoother and actually loads... big win \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Insanitic","CreatedById":121952,"CreatedDateTime":"2014-10-10T01:53:26Z","Content":"\n\u003Cp\u003EIs it just me, or is my opengl performance REALLY bad? I have a 7970 card and I\u0027ve noticed people with nvidia cards feel as if they have better performance compared to being on normal dx9?\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2014-10-10T04:05:45Z","Content":"\n\u003Cp\u003EI have 690 and LOTS of mod\u0027s running kspx32 and have no problems... Far better than when i was messing about with the kspx64 in 24.2\u003C/p\u003E\u003Cp\u003Ethe openGL has made it possible to play with all mods I want...\u003C/p\u003E\u003Cp\u003EGuess it is just dependent on individual setup\u0027s and hardware...\u003C/p\u003E\u003Cp\u003EEdit.: just wanted to add that I am not seeing any performance issues / drops....\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-10T23:20:42Z\u0022 title=\u002210/10/2014 11:20  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 10, 2014\u003C/time\u003E by drtedastro\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Insanitic","CreatedById":121952,"CreatedDateTime":"2014-10-10T09:23:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022drtedastro\u0022 data-cite=\u0022drtedastro\u0022\u003E\u003Cdiv\u003EI have 690 and LOTS of mod\u0027s running kspx32 and have no problems... Far better than when i was messing about with the kspx64 in 24.2\u003Cp\u003Ethe openGL has made it possible to play with all mods I want...\u003C/p\u003E\u003Cp\u003EGuess it is just dependent on individual setup\u0027s and hardware...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan any AMD users confirm this? I keep hearing from Nvidia users (no offence \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 alt=\u0022:kiss:\u0022\u003E) and am wondering if it is true that AMD cards suck as rendering in opengl for this game. I have tons of mods also.\u003C/p\u003E\n"},{"CreatedByName":"Xelnah","CreatedById":110059,"CreatedDateTime":"2014-10-10T22:48:55Z","Content":"\n\u003Cp\u003EDX11 seems to use less RAM and more GPUmen, same as OpenGl does for me. But DX11 isn\u0027t stable for me when doing ALT\u002BTAB from true fullscreen. Haven\u0027t tried the -popwindow combination yet.\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EI did try the -popwindow and it works with DX11, but It\u0027s the worst reformer of the 3, I get bad fps and \u0022physics stuttering\u0022 when using it.\u003C/p\u003E\u003Cp\u003ESo back to OpenGL which seems to work great so far, perhaps it helps that I have 3GB of GPUmem (GTX 780) since OpenGL seems to demand/allocate more of it than DX9.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-10T23:03:50Z\u0022 title=\u002210/10/2014 11:03  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 10, 2014\u003C/time\u003E by Xelnah\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Synthesis","CreatedById":26557,"CreatedDateTime":"2014-10-10T23:14:17Z","Content":"\n\u003Cp\u003EWith OpenGL, I\u0027m not getting memory crashes--but I am getting reduced performance, and also freezes if I change anything in the graphics settings (which is a mild inconvenience). \u003C/p\u003E\u003Cp\u003EAlso, antialiasing doesn\u0027t work--it has to be forced through the Nvidia control panel. Otherwise, pretty usable! It\u0027s possible OpenGL simply doesn\u0027t agree with GTX 470 SLI (they are older cards). I am perplexed by why AA doesn\u0027t work, but then again, the last OpenGL game I ran is IL-2 1946, and you have to force AA in that game as well, so who knows? \u003C/p\u003E\u003Cp\u003EAs I suspect I\u0027m one of those \u0022M-Dollar Sign\u0022 people that Linux users consider a complete tool, though, so I\u0027ll try and find out how to force Dx 11 and see if that does anything either. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-10T23:28:31Z\u0022 title=\u002210/10/2014 11:28  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 10, 2014\u003C/time\u003E by Synthesis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-12T05:39:56Z","Content":"\n\u003Cp\u003EReduces a lot of memory in my game. Performance seems okay, though it looks like AA has been disabled.\u003C/p\u003E\n"},{"CreatedByName":"montyben101","CreatedById":74173,"CreatedDateTime":"2014-10-12T10:46:19Z","Content":"\n\u003Cp\u003ESeems to be good. Never used AA anyway but I had to put textures to half res due too lag, not sure it it was caused by Opengl though.\u003C/p\u003E\n"},{"CreatedByName":"SessoSaidSo","CreatedById":111600,"CreatedDateTime":"2014-10-12T18:18:44Z","Content":"\n\u003Cp\u003EPlaying 0.25. I am running a reference gtx 980 with an i5-4670k. Running in opengl with atm I can report a solid 1gb reduction in ram usage along with noticable fps increase as well as a general feeling of \u0022smoothness\u0022. I can confirm AA is disabled and must be enabled via nvidia control panel.\u003C/p\u003E\n"},{"CreatedByName":"Noorbi","CreatedById":101564,"CreatedDateTime":"2014-10-13T15:19:20Z","Content":"\n\u003Cp\u003EHere is my problem: -If I using 32bit with OpenGL, I see errors. For example I can\u0027t enter the Vehicle Assembly Building and the others.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.kepfeltoltes.hu/141013/problem_www.kepfeltoltes.hu_.jpg\u0022 alt=\u0022problem_www.kepfeltoltes.hu_.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAny idea?\u003C/p\u003E\u003Cp\u003EEdit: porblem solwed. I have to say This forced OpenGL not so stable with 32 bit, or at least for me.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-13T19:05:04Z\u0022 title=\u002210/13/2014 07:05  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 13, 2014\u003C/time\u003E by Noorbi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jim Meillente","CreatedById":125566,"CreatedDateTime":"2014-10-13T20:43:12Z","Content":"\n\u003Cp\u003EHello,\u003C/p\u003E\u003Cp\u003EFor those that might not know this is what you type for full screen window mode with the openGL option:\u003C/p\u003E\u003Cp\u003E-force-opengl -popupwindow\u003C/p\u003E\u003Cp\u003EEnjoy!\u003C/p\u003E\n"},{"CreatedByName":"Synthesis","CreatedById":26557,"CreatedDateTime":"2014-10-14T01:06:10Z","Content":"\n\u003Cp\u003EI filled out a survey--performance is a bit worse, but on the other hand, OpenGL slow is preferable to Vanilla crashing. \u003C/p\u003E\u003Cp\u003EAnother thing I noticed, besides a slight decline in framerates and some shadow issues and no antialiasing--certain textures don\u0027t want to work (Bahamuto\u0027s \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/82341-24-2-B-Dynamics-Retracting-vectoring-engines-etc-v1-1-1-%28Aug-11%29/page28\u0022 rel=\u0022external nofollow\u0022\u003ECritter Crawler\u003C/a\u003E comes up as complete white).\u003C/p\u003E\u003Cp\u003EVery odd, but not a major issue.\u003C/p\u003E\n"},{"CreatedByName":"winz","CreatedById":125993,"CreatedDateTime":"2014-10-15T08:40:57Z","Content":"\n\u003Cp\u003EI registered just to say THANK YOU for this topic. I returned to KSP after a break (was previously playing 0.24) and after updating my mods I found that I\u0027ve reached the memory limit. Tried the 64bit, but found it too buggy and some mods would not work (I understand the authors disabled them on purpose in 64 because of the version instability). I managed to reduce my mods to make it somewhat playable, but wasn\u0027t enjoying it, because I knew I was missing on gameplay. So was ready to throw the towel and wait until the 64bit version becomes more stable.\u003C/p\u003E\u003Cp\u003EThen I found this topic, and after switching to openGL I went from 3,2GB\u002B of memory usage to 1.8GB. No issues so far and I can enjoy KSP to its fullest potential. Thank you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ndiver","CreatedById":60662,"CreatedDateTime":"2014-10-16T09:52:13Z","Content":"\n\u003Cp\u003EI tried yesterday the OpenGL solution on an almost vanilla 0.25 x86. 2 results:\u003C/p\u003E\u003Cp\u003E- the memory used decreased from about 300Mb\u003C/p\u003E\u003Cp\u003E- the game is absolutely impossible to play, I\u0027ve with OpenGL approximately one image each 5 seconds (no problem without OpenGL) even in the hangar ...\u003C/p\u003E\u003Cp\u003EI\u0027m playing on a laptop with a bit unorthodox configuration (the GPU):\u003C/p\u003E\u003Cp\u003ECPU: Intel i7 M620\u003C/p\u003E\u003Cp\u003EGPU: Nvidia Quadro FX1800M\u003C/p\u003E\u003Cp\u003ERAM: 8Gb\u003C/p\u003E\u003Cp\u003EOS: Win 7 x64\u003C/p\u003E\n"},{"CreatedByName":"Synthesis","CreatedById":26557,"CreatedDateTime":"2014-10-16T11:40:56Z","Content":"\n\u003Cp\u003EA more prevalent issue, at least for me--I\u0027m surprised no one else has mentioned it, so maybe it\u0027s just local to to me--is a lot of transparency sorting errors (I think that\u0027s what they\u0027re called).\u003C/p\u003E\u003Cp\u003EBasically, shadows on the back of a part are rendered on the front of it, so it looks like the part of the rocket is appearing transparent. This seems very common with B9 packs and KW parts, unfortunately. \u003C/p\u003E\u003Cp\u003EIt\u0027s great for people whom its working well for, but I think I may have to move away from OpenGL and look for alternatives, given this, the lack of FSAA, and the other issues. A shame, as the memory savings are pretty great.\u003C/p\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-16T11:56:51Z","Content":"\n\u003Cp\u003EAbout Antialiasing (on Windows): you\u0027ll need to deactivate it from the KSP\u0027s options menu, then force it from your graphic card driver. It seems to cause some framerate issue with OpenGL, though, I had to lower my settings from AA 8X to 4x to keep things playable (*insert \u0022First World Problem\u0022 meme here*).\u003C/p\u003E\n"},{"CreatedByName":"Synthesis","CreatedById":26557,"CreatedDateTime":"2014-10-16T21:29:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Lilleman\u0022 data-cite=\u0022Lilleman\u0022\u003E\u003Cdiv\u003EAbout Antialiasing (on Windows): you\u0027ll need to deactivate it from the KSP\u0027s options menu, then force it from your graphic card driver. It seems to cause some framerate issue with OpenGL, though, I had to lower my settings from AA 8X to 4x to keep things playable (*insert \u0022First World Problem\u0022 meme here*).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, I already deduced you had to force it (for Nvidia anyway, no idea about ATi). And there does feel like there\u0027s a very heavy FPS hit. \u003C/p\u003E\u003Cp\u003EThe transparency issue, on the other hand, is not so easily solved. \u003C/p\u003E\u003Cp\u003EGuess I\u0027ll go back to 64-bit, alas.\u003C/p\u003E\u003Cp\u003EEDIT: Sadly, 64-bit doesn\u0027t want to open my past career. Damn, looks like I\u0027m stalled for the time being.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-17T04:22:11Z\u0022 title=\u002210/17/2014 04:22  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 17, 2014\u003C/time\u003E by Synthesis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dizzle","CreatedById":31588,"CreatedDateTime":"2014-10-18T07:13:54Z","Content":"\n\u003Cp\u003EForcing OpenGL gave me a few seconds of loading screen, then flashing between black screen and desktop before crashing to desktop. It\u0027s a shame, since .25 seems to have pathetically little room for mods.\u003C/p\u003E\u003Cp\u003EGPU: Radeon HD 6970\u003C/p\u003E\u003Cp\u003ERAM: 8Gb\u003C/p\u003E\u003Cp\u003EOS: Win 7 x64\u003C/p\u003E\n"},{"CreatedByName":"likke_A_boss","CreatedById":94697,"CreatedDateTime":"2014-10-21T13:23:59Z","Content":"\n\u003Cp\u003EOn a Mac, what version of Open Gl is required for use? My current \u003Cspan style=\u0022font-family:\u0027Lucida Grande\u0027;\u0022\u003EATI Radeon HD 4670 card supports Open GL up to 3.3, but using -force-opengl on steam set launch options has no effect.\u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-22T03:34:02Z\u0022 title=\u002210/22/2014 03:34  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 22, 2014\u003C/time\u003E by likke_A_boss\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Airlock","CreatedById":101601,"CreatedDateTime":"2014-10-21T18:08:49Z","Content":"\n\u003Cp\u003EI can\u0027t get antialiasing to work in OpenGL. I tried disabling it ingame and activating it through the NVIDIA control panel. No luck.\u003C/p\u003E\n"},{"CreatedByName":"Wolfox","CreatedById":59958,"CreatedDateTime":"2014-10-22T08:02:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Airlock\u0022 data-cite=\u0022Airlock\u0022\u003E\u003Cdiv\u003EI can\u0027t get antialiasing to work in OpenGL. I tried disabling it ingame and activating it through the NVIDIA control panel. No luck.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESame here, if anybody would like to post short list what exactly to turn off/on in nVidia control panel, it would be very appreciated :-)\u003C/p\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-22T11:06:00Z","Content":"\n\u003Cp\u003EIt should be the same as any other game, just be sure the nVidia\u0027s control panel get the right executable: If you\u0027re using x64 for instance, you\u0027ll need to add a new profile manually: control panel-\u0026gt;\u0022Manage 3d settings\u0022, then in \u0022Program Settings\u0022, click on \u0022Add\u0022 and browse for your KSP\u0027s executable (KSP.exe or KSP_x64.exe)\u003C/p\u003E\n"},{"CreatedByName":"Wolfox","CreatedById":59958,"CreatedDateTime":"2014-10-22T13:57:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Lilleman\u0022 data-cite=\u0022Lilleman\u0022\u003E\u003Cdiv\u003EIt should be the same as any other game, just be sure the nVidia\u0027s control panel get the right executable: If you\u0027re using x64 for instance, you\u0027ll need to add a new profile manually: control panel-\u0026gt;\u0022Manage 3d settings\u0022, then in \u0022Program Settings\u0022, click on \u0022Add\u0022 and browse for your KSP\u0027s executable (KSP.exe or KSP_x64.exe)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u00C3\u201A\u00C2\u00B4m doing that, but KSP OpenGL doesn\u00C3\u201A\u00C2\u00B4t seem to react. No matter what setting i choose, no matter the ingame settings, still no AA at all. What Options in nVidia CP should be on and which off for it to work properly? Option \u0022Supress any application settings\u0022 doent seem to work either. Or maybe i should update OpenGL? If so, i have no idea where to get the update, never did that...\u003C/p\u003E\n"},{"CreatedByName":"Oafman","CreatedById":110386,"CreatedDateTime":"2014-10-22T14:06:39Z","Content":"\n\u003Cp\u003EI had a go at this last night, without great results. \u003C/p\u003E\u003Cp\u003EFirst off, I had fullscreen issues. But they were easily fixed, by displaying only on external monitor. \u003C/p\u003E\u003Cp\u003ENext I started getting graphics crashes, when the external display fails briefly. I get these anyway from time to time, but it was every minute or two with OpenGL. I\u0027m sure this is all because I have a terrible graphics card, and I read someone in this thread mention that OpenGL will not sit well with poor GPUs. \u003C/p\u003E\u003Cp\u003EThen I looked at the RAM. I use plenty of mods, and also ATM, and KSP normally runs at about 3GB. But the processes tab was showing that KSP was using only 1.5GB. Pretty impressive, and in line with what people have been saying in this thread.\u003C/p\u003E\u003Cp\u003EBut then I clicked on the usage graph in task manager, and it was showing overall RAM usage of 4.5GB. I play KSP with nothing else running, so really it\u0027s just the OS using RAM. Overall I normally run at 4.5-5.0GB, the lion\u0027s share of which is KSP. There was nothing else open, or listed in processes, which could account for the 3GB not being used by the game - assuming the processes were giving me an accurate number. \u003C/p\u003E\u003Cp\u003ESo basically, I was being told 2 completely different things by task manager. So I wasn\u0027t sure I was saving any RAM. And with the graphics issues, I was soon back to ksp.exe as usual. Still, good to know about this, and I\u0027m glad it works for those with half decent graphics cards.\u003C/p\u003E\n"}]}