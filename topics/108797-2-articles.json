{"TopicId":108797,"ForumId":34,"TopicTitle":"Contract Filter 1.5.2(1.1.2) Manage the contracts you receive to your liking!","CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-11T18:23:11Z","PageNum":2,"Articles":[{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2015-05-15T04:51:36Z","Content":"Oddity for you.\n\nI am using most of the Contract Configurator extra packs and while most of them appear to be working fine, it seems that your sorter is auto skipping anything from the \u0022Kerbin Space Station\u0022 pack of contracts even with a fresh install \u0026 no blocks set.\n\nAlso seems to be auto skipping all the \u0022Plant Flag\u0022 missions I would expect to get as well. I don\u0027t think I have any mods that modify those so that might be something to look at.\n\nEDIT: Hmm it seems to only be doing some of them. 2 star version for both. But its allowing one of the cheaper version of the 1 star stations through. Is there a loger or something I can tern on to figure out what conditions its using to cause them to vanish?\n\n**Edited \u003Ctime datetime=\u00222015-05-15T05:02:08Z\u0022 title=\u002205/15/2015 05:02  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 15, 2015\u003C/time\u003E by ExavierMacbeth**"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-15T06:43:01Z","Content":"@Tontow, yes, it\u0027ll just reject the contracts as they come up.\n\n@ExavierMacbeth, I\u0027m curious as to whether those are a new contract type, if they are, they\u0027d be either an explicit obvious type, or a \u0022Configured Contract\u0022 type. \n\nAs for the Plant Flag missions, are you sure you have those set to be rejected? I\u0027d like your settings.cfg(Contract Filter\u0027s) and the output log if it happens again. I\u0027d also love to see the contract if possible. or at least the info to it, if you can remember. I\u0027ve been having some feelings about the system not being able to handle parameters that aren\u0027t existing.\n\n**Edited \u003Ctime datetime=\u00222015-05-15T06:47:23Z\u0022 title=\u002205/15/2015 06:47  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 15, 2015\u003C/time\u003E by silverfox8124**"},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2015-05-15T14:39:40Z","Content":"Settings.cfg : [http://pastebin.com/eWwPbn9b](http://pastebin.com/eWwPbn9b)\n\nMM Log Mod List: [http://pastebin.com/mGwQgj9x](http://pastebin.com/mGwQgj9x)\n\nLog Chunk of it rejecting Missions: [http://pastebin.com/BMb5NUUD](http://pastebin.com/BMb5NUUD)\n\nSorry the log is only a chunk but my log is over 250,000 lines long and pastebin doesn\u0027t appreciate that ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nI can however reproduce it consistently between turning sorting off, rejecting things manually till I get one, then turning sorting on to watch it get rejected. So if you need a more focused complete log let me know and I will see if i can generate one just for that.\n\nAs to if they are a new contract type, they appear to be. But I compared them to the contract cfg files for the Scansat, RemoteTech, Tourisum, \u0026 Anomoly Surveyor contract packs (which are all working fine, though display as a massive list of \u0022Configured Contract\u0022 in your UIs so I can\u0027t actually filter them, no way to tell which is which. All of them seem to follow the same code patterns that I can tell so I figured I would bring it up ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Eleven","CreatedById":60502,"CreatedDateTime":"2015-05-15T16:06:05Z","Content":"So if I click reject type on the ones I no longer want to receive and then hit sort, how long does that action go on? A couple of times I\u0027ve tried it, it never seemed to stop, and it really never seemed to reject those types I wanted it too..they kept popping up in the contract building after that...(I saved!) ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-15T17:48:47Z","Content":"@Eleven, it goes until you tell it to stop sorting.\n\n@ExavierMacbeth, there\u0027s nothing I can do about the \u0022Configured Contract\u0022 because that\u0027s the type name that the contract system gives me. I don\u0027t name the contract types, KSP does. One question for the \u0022Build a station\u0022 does it ever not offer funds/science/rep upon advance completion or failure? (science is not for failure or advance, same with rep) Because I think that it might be screwing with the contract system, I\u0027ve been having inklings, but I\u0027m not too entirely sure."},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2015-05-15T18:23:08Z","Content":"Meh I can live the the Configured Contract Title... If I didn\u0027t want those to run I would just uninstall the mod ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nFor the Space Station. Not that I can tell but this is how the Dev has it coded.\n\n        // Contract rewards - no science random other rewards.    rewardScience = 0    rewardReputation = Random(1.0, 100.0)    rewardFunds = Random(50000.0, 500000.0)    failureReputation = Random(1.0, 100.0)    failureFunds = Random(50000.0, 500000.0)    advanceFunds = Random(50000.0, 500000.0)"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-15T18:49:10Z","Content":"@ExavierMacbeth, I\u0027m thinking the max values for that type need to be upped, because those max numbers may be more than what I have set default for max values.... Try raising the max values for the type in Contract Filter and see if it still rejects them"},{"CreatedByName":"Eleven","CreatedById":60502,"CreatedDateTime":"2015-05-15T19:09:19Z","Content":"\u003E \n\u003E @Eleven, it goes until you tell it to stop sorting.\n\nTo what end? Does it just sort forever, never producing a result? Or is it actually going through removing contract types? I\u0027m unclear on what the sort function is for ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-15T19:15:59Z","Content":"@Eleven, my mod is a filter for the contracts you get. It sorts out the contracts you want from the ones you don\u0027t want, and then declines the ones you dont want for you, and has the option to auto-accept contracts you want too. It sorts until you tell it to stop sorting. It doesn\u0027t stop contract types from spawning, and doesn\u0027t change any contract definitions. It just filters."},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2015-05-15T19:17:32Z","Content":"Looks like that was it. I didn\u0027t realize the Max Funds complete default was only 100,000... I was reading it as 1,000,000 like the max funds advance and wondering why it was dropping contracts for 250k. Seems i had to do this same change to the default ISRU contracts as well, looks like your global defaults are all capped at 100k except for the Advance Funds."},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-15T19:24:59Z","Content":"Contract Configurator has a few simple methods for figuring out what the actual name is for any \u0022ConfiguredContract\u0022 type.\n\nSee [here for the name](https://github.com/jrossignol/ContractConfigurator/blob/master/source/ContractConfigurator/ConfiguredContract.cs#L28-L33) of an individual contract, and [here for the list](https://github.com/jrossignol/ContractConfigurator/blob/master/source/ContractConfigurator/ContractType.cs#L28-L34) of all valid contract names.\n\nAssigning these, and [handling it all through reflection](https://github.com/DMagic1/Contract-Modifier/blob/master/Plugin%20Source/cmAssemblyLoad.cs#L188-L269) is very simple."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-15T19:35:04Z","Content":"@ExavierMacbeth, I am going to put out a release soon with the new max\u0027s set to at least 1 mill.\n\n@DMagic, thanks for stopping by. I will take a look at those and see what I can do about it. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Eleven","CreatedById":60502,"CreatedDateTime":"2015-05-15T20:10:21Z","Content":"\u003E \n\u003E @Eleven, my mod is a filter for the contracts you get. It sorts out the contracts you want from the ones you don\u0027t want, and then declines the ones you dont want for you, and has the option to auto-accept contracts you want too. It sorts until you tell it to stop sorting. It doesn\u0027t stop contract types from spawning, and doesn\u0027t change any contract definitions. It just filters.\n\nHelp me out here, I\u0027m obviously not getting it. I\u0027ve set it to reject Part Tests, Satellite Contracts and Survey Contracts. I saved it, Sorted for a while, and yet my offered contract list is full of Satellite Contracts 1 Part Test Contract. What am I doing wrong?\n\n![qESHnba.png](http://i.imgur.com/qESHnba.png)"},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2015-05-15T20:17:51Z","Content":"@Silver : Instead of just setting an absolute cap on it. Could you just add a pre-set \u0022Any max\u0022 override checkbox? Otherwise players will probobly have to start going in and tweaking the maxes for every contract anyway when they start getting missions for the outer system (or memory forbid, the additional system planet packs people have created).\n\n@Eleven : What do you actually have unlocked Tech wise? Remember that alot of contracts have conditional unlocks on them or milestones. Stations need docking ports, bases need landing legs, etc. If your very early in the career game you may not have a diverse enough sample of valid contracts for the game to generate so it will endlessly cycle until something finally sticks."},{"CreatedByName":"Eleven","CreatedById":60502,"CreatedDateTime":"2015-05-15T20:24:27Z","Content":"\u003E @Eleven : What do you actually have unlocked Tech wise? Remember that alot of contracts have conditional unlocks on them or milestones. Stations need docking ports, bases need landing legs, etc. If your very early in the career game you may not have a diverse enough sample of valid contracts for the game to generate so it will endlessly cycle until something finally sticks.\n\nI\u0027ve got 37million Kerbucks and 39,000 extra science points as illustrated in the screenshot...my tech tree is way beyond completed ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2015-05-15T20:30:43Z","Content":"lmao guess i really am blind. But you never know ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nYou could check for the same problem I was having. Open up each of the contract types and look at the max Compleion funds. The current version\u0027s default is stil to auto reject any contract with more than 100,000 completion. Its probobly rejecting things like the higher end ISRU contracts and stuff. Sorta where I hit my wall ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-15T20:44:03Z","Content":"@Eleven, if it\u0027s not declining the contracts, then what\u0027s happening is that you are getting large numbers of that contract, and after you tell it to stop sorting, the empty spaces from all the declined contracts come up as those types you were trying to block. I don\u0027t stop contract types from spawning, I just filter them out when they come.\n\n- - - Updated - - -\n\n@Eleven, if it\u0027s not declining the contracts, then what\u0027s happening is that you are getting large numbers of that contract, and after you tell it to stop sorting, the empty spaces from all the declined contracts come up as those types you were trying to block. I don\u0027t stop contract types from spawning, I just filter them out when they come.\n\n@ExavierMacbeth, the reason why I have a set cap is so that my mod has something to go off of to compare. And it\u0027s looking difficult to me to try and create a new max amount each time a contract higher than the current max comes up because then I have a conflict of interest where my mod won\u0027t know whether to keep the max or change it. There\u0027s a limit for a reason, I\u0027ll just set it considerably higher this time."},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2015-05-16T00:55:45Z","Content":"Thats why I was suggesting some form of toggle. Maybe a checkbox that simply tells your script to skip the \u003C \u003E checks and just allow it through. Sort of like you have the flat out reject all option. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Netoen","CreatedById":96010,"CreatedDateTime":"2015-05-16T04:24:14Z","Content":"Apparently a bug: if you set up \u0022AutoAccept Bodies\u0022 (in my case it was Mun) and \\*maybe\\* few other switches - it will not check for current \u0022Max Active Contracts\u0022 and accept as many as possible (my case was 9 out of 2).\n\nThanx for the mod"},{"CreatedByName":"Tontow","CreatedById":64552,"CreatedDateTime":"2015-05-16T07:20:44Z","Content":"Are you able to add a hot-key to the contracts screen for starting and stopping sorting? The space bar maybe?"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-16T16:27:08Z","Content":"@Tontow, Yes, I could add a hotkey for sorting. I\u0027ll add that in quickly."},{"CreatedByName":"Tontow","CreatedById":64552,"CreatedDateTime":"2015-05-17T06:46:52Z","Content":"Nice.\n\nBtw, can I control how fast it sorts?"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-17T15:45:48Z","Content":"@Tontow, as in a throttle? Hrm... that\u0027s not currently in, but it could be a thing, I\u0027ll see what I can do.\n\nEdit: Throttle isn\u0027t necessary, you can control when it starts and stops sorting."},{"CreatedByName":"Tontow","CreatedById":64552,"CreatedDateTime":"2015-05-18T06:44:46Z","Content":"I don\u0027t know about that. It would be nice if I could set it to a slow sort speed so I can see what it is doing or set it crazy fast once I\u0027m sure it is sorting like I want it to.\n\nShouldn\u0027t be too hard, it is just a wait type command tied to a text box with a number in it."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-18T17:27:27Z","Content":"@Tontow, I\u0027m not saying it\u0027s hard, I\u0027m just saying that you already select how you want it to sort, and it will sort from there, if you want to see it\u0027s craziness in action, go to the Mission Control building and watch it there. And as for watching what it\u0027s doing, all you see as the user is it declining contracts and new ones popping up. It\u0027s nothing special really."}]}