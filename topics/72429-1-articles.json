{"TopicId":72429,"ForumId":36,"TopicTitle":"Upgrading ReStock parts for the Kerbodyne fuel tanks.","CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-05-15T08:36:37Z","PageNum":1,"Articles":[{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-05-15T08:36:37Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/0-21-restock-parts/\u0022 rel=\u0022external nofollow\u0022\u003EReStock\u003C/a\u003E, so simple, so convenient, especially the Rockomax sized bi, tri and quad couplers. It\u0027s just a small pack of cfg files that resize and rearrange some of the stock models.\u003C/p\u003E\u003Cp\u003EIts 5-way RCS blocks work great to reduce part count by reducing the number of thrusters needed, but they\u0027re underpowered for shoving around things built with the Kerbodyne tanks.\u003C/p\u003E\u003Cp\u003EBut sadly, not updated in ages and nothing in it to fit the new Kerbodyne tanks and engines diameter.\u003C/p\u003E\u003Cp\u003EHere\u0027s the cfg for the Bigger, Badder, Bi-Coupler in ReStock. What changes would need made to upsize it? Possible to make a version with Rockomax size on top, Kerbodyne on the bottom? My Kerbal Krewe wants to have a quad coupler made to mount four Kerbodyne tanks and engines underneath a Rockomax based vehicle. Adapting multiple Kerbodyne to the Re-Stock ThunderMax size tanks would also be fun and educational. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003Ename = couplerBiLarge\u003Cbr\u003Emodule = Part\u003Cbr\u003Eauthor = Squad, PolecatEZ\u003Cbr\u003E\u003Cbr\u003EMODEL\u003Cbr\u003E{\u003Cbr\u003E   model = Squad/Parts/Utility/stackBiCoupler/model\u003Cbr\u003E   position = 0.0, 0.0, 0.0\u003Cbr\u003E   scale = 2.0, 2.0, 2.0\u003Cbr\u003E   rotation = 0.0, 0, 0\u003Cbr\u003E//   texture = model000 , Squad/Parts/Command/Mark2Cockpit/model000\u003Cbr\u003E//   texture = model001 , Squad/Parts/Command/Mark2Cockpit/model001\u003Cbr\u003E//   texture = model002 , Squad/Parts/Command/Mark2Cockpit/model002\u003Cbr\u003E}\u003Cbr\u003Escale = 2\u003Cbr\u003ErescaleFactor = 1\u003Cbr\u003E\u003Cbr\u003Enode_stack_top = 0, 0.2555655, 0, 0.0, 1.0, 0.0, 2\u003Cbr\u003Enode_stack_bottom1 = 0.6507622, -0.2681665, 0, 0.0, 1.0, 0.0, 2\u003Cbr\u003Enode_stack_bottom2 = -0.6507622, -0.2681665, 0, 0.0, 1.0, 0.0, 2\u003Cbr\u003E\u003Cbr\u003Ecost = 1600\u003Cbr\u003Ecategory = Structural\u003Cbr\u003Esubcategory = 0\u003Cbr\u003Etitle = Bigger Badder Bi-Coupler\u003Cbr\u003Emanufacturer = AeroKerbin Bath Products Division\u003Cbr\u003Edescription = The successor to the TVR-200 Stack Bi-Coupler is a simple method for splitting one giant Rockomax-style rocket into two - WITHOUT the disastrous consequences of doing it the normal (explosive) way.\u003Cbr\u003E\u003Cbr\u003EattachRules = 1,0,1,0,0\u003Cbr\u003EstackSymmetry = 1\u003Cbr\u003E\u003Cbr\u003Emass = 0.9\u003Cbr\u003EdragModelType = default\u003Cbr\u003Emaximum_drag = 0.2\u003Cbr\u003Eminimum_drag = 0.2\u003Cbr\u003EangularDrag = 2\u003Cbr\u003EcrashTolerance = 90\u003Cbr\u003EmaxTemp = 3400\u003Cbr\u003EbreakingForce = 970\u003Cbr\u003EbreakingTorque = 970\u003Cbr\u003EfuelCrossFeed = True\u003Cbr\u003E\u003Cbr\u003E// keeps fuel from flowing FROM the bottom nodes (prevents stack imbalances and such)\u003Cbr\u003ENoCrossFeedNodeKey = bottom\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUpdates needed, node size adjustments (especially to thunderBiQuatro.cfg that mounts four Rockomax and five medium size engines under a ThunderMax tank), tech tree settings, tweakables and???\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-15T08:43:05Z\u0022 title=\u002205/15/2014 08:43  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 15, 2014\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PolecatEZ","CreatedById":58008,"CreatedDateTime":"2014-05-15T12:09:01Z","Content":"\n\u003Cp\u003EConsidering this was made before I really knew what I was doing with scaling - and looking at it, its bringing back brutal flashbacks of reloading repeatedly using the eyeball method of node precision and sizing.\u003C/p\u003E\u003Cp\u003ESoooo...\u003C/p\u003E\u003Cp\u003E1) I\u0027ve pretty much been wiping out my own Squad folder as I\u0027ve gone along on this B9-ification of Squad parts...and those .cfgs reference Squad parts that are no longer there in my world. \u003Cem\u003ENot one step back!\u003C/em\u003E (\u003Cem\u003E\u00C3\u00C2\u00C3\u00C2\u00B8 \u00C3\u2018\u00CB\u2020\u00C3\u00C2\u00B0\u00C3\u00C2\u00B3\u00C3\u2018\u00C6\u2019 \u00C3\u00C2\u00BD\u00C3\u00C2\u00B0\u00C3\u00C2\u00B7\u00C3\u00C2\u00B0\u00C3\u00C2\u00B4!\u003C/em\u003E)\u003C/p\u003E\u003Cp\u003E2) These will be released in a rocket parts pack probably in next 3-4 weeks. The cockpits and other odd parts already have been done or their functions duplicated in a new way and are either already in one of the B9 expansions or soon will be. \u003C/p\u003E\u003Cp\u003E3) Bac9 hinted at a similar set of parts when he updates the original B9 pack, so anything created above would probably be obsoleted also - hence why I\u0027m dragging my feet a bit on these types of parts specifically.\u003C/p\u003E\u003Cp\u003E4) If anyone wants to update or expand ReStock using Squad parts, I\u0027ll be happy to update the Spaceport download with their version.\u003C/p\u003E\u003Cp\u003E5) I\u0027ll take the request for chunkier RCS thrusters under advisement - and I already have some ideas how to do it.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-05-16T03:53:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PolecatEZ\u0022 data-cite=\u0022PolecatEZ\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E4) If anyone wants to update or expand ReStock using Squad parts, I\u0027ll be happy to update the Spaceport download with their version.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat was my intention, to add a Kerbodyne Kompatibility set to ReStock, plus fixing any node sizes that need changed (especially on that 9 engine ThunderMax adapter). Adding Tech Tree support would be a good thing. I\u0027d put the ThunderMax, the lengthened RockoMax size tanks, the Bigger, Badder adapters, heavier nukes and those huge SRBs into the same class as the new Kerbodyne parts. Dunno where to put the spaceplane parts in the tree, aside from tech tree I don\u0027t see that any of those need any changes.\u003C/p\u003E\u003Cp\u003EBut what I need to know is what to change to scale parts up to the new largest stock diameter - and how to fix the fuel drain imbalance on the top side of the triple tank held together with girders. It drains first from one end (or possibly only from one end) so fuel lines have to be used to it from tanks above, and they tend to self-disconnect on the pad - unless KSP has addressed such things since .21 I haven\u0027t flown anything using that tank since .21 but still have one in orbit on a fuel depot.\u003C/p\u003E\u003Cp\u003EThe fuel feed and line issue got the station and lander built with it called the NEW series, for Nearly Everything Works. Made a successful trip to Minmus with it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"PolecatEZ","CreatedById":58008,"CreatedDateTime":"2014-05-16T05:53:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003E...But what I need to know is what to change to scale parts up to the new largest stock diameter - and how to fix the fuel drain imbalance on the top side of the triple tank held together with girders. It drains first from one end (or possibly only from one end) so fuel lines have to be used to it from tanks above, and they tend to self-disconnect on the pad - unless KSP has addressed such things since .21 I haven\u0027t flown anything using that tank since .21 but still have one in orbit on a fuel depot.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnswer to the first part: Same way I figured it out...lots of reloading with Alt-F12 menu until something looked good.\u003C/p\u003E\u003Cp\u003EAs for the fuel drain issue, its just the way things work in KSP. There\u0027s no fix for it as of right now. In other mods with these types of parts, they just disabled the fuel flow completely. Self-disconnecting is probably a node size issue that is easily fixed. I don\u0027t think they had working node sizes when I made that mod.\u003C/p\u003E\u003Cp\u003EFeel free to do what you will with that mod - even repackage it. It hasn\u0027t been in my own game in a long time and I\u0027m surprised its still in use.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003E...But what I need to know is what to change to scale parts up to the new largest stock diameter - and how to fix the fuel drain imbalance on the top side of the triple tank held together with girders. It drains first from one end (or possibly only from one end) so fuel lines have to be used to it from tanks above, and they tend to self-disconnect on the pad - unless KSP has addressed such things since .21 I haven\u0027t flown anything using that tank since .21 but still have one in orbit on a fuel depot.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnswer to the first part: Same way I figured it out...lots of reloading with Alt-F12 menu until something looked good.\u003C/p\u003E\u003Cp\u003EAs for the fuel drain issue, its just the way things work in KSP. There\u0027s no fix for it as of right now. In other mods with these types of parts, they just disabled the fuel flow completely. Self-disconnecting is probably a node size issue that is easily fixed. I don\u0027t think they had working node sizes when I made that mod.\u003C/p\u003E\u003Cp\u003EFeel free to do what you will with that mod - even repackage it. It hasn\u0027t been in my own game in a long time and I\u0027m surprised its still in use.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-16T05:58:51Z","Content":"\n\u003Cp\u003EA note on rescaling, since the ReStock parts suffer from the rescaleFactor issue.\u003C/p\u003E\u003Cp\u003EThree things affect scale.\u003C/p\u003E\u003Cp\u003EFirst, does the part use MODEL nodes? Skip to part B.\u003C/p\u003E\u003Cp\u003EA (MODEL node not used; instead \u0022mesh = blah\u0022 used)\u003C/p\u003E\u003Cp\u003E1. \u0022scale = foo\u0022 determines how the first three numbers for each attach node line (the X, Y, Z coords of the node) are scaled. It does *not* affect anything else. Default = 1.0 if not present\u003C/p\u003E\u003Cp\u003E2. \u0022rescaleFactor = bar\u0022 scales both the model (and its transforms) *and* the attach nodes. Default = 1.25 if not present.\u003C/p\u003E\u003Cp\u003EB (MODEL node(s) used)\u003C/p\u003E\u003Cp\u003E1. Inside the MODEL node, \u0022scale = blahX, blahY, blahZ\u0022 determines the scaling of the model and its transforms. Default is 1.0, 1.0, 1.0. It does not affect node positions.\u003C/p\u003E\u003Cp\u003E2. Outside the MODEL node, \u0022scale = foo\u0022 works as above.\u003C/p\u003E\u003Cp\u003E3. Outside the MODEL node, rescaleFactor works as above.\u003C/p\u003E\u003Cp\u003EHOWEVER, there is a bug in scaling. For parts with MODEL nodes, rescaleFactor is applied twice to the mu, *unless* (a) the part is the root part of the vessel and (\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E you\u0027ve reverted to launch (or perhaps switched in flight? Don\u0027t recall). All other times, it is applied twice. What this means is that if you have scale = 1.0, 1.0, 1.0 in the MODEL node (or no scale at all), and rescaleFactor = 1.25, then your mesh will actually be 1.5625 as big, but your nodes will be scaled outwards 1.25.\u003C/p\u003E\u003Cp\u003EFor this reason, when scaling parts using MODEL nodes, it is suggested to leave scale (outside the MODEL node) and rescaleFactor both at 1.0, and instead both change the scale = x, y, z inside the MODEL node and manually scale the positions of the attach nodes.\u003C/p\u003E\u003Cp\u003EThus this bites the command-pod parts particularly badly, since they\u0027re likely to be root parts; on a revert (or quickswitch) their size changes and you likely get RUD.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-05-16T09:23:42Z","Content":"\n\u003Cp\u003ELooks like there\u0027s a new node size in .23.5\u003C/p\u003E\u003Cp\u003Enode_stack_top = 0.0,1.527248,0.0 , 0.0, 1.0, 0.0, 3\u003C/p\u003E\u003Cp\u003EJust applying that to the ThunderMax size parts should improve stability.\u003C/p\u003E\u003Cp\u003EEdit: Yessss. Yes, it does. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Adapting the adapters to Kerbodyne size was as easy as changing the scale factors from 2 to 3 and the node sizes from 2 to 3. I also changed the node sizes on both ends of the ThunderMax tanks to 3 and same for the bottom of the Rockomax adapter and the top of the 9 engine mount. New part names and descriptions and Bob Kerman\u0027s your second alien cousin twice removed. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhat has me stumped is enlarging just the top end of the ThunderMax to Rockomax adapter to Kerbodyne size. If I change the scale from 2,6,2 to 3,6,3 the big end also gets bigger. Oh no, not making ThunderMaximumer tanks and upscaling the 9 engine mount to hold four Kerbodyne and five Rockomax engines... I\u0027ve no idea how you put that thing together, PolecatEZ.\u003C/p\u003E\u003Cp\u003EPerhaps making a cfg to adjust the size of the new Kerbodyne to Rockomax adapter?\u003C/p\u003E\u003Cp\u003EEdit 2: Close, quite close. Scale 1.45,1,1.45 puts the top end exactly at Kerbodyne size but the bottom end is a bit larger than the ThunderMax. I\u0027ll try upsizing the other stock adapters and see if any will bloat to Kerbodyne up top while coming close to but not exceeding Thunder down below.\u003C/p\u003E\u003Cp\u003ENot caring much if the adapter is a smidge small on the bottom. It\u0027s the overhang which looks silly. Getting something right sized for this is the last new part addition to integrate Kerbodyne parts with ReStock. Then there\u0027s adding tech tree info.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-16T11:31:54Z\u0022 title=\u002205/16/2014 11:31  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 16, 2014\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"}]}