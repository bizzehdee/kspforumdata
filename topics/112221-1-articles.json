{"TopicId":112221,"ForumId":69,"TopicTitle":"game crashes often in space center","CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-07T01:51:56Z","PageNum":1,"Articles":[{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-07T01:51:56Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EI often experience game crashes while switching facilities in the Space center, or when quitting the SC to the game main menu etc. I works after I restart the game, so the crashes are perfectly repeatable.. but happen several times a day and are quite annoying (fortunately game progress is saved correctly). I\u0027ve already tried to set the game process to single CPU core, no help.\u003C/p\u003E\u003Cp\u003ECrash report is here: \u003Ca href=\u0022http://s000.tinyupload.com/?file_id=88913880778850263979\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s000.tinyupload.com/index.php?file_id=88913880778850263979\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E(dump files are 0 length, this is not a mistake).\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003EWojtus\u003C/p\u003E\n"},{"CreatedByName":"Carraux","CreatedById":60890,"CreatedDateTime":"2015-06-09T09:41:58Z","Content":"\n\u003Cp\u003EKSP has a memory leak which crashes the game frequently.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-06-09T10:30:55Z","Content":"\n\u003Cp\u003EThis was not caused by a memory leak.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EUnity Player [version: Unity 4.6.4f1_99f88340878d]\u003Cp\u003Emono.dll caused an Access Violation (0xc0000005)\u003C/p\u003E\u003Cp\u003E in module mono.dll at 001b:10107259.\u003C/p\u003E\u003Cp\u003EError occurred at 2015-06-07_032840.\u003C/p\u003E\u003Cp\u003EF:\\Steam\\steamapps\\common\\Kerbal Space Program\\KSP.exe, run by vvk.\u003C/p\u003E\u003Cp\u003E67% memory in use.\u003C/p\u003E\u003Cp\u003E3575 MB physical memory [1179 MB free].\u003C/p\u003E\u003Cp\u003E3410 MB paging file [1183 MB free].\u003C/p\u003E\u003Cp\u003E2048 MB user address space [177 MB free].\u003C/p\u003E\u003Cp\u003EWrite to location 00000000 caused an access violation.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWojtus, please provide your outpt_log the next time it crashes.\u003C/p\u003E\n"},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-10T15:17:45Z","Content":"\n\u003Cp\u003EFunny, output_log is empty! I\u0027ve zeroed it earlier to have a clean log, now after the crash I see it\u0027s still zero length.\u003C/p\u003E\u003Cp\u003EFor a change, this time I have a non-zero dump file! I must admit last days I\u0027ve played a bit with graphic settings and gave a try to TextureReplacer mod, but I\u0027ve removed all mod directories to reproduce this crash today for you.\u003C/p\u003E\u003Cp\u003ELatest crash dir is here: \u003Ca href=\u0022http://s000.tinyupload.com/index.php?file_id=01542887099147241980\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s000.tinyupload.com/index.php?file_id=01542887099147241980\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-11T01:18:41Z","Content":"\n\u003Cp\u003EOK, got it repeatable. I\u0027ve reinstalled the game from scratch, only keeping my savegame. Once started, I load my complex (200\u002B parts) ship, go to launchpad, revert to assembly - guaranteed crash. This time output_log is nicely populated:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://s000.tinyupload.com/index.php?file_id=48667460069726775318\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s000.tinyupload.com/index.php?file_id=48667460069726775318\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-06-11T09:34:31Z","Content":"\n\u003Cp\u003EOkay, it\u0027s a memory issue but doesn\u0027t look like it\u0027s the leak as you have plenty of memory available.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EError occurred at 2015-06-11_031210.\u003Cbr\u003EF:\\Steam\\steamapps\\common\\Kerbal Space Program\\KSP.exe, run by vvk.\u003Cbr\u003E62% memory in use.\u003Cbr\u003E3575 MB physical memory [1324 MB free].\u003Cbr\u003E3410 MB paging file [1337 MB free].\u003Cbr\u003E2048 MB user address space [176 MB free].\u003Cbr\u003EWrite to location 00400000 caused an access violation.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut KSP runs out of memory that it can use for textures.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EDynamicHeapAllocator out of memory - Could not get memory for large allocationCould not allocate memory: System out of memory!\u003Cbr\u003ETrying to allocate: 16384004B with 32 alignment. MemoryLabel: Texture\u003Cbr\u003EAllocation happend at: Line:411 in \u003Cbr\u003EMemory overview\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[ ALLOC_DEFAULT ] used: 341859459B | peak: 0B | reserved: 377472362B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_GFX ] used: 329496239B | peak: 0B | reserved: 399458082B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_CACHEOBJECTS ] used: 323008B | peak: 0B | reserved: 12582912B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_TYPETREE ] used: 20472B | peak: 0B | reserved: 4194304B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_PROFILER ] used: 291348B | peak: 0B | reserved: 8388608B \u003Cbr\u003ECould not allocate memory: System out of memory!\u003Cbr\u003ETrying to allocate: 16384004B with 32 alignment. MemoryLabel: Texture\u003Cbr\u003EAllocation happend at: Line:411 in \u003Cbr\u003EMemory overview\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[ ALLOC_DEFAULT ] used: 341859459B | peak: 0B | reserved: 377472362B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_GFX ] used: 329496239B | peak: 0B | reserved: 399458082B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_CACHEOBJECTS ] used: 323008B | peak: 0B | reserved: 12582912B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_TYPETREE ] used: 20472B | peak: 0B | reserved: 4194304B \u003Cbr\u003E\u003Cbr\u003E[ ALLOC_PROFILER ] used: 291348B | peak: 0B | reserved: 8388608B \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: 920)\u003Cbr\u003E\u003Cbr\u003ENo Texture memory available to upload\u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: 585)\u003Cbr\u003E\u003Cbr\u003E[PlanetariumCamera]: Focus: Kerbin\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003EUnloadTime: 54.410816 ms\u003Cbr\u003EHighlightingSystem : Edge Highlighting requires AA to work!\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003EHighlightingSystem : Highlighting System has been disabled due to unsupported Unity features on the current platform!\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003ENo Input Locks in effect right now\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003ECrash!!!\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou mention using a certain savegame and craft, please upload that savegame so I can try it, also upload your dxdiag log.\u003C/p\u003E\n"},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-11T11:01:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EOkay, it\u0027s a memory issue but doesn\u0027t look like it\u0027s the leak as you have plenty of memory available.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI might not. I run 32bit system with physical 4GB installed. So the reports about \u0022free\u0022 memory are not necessarily true, I don\u0027t know if they take inaccessible memory into account.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYou mention using a certain savegame and craft, please upload that savegame so I can try it, also upload your dxdiag log.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere\u0027s the save:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://s000.tinyupload.com/index.php?file_id=81191565136019964278\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s000.tinyupload.com/index.php?file_id=81191565136019964278\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe craft I\u0027ve used to reproduce is \u0022Mun Lander 2\u0022, however I\u0027m sure it\u0027s not connected to specific spaceship, rather it\u0027s number of elements (so textures). Dxdiag output is inside.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-06-11T12:37:17Z","Content":"\n\u003Cp\u003EKSP running on win32 (with no special tweaks) can only use about 1800 meg before it will crash. I suspect that the game not reading the memory status correctly causes unity issues in its low memory handling. I used to run on a win32 laptop with 3 gig and usually ran with reduced texture res and low terrain detail to avoid these sorts of crashes. Have you tried the opengl or dx11 options? They used to reduce memory use quite a lot though I preferred low res textures to the graphical glitches I got with them.\u003C/p\u003E\n"},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-13T00:11:25Z","Content":"\n\u003Cp\u003ENo help with OpenGL (actually it worked, but similar memory usage and hangs on setting screen). So far I\u0027ve followed \u0022no memory for texture\u0022 trail and reduced their resolution. It helped, but it\u0027s not an ultimate cure. Thanks for help with pinpointing this one!\u003C/p\u003E\n"}]}