{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":96,"Articles":[{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-17T20:03:59Z","Content":"\n\u003Cp\u003EI get an NRE from ATM on load. With context, so you can see where:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EAgentList: 30 agents parsed and loaded.\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at ActiveTextureManagement.ActiveTextureManagement.SetupLoaders () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at ActiveTextureManagement.ActiveTextureManagement.Start () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003E[CelestialBody]: Kerbin\u0027s solar day length is 6h, 0m, 0s long. sidereal day length is 5h, 59m, 59s long\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003E[HighLogic]: =========================== Scene Change : From LOADING to MAINMENU =====================\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is with 3-8, and things do appear to be working properly ingame. But I figured I should point it out. I will try on a stock install, etc, to see what\u0027s causing it.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-17T20:18:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI get an NRE from ATM on load. With context, so you can see where:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EAgentList: 30 agents parsed and loaded.\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at ActiveTextureManagement.ActiveTextureManagement.SetupLoaders () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at ActiveTextureManagement.ActiveTextureManagement.Start () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003E[CelestialBody]: Kerbin\u0027s solar day length is 6h, 0m, 0s long. sidereal day length is 5h, 59m, 59s long\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003E[HighLogic]: =========================== Scene Change : From LOADING to MAINMENU =====================\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is with 3-8, and things do appear to be working properly ingame. But I figured I should point it out. I will try on a stock install, etc, to see what\u0027s causing it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, it is because we try to run outside of the loading context I think. It should be easy to fix when I get the time.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-17T21:42:33Z","Content":"\n\u003Cp\u003EAh, ok. Cool.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-10-17T21:48:04Z","Content":"\n\u003Cp\u003ESo I removed ATM as a test to see if OpenGL could hold its own and I was surprised - not even cracking above 1.9GB, and that\u0027s with KW Rocketry and a whole bunch other mods.. I\u0027ll see how it handles B9 when that gets updated and possibly NearFuture as well.\u003C/p\u003E\u003Cp\u003EAnyway, I digress - loading with ATM takes a LOT less time than without, so what do I need to change in what config to not rescale or downsize anything, but still take advantage of the drastically decreased loading time, if possible at all?\u003C/p\u003E\n"},{"CreatedByName":"onlinegamesz","CreatedById":70808,"CreatedDateTime":"2014-10-17T21:52:44Z","Content":"\n\u003Cp\u003EWhen I run the mod some icons from the toolbar are missing and from fineprint are also some icons missing, is there a way to fix this problem? I can ensure this didn\u0027t happened before I installed this mod.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-10-17T23:20:32Z","Content":"\n\u003Cp\u003EI\u0027m still getting fuzzy toolbar icons with 3-8 Aggressive. Do I need to add configs? I thought you were ignoring small graphics now.\u003C/p\u003E\n"},{"CreatedByName":"BigD145","CreatedById":417,"CreatedDateTime":"2014-10-17T23:45:36Z","Content":"\n\u003Cp\u003EDelete the two folders for ATM and reinstall. Small graphics do work.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-10-18T00:36:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BigD145\u0022 data-cite=\u0022BigD145\u0022\u003E\u003Cdiv\u003EDelete the two folders for ATM and reinstall. Small graphics do work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI did. Still have fuzzed icons.\u003C/p\u003E\u003Cp\u003EOn edit: Weird. I just strolled through the textureCache, and icons are indeed not being cached. They\u0027re still fuzzy though. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/vkzYCLv.jpg\u0022 alt=\u0022vkzYCLv.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-18T00:44:15Z\u0022 title=\u002210/18/2014 12:44  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 18, 2014\u003C/time\u003E by lincourtl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Taki117","CreatedById":89975,"CreatedDateTime":"2014-10-18T00:55:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EI did. Still have fuzzed icons.\u003Cp\u003EOn edit: Weird. I just strolled through the textureCache, and icons are indeed not being cached. They\u0027re still fuzzy though. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/vkzYCLv.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/vkzYCLv.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis might actually just be a graphics issue and not an ATM issue. At least that\u0027s what it looks like to me.\u003C/p\u003E\n"},{"CreatedByName":"slumpie","CreatedById":121922,"CreatedDateTime":"2014-10-18T00:57:06Z","Content":"\n\u003Cp\u003EIt\u0027s not mod related, the stock game does that. Try higher settings, I can\u0027t remember what exactly it was though. Maybe full res textures.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-10-18T02:00:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022slumpie\u0022 data-cite=\u0022slumpie\u0022\u003E\u003Cdiv\u003EIt\u0027s not mod related, the stock game does that. Try higher settings, I can\u0027t remember what exactly it was though. Maybe full res textures.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoh! I was sure I had full res textures set in the options. Thanks.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-18T02:37:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ESo you are saying that even with an empty Gamedata folder you see this? That means you probably have a memory leak somewhere. Try a fresh install of KSP (not just clean GameData) and keep a very careful record of memory\u002Bmods. Infact, one thing you could try is to add all the mods back in, but slowly delete MOD *.dlls (save things like module manager for last though) to see which one is causing your memory to spike. This should help you find which mod is eating memory.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, I\u0027ll see about doing this over the weekend and report back.\u003C/p\u003E\n"},{"CreatedByName":"gamesca","CreatedById":120488,"CreatedDateTime":"2014-10-18T03:35:13Z","Content":"\n\u003Cp\u003Eokay so i want to use b9 aerospace 5.2.4 but when i try and load it i get all white parts. thats it. could i get a link to the .24 edition?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-10-18T03:41:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022gamesca\u0022 data-cite=\u0022gamesca\u0022\u003E\u003Cdiv\u003Eokay so i want to use b9 aerospace 5.2.4 but when i try and load it i get all white parts. thats it. could i get a link to the .24 edition?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think 3-4 was the last 0.24.x release, you can get it \u003Ca href=\u0022https://github.com/rbray89/ActiveTextureManagement/releases/tag/3-4\u0022 rel=\u0022external nofollow\u0022\u003Edirectly from rbray\u0027s github releases\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mokmo","CreatedById":62363,"CreatedDateTime":"2014-10-18T04:24:44Z","Content":"\n\u003Cp\u003EYou will get fuzzy icons if you have set your graphics options to anything but full-res textures\u003C/p\u003E\n"},{"CreatedByName":"Neutrinovore","CreatedById":72520,"CreatedDateTime":"2014-10-18T05:41:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mokmo\u0022 data-cite=\u0022Mokmo\u0022\u003E\u003Cdiv\u003EYou will get fuzzy icons if you have set your graphics options to anything but full-res textures\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, that\u0027s new for 0.25 then, because I\u0027ve ALWAYS played the game with the option set to \u0027half res\u0027, but it\u0027s only in the last week that the icons have been so blurry as to be almost unreadable. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-10-18T06:01:46Z","Content":"\n\u003Cp\u003EAnyone get some oddly dark textures using ATM? Started to get crashes from running out of memory in .25 so got ATM installed, and some things like Kerbal suits and pods have odd dark spots on them, almost like the lighting is all wonky. Didn\u0027t happen before using ATM. Tried both basic and aggressive.\u003C/p\u003E\u003Cp\u003EI can provide screens if needed. I haven\u0027t touched KSP for a couple of versions, and never had a problem with my mod selection and ATM before.\u003C/p\u003E\n"},{"CreatedByName":"onlinegamesz","CreatedById":70808,"CreatedDateTime":"2014-10-18T08:15:12Z","Content":"\n\u003Cp\u003EFor me the icons are just gone, I only see a square or it totally became black, really weird, i\u0027m new to this mod and im using the x86 basic ATM.\u003C/p\u003E\n"},{"CreatedByName":"hymirth","CreatedById":109076,"CreatedDateTime":"2014-10-18T11:37:52Z","Content":"\n\u003Cp\u003EI\u0027m still crashing even with Active Texture Management in .25 with b9 and texture replacer, is it possible that i\u0027m hitting the memory ceiling even with ATM?\u003C/p\u003E\n"},{"CreatedByName":"Taki117","CreatedById":89975,"CreatedDateTime":"2014-10-18T14:18:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hymirth\u0022 data-cite=\u0022hymirth\u0022\u003E\u003Cdiv\u003EI\u0027m still crashing even with Active Texture Management in .25 with b9 and texture replacer, is it possible that i\u0027m hitting the memory ceiling even with ATM?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is entirely possible. Open up your Memory Manager (CTRL\u002BSHIFT\u002BESC on windows) and check how much Memory KSP is using while loading. if it\u0027s the 32 bit game it caps out at about 3.5GB\u003C/p\u003E\n"},{"CreatedByName":"Celann","CreatedById":126376,"CreatedDateTime":"2014-10-18T15:48:41Z","Content":"\n\u003Cp\u003EI could really use some help with a problem I\u0027m having while using ATM in conjunction with Texture Replacer.\u003C/p\u003E\u003Cp\u003EWhenever I use ATM it refuses to allow Texture Replacer to replace textures. When I load up the game none of the textures I have set up in Texture Replacer are there, it uses the stock textures. I\u0027ve tried making a config file so that ATM ignores Texture Replacer but to no avail. This is odd because before I did a reinstall I had this set up and it was working perfectly.\u003C/p\u003E\u003Cp\u003EI\u0027d really appreciate some help as this is getting quite frustrating.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-18T15:57:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ESo you are saying that even with an empty Gamedata folder you see this? That means you probably have a memory leak somewhere. Try a fresh install of KSP (not just clean GameData) and keep a very careful record of memory\u002Bmods. Infact, one thing you could try is to add all the mods back in, but slowly delete MOD *.dlls (save things like module manager for last though) to see which one is causing your memory to spike. This should help you find which mod is eating memory.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, for my \u0022fresh install\u0022 I renamed my existing KSP folder and used Steam to reacquire the game files. Would that be a proper procedure? Unfortunately it didn\u0027t change anything even then.\u003C/p\u003E\u003Cp\u003EEmpty GameData:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/M7ipnJI.png\u0022 alt=\u0022M7ipnJI.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.blade-edge.com/misc/output_log-atm2.zip\u0022 rel=\u0022external nofollow\u0022\u003Eoutput_log file\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWith stock GameData:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/qIxRFV9.png\u0022 alt=\u0022qIxRFV9.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.blade-edge.com/misc/output_log-atm.zip\u0022 rel=\u0022external nofollow\u0022\u003Eoutput_log file\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI should note I copied over my settings config file to the fresh install. When I deleted it to run with a stock config I noticed the memory drop by like 20-30MB in both cases but that was it.\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2014-10-18T16:08:49Z","Content":"\n\u003Cp\u003Ei think i\u0027ll go on the hunt too. i am sitting on 3,2Gb after loading the game. the only \u0027bigger\u0027 things i use are Better Atmospheres V5 and KWRocketry. the other mods are only small, functual mods without high partcount. so i think 3,2 is too much and something is using all my ram..\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://www.umluex.at/bilder/KSP/ksp_mods.jpg\u0022 alt=\u0022ksp_mods.jpg\u0022\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-18T16:39:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Uml\u00C3\u0192\u00C2\u00BCx\u0022 data-cite=\u0022Uml\u00C3\u0192\u00C2\u00BCx\u0022\u003E\u003Cdiv\u003Ei think i\u0027ll go on the hunt too. i am sitting on 3,2Gb after loading the game.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGive empty/stock load values - loading with mods doesn\u0027t give a good baseline for comparison\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2014-10-18T16:42:09Z","Content":"\n\u003Cp\u003Estock: ~1,5Gb\u003C/p\u003E\n"}]}