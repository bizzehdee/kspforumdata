{"TopicId":47513,"ForumId":34,"TopicTitle":"Extremely simple/stupid, but functional, shared save file solution","CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T08:10:35Z","PageNum":1,"Articles":[{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T08:10:35Z","Content":"\n\u003Cp\u003EI wrote this.\u003C/p\u003E\u003Cp\u003EIt works.\u003C/p\u003E\u003Cp\u003EI own emlia.org so feel free to use it.\u003C/p\u003E\u003Cp\u003ESave this as ftpsync.bat or something like that, and put it in your KSP folder.\u003C/p\u003E\u003Cp\u003EI want to next make a plugin that autosyncs based on when Space Center is entered, but will only do so if this is useful at all. If this gets used, I can see if the server can take the load.\u003C/p\u003E\u003Cp\u003EThanks in advance.\u003C/p\u003E\u003Cp\u003EI have nothing witty to say.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E:preinit\u003Cbr\u003Eset savename=overwritable\u003Cbr\u003Erem this deletes all empty files (housekeeping)\u003Cbr\u003Efor %%F in (*) do if %%~zF equ 0 del \u0022%%F\u0022\u003Cbr\u003Eif exist ftpsync.txt goto init\u003Cbr\u003Eecho off\u003Cbr\u003Ecls\u003Cbr\u003Eecho.\u003Cbr\u003Eecho You have never run this script, so a settings file has been created.\u003Cbr\u003Eecho All it contains is the name of your shared save file.\u003Cbr\u003Eecho Be sure to use the same shared save file as your group!\u003Cbr\u003Eecho.\u003Cbr\u003Eecho This settings file is called ftpsync.txt\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Right now it contains \u0022overwritable\u0022 which is the default, there\u003Cbr\u003Eecho is no way of knowing what will be in there. Give it a go if you\u003Cbr\u003Eecho dare...\u003Cbr\u003Eecho.\u003Cbr\u003Eecho You can use notepad to change that file and enter a new name. If\u003Cbr\u003Eecho there is no shared save with that name, you can create one\u003Cbr\u003Eecho within KSP.\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Be sure to ONLY type in the name of the shared save, NO newlines\u003Cbr\u003Eecho and no spaces. Spaces in shared save games are not allowed right now.\u003Cbr\u003Eecho Trailing spaces will be ignored.\u003Cbr\u003Eecho.\u003Cbr\u003Eecho This script will now let you edit the save name.\u003Cbr\u003Eecho Hit save when you\u0027re done!\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Have fun! \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u002299f4f2fbd9f5f0fbfcebf6b7f0ed\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E\u003Cbr\u003E\u0026lt;nul set /p \u0022savename=overwritable\u0022 \u0026gt; ftpsync.txt\u003Cbr\u003Estart /wait notepad ftpsync.txt\u003Cbr\u003E:init\u003Cbr\u003Eecho off\u003Cbr\u003Eset /P savename=\u0026lt;ftpsync.txt\u003Cbr\u003Erem this is to make sure subassemblymanager works\u003Cbr\u003Emkdir pluginData\\subassemblyLoader\u003Cbr\u003Emkdir pluginData\\subassemblyLoader\\subassemblies\u003Cbr\u003Emkdir pluginData\\subassemblyLoader\\subassemblies\\Landers\u003Cbr\u003Emkdir pluginData\\subassemblyLoader\\subassemblies\\Lifters\u003Cbr\u003Emkdir pluginData\\subassemblyLoader\\subassemblies\\Probes\u003Cbr\u003Emkdir pluginData\\subassemblyLoader\\subassemblies\\Impactors\u003Cbr\u003Emkdir pluginData\\subassemblyLoader\\subassemblies\\Other\u003Cbr\u003E\u003Cbr\u003E:start\u003Cbr\u003Ecls\u003Cbr\u003Eif not %savename%==overwritable goto nowarn\u003Cbr\u003Eif \u0022%savename%\u0022==\u0022\u0022 goto abort\u003Cbr\u003E:warn\u003Cbr\u003Eecho.\u003Cbr\u003Eecho You should probably edit the settings file and change the save name to something else!\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Close this window now, or press a key to continue with the overwritable save name.\u003Cbr\u003Eecho.\u003Cbr\u003Epause \u0026gt;nul\u003Cbr\u003E\u003Cbr\u003E:nowarn\u003Cbr\u003Erem if exist saves move saves single_saves\u003Cbr\u003Erem if exist single_saves move synch_saves saves \u003Cbr\u003Erem move saves single_saves\u003Cbr\u003Erem move synch_saves saves\u003Cbr\u003Emkdir saves\u003Cbr\u003Ecd saves\u003Cbr\u003Emkdir %savename%\u003Cbr\u003Ecd %savename%\u003Cbr\u003Emkdir Ships\u003Cbr\u003Emkdir Ships\\VAB\u003Cbr\u003Emkdir Ships\\SPH\u003Cbr\u003Efor %%F in (*) do if %%~zF equ 0 del \u0022%%F\u0022\u003Cbr\u003Eif exist %savename%.ksp goto abort\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E:ftp_get\u003Cbr\u003Erem I know that I\u0027m giving away a password. I made a ftp account for just this and nothing else. Nyah nyah.\u003Cbr\u003Eecho open emlia.org \u0026gt; ftp_get.scr\u003Cbr\u003Eecho \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u00225c372f2c032f343d2e39381c2f2c352e35282c3029313e392e723f3331\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho c5ZTrG7nHqGr\u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho get %savename%.ksp \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho disconnect \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho bye \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003E\u003Cbr\u003Eftp -i -s:\u0022ftp_get.scr\u0022\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003E\u003Cbr\u003Ecopy /y %savename%.ksp persistent.sfs\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003Efor %%F in (*) do if %%~zF equ 0 del \u0022%%F\u0022\u003Cbr\u003Eif exist persistent.sfs goto runme\u003Cbr\u003E\u003Cbr\u003E:emptyfile\u003Cbr\u003Ecd ..\u003Cbr\u003Ecls\u003Cbr\u003Eecho.\u003Cbr\u003Eecho There is no shared save file named %savename% on our server.\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Go ahead and create one! Just be sure to name it exactly -^\u0026gt; %savename% ^\u0026lt;-\u003Cbr\u003Eecho Get to at least the Space Center screen.\u003Cbr\u003Eecho Be sure to give your group this name! They should be able to download it\u003Cbr\u003Eecho after you quit KSP and let the script sync.\u003Cbr\u003Eecho.\u003Cbr\u003Erd /S /Q %savename%\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003Ecd ..\u003Cbr\u003Epause\u003Cbr\u003Ecls\u003Cbr\u003Eecho.\u003Cbr\u003Eecho KSP is now running. Be sure to use the %savename% save.\u003Cbr\u003Eecho.\u003Cbr\u003Estart /wait /low KSP.exe\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003Ecd saves\u003Cbr\u003Ecd %savename%\u003Cbr\u003Eif not exist persistent.sfs goto abort\u003Cbr\u003Egoto afterrun\u003Cbr\u003E\u003Cbr\u003E:runme\u003Cbr\u003Ecls\u003Cbr\u003Eecho.\u003Cbr\u003Eecho KSP is now running. Be sure to use the %savename% save.\u003Cbr\u003Eecho.\u003Cbr\u003Estart /wait /low ../../KSP.exe\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E:afterrun\u003Cbr\u003Ecopy /y persistent.sfs %savename%.ksp\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003E\u003Cbr\u003E:ftp_put\u003Cbr\u003Erem I know that I\u0027m giving away a password. I made a ftp account for just this and nothing else. Nyah nyah.\u003Cbr\u003Eecho open emlia.org \u0026gt; ftp_put.scr\u003Cbr\u003Eecho \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u0022d3b8a0a38ca0bbb2a1b6b793a0a3baa1baa7a3bfa6beb1b6a1fdb0bcbe\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho c5ZTrG7nHqGr\u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho put %savename%.ksp \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho disconnect \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho bye \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003E\u003Cbr\u003Eftp -i -s:\u0022ftp_put.scr\u0022\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003E\u003Cbr\u003Edel %savename%.ksp\u003Cbr\u003Edel ftp_put.scr\u003Cbr\u003Edel ftp_get.scr\u003Cbr\u003Ecd ..\u003Cbr\u003Ecd ..\u003Cbr\u003Erem if exist saves move save synch_saves\u003Cbr\u003Erem if exist single_saves move single_saves saves\u003Cbr\u003Egoto done\u003Cbr\u003E:abort\u003Cbr\u003Eecho %errorlevel%\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Something went wrong. See above.\u003Cbr\u003Epause\u003Cbr\u003E:done\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T11:42:20Z","Content":"\n\u003Cp\u003EThis is a more granular version, which syncs when stuff happens in game. It uploads a persistent file every time it changes, and downloads when you first load the game OR when you exit to the main menu so that you can load a game. This makes it so you don\u0027t have to get out of KSP.\u003C/p\u003E\u003Cp\u003EThe two are compatible.\u003C/p\u003E\u003Cp\u003EI recommend using the first one for playing when there is a great distance in time between turns, and this one for playing turn-based, like in the Battle for Laythe video.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eecho off\u003Cbr\u003Ecls\u003Cbr\u003Eif exist ftpsync.txt goto init\u003Cbr\u003Eecho off\u003Cbr\u003Ecls\u003Cbr\u003Eecho.\u003Cbr\u003Eecho You have never run this script, so a settings file has been created.\u003Cbr\u003Eecho All it contains is the name of your shared save file.\u003Cbr\u003Eecho Be sure to use the same shared save file as your group!\u003Cbr\u003Eecho.\u003Cbr\u003Eecho This settings file is called ftpsync.txt\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Right now it contains \u0022overwritable\u0022 which is the default, there\u003Cbr\u003Eecho is no way of knowing what will be in there. Give it a go if you\u003Cbr\u003Eecho dare...\u003Cbr\u003Eecho.\u003Cbr\u003Eecho You can use notepad to change that file and enter a new name. If\u003Cbr\u003Eecho there is no shared save with that name, you can create one\u003Cbr\u003Eecho within KSP.\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Be sure to ONLY type in the name of the shared save, NO newlines\u003Cbr\u003Eecho and no spaces. Spaces in shared save games are not allowed right now.\u003Cbr\u003Eecho Trailing spaces will be ignored.\u003Cbr\u003Eecho.\u003Cbr\u003Eecho This script will now let you edit the save name.\u003Cbr\u003Eecho Hit save when you\u0027re done!\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Have fun! \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u0022670a0c05270b0e05021508490e13\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E\u003Cbr\u003E\u0026lt;nul set /p \u0022savename=overwritable\u0022 \u0026gt; ftpsync.txt\u003Cbr\u003Estart /wait notepad ftpsync.txt\u003Cbr\u003E\u003Cbr\u003E:init\u003Cbr\u003Eset /P savename=\u0026lt;ftpsync.txt\u003Cbr\u003Eset ksp_missions_old=noneyet\u003Cbr\u003Eset ksp_scenetrans_old=notyet\u003Cbr\u003Eecho %savename%\u003Cbr\u003Ecd saves\u003Cbr\u003Ecd %savename%\u003Cbr\u003Eecho Be sure to use the %savename% save file! No other file will be synchronized.\u003Cbr\u003Erem Use log files to see if KSP exists and runs\u003Cbr\u003Eif not exist ..\\..\\KSP.log echo dummyfile \u0026gt; ..\\..\\KSP.log\u003Cbr\u003Eif not exist KSP.log echo dummyfile \u0026gt; KSP.log\u003Cbr\u003Emove ..\\..\\KSP.log ..\\..\\KSP.mog 2\u0026gt;nul\u003Cbr\u003Eif %errorlevel%==0 goto kspset\u003Cbr\u003Egoto noksp\u003Cbr\u003E:kspset\u003Cbr\u003Emove KSP.log KSP.mog 2\u0026gt;nul\u003Cbr\u003Eif %errorlevel%==0 goto noksp\u003Cbr\u003E\u003Cbr\u003E:loopme\u003Cbr\u003Erem see if ksp is still going\u003Cbr\u003Emove KSP.log KSP.mog 2\u0026gt;nul\u003Cbr\u003Eif %errorlevel%==0 goto end\u003Cbr\u003Eif not exist ksp.log goto abort\u003Cbr\u003Erem find the magic phrase in ksp.log and write down how often it occurs, to get an idea of game state\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022Game State Saved as persistent\u0022 ksp.log\u0027) do @set ksp_missions_new=%%a\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022to MAINMENU\u0022 ksp.log\u0027) do @set ksp_scenetrans_new=%%a\u003Cbr\u003Erem echo %ksp_missions_new%\u003Cbr\u003Eif \u0022%ksp_scenetrans_old%\u0022==\u0022notyet\u0022 goto syncread\u003Cbr\u003Eif not \u0022%ksp_missions_old%\u0022==\u0022%ksp_missions_new%\u0022 goto syncwrite\u003Cbr\u003Eif not \u0022%ksp_scenetrans_old%\u0022==\u0022%ksp_scenetrans_new%\u0022 goto syncread\u003Cbr\u003Erem echo Probably nothing to do, waiting a little to check again.\u003Cbr\u003Egoto waithere\u003Cbr\u003E\u003Cbr\u003E:syncwrite\u003Cbr\u003Eset ksp_missions_old=%ksp_missions_new%\u003Cbr\u003Eecho Local saveable data has changed, uploading to server.\u003Cbr\u003Erem I know that I\u0027m giving away a password. I made a ftp account for just this and nothing else. Nyah nyah.\u003Cbr\u003Ecopy /y persistent.sfs %savename%.ksp \u0026gt;nul\u003Cbr\u003Eecho open emlia.org \u0026gt; ftp_put.scr\u003Cbr\u003Eecho \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u00220c677f7c537f646d7e69684c7f7c657e65787c6079616e697e226f6361\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho c5ZTrG7nHqGr\u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho put %savename%.ksp \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho disconnect \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho bye \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eftp -i -s:\u0022ftp_put.scr\u0022 \u0026gt; nul\u003Cbr\u003Eif not %errorlevel%==0 goto abord\u003Cbr\u003Eecho Done, resuming wait.\u003Cbr\u003Egoto waithere\u003Cbr\u003E\u003Cbr\u003E:syncread\u003Cbr\u003Eset ksp_scenetrans_old=%ksp_scenetrans_new%\u003Cbr\u003Erem prevents immediate reupload\u003Cbr\u003Eset ksp_missions_old=%ksp_missions_new%\u003Cbr\u003Eecho Local saveable data is retrievable, retrieving from server.\u003Cbr\u003Erem I know that I\u0027m giving away a password. I made a ftp account for just this and nothing else. Nyah nyah.\u003Cbr\u003Eecho open emlia.org \u0026gt; ftp_get.scr\u003Cbr\u003Eecho \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u0022b2d9c1c2edc1dad3c0d7d6f2c1c2dbc0dbc6c2dec7dfd0d7c09cd1dddf\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho c5ZTrG7nHqGr\u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho get %savename%.ksp \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho disconnect \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho bye \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eftp -i -s:\u0022ftp_get.scr\u0022 \u0026gt; nul\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003Efor %%F in (*) do if %%~zF equ 0 del \u0022%%F\u0022\u003Cbr\u003Ecopy /y %savename%.ksp persistent.sfs \u0026gt;nul\u003Cbr\u003Eecho Done, resuming wait.\u003Cbr\u003Egoto waithere\u003Cbr\u003E\u003Cbr\u003E:waithere\u003Cbr\u003Eping -n 10 localhost\u0026gt;nul\u003Cbr\u003Egoto loopme\u003Cbr\u003E\u003Cbr\u003E:noksp\u003Cbr\u003Eecho Launching KSP for you.\u003Cbr\u003Eecho.\u003Cbr\u003Edel ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Edel ..\\..\\ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Estart ..\\..\\KSP.exe\u003Cbr\u003Erem if your pc loads ksp in less than 40 seconds, i hate you anyway \u003Cbr\u003Eping -n 40 localhost\u0026gt;nul\u003Cbr\u003Erem initialize\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022Game State Saved as persistent\u0022 ksp.log\u0027) do @set ksp_missions_new=%%a\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022to MAINMENU\u0022 ksp.log\u0027) do @set ksp_scenetrans_new=%%a\u003Cbr\u003Erem force read (and finish initializing the variables)\u003Cbr\u003Egoto syncread\u003Cbr\u003E\u003Cbr\u003E:abort\u003Cbr\u003Eecho Something derped.\u003Cbr\u003Epause\u003Cbr\u003E\u003Cbr\u003E:end\u003Cbr\u003Edel ftp_get.scr\u003Cbr\u003Edel ftp_put.scr\u003Cbr\u003Edel %savename%.ksp\u003Cbr\u003Edel ..\\..\\ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Edel ..\\..\\ksp_%savename%_old.log \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Emove ksp.mog ..\\..\\ksp_%savename%_old.log\u003Cbr\u003Edel ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"wasmic","CreatedById":64885,"CreatedDateTime":"2013-10-06T11:59:07Z","Content":"\n\u003Cp\u003ESo... what does it do? Does it synchronize saves across different computers? In that case... AWESOME!\u003C/p\u003E\n"},{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T12:09:39Z","Content":"\n\u003Cp\u003EYes, that is what it does.\u003C/p\u003E\u003Cp\u003EHowever, I wrote a better one, in the meantime. The two are compatible.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://emlia.org/ksp_shared/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://emlia.org/ksp_shared/\u003C/a\u003E You can even see what people are doing.\u003C/p\u003E\u003Cp\u003EThis one is a bit more bandwidth intensive, but more granular.\u003C/p\u003E\u003Cp\u003ECopy and paste it into ftpsync.bat or similar, and run in the KSP folder.\u003C/p\u003E\u003Cp\u003EYou should have a premade save...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eecho off\u003Cbr\u003Ecls\u003Cbr\u003Eif exist ftpsync.txt goto init\u003Cbr\u003Eecho off\u003Cbr\u003Ecls\u003Cbr\u003Eecho.\u003Cbr\u003Eecho You have never run this script, so a settings file has been created.\u003Cbr\u003Eecho All it contains is the name of your shared save file.\u003Cbr\u003Eecho Be sure to use the same shared save file as your group!\u003Cbr\u003Eecho.\u003Cbr\u003Eecho This settings file is called ftpsync.txt\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Right now it contains \u0022overwritable\u0022 which is the default, there\u003Cbr\u003Eecho is no way of knowing what will be in there. Give it a go if you\u003Cbr\u003Eecho dare...\u003Cbr\u003Eecho.\u003Cbr\u003Eecho You can use notepad to change that file and enter a new name. If\u003Cbr\u003Eecho there is no shared save with that name, you can create one\u003Cbr\u003Eecho within KSP.\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Be sure to ONLY type in the name of the shared save, NO newlines\u003Cbr\u003Eecho and no spaces. Spaces in shared save games are not allowed right now.\u003Cbr\u003Eecho Trailing spaces will be ignored.\u003Cbr\u003Eecho.\u003Cbr\u003Eecho This script will now let you edit the save name.\u003Cbr\u003Eecho Hit save when you\u0027re done!\u003Cbr\u003Eecho.\u003Cbr\u003Eecho Have fun! \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u0022d2bfb9b092bebbb0b7a0bdfcbba6\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E\u003Cbr\u003E\u0026lt;nul set /p \u0022savename=overwritable\u0022 \u0026gt; ftpsync.txt\u003Cbr\u003Estart /wait notepad ftpsync.txt\u003Cbr\u003E\u003Cbr\u003E:init\u003Cbr\u003Eset /P savename=\u0026lt;ftpsync.txt\u003Cbr\u003Eset ksp_missions_old=noneyet\u003Cbr\u003Eset ksp_scenetrans_old=notyet\u003Cbr\u003Eecho %savename%\u003Cbr\u003Ecd saves\u003Cbr\u003Ecd %savename%\u003Cbr\u003Eecho Be sure to use the %savename% save file! No other file will be synchronized.\u003Cbr\u003Erem Use log files to see if KSP exists and runs\u003Cbr\u003Eif not exist ..\\..\\KSP.log echo dummyfile \u0026gt; ..\\..\\KSP.log\u003Cbr\u003Eif not exist KSP.log echo dummyfile \u0026gt; KSP.log\u003Cbr\u003Emove ..\\..\\KSP.log ..\\..\\KSP.mog 2\u0026gt;nul\u003Cbr\u003Eif %errorlevel%==0 goto kspset\u003Cbr\u003Egoto noksp\u003Cbr\u003E:kspset\u003Cbr\u003Emove KSP.log KSP.mog 2\u0026gt;nul\u003Cbr\u003Eif %errorlevel%==0 goto noksp\u003Cbr\u003E\u003Cbr\u003E:loopme\u003Cbr\u003Erem see if ksp is still going\u003Cbr\u003Emove KSP.log KSP.mog 2\u0026gt;nul\u003Cbr\u003Eif %errorlevel%==0 goto end\u003Cbr\u003Eif not exist ksp.log goto abort\u003Cbr\u003Erem find the magic phrase in ksp.log and write down how often it occurs, to get an idea of game state\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022Game State Saved as persistent\u0022 ksp.log\u0027) do @set ksp_missions_new=%%a\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022to MAINMENU\u0022 ksp.log\u0027) do @set ksp_scenetrans_new=%%a\u003Cbr\u003Erem echo %ksp_missions_new%\u003Cbr\u003Eif \u0022%ksp_scenetrans_old%\u0022==\u0022notyet\u0022 goto syncread\u003Cbr\u003Eif not \u0022%ksp_missions_old%\u0022==\u0022%ksp_missions_new%\u0022 goto syncwrite\u003Cbr\u003Eif not \u0022%ksp_scenetrans_old%\u0022==\u0022%ksp_scenetrans_new%\u0022 goto syncread\u003Cbr\u003Erem echo Probably nothing to do, waiting a little to check again.\u003Cbr\u003Egoto waithere\u003Cbr\u003E\u003Cbr\u003E:syncwrite\u003Cbr\u003Eset ksp_missions_old=%ksp_missions_new%\u003Cbr\u003Eecho Local saveable data has changed, uploading to server.\u003Cbr\u003Erem I know that I\u0027m giving away a password. I made a ftp account for just this and nothing else. Nyah nyah.\u003Cbr\u003Ecopy /y persistent.sfs %savename%.ksp \u0026gt;nul\u003Cbr\u003Eecho open emlia.org \u0026gt; ftp_put.scr\u003Cbr\u003Eecho \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u00227f140c0f200c171e0d1a1b3f0c0f160d160b0f130a121d1a0d511c1012\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho c5ZTrG7nHqGr\u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho put %savename%.ksp \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho disconnect \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eecho bye \u0026gt;\u0026gt; ftp_put.scr\u003Cbr\u003Eftp -i -s:\u0022ftp_put.scr\u0022 \u0026gt; nul\u003Cbr\u003Eif not %errorlevel%==0 goto abord\u003Cbr\u003Eecho Done, resuming wait.\u003Cbr\u003Egoto waithere\u003Cbr\u003E\u003Cbr\u003E:syncread\u003Cbr\u003Eset ksp_scenetrans_old=%ksp_scenetrans_new%\u003Cbr\u003Erem prevents immediate reupload\u003Cbr\u003Eset ksp_missions_old=%ksp_missions_new%\u003Cbr\u003Eecho Local saveable data is retrievable, retrieving from server.\u003Cbr\u003Erem I know that I\u0027m giving away a password. I made a ftp account for just this and nothing else. Nyah nyah.\u003Cbr\u003Eecho open emlia.org \u0026gt; ftp_get.scr\u003Cbr\u003Eecho \u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u0022254e56557a564d445740416556554c574c51554950484740570b464a48\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho c5ZTrG7nHqGr\u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho get %savename%.ksp \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho disconnect \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eecho bye \u0026gt;\u0026gt; ftp_get.scr\u003Cbr\u003Eftp -i -s:\u0022ftp_get.scr\u0022 \u0026gt; nul\u003Cbr\u003Eif not %errorlevel%==0 goto abort\u003Cbr\u003Efor %%F in (*) do if %%~zF equ 0 del \u0022%%F\u0022\u003Cbr\u003Ecopy /y %savename%.ksp persistent.sfs \u0026gt;nul\u003Cbr\u003Eecho Done, resuming wait.\u003Cbr\u003Egoto waithere\u003Cbr\u003E\u003Cbr\u003E:waithere\u003Cbr\u003Eping -n 10 localhost\u0026gt;nul\u003Cbr\u003Egoto loopme\u003Cbr\u003E\u003Cbr\u003E:noksp\u003Cbr\u003Eecho Launching KSP for you.\u003Cbr\u003Eecho.\u003Cbr\u003Edel ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Edel ..\\..\\ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Estart ..\\..\\KSP.exe\u003Cbr\u003Erem if your pc loads ksp in less than 40 seconds, i hate you anyway \u003Cbr\u003Eping -n 40 localhost\u0026gt;nul\u003Cbr\u003Erem initialize\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022Game State Saved as persistent\u0022 ksp.log\u0027) do @set ksp_missions_new=%%a\u003Cbr\u003Efor /f \u0022delims=\u0022 %%a in (\u0027find /C \u0022to MAINMENU\u0022 ksp.log\u0027) do @set ksp_scenetrans_new=%%a\u003Cbr\u003Erem force read (and finish initializing the variables)\u003Cbr\u003Egoto syncread\u003Cbr\u003E\u003Cbr\u003E:abort\u003Cbr\u003Eecho Something derped.\u003Cbr\u003Epause\u003Cbr\u003E\u003Cbr\u003E:end\u003Cbr\u003Edel ftp_get.scr\u003Cbr\u003Edel ftp_put.scr\u003Cbr\u003Edel %savename%.ksp\u003Cbr\u003Edel ..\\..\\ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Edel ..\\..\\ksp_%savename%_old.log \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003Emove ksp.mog ..\\..\\ksp_%savename%_old.log\u003Cbr\u003Edel ksp.mog \u0026gt;nul 2\u0026gt;nul\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T12:11:24Z","Content":"\n\u003Cp\u003EThere is a catch: the save game can have NO space character.\u003C/p\u003E\n"},{"CreatedByName":"Mein_Gott","CreatedById":81902,"CreatedDateTime":"2013-10-06T12:38:14Z","Content":"\n\u003Cp\u003Eplease write more about this, dont make me do any assumptions; im already sensing awesome \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T13:06:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022wasmic\u0022 data-cite=\u0022wasmic\u0022\u003E\u003Cdiv\u003ESo... what does it do? Does it synchronize saves across different computers? In that case... AWESOME!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, basically. It seems to work.\u003C/p\u003E\n"},{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T15:28:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022wasmic\u0022 data-cite=\u0022wasmic\u0022\u003E\u003Cdiv\u003ESo... what does it do? Does it synchronize saves across different computers? In that case... AWESOME!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that is what it does. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Gristle","CreatedById":60589,"CreatedDateTime":"2013-10-06T15:51:07Z","Content":"\n\u003Cp\u003EIt\u0027s not synchronizing, but more like facilitating sharing of saves. You probably should not have multiple people playing using the shared save at the same time as whichever save is uploaded last will be the save game used. This would work to help people who want to play in turns or shifts using the same persistence file.\u003C/p\u003E\n"},{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-06T16:53:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gristle\u0022 data-cite=\u0022Gristle\u0022\u003E\u003Cdiv\u003EIt\u0027s not synchronizing, but more like facilitating sharing of saves. You probably should not have multiple people playing using the shared save at the same time as whichever save is uploaded last will be the save game used. This would work to help people who want to play in turns or shifts using the same persistence file.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is in fact the intended use yes \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"spiritplumber","CreatedById":84232,"CreatedDateTime":"2013-10-07T07:58:05Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://emlia.org/ksp_shared/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://emlia.org/ksp_shared/\u003C/a\u003E Everything is now here.\u003C/p\u003E\u003Cp\u003EBasically, I was trying to get KESSLER to work, but no go...\u003C/p\u003E\n"}]}