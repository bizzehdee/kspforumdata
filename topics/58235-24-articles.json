{"TopicId":58235,"ForumId":34,"TopicTitle":"[1.8-1.9] Modular Fuel Tanks v5.13.1","CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-12-30T08:03:39Z","PageNum":24,"Articles":[{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-01T20:02:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222542043\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461708132\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 26.4.2016 at 0:02 AM, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ntweakscale support should not be necessary (tweakscale should just send the right message and everything should work).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat message are you talking about? My understanding is that MFT already contains \u003Ca href=\u0022https://github.com/NathanKell/ModularFuelSystem/tree/8c03265f492496827c61af98fce477444960a37a/Source/tweakscale\u0022 rel=\u0022external nofollow\u0022\u003Eworking code for MFT-TweakScale interaction\u003C/a\u003E using the TweakScale API. It was temporarily taken out of the release because of issues that no longer exist. And still is because noone on the MFT/realFuels side has found the time to look at the issue.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022 rel=\u0022\u0022\u003E@NathanKell\u003C/a\u003E : I think you did the removal. Is it still planned to eventually put this interaction code back in?\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-05-01T20:06:21Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/\u0026amp;do=hovercard\u0022 data-mentionid=\u002285299\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/\u0022 id=\u0022ips_uid_8638_5\u0022 rel=\u0022\u0022\u003E@pellinor\u003C/a\u003E actually taniwha did. On the RF end, I will try to set up a similar message system to what taniwha did.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd regarding the long-suffering \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/136047-svm420/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022136047\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/136047-svm420/\u0022 rel=\u0022\u0022\u003E@Svm420\u003C/a\u003E\u0027s issues, yes, those still persist AFAIK, and last I checked I couldn\u0027t tell if it was our side or yours, and due to crunch didn\u0027t get a chance to look deeper.\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-01T20:17:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222553689\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462133181\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/\u0026amp;do=hovercard\u0022 data-mentionid=\u002285299\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/\u0022 rel=\u0022\u0022\u003E@pellinor\u003C/a\u003E actually taniwha did. On the RF end, I will try to set up a similar message system to what taniwha did.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd regarding the long-suffering \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/136047-svm420/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022136047\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/136047-svm420/\u0022 rel=\u0022\u0022\u003E@Svm420\u003C/a\u003E\u0027s issues, yes, those still persist AFAIK, and last I checked I couldn\u0027t tell if it was our side or yours, and due to crunch didn\u0027t get a chance to look deeper.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWow, this was fast. Looks like I missed that, just had in memory that the interaction came as its own dll in the past, and saw that the current MFT v5.7.3 does not contain any plugins other than modularFuelTanks.dll.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-01T20:18:48Z\u0022 title=\u002205/01/2016 08:18  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 1, 2016\u003C/time\u003E by pellinor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-01T21:32:35Z","Content":"\n\u003Cp\u003E\nI believe TS needs only to send an OnPartVolumeChanged event with appropriately configured data. I\u0027m not quite certain what Procedural Parts does, but this is the code I setup to receive the event:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022 id=\u0022ips_uid_3066_14\u0022 style=\u0022\u0022\u003E\n\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKSPEvent\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EguiActive\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efalse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E active \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Etrue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EOnPartVolumeChanged\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EBaseEventData\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E data\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    string volName \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E data\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EGet\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0026lt;string\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022volName\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Edouble\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E newTotalVolume \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E data\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EGet\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0026lt;double\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022newTotalVolume\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E tankVolumeConversion\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EvolName \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022Tankage\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EChangeTotalVolume\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EnewTotalVolume\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd this is one that MFT sends:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022 id=\u0022ips_uid_3066_18\u0022 style=\u0022\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Epublic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ERaiseResourceInitialChanged\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPartResource\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E resource\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Edouble\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E amount\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    var data \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EBaseEventData\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EBaseEventData\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ESender\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EUSER\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    data\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ESet\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPartResource\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022resource\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E resource\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    data\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ESet\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0026lt;double\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022amount\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E amount\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ESendEvent\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022OnResourceInitialChanged\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E data\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"PortableGoogle","CreatedById":151955,"CreatedDateTime":"2016-05-04T16:05:45Z","Content":"\n\u003Cp\u003E\nAre all the stock mk2 and mk3 tanks and adapters compatible? Would this work with procedural fuel tanks? Does it work with all the resources in the community resource pack? For example could I use it to put whatever nuke fuel in procedural tanks (or even resources in procedural tanks too)\u00A0and use mk2 and mk3 tanks to transport different resources to and from a USI base?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-04T17:41:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222553991\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462138355\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1.5.2016 at 11:32 PM, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI believe TS needs only to send an OnPartVolumeChanged event with appropriately configured data. I\u0027m not quite certain what Procedural Parts does, but this is the code I setup to receive the event:\n\u003C/p\u003E\n\u003Cp\u003E\nAnd this is one that MFT sends:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSeems I missed that post, sorry for the late reply. If I understand that right, these messages are a stock system that works on arbitrary event names and just looks for a corresponding kspEvent on each module.\n\u003C/p\u003E\n\u003Cp\u003E\nSo the message would be \u0022please multiply volume by a factor of X\u0022, how would I send that? Is the total volume a field of the part something that comes from MFT?\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-05T02:25:05Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003Epellinor\u003C/strong\u003E: Correct, this is a stock system.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, the message tells MFT the total volume available, not a scale factor. I imagine what you could do is grab the totalVolume from the prefab\u0027s MFT module (via reflection to avoid linking issues), multiply by your scaling, then pass that to OnPartVolumeChanged.\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-05T13:01:12Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222562083\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462415105\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Epellinor\u003C/strong\u003E: Correct, this is a stock system.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, the message tells MFT the total volume available, not a scale factor. I imagine what you could do is grab the totalVolume from the prefab\u0027s MFT module (via reflection to avoid linking issues), multiply by your scaling, then pass that to OnPartVolumeChanged.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m now sending this message and it seems to work (\u003Ca href=\u0022https://github.com/pellinor0/TweakScale/archive/dev.zip\u0022 rel=\u0022external nofollow\u0022\u003ETweakScale dev version\u003C/a\u003E). Had to to divide the volume by 1000 since those two \u0027totalVolume\u0027 numbers seem to use different units.\n\u003C/p\u003E\n\u003Cp\u003E\nAs I understand this will currently support only MFT. And for RealFuels \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022 rel=\u0022\u0022\u003E@NathanKell\u003C/a\u003E plans to hook into the same message, so the TweakScale part is fine now?\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-05T13:10:24Z","Content":"\n\u003Cp\u003E\nRF uses the exact same code as MFT (just different cfgs, and a few extra modules), so everything should be good (except maybe that 1000x scaling, but I don\u0027t know. Hopefully \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022 rel=\u0022\u0022\u003E@NathanKell\u003C/a\u003E can help out there).\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-05-05T18:23:55Z","Content":"\n\u003Cp\u003E\nThat\u0027s true for RF tanks. RF engines will need their own work.\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-05T18:57:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222563246\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462472635\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s true for RF tanks. RF engines will need their own work.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMaybe we can agree on some \u0022OnPartScaleChanged\u0022 or \u0022OnPartRescaled\u0022 message that can be reused for other modules.\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-05-05T20:19:09Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/\u0026amp;do=hovercard\u0022 data-mentionid=\u002285299\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/\u0022 rel=\u0022\u0022\u003E@pellinor\u003C/a\u003E sounds good to me! If you pass me an absolute scale that should work fine. Note that in the editor I will fire an onvesselmodified event on receipt, so we need to avoid loops...\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-06T23:27:07Z","Content":"\n\u003Cp\u003E\nMFT 5.7.4 out with a mass related fix.\n\u003C/p\u003E\n"},{"CreatedByName":"ss8913","CreatedById":94747,"CreatedDateTime":"2016-05-07T01:23:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222566133\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462577227\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMFT 5.7.4 out with a mass related fix.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthis is 1.1.2-compliant?\n\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2016-05-07T03:13:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222566133\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462577227\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMFT 5.7.4 out with a mass related fix.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMany thanks.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers.\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-07T05:37:35Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003Ess8913\u003C/strong\u003E: indeed it is.\n\u003C/p\u003E\n"},{"CreatedByName":"skald","CreatedById":145796,"CreatedDateTime":"2016-05-07T22:14:49Z","Content":"\n\u003Cp\u003E\nI\u0027m getting some odd behavior. The only tanks that i have the option of changing are from the Talisar parts pack you updated. For those it works just fine, for everything else it doesn\u0027t. Seemed really strange considering you\u0027d think if i broke something it wouldn\u0027t work at all. Any suggestions for where i can start looking?\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-07T23:41:31Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003Eskald\u003C/strong\u003E: It sounds like you do not have ModuleManager installed.\n\u003C/p\u003E\n"},{"CreatedByName":"captinjoehenry","CreatedById":163669,"CreatedDateTime":"2016-05-08T06:17:55Z","Content":"\n\u003Cp\u003E\nOk this mod does not work with size changing fuel tanks. \u00A0No matter how you scale the fuel tanks it always holds the exact same amount of fuel and this issue extends to procedule fuel tanks as well.\n\u003C/p\u003E\n"},{"CreatedByName":"nebuchadnezzar","CreatedById":63794,"CreatedDateTime":"2016-05-08T06:32:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222568365\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462688275\u0022 data-ipsquote-userid=\u0022163669\u0022 data-ipsquote-username=\u0022captinjoehenry\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, captinjoehenry said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk this mod does not work with size changing fuel tanks. \u00A0No matter how you scale the fuel tanks it always holds the exact same amount of fuel and this issue extends to procedule fuel tanks as well.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou need to update tweakscale. The latest version corrects this issue.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-09T17:56:41Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257176\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0022 rel=\u0022\u0022\u003E@taniwha\u003C/a\u003E with the latest TweakScale and MFT I found the problem that scaling one tank sets the resource amounts of other tanks. I took two identical tanks, scaled one, and the MFT volume and resource amounts of both tanks changed. So the volume change message seems to travel from part to another. This is what I do to send the message, is that correct? My understanding is that the code should create an event that only affects the part my module is on.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E                if (_prefabPart.Modules.Contains(\u0022ModuleFuelTanks\u0022))\n                {\n                    var m = _prefabPart.Modules[\u0022ModuleFuelTanks\u0022];\n                    FieldInfo fieldInfo = m.GetType().GetField(\u0022totalVolume\u0022, BindingFlags.Public | BindingFlags.Instance);\n                    if (fieldInfo != null)\n                    {\n                        double oldVol = (double)fieldInfo.GetValue(m) * 0.001d;\n                        var data = new BaseEventData(BaseEventData.Sender.USER);\n                        data.Set\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;string\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E(\u0022volName\u0022, \u0022Tankage\u0022);\n                        data.Set\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;double\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E(\u0022newTotalVolume\u0022, oldVol * ScalingFactor.absolute.cubic);\n                        part.SendEvent(\u0022OnPartVolumeChanged\u0022, data);\n                    }\n                    else Tools.LogWf(\u0022MFT interaction failed (fieldinfo=null)\u0022);\n                }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-10T09:22:09Z","Content":"\n\u003Cp\u003E\nYou\u0027re not limiting the message to the one part. Add a 0 parameter to the call (limits the recursion depth):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022 style=\u0022\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Epart.SendEvent(\u0022OnPartVolumeChanged\u0022, data, 0);\u003C/span\u003E\u003C/pre\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-10T22:02:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222572558\u0022 data-ipsquote-contentid=\u002258235\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462872129\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou\u0027re not limiting the message to the one part. Add a 0 parameter to the call (limits the recursion depth):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Epart.SendEvent(\u0022OnPartVolumeChanged\u0022, data, 0);\u003C/span\u003E\u003C/pre\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, so this is what the extra comma in your quote was coming from! Thanks a lot.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-10T22:18:05Z\u0022 title=\u002205/10/2016 10:18  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 10, 2016\u003C/time\u003E by pellinor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-05-12T09:48:30Z","Content":"\n\u003Cp\u003E\nNew MFT (5.7.5) with a fix for MFT messing with staging (not sure of the details actually).\n\u003C/p\u003E\n"},{"CreatedByName":"SteveD80","CreatedById":160995,"CreatedDateTime":"2016-05-14T07:26:58Z","Content":"\n\u003Cp\u003E\nAnyone else use this mod with life support and turn a kerbodyne S3-14400 into a food/water/oxygen supply dump?\n\u003C/p\u003E\n"}]}