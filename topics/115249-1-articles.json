{"TopicId":115249,"ForumId":36,"TopicTitle":"Locating and Editing Planet Textures?","CreatedByName":"MajorStorm","CreatedById":84216,"CreatedDateTime":"2015-07-07T00:34:21Z","PageNum":1,"Articles":[{"CreatedByName":"MajorStorm","CreatedById":84216,"CreatedDateTime":"2015-07-07T00:34:21Z","Content":"Simple put, how do I find/where do I find the textures (color, bump, height) used for the planets?\n\n**Edited \u003Ctime datetime=\u00222015-07-07T00:36:43Z\u0022 title=\u002207/07/2015 12:36  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 7, 2015\u003C/time\u003E by MajorStorm**"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-07T00:38:32Z","Content":"**Moved to Addon Development, where this is more appropriate.** ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nThey\u0027re inside the Unity assets, and therefore not directly editable. You can, however, *replace* them by using [Kopernicus](https://forum.kerbalspaceprogram.com/threads/114649-1-0-x-Kopernicus-Beta-%280-1%29-June-26?goto=newpost)."},{"CreatedByName":"MajorStorm","CreatedById":84216,"CreatedDateTime":"2015-07-07T00:42:23Z","Content":"Is it possible to access them via code?"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-07-07T00:43:54Z","Content":"Try KerbalMaps if you need maps."},{"CreatedByName":"MajorStorm","CreatedById":84216,"CreatedDateTime":"2015-07-07T00:45:48Z","Content":"I don\u0027t want maps, I actually want to find a way to modify the textures during run-time."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-07T03:11:05Z","Content":"MajorStorm: If you want to modify the heightmap (what\u0027s used in PQS) then yes, you can access it during code. Get the PQSMod\\_VertexHeightMap PQSMod on the Kerbin PQS and modify the MapSO on it.\n\nSince the scaled space textures are loaded as read-only you can\u0027t modify them, you can only replace them."},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-07-07T04:24:34Z","Content":"I\u0027ve used this snippet for ages to convert unreadable textures back to a readable format:\n\n    public static Texture2D CreateReadable(this Texture2D original){    if (original == null) throw new ArgumentNullException(\u0022original\u0022);    if (original.width == 0 || original.height == 0)        throw new Exception(\u0022Invalid image dimensions\u0022);    var finalTexture = new Texture2D(original.width, original.height);    // isn\u0027t read or writeable ... we\u0027ll have to get tricksy    var rt = RenderTexture.GetTemporary(original.width, original.height, 0, RenderTextureFormat.ARGB32, RenderTextureReadWrite.sRGB, 1);    Graphics.Blit(original, rt);    RenderTexture.active = rt;    finalTexture.ReadPixels(new Rect(0, 0, finalTexture.width, finalTexture.height), 0, 0);    RenderTexture.active = null;    RenderTexture.ReleaseTemporary(rt);    return finalTexture;}"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-07T06:49:31Z","Content":"Excellent thinking! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"problemecium","CreatedById":101649,"CreatedDateTime":"2015-07-07T19:22:30Z","Content":"I\u0027ve actually already extracted all of the planet textures for use in a personal version of EVE. I\u0027d post them here, but I worry it violates the TOS.\n\nDoes it, or would it help if I just tossed them up in this thread?"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-07T23:21:14Z","Content":"It does. The addon rules prohibit sharing/reusing stuff from KSP\\_Data (vs. GameData)."},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-07-09T16:31:40Z","Content":"Anyone know how to get the actual Scale space texture drawn over the surface of the planet?\n\nIt\u0027s easy to get the individual textures used for scaled space:\n\n    Texture diffuseMap =  body.scaledBody.renderer.material.mainTexture;//orTexture diffuseMap =  body.scaledBody.renderer.material.GetTexture(\u0022_MainTex\u0022); //Substitute _BumpMap to get the normal.//orTexture diffuseMap =  body.scaledBody.GetComponent().material.mainTexture;\n\nFor the non-ocean planets this works fine and gives you the flat color map. For ocean planets you get a map that\u0027s black on the surface and clear on the ocean.\n\nUsing xEvilReeperx\u0027s snippet (which I now seem to find everywhere after I know what it is...) I can use the material to get ocean planet textures that look right in some cases. Also note that you need to use Apply() to the final texture before you can actually use it, you could do that with the texture returned by that method, or before the last line in that snippet: finalTexture.Apply();\n\n    var renderer = body.scaledBody.GetComponent();var diffuseMap =  renderer.material.mainTexture;var finalTexture = new Texture2D(diffuseMap.width, diffuseMap.height);var rt = RenderTexture.GetTemporary(diffuseMap.width, diffuseMap.height, 0, RenderTextureFormat.ARGB32, RenderTextureReadWrite.sRGB, 1);Graphics.Blit(original, rt, renderer.material); //Note the addition of the material using a different overload hereRenderTexture.active = rt;finalTexture.ReadPixels(new Rect(0, 0, finalTexture.width, finalTexture.height), 0, 0);RenderTexture.active = null;RenderTexture.ReleaseTemporary(rt);finalTexture.Apply();GUI.DrawTexture(Rect, finalTexture);\n\nThis will give a texture for Eve that has the right color and looks like it has some specular shader applied. Kerbin and Laythe are still screwed up, but in a different way than before. ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif) The other planet textures look no different from the flat diffuse map.\n\nSo is there some way to have the normal map applied to the diffuse map? Or does that even work without some 3D mesh to wrap it around and apply a light source to? And any ideas about what makes the Kerbin and Laythe scaled space maps different?"},{"CreatedByName":"MajorStorm","CreatedById":84216,"CreatedDateTime":"2015-07-09T22:30:50Z","Content":"I am assuming that in order to do this, I would need to access libraries/apis being used. For that I can read and go through your scripts used on RealSolarSystem via Github, awesome that you uploaded it there. And just out of curiosity, how did you figure out how to modify these things in the first place?"},{"CreatedByName":"J.Random","CreatedById":63332,"CreatedDateTime":"2015-07-09T22:58:26Z","Content":"\u003E \n\u003E It does. The addon rules prohibit sharing/reusing stuff from KSP\\_Data (vs. GameData).\n\nPsst! Don\u0027t tell anyone, but this rule seems to not work when people share the asset file with modified sun\\_flare. ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"}]}