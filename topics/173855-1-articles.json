{"TopicId":173855,"ForumId":15,"TopicTitle":"[SOLVED] Issues trying to reference stock textures from MODEL tag","CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2018-04-13T16:49:55Z","PageNum":1,"Articles":[{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2018-04-13T16:49:55Z","Content":"\n\u003Cp\u003E\nI\u0027m experimenting with making my own parts, and reusing the stock textures to reduce memory usage like what SXT does, but I\u0027m getting a NullReferenceExeption when it attempts to compile the part with any external texture references in the MODEL flag. When I uncomment the texture lines it will work, but falls back to the dummy textures.\n\u003C/p\u003E\n\u003Cp\u003E\nIn unity I have a few materials that use the dummy textures I set up. I\u0027m wondering if I need to use specific shaders or something? I\u0027m using the KSP/specular shaders for them\n\u003C/p\u003E\n\u003Cp\u003E\nHere are the errors I\u0027m getting:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n[LOG 09:38:07.498] PartLoader: Compiling Part \u0027KBM/Parts/Rack/KBM_4U_RCS/KBM_4U_RCS\u0027\n[ERR 09:38:07.498] PartLoader: Encountered exception during compilation. System.NullReferenceException: Object reference not set to an instance of an object\n  at PartLoader.ReplaceTextures (UnityEngine.GameObject model, System.Collections.Generic.List\u00601 textureNames, System.Collections.Generic.List\u00601 newTextures) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at PartLoader.CompileModel (.UrlConfig cfg, .ConfigNode partCfg, Single scaleFactor, .AvailablePart partInfo) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at PartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at PartLoader\u002B\u0026lt;CompileParts\u0026gt;c__Iterator1.MoveNext () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n\n[ERR 09:38:07.498] PartCompiler: Cannot compile part\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe contents of KBM/Parts/Rack:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EKBM_4U_RCS.cfg\nRack.mbm\nRackRCS.mu\nhex.mbm\nhexNormal.mbm\nrcs.mbm\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nmy Config file\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nPART\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0\u00A0\u00A0 name = KBM_4U_RCS\u003Cbr\u003E\n\u00A0\u00A0\u00A0 module = Part\u003Cbr\u003E\n\u00A0\u00A0\u00A0 author = Andrew Cassidy\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 MODEL\u003Cbr\u003E\n\u00A0\u00A0\u00A0 {\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 model = KBM/Parts/Rack/RackRCS\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 texture = \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E , Squad/Parts/FuelTank/RCSTankRadial/model000\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 texture = hex , Squad/Parts/Command/probeCoreHex/ksp_m_hexProbe_diff\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 texture = hexNormal , Squad/Parts/Command/probeCoreHex/ksp_m_hexProbe_normal\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 scale = 1.0, 1.0, 1.0\u003Cbr\u003E\n\u00A0\u00A0\u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 scale = 1.0\u003Cbr\u003E\n\u00A0\u00A0\u00A0 rescaleFactor = 1.0\u003Cbr\u003E\n\u00A0\u00A0\u00A0 node_attach = 0.0, 0.0, 0.22, 0.0, 0.0, -1.0\u003Cbr\u003E\n\u00A0\u00A0\u00A0 TechRequired = advFlightControl\u003Cbr\u003E\n\u00A0\u00A0\u00A0 entryCost = 6200\u003Cbr\u003E\n\u00A0\u00A0\u00A0 cost = 200\u003Cbr\u003E\n\u00A0\u00A0\u00A0 category = FuelTank\u003Cbr\u003E\n\u00A0\u00A0\u00A0 subcategory = 0\u003Cbr\u003E\n\u00A0\u00A0\u00A0 title = #autoLOC_500610 //#autoLOC_500610 = Stratus-V Roundified Monopropellant Tank\u003Cbr\u003E\n\u00A0\u00A0\u00A0 description = #autoLOC_500611 //#autoLOC_500611 = Despite its fanciful name, the Stratus-V is quite simple - a small, radially attachable \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tank.\u003Cbr\u003E\n\u00A0\u00A0\u00A0 manufacturer = #autoLOC_6004000 //#autoLOC_6004000 = Stratus Corporation\u003Cbr\u003E\n\u00A0\u00A0\u00A0 attachRules = 0,1,0,0,1\u003Cbr\u003E\n\u00A0\u00A0\u00A0 mass = 0.02\u003Cbr\u003E\n\u00A0\u00A0\u00A0 dragModelType = default\u003Cbr\u003E\n\u00A0\u00A0\u00A0 maximum_drag = 0.2\u003Cbr\u003E\n\u00A0\u00A0\u00A0 minimum_drag = 0.2\u003Cbr\u003E\n\u00A0\u00A0\u00A0 angularDrag = 2\u003Cbr\u003E\n\u00A0\u00A0\u00A0 crashTolerance = 12\u003Cbr\u003E\n\u00A0\u00A0\u00A0 maxTemp = 2000 // = 2900\u003Cbr\u003E\n\u00A0\u00A0\u00A0 bulkheadProfiles = srf\u003Cbr\u003E\n\u00A0\u00A0\u00A0 tags = #autoLOC_500612 //#autoLOC_500612 = fuel fueltank mono propellant \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 RESOURCE\u003Cbr\u003E\n\u00A0\u00A0\u00A0 {\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 name = MonoPropellant\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 amount = 60\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 maxAmount = 60\u003Cbr\u003E\n\u00A0\u00A0\u00A0 }\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-13T17:19:49Z\u0022 title=\u002204/13/2018 05:19  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 13, 2018\u003C/time\u003E by cineboxandrew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2018-04-13T17:19:31Z","Content":"\n\u003Cp\u003E\nAh, turns out KSP doesnt like models having multiple submeshes. Split it into multiple models and it now loads!\n\u003C/p\u003E\n"}]}