{"TopicId":114641,"ForumId":20,"TopicTitle":"Tech Tree mods: confusion and how they work. (Using the new YongeTech plugin.)","CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-06-30T09:46:40Z","PageNum":1,"Articles":[{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-06-30T09:46:40Z","Content":"As near as I can tell, Tech Tree mods, and the part mods that support them, depend on Module Manager to set the correct node in part.cfg files. The Tech Tree seems to be set at KSP-level\n\nThe fairly new YongeTech plugin allows the player to select a Tech Tree when creating a Squad, so the same KSP install could have different Tech Trees. Part of how it does this is by listing part/node relationships in the .cfg for the Tech Tree.\n\nIn many ways the YongeTech method looks better, but it seems a lot of work to convert a tree from one to the other. A YongeTech version of the Community Tech Tree would be tempting, but I am not sure how the part-mod would need changing to support the YongeTech system.\n\nIt seems possible that a Module Manager file could be converted from one format to another by one of the standard tools, such as a Perl script. I am now scared. Perl scripts are the over-heating booster of my meagre programming skills.\n\nI am not sure if I have even correctly understood the problem. Am I even thinking about it right?"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-06-30T12:07:43Z","Content":"Hey, I missed that new tech tree plugin. It does indeed look a bit easier and has an Icon loader. I did not look into the code much so I don\u0027t know if the tree can be automatically tailored to a mod presence (MM :NEED).\n\nBut you mentioned perl so I will now run away."},{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-06-30T13:06:01Z","Content":"More details:\n\nThe standard Tech Tree is in ../GameData/Squad/Resources/TechTree.cfg\n\nThe YongeTech system adds \u0022title =\u0022 and \u0022description =\u0022 fields to the root TechTree section and, in each RDNode section adds the linkage between node and part, in this form:\n\n*Unlocks*\n\n *{*\n\n *part = YT\\_probeCoreCone*\n\n *part = solidBooster\\_sm*\n\n *part = standardNoseCone*\n\n *part = sensorThermometer*\n\n *part = basicFin*\n\n *}*\n\nIt should be possible, in Mod Manager, to check for the presence of that section and add a new part, instead of changing the part\u0027s part.cfg but you don\u0027t seem able to read the setting from one file and put it in another.\n\nLet me check a small parts-mod... Something from Blackleg Industries, it\u0027s pretty small, and the Circular Antenna is useful. The part.cfg puts it in the \u0022electronics\u0022 RDNode, which happens to be in the Standard Tech Tree, so I don\u0027t think it needs an edit. Here\u0027s the thread with the Module Manager data.\n\n[http://forum.kerbalspaceprogram.com/threads/55219-1-0-x-Module-Manager-2-6-6-%28June-25%29-With-more-nyan?highlight=Module\u002BManager](https://forum.kerbalspaceprogram.com/threads/55219-1-0-x-Module-Manager-2-6-6-%28June-25%29-With-more-nyan?highlight=Module\u002BManager)\n\nThe Community Tech Tree includes instructions for the commands needed to put a new part in the tree using Module Manager, changing the part.cfg entry. The example checks for the Community Tech Tree and changes the tech node specified in the part.cfg\n\nI don\u0027t see why a YongeTech-type TechTree.cfg can\u0027t be modified instead. but the details are where I start feeling very lost. I could throw AWK at a TechTree.cfg and get a list of the nodes but then what?\n\nI shall depart and fan my fevered brow..."},{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-06-30T16:32:32Z","Content":"At least I got the Node IDs, which are the internal names for the default Tech Tree nodes. That was easy. They\u0027re not quite the same as the Names displayed, and under the stock system you still have to examine every part.cfg file to get the part\u0027s internal name, and the tech node it is assigned to. Yes, the information is in the Wiki, but those pages use the visible names displayed for humans and I have a suspicion it isn\u0027t up to date. And some stuff uses a different filename to part.cfg\n\nAnyway, here\u0027s the list of internal names.\n\n\u003E \n\u003E id = start\n\u003E id = basicRocketry\n\u003E \n\u003E id = engineering101\n\u003E \n\u003E id = survivability\n\u003E \n\u003E id = stability\n\u003E \n\u003E id = generalRocketry\n\u003E \n\u003E id = aviation\n\u003E \n\u003E id = basicScience\n\u003E \n\u003E id = flightControl\n\u003E \n\u003E id = advRocketry\n\u003E \n\u003E id = generalConstruction\n\u003E \n\u003E id = propulsionSystems\n\u003E \n\u003E id = spaceExploration\n\u003E \n\u003E id = advFlightControl\n\u003E \n\u003E id = landing\n\u003E \n\u003E id = aerodynamicSystems\n\u003E \n\u003E id = electrics\n\u003E \n\u003E id = heavyRocketry\n\u003E \n\u003E id = fuelSystems\n\u003E \n\u003E id = advConstruction\n\u003E \n\u003E id = miniaturization\n\u003E \n\u003E id = actuators\n\u003E \n\u003E id = commandModules\n\u003E \n\u003E id = heavierRocketry\n\u003E \n\u003E id = precisionEngineering\n\u003E \n\u003E id = advExploration\n\u003E \n\u003E id = specializedControl\n\u003E \n\u003E id = advLanding\n\u003E \n\u003E id = supersonicFlight\n\u003E \n\u003E id = advFuelSystems\n\u003E \n\u003E id = advElectrics\n\u003E \n\u003E id = specializedConstruction\n\u003E \n\u003E id = precisionPropulsion\n\u003E \n\u003E id = advAerodynamics\n\u003E \n\u003E id = heavyLanding\n\u003E \n\u003E id = scienceTech\n\u003E \n\u003E id = unmannedTech\n\u003E \n\u003E id = nuclearPropulsion\n\u003E \n\u003E id = advMetalworks\n\u003E \n\u003E id = fieldScience\n\u003E \n\u003E id = highAltitudeFlight\n\u003E \n\u003E id = largeVolumeContainment\n\u003E \n\u003E id = composites\n\u003E \n\u003E id = electronics\n\u003E \n\u003E id = largeElectrics\n\u003E \n\u003E id = heavyAerodynamics\n\u003E \n\u003E id = ionPropulsion\n\u003E \n\u003E id = hypersonicFlight\n\u003E \n\u003E id = nanolathing\n\u003E \n\u003E id = advUnmanned\n\u003E \n\u003E id = metaMaterials\n\u003E \n\u003E id = veryHeavyRocketry\n\u003E \n\u003E id = advScienceTech\n\u003E \n\u003E id = advancedMotors\n\u003E \n\u003E id = specializedElectrics\n\u003E \n\u003E id = highPerformanceFuelSystems\n\u003E \n\u003E id = experimentalAerodynamics\n\u003E \n\u003E id = automation\n\u003E \n\u003E id = aerospaceTech\n\u003E \n\u003E id = largeUnmanned\n\u003E \n\u003E id = experimentalScience\n\u003E \n\u003E id = experimentalMotors\n\u003E \n\u003E id = experimentalElectrics\n\nI kept the \u0022id = \u0022 partly for clarity.\n\nI am not sure how far I am going to go with this, but a YongeTech-format version of the stock Tech Tree might be useful. It does have the virtue of having all the node-placement info in one place."},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-06-30T16:36:49Z","Content":"It seems to me that, regardless of what solution you use to *build* the tree, the assignment of parts to nodes should be the same. Specially since loading a custom tree is supposed to be stock now, so custom trees behave just like the stock one (I\u0027m not sure, tho. I was very disappointed when they said they would release the tool they used to create techtrees themselves, but didn\u0027t, so I didn\u0027t follow on the subject). \n\nSo, the MM file to assign parts *should* still work\n\nKept the tab open too long, was ninja\u0027d by a few *hours*... and probably said something stupid."},{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-06-30T22:46:58Z","Content":"There are signs of something different in the stock Tech Tree coming when v1.x.x appeared.\n\nMy first step will be to duplicate the Stock tree using YongeTech . All the tech trees I have looked at use the Stock node names as a base, I suppose so that a third party Mod will work if it doesn\u0027t take advantage of the new nodes. Since YongeTech gives the Stock Tree as an option this might seem a bit pointless.\n\nI see it as a first step to a YT version of the Community Tech Tree. If I can get that working, it could be useful. I did try the CTT, but it needed a whole distinct install. And the base CTT doesn\u0027t depend on Module Manager"},{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-07-01T10:19:10Z","Content":"It was getting plenty late enough when I posted that last bit.\n\nThe CTT does use Module Manager: it adds nodes and changes node positions and links, but it only modifies the TechTree.cfg file. It doesn\u0027t change the part/node links in the part.cfg files\n\nI think a YT version would be able to put some parts in different places.\n\nIf a part isn\u0027t specified in a YT-style TechTree.cfg what happens? It makes sense for the part/node link in the part.cfg to be applied.\n\nThis probably is getting into Add-On development territory now. I\u0027ll concentrate on getting a YT-Stock and YT-CTT set up before I start a thread in the development forum."}]}