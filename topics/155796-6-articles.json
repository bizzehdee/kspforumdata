{"TopicId":155796,"ForumId":34,"TopicTitle":"[KSP 1.10.0] Kerbal Simpit: A KSP serial mod for hardware controllers (1.4.1)","CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-01-30T17:07:07Z","PageNum":6,"Articles":[{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-27T07:37:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223104036\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498535237\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMulti-device functionality has been in place for quite a while. \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0You need to add a new SerialPort section in the config file, just duplicate the one that\u0027s there. I\u0027d like to eventually add an in-game interface for configuring serial connections, but that\u0027s still a fair way off unfortunately.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOhhh, I did miss that one. Now I\u0027m feeling like being under pressure delivering, but this step will take a while. First I want to finish the control part.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177494\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0022 rel=\u0022\u0022\u003E@Gizzum\u003C/a\u003E: I found some code from an older project. Can you do me a favor, and draw these on your TFT (I hope your syntax is not toooo different, I don\u0027t know what library you\u0027re using), let\u0027s see the lag with drawing lines and dots, and circles:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus HOLD malen\n//Das macht uns in Zukunft die Positionierung einfacher\n  int x = 47;\n  int y = 55;\n  myGLCD.setColor(0, 255, 0);\n  myGLCD.setFont(SmallFont);\n  myGLCD.print(\u0022~\u0022, x-2, y-1);\n  myGLCD.setFont(BigFont);\n  myGLCD.drawCircle(x, y, 7);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus PROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 80;\n  myGLCD.setColor(255, 255, 51);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x-8, y, x-12, y);\n  myGLCD.drawLine(x\u002B8, y, x\u002B12, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RETROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 105;\n  myGLCD.setColor(255, 255, 51);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x, y-12, x, y-8);\n  myGLCD.drawLine(x\u002B7, y\u002B4, x\u002B10, y\u002B6);\n  myGLCD.drawLine(x-7, y\u002B4, x-10, y\u002B6);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus NORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 130;\n  myGLCD.setColor(255, 0, 255);\n  myGLCD.drawLine(x-9, y\u002B5, x\u002B8, y\u002B5);\n  myGLCD.drawLine(x-9, y\u002B5, x, y-9);\n  myGLCD.drawLine(x, 121, x\u002B8, y\u002B5);\n  myGLCD.drawPixel(x, y);\n  \n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTINORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 155;\n  myGLCD.setColor(255, 0, 255);\n  myGLCD.drawLine(x-9, y-5, x\u002B8, y-5);\n  myGLCD.drawLine(x-9, y-5, x, y\u002B9);\n  myGLCD.drawLine(x, y\u002B9, x\u002B8, y-5);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x, y-12, x, y-5);\n  myGLCD.drawLine(x\u002B5, y\u002B2, x\u002B10, y\u002B6);\n  myGLCD.drawLine(x-5, y\u002B2, x-10, y\u002B6);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 180;\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 3);\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTIRADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 205;\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x-8, y\u002B8, x\u002B8, y-8);\n  myGLCD.drawLine(x-8, y-8, x\u002B8, y\u002B8);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 6);\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus TARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 230;\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillRect(x-2, y-8, x\u002B2, y\u002B8);\n  myGLCD.fillRect(x-8, y\u002B2, x\u002B8, y-2);\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTITARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 255;\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x, y\u002B9, x, y\u002B7);\n  myGLCD.drawLine(x\u002B5, y-5, x\u002B8, y-7);\n  myGLCD.drawLine(x-5, y-5, x-8, y-7);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus MANEUVER malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 280;\n  myGLCD.setColor(50, 50, 255);\n  myGLCD.drawLine(x-4, y-8, x\u002B4, y-8);\n  myGLCD.drawLine(x-4, y\u002B6, x-8, y);\n  myGLCD.drawLine(x\u002B4, y\u002B6, x\u002B8, y);\n  myGLCD.drawLine(x, y-7, x, y-5);\n  myGLCD.drawLine(x-6, y\u002B3, x-3, y\u002B1);\n  myGLCD.drawLine(x\u002B6, y\u002B3, x\u002B3, y\u002B1);\n  myGLCD.drawPixel(x, y-1);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gizzum","CreatedById":177494,"CreatedDateTime":"2017-06-27T17:19:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223104163\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498549035\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOhhh, I did miss that one. Now I\u0027m feeling like being under pressure delivering, but this step will take a while. First I want to finish the control part.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177494\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0022 rel=\u0022\u0022\u003E@Gizzum\u003C/a\u003E: I found some code from an older project. Can you do me a favor, and draw these on your TFT (I hope your syntax is not toooo different, I don\u0027t know what library you\u0027re using), let\u0027s see the lag with drawing lines and dots, and circles:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus HOLD malen\n//Das macht uns in Zukunft die Positionierung einfacher\n  int x = 47;\n  int y = 55;\n  myGLCD.setColor(0, 255, 0);\n  myGLCD.setFont(SmallFont);\n  myGLCD.print(\u0022~\u0022, x-2, y-1);\n  myGLCD.setFont(BigFont);\n  myGLCD.drawCircle(x, y, 7);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus PROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 80;\n  myGLCD.setColor(255, 255, 51);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x-8, y, x-12, y);\n  myGLCD.drawLine(x\u002B8, y, x\u002B12, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RETROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 105;\n  myGLCD.setColor(255, 255, 51);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x, y-12, x, y-8);\n  myGLCD.drawLine(x\u002B7, y\u002B4, x\u002B10, y\u002B6);\n  myGLCD.drawLine(x-7, y\u002B4, x-10, y\u002B6);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus NORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 130;\n  myGLCD.setColor(255, 0, 255);\n  myGLCD.drawLine(x-9, y\u002B5, x\u002B8, y\u002B5);\n  myGLCD.drawLine(x-9, y\u002B5, x, y-9);\n  myGLCD.drawLine(x, 121, x\u002B8, y\u002B5);\n  myGLCD.drawPixel(x, y);\n  \n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTINORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 155;\n  myGLCD.setColor(255, 0, 255);\n  myGLCD.drawLine(x-9, y-5, x\u002B8, y-5);\n  myGLCD.drawLine(x-9, y-5, x, y\u002B9);\n  myGLCD.drawLine(x, y\u002B9, x\u002B8, y-5);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x, y-12, x, y-5);\n  myGLCD.drawLine(x\u002B5, y\u002B2, x\u002B10, y\u002B6);\n  myGLCD.drawLine(x-5, y\u002B2, x-10, y\u002B6);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 180;\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 3);\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTIRADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 205;\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x-8, y\u002B8, x\u002B8, y-8);\n  myGLCD.drawLine(x-8, y-8, x\u002B8, y\u002B8);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 6);\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus TARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 230;\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillRect(x-2, y-8, x\u002B2, y\u002B8);\n  myGLCD.fillRect(x-8, y\u002B2, x\u002B8, y-2);\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTITARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 255;\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x, y\u002B9, x, y\u002B7);\n  myGLCD.drawLine(x\u002B5, y-5, x\u002B8, y-7);\n  myGLCD.drawLine(x-5, y-5, x-8, y-7);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus MANEUVER malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 280;\n  myGLCD.setColor(50, 50, 255);\n  myGLCD.drawLine(x-4, y-8, x\u002B4, y-8);\n  myGLCD.drawLine(x-4, y\u002B6, x-8, y);\n  myGLCD.drawLine(x\u002B4, y\u002B6, x\u002B8, y);\n  myGLCD.drawLine(x, y-7, x, y-5);\n  myGLCD.drawLine(x-6, y\u002B3, x-3, y\u002B1);\n  myGLCD.drawLine(x\u002B6, y\u002B3, x\u002B3, y\u002B1);\n  myGLCD.drawPixel(x, y-1);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere is a demo test sketch that comes with the MCUfriend library...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E// All the mcufriend.com UNO shields have the same pinout.\n// i.e. control pins A0-A4.  Data D2-D9.  microSD D10-D13.\n// Touchscreens are normally A1, A2, D7, D6 but the order varies\n//\n// This demo should work with most Adafruit TFT libraries\n// If you are not using a shield,  use a full Adafruit constructor()\n// e.g. Adafruit_TFTLCD tft(LCD_CS, LCD_CD, LCD_WR, LCD_RD, LCD_RESET);\n\n#define LCD_CS A3 // Chip Select goes to Analog 3\n#define LCD_CD A2 // Command/Data goes to Analog 2\n#define LCD_WR A1 // LCD Write goes to Analog 1\n#define LCD_RD A0 // LCD Read goes to Analog 0\n#define LCD_RESET A4 // Can alternately just connect to Arduino\u0027s reset pin\n\n#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;SPI.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E          // f.k. for Arduino-1.5.2\n#include \u0022Adafruit_GFX.h\u0022// Hardware-specific library\n#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;MCUFRIEND_kbv.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\nMCUFRIEND_kbv tft;\n//#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Adafruit_TFTLCD.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n//Adafruit_TFTLCD tft(LCD_CS, LCD_CD, LCD_WR, LCD_RD, LCD_RESET);\n\n// Assign human-readable names to some common 16-bit color values:\n#define\tBLACK   0x0000\n#define\tBLUE    0x001F\n#define\tRED     0xF800\n#define\tGREEN   0x07E0\n#define CYAN    0x07FF\n#define MAGENTA 0xF81F\n#define YELLOW  0xFFE0\n#define WHITE   0xFFFF\n\n#ifndef min\n#define min(a, b) (((a) \u0026lt; (b)) ? (a) : (b))\n#endif\n\nvoid setup(void);\nvoid loop(void);\nunsigned long testFillScreen();\nunsigned long testText();\nunsigned long testLines(uint16_t color);\nunsigned long testFastLines(uint16_t color1, uint16_t color2);\nunsigned long testRects(uint16_t color);\nunsigned long testFilledRects(uint16_t color1, uint16_t color2);\nunsigned long testFilledCircles(uint8_t radius, uint16_t color);\nunsigned long testCircles(uint8_t radius, uint16_t color);\nunsigned long testTriangles();\nunsigned long testFilledTriangles();\nunsigned long testRoundRects();\nunsigned long testFilledRoundRects();\nvoid progmemPrint(const char *str);\nvoid progmemPrintln(const char *str);\n\nvoid runtests(void);\n\nuint16_t g_identifier;\n\nextern const uint8_t hanzi[];\nvoid showhanzi(unsigned int x, unsigned int y, unsigned char index)\n{\n    uint8_t i, j, c, first = 1;\n    uint8_t *temp = (uint8_t*)hanzi;\n    uint16_t color;\n    tft.setAddrWindow(x, y, x \u002B 31, y \u002B 31); //\u8BBE\u7F6E\u533A\u57DF\n    temp \u002B= index * 128;\n    for (j = 0; j \u0026lt; 128; j\u002B\u002B)\n    {\n        c = pgm_read_byte(temp);\n        for (i = 0; i \u0026lt; 8; i\u002B\u002B)\n        {\n            if ((c \u0026amp; (1 \u0026lt;\u0026lt; i)) != 0)\n            {\n                color = RED;\n            }\n            else\n            {\n                color = BLACK;\n            }\n            tft.pushColors(\u0026amp;color, 1, first);\n            first = 0;\n        }\n        temp\u002B\u002B;\n    }\n}\n\nvoid setup(void) {\n    Serial.begin(9600);\n    uint32_t when = millis();\n    //    while (!Serial) ;   //hangs a Leonardo until you connect a Serial\n    if (!Serial) delay(5000);           //allow some time for Leonardo\n    Serial.println(\u0022Serial took \u0022 \u002B String((millis() - when)) \u002B \u0022ms to start\u0022);\n    static uint16_t identifier;\n    //    tft.reset();                 //we can\u0027t read ID on 9341 until begin()\n    g_identifier = tft.readID(); //\n    Serial.print(\u0022ID = 0x\u0022);\n    Serial.println(g_identifier, HEX);\n    if (g_identifier == 0x00D3 || g_identifier == 0xD3D3) g_identifier = 0x9481; // write-only shield\n    if (g_identifier == 0xFFFF) g_identifier = 0x9341; // serial\n//    g_identifier = 0x9329;                             // force ID\n    tft.begin(g_identifier);\n}\n\n#if defined(MCUFRIEND_KBV_H_)\nuint16_t scrollbuf[320];    // my biggest screen is 320x480\n#define READGRAM(x, y, buf, w, h)  tft.readGRAM(x, y, buf, w, h)\n#else\nuint16_t scrollbuf[320];    // Adafruit only does 240x320\n// Adafruit can read a block by one pixel at a time\nint16_t  READGRAM(int16_t x, int16_t y, uint16_t *block, int16_t w, int16_t h)\n{\n    uint16_t *p;\n    for (int row = 0; row \u0026lt; h; row\u002B\u002B) {\n        p = block \u002B row * w;\n        for (int \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E = 0; \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E \u0026lt; w; \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E\u002B\u002B) {\n            *p\u002B\u002B = tft.readPixel(x \u002B \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E, y \u002B row);\n        }\n    }\n}\n#endif\n\nvoid windowScroll(int16_t x, int16_t y, int16_t wid, int16_t ht, int16_t dx, int16_t dy, uint16_t *buf)\n{\n    if (dx) for (int16_t row = 0; row \u0026lt; ht; row\u002B\u002B) {\n            READGRAM(x, y \u002B row, buf, wid, 1);\n            tft.setAddrWindow(x, y \u002B row, x \u002B wid - 1, y \u002B row);\n            tft.pushColors(buf \u002B dx, wid - dx, 1);\n            tft.pushColors(buf \u002B 0, dx, 0);\n        }\n    if (dy) for (int16_t \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E = 0; \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E \u0026lt; wid; \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E\u002B\u002B) {\n            READGRAM(x \u002B \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E, y, buf, 1, ht);\n            tft.setAddrWindow(x \u002B \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E, y, x \u002B \u003Cabbr title=\u0022Center of Lift\u0022\u003Ecol\u003C/abbr\u003E, y \u002B ht - 1);\n            tft.pushColors(buf \u002B dy, ht - dy, 1);\n            tft.pushColors(buf \u002B 0, dy, 0);\n        }\n}\n\nvoid loop(void) {\n    uint8_t aspect;\n    uint16_t pixel;\n    char *aspectname[] = {\n        \u0022PORTRAIT\u0022, \u0022LANDSCAPE\u0022, \u0022PORTRAIT_REV\u0022, \u0022LANDSCAPE_REV\u0022\n    };\n    char *colorname[] = { \u0022BLUE\u0022, \u0022GREEN\u0022, \u0022RED\u0022, \u0022GRAY\u0022 };\n    uint16_t colormask[] = { 0x001F, 0x07E0, 0xF800, 0xFFFF };\n    uint16_t dx, rgb, n, wid, ht;\n    tft.setRotation(0);\n//    for (uint8_t i = 0; i \u0026lt; 2; i\u002B\u002B) showhanzi(0, 0, i), delay(1000);\n    runtests();\n    delay(2000);\n    if (tft.height() \u0026gt; 64) {\n        for (uint8_t cnt = 0; cnt \u0026lt; 4; cnt\u002B\u002B) {\n            aspect = (cnt \u002B 0) \u0026amp; 3;\n            tft.setRotation(aspect);\n            wid = tft.width();\n            ht = tft.height();\n            testText();\n            dx = wid / 32;\n            for (n = 0; n \u0026lt; 32; n\u002B\u002B) {\n                rgb = n * 8;\n                rgb = tft.color565(rgb, rgb, rgb);\n                tft.fillRect(n * dx, 48, dx, 64, rgb \u0026amp; colormask[aspect]);\n            }\n            tft.setTextSize(2);\n            tft.setTextColor(colormask[aspect], BLACK);\n            tft.setCursor(0, 72);\n            tft.print(colorname[aspect]);\n            tft.setTextColor(WHITE);\n            tft.println(\u0022 COLOR GRADES\u0022);\n            tft.setTextColor(WHITE, BLACK);\n            tft.setCursor(0, 184);\n            tft.println(aspectname[aspect]);\n            delay(1000);\n            tft.drawPixel(0, 0, YELLOW);\n            pixel = tft.readPixel(0, 0);\n#if defined(MCUFRIEND_KBV_H_)\n            extern const uint8_t penguin[];\n            tft.setAddrWindow(wid - 40 - 40, 20 \u002B 0, wid - 1 - 40, 20 \u002B 39);\n            tft.pushColors(penguin, 1600, 1);\n            tft.setTextColor(WHITE, BLACK);\n            tft.println(\u0022VERTICAL SCROLL UP\u0022);\n            uint16_t maxscroll;\n            if (tft.getRotation() \u0026amp; 1) maxscroll = wid;\n            else maxscroll = ht;\n            for (uint16_t i = 1; i \u0026lt;= maxscroll; i\u002B\u002B) {\n                tft.vertScroll(0, maxscroll, i);\n                delay(10);\n            }\n            tft.vertScroll(0, maxscroll, 0);\n            tft.setCursor(0, 200);\n            tft.println(\u0022VERTICAL SCROLL \u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E\u0022);\n            for (uint16_t i = 1; i \u0026lt;= maxscroll; i\u002B\u002B) {\n                tft.vertScroll(0, maxscroll, 0 - (int16_t)i);\n                delay(10);\n            }\n            delay(1000);\n            tft.vertScroll(0, maxscroll, 0);\n            if ((aspect \u0026amp; 1) == 0) { //Portrait\n                tft.setCursor(0, 200);\n                tft.setTextColor(BLUE, BLACK);\n                tft.println(\u0022ONLY THE COLOR BAND\u0022);\n                for (uint16_t i = 1; i \u0026lt;= 64; i\u002B\u002B) {\n                    tft.vertScroll(48, 64, i);\n                    delay(20);\n                }\n                delay(1000);\n                tft.vertScroll(0, maxscroll, 0);\n            }\n#endif\n            tft.setCursor(0, 200);\n            tft.setTextColor(YELLOW, BLACK);\n            if (pixel == YELLOW) {\n                tft.println(\u0022SOFTWARE SCROLL    \u0022);\n#if 0\n                for (int16_t i = 45, dx = 2, dy = 1; i \u0026gt; 0; i -= dx) {\n                    windowScroll(24, 8, 90, 40, dx, dy, scrollbuf);\n                }\n#else\n                // scroll a whole width of the screen\n                n = (wid \u0026gt; 320) ? 320 : wid;\n                for (int16_t i = n, dx = 4, dy = 0; i \u0026gt; 0; i -= dx) {\n                    windowScroll(0, 200, n, 16, dx, dy, scrollbuf);\n                }\n#endif\n            }\n            else if (pixel == CYAN)\n                tft.println(\u0022readPixel() reads as BGR\u0022);\n            else if ((pixel \u0026amp; 0xF8F8) == 0xF8F8)\n                tft.println(\u0022readPixel() should be 24-bit\u0022);\n            else {\n                tft.print(\u0022readPixel() reads 0x\u0022);\n                tft.println(pixel, HEX);\n            }\n            delay(5000);\n        }\n    }\n    tft.println(\u0022INVERT DISPLAY\u0022);\n    tft.invertDisplay(true);\n    delay(2000);\n    tft.invertDisplay(false);\n}\n\ntypedef struct {\n    PGM_P msg;\n    uint32_t ms;\n} TEST;\nTEST result[12];\n\n#define RUNTEST(n, str, test) { result[n].msg = PSTR(str); result[n].ms = test; delay(500); }\n\nvoid runtests(void)\n{\n    uint8_t i, len = 24, cnt;\n    uint32_t total;\n    RUNTEST(0, \u0022FillScreen               \u0022, testFillScreen());\n    RUNTEST(1, \u0022Text                     \u0022, testText());\n    RUNTEST(2, \u0022Lines                    \u0022, testLines(CYAN));\n    RUNTEST(3, \u0022Horiz/Vert Lines         \u0022, testFastLines(RED, BLUE));\n    RUNTEST(4, \u0022Rectangles (outline)     \u0022, testRects(GREEN));\n    RUNTEST(5, \u0022Rectangles (filled)      \u0022, testFilledRects(YELLOW, MAGENTA));\n    RUNTEST(6, \u0022Circles (filled)         \u0022, testFilledCircles(10, MAGENTA));\n    RUNTEST(7, \u0022Circles (outline)        \u0022, testCircles(10, WHITE));\n    RUNTEST(8, \u0022Triangles (outline)      \u0022, testTriangles());\n    RUNTEST(9, \u0022Triangles (filled)       \u0022, testFilledTriangles());\n    RUNTEST(10, \u0022Rounded rects (outline)  \u0022, testRoundRects());\n    RUNTEST(11, \u0022Rounded rects (filled)   \u0022, testFilledRoundRects());\n\n    tft.fillScreen(BLACK);\n    tft.setTextColor(GREEN);\n    tft.setCursor(0, 0);\n    uint16_t wid = tft.width();\n    if (wid \u0026gt; 176) {\n        tft.setTextSize(2);\n#if defined(MCUFRIEND_KBV_H_)\n        tft.print(\u0022MCUFRIEND \u0022);\n#if MCUFRIEND_KBV_H_ != 0\n        tft.print(0.01 * MCUFRIEND_KBV_H_, 1);\n#else\n        tft.print(\u0022for\u0022);\n#endif\n        tft.println(\u0022 UNO\u0022);\n#else\n        tft.println(\u0022Adafruit-Style Tests\u0022);\n#endif\n    } else len = wid / 6 - 8;\n    tft.setTextSize(1);\n    total = 0;\n    for (i = 0; i \u0026lt; 12; i\u002B\u002B) {\n        PGM_P str = result[i].msg;\n        char c;\n        if (len \u0026gt; 24) {\n            if (i \u0026lt; 10) tft.print(\u0022 \u0022);\n            tft.print(i);\n            tft.print(\u0022: \u0022);\n        }\n        uint8_t cnt = len;\n        while ((c = pgm_read_byte(str\u002B\u002B)) \u0026amp;\u0026amp; cnt--) tft.print(c);\n        tft.print(\u0022 \u0022);\n        tft.println(result[i].ms);\n        total \u002B= result[i].ms;\n    }\n    tft.setTextSize(2);\n    tft.print(\u0022Total:\u0022);\n    tft.print(0.000001 * total);\n    tft.println(\u0022sec\u0022);\n    g_identifier = tft.readID();\n    tft.print(\u0022ID: 0x\u0022);\n    tft.println(tft.readID(), HEX);\n    tft.print(\u0022Reg(00):0x\u0022);\n    tft.println(tft.readReg(0x00), HEX);\n    tft.print(\u0022F_CPU:\u0022);\n    tft.print(0.000001 * F_CPU);\n#if defined(__OPTIMIZE_SIZE__)\n    tft.println(\u0022MHz -Os\u0022);\n#else\n    tft.println(\u0022MHz\u0022);\n#endif\n\n    delay(10000);\n}\n\n// Standard Adafruit tests.  will adjust to screen size\n\nunsigned long testFillScreen() {\n    unsigned long start = micros();\n    tft.fillScreen(BLACK);\n    tft.fillScreen(RED);\n    tft.fillScreen(GREEN);\n    tft.fillScreen(BLUE);\n    tft.fillScreen(BLACK);\n    return micros() - start;\n}\n\nunsigned long testText() {\n    unsigned long start;\n    tft.fillScreen(BLACK);\n    start = micros();\n    tft.setCursor(0, 0);\n    tft.setTextColor(WHITE);  tft.setTextSize(1);\n    tft.println(\u0022Hello World!\u0022);\n    tft.setTextColor(YELLOW); tft.setTextSize(2);\n    tft.println(123.45);\n    tft.setTextColor(RED);    tft.setTextSize(3);\n    tft.println(0xDEADBEEF, HEX);\n    tft.println();\n    tft.setTextColor(GREEN);\n    tft.setTextSize(5);\n    tft.println(\u0022Groop\u0022);\n    tft.setTextSize(2);\n    tft.println(\u0022I implore thee,\u0022);\n    tft.setTextSize(1);\n    tft.println(\u0022my foonting turlingdromes.\u0022);\n    tft.println(\u0022And hooptiously drangle me\u0022);\n    tft.println(\u0022with crinkly bindlewurdles,\u0022);\n    tft.println(\u0022Or I will rend thee\u0022);\n    tft.println(\u0022in the gobberwarts\u0022);\n    tft.println(\u0022with my blurglecruncheon,\u0022);\n    tft.println(\u0022see if I don\u0027t!\u0022);\n    return micros() - start;\n}\n\nunsigned long testLines(uint16_t color) {\n    unsigned long start, t;\n    int           x1, y1, x2, y2,\n                  w = tft.width(),\n                  h = tft.height();\n\n    tft.fillScreen(BLACK);\n\n    x1 = y1 = 0;\n    y2    = h - 1;\n    start = micros();\n    for (x2 = 0; x2 \u0026lt; w; x2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n    x2    = w - 1;\n    for (y2 = 0; y2 \u0026lt; h; y2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n    t     = micros() - start; // fillScreen doesn\u0027t count against timing\n\n    tft.fillScreen(BLACK);\n\n    x1    = w - 1;\n    y1    = 0;\n    y2    = h - 1;\n    start = micros();\n    for (x2 = 0; x2 \u0026lt; w; x2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n    x2    = 0;\n    for (y2 = 0; y2 \u0026lt; h; y2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n    t    \u002B= micros() - start;\n\n    tft.fillScreen(BLACK);\n\n    x1    = 0;\n    y1    = h - 1;\n    y2    = 0;\n    start = micros();\n    for (x2 = 0; x2 \u0026lt; w; x2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n    x2    = w - 1;\n    for (y2 = 0; y2 \u0026lt; h; y2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n    t    \u002B= micros() - start;\n\n    tft.fillScreen(BLACK);\n\n    x1    = w - 1;\n    y1    = h - 1;\n    y2    = 0;\n    start = micros();\n    for (x2 = 0; x2 \u0026lt; w; x2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n    x2    = 0;\n    for (y2 = 0; y2 \u0026lt; h; y2 \u002B= 6) tft.drawLine(x1, y1, x2, y2, color);\n\n    return micros() - start;\n}\n\nunsigned long testFastLines(uint16_t color1, uint16_t color2) {\n    unsigned long start;\n    int           x, y, w = tft.width(), h = tft.height();\n\n    tft.fillScreen(BLACK);\n    start = micros();\n    for (y = 0; y \u0026lt; h; y \u002B= 5) tft.drawFastHLine(0, y, w, color1);\n    for (x = 0; x \u0026lt; w; x \u002B= 5) tft.drawFastVLine(x, 0, h, color2);\n\n    return micros() - start;\n}\n\nunsigned long testRects(uint16_t color) {\n    unsigned long start;\n    int           n, i, i2,\n                  cx = tft.width()  / 2,\n                  cy = tft.height() / 2;\n\n    tft.fillScreen(BLACK);\n    n     = min(tft.width(), tft.height());\n    start = micros();\n    for (i = 2; i \u0026lt; n; i \u002B= 6) {\n        i2 = i / 2;\n        tft.drawRect(cx - i2, cy - i2, i, i, color);\n    }\n\n    return micros() - start;\n}\n\nunsigned long testFilledRects(uint16_t color1, uint16_t color2) {\n    unsigned long start, t = 0;\n    int           n, i, i2,\n                  cx = tft.width()  / 2 - 1,\n                  cy = tft.height() / 2 - 1;\n\n    tft.fillScreen(BLACK);\n    n = min(tft.width(), tft.height());\n    for (i = n; i \u0026gt; 0; i -= 6) {\n        i2    = i / 2;\n        start = micros();\n        tft.fillRect(cx - i2, cy - i2, i, i, color1);\n        t    \u002B= micros() - start;\n        // Outlines are not included in timing results\n        tft.drawRect(cx - i2, cy - i2, i, i, color2);\n    }\n\n    return t;\n}\n\nunsigned long testFilledCircles(uint8_t radius, uint16_t color) {\n    unsigned long start;\n    int x, y, w = tft.width(), h = tft.height(), r2 = radius * 2;\n\n    tft.fillScreen(BLACK);\n    start = micros();\n    for (x = radius; x \u0026lt; w; x \u002B= r2) {\n        for (y = radius; y \u0026lt; h; y \u002B= r2) {\n            tft.fillCircle(x, y, radius, color);\n        }\n    }\n\n    return micros() - start;\n}\n\nunsigned long testCircles(uint8_t radius, uint16_t color) {\n    unsigned long start;\n    int           x, y, r2 = radius * 2,\n                        w = tft.width()  \u002B radius,\n                        h = tft.height() \u002B radius;\n\n    // Screen is not cleared for this one -- this is\n    // intentional and does not affect the reported time.\n    start = micros();\n    for (x = 0; x \u0026lt; w; x \u002B= r2) {\n        for (y = 0; y \u0026lt; h; y \u002B= r2) {\n            tft.drawCircle(x, y, radius, color);\n        }\n    }\n\n    return micros() - start;\n}\n\nunsigned long testTriangles() {\n    unsigned long start;\n    int           n, i, cx = tft.width()  / 2 - 1,\n                        cy = tft.height() / 2 - 1;\n\n    tft.fillScreen(BLACK);\n    n     = min(cx, cy);\n    start = micros();\n    for (i = 0; i \u0026lt; n; i \u002B= 5) {\n        tft.drawTriangle(\n            cx    , cy - i, // peak\n            cx - i, cy \u002B i, // bottom left\n            cx \u002B i, cy \u002B i, // bottom right\n            tft.color565(0, 0, i));\n    }\n\n    return micros() - start;\n}\n\nunsigned long testFilledTriangles() {\n    unsigned long start, t = 0;\n    int           i, cx = tft.width()  / 2 - 1,\n                     cy = tft.height() / 2 - 1;\n\n    tft.fillScreen(BLACK);\n    start = micros();\n    for (i = min(cx, cy); i \u0026gt; 10; i -= 5) {\n        start = micros();\n        tft.fillTriangle(cx, cy - i, cx - i, cy \u002B i, cx \u002B i, cy \u002B i,\n                         tft.color565(0, i, i));\n        t \u002B= micros() - start;\n        tft.drawTriangle(cx, cy - i, cx - i, cy \u002B i, cx \u002B i, cy \u002B i,\n                         tft.color565(i, i, 0));\n    }\n\n    return t;\n}\n\nunsigned long testRoundRects() {\n    unsigned long start;\n    int           w, i, i2, red, step,\n                  cx = tft.width()  / 2 - 1,\n                  cy = tft.height() / 2 - 1;\n\n    tft.fillScreen(BLACK);\n    w     = min(tft.width(), tft.height());\n    start = micros();\n    red = 0;\n    step = (256 * 6) / w;\n    for (i = 0; i \u0026lt; w; i \u002B= 6) {\n        i2 = i / 2;\n        red \u002B= step;\n        tft.drawRoundRect(cx - i2, cy - i2, i, i, i / 8, tft.color565(red, 0, 0));\n    }\n\n    return micros() - start;\n}\n\nunsigned long testFilledRoundRects() {\n    unsigned long start;\n    int           i, i2, green, step,\n                  cx = tft.width()  / 2 - 1,\n                  cy = tft.height() / 2 - 1;\n\n    tft.fillScreen(BLACK);\n    start = micros();\n    green = 256;\n    step = (256 * 6) / min(tft.width(), tft.height());\n    for (i = min(tft.width(), tft.height()); i \u0026gt; 20; i -= 6) {\n        i2 = i / 2;\n        green -= step;\n        tft.fillRoundRect(cx - i2, cy - i2, i, i, i / 8, tft.color565(0, green, 0));\n    }\n\n    return micros() - start;\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt runs sweet as a nut. \u00A0Suggest a good video hosting site and I\u0027ll upload it running your code. \u00A0If i can get it running that is. \u00A0I have basic info at the moment and it seems to handling it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-27T17:26:07Z\u0022 title=\u002206/27/2017 05:26  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 27, 2017\u003C/time\u003E by Gizzum\u003C/strong\u003E\n\u003Cbr\u003EAdding to message\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-27T21:04:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223104528\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498583971\u0022 data-ipsquote-userid=\u0022177494\u0022 data-ipsquote-username=\u0022Gizzum\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Gizzum said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere is a demo test sketch that comes with the MCUfriend library...\n\u003C/p\u003E\n\u003Cp\u003E\nIt runs sweet as a nut. \u00A0Suggest a good video hosting site and I\u0027ll upload it running your code. \u00A0If i can get it running that is. \u00A0I have basic info at the moment and it seems to handling it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUhh, I think I don\u0027t like this library but I like the TFT to have so few pins. I have something \u003Ca href=\u0022https://www.amazon.de/Gaoxing-3-2inch-320X480-Unterst%C3%BCtzung-Arduino/dp/B0722XG3RV/ref=sr_1_10?ie=UTF8\u0026amp;qid=1498597159\u0026amp;sr=8-10\u0026amp;keywords=arduino\u002Bmega\u002Btft\u0022 rel=\u0022external nofollow\u0022\u003Elike this one.\u003C/a\u003E A little smaller. Oneandahalf the amount of pins\u00A0 (I assume) let\u0027s you use the UTFT library, and it is really clean and simple, from what I did with it.\n\u003C/p\u003E\n\u003Cp\u003E\nAny site does the job, I don\u0027t care. Thanks for your efforts, btw.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-27T21:06:58Z\u0022 title=\u002206/27/2017 09:06  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 27, 2017\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-28T11:10:43Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E: Had some thought on how to format the Apsidetimes for my LCD, onse it works.\n\u003C/p\u003E\n\u003Cp\u003E\nKeep in mind, I\u0027m arguing from a \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E standpoint.\n\u003C/p\u003E\n\u003Cp\u003E\nCovering the extrem; sending a probe to an orbit similar plutos I get an orbital period of 248 years around the sun. 248 years from Aphelion to next Aphelion. That\u0027s 5.683.564.800 seconds. That does not fit inside the integer.\n\u003C/p\u003E\n\u003Cp\u003E\nUnsigned long holds 4.294.967.295. Would fit up to neptunes orbit - a bit further out even.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut even Eeloo (Stock) has an orbital period of\u00A0 9.776.696,3 seconds. That\u0027s not covered by an unsigned integers range.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps you could handle these times as floats or split them up into years, days, hours, minutes and seconds or just minutes and seconds.\n\u003C/p\u003E\n\u003Cp\u003E\nI would prefer float. But I don\u0027t mean that we need ms accuracy.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-28T11:14:21Z\u0022 title=\u002206/28/2017 11:14  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 28, 2017\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003Cbr\u003Eclarifying the units\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-06-28T11:17:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223105184\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498648243\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would prefer float. But I don\u0027t mean that we need ms accuracy.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, wow. I hadn\u0027t really thought properly about whether outer planets periods would fit properly in to my apsides times data type. And you\u0027re right, I also prefer floats to trying to do weird things like splitting in to hours etc. But breaking backward compatibility would mean a new major version, and there\u0027s a couple more little things I want to do before I go to that extreme. So right now the best I can promise is \u003Ci\u003Emaybe\u003C/i\u003E\u00A0a new apsides time channel with floating point accuracy, and a new version 2.0 in the 1-2 month time frame that fixes the apsides times properly and breaks the 1.x channel.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, just saw your PR for keywords file. Thank you so much for getting to the bottom of that! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0I don\u0027t actually write my code in the Arduino IDE any more, so it\u0027s a little too easy for me to miss formatting bugs like that. Will merge it shortly.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Added\u00A0\u003Ca href=\u0022https://trello.com/c/PkEl8T0R/50-change-apsides-time-message-to-use-floats\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://trello.com/c/PkEl8T0R/50-change-apsides-time-message-to-use-floats\u003C/a\u003E\u00A0to fix the apsides time data type properly, and I might include a temporary channel in a sooner release?\u00A0\u003Ca href=\u0022https://trello.com/c/Yd4sFaTq/51-new-float-apsides-time-message\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://trello.com/c/Yd4sFaTq/51-new-float-apsides-time-message\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-28T11:24:01Z\u0022 title=\u002206/28/2017 11:24  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 28, 2017\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-28T11:30:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223105188\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498648653\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso, just saw your PR for keywords file. Thank you so much for getting to the bottom of that! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0I don\u0027t actually write my code in the Arduino IDE any more, so it\u0027s a little too easy for me to miss formatting bugs like that. Will merge it shortly.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Added\u00A0\u003Ca href=\u0022https://trello.com/c/PkEl8T0R/50-change-apsides-time-message-to-use-floats\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://trello.com/c/PkEl8T0R/50-change-apsides-time-message-to-use-floats\u003C/a\u003E\u00A0to fix the apsides time data type properly, and I might include a temporary channel in a sooner release?\u00A0\u003Ca href=\u0022https://trello.com/c/Yd4sFaTq/51-new-float-apsides-time-message\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://trello.com/c/Yd4sFaTq/51-new-float-apsides-time-message\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not that much, but I\u0027m happy doing something other, then just writing about things here on the forum.\n\u003C/p\u003E\n\u003Cp\u003E\nWow, that\u0027s organized. I normally keep little notes all over my bed, table and floor.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-06-28T11:33:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223105195\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498649417\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWow, that\u0027s organized. I normally keep little notes all over my bed, table and floor.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor personal projects, me too. But this thing grew way too big for me to keep track without a real board long ago. Which is a little scary when I think about it, actually.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve pushed version 1.1.2 of the Arduino library. Only change is to the keywords.txt. The Arduino library manager should index and have it available within an hour.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-28T11:39:33Z","Content":"\n\u003Cp\u003E\nRegarding keywords.txt\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0It\u0027s strange. It is said there has to be only one tab, but sometimes two, sometimes three are needed to make it work. I think that\u0027s why my attempts didn\u0027t work and I gave up to soon.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-06-28T12:43:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223103655\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498503496\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2017-6-27 at 4:58 AM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022kwd\u0022\u003Ecase\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E APSIDESTIME_MESSAGE\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EmsgSize \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Esizeof\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EapsidesTimeMessage\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E))\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        apsidesTimeMessage \u003C/span\u003E\u003Cspan\u003EApsidesTime\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan\u003EApsidesTime\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E parseApsidesTime\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emsg\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n          lcd_orbit_info_print_text\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022Seconds\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n          \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//Converting to km\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n          lcd_orbit_info_print_int\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EApsidesTime\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eapoapsis\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n          \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//Converting to km\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n          lcd_orbit_info_print_int\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EApsidesTime\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eperiapsis\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E2\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Ebreak\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOK, found it. This wasn\u0027t working because I screwed up the data type sizes. I had somewhat carelessly defined the structs on both sides as ints. But while C# uses 32 bit ints, the Arduino environment on AVR uses 16 bit ints. That meant the struct sent by the plugin was larger than the Arduino library was expecting, so your if condition will always fail and so your code never runs.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m going to update the Arduino library to also use 32 bit signed integers for the apsides times for now. But I also want to quickly audit the other data types and make sure they all match. Will push out another Arduino library update either late this evening or tomorrow, and post here again when it\u0027s done.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I\u0027m still preferring floats for the Apside times in the next major revision of this project. But fixing the bug preventing the current behaviour from working at all is important.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-28T12:44:38Z\u0022 title=\u002206/28/2017 12:44  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 28, 2017\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-28T12:58:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223105240\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498653832\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m going to update the Arduino library to also use 32 bit signed integers for the apsides times for now. But I also want to quickly audit the other data types and make sure they all match. Will push out another Arduino library update either late this evening or tomorrow, and post here again when it\u0027s done.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I\u0027m still preferring floats for the Apside times in the next major revision of this project. But fixing the bug preventing the current behaviour from working at all is important.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m glad to hear that. 32bit integers are sufficient for my Simpit Test in the stock system. I don\u0027t plan on flying out kerbins influence, so it\u0027s okai for me for now, too. (That can\u0027t be proper english, looks weird)\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-06-28T13:02:04Z","Content":"\n\u003Cp\u003E\nVersion 1.1.3 of the Arduino library is uploaded and will shortly be available.\n\u003C/p\u003E\n\u003Cp\u003E\n1.1.3 fixes the ApsideTime struct so that apside times can be properly processed by the library.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-29T08:32:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223105262\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498654924\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n1.1.3 fixes the ApsideTime struct so that apside times can be properly processed by the library.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan confirm that it\u0027s working.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223105262\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498654924\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nVersion 1.1.3 of the Arduino library is uploaded and will shortly be available.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWeird and strange seem to be my favourite words these last days. So, the library update process is a bit weird, but only for Simpit, other libraries update normally. If Simpit is updateable I can\u0027t simply update it, because there is one Simpit shown as installed and above one Simpit, where I can choose to install the latest version (or an earlier one).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ZVZwdO3.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022https://i.imgur.com/ZVZwdO3.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI install the first entry and I end up with two Simpit libraries in my folder:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022BKIu44q.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022597\u0022 src=\u0022https://i.imgur.com/BKIu44q.jpg\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\narduino_803933 is the updated, 1.1.3\n\u003C/p\u003E\n\u003Cp\u003E\nKerbal_Sim_Pit is the outdated, 1.1.1\n\u003C/p\u003E\n\u003Cp\u003E\nThan the compiler cries about multiple instances and telling me which instance it\u0027s ignoring, etc. Not a big deal, but I wonder if it\u0027s something I do wrong or if there are some settings you entered to prevent the user from being able to update. Because normally an update button apears and the outdated version is deleted before the latest is being installed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUps. Haha, I think I was just shouting SCENE_CHANGE_MESSAGE doesn\u0027t work on pure luck, because I didn\u0027t register to the SCENE_CHANGE_MESSAGE Chanel.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I have to, don\u0027t I?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-29T08:34:23Z\u0022 title=\u002206/29/2017 08:34  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 29, 2017\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-06-29T08:39:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223106176\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498725160\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThan the compiler cries about multiple instances and telling me which instance it\u0027s ignoring, etc. Not a big deal, but I wonder if it\u0027s something I do wrong or if there are some settings you entered to prevent the user from being able to update. Because normally an update button apears and the outdated version is deleted before the latest is being installed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPretty sure that\u0027s something I\u0027ve done wrong. Trying to rename the library didn\u0027t go as well as expected. But the \u0060arduino_803933\u0060 thing is new to me. \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E I\u0027ll revert my change to the library.properties file in the next release. You may need to uninstall and reinstall the library, but should hopefully be fine after that.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223106176\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498725160\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHaha, I think I was just shouting SCENE_CHANGE_MESSAGE doesn\u0027t work on pure luck\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI still haven\u0027t done anything about this, sorry. \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E Be done by the weekend.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-29T09:33:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223106178\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498725579\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n52 minutes ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI still haven\u0027t done anything about this, sorry. \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E Be done by the weekend.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDon\u0027t rush yourself. I just noticed yesterday, that wouldn\u0027t be working, even if it did work in the first place.\n\u003C/p\u003E\n"},{"CreatedByName":"Gizzum","CreatedById":177494,"CreatedDateTime":"2017-06-29T14:49:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223104163\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498549035\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 27/06/2017 at 8:37 AM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOhhh, I did miss that one. Now I\u0027m feeling like being under pressure delivering, but this step will take a while. First I want to finish the control part.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177494\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0022 rel=\u0022\u0022\u003E@Gizzum\u003C/a\u003E: I found some code from an older project. Can you do me a favor, and draw these on your TFT (I hope your syntax is not toooo different, I don\u0027t know what library you\u0027re using), let\u0027s see the lag with drawing lines and dots, and circles:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus HOLD malen\n//Das macht uns in Zukunft die Positionierung einfacher\n  int x = 47;\n  int y = 55;\n  myGLCD.setColor(0, 255, 0);\n  myGLCD.setFont(SmallFont);\n  myGLCD.print(\u0022~\u0022, x-2, y-1);\n  myGLCD.setFont(BigFont);\n  myGLCD.drawCircle(x, y, 7);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus PROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 80;\n  myGLCD.setColor(255, 255, 51);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x-8, y, x-12, y);\n  myGLCD.drawLine(x\u002B8, y, x\u002B12, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RETROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 105;\n  myGLCD.setColor(255, 255, 51);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x, y-12, x, y-8);\n  myGLCD.drawLine(x\u002B7, y\u002B4, x\u002B10, y\u002B6);\n  myGLCD.drawLine(x-7, y\u002B4, x-10, y\u002B6);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus NORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 130;\n  myGLCD.setColor(255, 0, 255);\n  myGLCD.drawLine(x-9, y\u002B5, x\u002B8, y\u002B5);\n  myGLCD.drawLine(x-9, y\u002B5, x, y-9);\n  myGLCD.drawLine(x, 121, x\u002B8, y\u002B5);\n  myGLCD.drawPixel(x, y);\n  \n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTINORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 155;\n  myGLCD.setColor(255, 0, 255);\n  myGLCD.drawLine(x-9, y-5, x\u002B8, y-5);\n  myGLCD.drawLine(x-9, y-5, x, y\u002B9);\n  myGLCD.drawLine(x, y\u002B9, x\u002B8, y-5);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x, y-12, x, y-5);\n  myGLCD.drawLine(x\u002B5, y\u002B2, x\u002B10, y\u002B6);\n  myGLCD.drawLine(x-5, y\u002B2, x-10, y\u002B6);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 180;\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 3);\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTIRADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 205;\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.drawLine(x-8, y\u002B8, x\u002B8, y-8);\n  myGLCD.drawLine(x-8, y-8, x\u002B8, y\u002B8);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 6);\n  myGLCD.setColor(0, 255, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus TARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 230;\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawCircle(x, y, 7);\n  myGLCD.setColor(0, 0, 0);\n  myGLCD.fillRect(x-2, y-8, x\u002B2, y\u002B8);\n  myGLCD.fillRect(x-8, y\u002B2, x\u002B8, y-2);\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawPixel(x, y);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTITARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 255;\n  myGLCD.setColor(255, 90, 255);\n  myGLCD.drawPixel(x, y);\n  myGLCD.drawLine(x, y\u002B9, x, y\u002B7);\n  myGLCD.drawLine(x\u002B5, y-5, x\u002B8, y-7);\n  myGLCD.drawLine(x-5, y-5, x-8, y-7);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus MANEUVER malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 280;\n  myGLCD.setColor(50, 50, 255);\n  myGLCD.drawLine(x-4, y-8, x\u002B4, y-8);\n  myGLCD.drawLine(x-4, y\u002B6, x-8, y);\n  myGLCD.drawLine(x\u002B4, y\u002B6, x\u002B8, y);\n  myGLCD.drawLine(x, y-7, x, y-5);\n  myGLCD.drawLine(x-6, y\u002B3, x-3, y\u002B1);\n  myGLCD.drawLine(x\u002B6, y\u002B3, x\u002B3, y\u002B1);\n  myGLCD.drawPixel(x, y-1);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nhad to change to code a bit...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Adafruit_GFX.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;MCUFRIEND_kbv.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n#define colour1 0x07E0 //0, 255, 0\n#define colour2 0xFFE6 //255, 255, 51\n#define colour3 0xF81F //255, 0, 255\n#define colour4 0x07FF //0, 255, 255\n#define colour5 0xFADF //255,90,255\n#define colour6 0x319F //50, 50, 255\n#define colour7 0x0000 //0, 0, 0\n#define BLACK   0xFFFF\n// work in line numbers.  Font height in ht\nuint16_t ht = 16, top = 2, line, lines = 28, scroll;\nMCUFRIEND_kbv myGLCD;\nvoid setup()\n{\n  myGLCD.reset();\n  uint16_t id = myGLCD.readID();\n  myGLCD.begin(id);\n  myGLCD.setRotation(0);     //LANDSCAPE\n  myGLCD.fillScreen(BLACK);\n  //\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus HOLD malen\n//Das macht uns in Zukunft die Positionierung einfacher\n  int x = 47;\n  int y = 55;\n  //myGLCD.setColor(0, 255, 0); //colour1\n  //myGLCD.setFont(SmallFont);\n  myGLCD.setCursor(x-2, y-1);\n  myGLCD.print(\u0022~\u0022);\n  //myGLCD.setFont(BigFont);\n  myGLCD.drawCircle(x, y, 7, colour1);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus PROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 80;\n  //myGLCD.setColor(255, 255, 51); //colour2\n  myGLCD.drawCircle(x, y, 7, colour2);\n  myGLCD.drawPixel(x, y, colour2);\n  myGLCD.drawLine(x-8, y, x-12, y, colour2);\n  myGLCD.drawLine(x\u002B8, y, x\u002B12, y, colour2);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RETROGRADE malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 105;\n  //myGLCD.setColor(255, 255, 51); //colour2\n  myGLCD.drawCircle(x, y, 7, colour2);\n  myGLCD.drawLine(x, y-12, x, y-8, colour2);\n  myGLCD.drawLine(x\u002B7, y\u002B4, x\u002B10, y\u002B6, colour2);\n  myGLCD.drawLine(x-7, y\u002B4, x-10, y\u002B6, colour2);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5, colour2);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5, colour2);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus NORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 130;\n  //myGLCD.setColor(255, 0, 255); //colour3\n  myGLCD.drawLine(x-9, y\u002B5, x\u002B8, y\u002B5, colour3);\n  myGLCD.drawLine(x-9, y\u002B5, x, y-9, colour3);\n  myGLCD.drawLine(x, 121, x\u002B8, y\u002B5, colour3);\n  myGLCD.drawPixel(x, y, colour3);\n  \n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTINORMAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 155;\n  //myGLCD.setColor(255, 0, 255); //colour3\n  myGLCD.drawLine(x-9, y-5, x\u002B8, y-5, colour3);\n  myGLCD.drawLine(x-9, y-5, x, y\u002B9, colour3);\n  myGLCD.drawLine(x, y\u002B9, x\u002B8, y-5, colour3);\n  myGLCD.drawPixel(x, y, colour3);\n  myGLCD.drawLine(x, y-12, x, y-5, colour3);\n  myGLCD.drawLine(x\u002B5, y\u002B2, x\u002B10, y\u002B6, colour3);\n  myGLCD.drawLine(x-5, y\u002B2, x-10, y\u002B6, colour3);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus RADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 180;\n  //myGLCD.setColor(0, 255, 255); //colour4\n  myGLCD.drawCircle(x, y, 7, colour4);\n  myGLCD.drawLine(x-5, y\u002B5, x\u002B5, y-5, colour4);\n  myGLCD.drawLine(x-5, y-5, x\u002B5, y\u002B5, colour4);\n  //myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 3, colour7);\n  //myGLCD.setColor(0, 255, 255,);\n  myGLCD.drawPixel(x, y, colour4);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTIRADIAL malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 205;\n  //myGLCD.setColor(0, 255, 255); //colour4\n  myGLCD.drawCircle(x, y, 7, colour4);\n  myGLCD.drawLine(x-8, y\u002B8, x\u002B8, y-8, colour4);\n  myGLCD.drawLine(x-8, y-8, x\u002B8, y\u002B8, colour4);\n  //myGLCD.setColor(0, 0, 0);\n  myGLCD.fillCircle(x, y, 6, colour7);\n  //myGLCD.setColor(0, 255, 255);\n  myGLCD.drawPixel(x, y, colour7);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus TARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 230;\n  //myGLCD.setColor(255, 90, 255); //colour5\n  myGLCD.drawCircle(x, y, 7, colour5);\n  //myGLCD.setColor(0, 0, 0);\n  myGLCD.fillRect(x-2, y-8, x\u002B2, y\u002B8, colour7);\n  myGLCD.fillRect(x-8, y\u002B2, x\u002B8, y-2, colour7);\n  //myGLCD.setColor(255, 90, 255);\n  myGLCD.drawPixel(x, y, colour5);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus ANTITARGET malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 255;\n  //myGLCD.setColor(255, 90, 255); //colour5\n  myGLCD.drawPixel(x, y, colour5);\n  myGLCD.drawLine(x, y\u002B9, x, y\u002B7, colour5);\n  myGLCD.drawLine(x\u002B5, y-5, x\u002B8, y-7, colour5);\n  myGLCD.drawLine(x-5, y-5, x-8, y-7, colour5);\n\n//\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-Modus MANEUVER malen\n//Das macht uns in Zukunft die Positionierung einfacher\n//  x = 47;\n  y = 280;\n  //myGLCD.setColor(50, 50, 255); //colour6\n  myGLCD.drawLine(x-4, y-8, x\u002B4, y-8, colour6);\n  myGLCD.drawLine(x-4, y\u002B6, x-8, y, colour6);\n  myGLCD.drawLine(x\u002B4, y\u002B6, x\u002B8, y, colour6);\n  myGLCD.drawLine(x, y-7, x, y-5, colour6);\n  myGLCD.drawLine(x-6, y\u002B3, x-3, y\u002B1, colour6);\n  myGLCD.drawLine(x\u002B6, y\u002B3, x\u002B3, y\u002B1, colour6);\n  myGLCD.drawPixel(x, y-1, colour6);\n}\nvoid loop() {\n  \n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\ndraws the icons fine but with a big white rectangle over the bottom icons...\n\u003C/p\u003E\n\u003Cp\u003E\nPhoto here...\u00A0\u003Ca href=\u0022http://s347.photobucket.com/user/gizzum1275/profile/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s347.photobucket.com/user/gizzum1275/profile/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI have done a video of the test script from MCUFriend...\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/cd2M92swb-s?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe UNO has started to randomly reset itself. \u00A0I did have this running fine with Altitude messages and Apsides. \u00A0But it will now not even run with that... video here...\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/m8jQezOr8k0?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIs this the same experience you had Benji? I gather this is due to the Uno not being man enough to receive and display at the same time??\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-29T14:58:43Z\u0022 title=\u002206/29/2017 02:58  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 29, 2017\u003C/time\u003E by Gizzum\u003C/strong\u003E\n\u003Cbr\u003Ewrong url\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-29T15:36:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223106345\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498747757\u0022 data-ipsquote-userid=\u0022177494\u0022 data-ipsquote-username=\u0022Gizzum\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n40 minutes ago, Gizzum said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe UNO has started to randomly reset itself. \u00A0I did have this running fine with Altitude messages and Apsides. \u00A0But it will now not even run with that... video here...\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/m8jQezOr8k0?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIs this the same experience you had Benji? I gather this is due to the Uno not being man enough to receive and display at the same time??\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLooks similar to what I experienced with KSPSerialIO. But unlike Simpit, SerialIO didn\u0027t reconnect.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m just guessing here, but it looks like printing TFT stuff isn\u0027t for 16 Mhz processors.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand, stibbons said this:\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nGlad it\u0027s working! The default RefreshRate parameter is 40ms, and it\u00A0\u003Cem\u003Emight\u003C/em\u003E\u00A0be worth tuning that. Decreasing might result in less lag. But if your issue is how quickly the TFT can be refreshed, you might find that\u00A0\u003Cem\u003Eincreasing\u003C/em\u003E\u00A0the RefreshRate\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s probably\u00A0worth pointing out that there\u0027s no ongoing handshake / synchronisation process in my protocol. The hardware can happily ignore/drop packets if it\u0027s not fast enough to process them all. That could easily\u00A0result in display lag, but will not interrupt communications entirely.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo lag is to expected, but there shouldn\u0027t be disconnections. Assuming I understand all of this correctly. Why the uno resets, I don\u0027t know. Perhaps there is something in the logs.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gizzum","CreatedById":177494,"CreatedDateTime":"2017-06-29T16:09:20Z","Content":"\n\u003Cp\u003E\nYeah... played with the refresh rate and at 200 it still bins out. \u00A0I dont think the uno is man enough to do it all. \u00A0If i reduce the amount it displays then it takes a while longer before resetting. \u00A0May have to do seven segment displays for altitude and use the tft for something else... \u00A0Or can I just get a better Arduino?\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-29T16:26:13Z","Content":"\n\u003Cp\u003E\nI just checked, if perhaps I\u0027m getting disconnects with this new (1.1.3 Simpit) version, but it runs good.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou can switch to the DUE. That fixed it for me.\n\u003C/p\u003E\n\u003Cp\u003E\nI ran into some problems but these were solvable. Mainly converting between 32bit and 16bit integers, and stuff like that. And Arduino IDE compiles way slower for the DUE, it\u0027s a bit annoying, but not really bad.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-29T16:51:20Z","Content":"\n\u003Cp\u003E\nOh, and if you use potis and volt-meters you have to tune your code a bit, because the DUE works with 3.3V instead of 5V. digitalWrite(\u0026lt;something\u0026gt;, HIGH) gives you 3.3V. Inputs above will probably melt something.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd you need to change resistors for your LEDs.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2017-06-29T17:28:40Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177494\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177494-gizzum/\u0022 rel=\u0022\u0022\u003E@Gizzum\u003C/a\u003E: Did a longer test, had a craft orbit kerbin, did nothing and had two Arduino resets.\n\u003C/p\u003E\n\u003Cp\u003E\nThe first reset after 4 minutes followed by this in the log:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\n[ERR 19:00:56.099] Exception handling event toSerial17 in class KSPSerialPort:System.TimeoutException: The operation has timed-out.\n  at KerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at (wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n  at KerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 19:00:56.490] TimeoutException: The operation has timed-out.\n\tKerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\tKerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\t(wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n\tKerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data)\n\tEventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1)\n\tUnityEngine.Debug:LogException(Exception)\n\tEventData\u00602:Fire(Byte, Object)\n\tKerbalSimpit.Providers.KerbalSimpitResourceProvider:ElectricProvider()\n\tKerbalSimpit.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;EventWorker\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__AnonStorey0:\u0026lt;\u0026gt;m__0()\n\tKerbalSimpit.KSPit:EventWorker()\n[ERR 19:00:56.723] Exception handling event toSerial22 in class KSPSerialPort:System.TimeoutException: The operation has timed-out.\n  at KerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at (wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n  at KerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 19:00:56.741] TimeoutException: The operation has timed-out.\n\tKerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\tKerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\t(wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n\tKerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data)\n\tEventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1)\n\tUnityEngine.Debug:LogException(Exception)\n\tEventData\u00602:Fire(Byte, Object)\n\tKerbalSimpit.Providers.KerbalSimpitTelemetryProvider:VelocityProvider()\n\tKerbalSimpit.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;EventWorker\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__AnonStorey0:\u0026lt;\u0026gt;m__0()\n\tKerbalSimpit.KSPit:EventWorker()\n[ERR 19:00:56.907] Exception handling event toSerial24 in class KSPSerialPort:System.TimeoutException: The operation has timed-out.\n  at KerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at (wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n  at KerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 19:00:56.926] TimeoutException: The operation has timed-out.\n\tKerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\tKerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\t(wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n\tKerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data)\n\tEventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1)\n\tUnityEngine.Debug:LogException(Exception)\n\tEventData\u00602:Fire(Byte, Object)\n\tKerbalSimpit.Providers.KerbalSimpitTelemetryProvider:ApsidesTimeProvider()\n\tKerbalSimpit.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;EventWorker\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__AnonStorey0:\u0026lt;\u0026gt;m__0()\n\tKerbalSimpit.KSPit:EventWorker()\n[ERR 19:00:57.842] Exception handling event toSerial9 in class KSPSerialPort:System.TimeoutException: The operation has timed-out.\n  at KerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at (wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n  at KerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 19:00:57.849] TimeoutException: The operation has timed-out.\n\tKerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\tKerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\t(wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n\tKerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data)\n\tEventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1)\n\tUnityEngine.Debug:LogException(Exception)\n\tEventData\u00602:Fire(Byte, Object)\n\tKerbalSimpit.Providers.KerbalSimpitTelemetryProvider:ApsidesProvider()\n\tKerbalSimpit.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;EventWorker\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__AnonStorey0:\u0026lt;\u0026gt;m__0()\n\tKerbalSimpit.KSPit:EventWorker()\n[ERR 19:00:58.030] Exception handling event toSerial17 in class KSPSerialPort:System.TimeoutException: The operation has timed-out.\n  at KerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at (wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n  at KerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 19:00:58.037] TimeoutException: The operation has timed-out.\n\tKerbalSimpit.IO.Ports.WinSerialStream.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\tKerbalSimpit.IO.Ports.SerialPort.Write (System.Byte[] buffer, Int32 offset, Int32 count)\n\t(wrapper remoting-invoke-with-check) KerbalSimpit.IO.Ports.SerialPort:Write (byte[],int,int)\n\tKerbalSimpit.Serial.KSPSerialPort.sendPacket (Byte Type, System.Object Data)\n\tEventData\u00602[System.Byte,System.Object].Fire (Byte data0, System.Object data1)\n\tUnityEngine.Debug:LogException(Exception)\n\tEventData\u00602:Fire(Byte, Object)\n\tKerbalSimpit.Providers.KerbalSimpitResourceProvider:ElectricProvider()\n\tKerbalSimpit.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;EventWorker\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__AnonStorey0:\u0026lt;\u0026gt;m__0()\n\tKerbalSimpit.KSPit:EventWorker()\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAfter a minute or two the Arduino got messages again and showed all values (apo, alt, peri, times to apo and peri) correctly, but the log is still spammed with these messages.\n\u003C/p\u003E\n\u003Cp\u003E\nAt around 19:16... I had another reset but this time the arduino waited for a connection for 5 minutes, changing scenes didn\u0027t help the ppor guy. Then I switched of.\n\u003C/p\u003E\n\u003Cp\u003E\nAt the end of the log, it\u0027s mostly toSerial17, toSerial8, toSerial24 and toSerial9 . But in some odd variations. two times 17 then 1 time 8, 3 times 9, two times 17, and so on.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAt the end, when the Arduino claimed to wait for a connection, the log got some of these entries: [LOG 19:16:06.739] KerbalSimpit: SYN received on port COM4. Replying.\u00A0\u00A0\u00A0 - about every half second.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-29T17:30:27Z\u0022 title=\u002206/29/2017 05:30  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 29, 2017\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-06-29T21:22:20Z","Content":"\n\u003Cp\u003E\nThanks for the report. I\u0027ll try to replicate it over the weekend.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-07-01T12:03:07Z","Content":"\n\u003Cp\u003E\nOK, now that I\u0027m actually awake and looking at those exceptions properly...\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m able to reproduce it with a sketch that subscribes to half a dozen channels, and it happens on all three operating systems. Current theory is that it\u0027s happening because I\u0027ve gotten careless and multiple threads are trying to write to the port. Will straighten that out and see how it goes.\n\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2017-07-02T14:05:10Z","Content":"\n\u003Cp\u003E\nOh man, where did the last two weeks go? \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI really should get back to working on my project. I even got a Mega from my cousin, to replace my struggling Uno.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-07-02T15:47:53Z","Content":"\n\u003Cp\u003E\nVersion 1.2.1 of the plugin is uploaded and should be available soon.\n\u003C/p\u003E\n\u003Cp\u003E\nChanges:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nSerial port wrapper now buffers to an internal queue. This prevents multiple threads from writing to the serial port, which looks to me like the root cause of the TimeoutExceptions that the plugin was throwing with several channels registered. My test setup runs for around an hour without logging any exceptions.\n\u003C/li\u003E\n\u003Cli\u003E\nI\u0027ve increased the default RefreshRate in the sample config file to 125. Don\u0027t yet have a root cause for why Arduino boards occasionally reset running code that uses my KerbalSimpit library, but I\u0027m hoping the slower refresh rate will help.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027ve been testing this release with a small setup consisting of an I2C LCD connected to an Arduino Mega. The Mega subscribes to six channels, and displays an altitude readout on the screen. Somewhere around the one hour mark it seems to be resetting, sending another sync request, and a little while after that the display stops updating. My current theory is memory leaks in the Arduino library, but I\u0027d need to poke at it a fair bit more to figure out what\u0027s going on.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223108979\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499004310\u0022 data-ipsquote-userid=\u002295210\u0022 data-ipsquote-username=\u0022monstah\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, monstah said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh man, where did the last two weeks go?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t know, but I\u0027m impressed that you managed to once again appear just as I was committing code for this. \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2017-07-08T03:56:18Z","Content":"\n\u003Cp\u003E\nI got a mock up to work with Win 7 and a Due, just sending some simple telemetry. Coming from KSPSerialIO, the code structure takes a little change of mindset, but this shows a lot of promise. I consider rebuilding my controller (again), using WS2812 led strips instead of MAX7219 for annuciators and make a matrix keypad that will be used both for the plugin and the Due keyboard library instead of having an old keyboard IC mounted for commands that does not go through the plugin. I will probably do this in stages, and I just agreed taking a few weeks of on a trip with my family, so it can take a while before I get around to bother you with questions and requests.\n\u003C/p\u003E\n"}]}