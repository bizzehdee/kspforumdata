{"TopicId":101540,"ForumId":34,"TopicTitle":"[1.4.x] TweakScale v2.3.12(Apr-16)","CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2015-03-08T17:31:16Z","PageNum":43,"Articles":[{"CreatedByName":"Tex","CreatedById":75164,"CreatedDateTime":"2017-02-08T23:59:23Z","Content":"Excellent! I have some projects that I need that one specific part scaled for, thanks a bunch."},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-02-13T14:55:37Z","Content":"\u003E \n\u003E \n\u003E On 30.1.2017 at 7:06 PM, pellinor said:\n\u003E \n\u003E \n\u003E ~~Hmm, then it looks like the issue fixed itself. If you see no warning or exception, TweakScale should have done its things without running into problems. I just don\u0027t see how my code change should have fixed it (if the warning lines never get called).~~\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Never mind I didn\u0027t pay attention when reading. Will add a proper try..catch this time.\n\u003E \n\n[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/)\n\nAh, got you. I thought you already found the cause, but that only fixed the debug version.  \n\nDid another run. Did this helps? Need another thing to test? This is a highly modded install, tho.  \n\nIt occurs on game load even before the KSP main menu. Or on the main menu.\n\n    170213T155240.656 [INFO] [SCANsat.SCANcontroller.getResourceNode] [SCANsat] SCANsat resource [Regolith] cannot be found in master resource storage list\n    170213T155240.656 [INFO] [SCANsat.SCANcontroller.getResourceNode] [SCANsat] SCANsat resource [Regolith] cannot be found in master resource storage list\n    170213T155240.657 [INFO] [SCANsat.SCANcontroller.getResourceNode] [SCANsat] SCANsat resource [Regolith] cannot be found in master resource storage list\n    170213T155240.735 [INFO] [TweakScale.PrefabDryCostWriter.Start] TweakScale::PrefabDryCostWriter: Start\n    170213T155240.737 [ERROR] [TweakScale.PrefabDryCostWriter.WriteDryCost] [TweakScale] Exception on writeDryCost: System.NullReferenceException: Object reference not set to an instance of an object\n      at PartModuleList.Contains (Int32 classID) [0x00000] in  unknown\u003E:0 \n      at PartModuleList.Contains (System.String className) [0x00000] in  unknown\u003E:0 \n      at TweakScale.PrefabDryCostWriter.WriteDryCost () [0x00000] in  unknown\u003E:0 \n    170213T155240.738 [INFO] [TweakScale.PrefabDryCostWriter.WriteDryCost] [TweakScale] part=kerbalEVA ()\n    170213T155240.738 [ERROR] [TweakScale.PrefabDryCostWriter.WriteDryCost] [TweakScale] Exception on writeDryCost: System.NullReferenceException: Object reference not set to an instance of an object\n      at PartModuleList.Contains (Int32 classID) [0x00000] in  unknown\u003E:0 \n      at PartModuleList.Contains (System.String className) [0x00000] in  unknown\u003E:0 \n      at TweakScale.PrefabDryCostWriter.WriteDryCost () [0x00000] in  unknown\u003E:0 \n    170213T155240.739 [INFO] [TweakScale.PrefabDryCostWriter.WriteDryCost] [TweakScale] part=kerbalEVAfemale ()\n    170213T155240.742 [ERROR] [TweakScale.PrefabDryCostWriter.WriteDryCost] TweakScale::PrefabDryCostWriter: negative dryCost: part=KspiOreTank, DryCost=-3750\n    170213T155240.743 [ERROR] [TweakScale.PrefabDryCostWriter.WriteDryCost] TweakScale::PrefabDryCostWriter: negative dryCost: part=HexaboraneTank, DryCost=-0.0003814697\n    170213T155240.743 [ERROR] [TweakScale.PrefabDryCostWriter.WriteDryCost] TweakScale::PrefabDryCostWriter: negative dryCost: part=HexCanLithium, DryCost=-3.33786E-05\n    170213T155240.745 [INFO] [ScienceChecklist.Logger.WriteMessage] [2/13/2017 3:52:40 PM [x] Science!]:  (ScienceChecklistAddon) - Start\n    170213T155240.764 [INFO] [ScienceChecklist.Logger.WriteMessage] [2/13/2017 3:52:40 PM [x] Science!]:  (ScienceChecklistAddon) - Done Start\n\nI searched for KerbalEVAFemale in the CFGs in my gamedata and it\u0027s getting modified by EvaEnhancementsContinued:\n\nSpoiler\n\n// Sets the initial propellant amount to zero, will be managed by this mod instead  \n\n@PART[kerbalEVA|kerbalEVAfemale]  \n\n{  \n\n    @MODULE[KerbalEVA]  \n\n    {  \n\n        %propellantResourceDefaultAmount = 0  \n\n    }  \n\n}\n\nAnd TweakableEverything:\n\nSpoiler\n\n@PART[kerbalEVA||kerbalEVAfemale]:NEEDS[!EVAEnhancements]  \n\n{  \n\n    MODULE  \n\n    {  \n\n        name = ModuleTweakableEVA  \n\n    }  \n\n}\n\nIf this helps.\n\n**Edited \u003Ctime datetime=\u00222017-02-13T14:59:05Z\u0022 title=\u002202/13/2017 02:59  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 13, 2017\u003C/time\u003E by Jebs\\_SY**"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-13T20:31:38Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Jebs\\_SY said:\n\u003E \n\u003E \n\u003E I searched for KerbalEVAFemale in the CFGs in my gamedata and it\u0027s getting modified by EvaEnhancementsContinued:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If this helps.\n\u003E \n\nYes, this helps. It tells that you have a TweakScale module on KerbalEva and KerbalEvaFemale. Which is not a good idea. Maybe you have some blanket patch active that tries to make everything scaleable?"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-13T20:40:47Z","Content":"[@Jebs_SY](https://forum.kerbalspaceprogram.com/index.php?/profile/169510-jebs_sy/)\n\nMaybe check EVAFuel, if you have that ?"},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-02-13T21:04:00Z","Content":"\u003E \n\u003E \n\u003E 18 minutes ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E [@Jebs_SY](https://forum.kerbalspaceprogram.com/index.php?/profile/169510-jebs_sy/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Maybe check EVAFuel, if you have that ?\n\u003E \n\nUnfortunately, not. Didn\u0027t used that, yet.\n\n\u003E \n\u003E \n\u003E 27 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E Yes, this helps. It tells that you have a TweakScale module on KerbalEva and KerbalEvaFemale. Which is not a good idea. Maybe you have some blanket patch active that tries to make everything scaleable?\n\u003E \n\n\u0022Have\u0022 or \u0022Tries to add\u0022 the module?\n\nAccording to the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E confic cache they don\u0027t have a \u0022TweakScale\u0022 module:\n\nSpoiler\n\nUrlConfig  \n\n{  \n\n    name = kerbalEVAfemale  \n\n    type = PART  \n\n    parentUrl = Squad/Parts/Prebuilt/kerbalEVAfemale  \n\n    url = Squad/Parts/Prebuilt/kerbalEVAfemale/kerbalEVAfemale  \n\n    PART  \n\n    {  \n\n        name = kerbalEVAfemale  \n\n        crashTolerance = 50  \n\n        maxTemp = 800  \n\n        skinMaxTemp = 800  \n\n        boundsCentroidOffset = 0.0, 0.25, 0.2  \n\n        CenterOfDisplacement = 0.0, 0.1, 0.0  \n\n        CenterOfBuoyancy = 0.0, 0.1, 0.0  \n\n        dragModelType = default  \n\n        MODULE  \n\n        {  \n\n            name = KerbalEVA  \n\n            \\_\\_OVERLOAD = True  \n\n            isCfg = True  \n\n            walkSpeed = 0.8  \n\n            strafeSpeed = 0.5  \n\n            runSpeed = 2.2  \n\n            turnRate = 4  \n\n            maxJumpForce = 10  \n\n            boundForce = 1  \n\n            boundSpeed = 0.8  \n\n            boundThreshold = 0.04  \n\n            swimSpeed = 0.8  \n\n            waterAngularDragMultiplier = 0.01  \n\n            ladderClimbSpeed = 0.60  \n\n            ladderPushoffForce = 3  \n\n            minWalkingGee = 0.17  \n\n            minRunningGee = 0.6  \n\n            initialMass = 3.125  \n\n            massMultiplier = 0.03  \n\n            onFallHeightFromTerrain = 0.3  \n\n            clamberMaxAlt = 100  \n\n            splatEnabled = True  \n\n            splatSpeed = 50  \n\n            propellantResourceName = EVA Propellant  \n\n            boundFrequency = 0.15  \n\n            boundSharpness = 0.3  \n\n            boundAttack = 0.4  \n\n            boundRelease = 2  \n\n            boundFallThreshold = 1.5  \n\n            \\_flags = 1  \n\n            flagReach = 0.3  \n\n            Kp = 0.7  \n\n            Ki = 0.25  \n\n            Kd = 0.300000012  \n\n            iC = 0.005  \n\n            rotPower = 1  \n\n            linPower = 10  \n\n            PropellantConsumption = 0.025  \n\n            stumbleThreshold = 3.5  \n\n            hopThreshold = 2  \n\n            recoverThreshold = 0.6  \n\n            recoverTime = 3  \n\n            splatThreshold = 150  \n\n            clamberReach = 0.9  \n\n            clamberStandoff = 0.45  \n\n            propellantResourceDefaultAmount = 0  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleScienceExperiment  \n\n            experimentID = surfaceSample  \n\n            experimentActionName = Take Surface Sample  \n\n            resetActionName = Discard Sample  \n\n            reviewActionName = Review Sample  \n\n            hideUIwhenUnavailable = True  \n\n            rerunnable = True  \n\n            resettable = True  \n\n            resettableOnEVA = False  \n\n            hideFxModuleUI = True  \n\n            resourceToReset = Supplies  \n\n            resourceResetCost = 5  \n\n            xmitDataScalar = 0.25  \n\n            dataIsCollectable = True  \n\n            deployableSeated = False  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleScienceExperiment  \n\n            experimentID = evaReport  \n\n            experimentActionName = EVA Report  \n\n            resetActionName = Discard Report  \n\n            reviewActionName = Review Report  \n\n            hideUIwhenUnavailable = True  \n\n            rerunnable = True  \n\n            resettable = True  \n\n            resettableOnEVA = False  \n\n            hideFxModuleUI = True  \n\n            resourceToReset = Supplies  \n\n            resourceResetCost = 5  \n\n            xmitDataScalar = 1  \n\n            dataIsCollectable = True  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleScienceContainer  \n\n            allowRepeatedSubjects = True  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = FlagDecal  \n\n            textureQuadName = kbEVA\\_flagDecals  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleTripLogger  \n\n        }  \n\n        RESOURCE  \n\n        {  \n\n            name = EVA Propellant  \n\n            amount = 5  \n\n            maxAmount = 5  \n\n            isTweakable = False  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleAGX  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleKISInventory  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleKISPickup  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleTweakableEVA  \n\n        }  \n\n    }  \n\n}\n\nI am searching the configs, what could try to add a \u0022TweakScale\u0022 module via a wildcard that would match to \u0022kerbalEVAfemale\u0022, but no luck yet.  \n\nI have ~190 mods, tho. But I am not aware of something, that adds a tweakscale module to everything. Also I don\u0027t have tweakscale functionality on everything. Hmm.  \n\nContinue searching for a wildcard that could match."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-13T21:18:10Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, Jebs\\_SY said:\n\u003E \n\u003E \n\u003E Unfortunately, not. Didn\u0027t used that, yet.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u0022Have\u0022 or \u0022Tries to add\u0022 the module?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E According to the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E confic cache they don\u0027t have a \u0022TweakScale\u0022 module:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I am searching the configs, what could try to add a \u0022TweakScale\u0022 module via a wildcard that would match to \u0022kerbalEVAfemale\u0022, but no luck yet.  \n\u003E \n\u003E I have ~190 mods, tho. But I am not aware of something, that adds a tweakscale module to everything. Also I don\u0027t have tweakscale functionality on everything. Hmm.  \n\u003E \n\u003E Continue searching for a wildcard that could match.\n\u003E \n\nHmm, then I have no idea what happened there. The code should only treat parts with a TweakScale module, and it does not trip over KerbalEva in my install. In any case the exceptions are properly catched now (otherwise you would not see the second one) and dryCost should be written properly for all other parts."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-13T21:29:13Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, Jebs\\_SY said:\n\u003E \n\u003E \n\u003E Unfortunately, not. Didn\u0027t used that, yet.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u0022Have\u0022 or \u0022Tries to add\u0022 the module?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E According to the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E confic cache they don\u0027t have a \u0022TweakScale\u0022 module:\n\u003E \n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E UrlConfig  \n\u003E \n\u003E {  \n\u003E \n\u003E     name = kerbalEVAfemale  \n\u003E \n\u003E     type = PART  \n\u003E \n\u003E     parentUrl = Squad/Parts/Prebuilt/kerbalEVAfemale  \n\u003E \n\u003E     url = Squad/Parts/Prebuilt/kerbalEVAfemale/kerbalEVAfemale  \n\u003E \n\u003E     PART  \n\u003E \n\u003E     {  \n\u003E \n\u003E         name = kerbalEVAfemale  \n\u003E \n\u003E         crashTolerance = 50  \n\u003E \n\u003E         maxTemp = 800  \n\u003E \n\u003E         skinMaxTemp = 800  \n\u003E \n\u003E         boundsCentroidOffset = 0.0, 0.25, 0.2  \n\u003E \n\u003E         CenterOfDisplacement = 0.0, 0.1, 0.0  \n\u003E \n\u003E         CenterOfBuoyancy = 0.0, 0.1, 0.0  \n\u003E \n\u003E         dragModelType = default  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = KerbalEVA  \n\u003E \n\u003E             \\_\\_OVERLOAD = True  \n\u003E \n\u003E             isCfg = True  \n\u003E \n\u003E             walkSpeed = 0.8  \n\u003E \n\u003E             strafeSpeed = 0.5  \n\u003E \n\u003E             runSpeed = 2.2  \n\u003E \n\u003E             turnRate = 4  \n\u003E \n\u003E             maxJumpForce = 10  \n\u003E \n\u003E             boundForce = 1  \n\u003E \n\u003E             boundSpeed = 0.8  \n\u003E \n\u003E             boundThreshold = 0.04  \n\u003E \n\u003E             swimSpeed = 0.8  \n\u003E \n\u003E             waterAngularDragMultiplier = 0.01  \n\u003E \n\u003E             ladderClimbSpeed = 0.60  \n\u003E \n\u003E             ladderPushoffForce = 3  \n\u003E \n\u003E             minWalkingGee = 0.17  \n\u003E \n\u003E             minRunningGee = 0.6  \n\u003E \n\u003E             initialMass = 3.125  \n\u003E \n\u003E             massMultiplier = 0.03  \n\u003E \n\u003E             onFallHeightFromTerrain = 0.3  \n\u003E \n\u003E             clamberMaxAlt = 100  \n\u003E \n\u003E             splatEnabled = True  \n\u003E \n\u003E             splatSpeed = 50  \n\u003E \n\u003E             propellantResourceName = EVA Propellant  \n\u003E \n\u003E             boundFrequency = 0.15  \n\u003E \n\u003E             boundSharpness = 0.3  \n\u003E \n\u003E             boundAttack = 0.4  \n\u003E \n\u003E             boundRelease = 2  \n\u003E \n\u003E             boundFallThreshold = 1.5  \n\u003E \n\u003E             \\_flags = 1  \n\u003E \n\u003E             flagReach = 0.3  \n\u003E \n\u003E             Kp = 0.7  \n\u003E \n\u003E             Ki = 0.25  \n\u003E \n\u003E             Kd = 0.300000012  \n\u003E \n\u003E             iC = 0.005  \n\u003E \n\u003E             rotPower = 1  \n\u003E \n\u003E             linPower = 10  \n\u003E \n\u003E             PropellantConsumption = 0.025  \n\u003E \n\u003E             stumbleThreshold = 3.5  \n\u003E \n\u003E             hopThreshold = 2  \n\u003E \n\u003E             recoverThreshold = 0.6  \n\u003E \n\u003E             recoverTime = 3  \n\u003E \n\u003E             splatThreshold = 150  \n\u003E \n\u003E             clamberReach = 0.9  \n\u003E \n\u003E             clamberStandoff = 0.45  \n\u003E \n\u003E             propellantResourceDefaultAmount = 0  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleScienceExperiment  \n\u003E \n\u003E             experimentID = surfaceSample  \n\u003E \n\u003E             experimentActionName = Take Surface Sample  \n\u003E \n\u003E             resetActionName = Discard Sample  \n\u003E \n\u003E             reviewActionName = Review Sample  \n\u003E \n\u003E             hideUIwhenUnavailable = True  \n\u003E \n\u003E             rerunnable = True  \n\u003E \n\u003E             resettable = True  \n\u003E \n\u003E             resettableOnEVA = False  \n\u003E \n\u003E             hideFxModuleUI = True  \n\u003E \n\u003E             resourceToReset = Supplies  \n\u003E \n\u003E             resourceResetCost = 5  \n\u003E \n\u003E             xmitDataScalar = 0.25  \n\u003E \n\u003E             dataIsCollectable = True  \n\u003E \n\u003E             deployableSeated = False  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleScienceExperiment  \n\u003E \n\u003E             experimentID = evaReport  \n\u003E \n\u003E             experimentActionName = EVA Report  \n\u003E \n\u003E             resetActionName = Discard Report  \n\u003E \n\u003E             reviewActionName = Review Report  \n\u003E \n\u003E             hideUIwhenUnavailable = True  \n\u003E \n\u003E             rerunnable = True  \n\u003E \n\u003E             resettable = True  \n\u003E \n\u003E             resettableOnEVA = False  \n\u003E \n\u003E             hideFxModuleUI = True  \n\u003E \n\u003E             resourceToReset = Supplies  \n\u003E \n\u003E             resourceResetCost = 5  \n\u003E \n\u003E             xmitDataScalar = 1  \n\u003E \n\u003E             dataIsCollectable = True  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleScienceContainer  \n\u003E \n\u003E             allowRepeatedSubjects = True  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = FlagDecal  \n\u003E \n\u003E             textureQuadName = kbEVA\\_flagDecals  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleTripLogger  \n\u003E \n\u003E         }  \n\u003E \n\u003E         RESOURCE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = EVA Propellant  \n\u003E \n\u003E             amount = 5  \n\u003E \n\u003E             maxAmount = 5  \n\u003E \n\u003E             isTweakable = False  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleAGX  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleKISInventory  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleKISPickup  \n\u003E \n\u003E         }  \n\u003E \n\u003E         MODULE  \n\u003E \n\u003E         {  \n\u003E \n\u003E             name = ModuleTweakableEVA  \n\u003E \n\u003E         }  \n\u003E \n\u003E     }  \n\u003E \n\u003E }\n\u003E \n\u003E \n\u003E \n\u003E I am searching the configs, what could try to add a \u0022TweakScale\u0022 module via a wildcard that would match to \u0022kerbalEVAfemale\u0022, but no luck yet.  \n\u003E \n\u003E I have ~190 mods, tho. But I am not aware of something, that adds a tweakscale module to everything. Also I don\u0027t have tweakscale functionality on everything. Hmm.  \n\u003E \n\u003E Continue searching for a wildcard that could match.\n\u003E \n\nOh, so a mod is adding it on the fly.  \n\nLook at TweakableEverything, it might be in there"},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-02-13T21:30:04Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E Hmm, then I have no idea what happened there. The code should only treat parts with a TweakScale module, and it does not trip over KerbalEva in my install. In any case the exceptions are properly catched now (otherwise you would not see the second one) and dryCost should be written properly for all other parts.\n\u003E \n\nSo this is catched in the next version?\n\nI removed all the EVA-stuff mods and all the mods that added modules to kerbalEVAfemale. In the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E cache, kerbalEVAfemalelooks relative stock now. Launched, still get the error.\n\nSpoiler\n\nUrlConfig  \n\n{  \n\n    name = kerbalEVAfemale  \n\n    type = PART  \n\n    parentUrl = Squad/Parts/Prebuilt/kerbalEVAfemale  \n\n    url = Squad/Parts/Prebuilt/kerbalEVAfemale/kerbalEVAfemale  \n\n    PART  \n\n    {  \n\n        name = kerbalEVAfemale  \n\n        crashTolerance = 50  \n\n        maxTemp = 800  \n\n        skinMaxTemp = 800  \n\n        boundsCentroidOffset = 0.0, 0.25, 0.2  \n\n        CenterOfDisplacement = 0.0, 0.1, 0.0  \n\n        CenterOfBuoyancy = 0.0, 0.1, 0.0  \n\n        dragModelType = default  \n\n        MODULE  \n\n        {  \n\n            name = KerbalEVA  \n\n            \\_\\_OVERLOAD = True  \n\n            isCfg = True  \n\n            walkSpeed = 0.8  \n\n            strafeSpeed = 0.5  \n\n            runSpeed = 2.2  \n\n            turnRate = 4  \n\n            maxJumpForce = 10  \n\n            boundForce = 1  \n\n            boundSpeed = 0.8  \n\n            boundThreshold = 0.04  \n\n            swimSpeed = 0.8  \n\n            waterAngularDragMultiplier = 0.01  \n\n            ladderClimbSpeed = 0.60  \n\n            ladderPushoffForce = 3  \n\n            minWalkingGee = 0.17  \n\n            minRunningGee = 0.6  \n\n            initialMass = 3.125  \n\n            massMultiplier = 0.03  \n\n            onFallHeightFromTerrain = 0.3  \n\n            clamberMaxAlt = 100  \n\n            splatEnabled = True  \n\n            splatSpeed = 50  \n\n            propellantResourceName = EVA Propellant  \n\n            boundFrequency = 0.15  \n\n            boundSharpness = 0.3  \n\n            boundAttack = 0.4  \n\n            boundRelease = 2  \n\n            boundFallThreshold = 1.5  \n\n            \\_flags = 1  \n\n            flagReach = 0.3  \n\n            Kp = 0.7  \n\n            Ki = 0.25  \n\n            Kd = 0.300000012  \n\n            iC = 0.005  \n\n            rotPower = 1  \n\n            linPower = 10  \n\n            PropellantConsumption = 0.025  \n\n            stumbleThreshold = 3.5  \n\n            hopThreshold = 2  \n\n            recoverThreshold = 0.6  \n\n            recoverTime = 3  \n\n            splatThreshold = 150  \n\n            clamberReach = 0.9  \n\n            clamberStandoff = 0.45  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleScienceExperiment  \n\n            experimentID = surfaceSample  \n\n            experimentActionName = Take Surface Sample  \n\n            resetActionName = Discard Sample  \n\n            reviewActionName = Review Sample  \n\n            hideUIwhenUnavailable = True  \n\n            rerunnable = True  \n\n            resettable = True  \n\n            resettableOnEVA = False  \n\n            hideFxModuleUI = True  \n\n            resourceToReset = Supplies  \n\n            resourceResetCost = 5  \n\n            xmitDataScalar = 0.25  \n\n            dataIsCollectable = True  \n\n            deployableSeated = False  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleScienceExperiment  \n\n            experimentID = evaReport  \n\n            experimentActionName = EVA Report  \n\n            resetActionName = Discard Report  \n\n            reviewActionName = Review Report  \n\n            hideUIwhenUnavailable = True  \n\n            rerunnable = True  \n\n            resettable = True  \n\n            resettableOnEVA = False  \n\n            hideFxModuleUI = True  \n\n            resourceToReset = Supplies  \n\n            resourceResetCost = 5  \n\n            xmitDataScalar = 1  \n\n            dataIsCollectable = True  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleScienceContainer  \n\n            allowRepeatedSubjects = True  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = FlagDecal  \n\n            textureQuadName = kbEVA\\_flagDecals  \n\n        }  \n\n        MODULE  \n\n        {  \n\n            name = ModuleTripLogger  \n\n        }  \n\n        RESOURCE  \n\n        {  \n\n            name = EVA Propellant  \n\n            amount = 5  \n\n            maxAmount = 5  \n\n            isTweakable = False  \n\n        }  \n\n    }  \n\n}\n\n\u003E \n\u003E \n\u003E 3 minutes ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E Oh, so a mod is adding it on the fly.  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Look at TweakableEverything, it might be in there\n\u003E \n\nThx. But already removed. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) Still there. I wonder if I should track this further. Is this worth anything to track this?"},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-02-13T22:33:12Z","Content":"[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/) [@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/)\n\nOK, I played the \u0022remove the mods and test again\u0022 game and lifted the secret. It\u0027s HullcamVDS Continued. For whatever reason.\n\n-removed HullCam =\u003E NRE gone  \n\n-added Hullcam =\u003E NRE back  \n\n-removed Modulemanager (to have NO CFG patches) =\u003E NRE still there  \n\n-removed Hullcam.dll =\u003E NRE gone.\n\nI searched the Hullcam code for \u0022tweakscale\u0022, didn\u0027t found any references at all =\u003E out of ideas.\n\nHowever, I can live with it and when the log entry is catched with the next tweakscale version it\u0027s even better.  \n\nBut maybe linuxgurugamer want\u0027s to know.\n\n**Edited \u003Ctime datetime=\u00222017-02-13T22:33:33Z\u0022 title=\u002202/13/2017 10:33  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 13, 2017\u003C/time\u003E by Jebs\\_SY**"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-13T22:44:39Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, Jebs\\_SY said:\n\u003E \n\u003E \n\u003E [@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/) [@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E OK, I played the \u0022remove the mods and test again\u0022 game and lifted the secret. It\u0027s HullcamVDS Continued. For whatever reason.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E -removed HullCam =\u003E NRE gone  \n\u003E \n\u003E -added Hullcam =\u003E NRE back  \n\u003E \n\u003E -removed Modulemanager (to have NO CFG patches) =\u003E NRE still there  \n\u003E \n\u003E -removed Hullcam.dll =\u003E NRE gone.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I searched the Hullcam code for \u0022tweakscale\u0022, didn\u0027t found any references at all =\u003E out of ideas.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E However, I can live with it and when the log entry is catched with the next tweakscale version it\u0027s even better.  \n\u003E \n\u003E But maybe linuxgurugamer want\u0027s to know.\n\u003E \n\nHullcamVDS adds a module at runtime in the Awake code, but it\u0027s adding a module for a camera, nothing to do with Tweakscale:\n\n     public void Awake() {\n    \n                    ConfigNode EVA = new ConfigNode(\u0022MODULE\u0022);\n                    EVA.AddValue(\u0022name\u0022, \u0022EVACamera\u0022);\n                    EVA.AddValue(\u0022cameraName\u0022, \u0022EVACam\u0022);\n    \n                    try {\n    \n                            PartLoader.getPartInfoByName(\u0022kerbalEVA\u0022).partPrefab.AddModule(EVA);\n                    }\n                    catch{}\n                    try { PartLoader.getPartInfoByName(\u0022kerbalEVAfemale\u0022).partPrefab.AddModule(EVA);\n                    }\n                    catch {}\n            }\n\n[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/) I don\u0027t really know what Tweakscale is doing interally, would this new module added at runtime cause an issue?\n\n[@Jebs_SY](https://forum.kerbalspaceprogram.com/index.php?/profile/169510-jebs_sy/) How are you getting this error?  Can you give me a specific case I can try to replicate?\n\n[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/) I looked at the code on Github and didn\u0027t see anything which jumped out at me.  Can I assume the master branch is current?"},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-02-13T22:51:06Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E How are you getting this error?  Can you give me a specific case I can try to replicate?\n\u003E \n\nWell, at least that\u0027s easy this time. Load the game until main menu. Should be in log then."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-13T22:51:24Z","Content":"[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/)\n\nThe error appears to be on this line:\n\n     if (!prefab.Modules.Contains(\u0022TweakScale\u0022))\n                        continue;\n\nwhich doesn\u0027t make sense, unless the added module is messing up the prefab.Modules list somehow.  What jumped out at me was the following:\n\n      at PartModuleList.Contains (Int32 classID) [0x00000] in  unknown\u003E:0 \n      at PartModuleList.Contains (System.String className) [0x00000] in  unknown\u003E:0 \n      at TweakScale.PrefabDryCostWriter.WriteDryCost () [0x00000] in  unknown\u003E:0\n\nInstalled both Tweakscale \u0026 Hullcam, started game, got to MainMenu, no errors related to Tweakscale\n\nEntered a game, got the errors"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-13T23:58:40Z","Content":"[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/)\n\nI found the problem, and made a small PR for you to fix it.\n\nThere is something wrong/missing in the way HullcamVDS is adding a module, so the prefab.Module.Contains is getting an error.  I\u0027m going to try to figure it out there, but I did this for you since if one mod can make the mistake (if it is a mistake), others can."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-14T00:11:48Z","Content":"Actually, it looks like it\u0027s a quirk of the AddModule code, in that the module is being added before a game is started(????), and the part isn\u0027t fully setup yet(????).\n\nI\u0027ve found at least three mods which do the same thing, all related to an eva\u0027d kerbal part.  And this was from a 2 minute search on my system of mods I\u0027ve downloaded."},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2017-02-14T03:43:04Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E I\u0027ve found at least three mods which do the same thing, all related to an eva\u0027d kerbal part.  And this was from a 2 minute search on my system of mods I\u0027ve downloaded.\n\u003E \n\nPlease name names - it\u0027d be handy to know what to avoid until it\u0027s fixed."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-14T12:34:35Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, damerell said:\n\u003E \n\u003E \n\u003E Please name names - it\u0027d be handy to know what to avoid until it\u0027s fixed.\n\u003E \n\nThe ones I found are:\n\n- EVA Enhancements Continued\n- EVA Parachutes and Ejection Seats\n- Hullcam VDS Continued\n- Kerbal Animation Suite\n\nKeep in mind, I found these mainly because these are mods I\u0027ve adopted, and therefore have the source code on my system.  I\u0027m sure that if I did some searching in other mods, other instances would be found"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-14T17:54:36Z","Content":"\u003E \n\u003E \n\u003E 17 hours ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E [@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I found the problem, and made a small PR for you to fix it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E There is something wrong/missing in the way HullcamVDS is adding a module, so the prefab.Module.Contains is getting an error.  I\u0027m going to try to figure it out there, but I did this for you since if one mod can make the mistake (if it is a mistake), others can.\n\u003E \n\nWow, that was fast, thanks. I already made a similar change in the dev branch (which lead to the KerbalEva parts) but had no clue what the actual problem was."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-14T18:06:50Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, Jebs\\_SY said:\n\u003E \n\u003E \n\u003E However, I can live with it and when the log entry is catched with the next tweakscale version it\u0027s even better.\n\u003E \n\nYou don\u0027t catch log entries, you catch exceptions. An exception is an \u0027emergency\u0027 where something is obviously wrong and it is not clear if the program can safely continue. So the program is skipping code until it reaches a \u0022catch\u0022 block, which contains code to handle the situation. This means the exception is handled, but it is still wise to log the incident."},{"CreatedByName":"Cratzz","CreatedById":157974,"CreatedDateTime":"2017-02-16T21:24:26Z","Content":"Hey [@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/) i tried to have you look at my log a while back and see as to why some parts cause negative mass (tanks)\n\n[https://dl.dropboxusercontent.com/u/5191989/KSP.log](https://dl.dropboxusercontent.com/u/5191989/KSP.log)\n\nAny input would be much appreciated!\n\nEDIT: Made a video too from \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E and launch. - [https://youtu.be/R_3zAvel9-M](https://youtu.be/R_3zAvel9-M)\n\nEDIT 2: The problem lies with Real Fuels, ill post this in that thread as well.\n\n**Edited \u003Ctime datetime=\u00222017-02-16T22:54:16Z\u0022 title=\u002202/16/2017 10:54  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 16, 2017\u003C/time\u003E by Cratzz**"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-18T15:18:09Z","Content":"The negative mass problem with MFT should be fixed in the dev version now."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-18T17:46:12Z","Content":"I would like to make a change to TweakScale to let it affect derived classes of a configured PartModule. So if there is a scaling config for ModuleRCS, it now looks for modules with that name. In my prototype it looks for any module that \u0022is a ModuleRCS\u0022, i.e. it also scales ModuleRCSFX.\n\nHere is my prototype (including a recompiled dll):  \n[https://github.com/pellinor0/TweakScale/commit/4329244702b7fa60b06744a5830bbf137f26883c](https://github.com/pellinor0/TweakScale/commit/4329244702b7fa60b06744a5830bbf137f26883c)\n\nNow the question is: will this break anything? In other words, are there derived Modules that should not inherit the config of their base class? At the moment the only one I am aware of is ModuleEnginesSolver, which derives from ModuleEnginesFX and is used as a base class in realFuels and AJE. How do they currently interact with TweakScale? Not sure whom to ask, maybe [@blowfish](https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/) or [@Starwaster](https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/)?\n\nI also noticed a blacklist entry for \u0022ModuleEngineConfigs\u0022 in the TweakScale configs, it probably came from realFuels/\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E long ago. Is this obsolete? I could not find any reference to such a module.\n\nAnother area might be KSPI. [@FreeThinker](https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/) do you see any trouble with such a change?"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2017-02-18T18:04:20Z","Content":"\u003E \n\u003E \n\u003E 20 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E Another area might be KSPI. [@FreeThinker](https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/) do you see any trouble with such a change?\n\u003E \n\u003E \n\u003E \n\u003E \n\nWell that depends. I currently have separate tweakscale component defined for my module that derives from ModuleRCS. The Class does nothing fancy\n\n    TWEAKSCALEEXPONENTS\n    {name = ElectricRCSControllerbaseThrust = 2.5partMass = 3\n    }\n\nDoes that mean I have to delete them?\n\n**Edited \u003Ctime datetime=\u00222017-02-18T18:06:36Z\u0022 title=\u002202/18/2017 06:06  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 18, 2017\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-18T18:08:53Z","Content":"\u003E \n\u003E \n\u003E On 26.1.2017 at 2:34 AM, anxcon said:\n\u003E \n\u003E \n\u003E such code belongs on tweakscale side, though i am not familiar enough with tweakscale yet  \n\u003E \n\u003E if you have a single place to call an update method when any setting changes, great ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) and i can help with the rest  \n\u003E \n\u003E though given how TS can change many or only a few values per part, it would be wiser to add 1 key per value, dynamically per part\n\u003E \n\nCould you have a look at the dev version? I\u0027d be happy about some feedback before releasing this. And the value I report should probably be a lot more coarse grainded (you can also judge that better than I can)."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2017-02-18T18:17:05Z","Content":"[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/) Hey miniature builder. I often have the problem that scaling break down at the extreme ends of the scale, either very large or small.\n\nI guess you have already investigated but what about floatcurve scaling support? (as an alternative to standard exponent scaling). That way we can make scaling work correctly when either miniaturizing or scaling up to gargantuan scale.\n\n**Edited \u003Ctime datetime=\u00222017-02-18T19:02:06Z\u0022 title=\u002202/18/2017 07:02  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 18, 2017\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-18T18:28:57Z","Content":"\u003E \n\u003E \n\u003E 24 minutes ago, FreeThinker said:\n\u003E \n\u003E \n\u003E Well that depends. I currently have separate tweakscale component defined for my module that derives from ModuleRCS. The Class does nothing fancy\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Does that mean I have to delete them?\n\u003E \n\n| \u003Cbr\u003E \u003Cbr\u003E |\n| --- |\n\nIt would mean that in addition to your patch, TweakScale would find the exponents for ModuleRCS and apply them to your module, so it would read maxFuelFlow and thrusterPower from the prefabPart, scale them and write them in the members your module inherits from the base class.\n\n    TWEAKSCALEEXPONENTS\n    {\n        name = ModuleRCSFX\n        maxFuelFlow = 2.5\n        thrusterPower = 2.5\n        -ignore = ModuleEngineConfigs\n    }\n\n**Edited \u003Ctime datetime=\u00222017-02-18T18:29:06Z\u0022 title=\u002202/18/2017 06:29  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 18, 2017\u003C/time\u003E by pellinor**"}]}