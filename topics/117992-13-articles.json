{"TopicId":117992,"ForumId":34,"TopicTitle":"[1.7-1.9] SMURFF: Simple Module adjUstments for Real-ish Fuel-mass Fractions 1.9.1 (02019 Nov 12)","CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-08-08T22:30:00Z","PageNum":13,"Articles":[{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2017-09-07T12:39:02Z","Content":"\u003E \n\u003E \n\u003E 22 hours ago, Kerbas\\_ad\\_astra said:\n\u003E \n\u003E \n\u003E SMURFF *can* be used in any solar system, and if the \u0027lever\u0027 variables have positive values, then SMURFF *will* reduce the masses of parts (specifically: engines, heat shields, fuel tanks, and crew capsules, provided they use stock-like resources and balancing).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In my opinion, it only makes sense to do this in upscaled solar systems....\n\u003E \n\nWell, as an example, as I was designing rockets, I looked at the mass fraction of the RLA Stockalike SRBs (from RLA Recontinued) and seeing the dry mass as 25% of the wet mass...well, it\u0027s just wrong.\n\nSMURFF might change things radically for the stock scaled solar system, but I\u0027ll think I\u0027ll give it a try.  Couple of questions.\n\n1.  ~~Are SRBs adjusted?~~  Looking at the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E script, SRBs are adjusted.\n\n2.  Are aircraft parts adjusted?  I imagine the fuel tanks are.\n\nAnd after skimming the last few pages, I see how putting SMURFF into the stock scaled solar system is likely too much.  Will still see what it\u0027s like.\n\n**Edited \u003Ctime datetime=\u00222017-09-07T12:53:26Z\u0022 title=\u002209/07/2017 12:53  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 7, 2017\u003C/time\u003E by Jacke**"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-09-07T19:06:24Z","Content":"You could maybe tinker with some of the internal math that SMURFF does (i.e. not just the three \u0027lever\u0027 variables, but the \u0027factor\u0027 variables further down), but you\u0027re probably better off just writing a patch for the RLA boosters to make them lighter.\n\nYou\u0027re correct that fuel tanks are adjusted, but nothing else -- air-breathing engines are at about the right \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, so they don\u0027t get adjusted (although the RAPIER and similar multi-mode engines do receive a thrust buff to their rocket modes)."},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2017-09-07T20:16:10Z","Content":"\u003E \n\u003E \n\u003E 58 minutes ago, Kerbas\\_ad\\_astra said:\n\u003E \n\u003E \n\u003E You could maybe tinker with some of the internal math that SMURFF does (i.e. not just the three \u0027lever\u0027 variables, but the \u0027factor\u0027 variables further down), but you\u0027re probably better off just writing a patch for the RLA boosters to make them lighter.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You\u0027re correct that fuel tanks are adjusted, but nothing else -- air-breathing engines are at about the right \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, so they don\u0027t get adjusted (although the RAPIER and similar multi-mode engines do receive a thrust buff to their rocket modes).\n\u003E \n\nThanks for the reply.  Did a quick test.  It was a small rocket so little seemed to changed, but the performance was noticeably better.  SMURFF is definitely interesting, but as said is rather overpowered for the stock scale solar system.\n\nWill think on how much to fiddle with the RLA SRBs and other parts.  There\u0027s other ills like an AV-R8 Winglet costing more than many small \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E engines, so once you go down that rabbit hole, there\u0027s a whole dammn large warren of things to untangle. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"SilentWindOfDoom","CreatedById":71611,"CreatedDateTime":"2017-09-08T13:43:00Z","Content":"I had a quick question. I am looking to nerf the global atmospheric isp for all rocket engines in order to offset Ferram Aerospace\u0027s thinner atmosphere while using the stock-size solarsystem. Could I potentially use this mod to achieve that?"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-09-08T19:52:23Z","Content":"No, but you could do it with a patch like this (similar to several constructs within SMURFF):\n\n    @PART[*]:HAS[@MODULE[ModuleEngines*]]\n    {\n      @MODULE[ModuleEngines*]:HAS[@PROPELLANT[Oxidizer]] // Only affect engines that burn oxidizer == rocket engines (not jets, ions, mono)\n      {\n        @atmosphereCurve\n        {\n          @key,1[1, ] -= 20 // Or use \u0022*= 0.9\u0022 for a 10% reduction, etc.\n        }\n      }\n    }\n\nThe idea is that you\u0027re calling for the second (computers start counting from zero, recall) key (\u0022@key,1\u0022, the one in the atmosphere), and then looking at the second space-separated number in the key (\u0022[1, ]\u0022) to do math on it (\u0022-= 20\u0022 or , \u0022\\*= 0.9\u0022, etc.)."},{"CreatedByName":"metalpoetza","CreatedById":97739,"CreatedDateTime":"2017-09-12T13:19:14Z","Content":"Thank you for this mod ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) I\u0027m having a blast with it right now.\n\nI wanted to suggest two mods for the realish list which I think fit in very well - and seem to play nicely with SMURFF as well. For your consideration:\n\n- CareerEvolution - this is a very, very nice career-mode contract pack with realish progression, requires some kind of unmanned first tech-tree - but works well with stock parts. Since using SMURFF on \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E instead of \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E means RP0 is not an option - I think this is a great alternative. The developer, PAP is actually an RP0 dev as well.  I use SETI-unmanned-before-manned with it, but you can use others (suggestions listed on the mod page). Personally I like it much better than the SETI-ContractsPack though.\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7035236250\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/157417-wip-122-career-evolution-contract-pack-beta-release-v03-updated-3-27-2017/\u0026do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n- SurfaceExperimentPack - you want realish experience mods, and you list some good ones (I\u0027ve installed the whole list) but they don\u0027t include much in terms of science packs. There are a few realish science mods out there, based on actual scientific experiments done in space, but this one is one of my favorites. It\u0027s a set of experiments that have to be set up by Kerbals on EVA (uses \u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E) and are some of the same experiments the actual Apollo astronauts did on the moon  - such as placing big reflective plates which can be hit by lasers from earth to measure the exact distance of it\u0027s orbit. It\u0027s a lot more interactive than most science experiments, which is cool for the realish factor, and certainly hits the \u0022real\u0022 part of realish as it\u0027s experiments that we\u0027ve actually done in the real world space programs. \u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed1352650306\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/77858-113-surface-experiment-pack-eva-science-for-kiskas-v142-6302016-now-with-less-explosions/\u0026do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\nI don\u0027t know if you\u0027ll like them as much as I do (maybe check out Kotabo\u0027s video reviews if you\u0027re not familiar with them) but I thought I would make the suggestion. \n\n**Edited \u003Ctime datetime=\u00222017-09-12T13:20:24Z\u0022 title=\u002209/12/2017 01:20  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 12, 2017\u003C/time\u003E by metalpoetza**"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-09-14T21:36:15Z","Content":"I\u0027ve sometimes thought about disentangling the \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E dependencies from RP-0, but it looks like pap\u0027s got it covered!  I hesitate to add it (or other career/tech overhauls) to the list of suggestions, though, because this one in particular imposes some requirements on the solar system and tech tree, and many nice tech trees are mutually exclusive.\n\nSEP (and other packs that add real experiments, like DMOS and NEOS) is definitely going on the list!  Thanks for the reminder."},{"CreatedByName":"raxo2222","CreatedById":110750,"CreatedDateTime":"2017-09-15T13:09:50Z","Content":"Can we have SMURFF lite? That is without changing fuel tank masses, as Interstellar Fuel Switch already does that.\n\nSetting this line in smuff cofing:     tanklever = 1 to     tanklever = 0 causes pods to have infinite mass.\n\n**Edited \u003Ctime datetime=\u00222017-09-15T13:24:51Z\u0022 title=\u002209/15/2017 01:24  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 15, 2017\u003C/time\u003E by raxo2222**"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-09-15T13:38:29Z","Content":"SMURFF was made to be \u0027lite\u0027 to begin with; I\u0027m not going to make (and support) an even liter version.\n\nI see where a divide-by-zero error will occur with setting that lever to zero exactly; I\u0027ll see if I can fix it, but in the meantime it should work if you set it to 0.001 or the like."},{"CreatedByName":"raxo2222","CreatedById":110750,"CreatedDateTime":"2017-09-15T14:13:08Z","Content":"\u003E \n\u003E \n\u003E 34 minutes ago, Kerbas\\_ad\\_astra said:\n\u003E \n\u003E \n\u003E SMURFF was made to be \u0027lite\u0027 to begin with; I\u0027m not going to make (and support) an even liter version.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I see where a divide-by-zero error will occur with setting that lever to zero exactly; I\u0027ll see if I can fix it, but in the meantime it should work if you set it to 0.001 or the like.\n\u003E \n\nThat worked - now SMURFF almost doesn\u0027t touch fuel tanks."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2017-10-28T20:32:35Z","Content":"~~I\u0027m sorry if this has been asked before, but is this mod fine with AJE engines?~~\n\n~~The \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E says it will adjust engines, so does this do something like turning off its own configs for AJE engines?~~\n\nnvm\n\n**Edited \u003Ctime datetime=\u00222017-10-28T20:35:33Z\u0022 title=\u002210/28/2017 08:35  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 28, 2017\u003C/time\u003E by Murican\\_Jeb**"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-10-30T15:32:34Z","Content":"\u003E \n\u003E \n\u003E On 10/28/2017 at 4:32 PM, Murican\\_Jeb said:\n\u003E \n\u003E \n\u003E ~~I\u0027m sorry if this has been asked before, but is this mod fine with AJE engines?~~\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ~~The \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E says it will adjust engines, so does this do something like turning off its own configs for AJE engines?~~\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E nvm\n\u003E \n\nFor anyone else curious, SMURFF and AJE don\u0027t really interact.  It\u0027s not by any intention; it\u0027s just that AJE only patches jet engines, while SMURFF only patches rocket engines."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2017-10-30T22:12:49Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, Kerbas\\_ad\\_astra said:\n\u003E \n\u003E \n\u003E For anyone else curious, SMURFF and AJE don\u0027t really interact.  It\u0027s not by any intention; it\u0027s just that AJE only patches jet engines, while SMURFF only patches rocket engines.\n\u003E \n\nAJE also patches firepsitter props, and firespitter props are liquid fuel so...\n\nBut i can just solve that problem by making the engine lever to 0, so don\u0027t worry too much about it."},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-11-01T18:05:51Z","Content":"\u003E \n\u003E \n\u003E On 10/30/2017 at 6:12 PM, Murican\\_Jeb said:\n\u003E \n\u003E \n\u003E AJE also patches firepsitter props, and firespitter props are liquid fuel so...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E But i can just solve that problem by making the engine lever to 0, so don\u0027t worry too much about it.\n\u003E \n\nDo they burn oxidizer?  That\u0027s what SMURFF looks for.  If Firespitter\u0027s engines don\u0027t burn that (or solid fuel...) then SMURFF won\u0027t touch them."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2017-11-01T22:00:07Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Kerbas\\_ad\\_astra said:\n\u003E \n\u003E \n\u003E Do they burn oxidizer?  That\u0027s what SMURFF looks for.  If Firespitter\u0027s engines don\u0027t burn that (or solid fuel...) then SMURFF won\u0027t touch them.\n\u003E \n\nNope... ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"danfarnsy","CreatedById":67183,"CreatedDateTime":"2017-11-08T08:32:13Z","Content":"Edit: Pretty much everything I said below is wrong or useless, but I\u0027ll leave the post here.  \n\nAny chance we can get SMURFF to address Nertea\u0027s Kerbal Atomics? SMURFF It seems to be looking for ModuleEngines of various sorts, but some of the Kerbal Atomics engines are multi-mode beasts and their configs contain no reference to ModuleEngines, instead using this:\n\n    MODULE{\tname = MultiModeEngine\tprimaryEngineID = LH2\tsecondaryEngineID = LOxAugmented\tprimaryEngineModeDisplayName = #LOC_KerbalAtomics_Multimode_LH2\tsecondaryEngineModeDisplayName = #LOC_KerbalAtomics_Multimode_LH2OX}\n\n25 ton aerospike with oxidizer mode gives engine \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E of less than 2:1, which makes me feel like crying on my 10.625x scale GPP. Maybe I\u0027ll try adding the tweaks myself and give a PR, but I haven\u0027t fully wrapped my head around what you\u0027re doing in your configs. Simply copying and pasting another @PART for other engines and modifying the @Module[ModuleEngines\\*] to point to this other module would be my best guess, but we all know what assuming does.\n\n**Edited \u003Ctime datetime=\u00222017-11-08T23:28:28Z\u0022 title=\u002211/08/2017 11:28  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 8, 2017\u003C/time\u003E by danfarnsy**\n  \nFull of wrongness"},{"CreatedByName":"Aelfhe1m","CreatedById":142910,"CreatedDateTime":"2017-11-08T09:39:41Z","Content":"[@danfarnsy](https://forum.kerbalspaceprogram.com/index.php?/profile/67183-danfarnsy/) Actually the module MultiModeEngine is just the switcher. Right below it in the parts\u0027 configs are two ModuleEngineFX modules (one fore LH only mode and one for the LH\u002BOx mode). \n\nJust checked my own install with 6.4x and SMURFF - the Sctlla aerospike gets its augmented mode thrust buffed from 4350 kN (vac) to 6525 kN (vac) with engine mass unchanged.\n\nThe unaugmented mode (LH only) was unchanged at 1450 kN - is this supposed to be untouched?\n\n**Edited \u003Ctime datetime=\u00222017-11-08T09:40:17Z\u0022 title=\u002211/08/2017 09:40  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 8, 2017\u003C/time\u003E by Aelfhe1m**"},{"CreatedByName":"danfarnsy","CreatedById":67183,"CreatedDateTime":"2017-11-08T23:27:39Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, Aelfhe1m said:\n\u003E \n\u003E \n\u003E Just checked my own install with 6.4x and SMURFF - the Sctlla aerospike gets its augmented mode thrust buffed from 4350 kN (vac) to 6525 kN (vac) with engine mass unchanged.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The unaugmented mode (LH only) was unchanged at 1450 kN - is this supposed to be untouched?\n\u003E \n\nHmm... yeah, this seems to be inline with [@Kerbas_ad_astra](https://forum.kerbalspaceprogram.com/index.php?/profile/126593-kerbas_ad_astra/)\u0027s intent, from the front page. I probably need to stick my foot in my mouth for not knowing how to calculate TWRs when I posted my comment. I was off by a factor of over 100. Oxidizer in vacuum mode with a 25 ton engine is still \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E of 266, perfectly reasonable, no reason to further change it. And you\u0027re right that HAS[@MODULE[ModuleEngines\\*] also references ModuleEnginesFX. It was late and I should have been trying to sleep instead of thinking I knew what I was looking at.  \n\nNothing to see here, move along! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-11-09T17:02:35Z","Content":"\u003E \n\u003E \n\u003E On 11/8/2017 at 4:39 AM, Aelfhe1m said:\n\u003E \n\u003E \n\u003E [@danfarnsy](https://forum.kerbalspaceprogram.com/index.php?/profile/67183-danfarnsy/) Actually the module MultiModeEngine is just the switcher. Right below it in the parts\u0027 configs are two ModuleEngineFX modules (one fore LH only mode and one for the LH\u002BOx mode). \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Just checked my own install with 6.4x and SMURFF - the Sctlla aerospike gets its augmented mode thrust buffed from 4350 kN (vac) to 6525 kN (vac) with engine mass unchanged.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The unaugmented mode (LH only) was unchanged at 1450 kN - is this supposed to be untouched?\n\u003E \n\nThat is correct.  All oxidizer-burning modes get their thrust buffed, but the engine mass is decreased if and only if there are no non-oxidizer-burning modes."},{"CreatedByName":"Ant432","CreatedById":178021,"CreatedDateTime":"2017-11-12T13:50:55Z","Content":"Module Manager gives me 2 config errors from this mod. Is this an issue?"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-11-12T14:27:16Z","Content":"There\u0027s a couple of parts from various mods that I need to figure out how to handle better.  Can you get me the errors?"},{"CreatedByName":"tawny","CreatedById":182948,"CreatedDateTime":"2017-11-21T07:00:41Z","Content":"Hi, I\u0027m trying to use SMURFF and Interstellar Fuel Switch at the same time for a 6.4x scale game on 1.3.1. As soon as I install IFS (or any other fuel switching mod), SMURFF\u0027s fuel tank changes stop applying. (they appear to have the adjusted masses when hovered over in the editor\u0027s part selector but not once placed, if that means anything). I looked at the mod files and through this thread but it looks like SMURFF has a patch for IFS included in it already? Did I need to do something I overlooked, like add a patch for SMURFF through module manager? Am I missing something obvious here?"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2017-11-21T23:34:26Z","Content":"Interstellar has its own fuel tank mass adjustment patches and fuel tank switching patches that it applies to all parts.  I thought I had a patch to adjust those, but it may have changed.  If someone comes up with a fix, I might accept a pull request, but I don\u0027t use IFS\u0027s parts and patches anymore, so it\u0027s not a priority for me to get into the weeds to debug."},{"CreatedByName":"tawny","CreatedById":182948,"CreatedDateTime":"2017-11-24T07:07:55Z","Content":"Alright, thanks anyway. I might see if I can figure something out, though that\u0027ll probably depend on whether I can figure out how IFS works."},{"CreatedByName":"HoveringKiller","CreatedById":158073,"CreatedDateTime":"2018-01-23T18:07:50Z","Content":"This mod is a life saver for a re scaled play-through! My rockets were getting to big and un-weildy, this brought them back down a tad notch. Thank you for this!"}]}