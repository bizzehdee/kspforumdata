{"TopicId":46454,"ForumId":34,"TopicTitle":"[1.0] Enhanced Navball 1.3","CreatedByName":"kitoban","CreatedById":58094,"CreatedDateTime":"2013-09-24T21:28:36Z","PageNum":3,"Articles":[{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-13T13:11:43Z","Content":"\n\u003Cp\u003EI am afraid vector maths and such is not my thing, hence why I tended to do UI and such on projects. I did have a cursory look at the code, but I could not work out where the bit I needed to change was.\u003C/p\u003E\u003Cp\u003EIf you could identify the bit of code (and ideally the variable) that I was interested in, then I could possibly work it out, but I think stabbing away in the dark would be a bit of a waste of time.\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2013-11-13T13:22:14Z","Content":"\n\u003Cp\u003Ejust saw it in scotts videos... awesome mod!\u003C/p\u003E\n"},{"CreatedByName":"kitoban","CreatedById":58094,"CreatedDateTime":"2013-11-13T14:25:45Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EevilC \u003C/strong\u003E- the core of the calculations are in here: \u003Ca href=\u0022https://github.com/kitoban/EnhancedNavBall/blob/master/EnhancedNavBall/CalculationStore.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/kitoban/EnhancedNavBall/blob/master/EnhancedNavBall/CalculationStore.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ewhich is mostly sourced from mechjebs calculations for radial\u002B/- etc, so afraid I do not completely understand how they work (in particular what Vector3d.Exclude does) I can only follow the calculations so far...\u003C/p\u003E\u003Cp\u003EHowever I have put some further thought into this and think that the radial calculations are incorrect for VTOL purposes as it is reliant on the orientation of the ship, would need to do some part interrogation to determine the up direction according to the capsule (up being above the cockpit as opposed to forward being in front of the craft), which gets tricky when you are also having to calculate for the spaceships as up gets confused with forward...\u003C/p\u003E\u003Cp\u003EI think it is likely to be this:\u003C/p\u003E\u003Cp\u003EVector3d radialPlus = Vector3d.Exclude(velocityVesselOrbit, up).normalized;\u003C/p\u003E\u003Cp\u003Ewith velocityVesselOrbit swapped with the orientation of the cockpit to give you what you need, feel free to branch this off and add it in, I can then look to pulling this back into the project \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (with credits ofc )\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUml\u00C3\u0192\u00C2\u00BCx\u003C/strong\u003E - Thanks, yeah I have certainly seen interest in the mod increase since scott started using it in the Interstellar series. Development has slowed (as seen above with evilC) but the RL commitments look like they are starting to fall into place which should free up some time to do some further development.\u003C/p\u003E\n"},{"CreatedByName":"AeroEngy","CreatedById":92772,"CreatedDateTime":"2013-11-13T15:04:42Z","Content":"\n\u003Cp\u003EFantastic mod! No more adding a maneuver node just to orient myself.\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-13T15:27:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022evilC\u0022 data-cite=\u0022evilC\u0022\u003E\u003Cdiv\u003EI am afraid vector maths and such is not my thing, hence why I tended to do UI and such on projects. I did have a cursory look at the code, but I could not work out where the bit I needed to change was.\u003Cp\u003EIf you could identify the bit of code (and ideally the variable) that I was interested in, then I could possibly work it out, but I think stabbing away in the dark would be a bit of a waste of time.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kitoban\u0022 data-cite=\u0022kitoban\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EevilC \u003C/strong\u003E- the core of the calculations are in here: \u003Ca href=\u0022https://github.com/kitoban/EnhancedNavBall/blob/master/EnhancedNavBall/CalculationStore.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/kitoban/EnhancedNavBall/blob/master/EnhancedNavBall/CalculationStore.cs\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://answers.unity3d.com/questions/46770/rotate-a-vector3-direction.html\u0022 rel=\u0022external nofollow\u0022\u003EHere\u003C/a\u003E\u0027s how to rotate a vector by a certain angle. You should just be able to apply it to the code given. Good luck!\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-13T16:49:20Z","Content":"\n\u003Cp\u003EHmm, not sure enough on how it all works to be sure, but surely it is not radial that I am interested in?\u003C/p\u003E\u003Cp\u003EI want to rotate a ghosted retrograde marker such that if you were in a forward-facing (plane style) vehicle, and were falling to earth (but not flying forwards, just dropping like a rock) then if you were leveled on the horizon, the retrograde marker would be inside the orientation indicator (-v-).\u003C/p\u003E\u003Cp\u003EI think I maybe see what you are getting at - the ghost indicator might be at the right place on the y axis (ie angle of attack) but it may be pointing at some random place on the x axis (heading). Is this why you are saying to mess with the radial?\u003C/p\u003E\u003Cp\u003EWhatever - I presume the variable that I am interested in is \u0022ProgradeOrbit\u0022. Gonna maybe see if I can dig out VS again and have a play.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-13T18:05:40Z","Content":"\n\u003Cp\u003EOK, I built the project and had a play, and it seems that I have been maybe confusing you slightly because I was not aware of exactly what this mod did.\u003C/p\u003E\u003Cp\u003EI see now that the \u0022Ghost Prograde\u0022 feature is for when prograde is not visible - it creates a ghost to show you the direction that prograde is in.\u003C/p\u003E\u003Cp\u003EThis is not the kind of functionality that I require.\u003C/p\u003E\u003Cp\u003EWhat I need is to make a duplicate of the retrograde marker, and place it at 90 degrees to where the actual retrograde marker is, regardless of whether it is visible or not. The \u0022ghost\u0022 functionality to make it easier to find is gravy.\u003C/p\u003E\u003Cp\u003ESo I guess what I need to do is look at the anti-node / radial injection routines and duplicate those...\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-13T18:57:16Z","Content":"\n\u003Cp\u003EWoohoo! Progress!\u003C/p\u003E\u003Cp\u003EI managed to insert a dupe of the prograde marker, so now I just have to figure out how to rotate it, and I think I may be golden.\u003C/p\u003E\n"},{"CreatedByName":"Tobyz28","CreatedById":72108,"CreatedDateTime":"2013-11-13T19:20:54Z","Content":"\n\u003Cp\u003EWow this looks fantastic! I\u0027ll try this tonight, after days of playing with just the navball - then switching to mechjeb for a few versions.. I\u0027ve kind of gone full circle and gone back to navball for docking/flights, the tricks you learn while doing these maneuvers over time you end up figuring out that you\u0027ve been guesstimating these reference points from just practice all along! This definitely gets rid of some of the guesswork/eyeballing now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-13T19:35:05Z","Content":"\n\u003Cp\u003ENo further progress yet, but I think I know what I need.\u003C/p\u003E\u003Cp\u003EMy current code:\u003C/p\u003E\u003Cp\u003EVector3d offsetProgradeSurface = velocityVesselSurfaceUnit;\u003C/p\u003E\u003Cp\u003EI need to rotate that by 90 degrees.\u003C/p\u003E\u003Cp\u003EPreviously linked sample was for rotating a Quaternion, this is a Vector3d\u003C/p\u003E\n"},{"CreatedByName":"minimuffin","CreatedById":92342,"CreatedDateTime":"2013-11-13T20:32:58Z","Content":"\n\u003Cp\u003EThis mod... It is amazing! I cannot even use words to express how I feel about it! It goes together with Kerbal Engineer Redux amazingly, to the point that I am able to get into orbit and transfer to other planets with practically \u003Cem\u003Eno\u003C/em\u003E use of the map. Also, is there a way to make it show the ejection angle for interplanetary transfers on the navball? That could make a nice feature.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-14T02:15:27Z","Content":"\n\u003Cp\u003EOK, I think I did it.\u003C/p\u003E\u003Cp\u003EVTOL mode prototype submitted to GitHub! (For use with craft that have a VTOL engine perpendicular to the forward direction - think harrier jump jet)\u003C/p\u003E\u003Cp\u003EI don\u0027t think I have permissions to contribute to that project, so I \u003Ca href=\u0022https://github.com/evilC/EnhancedNavBall\u0022 rel=\u0022external nofollow\u0022\u003Eforked\u003C/a\u003E. I added you as a contributor, so if you like we can play on this fork without fear of messing up yours.\u003C/p\u003E\u003Cp\u003EHow it currently works:\u003C/p\u003E\u003Cp\u003E(Tested in Surface mode only at the moment)\u003C/p\u003E\u003Cp\u003EThe Blue (Sky) prograde marker should be visible as you ascend. Keeping your heading indicator (-v-) inside the blue prograde will ensure you burn prograde.\u003C/p\u003E\u003Cp\u003EThe Green (Grass) retrograde marker should be visible as you descend. If coming in from orbit, keep your heading indicator inside the retrograde marker as you burn to ensure you only slow down and do not deviate course. Can also be used to help correct deviation.\u003C/p\u003E\u003Cp\u003ENote that to move the pro/retrograde marker left/right, ROLL in the direction you wish to move it, NOT yaw! You are correcting sideways slip, you need to roll as your controls are plane style not rocket style!\u003C/p\u003E\u003Cp\u003Eeg if you have the same pitch as the retro marker, but it is to your left, you are slipping left - roll right so some of your down burn corrects your left slip.\u003C/p\u003E\u003Cp\u003ESome comments:\u003C/p\u003E\u003Cp\u003ESeems to work pretty much as I envisioned. I certainly had a lot more survivable landings with my VTOL tests than I did before - makes KCA so much more useful!\u003C/p\u003E\u003Cp\u003EWhat would also be nice to to change the retrograde marker scale depending on speed. So for example the marker is small when you have no speed (soft landing) and big when you have lots of speed. Any ideas on how to do that would be appreciated.\u003C/p\u003E\u003Cp\u003EI guess this mod may be a candidate for trying out Taranis\u0027 new examples - make it a partless plugin, add an icon and a settings menu so you can turn on/off VTOL mode. That way my code can sit in the main codebase and not bother regular users.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-14T02:28:20Z\u0022 title=\u002211/14/2013 02:28  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 14, 2013\u003C/time\u003E by evilC\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-14T12:24:43Z","Content":"\n\u003Cp\u003EI uploaded my replacement DLL \u003Ca href=\u0022http://evilc.com/files/tmp/EnhancedNavBall.dll\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EExisting functionality should not be affected.\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-14T18:17:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022evilC\u0022 data-cite=\u0022evilC\u0022\u003E\u003Cdiv\u003EI need to rotate that by 90 degrees.\u003Cp\u003EPreviously linked sample was for rotating a Quaternion, this is a Vector3d\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA Quaternion is a rotation. You apply it to a Vector3d to rotate it.\u003C/p\u003E\n"},{"CreatedByName":"kitoban","CreatedById":58094,"CreatedDateTime":"2013-11-14T21:25:03Z","Content":"\n\u003Cp\u003EForking it should be fine I think I can do a pull request to get the code into the main branch, will take a look when I have a chance.\u003C/p\u003E\u003Cp\u003EAdding the UI switches is something I will need to get the navball custmisation (high contrast etc.)\u003C/p\u003E\n"},{"CreatedByName":"cryptk","CreatedById":97237,"CreatedDateTime":"2013-12-18T00:51:12Z","Content":"\n\u003Cp\u003EJust a heads up, the mod has been updated to show that it is compatible with 0.23 on spaceport, but the thread title has not yet been updated. If you are checking here to see if it works, it works great and the version of the plugin does not look to have been changed between 0.22 and 0.23\u003C/p\u003E\n"},{"CreatedByName":"thebeardo","CreatedById":97327,"CreatedDateTime":"2013-12-18T06:01:48Z","Content":"\n\u003Cp\u003Esorry I posted on the wrong page... edited to remove.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-19T02:24:21Z\u0022 title=\u002212/19/2013 02:24  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 19, 2013\u003C/time\u003E by thebeardo\u003C/strong\u003E\n\u003Cbr\u003Ewrong forum\n\u003C/span\u003E\n"},{"CreatedByName":"kitoban","CreatedById":58094,"CreatedDateTime":"2013-12-19T10:37:55Z","Content":"\n\u003Cp\u003EThanks cryptk, have updated the post to reflect this\u003C/p\u003E\n"},{"CreatedByName":"Darth Lazarus","CreatedById":60937,"CreatedDateTime":"2014-01-28T20:55:43Z","Content":"\n\u003Cp\u003Esuperb mod \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-03-13T04:08:10Z","Content":"\n\u003Cp\u003ESuggestion for a feature: option to separate prograde/retrograde and target relative velocity\u002B/- so that in target mode you have markers for prograde, retrograde and target relative velocity \u002B/-, relative velocity \u002B/- would need new icons distinct from the prograde/retrograde ones.\u003C/p\u003E\n"},{"CreatedByName":"Meltafire","CreatedById":89236,"CreatedDateTime":"2014-03-14T04:33:50Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003Ekitoban please tell can you implement feature:\u003C/p\u003E\u003Cp\u003Eprovide to players an opportunity to choose what side a navball of active control module is looking at (front/rear/left/right/top/bottom). May be some sliding of an orientational mark of Navball?\u003C/p\u003E\u003Cp\u003EFor more info:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72050-Navball-adjustment\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/72050-Navball-adjustment\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThank you.\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-03-14T08:08:12Z","Content":"\n\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E Just what I need to find those far manoeuver nodes without rolling like this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E , thanks.\n"},{"CreatedByName":"itsme86","CreatedById":59895,"CreatedDateTime":"2014-03-15T03:23:09Z","Content":"\n\u003Cp\u003EThis mod is awesome. Thank you.\u003C/p\u003E\n"},{"CreatedByName":"Helix935","CreatedById":71312,"CreatedDateTime":"2014-03-15T04:45:54Z","Content":"\n\u003Cp\u003Elove this mod especially the ghosting function which has saved countless missions that were low on electricity and monopropellant\u003C/p\u003E\n"},{"CreatedByName":"kitoban","CreatedById":58094,"CreatedDateTime":"2014-03-16T10:40:53Z","Content":"\n\u003Cp\u003EThanks for the message of appreciation, makes the trouble I had creating the mod worthwhile \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI will say I haven\u0027t forgotten about the mod and have been putting in work on the extra feature that have been requested, I\u0027ve just been going through an extended house move which has been tacking up my time to work on getting the features added in, but they are coming.\u003C/p\u003E\u003Cp\u003EAs far as Meltafire\u0027s request:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Meltafire\u0022 data-cite=\u0022Meltafire\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eprovide to players an opportunity to choose what side a navball of active control module is looking at (front/rear/left/right/top/bottom). May be some sliding of an orientational mark of Navball?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can look into this, but as this is a process of overridding the control of the navball orientation it might result in an argument between the mod code and the core code, which might be problematic.\u003C/p\u003E\n"}]}