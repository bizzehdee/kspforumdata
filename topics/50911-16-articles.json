{"TopicId":50911,"ForumId":34,"TopicTitle":"[1.3] Kerbal Joint Reinforcement v3.3.3 7/24/17","CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T08:04:32Z","PageNum":16,"Articles":[{"CreatedByName":"Zander","CreatedById":76100,"CreatedDateTime":"2013-12-07T08:37:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003ECorrect. I need to set tanks to update node position OnLoad(). I will get to it as soon as I can.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlso Procedural fairings seems to have the same problem with the expandable fairing base.\u003C/p\u003E\n"},{"CreatedByName":"Zander","CreatedById":76100,"CreatedDateTime":"2013-12-07T09:02:43Z","Content":"\n\u003Cp\u003EThis is how serious it is\u003C/p\u003E\u003Cp\u003EYou can see those are all Heavy struts from the b9 and kw rocketry mod yet the procedural fairing base is still that far off the stretchy fuel tank \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://ft.trillian.im/26ff886aedb257b5494e6296a47c202592541125/6lGtIwq7RY7TZnmKSDRTE3pzWmLuX.jpg\u0022 alt=\u00226lGtIwq7RY7TZnmKSDRTE3pzWmLuX.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI even did this and the ****ing thing still flies like a slinky. This is the most frustrated ive ever been in this game XD\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://ft.trillian.im/26ff886aedb257b5494e6296a47c202592541125/6lGtbIJqewbx6vWUzC2hFkGvkfZJ2.jpg\u0022 alt=\u00226lGtbIJqewbx6vWUzC2hFkGvkfZJ2.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-07T09:11:46Z\u0022 title=\u002212/07/2013 09:11  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 7, 2013\u003C/time\u003E by Zander\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-12-07T12:29:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zander\u0022 data-cite=\u0022Zander\u0022\u003E\u003Cdiv\u003EThis is how serious it is\u003Cp\u003EYou can see those are all Heavy struts from the b9 and kw rocketry mod yet the procedural fairing base is still that far off the stretchy fuel tank \u003C/p\u003E\u003Cp\u003EI even did this and the ****ing thing still flies like a slinky. This is the most frustrated ive ever been in this game XD\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eok, the known issues aside, you\u0027ve got something else going on because I use those same parts in something I whipped up yesterday and I didn\u0027t put a single strut on. Not a single one. I even stuck an interstage upside down on the bottom to give the engine a fairing (for FAR). Stuck fins on it and everything. It flies straight as an arrow.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-12-07T12:53:37Z","Content":"\n\u003Cp\u003EFor some reason, I\u0027ve found struts to actually weaken KJR joints. For example, when testing my Energia rescale, I strutted it extensively, and it kept falling apart. First I piled struts on for quite some time, but after a while, I decided to remake the test article, this time I didn\u0027t put any struts on. And it worked! No wobble, parts falling off, nothing. It seems that struts are bugged in KJR, or something.\u003C/p\u003E\n"},{"CreatedByName":"Zander","CreatedById":76100,"CreatedDateTime":"2013-12-07T14:47:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003Eok, the known issues aside, you\u0027ve got something else going on because I use those same parts in something I whipped up yesterday and I didn\u0027t put a single strut on. Not a single one. I even stuck an interstage upside down on the bottom to give the engine a fairing (for FAR). Stuck fins on it and everything. It flies straight as an arrow.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOhhh can you try my ship and see if you have wobbling? It normally starts at around mach 1 and gets more and more severe until the whole thing bends like a banana and the top snaps off\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://s000.tinyupload.com/?file_id=74288547311650535620\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s000.tinyupload.com/?file_id=74288547311650535620\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt uses nathans modular fuels mod with real fuels. and of course stretchy tanks and stretchy srbs KW and B9. i assume you already have those. \u003C/p\u003E\u003Cp\u003Eif anybody could figure out what the problem is that would be great\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-12-07T17:32:26Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Zander: \u003C/strong\u003EYeah, the g forces and control inputs aren\u0027t helping there, and adding more than one strut between parts the same two parts really doesn\u0027t help; it\u0027s just the way the joints are coded.\u003C/p\u003E\u003Cp\u003ELook, just try adding \u0022StretchyTanks\u0022 to the list of exempt part modules in the config.xml and see if that helps (it\u0027ll probably do the opposite, but just to be sure). Then, fly with the smallest amount of control inputs you can; I\u0027ve only seen things like that happen when I\u0027ve gone overboard with control inputs.\u003C/p\u003E\u003Cp\u003EThe only reason you\u0027re having the problem with the procedural fairing base is that each and every one of them is attached to a stretchy tank; it\u0027s a source attribution error. If you used a different connection between them you\u0027d get the same result.\u003C/p\u003E\u003Cp\u003EThe problem looks like it\u0027s a known issue with Stretchy Tanks (as has been said many times) and the high loads you\u0027re placing on the rocket.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Dragon01: \u003C/strong\u003EYeah, over-constrained systems tend to have structural problems in physics simulations. You could get that to happen in stock KSP too, it was just slightly more difficult.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-12-07T19:29:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zander\u0022 data-cite=\u0022Zander\u0022\u003E\u003Cdiv\u003EOhhh can you try my ship and see if you have wobbling? It normally starts at around mach 1 and gets more and more severe until the whole thing bends like a banana and the top snaps off\u003Cp\u003E\u003Ca href=\u0022http://s000.tinyupload.com/?file_id=74288547311650535620\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s000.tinyupload.com/?file_id=74288547311650535620\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt uses nathans modular fuels mod with real fuels. and of course stretchy tanks and stretchy srbs KW and B9. i assume you already have those. \u003C/p\u003E\u003Cp\u003Eif anybody could figure out what the problem is that would be great\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure I\u0027ll check it out when I get a chance. I think though that some of what\u0027s being said though re: the struts is correct. Sometimes struts can work against you if you put too many even in stock without KJR. I\u0027ve had rockets that just kept going to pieces so I put MOAR STRUTS! MOAR on them but they\u0027d get worse until I just ripped them out and started fresh with just a few struts in key places. Sometimes it also jhelps to keep them short depending on what\u0027s being reinforced\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-07T20:22:45Z","Content":"\n\u003Cp\u003EAn interesting feature might be to dynamically raise the breaking tolerances very high as the ship settles on the launchpad and then scale back down to the settings in the config file. Might help with the insta-breaking problem I get occasionally without having to have unrealistically-strong joints during flight.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-12-07T20:26:59Z","Content":"\n\u003Cp\u003EActually, there\u0027s already a version of that in my dev build; it scales the breaking forces and torques up to 10000 times what they start as for some set number of physics frames (currently 30) while locking control input so it can\u0027t be used to start launching monstrous things. It happens anytime a craft comes off rails, so it also helps with RSS-timewarp-related spontaneous explosions and some landed craft issues.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-07T20:42:24Z","Content":"\n\u003Cp\u003EIs the dev build available/playable? (Looks like I\u0027m currently running 1.4.21)\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-12-07T21:13:15Z","Content":"\n\u003Cp\u003ENo, because I\u0027d prefer to keep my clumsy mistakes to myself, thank you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E It\u0027s not polished enough yet.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-07T21:17:27Z","Content":"\n\u003Cp\u003EJuuuust checking. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-08T09:26:26Z","Content":"\n\u003Cp\u003EHere\u0027s a weird one: In the rocket below, it flies nice and stable until I stage out the SRBs, then it goes all wobbly as hell. At first I thought this happened as I hit around 400m/s (maybe it\u0027s drag!), but if I throttle down the main engine so I stage the SRBs before I hit that speed, I get SuperWobble. If I leave the SRBs attached after they run out (moving the decoupler stage for them above the stage-out for the first engine and tank), it remains stable. And then when I stage out that first engine and tank, the stages above it go super-wobbly. I don\u0027t see any damage in the F3 nor the log file... is there perchance something that KJR does during a stage event that might cause this issue?\u003C/p\u003E\u003Cp\u003E(Also, anyone happen to know which mod spams the log file with \u0022Minimize status is: True\u0022?)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/J36LsXw.jpg\u0022 alt=\u0022J36LsXw.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ELaunches at 1.21 TWR. There are small rings of struts that connect the stretchy tanks to what\u0027s above them and what\u0027s below them to minimize the ST node attach OnLoad() bug. Out of curiosity I tried with no struts -- same behavior except it\u0027s noticeably more wobbly on launch.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-08T09:32:41Z\u0022 title=\u002212/08/2013 09:32  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 8, 2013\u003C/time\u003E by jrandom\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wasmic","CreatedById":64885,"CreatedDateTime":"2013-12-08T11:20:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jrandom\u0022 data-cite=\u0022jrandom\u0022\u003E\u003Cdiv\u003EHere\u0027s a weird one: In the rocket below, it flies nice and stable until I stage out the SRBs, then it goes all wobbly as hell. At first I thought this happened as I hit around 400m/s (maybe it\u0027s drag!), but if I throttle down the main engine so I stage the SRBs before I hit that speed, I get SuperWobble. If I leave the SRBs attached after they run out (moving the decoupler stage for them above the stage-out for the first engine and tank), it remains stable. And then when I stage out that first engine and tank, the stages above it go super-wobbly. I don\u0027t see any damage in the F3 nor the log file... is there perchance something that KJR does during a stage event that might cause this issue?\u003Cp\u003E(Also, anyone happen to know which mod spams the log file with \u0022Minimize status is: True\u0022?)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/J36LsXw.jpg\u0022 alt=\u0022J36LsXw.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ELaunches at 1.21 TWR. There are small rings of struts that connect the stretchy tanks to what\u0027s above them and what\u0027s below them to minimize the ST node attach OnLoad() bug. Out of curiosity I tried with no struts -- same behavior except it\u0027s noticeably more wobbly on launch.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think the problem might be that you use StretchyTanks. KJR has some known problems with that mod.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-08T15:49:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022wasmic\u0022 data-cite=\u0022wasmic\u0022\u003E\u003Cdiv\u003EI think the problem might be that you use StretchyTanks. KJR has some known problems with that mod.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, the joint is being calculated from the center of the tank instead of the attachment point. Something to do with the attachment node not being moved during a call on OnLoad() (in stretchytanks) or some such thing, which causes extra wobble. What\u0027s weird here is things not going wonky until a decoupler fires and I was curious if KJR recalculates anything when that happens.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-12-08T16:28:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jrandom\u0022 data-cite=\u0022jrandom\u0022\u003E\u003Cdiv\u003EYes, the joint is being calculated from the center of the tank instead of the attachment point. Something to do with the attachment node not being moved during a call on OnLoad() (in stretchytanks) or some such thing, which causes extra wobble. What\u0027s weird here is things not going wonky until a decoupler fires and I was curious if KJR recalculates anything when that happens.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECheck the log, it logs all that. I don\u0027t think I\u0027ve ever seen that sort of recalculation going on but I never specifically lot watched for it either.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-08T16:37:06Z","Content":"\n\u003Cp\u003EI looked closer at another failure run, and the struts I have in place are actually keeping the stretchytanks attachments in place! The severe wobble is actually between the engines and the procedural fairing interstage part below them. And those connections don\u0027t get wobbly until I either decouple the SRBs, or keep the SRBs on and decouple the main engine/tank when it\u0027s done. Tried some more combination and the severe wobblyness never happens until that first stage-out, whatever part it might be.\u003C/p\u003E\u003Cp\u003EI\u0027ll do a clean .log run and post that in a bit.\u003C/p\u003E\n"},{"CreatedByName":"a.g.","CreatedById":59470,"CreatedDateTime":"2013-12-08T16:50:51Z","Content":"\n\u003Cp\u003EWhen something is decoupled, KJR goes through the vessel removing joints that bridge two newly-created vessels, and its own decoupler strengthening joints that likewise appear to span vessels; without this the \u0027no decoupler force\u0027 bug happens. It might be removing too much in this case, similar to what probably happens with the launch clamps and the ground.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-08T16:57:42Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/lehvhx0wg8d8l11/KJR_SuddenWobblies_KSP.log\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s the .log\u003C/a\u003E from start to the decoupling and introduction of the wobblies.\u003C/p\u003E\u003Cp\u003ESome mod is spamming the log with a few different things, making it trickier to work my way through. Time to learn how to use Notepad\u002B\u002B\u0027s regex find/replace, I guess..\u003C/p\u003E\n"},{"CreatedByName":"a.g.","CreatedById":59470,"CreatedDateTime":"2013-12-08T17:01:33Z","Content":"\n\u003Cp\u003ETo get a useful log you need to enable debug in the KJR config file. Also, there is a different log file in KSP_data or something, which contains things like actual stack traces for NullReferenceExceptions, of which there are a few.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-08T17:02:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022a.g.\u0022 data-cite=\u0022a.g.\u0022\u003E\u003Cdiv\u003EWhen something is decoupled, KJR goes through the vessel removing joints that bridge two newly-created vessels, and its own decoupler strengthening joints that likewise appear to span vessels; without this the \u0027no decoupler force\u0027 bug happens. It might be removing too much in this case, similar to what probably happens with the launch clamps and the ground.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInteresting... so my upper stages\u0027 joint connections can actually get weaker when I drop lower stages? Ack! Is there anyway around this?\u003C/p\u003E\n"},{"CreatedByName":"a.g.","CreatedById":59470,"CreatedDateTime":"2013-12-08T17:05:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jrandom\u0022 data-cite=\u0022jrandom\u0022\u003E\u003Cdiv\u003EInteresting... so my upper stages\u0027 joint connections can actually get weaker when I drop lower stages? Ack! Is there anyway around this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be a bug. It should only remove connections that span the decoupler that is being activated, but there is a feature where it walks the vessel hierarchy further than direct children and parents to provide more strengthening, and this might cause it to prematurely detect activation of the upper stage decouplers if they happen to create \u0027invisible struts\u0027 to those boosters for some reason.\u003C/p\u003E\u003Cp\u003EEdit: to stop it potentially walking too far, you can try removing all decouplerStiffeningExtensionType* entries from the config file. This would obviously reduce the number of invisible struts created by decouplers however.\u003C/p\u003E\u003Cp\u003EEdit2: More specifically, given how things work currently, putting StretchyTanks on that list is a very bad idea that can easily lead to this weird behavior. The list should be formed so that in any situation not involving weird things like decoupler on top of another decoupler, there would be at least one part not on the list between any two decouplers. Otherwise, decoupling one of them would also remove strengthening from the other one.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-08T17:18:15Z\u0022 title=\u002212/08/2013 05:18  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 8, 2013\u003C/time\u003E by a.g.\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-08T17:17:43Z","Content":"\n\u003Ca href=\u0022https://www.dropbox.com/s/6zdevvtkmj8pnbf/KJR_SuddenWobblies_02_Logs.zip.zip\u0022 rel=\u0022external nofollow\u0022\u003EKSP log and output log with KJR debug enabled\u003C/a\u003E. Here\u0027s to hoping the issue is both identifiable and easily-fixable! I so very much want to get past the \u0022small rockets to orbit\u0022 stage of RSS/RO. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E If I can\u0027t even launch three small sats into geosynchronous orbit, how am I going to make rockets large enough to get to BigMun? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-12-08T17:22:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jrandom\u0022 data-cite=\u0022jrandom\u0022\u003E\u003Cdiv\u003EI looked closer at another failure run, and the struts I have in place are actually keeping the stretchytanks attachments in place! The severe wobble is actually between the engines and the procedural fairing interstage part below them. And those connections don\u0027t get wobbly until I either decouple the SRBs, or keep the SRBs on and decouple the main engine/tank when it\u0027s done. Tried some more combination and the severe wobblyness never happens until that first stage-out, whatever part it might be.\u003Cp\u003EI\u0027ll do a clean .log run and post that in a bit.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s so bizarre, last night I launched something with 3 of those interstates and it was so stable.\u003C/p\u003E\u003Cp\u003EInterstages. DYAC.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2013-12-08T17:26:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EThat\u0027s so bizarre, last night I launched something with 3 of those interstates and it was so stable.\u003Cp\u003EInterstages. DYAC.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use the interstages all the time for my pod-to-orbit launches I did to get used to the scale of RSS/RO and didn\u0027t suffer any problems. I\u0027m just seeing this issue now with a taller rocket/heavier payload/more parts/more stages. If the entire rocket would just stay as stable as it is before I eject the SRBs, it would be perfect.\u003C/p\u003E\u003Cp\u003EEven tried strutting the interstage base to the engine above it, to no avail. Instawobblies on first stage-out.\u003C/p\u003E\n"}]}