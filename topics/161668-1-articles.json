{"TopicId":161668,"ForumId":69,"TopicTitle":"KSP 1.3 Broken string substitution, Steam \u0026amp; 64-bit Linux Mint 17","CreatedByName":"Bytedruid","CreatedById":178584,"CreatedDateTime":"2017-06-06T04:42:26Z","PageNum":1,"Articles":[{"CreatedByName":"Bytedruid","CreatedById":178584,"CreatedDateTime":"2017-06-06T04:42:26Z","Content":"\n\u003Cp\u003E\nI have been playing through a career game started in KSP 1.2.x\u00A0\u00A0 After the 1.3 update, Kerbal names no longer appear in the text.\u00A0 Instead odd symbols are present which I guess are in the source file and are supposed to be replaced at run-time.\u00A0 All the Kerbals are now named:\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u0022\u0026lt;\u0026lt;1^n\u0026gt;\u0026gt;\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s not a weird code, that\u0027s the name as it appears on screen.\u00A0 In addition there multiple choice substitutions that appear such as:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u0022Ferry \u0026lt;\u0026lt;n:1[/%d]\u0026gt;\u0026gt; \u0026lt;\u0026lt;n:1[a VIP]/tourists]\u0026gt;\u0026gt; safely to \u0026lt;\u0026lt;n:3[destination/destinations/destinations]\u0026gt;\u0026gt;\u0026lt;\u0026lt;n:4[./and back./ and back.]\u0026gt;\u0026gt;\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nfor contract text.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLooking in KSP.log I see the related error message (long paths have been shortened to $KSP_ROOT):\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0 [ERR 01:28:04.883] Couldn\u0027t open $KSP_ROOT/KSP_Data/Plugins/x86/liblingoona.grammar.kerbal.so, error: /usr/lib/i386-linux-gnu/libstdc\u002B\u002B.so.6: version \u0060CXXABI_1.3.8\u0027 not found (required by $KSP_ROOT/KSP_Data/Plugins/x86/liblingoona.grammar.kerbal.so)\n\u003C/p\u003E\n\u003Cp\u003E\nI gotta say, it\u0027s pretty impressive that the game is still playable even when a shared object flat out fails to load.\u00A0 Nice work Squad!\n\u003C/p\u003E\n\u003Cp\u003E\nTwo questions:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0*\u00A0 Does anyone know which version of libstdc\u002B\u002B implements the ABI listed above?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0*\u00A0 Is there any reason that the 32-bit version of the game should be launching instead of the 64-bit version when both are present?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI have screen shots if needed, thanks for the help.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"arctangent","CreatedById":167995,"CreatedDateTime":"2017-06-11T12:26:29Z","Content":"\n\u003Cp\u003E\nHey, thanks for the hint! I had (almost) the same problem on Debian 8; didn\u0027t think of looking at the log. I just tried \u003Ca href=\u0022https://packages.debian.org/stretch/libstdc\u002B\u002B6\u0022 rel=\u0022external nofollow\u0022\u003E6.3.0-18 from stretch\u003C/a\u003E and it seems to fix the issue, so I guess that version must have whatever is needed.\n\u003C/p\u003E\n"},{"CreatedByName":"Daveroski","CreatedById":93896,"CreatedDateTime":"2017-06-11T15:44:39Z","Content":"\n\u003Cp\u003E\nI was advised to upgrade to mint 18 to sort out my lingoony problems. I did and the not-found file was able to be found.\n\u003C/p\u003E\n\u003Cp\u003E\nI launch mine right from the directory so If I get the 32 bit version, it means I opened the wrong file.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Technologicat","CreatedById":153765,"CreatedDateTime":"2017-07-07T21:30:47Z","Content":"\n\u003Cp\u003E\n\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167995-arctangent/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022167995\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167995-arctangent/\u0022 rel=\u0022\u0022\u003E@arctangent\u003C/a\u003E: Thank you!\n\u003C/p\u003E\n\u003Cp\u003E\nI can confirm that the DLL \u003Cem\u003Elibstdc\u002B\u002B.so.6.0.22\u003C/em\u003E from\u00A0\u003Ckbd\u003Elibstdc\u002B\u002B6_6.3.0-18_amd64.deb\u003C/kbd\u003E fixes the issue perfectly on Linux Mint 17.2.\n\u003C/p\u003E\n\u003Cp\u003E\nThis version of Mint is otherwise problematic: the default \u003Cem\u003Elibstdc\u002B\u002B.so.6\u003C/em\u003E is too old, whereas the one from the \u003Cem\u003Eubuntu-toolchain-r\u003C/em\u003E PPA (\u003Ca href=\u0022https://stackoverflow.com/questions/20357033/how-to-fix-program-name-usr-lib-x86-64-linux-gnu-libstdc-so-6-version-cxx/20357035\u0022 rel=\u0022external nofollow\u0022\u003Eas suggested on StackOverflow\u003C/a\u003E as a solution to a similar problem) is too new (\u003Cem\u003Elibstdc\u002B\u002B.so.6.0.23\u003C/em\u003E, newer ABI) for KSP 1.3.0.\n\u003C/p\u003E\n\u003Cp\u003E\nIn case anyone else runs into this problem (and upgrading Mint is not an option for them), instructions:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nOpen your KSP_linux directory in the file manager\n\u003C/li\u003E\n\u003Cli\u003E\nFor 64-bit KSP, download the deb package, for the\u00A0\u003Cstrong\u003Eamd64\u003C/strong\u003E architecture, from the Debian site. Link posted by arctangent.\n\u003C/li\u003E\n\u003Cli\u003E\nOpen the downloaded deb package with Archive Manager\n\u003C/li\u003E\n\u003Cli\u003E\nIn Archive Manager, inside the deb package navigate to \u003Cem\u003E/usr/lib/x86_64-linux-gnu/\u003C/em\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nExtract \u003Cem\u003Elibstdc\u002B\u002B.so.6.0.22\u003C/em\u003E into your KSP_linux directory\n\u003C/li\u003E\n\u003Cli\u003E\nOpen a terminal in your KSP_linux directory\n\u003C/li\u003E\n\u003Cli\u003E\nIn the terminal, create the symlink, since KSP will look for \u0022libstdc\u002B\u002B.so.6\u0022:\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nln -s libstdc\u002B\u002B.so.6.0.22 libstdc\u002B\u002B.so.6\u003C/pre\u003E\n\u003Cp\u003E\nIt is possible to just rename the file to \u003Cem\u003Elibstdc\u002B\u002B.so.6\u003C/em\u003E, but this has the advantage of preserving the information about the ABI version in the filename.\n\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E\nCreate a startup script (\u003Cem\u003Erun.sh\u003C/em\u003E) that tells Linux (technically, the dynamic linker) to prefer this \u003Cem\u003Elibstdc\u002B\u002B.so.6\u003C/em\u003E over the system one when starting KSP:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n#!/bin/bash\nLD_LIBRARY_PATH=. ./KSP.x86_64\n\u003C/pre\u003E\n\u003Cp\u003E\nBasically, this first tries loading any DLLs (.so) from the current directory before defaulting to the system paths.\n\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E\nSet the startup script as executable:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Echmod \u002Bx run.sh\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nThen, to start KSP, open the KSP_linux directory in the terminal, and execute \u003Cem\u003E./run.sh\u003C/em\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFinal note: a startup script can be useful in other non-standard configurations. For example, my \u003Cem\u003Erun.sh\u003C/em\u003E says\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E#!/bin/bash\nLD_LIBRARY_PATH=. __GL_THREADED_OPTIMIZATIONS=0 primusrun ./KSP.x86_64\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwhich runs the game through primusrun (to run the graphics on the NVIDIA GPU). I\u0027m not sure if __GL_THREADED_OPTIMIZATIONS=0 is needed any more, but I\u0027ve left it in just in case \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}