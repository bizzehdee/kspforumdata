{"TopicId":82013,"ForumId":15,"TopicTitle":"Animation . . . complete failure","CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T02:01:02Z","PageNum":1,"Articles":[{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T02:01:02Z","Content":"\n\u003Cp\u003EI animated my part in Blender, exported it to Unity, then wrote it to KSP. I\u0027ve checked my setting against a tutorial and it looks correct. The animation isn\u0027t showing up in KSP at all though. The right click menu isn\u0027t showing either and I can\u0027t even click on my part when I\u0027m in action group mode. Finally, my engine seems to be running in the SPH and occasionally throws sparks.\u003C/p\u003E\u003Cp\u003EAny idea what the heck I just did?\u003C/p\u003E\u003Cp\u003EOh, If I tell Unity not to import the animation, then write out again, then re-edit the .cfg to remove the animation bit, everything is back to normal.\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-08-18T02:04:07Z","Content":"\n\u003Cp\u003EDoes the animation show in Unity? Also did you export it as FBX?\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-08-18T02:11:18Z","Content":"\n\u003Cp\u003Ewhich type animation is this? The Engine heat emissive? Engine throttle response animation? some generic animation? landing gear? animated lights? \u003C/p\u003E\u003Cp\u003Eare multiple animations trying to move the same transform? \u003C/p\u003E\u003Cp\u003Eunselectable part could be missing collision mesh; parts with no collision mesh will be unselectable once placed in the Editor.\u003C/p\u003E\u003Cp\u003Eneed a little more info on what you are trying to do.\u003C/p\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T02:15:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EDoes the animation show in Unity? Also did you export it as FBX?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes and yes.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Ewhich type animation is this? The Engine heat emissive? Engine throttle response animation? some generic animation? landing gear? animated lights? \u003Cp\u003Eare multiple animations trying to move the same transform? \u003C/p\u003E\u003Cp\u003Eunselectable part could be missing collision mesh; parts with no collision mesh will be unselectable once placed in the Editor.\u003C/p\u003E\u003Cp\u003Eneed a little more info on what you are trying to do.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s a generic animation named \u0022rotation\u0022. The .cfg entry was:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE{\u003Cbr\u003E   name = ModuleAnimateGeneric\u003Cbr\u003E   animationName = rotation\u003Cbr\u003E   startEventGUIName = Switch to Vertical\u003Cbr\u003E   endEventGUIName = Switch to Horizontal\u003Cbr\u003E   //actionGUIName = Toggle Direction\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s a single animation that rotates the part 90 degrees. It definitely has a collision mesh.\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2014-08-18T02:18:02Z","Content":"\n\u003Cp\u003EHi, Depending on the version of unity you use you may have to set the animation type as legacy in the inspector window, as default it\u0027s set to generic, newer 4.2 on versions dont support imported animations the way the older versions did.\u003C/p\u003E\u003Cp\u003ESetting is done at import as shown in image below\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/OAvIkQP.png\u0022 alt=\u0022OAvIkQP.png\u0022\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T02:21:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpannerMonkey(smce)\u0022 data-cite=\u0022SpannerMonkey(smce)\u0022\u003E\u003Cdiv\u003EHi, Depending on the version of unity you use you may have to set the animation type as legacy in the inspector window, as default it\u0027s set to generic, newer 4.2 on versions dont support imported animations the way the older versions did.\u003Cp\u003ESetting is done at import as shown in image below\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Ca href=\u0022http://i.imgur.com/OAvIkQP.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/OAvIkQP.png\u003C/a\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s how I have mine set.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-08-18T02:28:31Z","Content":"\n\u003Cp\u003Elike spanner mentioned. definitely check your rig setting first. should be Legacy. For transform rotation any current Unity version is alright. make sure you are using \u0022Animation\u0022 component; not \u0022Animator\u0022 component. Unity will set the correct component based on the rig setting. click \u0022Reimport\u0022 after you\u0027ve changed the rig setting just to be safe.\u003C/p\u003E\u003Cp\u003Ethis line determines what the action is named in Action Groups; probably why it\u0027s not visible because it\u0027s commented out in the Animation Module.\u003C/p\u003E\u003Cp\u003EactionGUIName = Toggle Direction\u003C/p\u003E\u003Cp\u003Edo you have other Animation Modules on the same part? AnimateHeat/AnimateThrottle/AnimateGeneric don\u0027t play nice together for whatever reason, safest to use only one of them on a part, especially if bits on the part is affected by multiple animation clips. Test each animation clip to make sure they work alone, then add other animation modules and see what breaks.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-18T02:37:41Z\u0022 title=\u002208/18/2014 02:37  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 18, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T02:42:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Elike spanner mentioned. definitely check your rig setting first. should be Legacy. For transform rotation any current Unity version is alright. make sure you are using \u0022Animation\u0022 component; not \u0022Animator\u0022 component. Unity will set the correct component based on the rig setting. click \u0022Reimport\u0022 after you\u0027ve changed the rig setting just to be safe.\u003Cp\u003Ethis line determines what the action is named in Action Groups; probably why it\u0027s not visible because it\u0027s commented out in the Animation Module.\u003C/p\u003E\u003Cp\u003EactionGUIName = Toggle Direction\u003C/p\u003E\u003Cp\u003Edo you have other Animation Modules on the same part? AnimateHeat/AnimateThrottle/AnimateGeneric don\u0027t play nice together for whatever reason, safest to use only one of them on a part, especially if bits on the part is affected by multiple animation clips.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI definitely have it set as \u0022Legacy\u0022. I\u0027m using the animation component, not animator. I changed the part.cfg so the only MODULE is the animateGeneric and I removed the comment slashes on actionGUIName. There are no other animations.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-08-18T02:57:53Z","Content":"\n\u003Cp\u003Esorry to sound like I\u0027m repetitive, your reply to spanner went in while I was typing. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003Estill no go? is Play Automatically unchecked?\u003C/p\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T03:04:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Esorry to sound like I\u0027m repetitive, your reply to spanner went in while I was typing. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003Cp\u003Estill no go? is Play Automatically unchecked?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo problem.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried it both ways with no change. KSP acts normally right up until I add the ModuleAnimateGeneric stuff. Anyone have an animated part that works without a plugin so I can just compare what I\u0027ve got to something that works?\u003C/p\u003E\u003Cp\u003EI\u0027m going to restart the Unity project, in case I messed up the part tools or something. This is driving me nuts. The engine worked just fine. Add ModuleAnimateGeneric and everything gets jacked up.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-08-18T03:17:00Z","Content":"\n\u003Cp\u003Ewhat does debug window say when you load the part in Editor or when you try to trigger the animation? ALT-F2 brings up debug console. white/orange text is okay; red is bad.\u003C/p\u003E\u003Cp\u003Ewhat\u0027s your output_log.txt say? it\u0027s in KSP_Data folder. Open it up and do a search for the part\u0027s name. you will see KSP loading its texture; then model; then config; then compiling the part for Editor. and if there\u0027s any error in one of the stages, there would be some info on what caused the error.\u003C/p\u003E\u003Cp\u003Ehere\u0027s a part using ModuleAnimateGeneric; if you import this package into an existing project; don\u0027t import the Part Tools bits. duplicate part tools in same project makes things funky.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www./download/6xzew1ij1vcvu1x/AnimateGenericPart.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./download/6xzew1ij1vcvu1x/AnimateGenericPart.zip\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-18T03:34:56Z\u0022 title=\u002208/18/2014 03:34  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 18, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T03:51:34Z","Content":"\n\u003Cp\u003EYeah, definitely a couple problems:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/nYwFs7w.png?1\u0022 alt=\u0022nYwFs7w.png?1\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe first exception happens when the SPH loads. The second is when I click on my part to add it to the craft.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-08-18T04:06:32Z","Content":"\n\u003Cp\u003ENullRefException is kind of vague, just means something is missing, could be anything though.\u003C/p\u003E\u003Cp\u003EIndexOutOfRange generally mean a module is not loaded correctly, doesn\u0027t say which one. but usually it\u0027s the last one in the config file. KSP is trying to access a module at Index 5, for example, when there are only 4 in the array, and throws IndexOutOfRange error.\u003C/p\u003E\u003Cp\u003Elaunch the part, try triggering the animation and see what comes up in Debug window. if a NullRefException comes up when you trigger the animation, it means the animation is not in the MU file. it either didn\u0027t export out of unity correctly, or KSP has the wrong MU file. \u003C/p\u003E\u003Cp\u003Edid you copy the config from another part? if so, check the part = partname line at the very beginning make sure it\u0027s not a duplicate.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-18T04:48:18Z\u0022 title=\u002208/18/2014 04:48  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 18, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T04:14:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003EIndexOutOfRange generally mean a module is not loaded correctly, doesn\u0027t say which one. but usually it\u0027s the last one in the config file. KSP is trying to access a module at Index 5, for example, when there are only 4 in the array, and throws IndexOutOfRange error.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I\u0027ve done a little programming. That\u0027s what I figured it meant, but why? I might just have to give up on animating parts for now. I might be in over my head.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-08-18T04:52:14Z","Content":"\n\u003Cp\u003Esend me the unity assets, I can take a look at it maybe figure it out. everything so far looks correct, there\u0027s something else that\u0027s not right. or post the output_log.txt, there\u0027s more info in there you don\u0027t see in debug or log.txt.\u003C/p\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-18T05:11:45Z","Content":"\n\u003Cp\u003EI\u0027ll send you the assets tomorrow. It\u0027s past midnight here. Thanks for your help.\u003C/p\u003E\n"},{"CreatedByName":"stephm","CreatedById":112604,"CreatedDateTime":"2014-08-20T21:55:20Z","Content":"\n\u003Cp\u003Ehello !\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www./download/ha780x2bumbhn48/Boxtuto.rar\u0022 rel=\u0022external nofollow\u0022\u003EBox Tuto Purpose\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ethis a full example using stock module animation and of course Firespitter (to compare both of them) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003EArchive contain full thing, blender model, UNITY file , texture, and The Complete result part Folder\u003C/p\u003E\u003Cp\u003EAnimation are made directly in UNITY because it\u0027s simpliest animations, (compile result less data size in export).\u003C/p\u003E\u003Cp\u003ELook Hierarchy in Blender and UNITY, Axis Orientation (important) and Name matching between Cfg and UNITY.\u003C/p\u003E\u003Cp\u003E-\u003C/p\u003E\u003Cp\u003E(may be need a little tweak on position on part look in cfg attachnode )\u003C/p\u003E\u003Cp\u003EFor picture look in French Post \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/83247-Petite-r%C3%A9flexion-du-matin-%28ou-parcours-ordinaire-d-un-d%C3%A9butant-%28modding%29-%29?p=1228348\u0026amp;viewfull=1#post1228348\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E start of modding tank think thing lol !\u003C/p\u003E\u003Cp\u003Esteph\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-20T22:02:04Z\u0022 title=\u002208/20/2014 10:02  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 20, 2014\u003C/time\u003E by stephm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SiliconPyro","CreatedById":19734,"CreatedDateTime":"2014-08-20T22:19:32Z","Content":"\n\u003Cp\u003EThanks, but I\u0027ve got it working great now.\u003C/p\u003E\n"}]}