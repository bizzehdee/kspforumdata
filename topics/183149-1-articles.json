{"TopicId":183149,"ForumId":36,"TopicTitle":"How does KSP compute aerodynamic heating?","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-03-26T19:22:19Z","PageNum":1,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-03-26T19:22:19Z","Content":"\n\u003Cp\u003E\nHi all,\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone know how KSP computes aerodynamic heating on vehicles in the atmosphere of a body?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve found some basic relationships on aerodynamic heating in this \u003Ca href=\u0022https://tfaws.nasa.gov/TFAWS12/Proceedings/Aerothermodynamics%20Course.pdf\u0022 rel=\u0022external nofollow\u0022\u003Echart package\u003C/a\u003E (slides 17-19), but I\u0027d like to find out what KSP does and uses.\u00A0 Does anyone have any insight?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-03-26T23:12:26Z","Content":"\n\u003Cp\u003E\nDigging around some more, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022 rel=\u0022\u0022\u003E@NathanKell\u003C/a\u003E, it looks like you\u0027ve done \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/131885-reentry-a-theoretical-primer/\u0022 rel=\u0022\u0022\u003Esome work\u003C/a\u003E in re-entry modeling in KSP. Do you have any insight into the actual models used by KSP itself to model aerodynamic heating rate?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-03-27T00:33:56Z","Content":"\n\u003Cp\u003E\nmight be able to get some insight from \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0026amp;do=hovercard\u0022 data-mentionid=\u002271262\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0022 rel=\u0022\u0022\u003E@Starwaster\u003C/a\u003E as well since he\u0027s managed the Deadly Reentry mod\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-27T00:34:06Z\u0022 title=\u002203/27/2019 12:34  AM\u0022 data-short=\u00225 yr\u0022\u003EMarch 27, 2019\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2019-03-27T11:57:06Z","Content":"\n\u003Cp\u003E\nNot sure how much I can add to what is provided by that link that \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0posted except that stock KSP scales\u00A0\u00A0supersonic heating up because Kerbins reentry speeds are much lower than earths. I think it\u2019s 3x but I\u2019m typing this on my phone in bed and I don\u2019t remember the exact value. (It\u2019s in physicsglobals in physics.cfg or ModuleManager.ConfigCache in the event physics was patched)\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-03-27T13:08:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223569673\u0022 data-ipsquote-contentid=\u0022183149\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221553687826\u0022 data-ipsquote-userid=\u002271262\u0022 data-ipsquote-username=\u0022Starwaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n42 minutes ago, Starwaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot sure how much I can add to what is provided by that link that \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0posted except that stock KSP scales\u00A0\u00A0supersonic heating up because Kerbins reentry speeds are much lower than earths. I think it\u2019s 3x but I\u2019m typing this on my phone in bed and I don\u2019t remember the exact value. (It\u2019s in physicsglobals in physics.cfg or ModuleManager.ConfigCache in the event physics was patched)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay thanks for that tidbit of information.\u00A0 I guess what I\u0027m still hoping to find is the actual math that KSP uses to compute reentry heating.\u00A0 The link I showed has a relationship but it\u0027s a mere proportionality, implying that there\u0027s some constant out there that I would need to get an actual value.\u00A0 Any idea what that constant is?\n\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2019-03-27T23:18:41Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223569290\u0022 data-ipsquote-contentid=\u0022183149\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221553628139\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/26/2019 at 8:22 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes anyone know how KSP computes aerodynamic heating on vehicles in the atmosphere of a body?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat I do know is that heating is closely related to dynamic pressure, which is part property\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-27T23:19:39Z\u0022 title=\u002203/27/2019 11:19  PM\u0022 data-short=\u00225 yr\u0022\u003EMarch 27, 2019\u003C/time\u003E by FreeThinker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2019-03-29T01:45:41Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117389\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/\u0022 rel=\u0022\u0022\u003E@FreeThinker\u003C/a\u003E\u00A0Nope, barking up the wrong tree. Heating is proportional to sqrt(rho) * v^3, not rho * v^2 (the latter being dynamic pressure). What\u0027s actually related to dynamic pressure is those cool swirly visual FX you see.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0sure thing. So, in the simple case (let\u0027s assume nothing is occluded), then the hypersonic convective coefficient is:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#00008b;\u0022\u003E1E-07\u003C/span\u003E\u00A0* MachConvectionFactor\u00A0* (density ^ MachConvectionDensityExponent) * (velocity ^\u00A0MachConvectionVelocityExponent)\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Oh, right, and the sqrt is ignored if density \u0026gt;= 1, so it\u0027s really (if density \u0026gt; 1, density, else sqrt(density)). Uh,\u00A0 since\u00A0MachConvectionDensityExponent is presumably still 0.5, unless y\u0027all changed it while I\u0027ve been gone. \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHOWEVER. Two caveats. First, if you get too low while going too fast, we have a \u0022pseudo-Reynolds number\u0022 that punishes you for doing so. If that gets too high, your convective coefficient spikes because you\u0027re in turbulent flow. Second, occlusion does weird things--the above math is only valid for the frontmost part, and behind that you\u0027re inside the shock cone and both area presented to the heating, and the effective shock temperature, get decreased.\n\u003C/p\u003E\n\u003Cp\u003E\n(And by \u0022some work\u0022 I presume you mean \u0022done wrote it\u0022 -- again, unless it\u0027s been rewritten since. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E )\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIf you want the entire thing all the way down, there\u0027s some general multipliers too, like the general convective constant, the part\u0027s convection multiplier, the part\u0027s exposed surface area, etc. Oh, and the above yields watts (like any sane formula would) and we convert to kW because KSP masses (and thus thermal masses) are in tonnes.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EARGH, hopefully last edit: don\u0027t forget radiative heat. I\u0027ve talked only about convection, above, but for fast reentries the radiation really matters too. We lerp between the full shock temperature and space background radiation based on a \u0022density thermal lerp\u0022 calculation that involves the atmosphere\u0027s adiabatic index and the mach. That\u0027s fairly complex, and has some empirically-determined piece-wise\u00A0bits.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-29T01:54:20Z\u0022 title=\u002203/29/2019 01:54  AM\u0022 data-short=\u00225 yr\u0022\u003EMarch 29, 2019\u003C/time\u003E by NathanKell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-03-29T12:30:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223570980\u0022 data-ipsquote-contentid=\u0022183149\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221553823941\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0sure thing. So, in the simple case (let\u0027s assume nothing is occluded), then the hypersonic convective coefficient is:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#00008b;\u0022\u003E1E-07\u003C/span\u003E\u00A0* MachConvectionFactor\u00A0* (density ^ MachConvectionDensityExponent) * (velocity ^\u00A0MachConvectionVelocityExponent)\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Oh, right, and the sqrt is ignored if density \u0026gt;= 1, so it\u0027s really (if density \u0026gt; 1, density, else sqrt(density)). Uh,\u00A0 since\u00A0MachConvectionDensityExponent is presumably still 0.5, unless y\u0027all changed it while I\u0027ve been gone. \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHOWEVER. Two caveats. First, if you get too low while going too fast, we have a \u0022pseudo-Reynolds number\u0022 that punishes you for doing so. If that gets too high, your convective coefficient spikes because you\u0027re in turbulent flow. Second, occlusion does weird things--the above math is only valid for the frontmost part, and behind that you\u0027re inside the shock cone and both area presented to the heating, and the effective shock temperature, get decreased.\n\u003C/p\u003E\n\u003Cp\u003E\n(And by \u0022some work\u0022 I presume you mean \u0022done wrote it\u0022 -- again, unless it\u0027s been rewritten since. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E )\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIf you want the entire thing all the way down, there\u0027s some general multipliers too, like the general convective constant, the part\u0027s convection multiplier, the part\u0027s exposed surface area, etc. Oh, and the above yields watts (like any sane formula would) and we convert to kW because KSP masses (and thus thermal masses) are in tonnes.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EARGH, hopefully last edit: don\u0027t forget radiative heat. I\u0027ve talked only about convection, above, but for fast reentries the radiation really matters too. We lerp between the full shock temperature and space background radiation based on a \u0022density thermal lerp\u0022 calculation that involves the atmosphere\u0027s adiabatic index and the mach. That\u0027s fairly complex, and has some empirically-determined piece-wise\u00A0bits.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is great, thanks!\u00A0 Where are the MachConvectionFactor, MachConvectionDensityExponent, and MachConvectionVelocityExponent defined?\u00A0 Are there \u0022typical\u0022 values for these quantities?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, if I\u0027m reading this right, the expression you provided is the heat transfer coefficient for hypersonic convection.\u00A0 There must be an expression then for the heat flux or heating rate of a body that uses this, then?\u00A0 Could I see that, too?\u00A0 Those are really what I\u0027m after. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m honestly very pleasantly surprised that KSP uses such a detailed heating model.\u00A0 Great work to the people who put it together. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2019-03-29T15:06:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223570980\u0022 data-ipsquote-contentid=\u0022183149\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221553823941\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117389\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/\u0022 rel=\u0022\u0022\u003E@FreeThinker\u003C/a\u003E\u00A0Nope, barking up the wrong tree\u003Cspan\u003E\uFEFF\u003C/span\u003E. Heating is proportional to sqrt(rho) * v^3, not rho\u003Cspan\u003E\uFEFF\u003C/span\u003E \u003Cspan\u003E\uFEFF\u003C/span\u003E* v^2 (the latter being dynamic pressure). What\u0027s actually related to dynamic pressure is those cool swirly visual FX you se\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv title=\u0022Protected by Grammarly\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwhat does \u0022rho\u0022 stand for?\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2019-04-02T02:50:14Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117389\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117389-freethinker/\u0022 rel=\u0022\u0022\u003E@FreeThinker\u003C/a\u003E\u00A0density.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0flux is (calculated external temp - skin temp) x coefficient x the global convection constant and yields watts per square meter. That is then multiplied by exposed skin area and applied to the skin thermal mass.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAll constants are in Physics.cfg\n\u003C/p\u003E\n"}]}