{"TopicId":101540,"ForumId":34,"TopicTitle":"[1.4.x] TweakScale v2.3.12(Apr-16)","CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2015-03-08T17:31:16Z","PageNum":19,"Articles":[{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2015-12-18T22:30:12Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, DarthVader said:\n\u003E \n\u003E \n\u003E I\u0027m having an issue with an AIES command part (root part on vessel) rescaling back to normal in flight. I see that it is a known issue, is there any way that I can be fixed?\n\u003E \n\nYou can look at how Roverdude fixed the USI Kontainers. He made separate parts with hardcoded scale (not using the rescaleFactor value because that will trigger the same bug)."},{"CreatedByName":"123nick","CreatedById":27488,"CreatedDateTime":"2016-01-02T10:32:42Z","Content":"plan on adding MFT support? i asked on the MFT thread, they said they will \u0022when the dust has settled\u0022 (dunno when or what exactly that is) so im thinking, maybe you can have some MFT support added?"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-02T15:05:58Z","Content":"Update: v2.2.6\n\n\\* Support for NF-Construction  \n\n\\* update for NFT Octo-Girders  \n\n\\* fix for infinite loop between TweakScale and MFT  \n\n\\* fix for engineer\u0027s report mass display"},{"CreatedByName":"Auriga_Nexus","CreatedById":149320,"CreatedDateTime":"2016-01-03T01:56:09Z","Content":"I\u0027m not sure if you are accepting suggestions for parts to be added to Tweakscale but if possible could you add the MK2 formfactor expansion mods?  \n\nI built a very, VERY heavy SSTO (over 250 tons!) that can deliver pieces 2.5m wide and up to 5m long to ~120km orbit. It has a triple fuselage - a MK3 cockpit, passenger and cargo hold, with 2 Mk2 fuselages built into the wings. the wing pieces are scaled up to 200% and the mkII fuselages are supposed to be scaled to the next scale up (3.75 opposed to 2.5) unfortunately I am only able to do this with the stock MK2 parts. The air intakes and adapters I want to use are part of the MK2 expansion mod, and being able to use those would make my craft a bit more aesthetically pleasing as well as having more space for intakes."},{"CreatedByName":"JedTech","CreatedById":104003,"CreatedDateTime":"2016-01-06T21:50:42Z","Content":"I just noticed that Gaius\u0027s original plugin is under a share alike license: [CC BY-NC-SA](http://creativecommons.org/licenses/by-nc-sa/4.0/)\n\nDoesn\u0027t Tweakscale also need to use this license?"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-01-07T12:09:37Z","Content":"\u003E \n\u003E \n\u003E 14 hours ago, JedTech said:\n\u003E \n\u003E \n\u003E I just noticed that Gaius\u0027s original plugin is under a share alike license: [CC BY-NC-SA](http://creativecommons.org/licenses/by-nc-sa/4.0/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Doesn\u0027t Tweakscale also need to use this license?\n\u003E \n\nIn the first page of the old Tweakscale thread, where the OP describes it as WTFPL, the then developer said: \u0022It\u0027s [CC BY-NC-SA](http://creativecommons.org/licenses/by-nc-sa/4.0/). I want to make it [WTFPL](http://www.wtfpl.net/about/) (my favorite licence), but I\u0027ve asked Gaius for permission to do that and haven\u0027t yet received an answer.\u0022  \n\nPresumably they got permission and updated the OP."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-10T13:35:21Z","Content":"\u003E \n\u003E \n\u003E On 3.1.2016 at 2:56 AM, Auriga\\_Nexus said:\n\u003E \n\u003E \n\u003E I\u0027m not sure if you are accepting suggestions for parts to be added to Tweakscale but if possible could you add the MK2 formfactor expansion mods?\n\u003E \n\nI happily take suggestions, most happily in the form of working ModuleManager patches. The thing is, I can\u0027t stay up to date with all the mods I\u0027m not using myself. So it often the users of those mods who contribute patches or notice when something needs an update."},{"CreatedByName":"stali79","CreatedById":136564,"CreatedDateTime":"2016-01-12T23:44:03Z","Content":"K.Yeon has updated his OPT mod and most of his wings/elvons aren\u0027t scaling. How would one go about making them scalable?"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-13T00:41:38Z","Content":"Probably the non-scaling parts have new names. This needs some sorting through his part configs and my opt\\_tweakScale file to see what is obsolete and what is missing. I\u0027d like to wait with this until there is a stable release (currently the thread says \u0027test release\u0027 so there might be more changes to come)."},{"CreatedByName":"ndiver","CreatedById":60662,"CreatedDateTime":"2016-01-14T15:13:27Z","Content":"Small question, and i\u0027m afraid that i has already been asked, but i couldn\u0027t find it in the recent pages:\n\nHow are the different parameters of the parts affected by TweakScale? For example, the Isp or the thrust of the engines when scaled up or down? Or the parameters of the mining parts (drills and converters)?\n\nThanks for your help ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-14T16:52:20Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, ndiver said:\n\u003E \n\u003E \n\u003E Small question, and i\u0027m afraid that i has already been asked, but i couldn\u0027t find it in the recent pages:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E How are the different parameters of the parts affected by TweakScale? For example, the Isp or the thrust of the engines when scaled up or down? Or the parameters of the mining parts (drills and converters)?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks for your help ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nYou find those parameters in scaleExponents.cfg in the TweakScale folder. For example mass=3 means that part mass scales with volume (=scale^3) per default (unless overridden for a part or a scaleType). Engines are balanced to preserve ISP and TWR.\n\n**Edited \u003Ctime datetime=\u00222016-01-14T16:52:58Z\u0022 title=\u002201/14/2016 04:52  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 14, 2016\u003C/time\u003E by pellinor**"},{"CreatedByName":"ndiver","CreatedById":60662,"CreatedDateTime":"2016-01-14T17:07:31Z","Content":"Thanks for the explanation, i will take a look at that ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nThe main question is to know for the different parts which version (stock or scaled) is the more interesting. The difficulty is to determine which part to use as i can\u0027t compare ingame the parameters.\n\n**Edited \u003Ctime datetime=\u00222016-01-14T17:42:39Z\u0022 title=\u002201/14/2016 05:42  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 14, 2016\u003C/time\u003E by ndiver**"},{"CreatedByName":"Rodyle","CreatedById":103194,"CreatedDateTime":"2016-01-15T11:16:46Z","Content":"Hi there! Amazing mod, thanks for maintaining it. However, I seem to have the missing scale slider bug. I found in the old thread that it\u0027s due to other mods. I was wondering if it\u0027s known which mods do this, and how to fix this nowadays. Other mods installed: HullcamVDS, kOS, Planetshine, RCSbuildaid, RemoteTech and Scatterer."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-15T17:36:16Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, Rodyle said:\n\u003E \n\u003E \n\u003E Hi there! Amazing mod, thanks for maintaining it. However, I seem to have the missing scale slider bug. I found in the old thread that it\u0027s due to other mods. I was wondering if it\u0027s known which mods do this, and how to fix this nowadays. Other mods installed: HullcamVDS, kOS, Planetshine, RCSbuildaid, RemoteTech and Scatterer.\n\u003E \n\nThis can be caused by several things, the most common are\n\n\\* There are no TweakScale modules (missing modulemanager.dll)  \n\nTo check if your part has a TweakScale module you can save a craft and search for \u0022name = TweakScale\u0022 in the craft file.\n\n\\* other mods that forbid scaling certain parts on purpose (surely not the ones from your list)\n\n\\* Exceptions, no matter if they come from TweakScale or somewhere else (search for \u0022exception\u0022 in your log).\n\n**Edited \u003Ctime datetime=\u00222016-01-15T17:37:44Z\u0022 title=\u002201/15/2016 05:37  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 15, 2016\u003C/time\u003E by pellinor**"},{"CreatedByName":"Rodyle","CreatedById":103194,"CreatedDateTime":"2016-01-15T20:15:29Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, pellinor said:\n\u003E \n\u003E \n\u003E This can be caused by several things, the most common are\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \\* There are no TweakScale modules (missing modulemanager.dll)  \n\u003E \n\u003E To check if your part has a TweakScale module you can save a craft and search for \u0022name = TweakScale\u0022 in the craft file.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \\* other mods that forbid scaling certain parts on purpose (surely not the ones from your list)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \\* Exceptions, no matter if they come from TweakScale or somewhere else (search for \u0022exception\u0022 in your log).\n\u003E \n\nHi there. Thanks for the response. I indeed was missing the module manager. Redownloaded, added it. Worked perfectly. Thanks again mate."},{"CreatedByName":"Madeiner","CreatedById":95585,"CreatedDateTime":"2016-01-16T21:29:11Z","Content":"Hi,\n\nis there a way to show the information that you normally have with rightlicking a part in the inventory that has been quickscaled?\n\nI\u0027d like to be able to see energy consuption/thrust etc for a tweakscaled part.\n\nMaybe there is some other mod that allows the RMB window to work on part in the editor, not just in the left inventory?"},{"CreatedByName":"stali79","CreatedById":136564,"CreatedDateTime":"2016-01-19T01:08:35Z","Content":"\u003E \n\u003E \n\u003E On 1/13/2016 at 11:11 AM, pellinor said:\n\u003E \n\u003E \n\u003E Probably the non-scaling parts have new names. This needs some sorting through his part configs and my opt\\_tweakScale file to see what is obsolete and what is missing. I\u0027d like to wait with this until there is a stable release (currently the thread says \u0027test release\u0027 so there might be more changes to come).\n\u003E \n\nI think with his test releases he has said that they won\u0027t change in the final release for the version."},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-01-22T15:11:22Z","Content":"Anyone has already encountered a bug when rescaling SRBs do not change their thrust ? (looked at the cfg and it is the same as other SRBs that can properly be rescaled)\n\nI am also seeing a lot of Exceptions in my debug log and experiencing some NaN when using this mod, any possible link ?\n\nIf anyone knew how to fix this, I would appreciate it. I can provide more information if needed."},{"CreatedByName":"Giuliano","CreatedById":120669,"CreatedDateTime":"2016-01-22T15:19:37Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, Gaarst said:\n\u003E \n\u003E \n\u003E Anyone has already encountered a bug when rescaling SRBs do not change their thrust ? (looked at the cfg and it is the same as other SRBs that can properly be rescaled)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I am also seeing a lot of Exceptions in my debug log and experiencing some NaN when using this mod, any possible link ?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If anyone knew how to fix this, I would appreciate it. I can provide more information if needed.\n\u003E \n\nNo, buti founded other bug. When i rescaled the Kickback SRB, the flame/plume was on the same radius/size of the original size"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-22T18:14:25Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Giuliano said:\n\u003E \n\u003E \n\u003E No, buti founded other bug. When i rescaled the Kickback SRB, the flame/plume was on the same radius/size of the original size\n\u003E \n\n[known issue.](https://github.com/pellinor0/TweakScale/issues/11)There is code for rescaling particle effects but I haven\u0027t yet understood why it broke or if it worked in the past.\n\n\u003E \n\u003E \n\u003E 3 hours ago, Gaarst said:\n\u003E \n\u003E \n\u003E Anyone has already encountered a bug when rescaling SRBs do not change their thrust ? (looked at the cfg and it is the same as other SRBs that can properly be rescaled)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I am also seeing a lot of Exceptions in my debug log and experiencing some NaN when using this mod, any possible link ?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If anyone knew how to fix this, I would appreciate it. I can provide more information if needed.\n\u003E \n\nSounds like a broken install. Your log would help. Do any of the exceptions come from TweakScale?\n\nAnd for the SRB, you also compared the TweakScale patches of those parts? If it is something exotic the patch might be out of date.\n\n**Edited \u003Ctime datetime=\u00222016-01-22T18:16:29Z\u0022 title=\u002201/22/2016 06:16  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 22, 2016\u003C/time\u003E by pellinor**"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-01-22T18:36:16Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E Sounds like a broken install. Your log would help. Do any of the exceptions come from TweakScale?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And for the SRB, you also compared the TweakScale patches of those parts? If it is something exotic the patch might be out of date.\n\u003E \n\nThe exceptions seem to be *caused* by TweakScale but linked to Real Fuels in a way ([@Svm420](https://forum.kerbalspaceprogram.com/index.php?/profile/136047-svm420/) already reported a [similar issue](https://forum.kerbalspaceprogram.com/index.php?/topic/58236-105-real-fuels-v1081-nov-19/\u0026do=findComment\u0026comment=2374192) in the RF thread): I get this spammed for a significant time when loading a craft with TweakScaled SRBs in the VAB:\n\n    [TweakScale Warning] Exception on Rescale: System.StackOverflowException: The requested operation caused a stack overflow.\n      at TweakScale.TweakScale.Setup () [0x00000] in :0 \n      at TweakScale.TweakScale.GetModuleCost (Single defaultCost) [0x00000] in :0 \n      at Part.GetModuleCosts (Single defaultCost) [0x00000] in :0 \n      at RealFuels.ModuleEngineConfigs.CostTL (Single cost, .ConfigNode cfg) [0x00000] in :0 \n      at RealFuels.ModuleEngineConfigs.DoConfig (.ConfigNode cfg) [0x00000] in :0 \n      at RealFuels.ModuleEngineConfigs.SetConfiguration (System.String newConfiguration, Boolean resetTechLevels) [0x00000] in :0 \n      at RealFuels.TweakScaleModularEnginesUpdater.OnRescale (ScalingFactor factor) [0x00000] in :0 \n      at TweakScale.TweakScale.Setup () [0x00000] in :0 \n\nFollowed by this after a good number of repetitions:\n\n    TweakScale.Tools:LogWf(String, Object[])\n    TweakScale.TweakScale:Setup()\n    TweakScale.TweakScale:GetModuleCost(Single)\n    Part:GetModuleCosts(Single)\n    RealFuels.ModuleEngineConfigs:CostTL(Single, ConfigNode)\n    RealFuels.ModuleEngineConfigs:DoConfig(ConfigNode)\n    RealFuels.ModuleEngineConfigs:SetConfiguration(String, Boolean)\n    RealFuels.TweakScaleModularEnginesUpdater:OnRescale(ScalingFactor)\n\n(The first lines occurs only once, but the following lines are repeated dozens and dozens of times)\n\nFull output\\_log.txt available [here](https://www.dropbox.com/s/18b1gka6tjv39hl/output_log.txt?dl=0). (No NaN on this log, and no crash)\n\nFor the TweakScale patches, which files do you exactly mean ?\n\nAre these the xxx\\_TweakScale.cfg found in GameData/TweakScale/patches ? If yes, the SRBs that I am using come from SpaceY which doesn\u0027t have a cfg inside patches, but inside it\u0027s own mod folder. From what I see, the module structure seems to be different but it might not be the issue: svm420 reported that the exceptions happened with all engines.\n\nSpoiler\n\nMODULE{\tname = TweakScale\ttype = stack\tdefaultScale = 2.5}\n\nFor the SpaceY files, against, for the cfgs in patches:\n\n    %MODULE[TweakScale]\n        {\n            type = stack\n            defaultScale = 2.5\n        }\n\nI think that is pretty much it, my modlist is available in my sig (I should have mentioned I was still playing with 1.0.4, shouldn\u0027t I ? Sorry for that).\n\nThank you for helping !\n\n**Edited \u003Ctime datetime=\u00222016-01-22T18:38:39Z\u0022 title=\u002201/22/2016 06:38  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 22, 2016\u003C/time\u003E by Gaarst**\n  \nGrammar and stuff"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-22T18:48:18Z","Content":"Are you using the latest version? The infinite loop should be fixed in TweakScale v2.2.6.\n\nAnd yes, the patches look fine, those are basically different ways to get the same thing."},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-01-22T18:55:07Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E Are you using the latest version? The infinite loop should be fixed in TweakScale v2.2.6.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And yes, the patches look fine, those are basically different ways to get the same thing.\n\u003E \n\nI\u0027ll try the 2.2.6, but anyway, the infinite loop is not the biggest problem: it just takes a little longer to load the rocket, but that is all.\n\nMy main concern is the fact that when rescaled, the boosters keep their original thrust; and that the mod is throwing some NaNs around when I try to launch the rocket (only happens sometimes, I will try to get it happening to proivde a log)."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-01-22T19:06:50Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, Gaarst said:\n\u003E \n\u003E \n\u003E I\u0027ll try the 2.2.6, but anyway, the infinite loop is not the biggest problem\n\u003E \n\nThe infinite loop is the biggest problem. As for pretty much any exception on vessel load, the only really safe thing to do is to terminate the program (i.e. crash to desptop), or at least leave the editor. Otherwise you accept that all sorts of completely unrelated things might be broken. As long as this is present it really makes no sense to debug other things."},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-01-22T19:20:54Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E The infinite loop is the biggest problem. As for pretty much any exception on vessel load, the only really safe thing to do is to terminate the program (i.e. crash to desptop), or at least leave the editor. Otherwise you accept that all sorts of completely unrelated things might be broken. As long as this is present it really makes no sense to debug other things.\n\u003E \n\nOk. I have tried 2.2.6, but unsurprisingly, KSP 1.0.4 doesn\u0027t like it (like really not).\n\nAlso, I can\u0027t seem to replicate the NaN. Now, the game just crashes: I load a craft, put a SRB on it, rescale the SRB, launch and the game crashes. No crash folder is generated, the game justs plainly crashes.\n\n[Output log](https://www.dropbox.com/s/qjakjzkamk3zmuf/output_log_2.txt?dl=0).\n\n**Edited \u003Ctime datetime=\u00222016-01-22T19:21:03Z\u0022 title=\u002201/22/2016 07:21  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 22, 2016\u003C/time\u003E by Gaarst**"}]}