{"TopicId":125397,"ForumId":55,"TopicTitle":"Why aren\u0026#039;t crash reports auto-submitted?","CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-14T09:39:03Z","PageNum":1,"Articles":[{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-14T09:39:03Z","Content":"\n\u003Cp\u003E[The original post asked the question sloppily so I rewrote it in hopes that communicating the question better might nix some of the confusion apparent in the thread. I\u0027d posted this as a separate thread but they got merged as of page 3]\u003C/p\u003E\u003Cp\u003EThis is not about getting devs to fix bugs, this is not about trying to store each and every crash report, it is certainly not about trying to violate your privacy and sneakily submit data behind your back. It\u0027s about producing stats on crashes (fingerprints) at their end hooked in to the dialog you get first time (\u0022mind if I send some progress data\u0022) you run ksp, and the dialog (\u0022the game has crashed, please consider sending the crash report to the game developer [OK]\u0022) that pops when you crash the game.\u003C/p\u003E\u003Cp\u003EIf that sounds too magical or not useful enough, read through\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EZOMG That\u0027s impossible because ... (otherwise skip to TL;DR)\u003C/em\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI realize that the crash reports for KSP are polluted with module crashes, gfx driver crashes, and so forth. However the stability of the game itself would still rise significantly above such background noise, and in particular, around release time, Squad should want to see the *shape* of the crash reports to determine if they\u0027ve unleashed something crazy that\u0027s broken everyone but them. For instance, if 30% of your players are crashing because of an AMD driver conflict, you might want to know.\u003C/p\u003E\u003Cp\u003ETo do this, you\u0027d need the client to offer the user the chance to send a few data points:\u003C/p\u003E\u003Cp\u003E- Client version (a 4-byte or 32-bit number),\u003C/p\u003E\u003Cp\u003E- Client Platform (a 1-byte or 8-bit number),\u003C/p\u003E\u003Cp\u003E- Exception type (a 4-byte or 32-bit number),\u003C/p\u003E\u003Cp\u003E- Exception address (an 8-byte or 64-bit number, you only need 48 bits today and 52 bits by 2020 but lets not fuss about 16 bits)\u003C/p\u003E\u003Cp\u003EMost users are just going to check the box to let these be submitted automatically, as long as they are shown a simple example of what gets sent, and so no, it doesn\u0027t have to become an extra thing to do every time you crash.\u003C/p\u003E\u003Cp\u003EOr it could be: The default unity crash handler already pops-up when the game crashes and implores you to send your crash report to the developers. It could be tuned to display \u0022You should post your crash report on the forums if it keeps occurring. Would you like to send a crash summary to Squad? [OK] [Cancel]\u0022. That\u0027s instead of the box you have to click OK in, not in addition to.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EIt\u0027s a huge amount of data!\u003C/em\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not sure what you\u0027re thinking of. People can only crash so fast and there\u0027s only so many people playing the game. Lets say over the period of 14 days 250,000 players crash 30 times a day. Thats 14 * 30 * 25000 * (17 \u002B 8) where the \u002B8 is to store a timestamp. That\u0027s 262,500,000bytes. Ooo, that\u0027s a lot! Oh wait, that\u0027s 262Mb. That\u0027s quarter of a gig over a month. Your niece\u0027s website probably stores more data to log all the webcrawlers that visit it.\u003C/p\u003E\u003Cp\u003ESo yeah, you might be talking 3Gb of data over a year, but after about 2-3 months you only need the daily or hourly counts, and I\u0027m pretty sure that the above is a worst-case scenario. It\u0027s going to take you a really, really long time to reach 1/10th of a Tb if you do this even moderately smartly.\u003C/p\u003E\u003Cp\u003EIt\u0027s a trivial amount of data that gives a game developer a huge insight into the state and stability of their product and can easily be tied into ops-stream reporting to correlate things like \u0022we put out a patch and everyone is crashing\u0022. And the non-module crashes will be distinct because they\u0027re going to be specific types of crashes with higher frequencies than the module-related crashes.\u003C/p\u003E\u003Cp\u003ESo there\u0027s good signal there.\u003C/p\u003E\u003Cp\u003EIt\u0027s not hard to do - you simply submit a \u0022GET\u0022 request with a parameterized URL, REST style if you want, or a POST with parameters. Beyond that, it\u0027s pretty simple.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EProcessing all those crashes is a staggering amount of CPU ...\u003C/em\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ENo, it isn\u0027t. It\u0027s a simple web-handler that logs five values to a database. The crash is already in a machine-readable form on the client, it uses that to generate the human readable format (output.log) you\u0027re thinking of. So we\u0027re not talking about building some super-AI that actualy reads the crash report, *sigh*.\u003C/p\u003E\u003Cp\u003EBut maybe you\u0027re still thinking that web-servers to handle those crashes are expensive. Nope, probably 2-3 amazon instances would handle it fine - the requests are incredibly light weight and the workload is almost non-existent - write to a database.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EThat seems kind of crap and useless\u003C/em\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not here to teach you how to be a game developer, but this is the kind of insight that once you have you can\u0027t understand how you survived without. Find a game producer of a successful live-development game on Twitter or Facebook and ask them how they\u0027d feel if you took away their automatic crash logging/stats?\u003C/p\u003E\u003Cp\u003ENow you could also iterate this into something more fancy, like a number of games, and when a particular crash has had 2-3 reports you have the back-end ask the client for the full crash report. Again, user control over whether that happens, but if it\u0027s a high-frequency crash, then sooner or later someone will say ok.\u003C/p\u003E\u003Cp\u003EOnce you have more than 2-3 crash reports, you can stop taking reports for that particular crash. But the thing is that now, if you have an interest in a particular crash, you also have some handy crash report instances without having to go to the forums/community.\u003C/p\u003E\u003Cp\u003EAfter a few weeks, you delete crash reports that didn\u0027t get any traction, keeping the ones that had bugs/tickets assigned to them or were used by developers.\u003C/p\u003E\u003Cp\u003EIt\u0027s not \u0022hard\u0022 to do, it probably takes a few days to implement the whole thing, and maybe a week or so to tune and get the internal front-end (for viewing the stats) into a useful state, but you can use a lot of off-the-shelf and open-source stuff to implement the vast bulk of it. It\u0027s not business criticial so you don\u0027t care if some reports get missed, the stats don\u0027t have to be perfect, just representative.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003ETL;DR: The question\u003C/em\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EAs someone who has worked on/with a number of crash reporting systems, front- and back-end, on a number of games, I\u0027m curious why KSP doesn\u0027t auto-submit even the simplest crash-fingerprints for statistics at their end?\u003C/p\u003E\u003Cp\u003EIs Squad relatively new and just unaware of the value of such a system, or are they just a really small team that doesn\u0027t have the resources to develop something so simple (or investigate just how simple it actually is, a lot of people will immediately go to the \u0022that\u0027s a ....-ton of data, nobody can handle that\u0022 mindset, which is mind-blowingly ridiculous once you actually understand whats involved), or is it just that KSPers aren\u0027t going to allow any auto-submission of anything so that it\u0027s just not worth doing?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-17T02:29:00Z\u0022 title=\u002211/17/2015 02:29  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by kfsone\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-11-14T10:00:45Z","Content":"\n\u003Cp\u003EIf a tree falls and there is no one around, does it make a noise?\u003C/p\u003E\u003Cp\u003EI like the idea, but have no idea of knowing if the dev team is geared up to handle the volumes. The process and organisation required support automated crash reporting is likely not in place and there are also probably no plans or strategy defined at the moment to implement any of it.\u003C/p\u003E\u003Cp\u003EI wait in hope...\u003C/p\u003E\n"},{"CreatedByName":"Mat2ch","CreatedById":139755,"CreatedDateTime":"2015-11-14T10:04:04Z","Content":"\n\u003Cp\u003EAaaaand I don\u0027t want a game to submit anything over the internet without my permission.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-11-14T10:05:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mat2ch\u0022 data-cite=\u0022Mat2ch\u0022\u003E\u003Cdiv\u003EAaaaand I don\u0027t want a game to submit anything over the internet without my permission.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf properly implemented, the user is allowed to opt out.\u003C/p\u003E\u003Cp\u003EBut, I still agree.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-14T10:27:24Z\u0022 title=\u002211/14/2015 10:27  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 14, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003Cbr\u003Eout not up ffs = jeeze learnt type already!\n\u003C/span\u003E\n"},{"CreatedByName":"monophonic","CreatedById":76902,"CreatedDateTime":"2015-11-14T10:31:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wallygator\u0022 data-cite=\u0022Wallygator\u0022\u003E\u003Cdiv\u003EIf properly implemented, the user is allowed to opt out.\u003Cp\u003EBut, I still agree.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOpt out is not proper implementation. Opt in works in all relevant legislations.\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2015-11-14T10:42:29Z","Content":"\n\u003Cp\u003EJust because it is easy to do, doesn\u0027t mean you should. See above for reasons why.\u003C/p\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2015-11-14T10:44:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monophonic\u0022 data-cite=\u0022monophonic\u0022\u003E\u003Cdiv\u003EOpt out is not proper implementation. Opt in works in all relevant legislations.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow about...\u003C/p\u003E\u003Cp\u003EEach time you \u0027fire up\u0027 KSP it checks to see if there is a crash log saved and then asks if you want to \u0027send all crash logs to Squad?\u0027\u003C/p\u003E\u003Cp\u003EOr, failing that, include it in the \u0027send anonymous game data\u0027 thing when first starting a new install.\u003C/p\u003E\n"},{"CreatedByName":"EladDv","CreatedById":118368,"CreatedDateTime":"2015-11-14T11:06:05Z","Content":"\n\u003Cp\u003EThere are a few reasons not to do so.\u003C/p\u003E\u003Cp\u003E1) Crashes happen for multitude of reasons- from PC issues to OS specific problems , modding , random luck , Unity issues , ram running out.\u003C/p\u003E\u003Cp\u003E2) the sheer volume of reports that would come in would make it impossible to be useful.\u003C/p\u003E\u003Cp\u003E3) the big servers they would need to sort them and store them.\u003C/p\u003E\u003Cp\u003Eand those are the ones i am thinking of right now\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-14T11:29:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wallygator\u0022 data-cite=\u0022Wallygator\u0022\u003E\u003Cdiv\u003EIf a tree falls and there is no one around, does it make a noise?\u003Cp\u003EI like the idea, but have no idea of knowing if the dev team is geared up to handle the volumes. The process and organisation required support automated crash reporting is likely not in place and there are also probably no plans or strategy defined at the moment to implement any of it.\u003C/p\u003E\u003Cp\u003EI wait in hope...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EApples and oranges: you don\u0027t not go to the grocery store because they sell too many things.\u003C/p\u003E\u003Cp\u003ECurrent situation: Dev team has no clue how many of any given crash there is, or what bugs they have introduced, because people don\u0027t write bug reports or submit their bugs very often. When a crash *is* identified, it might take a while for them to get good data on it.\u003C/p\u003E\u003Cp\u003EAlternate situation: After any given period of time, the devs have lots of simple crash data (what type of crash, what memory address, no personally identifying data). So after a release goes out, they can quickly get a sense of \u0022holy crap, everyone is crashing\u0022, vs \u0022yeah, there\u0027s a few of these\u0022, and so forth. When a specific crash becomes a problem, they are highly likely to have a small number of detailed crash reports for it ready to be looked at.\u003C/p\u003E\u003Cp\u003EThis doesn\u0027t swamp a dev team, it liberates them.\u003C/p\u003E\u003Cp\u003EYou don\u0027t email these reports *to* the dev team, they don\u0027t *have* to read them, but not having the data ... is just mind blowing, to me.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EladDv\u0022 data-cite=\u0022EladDv\u0022\u003E\u003Cdiv\u003EThere are a few reasons not to do so.\u003Cp\u003E1) Crashes happen for multitude of reasons- from PC issues to OS specific problems , modding , random luck , Unity issues , ram running out.\u003C/p\u003E\u003Cp\u003E2) the sheer volume of reports that would come in would make it impossible to be useful.\u003C/p\u003E\u003Cp\u003E3) the big servers they would need to sort them and store them.\u003C/p\u003E\u003Cp\u003Eand those are the ones i am thinking of right now\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E#1 that\u0027s why you want insight into them,\u003C/p\u003E\u003Cp\u003E#2 no,\u003C/p\u003E\u003Cp\u003E#3 no.\u003C/p\u003E\u003Cp\u003E0/3. Did you even realize I was talking about the crashes that KSP\u0027s current crash-handler catches with the little \u0022hey, send my crash log\u0022 messagebox?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pandaman\u0022 data-cite=\u0022pandaman\u0022\u003E\u003Cdiv\u003EHow about...\u003Cp\u003EEach time you \u0027fire up\u0027 KSP it checks to see if there is a crash log saved and then asks if you want to \u0027send all crash logs to Squad?\u0027\u003C/p\u003E\u003Cp\u003EOr, failing that, include it in the \u0027send anonymous game data\u0027 thing when first starting a new install.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight now, when the game crashes, it writes everything to a file and then displays a little MessageBox telling you to send in the crash report.\u003C/p\u003E\u003Cp\u003ESo instead of displaying that, that\u0027s where you write a traditional \u0022hey, I\u0027d like to send this crash report for you, here\u0027s the data I\u0027d send\u0022.\u003C/p\u003E\u003Cp\u003EAnd in the majority of cases you\u0027re just going to send a few utterly unidentifiable data points - exception type, address, possibly the a register dump, but probably not.\u003C/p\u003E\u003Cp\u003EJust the sequence of:\u003C/p\u003E\u003Cp\u003E\u0026lt;version\u0026gt;/\u0026lt;platform\u0026gt;/\u0026lt;crash type\u0026gt;/\u0026lt;address\u0026gt;\u003C/p\u003E\u003Cp\u003Eand a counter for that so that at a glance you can see what types and numbers of crashes you\u0027re getting can be incredibly helpful. If you\u0027re getting crashes \u003Cem\u003Eall over the place\u003C/em\u003E then it\u0027s still useful data for someone working the producer role.\u003C/p\u003E\u003Cp\u003EIf you\u0027re not, then you have valuable data telling you what issues and what degree you have to help you balance debug vs develop.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mat2ch\u0022 data-cite=\u0022Mat2ch\u0022\u003E\u003Cdiv\u003EAaaaand I don\u0027t want a game to submit anything over the internet without my permission.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETaken as read, sorry for not stipulating.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-14T11:35:32Z\u0022 title=\u002211/14/2015 11:35  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 14, 2015\u003C/time\u003E by kfsone\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-11-14T11:31:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monophonic\u0022 data-cite=\u0022monophonic\u0022\u003E\u003Cdiv\u003EOpt out is not proper implementation. Opt in works in all relevant legislations.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour are correct, Sir!\u003C/p\u003E\u003Cp\u003EI doff my hat to you!\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-14T11:33:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monophonic\u0022 data-cite=\u0022monophonic\u0022\u003E\u003Cdiv\u003EOpt out is not proper implementation. Opt in works in all relevant legislations.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt doesn\u0027t have to be automatic, which makes it not opt-in or opt-out but \u003Cem\u003Eactionable. \u003C/em\u003EThe data submitted would generally be trivial, just enough for them to track \u0022degree of breakage\u0022 - how often are we getting crash reports, are they the same crash, etc.\u003C/p\u003E\u003Cp\u003ESome folks will say \u0022oh no, too many crash types\u0022 - no; that\u0027s not how it works. If you\u0027re getting a million of one crash or 100 of 10,000 crashes, that\u0027s incredibly useful data. If you\u0027re seeing a million different crashes, you have a stomp.\u003C/p\u003E\u003Cp\u003EThat\u0027s why you do either the http or smtp thing, as a filtering process; the server logic decides whether the simple crash submission was enough.\u003C/p\u003E\u003Cp\u003ESo you get prompted:\u003C/p\u003E\u003Cp\u003E\u0022Hey, I crashed, can I tell Squad this: \u0026lt;1.0.5\u0026gt;/\u0026lt;pc\u0026gt;/\u0026lt;divide by zero\u0026gt;/\u0026lt;0x7fffffffff\u0026gt;?\u0022\u003C/p\u003E\u003Cp\u003EAnd sometimes it will say \u0022Great! Squad would like a little more info to help them when they look at this crash, and You\u0027ve Been Selected. We\u0027ll try very hard not to include any personally identifiable data but if you\u0027d just renamed Jeb to Miss Princesses\u0027 Little Bunnywabbit we can\u0027t guarantee that the text might not appear in the data.\u003C/p\u003E\u003Cp\u003EHere\u0027s what we\u0027d like to send:\u003C/p\u003E\u003Cp\u003E\u0026lt;more detailed crash logs with some system info, carefully vetted\u0026gt;\u0022\u003C/p\u003E\u003Cp\u003EThey probably only need 3-4 for a given, recurring crash, but then you also don\u0027t want it the first time a particular type/addr happens.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-14T11:36:06Z\u0022 title=\u002211/14/2015 11:36  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 14, 2015\u003C/time\u003E by kfsone\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"monophonic","CreatedById":76902,"CreatedDateTime":"2015-11-14T11:35:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pandaman\u0022 data-cite=\u0022pandaman\u0022\u003E\u003Cdiv\u003EHow about...\u003Cp\u003EEach time you \u0027fire up\u0027 KSP it checks to see if there is a crash log saved and then asks if you want to \u0027send all crash logs to Squad?\u0027\u003C/p\u003E\u003Cp\u003EOr, failing that, include it in the \u0027send anonymous game data\u0027 thing when first starting a new install.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBoth work, as long as you don\u0027t transmit anything you haven\u0027t asked and got permission for.\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-14T11:40:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monophonic\u0022 data-cite=\u0022monophonic\u0022\u003E\u003Cdiv\u003EBoth work, as long as you don\u0027t transmit anything you haven\u0027t asked and got permission for.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, we\u0027re not talking about ninja-privacy-violating automatic, we\u0027re talking about the system visibly and with user agreement sending the crash reports, and you\u0027re not going to lose your job because the corporate firewall catches you submitting a ksp crash dump that you didn\u0027t know about.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-11-14T12:06:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kfsone\u0022 data-cite=\u0022kfsone\u0022\u003E\u003Cdiv\u003EApples and oranges: you don\u0027t not go to the grocery store because they sell too many things.\u003Cp\u003ECurrent situation: Dev team has no clue how many of any given crash there is, or what bugs they have introduced, because people don\u0027t write bug reports or submit their bugs very often. When a crash *is* identified, it might take a while for them to get good data on it.\u003C/p\u003E\u003Cp\u003EAlternate situation: After any given period of time, the devs have lots of simple crash data (what type of crash, what memory address, no personally identifying data). So after a release goes out, they can quickly get a sense of \u0022holy crap, everyone is crashing\u0022, vs \u0022yeah, there\u0027s a few of these\u0022, and so forth. When a specific crash becomes a problem, they are highly likely to have a small number of detailed crash reports for it ready to be looked at.\u003C/p\u003E\u003Cp\u003EThis doesn\u0027t swamp a dev team, it liberates them.\u003C/p\u003E\u003Cp\u003EYou don\u0027t email these reports *to* the dev team, they don\u0027t *have* to read them, but not having the data ... is just mind blowing, to me.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E#1 that\u0027s why you want insight into them,\u003C/p\u003E\u003Cp\u003E#2 no,\u003C/p\u003E\u003Cp\u003E#3 no.\u003C/p\u003E\u003Cp\u003E0/3.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ERight now, when the game crashes, it writes everything to a file and then displays a little MessageBox telling you to send in the crash report.\u003C/p\u003E\u003Cp\u003ESo instead of displaying that, that\u0027s where you write a traditional \u0022hey, I\u0027d like to send this crash report for you, here\u0027s the data I\u0027d send\u0022.\u003C/p\u003E\u003Cp\u003EAnd in the majority of cases you\u0027re just going to send a few utterly unidentifiable data points - exception type, address, possibly the a register dump, but probably not.\u003C/p\u003E\u003Cp\u003EJust the sequence of:\u003C/p\u003E\u003Cp\u003E\u0026lt;version\u0026gt;/\u0026lt;platform\u0026gt;/\u0026lt;crash type\u0026gt;/\u0026lt;address\u0026gt;\u003C/p\u003E\u003Cp\u003Eand a counter for that so that at a glance you can see what types and numbers of crashes you\u0027re getting can be incredibly helpful. If you\u0027re getting crashes \u003Cem\u003Eall over the place\u003C/em\u003E then it\u0027s still useful data for someone working the producer role.\u003C/p\u003E\u003Cp\u003EIf you\u0027re not, then you have valuable data telling you what issues and what degree you have to help you balance debug vs develop.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ETaken as read, sorry for not stipulating.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK, I\u0027m not going to attempt to educate the \u0022masses\u0022 and please don\u0027t take this as personal since I have no idea of any forum member\u0027s (or your) level of experience pertaining to this particular topic.\u003C/p\u003E\u003Cp\u003EI (perhaps wrongly) assume that folks contributing to this thread have a reasonable level of experience addressing core elements of IT and service support.\u003C/p\u003E\u003Cp\u003E(Disclamer completed)\u003C/p\u003E\u003Cp\u003ERegardless of any preferred method of \u0022Reporting errors\u0022: I STILL FEEL UNCONVINCED that our beloved (and in my opinion still over stretched) dev team has the capacity, insight, strategy or process in place to effectively and efficiently comprehend and address this potential plethora of automated crash reports \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Ethat will overwhelm them\u003C/span\u003E following implementation of such capability.\u003C/p\u003E\u003Cp\u003E\u0022Liberation\u0022 assumes that the appropriate processes, governance and prioritisation capabilities are in place \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Eand validated\u003C/span\u003E well ahead of the \u0022tsunami of crash reports\u0022 that will ultimately ensue. And, If folks (you the reader) don\u0027t comprehend the necessary elements of human intervention that automated crash reporting implies, then I kindly suggest the community should start code-ifing it all now. Let me know how you get on.\u003C/p\u003E\u003Cp\u003EI genuinely encourage anyyone who dreams of automated crash reporting (that confers comprehension of deep problem management and mitigation) to wake up and join the present day IT profession.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETL;DR: This is not simple.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003ENOTE: Apologies to Squad if the above is already incorporated into their master plan.\u003C/em\u003E\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-14T12:25:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wallygator\u0022 data-cite=\u0022Wallygator\u0022\u003E\u003Cdiv\u003E\u0022Liberation\u0022 assumes that the appropriate processes, governance and prioritisation capabilities are in place \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Eand validated\u003C/span\u003E well ahead of the \u0022tsunami of crash reports\u0022 that will ultimately ensue. And, If folks (you the reader) don\u0027t comprehend the necessary elements of human intervention that automated crash reporting implies, then I kindly suggest the community should start code-ifing it all now. Let me know how you get on.\u003Cp\u003EI genuinely encourage anyyone who dreams of automated crash reporting (that confers comprehension of deep problem management and mitigation) to wake up and join the present day IT profession.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe fact that you imagine it to be harder than it is only speaks to the fact you\u0027ve not had to deal with it \u003Cem\u003Eyet\u003C/em\u003E. I\u0027m pretty sure that if you were tasked with implementing it you\u0027d quickly realize it\u0027s a lot less work than it sounds. You\u0027re basically adding mass to the problem and then complaining about the dV required to lift it off the ground.\u003C/p\u003E\u003Cp\u003ESo I\u0027ll give you a few starters.\u003C/p\u003E\u003Cp\u003E- The worst-case RPS is clearly defined: count(players) / maxCrashPerPlayerPerSecond. \u003C/p\u003E\u003Cp\u003E- The logic is trivial.\u003C/p\u003E\u003Cp\u003E-- UPDATE crashes SET count = count \u002B 1 WHERE platform = ? AND version = ? AND execption = ? AND pc = ?;\u003C/p\u003E\u003Cp\u003E-- SELECT IF(count \u0026gt; BETWEEN ? and ?,302,200) AS result WHERE platform = ? AND version = ? AND exception = ? AND pc = ?;\u003C/p\u003E\u003Cp\u003E- The vast majority of the time you\u0027re just handling a GET of \u0022/\u0026lt;platform\u0026gt;/\u0026lt;version\u0026gt;/\u0026lt;exception\u0026gt;/\u0026lt;pc\u0026gt;\u0022 based on the parameters in one of the error log files.\u003C/p\u003E\u003Cp\u003EBut how likely is it that you\u0027ll experience the critical absolute worst-case scenario? Maybe after patch some large proportion of your players will all play at the same time, but it\u0027s rare that more than 10% of the players of a game be playing at the same time.\u003C/p\u003E\u003Cp\u003EOne guy earlier said \u0022there are lots of types of crashes\u0022, we\u0027re only interested in the types that produce an error.log and then we use the well-defined, well enumerated values that are turned into text in that file. They are: exception type (\u0022KSP.exe caused an Access Violation (0xc0000005)\u0022 where c..5 is the exception enumeration) and the program counter (\u0022in module KSP.exe at 0023:005cf31c.\u0022 where a 64-bit number will handle all the address ranges you need, but you might want to distinguish 32 from 64 bit.\u003C/p\u003E\u003Cp\u003EI can only speak to how easy it\u0027s been to implement at the places I\u0027ve worked on games in the last 14 years out of my 27 years as a software developer.\u003C/p\u003E\u003Cp\u003EWhat I will credit as being \u0022hard\u0022 is getting someone on any given team to put together the thing that lets you see the current stats \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-14T12:36:18Z\u0022 title=\u002211/14/2015 12:36  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 14, 2015\u003C/time\u003E by kfsone\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Majorjim!","CreatedById":61954,"CreatedDateTime":"2015-11-14T13:25:15Z","Content":"\n\u003Cp\u003EBecause there are so many and they are so frequent that there in not enough storage on the entire Earth to house them.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-11-14T14:12:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kfsone\u0022 data-cite=\u0022kfsone\u0022\u003E\u003Cdiv\u003EThe fact that you imagine it to be harder than it is only speaks to the fact you\u0027ve not had to deal with it \u003Cem\u003Eyet\u003C/em\u003E. I\u0027m pretty sure that if you were tasked with implementing it you\u0027d quickly realize it\u0027s a lot less work than it sounds. You\u0027re basically adding mass to the problem and then complaining about the dV required to lift it off the ground.\u003Cp\u003ESo I\u0027ll give you a few starters.\u003C/p\u003E\u003Cp\u003E- The worst-case RPS is clearly defined: count(players) / maxCrashPerPlayerPerSecond. \u003C/p\u003E\u003Cp\u003E- The logic is trivial.\u003C/p\u003E\u003Cp\u003E-- UPDATE crashes SET count = count \u002B 1 WHERE platform = ? AND version = ? AND execption = ? AND pc = ?;\u003C/p\u003E\u003Cp\u003E-- SELECT IF(count \u0026gt; BETWEEN ? and ?,302,200) AS result WHERE platform = ? AND version = ? AND exception = ? AND pc = ?;\u003C/p\u003E\u003Cp\u003E- The vast majority of the time you\u0027re just handling a GET of \u0022/\u0026lt;platform\u0026gt;/\u0026lt;version\u0026gt;/\u0026lt;exception\u0026gt;/\u0026lt;pc\u0026gt;\u0022 based on the parameters in one of the error log files.\u003C/p\u003E\u003Cp\u003EBut how likely is it that you\u0027ll experience the critical absolute worst-case scenario? Maybe after patch some large proportion of your players will all play at the same time, but it\u0027s rare that more than 10% of the players of a game be playing at the same time.\u003C/p\u003E\u003Cp\u003EOne guy earlier said \u0022there are lots of types of crashes\u0022, we\u0027re only interested in the types that produce an error.log and then we use the well-defined, well enumerated values that are turned into text in that file. They are: exception type (\u0022KSP.exe caused an Access Violation (0xc0000005)\u0022 where c..5 is the exception enumeration) and the program counter (\u0022in module KSP.exe at 0023:005cf31c.\u0022 where a 64-bit number will handle all the address ranges you need, but you might want to distinguish 32 from 64 bit.\u003C/p\u003E\u003Cp\u003EI can only speak to how easy it\u0027s been to implement at the places I\u0027ve worked on games in the last 14 years out of my 27 years as a software developer.\u003C/p\u003E\u003Cp\u003EWhat I will credit as being \u0022hard\u0022 is getting someone on any given team to put together the thing that lets you see the current stats \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECollecting and having stats available is straightforward, yes. I cannot disagree with you. But code alone will not deliver a viable service capability.\u003C/p\u003E\u003Cp\u003EYou are also quite perceptive, I do not have decades of experience creating or managing digital game support systems - rather decades of experience creating and managing a wide variety of business systems and adjunct support processes including codified elements. Perhaps my fundamental mistake is assuming there are common principles. I apologise if this is an incorrect assumption. That said, I do not in anyway discount anyone\u0027s experience on this particulate subject.\u003C/p\u003E\u003Cp\u003ETo terminate my contribution to this thread in a constructive manner --\u0026gt; I believe everything you said sounds great. I await the moment where i\u0027m convinced that THIS particular game and THIS particular dev team can do it. \u003C/p\u003E\u003Cp\u003EPerhaps someone could volunteer time make this all happen seeing as it is so straight forward. That would be a really good (actually great ) outcome. In good conscience, I would even purchase another game license to support the effort, knowing that such an effort was underway.\u003C/p\u003E\u003Cp\u003EOver and out.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-14T17:37:49Z\u0022 title=\u002211/14/2015 05:37  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 14, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Temeter","CreatedById":58056,"CreatedDateTime":"2015-11-14T14:18:10Z","Content":"\n\u003Cp\u003EProbably because it just doesn\u0027t make much sense; KSP got countless crashs because of memory or mods. Sorting auto-reports would be a huge amount of work and mostly a waste of time.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pandaman\u0022 data-cite=\u0022pandaman\u0022\u003E\u003Cdiv\u003EHow about...\u003Cp\u003EEach time you \u0027fire up\u0027 KSP it checks to see if there is a crash log saved and then asks if you want to \u0027send all crash logs to Squad?\u0027\u003C/p\u003E\u003Cp\u003EOr, failing that, include it in the \u0027send anonymous game data\u0027 thing when first starting a new install.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be utterly annoying. Not only crashes the game quite easily (if not always by squads fault), but now you have to klick away some silly message? I\u0027m already bothered by the \u0027this is for 1.0.x\u0027 mod messages.\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-15T06:44:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majorjim\u0022 data-cite=\u0022Majorjim\u0022\u003E\u003Cdiv\u003EBecause there are so many and they are so frequent that there in not enough storage on the entire Earth to house them.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMust be taken up by the other games that do this, then? (EverQuest, DAoC, WWII Online, Blizzard, Eve, have been doing this for over a decade... It\u0027s really not hard, and it shouldn\u0027t have taken much reading of what I wrote to understand you don\u0027t have to store *everything*)\u003C/p\u003E\u003Cp\u003EIf you have a million crash reports, with a platform id, version id, 64-bit address, 64-bit timestamp, and a 64-bit program counter and a 32-bit incident counter... that\u0027s 36 bytes per record, so even if you have a million crash reports for a particular build, \u0026lt;drum roll\u0026gt; that\u0027s a tiny amount of data by today\u0027s standards. 36 million bytes is 34Mb. I\u0027m pretty sure that\u0027s not more storage than the entire earth. If you had a billion crash reports for a single build, (a) you\u0027re doing it wrong, (\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E that\u0027s 36Gb. Still not more than the entire earth, although it might be more than your PC.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-15T06:47:54Z\u0022 title=\u002211/15/2015 06:47  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 15, 2015\u003C/time\u003E by kfsone\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-15T08:09:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wallygator\u0022 data-cite=\u0022Wallygator\u0022\u003E\u003Cdiv\u003ECollecting and having stats available is straightforward, yes. I cannot disagree with you. But code alone will not deliver a viable service capability.\u003Cp\u003EYou are also quite perceptive, I do not have decades of experience creating or managing digital game support systems - rather decades of experience creating and managing a wide variety of business systems and adjunct support processes including codified elements. Perhaps my fundamental mistake is assuming there are common principles. I apologise if this is an incorrect assumption. That said, I do not in anyway discount anyone\u0027s experience on this particulate subject.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, you\u0027re just trying to implement too complex a solution for the problem. The problem: no visibility of what kind of patterns of crash behavior the development team is causing. Solution: Count them.\u003C/p\u003E\u003Cp\u003EIt\u0027s not true that there\u0027s an infinite number of addresses that a given build can crash at - it\u0027ll only crash at so many locations, even with a stomp or a leak.\u003C/p\u003E\u003Cp\u003ESo - as I teased above, the number of counters you need for a given build is very small. One very, very large MMO I\u0027m familiar with uses less than 50Gb of storage for 11 years of many millions of players automated crash reports. The trick is, they don\u0027t store the whole thing every time. They only sample a few so that they have *some* data, and the mass of the rest they just bump a counter.\u003C/p\u003E\u003Cp\u003EBut in order for that to happen, the client has to have the ability to send the crash report.\u003C/p\u003E\u003Cp\u003EThe game already does everything but send the report, and they\u0027re using Unity so ... it\u0027s a previously solved problem (\u003Ca href=\u0022http://www.jenkinssoftware.com/raknet/manual/crashreporter.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.jenkinssoftware.com/raknet/manual/crashreporter.html\u003C/a\u003E \u003Cem\u003Ejust off the top of my head\u003C/em\u003E). Gathering the data is extremely trivial - remember, we\u0027re talking summary\u003C/p\u003E\u003Cp\u003E UPDATE crash_counts SET counter = counter \u002B 1 WHERE platform = ? AND version = ? AND pcr = ?\u003C/p\u003E\u003Cp\u003Eor thereabouts.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EPerhaps someone could volunteer time make this all happen seeing as it is so straight forward. That would be a really good (actually great ) outcome. In good conscience, I would even purchase another game license to support the effort, knowing that such an effort was underway.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1. Write a stored procedure that takes platform#, version#, exception type, and program counter,\u003C/p\u003E\u003Cp\u003E2. Have the SP create or increment the plat/ver/exc/pcr counter,\u003C/p\u003E\u003Cp\u003E3. Select a cloud and/or web service to host a trivial service that can host a lightweight get-based requester,\u003C/p\u003E\u003Cp\u003E4. On receiving a GET and doing basic validation of the request, call the SP,\u003C/p\u003E\u003Cp\u003EYour choices are: simple, granular counters (e.g. roll counters at the hour) or simply record each crash report as a line item (it\u0027s never going to be a lot of data but I\u0027m not getting paid to argue the case, so *shrug*)\u003C/p\u003E\u003Cp\u003EYou could split it into a couple of components: an http request handler and a counter/writer that services a zmq request channel... (Or just write it in go).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E# HTTP GET handler\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eimport json\u003Cbr\u003Eimport zmq\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eclass Context(object):\u003Cbr\u003E    ctx = zmq.Context()\u003Cbr\u003E    sock = ctx.socket(zmq.PUSH)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    def __init__(self):\u003Cbr\u003E        self.sock.connect(\u0022tcp://counter-master\u0022, 10234) # needs timeout\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    def send_count(self, plat, ver, exc, addr):\u003Cbr\u003E        self.sock.send_json({\u003Cbr\u003E            \u0027cmd\u0027:\u0027count\u0027, \u0027p\u0027:plat, \u0027v\u0027:ver, \u0027e\u0027:exc, \u0027a\u0027:addr\u003Cbr\u003E        })\u003Cbr\u003E        return True\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Edef http_get_handler(context, request, keys):\u003Cbr\u003E    try:\u003Cbr\u003E        platform  = keys[\u0027p\u0027]  # 0 = pc, 1 = mac, 2 = linux, etc...\u003Cbr\u003E        version   = keys[\u0027v\u0027]  # 32-bit numeric value\u003Cbr\u003E        exception = keys[\u0027e\u0027]  # exception code (32-bit value)\u003Cbr\u003E        addr      = keys[\u0027a\u0027]  # program counter (address of crash)\u003Cbr\u003E    except KeyError as e:\u003Cbr\u003E        raise HTTP500(\u0022Bugger off, hacker. \u0022 \u002B str(e))\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    try:\u003Cbr\u003E        platform = int(platform)\u003Cbr\u003E        version  = int(version)\u003Cbr\u003E        exception = int(exception)\u003Cbr\u003E        addr = int(addr)\u003Cbr\u003E    except ValueError as e:\u003Cbr\u003E        raise HTTP500(\u0022You bad hacker, you. \u0022 \u002B str(e))\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    try:\u003Cbr\u003E        if platform \u0026lt; 0 or platform \u0026gt; MAX_PLATFORM:\u003Cbr\u003E            raise ValueError(\u0022Invlaid platform\u0022)\u003Cbr\u003E        if version \u0026lt; 0x01000000 or version \u0026gt; MAX_VERSION:\u003Cbr\u003E            raise ValueError(\u0022Invalid version\u0022)\u003Cbr\u003E        if exception \u0026lt;= 0 or exception \u0026gt;= 1 \u0026lt;\u0026lt; 32:\u003Cbr\u003E            raise ValueError(\u0022Invalid exception\u0022)\u003Cbr\u003E        if addr \u0026gt;= 1 \u0026lt;\u0026lt; 52:\u003Cbr\u003E            raise ValueError(\u0022Valid program counter - if it was 2025\u0022)\u003Cbr\u003E    except ValueError as e:\u003Cbr\u003E        raise HTTP500(\u0022You\u0027re just terribad at this hacking. \u0022 \u002B str(e))\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    if context.send_count() is not True:\u003Cbr\u003E        raise HTTP500(\u0022Internal error. You win this time.\u0022)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    return 200, \u0022OK\u0022\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eclass Service:\u003Cbr\u003E    ctx = zmq.Context()\u003Cbr\u003E    sock = ctx.socket(zmq.PULL)\u003Cbr\u003E    counters = default(dict) # count by version for various reasons\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    def __init__(self):\u003Cbr\u003E        self.sock.bind(\u0022tcp://counter-master\u0022, 10234)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    def run(self):\u003Cbr\u003E        while True:\u003Cbr\u003E            msg = self.sock.recv_json()\u003Cbr\u003E\u003Cbr\u003E            if msg[\u0027cmd\u0027] == \u0027count\u0027:\u003Cbr\u003E                self.count(msg)\u003Cbr\u003E            elif msg[\u0027cmd\u0027] == \u0027flush\u0027:\u003Cbr\u003E                self.flush(msg[\u0027version\u0027]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    def count(self, msg):\u003Cbr\u003E        plat, ver, exc, addr = msg[\u0027p\u0027], msg[\u0027v\u0027], msg[\u0027e\u0027], msg[\u0027a\u0027]\u003Cbr\u003E        versions = self.counters.get(ver, None)\u003Cbr\u003E        if versions is None:\u003Cbr\u003E            versions = self.counters[ver] = {}\u003Cbr\u003E        verPlats = versions.get(plat, None)\u003Cbr\u003E        if verPlats is None:\u003Cbr\u003E            verPlats = versions[plat] = defaultdict(int)\u003Cbr\u003E        verPlats[\u0027{}.{}\u0027.format(exc, addr)] \u002B= 1\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        self.update_database()\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    def update_database(self):\u003Cbr\u003E        # you probably want to mark the record as dirty,\u003Cbr\u003E        # and perform the underlying database commit in a few seconds\u003Cbr\u003E        # rather than immediately, allowing you to batch writes.\u003Cbr\u003E        pass\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    def flush(self, flushVersion):\u003Cbr\u003E        # optimistic approach\u003Cbr\u003E        self.counters = {\u003Cbr\u003E            k: v for k, v in self.counters\u003Cbr\u003E            if k \u0026gt; flushVersion\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI didn\u0027t spell check that but basically something along those lines.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Temeter\u0022 data-cite=\u0022Temeter\u0022\u003E\u003Cdiv\u003EProbably because it just doesn\u0027t make much sense; KSP got countless crashs because of memory or mods. Sorting auto-reports would be a huge amount of work and mostly a waste of time.\u003Cp\u003EThat would be utterly annoying. Not only crashes the game quite easily (if not always by squads fault), but now you have to klick away some silly message? I\u0027m already bothered by the \u0027this is for 1.0.x\u0027 mod messages.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust about every other game on the planet does this, several game services provide this ability as a built-in.\u003C/p\u003E\u003Cp\u003EI\u0027ve not done a good job of addressing my question so that everyone is on the same page: that is, I\u0027m not talking about getting bugs fixed, I\u0027m not talking about sending each and every crash report automatically, nor to some \u003Cem\u003Eperson\u0027s \u003C/em\u003Emailbox.\u003C/p\u003E\u003Cp\u003EIndeed, mostly what I\u0027m talking about is using the crash reporter to collect stats. The fact that you could also then collect some small subset of each crash that happens more than N times would mean that the developers would have data on-hand when they need it.\u003C/p\u003E\u003Cp\u003EAs to the size of that data, it\u0027s tiny. Radically less than the web-logs for most major websites. And it\u0027s not the business end of the system so it doesn\u0027t matter if you don\u0027t keep every last octet of data.\u003C/p\u003E\u003Cp\u003EBut not having any of it is a problem. What we\u0027re talking about is when a new patch goes out.\u003C/p\u003E\u003Cp\u003E\u0022But mods\u0022 - no, you\u0027re wrong. Mods will change the crashes, and ultimately what they will want to care about are crashes they introduce during testing and immediately during release. \u003C/p\u003E\u003Cp\u003ESome of you are thinking of this as a hard direct-to-bug-solving thing, but it\u0027s not, it\u0027s a \u0022production\u0022 issue.\u003C/p\u003E\u003Cp\u003EWhat we\u0027re talking about is submitting the four key values (platform, version, exception type and pcr) so that they can draw graphs, so that they can tell how stable the current build is, and so forth.\u003C/p\u003E\u003Cp\u003EData: In the order of gigabytes for most games after 10 years of collection,\u003C/p\u003E\u003Cp\u003EUse : Monitoring, not bug fixing - although some games also use it for bug fixing when something spikes really hard, e.g. WoW,\u003C/p\u003E\u003Cp\u003ECost: Less than the staff coffee, over time.\u003C/p\u003E\u003Cp\u003EDifficulty: Well, maybe because I\u0027ve written something like this for two different games, as well as for two different gaming middleware products, I don\u0027t think it\u0027s \u0022difficult\u0022, but then my wife doesn\u0027t thinking it\u0027s \u0022difficult\u0022 to operate our feking toaster, and I swear she\u0027s a witch.\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2015-11-16T22:07:40Z","Content":"\nThis is not about getting devs to fix bugs, this is not about trying to store each and every crash report, it is certainly not about trying to violate your privacy and sneakily submit data behind your back. It\u0026#39;s about producing stats on crashes (fingerprints) at their end hooked in to the dialog you get first time (\u0022mind if I send some progress data\u0022) you run ksp, and the dialog (\u0022the game has crashed, please consider sending the crash report to the game developer [OK]\u0022) that pops when you crash the game.\u003Cbr\u003E\n\u003Cbr\u003E\nIf that sounds too magical or not useful enough, read through\u003Cbr\u003E\n\u003Cbr\u003E\n[B][I]ZOMG That\u0026#39;s impossible because ... [/I][/B](otherwise skip to [I][B]TL;DR[/B][/I])\u003Cbr\u003E\n\u003Cbr\u003E\nI realize that the crash reports for KSP are polluted with module crashes, gfx driver crashes, and so forth. However the stability of the game itself would still rise significantly above such background noise, and in particular, around release time, Squad should want to see the *shape* of the crash reports to determine if they\u0026#39;ve unleashed something crazy that\u0026#39;s broken everyone but them. For instance, if 30% of your players are crashing because of an AMD driver conflict, you might want to know.\u003Cbr\u003E\n\u003Cbr\u003E\nTo do this, you\u0026#39;d need the client to offer the user the chance to send a few data points:\u003Cbr\u003E\n\u003Cbr\u003E\n- Client version (a 4-byte or 32-bit number),\u003Cbr\u003E\n- Client Platform (a 1-byte or 8-bit number),\u003Cbr\u003E\n- Exception type (a 4-byte or 32-bit number),\u003Cbr\u003E\n- Exception address (an 8-byte or 64-bit number, you only need 48 bits today and 52 bits by 2020 but lets not fuss about 16 bits)\u003Cbr\u003E\n\u003Cbr\u003E\nMost users are just going to check the box to let these be submitted automatically, as long as they are shown a simple example of what gets sent, and so no, it doesn\u0026#39;t have to become an extra thing to do every time you crash.\u003Cbr\u003E\n\u003Cbr\u003E\nOr it could be: The default unity crash handler already pops-up when the game crashes and implores you to send your crash report to the developers. It could be tuned to display \u0022You should post your crash report on the forums if it keeps occurring. Would you like to send a crash summary to Squad? [OK] [Cancel]\u0022. That\u0026#39;s instead of the box you have to click OK in, not in addition to.\u003Cbr\u003E\n\u003Cbr\u003E\n[B][I]It\u0026#39;s a huge amount of data!\u003Cbr\u003E\n\u003Cbr\u003E\n[/I][/B]I\u0026#39;m not sure what you\u0026#39;re thinking of. People can only crash so fast and there\u0026#39;s only so many people playing the game. Lets say over the period of 14 days 250,000 players crash 30 times a day. Thats 14 * 30 * 25000 * (17 \u002B 8) where the \u002B8 is to store a timestamp. That\u0026#39;s 262,500,000bytes. Ooo, that\u0026#39;s a lot! Oh wait, that\u0026#39;s 262Mb. That\u0026#39;s quarter of a gig over a month. Your niece\u0026#39;s website probably stores more data to log all the webcrawlers that visit it.\u003Cbr\u003E\n\u003Cbr\u003E\nSo yeah, you might be talking 3Gb of data over a year, but after about 2-3 months you only need the daily or hourly counts, and I\u0026#39;m pretty sure that the above is a worst-case scenario. It\u0026#39;s going to take you a really, really long time to reach 1/10th of a Tb if you do this even moderately smartly.\u003Cbr\u003E\n\u003Cbr\u003E\nIt\u0026#39;s a trivial amount of data that gives a game developer a huge insight into the state and stability of their product and can easily be tied into ops-stream reporting to correlate things like \u0022we put out a patch and everyone is crashing\u0022. And the non-module crashes will be distinct because they\u0026#39;re going to be specific types of crashes with higher frequencies than the module-related crashes.\u003Cbr\u003E\n\u003Cbr\u003E\nSo there\u0026#39;s good signal there.\u003Cbr\u003E\n\u003Cbr\u003E\nIt\u0026#39;s not hard to do - you simply submit a \u0022GET\u0022 request with a parameterized URL, REST style if you want, or a POST with parameters. Beyond that, it\u0026#39;s pretty simple.\u003Cbr\u003E\n\u003Cbr\u003E\n[B][I]Processing all those crashes is a staggering amount of CPU ...\u003Cbr\u003E\n[/I][/B]\u003Cbr\u003E\nNo, it isn\u0026#39;t. It\u0026#39;s a simple web-handler that logs five values to a database. The crash is already in a machine-readable form on the client, it uses that to [I]generate [/I]the human readable format (output.log) you\u0026#39;re thinking of. So we\u0026#39;re not talking about building some super-AI that actualy reads the crash report, *sigh*.\u003Cbr\u003E\n\u003Cbr\u003E\nBut maybe you\u0026#39;re still thinking that web-servers to handle those crashes are expensive. Nope, probably 2-3 amazon instances would handle it fine - the requests are incredibly light weight and the workload is almost non-existent - write to a database.\u003Cbr\u003E\n\u003Cbr\u003E\n[B][I]That seems kind of crap and useless\u003Cbr\u003E\n[/I][/B]\u003Cbr\u003E\nI\u0026#39;m not here to teach you how to be a game developer, but this is the kind of insight that once you have you can\u0026#39;t understand how you survived without. Find a game producer of a successful live-development game on Twitter or Facebook and ask them how they\u0026#39;d feel if you took away their automatic crash logging/stats?\u003Cbr\u003E\n\u003Cbr\u003E\nNow you could also iterate this into something more fancy, like a number of games, and when a particular crash has had 2-3 reports you have the back-end ask the client for the full crash report. Again, user control over whether that happens, but if it\u0026#39;s a high-frequency crash, then sooner or later someone will say ok.\u003Cbr\u003E\n\u003Cbr\u003E\nOnce you have more than 2-3 crash reports, you can stop taking reports for that particular crash. But the thing is that now, if you have an interest in a particular crash, you also have some handy crash report instances without having to go to the forums/community.\u003Cbr\u003E\n\u003Cbr\u003E\nAfter a few weeks, you delete crash reports that didn\u0026#39;t get any traction, keeping the ones that had bugs/tickets assigned to them or were used by developers.\u003Cbr\u003E\n\u003Cbr\u003E\nIt\u0026#39;s not \u0022hard\u0022 to do, it probably takes a few days to implement the whole thing, and maybe a week or so to tune and get the internal front-end (for viewing the stats) into a useful state, but you can use a lot of off-the-shelf and open-source stuff to implement the vast bulk of it. It\u0026#39;s not business criticial so you don\u0026#39;t care if some reports get missed, the stats don\u0026#39;t have to be perfect, just representative.\u003Cbr\u003E\n\u003Cbr\u003E\n[B][I]TL;DR: The question[/I][/B]\u003Cbr\u003E\n\u003Cbr\u003E\nAs someone who has worked on/with a number of crash reporting systems, front- and back-end, on a number of games, I\u0026#39;m curious why KSP doesn\u0026#39;t auto-submit even the simplest crash-fingerprints for statistics at their end?\u003Cbr\u003E\n\u003Cbr\u003E\nIs Squad relatively new and just unaware of the value of such a system, or are they just a really small team that doesn\u0026#39;t have the resources to develop something so simple (or investigate just how simple it actually is, a lot of people will immediately go to the \u0022that\u0026#39;s a ....-ton of data, nobody can handle that\u0022 mindset, which is mind-blowingly ridiculous once you actually understand whats involved), or is it just that KSPers aren\u0026#39;t going to allow any auto-submission of anything so that it\u0026#39;s just not worth doing?\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-11-16T22:19:49Z","Content":"\nShame there isn\u0026#39;t a tag for both a suggestion and a discussion, moved to development anyway.\u003Cbr\u003E\n\u003Cbr\u003E\nThe devs [I]do[/I] look here.\u003Cbr\u003E\n\u003Cbr\u003E\nThe crash report system is old, it goes back a long way and hasn\u0026#39;t been changed, so I guess to do what you\u0026#39;re asking for would be a lot of work when there already exists a bug tracker for players issues.\u003Cbr\u003E\n\u003Cbr\u003E\nSure they could do more with this, but yes they are a small team, yes they are new to game development, and as someone who sees enough crash reports to choke a black hole I don\u0026#39;t think they are as useful as you think they are.\u003Cbr\u003E\n\u003Cbr\u003E\nGenerally they show that the Unity3D implementation of Mono crashed with a write to an invalid memory location, there\u0026#39;s not a lot anyone but Unity can do about that however.\u003Cbr\u003E\n\u003Cbr\u003E\nYes I wish Squad handled the reports better as well, there is already a system to collate player data which might be appropriated for this, but sometimes the logs can be several hundred megabytes in size, so maybe not.\u003Cbr\u003E\n\u003Cbr\u003E\nAlso, merged threads.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-16T22:59:28Z\u0022 title=\u002211/16/2015 10:59  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 16, 2015\u003C/time\u003E by sal_vager\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2015-11-16T22:20:17Z","Content":"\nLots of info in that post and probably very well thought out and proper... which leads me to my question, is your name Oliver by any chance?\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2015-11-16T22:28:28Z","Content":"\nSomeone [URL=\u0022http://forum.kerbalspaceprogram.com/threads/139433-Why-aren-t-crash-reports-auto-submitted\u0022]made a thread[/URL] about exactly the same thing just 2 days ago.\u003Cbr\u003E\nOh, it was you. Is it really that important to you that it warrants a second thread as well?\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2015-11-16T22:40:08Z","Content":"\n[quote name=\u0027Temeter\u0027]That would be utterly annoying. Not only crashes the game quite easily (if not always by squads fault), but now you have to klick away some silly message? I\u0026#39;m already bothered by the \u0026#39;this is for 1.0.x\u0026#39; mod messages.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nIn your settings you\u0026#39;d be able to choose from three options:[list]\u003Cbr\u003E\n[*]Do not send crash reports\u003Cbr\u003E\n[*]When a crash report is generated, ask me if it should be sent\u003Cbr\u003E\n[*]Automatically send crash report[/list]\u003Cbr\u003E\n\u003Cbr\u003E\nWhen the game is started for the first time (the flag resets with each update) the user is invited to review his choices and clicking the \u0022review\u0022 button opens the settings dialog and shows the above options.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nThat\u0026#39;s how this can be done with a minimal of interaction from the player.\n"}]}