{"TopicId":56643,"ForumId":34,"TopicTitle":"[1.12.x] Ship Manifest (Crew, Science, \u0026amp; Resources) - v 6.0.8.0 - 28 Apr 23","CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2013-12-18T06:22:52Z","PageNum":5,"Articles":[{"CreatedByName":"Mystique","CreatedById":95628,"CreatedDateTime":"2014-02-15T18:59:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003EBut, now that I think of it, if there is only one part module, I \u0022could\u0022 default it to selected. that would cover a large percentage of the time I think, and save a click.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood idea. I was actually surprised that \u0022receive\u0022 button is disabled after each transfer. It would be more logical to keep it pressed until other receiving part is selected, I guess.\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-15T19:32:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mystique\u0022 data-cite=\u0022Mystique\u0022\u003E\u003Cdiv\u003EGood idea. I was actually surprised that \u0022receive\u0022 button is disabled after each transfer. It would be more logical to keep it pressed until other receiving part is selected, I guess.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep it sure does...\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-16T02:38:03Z","Content":"\n\u003Cp\u003EOk, New Update. Some requested features, and Realism enhancements / options.\u003C/p\u003E\u003Cp\u003EVersion 0.23.3.1.4 - 15 Feb, 2014 - General cleanup, configuration \u0026amp; UI enhancements.\u003C/p\u003E\u003Cp\u003E - Realism Mode: Science Xfers now render experiments inoperable after xfer.\u003C/p\u003E\u003Cp\u003E - Changed Science Xfers Target Module selection to Auto select, If the target Part has only 1 target module. Saves a click the majority of the time. \u003C/p\u003E\u003Cp\u003E - Added Save Debug Log support. Save Log button now works.\u003C/p\u003E\u003Cp\u003E - Added support for tailoring Ship Manifest for your needs:\u003C/p\u003E\u003Cp\u003E - Config File switch to enable/disable Fill \u0026amp; Empty Resource buttons in PreFlight. Enabled by default.\u003C/p\u003E\u003Cp\u003E - Config File switch to enable/disable Crew Transfer Feature. Enabled by default.\u003C/p\u003E\u003Cp\u003E - Config File switch to enable/disable Science Transfer Feature. Enabled by default.\u003C/p\u003E\u003Cp\u003E- Include Toolbar 1.5.3 redistribution\u003C/p\u003E\u003Cp\u003EWe should be getting pretty stable now.\u003C/p\u003E\u003Cp\u003EEnjoy!\u003C/p\u003E\n"},{"CreatedByName":"Piamette","CreatedById":101700,"CreatedDateTime":"2014-02-16T03:11:46Z","Content":"\n\u003Cp\u003EAwesome! With the Science Realism mode transfer now working, I don\u0027t have to guess if I\u0027ve used up my Science Jr. Sometimes I forget if I\u0027ve used and transferred the data already. I clip the unit inside so I can make small landers.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/avK0aNY\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/avK0aNY.png\u0022 alt=\u0022avK0aNY.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mystique","CreatedById":95628,"CreatedDateTime":"2014-02-16T08:41:32Z","Content":"\n\u003Cp\u003ECool, let\u0027s try new one.\u003C/p\u003E\u003Cp\u003EP.S. There is toolbar 1.6.0 already out there \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Piamette\u0022 data-cite=\u0022Piamette\u0022\u003E\u003Cdiv\u003EI clip the unit inside so I can make small landers.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESmall landers? Without MOOOOARR engines, struts and fuel? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 alt=\u0022:mad:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-02-16T11:40:26Z","Content":"\n\u003Cp\u003E@ Papa_Joe: could you shed some light about your future plans, in particular with the \u0022In Flight Checklists\u0022 you mentioned some days ago?\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-16T16:15:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mystique\u0022 data-cite=\u0022Mystique\u0022\u003E\u003Cdiv\u003ECool, let\u0027s try new one.\u003Cp\u003EP.S. There is toolbar 1.6.0 already out there \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ESmall landers? Without MOOOOARR engines, struts and fuel? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 alt=\u0022:mad:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know, right? I had gone to his thread to downloaded the latest JUST before he posted the update.. I then released After he did with the Old version.... Bleh!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E@ Papa_Joe: could you shed some light about your future plans, in particular with the \u0022In Flight Checklists\u0022 you mentioned some days ago?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs per the discussions earlier in the thread, I\u0027m thinking That Checklists should likely be a separate mod. Based on the ideas I have, and the interface work needed, it really will be bigger than SM. It is already in work as I write this...\u003C/p\u003E\u003Cp\u003ESo, I will likely start a WIP thread so we can discuss my ideas and flesh out what the community might like.. I will need a title...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-16T16:26:50Z\u0022 title=\u002202/16/2014 04:26  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 16, 2014\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2014-02-19T12:11:15Z","Content":"\n\u003Cp\u003EAn idea just struck me. How about when transferring kerbals around the ship/station the kerbal(s) can be seen moving through the ship like an xray view? Would be really cool and probably easier than making true advanced iva as you would just load the kerbal in standard eva mode just without physics and move him around inside the ship.\u003C/p\u003E\u003Cp\u003EBtw the connected living space plugin api could also be put to good limiting kerbs transfers use with ship manifest if the interest is there. Should probably have an on/off setting so ppl who dont wanna use it wouldnt find it in the way and us realism mode nuts can have it on.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-19T12:17:04Z\u0022 title=\u002202/19/2014 12:17  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 19, 2014\u003C/time\u003E by landeTLS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-19T21:49:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022landeTLS\u0022 data-cite=\u0022landeTLS\u0022\u003E\u003Cdiv\u003EAn idea just struck me. How about when transferring kerbals around the ship/station the kerbal(s) can be seen moving through the ship like an xray view? Would be really cool and probably easier than making true advanced iva as you would just load the kerbal in standard eva mode just without physics and move him around inside the ship.\u003Cp\u003EBtw the connected living space plugin api could also be put to good limiting kerbs transfers use with ship manifest if the interest is there. Should probably have an on/off setting so ppl who dont wanna use it wouldnt find it in the way and us realism mode nuts can have it on.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe \u0022x-ray view\u0022 may be more of a challenge than you make it sound, and I don\u0027t expect to include it with Ship Manifest. It is an interesting idea however, and worth at least investigation. I like visual \u0022aids\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve already contacted codepoet about integration with ConnectedLivingSpace, and discussed briefly my intentions. I expect to add connected space limitations as soon as codepoet and I work out how best to integrate both for me and other modders.\u003C/p\u003E\u003Cp\u003EI expect to include new crew transfer realism feature soon. As usual, I will provide a means to customize your experience. After all, there is no incorrect way to play KSP.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-19T21:57:37Z\u0022 title=\u002202/19/2014 09:57  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 19, 2014\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-02-19T22:12:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027ve already contacted codepoet about integration with ConnectedLivingSpace, and discussed briefly my intentions. I expect to add connected space limitations as soon as codepoet and I work out how best to integrate both for me and other modders.\u003C/p\u003E\u003Cp\u003EI expect to include new crew transfer realism feature soon. As usual, I will provide a means to customize your experience. After all, there is no incorrect way to play KSP.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECLS was formally \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/70161\u0022 rel=\u0022external nofollow\u0022\u003Ereleased today\u003C/a\u003E. Papa_Joe, let me know what you need and we can get this show on the road. The CLS API is documented on the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68617\u0022 rel=\u0022external nofollow\u0022\u003ECLS development thread\u003C/a\u003E, and I have also released a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/70217\u0022 rel=\u0022external nofollow\u0022\u003Esimple mod that uses CLS\u003C/a\u003E to demonstrate how it can be used. I expect this biggest challenge will be if you want to use reflection in order to avoid a hard dependency on CLS. I have never used reflection, but it can\u0027t be that hard! Like I say, let me know which direction you want to go, and I will make it happen for you.\u003C/p\u003E\u003Cp\u003E(In an unrelated note, in writing my simple mod to use CLS i ran into a problem of kerbal portraits which I saw mentioned in this thread. Is it still a problem for ShipManifest? Does ShipManifest still need button to restore the potraits? If so take a look at the \u003Ca href=\u0022https://github.com/codepoetpbowden/KerbalHotSeat\u0022 rel=\u0022external nofollow\u0022\u003Ecode for KerbalHotSea\u003C/a\u003Et to see how I got around the problem.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-19T22:12:59Z\u0022 title=\u002202/19/2014 10:12  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 19, 2014\u003C/time\u003E by codepoet\u003C/strong\u003E\n\u003Cbr\u003Ecode!\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-19T22:44:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003ECLS was formally \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/70161\u0022 rel=\u0022external nofollow\u0022\u003Ereleased today\u003C/a\u003E. Papa_Joe, let me know what you need and we can get this show on the road. The CLS API is documented on the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68617\u0022 rel=\u0022external nofollow\u0022\u003ECLS development thread\u003C/a\u003E, and I have also released a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/70217\u0022 rel=\u0022external nofollow\u0022\u003Esimple mod that uses CLS\u003C/a\u003E to demonstrate how it can be used. I expect this biggest challenge will be if you want to use reflection in order to avoid a hard dependency on CLS. I have never used reflection, but it can\u0027t be that hard! Like I say, let me know which direction you want to go, and I will make it happen for you.\u003Cp\u003E(In an unrelated note, in writing my simple mod to use CLS i ran into a problem of kerbal portraits which I saw mentioned in this thread. Is it still a problem for ShipManifest? Does ShipManifest still need button to restore the potraits? If so take a look at the \u003Ca href=\u0022https://github.com/codepoetpbowden/KerbalHotSeat\u0022 rel=\u0022external nofollow\u0022\u003Ecode for KerbalHotSea\u003C/a\u003Et to see how I got around the problem.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks so much. Work has been keeping me from the fun coding, but I\u0027ll take a look now.\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2014-02-20T03:01:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003EThe \u0022x-ray view\u0022 may be more of a challenge than you make it sound\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIm sorry i didnt mean to make it sound like it was so trivial. I know it would probably require a lot of coding like making the kerbs movement conform to the fusulage etc.. I just meant compaired to moving kerbals around in iva view(what i meant with adv iva) via a plugin im guessing it would be atleast a bit easier.\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-02-20T07:07:04Z","Content":"\n\u003Cp\u003E@Papa while working on some crew management code of my own this evening, I ran into major problems updating the IVA portraits, and decided to take a peak at your code to see how you might have handled it.\u003C/p\u003E\u003Cp\u003ETurns out you hadn\u0027t found a solution either, HOWEVER, after playing around with multiple approaches and calling way too many random functions with hopeful sounding names, I seem to have come up with a solution based on the approach you use in your \u0022update portraits\u0022 button code.\u003C/p\u003E\u003Cp\u003ETurns out if you just set a flag when you perform a crew transfer, and then call Vessel.SpawnCrew() on the next update after the transfer based on that flag, everything appears to work great. I\u0027ve run a number of tests with it, and seat.SpawnCrew(), part.SpawnCrew(), or any of the other SpawnCrew() action doesn\u0027t appear to be necessary. Just remove from one part, add to another, and Vessel.SpawnCrew() next update.\u003C/p\u003E\u003Cp\u003EI can only assume that KSP is performing some kind of required maintenance on the crew between frames which only makes the SpawnCrew() call valid on the next update.\u003C/p\u003E\u003Cp\u003EAnyways, just thought I\u0027d share in case it helps you out and potentially saves you any of the trial and error random-function-until-it-works action I just went through \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-02-20T07:50:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003E@Papa while working on some crew management code of my own this evening, I ran into major problems updating the IVA portraits, and decided to take a peak at your code to see how you might have handled it.\u003Cp\u003ETurns out you hadn\u0027t found a solution either, HOWEVER, after playing around with multiple approaches and calling way too many random functions with hopeful sounding names, I seem to have come up with a solution based on the approach you use in your \u0022update portraits\u0022 button code.\u003C/p\u003E\u003Cp\u003ETurns out if you just set a flag when you perform a crew transfer, and then call Vessel.SpawnCrew() on the next update after the transfer based on that flag, everything appears to work great. I\u0027ve run a number of tests with it, and seat.SpawnCrew(), part.SpawnCrew(), or any of the other SpawnCrew() action doesn\u0027t appear to be necessary. Just remove from one part, add to another, and Vessel.SpawnCrew() next update.\u003C/p\u003E\u003Cp\u003EI can only assume that KSP is performing some kind of required maintenance on the crew between frames which only makes the SpawnCrew() call valid on the next update.\u003C/p\u003E\u003Cp\u003EAnyways, just thought I\u0027d share in case it helps you out and potentially saves you any of the trial and error random-function-until-it-works action I just went through \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is exactly the solution I came up with for KerbalHotSeats too.\u003C/p\u003E\u003Cp\u003EI am curious - what are you working on?\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-02-20T07:54:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EThat is exactly the solution I came up with for KerbalHotSeats too.\u003Cp\u003EI am curious - what are you working on?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/61632-0-23-Better-Than-Starting-Manned-%28v1-47-Hate-That-Marsupial-Feb-17th%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/61632-0-23-Better-Than-Starting-Manned-%28v1-47-Hate-That-Marsupial-Feb-17th%29\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EMy known issues list \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-20T16:46:43Z","Content":"\n\u003Cp\u003E@ FlowerChild and codepoet.\u003C/p\u003E\u003Cp\u003EI took a look at codepoet\u0027s solution, and realized that calling a change Vessel event would refresh everything, so that will probably work. I tried the vessel.SpawnCrew() during my initial development with a scope flag to pass control to the update event and didn\u0027t have any luck, when crossing part boundaries (seemed to work when in the same part, but with so many tries, I may be getting confused). Did you test that as well?\u003C/p\u003E\u003Cp\u003EI know I did a lot of testing, and figured that we were missing a higher level call. That could likely be the Vesselchange event.\u003C/p\u003E\u003Cp\u003Ethanks so much for looking into this, as the Update Portraits button has always grated against me...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-20T16:49:49Z\u0022 title=\u002202/20/2014 04:49  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 20, 2014\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-02-20T20:12:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI took a look at codepoet\u0027s solution, and realized that calling a change Vessel event would refresh everything, so that will probably work. I tried the vessel.SpawnCrew() during my initial development with a scope flag to pass control to the update event and didn\u0027t have any luck, when crossing part boundaries (seemed to work when in the same part, but with so many tries, I may be getting confused). Did you test that as well?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENope, not yet. It\u0027s on my todo list \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn theory though, if it\u0027s a problem I suspect that calling SpawnCrew() on the Part.vessel of both the source and destination part of the transfer if they differ may do the trick there.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-02-20T20:17:44Z","Content":"\n\u003Cp\u003EWhat did it for me was to call Vessel.SpawnCrew on the next call to FixedUpdate. So I set a flag to indicate that a refresh was pending.\u003C/p\u003E\u003Cp\u003EFiring a ChangeVessel event on its own did not fix the portraits for me.\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-02-20T20:23:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EWhat did it for me was to call Vessel.SpawnCrew on the next call to FixedUpdate. So I set a flag to indicate that a refresh was pending.\u003Cp\u003EFiring a ChangeVessel event on its own did not fix the portraits for me.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, that\u0027s what we\u0027re all talking about, but I think he\u0027s referring to what happens when two separate vessels dock in game. It\u0027s handled rather differently internally than with just a single vessel (or if you launch the vessel already docked), which I also ran into when working on my fuel pump code.\u003C/p\u003E\u003Cp\u003EEDIT: Ok, so I just tested it with this docked vessel monstrosity, repeatedly sending Kerbals to and fro to the various types of command pods on the thing, and everything was fine:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/z5GX8TZ.png\u0022 alt=\u0022z5GX8TZ.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo yeah, I\u0027d say just delaying the vessel.SpawnCrew() call until the next update works pretty good \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-20T22:45:30Z\u0022 title=\u002202/20/2014 10:45  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 20, 2014\u003C/time\u003E by FlowerChild\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-21T00:04:10Z","Content":"\n\u003Cp\u003Ecodepoet \u0026amp; FlowerChild, \u003C/p\u003E\u003Cp\u003E!hanks so much for the assist! I\u0027m off to update and test. \u003C/p\u003E\u003Cp\u003ELet\u0027s see what we get....\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-02-21T01:34:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003Ecodepoet \u0026amp; FlowerChild, \u003Cp\u003E!hanks so much for the assist! I\u0027m off to update and test. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy pleasure man! You discovering the SpawnCrew() aspect for your update portraits button gave me a big assist as well in pointing me in the right direction, so thank you for that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-21T04:32:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EMy pleasure man! You discovering the SpawnCrew() aspect for your update portraits button gave me a big assist as well in pointing me in the right direction, so thank you for that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, thanks to codepoet and FlowerChild, I have solved my IVA Portrait update problem. Thanks so much!\u003C/p\u003E\u003Cp\u003EInteresting problem.\u003C/p\u003E\u003Cp\u003EI did exactly as codepoet and FlowerChild described, as I had during my initial testing when I added crew transfers. It did not work!? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo, I instrumented the process to verify that I was hitting the expected code path, in doing so I refactored my logging scheme... wannabe code geek that I am... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn the end, the solution was to add a \u0022frame delay\u0022. Weird, huh?\u003C/p\u003E\u003Cp\u003EWell, I\u0027m running an NVidia 9600GT card. Pretty ancient, but serviceable. So, I got to thinking...\u003C/p\u003E\u003Cp\u003EIf there was an asynchronous process that normally was completed in advance of the next frame on \u0022new\u0022 cards, us older cards are chugging a bit.. so..\u003C/p\u003E\u003Cp\u003EIt seems If I add 5 frames of delay, it still does not work. But, if I add 10\u002B... It does!\u003C/p\u003E\u003Cp\u003ESo, naturally, I added a Config Item \u0022IVAFrameDelay\u0022 to allow customization for older cards. you can make it anything from 0 (no delay) to what ever works for you... \u003C/p\u003E\u003Cp\u003EMy guess...\u003C/p\u003E\u003Cp\u003EAdding the 10 frame delay should be a non issue for those that would have not experienced the issue and older cards can now tweak the setting if they experience issues... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EOkay, with that \u0022solved\u0022,\u003C/p\u003E\u003Cp\u003EI\u0027ll move the update portrait button to a hidden button. If you want/need it. turn it on in the config. Just in case \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ECome to think of it... with a frame delay.... you could also use a time delay... so we could establish a \u0022time\u0022 it takes kerbal to move to another seat.... and delay the portrait update until the kerbal has \u0022made it to his seat\u0022... maybe add cute hollow bumping and shuffling sounds during the transfer time...\u0022 Something to think about.. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EBack to adding \u0022spatial awareness\u0022 to Ship Manifest...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-21T05:16:17Z\u0022 title=\u002202/21/2014 05:16  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 21, 2014\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-02-21T08:18:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI did exactly as codepoet and FlowerChild described, as I had during my initial testing when I added crew transfers. It did not work!? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInteresting. Although from what you\u0027re describing about the frame delay, one potentially relevant difference between my approach and codepoet\u0027s is that I checked for the flag and performed SpawnCrew() within OnUpdate() (which I believe is called on a per frame basis) rather than OnFixedUpdate() (which I believe is being called on a per physics tick update).\u003C/p\u003E\u003Cp\u003EHence, I suspect if you\u0027re also doing the latter, it might have something to do with why you needed the frame delay, if multiple physics ticks are running per visual frame on your hardware.\u003C/p\u003E\u003Cp\u003EAnyways, just thought it worth mentioning. I chose to use OnUpdate() given this is a graphics update we\u0027re performing here with the portraits, and given the difficulties you mentioned above I thought it might be relevant enough to warrant mentioning.\u003C/p\u003E\n"},{"CreatedByName":"heralo","CreatedById":102657,"CreatedDateTime":"2014-02-22T07:51:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E3. Added Fill and Empty Crew buttons in Pre-Flight Mode. I promised I would \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for adding that. I had another question. Would it be possible to add a balance feature for fuel tanks?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-22T07:58:45Z\u0022 title=\u002202/22/2014 07:58  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 22, 2014\u003C/time\u003E by heralo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2014-02-22T14:42:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EInteresting. Although from what you\u0027re describing about the frame delay, one potentially relevant difference between my approach and codepoet\u0027s is that I checked for the flag and performed SpawnCrew() within OnUpdate() (which I believe is called on a per frame basis) rather than OnFixedUpdate() (which I believe is being called on a per physics tick update).\u003Cp\u003EHence, I suspect if you\u0027re also doing the latter, it might have something to do with why you needed the frame delay, if multiple physics ticks are running per visual frame on your hardware.\u003C/p\u003E\u003Cp\u003EAnyways, just thought it worth mentioning. I chose to use OnUpdate() given this is a graphics update we\u0027re performing here with the portraits, and given the difficulties you mentioned above I thought it might be relevant enough to warrant mentioning.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure which event I\u0027m hooked into. I\u0027ve researched the code, and I\u0027m not sure what is firing the method I\u0027m using. Since my mod is \u0022partless\u0022, the update method I\u0027m using is embedded into a class with monobehavior as it\u0027s base. So, not sure what is triggering it... :/\u003C/p\u003E\u003Cp\u003EBased on my research, testing and logging, it \u0022appears\u0022 to be the Unity Update method... I\u0027m very good at C# and coding in general, but I\u0027m new to Unity\u0027s object model, architecture, and KSP\u0027s API.\u003C/p\u003E\u003Cp\u003ELink: \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.Update.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.Update.html\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-22T17:01:33Z\u0022 title=\u002202/22/2014 05:01  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 22, 2014\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"}]}