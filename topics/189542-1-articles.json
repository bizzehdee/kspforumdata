{"TopicId":189542,"ForumId":44,"TopicTitle":"Math Problem: Power Track","CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2019-11-03T14:53:26Z","PageNum":1,"Articles":[{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2019-11-03T14:53:26Z","Content":"\n\u003Cp\u003E\n\u003Cimg alt=\u0022poor_mans_powertrack.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002262.50\u0022 height=\u0022375\u0022 width=\u0022600\u0022 src=\u0022http://ksp.schnobs.de/stuff/poor_mans_powertrack.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t say I enjoy low-thrust, long-duration transfer burns, but find myself in that situation pretty often and have learned to cope.\n\u003C/p\u003E\n\u003Cp\u003E\nLately I familiarized myself with kRPC and now I wonder if I might be able to do it right: performing a single long burn, pointing prograde all the way while spiraling out of the system... and still getting where I want.\n\u003C/p\u003E\n\u003Cp\u003E\nI haven\u0027t done any orbital calculations yet. The maths doesn\u0027t look too hard, it\u0027s just that I don\u0027t have any first-hand experience. So I also don\u0027t quite know what to look out for. Advise would be welcome.\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nI assume that I can use an ordinary, instant in-game maneuver as a template, and then somehow work out a power track that sends me on a similar trajectory.\n\u003C/li\u003E\n\u003Cli\u003E\nI\u0027ll have to calculate a series of tiny maneuvers in short intervals, right? Or is there a more elegant way to do this?\n\u003C/li\u003E\n\u003Cli\u003E\nhow do I tell if I succeeded? The eventual trajectory cannot possibly be identical to the one I planned earlier (cf. example above). I presume what matters is the velocity relative to the sun right after \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transition, is that right?\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"UmbralRaptor","CreatedById":2767,"CreatedDateTime":"2019-11-05T20:46:57Z","Content":"\n\u003Cp\u003E\nThis IIRC rapidly gets you into territory where there are no analytic solutions. You\u0027ll want to use a numeric integrator for the burn (eg: writing a script in Python) to work out how long the burn time is, and what sort of angle the ship will pass through. I suspect that you can tell on success *before* \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transition by working out the transfer with patched conics, and when your specific energy (0.5*v^2 - GM/r) reaches that.\n\u003C/p\u003E\n"},{"CreatedByName":"Bill Phil","CreatedById":127797,"CreatedDateTime":"2019-11-05T21:09:45Z","Content":"\n\u003Cp\u003E\nYou could download GMAT and try to configure it to have the Kerbal solar system...\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u2019t recommend it though.\n\u003C/p\u003E\n\u003Cp\u003E\nThen again it might be a big pain. Plus you\u2019d be planning a mission with n-body simulation...\n\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2019-11-08T22:08:54Z","Content":"\n\u003Cp\u003E\nJust had an idea that ought to make it much easier: The game already hands me my position and vector. I only need to apply thrust and gravity in order to arrive at position \u002B1. No need to calculate a new set of keplerian parameters at every interval.\n\u003C/p\u003E\n\u003Cp\u003E\nActually, I have an inkling that this could be integrated. However, at this point in life I\u0027m happy enough if I can still solve a quadratic equation.\n\u003C/p\u003E\n"},{"CreatedByName":"sevenperforce","CreatedById":157695,"CreatedDateTime":"2019-11-08T22:19:26Z","Content":"\n\u003Cp\u003E\nDepends on your actual vehicle \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E. If your thrust is low, comparable to real-life ion thrusters, then you can enter an orbit where you are essentially \u0022continuously circularizing\u0022 an orbit and thus spiraling higher and higher in an ever-widening loop. Then whenever you want to do your final escape burn, you can stop thrusting for half an orbit or so, time it appropriately, and fire away.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Dawn thruster is so overpowered for an ion thruster that unless you are using just one of them to push some sort of ginormous interplanetary monster, you are better off kicking the periapsis.\n\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2019-11-09T08:36:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223702284\u0022 data-ipsquote-contentid=\u0022189542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573251566\u0022 data-ipsquote-userid=\u0022157695\u0022 data-ipsquote-username=\u0022sevenperforce\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, sevenperforce said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDepends on your actual vehicle \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDoes it? The whole point of the exercise is to get a workable solution for arbitrarily low TWRs. I don\u0027t think I\u0027ll ever get so low that I will actually spiral out over the course of several orbits, though: There\u0027s still the matter of patience and it\u0027s limits.\n\u003C/p\u003E\n"},{"CreatedByName":"sevenperforce","CreatedById":157695,"CreatedDateTime":"2019-11-09T18:24:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223702463\u0022 data-ipsquote-contentid=\u0022189542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573288570\u0022 data-ipsquote-userid=\u0022110461\u0022 data-ipsquote-username=\u0022Laie\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Laie said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes it? The whole point of the exercise is to get a workable solution for arbitrarily low TWRs. I don\u0027t think I\u0027ll ever get so low that I will actually spiral out over the course of several orbits, though: There\u0027s still the matter of patience and it\u0027s limits.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor an arbitrarily low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, the solution is to just thrust prograde, indefinitely. For a moderately low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, the spiral has a non-negligible slope and so it actually matters where you choose your starting point.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2019-11-13T14:48:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223702647\u0022 data-ipsquote-contentid=\u0022189542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573323841\u0022 data-ipsquote-userid=\u0022157695\u0022 data-ipsquote-username=\u0022sevenperforce\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/9/2019 at 7:24 PM, sevenperforce said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor a moderately low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, the spiral has a non-negligible slope\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, that\u0027s the case I\u0027m interested in.\n\u003C/p\u003E\n\u003Cp\u003E\nAlas, it turns out that this is much harder than anticipated. I\u0027ve spent the better part of a day writing a (pos, vel)-\u0026gt;(kepler) function that doesn\u0027t quite work. And that\u0027s not even half of it! At the very least I still need to compute ejection angle \u0026amp; and speed, kepler-\u0026gt;(pos,vel), and possibly more. At my skill level, that would take me weeks.\n\u003C/p\u003E\n\u003Cp\u003E\nYou know what? I guess I\u0027ll let the game do the maths, after all:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022manynodes.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002261.84\u0022 height=\u0022633\u0022 width=\u00221024\u0022 src=\u0022http://ksp.schnobs.de/stuff/manynodes.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sevenperforce","CreatedById":157695,"CreatedDateTime":"2019-11-13T15:38:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223704585\u0022 data-ipsquote-contentid=\u0022189542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573656497\u0022 data-ipsquote-userid=\u0022110461\u0022 data-ipsquote-username=\u0022Laie\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, Laie said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYep, that\u0027s the case I\u0027m interested in.\n\u003C/p\u003E\n\u003Cp\u003E\nAlas, it turns out that this is much harder than anticipated. I\u0027ve spent the better part of a day writing a (pos, vel)-\u0026gt;(kepler) function that doesn\u0027t quite work. And that\u0027s not even half of it! At the very least I still need to compute ejection angle \u0026amp; and speed, kepler-\u0026gt;(pos,vel), and possibly more. At my skill level, that would take me weeks.\n\u003C/p\u003E\n\u003Cp\u003E\nYou know what? I guess I\u0027ll let the game do the maths, after all:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://ksp.schnobs.de/stuff/manynodes.jpg\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022manynodes.jpg\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002261.84\u0022 height=\u0022633\u0022 width=\u00221024\u0022 src=\u0022http://ksp.schnobs.de/stuff/manynodes.jpg\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt appears to be a Fibonacci spiral.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2019-11-13T15:50:07Z","Content":"\n\u003Cp\u003E\nI think if it was just related to speed then it would be Fibonacci, but as gravity reduces with distance it probably complicates it.\n\u003C/p\u003E\n\u003Cp\u003E\nI use KOS rather than kPRC, interested in similar stuff but not sure what information you get in kPRC compared to what I get in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s an interesting idea I might have to have a play with at some point, but I think it\u0027s going to need a numerical solution in small time steps rather being able to work out the formula for it with my level of maths.\u00A0 It gets embarrassing when I have to ask my wife (maths teacher) for help with the game \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0 However I think the biggest problem would be the change of \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m about to send a relatively heavy and low thrust vessel off to the Mun and plan to knock up some code to break it down in to several smaller burns, and knock off the period from the planned time of the ejection burn.\n\u003C/p\u003E\n\u003Cp\u003E\nFor calculating ejection angles and excess velocity I find \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022128005\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0022 rel=\u0022\u0022\u003E@OhioBob\u003C/a\u003E\u0027s website very useful\u00A0 \u003Ca href=\u0022http://www.braeunig.us/space/orbmech.htm\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.braeunig.us/space/orbmech.htm\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2019-11-13T17:27:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223704610\u0022 data-ipsquote-contentid=\u0022189542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573660207\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI find \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022128005\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0022 rel=\u0022\u0022\u003E@OhioBob\u003C/a\u003E\u0027s website very useful\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup, that\u0027s where I spent my weekend.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t think KSP and kRPC differ very much in what information you can get out of the game.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223704610\u0022 data-ipsquote-contentid=\u0022189542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573660207\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nbut I think it\u0027s going to need a numerical solution in small time steps rather being able to work out the formula for it with my level of maths.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, that\u0027s what I\u0027ve been considering as well. Take starting position and vector, add thrust and gravity to vector, get new position from old position and new vector. Rinse repeat. I don\u0027t have any idea as to how accurate that would be, though, and found that it needs a lot of groundwork before I can even start to find out.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2019-11-13T17:59:13Z","Content":"\n\u003Cp\u003E\nIn KOS you can create a new orbit object by giving it a bunch of parameters and can then access the other parameters that KSP has calculated about that orbit\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS/structures/orbits/orbit.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/structures/orbits/orbit.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you can do something similar in kRPC can you create a new orbit object for each timestep and let\u00A0KSP do the difficult bits?\n\u003C/p\u003E\n"}]}