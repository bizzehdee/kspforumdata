{"TopicId":33580,"ForumId":15,"TopicTitle":"Multiple independent lights in one part / GUI text change","CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2013-06-18T07:15:45Z","PageNum":1,"Articles":[{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2013-06-18T07:15:45Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E(NB: A somewhat related topic I started very recently was fully resolved and included as part of hoojiwana\u0027s modding info compilation, so I figured I\u0027d create a new one for a rather different and unusual scenario)\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIn an attempt to further extend the capabilities of the ModuleLight PartModule, I decided to consider a case where there were multiple \u003Cem\u003Eindependently-controllable\u003C/em\u003E lighted windows in a part:\u003C/p\u003E\u003Cp\u003E - Said part is a habitation module for space stations\u003C/p\u003E\u003Cp\u003E - There are six windows total\u003C/p\u003E\u003Cp\u003E - The first two windows are for the \u0022Galley\u0022 area, and so will be toggled together\u003C/p\u003E\u003Cp\u003E - The remaining four are for the individual Sleeping Areas, two each on the Port and Starboard sides, to be toggled individually\u003C/p\u003E\u003Cp\u003EMy first attempt involved simply duplicating ModuleLight for each set of animations:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleLight\u003Cbr\u003E    lightName =\u003Cbr\u003E    useAnimationDim = true\u003Cbr\u003E    lightBrightenSpeed = 1\u003Cbr\u003E    lightDimSpeed = 1\u003Cbr\u003E    resourceAmount = 0.002\u003Cbr\u003E    animationName = KHabWinLights_Galley\u003Cbr\u003E    useResources = true\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleLight\u003Cbr\u003E    lightName =\u003Cbr\u003E    useAnimationDim = true\u003Cbr\u003E    lightBrightenSpeed = 1\u003Cbr\u003E    lightDimSpeed = 1\u003Cbr\u003E    resourceAmount = 0.002\u003Cbr\u003E    animationName = KHabWinLights_SS_Port_1\u003Cbr\u003E    useResources = true\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleLight\u003Cbr\u003E    lightName =\u003Cbr\u003E    useAnimationDim = true\u003Cbr\u003E    lightBrightenSpeed = 1\u003Cbr\u003E    lightDimSpeed = 1\u003Cbr\u003E    resourceAmount = 0.002\u003Cbr\u003E    animationName = KHabWinLights_SS_Port_2\u003Cbr\u003E    useResources = true\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleLight\u003Cbr\u003E    lightName =\u003Cbr\u003E    useAnimationDim = true\u003Cbr\u003E    lightBrightenSpeed = 1\u003Cbr\u003E    lightDimSpeed = 1\u003Cbr\u003E    resourceAmount = 0.002\u003Cbr\u003E    animationName = KHabWinLights_SS_Star_1\u003Cbr\u003E    useResources = true\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleLight\u003Cbr\u003E    lightName =\u003Cbr\u003E    useAnimationDim = true\u003Cbr\u003E    lightBrightenSpeed = 1\u003Cbr\u003E    lightDimSpeed = 1\u003Cbr\u003E    resourceAmount = 0.002\u003Cbr\u003E    animationName = KHabWinLights_SS_Star_2\u003Cbr\u003E    useResources = true\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen loaded in-game and during flight, five Lights On / Lights Off GUI buttons are displayed in the context menu as expected, but only the last-defined light (i.e. the Second Starboard Sleep Station window) actually toggles.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E1) How would one go about making individually toggleable lights?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E2) Would it be possible to have a \u0022master\u0022 switch for all the lights in the one module i.e. toggle all the animations at the same time?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E3) Extending (2), would it be possible to have the other individual toggle switches recognize their corresponding lights\u0027 current state, and display the appropriate GUI text appropriately?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003Ei.e.User clicks \u0022Lights On\u0022 -\u0026gt; All windows in that particular module are lit -\u0026gt; GUI for all other lights automatically now show \u0022Galley Light Off\u0022, \u0022SleepStation Port 1 Off\u0022 etc., and vice versa\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E4) Would it be possible to change the GUI button text for each of the light toggles?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u0022Galley Light On/Off\u0022, \u0022SleepStation Port 1 On/Off\u0022, \u0022SleepStation Port 2 Off\u0022 etc. is more user-friendly than several identical instances of \u0022Lights On/Off\u0022\u003C/p\u003E\u003Cp\u003EI have a feeling that I may have to go down the plugin route in order to create this functionality. Thoughts?\u003C/p\u003E\n"},{"CreatedByName":"bac9","CreatedById":57757,"CreatedDateTime":"2013-06-19T23:38:54Z","Content":"\n\u003Cp\u003EDon\u0027t use ModuleLight, use ModuleAnimateGeneric and emissive surfaces separated into six gameobjects, plus six Unity animations modifying those emissive surfaces and light sources instead. If some have to be synced, leave them in one object/animation. Context menu captions will correctly reflect the state and you can add custom text there.\u003C/p\u003E\u003Cp\u003ENot possible to add master switch.\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2013-06-20T00:00:18Z","Content":"\n\u003Cp\u003EGotcha, thanks bac9.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-07-01T15:20:13Z","Content":"\n\u003Cp\u003EYeah, moduleLight is for actual shadow casting lights (light components in unity) rather than emissive textures (which only light up themselves).\u003C/p\u003E\u003Cp\u003EA master switch isn\u0027t possible in the config file but would be a very simple plugin.\u003C/p\u003E\n"}]}