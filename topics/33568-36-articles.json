{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":36,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-19T13:27:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003ENow, that new feature is impressive. Would like to know if the mission animator will be limited to one mission segment at a time, or will automatically switch segments as time goes for the whole mission.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, as your spacecraft jumps SoI, so does the camera view. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ANWRocketMan","CreatedById":65251,"CreatedDateTime":"2014-09-19T15:54:29Z","Content":"\n\u003Cp\u003E@Arrowstar: I managed to import the Real SOlar System bodies. Yay!\u003C/p\u003E\u003Cp\u003ENow a question, I\u0027ve been playing around with the p[lots and mission planner. And I\u0027m wondering how I can determine the best desired initial orbit to be able to achieve the desired/optimal transfer? I\u0027m having trouble finding what the best inclinations and such should be if I\u0027m flying from Earth(Kerbin) to Mars(Duna) for example.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-19T16:07:17Z\u0022 title=\u002209/19/2014 04:07  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 19, 2014\u003C/time\u003E by ANWRocketMan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AppleDavidJeans","CreatedById":84275,"CreatedDateTime":"2014-09-19T16:13:26Z","Content":"\n\u003Cp\u003EOk so I tried to uninstall Java 8. Still can\u0027t figure it out. Can\u0027t you just update the tool to work with R2014a?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-20T00:41:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ANWRocketMan\u0022 data-cite=\u0022ANWRocketMan\u0022\u003E\u003Cdiv\u003E@Arrowstar: I managed to import the Real SOlar System bodies. Yay!\u003Cp\u003ENow a question, I\u0027ve been playing around with the p[lots and mission planner. And I\u0027m wondering how I can determine the best desired initial orbit to be able to achieve the desired/optimal transfer? I\u0027m having trouble finding what the best inclinations and such should be if I\u0027m flying from Earth(Kerbin) to Mars(Duna) for example.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s a multi-step process:\u003C/p\u003E\u003Cp\u003E1) Use the porkchop plotter to find a good pair of departure and arrival dates.\u003C/p\u003E\u003Cp\u003E2) Use the Compute Departure button next to the porkchop plot to figure out (roughly) the interplanetary trajectory between Earth and Mars and the departure burn.\u003C/p\u003E\u003Cp\u003E3) Once you know when you\u0027re leaving and which way to point the engines, fire up Mission Architect and start adding coasts and burns like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ECoast to true anomaly (whatever the burn true anomaly in Compute Departure was). Make sure you have the optimization flag checked.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDV_Maneuver: enter the delta-v vector from Compute Departure. Make sure optimization flags are checked.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECoast to SoI transition (no optimization)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECoast to Periapsis (no optimization, and add \u002B1 rev (you\u0027ll see why))\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow, open the Mission Optimizer up (cntl-O). Select the objective function as minimizing the distance to Mars in event 5, the coast to periapsis event. Leave the constraints empty for now. Run the optimizer and let your spacecraft smash into Mars.\u003C/p\u003E\u003Cp\u003EIf you don\u0027t see your distance to Duna dropping to ~0 after a bit, stop the optimization, accept the results, and see if any of your variables are against their bounds (MA warns you on the main MA GUI if this happens). If that\u0027s the case, widen up those bounds a bit and try optimizing again.\u003C/p\u003E\u003Cp\u003EIf you still can\u0027t get it, send me the MAT file (File -\u0026gt; Save Mission As) and I\u0027ll take a look. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AppleDavidJeans\u0022 data-cite=\u0022AppleDavidJeans\u0022\u003E\u003Cdiv\u003EOk so I tried to uninstall Java 8. Still can\u0027t figure it out. Can\u0027t you just update the tool to work with R2014a?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly, it\u0027s not this easy. You can only compile MATLAB programs for the version of MATLAB you are running. In my case that\u0027s R2013a. Now, luckily for you, I\u0027m considering going to R2014b whenever The MathWorks decides to release it (will be soon, matter of days or weeks I think). If I do, that should help you out I think.\u003C/p\u003E\u003Cp\u003EBrian, any thoughts to help him out in the mean time?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-20T02:43:53Z","Content":"\n\u003Cp\u003EHey Arrowstar you see \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-1-6-New-Mac-Version-Available!?p=1414691\u0026amp;viewfull=1#post1414691\u0022 rel=\u0022external nofollow\u0022\u003Ethis note\u003C/a\u003E I made a page back? Sorry to drop more on your plate but aerobraking would be the icing on the cake! I do understand the complexities involved though, for an external program. It\u0027s not just simulating the atmosphere but would involve reading the craft file to see how the profile would affect a pass through it. The mod in question no doubt leverages a lot of in-game data to perform its calculations. If it\u0027s not possible/feasible to do this within MA, then I would suggest perhaps being able to reverse the orbit import - have a state that coasts near to Duna, then allow the state to be exported to the game through KSPTOTConnect and be applied to an existing craft. Then use the ingame aerobraking tool to see the effects. Then the new orbit can be brought back into MA through KSPTOTConnect as a new state, and mission planning could continue within MA from there (or the process repeated if another aerobrake pass is needed).\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-20T04:00:18Z","Content":"\n\u003Cp\u003EOMG the mission visualizer is going to be a godsend for my Duna mission I just realized. I have to drop a ballistic atmospheric probe that only has a 500km antenna (that won\u0027t burn up on entry). So I need to dump it from a high orbit so that by the time it hits atmosphere my transfer craft has burned into a lower orbit and swung back around the planet so it can relay data through to KSC as it passes over the probe descending through the atmosphere. Being able to see this play out will be amazingly helpful in planning, since I see you can have more than one craft in the animation. It would also be cool if you could set more annotation options that are available from the graphical analysis tool - like distance to target spacecraft. Then I could also make sure I\u0027m within 500km long enough to relay data properly as I fly over\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-20T06:03:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EHey Arrowstar you see \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-1-6-New-Mac-Version-Available!?p=1414691\u0026amp;viewfull=1#post1414691\u0022 rel=\u0022external nofollow\u0022\u003Ethis note\u003C/a\u003E I made a page back? Sorry to drop more on your plate but aerobraking would be the icing on the cake! I do understand the complexities involved though, for an external program. It\u0027s not just simulating the atmosphere but would involve reading the craft file to see how the profile would affect a pass through it. The mod in question no doubt leverages a lot of in-game data to perform its calculations. If it\u0027s not possible/feasible to do this within MA, then I would suggest perhaps being able to reverse the orbit import - have a state that coasts near to Duna, then allow the state to be exported to the game through KSPTOTConnect and be applied to an existing craft. Then use the ingame aerobraking tool to see the effects. Then the new orbit can be brought back into MA through KSPTOTConnect as a new state, and mission planning could continue within MA from there (or the process repeated if another aerobrake pass is needed).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately, aerobraking (or aerobreaking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E) is not something that could make it\u0027s way into MA. Mission Architect uses a patched conics model for its trajectory propagation and that is strictly incompatible with any kind of other force (beyond central body gravity). I suppose I could write an new KSP TOT application for it, but I have no idea how the KSP aerodynamics model works, and I\u0027d only ever want to deal with simple drag and none of that complex lift stuff. Basically it would only be good for high altitude stuff.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EOMG the mission visualizer is going to be a godsend for my Duna mission I just realized. I have to drop a ballistic atmospheric probe that only has a 500km antenna (that won\u0027t burn up on entry). So I need to dump it from a high orbit so that by the time it hits atmosphere my transfer craft has burned into a lower orbit and swung back around the planet so it can relay data through to KSC as it passes over the probe descending through the atmosphere. Being able to see this play out will be amazingly helpful in planning, since I see you can have more than one craft in the animation. It would also be cool if you could set more annotation options that are available from the graphical analysis tool - like distance to target spacecraft. Then I could also make sure I\u0027m within 500km long enough to relay data properly as I fly over\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEventually something like that should be possible, yes. This is a pretty complicated feature, though, so there\u0027s no telling how long the development for something like that would take. But I\u0027ll keep it in mind as I\u0027m writing code! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-20T07:16:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EUnfortunately, aerobraking (or aerobreaking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E) is not something that could make it\u0027s way into MA. Mission Architect uses a patched conics model for its trajectory propagation and that is strictly incompatible with any kind of other force (beyond central body gravity)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHandling it inside the program may not be doable as I suspected, but I noticed you didn\u0027t mention my import/export idea - did I explain that well enough? I realize now you don\u0027t even need the aerobrake mod, just export the orbit so you\u0027re set up for your atmo pass, let the game run, then import the new orbit after exiting the atmosphere. MA could treat it as a special dV maneuver that produces the forces to place the craft on the new orbit but doesn\u0027t expend any fuel mass.\u003C/p\u003E\n"},{"CreatedByName":"ANWRocketMan","CreatedById":65251,"CreatedDateTime":"2014-09-20T14:36:10Z","Content":"\n\u003Cp\u003E@Arrowstar:\u003C/p\u003E\u003Cp\u003EThanks for the help. Got the optimization figured out. I now have my mission plan to a 150kmx200km orbit around Mars from Earth. Thanks!\u003C/p\u003E\u003Cp\u003EIs tehre any way to set the optimisation to alter the initial spacecraft properties? I\u0027m sure I can have a much better initial orbit than I can figure out manually. Could be quite usefull.\u003C/p\u003E\n"},{"CreatedByName":"dacamp66","CreatedById":2537,"CreatedDateTime":"2014-09-20T15:49:18Z","Content":"\n\u003Cp\u003EArrowstar: just had an idea, use it or tell me to get lost, your choice.\u003C/p\u003E\u003Cp\u003Eidea: what about making, or talking to someone who knows how to make, an instructional \u0022how to\u0022 video covering the features of this tool? Coughscotmanleycough?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-20T17:48:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dacamp66\u0022 data-cite=\u0022dacamp66\u0022\u003E\u003Cdiv\u003EArrowstar: just had an idea, use it or tell me to get lost, your choice.\u003Cp\u003Eidea: what about making, or talking to someone who knows how to make, an instructional \u0022how to\u0022 video covering the features of this tool? Coughscotmanleycough?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf he sets up a wiki, I\u0027d be happy to contribute\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-20T21:09:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EHandling it inside the program may not be doable as I suspected, but I noticed you didn\u0027t mention my import/export idea - did I explain that well enough? I realize now you don\u0027t even need the aerobrake mod, just export the orbit so you\u0027re set up for your atmo pass, let the game run, then import the new orbit after exiting the atmosphere. MA could treat it as a special dV maneuver that produces the forces to place the craft on the new orbit but doesn\u0027t expend any fuel mass.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, to be honest, couldn\u0027t you just do this now? I\u0027m not sure why I\u0027d have to do anything special in MA in order for you to let the game run through an atmosphere and import an orbit on the other side. And there\u0027s no need to \u0022export\u0022 an orbit if you import your current orbit in KSP in MA first. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ANWRocketMan\u0022 data-cite=\u0022ANWRocketMan\u0022\u003E\u003Cdiv\u003E@Arrowstar:\u003Cp\u003EThanks for the help. Got the optimization figured out. I now have my mission plan to a 150kmx200km orbit around Mars from Earth. Thanks!\u003C/p\u003E\u003Cp\u003EIs tehre any way to set the optimisation to alter the initial spacecraft properties? I\u0027m sure I can have a much better initial orbit than I can figure out manually. Could be quite usefull.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is not. You do have to have a known set of initial conditions for the optimizer to work. There are just too many factors in the initial conditions and the odds of you ending up with an \u0022optimal\u0022 starting condition that isn\u0027t feasible or some such thing is actually pretty good. So just take your best shot at figuring out where you\u0027ll roughly be in orbit and go from there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dacamp66\u0022 data-cite=\u0022dacamp66\u0022\u003E\u003Cdiv\u003EArrowstar: just had an idea, use it or tell me to get lost, your choice.\u003Cp\u003Eidea: what about making, or talking to someone who knows how to make, an instructional \u0022how to\u0022 video covering the features of this tool? Coughscotmanleycough?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI actually tried sending him a link to this thread on Reddit once but I didn\u0027t get a response. I\u0027d love it if Scott did a video on KSP TOT though, would be very cool. Feel free to suggest it to him. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EIf he sets up a wiki, I\u0027d be happy to contribute\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI actually have no idea how to do that. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I\u0027d be fine with setting one up (assuming I learn how), but I don\u0027t think I\u0027d have the time to contribute content, to be honest...\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-20T23:41:30Z","Content":"\n\u003Cp\u003EPlaying around with lighting and camera settings...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/qAIqKaw.gif\u0022 alt=\u0022qAIqKaw.gif\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-21T04:44:29Z","Content":"\n\u003Cp\u003EHi Gaiiden,\u003C/p\u003E\u003Cp\u003EI think I may have found the longitude issue with Kerbal Engineer. I wasn\u0027t able to find the call out for spacecraft longitude, but I was able to find it for impact longitude (whatever that is). Anyway, it shouldn\u0027t matter, because if they\u0027re not being computed the same the results would be inconsistent, and I have to believe that KER has an internally-consistent longitude calculation. So here it is:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E //calculate time to impact\u003Cbr\u003Eimpacttime = vessel.orbit.timeToPe - timetoperiapsis(impacttheta);\u003Cbr\u003E//calculate position vector of impact site\u003Cbr\u003EVector3d impactpos = radiusdirection(impacttheta);\u003Cbr\u003E//calculate longitude of impact site in inertial reference frame\u003Cbr\u003Edouble impactirflong = 180 * Math.Atan2(impactpos.x, impactpos.y) / Math.PI;\u003Cbr\u003Edouble deltairflong = impactirflong - currentirflong;\u003Cbr\u003E//get body rotation until impact\u003Cbr\u003Edouble bodyrot = 360 * impacttime / vessel.mainBody.rotationPeriod;\u003Cbr\u003E//get current longitude in body coordinates\u003Cbr\u003Edouble currentlong = vessel.longitude;\u003Cbr\u003E//finally, calculate the impact longitude in body coordinates\u003Cbr\u003Eimpactlong = normangle(currentlong - deltairflong - bodyrot);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENotice that the initial rotation of the body never shows up in the code. It appears the code assumes that at t=0, the body\u0027s x-axis is always aligned with inertial x. I suspect that this is the source of the discrepancy. What do you think? (Btw, the code above starts at line ~500 of FlightEningeer.cs in the KER github repo.)\u003C/p\u003E\n"},{"CreatedByName":"ANWRocketMan","CreatedById":65251,"CreatedDateTime":"2014-09-21T08:03:12Z","Content":"\n\u003Cp\u003E@Arrowstar: Damn. Thanks.\u003C/p\u003E\u003Cp\u003EFigured out how to get the initial orbit in the same plane as the ejection though. Not sure if it\u0027s the perfect way to do it but it seems to work.\u003C/p\u003E\u003Cp\u003EThanks for the help!\u003C/p\u003E\u003Cp\u003EEDIT: Just another question, sorry. Is there any way to determine when a reference ground station moves underneath the spacecraft orbit? I can determine this using several plots with the graphical analysis tool and distance to ground station and using the lowest distance as a guide(say below 200km it\u0027s more or less above it) but I need to run a minimum of 35 of these to get this accurately. Is there a quicker way to do this?\u003C/p\u003E\u003Cp\u003ESorry for bothering so much.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-21T09:11:28Z\u0022 title=\u002209/21/2014 09:11  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 21, 2014\u003C/time\u003E by ANWRocketMan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-21T19:58:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ANWRocketMan\u0022 data-cite=\u0022ANWRocketMan\u0022\u003E\u003Cdiv\u003EEDIT: Just another question, sorry. Is there any way to determine when a reference ground station moves underneath the spacecraft orbit? I can determine this using several plots with the graphical analysis tool and distance to ground station and using the lowest distance as a guide(say below 200km it\u0027s more or less above it) but I need to run a minimum of 35 of these to get this accurately. Is there a quicker way to do this?\u003Cp\u003ESorry for bothering so much.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey, no worries, the more questions the merrier! Keep them coming (it\u0027s not a bother at all). \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo is it possible? Yes. But is it easy? Not really, no. What you would have to do is find the plane of orbital motion (defined by its orbital angular moment vector) and then determine the great circle on the sphere of Kerbin that represents the intersection of the orbital plane and the sphere. Once you have that, you could write a function that describes the inertial position of your ground station w.r.t. time. Finally, you would find when your position function lands on the orbital plane great circle and back out the time of the crossing from there.\u003C/p\u003E\u003Cp\u003EAs I said, not really easy. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow if you\u0027re just interested in when the \u003Cem\u003Espacecraft\u003C/em\u003E is above the ground station, then just look for when your latitude/longitude match the ground station lat/long and away you go.\u003C/p\u003E\u003Cp\u003ELet me know if that helps any. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"bk2w","CreatedById":99893,"CreatedDateTime":"2014-09-21T20:19:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESadly, it\u0027s not this easy. You can only compile MATLAB programs for the version of MATLAB you are running. In my case that\u0027s R2013a. Now, luckily for you, I\u0027m considering going to R2014b whenever The MathWorks decides to release it (will be soon, matter of days or weeks I think). If I do, that should help you out I think.\u003C/p\u003E\u003Cp\u003EBrian, any thoughts to help him out in the mean time?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt this point, I\u0027m down to googling around for similar problems.\u003C/p\u003E\u003Cp\u003ESo far I see that to install MCR R2013a you need:\u003C/p\u003E\u003Cp\u003E- Java 6 SE (available from \u003Ca href=\u0022http://support.apple.com/kb/DL1572?viewlocale=en_US\u0026amp;locale=en_US\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://support.apple.com/kb/DL1572?viewlocale=en_US\u0026amp;locale=en_US\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003E- no other MCR version installed (uninstall instructions: \u003Ca href=\u0022http://www.mathworks.com/help/compiler/working-with-the-mcr.html#bs6mchw-1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.mathworks.com/help/compiler/working-with-the-mcr.html#bs6mchw-1\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EI\u0027m unable to remove Java 6 from my machine (Apple made it darn near impossible), so I can\u0027t really replicate the problem that AppleDavidJeans is running up against. All I can suggest is to delete all version of MCR, make sure that Apple\u0027s Java 6 SE is installed, and try to install MCR R2013a.\u003C/p\u003E\u003Cp\u003E-Brian\u003C/p\u003E\n"},{"CreatedByName":"ANWRocketMan","CreatedById":65251,"CreatedDateTime":"2014-09-21T21:22:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EHey, no worries, the more questions the merrier! Keep them coming (it\u0027s not a bother at all). \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003ESo is it possible? Yes. But is it easy? Not really, no. What you would have to do is find the plane of orbital motion (defined by its orbital angular moment vector) and then determine the great circle on the sphere of Kerbin that represents the intersection of the orbital plane and the sphere. Once you have that, you could write a function that describes the inertial position of your ground station w.r.t. time. Finally, you would find when your position function lands on the orbital plane great circle and back out the time of the crossing from there.\u003C/p\u003E\u003Cp\u003EAs I said, not really easy. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow if you\u0027re just interested in when the \u003Cem\u003Espacecraft\u003C/em\u003E is above the ground station, then just look for when your latitude/longitude match the ground station lat/long and away you go.\u003C/p\u003E\u003Cp\u003ELet me know if that helps any. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eit does, in some ways. Thanks!\u003C/p\u003E\u003Cp\u003EFor extra challenge I will write that code in assembly language on an 8051 micro.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-21T23:52:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ANWRocketMan\u0022 data-cite=\u0022ANWRocketMan\u0022\u003E\u003Cdiv\u003Eit does, in some ways. Thanks!\u003Cp\u003EFor extra challenge I will write that code in assembly language on an 8051 micro.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI look forward to seeing that code in action. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere\u0027s another view of what I\u0027ve whipped up this afternoon with the Mission Animator. It\u0027s coming along nicely, don\u0027t you think?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/8I8zh20.gif\u0022 alt=\u00228I8zh20.gif\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-22T01:10:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EWell, to be honest, couldn\u0027t you just do this now? I\u0027m not sure why I\u0027d have to do anything special in MA in order for you to let the game run through an atmosphere and import an orbit on the other side. And there\u0027s no need to \u0022export\u0022 an orbit if you import your current orbit in KSP in MA first. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, I see what you\u0027re getting at. What I was describing however was solely a planning method prior to mission launch, not actually something occurring during the mission itself - in which case yea what you said. For better context I\u0027ll start from the beginning of a theoretical Eve mission plan, with a rough idea of how this might be implemented in MA. You run the porkchop plot, get your departure burn and set up MA so you\u0027re hitting Eve\u0027s SOI, then optimize down until your Pe is within the atmosphere. So you have four states: SET_STATE (Initial State), COAST (to True Anomaly), DV_MANEUVER (Proscribed), COAST (to Pe). Now, you select a new state from the drop-down: \u0022Aerobrake Maneuver\u0022 under the Maneuvers list (c\u0027mon you know you wanted something more there ;P). MA prompts you \u0022Select a craft for aerobrake\u0022, which pulls up a list of orbiting vessels via KSPTOTConnect. It also supplies a Delta UT field, which is how long prior to Pe you want to insert the craft. We\u0027ll say our Eve Pe is only a few km into the atmosphere so 10 minutes prior will be far enough to be out of the atmosphere when the craft loads. After you supply the delta time, you pick the craft and KSPTOTConnect adjusts that craft\u0027s orbit to be on the trajectory of your MA plot into Eve\u0027s atmosphere. (Like Hyperedit does to place craft in orbits). You then let the game run the craft through the atmosphere. Once out, you can return to MA, which is waiting for you to answer the \u0022Aerobrake pass complete?\u0022 dialog. With \u0022Yes\u0022 (\u0022No/Cancel\u0022 would cancel and remove the event) it will fetch the new orbit of the craft. Now you can insert a COAST (to Ap) event after the Aerobrake event to see the effect the aerobrake had on your trajectory. The Aerobrake event itself, as far as MA is concerned, would be a computed dV maneuver that doesn\u0027t subtract any fuel mass. In other words MA would treat it as you did a burn at Pe to get onto your new orbit. So the final mission plan at this point would be SET_STATE (Initial State), COAST (to True Anomaly), DV_MANEUVER (Proscribed), COAST (to Pe), AB_MANEUVER, COAST (to Ap). If you wanted to do additional dips, just replace the COAST (to Ap) event with COAST (to Pe) and repeat the process with another AB_MANEUVER event.\u003C/p\u003E\u003Cp\u003ENote that I\u0027m aware to place the craft the UT of the game would need to be adjusted - obviously this process of performing the \u0022simulated\u0022 aerobrakes would take place in a save file that isn\u0027t a user\u0027s main save.\u003C/p\u003E\u003Cp\u003EAgain the idea behind this is a pre-planning method to work aerobraking into the entire mission plan prior to launch instead of having to just aim for the atmosphere while planning, stop planning and work things forward from there once you\u0027re actually flying the mission and are back out of the atmosphere to see the effects. Unless that\u0027s how you guys really do it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI actually have no idea how to do that. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I\u0027d be fine with setting one up (assuming I learn how), but I don\u0027t think I\u0027d have the time to contribute content, to be honest...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYea me neither. You\u0027re not on GitHub so can\u0027t make use of the project wiki. A basic one however shouldn\u0027t be too troublesome to set up. As far as maintaining goes - I wouldn\u0027t expect you to bother spending time on contributing content. You develop the software, we use it - we can write stuff on it. You can continue to answer questions that will help us write better docs and also review the wiki to ensure things are accurate.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI think I may have found the longitude issue with Kerbal Engineer... What do you think?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think I suck at math (actually I know I do) so I can\u0027t really confirm your observations. Definitely posit it to the Engineer folks as they did admit such a thing was probably present in the rough code used for the alpha version I had loaded for testing.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EHere\u0027s another view of what I\u0027ve whipped up this afternoon with the Mission Animator. It\u0027s coming along nicely, don\u0027t you think?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBetter than I ever imagined 0_0\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-22T03:13:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EAh, I see what you\u0027re getting at. What I was describing however was solely a planning method prior to mission launch, not actually something occurring during the mission itself - in which case yea what you said. For better context I\u0027ll start from the beginning of a theoretical Eve mission plan, with a rough idea of how this might be implemented in MA. You run the porkchop plot, get your departure burn and set up MA so you\u0027re hitting Eve\u0027s SOI, then optimize down until your Pe is within the atmosphere. So you have four states: SET_STATE (Initial State), COAST (to True Anomaly), DV_MANEUVER (Proscribed), COAST (to Pe). Now, you select a new state from the drop-down: \u0022Aerobrake Maneuver\u0022 under the Maneuvers list (c\u0027mon you know you wanted something more there ;P). MA prompts you \u0022Select a craft for aerobrake\u0022, which pulls up a list of orbiting vessels via KSPTOTConnect. It also supplies a Delta UT field, which is how long prior to Pe you want to insert the craft. We\u0027ll say our Eve Pe is only a few km into the atmosphere so 10 minutes prior will be far enough to be out of the atmosphere when the craft loads. After you supply the delta time, you pick the craft and KSPTOTConnect adjusts that craft\u0027s orbit to be on the trajectory of your MA plot into Eve\u0027s atmosphere. (Like Hyperedit does to place craft in orbits). You then let the game run the craft through the atmosphere. Once out, you can return to MA, which is waiting for you to answer the \u0022Aerobrake pass complete?\u0022 dialog. With \u0022Yes\u0022 (\u0022No/Cancel\u0022 would cancel and remove the event) it will fetch the new orbit of the craft. Now you can insert a COAST (to Ap) event after the Aerobrake event to see the effect the aerobrake had on your trajectory. The Aerobrake event itself, as far as MA is concerned, would be a computed dV maneuver that doesn\u0027t subtract any fuel mass. In other words MA would treat it as you did a burn at Pe to get onto your new orbit. So the final mission plan at this point would be SET_STATE (Initial State), COAST (to True Anomaly), DV_MANEUVER (Proscribed), COAST (to Pe), AB_MANEUVER, COAST (to Ap). If you wanted to do additional dips, just replace the COAST (to Ap) event with COAST (to Pe) and repeat the process with another AB_MANEUVER event.\u003Cp\u003ENote that I\u0027m aware to place the craft the UT of the game would need to be adjusted - obviously this process of performing the \u0022simulated\u0022 aerobrakes would take place in a save file that isn\u0027t a user\u0027s main save.\u003C/p\u003E\u003Cp\u003EAgain the idea behind this is a pre-planning method to work aerobraking into the entire mission plan prior to launch instead of having to just aim for the atmosphere while planning, stop planning and work things forward from there once you\u0027re actually flying the mission and are back out of the atmosphere to see the effects. Unless that\u0027s how you guys really do it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, I understand what you\u0027re looking for. As great as it sounds, I\u0027m not sure that trying to run MA and KSPTOTConnect next to each other would be a great idea. Trying to optimize a mission plan would be a nightmare in network lag (compared to the speed of other calculations), for example. It also just feels... clumsy, maybe that\u0027s the right word? I think it\u0027s just the idea of having to have people use KSP and KSPTOTConnect to use what\u0027s otherwise a nominally off-line only tool that bothers me.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EHowever. \u003C/strong\u003EWhat you\u0027re really after is just aerobraking calculations, right? Okay. Go ahead and take a look at \u003Ca href=\u0022https://solarsystem.nasa.gov/docs/5_Forget_Aerobraking_Equation.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ethis document\u003C/a\u003E. It turned up in a bit of Googling that I did just now and describes an analytic model for approximating delta-v due to drag during an aerobraking maneuver. I would certainly be open to investigating adding something like this to Mission Architect. A few caveats:\u003C/p\u003E\u003Cp\u003E1) Users would be required to provide the C_d * A for their spacecraft, though I could provide a small calculator for this if you try some experiments in KSP and provide the relevant data;\u003C/p\u003E\u003Cp\u003E2) I would be modeling the delta-v due to drag as a point delta-v. Therefore the trajectory modeled would \u003Cem\u003Eonly\u003C/em\u003E be reasonable outside of the atmosphere. This is because the drag affects your spacecraft at all times while you\u0027re in the atmosphere, but a point delta-v only affects the spacecraft at one instant.\u003C/p\u003E\u003Cp\u003E3) I\u0027d have to add atmospheric scale heights to the bodies.ini file (and get KSPTOTConnect to spit it out when you ask to build a bodies.ini file from KSP itself), but that shouldn\u0027t be too much work.\u003C/p\u003E\u003Cp\u003EHow would this work for you? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYea me neither. You\u0027re not on GitHub so can\u0027t make use of the project wiki. A basic one however shouldn\u0027t be too troublesome to set up. As far as maintaining goes - I wouldn\u0027t expect you to bother spending time on contributing content. You develop the software, we use it - we can write stuff on it. You can continue to answer questions that will help us write better docs and also review the wiki to ensure things are accurate.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m looking at moving to Github whenever it becomes feasible for MATLAB code to be hosted there. I think the upcoming version of MATLAB, R2014b, should have native Git support, and if it does (and I decide to pick up said version of MATLAB), I\u0027ll create a repo. We can add the wiki there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI think I suck at math (actually I know I do) so I can\u0027t really confirm your observations. Definitely posit it to the Engineer folks as they did admit such a thing was probably present in the rough code used for the alpha version I had loaded for testing.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you link me to the post where the admit that? I need some context...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBetter than I ever imagined 0_0\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat! Here\u0027s another screenshot that I thought turned out nicely.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ACjXzpN.png\u0022 alt=\u0022ACjXzpN.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso, I\u0027m delighted to announce that since Mission Animator is coming along so nicely, I\u0027ll (probably) be releasing an early working version (what you see here, basically) with v1.1.7 (instead of waiting until v1.1.8 and disabling it in the mean time)! Good times! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-09-22T03:26:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EHey, no worries, the more questions the merrier! Keep them coming (it\u0027s not a bother at all). \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003ESo is it possible? Yes. But is it easy? Not really, no. What you would have to do is find the plane of orbital motion (defined by its orbital angular moment vector) and then determine the great circle on the sphere of Kerbin that represents the intersection of the orbital plane and the sphere. Once you have that, you could write a function that describes the inertial position of your ground station w.r.t. time. Finally, you would find when your position function lands on the orbital plane great circle and back out the time of the crossing from there.\u003C/p\u003E\u003Cp\u003EAs I said, not really easy. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow if you\u0027re just interested in when the \u003Cem\u003Espacecraft\u003C/em\u003E is above the ground station, then just look for when your latitude/longitude match the ground station lat/long and away you go.\u003C/p\u003E\u003Cp\u003ELet me know if that helps any. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMechJeb\u0027s Landing guidance does that. If the orbit is angled enough so that the chosen target will cross the orbit plane it\u0027ll warp until it\u0027s in the right spot to land without changing inclination. If the target won\u0027t cross the orbit it will do a course correction - usually. Sometimes it just gives up partway through. It also has some issues starting landings (and doing other things) below 100KM altitude. Works best when the starting orbit is circular.\u003C/p\u003E\u003Cp\u003ESooo, yeah, hard to do but not impossible.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-23T00:25:42Z","Content":"\n\u003Cp\u003EAnother teaser. I added the ability to show the spacecraft defined in the Mission Architect \u0022Other Spacecraft\u0022 dialog box. I think it looks pretty neat, and I\u0027m sure you could do some interesting visual analysis with it, as well.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/IfPzL8m.gif\u0022 alt=\u0022IfPzL8m.gif\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"AppleDavidJeans","CreatedById":84275,"CreatedDateTime":"2014-09-23T01:20:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EAnother teaser. I added the ability to show the spacecraft defined in the Mission Architect \u0022Other Spacecraft\u0022 dialog box. I think it looks pretty neat, and I\u0027m sure you could do some interesting visual analysis with it, as well.\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/IfPzL8m.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/IfPzL8m.gif\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo like it could even predict flybys of other satellites and maybe even collisions? lel\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-23T04:49:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EOkay, I understand what you\u0027re looking for. As great as it sounds, I\u0027m not sure that trying to run MA and KSPTOTConnect next to each other would be a great idea. Trying to optimize a mission plan would be a nightmare in network lag (compared to the speed of other calculations), for example. It also just feels... clumsy, maybe that\u0027s the right word? I think it\u0027s just the idea of having to have people use KSP and KSPTOTConnect to use what\u0027s otherwise a nominally off-line only tool that bothers me.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStill a teeny bit of misconception between us I think \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027m pretty sure I know where it is though. When I said the user would return to MA and prompt it to fetch the new orbit, I didn\u0027t mean to imply that during the time the game is running MA is continually streaming anything via KSPTOTConnect. Here\u0027s a flowchart I hacked together real quick:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/3pi4ZFN.png\u0022 alt=\u00223pi4ZFN.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo the idea is you have the original orbital state (A) - which is what MA calculated to get your craft Pe just outside the atmosphere, and then you are providing MA a second orbital state (\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E, which is the new orbit of the craft after exiting the atmosphere in the game. The only real legwork MA has to do is to calculate the dV needed to get your craft from state A to state B. I don\u0027t mean for that to sound simple, because it probably isn\u0027t. But that\u0027s all I was meaning for MA to do - possibly with an internal run of the optimizer that uses the new orbital parameters as constraints. Again this would appear to MA as a burn at Pe that doesn\u0027t use any fuel mass.\u003C/p\u003E\u003Cp\u003EI just created a Duna mission to 30km Pe and set the COAST event to 10 minutes prior to Pe. However when I tried to load a craft onto this orbit using the Final State data and Hyperedit, it told me the craft was out of Duna\u0027s SOI. I tried manually editing the save file (looked up the parameters in the KSP wiki to make sure proper info was being assigned) and the game just deleted the craft. I wanted to run the craft through the atmosphere, and then import the new orbit into a new SET_STATE and see how MA reacted. I think I just didn\u0027t set the parameters right for a hyperbolic orbit.\u003C/p\u003E\u003Cp\u003ESo instead I Hyperedited a craft high around Kerbin and burned to lower my Pe within the atmosphere. I loaded this orbit into MA, coasted a few mins prior to Pe, then created a new state once the craft had left the atmosphere with the new orbit. MA reacted by saying my ship landed and took off again. In the aerobrake scenario I described, it would properly connect the orbits.\u003C/p\u003E\u003Cp\u003EBoth mission files are \u003Ca href=\u0022http://www.blade-edge.com/misc/aerobrake%20test.zip\u0022 rel=\u0022external nofollow\u0022\u003Euploaded here\u003C/a\u003E.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EHowever. \u003C/strong\u003EWhat you\u0027re really after is just aerobraking calculations, right? Okay. Go ahead and take a look at \u003Ca href=\u0022https://solarsystem.nasa.gov/docs/5_Forget_Aerobraking_Equation.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ethis document\u003C/a\u003E. It turned up in a bit of Googling that I did just now and describes an analytic model for approximating delta-v due to drag during an aerobraking maneuver. I would certainly be open to investigating adding something like this to Mission Architect. How would this work for you? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf my clarifications above still don\u0027t turn my idea into a feasible method, an approximation like this would be totally cool. It would actually be more realistic really since even real world aerobrakes I don\u0027t think can 100% accurately predict their results, as my in-game method would for a given trajectory.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ECan you link me to the post where the admit that? I need some context...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/18230-0-24-2-Kerbal-Engineer-Redux-v0-6-2-10-and-v1-0-9?p=1423999\u0026amp;viewfull=1#post1423999\u0022 rel=\u0022external nofollow\u0022\u003EHere\u003C/a\u003E.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EAnother teaser. I added the ability to show the spacecraft defined in the Mission Architect \u0022Other Spacecraft\u0022 dialog box. I think it looks pretty neat, and I\u0027m sure you could do some interesting visual analysis with it, as well.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, this was exactly what I was imagining in my Duna probe scenario, which I came up with after I noticed the \u0022Other Spacecraft\u0022 box.\u003C/p\u003E\n"}]}