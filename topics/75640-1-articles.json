{"TopicId":75640,"ForumId":34,"TopicTitle":"[0.90] CrewFiles: persistence files for individual kerbals (16 dec 2014)","CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-21T13:00:16Z","PageNum":1,"Articles":[{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-21T13:00:16Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003ECrewFiles\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003ENow updated to KSP 0.90!\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAn API to provide persistent storage for individual kerbonauts.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://beta.kerbalstuff.com/mod/39/CrewFiles\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EDOWNLOAD\u003C/span\u003E\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EFrom kerbalstuff, the kommunity repository\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Ippo343/CrewFiles/releases/\u0022 rel=\u0022external nofollow\u0022\u003EAlternative download\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Ippo343/CrewFiles\u0022 rel=\u0022external nofollow\u0022\u003ESource code\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EChangelog\u003C/span\u003E\u003C/strong\u003E:\u003C/p\u003E\u003Cp\u003E- Fixed for 0.90\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EWhat is it?\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ECrewFiles is a tool intended for modders that allows your mod to store data separately for each kerbal. The system maintains a database of the known crew and allows you to associate ConfigNodes to each member that you can read and write at runtime.\u003C/p\u003E\u003Cp\u003EAdditionally, it provides a mechanism to generate or update data automatically.\u003C/p\u003E\u003Cp\u003EThis project is a spin-off of my main work on \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/81794-Alpha-1-rev-3-Dang-It%21-A-random-failures-mod\u0022 rel=\u0022external nofollow\u0022\u003EDangIt!\u003C/a\u003E, that will use this system to handle perks.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EHow to use\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EYou will need to include the CrewFilesInterface assembly as a dependency of your mod.\u003C/p\u003E\u003Cp\u003EIn this class you will find a manager class that you can use to retrieve the current instance of the server, which you can use to access the file for each known crew member.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIf redistributing this, make sure NOT to nest the CrewFiles folder within your mod.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EPlease distribute it alongside your folders, not inside it: there needs to be one only CrewFiles assembly! You can however safely distribute the CrewFilesInterface assembly.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EData generators\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EYou can also have the data filled in and handled automatically for you by using classes defined with the appropriate interface.\u003C/p\u003E\u003Cp\u003EYou can create a Data Generator by defining a class that implements the ICrewDataGenerator: each time that the database is loaded / saved, the server will find your class and give it a chance to run and produce a ConfigNode to store.\u003C/p\u003E\u003Cp\u003ESee the included example generator that gives each kerbal his own tastes.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-16T17:14:20Z\u0022 title=\u002212/16/2014 05:14  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 16, 2014\u003C/time\u003E by Ippo\u003C/strong\u003E\n\u003Cbr\u003E0.90 update\n\u003C/span\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-06-22T02:22:23Z","Content":"\n\u003Cp\u003EI might be missing something here... but where\u0027s the download for actual thing? I can only seem to download the source code.\u003C/p\u003E\n"},{"CreatedByName":"TheCanadianVendingMachine","CreatedById":59684,"CreatedDateTime":"2014-06-22T03:35:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EI might be missing something here... but where\u0027s the download for actual thing? I can only seem to download the source code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGo to Obj -\u0026gt; Debug\u003C/p\u003E\u003Cp\u003EThen I think its that CrewFiles.dll in there\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-22T07:18:59Z","Content":"\n\u003Cp\u003EIf this is what I think it is then it is exactlyvwhat I need to kick start my kerbal social / teamwork / achievements / rank ideas. I thank you. (such a shame I was going to give up kidding - oh well, the new job and house move will just have to wait)\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-22T10:39:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EI might be missing something here... but where\u0027s the download for actual thing? I can only seem to download the source code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, there had been an error during the upload and I hadn\u0027t noticed. It should be up now.\u003C/p\u003E\u003Cp\u003EAgain, sorry or the poor doc, I\u0027ll catch up over time but I\u0027m kind of busy right now. If anyone wants to me to explain anything at all just ask.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-22T10:46:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EIf this is what I think it is then it is exactlyvwhat I need to kick start my kerbal social / teamwork / achievements / rank ideas. I thank you. (such a shame I was going to give up kidding - oh well, the new job and house move will just have to wait)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it might be what you need, since you can basically associate whatever information you need to a kerbal \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso, checkout my example generators to see how you can have the system generate some data for you. I\u0027m going to use it in my DangIt mod to give perks to kerbals: if a kerbal is found that has no perks yet, I generate some random perks for him, and then I can read them in flight to affect his ability to repair stuff \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E(That\u0027s the rationale for the generators system: I actually only needed a simpler system to store my perks, then realized that it might have been useful for other people and that\u0027s why I expanded the concept to be more general)\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-22T11:50:26Z","Content":"\n\u003Cp\u003ENow I am back on my computer (rather than phone) I just wanted to say thanks for writing your crew files mod - it looks exactly like what I need, and will kick start a social/sanity mod that I have been wanting to start for a while. Together with Connected Living Space, I should have all the thinks I need (with the exception of working out what the in game consequences of having a good / bad team or having good/bad mental health.)\u003C/p\u003E\u003Cp\u003EI am yet to get stuck into what you have produced, but I have a few thoughts:\u003C/p\u003E\u003Cp\u003E1) how is your API defined? Is it likely to change in the future? Do you intend other mods that use it to access it using reflection (like toolbar), or a separate interfaces dll (like CLS) or just import your dll. \u003C/p\u003E\u003Cp\u003E2) How do you intend to version your mod? This links to the issues of 1) above, but if we import your dll, and you up your version number, then we can get into dependency issues, but then on the other hand if your dll has changed perhaps a rebuild is necessary. Reflection can be used to interogate the version of the dll before using it, or having well defined versioned interfaces can also allow the implementation to be updated while keeping the api consistent.\u003C/p\u003E\u003Cp\u003E3) How do you intend mods that use your api should distribute your mod? By including the dependent version of your mod, or by telling users to download it from somewhere?\u003C/p\u003E\u003Cp\u003E4) Do you have a suggested snippet of code that we can use that checks your mod is installed an available and then accesses it?\u003C/p\u003E\u003Cp\u003E5) Do you intend to create a config definition that other mods can make use of. So for example if it was well know and defined that every kerbal has a strength value, and a snappy-dressing value, then multiple mods could be written that both make use of those attributes. There is of course potential for different mods to interact badly in this way so it is no more a good idea that a bad one. What do you think?\u003C/p\u003E\u003Cp\u003E6) Do you intend to create a common screen for displaying a kerbal\u0027s attributes? This could be useful, especially if more than one mod is trying to display the same data, and so essentially do the same thing.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-06-22T12:38:47Z","Content":"\n\u003Cp\u003EThanks for this - just saved me a ton of work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Same questions codepoet has btw\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-06-22T12:46:25Z","Content":"\n\u003Cp\u003ESide question - is there an intent to surface a UI for this or is that out of scope? Even a debugging one would be nice (or just let me know if I\u0027m being an idiot and missed it...)\u003C/p\u003E\n"},{"CreatedByName":"Hattivat","CreatedById":110255,"CreatedDateTime":"2014-06-22T12:52:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003Ewill kick start a social/sanity mod that I have been wanting to start for a while. Together with Connected Living Space, I should have all the thinks I need (with the exception of working out what the in game consequences of having a good / bad team or having good/bad mental health.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHell yeah, please do, I\u0027ve been waiting for a such a thing for so long. If you need some help with research for this project, I volunteer to help; I can hardly code and can\u0027t model for my life, but I possess the seemingly rare trait of considering it an enjoyable leisure time activity to search for and read lengthy scientific papers on space-related stuff.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-22T12:57:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hattivat\u0022 data-cite=\u0022Hattivat\u0022\u003E\u003Cdiv\u003EHell yeah, please do, I\u0027ve been waiting for a such a thing for so long. If you need some help with research for this project, I volunteer to help; I can hardly code and can\u0027t model for my life, but I possess the seemingly rare trait of considering it an enjoyable leisure time activity to search for and read lengthy scientific papers on space-related stuff.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are on! I am moving house and starting a new job soon, so ought to have little time for a new modding etc but this has tempted me to consider coding again! I have been gathering ideas etc on \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/69532-WIP-KerbalSocial-just-an-idea-at-this-stage?p=1226566#post1226566\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E. However I am also interested to find out what roverdude is up to as it sounds like he also has a project in the same area underway.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-06-22T13:33:49Z","Content":"\n\u003Cp\u003EAnother question - any example on how to consume this? Meaning, I see the demo data in there and the config file - is there any abstraction/syntactic sugar over reading the config nodes?\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-22T13:39:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI am yet to get stuck into what you have produced, but I have a few thoughts:\u003C/p\u003E\u003Cp\u003E1) how is your API defined? Is it likely to change in the future? Do you intend other mods that use it to access it using reflection (like toolbar), or a separate interfaces dll (like CLS) or just import your dll.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m thinking you should link to the dll, putting a project reference in your IDE like you do for UnityEngine. That\u0027s the method I have been using with my project: also, CrewFiles uses reflection to find classes that implement ICrewDataGenerator, so I guess you should include it as a dependency anyway.\u003C/p\u003E\u003Cp\u003EBasically, you have 2 access points to use the API:\u003C/p\u003E\u003Cp\u003E1) Writing data generators: as poorly explained, they are run at the beginning and exit of each scene. Also, note the public RefreshDatabase method: it will also trigger a MidScene run of the generators. You can of course choose in which phases to run using the MustRun method.\u003C/p\u003E\u003Cp\u003E2) During a scene, you can access the record of a kerbal with the GetKerbalFile or whatever it\u0027s called method: these two will most likely remain unchanged in the future, at most I could add stuff.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E3) How do you intend mods that use your api should distribute your mod? By including the dependent version of your mod, or by telling users to download it from somewhere?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt the moment it\u0027s better if you don\u0027t include the dll in your download and point the users here mainly because, as I said, it doesn\u0027t check for multiple instances. I tried to do it but I got weird exceptions, I\u0027m working on it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E4) Do you have a suggested snippet of code that we can use that checks your mod is installed an available and then accesses it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m afraid not yet: I\u0027ll cook something up, but basically you just need to use reflection to check if the CrewFiles class is defined.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E5) Do you intend to create a config definition that other mods can make use of. So for example if it was well know and defined that every kerbal has a strength value, and a snappy-dressing value, then multiple mods could be written that both make use of those attributes. There is of course potential for different mods to interact badly in this way so it is no more a good idea that a bad one. What do you think?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI hadn\u0027t thought of that yet: I\u0027m sorry to be so vague but really it\u0027s just a generalized version of a system I needed inside another mod, also I never made a library before, so I\u0027m not really quite sure how I should approach this: what do you think?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E6) Do you intend to create a common screen for displaying a kerbal\u0027s attributes? This could be useful, especially if more than one mod is trying to display the same data, and so essentially do the same thing.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had thought about it, but decided to keep it without gui for the moment. Maybe in a second release?\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-22T13:41:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EAnother question - any example on how to consume this? Meaning, I see the demo data in there and the config file - is there any abstraction/syntactic sugar over reading the config nodes?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfraid not, not yet at least: in DangIt I just read in the ConfigNode for the kerbal I\u0027m considering and checking if it has my perk node.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-22T13:43:41Z","Content":"\n\u003Cp\u003EI never really designed a library before: I\u0027m not quite sure how to approach versioning, what API to expose, or anything else. So suggestions are not only welcome - I\u0027m begging for them.\u003C/p\u003E\u003Cp\u003EI openly encourage anyone with more skills than me (so basically anyone) to suggest changes or even contribute to the GIT repo themselves: if anyone even felt like taking charge of the whole project I seriously wouldn\u0027t mind.\u003C/p\u003E\n"},{"CreatedByName":"mic_e","CreatedById":60757,"CreatedDateTime":"2014-06-24T14:01:26Z","Content":"\n\u003Cp\u003EUhm... it\u0027s not like anybody cares, but you\u0027re distributing Assembly-CSharp.dll and UnityEngine.dll in bin/Debug, and some lawyers might use that to extort money.\u003C/p\u003E\u003Cp\u003EI suggest adding the entire bin and obj dirs to the .gitignore file.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-24T14:04:43Z\u0022 title=\u002206/24/2014 02:04  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 24, 2014\u003C/time\u003E by mic_e\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-06-24T14:15:26Z","Content":"\n\u003Cp\u003EOne suggestion/consideration - plug this into a Scenario node vs. a separate config file (ala Kethane, TAC, etc.)\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-24T15:07:33Z","Content":"\n\u003Cp\u003EI am not sure exactly what you mean by \u0022separate config file\u0022, however I am tempted to disagree with you. I think it is better to have all the information about the state of a saved game in the single save file. I know for example that I get frustrated when I use quickload and find that all my kerbals alarm clock alarms are the once from before the quick load, so presumably KAC save that info separately to the save file. I think it would be better if it was in the save file.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-24T15:48:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mic_e\u0022 data-cite=\u0022mic_e\u0022\u003E\u003Cdiv\u003EUhm... it\u0027s not like anybody cares, but you\u0027re distributing Assembly-CSharp.dll and UnityEngine.dll in bin/Debug, and some lawyers might use that to extort money.\u003Cp\u003EI suggest adding the entire bin and obj dirs to the .gitignore file.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, I missed it. I never use git, I use SVN locally, so I never really take a loot at what git is doing when it uploads \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EOne suggestion/consideration - plug this into a Scenario node vs. a separate config file (ala Kethane, TAC, etc.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EI am not sure exactly what you mean by \u0022separate config file\u0022, however I am tempted to disagree with you. I think it is better to have all the information about the state of a saved game in the single save file. I know for example that I get frustrated when I use quickload and find that all my kerbals alarm clock alarms are the once from before the quick load, so presumably KAC save that info separately to the save file. I think it would be better if it was in the save file.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, roverdude is actually right: right now it\u0027s a separate file in the save folder, it\u0027s not in the persistent file.\u003C/p\u003E\u003Cp\u003EThat\u0027s because right now I don\u0027t feel comfortable touching the main persistent file: just consider that this morning I re-downloaded the version I put on github (the same one I had tested before posting it) and now it doesn\u0027t work for some reason.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-06-24T16:20:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EI am not sure exactly what you mean by \u0022separate config file\u0022, however I am tempted to disagree with you. I think it is better to have all the information about the state of a saved game in the single save file. I know for example that I get frustrated when I use quickload and find that all my kerbals alarm clock alarms are the once from before the quick load, so presumably KAC save that info separately to the save file. I think it would be better if it was in the save file.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe\u0027re in violent agreement \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Right now, CrewStats is in it\u0027s own config file in the save folder, not built into the persistence file. My suggestion is (much as other mods do) to embed this in the persistence file vs. having it broken out in it\u0027s own file as it is currently.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-24T16:43:56Z","Content":"\n\u003Cp\u003ECan\u0027t you just implement OnSave and OnLoad in your scenario class and receive / pass some ConfigNodes and leave all the serialization to KSP. It does not sound too risky. The worse case scenario is you get an exception in your own code and bomb out.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-24T16:53:23Z","Content":"\n\u003Cp\u003EYou are absolutely right, but at the moment it\u0027s very handy for me to have a separate file that I can mess with, especially in the wake of the strange bug I\u0027m having today (no version of the code, no matter which one, saves the database to file. even the one that worked when I uploaded it).\u003C/p\u003E\u003Cp\u003EBasically at the moment it\u0027s very very handy for me to be able to delete, modify or recreate the file without opening the persistent. I will move it in there as soon as this #!@@=! thing finally starts doing what I want it to.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-24T16:58:58Z\u0022 title=\u002206/24/2014 04:58  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 24, 2014\u003C/time\u003E by Ippo\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2014-06-24T17:31:54Z","Content":"\n\u003Cp\u003E...looking at the code in hopes of stealthily sending a pull request with an RPM variable handler built in, I noticed something.\u003C/p\u003E\u003Cp\u003ESuppose one had a Jebediah Kerman and a Jebediah Kerballer, latter being created with the use of Crew Manifest, which allows one to do it. It would be impossible for Jebediah Kerballer to ever have his own crew file.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-24T18:17:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003E...looking at the code in hopes of stealthily sending a pull request with an RPM variable handler built in, I noticed something.\u003Cp\u003ESuppose one had a Jebediah Kerman and a Jebediah Kerballer, latter being created with the use of Crew Manifest, which allows one to do it. It would be impossible for Jebediah Kerballer to ever have his own crew file.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E... I didn\u0027t even know that it was possible to have a different last name. Thank you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-06-24T18:51:27Z","Content":"\n\u003Cp\u003EHey, can I have a quick advice?\u003C/p\u003E\u003Cp\u003EI thought that it might be useful to store a node with information about the mod itself. Aside from the version number of the DLL, what might be useful in that node?\u003C/p\u003E\n"}]}