{"TopicId":42072,"ForumId":44,"TopicTitle":"/[Math] I need some help with a Schwartzchild radius calculator.","CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-08-11T20:18:42Z","PageNum":1,"Articles":[{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-08-11T20:18:42Z","Content":"\n\u003Cp\u003EI\u0027m trying to program a calculator that will give me the Schwartzchild radius of an object with a user-inputted mass, however I am getting a negative value for my answer, and I don\u0027t know why.\u003C/p\u003E\u003Cp\u003EVariable initialization:\u003C/p\u003E\u003Cp\u003Efinal int c=299792458;\u003C/p\u003E\u003Cp\u003Edouble m, r;\u003C/p\u003E\u003Cp\u003Efinal double G=6.67384;\u003C/p\u003E\u003Cp\u003EEquation:\u003C/p\u003E\u003Cp\u003Er=(2*G*m)/(c*c);\u003C/p\u003E\u003Cp\u003EIf you type in 123456789, you get -1.1814554364396923.\u003C/p\u003E\u003Cp\u003EWhen I try the equation in Wolfram Alpha (2*(Gravitational Constant)*123456789)/(c^2), I get the much more logical sounding answer of 1.83 x 10^-19 m/kg. (Which is a density, and not a distance, so that makes even less sense).\u003C/p\u003E\n"},{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2013-08-11T20:23:51Z","Content":"\n\u003Cp\u003EFrom a quick eyeball I would say that c*c is the issue as the result will not fit into an integer. This is causing an overflow, and results in a negative answer. I would recommend precomputing c*c and storing it as a constant double.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-11T20:27:21Z\u0022 title=\u002208/11/2013 08:27  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 11, 2013\u003C/time\u003E by Rich\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-08-11T20:35:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rich\u0022 data-cite=\u0022Rich\u0022\u003E\u003Cdiv\u003EFrom a quick eyeball I would say that c*c is the issue as the result will not fit into an integer. This is causing an overflow, and results in a negative answer. I would recommend precomputing c*c and storing it as a constant double.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, thanks! The output is the same as Wolfram Alpha, so I\u0027m going to assume that it\u0027s correct. I\u0027ll have to remember to check for runtime overflow errors from now on.\u003C/p\u003E\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-08-11T21:01:29Z","Content":"\n\u003Cp\u003EOdd... I decided to do the calculation for the Sun, which as I understand should be around 3000 meters, however if you type in the mass of the Sun in kg: 1.9891 x 10^30 (I had to type out all the zeros for the program\u0027s input), you get: 2.9539241530930125 E 14, which is WAY bigger than 3000. I can only guess it\u0027s an overflow error, since 2^64 is only 20 digits, and if it is, how does one initialize a large enough double in Java to hold the value?\u003C/p\u003E\u003Cp\u003EAlso, Wolfram Alpha has been giving me answers in Stokes, since the equation doesn\u0027t seem to cancel out enough units to leave only meters in the equation.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-11T21:24:31Z\u0022 title=\u002208/11/2013 09:24  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 11, 2013\u003C/time\u003E by Themohawkninja\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2013-08-11T21:27:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Themohawkninja\u0022 data-cite=\u0022Themohawkninja\u0022\u003E\u003Cdiv\u003EOdd... I decided to do the calculation for the Sun, which as I understand should be around 3000 meters, however if you type in the mass of the Sun in kg: 1.9891 x 10^30 (I had to type out all the zeros for the program\u0027s input), you get: 2.9539241530930125 E 14, which is WAY bigger than 3000. I can only guess it\u0027s an overflow error, and if it is, how does one initialize a large enough (I\u0027m hoping that a 64-bit variable will do) double in Java to hold the value?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe mantissa is correct, but the exponent is wrong. Are you sure you typed the correct number of zeros?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Themohawkninja\u0022 data-cite=\u0022Themohawkninja\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, Wolfram Alpha has been giving me answers in Stokes, since the equation doesn\u0027t seem to cancel out enough units to leave only meters in the equation.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou must specify the units of the mass so try:\u003C/p\u003E\u003Cp\u003E(2*(Gravitational Constant)*(mass of the sun))/(c^2)\u003C/p\u003E\u003Cp\u003Eor\u003C/p\u003E\u003Cp\u003E(2*(Gravitational Constant)*(\u003Cspan style=\u0022color:#333333;\u0022\u003E1.9891 x 10^30\u003C/span\u003E\u003Cstrong\u003Ekg\u003C/strong\u003E))/(c^2)\u003C/p\u003E\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-08-11T21:36:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rich\u0022 data-cite=\u0022Rich\u0022\u003E\u003Cdiv\u003EThe mantissa is correct, but the exponent is wrong. Are you sure you typed the correct number of zeros?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf by mantissa you mean the numbers to the right of the decimal point (I had to look it up on Google, as that\u0027s a new word to me), I inputted 198,910,000,000,000,000,000,000,000,000 (minus the commas). Looking at it with all of the commas, I might have missed one, but it\u0027s hard to count all of those zeros without any commas to format. I doubt that one zero will make much of a difference in this case.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rich\u0022 data-cite=\u0022Rich\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYou must specify the units of the mass so try:\u003C/p\u003E\u003Cp\u003E(2*(Gravitational Constant)*(mass of the sun))/(c^2)\u003C/p\u003E\u003Cp\u003Eor\u003C/p\u003E\u003Cp\u003E(2*(Gravitational Constant)*(\u003Cspan style=\u0022color:#333333;\u0022\u003E1.9891 x 10^30\u003C/span\u003E\u003Cstrong\u003Ekg\u003C/strong\u003E))/(c^2)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI did, I actually had to specify c as m/s (it was assuming that c was a variable). I typed in: (2*(Gravitational Constant)*1989100000000000000000000000000 kg)/(89880000000000000 m/s), and got 2954 m^2/s (my bad, it gave a conversion to stokes which would be 2.954*10^7 Stokes)/\u003C/p\u003E\n"},{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2013-08-11T21:48:21Z","Content":"\n\u003Cp\u003EI am not sure what is wrong with your code with actually running it, but as for Wolfram Alpha - The units for c^2 are (m^2 / s^ 2)\u003C/p\u003E\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-08-11T23:05:18Z","Content":"\n\u003Cp\u003EFOUND IT!\u003C/p\u003E\u003Cp\u003EG was set to 6.67... when it is actually 6.67x10^-11. My answers were off so badly, because I was multiplying them by a number that is 11 orders of magnitude off!\u003C/p\u003E\u003Cp\u003EEDIT: It does however say that the Earth should have a Schwartzchild radius of ~8.7 meters, which I know isn\u0027t right, as the correct answer should be around 0.05 meters (around 2 inches). Some further refinements are needed.\u003C/p\u003E\u003Cp\u003EEDIT2: Turns out there were three too many zeros for c^2... it all calculates correctly now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-11T23:24:37Z\u0022 title=\u002208/11/2013 11:24  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 11, 2013\u003C/time\u003E by Themohawkninja\u003C/strong\u003E\n\u003C/span\u003E\n"}]}