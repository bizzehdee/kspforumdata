{"TopicId":95907,"ForumId":70,"TopicTitle":"RAM usage increasing over time.","CreatedByName":"vladd148","CreatedById":131800,"CreatedDateTime":"2015-01-07T07:03:06Z","PageNum":1,"Articles":[{"CreatedByName":"vladd148","CreatedById":131800,"CreatedDateTime":"2015-01-07T07:03:06Z","Content":"\n\u003Cp\u003EHey guys, currently running a modded install of KSP with B9, Texture Replacer, EVE and the Astronomer Pack as my main mods. Through hours of tweaking I have managed to get my RAM usage to around 2.5-2.7. However, I have noticed that about after a while in-game the RAM usage steadily increases until my game crashes. This occurs REGARDLESS of the part count, and what I am doing. (Example, I was testing out a 200 part plane and was running fine at 2.7 RAM and then last hopped on a 25 part plane and crashed). Is this normal??\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2015-01-07T07:26:49Z","Content":"\n\u003Cp\u003EThis is known as a memory leak, and is common in any program still in development. It\u0027s even more common with mods installed.\u003C/p\u003E\u003Cp\u003EYou have several options (You aren\u0027t limited to just one):\u003C/p\u003E\u003Cp\u003E1. Reduce your mod load. (Texture Replacer, EVE and Astronomer\u0027s Pack can be very High on the RAM requirement, and you can trim out a lot of the parts on B9 that you don\u0027t use.)\u003C/p\u003E\u003Cp\u003E2. Install Advanced Texture Management (I know it\u0027s slow to load.)\u003C/p\u003E\u003Cp\u003E3. Switch to OpenGL\u003C/p\u003E\u003Cp\u003E4. Switch to 64bit Linux.\u003C/p\u003E\u003Cp\u003EAlso you should check that all your mods are up to date. That will reduce memory issues as well. The latest B9 update cuts it\u0027s memory load in about a quarter.\u003C/p\u003E\n"},{"CreatedByName":"vladd148","CreatedById":131800,"CreatedDateTime":"2015-01-07T07:54:00Z","Content":"\n\u003Cp\u003EThank you very much for the reply! I will look to trim a few of the mods out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2015-01-07T08:11:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022vladd148\u0022 data-cite=\u0022vladd148\u0022\u003E\u003Cdiv\u003EThank you very much for the reply! I will look to trim a few of the mods out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have the same issue as you, and find that it happens on stock too. Reducing textures/mods/whatever just slows it down, but at least it does that!\u003C/p\u003E\n"},{"CreatedByName":"crparris","CreatedById":77846,"CreatedDateTime":"2015-02-09T21:31:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ruedii\u0022 data-cite=\u0022Ruedii\u0022\u003E\u003Cdiv\u003EThis is known as a memory leak, and is common in any program still in development. It\u0027s even more common with mods installed.\u003Cp\u003EYou have several options (You aren\u0027t limited to just one):\u003C/p\u003E\u003Cp\u003E1. Reduce your mod load. (Texture Replacer, EVE and Astronomer\u0027s Pack can be very High on the RAM requirement, and you can trim out a lot of the parts on B9 that you don\u0027t use.)\u003C/p\u003E\u003Cp\u003E2. Install Advanced Texture Management (I know it\u0027s slow to load.)\u003C/p\u003E\u003Cp\u003E3. Switch to OpenGL\u003C/p\u003E\u003Cp\u003E4. Switch to 64bit Linux.\u003C/p\u003E\u003Cp\u003EAlso you should check that all your mods are up to date. That will reduce memory issues as well. The latest B9 update cuts it\u0027s memory load in about a quarter.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethese options wont work. the memory leak will eventually crash your game; even in linux - its just a matter of time.. every screen change adds to RAM usage; eventually you WILL run out of ram.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-09T21:33:17Z\u0022 title=\u002202/09/2015 09:33  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 9, 2015\u003C/time\u003E by crparris\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2015-02-12T05:18:34Z","Content":"\n\u003Cp\u003ETry doing the following steps:\u003C/p\u003E\u003Cp\u003E1. Exit to main menu\u003C/p\u003E\u003Cp\u003E2. Load back to your save\u003C/p\u003E\u003Cp\u003EIf that doesn\u0027t reduce memory load then try starting a new game between the two steps.\u003C/p\u003E\u003Cp\u003E1. Exit to main menu\u003C/p\u003E\u003Cp\u003E2. Start a new game (or load another empty save)\u003C/p\u003E\u003Cp\u003E3. Exit to main menu\u003C/p\u003E\u003Cp\u003E4. Load back to your save\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2015-02-12T06:21:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022crparris\u0022 data-cite=\u0022crparris\u0022\u003E\u003Cdiv\u003Ethese options wont work. the memory leak will eventually crash your game; even in linux - its just a matter of time.. every screen change adds to RAM usage; eventually you WILL run out of ram.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESince I presume you don\u0027t have experiencing with Linux memory addressing, I\u0027ll give it to you straight. Linux64 won\u0027t run out of memory very easily. It has 128 TB virtual memory space for usermode programs on current generation desktop processors. Additionally, Linux does not allow pages to be locked in memory by any user other than root, hence pages full of leaked memory WILL be swapped, and thus will only use swap space, and virtual memory, not physical memory.\u003C/p\u003E\u003Cp\u003EHonestly, if you are running nVidia drivers, they will crash before the system gets an OOM error.\u003C/p\u003E\u003Cp\u003EYou are more likely to get an intraprogram page fault (i.e. a heap overflow or stack overflow), which can cause similar behavior to out of memory, without actually causing any physical problems on the OS level. This is caused when poorly written programs, such as the Unity3D libraries, allocate memory from the heap or stack without going through proper channels and just assumes there is enough memory already allocated in the heap or stack for the data.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-02-12T08:47:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ruedii\u0022 data-cite=\u0022Ruedii\u0022\u003E\u003Cdiv\u003ESince I presume you don\u0027t have experiencing with Linux memory addressing, I\u0027ll give it to you straight. Linux64 won\u0027t run out of memory very easily. It has 128 TB virtual memory space for usermode programs on current generation desktop processors. Additionally, Linux does not allow pages to be locked in memory by any user other than root, hence pages full of leaked memory WILL be swapped, and thus will only use swap space, and virtual memory, not physical memory.\u003Cp\u003EHonestly, if you are running nVidia drivers, they will crash before the system gets an OOM error.\u003C/p\u003E\u003Cp\u003EYou are more likely to get an intraprogram page fault (i.e. a heap overflow or stack overflow), which can cause similar behavior to out of memory, without actually causing any physical problems on the OS level. This is caused when poorly written programs, such as the Unity3D libraries, allocate memory from the heap or stack without going through proper channels and just assumes there is enough memory already allocated in the heap or stack for the data.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWould you call slowing down the system all of a sudden and needing a restart to fix it, an OS level problem? I have no idea why simply closing the game doesn\u0027t clear it and a restart is needed. \u003C/p\u003E\u003Cp\u003EAnd that would explain why I sometimes see NVIDIA have a crash and recovery shortly before the game spazzes out.\u003C/p\u003E\n"},{"CreatedByName":"Captain Planet","CreatedById":134209,"CreatedDateTime":"2015-02-23T21:17:26Z","Content":"\n\u003Cp\u003EReally would love to see this issue addressed or at least acknowledged by Squad before the game hits 1.0. It\u0027s a major problem that is continually cropping up in both vanilla and modded games. At this point I\u0027m looking at running linux just for one game, which is ridiculous.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-02-24T04:24:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Captain Planet\u0022 data-cite=\u0022Captain Planet\u0022\u003E\u003Cdiv\u003EReally would love to see this issue addressed or at least acknowledged by Squad before the game hits 1.0. It\u0027s a major problem that is continually cropping up in both vanilla and modded games. At this point I\u0027m looking at running linux just for one game, which is ridiculous.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcept that it\u0027s a problem with Linux as well, switching to Linux doesn\u0027t make the problem go away.\u003C/p\u003E\n"},{"CreatedByName":"Captain Planet","CreatedById":134209,"CreatedDateTime":"2015-02-24T10:52:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EExcept that it\u0027s a problem with Linux as well, switching to Linux doesn\u0027t make the problem go away.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, that\u0027s just depressing.\u003C/p\u003E\n"},{"CreatedByName":"Eddie Rod","CreatedById":107414,"CreatedDateTime":"2015-05-26T03:47:19Z","Content":"\n\u003Cp\u003EWhy is this still not fixed in 1.0.2?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-26T09:45:46Z","Content":"\n\u003Cp\u003EIt\u0027s a different issue, and this thread is old, from before 1.0\u003C/p\u003E\u003Cp\u003EClosing.\u003C/p\u003E\n"}]}