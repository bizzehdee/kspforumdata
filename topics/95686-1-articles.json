{"TopicId":95686,"ForumId":69,"TopicTitle":"[UPDATED]KSP GPU crash, Please post GPU Usage %","CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-05T02:13:58Z","PageNum":1,"Articles":[{"CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-05T02:13:58Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E............................................................................................................................................................\u003C/p\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESOLVED:\u003C/p\u003E\u003Cp\u003EJust to update. I seem to have solved the issue. I updated my bios version on my motherboard and haven\u0027t had a crash yet. Just in case anyone is having a similar issue, I have the ASRock z77 Extreme4 motherboard (this might affect other boards, not sure). My old version of bios would only let me select \u0027Auto\u0027 or \u0027Gen 1\u0027 speed under the PCIe Speed tab in bios. As soon as I updated, the options of \u0027Gen 2\u0027 and \u0027Gen 3\u0027 came up. Apparently early versions of the bios firmware did not use the graphics card at full speed. Anyways, hope this helps someone, it took me a while to figure out.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E ............................................................................................................................................................\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EFirst I ask if anyone with a similar rig could please post what GPU usage % they get when they first load their game into the kerbal space center without moving their camera. This would be with max settings. Read on for my issue...\u003C/p\u003E\u003Cp\u003EI\u0027ve been trying to track down the source of my seemingly random crashes of KSP. I\u0027ve spent the last couple of weeks taking apart my computer, moving files, running tests, etc.\u003C/p\u003E\u003Cp\u003EMy computer specs:\u003C/p\u003E\u003Cp\u003Ei5, stable overclock to 4.4Ghz\u003C/p\u003E\u003Cp\u003E8 gig memory\u003C/p\u003E\u003Cp\u003EGTX 670 SLi\u003C/p\u003E\u003Cp\u003E27inch 1440p monitor\u003C/p\u003E\u003Cp\u003EI\u0027ve narrowed my crash to the fact that my one GPU (looks like KSP doesn\u0027t use SLI) gets used up to 99% when simply loading a new game which shows the kerbal space center. My game will crash within seconds to minutes unless I pan my camera to the side where my GPU usage % drops down to lower, be it 80%, or 50% or lower. This doesn\u0027t just happen around KSC. When landing on other planets, if GPU % goes to 99%, game will crash again in a few seconds to a minute unless I pan the camera. I\u0027ve also had to limit my FPS to 60 instead of 96 (my monitor refresh) as the lower FPS helps bring down the GPU usage %. This can not be right...\u003C/p\u003E\u003Cp\u003EI have no stability problems with my rig. I\u0027ve returned all my overclocks to normal and get the same result. I\u0027ve run memory tests, CPU torture tests, GPU torture tests, etc. No crashes and no heat problems. I\u0027ve removed my second GPU card to test with one, I\u0027ve switched them to see if its the card it self. I\u0027ve tried different drivers. I\u0027ve tried different resolution monitors. KSP is the only game I have an issue with.\u003C/p\u003E\u003Cp\u003EAsking first for someone to provide what GPU usage % they get on load a game, and for advice on where to go to next as I am out of ideas... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-16T20:14:26Z\u0022 title=\u002201/16/2015 08:14  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 16, 2015\u003C/time\u003E by RedRx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-01-05T03:36:37Z","Content":"\n\u003Cp\u003EIf you could post the crash log files (upload them to Pastebin or similar -- or Dropbox or Google Drive, preferably not zipped), we might be able to help a little more. While the graphics card \u003Cem\u003Eis\u003C/em\u003E showing excessive usage, it does not necessarily mean it\u0027s the fault of your hardware.\u003C/p\u003E\u003Cp\u003EMy lone, dingy old Radeon HD 7770 only gets up to about 60% usage upon first loading the Space Center, and quickly drops to about 45% shortly thereafter.\u003C/p\u003E\n"},{"CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-05T04:09:45Z","Content":"\n\u003Cp\u003EThis is a link to my previous post which I included my crash logs. I\u0027m definitely not running out of memory. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/103186-Seemingly-Random-Crashes\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/103186-Seemingly-Random-Crashes\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ECan you pan around your camera when you\u0027re taking off to make you\u0027re GPU reach 100% sustained at all? All my launches, even small craft, do. Anything with over 30 to 40 parts will crash unless I have my camera tilted up.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-01-05T04:55:03Z","Content":"\n\u003Cp\u003EI haven\u0027t checked on a launch yet -- I\u0027ll let you know as soon as I can get back home and check it out. I sure as hell don\u0027t have that kind of a problem, though; most of my craft are around 60 parts, at the moment.\u003C/p\u003E\u003Cp\u003EThe logs you posted sure aren\u0027t out of memory crashes, either, but there are a lot of weird warnings popping up in them. Do the crashes leave behind an error.log file? I\u0027d like to look at that one, if possible.\u003C/p\u003E\n"},{"CreatedByName":"Darren9","CreatedById":58062,"CreatedDateTime":"2015-01-05T07:39:52Z","Content":"\n\u003Cp\u003EIf it helps I have the most similar system so far, GTX770, i7 920 @4.0 and 2650x1080. I get 99% for around one second then 85-95% when I go to the space center view, 70-95% in the flight scene with a 30 part ship, for the most part it\u0027s on or near the limiter that\u0027s set to 120FPS, drops as low as 80 occasionally and usually around 7-800Mb VRAM. I don\u0027t seem to have any issues.\u003C/p\u003E\n"},{"CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-06T00:20:39Z","Content":"\n\u003Cp\u003EDarren, I guess that\u0027s not too far off from what I get.\u003C/p\u003E\u003Cp\u003EThese are my recent crash logs... \u003Ca href=\u0022https://www.dropbox.com/sh/gwwxz3ks9kq9xx7/AABqvlk8jD2eiGmDsOPu2BLLa?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/gwwxz3ks9kq9xx7/AABqvlk8jD2eiGmDsOPu2BLLa?dl=0\u003C/a\u003E Vexx, what weird messages are you talking about?\u003C/p\u003E\u003Cp\u003ECrashes always seem to happen with my GPU usage gets pegged at 100%, which for some reason doesn\u0027t take much. Again, this is the only game it happens in. Any theories or ideas are much appreciated.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-01-06T01:08:09Z","Content":"\n\u003Cp\u003EThese ones:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[RDTechTree]: No tech node found called  \u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[RDTechTree]: No tech node found called Unresearcheable\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/pre\u003E\u003Cp\u003EI seem to recall that a few of them is pretty normal, but there are a lot more than a few in your logs, which could be nothing, but it does look a little odd. Apart from that, though, there\u0027s not much indication that anything ought to be amiss... except for this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EModule 2\u003Cbr\u003EC:\\Windows\\syswow64\\CRYPT32.dll\u003Cbr\u003EImage Base: 0x76790000  Image Size: 0x00120000\u003Cbr\u003EFile Size:  1168384     File Time:  2013-10-05_145726\u003Cbr\u003EVersion:\u003Cbr\u003E   Company:    Microsoft Corporation\u003Cbr\u003E   Product:    Microsoft\u00C3\u201A\u00C2\u00AE Windows\u00C3\u201A\u00C2\u00AE Operating System\u003Cbr\u003E   FileDesc:   Crypto API32\u003Cbr\u003E   FileVer:    6.1.7601.18277\u003Cbr\u003E   ProdVer:    6.1.7601.18277\u003C/pre\u003E\u003Cp\u003EDoesn\u0027t look too harmful or anything, but I\u0027ve never seen that .dll file crop up in a stack trace before. Not only that, it\u0027s the second module listed, right after KSP.exe, giving it a high probability that it might be causing some issues. I don\u0027t suppose your Steam directory is encrypted? That might be causing some unusual issues like these, if only because it affects the read/write time for files KSP is trying to interact with.\u003C/p\u003E\u003Cp\u003EOnly other thing I can think to check is that Steam hasn\u0027t gone and set the \u003Cspan style=\u0022font-family:\u0027courier new\u0027;\u0022\u003EKerbal Space Program\u003C/span\u003E directory under \u003Cspan style=\u0022font-family:\u0027courier new\u0027;\u0022\u003ESteamapps\\common\u003C/span\u003E to \u003Cspan style=\u0022font-family:\u0027courier new\u0027;\u0022\u003ERead-only\u003C/span\u003E, as it has sometimes been known to do.\u003C/p\u003E\n"},{"CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-06T03:35:18Z","Content":"\n\u003Cp\u003EThat\u0027s interesting. When I click properties for Common and Kerbal, it\u0027s marked as read only. When I unclick it it shows the files working and ends. But if i go back to properties, it still shows it as Read-Only. Any ideas?\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-01-06T06:08:27Z","Content":"\n\u003Cp\u003EDid you make sure it applied it to subdirectories and files? If the main KSP folder is read-only, it shouldn\u0027t affect much, but if any subdirectories are, if could be problematic.\u003C/p\u003E\n"},{"CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-06T16:01:44Z","Content":"\n\u003Cp\u003EI didn\u0027t have too much time to play around with it last night. But All the sub folders in the KSP folder were checked boxed as read only. I would uncheck them (including sub folders/files) and have the loading screen going through the files. Once it\u0027s done, I\u0027d go back into properties on any of the folders and they were still marked read only. I\u0027ll look into it some more when I get home tonight. Are all of your subfolders in KSP unchecked for read only?\u003C/p\u003E\u003Cp\u003EAlso, any idea what the \u0022No tech node\u0022 error is or means?\u003C/p\u003E\u003Cp\u003EAnd I\u0027ll look into that dll some more.\u003C/p\u003E\u003Cp\u003EThanks again for at least giving me some direction to go in. I\u0027m not new to trouble shooting computer problems, but this one is getting the better of me. \u003C/p\u003E\u003Cp\u003EMore testing last night...Even if I drop all my graphic settings to low but keep my 2560x1440 resolution, I still get 99% GPU usage or close to it when looking at or near the ground with FPS not going above 60ish looking at KSC, and will crash. Even in window mode 1080 resolution is between 95-99% looking at the ground. Once I\u0027m in space usage drops to 20-40% and fps can be \u0026gt;120. Doesn\u0027t seem right. Ran a benchmark with Shogun 2 at max settings just in case, which stressed both videos cards to 99-100%. Got an average of 130fps over a few minutes with no crashing.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-01-07T00:54:15Z","Content":"\n\u003Cp\u003EAye, you\u0027re right; this is really weird. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EWell, it can\u0027t hurt to try taking ownership of the KSP folder (if you don\u0027t already have it) and make sure that applies to all subfolders and files. Make sure you have Full Control permissions for the entire folder and subfolders, etc., as well. (\u003Ca href=\u0022https://www.blogsdna.com/2159/how-to-take-ownership-grant-permissions-to-access-files-folder-in-windows-7.htm\u0022 rel=\u0022external nofollow\u0022\u003ECheck here\u003C/a\u003E if you\u0027re unsure how to do that.)\u003C/p\u003E\u003Cp\u003EAlso, after reviewing a bunch more log files from other people, I\u0027ve concluded that the tech node warnings are pretty normal. Looks like they\u0027re the result of some of the Fine Print code introduced in 0.90.\u003C/p\u003E\n"},{"CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-07T01:41:53Z","Content":"\n\u003Cp\u003EYea, regarding the tech nodes, that message pops up in the alt\u002Bf2 window every time i enter VAB and I\u0027ve never crashed there, so most likely that\u0027s not it. \u003C/p\u003E\u003Cp\u003EButtttt....I may have found the problem. I\u0027ve updated my BIOS as I found some source that said my motherboard wasn\u0027t setting the speed of my PCIe slots correctly with the older BIOS version. Would make sense since crashing only occurred at 100% usage. Anyways, I\u0027m still testing as of now. I\u0027ll report back in case someone else is having similar issues. Appreciate the help so far.\u003C/p\u003E\n"},{"CreatedByName":"RedRx","CreatedById":132022,"CreatedDateTime":"2015-01-16T20:14:56Z","Content":"\n\u003Cp\u003ELooks like I solved the problem, updated my original post.\u003C/p\u003E\n"}]}