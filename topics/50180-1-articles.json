{"TopicId":50180,"ForumId":55,"TopicTitle":"Mods, Parts, and RAM","CreatedByName":"TartarusMkII","CreatedById":20261,"CreatedDateTime":"2013-10-23T10:24:54Z","PageNum":1,"Articles":[{"CreatedByName":"TartarusMkII","CreatedById":20261,"CreatedDateTime":"2013-10-23T10:24:54Z","Content":"\n\u003Cp\u003EHeya,\u003C/p\u003E\u003Cp\u003EI just decided to install a bunch of mods to KSP, and was surprised to find that the game has a much lower capacity for modded parts than I expected. I have to cut out a great deal of mods I wanted to use because my system runs out of memory that easily. I currently have 4GB of RAM, and I am well aware that it is not a lot of ram anymore.\u003C/p\u003E\u003Cp\u003EHowever, I am a bit concerned for the future of KSP! Can anyone tell me if they\u0027re aware that SQUAD will make any attempts to change how parts are managed in the future? I am sort of disheartened at the idea that every single part needs to be loaded into the RAM. Seems kind of... unnecessary to me.\u003C/p\u003E\u003Cp\u003EAny info to share? Thoughts?\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-10-23T10:57:35Z","Content":"\n\u003Cp\u003EHonestly, having every part loaded up in memory would be much less of a hassle if the game could use more than 4Gb of RAM. But being a 32bit application (except for Linux who also has a 64bit application), having more than 6Gb of ram on your computer to have a full 4Gb dedicated to the game and an extra managing background programs is useless.\u003C/p\u003E\u003Cp\u003EHowever it\u0027s not a choice, it\u0027s due to Unity problems with OSX and Windows 64bit support. The attempts at making 64bit builds for both platforms had game breaking bugs that could not be solved easily. As soon as Unity sorts it out and that the developers are able to create 64bit builds for OSX and windows, we\u0027ll have them.\u003C/p\u003E\n"},{"CreatedByName":"TartarusMkII","CreatedById":20261,"CreatedDateTime":"2013-10-23T10:59:38Z","Content":"\n\u003Cp\u003EThat\u0027s understandable, but I am wondering if it is necessary to have all the parts loaded into the ram simultaneously. I am not a programmer, nor a computer technician, so I am not trying to implicate that it\u0027s what SQUAD \u003Cem\u003Eshould\u003C/em\u003E be doing, but I am wondering if perhaps that is an option?\u003C/p\u003E\n"},{"CreatedByName":"kiwi1960","CreatedById":81697,"CreatedDateTime":"2013-10-23T11:00:15Z","Content":"\n\u003Cp\u003EThe fact is, if you have way too many parts, well, you will never use them all.\u003C/p\u003E\u003Cp\u003EI have mods loaded which I *never* use, never have done and never will. I doubt anyone would. \u003C/p\u003E\u003Cp\u003EJust be kind to yourself and load just those mods you really need. The more you load, the more problems, like lag, will creep in, and the more that end up broken with each game update means your entire game is at risk... and besides, if a mod is outdated, then it might cause your game to crash. \u003C/p\u003E\u003Cp\u003E640K used to be plenty for many people... including me... I reckon 4 gigs is plenty now... maybe much later when all the good bits of the game are done then they can fix this... minor... problem.\u003C/p\u003E\n"},{"CreatedByName":"TartarusMkII","CreatedById":20261,"CreatedDateTime":"2013-10-23T11:03:34Z","Content":"\n\u003Cp\u003EI disagree; while many parts are just structure and filler, who\u0027s to say that using mods with functionality will become more difficult in the future when the game is more developed, and more people are making mods for it? There will always be an un-official ceiling of how many mods you must choose through based on an invisible crashing threshold.\u003C/p\u003E\n"},{"CreatedByName":"allmappedout","CreatedById":57281,"CreatedDateTime":"2013-10-23T11:52:58Z","Content":"\n\u003Cp\u003EI do think that one solution is to dynamically load parts, but the issue with that is that you want them all available for sandbox. Perhaps in career mode it could be sped up by only loading the unlocked parts and loading whenever something else is unlocked? \u003C/p\u003E\u003Cp\u003EI suppose to do that though you would have to load parts after someone has made the choice to play career or sandbox, and if you wanted to switch between them you would have a large delay.\u003C/p\u003E\u003Cp\u003EI hear that the models aren\u0027t as efficient as they could be; the mesh they use could be done much smaller? Anyway, I\u0027m no modder so I have no idea if this is true or not, but certainly, B9\u0027s pack seems to be pretty small for what it delivers, so i\u0027m sure some optimisation will be possible, I just think it\u0027s probably not their main priority yet.\u003C/p\u003E\n"},{"CreatedByName":"SilverWarior","CreatedById":80669,"CreatedDateTime":"2013-10-23T12:50:38Z","Content":"\n\u003Cp\u003EAre you sure you are running out of RAM. So far I have never seen KSP to use more than 2 GB of RAM. But many pepole had problem with running out of Graphical memory instead since KSP loads all the textures for every mod into Video memory.\u003C/p\u003E\u003Cp\u003EIf you could post game log I\u0027ll tel you exactly what is the problem (you running out of RAM or out of abvailable Video memory).\u003C/p\u003E\n"},{"CreatedByName":"TartarusMkII","CreatedById":20261,"CreatedDateTime":"2013-10-23T13:18:38Z","Content":"\n\u003Cp\u003EHeya,\u003C/p\u003E\u003Cp\u003EExperiencing two crashes. One on the initial load, and then one at an odd place. In career mode, I\u0027ve got a craft that has done an orbit and is about to try to land in a desert. Every time the craft gets to around 500m, the altitude to open it\u0027s chute, the game will close and give a similar error, but not exactly the same. Both say out of memory, but as SilverWarior mentioned, it\u0027s not clear to me whether it is RAM or graphical memory. \u003C/p\u003E\u003Cp\u003E\u003Cem\u003EI should add that I get the game to load by, of course, removing some of the mod part packs. The crash in-game occurs with only one parts pack loaded, however.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EI am using 64 bit windows 7, with a GeForce GTX 560 Ti, and 4GB of RAM.\u003C/p\u003E\u003Cp\u003ELoad Error:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/error.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/error.log\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/output_log.txt\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EReentry Error:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/error.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/error.log\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/output_log.txt\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThanks for taking a look!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-23T13:46:53Z\u0022 title=\u002210/23/2013 01:46  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 23, 2013\u003C/time\u003E by TartarusMkII\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jfx","CreatedById":37282,"CreatedDateTime":"2013-10-23T13:44:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TartarusMkII\u0022 data-cite=\u0022TartarusMkII\u0022\u003E\u003Cdiv\u003EThat\u0027s understandable, but I am wondering if it is necessary to have all the parts loaded into the ram simultaneously. I am not a programmer, nor a computer technician, so I am not trying to implicate that it\u0027s what SQUAD \u003Cem\u003Eshould\u003C/em\u003E be doing, but I am wondering if perhaps that is an option?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, it is not necessary and generally it is avoided - due to the same problems you experience.\u003C/p\u003E\n"},{"CreatedByName":"AngelLestat","CreatedById":58968,"CreatedDateTime":"2013-10-23T14:39:31Z","Content":"\n\u003Cp\u003EThe best and the only (I guess) solution is the one that I suggest in this \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/51390-Procedural-Parts-(The-best-way-to-improve-the-game-experience-)\u0022 rel=\u0022external nofollow\u0022\u003Ediscussion thread\u003C/a\u003E:\u003C/p\u003E\u003Cp\u003EEven if one day we can address more than 4 GB in KSP, that it will NOT be the solution.\u003C/p\u003E\u003Cp\u003EThe game is wasting a lot of resources (and game experience) in how it manages the parts.\u003C/p\u003E\u003Cp\u003EWe can not have extra standard dimenssions to provide our rockets a more real shape and design, and this will be a BIG issue if some day SQUAD fix the drag model.\u003C/p\u003E\u003Cp\u003EMaking almost all parts size dynamics jumping between standard sizes will give a HUGE game performance (loading time, FPS, etc). In comparisson with someone who already use 200 extra mod parts it will notice a game load time 4 or 5 times lower and a huge increase of FPS flying crafts. Also in comparisson to someone who only use vanilla, it will also notice a big improvement, with a good addiction of extra parts.\u003C/p\u003E\u003Cp\u003EThis for me is undeniable. And makes me sad to imagine that no one from SQUAD is even considering this option.\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-23T17:06:59Z","Content":"\n\u003Cp\u003EIf I remember well, the \u003Ca href=\u0022http://www.twitch.tv/ksptv/b/465508879\u0022 rel=\u0022external nofollow\u0022\u003Esquadcast\u003C/a\u003E with Mu, there is talked about all those improvement/limitation.\u003C/p\u003E\u003Cp\u003EAnd Mu was saying that switching to 64bits and so allowing more ram will not make it a good option because then people with lower ram still wont get anything from that!\u003C/p\u003E\u003Cp\u003EInstead trying to improve the performance for low end computer, and so fixings the problems and not looking for a work around is a lot better.\u003C/p\u003E\u003Cp\u003EAnd I have to agree with him. when we see what they can do with limited hardware of consoles in the game industry, and that we need such high end comuter for a bit better result!\u003C/p\u003E\u003Cp\u003EFew ways for you to keep those mods:\u003C/p\u003E\u003Cp\u003E- Make sure you free as much memory before you run ksp (kill other softwares)\u003C/p\u003E\u003Cp\u003E- You can delete the parts you don\u0027t use/like/need, that will save some space\u003C/p\u003E\u003Cp\u003E- Reduce the texture quality by half, this is what takes the most memory usage.\u003C/p\u003E\n"},{"CreatedByName":"SilverWarior","CreatedById":80669,"CreatedDateTime":"2013-10-23T18:54:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TartarusMkII\u0022 data-cite=\u0022TartarusMkII\u0022\u003E\u003Cdiv\u003ELoad Error:\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/error.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/error.log\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/LoadError/output_log.txt\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EReentry Error:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/error.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/error.log\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/69583036/Data/Forum%20Resources/KSP/ReentryError/output_log.txt\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThanks for taking a look!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt seems you might be running out of Video memory as at the point of error game already uses almost 1 GB of Video memory. I guesr your graphic card probably doesn\u0027t have more than that.\u003C/p\u003E\u003Cp\u003EI recomend reducing the graphical settings as this will lower the Video memory usage a bit. Aslo you might wanna try reducing ingame resoulution.\u003C/p\u003E\u003Cp\u003EAnother advice is not using mods which ads lots of new parts since KSP loads all the tgextures for all available parts right from the start no nater if those mods are used on your ship or not.\u003C/p\u003E\u003Cp\u003EBut first output log also shows another posible problem. At certain point it says that Graphical engine couldn\u0027t change vertex array as it is being locked. This might be caused by an AntiVirus software or windows DEP protection.\u003C/p\u003E\u003Cp\u003EI recomend installing KSP outside Program Files folder to avoid it being constantly checked by windows DEP protection and connfiguring your AntiVirus to avoid checking KSP.exe by dding KSP.exe to exception list or whatever it is being referd in your AntiVirus software.\u003C/p\u003E\u003Cp\u003EBut I think that this second option is less likely causing your problems.\u003C/p\u003E\u003Cp\u003ESo try reducing Video memory consumption first.\u003C/p\u003E\u003Cp\u003EAs for all of you complaining about KSP loading all graphics right from the start:\u003C/p\u003E\u003Cp\u003ESome time ago SQUAD mentioned that they are working on new ingame resource managment system which shold alow dynamic resource alocation, etc.\u003C/p\u003E\u003Cp\u003EBut you have to understand that developing such system is way from easy especially since it has to be compatible with Unity game engine KSP uses.\u003C/p\u003E\u003Cp\u003ENow I don\u0027t know at which development point of this system is SUQAD as I haven\u0027t been so active in the comunity lately but it will happen sooner or later. \u003C/p\u003E\u003Cp\u003ESo until then please be a bit more patient. \u003C/p\u003E\u003Cp\u003EIt is not easy making so complex game as KSP when you are using already built game engine which has its own limitations.\u003C/p\u003E\u003Cp\u003EThe best optiuon would be for SQUAD to build their own custom Game engine for KSP but that would take athleast a year of development if not even more.\u003C/p\u003E\n"},{"CreatedByName":"kiwi1960","CreatedById":81697,"CreatedDateTime":"2013-10-23T20:17:50Z","Content":"\n\u003Cp\u003EI tend to agree with the graphic card problem... here is what happened to me last night, in fact.\u003C/p\u003E\u003Cp\u003EMy computer isn\u0027t the fastest, in fact, its only got a very low end video card with about 100 megs of RAM... but I do have 4 gigs RAM. I load enough mods to keep me happy, including some I have never used... it takes ages to load, but I am happy, I can only build small rockets... but, no problems with that in sandbox mode.\u003C/p\u003E\u003Cp\u003ELast night, I was telling my son about the game and that one day, soon, when I get a new computer (weeks away now) I would love to build a damned big ship and visit every planet, moon and object in KSP without needing to do one shot flights... \u003C/p\u003E\u003Cp\u003EHe told me I could use his computer... so I said, OK, I\u0027ll do it seeing as he pinched my 1 gig video card \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI copied the game over and loaded it. The game was gorgeous... I built my rocket and no lag... nothing... it was awesome\u003C/p\u003E\u003Cp\u003EHe then told me to max out the settings on the video settings... (it can handle it... he said)\u003C/p\u003E\u003Cp\u003EYeah right... the game went to load, and got stuck... I just copied the game over again from my computer and left it alone...\u003C/p\u003E\u003Cp\u003Ethe fact that my spaceships load and they work and all that is enough for me... I left most of the video settings alone after that (just altered resolution and max rendering) ... its all I need...\u003C/p\u003E\u003Cp\u003Eso.... video card.... there is the problem.\u003C/p\u003E\n"},{"CreatedByName":"AngelLestat","CreatedById":58968,"CreatedDateTime":"2013-10-23T20:35:37Z","Content":"\n\u003Cp\u003ELike I said 2 post back, dynamic parts is the ONLY solution that will make a real difference solving all the problems that the game has.\u003C/p\u003E\u003Cp\u003EOf course this problem can be tackled from various fronts, but even if you choose other ways to do that, this bottle neck on parts will remain there and a huge oportunity to improve even more the game performance and experience will be waste it.\u003C/p\u003E\u003Cp\u003EWhy is so hard to see it?\u003C/p\u003E\n"},{"CreatedByName":"DAVIDESCOTT","CreatedById":77876,"CreatedDateTime":"2013-10-23T20:40:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TartarusMkII\u0022 data-cite=\u0022TartarusMkII\u0022\u003E\u003Cdiv\u003EThat\u0027s understandable, but I am wondering if it is necessary to have all the parts loaded into the ram simultaneously. I am not a programmer, nor a computer technician, so I am not trying to implicate that it\u0027s what SQUAD \u003Cem\u003Eshould\u003C/em\u003E be doing, but I am wondering if perhaps that is an option?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1. You have to load parts initially to verify that all parts work (and to generate thumbnails for the VAB). If you don\u0027t then you could arrive at your space station to find that the central truss of the station no longer exists because the part cfg has a typo. That leaves no good options to gracefully exit the game.\u003C/p\u003E\u003Cp\u003E2. The part loader is currently rather slow. Its the majority of startup time, and loading parts dynamically would cause lags when you approach objects with new parts.\u003C/p\u003E\u003Cp\u003E3. The part loader might leak memory or do unneccessary allocations and GC, which would be compounded if you had to load and unload parts dynamically.\u003C/p\u003E\u003Cp\u003EThose are just a couple issues that might need to be addressed before any kind of dynamic loading could be introduced into the game.\u003C/p\u003E\n"},{"CreatedByName":"SilverWarior","CreatedById":80669,"CreatedDateTime":"2013-10-23T22:01:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AngelLestat\u0022 data-cite=\u0022AngelLestat\u0022\u003E\u003Cdiv\u003ELike I said 2 post back, dynamic parts is the ONLY solution that will make a real difference solving all the problems that the game has.\u003Cp\u003EOf course this problem can be tackled from various fronts, but even if you choose other ways to do that, this bottle neck on parts will remain there and a huge oportunity to improve even more the game performance and experience will be waste it.\u003C/p\u003E\u003Cp\u003EWhy is so hard to see it?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you read my post? SQUAD is suposingly already working on system which would alow Dynamic resource loading but developing such system takes time.\u003C/p\u003E\n"},{"CreatedByName":"AngelLestat","CreatedById":58968,"CreatedDateTime":"2013-10-24T05:11:16Z","Content":"\n\u003Cp\u003EI read yours, did you read mine?\u003C/p\u003E\u003Cp\u003EI am not talking about how the game can load or unload parts. Your solution is only partial.\u003C/p\u003E\u003Cp\u003EMaybe if you read my first comment on this thread you will know what I am talking about.\u003C/p\u003E\n"},{"CreatedByName":"SilverWarior","CreatedById":80669,"CreatedDateTime":"2013-10-24T09:43:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AngelLestat\u0022 data-cite=\u0022AngelLestat\u0022\u003E\u003Cdiv\u003EI read yours, did you read mine?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes I have read yours and your suggestion about having parts with dynamic size. While having dynamic size for parts could reduce the number of parts you need for your ship it would require using different-resizable textures or in certain cases combination of several textures as not all textures can be resized without looking wierd.\u003C/p\u003E\u003Cp\u003EOne advatnage of having fixed size parts is that you don\u0027t need to save part data multiple times but you are only referencing to same data block which contains data for certain part type. This in the end reduces memory consumption.\u003C/p\u003E\u003Cp\u003EThe current problem of KSP is that it requires all texures to be loaded into Video memory. \u003C/p\u003E\u003Cp\u003EBut as stated above SQUAD is suposingly woking on system which would alow dynamically loading theese textures into Video memory when they are needed. But when not needed they will probably be saved in RAM to alow quick transfer to Video memory.\u003C/p\u003E\u003Cp\u003EAnd as I sad before creating such system is way from easy becouse if you screw up you can quickl cause whole computer to crash and not just your game.\u003C/p\u003E\u003Cp\u003ESo give them time and be patient until then!\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2013-10-24T10:50:18Z","Content":"\n\u003Cp\u003Eive said this a million times, compressed texture formats can reduce textures to 1/6 (rgb) and 1/2 (rgba, normal maps) their current uncompressed size in ram and would not require any conversion steps during loading.\u003C/p\u003E\u003Cp\u003Eand before anyone says it png/jpg is not a compressed texture format, it is a compressed image format and cannot be used directly in hardware during rendering.\u003C/p\u003E\n"}]}