{"TopicId":102014,"ForumId":55,"TopicTitle":"Angle snap on docking ports","CreatedByName":"Yakky","CreatedById":94432,"CreatedDateTime":"2015-03-15T15:10:10Z","PageNum":1,"Articles":[{"CreatedByName":"Yakky","CreatedById":94432,"CreatedDateTime":"2015-03-15T15:10:10Z","Content":"This one is fairly simple: It would be terrific to have an optional rotational angle snap feature available on docking ports in space, similar to angle snap in the VAB/SPH. It would greatly aid in precision on-orbit construction projects like ring space stations or any situation where the constructor wants perfect symmetry or is feeling an?l-retentive.\n\nAs one example, without angle snap, completing a ring station like this is very challenging because any rotational misalignments cause the ring to deviate into a 3D helical (corkscrew) shape that won\u0027t be able to close into a perfect circle.\n\n![knqfzMB.png](http://i.imgur.com/knqfzMB.png)\n\n**Edited \u003Ctime datetime=\u00222015-03-15T15:18:43Z\u0022 title=\u002203/15/2015 03:18  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 15, 2015\u003C/time\u003E by Yakky**"},{"CreatedByName":"Daze","CreatedById":57997,"CreatedDateTime":"2015-03-15T15:23:48Z","Content":"I totally quote you, it would be amazing"},{"CreatedByName":"Sparker","CreatedById":79522,"CreatedDateTime":"2015-03-15T15:39:46Z","Content":"I absolutely agree with you, this should be done some time! There is another application for this, it will allow us to align side-attached stages constructed in orbit!"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-15T19:42:12Z","Content":"Here\u0027s [what I wrote previously on the subject](https://forum.kerbalspaceprogram.com/threads/46442-Extend-ModuleDockingNode-with-options-for-rotational-alignment-increments):\n\n\u003E \n\u003E I would like to suggest extending the ModuleDockingNode Part Module with optional variables for enforcing roll alignment and permissible angular increments:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     MODULE{    name = ModuleDockingNode    referenceAttachNode = top    nodeType = size1    [B]// Relative roll alignment for docking in degrees (0~359)     // If specified, the controlled vessel will align and maintain its docking port to this rotational offset     // If not specified, defaults to false, which allows docking without forcing any alignment (as is currently the case[/B])[B]    rollAlignAngle = false[/B]    [B]// Valid roll alignment increments for docking in degrees (0~180)     // If specified, this adds additional valid angles to the target docking ports by this increment     // If not specified, defaults to 0, which [/B][B]means only the value specified in [/B][B]rollAlignAngle[/B][B] is considered a valid docking angle    rollAlignIncrementAngle = 0[/B]}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If SAS is enabled, then the vessel will attempt to orient its docking port to the closest roll alignment angle available. This can be overridden and forced to snap at other defined angles if given a strong enough user input (e.g. via RCS).\n\u003E \n\u003E Additionally, this roll alignment capability may be toggled on/off individually for each docking port via a new context menu GUI, \u0022Enable Angle Snap / Disable Angle Snap\u0022.\n\u003E \n\u003E **Examples**\n\u003E \n\u003E 1) Stock Clamp-o-tron docking ports\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     MODULE{    name = ModuleDockingNode    referenceAttachNode = top    nodeType = size1}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Since neither of the additional parameters were specified, the Clamp-o-trons will dock freely at any angle about their common docking axis.\n\u003E \n\u003E 2) Non-stock docking port where only one orientation is permitted\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     MODULE{    name = ModuleDockingNode    referenceAttachNode = top    nodeType = size1[B]   rollAlignAngle = 12.5[/B][B]    rollAlignIncrementAngle = 0[/B]}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In this case, the only valid roll orientation for docking is at 12.5\u00C3\u201A\u00C2\u00B0. Docking vessels will attempt to maintain this alignment by countering any user input in the rotation axis.\n\u003E \n\u003E 3) Non-stock docking port where a cardinal number of orientations are permitted\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     MODULE{    name = ModuleDockingNode    referenceAttachNode = top    nodeType = size1[B]   rollAlignAngle = 0[/B][B]    rollAlignIncrementAngle = 90[/B]}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In this case, the only valid roll orientations for docking are at 0\u00C3\u201A\u00C2\u00B0, 90\u00C3\u201A\u00C2\u00B0, 180\u00C3\u201A\u00C2\u00B0 and 270\u00C3\u201A\u00C2\u00B0. Docking vessels will attempt to snap to the alignment closest to the current roll orientation of the craft, and with sufficient roll input from the user, the port can be snapped to any of these four values.\n\u003E \n\u003E 4) Non-stock docking port where a cardinal number of orientations are permitted, plus an offset\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     MODULE{    name = ModuleDockingNode    referenceAttachNode = top    nodeType = size1[B]   rollAlignAngle = 45[/B][B]    rollAlignIncrementAngle = 90[/B]}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In this case, the only valid roll orientations for docking are at 45\u00C3\u201A\u00C2\u00B0, 135\u00C3\u201A\u00C2\u00B0, 225\u00C3\u201A\u00C2\u00B0 and 315\u00C3\u201A\u00C2\u00B0. Docking vessels will attempt to snap to the alignment closest to the current roll orientation of the craft, and with sufficient roll input from the user, the port can be snapped to any of these four values.\n\u003E \n\u003E Thoughts?"},{"CreatedByName":"Yakky","CreatedById":94432,"CreatedDateTime":"2015-03-15T22:00:57Z","Content":"Sumghai - you\u0027ve clearly thought about this a lot. Has there been any feedback from Squad on your proposed enhancements?"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2015-03-15T22:05:18Z","Content":"I would say sumghai has it nailed down pretty well."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-15T22:26:46Z","Content":"Thanks for the complements ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI proposed this back in August 2013, shortly after 0.21.1. I suspect that the reason SQUAD hasn\u0027t yet addressed or acknowledged issues/requests related to modders is because they were focusing on the bigger picture of the game\u0027s development (i.e. get all of the originally-planned and major features in first, then refine later). IMHO, this isn\u0027t exactly ideal for long-standing modder or user requests, but I believe I can sympathize with the developers\u0027 present situation."},{"CreatedByName":"r4pt0r","CreatedById":90471,"CreatedDateTime":"2015-03-16T09:13:20Z","Content":"Oh so ideas the moderator likes/has personally worked on get pinned to the top of the suggestion board, that seems fair and impartial. This suggestion is just as good as the others below, why did it get a sticky?"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-03-16T10:11:44Z","Content":"\u003E \n\u003E Oh so ideas the moderator likes/has personally worked on get pinned to the top of the suggestion board, that seems fair and impartial. This suggestion is just as good as the others below, why did it get a sticky?\n\nI only came here to read the long interesting informative thread and find out why this got stickied.\n\nWhen I saw it was just a suggestion and a couple of \u0027me too\u0027 replies, a good portion of which were from a single mod, the first thought I had was very similar to yours."},{"CreatedByName":"Nemrav","CreatedById":91029,"CreatedDateTime":"2015-03-16T11:52:59Z","Content":"hey, you should be glad that they sticky anything at all in the suggestions thread (not too long ago they didn\u0027t)\n\nYou don\u0027t know how they choose what\u0027s stickied (they probably pm each-other for a-okay\u0027s) another thing... there\u0027s no arguing upon the subject itself meaning that overall its liked much more than most other subjects.....\n\n/kinda off-topic\n\nthis would be useful... though how would you solve it if the two docking ports had different settings ? prioritise the controlled vessel ?"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-03-16T12:17:35Z","Content":"\u003E \n\u003E hey, you should be glad that they sticky anything at all in the suggestions thread (not too long ago they didn\u0027t)\n\u003E You don\u0027t know how they choose what\u0027s stickied (they probably pm each-other for a-okay\u0027s) another thing... there\u0027s no arguing upon the subject itself meaning that overall its liked much more than most other subjects.....\n\u003E \n\u003E /kinda off-topic\n\u003E \n\u003E this would be useful... though how would you solve it if the two docking ports had different settings ? prioritise the controlled vessel ?\n\nWhich would be fine if \u0027anything at all\u0027 got stickied and this was just one of many stickied suggestions but TBH I\u0027ve not seen any stickied suggestions, even ones that had many many posts saying how good it would be if the suggestion got implemented.\n\nTo have the only stickied suggestion be one that a particular mod has previously suggested smacks of nepotism and is out of character for this forum which in my mind is a bastion of impartiality as far as forums go on the net.\n\nOne thread that IMHO should be stickied if any are to be is [The-Completely-Agreed-Addition-Thread](https://forum.kerbalspaceprogram.com/threads/113013-The-Completely-Agreed-Addition-Thread) which is a collection of suggestions that only get put on the list in the OP if nobody disagrees or over 75% agree with the suggestions.\n\nTwo birds could be stickied with one stone if that thread was stickied as this suggestion could be on it...\n\nAnyway, I\u0027ll not derail this (admittedly good) suggestion any more by turning it into a thread about stickying so this will be my last comment on the topic.\n\nI like this suggestion although it\u0027s not the most important one IMHO."},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2015-03-16T13:36:20Z","Content":"Agreed 100%"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2015-03-16T14:00:19Z","Content":"\u003E \n\u003E Oh so ideas the moderator likes/has personally worked on get pinned to the top of the suggestion board, that seems fair and impartial. This suggestion is just as good as the others below, why did it get a sticky?\n\nHaving been on the moderation team, I think this might just be some fat thumbing. You acn close a thread by accidentally double clicking the icon on the side from the thread list. IIRC theres a similar command to stick threads. Y\u0027all need some chill."},{"CreatedByName":"Daze","CreatedById":57997,"CreatedDateTime":"2015-03-16T14:23:14Z","Content":"\u003E \n\u003E Which would be fine if \u0027anything at all\u0027 got stickied and this was just one of many stickied suggestions but TBH I\u0027ve not seen any stickied suggestions, even ones that had many many posts saying how good it would be if the suggestion got implemented.\n\u003E To have the only stickied suggestion be one that a particular mod has previously suggested smacks of nepotism and is out of character for this forum which in my mind is a bastion of impartiality as far as forums go on the net.\n\u003E \n\u003E One thread that IMHO should be stickied if any are to be is [The-Completely-Agreed-Addition-Thread](https://forum.kerbalspaceprogram.com/threads/113013-The-Completely-Agreed-Addition-Thread) which is a collection of suggestions that only get put on the list in the OP if nobody disagrees or over 75% agree with the suggestions.\n\u003E \n\u003E Two birds could be stickied with one stone if that thread was stickied as this suggestion could be on it...\n\u003E \n\u003E Anyway, I\u0027ll not derail this (admittedly good) suggestion any more by turning it into a thread about stickying so this will be my last comment on the topic.\n\u003E \n\u003E I like this suggestion although it\u0027s not the most important one IMHO.\n\nThis topic was pinned too: [http://forum.kerbalspaceprogram.com/threads/112613-Increased-engine-gimballing](https://forum.kerbalspaceprogram.com/threads/112613-Increased-engine-gimballing) but noo moderator commented inside, so you are just speculating about how \u0022mod is corrupted\u0022"},{"CreatedByName":"technicalfool","CreatedById":70430,"CreatedDateTime":"2015-03-16T14:47:53Z","Content":"\u003E \n\u003E One thread that IMHO should be stickied if any are to be is [The-Completely-Agreed-Addition-Thread](https://forum.kerbalspaceprogram.com/threads/113013-The-Completely-Agreed-Addition-Thread) which is a collection of suggestions that only get put on the list in the OP if nobody disagrees or over 75% agree with the suggestions.\n\nYou\u0027re right, I\u0027ve been thinking about it for the last couple of days, and it does seem like a useful all-the-good-ideas thread, so.. now it\u0027s stickied.\n\nCan we get back to angle snapping, everyone?"},{"CreatedByName":"Yakky","CreatedById":94432,"CreatedDateTime":"2015-03-16T23:23:31Z","Content":"\u003E \n\u003E this would be useful... though how would you solve it if the two docking ports had different settings ? prioritise the controlled vessel ?\n\nGood point. Either prioritize the controlled vessel, or else have both spacecraft spontaneously explode and destroy the universe. If the destroyUniverseOnAngleSnapMismatch flag was set to FALSE, then the former."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-17T00:25:58Z","Content":"\u003E \n\u003E this would be useful... though how would you solve it if the two docking ports had different settings ? prioritise the controlled vessel ?\n\n\u003E \n\u003E Good point. Either prioritize the controlled vessel, or else have both spacecraft spontaneously explode and destroy the universe. If the destroyUniverseOnAngleSnapMismatch flag was set to FALSE, then the former.\n\nIf the two docking ports have different angle snap settings, they should automatically be considered incompatible.\n\nMy suggestion for angle snap isn\u0027t merely about angle snap, but allowing guidance fins on docking ports like the ISS CBM (which can dock in four orientations) and the APAS-95 (three orientations) to work:\n\nCBM:\n\n![cbm_e.gif](http://iss.jaxa.jp/iss/3a/pict/cbm_e.gif)\n\nAPAS-95:\n\n![APAS-95_active_side.jpg](https://upload.wikimedia.org/wikipedia/commons/f/fc/APAS-95_active_side.jpg)\n\n**Edited \u003Ctime datetime=\u00222015-03-17T00:41:40Z\u0022 title=\u002203/17/2015 12:41  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 17, 2015\u003C/time\u003E by sumghai**\n  \nAdded pix"},{"CreatedByName":"Sampa","CreatedById":130079,"CreatedDateTime":"2015-03-17T01:17:45Z","Content":"\u003E \n\u003E Oh so ideas the moderator likes/has personally worked on get pinned to the top of the suggestion board, that seems fair and impartial. This suggestion is just as good as the others below, why did it get a sticky?\n\nI wouldn\u0027t go as far to say that, but they had a vision that they wanted to follow for this game. It is possible that they intend to eventually get into these requests later (so long as they follow the request rules). Am I right in saying this, Sumghai?"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-17T01:38:06Z","Content":"\u003E \n\u003E I wouldn\u0027t go as far to say that, but they had a vision that they wanted to follow for this game. It is possible that they intend to eventually get into these requests later (so long as they follow the request rules). Am I right in saying this, Sumghai?\n\nYes, the developers have their own vision for the game, and while I would like to see certain things implemented/prioritized differently, at the end of the day, KSP is their baby, and we have to respect that.\n\nI\u0027ve heard rumors that suggestions getting (temporarily) stickied was part of an experiment to highlight less well-known threads, since \u0022moar plenets! moar partz!\u0022 threads crop up too frequently."},{"CreatedByName":"Sampa","CreatedById":130079,"CreatedDateTime":"2015-03-17T01:41:22Z","Content":"indeed, and I think I may have spotted a few of them. lol, I almost think that Minecraft went about their updates a little bit better by just putting in what they wanted...but then, it is a different kind of crowd over there!"},{"CreatedByName":"JayKaySss","CreatedById":108816,"CreatedDateTime":"2015-03-17T08:49:09Z","Content":"This might not be what your idea is originally, but here\u0027s images for your text-only explanations.\n\n![IBIpElj.png](http://i.imgur.com/IBIpElj.png)\n\nInstead of the user inputting the number of possible snappings, i.e. using 360/n , I\u0027d prefer just a button toggling between snap with 360/12 degrees and no snap. 12 is for the number of those gaps on the port, which look like where latches can extrude out of them to grab onto another port. The rest of the possible snapping positions can be adjusted with the new gizmo.\n\n![3HaN5ZN.png](http://i.imgur.com/3HaN5ZN.png)"},{"CreatedByName":"klgraham1013","CreatedById":105132,"CreatedDateTime":"2015-03-17T13:25:34Z","Content":"I\u0027d be fine with just a snap / no snap selection. I\u0027d also have snapping take priority in case two ports contradicted each other. Putting a toggle in the drop down menu of docking ports while in flight could also be useful."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-17T19:58:16Z","Content":"\u003E \n\u003E This might not be what your idea is originally, but here\u0027s images for your text-only explanations.\n\u003E [http://i.imgur.com/IBIpElj.png](http://i.imgur.com/IBIpElj.png)\n\nYou\u0027ve pretty much got it right with that diagram. Just be aware that my intention is that two ports with *different* angle snap settings should not be able to dock\n\n\u003E \n\u003E Instead of the user inputting the number of possible snappings, i.e. using 360/n , I\u0027d prefer just a button toggling between snap with 360/12 degrees and no snap. 12 is for the number of those gaps on the port, which look like where latches can extrude out of them to grab onto another port. The rest of the possible snapping positions can be adjusted with the new gizmo.\n\u003E [http://i.imgur.com/3HaN5ZN.png](http://i.imgur.com/3HaN5ZN.png)\n\n\u003E \n\u003E I\u0027d be fine with just a snap / no snap selection. I\u0027d also have snapping take priority in case two ports contradicted each other. Putting a toggle in the drop down menu of docking ports while in flight could also be useful.\n\nThe thing is, I don\u0027t intend angle snapping to be exposed to the end user playing the game. It\u0027s primarily for modders to make docking ports that can only dock in certain orientations (e.g. 4-way for CBM, 3-way for APAS-95). So the angle snap values will be coded into the CFG files themselves, and not accessible through VAB/SPH gizmos."},{"CreatedByName":"Yakky","CreatedById":94432,"CreatedDateTime":"2015-03-17T21:16:34Z","Content":"There are lots of ways to implement it and I would leave it to Squad to do what they think is best. That said, FWIW I was just envisioning a choice of 5-degree angle snap or no snap. Five degrees should be good enough for just about any project, is compatible with all the usual symmetries (2-way, 3-way, 4-way, 6-way, and 8-way), won\u0027t ever try to twist things very far at docking, and still requires some amount of pilot skill to line up.\n\nI do like the idea of Sumghai\u0027s API framework that would give modders the ability to customize the details, of course. But for stock methinks it should be kept pretty simple."},{"CreatedByName":"klgraham1013","CreatedById":105132,"CreatedDateTime":"2015-03-17T21:55:16Z","Content":"\u003E \n\u003E The thing is, I don\u0027t intend angle snapping to be exposed to the end user playing the game. It\u0027s primarily for modders to make docking ports that can only dock in certain orientations (e.g. 4-way for CBM, 3-way for APAS-95). So the angle snap values will be coded into the CFG files themselves, and not accessible through VAB/SPH gizmos.\n\nSo docking ports would angle snap by default with no input from the user? I\u0027m actually cool with that, too. Lining up specific space station parts can get tedious."}]}