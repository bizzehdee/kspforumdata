{"TopicId":108723,"ForumId":20,"TopicTitle":"looking for an improved SAS function mod","CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-11T04:30:16Z","PageNum":1,"Articles":[{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-11T04:30:16Z","Content":"hello ,\n\nI\u0027m looking for a mod improving the SAS function, looked a bit in the forum but didn\u0027t find what i would like:\n\n-tune parameters to not over compensate (or really less)\n\n-automatic tuning depending of the ship: mass, inertia, sas torque...\n\nwith this i should be able to use \u0022persistant rotation mod\u0022, dost it exist yet?"},{"CreatedByName":"Frostea","CreatedById":139061,"CreatedDateTime":"2015-05-11T05:10:15Z","Content":"The Smart A.S.S feature from Mechjeb is better than the stock when not in atmosphere, and it comes with a bunch of other utilities."},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2015-05-12T01:05:00Z","Content":"Not quite what you were looking for but a bit more realistic - [h=2](Semi-)Saturatable Reaction Wheels\n\n[/h] [http://forum.kerbalspaceprogram.com/threads/111049](https://forum.kerbalspaceprogram.com/threads/111049)"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-05-12T14:25:00Z","Content":"MechJeb has an \u0022attitude ajustment\u0022 window, where you can set some of its parameters, but AFAIK it\u0027s not a per-ship setting, and definetely not automatic based on mass."},{"CreatedByName":"StahnAileron","CreatedById":139783,"CreatedDateTime":"2015-05-13T08:29:13Z","Content":"\u003E \n\u003E hello ,\n\u003E I\u0027m looking for a mod improving the SAS function, looked a bit in the forum but didn\u0027t find what i would like:\n\u003E \n\u003E -tune parameters to not over compensate (or really less)\n\u003E \n\u003E -automatic tuning depending of the ship: mass, inertia, sas torque...\n\u003E \n\u003E with this i should be able to use \u0022persistant rotation mod\u0022, dost it exist yet?\n\nAs mentioned, MechJeb has a SAS functions that work well enough. And actually, RemoteTech has a type of SAS functionality as well, though probably not the type you\u0027re looking for. (Plus it\u0027s dependent on RemoteTech actual gameplay feature: comm links. You can lose ships very easily with RT.)\n\nIf you want something in the atmosphere, I recommend Pilot Assistant.\n\nNone of the above really \u0022autotune\u0022 though.\n\nAnd yes, there is a(n in active development) persistent rotation mod."},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-13T08:41:34Z","Content":"\u003E \n\u003E MechJeb has an \u0022attitude ajustment\u0022 window, where you can set some of its parameters, but AFAIK it\u0027s not a per-ship setting, and definetely not automatic based on mass.\n\nYou are wrong. Mechjeb2 SmartASS uses the vessel momentum and calculate the torque provided by the various ship system. The content of \u0022attitude ajustment\u0022 should not be changed untless you really understand what you are doing."},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-05-13T13:30:05Z","Content":"\u003E \n\u003E You are wrong. Mechjeb2 SmartASS uses the vessel momentum and calculate the torque provided by the various ship system. The content of \u0022attitude ajustment\u0022 should not be changed untless you really understand what you are doing.\n\nReally? Well, nice to know. I\u0027ll stay away from it, then."},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-15T21:13:49Z","Content":"thank you, \n\nfirst i have to say there was a problem with the Claw stock bug fix mod, that was giving a delay to clutch gimbal and can lead to wobble, now updated.\n\nfor pilot assitant thank you, now i use it for long boring jet travel:wing leveller \u002B alt control \u002B KAC pause on alarm\u002B quick mute=u can go sleep.\n\n there is also a modified sas but i\u0027m not enought mad to use it and tune parameters for each stage of each vessel.\n\nfor mech jeb sorcery: me using this cheaty aimbot? me alive, never!! uuuh, considering it\u0027s the only one working great were is the DL link? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nEdit:\n\nwhat i need: [http://blog.planete-nextgen.com/wp-content/uploads/2014/02/tapette-mouche-epee.jpg](http://blog.planete-nextgen.com/wp-content/uploads/2014/02/tapette-mouche-epee.jpg)\n\nwhat mech jeb is: [http://us.123rf.com/400wm/400/400/vicnt/vicnt0907/vicnt090700006/5198698-jumping-t-90-tank-foto.jpg](http://us.123rf.com/400wm/400/400/vicnt/vicnt0907/vicnt090700006/5198698-jumping-t-90-tank-foto.jpg)\n\n**Edited \u003Ctime datetime=\u00222015-05-15T21:31:09Z\u0022 title=\u002205/15/2015 09:31  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 15, 2015\u003C/time\u003E by Skalou**"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-28T09:08:48Z","Content":"No news on this?\n\nMaybe my last post could be misunderstood after rereading, mechjeb is a really good mod but i don\u0027t want to use it now because i don\u0027t need most of the features (or there are in other smaller mod) . Maybe i will use it latter when i will be a vetteran bored to launch hundreds times the same fuel-resuplly ship, redundant thing, easy manoeuvres or when the piloting and trajectories won\u0027t be a difficulty factor.\n\nFor now i still use the stock SAS, but most of time only in vacuum , yesterday the SAS induced a resonance wobble that cutted the rocket in 2 parts during the launch! (when disable the rocket just roll a bit a do a nice gravity turn, still need some light manual correction however).\n\nSo what i\u0027m still looking:\n\nimproved SAS in vaccum like described in first post:\n\n-tune parameters to not over compensate (or really less)\n\n-automatic tuning depending of the ship: momentum of inertia, reaction wheel torque...\n\n-wobble fighting: detect and adjust to avoid resonances\n\natmosphere function: do the same with aero control parts, take care of wind speed, density,... there was these kinds of functions in FAR in 0.90 (now i use stock)\n\n2 modes: \n\n-Standard: use max 80% of the available controles to do the job but let 20% for manual adjusment.\n\n-smooth: activable via shift key, objective: able to do a half turn in a defined time with smooth gradual limited torque to avoid wobble for spaghetti ships, save Ec, better looking manoeuvre.\n\ntransparent for the player, i don\u0027t want to tune all this PID or whatever parameters that are all intricated, it\u0027s possible by trial and error but there isn\u0027t easy rules to tune it, so it\u0027s long and not really fun for me, it\u0027s deffinitely a specialist task i will happily give to a program.\n\nMaybe it\u0027s not an easy task (because the ship is not only one rigid part?) but it\u0027s just my point of view of gamer.\n\nIn waiting, is there a mod that allow to disable some axis on the SAS, so i can just activate it on the roll axis for launch?\n\n**Edited \u003Ctime datetime=\u00222015-05-28T09:12:48Z\u0022 title=\u002205/28/2015 09:12  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 28, 2015\u003C/time\u003E by Skalou**"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-28T09:56:28Z","Content":"You are asking for a mod that does exactly what MJ does. I don\u0027t think you really grasp the amount of code that it requires to duplicate those functionality. \n\nI you don\u0027t want most of MJ tools then just disable them. Install MJ, module manager and create a text fie named basicMJ.cfg in GameData with that : \n\n    @PART[*]:HAS[@MODULE[ModuleCommand]]:Final{    %MODULE[MechJebCore]    {             %name = MechJebCore        %blacklist = MechJebModuleAscentGuidance MechJebModuleDockingGuidance MechJebModuleLandingGuidance MechJebModuleRCSBalancerWindow MechJebModuleRendezvousAutopilotWindow MechJebModuleRendezvousGuidance MechJebModuleRoverWindow MechJebModuleSmartASS MechJebModuleSmartRcs MechJebModuleSpaceplaneGuidance MechJebModuleThrustWindow MechJebModuleTranslatron    }}"},{"CreatedByName":"Warzouz","CreatedById":140055,"CreatedDateTime":"2015-05-28T10:40:22Z","Content":"BTW Sarbian, is there a way to use MJ features without adding the AR202 part to a ship ?\n\nI\u0027ve looked in the config files, but I didn\u0027t saw anythink which seemed related to that.\n\nThx"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-28T11:02:40Z","Content":"[Yes, there is](https://forum.kerbalspaceprogram.com/threads/98390-MechJeb-Embedded-Universal)"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-06-01T13:28:41Z","Content":"Nice you have done this blacklist, so i\u0027ll give it a try ! (and i can\u0027t help trying again the other features on a sandbox ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) )\n\nAlso i decided to take bull by horn and have a look at what is behind the scene, but unfortunately i didn\u0027t found informations on it in the MJ online manual, there is this but it\u0027s maybe outdated:\n\n [http://forum.kerbalspaceprogram.com/threads/49381-Mechjeb-How-to-make-SASS-chill-out-stop-wasting-RCS-and-shaking-things-apart](https://forum.kerbalspaceprogram.com/threads/49381-Mechjeb-How-to-make-SASS-chill-out-stop-wasting-RCS-and-shaking-things-apart)\n\nan interesting link to wikipedia: [http://en.wikipedia.org/wiki/PID_controller](https://en.wikipedia.org/wiki/PID_controller)\n\nis your method is \u0022Ziegler\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153Nichols method\u0022 or something like this?\n\ni also play with pilot asistant, it\u0027s a different method? i see we can derictly modify the Kp,Ki and Kd\n\na nice picture from the wiki above to understand it for noob like me.\n\n![PID_Compensation_Animated.gif](https://upload.wikimedia.org/wikipedia/commons/3/33/PID_Compensation_Animated.gif)\n\nThank you anyway to help me."},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-06-01T13:43:21Z","Content":"Someone who use PiD for work wrote that part of code and I integrated it in MJ. I understand how they work but writing code that tune itself is not something I could easily do (not with the hundreds of other bugs I have to tend to in MJ).\n\nI had some request to change the config UI but I did not get a better method to tune it so far. \n\nThe UI changed since that post but the underlying principle stayed the same.\n\nEdit : It seems we use something related to the \u0022Ziegler\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153Nichols method\u0022 but with different factors.\n\n**Edited \u003Ctime datetime=\u00222015-06-01T13:52:05Z\u0022 title=\u002206/01/2015 01:52  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 1, 2015\u003C/time\u003E by sarbian**"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2015-06-01T17:33:09Z","Content":"regex has a PIP tuner - [http://forum.kerbalspaceprogram.com/threads/117893](https://forum.kerbalspaceprogram.com/threads/117893)\n\nThat what you were looking for?"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-06-01T18:24:29Z","Content":"thank you wasml, the PID Tuner mod from regex you linked is minimalist and permit to tune himself the stock parameters, however pilot aids assistant include this feature too (and some other great i use). but the main problem is you have to know what you do (most of the time i make it worse), so i will try the MJ\u0027one that include a self tuning method because it\u0027s simpler.\n\nmaybe latter i will try to come back to the classic PID parameters and try to tune it manualy because i understand a bit how it works now.\n\nthe target of this post was to find a better SAS you don\u0027t have to tune, for focus on the launch of this rocket and have fun!\n\n**Edited \u003Ctime datetime=\u00222015-06-01T18:26:42Z\u0022 title=\u002206/01/2015 06:26  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 1, 2015\u003C/time\u003E by Skalou**"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-01T22:59:43Z","Content":"\u003E \n\u003E is your method is \u0022Ziegler\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153Nichols method\u0022 or something like this?\n\u003E i also play with pilot asistant, it\u0027s a different method? i see we can derictly modify the Kp,Ki and Kd\n\nMechjeb uses rotational acceleration to generate autotuning constants for it\u0027s PID controller (unmodified for the derivative constant, integrated once for proportional constant, integrated twice for the integral constant) with some additional constants to fine tune behaviour. It also modifies the error values based on the current rotational inertia instead of feeding the offset directly to the tuning loop among a few other little tricks.\n\n    // With some rearranging and substitution, MJ\u0027s autotuning looks like this. The only non-constant factor is Tf// Tf is MOI/Torque, ie. 1/accelerationdouble kpFactor = 1, kiFactor = 1, kdFactor = 1;pid.Kp = kpFactor / (8.5 * Tf ^ 2);pid.Ki = kiFactor / (72 * Tf ^ 3);pid.Kd = kdFactor / (2 * Tf);\n\nPilot Assistant is raw tuning, there is no automated adjustment happening behind the scenes, which is why I highly recommend using Dynamic Deflection. The default tuning for Dynamic Deflection is probably closest to some form of linear inverse (1/x) but really, it\u0027s just interpolating between values that seemed to work.\n\nAlso, that graph is wrong. Increasing Kd should make the initial slope shallower, not steeper (the time to zero error increases with increasing Kd)"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2015-06-02T12:31:43Z","Content":"Maybe [https://kerbalstuff.com/mod/765/PID%20Tuner](https://kerbalstuff.com/mod/765/PID%20Tuner) ?"}]}