{"TopicId":108723,"ForumId":20,"TopicTitle":"looking for an improved SAS function mod","CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-11T04:30:16Z","PageNum":1,"Articles":[{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-11T04:30:16Z","Content":"\n\u003Cp\u003Ehello ,\u003C/p\u003E\u003Cp\u003EI\u0027m looking for a mod improving the SAS function, looked a bit in the forum but didn\u0027t find what i would like:\u003C/p\u003E\u003Cp\u003E-tune parameters to not over compensate (or really less)\u003C/p\u003E\u003Cp\u003E-automatic tuning depending of the ship: mass, inertia, sas torque...\u003C/p\u003E\u003Cp\u003Ewith this i should be able to use \u0022persistant rotation mod\u0022, dost it exist yet?\u003C/p\u003E\n"},{"CreatedByName":"Frostea","CreatedById":139061,"CreatedDateTime":"2015-05-11T05:10:15Z","Content":"\n\u003Cp\u003EThe Smart A.S.S feature from Mechjeb is better than the stock when not in atmosphere, and it comes with a bunch of other utilities.\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2015-05-12T01:05:00Z","Content":"\n\u003Cp\u003ENot quite what you were looking for but a bit more realistic - [h=2]\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E(Semi-)Saturatable Reaction Wheels\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E[/h]\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E \u003C/span\u003E\u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/111049\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/111049\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-05-12T14:25:00Z","Content":"\n\u003Cp\u003EMechJeb has an \u0022attitude ajustment\u0022 window, where you can set some of its parameters, but AFAIK it\u0027s not a per-ship setting, and definetely not automatic based on mass.\u003C/p\u003E\n"},{"CreatedByName":"StahnAileron","CreatedById":139783,"CreatedDateTime":"2015-05-13T08:29:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Skalou\u0022 data-cite=\u0022Skalou\u0022\u003E\u003Cdiv\u003Ehello ,\u003Cp\u003EI\u0027m looking for a mod improving the SAS function, looked a bit in the forum but didn\u0027t find what i would like:\u003C/p\u003E\u003Cp\u003E-tune parameters to not over compensate (or really less)\u003C/p\u003E\u003Cp\u003E-automatic tuning depending of the ship: mass, inertia, sas torque...\u003C/p\u003E\u003Cp\u003Ewith this i should be able to use \u0022persistant rotation mod\u0022, dost it exist yet?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs mentioned, MechJeb has a SAS functions that work well enough. And actually, RemoteTech has a type of SAS functionality as well, though probably not the type you\u0027re looking for. (Plus it\u0027s dependent on RemoteTech actual gameplay feature: comm links. You can lose ships very easily with RT.)\u003C/p\u003E\u003Cp\u003EIf you want something in the atmosphere, I recommend Pilot Assistant.\u003C/p\u003E\u003Cp\u003ENone of the above really \u0022autotune\u0022 though.\u003C/p\u003E\u003Cp\u003EAnd yes, there is a(n in active development) persistent rotation mod.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-13T08:41:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003EMechJeb has an \u0022attitude ajustment\u0022 window, where you can set some of its parameters, but AFAIK it\u0027s not a per-ship setting, and definetely not automatic based on mass.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are wrong. Mechjeb2 SmartASS uses the vessel momentum and calculate the torque provided by the various ship system. The content of \u0022attitude ajustment\u0022 should not be changed untless you really understand what you are doing.\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-05-13T13:30:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EYou are wrong. Mechjeb2 SmartASS uses the vessel momentum and calculate the torque provided by the various ship system. The content of \u0022attitude ajustment\u0022 should not be changed untless you really understand what you are doing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EReally? Well, nice to know. I\u0027ll stay away from it, then.\u003C/p\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-15T21:13:49Z","Content":"\n\u003Cp\u003Ethank you, \u003C/p\u003E\u003Cp\u003Efirst i have to say there was a problem with the Claw stock bug fix mod, that was giving a delay to clutch gimbal and can lead to wobble, now updated.\u003C/p\u003E\u003Cp\u003Efor pilot assitant thank you, now i use it for long boring jet travel:wing leveller \u002B alt control \u002B KAC pause on alarm\u002B quick mute=u can go sleep.\u003C/p\u003E\u003Cp\u003E there is also a modified sas but i\u0027m not enought mad to use it and tune parameters for each stage of each vessel.\u003C/p\u003E\u003Cp\u003Efor mech jeb sorcery: me using this cheaty aimbot? me alive, never!!\u003Cspan style=\u0022font-size:8px;\u0022\u003E uuuh, considering it\u0027s the only one working great were is the DL link? \u003C/span\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003Ewhat i need: \u003Ca href=\u0022http://blog.planete-nextgen.com/wp-content/uploads/2014/02/tapette-mouche-epee.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://blog.planete-nextgen.com/wp-content/uploads/2014/02/tapette-mouche-epee.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ewhat mech jeb is: \u003Ca href=\u0022http://us.123rf.com/400wm/400/400/vicnt/vicnt0907/vicnt090700006/5198698-jumping-t-90-tank-foto.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://us.123rf.com/400wm/400/400/vicnt/vicnt0907/vicnt090700006/5198698-jumping-t-90-tank-foto.jpg\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-15T21:31:09Z\u0022 title=\u002205/15/2015 09:31  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 15, 2015\u003C/time\u003E by Skalou\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-05-28T09:08:48Z","Content":"\n\u003Cp\u003ENo news on this?\u003C/p\u003E\u003Cp\u003EMaybe my last post could be misunderstood after rereading, mechjeb is a really good mod but i don\u0027t want to use it now because i don\u0027t need most of the features (or there are in other smaller mod) . Maybe i will use it latter when i will be a vetteran bored to launch hundreds times the same fuel-resuplly ship, redundant thing, easy manoeuvres or when the piloting and trajectories won\u0027t be a difficulty factor.\u003C/p\u003E\u003Cp\u003EFor now i still use the stock SAS, but most of time only in vacuum , yesterday the SAS induced a resonance wobble that cutted the rocket in 2 parts during the launch! (when disable the rocket just roll a bit a do a nice gravity turn, still need some light manual correction however).\u003C/p\u003E\u003Cp\u003ESo what i\u0027m still looking:\u003C/p\u003E\u003Cp\u003Eimproved SAS in vaccum like described in first post:\u003C/p\u003E\u003Cp\u003E-tune parameters to not over compensate (or really less)\u003C/p\u003E\u003Cp\u003E-automatic tuning depending of the ship: momentum of inertia, reaction wheel torque...\u003C/p\u003E\u003Cp\u003E-wobble fighting: detect and adjust to avoid resonances\u003C/p\u003E\u003Cp\u003Eatmosphere function: do the same with aero control parts, take care of wind speed, density,... there was these kinds of functions in FAR in 0.90 (now i use stock)\u003C/p\u003E\u003Cp\u003E2 modes: \u003C/p\u003E\u003Cp\u003E-Standard: use max 80% of the available controles to do the job but let 20% for manual adjusment.\u003C/p\u003E\u003Cp\u003E-smooth: activable via shift key, objective: able to do a half turn in a defined time with smooth gradual limited torque to avoid wobble for spaghetti ships, save Ec, better looking manoeuvre.\u003C/p\u003E\u003Cp\u003Etransparent for the player, i don\u0027t want to tune all this PID or whatever parameters that are all intricated, it\u0027s possible by trial and error but there isn\u0027t easy rules to tune it, so it\u0027s long and not really fun for me, it\u0027s deffinitely a specialist task i will happily give to a program.\u003C/p\u003E\u003Cp\u003EMaybe it\u0027s not an easy task (because the ship is not only one rigid part?) but it\u0027s just my point of view of gamer.\u003C/p\u003E\u003Cp\u003EIn waiting, is there a mod that allow to disable some axis on the SAS, so i can just activate it on the roll axis for launch?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-28T09:12:48Z\u0022 title=\u002205/28/2015 09:12  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 28, 2015\u003C/time\u003E by Skalou\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-28T09:56:28Z","Content":"\n\u003Cp\u003EYou are asking for a mod that does exactly what MJ does. I don\u0027t think you really grasp the amount of code that it requires to duplicate those functionality. \u003C/p\u003E\u003Cp\u003EI you don\u0027t want most of MJ tools then just disable them. Install MJ, module manager and create a text fie named basicMJ.cfg in GameData with that : \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleCommand]]:Final\u003Cbr\u003E{\u003Cbr\u003E    %MODULE[MechJebCore]\u003Cbr\u003E    {     \u003Cbr\u003E        %name = MechJebCore\u003Cbr\u003E        %blacklist = MechJebModuleAscentGuidance MechJebModuleDockingGuidance MechJebModuleLandingGuidance MechJebModuleRCSBalancerWindow MechJebModuleRendezvousAutopilotWindow MechJebModuleRendezvousGuidance MechJebModuleRoverWindow MechJebModuleSmartASS MechJebModuleSmartRcs MechJebModuleSpaceplaneGuidance MechJebModuleThrustWindow MechJebModuleTranslatron\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Warzouz","CreatedById":140055,"CreatedDateTime":"2015-05-28T10:40:22Z","Content":"\n\u003Cp\u003EBTW Sarbian, is there a way to use MJ features without adding the AR202 part to a ship ?\u003C/p\u003E\u003Cp\u003EI\u0027ve looked in the config files, but I didn\u0027t saw anythink which seemed related to that.\u003C/p\u003E\u003Cp\u003EThx\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-28T11:02:40Z","Content":"\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98390-MechJeb-Embedded-Universal\u0022 rel=\u0022external nofollow\u0022\u003EYes, there is\u003C/a\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-06-01T13:28:41Z","Content":"\n\u003Cp\u003ENice you have done this blacklist, so i\u0027ll give it a try ! (and i can\u0027t help trying again the other features on a sandbox \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E )\u003C/p\u003E\u003Cp\u003EAlso i decided to take bull by horn and have a look at what is behind the scene, but unfortunately i didn\u0027t found informations on it in the MJ online manual, there is this but it\u0027s maybe outdated:\u003C/p\u003E\u003Cp\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/49381-Mechjeb-How-to-make-SASS-chill-out-stop-wasting-RCS-and-shaking-things-apart\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/49381-Mechjeb-How-to-make-SASS-chill-out-stop-wasting-RCS-and-shaking-things-apart\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ean interesting link to wikipedia: \u003Ca href=\u0022https://en.wikipedia.org/wiki/PID_controller\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/PID_controller\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eis your method is \u0022Ziegler\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153Nichols method\u0022 or something like this?\u003C/p\u003E\u003Cp\u003Ei also play with pilot asistant, it\u0027s a different method? i see we can derictly modify the Kp,Ki and Kd\u003C/p\u003E\u003Cp\u003Ea nice picture from the wiki above to understand it for noob like me.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://upload.wikimedia.org/wikipedia/commons/3/33/PID_Compensation_Animated.gif\u0022 alt=\u0022PID_Compensation_Animated.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EThank you anyway to help me.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-06-01T13:43:21Z","Content":"\n\u003Cp\u003ESomeone who use PiD for work wrote that part of code and I integrated it in MJ. I understand how they work but writing code that tune itself is not something I could easily do (not with the hundreds of other bugs I have to tend to in MJ).\u003C/p\u003E\u003Cp\u003EI had some request to change the config UI but I did not get a better method to tune it so far. \u003C/p\u003E\u003Cp\u003EThe UI changed since that post but the underlying principle stayed the same.\u003C/p\u003E\u003Cp\u003EEdit : It seems we use something related to the \u0022Ziegler\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153Nichols method\u0022 but with different factors.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-01T13:52:05Z\u0022 title=\u002206/01/2015 01:52  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 1, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2015-06-01T17:33:09Z","Content":"\n\u003Cp\u003Eregex has a PIP tuner - \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/117893\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/117893\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThat what you were looking for?\u003C/p\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-06-01T18:24:29Z","Content":"\n\u003Cp\u003Ethank you wasml, the PID Tuner mod from regex you linked is minimalist and permit to tune himself the stock parameters, however pilot aids assistant include this feature too (and some other great i use). but the main problem is you have to know what you do (most of the time i make it worse), so i will try the MJ\u0027one that include a self tuning method because it\u0027s simpler.\u003C/p\u003E\u003Cp\u003Emaybe latter i will try to come back to the classic PID parameters and try to tune it manualy because i understand a bit how it works now.\u003C/p\u003E\u003Cp\u003Ethe target of this post was to find a better SAS you don\u0027t have to tune, for focus on the launch of this rocket and have fun!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-01T18:26:42Z\u0022 title=\u002206/01/2015 06:26  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 1, 2015\u003C/time\u003E by Skalou\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-01T22:59:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Skalou\u0022 data-cite=\u0022Skalou\u0022\u003E\u003Cdiv\u003Eis your method is \u0022Ziegler\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153Nichols method\u0022 or something like this?\u003Cp\u003Ei also play with pilot asistant, it\u0027s a different method? i see we can derictly modify the Kp,Ki and Kd\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMechjeb uses rotational acceleration to generate autotuning constants for it\u0027s PID controller (unmodified for the derivative constant, integrated once for proportional constant, integrated twice for the integral constant) with some additional constants to fine tune behaviour. It also modifies the error values based on the current rotational inertia instead of feeding the offset directly to the tuning loop among a few other little tricks.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// With some rearranging and substitution, MJ\u0027s autotuning looks like this. The only non-constant factor is Tf\u003Cbr\u003E// Tf is MOI/Torque, ie. 1/acceleration\u003Cbr\u003Edouble kpFactor = 1, kiFactor = 1, kdFactor = 1;\u003Cbr\u003Epid.Kp = kpFactor / (8.5 * Tf ^ 2);\u003Cbr\u003Epid.Ki = kiFactor / (72 * Tf ^ 3);\u003Cbr\u003Epid.Kd = kdFactor / (2 * Tf);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPilot Assistant is raw tuning, there is no automated adjustment happening behind the scenes, which is why I highly recommend using Dynamic Deflection. The default tuning for Dynamic Deflection is probably closest to some form of linear inverse (1/x) but really, it\u0027s just interpolating between values that seemed to work.\u003C/p\u003E\u003Cp\u003EAlso, that graph is wrong. Increasing Kd should make the initial slope shallower, not steeper (the time to zero error increases with increasing Kd)\u003C/p\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2015-06-02T12:31:43Z","Content":"\n\u003Cp\u003EMaybe \u003Ca href=\u0022https://kerbalstuff.com/mod/765/PID%20Tuner\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalstuff.com/mod/765/PID%20Tuner\u003C/a\u003E ?\u003C/p\u003E\n"}]}