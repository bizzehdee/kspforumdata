{"TopicId":167925,"ForumId":32,"TopicTitle":"Optimal Staging Algorithm","CreatedByName":"Wcmille","CreatedById":151345,"CreatedDateTime":"2017-11-25T23:20:10Z","PageNum":1,"Articles":[{"CreatedByName":"Wcmille","CreatedById":151345,"CreatedDateTime":"2017-11-25T23:20:10Z","Content":"\n\u003Cp\u003E\nHey there, I wanted to work on my own designer for optimal stages.\n\u003C/p\u003E\n\u003Cp\u003E\nAnybody know of the algorithm to calculate optimum fuel sizes for a given payload, engine weight, and Isp?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m aware of Optimal Rocket Calculator, which doesn\u0027t handle NERV or DAWN engines. It also doesn\u0027t handle drop tanks. I think Optimal Rocket Calculator also uses brute force.\n\u003C/p\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2017-11-25T23:56:01Z","Content":"\n\u003Cp\u003E\nDon\u0027t knock brute force. It will complete any job you can think of.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs for optimum... I think that may be a pretty situational thing. Different ships for different uses will have different optimums.\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-26T00:00:22Z","Content":"\n\u003Cp\u003E\nWcmille,\u003Cbr\u003E\n\u00A0I\u0027ve written a couple tutorials on mathematically optimizing stages based on payload mass, required \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E, and minimum t/w.\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6470789314\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/122722-how-to-mathematically-design-stages\u0026amp;do=embed\u0022 style=\u0022height:214px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nIs that what you\u0027re looking for?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-26T00:05:07Z\u0022 title=\u002211/26/2017 12:05  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 26, 2017\u003C/time\u003E by GoSlash27\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wcmille","CreatedById":151345,"CreatedDateTime":"2017-11-26T02:09:17Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111526-goslash27/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022111526\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111526-goslash27/\u0022 rel=\u0022\u0022\u003E@GoSlash27\u003C/a\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDoes your spreadsheet assume always 4 stages?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s an example of the class of\u00A0problem I\u0027m trying to solve:\n\u003C/p\u003E\n\u003Cp\u003E\nBuild the lightest-weight chemical rocket (no ion) possible to send 10 tons of payload 18,000 \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E. (any number of stages)\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-26T07:17:17Z","Content":"\n\u003Cp\u003E\nwcmille,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0No, my process is for optimizing a single stage only. It wouldn\u0027t tell you exactly how many stages to employ.\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-26T15:51:37Z","Content":"\n\u003Cp\u003E\nWcmille,\u003Cbr\u003E\n\u00A0I poked around on my spreadsheet to find the optimal staging point for LV-Ns in series, assuming a 0.5g minimum acceleration. It worked out to 6,600 m/sec \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0A simple series LV-N would therefore be a 3-stager, with 6km/sec \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E per stage.\n\u003C/p\u003E\n\u003Cp\u003E\nStage 3: Payload= 10t. Mt= 74.9t Neng=6\u003Cbr\u003E\nStage 2: Payload= 74.9t. Mt= 522t Neng=40\u003Cbr\u003E\nStage 1: Payload= 522t. Mt= 3,640t Neng=279\n\u003C/p\u003E\n\u003Cp\u003E\nSince my process only evaluates a single stage pushing an inert payload, it is incapable of modeling parallel staging, drop tanks, or asparagus. These schemes are more efficient than series staging, so they should be able to get you a smaller rocket.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo model that, you will have to work the rocket equation the normal way and employ successive iteration.\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"septemberWaves","CreatedById":160814,"CreatedDateTime":"2017-11-26T15:59:53Z","Content":"\n\u003Cp\u003E\nIf there was a single simple algorithm for designing optimized rockets, rocket science would not be so hard.\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u0022best\u0022 rocket for a given situation is arguably the one which provides exactly enough delta-v for the payload and mission requirements with minimum waste, and is the cheapest option for this. That\u0027s monstrously difficult to create a step-by-step process for the designing of, because there are just too many variables. Variables include the width of the rocket stages (because of drag), the width of the payload fairing if there is one (also because of drag), the overall mass of the complete rocket both including and not including payload (and the difference between wet mass and dry mass is also significant), what kind of staging methods are available (e.g. drop tanks, half-stage, asparagus staging, parallel boosters, etc), what kind of engines are available (which will also influence how vertical staging works because if hot staging is used the decoupler will have to be open like the ones on the N1), what materials are available for making the tanks, the mass of avionics equipment required, etc. And you\u0027d have to run through all of these variables every single time you change the rocket design to see how the changes you make affect the final efficiency, cost, and delta-v. You can ignore some of these variables in KSP, but not many of them.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: the launch profile also has a significant effect on how you optimize a rocket. Different launch profiles have different thrust requirements at different times, and also have different effects on drag. A launch profile which is steeper than average, for example, will suffer less overall drag but ultimately will usually require more fuel to reach orbit because it will need to expend more propellant to go sideways. So even with an identical rocket, a steeper launch profile usually means a lower payload. But you also can\u0027t use a launch profile which isn\u0027t steep enough because otherwise the drag makes it impractical, your rocket becomes susceptible to flipping, and you need far more thrust overall.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-26T16:03:56Z\u0022 title=\u002211/26/2017 04:03  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 26, 2017\u003C/time\u003E by eloquentJane\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wumpus","CreatedById":133850,"CreatedDateTime":"2017-11-26T16:06:29Z","Content":"\n\u003Cp\u003E\nAs far as I know, \u0022brute force\u0022 is the only way this problem has ever been solved.\u00A0 There might be trivial cases where local maxima can be found and an optimal solution found, but each part will create a new function that still requires \u0022brute forcing\u0022.\u00A0 Note that is still true after ignoring both gravity losses and aero losses.\u00A0 A brute force method that considers such possibilities may well be more efficient than an \u0022optimal\u0022 one that doesn\u0027t.\n\u003C/p\u003E\n\u003Cp\u003E\nIons and\u00A0 NERV are trivial to optimize.\u00A0 If in a vacuum and in at least a stable orbit (you don\u0027t require thrust to avoid falling into a gravity well) Ion\u0026gt;\u0026gt;NERV\u0026gt;\u0026gt;everything else\u00A0 (for mass/cost efficiency.\u00A0 Not remotely efficient for player time*).\u00A0 Consider mech jeb, kerbal alarm clock, and finally KOS before using these systems.\u00A0 In practice Ion powered ships are expected to spiral out (no Obereth) while NERV ships often use the Mangalyaan maneuver (often called \u0022\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E kicking\u0022 in KSP) to use the Obereth effect with low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\u00A0 The differences mean that these engines need more delta-v than a \u0022subway map\u0022 might indicate (the NERV might be close, but you will always have to do your final burn of more delta-v than delta-v\u003Csub\u003Etotal needed\u003C/sub\u003E - delta-v\u003Csub\u003Eescape velocity (for you \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E)\u003C/sub\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nDrop tanks are unlikely to be added to this system as the obvious solution (for mass) is that all tanks are as small as possible, only two (or possibly one if you can afford to twist around and eject it off the top) tanks are used and dropped immediately when empty.\u00A0 Creating a structure that can utilize such a design is non-trivial.\n\u003C/p\u003E\n\u003Cp\u003E\nSlashy\u0027s answer is the best you will find in KSP.\u00A0 Also don\u0027t expect things to always neatly break into stages, although one favorite trick is to put drop tanks on top of solid boosters so that once they drop you have a full \u00221.5th stage\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n* ions may look \u0022overpowered\u0022.\u00A0 Compared to reality, they are *underpowered* (the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is higher).\u00A0 The catch is that they have even less thrust in reality, which doesn\u0027t really matter as presumably NASA has somebody at JPL tasked with making sure it is still doing its thing [actually what I\u0027ve heard it is more \u0022somebody gets a few hours of time on the deep space network and has to resolve all possible issues in that narrow timeframe.\u00A0 Only steely eyed missilemen with deep experience need apply.]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-26T16:15:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228518\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511712389\u0022 data-ipsquote-userid=\u0022133850\u0022 data-ipsquote-username=\u0022wumpus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, wumpus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf in a vacuum and in at least a stable orbit (you don\u0027t require thrust to avoid falling into a gravity well) Ion\u0026gt;\u0026gt;NERV\u0026gt;\u0026gt;everything else\u00A0 (for mass/cost efficiency.\u00A0 Not remotely efficient for player time*).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWumpus,\u003Cbr\u003E\n\u00A0While this is certainly true for high \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E burns, it isn\u0027t necessarily true for short ones. For trips under 2km/sec or so, chemical rockets can actually come up lighter than nukes or ions. 2km/sec \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E can get you to a lot of places if you spend it wisely. For many longer trips, chemical stages remain cheaper even though they\u0027re heavier.\u003Cbr\u003E\n\u00A0Of course, this doesn\u0027t apply to what Wcmille is talking about.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Best,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-26T17:03:26Z","Content":"\n\u003Cp\u003E\nModeling an all- nuke asparagus arrangement by hand with the above constraints leads me to 1,192 tonnes. I wonder if going to chemical outside the nuke cluster would reduce the overall mass... but not so much that I want to chase the math to find out \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"wumpus","CreatedById":133850,"CreatedDateTime":"2017-11-26T17:38:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228528\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511712932\u0022 data-ipsquote-userid=\u0022111526\u0022 data-ipsquote-username=\u0022GoSlash27\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, GoSlash27 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWumpus,\u003Cbr\u003E\n\u00A0While this is certainly true for high \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E burns, it isn\u0027t necessarily true for short ones. For trips under 2km/sec or so, chemical rockets can actually come up lighter than nukes or ions. 2km/sec \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E can get you to a lot of places if you spend it wisely. For many longer trips, chemical stages remain cheaper even though they\u0027re heavier.\u003Cbr\u003E\n\u00A0Of course, this doesn\u0027t apply to what Wcmille is talking about.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Best,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m sure I can build a payload to justify the ions (not the time to put it in place), but the NERV is pretty massive, so is less suitable for jutting to Mun/Minmus.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand a NERV-based shuttle for use around Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E is quite useful.\u00A0 This is true even for ships that weren\u0027t intended for such duty.\u00A0 As long as they have a NERV engine, a docking port, and aren\u0027t erased they will do fine (you can do the same with Poodles, but it is harder to justify unless your launcher is a spaceplane).\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-26T17:48:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228596\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511717913\u0022 data-ipsquote-userid=\u0022133850\u0022 data-ipsquote-username=\u0022wumpus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, wumpus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m sure I can build a payload to justify the ions (not the time to put it in place), but the NERV is pretty massive, so is less suitable for jutting to Mun/Minmus.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand a NERV-based shuttle for use around Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E is quite useful.\u00A0 This is true even for ships that weren\u0027t intended for such duty.\u00A0 As long as they have a NERV engine, a docking port, and aren\u0027t erased they will do fine (you can do the same with Poodles, but it is harder to justify unless your launcher is a spaceplane).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwumpus,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0I\u0027m not arguing any of that. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E I\u0027m just pointing out that, all else being equal, nukes and ions won\u0027t always work out lighter and cheaper than chemical rockets. This only holds true for high \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E burns.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, directly comparing the LV-909 to the LV-N at 10t payload and 0.5g minimum acceleration shows the LV-909 is lighter at 1,746 m/sec \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E or less and remains cheaper (although heavier) throughout the LV-N\u0027s entire staging envelope.\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\n-Slashy\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-26T18:06:23Z\u0022 title=\u002211/26/2017 06:06  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 26, 2017\u003C/time\u003E by GoSlash27\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wcmille","CreatedById":151345,"CreatedDateTime":"2017-11-26T22:39:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228518\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511712389\u0022 data-ipsquote-userid=\u0022133850\u0022 data-ipsquote-username=\u0022wumpus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, wumpus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs far as I know, \u0022brute force\u0022 is the only way this problem has ever been solved.\u00A0 There might be trivial cases where local maxima can be found and an optimal solution found, but each part will create a new function that still requires \u0022brute forcing\u0022.\u00A0 Note that is still true after ignoring both gravity losses and aero losses.\u00A0 A brute force method that considers such possibilities may well be more efficient than an \u0022optimal\u0022 one that doesn\u0027t.\n\u003C/p\u003E\n\u003Cp\u003E\nIons and\u00A0 NERV are trivial to optimize.\u00A0 If in a vacuum and in at least a stable orbit (you don\u0027t require thrust to avoid falling into a gravity well) Ion\u0026gt;\u0026gt;NERV\u0026gt;\u0026gt;everything else\u00A0 (for mass/cost efficiency.\u00A0 Not remotely efficient for player time*).\u00A0 Consider mech jeb, kerbal alarm clock, and finally KOS before using these systems.\u00A0 In practice Ion powered ships are expected to spiral out (no Obereth) while NERV ships often use the Mangalyaan maneuver (often called \u0022\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E kicking\u0022 in KSP) to use the Obereth effect with low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\u00A0 The differences mean that these engines need more delta-v than a \u0022subway map\u0022 might indicate (the NERV might be close, but you will always have to do your final burn of more delta-v than delta-v\u003Csub\u003Etotal needed\u003C/sub\u003E - delta-v\u003Csub\u003Eescape velocity (for you \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E)\u003C/sub\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nDrop tanks are unlikely to be added to this system as the obvious solution (for mass) is that all tanks are as small as possible, only two (or possibly one if you can afford to twist around and eject it off the top) tanks are used and dropped immediately when empty.\u00A0 Creating a structure that can utilize such a design is non-trivial.\n\u003C/p\u003E\n\u003Cp\u003E\nSlashy\u0027s answer is the best you will find in KSP.\u00A0 Also don\u0027t expect things to always neatly break into stages, although one favorite trick is to put drop tanks on top of solid boosters so that once they drop you have a full \u00221.5th stage\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n* ions may look \u0022overpowered\u0022.\u00A0 Compared to reality, they are *underpowered* (the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is higher).\u00A0 The catch is that they have even less thrust in reality, which doesn\u0027t really matter as presumably NASA has somebody at JPL tasked with making sure it is still doing its thing [actually what I\u0027ve heard it is more \u0022somebody gets a few hours of time on the deep space network and has to resolve all possible issues in that narrow timeframe.\u00A0 Only steely eyed missilemen with deep experience need apply.]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, I find departing from Mun to be tremendously helpful in saving \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E. You can get about \u002B600 \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for a high-speed maneuver by \u0022dropping\u0022 from Mun.\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4290994321\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147616-most-efficient-way-from-minmus-refueling-station-to-interplanetary/\u0026amp;do=embed\u0026amp;comment=2757233\u0026amp;embedComment=2757233\u0026amp;embedDo=findComment#comment-2757233\u0022 style=\u0022height:299px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nDrop tanks often improve \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E, cost, and mass at the price of thrust. I find them to be most helpful on the heaviest stage\n\u003C/p\u003E\n\u003Cp\u003E\nHere are links that suggest a mathematical solution is possible:\u003Cbr\u003E\u003Ca href=\u0022https://mikegrudic.wordpress.com/2017/06/02/optimal-rocket-staging/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://mikegrudic.wordpress.com/2017/06/02/optimal-rocket-staging/\u003C/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https://rocketsim.wordpress.com/2017/05/07/performance-and-optimization-multi-stage-rockets/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://rocketsim.wordpress.com/2017/05/07/performance-and-optimization-multi-stage-rockets/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-27T00:09:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228822\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511735957\u0022 data-ipsquote-userid=\u0022151345\u0022 data-ipsquote-username=\u0022Wcmille\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Wcmille said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere are links that suggest a mathematical solution is possible:\u003Cbr\u003E\u003Ca href=\u0022https://mikegrudic.wordpress.com/2017/06/02/optimal-rocket-staging/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://mikegrudic.wordpress.com/2017/06/02/optimal-rocket-staging/\u003C/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https://rocketsim.wordpress.com/2017/05/07/performance-and-optimization-multi-stage-rockets/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://rocketsim.wordpress.com/2017/05/07/performance-and-optimization-multi-stage-rockets/\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWcmille,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Unfortunately, those only apply to serial staging.\u003Cbr\u003E\u003Cbr\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"Wcmille","CreatedById":151345,"CreatedDateTime":"2017-11-27T04:29:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228896\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511741398\u0022 data-ipsquote-userid=\u0022111526\u0022 data-ipsquote-username=\u0022GoSlash27\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, GoSlash27 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWcmille,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Unfortunately, those only apply to serial staging.\u003Cbr\u003E\u003Cbr\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure what you mean by serial? As opposed to asparagus?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d think any high \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E rocket would be using a single NERV (or DAWN).\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2017-11-27T04:49:38Z","Content":"\n\u003Cp\u003E\nWcmille,\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022Serial\u0022 as in one stage accelerates with the next stage as payload. It gets more complicated with parallel, drop tanks, and asparagus. The same formulae do not apply in those situations.\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"magnemoe","CreatedById":57801,"CreatedDateTime":"2017-11-27T16:14:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228111\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511654161\u0022 data-ipsquote-userid=\u002277368\u0022 data-ipsquote-username=\u0022steuben\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 26.11.2017 at 12:56 AM, steuben said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDon\u0027t knock brute force. It will complete any job you can think of.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs for optimum... I think that may be a pretty situational thing. Different ships for different uses will have different optimums.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis, one issue I tend to run into then launching something with an oversize fairing is that i have to keep the long first stage up to 35-40 km, dropping first and continue with second stage earlier would be more efficient however the small second stage would not be aerodynamic stable. Solution tend to use first stage longer, perhaps add \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E to it then shrink second stage and probably put inside fairing.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2017-11-27T16:42:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228086\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511652010\u0022 data-ipsquote-userid=\u0022151345\u0022 data-ipsquote-username=\u0022Wcmille\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn \u200E11\u200E/\u200E25\u200E/\u200E2017 at 6:20 PM, Wcmille said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey there, I wanted to work on my own designer for optimal stages.\n\u003C/p\u003E\n\u003Cp\u003E\nAnybody know of the algorithm to calculate optimum fuel sizes for a given payload, engine weight, and Isp?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor getting to orbit I use a very simple rule of thumb that works nicely.\u00A0 Using two liquid fuel stages, the second stage (upper stage) should contain a mass of propellant equal to the mass of the payload, where the \u0022payload\u0022 is everything that sits on top of the second stage (including fairings, decouplers, etc.).\u00A0 And the first stage (lower stage) should contain a mass of propellant twice the mass of the payload, or twice the mass of propellant in the upper stage.\n\u003C/p\u003E\n\u003Cp\u003E\nAny additional stages, such as required for an ejection burn, are designed as part of the payload.\u00A0 Requirements for those can vary widely depending on the mission.\n\u003C/p\u003E\n"},{"CreatedByName":"Wcmille","CreatedById":151345,"CreatedDateTime":"2017-12-20T06:33:57Z","Content":"\n\u003Cp\u003E\nHere\u0027s a paper that I think is what I\u0027m looking for, but the notation confuses me a bit. Looking to convert the solution to an algorithm.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://oai.dtic.mil/oai/oai?verb=getRecord\u0026amp;metadataPrefix=html\u0026amp;identifier=AD0607412\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://oai.dtic.mil/oai/oai?verb=getRecord\u0026amp;metadataPrefix=html\u0026amp;identifier=AD0607412\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Corona688","CreatedById":2511,"CreatedDateTime":"2017-12-20T18:17:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228086\u0022 data-ipsquote-contentid=\u0022167925\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511652010\u0022 data-ipsquote-userid=\u0022151345\u0022 data-ipsquote-username=\u0022Wcmille\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/25/2017 at 5:20 PM, Wcmille said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey there, I wanted to work on my own designer for optimal stages.\n\u003C/p\u003E\n\u003Cp\u003E\nAnybody know of the algorithm to calculate optimum fuel sizes for a given payload, engine weight, and Isp?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s usually done the other way around:\u00A0 \u0022We know how to reach orbit:\u00A0 600 m/s at 1.5 gees(40 seconds), then 600 m/s at 0.9 gees(68 seconds), then 1500 m/s at 0.5 g(305 seconds).\u00A0 Engines weigh such-and-such per kilonewton and all have an \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E of 340.\u0022\u00A0 Then Werner von Braum breaks out the slide rule and tells you the facts of life.\u00A0 Then you curl up and cry and cut down the payload by a factor of three.\u00A0 Finally the requirements for your imaginary engines get given to RocketDyne, and they curl up and cry.\n\u003C/p\u003E\n\u003Cp\u003E\nYou could make template rockets that way - this many mainsails plus this many thuds with this much fuel for the bottom stage, then this many skippers plus this many thuds for the middle stage, then this many thuds for the top stage.\u00A0 It probably won\u0027t be able to put them all together for you, unless you stick to a template there too.\u00A0 Relying on thuds helps prevent impossible design suggestions.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-20T18:21:57Z\u0022 title=\u002212/20/2017 06:21  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 20, 2017\u003C/time\u003E by Corona688\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wcmille","CreatedById":151345,"CreatedDateTime":"2017-12-21T18:12:29Z","Content":"\n\u003Cp\u003E\nI had a breakthrough I wanted to share.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s my current algorithm:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCreate a list of all reasonable engine combinations for the number of stages specified.\n\u003C/li\u003E\n\u003Cli\u003E\nAdd a small amount of fuel to the stage which will benefit the most from the fuel, without going over the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E limits.\n\u003C/li\u003E\n\u003Cli\u003E\nIf all stages can no longer have fuel added due to \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E limits, the design is a failure.\n\u003C/li\u003E\n\u003Cli\u003E\nReport all successful designs.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nI used to calculate the best stage by looking at the incremental \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for each stage like this:\n\u003C/p\u003E\n\u003Cp\u003E\nF = mass of fuel modules, including the fuel and the leftover dry mass.\u003Cbr\u003E\ns = the dry weight of all the other stuff which is not fuel (engine, payload, etc)\u003Cbr\u003E\nr = The wet to dry ratio of fuel tanks, which is usually 1/9 in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E = 9.81 * Isp * ln (wet/dry) = 9.81 * Isp * ln ((s\u002BF)/(s\u002BrF))\n\u003C/p\u003E\n\u003Cp\u003E\nGravity cancels out across all the stages, so we\u0027re left with this for the incremental \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for each stage:\n\u003C/p\u003E\n\u003Cp\u003E\nd/dF Isp * ln((s\u002BF)/(s\u002BrF)) = Isp * (s-rs)/((s\u002BF)(s\u002BrF))\n\u003C/p\u003E\n\u003Cp\u003E\nThis *almost* works, but doesn\u0027t account for higher stages removing \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E from lower stages. I realized that we can subtract away the loss of \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E from other stages by taking a partial differential of dry mass instead of fuel! That looks like this:\n\u003C/p\u003E\n\u003Cp\u003E\nd/ds Isp * \u003Cspan style=\u0022float:none;background-color:transparent;color:rgb(53,60,65);font-family:Roboto, \u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003Eln((s\u002BF)/(s\u002BrF)) =\u00A0Isp * ((r-1)*F)/((s\u002BF)(s\u002BrF))\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022float:none;background-color:transparent;color:rgb(53,60,65);font-family:Roboto, \u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003ESo when you are looking for which stage to add fuel to, the full calculation for each stage is the incremental gain minus the incremental loss for all stages beneath it.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022float:none;background-color:transparent;color:rgb(53,60,65);font-family:Roboto, \u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003EInstead of incrementally adding fuel, I need to use the Newton-Rhapson method to solve these simultaneous non-linear equations, but I\u0027m still (re)learning how to do that.\u003C/span\u003E\n\u003C/p\u003E\n"}]}