{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":27,"Articles":[{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-01-09T12:33:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022miracmert\u0022 data-cite=\u0022miracmert\u0022\u003E\u003Cdiv\u003EOh thank you so much! I\u0027ve been searching this for hours but I couldn\u0027t find anything. It is going to help a lot with coding part. I used the mod back then, but it was annoying for me to add a part to the vessel and then have the first person view. I am trying to avoid that in my mod. Thank you so much again!\u003Cp\u003EEDIT: Unfortunately the mod doesn\u0027t come with the source code in it :/ So now, my question is (I know I asked a lot of questions for a tiny little mod but I\u0027m new to C# and modding so please don\u0027t mind me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E ) how can I set the interior for KerbalEVA vessel? I read B9 interior source codes and also the stock ones and in all of them the interior file is stated in the Part.CFG so the game knows the interior of that part belongs to internal.cfg. But how can I change information of KerbalEVA so I can assign my interior as internal view in its codes?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027d ave to locate the KerbalEVA parts present in the universe and add an Internal node to them I believe.\u003C/p\u003E\n"},{"CreatedByName":"Eadrom","CreatedById":91728,"CreatedDateTime":"2014-01-10T19:38:41Z","Content":"\n\u003Cp\u003ETrying to find a concise \u0022this is how you start making a plugin\u0022 set of instructions was a little difficult. Best one so far that I\u0027ve found is Cybutek\u0027s youtube series. It\u0027s from May 2013, but hopefully it\u0027s still accurate enough to get me started.\u003C/p\u003E\u003Cp\u003EAs I understand it, as long as I\u0027m not messing around with models or textures, I don\u0027t need Unity or PartTools. If I just want to do stuff in game or use parts supplied (with permission) by other people, I should have the need for Unity/PartTools, correct? So then I would just need a c# IDE such as MS Visual Studio Express. \u003C/p\u003E\u003Cp\u003EAre these statements correct? Do I have a basic understand on what is needed?\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-01-10T20:27:16Z","Content":"\n\u003Cp\u003EYeah, if you\u0027re not making parts, you don\u0027t need unity or PartTools, just VS or MonoDev should be enough.\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-01-10T20:32:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Eadrom\u0022 data-cite=\u0022Eadrom\u0022\u003E\u003Cdiv\u003ETrying to find a concise \u0022this is how you start making a plugin\u0022 set of instructions was a little difficult. Best one so far that I\u0027ve found is Cybutek\u0027s youtube series. It\u0027s from May 2013, but hopefully it\u0027s still accurate enough to get me started.\u003Cp\u003EAs I understand it, as long as I\u0027m not messing around with models or textures, I don\u0027t need Unity or PartTools. If I just want to do stuff in game or use parts supplied (with permission) by other people, I should have the need for Unity/PartTools, correct? So then I would just need a c# IDE such as MS Visual Studio Express. \u003C/p\u003E\u003Cp\u003EAre these statements correct? Do I have a basic understand on what is needed?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is correct Eadrom, adding models to the game requires Unity/PartTools, but information windows/tool that do background tasks dont need anything but Visual Studio Express for Windows Desktop or Monodevelop.\u003C/p\u003E\u003Cp\u003ESome other good resources for starting out are:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003Ethe wiki pages on mod making and setting up VS (these are old) - \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Creating_your_first_module\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Creating_your_first_module\u003C/a\u003E and \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Setting_up_Visual_Studio\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Setting_up_Visual_Studio\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ETaranisElsu built some good starter templates to give some example ideas for plugins - \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/56053-Example-plugin-projects-to-help-you-get-started\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/56053-Example-plugin-projects-to-help-you-get-started\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHoojiwanna compiled a great list of all modding info, including plugin stuff - \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/25013-Compilation-of-modding-information-links-for-0-19-20-21-22-Last-update-6th-Jan\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/25013-Compilation-of-modding-information-links-for-0-19-20-21-22-Last-update-6th-Jan\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eand ofcourse this thread and the #KSPModders IRC channel\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2014-01-10T22:04:41Z","Content":"\n\u003Cp\u003EThis is likely a face-palmingly simple question for more experienced KSP modders, but given I\u0027ve tried multiple options to no avail, I\u0027d figure I\u0027d ask:\u003C/p\u003E\u003Cp\u003EDoes anyone know how to access the title associated with a part (eg. \u0022Stayputnik\u0022) given a part or partModule within code, rather than the class names or what have you?\u003C/p\u003E\u003Cp\u003EI\u0027m likely missing something obvious, but going over the variables in the Part class and trying out a number of them, I can\u0027t seem to find it.\u003C/p\u003E\u003Cp\u003EEDIT: NM, occurred to me just after I wrote the above that Deadly Reentry was displaying this so I was able to check out its code.\u003C/p\u003E\u003Cp\u003EFor reference in case anyone else has this issue: part.partInfo.title does the trick.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-10T22:13:06Z\u0022 title=\u002201/10/2014 10:13  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 10, 2014\u003C/time\u003E by FlowerChild\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lunait","CreatedById":74383,"CreatedDateTime":"2014-01-14T13:23:47Z","Content":"\n\u003Cp\u003EI have a question (which I think hasn\u0027t been asked so far in the thread - forgive me if it has, but I couldn\u0027t find it) regarding celestial body properties. I\u0027m currently playing with the RealSolarSystem mod with clouds added to some planets to make them resemble gas giants - but you can still land on them, since their surface behavior hasn\u0027t been changed. Do you know of any way to do this, either by changing the surface itself to make it resemble that of Jool, or in some other way? Would it for example be possible, for a certain celestial body, to set an altitude limit below which the vessel explodes or breaks apart?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-14T19:52:01Z","Content":"\n\u003Cp\u003EI haven\u0027t looked into that myself--do you usually break apart at a certain altitude for Jool? I thought I\u0027d seen pics of people \u0022landed\u0022 on Jool so thought not. I also didn\u0027t see any likely variable for that in CelestialBody when I was first writing RSS. What you might want to do is write a partmodule that checks vessel\u0027s pressure outside, and starts breaking parts if pressure gets too high (maybe hook into crashTolerance as a hack for determining how strong parts are). The Deadly Reentry source would be a great place to start--in fact, maybe it should just be added as a third check (beyond heat and G force) in the DRE main loop...\u003C/p\u003E\n"},{"CreatedByName":"lunait","CreatedById":74383,"CreatedDateTime":"2014-01-15T00:07:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI haven\u0027t looked into that myself--do you usually break apart at a certain altitude for Jool? I thought I\u0027d seen pics of people \u0022landed\u0022 on Jool so thought not. I also didn\u0027t see any likely variable for that in CelestialBody when I was first writing RSS. What you might want to do is write a partmodule that checks vessel\u0027s pressure outside, and starts breaking parts if pressure gets too high (maybe hook into crashTolerance as a hack for determining how strong parts are). The Deadly Reentry source would be a great place to start--in fact, maybe it should just be added as a third check (beyond heat and G force) in the DRE main loop...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I\u0027ve never actually tried going into Jool\u0027s atmosphere deep enough to notice any such effects, but I\u0027ve seen those videos as well. I looked at the API wiki for CelestialBody and couldn\u0027t see anything either. I guess it\u0027s not possible to change the planets\u0027 surfaces into Jool-like surfaces, so the \u0022break apart at a certain altitude\u0022 option was more of a backup plan in case that wouldn\u0027t work. I would prefer if the property was bound to the CelestialBody and not to the vessel, but I guess that may not be possible in that case.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-15T00:50:46Z","Content":"\n\u003Cp\u003EI meant something to check the current pressure (which for obvious reasons *is* dependent on the CB\u0027s stats like staticPressureASL, atmosphereMultiplier, etc) and if \u0026gt; some maximum, break the part. Like how DRE handles reentry heat.\u003C/p\u003E\n"},{"CreatedByName":"KCreator","CreatedById":95721,"CreatedDateTime":"2014-01-15T02:15:13Z","Content":"\n\u003Cp\u003ETo make a Gas giant out of a planet, I think you can destroy its PQS, as Jool doesn\u0027t have one. But I think that might cause bad things to happen (especially to PQSCity\u0027s)... I should test one day XD\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-15T02:15:45Z\u0022 title=\u002201/15/2014 02:15  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 15, 2014\u003C/time\u003E by KCreator\u003C/strong\u003E\n\u003Cbr\u003Egiant != gaint\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-15T04:24:35Z","Content":"\n\u003Cp\u003EOh, yeah. That\u0027s true. I kinda misinterpreted the question I guess.\u003C/p\u003E\n"},{"CreatedByName":"theSpeare","CreatedById":62144,"CreatedDateTime":"2014-01-15T07:28:25Z","Content":"\n\u003Cp\u003ECan anyone help me with finding out what I can do with the FlightDriver public class? Is there some API for this?\u003C/p\u003E\n"},{"CreatedByName":"lunait","CreatedById":74383,"CreatedDateTime":"2014-01-15T12:42:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EOh, yeah. That\u0027s true. I kinda misinterpreted the question I guess.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo worries, I see what you mean - and it might work, but even though it depends on a property of the CelestialBody, the code that gives the desired effect would still be \u0022attached\u0022 to the part, right?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KCreator\u0022 data-cite=\u0022KCreator\u0022\u003E\u003Cdiv\u003ETo make a Gas giant out of a planet, I think you can destroy its PQS, as Jool doesn\u0027t have one. But I think that might cause bad things to happen (especially to PQSCity\u0027s)... I should test one day XD\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be a neat solution if possible! The planets/moons that I\u0027d like to convert to gas giants don\u0027t have any easter eggs or other such things on them that I\u0027m aware of, so PQSCity issues shouldn\u0027t matter, right? Or is PQSCity used for anything else apart from placing static objects like easter eggs? (I\u0027m quite new to the plugin coding thing as you can probably tell, so please forgive any stupid questions \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-15T12:45:32Z\u0022 title=\u002201/15/2014 12:45  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 15, 2014\u003C/time\u003E by lunait\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-15T16:57:31Z","Content":"\n\u003Cp\u003Elunait: attached, yes, but...just try out Deadly Reentry if you haven\u0027t yet. You\u0027ll get what I mean.\u003C/p\u003E\u003Cp\u003EThere\u0027s two things: *looking* like a gas giant, and actually adding pressure damage. For the former, removing PQS will work. For the latter, it\u0027s as we discussed: AFAIK no built-in pressure damage.\u003C/p\u003E\n"},{"CreatedByName":"KCreator","CreatedById":95721,"CreatedDateTime":"2014-01-16T08:50:48Z","Content":"\n\u003Cp\u003EPQSCity is just for statics, no hidden use, aside from KSC\u0027s Launchpad. Should be safe to remove PQS, even if it has some on it... If it fails, though, a GetComponentsInChildren will fix all.\u003C/p\u003E\n"},{"CreatedByName":"Rhidian","CreatedById":101171,"CreatedDateTime":"2014-01-17T04:00:44Z","Content":"\n\u003Cp\u003EI\u0027m getting my feet wet with just doing cfg editing for now, and I have a question regarding the Science Experiments. \u003C/p\u003E\u003Cp\u003EI\u0027m wanting to change the baseValue for a science experiment (for example, Crew Report), and I\u0027m not sure how to directly override the value in the ScienceDefs.cfg. I have tried using @EXPERIMENT_DEFINITION[crewReport] within my own .cfg file, yet it doesn\u0027t appear to work. I have managed to get somewhat close to what I\u0027m looking for by creating my own Experiment (ie a near copy of the entire Crew Report definition) and changing the basic Command cockpit to referencing my experiment instead, but I am hopeful there is a way to directly change the Crew Report fields without directly changing the ScienceDefs.cfg itself.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-17T04:36:07Z","Content":"\n\u003Cp\u003ERequires changes to ModuleManager. They\u0027re tagged by id, not name. Oh Squad, ever consistent.\u003C/p\u003E\n"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2014-01-17T05:24:42Z","Content":"\n\u003Cp\u003EHow could I call a function before any flight change or scene transition. I want to save some vessel data in a config before switching or scene transitioning.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-17T05:48:31Z","Content":"\n\u003Cp\u003EAdd a partmodule to (at least something on) the vessel, and override OnSave\u003C/p\u003E\n"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2014-01-17T06:03:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EAdd a partmodule to (at least something on) the vessel, and override OnSave\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t do that, this is a part less mod and I don\u0027t want to use module manager, I saw something called OnGameSceneChangeRequested or something like that, but I cant Get it to work.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2014-01-17T06:17:24Z","Content":"\n\u003Cp\u003ETry GameEvents.onGameSceneLoadRequested.Add() with the proper arguments to register a function for the event.\u003C/p\u003E\n"},{"CreatedByName":"Rhidian","CreatedById":101171,"CreatedDateTime":"2014-01-17T22:45:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003ERequires changes to ModuleManager. They\u0027re tagged by id, not name. Oh Squad, ever consistent.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI figured out how to do change the Experiment definitions without changing anything else. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@EXPERIMENT_DEFINITION[*]:HAS[#id[crewReport]]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@baseValue = 50\u003Cbr\u003E\t\t@scienceCap = 50\u003Cbr\u003E\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2014-01-18T01:42:49Z","Content":"\n\u003Cp\u003EDoes the KSPField Attribute work with all ConfigNodes, or just MODULE ones?\u003C/p\u003E\u003Cp\u003EEDIT: I did a test, it doesn\u0027t work. Another question though, how can I call a function just before switching vessels, I need to write some vessel data to a config.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-21T05:40:46Z\u0022 title=\u002201/21/2014 05:40  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 21, 2014\u003C/time\u003E by MrHappyFace\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rhidian","CreatedById":101171,"CreatedDateTime":"2014-01-21T01:29:17Z","Content":"\n\u003Cp\u003EIs there a way to tell through code when a Science Lab (or whatever is making use of the Science Lab\u0027s transmission boost variable) has finished processing some ScienceData?\u003C/p\u003E\u003Cp\u003ESecondary Question: How do you add a method to GameEvents? Say I\u0027m wanting to do something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E public class ModuleResearchExperiment : ModuleScienceExperiment\u003Cbr\u003E    {\u003Cbr\u003E\u003Cbr\u003E        public override void OnStart(PartModule.StartState state)\u003Cbr\u003E        {\u003Cbr\u003E            base.OnStart(state);\u003Cbr\u003E            GameEvents.onPartActionUICreate.Add(someEvent)\u003Cbr\u003E        }\u003Cbr\u003Epublic void someEvent(){\u003Cbr\u003EDebug.Log(\u0022This event occurred\u0022);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow would I go about supplying the correct argument to add to the GameEvents queue?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-21T05:23:48Z\u0022 title=\u002201/21/2014 05:23  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 21, 2014\u003C/time\u003E by Rhidian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-01-21T17:19:42Z","Content":"\n\u003Cp\u003EDoes anyone know how to return the name of the your current biome (either on the surface or flying above)? \u003C/p\u003E\u003Cp\u003EI was thinking it must be something like the vessel.mainBody.name type of thing, but nothing I\u0027ve tried works.\u003C/p\u003E\u003Cp\u003EI tried \u003C/p\u003E\u003Cp\u003Eprint(vessel.orbit.referenceBody.BiomeMap.Map.name);\u003C/p\u003E\u003Cp\u003Ebut it just returns \u0022kerbin_biomes_quantized\u0022 or mun, or whatever body you\u0027re orbiting. The same happens with vessel.mainBody.\u003C/p\u003E\u003Cp\u003Evessel.landedAt will return KSC, but it doesn\u0027t seem to work for anything else.\u003C/p\u003E\u003Cp\u003EThere must be some way to check which biome you\u0027re in. Anyone have any ideas?\u003C/p\u003E\n"}]}