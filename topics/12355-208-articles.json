{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":208,"Articles":[{"CreatedByName":"Ratzap","CreatedById":75982,"CreatedDateTime":"2014-01-30T12:58:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003EThere\u0027s something wrong with this image.\u003Cp\u003EIn the middle are two docking ports together. Around the big tank were six asparagus staged boosters. Right after the last pair drop, MechJeb lights the lander engines in the higher stage. Yes, all but the lowest engine in the list ARE in a higher stage.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou worked out what\u0027s going on, because they are not separated by a decoupler the upper engines fire off and it will also drain any upper tanks. Whether this behaviour is correct or not, there are a couple of solutions. Disable crossfeed on the ports or to be sure put a decoupler between them. You can get that to come off both sides later and still be able to dock or use a separator instead.\u003C/p\u003E\n"},{"CreatedByName":"jarmenia","CreatedById":83343,"CreatedDateTime":"2014-01-30T15:04:11Z","Content":"\n\u003Cp\u003EIs 2.1.1 supposed to be built into each probe / command pod or do we still need to stick the little box on the side of the craft? If so, I can\u0027t seem to get mechjeb to work without attaching the little box on the side.\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2014-01-30T15:06:45Z","Content":"\n\u003Cp\u003EDownload Module Manager 1.5.6, save this as a .cfg and put it in your GameData Folder:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleCommand],!MODULE[MechJebCore]] \u003Cbr\u003E{\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{ \u003Cbr\u003E\tname = MechJebCore\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"softweir","CreatedById":2795,"CreatedDateTime":"2014-01-30T16:51:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003EThere\u0027s something wrong with this image...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs well as the other fixes, you can also use \u0022Stop at stage\u0022 in the Ascent Guidance panel. Enter into it the number of the last stage \u003Cem\u003Ebefore that of the lander\u003C/em\u003E and MechJeb will ignore the lander\u0027s engines. So if the lander is stage 0, enter 1 into Stop at stage. I use this all the time - damn handy!\u003C/p\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2014-01-30T17:29:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThe advanced tab offers you various vectors to align to, and the six cardinal orientations. So Surface_Forward is your surface velocity vector (and choosing Surface_Forward and forward will align you with surface prograde); Surface_North is towards the north pole, etc.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! that is very useful.\u003C/p\u003E\n"},{"CreatedByName":"jarmenia","CreatedById":83343,"CreatedDateTime":"2014-01-30T18:00:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbeS\u0022 data-cite=\u0022AbeS\u0022\u003E\u003Cdiv\u003EDownload Module Manager 1.5.6, save this as a .cfg and put it in your GameData Folder:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleCommand],!MODULE[MechJebCore]] \u003Cbr\u003E{\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{ \u003Cbr\u003E\tname = MechJebCore\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks that worked!\u003C/p\u003E\n"},{"CreatedByName":"Mystique","CreatedById":95628,"CreatedDateTime":"2014-01-30T18:27:29Z","Content":"\n\u003Cp\u003EMost recent dev build shows crazy delta-v stats in VAB/SPH for jet engines. Like about 80000 while engineer redux shows ~5000. Any ideas?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-30T19:01:15Z","Content":"\n\u003Cp\u003ESarbian: by \u0022unlock in pitch\u0022 I guess I actually mean \u0022lock to surface prograde pitch value\u0022, which works exactly the same. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2014-01-30T19:16:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mystique\u0022 data-cite=\u0022Mystique\u0022\u003E\u003Cdiv\u003EMost recent dev build shows crazy delta-v stats in VAB/SPH for jet engines. Like about 80000 while engineer redux shows ~5000. Any ideas?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell jet engines do have a lot of delta v. Think about it, you get 5k with a nuke lets say which burns for 10-15 minutes. It has at least 5 times less ISP than the jet. The jet burns for a long time with very little fuel. Better said, you use 4500 to get to orbit in 2-3 minutes, imagine how much your plane will use by flying in the atmosphere for 10 times longer.\u003C/p\u003E\n"},{"CreatedByName":"bk2w","CreatedById":99893,"CreatedDateTime":"2014-01-30T19:24:18Z","Content":"\n\u003Cp\u003EI\u0027ve been playing around with techniques for positioning satellites in constellations, such as putting a satellite in Kerbin-synchronous orbit directly above KSC. Most of this is aimed at RemoteTech-type systems, but might be useful to others.\u003C/p\u003E\u003Cp\u003EWhat I\u0027m wondering is whether anyone else would find these useful enough to integrate into MechJeb, or if they\u0027d just confuse with options:\u003C/p\u003E\u003Cp\u003E- Change orbit to a specific semi-major axis and therefore orbital period (to make synchronous or semi-synchronous orbits easier to achieve);\u003C/p\u003E\u003Cp\u003E- Change orbit so that the next periapsis/apoapsis occurs with the spacecraft over a specific longitude (to get the spacecraft to be over a particular spot on the planet before enter synchronous or semi-synchronous orbits);\u003C/p\u003E\u003Cp\u003E- Change orbit to adjust the Longitude of the Ascending Node (useful for offsetting the orbital planes of multi-satelitte constellations like GPS or Iridium).\u003C/p\u003E\u003Cp\u003EThoughts? Additional maneuver mode ideas?\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-30T21:02:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ratzap\u0022 data-cite=\u0022Ratzap\u0022\u003E\u003Cdiv\u003EYou worked out what\u0027s going on, because they are not separated by a decoupler the upper engines fire off and it will also drain any upper tanks. Whether this behaviour is correct or not, there are a couple of solutions. Disable crossfeed on the ports or to be sure put a decoupler between them. You can get that to come off both sides later and still be able to dock or use a separator instead.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWould be nice if it could automate it the same way as staging works manually with the spacebar.\u003C/p\u003E\n"},{"CreatedByName":"Ratzap","CreatedById":75982,"CreatedDateTime":"2014-01-30T21:11:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bk2w\u0022 data-cite=\u0022bk2w\u0022\u003E\u003Cdiv\u003EI\u0027ve been playing around with techniques for positioning satellites in constellations, such as putting a satellite in Kerbin-synchronous orbit directly above KSC. Most of this is aimed at RemoteTech-type systems, but might be useful to others.\u003Cp\u003EWhat I\u0027m wondering is whether anyone else would find these useful enough to integrate into MechJeb, or if they\u0027d just confuse with options:\u003C/p\u003E\u003Cp\u003E- Change orbit to a specific semi-major axis and therefore orbital period (to make synchronous or semi-synchronous orbits easier to achieve);\u003C/p\u003E\u003Cp\u003E- Change orbit so that the next periapsis/apoapsis occurs with the spacecraft over a specific longitude (to get the spacecraft to be over a particular spot on the planet before enter synchronous or semi-synchronous orbits);\u003C/p\u003E\u003Cp\u003E- Change orbit to adjust the Longitude of the Ascending Node (useful for offsetting the orbital planes of multi-satelitte constellations like GPS or Iridium).\u003C/p\u003E\u003Cp\u003EThoughts? Additional maneuver mode ideas?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMechJeb has \u0027resonant orbit\u0027 under maneuver planner, that\u0027s pretty much all you need. Ascent to the correct orbit, resonant orbit then warp till it\u0027s in position and circularize.\u003C/p\u003E\n"},{"CreatedByName":"bk2w","CreatedById":99893,"CreatedDateTime":"2014-01-30T21:26:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ratzap\u0022 data-cite=\u0022Ratzap\u0022\u003E\u003Cdiv\u003EMechJeb has \u0027resonant orbit\u0027 under maneuver planner, that\u0027s pretty much all you need. Ascent to the correct orbit, resonant orbit then warp till it\u0027s in position and circularize.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECertainly you can use \u0027resonant orbit\u0027 to do the job, if you\u0027re willing to wait. For that matter, you can skip MechJeb altogether and still do this. But figuring out what that intermediate orbit should be so that you end up in the right place in a short amount of time requires a non-trivial amount of calculation.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-30T21:29:02Z\u0022 title=\u002201/30/2014 09:29  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 30, 2014\u003C/time\u003E by bk2w\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2014-01-31T02:31:27Z","Content":"\n\u003Cp\u003EIt\u0027s pretty easy to calculate manually, it wouldn\u0027t be too hard to add it to the maneuver planner I think\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-31T11:39:26Z","Content":"\n\u003Cp\u003EAs with most new feature it needs either some free time from me or someone else to write it.\u003C/p\u003E\u003Cp\u003EAlso : If someone give me the math its easier/faster\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-01-31T12:02:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EAs with most new feature it needs either some free time from me or someone else to write it.\u003Cp\u003EAlso : If someone give me the math its easier/faster\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you\u0027re interested, I will show you the math I use to compute the longitude where to burn while in LKO to put a craft in KSO at a desired longitude; that was one improvement I already asked to see with MJ, and answers the second one of bk2w requests. PM me in case.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-31T12:07:52Z","Content":"\n\u003Cp\u003EYes, I am interested. I\u0027ll just need to remember to use it, since I seems to forget/miss half the requested feature \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENot sure I\u0027ll have time to code much for MJ until mid next week.\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-01-31T12:15:00Z","Content":"\n\u003Cp\u003EHmm, latest build is from the 17:th? That\u0027s a long time ago.\u003C/p\u003E\u003Cp\u003EIs there some way to tweak how aggressive the PID is? I find it way too aggressive in atmosphere (specially with FAR) and way too meek in space, has a tendency to almost stop very close to the angle you want, but not quite there, slowly slowly correcting the last bit.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-31T12:23:54Z","Content":"\n\u003Cp\u003EYes, I worked on the Docking AP for a long time and won\u0027t do a new release until it\u0027s working properly. And I\u0027m busy with an other project.\u003C/p\u003E\u003Cp\u003EOpen the attitude adjustment window, uncheck the auto tune and set Tf to 0.3. The autotune is too aggressive in atmo, even more when you have control surface.\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-01-31T13:05:17Z","Content":"\n\u003Cp\u003EThanks, that helps, I guess the primary issue with the PID is that it doesn\u0027t really do the over time averaging, it\u0027s very important in PID to eliminate resonance or standing waves, feels like MJ is really profficient atm in making you fly in a sine wave.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-31T13:22:07Z","Content":"\n\u003Cp\u003EIt does, but the current config is not good.\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2014-01-31T15:13:08Z","Content":"\n\u003Cp\u003EThe math is simple, you just need to know the planet/moon rotational speed and how long does it take from your current orbit to the Apoapsis of your desired orbit.\u003C/p\u003E\u003Cp\u003EExample: You are orbiting Kerbin. You want to go from a 100 Km orbit to a KEO of 2,868.75 Km. You want to end up above KSC (around 74 deg W)\u003C/p\u003E\u003Cp\u003EThe time it takes to get from your initial orbit to the Ap of your desired one is:\u003C/p\u003E\u003Cp\u003Et = pi*sqrt(a^3/u);\u003C/p\u003E\u003Cp\u003Ea (sma) = (100,000\u002B2,868,750)/2 \u002B 600,000;\u003C/p\u003E\u003Cp\u003Eu (Grav Param) = 3.5316E12;\u003C/p\u003E\u003Cp\u003EWe get t = 5030.694 s (1h 23m 50.694s).\u003C/p\u003E\u003Cp\u003EIn that time Kerbin, which rotates 360 deg every 21600s (6h), has rotated 5030.694*360/21600 = 83.845 deg.\u003C/p\u003E\u003Cp\u003EThat means that if we want to end up just above KSC we need to do our transfer burn 83.845 deg before 74 deg W. That is when we are at 157.845 deg W\u003C/p\u003E\n"},{"CreatedByName":"bk2w","CreatedById":99893,"CreatedDateTime":"2014-01-31T17:38:45Z","Content":"\n\u003Cp\u003EMy approach is similar to resonance. I\u0027ve got some MechJeb code that does pretty much all of this that I\u0027m cleaning up right now. Hopefully I\u0027ll have a pull-request later today for you to take a look at.\u003C/p\u003E\u003Cp\u003EI\u0027ll setup an initial orbit with an apside at my desired final altitude. The code determines the longitude of the apside ground track at the time the vessel arrives at the apside. The difference between that and target a longitude is used to calculate how long it will take the body to rotate the correct longitude underneath the apside. I\u0027ll then adjust the SMA so that the orbital period is the rotation time plus some integer number of \u0022days\u0022, choosing the integer number to ensure that the orbit doesn\u0027t dip below the 5x time warp limit. The code I\u0027ve got calculates the adjusted SMA and drops a maneuver node on the apside.\u003C/p\u003E\u003Cp\u003EFor Kerbin-synchronous, I skip the 100km orbit, and simply launch directly to an apoapsis of 2868.75km. Burn at the apoapsis to insert into the transfer orbit calculated above, wait a full orbit, then burn again to circularize. This reliably puts my spacecraft in a synchronous orbit within an arc-minute of my goal longitude. And has the bonus of keeping the spacecraft above KSC\u0027s horizon almost the entire trip.\u003C/p\u003E\n"},{"CreatedByName":"Kerbonautical","CreatedById":75532,"CreatedDateTime":"2014-01-31T20:05:46Z","Content":"\n\u003Cp\u003EWhy does this Mod not work for me anymore? I just did a completely fresh install and it still won\u0027t work. Is there an issue with 0.23?\u003C/p\u003E\n"},{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2014-01-31T20:08:23Z","Content":"\n\u003Cp\u003EWorks perfectly fine in 0.23. I use it all the time.\u003C/p\u003E\n"}]}