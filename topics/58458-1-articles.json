{"TopicId":58458,"ForumId":50,"TopicTitle":"Fuel Flow Rules (0.24.2)","CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T08:29:28Z","PageNum":1,"Articles":[{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T08:29:28Z","Content":"\n\u003Cp\u003EI started this thread as a help for players with their problems with \u003Cstrong\u003Eliquid fuel\u003C/strong\u003E and \u003Cstrong\u003Eoxidizer\u003C/strong\u003E routing around the ship as the mechanic for that is sometimes counterintuitive and confusing. I used many clues and theories posted by various people all around the forums but in the end I figured out most details using my own experiments. Special thanks go to Rhomphaia who helped me figure out fuel flow between parent and child parts (Rule 7) and to Padishar for pointing out inconsistencies with parts that contain fuel and are not fuel crossfeed capable.\u003C/p\u003E\u003Cp\u003ELater over the time I figured out other resources may not be always as straightforward as they seem so I added chapters for other resources as well - \u003Cstrong\u003Emonopropellant\u003C/strong\u003E and \u003Cstrong\u003Exenon\u003C/strong\u003E as well as \u003Cstrong\u003Eintake air\u003C/strong\u003E and \u003Cstrong\u003Eelectric charge\u003C/strong\u003E.\u003C/p\u003E\u003Cp\u003EAll rules are documented using experimental crafts which you can download (with a few exceptions) and use to verify the mechanic yourself.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003ELiquid Fuel \u0026amp; Oxidizer\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003ENote: as of 0.24.2, neither \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003EVernor Engine\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E (RCS unit powered by liquid fuel and oxidizer) nor \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003EO-10 MonoPropellant Engine\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E (engine fueled by monopropellant) draw fuel according to these rules and follow rules for Monopropellant instead.\u003C/em\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1331247\u0026amp;viewfull=1#post1331247\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1331278\u0026amp;viewfull=1#post1331278\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEach engine does a \u003Ca href=\u0022https://en.wikipedia.org/wiki/Depth-first_search\u0022 rel=\u0022external nofollow\u0022\u003Edepth-first recursive scan\u003C/a\u003E of the ship for fuel it needs. If it uses two fuel types (liquid fuel/oxidizer), it does two separate scans, one for each fuel type. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880757\u0026amp;viewfull=1#post880757\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe scan starts on the engine body, i.e. the engine part itself.\u003C/p\u003E\u003Cp\u003EResult of the scan from each part is list of fuel tanks. The engine then uses the final list to draw fuel from each listed tank evenly (i.e. the same amount from each). \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880731\u0026amp;viewfull=1#post880731\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ERules are evaluated in order for each part. If a rule involves scanning other parts, the progress is saved with that part and continues at the same point after scanning of other parts is finished. If the rule\u0027s condition is matched, the rule returns a list and evaluation is terminated for the part. Otherwise the evaluation continues with further rule.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERule 1\u003C/strong\u003E: Each part can be only visited once, If it is visited for second time in particular search it returns empty list.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERule 2\u003C/strong\u003E: Part performs scan on start of every fuel pipe ending in it. This scan is done in order in which pipes were installed (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880743\u0026amp;viewfull=1#post880743\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E). Then it makes an union of fuel tank sets each pipe scan returned. If the resulting list is not empty, it is returned as result.\u003C/p\u003E\u003Cp\u003ENote: as of 0.23.5, this rule does not check fuel crossfeed setting of the part. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880713\u0026amp;viewfull=1#post880713\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#A9A9A9;\u0022\u003ERule 3\u003C/span\u003E\u003C/strong\u003E\u003Cspan style=\u0022color:#A9A9A9;\u0022\u003E: Rule removed as result of this \u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1202628\u0026amp;viewfull=1#post1202628\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022color:#A9A9A9;\u0022\u003E[Experiment]\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022color:#A9A9A9;\u0022\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERule 4\u003C/strong\u003E: If the part is fuel crossfeed capable (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1202628\u0026amp;viewfull=1#post1202628\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E), it performs scan on each of its \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880686\u0026amp;viewfull=1#post880686\u0022 rel=\u0022external nofollow\u0022\u003Eaxially mounted neighbors\u003C/a\u003E. \u003C/p\u003E\u003Cp\u003ECouplers (bicoupler, tricoupler, ...) are an exception, they only scan one attach point on the single attachment side, skip the points on the side where multiple points are. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880706\u0026amp;viewfull=1#post880706\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAgain, the part creates union of scan lists from each of its neighbor and if it is not empty, returns this list. \u003C/p\u003E\u003Cp\u003EThe order in which mount points of a part are scanned appears to be fixed and defined by the part specification file. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=894423\u0026amp;viewfull=1#post894423\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERule 5\u003C/strong\u003E: If the part is fuel container for searched type of fuel (i.e. it has capability to contain that type of fuel and the fuel type was not disabled \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880734\u0026amp;viewfull=1#post880734\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E) and it contains fuel, it returns itself.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERule 6\u003C/strong\u003E: If the part is fuel container for searched type of fuel (i.e. it has capability to contain that type of fuel and the fuel type was not disabled) but it does not contain the requested fuel, it returns empty list. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880757\u0026amp;viewfull=1#post880757\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERule 7\u003C/strong\u003E: If the part is fuel crossfeed capable (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1202628\u0026amp;viewfull=1#post1202628\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E), \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880696\u0026amp;viewfull=1#post880696\u0022 rel=\u0022external nofollow\u0022\u003Eradially attached\u003C/a\u003E to another part and it is child of that part in the ship\u0027s tree structure, it scans its parent and returns whatever the parent scan returned. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880727\u0026amp;viewfull=1#post880727\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880932\u0026amp;viewfull=1#post880932\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERule 8\u003C/strong\u003E: If all preceding rules failed, part returns empty list.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003EFuel Flow and Docking\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThere are three important facts related to fuel scan and ship docking:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFact 1:\u003C/strong\u003E When two ships dock together, they become single ship with single root part. That may change parent/child relations between parts and may change how fuel is accessible to engines drawing fuel using \u003Cstrong\u003ERule 7\u003C/strong\u003E. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880932\u0026amp;viewfull=1#post880932\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFact 2:\u003C/strong\u003E When docking two ships together using multiple docking ports at once, only one docking connection allows fuel transfer. All other docking ports, even though docked and having physical strength in their connection, cannot transfer fuel between each other. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=880900\u0026amp;viewfull=1#post880900\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFact 3:\u003C/strong\u003E Attached docking ports (from VAB) behave like normal axially connected parts. When docking ports are docked and they provide fuel transfer (see \u003Cstrong\u003EFact 2\u003C/strong\u003E), they behave as if there are two fuel pipes between them, one in each direction. This mostly affects parts directly (radially) attached to them or parts connected directly with the docking port via fuel pipe. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=883972\u0026amp;viewfull=1#post883972\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003ECommon Errors\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIf the ship is symmetric, it will draw fuel symmetrically\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis is about the most common misconception about fuel distribution. The important thing here is, the fuel scan itself is not symmetric. Out of multiple ways it can traverse the ship structure, it always goes one way first, and another way later. If it meets already scanned parts on the second way, it skips them (\u003Cstrong\u003ERule 1\u003C/strong\u003E) instead of searching them again. This means that any fuel drawn from this second way will not come from any parts which were accessible the first way.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=886873\u0026amp;viewfull=1#post886873\u0022 rel=\u0022external nofollow\u0022\u003E[Example]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIt Ends Here\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EAnother common error is the idea that if a fuel pipe ends in a fuel tank, it will draw the fuel from that fuel tank. That\u0027s also not true because the fuel tank undergoes the same fuel scan rules like every other part and drawing fuel from itself is only \u003Cstrong\u003ERule 5\u003C/strong\u003E. If it finds fuel any other way - particularly using \u003Cstrong\u003ERule 2\u003C/strong\u003E or especially \u003Cstrong\u003ERule 4\u003C/strong\u003E, it uses that instead of itself. This most commonly occurs when the fuel tank is attached axially to crossfeed capable part which is not a fuel tank.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=886867\u0026amp;viewfull=1#post886867\u0022 rel=\u0022external nofollow\u0022\u003E[Example]\u003C/a\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23%29?p=886926\u0026amp;viewfull=1#post886926\u0022 rel=\u0022external nofollow\u0022\u003E[Example]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003EMonopropellant \u0026amp; Xenon\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWith 0.23.5 (ARM pack), Monopropellant and Xenon are no longer drawn evenly from all containers around the ship. Instead, they are drawn depending on their placement in the ship, with decouplers separating individual levels of priority.\u003C/p\u003E\u003Cp\u003ENote that I ran majority of experiments with Monopropellant as it is significantly easier to set up and deplete.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EDrawing Rules\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E(mostly established by two experiments - Monopropellant \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130030\u0026amp;viewfull=1#post1130030\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E and Xenon \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130080\u0026amp;viewfull=1#post1130080\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EContainers get assigned priority according to number of decouplers or separators between them and ship\u0027s root part\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EContainers with greatest priority (number of decouplers and separators between them and root part) are drawn first\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EResource is drawn evenly (equal amount) from all containers which are enabled, contain the resource, and are on the same priority level (supplementary \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1135806\u0026amp;viewfull=1#post1135806\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDrawing from containers with lower priority only starts when all containers with higher priority are completely depleted\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EWhat is NOT involved\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ELaunch clamps do not count as decouplers \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130030\u0026amp;viewfull=1#post1130030\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130080\u0026amp;viewfull=1#post1130080\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDocking ports play no role \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130586\u0026amp;viewfull=1#post1130586\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EStruts and fuel pipes play no role \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130110\u0026amp;viewfull=1#post1130110\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EParts without fuel crossfeed play no role \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130586\u0026amp;viewfull=1#post1130586\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EPlacement of engines plays no role \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130099\u0026amp;viewfull=1#post1130099\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOrientation of decouplers plays no role \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130106\u0026amp;viewfull=1#post1130106\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EStaging setup plays no role \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1130118\u0026amp;viewfull=1#post1130118\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003EGotchas\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERoot part change\u003C/strong\u003E - if a ship docks with another ship, its root part may change. Drawing of monopropellant and xenon then may get affected by it. \u003C/p\u003E\u003Cp\u003EThe game however seems to restore the original root part of the docked ship when the connection is undocked. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1135108\u0026amp;viewfull=1#post1135108\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EProbes and landers\u003C/strong\u003E - probes and landers attached through a decoupler get higher priority in drawing monopropellant and xenon over the main body of the ship and may get their supply depleted. As a countermeasure, it is possible to either disable their monopropellant/xenon tanks before undocking them, or have them attached via a docking port which puts them on the same priority level as the main ship.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003EIntake Air \u0026amp; Electric Charge\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EIntake Air and Electric charge are usually considered intermittent resources, ships often have their sources (intakes, solar panels, RTGs, engines, ...), storage (intakes, batteries, ...) and consumers (engines, reaction wheels, lights, ...).\u003C/p\u003E\u003Cp\u003EWhen there is sufficient amount of resource available in the storage, all consumers take full amount they need and this consumption is distributed over all storage parts. Similarly when there is sufficient supply of the resource, it is stored in all storage parts all over the ship. Distribution rules in such case are hard to figure out and are not important so I am not dealing with them.\u003C/p\u003E\u003Cp\u003ESerious situation occurs when there is some supply of the resource, but not sufficient to satisfy demands of all consumers. This situation leads to uneven thrust or asymmetric flameouts of engines, both jets and ion engines. It may also lead to the situation when ship\u0027s probe core is unpowered while its lights are still shining.\u003C/p\u003E\u003Cp\u003EBoth intake air and electric charge follow the same rules and important parts here are sources and consumers. \u003C/p\u003E\u003Cp\u003EFor intake air, sources are air intakes and consumers are jet engines. \u003C/p\u003E\u003Cp\u003EFor electric charge, sources are RTGs, solar panels, and some engines, and consumers are ion engines, probe cores, reaction wheels, lights etc.\u003C/p\u003E\u003Cp\u003EWhat is important is the order in which parts (sources and consumers) were installed on the ship.\u003C/p\u003E\u003Cp\u003EOrder of storage parts is not important.\u003C/p\u003E\u003Cp\u003EFor simplicity and since that is the more serious issue in most cases, the following description refers to air intakes and jet engines \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1176695\u0026amp;viewfull=1#post1176695\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E. Notice though that the situation is the same for electricity as well \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64362-Fuel-Flow-Rules-%280-23-5%29?p=1176831\u0026amp;viewfull=1#post1176831\u0022 rel=\u0022external nofollow\u0022\u003E[Experiment]\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EThe ship is scanned starting with first placed part and ending with last placed part. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIf the part is an air intake, its contents is added to a pool of intake air available.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIf the part is an air consuming engine, amount required by the engine is removed from the pool and given to the engine. If there is not enough air in the pool at the moment, the engine gets what is left in the pool.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIf there is any intake air left in the pool after scanning all parts, the scan runs again starting from first part of the ship. In this second run, leftover air is distributed over engines which don\u0027t have their demands satisfied yet - again in order in which they were attached to the ship.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:57:38Z\u0022 title=\u002208/24/2014 04:57  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T09:00:02Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExplanation: what is axial mounting\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EAxial mounting is the usual way of ship construction using attaching parts to other parts via their mounting points, visualised in VAB/SPH as green balls.\u003C/p\u003E\u003Cp\u003EMost parts have two axial mount points. Hub parts have six, nose cones and some other parts have one. \u003C/p\u003E\u003Cp\u003ECouplers (bicoupler, tricoupler) are special in the sense that even though they have multiple axial mount points, they only scan one of them and that\u0027s the point which is on the \u0022single\u0022 side.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/qR4w9Mh.png\u0022 alt=\u0022qR4w9Mh.png\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/axJTh3Z.png\u0022 alt=\u0022axJTh3Z.png\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/Klp1td0.png\u0022 alt=\u0022Klp1td0.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EBelow is a simple example of axially mounted ship:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/IDYZ6xe.png\u0022 alt=\u0022IDYZ6xe.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote that radially mounted girder segments, although they are sticked to the surface by the end with an axial mount point, are not mounted to that part by that axial point and that point remains unused. Radial mounting is always mutual, i.e. surface to surface. \u003Cstrong\u003EThe image below is NOT an example of axial mounting.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/c1S9Ds9.png\u0022 alt=\u0022c1S9Ds9.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-01T09:34:18Z\u0022 title=\u002201/01/2014 09:34  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 1, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T09:11:48Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExplanation: what is radial mounting\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ERadial mounting means attaching parts one to another by their surfaces rather than using pre-defined attach points. Number of parts which can be attached is in such case only limited by the area available on the parent part.\u003C/p\u003E\u003Cp\u003EFor purposes of fuel flow, it is important which part is parent and which is child in radial mounting. During construction, parent child is always the part onto which the other part is mounted. This may, however, change when ships dock one to each other. Docking may therefore have impact on fuel flow within the ship if it relies on \u003Cstrong\u003ERule 7\u003C/strong\u003E.\u003C/p\u003E\u003Cp\u003EBelow is an example of a Jumbo fuel tank (parent part) with a number of parts radially mounted to it.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/8oiPXKY.png\u0022 alt=\u00228oiPXKY.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T09:30:00Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: N-couplers scan only their single axial point regardless of parent-child relation\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIn all images below, the command pod is the root of the ship. Notice that engines only have access to fuel if they are on the two-port end of the coupler, meaning the search for fuel only goes through the single-point side, not through the multi-point side.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sendspace.com/file/0pzqjj\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of an \u0022equivalent testing craft\u0022\u003C/p\u003E\u003Cp\u003EAccess to fuel:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/6q8zeFI.jpg\u0022 alt=\u00226q8zeFI.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/gu7JUiZ.jpg\u0022 alt=\u0022gu7JUiZ.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ENo access to fuel:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ON9IXi8.jpg\u0022 alt=\u0022ON9IXi8.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ITalQFw.jpg\u0022 alt=\u0022ITalQFw.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:08:20Z\u0022 title=\u002208/24/2014 04:08  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T09:42:50Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: Fuel pipe scan precedes test for crossfeed capability\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EFirst image demonstrates that used parts are indeed not crossfeed capable. Second image shows that when a fuel pipe is drawn to them, though, they\u0027re able to provide fuel to attached fuel pipes or other parts.\u003C/p\u003E\u003Cp\u003EThis behavior may be considered a bug and may be fixed in the future. As of 0.23 release it works.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sendspace.com/file/yb8d65\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of equivalent/improved testing craft\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/9RGdxYe.jpg\u0022 alt=\u00229RGdxYe.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/gpgs7bi.jpg\u0022 alt=\u0022gpgs7bi.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:09:37Z\u0022 title=\u002208/24/2014 04:09  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T09:55:51Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: fuel pipes go first, axial mounting second, radial mounting third\u003C/strong\u003E \u003C/p\u003E\u003Cp\u003EThe single part providing all the fuel access in this case is the structural fuselage part. It allows radial scan because it is not fuel tank itself and it is child of the fuel tank to which it is radially mounted (the crew pod is the root of the ship). It provides access to fuel according to \u003Cstrong\u003ERule 2\u003C/strong\u003E first, then according to \u003Cstrong\u003ERule 5\u003C/strong\u003E and in the end according to \u003Cstrong\u003ERule 7\u003C/strong\u003E. Notice order in which fuel tanks are emptied.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.sendspace.com/file/k68yn7\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of an equivalent test craft\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/zSt9gFu.jpg\u0022 alt=\u0022zSt9gFu.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/BeQxyYn.jpg\u0022 alt=\u0022BeQxyYn.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/HPQHBUq.jpg\u0022 alt=\u0022HPQHBUq.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: craft file updated; verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:15:03Z\u0022 title=\u002208/24/2014 04:15  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T10:03:04Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: Axial mount scan does not depend on parent/child relation\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EExperiment: Fuel tanks from the final list are drawn evenly regardless of fuel tank size\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIn the following ship, the command pod is the root part. All fuel is drawn through axial mounting (\u003Cstrong\u003ERule 5\u003C/strong\u003E). Notice the engine has drawn 5 units of fuel from each tank.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sendspace.com/file/y39bs9\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of an equivalent/improved testing craft\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/rLxExXL.jpg\u0022 alt=\u0022rLxExXL.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:17:49Z\u0022 title=\u002208/24/2014 04:17  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T10:09:43Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: disabling fuel type on tank allows radial scan\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ECommand pod is the root part. FL-T800 tank is full of fuel, small FL-T100 was tweaked to not contain any liquid fuel. When liquid fuel is disabled in it, the engine gains access to liquid fuel in FL-T800.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sendspace.com/file/q2s92x\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of an equivalent/improved test craft\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/MfaCJ0j.jpg\u0022 alt=\u0022MfaCJ0j.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/EBPtUDB.jpg\u0022 alt=\u0022EBPtUDB.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:18:59Z\u0022 title=\u002208/24/2014 04:18  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T10:36:36Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: fuel lines are scanned in order of placement\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThe following two pictures show the same design, the only difference is the order in which the two upper fuel lines were placed.\u003C/p\u003E\u003Cp\u003EIn the first picture, the right fuel line was placed first. \u003C/p\u003E\u003Cp\u003EThe fuel scan then goes first to the right tank and ends there (the structural part is not crossfeed capable) so the tank provides itself for fuel. \u003C/p\u003E\u003Cp\u003EThen fuel scan goes to the left tank and ends there (structural part is not crossfeed capable and right tank behind the pipe was already scanned).\u003C/p\u003E\u003Cp\u003ETherefore both fuel tanks are drawn evenly.\u003C/p\u003E\u003Cp\u003EIn the second picture, the left fuel line was placed first. \u003C/p\u003E\u003Cp\u003EThe scan goes through the pipe to the left fuel tank, then through the horizontal pipe to the right fuel tank. It ends there, the tank provides itself for fuel.\u003C/p\u003E\u003Cp\u003EThen the scan tries to go through the right pipe, but since the right fuel tank was already scanned it provides nothing.\u003C/p\u003E\u003Cp\u003ETherefore fuel is drawn from right tank only.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sendspace.com/file/z55jr1\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of an equivalent/improved test craft\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/A8umEiE.jpg\u0022 alt=\u0022A8umEiE.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/QFxAChQ.jpg\u0022 alt=\u0022QFxAChQ.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:20:00Z\u0022 title=\u002208/24/2014 04:20  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T10:52:51Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: fuel scan is done for each fuel type separately\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIn the following ship, command pod is the root part. \u003C/p\u003E\u003Cp\u003EThe engine draws liquid fuel from the liquid fuel tank, and oxidizer from the FL-T800 tank. When the liquid fuel in the liquid fuel tank is depleted, the engine stops because it cannot reach liquid fuel in FL-T800 (\u003Cstrong\u003ERule 6\u003C/strong\u003E) although it can reach oxidizer in it (\u003Cstrong\u003ERule 7\u003C/strong\u003E)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sendspace.com/file/cegg2x\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of an equivalent test craft\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/MmyN3h1.jpg\u0022 alt=\u0022MmyN3h1.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ZvHKn4D.jpg\u0022 alt=\u0022ZvHKn4D.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:21:29Z\u0022 title=\u002208/24/2014 04:21  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T14:12:05Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: In multi-docking-port connections, only one connection can transfer fuel\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EBefore docking, neither engine has access to fuel.\u003C/p\u003E\u003Cp\u003EAfter docking, only one engine (that one next to the \u0022main\u0022 docking connection) has access to fuel behind the docking port even though both docking ports are docked and provide the \u0022undock\u0022 function.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sendspace.com/file/jjbguf\u0022 rel=\u0022external nofollow\u0022\u003ECraft file\u003C/a\u003E of an equivalent test craft (does not require flying to space)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/8uxhncY.png\u0022 alt=\u00228uxhncY.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Dxe2uzN.png\u0022 alt=\u0022Dxe2uzN.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E24-Aug-2014: verified for 0.24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-24T04:23:25Z\u0022 title=\u002208/24/2014 04:23  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 24, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-01T14:39:52Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: Parent/child relation and fuel scan conditions depending on Rule 7 may change on docking.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIn the example ship, the command pod is initially the root. Both engines have access to fuel because the girder connecting the engine to the fuel tank is the child in both cases. Even after separating the two parts, both engines keep their access to fuel. After docking, though, one of girders becomes a parent to the fuel tank and the corresponding engine loses access to fuel.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Nn23h4j.png\u0022 alt=\u0022Nn23h4j.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/uR5jeJF.png\u0022 alt=\u0022uR5jeJF.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jEwwfnY.png\u0022 alt=\u0022jEwwfnY.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/rX4Gi3u.png\u0022 alt=\u0022rX4Gi3u.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"1greywind","CreatedById":82369,"CreatedDateTime":"2014-01-01T18:33:38Z","Content":"\n\u003Cp\u003EExcellent analysis. And impressive experimental work too.\u003C/p\u003E\n"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2014-01-01T18:54:05Z","Content":"\n\u003Cp\u003EI\u0027ll make the first vote that this thread needs to be stickied. Excellent work.\u003C/p\u003E\n"},{"CreatedByName":"Specialist290","CreatedById":58489,"CreatedDateTime":"2014-01-02T02:04:12Z","Content":"\n\u003Cp\u003EImpressive work. Definitely one for the Drawing Board \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sirine","CreatedById":74830,"CreatedDateTime":"2014-01-02T02:12:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EExperiment: Parent/child relation and fuel scan conditions depending on Rule 7 may change on docking.\u003C/strong\u003E\u003Cp\u003EIn the example ship, the command pod is initially the root. Both engines have access to fuel because the girder connecting the engine to the fuel tank is the child in both cases. Even after separating the two parts, both engines keep their access to fuel. After docking, though, one of girders becomes a parent to the fuel tank and the corresponding engine loses access to fuel.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/Nn23h4j.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/Nn23h4j.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/uR5jeJF.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/uR5jeJF.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/jEwwfnY.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/jEwwfnY.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/rX4Gi3u.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/rX4Gi3u.png\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003ENow. This explain THIS...\u003C/strong\u003E\u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/60126-LV-N-Engines-no-fuel-after-attachment-on-top\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/60126-LV-N-Engines-no-fuel-after-attachment-on-top\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDev please fix this...its not making sense with docking issues.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Kasuha\u003C/strong\u003E Excellent thread.\u003C/p\u003E\u003Cp\u003EPlease check on this, and specify in which rules that you describe?\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/60764-No-fuel-for-Engines\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/60764-No-fuel-for-Engines\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-02T02:40:59Z\u0022 title=\u002201/02/2014 02:40  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 2, 2014\u003C/time\u003E by Specialist290\u003C/strong\u003E\n\u003Cbr\u003EMerging sequential posts.\n\u003C/span\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-02T09:22:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sirine\u0022 data-cite=\u0022Sirine\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003ENow. This explain THIS...\u003C/strong\u003E\u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/60126-LV-N-Engines-no-fuel-after-attachment-on-top\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/60126-LV-N-Engines-no-fuel-after-attachment-on-top\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually I don\u0027t see how it explains your problems unless the girder became root part of the ship for some reason but I don\u0027t see any reason why that should happen.\u003C/p\u003E\u003Cp\u003EI remember I was trying to understand what happens with your ship but it\u0027s built with so much clipping that it\u0027s hard to get a clear picture about what is attached to what. I still don\u0027t know what caused that problem.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sirine\u0022 data-cite=\u0022Sirine\u0022\u003E\u003Cdiv\u003EPlease check on this, and specify in which rules that you describe?\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/60764-No-fuel-for-Engines\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/60764-No-fuel-for-Engines\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAll your experiments in that thread follow known rules IMO. They\u0027re mainly about Rule 7 and you just need to pay attention to what is parent and what is child in the hierarchy.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-01-02T15:33:54Z","Content":"\n\u003Cp\u003ENice explanation. \u003C/p\u003E\u003Cp\u003EIt\u0027s interesting that the order of fuel pipe placement can have that effect, I didn\u0027t expect that.\u003C/p\u003E\u003Cp\u003EYou should also note that while bi-, tri-, and quad-couplers don\u0027t normally allow fuel flow from the multiple connection side to the single connection side, this can be changed in the part .cfg file. There is a line in there specifically addressing this that can be removed (\u0022NoCrossFeedNodeKey = bottom\u0022). \u003C/p\u003E\u003Cp\u003EYour results may vary as I assume this line was included for a reason, but in my experience fuel usually flows without issue from multiple tanks when this line is removed. I assume you could also add that line to other parts, or change it the top node, if you want to alter fuel flow, of course you might also break things by doing that.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-02T17:27:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EYou should also note that while bi-, tri-, and quad-couplers don\u0027t normally allow fuel flow from the multiple connection side to the single connection side, this can be changed in the part .cfg file. There is a line in there specifically addressing this that can be removed (\u0022NoCrossFeedNodeKey = bottom\u0022). \u003Cp\u003EYour results may vary as I assume this line was included for a reason, but in my experience fuel usually flows without issue from multiple tanks when this line is removed. I assume you could also add that line to other parts, or change it the top node, if you want to alter fuel flow, of course you might also break things by doing that.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe guide is about stock parts, not about modded.\u003C/p\u003E\u003Cp\u003EThe reason for it was, I believe, to prevent engines on the end of one stack on the multiside to draw fuel from other stacks. It probably wouldn\u0027t cause any problems but it looks very strange if you have four stacks side by side and the engine on the end of one of them draws fuel from the three other stacks first and from its own stack last.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-02T22:52:10Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EExperiment: Docking port fuel transfer\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis experiment consists of three parts. First part investigates fuel transfer in docking ports which are not docked, but attached in VAB. Second part investigates fuel transfer in docked docking ports. Third part investigates fuel transfer in docking ports with fuel crossfeed disabled. In all three cases each docking port has one fuel tank axially connected, one fuel tank connected via fuel pipe and one engine connected via fuel pipe.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EPart 1: Fuel flow through docking ports attached in VAB.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDocking ports behave normally, i.e. their behavior corresponds to axial connection between them. As the engine draws fuel directly from the docking port, it first draws fuel from the tank attached to it via fuel pipe (\u003Cstrong\u003ERule 2\u003C/strong\u003E), then draws fuel through its axial connections (\u003Cstrong\u003ERule 4\u003C/strong\u003E), i.e. from the attached fuel tank and from the other docking port, which also first provides fuel from the tank behind fuel pipe and second provides fuel from its axially connected tank.\u003C/p\u003E\u003Cp\u003ESituation is symmetrical for both engines, meaning both docking ports behave identically.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/edbJd\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003EPart 2: Fuel flow through docked docking ports with fuel crossfeed enabled\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIn this case situation changes and can be best explained by two imaginary fuel pipes connecting the two docking ports.\u003C/p\u003E\u003Cp\u003EWhen an engine starts drawing fuel, it draws the fuel first from both fuel tanks connected to both docking ports via fuel pipe. This can be explained by both docking ports drawing fuel using \u003Cstrong\u003ERule 2\u003C/strong\u003E. When fuel from these fuel tanks is depleted, the engine starts drawing fuel from the tank axially attached to the other docking port. This can be explained by the engine\u0027s docking port drawing fuel still using \u003Cstrong\u003ERule 2\u003C/strong\u003E, but the other docking port already resorting to \u003Cstrong\u003ERule 4\u003C/strong\u003E. The tank axially mounted to the engine\u0027s docking port is drawn last.\u003C/p\u003E\u003Cp\u003ESituation is symmetrical for both engines, meaning again both docking ports behave identically and the \u0022imaginary fuel pipe\u0022 between them is in both ways.\u003C/p\u003E\u003Cp\u003EThe behavior also suggests the two docking ports still behave like two separate parts as for certain time each of them draws fuel using different rule.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/0NUc4\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003EPart 3: Fuel flow through docked docking ports with fuel crossfeed disabled\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhen fuel crossfeed is disabled, docking ports no longer draw fuel from their axially mounted tanks, but either engine still draws fuel from both tanks connected via fuel pipe to docking ports. Even though the \u0022disable crossfeed\u0022 action is only available on one docking port, both block their access to axially connected tanks so they both turn fuel crossfeed incapable. They can however still transfer fuel between each other using \u003Cstrong\u003ERule 2\u003C/strong\u003E.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/P80F4\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-02T23:01:44Z\u0022 title=\u002201/02/2014 11:01  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 2, 2014\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BraciaB","CreatedById":76267,"CreatedDateTime":"2014-01-03T02:19:30Z","Content":"\n\u003Cp\u003EGreat work Kasuha, great great work. I wish that devs will fix those issues with fual logic after the docking. I think that this thread, especially your experiments will help in that. I don\u0027t quite understand rule number 2. Could You explain that to me once again in simplier words? Thanks in advance.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-03T07:20:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BraciaB\u0022 data-cite=\u0022BraciaB\u0022\u003E\u003Cdiv\u003EI don\u0027t quite understand rule number 2. Could You explain that to me once again in simplier words? Thanks in advance.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERule 2 applies when there are fuel pipes ending in the part, i.e. when they are set up to \u0022pump fuel\u0022 into the part. The part looks up each part that is on the other (draining) end of the pipe and tries to get access to fuel from there. In the end the part makes a list of fuel tanks which are ready to provide fuel through either of those pipes and if it contains at least one fuel tank, it sends this list as a result. If no fuel is accessible this way, the part proceeds to using further rules.\u003C/p\u003E\n"},{"CreatedByName":"BraciaB","CreatedById":76267,"CreatedDateTime":"2014-01-03T10:32:51Z","Content":"\n\u003Cp\u003EOk, thanks for your answer. If arrows on fuel pipes on both pictures are pointing in the same direction, then why it\u0027s important which line was put first? In some cases this irregular draining of fuel may cause unstability and even one sweet kaboom or neverending rolling.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2014-01-03T11:59:47Z","Content":"\n\u003Cp\u003EWhat\u0027s important about it is that in the experiment (and in many real ship designs), the fuel is drawn from fuel tanks differently based on order in which pipes were installed. That\u0027s how it works. It\u0027s of course better to avoid having to deal with such nuances but if I\u0027m trying to provide comprehensive info I need to cover that, too.\u003C/p\u003E\n"},{"CreatedByName":"BraciaB","CreatedById":76267,"CreatedDateTime":"2014-01-03T12:49:31Z","Content":"\n\u003Cp\u003EOf course, It\u0027s very important to understand those rules. Sometimes people make mistakes designing their ship because they aren\u0027t aware of that, and thanks to this tutorial they\u0027ll understand what, where and why went wrong. Once again thanks for your help and work on that topic. Thanks to that next time I\u0027ll encounter a fuel flow problem I\u0027ll know how to solve it.\u003C/p\u003E\n"}]}