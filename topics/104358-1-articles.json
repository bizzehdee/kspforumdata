{"TopicId":104358,"ForumId":16,"TopicTitle":"Any way to correct for orbital instability due to math errors?","CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2015-04-18T04:54:05Z","PageNum":1,"Articles":[{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2015-04-18T04:54:05Z","Content":"I\u0027m in the process of setting up a Munar relay network for RT2 and have been running into lots of instability in my orbits, leading to my orbital periods dropping by as much as 20m / hr. I\u0027ve done some looking and the only explanation I\u0027ve been able to find is that this is due to floating point errors in the physics calculations when not on rails. I can accept this, but I\u0027m still left wondering how I can correct for these errors without having to babysit the network constantly. Would lower, faster orbits be affected less potentially (I\u0027ve set up for a 12 hour period, but I could half that without too much trouble), or should I just give up on the idea and set up leading / trailing relays as described in some RT2 guides. \n\nThanks.\n\nPS: Can someone explain to me why this is such an issue for the Mun, but is hardly noticeable, or even non-existent for Kerbin?\n\n**Edited \u003Ctime datetime=\u00222015-04-19T00:18:24Z\u0022 title=\u002204/19/2015 12:18  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 19, 2015\u003C/time\u003E by SpacedInvader**"},{"CreatedByName":"SalehRam","CreatedById":138066,"CreatedDateTime":"2015-04-18T05:23:50Z","Content":"I started to see some stuff similar to this with my objects orbiting the Mun, and I only guess the reason is due to its size maybe and other reasons related to it being an object circling another object in a solar orbit; I could be wrong, but that\u0027s how my mind understood the issue ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)...\n\nNot sure if even that will make sense but I usually don\u0027t give much work to get to some very specific orbit values around moons (this goes for Kerbin moons and the other planets as well), I only bother with orbits around planets, but for moons, I tend to make the orbital period as short as possible to compensate for this problem, and I tend to put 2 (external) satellites, one in high polar orbit, the other is high equatorial orbit, in addition to 3 or 4 satellites orbiting on low orbit around Mun, this give me usually 99.9% connectivity time to KSC.\n\n**Edited \u003Ctime datetime=\u00222015-04-18T05:25:52Z\u0022 title=\u002204/18/2015 05:25  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 18, 2015\u003C/time\u003E by SalehRam**"},{"CreatedByName":"Leszek","CreatedById":119053,"CreatedDateTime":"2015-04-18T06:59:07Z","Content":"I am always at least at 5x warp unless I need to be normal speed. When in time warp you are on rails and when on rails you don\u0027t deviate."},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-04-18T07:19:29Z","Content":"If you\u0027re not yet, try getting your satellites in to place and then edit your save file. Make sure they all have the same semi-major axis, and they\u0027ll all have an identical orbital period. \n\nThe thing with floating point numbers is that their precision varies depending on how large they are. This is pure speculation because I\u0027m not sure of the scale, but I suspect the smaller mass and orbits of the Mun just mean that small errors turn up in the calculations a lot more than they would for Kerbin."},{"CreatedByName":"Deutherius","CreatedById":125381,"CreatedDateTime":"2015-04-18T11:30:21Z","Content":"Could it be that you are trying to get the orbits perfectly circular (eccentricity as close to 0 as possible)? Because KSP doesn\u0027t like that very much, the orbit will constantly flip Ap and Pe around, and every rotation of the craft will induce changes to orbital period - the longer the orbital period, the more this will change it.\n\nIf so, try adding some eccentricity to your orbits (make them a little elliptical) - they are much more stable, and as others pointed out, you can keep the required orbital period the same just as easy, if not easier."},{"CreatedByName":"MarvinKitFox","CreatedById":99545,"CreatedDateTime":"2015-04-18T12:15:26Z","Content":"\u003E \n\u003E ... leading to my orbital periods dropping by as much as 20m / hr.\n\nYou are losing 20 minutes per hour?????????\n\nAfter all, when the measurement is \u0022period\u0022, thus elapsed time, the unit \u0022m\u0022 can only designate minute.\n\nBased on this info, and the clarity of the screenshot you supplied, I suggest you relax a bit and think about what you are actually asking.\n\nI suspect that you have misidentified your problem.\n\n**Edited \u003Ctime datetime=\u00222015-04-18T12:18:11Z\u0022 title=\u002204/18/2015 12:18  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 18, 2015\u003C/time\u003E by MarvinKitFox**"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2015-04-18T13:04:49Z","Content":"\u003E \n\u003E I am always at least at 5x warp unless I need to be normal speed. When in time warp you are on rails and when on rails you don\u0027t deviate.\n\nI too am often in time warp, but keeping it there permanently just isn\u0027t really feasible. I wonder, though, if craft that are being background processed in real time are still on rails or if they are getting physics calculations along with the active vessel.\n\n\u003E \n\u003E If you\u0027re not yet, try getting your satellites in to place and then edit your save file. Make sure they all have the same semi-major axis, and they\u0027ll all have an identical orbital period.\n\nI\u0027m currently trying this method, though I do consider it to be a little bit cheaty. I\u0027m hoping that I won\u0027t have to revisit this network for a while as a result though. \n\n\u003E \n\u003E Could it be that you are trying to get the orbits perfectly circular (eccentricity as close to 0 as possible)? Because KSP doesn\u0027t like that very much, the orbit will constantly flip Ap and Pe around, and every rotation of the craft will induce changes to orbital period - the longer the orbital period, the more this will change it.\n\u003E If so, try adding some eccentricity to your orbits (make them a little elliptical) - they are much more stable, and as others pointed out, you can keep the required orbital period the same just as easy, if not easier.\n\nI am indeed trying to get perfectly circular orbits for my relay networks, mostly because they look better that way, but also because minimal eccentricity is a requirement for the RT2 relay contracts. They want it to be less than 0.004 which doesn\u0027t leave much room for stability eccentricity, at least until the network is up an running long enough to fulfill the contract. If I keep having troubles, I might try adding a little eccentricity into the orbits to see if that stabilizes things.\n\n\u003E \n\u003E You are losing 20 minutes per hour?????????\n\u003E After all, when the measurement is \u0022period\u0022, thus elapsed time, the unit \u0022m\u0022 can only designate minute.\n\u003E \n\u003E Based on this info, and the clarity of the screenshot you supplied, I suggest you relax a bit and think about what you are actually asking.\n\u003E \n\u003E I suspect that you have misidentified your problem.\n\nI meant what I wrote. I had the first satellite in my Munar relay network in a circular orbit with a period of 12 hours. I then left my game running to do a few things around the house and after about an hour, I returned to find my orbital period had decayed to just under 11 hours and 40 minutes, leading to the statement that my orbital period was dropping by as much as 20m / hr."},{"CreatedByName":"Deutherius","CreatedById":125381,"CreatedDateTime":"2015-04-18T13:16:30Z","Content":"\u003E \n\u003E I meant what I wrote. I had the first satellite in my Munar relay network in a circular orbit with a period of 12 hours. I then left my game running to do a few things around the house and after about an hour, I returned to find my orbital period had decayed to just under 11 hours and 40 minutes, leading to the statement that my orbital period was dropping by as much as 20m / hr.\n\nSo... when you leave the satellite alone, stable (warp to 5x to stabilize and then go back to 1x), without any warping and without any input, your orbital parameters change constantly for no apparent reason? It could also be that you have some unbalanced differential forces in your vessel - like a Kraken drive, but weaker. In addition to perfectly circular orbits, this could lead to some pretty bizarre behaviour."},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2015-04-18T13:25:18Z","Content":"\u003E \n\u003E So... when you leave the satellite alone, stable (warp to 5x to stabilize and then go back to 1x), without any warping and without any input, your orbital parameters change constantly for no apparent reason? It could also be that you have some unbalanced differential forces in your vessel - like a Kraken drive, but weaker. In addition to perfectly circular orbits, this could lead to some pretty bizarre behaviour.\n\nThere shouldn\u0027t be any unbalanced forces that I\u0027m aware of, though that doesn\u0027t always mean that much in this game. After work today, I\u0027ll try launching new design out to the Mun to see if there is any difference."},{"CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2015-04-18T20:02:42Z","Content":"Another solution is to set up co-orbital satellites along the same orbit as the mun and with the same period. Even if the drift is 1m per day, it would take years to be captured if it\u0027s placed far enough away. Using a satellite that orbits around kerbin and which follows the same path as the mun (and as close an orbital period as you can get) will allow you to connect all satellites inside the mun\u0027s soi to kerbin pretty easily. Then inside the Mun you can set up satellites at different altitudes (as asynchronous as possible); that will allow you to have virtually everything connected 99.9% of the time. And if you ever do lose connection, it would only be for a couple of minutes... just plan around those outages. (They\u0027d be easy to spot because you\u0027d have all your satellites on the wrong side of the mun). If you set up a \u0022sister\u0022 to the first co-orbital satellite that orbits behind the mun instead of in front... you\u0027d have pretty much full coverage all the time (and then you\u0027d scarcely even need any commsat network inside the SOI at all)."},{"CreatedByName":"Leszek","CreatedById":119053,"CreatedDateTime":"2015-04-19T00:11:12Z","Content":"\u003E \n\u003E I too am often in time warp, but keeping it there permanently just isn\u0027t really feasible. I wonder, though, if craft that are being background processed in real time are still on rails or if they are getting physics calculations along with the active vessel.\n\nI agree it is less then ideal but it works. Regarding other craft, they are on rails unless they are within physics range. (2.5 heading out, 2.2 coming in)"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2015-04-19T00:17:45Z","Content":"\u003E \n\u003E Another solution is to set up co-orbital satellites along the same orbit as the mun and with the same period. Even if the drift is 1m per day, it would take years to be captured if it\u0027s placed far enough away. Using a satellite that orbits around kerbin and which follows the same path as the mun (and as close an orbital period as you can get) will allow you to connect all satellites inside the mun\u0027s soi to kerbin pretty easily. Then inside the Mun you can set up satellites at different altitudes (as asynchronous as possible); that will allow you to have virtually everything connected 99.9% of the time. And if you ever do lose connection, it would only be for a couple of minutes... just plan around those outages. (They\u0027d be easy to spot because you\u0027d have all your satellites on the wrong side of the mun). If you set up a \u0022sister\u0022 to the first co-orbital satellite that orbits behind the mun instead of in front... you\u0027d have pretty much full coverage all the time (and then you\u0027d scarcely even need any commsat network inside the SOI at all).\n\nThis is the method I\u0027ve used in the past multiple times. The problem is that the leading / trailing relays leave a small section on the surface and the poles without coverage. This is easy enough to account for, but I had hoped to get something a little more effective into place this time since I\u0027m planning on really building up my Mun presence in this save.\n\n\u003E \n\u003E I agree it is less then ideal but it works. Regarding other craft, they are on rails unless they are within physics range. (2.5 heading out, 2.2 coming in)\n\nThis is good to know, at least if I\u0027m able to get them into a decent position with a controlled orbital period I can leave them there indefinitely without them decaying."},{"CreatedByName":"MarvinKitFox","CreatedById":99545,"CreatedDateTime":"2015-04-19T12:11:30Z","Content":"\u003E \n\u003E ...I had the first satellite in my Munar relay network in a circular orbit with a period of 12 hours. I then left my game running to do a few things around the house and after about an hour, I returned to find my orbital period had decayed to just under 11 hours and 40 minutes, leading to the statement that my orbital period was dropping by as much as 20m / hr.\n\nthere are just 2 possibilities.\n\n1) you used throttle-down to stop your propulsion, and stopped on 0.0001% throttle.\n\n2) you own a cat.\n\nLosing 20 minutes off a 12-hour orbit, in just one hour elapsed time, is a very energetic action. At that rate, you would achieve Kerbol escape velocity in a week."}]}