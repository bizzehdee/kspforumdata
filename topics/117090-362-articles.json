{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":362,"Articles":[{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2018-12-15T17:35:15Z","Content":"\u003E \n\u003E \n\u003E On 12/11/2018 at 5:54 AM, eagle92lightning said:\n\u003E \n\u003E \n\u003E Thanks, the only problem is I need them to work with SSTU because I am working on a Deep Space Launch Vehicle or DSLV for short.\n\u003E \n\nNertea has a great looking one in CryoEngines. I believe it uses the same fuel ratio as sstu H2 engines."},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2018-12-18T11:00:41Z","Content":"Is anyone else having problems with the modular heat shield upgrade nodes?"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-12-18T14:11:57Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Sudragon said:\n\u003E \n\u003E \n\u003E Is anyone else having problems with the modular heat shield upgrade nodes?\n\u003E \n\nI had an issue, yes. Career was borked, and not by SSTU. I set up a career with tech tree set to pay funds, and then I stopped getting upgrades, even when paid for."},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2018-12-19T03:15:41Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, tater said:\n\u003E \n\u003E \n\u003E I had an issue, yes. Career was borked, and not by SSTU. I set up a career with tech tree set to pay funds, and then I stopped getting upgrades, even when paid for.\n\u003E \n\nEverything else works fine, just no size upgrades for the heat shield."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-12-19T03:34:10Z","Content":"Mine all updated when I unlocked that 10m inflatable heat shield."},{"CreatedByName":"pap1723","CreatedById":148945,"CreatedDateTime":"2018-12-19T17:04:47Z","Content":"Hi [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/),\n\nI have been looking through the code for SSTUModularEngineCluster to try and determine how you are setting up the clusters. We love your models and the lower part count is great, but we use TestFlight and it treats each cluster as a single engine. In looking at the code, is there a way that we could hook into it and eseentailly see each engine model as it\u0027s own engine? We want to allow one engine in a cluster to fail and if it does, it would obviously provide off-centered thrust. Any help you can give us would be great!"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-12-19T17:36:03Z","Content":"\u003E \n\u003E \n\u003E 24 minutes ago, pap1723 said:\n\u003E \n\u003E \n\u003E Hi [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/),\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have been looking through the code for SSTUModularEngineCluster to try and determine how you are setting up the clusters. We love your models and the lower part count is great, but we use TestFlight and it treats each cluster as a single engine. In looking at the code, is there a way that we could hook into it and eseentailly see each engine model as it\u0027s own engine? We want to allow one engine in a cluster to fail and if it does, it would obviously provide off-centered thrust. Any help you can give us would be great!\n\u003E \n\nI brought up this issue a long time ago because of Stage Recovery asking for a publicly accessible field but he declined. He posted an alternate solution here to be implemented in whatever mod might need to know correct engine thrust in the module\n\nThere were TWO suggestions; I recall having an issue with one of them as being likely to be unworkable. The other one probably would work. I didn\u0027t pursue either of them as I was a bit bummed out at mod inter-compatibility in general at the time (and trying to get those issues corrected with other modders) and decided not pursue the issue further as it involved two separate modders for two mods that were not my own.\n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4492922636\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/117090-wip15x-sstulabs-low-part-count-solutions-orbiters-landers-lifters-dev-thread-11-18-18/\u0026do=embed\u0026comment=3381384\u0026embedComment=3381384\u0026embedDo=findComment\u0022 style=\u0022height:278px;max-width:502px;\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"pap1723","CreatedById":148945,"CreatedDateTime":"2018-12-19T17:50:40Z","Content":"\u003E \n\u003E \n\u003E 14 minutes ago, Starwaster said:\n\u003E \n\u003E \n\u003E I brought up this issue a long time ago because of Stage Recovery asking for a publicly accessible field but he declined. He posted an alternate solution here to be implemented in whatever mod might need to know correct engine thrust in the module\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E There were TWO suggestions; I recall having an issue with one of them as being likely to be unworkable. The other one probably would work. I didn\u0027t pursue either of them as I was a bit bummed out at mod inter-compatibility in general at the time (and trying to get those issues corrected with other modders) and decided not pursue the issue further as it involved two separate modders for two mods that were not my own.\n\u003E \n\nThank you for pointing me there."},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2018-12-19T20:35:39Z","Content":"[@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) I have an issue with the F-1 and the J-2. There is only a black texture.\n\n![Oo1HdKg.png](https://i.imgur.com/Oo1HdKg.png)\n\nIt\u0060s only this two engines. All others are fine.  \n\nKSP 1.5.1, no -force-d3d11 or -force-glcore because I use a rescaled version of the Kerbol-System and DX11 or GL-Core have issues with rescaling (black ground textures and other issues).\n\nLog:  \n[https://www.file-upload.net/download-13438441/KSP.log.html](https://www.file-upload.net/download-13438441/KSP.log.html)"},{"CreatedByName":"Theysen","CreatedById":144656,"CreatedDateTime":"2018-12-19T21:56:53Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Cheesecake said:\n\u003E \n\u003E \n\u003E [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) I have an issue with the F-1 and the J-2. There is only a black texture.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![Oo1HdKg.png](https://i.imgur.com/Oo1HdKg.png)](https://i.imgur.com/Oo1HdKg.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It\u0060s only this two engines. All others are fine.  \n\u003E \n\u003E KSP 1.5.1, no -force-d3d11 or -force-glcore because I use a rescaled version of the Kerbol-System and DX11 or GL-Core have issues with rescaling (black ground textures and other issues).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Log:  \n\u003E [https://www.file-upload.net/download-13438441/KSP.log.html](https://www.file-upload.net/download-13438441/KSP.log.html)\n\u003E \n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E Requirements:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E TexturesUnlimited currently requires the use of the either the DirectX11 or OpenGL-Core graphics API.  This may be activated by using the \u0027-force-glcore\u0027 command line option to launch KSP.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Other graphics APIs will \u0027work\u0027 (DX9, legacy GL), but *will* have rendering errors.\n\u003E \n\n^ From the TexturesUnlimited thread op, which you most likely installed during SSTU installation.\n\nYou have to use DX11 or GL, unfortunately."},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2018-12-20T09:06:08Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, Theysen said:\n\u003E \n\u003E \n\u003E ^ From the TexturesUnlimited thread op, which you most likely installed during SSTU installation.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You have to use DX11 or GL, unfortunately.\n\u003E \n\nI know this. But: there are only issues with this two engines. all others works fine. Also Tanks and Pods and all the other parts works."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-12-20T14:09:21Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Cheesecake said:\n\u003E \n\u003E \n\u003E I know this. But: there are only issues with this two engines. all others works fine. Also Tanks and Pods and all the other parts works.\n\u003E \n\nThey might look like they render fine to you (and obviously things like cube maps and reflections are working for you) but those look a lot shinier than they would be under DX11.  In fact, I find that it\u0027s impossible to get specularity right when using the recolor option because everything has a plasticky sheen to it. You\u0027re really better switching to DX11 or OGL"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-12-20T14:33:46Z","Content":"The 2 engines is a known issue, there are lots of parts, and he thinks those 2 got missed merging PBR with the new DL."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-12-20T14:57:00Z","Content":"\u003E \n\u003E \n\u003E 18 hours ago, Cheesecake said:\n\u003E \n\u003E \n\u003E [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) I have an issue with the F-1 and the J-2. There is only a black texture.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It\u0060s only this two engines. All others are fine.  \n\u003E \n\u003E KSP 1.5.1, no -force-d3d11 or -force-glcore because I use a rescaled version of the Kerbol-System and DX11 or GL-Core have issues with rescaling (black ground textures and other issues).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Log:  \n\u003E [https://www.file-upload.net/download-13438441/KSP.log.html](https://www.file-upload.net/download-13438441/KSP.log.html)\n\u003E \n\nAs others have pointed out, it is a known issue;  I missed a couple of patches for those engines in the last update.\n\nThanks for including the log file though; wish more people took the time to do that when posting about issues ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n\u003E \n\u003E \n\u003E 21 hours ago, pap1723 said:\n\u003E \n\u003E \n\u003E Hi [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/),\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have been looking through the code for SSTUModularEngineCluster to try and determine how you are setting up the clusters. We love your models and the lower part count is great, but we use TestFlight and it treats each cluster as a single engine. In looking at the code, is there a way that we could hook into it and eseentailly see each engine model as it\u0027s own engine? We want to allow one engine in a cluster to fail and if it does, it would obviously provide off-centered thrust. Any help you can give us would be great!\n\u003E \n\nAs [@Starwaster](https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/) mentioned, it has been brought up before.  Its not so much that \u0027I declined\u0027 adding such a feature... but that such a feature would be extremely difficult to add, likely taking weeks of development time, and is not a feature that I would ever use.  Weighing that against the features that I *will* use, and the outstanding bugs that need fixing, and it wasn\u0027t hard to see where best I should spend my time.\n\nIf someone would like to submit a PR for such a feature/addition, I would more than likely include it.  But it is not something that I will be spending my (extremely limited) modding time on in the foreseeable future.  The difficulty isn\u0027t necessarily with SSTU\u0027s engine-clustering code -- the difficulty is with the stock engine module (and the fact that you can only *effectively* have one engine module per part).  In theory you shouldn\u0027t need to touch SSTUs code to do what you are requesting;  hook into the engine module and manipulate its internals."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-12-20T16:29:17Z","Content":"[@pap1723](https://forum.kerbalspaceprogram.com/index.php?/profile/148945-pap1723/) is everything you need to do ONLY in-flight? (I wasn\u0027t clear on that and maybe misunderstood) If so then maybe what you really need to look at is the engine\u0027s thrustTransformMultipliers; it\u0027s a list that is as long as the number of thrust tranforms and by default each one\u0027s value is (1/number of thrust transforms). One caveat there is that the engine\u0027s thrust transform multipliers can be changed via config. Not many mods make use of that feature but SSTU does for a few engines. (I think to simulate open cycle gas generator engines?)\n\nIf you zero out one of the thrustTransformMultipliers elements that would have the effect of that engine failing. Or you could set it to some arbitrarily low value depending on what sort of failure you want. As I mentioned above, some of SSTU\u0027s engines do change the transform multipliers so each \u0027individual\u0027 engine might have multiplies and you\u0027d have to zero all of them as a set. (so you\u0027d have to figure out which elements of the thrustTransformMultipliers list constituted an entire engine)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-12-20T17:10:21Z","Content":"\u003E \n\u003E \n\u003E 38 minutes ago, Starwaster said:\n\u003E \n\u003E \n\u003E [@pap1723](https://forum.kerbalspaceprogram.com/index.php?/profile/148945-pap1723/) is everything you need to do ONLY in-flight? (I wasn\u0027t clear on that and maybe misunderstood) If so then maybe what you really need to look at is the engine\u0027s thrustTransformMultipliers; it\u0027s a list that is as long as the number of thrust tranforms and by default each one\u0027s value is (1/number of thrust transforms). One caveat there is that the engine\u0027s thrust transform multipliers can be changed via config. Not many mods make use of that feature but SSTU does for a few engines. (I think to simulate open cycle gas generator engines?)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If you zero out one of the thrustTransformMultipliers elements that would have the effect of that engine failing. Or you could set it to some arbitrarily low value depending on what sort of failure you want. As I mentioned above, some of SSTU\u0027s engines do change the transform multipliers so each \u0027individual\u0027 engine might have multiplies and you\u0027d have to zero all of them as a set. (so you\u0027d have to figure out which elements of the thrustTransformMultipliers list constituted an entire engine)\n\u003E \n\nPretty much this ^^\n\nSSTU doesn\u0027t touch the thrust-transform multipliers after it has set up the model and engine-module initially (when vessel/parts are first loaded).  It *should* be safe to manually adjust these values to simulate engine failure modes.  As noted though -- some of SSTU\u0027s engines have multiple thrust transforms in a single engine (notably the multi-nozzle engines and those with pump-exhaust roll control), so some special handling would be needed for those."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-12-20T17:49:35Z","Content":"\u003E \n\u003E \n\u003E 37 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Pretty much this ^^\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E SSTU doesn\u0027t touch the thrust-transform multipliers after it has set up the model and engine-module initially (when vessel/parts are first loaded).  It *should* be safe to manually adjust these values to simulate engine failure modes.  As noted though -- some of SSTU\u0027s engines have multiple thrust transforms in a single engine (notably the multi-nozzle engines and those with pump-exhaust roll control), so some special handling would be needed for those.\n\u003E \n\nI haven\u0027t looked at how you handle that but unless you\u0027re doing anything weird it should be easy to extract the groups... it would probably end up internally as something like transform0, transform1, transform0, transform1, wouldn\u0027t it? (where transform0 would be the main thrust transform and transform1 being the pump exhaust?)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-12-20T17:54:18Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Starwaster said:\n\u003E \n\u003E \n\u003E I haven\u0027t looked at how you handle that but unless you\u0027re doing anything weird it should be easy to extract the groups... it would probably end up internally as something like transform0, transform1, transform0, transform1, wouldn\u0027t it? (where transform0 would be the main thrust transform and transform1 being the pump exhaust?)\n\u003E \n\nPretty much yes - they are grouped by the \u0027engine\u0027.  So if an engine has 3 transforms, and you have 4 engines in the cluster, the transform mult. list should look like.  But in order to process it correctly you *will* need to know the layout of the original engine (how many tr\u0027s there are, which one is the \u0027main\u0027 transform).\n\ntr[0] = engine[0]:tr[0]  \n\ntr[1] = engine[0]:tr[1]  \n\ntr[2] = engine[0]:tr[2]  \n\ntr[3] = engine[1]:tr[0]  \n\ntr[4] = engine[1]:tr[1]  \n\ntr[5] = engine[1]:tr[2]  \n\ntr[6] = engine[2]:tr[0]  \n\ntr[7] = engine[2]:tr[1]  \n\ntr[8] = engine[2]:tr[2]  \n\ntr[9] = engine[3]:tr[0]  \n\ntr[10] = engine[3]:tr[1]  \n\ntr[11] = engine[3]:tr[2]"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-12-20T18:58:41Z","Content":"Huh, well apparently SQUAD did another un-announced / un-scheduled game update.\n\nIn short -- I have no idea if/when I\u0027ll be able to get SSTU updated for 1.6.  It will be awhile.  I have things planned and in the works from now up until midway through January, which is when this updated was *supposed* to be released.  Will be at least until then before I will be able to do even a basic recompile of SSTU or any of my other mods. \n\nSo sick of the inconsistent update schedules, and lack of any actual *schedule.*  Why announce a 3-month update timing pattern... and then not stick to it for even the first update?  Like what?  How am I supposed to schedule my work if I can\u0027t rely on *their* announced schedules being followed?"},{"CreatedByName":"Damon","CreatedById":162728,"CreatedDateTime":"2018-12-20T20:51:22Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Huh, well apparently SQUAD did another un-announced / un-scheduled game update.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In short -- I have no idea if/when I\u0027ll be able to get SSTU updated for 1.6.  It will be awhile.  I have things planned and in the works from now up until midway through January, which is when this updated was *supposed* to be released.  Will be at least until then before I will be able to do even a basic recompile of SSTU or any of my other mods. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So sick of the inconsistent update schedules, and lack of any actual *schedule.*  Why announce a 3-month update timing pattern... and then not stick to it for even the first update?  Like what?  How am I supposed to schedule my work if I can\u0027t rely on *their* announced schedules being followed?\n\u003E \n\nI totally agree. Even more annoying is that I found 5 new bugs within the first 5 min of playing the new update.. I\u0027m actually just pretty sissed about it. \n\n**Edited \u003Ctime datetime=\u00222018-12-20T20:51:46Z\u0022 title=\u002212/20/2018 08:51  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 20, 2018\u003C/time\u003E by damonvv**"},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2018-12-20T22:49:16Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, damonvv said:\n\u003E \n\u003E \n\u003E I totally agree. Even more annoying is that I found 5 new bugs within the first 5 min of playing the new update.. I\u0027m actually just pretty sissed about it.\n\u003E \n\nI\u0027m so glad I don\u0027t play on the Steam directory version of the game."},{"CreatedByName":"Dermeister","CreatedById":41487,"CreatedDateTime":"2018-12-21T00:55:08Z","Content":"Using KSP 1.3.1 with the SSTU-0.7.39.149 mod when I go to connect the Habitat parts any of them to my ship the part disappears and makes the node disappear then the part reappears  floating in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E not attached. IS it a known bug? what would I have to do to get help to fix this?"},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2018-12-21T06:29:16Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Dermeister said:\n\u003E \n\u003E \n\u003E Using KSP 1.3.1 with the SSTU-0.7.39.149 mod when I go to connect the Habitat parts any of them to my ship the part disappears and makes the node disappear then the part reappears  floating in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E not attached. IS it a known bug? what would I have to do to get help to fix this?\n\u003E \n\nI had this issue too yesterday in KSP 1.5.1. After reinstalling SSTU it worked fine."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-12-21T06:59:09Z","Content":"Hey, [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/)\n\n![YBoNaV2.png](https://i.imgur.com/YBoNaV2.png)\n\nThis is in 1.6. Seems to work fine. Maybe something is broken, someplace that I didn\u0027t notice... the stock \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E readout was certainly off (said the SM had 55m/s, and it\u0027s full of hypergolic), but past that... works as far as I could quickly tell.\n\n**Edited \u003Ctime datetime=\u00222018-12-21T13:49:02Z\u0022 title=\u002212/21/2018 01:49  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 21, 2018\u003C/time\u003E by tater**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-12-21T16:03:24Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, tater said:\n\u003E \n\u003E \n\u003E Hey, [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![YBoNaV2.png](https://i.imgur.com/YBoNaV2.png)](https://i.imgur.com/YBoNaV2.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This is in 1.6. Seems to work fine. Maybe something is broken, someplace that I didn\u0027t notice... the stock \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E readout was certainly off (said the SM had 55m/s, and it\u0027s full of hypergolic), but past that... works as far as I could quickly tell.\n\u003E \n\nGood to know -- thanks for the info.  I figured there likely wasn\u0027t going to be *much* breakage with the new update with SSTU -- I\u0027m more concerned with the stock \u0027in flight reflection updates\u0027 and how much pain that is going to cause for TU.  Every time stock touches their shaders/rendering, I end up spending two months cleaning up their mess.\n\nJudging by your screenshots it looks like it didn\u0027t *break* anything in TU, which is great news.  At least I (hopefully) won\u0027t have to spend a ton of time cleaning up the stock issues, though I\u0027ll certainly have to play around with the stock reflection update stuff to see if/how it works (and how broken it is with mods in play, and if it even does convolution correctly)."}]}