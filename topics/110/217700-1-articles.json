{"TopicId":217700,"ForumId":110,"TopicTitle":"Developer Insights #20 - Here there be Drag(ons)","CreatedByName":"Intercept Games","CreatedById":210281,"CreatedDateTime":"2023-06-15T16:55:00Z","PageNum":1,"Articles":[{"CreatedByName":"Intercept Games","CreatedById":210281,"CreatedDateTime":"2023-06-15T16:55:00Z","Content":"\n\u003Cp\u003E\nHello! My name is Chris Adderley, a designer on the KSP2 team. If you\u2019ve been around the community for a while, you may recognize my alias of Nertea from a few mods for KSP1 I have made.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAt Nate\u0027s request, I wrote up a description of how we tracked down a frustratingly resilient community-reported drag bug from KSP Forum user FlazeTheDragon for one of our Friday updates. It became slightly long, so we decided to make it a dedicated dev blog entry. It\u2019s long because well, this was a complex bug to track down!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo describe the bug, how it was found, and how it was sorted, I have to give a little primer on the KSP2 drag model and how it works with respect to parts and aerodynamic occlusion - so buckle up.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOur drag model is very similar to KSP1\u0027s, where a part\u0027s aerodynamic properties depend on what we call the drag cube. This is a representation of what a part looks like in terms of aerodynamics from 6 orthogonal directions - front, back, top, bottom, left and right. Hence, a cube! We can project the direction of airflow onto this cube to get an approximation of what the air would \u0027see\u0027 and, therefore, what drag to apply. Drag cubes are calculated by rendering the parts\u0027 visuals using special shaders - they give us information about the part\u0027s area (white), bumpiness (green), and depth (red), for each of these directions.\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022778\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.41a429073eac04f45805b5162cfd1224.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022778\u0022 data-ratio=\u002228.17\u0022 data-unique=\u0022tjl5cyqu9\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.d672b71b702f64353e385fbfacda256d.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EDrag cube renderings for the Size M conical command pod.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWe can aggregate these views to create three sets of six values \u2013 the drag cube itself. This is a very computationally efficient way to store a lot of information about the part. It\u2019s a versatile dataset \u2013 besides aerodynamics, we can use this to get things like the dimensions of the pod, the displacement of the pod, etc.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 href=\u0022https://kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.961aeb3a2a7622422d6aaa9b2eeeb7c6.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022779\u0022 data-ratio=\u0022120.33\u0022 data-unique=\u0022e10f47gu2\u0022 style=\u0022width: 600px; height: auto;\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.dfdf36ab7d96e45dbfe35abef2e547ea.png\u0022\u003E\u003C/a\u003E\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:10px;\u0022\u003EDrag cube data for the Size M conical command pod\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo, a single drag cube is good for a part in isolation, but for a part that\u0027s attached to other parts, we need to determine how much of the part is actually exposed to the air (and eventually the airflow). That\u0027s the truly relevant part for calculating drag. Parts that are fully occluded by another part should effectively be invisible to airflow from that direction. You can think of this if you consider a fuel tank behind a cockpit traveling towards the pointy end of the vessel. If that assembly of parts is flying through the air, there should be no drag from the surfaces that connect the two parts.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022780\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.812f089a0e8da47363787213f45c411b.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022780\u0022 data-ratio=\u002239.58\u0022 data-unique=\u0022q2wxb23yn\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.cbd8934898229c3b730ff69710803168.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003ESchematic example of how we\u0027d expect a vessel made of 3 parts to behave with respect to the occlusion of each of its faces\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nTo calculate this occlusion, we use the area component of both parts\u0027 drag cubes, which can give us the area of parts from various directions. Take two parts from the above image, Part 1 (the fuel tank) and Part 2 (the command pod), that are connected. We look at the connection direction and modify each part\u0027s drag cube areas. We subtract the area of Part 1 in the \u002BY direction from the area of Part 2 in the -Y. We do the same in the opposite direction subtract the area of Part 2 in the -Y direction from the area of Part 1 in the \u002BY direction. This gives us a very simple way of approximating occlusion. If both parts are Size S, for example, the area through the connection becomes zero. If one part is Size S and one part is Size M, the Size S part will be completely shielded by the size M part, but the reverse is not true.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022781\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.1fe81958e8e5d08447240e9c3d177663.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022781\u0022 data-ratio=\u002250.25\u0022 data-unique=\u0022fqxhgssse\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.f7e4994d2f79d93bb8d27271bda2508a.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003ESchematic example of subtracting drag cube Y\u002B and Y- faces for same-size parts, in two airflow directions\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022782\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.41d7f040f1e430ab42445df2831d2cb9.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022782\u0022 data-ratio=\u002246.25\u0022 data-unique=\u0022tciepiic4\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.84c8ef2a59afb1b2f71e83890d6d3003.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003ESchematic example of subtracting drag cube Y\u002B and Y- faces for different-size parts, in two airflow directions\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI think that\u2019s what you need to know about the basics of drag and occlusion. On to the bug!\n\u003C/p\u003E\n\u003Cp\u003E\nWe had community reports that were replicated by internal QA that some parts, like stacked decouplers, were affecting the aerodynamic performance of planes and creating too much drag. Planes that seemed like they should go fast went\u2026 slow. Exciting stuff - it\u0027s time for a bug hunt.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf adding a part to a plane creates too much drag, maybe that part itself has too much drag. We have tools to automatically create drag cubes, and sometimes we tune them manually. That\u0027s the first point of investigation for the team. Looking specifically at per-part drag readouts, we didn\u0027t find that the parts described in the bugs had any kind of anomalous drag values in isolation. Things looked in-line with what we\u2019d expect. In addition, we couldn\u0027t reproduce these issues with rockets. This issue only really showed up when looking at planes. Planes are frustrating for me as a developer as I\u0027m a garbage pilot and reproducing airspeed/velocity conditions reported in bugs takes me quite a while! That KSP2 pause button sure is useful\u2026\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, eliminating general drag as a problem was a good first step. The next step would be identifying whether something was wrong with the occlusion system - but only for very specific parts. Hmm. Some of the specific parts identified were visually hollow tubes. Hollow tubes are a challenge for the drag occlusion system. Reading through my quick description of occlusion above, you might be able to see why, but let\u2019s get into that.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022783\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.c5e55b25827d7c104bf28a8152ba7c6d.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022783\u0022 data-ratio=\u002238.58\u0022 data-unique=\u002296cc2onvj\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.4bbcde61dc7aa6d7ed3973fd9798236e.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EHow a hollow part behaves by default in the KSP2 drag model to show how it doesn\u2019t appropriately occlude the part below it\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe drag cubes for hollow parts are, well, hollow by default! When we go to subtract the cross-sectional areas in a connection, the hollow part has a tiny cross-sectional area, and so won\u0027t appropriately shield the next part in the stack. This is fine if the hollow part is first, but if it is in a stack with something else atop it, we want it to occlude properly.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 href=\u0022https://kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/dragrocket5.png.47deee7fce4d736a10f14de0322209c7.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022drag rocket 5.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022784\u0022 data-ratio=\u002267.89\u0022 data-unique=\u00228cn6vkeg8\u0022 style=\u0022width: 900px; height: auto;\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/dragrocket5.thumb.png.8d330f39f434bf9d991c8484d112edc0.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003E\u201CFilling in\u201D hollow parts to allow them to shield parts behind them\u003C/span\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWe solve this in KSP2 by manually adjusting the drag cube areas of hollow parts: they appear opaque in cross section and so subtract appropriately. It\u0027s a dirty fix, but it works.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, decouplers are hollow. Some of the other parts reported with this bug are hollow. IDEA. Perhaps it\u0027s our process for manually adjusting this for those specific parts that is causing the problem. This caused a multi-day Chris wild goose chase of frustration and tweaking tiny numbers to no real solution. A clever reader might also realize something from the initial report that makes this avenue of investigation kinda silly in hindsight - if this was the problem, we should have seen this with rockets too, not just planes.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEventually while examining the results of the wild goose chase, we looked specifically at the cross-sectional areas used for calculating occlusion and noticed an \u0022interesting\u0022 discrepancy when considering certain parts. Let\u0027s look at this closely:\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u202F\u00A0\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022786\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.2ff3109f37c6859daa0a3c4ff1f7a6d3.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022786\u0022 data-ratio=\u002239.17\u0022 data-unique=\u0022o2ka252t8\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.8628f39610c079f72a157fad32a052b7.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EIn this image you get to experience some internally famous \u2018Chris paintovers\u2019, terrible MS paint scrawls trying desperately to get a point across.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn the above image, I debugged the cross-sectional area for all the part connections on a demo \u2018plane\u2019. I noticed that the cross-sectional areas for the green and red highlighted parts were a little off. When looking at the green part, the game thinks that it has a cross sectional area of 1.19m\u003Csup\u003E2\u003C/sup\u003E. This is\u2026 close to what it should be. But these parts have a radius of 0.625m\u003Csup\u003E2\u003C/sup\u003E. That number should be closer to 1.23m\u003Csup\u003E2\u003C/sup\u003E. Suspicious. The real problem is evident by looking at the blue part.\u00A0 The game thinks it has a cross sectional area of 2.38m\u003Csup\u003E2\u003C/sup\u003E. That is far too much area - again, it should be 1.23m\u003Csup\u003E2\u003C/sup\u003E. This provided a reasonable area of investigation. I tried the same approach but with one of the problematic parts from the bug report - the size S decoupler.\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022785\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.941086f4668fdbf4c613a0736678cf5b.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022785\u0022 data-ratio=\u002238.58\u0022 data-unique=\u0022qvhsgszwb\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.01b62d361bc984d520767752cd715cb6.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EMore live occlusion values\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWell, this is just plain wrong. The game thinks this connection between the decoupler and tank (in red) has a cross sectional area of 0.191 m\u003Csup\u003E2\u003C/sup\u003E. Jackpot! If this area is wrong, then the fuel tank \u0027behind\u0027 the decoupler will not be correctly shielded at all from airflow - the game thinks there\u0027s only 0.191m\u003Csup\u003E2\u003C/sup\u003E occluding the tank\u0027s cross-sectional area of 1.23m\u003Csup\u003E2\u003C/sup\u003E. If this \u0027plane\u0027 flies forward, the game will act like there\u0027s a 1.03m\u003Csup\u003E2\u003C/sup\u003E blunt front-fuel tank surface into the airstream and create significantly more drag.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 href=\u0022https://kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.6886cf0c6083c7d016834e2c5fa679c9.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022787\u0022 data-ratio=\u002243.00\u0022 data-unique=\u00225xt4kelz6\u0022 style=\u0022width: 600px; height: auto;\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.5734e7b2b8e4260e150f517a8739a17e.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EDrag Cube areas for the Size S decoupler\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOk, great. So where\u0027s the problem? Well, let\u0027s look at the drag cube for the Size S decoupler. Any of those elements look familiar? The first two and last two numbers are the area from the top, bottom, right and left of the part. The middle two entries (front/back) should be the ones we\u0027re using for the decoupler - but we\u0027re actually using the bottom two. Nailed it down - that\u0027s the core of the bug.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022788\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.dc0365ca8493c7dd808edd6dcc6887fe.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022788\u0022 data-ratio=\u002246.25\u0022 data-unique=\u0022d8dxipjm4\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.94c6029dec336f3880fdd60035f2a064.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EWhat we\u2019d expect for post-occlusion drag (left) versus what we were getting (right)\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt turns out that when we calculate cross-sectional area in craft orientations that aren\u0027t purely vertical (like planes) we calculate drag occlusion incorrectly - we use the wrong face of the attached part\u0027s drag cube. This has pretty strong implications that depend on the length and size of the parts you\u0027d use in a plane\u0027s stack.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf a long part was in front of a short part, everything would appear fine. We\u0027d be using the \u2018side view\u2019 of the long part with a large area, and that would be pretty good at occluding stuff (though actually TOO good). However, if you had a short part in front, additional drag would be introduced - not only because you\u0027d not be occluding properly, but because that un-occluded area would be very un-aerodynamic!\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022789\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.3903916f653441f1692435b22e185ef8.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022789\u0022 data-ratio=\u002230.17\u0022 data-unique=\u0022dnvmj5vff\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.82237f1aa1638d33f9058a7df16d770a.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EA silly example of what we\u2019d see (left) versus what the occlusion model would see (right). In this case you get too much drag, because there\u2019s not enough occlusion\u00A0\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 data-fileext=\u0022png\u0022 data-fileid=\u0022790\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.png.796a0567156d80d257a3f709d061c05b.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022790\u0022 data-ratio=\u002230.67\u0022 data-unique=\u0022yk6k5ct9x\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_06/image.thumb.png.f755a5a2f6859b831a0c7aed5327f82d.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align: center;\u0022\u003E\n\u003Cspan style=\u0022font-size:11px;\u0022\u003EA second example of what we\u2019d see (left) versus what the occlusion model would see (right). In this case you actually don\u2019t get as much drag, because that Mk2 tank is occluding the Mk3 tank too much\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s enough information for an engineer to develop a fix. In this case, the fix for the issue only needed 2 lines of code, which was great. Identifying the issue and narrowing down the exact cause was the harder part of this bug.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNow, this isn\u0027t to say that drag issues are all solved in KSP2. But hopefully this provides a nice little tidy look at the somewhat messy process of going from a bug spotted by an eagle-eyed community member all the way to something we can fix.\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Clayel","CreatedById":223206,"CreatedDateTime":"2023-06-15T17:08:00Z","Content":"\n\u003Cp\u003E\ndoes this title make anyone else think of scp-1762?\n\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2023-06-15T17:17:07Z","Content":"\n\u003Cp\u003E\nSome comments removed. Stick to the topic, please.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"DibzNr","CreatedById":212219,"CreatedDateTime":"2023-06-15T17:17:24Z","Content":"\n\u003Cp\u003E\nThis was a really insightful read, glad this bug\u0027s been sorted\n\u003C/p\u003E\n"},{"CreatedByName":"FlazeTheDragon","CreatedById":226996,"CreatedDateTime":"2023-06-15T17:29:48Z","Content":"\n\u003Cp\u003E\nThat was a pretty interesting read.\n\u003C/p\u003E\n\u003Cp\u003E\nGlad to see its finally getting solved \u003Cspan\u003E:p\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EWill this also fix cargobays not shielding their contents from drag, or is that a separate issue?\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-06-15T17:30:01Z","Content":"\n\u003Cp\u003E\nLast time I heard that devs hate QA because they give them more work to do\n\u003C/p\u003E\n"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2023-06-15T17:54:24Z","Content":"\n\u003Cp\u003E\nInteresting and understandable!\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAsking a question, IIRC, \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E in KSP1 does similar but for the whole craft at a time, so it is the forward facing whole face of the craft in direction of travel.\u00A0 Is there a reason this approach wasn\u0027t used for KSP2?\n\u003C/p\u003E\n"},{"CreatedByName":"The Space Peacock","CreatedById":224498,"CreatedDateTime":"2023-06-15T18:22:39Z","Content":"\n\u003Cp\u003E\nAlways great to get a bit of insight into how bugs like this one are identified and handled. Thanks Chris!\n\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2023-06-15T18:26:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224292915\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686848100\u0022 data-ipsquote-userid=\u0022210281\u0022 data-ipsquote-username=\u0022Intercept Games\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Intercept Games said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn this case, the fix for the issue only needed 2 lines of code, which was great. Identifying the issue and narrowing down the exact cause was the harder part of this bug.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is like 75% of the bugs I work on; tons of research, two lines of code.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the detailed post!\n\u003C/p\u003E\n"},{"CreatedByName":"Darrin H","CreatedById":228817,"CreatedDateTime":"2023-06-15T18:51:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293389\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686850201\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\nLast time I heard that devs hate QA because they give them more work to do\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe devs and QA have a fantastic relationship here at IG.\u00A0 (I\u0027ve been around a long time.... that\u0027s not always the case)\n\u003C/p\u003E\n"},{"CreatedByName":"Klutzleo","CreatedById":229438,"CreatedDateTime":"2023-06-15T19:10:29Z","Content":"\n\u003Cp\u003E\nThank you for taking the time to explain this. It was a great read!\n\u003C/p\u003E\n"},{"CreatedByName":"FrittenFritz","CreatedById":226362,"CreatedDateTime":"2023-06-15T19:39:48Z","Content":"\n\u003Cp\u003E\n\u0022\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003Eyou may recognize my alias of Nertea from a few mods for KSP1 I have made.\u0022\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003Edude literally carried KSP1 on his back. thats what i call humble :D\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2023-06-15T21:20:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293389\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686850201\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\nLast time I heard that devs hate QA because they give them more work to do\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI love getting quality bug reports, however grumpy they may make me at the time!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293388\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686850188\u0022 data-ipsquote-userid=\u0022226996\u0022 data-ipsquote-username=\u0022FlazeTheDragon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, FlazeTheDragon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\nThat was a pretty interesting read.\n\u003C/p\u003E\n\u003Cp\u003E\nGlad to see its finally getting solved \u003Cspan\u003E:p\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EWill this also fix cargobays not shielding their contents from drag, or is that a separate issue?\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe funny thing is... that often when we solve a bug, we discover more bugs that were obscured by the issue itself, and this is one of those times. I can say for example that we discovered two smaller knock-on bugs from the work I described here that have also been fixed. We\u0027d hoped the cargo bay drag would be sorted by this as well, but it turns out that it isn\u0027t completely solved yet - we are tracking that parts that are stack attached to the internal nodes of cargo bays are sometimes not correctly occluded by the bay itself. The test cases I used when evaluating whether this functionality worked used surface attachment (it seemed like the harder case) - not stack attachment , which we\u0027ve now identified as a problem to look into for the next update cycle.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293396\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686853587\u0022 data-ipsquote-userid=\u002270807\u0022 data-ipsquote-username=\u0022regex\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, regex said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\nThis is like 75% of the bugs I work on; tons of research, two lines of code.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the detailed post!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo problem, I had an interesting time writing it up. I realized we didn\u0027t have a good description to the community of how our aero data is represented, so it was fun to be able to makes some little schematic diagrams of how things work!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293393\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686851664\u0022 data-ipsquote-userid=\u0022122369\u0022 data-ipsquote-username=\u0022theJesuit\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, theJesuit said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\nInteresting and understandable!\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAsking a question, IIRC, \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003E\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003C/abbr\u003E in KSP1 does similar but for the whole craft at a time, so it is the forward facing whole face of the craft in direction of travel.\u00A0 Is there a reason this approach wasn\u0027t used for KSP2?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think we\u0027re open to trades in specific directions for aerodynamics going forwards, but it\u0027s not quite as simple as that! \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E does a bunch more than area facing calculations and we determined that it wasn\u0027t the right solution for KSP2.\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-06-15T21:35:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293435\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686864036\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 minutes ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI love getting quality bug reports, however grumpy they may make me at the time!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m starting working as QA, so in case you happen to have some of the hunting outsourced, and it turns out I am assigned to the project, I promise I\u0027ll do my best (or if not, I simply say that to whomever I may work for)\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-06-15T21:35:55Z\u0022 title=\u002206/15/2023 09:35  PM\u0022 data-short=\u00221 yr\u0022\u003EJune 15, 2023\u003C/time\u003E by The Aziz\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2023-06-15T21:50:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293435\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686864036\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI love getting quality bug reports, however grumpy they may make me at the time!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI can attest to that!\u00A0\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"RocketRockington","CreatedById":223189,"CreatedDateTime":"2023-06-15T22:22:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293393\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686851664\u0022 data-ipsquote-userid=\u0022122369\u0022 data-ipsquote-username=\u0022theJesuit\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, theJesuit said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nInteresting and understandable!\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAsking a question, IIRC, \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003E\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003C/abbr\u003E in KSP1 does similar but for the whole craft at a time, so it is the forward facing whole face of the craft in direction of travel.\u00A0 Is there a reason this approach wasn\u0027t used for KSP2?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, this is an exact copy of how the KSP1 system works.\u00A0 Redoing the code for KSP2 introduced the bug.\n\u003C/p\u003E\n\u003Cp\u003E\nIts just a shame that KSP2 when with a solution that\u0027s going to have every problem that KSP1\u0027s system had with this sort of jank occlusion system.\n\u003C/p\u003E\n"},{"CreatedByName":"PyroSA","CreatedById":149718,"CreatedDateTime":"2023-06-15T22:53:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293435\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686864036\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think we\u0027re open to trades in specific directions for aerodynamics going forwards, but it\u0027s not quite as simple as that! \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003E\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003C/abbr\u003E does a bunch more than area facing calculations and we determined that it wasn\u0027t the right solution for KSP2.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s a pity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E was a brilliant improvement to realism in KSP1.\n\u003C/p\u003E\n\u003Cp\u003E\nYes - it was not always easy to design something that works, but what you built behaved as you would expect.\n\u003C/p\u003E\n"},{"CreatedByName":"RocketRockington","CreatedById":223189,"CreatedDateTime":"2023-06-15T23:36:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293458\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686869614\u0022 data-ipsquote-userid=\u0022149718\u0022 data-ipsquote-username=\u0022PyroSA\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n38 minutes ago, PyroSA said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s a pity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003E\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003C/abbr\u003E was a brilliant improvement to realism in KSP1.\n\u003C/p\u003E\n\u003Cp\u003E\nYes - it was not always easy to design something that works, but what you built behaved as you would expect.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E or KSP1 aren\u0027t the only options.\u00A0 You could have calculated drag from a depth \u0026amp; normal-only render of the craft on the fly rather than a pre-baked render of each part that you sum.\u00A0 Because unless the parts have each other attached by their attach nodes and never moved/rotated - or worse, don\u0027t even have attach nodes - KSP1\u0027s solution starts breaking badly.\u003Cbr\u003E\n\u003Cbr\u003E\nThat would have required more work than just copying KSP1\u0027s solution of course - but my god, what WAS 6 years spent on?\n\u003C/p\u003E\n"},{"CreatedByName":"FlazeTheDragon","CreatedById":226996,"CreatedDateTime":"2023-06-15T23:46:57Z","Content":"\n\u003Cp\u003E\nOh btw, if youre having trouble recreating the same conditions for plane testing, id suggest K2D2 mod.\n\u003C/p\u003E\n\u003Cp\u003E\nOne of its features (autopilot) allows you to input a heading and precise angle of attack, which makes it considerably easier to reproduce flights :p\n\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2023-06-16T00:21:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224292915\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686848100\u0022 data-ipsquote-userid=\u0022210281\u0022 data-ipsquote-username=\u0022Intercept Games\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Intercept Games said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello! My name is Chris Adderley, a designer on the KSP2 team. If you\u2019ve been around the community for a while, you may recognize my alias of Nertea from a few mods for KSP1 I have made.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHello! My name is Harrison Ford. You may recognize my name from some movies I was in.\n\u003C/p\u003E\n\u003Cp\u003E\n(Sorry I\u0027ll read the rest in quiet now)\n\u003C/p\u003E\n"},{"CreatedByName":"Strawberry","CreatedById":222150,"CreatedDateTime":"2023-06-16T00:24:12Z","Content":"\n\u003Cp\u003E\nSuper informative dev post! I do wonder, I know yall have talked about in the past making sure the people with the right set of tools work on the right set of things, Im guessing Chris is a special case due to already having good familiarity with ksp\u0027s code, thus allowing him to work on a wider array of things then your average artist?\n\u003C/p\u003E\n"},{"CreatedByName":"Heretic391","CreatedById":66101,"CreatedDateTime":"2023-06-16T01:08:43Z","Content":"\n\u003Cp\u003E\nVery interesting. Would be nice if we can get the drag numbers visible in game so we can optimise our builds to be super aerodynamic. I recall there was some F12 option in game which showed the total drag at any given moment.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"cocoscacao","CreatedById":225696,"CreatedDateTime":"2023-06-16T01:11:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293477\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686874905\u0022 data-ipsquote-userid=\u002273725\u0022 data-ipsquote-username=\u0022Superfluous J\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n47 minutes ago, Superfluous J said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello! My name is Harrison Ford. You may recognize my name from some movies I was in.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi, I\u0027m Troy McClure. You might remember me from such family shows like \u0022The Simpsons\u0022...\n\u003C/p\u003E\n"},{"CreatedByName":"Pyritin","CreatedById":226592,"CreatedDateTime":"2023-06-16T02:16:58Z","Content":"\n\u003Cp\u003E\nOut of curiosity is the occlusion logic an on/off sorta thing or does the model allow for partial occlusion. For example if the nose cone was placed on a rocket normally, and then translated up to create a gap between the two parts. Would the occlusion model partially occlude the top of the rocket (because the cone would then create a gap for air to pass through), act similar to as if the cone wasn\u0027t translated, or not occlude at all?\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-06-16T03:05:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224293487\u0022 data-ipsquote-contentid=\u0022217700\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686877905\u0022 data-ipsquote-userid=\u0022225696\u0022 data-ipsquote-username=\u0022cocoscacao\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, cocoscacao said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, I\u0027m Troy McClure. You might remember me from such family shows like \u0022The Simpsons\u0022...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHello, my name is Inigo Montoya. You may know the rest of the sentence.\n\u003C/p\u003E\n"}]}