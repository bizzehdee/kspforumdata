{"TopicId":214806,"ForumId":110,"TopicTitle":"Developer Insights #18 - Graphics of Early Access KSP2","CreatedByName":"Intercept Games","CreatedById":210281,"CreatedDateTime":"2023-03-10T21:00:00Z","PageNum":1,"Articles":[{"CreatedByName":"Intercept Games","CreatedById":210281,"CreatedDateTime":"2023-03-10T21:00:00Z","Content":"\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{60}\u0022 paraid=\u00221261780524\u0022\u003E\n\u003Ca class=\u0022ipsAttachLink ipsAttachLink_image\u0022 href=\u0022https://kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.png.62060822a11af081a8c1a094591f07d1.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-fileid=\u0022620\u0022 data-ratio=\u002221.00\u0022 data-unique=\u00229rnht7nkn\u0022 style=\u0022width: 750px; height: auto;\u0022 width=\u00221200\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.thumb.png.a4447aa4eec025229a5a59775638766d.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{60}\u0022 paraid=\u00221261780524\u0022\u003E\nHi Y\u2019all,\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{66}\u0022 paraid=\u00221846249941\u0022\u003E\nI\u2019m Mortoc, the new graphics programmer on the team. I wanted to take some time to chat about KSP2\u2019s graphics and performance \u2013 where we are today and what our process is and what the team\u2019s goals are.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{90}\u0022 paraid=\u00221666997476\u0022\u003E\nAs many of you have noticed, KSP2\u2019s performance isn\u2019t amazing at the start of Early Access. In a game as complex as KSP2, there are a dizzying number of areas that we could spend our efforts on and the feedback we\u2019re receiving is invaluable for us to focus our time on the issues that affect the players the most.\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{118}\u0022 paraid=\u00222104396114\u0022\u003E\nThere are different reasons that the framerate can suffer. If the CPU is asked to do too much during simulation or if the CPU is asked to send too much data to the GPU in an organized fashion, it can make the framerate drop without maxing out the GPU. In most cases the performance in KSP2 is bottlenecked by the GPU, and since I\u0027m a graphics engineer, that\u0027s what we\u0027re going to investigate in this article. Other engineers are working hard on CPU-facing improvements that you\u0027ll see reflected in upcoming updates.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp aria-level=\u00222\u0022 paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{130}\u0022 paraid=\u00221400616256\u0022 role=\u0022heading\u0022\u003E\n\u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EDeep Dive Warning: Numbers Ahead\u00A0\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{138}\u0022 paraid=\u00221353427074\u0022\u003E\nBefore we dig into the numbers, let\u2019s start with a primer on what we\u2019re looking for here. Game developers tend to think of framerate in terms of milliseconds rather than FPS because it\u2019s easier to budget out your frame time that way. Converting from FPS to ms is simple, you just use the formula 1,000 / FPS = ms (for example: 100 FPS means it takes 10ms per frame, 1,000 / 100 = 10). This way we\u2019re talking about how long a system takes to run directly. We want to measure how many milliseconds each system in the game takes in order to figure out which are taking too much time and dropping the framerate.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{166}\u0022 paraid=\u0022989605121\u0022\u003E\nWe use a tool called \u003Ca href=\u0022https://renderdoc.org/\u0022 rel=\u0022external nofollow\u0022 target=\u0022_blank\u0022\u003ERenderDoc\u003C/a\u003E for our automated performance testing (\u003Ca href=\u0022https://gpuopen.com/rgp/\u0022 rel=\u0022external nofollow\u0022 target=\u0022_blank\u0022\u003Eamong\u003C/a\u003E \u003Ca href=\u0022https://developer.nvidia.com/nsight-graphics\u0022 rel=\u0022external nofollow\u0022 target=\u0022_blank\u0022\u003Eother\u003C/a\u003E \u003Ca href=\u0022https://docs.unity3d.com/2020.3/Documentation/Manual/ProfilerGPU.html\u0022 rel=\u0022external nofollow\u0022 target=\u0022_blank\u0022\u003Etools\u003C/a\u003E). RenderDoc allows us to get the ground-truth timings for every single command sent to the GPU. Our tooling can then pull out the slowest GPU events for us to investigate.\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{206}\u0022 paraid=\u00221093230748\u0022\u003E\nThe machine I\u2019m using here for performance analysis is a laptop with i7-8650U CPU, Mobile Nvidia GTX 1060 6gb GPU and 16gb RAM. It has a slower GPU than our current min spec, so we\u2019re not expecting it to make a playable framerate yet.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp aria-level=\u00223\u0022 paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{244}\u0022 paraid=\u00221473640777\u0022 role=\u0022heading\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cabbr title=\u0022Kerbal Space Center\u0022\u003E\u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E\u003C/abbr\u003E Landing Screen \u2013 11 FPS\u00A0\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{dfb4cf4e-ecfe-4978-9579-3189c00cc690}{252}\u0022 paraid=\u0022307631407\u0022\u003E\n\u003Ca data-fileext=\u0022png\u0022 data-fileid=\u0022608\u0022 href=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.png.76c2d86ddd8e68704aa893ea65e70e10.png\u0022 rel=\u0022\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 data-fileid=\u0022608\u0022 data-ratio=\u002254.17\u0022 data-unique=\u0022a9ud3po5g\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.thumb.png.3ed5edc56175ea0fabfbeca5b3d8ba4c.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth scope=\u0022col\u0022\u003E\n10 Slowest GPU Events\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022\u003E\n\u00A0Draw #\u00A0\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022\u003E\n\u00A0Duration (ms)\u00A0\n\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nPQSRENDERTEMP\\Draw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n270\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n6.08\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n505\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n5.84\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n506\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n5.44\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nCloudCommandBuffer\\DrawIndexed(6)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n746\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n4.43\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nShadows.RenderJob\\Shadows.RenderJobDir\\Draw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n652\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n4.31\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nGenerateWaterDepthCommand\\Draw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n576\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n3.18\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n503\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n1.72\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n504\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n1.63\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nDraw(229248)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n263\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n1.62\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\ncloudsShadowCommandBuffer\\DrawIndexed(6)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n560\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n1.58\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{c13aacfe-25d2-4de1-86ff-4bc8086b6b67}{15}\u0022 paraid=\u0022377203189\u0022\u003E\nIn this scene, eight of the top ten worst-offenders are related to PQS\u002B. PQS stands for Procedural Quad System and it\u2019s the algorithm used to generate planet terrains. KSP2 uses a modified version of PQS from KSP1, generally referred to as PQS\u002B after all the modifications made to it for KSP2.\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{c13aacfe-25d2-4de1-86ff-4bc8086b6b67}{43}\u0022 paraid=\u0022132467084\u0022\u003E\nThat table starts with a draw call to PQSRENDERTEMP, which emits 229,248 vertices. Each other draw call that uses that specific number is doing some work on the PQS mesh. The two draw calls not related to PQS in that table are the ones with a 6 in the name and are related to the cloud system. From this report we can see that the terrain clearly takes the most GPU time in this scene; 29.94ms in total.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{c13aacfe-25d2-4de1-86ff-4bc8086b6b67}{83}\u0022 paraid=\u0022436261881\u0022\u003E\nLet\u2019s try another vantage point.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp aria-level=\u00223\u0022 paraeid=\u0022{c13aacfe-25d2-4de1-86ff-4bc8086b6b67}{95}\u0022 paraid=\u00221621367080\u0022 role=\u0022heading\u0022\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003E\u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003E\u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E\u003C/abbr\u003E \u2013 Low Graphics \u2013 8 FPS\u00A0\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp aria-level=\u00223\u0022 paraeid=\u0022{c13aacfe-25d2-4de1-86ff-4bc8086b6b67}{95}\u0022 paraid=\u00221621367080\u0022 role=\u0022heading\u0022\u003E\n\u003Cimg alt=\u0022image.png\u0022 data-fileid=\u0022616\u0022 data-ratio=\u002253.79\u0022 data-unique=\u0022nxblzcfot\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.png.f0451a4bbd7015fb635da05b30f4340c.png\u0022\u003E\n\u003C/p\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth scope=\u0022col\u0022\u003E\n10 Slowest GPU Events\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022\u003E\n\u00A0Draw #\u00A0\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022\u003E\n\u00A0Duration (ms)\u00A0\n\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nPQSRENDERTEMP\\Draw(92160)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n237\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n10.44\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(92160)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n301\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n4.06\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(92160)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n302\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n3.14\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(92160)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n304\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n2.34\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nDispatch(12, 240, 1)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n2.07\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nRenderDeferred.GBuffer\\Draw(92160)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n303\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n1.59\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nCopyResource(ObserverCubemapView_CubemapFinal, ObserverCubemapView_Temp)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n92\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n0.60\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nCopyResource(CelestialBodyCubemapView_CubemapFinal, CelestialBodyCubemapView_Temp)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n184\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n0.33\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nCamera.Render\\PQSRENDER_DEFERRED_DECAL_MASK\\Draw(92160)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n230\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n0.24\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\nCamera.Render\\Draw(92160)\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n227\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align: center;\u0022\u003E\n0.23\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{101}\u0022 paraid=\u00221856039700\u0022\u003E\nAs you travel away from any Celestial Body, we swap out the complex Local shader with a Scaled version that\u2019s much more efficient. This scene is from Low Kerbin Orbit, but still close enough to the planet to be using the Local version of the shader. PQS\u002B is again 8 out of the top 10 worst calls (the line Dispatch(12, 240, 1) which is Draw Call #1 is from at the start of the frame when we kick off a compute shader to generate the terrain mesh). That first PQS\u002B call that took over 10ms is especially dirty.\u00A0\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{101}\u0022 paraid=\u00221856039700\u0022\u003E\n\u003Cbr\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed ipsAttachLink_image ipsAttachLink_right\u0022 data-fileid=\u0022609\u0022 data-ratio=\u002298.66\u0022 data-unique=\u00221ldkb78qq\u0022 style=\u0022width: 298px; height: auto; float: right;\u0022 width=\u0022298\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.png.7c1d9d8edf1dc3111b629becbf8bc930.png\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003EStaying Grounded\u00A0\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{157}\u0022 paraid=\u0022321277791\u0022\u003E\nClearly the PQS System and related shaders are a big performance problem. Let\u2019s talk about that,\u00A0but first dig into some background. A core philosophy for the early part of KSP2\u2019s EA cycle is to make sure \u201Cit still feels like a KSP game\u201D.\u00A0 This means that for each feature we build, we want to start with what KSP1 did and then build a similar system that improves on it.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{206}\u0022 paraid=\u00221664010019\u0022\u003E\nFollowing that goal, the team started with the PQS design from KSP1 and added modern graphics features for KSP2\u2019s PQS\u002B. As development progressed on KSP2, more and more features were added to PQS\u002B to keep pushing the artistic envelope.\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsAttachLink_image ipsAttachLink_left\u0022 data-fileid=\u0022610\u0022 data-ratio=\u0022101.34\u0022 data-unique=\u00220e5pb5xcy\u0022 style=\u0022width: 298px; height: auto; float: left;\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.png.7b016fdaf4cc4de1ef264709e82d9490.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\nI might be biased, but from orbit, Kerbol\u2019s planets look incredible. Our art team did a fantastic job. From the surface the game is still quite pretty, but the terrain itself just doesn\u2019t have the consistent visual quality we want yet. While trying to build that ground up to our visual ambitions, we added more features than the previous PQS architecture can support. It wasn\u2019t until the ramp up to EA that it became understood just how far past the limits of the tech we had reached.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp paraeid=\u0022{80127fc4-4a67-4c77-a253-8329b1b2319b}{232}\u0022 paraid=\u0022591172196\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp aria-level=\u00222\u0022 paraeid=\u0022{584502ba-194a-45f0-b15c-88b291748540}{14}\u0022 paraid=\u00221599216966\u0022 role=\u0022heading\u0022\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003EFuture Trajectory\u00A0\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{584502ba-194a-45f0-b15c-88b291748540}{22}\u0022 paraid=\u0022212826187\u0022\u003E\nOK, so, clearly there\u2019s a problem, what are we going to do about it? A few things are being done simultaneously. First, we\u2019re prioritizing performance optimizations for this system over the next couple of patches. Particularly for when graphics settings are \u201CLOW\u201D, we want this system to be eating far less GPU time. This takes two forms: one is pure engineering optimization that doesn\u2019t affect final graphics, the other is to disable certain visual features when the graphics are set to \u201CLOW\u201D or \u201CMEDIUM\u201D. That first category, engineering-only fixes, was taken about as far as it could be with PQS\u002B. Our short-term plans are currently focused on the 2nd category, turning off features that don\u2019t provide enough bang for the buck. \u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{584502ba-194a-45f0-b15c-88b291748540}{76}\u0022 paraid=\u00221890892422\u0022\u003E\n\u003Cimg alt=\u0022image.jpeg\u0022 class=\u0022ipsAttachLink_image ipsAttachLink_left\u0022 data-fileid=\u0022611\u0022 data-ratio=\u002294.40\u0022 data-unique=\u0022fgz6taww9\u0022 style=\u0022width: 500px; height: auto; float: left;\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/monthly_2023_03/image.jpeg.2171c340529a2fe58d6e26d46f7dfc1b.jpeg\u0022\u003EHere\u0027s an example of an optimization that affects the visuals. Coming soon in a patch, we will be able to turn off the Anti-Tile system in the terrain. In a bunch of places, the effect is negligible, but you can see the Eve surface has a repetitive texture artifact without it. This visual polish comes at the cost of accessing each texture a few more times, putting strain on the memory bandwidth of the GPU. Disabling this effect can have a small-to-medium sized effect on the framerate, depending on the GPU in question.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{584502ba-194a-45f0-b15c-88b291748540}{121}\u0022 paraid=\u00221684698173\u0022\u003E\nOptimizations like that one are happening now and will arrive in the next few updates. The rest of this article deals with systems that are in progress, so we cannot make specific promises about timelines or features until further along in development. But here\u2019s where we\u2019re heading:\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{584502ba-194a-45f0-b15c-88b291748540}{161}\u0022 paraid=\u0022541060974\u0022\u003E\nIn the medium term, my first major project on this team is to design and build a next-generation terrain system \u2013 what we\u2019re calling the CBT system (it uses a Concurrent Binary Tree data structure, but it could also stand for Celestial Body Terrain). PQS\u002B has served us well, but nowadays video cards are much more flexible and there are more modern approaches that will give us better results in terms of performance and visual quality. Exciting new earth-shaking architectures are possible. The next-gen CBT system will be the topic of a future dev blog which will contain a much more detailed look at what we\u2019re building. While it\u2019s too early to share any details, I will say that I\u2019m excited about the artistic expressiveness, potential terrain variety, and performance of the CBT system.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{584502ba-194a-45f0-b15c-88b291748540}{232}\u0022 paraid=\u0022115668643\u0022\u003E\nAnother area that will see a major shift in visual quality and performance is bringing the game up to Unity\u2019s modern renderer, HDRP (read more about HDRP \u003Ca href=\u0022https://unity.com/srp/High-Definition-Render-Pipeline#features\u0022 rel=\u0022external nofollow\u0022 target=\u0022_blank\u0022\u003Ehere\u003C/a\u003E if you\u2019re curious, it rocks). The main benefits we get from HDRP are a more optimized render engine, which means faster framerates, and a more flexible shader model, which means more effective dev team efforts. It\u2019ll also make it easier for visual mods to be built. As a sidenote, despite how much we love you modders, this change will definitely break most visual mods (sorry modders, sometimes we must hurt the ones we love).\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cp paraeid=\u0022{2483d893-d405-4237-b68f-b49811e22f9e}{65}\u0022 paraid=\u0022708322101\u0022\u003E\nThese in-progress changes will allow us to build more scientifically grounded yet fantastical worlds for the Kerbals to explore for years to come.\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n"},{"CreatedByName":"Dakota","CreatedById":225122,"CreatedDateTime":"2023-03-10T21:01:00Z","Content":"\n\u003Cp\u003E\nToday\u0027s second communication from the team will be coming shortly.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Nate\u0027s post is here:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 class=\u0022ipsEmbed_finishedLoading\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022205123\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6944737983\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/214809-approaching-patch-one/\u0026amp;do=embed\u0022 style=\u0022overflow: hidden; height: 375px; max-width: 500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2023-03-10T21:02:17Z","Content":"\n\u003Cp\u003E\nGlad to see we still have Dev Diaries. Thank you!!\n\u003C/p\u003E\n"},{"CreatedByName":"cvusmo","CreatedById":77262,"CreatedDateTime":"2023-03-10T21:03:19Z","Content":"\n\u003Cp\u003E\nGoing to read this but appreciate the dev\u0027s screennshots lol\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn all seriousness, very excited to read about this and appreciate the images!\n\u003C/p\u003E\n"},{"CreatedByName":"the_tunnel","CreatedById":227343,"CreatedDateTime":"2023-03-10T21:05:36Z","Content":"\n\u003Cp\u003E\nWow this looks complicated and difficult for you to deal with I hope it goes well\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2023-03-10T21:05:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\n\u003Cp\u003E\nIn the medium term, my first major project on this team is to design and build a next-generation terrain system \u2013 what we\u2019re calling the CBT system (it uses a Concurrent Binary Tree data structure, but it could also stand for Celestial Body Terrain). PQS\u002B has served us well, but nowadays video cards are much more flexible and there are more modern approaches that will give us better results in terms of performance and visual quality. Exciting new earth-shaking architectures are possible. The next-gen CBT system will be the topic of a future dev blog which will contain a much more detailed look at what we\u2019re building. While it\u2019s too early to share any details, I will say that I\u2019m excited about the artistic expressiveness, potential terrain variety, and performance of the CBT system.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHell\n\u003C/p\u003E\n\u003Cp\u003E\nYes\n\u003C/p\u003E\n\u003Cp\u003E\nDo it, my dude\n\u003C/p\u003E\n\u003Cp\u003E\nAnd for the record the game looks amazing right now, Kerbin itself is incredible. I can\u0027t wait to see how it develops.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-10T21:07:01Z\u0022 title=\u002203/10/2023 09:07  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 10, 2023\u003C/time\u003E by regex\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2023-03-10T21:07:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224255806\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678482000\u0022 data-ipsquote-userid=\u0022210281\u0022 data-ipsquote-username=\u0022Intercept Games\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Intercept Games said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nbringing the game up to Unity\u2019s modern renderer, HDRP\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat renderer is the game currently using?\n\u003C/p\u003E\n"},{"CreatedByName":"whatsEJstandfor","CreatedById":220814,"CreatedDateTime":"2023-03-10T21:07:49Z","Content":"\n\u003Cp\u003E\nThis is a fantastic Dev Diary and I absolutely love the changes that are going to be made! For future reference, this level of detail (and candidness) is what, I think, we\u0027ve all been craving over the last two weeks.\n\u003C/p\u003E\n"},{"CreatedByName":"Tazooka","CreatedById":226666,"CreatedDateTime":"2023-03-10T21:10:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224256429\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678482469\u0022 data-ipsquote-userid=\u0022220814\u0022 data-ipsquote-username=\u0022whatsEJstandfor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, whatsEJstandfor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think, we\u0027ve all been craving over the last two weeks.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIts a good read and I found it interesting. But no, if I\u0027m honest I expected more information regarding the first patch the game desperately needs\n\u003C/p\u003E\n"},{"CreatedByName":"NexustheNinja19","CreatedById":223452,"CreatedDateTime":"2023-03-10T21:13:33Z","Content":"\n\u003Cp\u003E\nGreat to see a focus on optimization so early into EA development!\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-10T21:15:14Z\u0022 title=\u002203/10/2023 09:15  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 10, 2023\u003C/time\u003E by NexustheNinja19\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2023-03-10T21:13:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224255806\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678482000\u0022 data-ipsquote-userid=\u0022210281\u0022 data-ipsquote-username=\u0022Intercept Games\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Intercept Games said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThese in-progress changes will allow us to build more scientifically grounded yet fantastical worlds for the Kerbals to explore for years to come.\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks Mortoc.\u00A0 One thought that has occurred to me many times is user configurable on the fly lowering/raising of graphics quality based on simple rules.\n\u003C/p\u003E\n\u003Cp\u003E\nExample, \u0022if launching, dynamically adjust quality to keep frame rate over n\u0022.\u00A0 Or \u0022if night launch, skip most terrain rendering to achieve highest frame rate possible\u0022.\u00A0 Even a way to completely disable terrain renders for that 30m time span while \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003E\u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E\u003C/abbr\u003E docking and assembly of some huge, multi-module behemoth.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-10T21:14:07Z\u0022 title=\u002203/10/2023 09:14  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 10, 2023\u003C/time\u003E by darthgently\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"XavBell","CreatedById":226398,"CreatedDateTime":"2023-03-10T21:14:01Z","Content":"\n\u003Cp\u003E\nThis deep dive on the current PQS\u002B was very interesting. Is there games that uses CBT for planets just for curiosity?\u00A0 Or is there more examples of that? Looking forward to the next developer insight!\n\u003C/p\u003E\n"},{"CreatedByName":"The Space Peacock","CreatedById":224498,"CreatedDateTime":"2023-03-10T21:14:11Z","Content":"\n\u003Cp\u003E\nThanks for explaining the current graphics system and its shortcomings in such an understandable way! the fact you guys know what needs to be improved and already have plans to make it happen is a great sign. Good luck with it, and kudos on the already absolutely stunning visuals in the game in this early version!\n\u003C/p\u003E\n"},{"CreatedByName":"Anth","CreatedById":161238,"CreatedDateTime":"2023-03-10T21:15:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224255806\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678482000\u0022 data-ipsquote-userid=\u0022210281\u0022 data-ipsquote-username=\u0022Intercept Games\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Intercept Games said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn the medium term, my first major project on this team is to design and build a next-generation terrain system \u2013 what we\u2019re calling the CBT system (it uses a Concurrent Binary Tree data structure, but it could also stand for Celestial Body Terrain). PQS\u002B has served us well, but nowadays video cards are much more flexible and there are more modern approaches that will give us better results in terms of performance and visual quality. Exciting new earth-shaking architectures are possible. The next-gen CBT system will be the topic of a future dev blog which will contain a much more detailed look at what we\u2019re building. While it\u2019s too early to share any details, I will say that I\u2019m excited about the artistic expressiveness, potential terrain variety, and performance of the CBT system.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo this is going to replace PQS\u002B before 1.0 of KSP2? I am glad that KSP2 is still at a point that this kind of thing can be considered.\n\u003C/p\u003E\n"},{"CreatedByName":"Stoup","CreatedById":2804,"CreatedDateTime":"2023-03-10T21:19:12Z","Content":"\n\u003Cp\u003E\nI second that notion Anth. It feels rough that it took so long for the realizations that core things like this are not gonna be sustainable. But as long as there\u0027s a willingness to face what doesn\u0027t work, and if needed replace it, even if that\u0027s a tremendous amount of work, I\u0027m glad to see it being treated for what it is!\n\u003C/p\u003E\n"},{"CreatedByName":"Vl3d","CreatedById":219348,"CreatedDateTime":"2023-03-10T21:21:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224256427\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678482451\u0022 data-ipsquote-userid=\u002269263\u0022 data-ipsquote-username=\u0022NoMrBond\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, NoMrBond said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat renderer is the game currently using?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m kind of shocked it\u0027s still using the legacy rendered... But beyond that, I remember how much flak I got on the forum for talking about modern HDRP Unity visuals. I invite newer users and players to read up on older discussions.\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022219348\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4352607892\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/207856-unity-2021-lts-brings-ksp2-closer-to-release/\u0026amp;do=embed\u0022 style=\u0022height:195px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nThank you for this great dev diary! Telling it like it is goes a long way.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-10T21:24:42Z\u0022 title=\u002203/10/2023 09:24  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 10, 2023\u003C/time\u003E by Vl3d\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Anth","CreatedById":161238,"CreatedDateTime":"2023-03-10T21:25:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224256443\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678483152\u0022 data-ipsquote-userid=\u00222804\u0022 data-ipsquote-username=\u0022Stoup\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Stoup said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI second that notion Anth. It feels rough that it took so long for the realizations that core things like this are not gonna be sustainable. But as long as there\u0027s a willingness to face what doesn\u0027t work, and if needed replace it, even if that\u0027s a tremendous amount of work, I\u0027m glad to see it being treated for what it is!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt might be that they wanted to get something they knew that worked from KSP1 so they could get development in all areas up and running.\n\u003C/p\u003E\n\u003Cp\u003E\nVerses waiting for CBT to be developed before any other development areas could be started.\n\u003C/p\u003E\n"},{"CreatedByName":"FlazeTheDragon","CreatedById":226996,"CreatedDateTime":"2023-03-10T21:26:31Z","Content":"\n\u003Cp\u003E\nVery interesting insight... even tho half of it goes over my head xD\n\u003C/p\u003E\n\u003Cp\u003E\nI wonder, would it be possible, and have you guys considered adding DLSS in the future? It seems like it would be a very welcome addition to the game, \u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003Eand\u003C/strong\u003E\u003C/span\u003E it would allow for some absolutely insane fidelity visual mods in the far future.\n\u003C/p\u003E\n"},{"CreatedByName":"Periple","CreatedById":225622,"CreatedDateTime":"2023-03-10T21:28:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224256431\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678482600\u0022 data-ipsquote-userid=\u0022226666\u0022 data-ipsquote-username=\u0022Tazooka\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Tazooka said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIts a good read and I found it interesting. But no, if I\u0027m honest I expected more information regarding the first patch the game desperately needs\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m also eagerly waiting for the first patch!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy interpretation for their silence is that the patch is currently in QA, and they don\u0027t want to give an exact date for when it\u0027ll be out of QA, because if you do that, there\u0027s a big risk that either it\u0027ll slip, or you\u0027ll have to release it in a worse state than you\u0027d like.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe project I work on is on a pretty regular 3-week cycle at this time, but even we can\u0027t predict\u00A0\u003Cem\u003Eexactly\u003C/em\u003E\u00A0when a build is out of QA. Like, we\u0027re targeting next Wednesday to release the version currently in QA, but if something turns up before now and then (and it sometimes does! That\u0027s why we have QA, so they turn things up!) it might slip until Thursday or Friday, and if everything goes absolutely smoothly we might be able to release it already on Tuesday. We don\u0027t announce these dates to anyone because if they slip, people get annoyed and we have to Explain Things and that\u0027s no fun at all.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso: it took us a while to get to this point \u2013 we had to get the dev teams working together well, we had to get the deployment infrastructure set up, we had to get QA familiar with the project, we had to scale QA to match the dev teams\u0027 velocity, and so on. A year ago it took us about six weeks to push out a release, and the dates fluctuated a lot. We\u0027re continuously improving. We want to get to a 1-week cycle by the end of the year, and I think we know how to do it \u2013 we need to make some improvements to our infra and our process and then just lots of practice. Making games is a team sport \u2013 and like any team sport, the team has to train together to play together well, even if the individual players are really good at what they do!\n\u003C/p\u003E\n"},{"CreatedByName":"Vexillar","CreatedById":178802,"CreatedDateTime":"2023-03-10T21:29:07Z","Content":"\n\u003Cp\u003E\nFascinating!\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for lifting the lid on this - there are evidently many folk on the forum who can relate to this kind of tech insight.\n\u003C/p\u003E\n"},{"CreatedByName":"Vl3d","CreatedById":219348,"CreatedDateTime":"2023-03-10T21:29:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224256448\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678483548\u0022 data-ipsquote-userid=\u0022161238\u0022 data-ipsquote-username=\u0022Anth12\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Anth12 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt might be that they wanted to get something they knew that worked from KSP1 so they could get development in all areas up and running.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOf course that\u0027s what happened. They used the prototyping tools as far as they could go.\n\u003C/p\u003E\n"},{"CreatedByName":"Anth","CreatedById":161238,"CreatedDateTime":"2023-03-10T21:36:38Z","Content":"\n\u003Cp\u003E\nI wonder if such a big change to CBT might mean a change from Directx 11 to Directx 12 as well.\n\u003C/p\u003E\n"},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2023-03-10T21:40:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224255806\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678482000\u0022 data-ipsquote-userid=\u0022210281\u0022 data-ipsquote-username=\u0022Intercept Games\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n56 minutes ago, Intercept Games said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis visual polish comes at the cost of accessing each texture a few more times, putting strain on the memory bandwidth of the GPU\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAssuming the terrain shader is using Triplanar Mapping, this means that the samples for the anti-tile system increase by an additional factor of 3. KSP1\u0027s method of just scaling the texture based on the log of the camera distance from the terrain worked well enough, and might be a suitable replacement for low/medium graphics. That only required 2 samples * 3.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, since this is not mentioned often and articles about it are far and few... Triplanar mapping is superseeded by biplanar mapping which only requires 2 texture samples instead of 3, offering an immediate \u002B50% performance at expense of a small additional amount of math.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://iquilezles.org/articles/biplanar/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://iquilezles.org/articles/biplanar/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: For those interested, here is information on Concurrent Binary Trees (please don\u0027t call the new system CBT, you will be made fun of) and their implementation:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://onrendering.com/data/papers/cbt/ConcurrentBinaryTrees.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://onrendering.com/data/papers/cbt/ConcurrentBinaryTrees.pdf\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-10T21:57:02Z\u0022 title=\u002203/10/2023 09:57  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 10, 2023\u003C/time\u003E by Gameslinx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vl3d","CreatedById":219348,"CreatedDateTime":"2023-03-10T21:40:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224256460\u0022 data-ipsquote-contentid=\u0022214806\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678484198\u0022 data-ipsquote-userid=\u0022161238\u0022 data-ipsquote-username=\u0022Anth12\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Anth12 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI wonder if such a big change to CBT might mean a change from Directx 11 to Directx 12 as well.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOf course it does.\n\u003C/p\u003E\n"},{"CreatedByName":"PDCWolf","CreatedById":58026,"CreatedDateTime":"2023-03-10T21:41:59Z","Content":"\n\u003Cp\u003E\nWhilst one can most certainly appreciate any work being done, I can\u0027t believe the stuff I\u0027m reading. PQS being limited garbage was known before KSP1 got to 1.0, and then y\u0027all went and wasted time on it only to \u003Cem\u003Eobviously\u003C/em\u003E have to throw it away? plus this gives \u003Cem\u003Emuch\u003C/em\u003E more credibility that this EA was just a tech demo propped up on the toothpicks that are both Unity\u0027s default systems and KSP1 leftovers. Big yikes. Further on, you spend multiple paragraphs talking about optimization only to end up removing graphics effects as the only real \u0022optimization\u0022 coming up in a tangible timeframe.\n\u003C/p\u003E\n\u003Cp\u003E\nSad to know as well that the current visual style is actually accepted as good. It is vomitive, riddled with excessive bloom, dissonant brightness and overall sickening to the eyes.\n\u003C/p\u003E\n\u003Cp\u003E\nAll of this, slated for the \u0022next few updates\u0022, when we\u0027re struggling to get the first one out, with a very thin fix list and zero new features. Meanwhile KSP1 gets volumetric clouds at a negligible performance impact.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-10T21:42:36Z\u0022 title=\u002203/10/2023 09:42  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 10, 2023\u003C/time\u003E by PDCWolf\u003C/strong\u003E\n\u003C/span\u003E\n"}]}