{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":21,"Articles":[{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-06T18:40:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022m4ti140\u0022 data-cite=\u0022m4ti140\u0022\u003E\u003Cdiv\u003EOkey I figured out what was wrong with Mk1 pod - I have installed squad texture reduction pack and for some reason this mod doesn\u0027t seems to like those (.tga BTW) textures. Adding the only changed texture (model001.tga) to normal list solved the problem.\u003Cp\u003EI\u0027m gonna investigate further regarding this apparent incompatibility between this mod and STR. Maybe it doesn\u0027t like .tga for some reason?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt isn\u0027t the format per-se. MBMs have a bitfield that specifies that it is to be treated as a normal map. TGAs and PNGs are supposed to be named as *_NRM.[tga/png] to cover this. The texture packs can\u0027t though, as it would change the name the part is looking for. So if you DO use texture reduction packs, you will need to add EACH normal map to the list. I recommend that you don\u0027t use texture packs, and instead, use the aggressive config, and if it still doesn\u0027t shave enough memory off, raise the scale by another power of two to 4.\u003C/p\u003E\n"},{"CreatedByName":"m4ti140","CreatedById":67296,"CreatedDateTime":"2014-01-06T19:19:32Z","Content":"\n\u003Cp\u003EWell, is it possible then to disable compression altogeather for selected textures? BC when I used the agressive settings cockpit gauges went unreadable\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-06T19:56:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022m4ti140\u0022 data-cite=\u0022m4ti140\u0022\u003E\u003Cdiv\u003EWell, is it possible then to disable compression altogeather for selected textures? BC when I used the agressive settings cockpit gauges went unreadable\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyes, you can specify overrides for specific textures in the config ie:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EOVERRIDES\u003Cbr\u003E{\u003Cbr\u003E\tBoulderCo/Clouds/Textures/kerbin1\u003Cbr\u003E\t{\u003Cbr\u003E\t\tcompress = true\u003Cbr\u003E\t\tmipmaps = true\u003Cbr\u003E\t\tscale = 1\u003Cbr\u003E\t\tfilter_mode = Bilinear\u003Cbr\u003E\t\tmake_not_readable = true\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"m4ti140","CreatedById":67296,"CreatedDateTime":"2014-01-06T20:07:32Z","Content":"\n\u003Cp\u003EOK, thanks\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-01-06T21:52:15Z","Content":"\n\u003Cp\u003EThe new version is still giving me the normal map bug with the shading issue. I tried both the basic and aggresive and still there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-06T22:00:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EThe new version is still giving me the normal map bug with the shading issue. I tried both the basic and aggresive and still there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDo you use a texture reduction pack? If not, did you add configs for other mods? If you did, did you check the logs for textures that are not set as normal maps?\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-01-06T22:10:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EDo you use a texture reduction pack? If not, did you add configs for other mods? If you did, did you check the logs for textures that are not set as normal maps?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI do not have a texture reduction pack other than this mod. How do I add the configs for other mods and what does it do? Does it ignore those mods?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-06T22:14:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EI do not have a texture reduction pack other than this mod. How do I add the configs for other mods and what does it do? Does it ignore those mods?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt tries to compress all textures, some of which are normal maps that haven\u0027t been marked properly, so to avoid this, a config file has to be added that calls them out. \u003C/p\u003E\u003Cp\u003ETake a look in BoulderCo/textureCompressorConfigs/ for examples. Add a config file for each mod you want to manage. The filename of the config file has to mach the mod folder exactly. In the config file, you should have a section like this that has a texture = normalmaptexture: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENORMAL_LIST\u003Cbr\u003E{\u003Cbr\u003E\ttexture = BoulderCo/Clouds/Textures/bump1\u003Cbr\u003E\ttexture = BoulderCo/Clouds/Textures/bump2\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-01-06T22:22:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EIt tries to compress all textures, some of which are normal maps that haven\u0027t been marked properly, so to avoid this, a config file has to be added that calls them out. \u003Cp\u003ETake a look in BoulderCo/textureCompressorConfigs/ for examples. Add a config file for each mod you want to manage. The filename of the config file has to mach the mod folder exactly. In the config file, you should have a section like this that has a texture = normalmaptexture: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENORMAL_LIST\u003Cbr\u003E{\u003Cbr\u003E\ttexture = BoulderCo/Clouds/Textures/bump1\u003Cbr\u003E\ttexture = BoulderCo/Clouds/Textures/bump2\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWait so if I add the folders in the config? It will fix the normal map issue?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-06T22:30:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EWait so if I add the folders in the config? It will fix the normal map issue?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELike I mentioned earlier, the new version uses a new config mechanism. Each mod should have it\u0027s own config file with the name of the mod. Then, each normal map that the log complains about should be added into the normal map list.\u003C/p\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2014-01-06T22:32:43Z","Content":"\n\u003Cp\u003EDo you have a snippet of what it looks like in the log where we\u0027ll see a texture that requires an override?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-06T22:39:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022draeath\u0022 data-cite=\u0022draeath\u0022\u003E\u003Cdiv\u003EDo you have a snippet of what it looks like in the log where we\u0027ll see a texture that requires an override?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt will look something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EGameDatabase: Texture \u0027KOSMOS/Parts/Structural/Kosmos_Salyut_1.5-1_Taper/NRM\u0027 requested as normal map but texture is not a normal map and is not readable\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2014-01-07T00:55:59Z","Content":"\n\u003Cp\u003ESo, I installed this and loaded up to the menu - nothing even close to that printed - looks like I\u0027m all set \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThank you very much, this looks to be a lifesaver!\u003C/p\u003E\u003Cp\u003EJust a quick note... here\u0027s what\u0027s in my gamedir. Everything is up-to-date as of today. I have -zero- normal map logging errors using your \u0022basic\u0022 experimental build, and RAM usage is at ~2.45gb, which I\u0027ve had it up to before with no stability issues \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E000_Toolbar\u003Cbr\u003EAviationLights\u003Cbr\u003EB9_Aerospace\u003Cbr\u003EBoJaN\u003Cbr\u003EBoulderCo\u003Cbr\u003EDeadlyReentry\u003Cbr\u003Edraeath\u003Cbr\u003EDSM\u003Cbr\u003EExsurgentEngineering\u003Cbr\u003EFerramAerospaceResearch\u003Cbr\u003EFirespitter\u003Cbr\u003EFusebox\u003Cbr\u003EHullCameraVDS\u003Cbr\u003EIoncrossCrewSupport\u003Cbr\u003EKAS\u003Cbr\u003EKeramzit\u003Cbr\u003EKerbalJointReinforcement\u003Cbr\u003EKethane\u003Cbr\u003EKineTechAnimation\u003Cbr\u003EKWRocketry\u003Cbr\u003EMechJeb2\u003Cbr\u003EModuleManager_1_5.dll\u003Cbr\u003EModuleManager_1_5_6.dll\u003Cbr\u003ENavyFish\u003Cbr\u003ENothkeSerCom\u003Cbr\u003ENovaPunch2\u003Cbr\u003ERCSBuildAid\u003Cbr\u003ERemoteTech2\u003Cbr\u003EResGen\u003Cbr\u003ERomfarer\u003Cbr\u003ESquad\u003Cbr\u003EStarvision\u003Cbr\u003EThunderAerospace\u003Cbr\u003Etoolbar-settings.dat\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-07T01:54:34Z\u0022 title=\u002201/07/2014 01:54  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 7, 2014\u003C/time\u003E by draeath\u003C/strong\u003E\n\u003Cbr\u003Eadding note\n\u003C/span\u003E\n"},{"CreatedByName":"Bloodbunny","CreatedById":67274,"CreatedDateTime":"2014-01-07T02:21:35Z","Content":"\n\u003Cp\u003EI guess I\u0027m just not getting something... I\u0027ve been pulling my hair out trying to kill the \u0022bright n\u0027 shiny\u0022 issue for the past hour, and no dice\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://s6.postimg.org/umihd6qgh/wtf.jpg\u0022 alt=\u0022wtf.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, things remain \u0022bright n\u0027 shiny\u0022 despite overriding the textures, NONE of the parts I tried to override were fixed\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-07T02:35:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bloodbunny\u0022 data-cite=\u0022Bloodbunny\u0022\u003E\u003Cdiv\u003EI guess I\u0027m just not getting something... I\u0027ve been pulling my hair out trying to kill the \u0022bright n\u0027 shiny\u0022 issue for the past hour, and no dice\u003Cp\u003E\u003Ca href=\u0022http://s6.postimg.org/umihd6qgh/wtf.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s6.postimg.org/umihd6qgh/wtf.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, things remain \u0022bright n\u0027 shiny\u0022 despite overriding the textures, NONE of the parts I tried to override were fixed\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThose need to be in a section called NORMAL_LIST, not OVERRIDES. like So:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ENORMAL_LIST\u003Cbr\u003E{\u003Cbr\u003E\ttexture = BoulderCo/Clouds/Textures/bump1\u003Cbr\u003E\ttexture = BoulderCo/Clouds/Textures/bump2\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-07T02:40:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bloodbunny\u0022 data-cite=\u0022Bloodbunny\u0022\u003E\u003Cdiv\u003EI guess I\u0027m just not getting something... I\u0027ve been pulling my hair out trying to kill the \u0022bright n\u0027 shiny\u0022 issue for the past hour, and no dice\u003Cp\u003E\u003Ca href=\u0022http://s6.postimg.org/umihd6qgh/wtf.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://s6.postimg.org/umihd6qgh/wtf.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, things remain \u0022bright n\u0027 shiny\u0022 despite overriding the textures, NONE of the parts I tried to override were fixed\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHowever, the FASA mod shouldn\u0027t have that problem. The configs should already be set up properly. Is it installed in the correct location? Should look like ksp_win/GameData/BoulderCo/textureCompressorConfigs/\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-01-07T02:47:24Z","Content":"\n\u003Cp\u003EHow do I tell what file is a normalmap or not? I figured out how to fix some ones but some don\u0027t have a NRM in their name. Some are like model000.mbm and stuff like that.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-07T03:14:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EHow do I tell what file is a normalmap or not? I figured out how to fix some ones but some don\u0027t have a NRM in their name. Some are like model000.mbm and stuff like that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt will mention them in ksp.log\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-01-07T03:30:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EIt will mention them in ksp.log\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI didn\u0027t see anything in the logs. Is this what it looks like but not kosmos?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EIt will look something like this:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EGameDatabase: Texture \u0027KOSMOS/Parts/Structural/Kosmos_Salyut_1.5-1_Taper/NRM\u0027 requested as normal map but texture is not a normal map and is not readable\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not seeing anything like that in the log.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-07T03:36:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EI didn\u0027t see anything in the logs. Is this what it looks like but not kosmos?\u003Cp\u003EI\u0027m not seeing anything like that in the log.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThen your normal maps are \u0022fine\u0022 can you post your ksp.log file?\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-01-07T03:40:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EThen your normal maps are \u0022fine\u0022 can you post your ksp.log file?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/99tbgd87oxr1eec/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003EHere you go.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAlso remember I tried setting them in the settings folder and it looks like this.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/1iLbZOB.png\u0022 alt=\u00221iLbZOB.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Hyomoto","CreatedById":64780,"CreatedDateTime":"2014-01-07T03:45:56Z","Content":"\n\u003Cp\u003EI know shaw originally had support for this mod, in that he disabled his compression when yours was running, do you know if that is still the case?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-07T04:02:30Z","Content":"\n\u003Cp\u003EI just looked at the log file... FASA isn\u0027t mentioned at all in it. Are you sure it is installed or installed properly?\u003C/p\u003E\n"},{"CreatedByName":"Bloodbunny","CreatedById":67274,"CreatedDateTime":"2014-01-07T04:07:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EHowever, the FASA mod shouldn\u0027t have that problem. The configs should already be set up properly. Is it installed in the correct location? Should look like ksp_win/GameData/BoulderCo/textureCompressorConfigs/\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt shouldn\u0027t be, but the images speak for themselves. The path is Steam/KSP/GameData/BoulderCo/textureCompressorConfigs. Most of the FASA stuff is fine, but the newest parts like the BigG, redone Gemini Pod, and the Agena have this persistent issue. Can you use the overrides folder setting to skip compressing the entire mod?\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-01-07T04:09:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EI just looked at the log file... FASA isn\u0027t mentioned at all in it. Are you sure it is installed or installed properly?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t have FASA. The screenshot is just of the textureCompressorConfigs folder. The ones I added are PorkWorks, Radish, RLA, SCANsat, SDHI, and NearFuture. The SDHI is working, only the orbital orb in Porkworks is not working, RLA is just the linear aerospike and its still not working, the radish pod is not working, SCANsat is not working, and almost everything in NearFuture is not working.\u003C/p\u003E\n"}]}