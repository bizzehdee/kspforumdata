{"TopicId":10545,"ForumId":29,"TopicTitle":"[Plugin] KIS Box of Shame","CreatedByName":"kellven","CreatedById":16971,"CreatedDateTime":"2012-05-13T13:04:41Z","PageNum":1,"Articles":[{"CreatedByName":"kellven","CreatedById":16971,"CreatedDateTime":"2012-05-13T13:04:41Z","Content":"\n\u003Cp\u003EUnknown how/what changed in .15, hiding this in a spoiler to prevent accidental BFBVFS. If you\\\u0027re still running .14x for some reason, you can still use this.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E Just a little quick plugin to transfer fuel between ships, shouldn\\\u0027t take too long, right? Wrong.\u003C/p\u003E\u003Cp\u003E The code to actually find and store the vessels, fuel types, and tanks was untouched since I first compiled this monstrosity yesterday. It worked perfectly then, it works perfectly now. Many hours later, the GUI is still being a moody unresponsive teenage punk, and the scene transition and part message handler are still baffling arcane nightmares.\u003C/p\u003E\u003Cp\u003E Rant over, here\\\u0027s what I\\\u0027ve got now:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://img804.imageshack.us/img804/8741/screenshot1sg.jpg\u0022 alt=\u0022screenshot1sg.jpg\u0022\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003C/blockquote\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E For those of you who do not have bionic image enhancing eyes, there are actually two ships in the inky void there.\u003C/p\u003E\u003Cp\u003E I think I finally have the ESC menu fail bypassed with a ductape, caramel, and sprinkle combination, but it\\\u0027s so unwieldy I feel like a script kiddie. This is unacceptable as I do many foolish things, but I do not do script kiddie.\u003C/p\u003E\u003Cp\u003E I was really hoping to get a basic version out this morning, but that\\\u0027s just not going to happen. I apparently ended one ship\\\u0027s flight by accident, and am very very tired, so I\\\u0027m going to admit defeat for now, and try again tomorrow.\u003C/p\u003E\u003Cp\u003EUpdated a bit.\u003C/p\u003E\u003Cp\u003E Edit: Just in case anyone wants to see me code in it\\\u0027s current snarled state:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropbox.com/u/74137297/KISFuelTransferDock.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropbox.com/u/74137297/KISFuelTransferDock.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EStill doesn\\\u0027t do useful stuff, but the only true bug I could find with this version was that the vessel matrix doesn\\\u0027t clear it\\\u0027s contents when ending/switchinging flights. Of course, that\\\u0027s only because I never told it to.\u003C/p\u003E\u003Cp\u003ELicense GPL\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-05-13T13:11:54Z","Content":"\n\u003Cp\u003EEnding flights happened to me too while thesting. Just reload, or, if you closed the game, replace persistent with quicksafe. Should restore the ship if you didn\\\u0027t play for hours after that.\u003C/p\u003E\n"},{"CreatedByName":"Emilio","CreatedById":12359,"CreatedDateTime":"2012-05-13T15:29:34Z","Content":"\n\u003Cp\u003ESo, how do you use it ? You must get close to an other ship to transfer ?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-13T16:44:38Z\u0022 title=\u002205/13/2015 04:44  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 13, 2015\u003C/time\u003E by Emilio\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kellven","CreatedById":16971,"CreatedDateTime":"2012-05-13T21:13:24Z","Content":"\n\u003Cp\u003E It\\\u0027s not functional for actually doing anything right now, I just posted the code in case I had solved a problem someone else was still having.\u003C/p\u003E\u003Cp\u003E -Where is this \u0027refuel\u0027 thread?\u003C/p\u003E\u003Cp\u003E There\\\u0027s only two things it does right now:\u003C/p\u003E\u003Cp\u003E-Handle GUI stuff in a separate static class.\u003C/p\u003E\u003Cp\u003E-Read/store information about vessels and fuel tanks in another separate static class.\u003C/p\u003E\u003Cp\u003E I haven\\\u0027t added any checks on distance yet, other than the parts needing to be within the ~2km \u0027off rails\u0027 zone. It\\\u0027s still in the phase of making sure it\\\u0027s working with valid data. I think I found an array of \u0026lt;vessel\u0026gt; in the FlightGlobals, and may end up using that instead, if having the fuel transfer parts reporting themselves doesn\\\u0027t work out, though it appears to be working perfectly as it is now.\u003C/p\u003E\u003Cp\u003E The real problem is the GUI handling, KSP \u002B Unity wrappers make the GUI system downright arcane, and that\\\u0027s what I was fighting last night.\u003C/p\u003E\u003Cp\u003E Once I get the GUI setup in a working fashion, actually moving the fuel will be fairly straightforward, as everything I could possibly need to know to get it done is already stored in dictionaries and a master matrix.\u003C/p\u003E\u003Cp\u003E I think I\\\u0027m just going to land the ships next to the launch pad for testing now, too much time/effort getting them rendezvoused in orbit.\u003C/p\u003E\n"},{"CreatedByName":"kellven","CreatedById":16971,"CreatedDateTime":"2012-05-14T23:08:23Z","Content":"\n\u003Cp\u003E \u003Ca href=\u0022http://www.bay12games.com/dwarves/\u0022 rel=\u0022external nofollow\u0022\u003EDF 0.34.08\u003C/a\u003E is finally out, so I\\\u0027m not likely to be working on this for a little while.\u003C/p\u003E\u003Cp\u003E The GUI code is now in a much more orderly formation, and the only technical parts left are restructuring/repurposing the vessel/fuel matrix as needed, and adding the fuel requests. If someone wanted to take parts of this and make their own fuel transfer plugin while I\\\u0027m off in Uristan, go right ahead. I did a bunch of fuel related stuff in my atmo engine plugin for my Broadswords, here\\\u0027s the code for that too:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropbox.com/u/74137297/KAtmoEngine.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropbox.com/u/74137297/KAtmoEngine.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E Feel free to copy/paste/rewrite/toast/jam whatever you like out of them.\u003C/p\u003E\n"},{"CreatedByName":"Emilio","CreatedById":12359,"CreatedDateTime":"2012-05-15T13:48:43Z","Content":"\n\u003Cp\u003EThe \u0027refuel\u0027 thread is in the plugin request board\u003C/p\u003E\n"}]}