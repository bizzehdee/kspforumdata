{"TopicId":179030,"ForumId":34,"TopicTitle":"[KSP \u0026gt;= 1.3.0] TweakScale - Under Lisias\u0026#039; Management - 2.4.8.3 - 2024-0525","CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2018-10-16T23:36:49Z","PageNum":141,"Articles":[{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-26T06:50:49Z","Content":"\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#000000;font-size:1.5em;\u0022\u003E\nANNOUNCE\n\u003C/h2\u003E\n\u003Cp style=\u0022color:#000000;\u0022\u003E\nRelease\u003Cspan\u003E\u00A02.4.6.20\u00A0\u003C/span\u003Eis available for downloading, with the following changes:\n\u003C/p\u003E\n\u003Cul style=\u0022color:#000000;font-size:14px;text-align:left;\u0022\u003E\n\u003Cli\u003E\n\u003Cstrong\u003E\u003Cem\u003EMOAR bug fixes!\u003C/em\u003E\u003C/strong\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nUpdates KSPe.Light with yet\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cstrong\u003E\u003Cem\u003Emoar\u003C/em\u003E\u003C/strong\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Ebug fixes.\n\u003C/li\u003E\n\u003Cli\u003E\nCloses Issues:\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/261\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#4183c4;\u0022\u003E#261\u003C/a\u003E\u003Cspan\u003E\u00A0\u003C/span\u003EMisbehaviour (again) while scaling parts with VARIANT\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/238\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#4183c4;\u0022\u003E#238\u003C/a\u003E\u003Cspan\u003E\u00A0\u003C/span\u003ETweakScale is failing to consistently resize the Attachment Node\u2019s sizes.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EI finally nailed the Editor\u0027s Attachment Problems\u003C/u\u003E!!!\u00A0\u003C/strong\u003E\u003Cstrong\u003E#hurray!!!\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022214252432-77e23050-5640-4f93-9bc0-cac201\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002263.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/214252432-77e23050-5640-4f93-9bc0-cac20148da20.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow you can change variants, do duplicates, multiple subassemblies radially, etc on \u0022inverted parts\u0022 (turning them 180\u00BA) without worries on Editor (it never was a problem on Flight Scene).\n\u003C/p\u003E\n\u003Cp\u003E\nThis freaking bug was pesking me for years and, frankly, things just started to fall in their places after working on KSP-Recall - where I could have a glimpse on how and where things get screwed on KSP, and what Squad did to fix or at least workaround some things.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd then it finally passed trough my dull, thick skull: \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariants\u003C/span\u003E is working fine (or didn\u0027t misbehave on the test beds I built for this problem). Editor was the one royally screwing things, and all that code I wrote since 1.4.5 times (when the MPV really started to kick in)\u00A0was coded around an Editor\u0027s bug, not over a \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule\u003C/span\u003E one. TL;DR: I was fighting the wrong code - once I stopped trying to be smarter than \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E, it stopped fighting back and, then, KSP-Recall did its job on Editor.\n\u003C/p\u003E\n\u003Cp\u003E\nFixing bugs by removing code is, well, embarrassing. \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another,\u00A0\u003Cstrong\u003Ethis was the last major bug on TweakScale\u003C/strong\u003E. Now I can, finally, \u00A0be back on doing real improvements on TS.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI will soon\u2122 \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E publish a new Beta release with some serious refactoring which will allow me to work better and faster on supporting 3rd parties futurelly - things on the Companion Program will start to develop faster once 2.5 reaches the main stream - and I\u0027m considering speeding it up by reworking the \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/milestones?direction=asc\u0026amp;sort=title\u0026amp;state=open\u0022 rel=\u0022external nofollow\u0022\u003EROAD MAP\u003C/a\u003E to postpone some things in favor of other ones.\n\u003C/p\u003E\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#000000;font-size:1.5em;\u0022\u003E\nDisclaimer\n\u003C/h2\u003E\n\u003Cp style=\u0022color:#24292f;font-size:16px;\u0022\u003E\nBy last, but not the least...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp style=\u0022color:#24292f;font-size:16px;\u0022\u003E\nNo Module Manager was harmed during the development of TweakScale.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022color:#000000;\u0022\u003E\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#000000;font-size:1.5em;\u0022\u003E\n\u00A0\n\u003C/h2\u003E\n\u003Cp\u003E\nThis Release will be published using the following Schedule:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nGitHub, reaching first manual installers and users of KSP-AVC. Right now.\n\u003C/li\u003E\n\u003Cli\u003E\nCurseForge. Right now.\n\u003C/li\u003E\n\u003Cli\u003E\nSpaceDock (and \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E users). A bit less Soon\u2122.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nThe reasoning is to gradually distribute a potentially Support Fest release in a way that would me allow to provide proper support if anything else goes wrong.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-26T20:49:36Z\u0022 title=\u002201/26/2023 08:49  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 26, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Ecurseforge online\n\u003C/span\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2023-01-26T22:53:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224081\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674715849\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#000000;font-size:1.5em;\u0022\u003E\nANNOUNCE\n\u003C/h2\u003E\n\u003Cp style=\u0022color:#000000;\u0022\u003E\nRelease\u003Cspan\u003E\u00A02.4.6.20\u00A0\u003C/span\u003Eis available for downloading, with the following changes:\n\u003C/p\u003E\n\u003Cul style=\u0022color:#000000;font-size:14px;text-align:left;\u0022\u003E\n\u003Cli\u003E\n\u003Cstrong\u003E\u003Cem\u003EMOAR bug fixes!\u003C/em\u003E\u003C/strong\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nUpdates KSPe.Light with yet\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cstrong\u003E\u003Cem\u003Emoar\u003C/em\u003E\u003C/strong\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Ebug fixes.\n\u003C/li\u003E\n\u003Cli\u003E\nCloses Issues:\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/261\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#4183c4;\u0022\u003E#261\u003C/a\u003E\u003Cspan\u003E\u00A0\u003C/span\u003EMisbehaviour (again) while scaling parts with VARIANT\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/238\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#4183c4;\u0022\u003E#238\u003C/a\u003E\u003Cspan\u003E\u00A0\u003C/span\u003ETweakScale is failing to consistently resize the Attachment Node\u2019s sizes.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EI finally nailed the Editor\u0027s Attachment Problems\u003C/u\u003E!!!\u00A0\u003C/strong\u003E\u003Cstrong\u003E#hurray!!!\u003C/strong\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHooray indeed!\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately (Sorry, I am perpetually the bearer of bad and annoying news :)) I can also confirm that .20 has not fixed similar issues with B9 Part Switch, and has introduced a new bug specifically on parts that have both a fuel switch and mesh switch from B9 part switch. To reproduce each, follow these steps:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EFuel volume issue on parts w/ B9 tank type switcher in symmetry:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nClean KSP; install TweakScale, Recall, (I also have KSPAPIExtensions... not sure if required), B9 Part Switch, and CryoTanks (because it has parts with mesh and tank switching, AND applies tank switching to parts without mesh switching too - handy!)\n\u003C/li\u003E\n\u003Cli\u003E\nIn editor, place \u0026lt;anything\u0026gt;, then place two stock fuel tanks on that part/on those parts in radial symmetry. Note that stock tanks do not have a mesh switching option from B9PS (they have stock variants, though), but they do have \u003Cem\u003Efuel \u003C/em\u003Eswitching (patched in by CryoTanks).\n\u003C/li\u003E\n\u003Cli\u003E\nScale up one of the symmetry tanks; note new fuel volume on the part you justright-clicked on to change scale. Its volume will be correct.\n\u003C/li\u003E\n\u003Cli\u003E\nRight click on the other symmetry tank - note its fuel volume may not have been updated - sometimes it will work, sometimes it won\u0027t; here\u0027s what I think I\u0027ve found about the pattern:\n\u003C/li\u003E\n\u003Cli\u003E\nI THINK it might have to do with which tank you click on - if you right click on and change scale on the \u0022original\u0022 tank (the one you actually placed with your mouse, not the one \u0027generated by symmetry\u0027, so to speak), it seems like the fuel volume scales correctly most (?) of the time. If you right click on (one of) the tank(s) \u003Cem\u003Ecreated by symmetry\u003C/em\u003E, then scale \u003Cem\u003Ethat \u003C/em\u003Etank, then check the volume on the originally-placed tank, the originally-placed tank\u0027s volume will not have updated.\n\u003C/li\u003E\n\u003Cli\u003E\nThat said, it also \u003Cem\u003Edid \u003C/em\u003Ehappen when scaling the \u0022originally placed\u0022 tank, just couldn\u0027t reliably reproduce. Seems decently reliable when you scale the \u0022generated-by-symmetry\u0022 tank, though...\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ETank-removal failure on parts w/ B9 tank type switcher AND mesh switch in symmetry:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nThis one I could reproduce reliably.\n\u003C/li\u003E\n\u003Cli\u003E\nSame setup as above.\n\u003C/li\u003E\n\u003Cli\u003E\nIn editor, place a tank from the CryoTanks mod in symmetry rather than a stock tank - these tanks have both a tank switch and a mesh switch option.\n\u003C/li\u003E\n\u003Cli\u003E\nScale up one of the tanks (or down) - it may or may not update the fuel volume on the other symmetry tank(s) correctly, but now:\n\u003C/li\u003E\n\u003Cli\u003E\nChange the B9 tank type of the tank (e.g. change it from LH2/Ox to LH2 only). I do not think it matters whether you change the tank type of the \u0027originally placed\u0027 part or one generated by symmetry.\n\u003C/li\u003E\n\u003Cli\u003E\nThe new content and volume of the tank you right clicked on to do this tank-type switching will be correct.\n\u003C/li\u003E\n\u003Cli\u003E\nRight click on one of the other symmetry tanks - note that the original tank (LH2/Ox, in this case) is \u003Cem\u003Estill present \u003C/em\u003Ein addition to a probably-correct-volume additional tank of the new type.\n\u003C/li\u003E\n\u003Cli\u003E\nI don\u0027t \u003Cem\u003Ethink \u003C/em\u003Ethis happens on parts that have the stock variants \u002B fuel switch - just on parts that have the B9PS mesh switch \u002B fuel switch, but I didn\u0027t test extensively.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nHope that helps track down the B9 Part Switch issues... sorry to be a bummer! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-26T22:57:55Z\u0022 title=\u002201/26/2023 10:57  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 26, 2023\u003C/time\u003E by AccidentalDisassembly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-26T23:21:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224324\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674773618\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHooray indeed!\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately (Sorry, I am perpetually the bearer of bad and annoying news :)) I can also confirm that .20 has not fixed similar issues with B9 Part Switch\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, Fuel Switches! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThat\u0027s the thing: TweakScale needs to be taught about Fuel Switches, so things would work as you (reasonably) want.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EProblem - historically, shoving 3rd party Fuel Switches support directly into TweakScale leaded to tons os bugs - you fix something for a dude, another one to two got screwed. You rush to fix one of these two, you screw up the first and make things worst for the second...\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnd B9PS had earned me a huge lot of headaches in the past by doing exactly that. In special, when B9PS detects a second Fuel Switch on a part, it refrain itself from working on that part, but it keeps handling events from people that needs to announce or asks things to/from it, causing breakage. Breakage that leads to a support fest to innocent add\u0027ons that were just doing what they are expected to do!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nTL;DR: B9PS still tries to compute the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EIPartCostModifier\u003C/span\u003E and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EIPartMassModifier\u003C/span\u003E interfaces even when it is self-deactivated, what causes NREs and Divisions By Zero inside it!\n\u003C/p\u003E\n\u003Cp\u003E\nSo, how a 3rd party can tell when B9PS is self deactivated or not? And why they should? Why not answering 0 on these Interfaces when B9PS had self deactivated itself? This is a B9PS bug, and should be fixed there.\n\u003C/p\u003E\n\u003Cp\u003E\nI had \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/168\u0022 rel=\u0022external nofollow\u0022\u003Efixed some B9PS bugs myself in the past\u003C/a\u003E, but I\u0027m out of time for doing it nowadays - B9PS is a pretty complex piece of software, I don\u0027t have time to spend on learning it so I can fix things myself!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIt\u0027s the reason \u0022Stock\u0022 TweakScale only supports Stock \u002B DLCs and that\u0027s it.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever\u2026 This doesn\u0027t means that 3rd parties will not be supported. It only happens that such support was delegated into specialised \u0022add\u0027on\u0027 add\u0027ons\u0022, called TweakScale Companion. You will find more on the TweakScale Companion Program\u0027s thread:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022187168\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed9072615713\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/192216-tweakscale-companion-program-2022-0502/\u0026amp;do=embed\u0022 style=\u0022height:195px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nIn time, I just incepted the TweakScale Companion for Fuel Switches \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScaleCompanion_FuelSwitches\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. However, this only works on the TweakScale Beta branch - that soon\u2122 will be promoted to the new 2.5 TweakScale series. I had made some heavy refactoring on TS to allow easier and better coping with such more exotic PartModules\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EB9PS is the next on the line for being implemented, I\u0027m planning to have it working when I launch 2.5 into the main stream, hopefully in the next few weeks.\u003C/s\u003E\u003Cem\u003E[Not anymore: just realised that B9PS \u003Ca href=\u0022https://github.com/blowfishpro/B9PartSwitch/blob/master/GameData/B9PartSwitch/B9PartSwitch-TweakScale.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehandles\u003C/a\u003E TweakScale itself!!]\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u2014\u00A0\u2014\u00A0\u2014 POST EDIT\u00A0\u2014\u00A0\u2014\u00A0\u2014\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224324\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674773618\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHope that helps track down the B9 Part Switch issues... sorry to be a bummer! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot a problem, but please remember that TweakScale doesn\u0027t supports anything but Stock \u002B DLC. Anything else will be supported on a specialised TweakScale Companion, \u003Cs\u003Eand currently I didn\u0027t wrote one for B9PS. Yet. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003E\u003Cspan\u003EOnce I publish it, then please file bug reports on the thing!\u003C/span\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u2014\u00A0\u2014\u00A0\u2014 POST EDIT\u00B2 \u2014\u00A0\u2014\u00A0\u2014\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EHumm\u2026 Perhaps this is related to KSP-Recall ? Since KSP 1.9 Editor is royally screwing up TweakScale by resetting things to the prefab on some\u00A0circumstances\u00A0 and since this is a KSP issue and not TweakScale, I solved the problem on KSP-Recall so TweakScale could focus on its core business instead of trying dark magic to workaround them (and this was another source of\u00A0immense\u00A0headaches for me in the past - things got infinitely better when I\u00A0decided\u00A0to handle KSP\u00A0idiosyncrasies on KSP-Recall instead on TweakScale).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSince B9PS probably had to cope with the same problems, and probably decided to work around it themselves, they are probably having the same problems TweakScale had in the past - i.e., a toe stomping fest between more than one add\u0027on trying to save the day at the same time.\n\u003C/p\u003E\n\u003Cp\u003E\nTry this on the affected rig (save it somewhere in \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGameData\u003C/span\u003E, I suggest \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGameData/__LOCAL/KSP-Recall/B9PS.cfg\u003C/span\u003E to be easily findable later):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E@PART[*]:HAS[@MODULE[ModuleB9PartSwitch]]:FINAL\n{\n\t-MODULE[AttachedOnEditor] { }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nLet me know if this solves the problem for you - if yes, it\u0027s KSP-Recall the one that needs to be updated!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-27T04:05:27Z\u0022 title=\u002201/27/2023 04:05  AM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 27, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EHit \u0026quot;save\u0026quot; too soon.\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-27T04:31:31Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cspan style=\u0022font-size:36px;\u0022\u003E\u003Cstrong\u003ENOTAM\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI just released the latest\u00A0\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cstrong\u003EBETA\u003C/strong\u003E\u003C/span\u003E\u00A0for the (now) near coming TweakScale 2.5.\n\u003C/p\u003E\n\u003Cp\u003E\nA huge refactoring was finished (I think the last one before - if I ever - start to think on TweakScale3), and I need to have this tested on the field in order to check for any unexpected problems these change may cause.\n\u003C/p\u003E\n\u003Cp\u003E\nI reverted a (now) old decision on using \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E:FOR[TweakScale\u003C/span\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E]\u003C/span\u003E in the standard patches. In these two years, very, but very few Add\u0027Ons had adopted the needed protocol to prevent breakage (i.e., using \u003Cspan\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E:AFTER[TweakScale]\u003C/span\u003E or even \u003Cspan\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E:FINAL\u003C/span\u003E\u00A0\u003C/span\u003Ewhen in need to change a TweakScale standard behaviour). So that ship has sailed at this point, and the Right Thing\u2122 will just not happen anymore.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cem\u003E\u0022Vida que segue.\u0022\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOn the bright side, TweakScale 2.5\u00A0\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cstrong\u003EBETA\u003C/strong\u003E\u003C/span\u003E\u00A0is now completely free of any \u0022alien\u0022 code. To tell you the true, not even Stock and DLC specific code is there anymore, everything is now on the specialised DLLs for each KSP version. I finally made TweakScale\u0027s Scale Engine completely game agnostic (with some obvious limitations, as it still depends from the KSP\u0027s life cycle and GameDatabase!).\n\u003C/p\u003E\n\u003Cp\u003E\nThis means 100% clean 3rd party support without the weird shenanigans I had to code in the first TweakScale Companions (some of them will be soon\u2122 rewrote to this new programming interface), and I now have a decent place to shove any Robotics specific code I need to prevent a myriad of problems from being escalated by TweakScale (and without risking screwing up what works fine).\n\u003C/p\u003E\n\u003Cp\u003E\nI suggest to anyone willing to risk their \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E with this stunt to have TweakScale Companion \u0022\u003Cem\u003E\u00DCberPacket\u003C/em\u003E\u0022 installed, as I\u0027m removing even the alien patches from the standard distribution into the Companions - and some ones, like Firespitter, will cause crashes without the specialised support from the respective Companions.\n\u003C/p\u003E\n\u003Cp\u003E\nLinks into the spoiler below:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/releases/tag/PRERELEASE%2F2.5.0.50\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/TweakScale/releases/tag/PRERELEASE%2F2.5.0.50\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScaleCompanion/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/TweakScaleCompanion/releases\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nKeep in mind: you are using a\u00A0\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cstrong\u003EBETA\u003C/strong\u003E\u003C/span\u003E\u00A0release, and things can go down trough the tubes pretty fast if any mistake had passed trough.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EMAKE BACKUPS\u003C/strong\u003E\u003C/span\u003E\u00A0of everything to be on the safe side, and use them instead of your main gaming files.\n\u003C/p\u003E\n\u003Cp\u003E\nIdeally, you must be able to remove TweakScale 2.4.x series from a game, install 2.5 and the TSC \u003Cem\u003E\u00DCberPacket\u003C/em\u003E\u00A0and things will just keep working as nothing had changed (other than some improvements on the new patches). But this is what I\u0027m intending to do, what may not be exactly what I effectively did on this BETA release.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, again, \u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cb\u003EMAKE BACKUPS\u003C/b\u003E\u003C/span\u003E\u00A0if you decide to help me up with this\u00A0\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cstrong\u003EBETA\u003C/strong\u003E\u003C/span\u003E. And don\u0027t risk your valuable savegames on it.\n\u003C/p\u003E\n\u003Cp\u003E\nPlease report any problems, anything, on the \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/42\u0022 rel=\u0022external nofollow\u0022\u003Eissue #42\u003C/a\u003E (lucky number! \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\u003C/span\u003E\u003C/span\u003E) on TweakScale\u0027s issue tracker.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cstrong\u003EIMPORTANT NOTE:\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYou need to use the 2.5\u0027s \u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E999_Scale_Redist.dll\u003C/span\u003E\u00A0(versioned to 1.2), completely replacing any older on GameData, or nothing made for 2.5 (including itself) will work.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything compiled using the older\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E999_Scale_Redist.dll\u003C/span\u003E\u00A0(versioned to 1.0) are expected to work fine, as the new Scale_Redist is backwards compatible down to the first one from 2013. Do not compile anything against it, however - remember, it\u0027s still \u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cstrong\u003EBETA\u003C/strong\u003E\u003C/span\u003E.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-27T04:40:21Z\u0022 title=\u002201/27/2023 04:40  AM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 27, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EImportant Note\n\u003C/span\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2023-01-27T04:49:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224336\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674775295\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAh, Fuel Switches! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThat\u0027s the thing: TweakScale needs to be taught about Fuel Switches, so things would work as you (reasonably) want.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EProblem - historically, shoving 3rd party Fuel Switches support directly into TweakScale leaded to tons os bugs - you fix something for a dude, another one to two got screwed. You rush to fix one of these two, you screw up the first and make things worst for the second...\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnd B9PS had earned me a huge lot of headaches in the past by doing exactly that. In special, when B9PS detects a second Fuel Switch on a part, it refrain itself from working on that part, but it keeps handling events from people that needs to announce or asks things to/from it, causing breakage. Breakage that leads to a support fest to innocent add\u0027ons that were just doing what they are expected to do!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nTL;DR: B9PS still tries to compute the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EIPartCostModifier\u003C/span\u003E and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EIPartMassModifier\u003C/span\u003E interfaces even when it is self-deactivated, what causes NREs and Divisions By Zero inside it!\n\u003C/p\u003E\n\u003Cp\u003E\nSo, how a 3rd party can tell when B9PS is self deactivated or not? And why they should? Why not answering 0 on these Interfaces when B9PS had self deactivated itself? This is a B9PS bug, and should be fixed there.\n\u003C/p\u003E\n\u003Cp\u003E\nI had \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/168\u0022 rel=\u0022external nofollow\u0022\u003Efixed some B9PS bugs myself in the past\u003C/a\u003E, but I\u0027m out of time for doing it nowadays - B9PS is a pretty complex piece of software, I don\u0027t have time to spend on learning it so I can fix things myself!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIt\u0027s the reason \u0022Stock\u0022 TweakScale only supports Stock \u002B DLCs and that\u0027s it.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever\u2026 This doesn\u0027t means that 3rd parties will not be supported. It only happens that such support was delegated into specialised \u0022add\u0027on\u0027 add\u0027ons\u0022, called TweakScale Companion. You will find more on the TweakScale Companion Program\u0027s thread:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022187168\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4582751375\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/192216-tweakscale-companion-program-2022-0502/\u0026amp;do=embed\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nIn time, I just incepted the TweakScale Companion for Fuel Switches \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScaleCompanion_FuelSwitches\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. However, this only works on the TweakScale Beta branch - that soon\u2122 will be promoted to the new 2.5 TweakScale series. I had made some heavy refactoring on TS to allow easier and better coping with such more exotic PartModules\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EB9PS is the next on the line for being implemented, I\u0027m planning to have it working when I launch 2.5 into the main stream, hopefully in the next few weeks.\u003C/s\u003E\u003Cem\u003E[Not anymore: just realised that B9PS \u003Ca href=\u0022https://github.com/blowfishpro/B9PartSwitch/blob/master/GameData/B9PartSwitch/B9PartSwitch-TweakScale.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehandles\u003C/a\u003E TweakScale itself!!]\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u2014\u00A0\u2014\u00A0\u2014 POST EDIT\u00A0\u2014\u00A0\u2014\u00A0\u2014\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot a problem, but please remember that TweakScale doesn\u0027t supports anything but Stock \u002B DLC. Anything else will be supported on a specialised TweakScale Companion, and currently I didn\u0027t wrote one for B9PS. Yet. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOnce I publish it, then please file bug reports on the thing!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u2014\u00A0\u2014\u00A0\u2014 POST EDIT\u00B2 \u2014\u00A0\u2014\u00A0\u2014\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EHumm\u2026 Perhaps this is related to KSP-Recall ? Since KSP 1.9 Editor is royally screwing up TweakScale by resetting things to the prefab on some\u00A0circumstances\u00A0 and since this is a KSP issue and not TweakScale, I solved the problem on KSP-Recall so TweakScale could focus on its core business instead of trying dark magic to workaround them (and this was another source of\u00A0immense\u00A0headaches for me in the past - things got infinitely better when I\u00A0decided\u00A0to handle KSP\u00A0idiosyncrasies on KSP-Recall instead on TweakScale).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSince B9PS probably had to cope with the same problems, and probably decided to work around it themselves, they are probably having the same problems TweakScale had in the past - i.e., a toe stomping fest between more than one add\u0027on trying to save the day at the same time.\n\u003C/p\u003E\n\u003Cp\u003E\nTry this on the affected rig (save it somewhere in \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGameData\u003C/span\u003E, I suggest \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGameData/__LOCAL/KSP-Recall/B9PS.cfg\u003C/span\u003E to be easily findable later):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E@PART[*]:HAS[@MODULE[ModuleB9PartSwitch]]:FINAL\n{\n\t-MODULE[AttachedOnEditor] { }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nLet me know if this solves the problem for you - if yes, it\u0027s KSP-Recall the one that needs to be updated!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure what to make of the results, but I tried that out, and it does change the behavior - it doesn\u0027t fix things, but it makes them... different...\n\u003C/p\u003E\n\u003Cp\u003E\nWith that patch, the incorrect fuel tank scaling is now more reliably reproduced - scale up the first part you place, and the symmetry tank will never (or ... rarely? not sure) be updated with the right contents (whereas before, it only seemed reliable when scaling the tank created by symmetry).\n\u003C/p\u003E\n\u003Cp\u003E\nI see the same \u0022tank didn\u0027t get deleted when changing contents\u0022 behavior, as far as I can tell, but now that behavior also occurs on the stock tanks (that don\u0027t also have mesh switching). This now happens without needing to scale the tank to trigger the behavior (although I can\u0027t be totally sure that is different from before) as well.\n\u003C/p\u003E\n\u003Cp\u003E\nSometimes, at least, with stock tanks (only fuel switching), if you place tanks in symmetry, scale up a tank, look at the other tank (which will have incorrect fuel amounts), then pick up the tank you just scaled, place it back in symmetry - re-placing the tank will update the symmetry tank to have the correct values...\n\u003C/p\u003E\n\u003Cp\u003E\nOther odd stuff happened with picking up and re-placing tanks as well, where volumes did \u003Cem\u003Enot \u003C/em\u003Eget updated correctly - all I could figure is that this would happen if you picked up the tank with the incorrect volume, then re-placed it (volumes not updated). But if you picked up whichever tank had the correct volume, and re-placed \u003Cem\u003Eit\u003C/em\u003E, both would get updated correctly. All of this seemed different between tanks with only fuel switching and tanks with mesh switching.\n\u003C/p\u003E\n\u003Cp\u003E\nIn any case, all of these behaviors are different from what happened on .19, so... effects are happening! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-27T04:50:51Z\u0022 title=\u002201/27/2023 04:50  AM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 27, 2023\u003C/time\u003E by AccidentalDisassembly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-27T08:44:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224422\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674794943\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn any case, all of these behaviors are different from what happened on .19, so... effects are happening! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUntil 2.4.6.19, I was screwing (and being screwed back) by \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariants\u003C/span\u003E. The first time I implemented support for it, I thought that some weirds interactions I was having in the code was due some idiosyncrasy (or plain bug) from the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule\u003C/span\u003E itself. I think I managed to kick this thing trough the doors on the KSP 1.6 times.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nWhat I did was to force my hand on the problem after \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariants\u003C/span\u003E had \u0022misbehaved\u0022. Essentially doing myself part of the work done by it (to tell you the true, calculating where I thought the part should be, calculating the difference from where part effectively was, and then translating the part into the right place using that diff). Problem, by some mistake of mine, if a part is rotate to any axis more than 90\u00BA, any Part attached to it would be displaced, as this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022179405512-fb42b6a8-d12b-410b-ac8e-639cd0\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/179405512-fb42b6a8-d12b-410b-ac8e-639cd0251df2.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut\u2026 And I missed this detail at that time,\u00A0\u003Cstrong\u003Eonly when the craft was being loaded into the Editor\u003C/strong\u003E!! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI was pretty convinced that this was something I did wrong, but didn\u0027t found where - and I completely failed to note that this same thing wasn\u0027t happening when the craft was being loaded by the Flight Scene - for some reason\u00A0beyond\u00A0my current\u00A0comprehension, I didn\u0027t connected the dots: the craft being loaded correctly into the Flight Scene\u00A0\u003Cb\u003Edefinitively\u003C/b\u003E\u00A0ruled out my code from the problem. \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EThen, I had this misbehaviour:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022212561668-18e5b33f-dea6-4306-906b-64bf21\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/212561668-18e5b33f-dea6-4306-906b-64bf21a7aded.png\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EEvery time I change the variant on an already scaled part, the attachment points were being miscalculated (see the Juno being injected inside the Adapter tank!).\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E\u003Cspan\u003E\u00A0This one was on me for sure, but I also didn\u0027t understood exactly why and where - the code was looking solid, the logging was giving me the numbers I was expecting.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EThen I finally had a happy thought (#einsteinFellings). \u0022\u003Cem\u003EDude\u2026 The damned craft was being loaded fine on Flight Scene! I\u0027m innocent on that one!\u003C/em\u003E\u0022. So I though it would be another bug on Editor, and tried to figure it out using KSP-Recall.\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E\u003Cspan\u003E\u00A0No dice.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EThen I got fed up, and left the task to be tackled down later and published .19 the way it was. I was playing another game I\u0027m liking very much (Planet Nomads) in this weekend when another \u0022happy thought\u0022 happened to me: \u0022\u003Ca href=\u0022https://www.facebook.com/watch/?v=10100745273358063\u0022 rel=\u0022external nofollow\u0022\u003ETwo lightnings can hit the same person on the same place at the same time, after all\u003C/a\u003E\u0022 (the dude on the video survived). There\u0027s nothing preventing\u00A0\u003Cstrong\u003Etwo problems\u003C/strong\u003E\u00A0from happening at the same times with similar effects.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo my code could both be doing something right (and later I discovered it was right but useless) and wrong at the same time, being the second \u0022wrong\u0022 being a consequence os something else. So I removed my custom scaling node code from the Variant Scale Engine and trusted the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E would do its job correctly. And it did. The second problem was solved by rescaling the whole part once the user changes the Variant - then the ticket was solved. I had wrote a code that solved the problem by duplicating a behaviour, and that code ended up in my way when something else had happened rendering me without being sure about who as borking and where.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, now, we \u0022can\u0027t\u0022 have a problem on TweakScale anymore, because I\u0027m trusting \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E to do its part of the deal, and then just scaled things using the same code that is used for parts without variants since the beginning of times.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only problem at hands, now, is the one on Editor that gets completely confused if any of the first two parts of a Craft (from the root) doesn\u0027t have the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u00A0and then a part with it happens somewhere in the chain (or something like that, I forgot the gory details). And this one is already being tackled down by KSP-Recall using the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAttachedOnEditor\u003C/span\u003E thingy. When I found that Editor was also screwing up with Resources, I wrote \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EResourceful\u003C/span\u003E to work around it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nNow, back to the problem at our hands on B9PS:\u00A0\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nI managed to reproduce the problem\n\u003Col\u003E\n\u003Cli\u003E\nAny part with B9PS switching fuels is being affected, so CryoTanks is out of the problem - but\u00A0you already knew it.\n\u003C/li\u003E\n\u003Cli\u003E\nBut I reproduced the problem after uninstalling CryoTanks, CommunityResourcePack and Dynamic BatteryStorage\u00A0just to have hard evidence of it.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nYou are right - when you scale the original tank, everything works fine. When you scale a clone, only the resources of the clone gets recalculated, the other two keep the last values before the scaling.\n\u003C/li\u003E\n\u003Cli\u003E\nKSP-Recall is not involved on the mess, I removed it from the parts with B9PS and the misbehaviour kept happening.\n\u003Col\u003E\n\u003Cli\u003E\nOn the bright side, apparently B9PS doesn\u0027t needed it. So I will remove KSP-Recall\u0027s \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAttachedOnEditor\u003C/span\u003E and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EResourceful\u003C/span\u003E from parts using it and save some memory and CPU cycles.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nMy code on the Scaling Engine for \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E was innocent anyway, because B9PS removes the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E from the Part, and then TweakScale reverts to use the Classic Scale Engine - and this one is solid for almost a decade by now.\n\u003Col\u003E\n\u003Cli\u003E\nSo the change in\u00A0behaviour\u00A0is happening because I gave up trying to be smart and decided to rescale the whole part all the time on Editor, instead of doing it only when I thought it was needed - this \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/commit/7e20f41d8e70f30db850b1c67a36d9dca861d846\u0022 rel=\u0022external nofollow\u0022\u003Ecommit\u003C/a\u003E is the only thing between .19 and .20 that could be influencing on the change of behaviour.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nHumm.. Perhaps B9PS is innocent, and it only happens that you noticed the problem by using it?\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nSo I fired up an almost clean KSP 1.12.5 (only TweakScale 2.4.6.20 and\u00A0Recall) and reproduced the problem the same. Damn.\n\u003C/p\u003E\n\u003Cp\u003E\nWorst. It\u0027s happening also with parts without \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u00A0(Mk1 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E Fuselage). Danm\u00B2:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nStart the craft using a MK1 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E Tank\n\u003C/li\u003E\n\u003Cli\u003E\nAttach another one radially using symmetry (I used 3)\n\u003C/li\u003E\n\u003Cli\u003E\nScale any cloned tank (\u003Cstrong\u003Edo not\u003C/strong\u003E scale the original one).\n\u003C/li\u003E\n\u003Cli\u003E\nProblem reproduced: by opening the \u003Cabbr title=\u0022Part Action Window\u0022\u003E\u003Cabbr title=\u0022Part Action Window\u0022\u003EPAW\u003C/abbr\u003E\u003C/abbr\u003E of every tank, you will note that at least one of them will have the wrong fuel capacity - most of the time, only he one you scaled up will be fine.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nAnd interesting\u2026 If you use Chain Scale (and scale the root part), all the parts are scaled correctly!\n\u003C/p\u003E\n\u003Cp\u003E\nBut\u2026 Such a marvellous bork would be detected while development. So I decided to make regressions tests on 2.4.6.20 into other KSP versions too (I usually develop on 1.4.3 and test things up, because KSP 1.4.3 is fantastically faster on my old potato than anything newer!).\n\u003C/p\u003E\n\u003Cp\u003E\nHell, the damned thing worked fine on KSP 1.4.3!! Damn\u00B3!!!! (not a surprise, right? I would had detected the problem on it)\n\u003C/p\u003E\n\u003Cp\u003E\nTried it again on KSP 1.8.1 : Works fine!!\n\u003C/p\u003E\n\u003Cp\u003E\nTried it on KSP 1.11.2 : Works fine!!!\n\u003C/p\u003E\n\u003Cp\u003E\nSo this is a new problem introduced by KSP somewhere on the 1.12.x series, apparenlty. I don\u0027t have 1.12.0 neither 1.12.1 installed anymore, so I tried it on a 1.12.2 test bed that I forgot to delete: It worked fine!!!\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s weird\u2026 This kind of bug usually happens on the .0 release. Something wrong is not right here...\n\u003C/p\u003E\n\u003Cp\u003E\nSo I tried again on 1.12.5 (didn\u0027t had touched that thing since the last test a couple hours ago). And the problem was there...\n\u003C/p\u003E\n\u003Cp\u003E\nConfusing. Why only my 1.12.5 is being screwed by 2.4.6.20? 1.12.2 worked fine.\n\u003C/p\u003E\n\u003Cp\u003E\nThen I noticed the TweakScale button on the toolbar was greenlit - and I remembered that on all the other tests, that button was turned off. Then I thought to myself, \u003Cs\u003Ewhat a wonderful world\u003C/s\u003E\u2026 I mean\u2026 \u003Cem\u003E\u003Cstrong\u003E\u0022Nooooooo\u2026 IT CAN\u0027T BE\u2026.\u0022\u003C/strong\u003E\u003C/em\u003E. And then\u00A0I clicked on it twice - don\u0027t even unchecked anything.\n\u003C/p\u003E\n\u003Cp\u003E\nGuess what? The problem vanished!!!!\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo that\u0027s the \u0022fix\u0022: open and close the TweakScale\u0027s Option Menu and everything (apparently) will be fine after!! At least on an almost pure stock rig.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110936\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0022 rel=\u0022\u0022\u003E@AccidentalDisassembly\u003C/a\u003E, please reproduce the problem using B9PS\u00A0and try my \u0022fix\u0022 - right now I need to take some rest, it\u0027s still working days and I just had recovered from a nasty flu (I\u0027m wasted, to tell you the true).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185655-sokol_323/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022185655\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185655-sokol_323/\u0022 rel=\u0022\u0022\u003E@Sokol_323\u003C/a\u003E, the problem you described \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179030-ksp-130-tweakscale-under-lisias-management-24620-2023-0126/\u0026amp;do=findComment\u0026amp;comment=4223854\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E\u00A0may be related! If the problem you reported ever happen again, try clicking the TweakScale button twice to see what happens (do not bother setting or unsetting any options!).\n\u003C/p\u003E\n\u003Cp\u003E\nMy current working theory is that I forgot to initialise something when one (or all) of that Options are set when booting KSP! I will investigate it further on this weekend!\n\u003C/p\u003E\n\u003Cp\u003E\nCheers for all, and thank you for your reports! That one I would\u00A0\u003Cstrong\u003Enever\u003C/strong\u003E\u00A0caught by myself!!!!\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-27T15:46:37Z\u0022 title=\u002201/27/2023 03:46  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 27, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2023-01-27T22:08:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224455\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674809048\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUntil 2.4.6.19, I was screwing (and being screwed back) by \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariants\u003C/span\u003E. The first time I implemented support for it, I thought that some weirds interactions I was having in the code was due some idiosyncrasy (or plain bug) from the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule\u003C/span\u003E itself. I think I managed to kick this thing trough the doors on the KSP 1.6 times.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nWhat I did was to force my hand on the problem after \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariants\u003C/span\u003E had \u0022misbehaved\u0022. Essentially doing myself part of the work done by it (to tell you the true, calculating where I thought the part should be, calculating the difference from where part effectively was, and then translating the part into the right place using that diff). Problem, by some mistake of mine, if a part is rotate to any axis more than 90\u00BA, any Part attached to it would be displaced, as this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://user-images.githubusercontent.com/64334/179405512-fb42b6a8-d12b-410b-ac8e-639cd0251df2.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022179405512-fb42b6a8-d12b-410b-ac8e-639cd0\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/179405512-fb42b6a8-d12b-410b-ac8e-639cd0251df2.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut\u2026 And I missed this detail at that time,\u00A0\u003Cstrong\u003Eonly when the craft was being loaded into the Editor\u003C/strong\u003E!! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI was pretty convinced that this was something I did wrong, but didn\u0027t found where - and I completely failed to note that this same thing wasn\u0027t happening when the craft was being loaded by the Flight Scene - for some reason\u00A0beyond\u00A0my current\u00A0comprehension, I didn\u0027t connected the dots: the craft being loaded correctly into the Flight Scene\u00A0\u003Cb\u003Edefinitively\u003C/b\u003E\u00A0ruled out my code from the problem. \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EThen, I had this misbehaviour:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Ca href=\u0022https://user-images.githubusercontent.com/64334/212561668-18e5b33f-dea6-4306-906b-64bf21a7aded.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022212561668-18e5b33f-dea6-4306-906b-64bf21\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/212561668-18e5b33f-dea6-4306-906b-64bf21a7aded.png\u0022\u003E\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EEvery time I change the variant on an already scaled part, the attachment points were being miscalculated (see the Juno being injected inside the Adapter tank!).\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E\u003Cspan\u003E\u00A0This one was on me for sure, but I also didn\u0027t understood exactly why and where - the code was looking solid, the logging was giving me the numbers I was expecting.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EThen I finally had a happy thought (#einsteinFellings). \u0022\u003Cem\u003EDude\u2026 The damned craft was being loaded fine on Flight Scene! I\u0027m innocent on that one!\u003C/em\u003E\u0022. So I though it would be another bug on Editor, and tried to figure it out using KSP-Recall.\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E\u003Cspan\u003E\u00A0No dice.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EThen I got fed up, and left the task to be tackled down later and published .19 the way it was. I was playing another game I\u0027m liking very much (Planet Nomads) in this weekend when another \u0022happy thought\u0022 happened to me: \u0022\u003Ca href=\u0022https://www.facebook.com/watch/?v=10100745273358063\u0022 rel=\u0022external nofollow\u0022\u003ETwo lightnings can hit the same person on the same place at the same time, after all\u003C/a\u003E\u0022 (the dude on the video survived). There\u0027s nothing preventing\u00A0\u003Cstrong\u003Etwo problems\u003C/strong\u003E\u00A0from happening at the same times with similar effects.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo my code could both be doing something right (and later I discovered it was right but useless) and wrong at the same time, being the second \u0022wrong\u0022 being a consequence os something else. So I removed my custom scaling node code from the Variant Scale Engine and trusted the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E would do its job correctly. And it did. The second problem was solved by rescaling the whole part once the user changes the Variant - then the ticket was solved. I had wrote a code that solved the problem by duplicating a behaviour, and that code ended up in my way when something else had happened rendering me without being sure about who as borking and where.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, now, we \u0022can\u0027t\u0022 have a problem on TweakScale anymore, because I\u0027m trusting \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E to do its part of the deal, and then just scaled things using the same code that is used for parts without variants since the beginning of times.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only problem at hands, now, is the one on Editor that gets completely confused if any of the first two parts of a Craft (from the root) doesn\u0027t have the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u00A0and then a part with it happens somewhere in the chain (or something like that, I forgot the gory details). And this one is already being tackled down by KSP-Recall using the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAttachedOnEditor\u003C/span\u003E thingy. When I found that Editor was also screwing up with Resources, I wrote \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EResourceful\u003C/span\u003E to work around it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nNow, back to the problem at our hands on B9PS:\u00A0\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nI managed to reproduce the problem\n\u003Col\u003E\n\u003Cli\u003E\nAny part with B9PS switching fuels is being affected, so CryoTanks is out of the problem - but\u00A0you already knew it.\n\u003C/li\u003E\n\u003Cli\u003E\nBut I reproduced the problem after uninstalling CryoTanks, CommunityResourcePack and Dynamic BatteryStorage\u00A0just to have hard evidence of it.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nYou are right - when you scale the original tank, everything works fine. When you scale a clone, only the resources of the clone gets recalculated, the other two keep the last values before the scaling.\n\u003C/li\u003E\n\u003Cli\u003E\nKSP-Recall is not involved on the mess, I removed it from the parts with B9PS and the misbehaviour kept happening.\n\u003Col\u003E\n\u003Cli\u003E\nOn the bright side, apparently B9PS doesn\u0027t needed it. So I will remove KSP-Recall\u0027s \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAttachedOnEditor\u003C/span\u003E and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EResourceful\u003C/span\u003E from parts using it and save some memory and CPU cycles.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nMy code on the Scaling Engine for \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E was innocent anyway, because B9PS removes the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E from the Part, and then TweakScale reverts to use the Classic Scale Engine - and this one is solid for almost a decade by now.\n\u003Col\u003E\n\u003Cli\u003E\nSo the change in\u00A0behaviour\u00A0is happening because I gave up trying to be smart and decided to rescale the whole part all the time on Editor, instead of doing it only when I thought it was needed - this \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/commit/7e20f41d8e70f30db850b1c67a36d9dca861d846\u0022 rel=\u0022external nofollow\u0022\u003Ecommit\u003C/a\u003E is the only thing between .19 and .20 that could be influencing on the change of behaviour.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nHumm.. Perhaps B9PS is innocent, and it only happens that you noticed the problem by using it?\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nSo I fired up an almost clean KSP 1.12.5 (only TweakScale 2.4.6.20 and\u00A0Recall) and reproduced the problem the same. Damn.\n\u003C/p\u003E\n\u003Cp\u003E\nWorst. It\u0027s happening also with parts without \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u00A0(Mk1 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E Fuselage). Danm\u00B2:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nStart the craft using a MK1 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E Tank\n\u003C/li\u003E\n\u003Cli\u003E\nAttach another one radially using symmetry (I used 3)\n\u003C/li\u003E\n\u003Cli\u003E\nScale any cloned tank (\u003Cstrong\u003Edo not\u003C/strong\u003E scale the original one).\n\u003C/li\u003E\n\u003Cli\u003E\nProblem reproduced: by opening the \u003Cabbr title=\u0022Part Action Window\u0022\u003E\u003Cabbr title=\u0022Part Action Window\u0022\u003EPAW\u003C/abbr\u003E\u003C/abbr\u003E of every tank, you will note that at least one of them will have the wrong fuel capacity - most of the time, only he one you scaled up will be fine.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nAnd interesting\u2026 If you use Chain Scale (and scale the root part), all the parts are scaled correctly!\n\u003C/p\u003E\n\u003Cp\u003E\nBut\u2026 Such a marvellous bork would be detected while development. So I decided to make regressions tests on 2.4.6.20 into other KSP versions too (I usually develop on 1.4.3 and test things up, because KSP 1.4.3 is fantastically faster on my old potato than anything newer!).\n\u003C/p\u003E\n\u003Cp\u003E\nHell, the damned thing worked fine on KSP 1.4.3!! Damn\u00B3!!!! (not a surprise, right? I would had detected the problem on it)\n\u003C/p\u003E\n\u003Cp\u003E\nTried it again on KSP 1.8.1 : Works fine!!\n\u003C/p\u003E\n\u003Cp\u003E\nTried it on KSP 1.11.2 : Works fine!!!\n\u003C/p\u003E\n\u003Cp\u003E\nSo this is a new problem introduced by KSP somewhere on the 1.12.x series, apparenlty. I don\u0027t have 1.12.0 neither 1.12.1 installed anymore, so I tried it on a 1.12.2 test bed that I forgot to delete: It worked fine!!!\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s weird\u2026 This kind of bug usually happens on the .0 release. Something wrong is not right here...\n\u003C/p\u003E\n\u003Cp\u003E\nSo I tried again on 1.12.5 (didn\u0027t had touched that thing since the last test a couple hours ago). And the problem was there...\n\u003C/p\u003E\n\u003Cp\u003E\nConfusing. Why only my 1.12.5 is being screwed by 2.4.6.20? 1.12.2 worked fine.\n\u003C/p\u003E\n\u003Cp\u003E\nThen I noticed the TweakScale button on the toolbar was greenlit - and I remembered that on all the other tests, that button was turned off. Then I thought to myself, \u003Cs\u003Ewhat a wonderful world\u003C/s\u003E\u2026 I mean\u2026 \u003Cem\u003E\u003Cstrong\u003E\u0022Nooooooo\u2026 IT CAN\u0027T BE\u2026.\u0022\u003C/strong\u003E\u003C/em\u003E. And then\u00A0I clicked on it twice - don\u0027t even unchecked anything.\n\u003C/p\u003E\n\u003Cp\u003E\nGuess what? The problem vanished!!!!\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo that\u0027s the \u0022fix\u0022: open and close the TweakScale\u0027s Option Menu and everything (apparently) will be fine after!! At least on an almost pure stock rig.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110936\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0022 rel=\u0022\u0022\u003E@AccidentalDisassembly\u003C/a\u003E, please reproduce the problem using B9PS\u00A0and try my \u0022fix\u0022 - right now I need to take some rest, it\u0027s still working days and I just had recovered from a nasty flu (I\u0027m wasted, to tell you the true).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185655-sokol_323/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022185655\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185655-sokol_323/\u0022 rel=\u0022\u0022\u003E@Sokol_323\u003C/a\u003E, the problem you described \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179030-ksp-130-tweakscale-under-lisias-management-24620-2023-0126/\u0026amp;do=findComment\u0026amp;comment=4223854\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E\u00A0may be related! If the problem you reported ever happen again, try clicking the TweakScale button twice to see what happens (do not bother setting or unsetting any options!).\n\u003C/p\u003E\n\u003Cp\u003E\nMy current working theory is that I forgot to initialise something when one (or all) of that Options are set when booting KSP! I will investigate it further on this weekend!\n\u003C/p\u003E\n\u003Cp\u003E\nCheers for all, and thank you for your reports! That one I would\u00A0\u003Cstrong\u003Enever\u003C/strong\u003E\u00A0caught by myself!!!!\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGet some sleep! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI can report that opening and closing the TweakScale options button (in the stock toolbar in the editor) does not seem to change the behavior... also, I don\u0027t see any green on the icon, before or after pressing... Odd. \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThe setup I used was the same (just TS, Recall, CryoTanks \u002B dependency for the handy fuel-switching patches, and KSPAPIExtensions). I had removed the patch that stripped everything of \u003C/span\u003EAttachedOnEditor as well. I tried with and without the TS Companion for CryoTanks just in case something weird was happening there.\n\u003C/p\u003E\n\u003Cp\u003E\nI can also report a pattern I didn\u0027t notice before, I think it can be reproduced:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nAfter first loading game and entering editor, do normal thing: place a part, then place stock tank (with B9PS fuel switching patched onto it by CryoTanks) in symmetry; scale the original up. Clone will not have correct fuel.\n\u003C/li\u003E\n\u003Cli\u003E\nPick up the original and delete the part.\n\u003C/li\u003E\n\u003Cli\u003E\nPlace a new fuel tank as before in symmetry; scale up original. Clone \u003Cstrong\u003Ewill\u003C/strong\u003E have correct fuel values.\n\u003C/li\u003E\n\u003Cli\u003E\nSo something is happening where every second time you \u003Cem\u003Eplace \u003C/em\u003Ea part in symmetry, something appears to be set such that the clone will get updated with the fuel value correctly. Then the next time you place a tank, it will be incorrect when scaled up; the time after that, the values will be correct when scaling up... odd.\n\u003C/li\u003E\n\u003Cli\u003E\nThis every-second-placement thing does not seem to affect the problem where tanks aren\u0027t removed when switching the tank contents, it just seems to affect the updating of the values on the clone tank... I think... hard to say.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nHope you feel better soon!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-27T22:10:09Z\u0022 title=\u002201/27/2023 10:10  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 27, 2023\u003C/time\u003E by AccidentalDisassembly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mussarelinha","CreatedById":225181,"CreatedDateTime":"2023-01-27T22:13:44Z","Content":"\n\u003Cp\u003E\nTweakscale stopped working after this update, is there a reason? i reinstalled, deleted and installed again, but to no avail...\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-28T00:55:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224710\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674857624\u0022 data-ipsquote-userid=\u0022225181\u0022 data-ipsquote-username=\u0022Mussarelinha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Mussarelinha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTweakscale stopped working after this update, is there a reason? i reinstalled, deleted and installed again, but to no avail...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSend me your KSP.log and I will check what happened - TweakScale usually logs a cry for help there, telling what had happened!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224708\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674857297\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI can report that opening and closing the TweakScale options button (in the stock toolbar in the editor) does not seem to change the behavior... also, I don\u0027t see any green on the icon, before or after pressing... Odd. \u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI confess that odd it was the damned stunt doing the trick on my side. Just for the sake of curiosity - did reproduced the problem on an almost vanilla installation? (KSP \u002B DLC \u002B KSP-Recall \u002B TweakScale)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224708\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674857297\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can also report a pattern I didn\u0027t notice before, I think it can be reproduced:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nAfter first loading game and entering editor, do normal thing: place a part, then place stock tank (with B9PS fuel switching patched onto it by CryoTanks) in symmetry; scale the original up. Clone will not have correct fuel.\n\u003C/li\u003E\n\u003Cli\u003E\nPick up the original and delete the part.\n\u003C/li\u003E\n\u003Cli\u003E\nPlace a new fuel tank as before in symmetry; scale up original. Clone \u003Cstrong\u003Ewill\u003C/strong\u003E have correct fuel values.\n\u003C/li\u003E\n\u003Cli\u003E\nSo something is happening where every second time you \u003Cem\u003Eplace \u003C/em\u003Ea part in symmetry, something appears to be set such that the clone will get updated with the fuel value correctly. Then the next time you place a tank, it will be incorrect when scaled up; the time after that, the values will be correct when scaling up... odd.\n\u003C/li\u003E\n\u003Cli\u003E\nThis every-second-placement thing does not seem to affect the problem where tanks aren\u0027t removed when switching the tank contents, it just seems to affect the updating of the values on the clone tank... I think... hard to say.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s absolutely weird. I will do some more checks. Can you send me a new KSP.log from your rig after reproducing the problem?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224710\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674857624\u0022 data-ipsquote-userid=\u0022225181\u0022 data-ipsquote-username=\u0022Mussarelinha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Mussarelinha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTweakscale stopped working after this update, is there a reason? i reinstalled, deleted and installed again, but to no avail...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHow exactly it stopped to work? Do you see a TwesakScale icon on the toolbar? Or it\u0027s a functinal problem (i.e, TweakScale is there, but it\u0027s not working as expected, perhaps with weird behaviours)?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m curious about these problems, because I did tested the thing (in multiple KSP versions!) before releasing it.\n\u003C/p\u003E\n\u003Cp\u003E\nI need to find a pattern. Please send me your KSP.log in a way or another, so I can see what\u0027s installed on your rig and check for anything smelly.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-28T01:15:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224708\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674857297\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can also report a pattern I didn\u0027t notice before, I think it can be reproduced:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nAfter first loading game and entering editor, do normal thing: place a part, then place stock tank (with B9PS fuel switching patched onto it by CryoTanks) in symmetry; scale the original up. Clone will not have correct fuel.\n\u003C/li\u003E\n\u003Cli\u003E\nPick up the original and delete the part.\n\u003C/li\u003E\n\u003Cli\u003E\nPlace a new fuel tank as before in symmetry; scale up original. Clone \u003Cstrong\u003Ewill\u003C/strong\u003E have correct fuel values.\n\u003C/li\u003E\n\u003Cli\u003E\nSo something is happening where every second time you \u003Cem\u003Eplace \u003C/em\u003Ea part in symmetry, something appears to be set such that the clone will get updated with the fuel value correctly. Then the next time you place a tank, it will be incorrect when scaled up; the time after that, the values will be correct when scaling up... odd.\n\u003C/li\u003E\n\u003Cli\u003E\nThis every-second-placement thing does not seem to affect the problem where tanks aren\u0027t removed when switching the tank contents, it just seems to affect the updating of the values on the clone tank... I think... hard to say.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s the problem: I\u0027m easily reproducing this on KSP\u00A0\u003Cstrong\u003Ewithout\u003C/strong\u003E\u00A0B9PS installed. B9PS is just an innocent bystander yelling about something else hitting him by behind.\n\u003C/p\u003E\n\u003Cp\u003E\nTweakScale appears to be the hitter, but I can\u0027t rule out something else inducing TweakScale to the err, because\u2026 Hell, this damned thing is working on most test beds I have (1.4.3, 1.7.3, 1.8.1, 1.11.2 for sure).\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, this is how I reproducing the problem now, using a pretty clean KSP rig only with Recall and TweakScale:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nStart a craft using MK1 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E Tank\n\u003C/li\u003E\n\u003Cli\u003E\nPlace a second MK1 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E Tank radially, using symmetry (I\u0027m using 3)\n\u003C/li\u003E\n\u003Cli\u003E\nScale the original radially attached\u00A0tank once.\n\u003Col\u003E\n\u003Cli\u003E\nAll the clones scale\u00A0fine\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nScale the original radially attached tank again\n\u003Col\u003E\n\u003Cli\u003E\nAll the clones\u00A0\u003Cstrong\u003Eare not\u003C/strong\u003E\u00A0scaled right, they retain the previous RESOURCES settings.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nThen I made another check, starting from the point I left \u003Cspan\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003EI detached the original radially attached tank\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003EAttached it back\u003C/span\u003E\u003C/span\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003Etwo more clones are created\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003EAll parts are descaled back to the original size\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003EBut the original tank retains the previous RESOURCE settings.\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nI reproduced this on KSP 1.12.5. I will check this behaviour on previous KSP releases I still have around to confirm if the problem is on TweakScale, or if this is something new. Or both...\n\u003C/p\u003E\n\u003Cp\u003E\n\u2014 \u2014 POST EDIT \u2014 \u2014\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E**NOW**\u003C/strong\u003E\u00A0I could reproduce the problem deterministically on KSP 1.11.2 too.\n\u003C/p\u003E\n\u003Cp\u003E\nChecking all the others.\n\u003C/p\u003E\n\u003Cp\u003E\n\u2014 \u2014 POST POST EDIT \u2014 \u2014\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI got things right on KSP 1.10.1. So I\u0027m guessing something changed (again) on Editor on KSP 1.11.x (probably .0 , but I don\u0027t have a working 1.11.0 test bed anymore).\n\u003C/p\u003E\n\u003Cp\u003E\nThis ruled out (apparently) TweakScale of any wrongdoing, it\u0027s something \u0022new\u0022 that happened on the 1.11.x series that, somehow, my previous crappy code was making. Now that I decided to \u0022trust\u0022 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E, KSP\u0027s Editor (apparently) decided to strike back in revenge.\n\u003C/p\u003E\n\u003Cp\u003E\nI had already saw this movie before - or one pretty similar: Editor is squashing current\u0027s part data with prefab\u0027s again.\n\u003C/p\u003E\n\u003Cp\u003E\nI will keep testing things down to 1.3.1 just to be\u00A0\u003Cstrong\u003Eabsolutely\u003C/strong\u003E\u00A0sure about this working theory - this can be also a race condition unadrevtidly created by TweakScale\u0027s code since ever and that I uncovering now. If I\u0027m right, I will probably detect an anomaly or two sooner or later by going back KSP versions, as each version added or removed something from the Part\u0027s Life Cycle and this would have some effect on the race condition.\n\u003C/p\u003E\n\u003Cp\u003E\nStill working on it. I need to be reasonably sure about the race condition or the Editor\u0027s prefab squashing because the solution for the problem will differ accordingly.\n\u003C/p\u003E\n\u003Cp\u003E\n\u2014 \u2014 POST POST POST EDIT \u2014 \u2014\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nInteresting.\n\u003C/p\u003E\n\u003Cp\u003E\nOn 1.9.1, the first part of the test (scaling the radially attached thanks) passed, but the second (detaching e reattaching) failed.\n\u003C/p\u003E\n\u003Cp\u003E\nRedoing the test (both this time) on 1.10.1,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFrom now on, I will just update the following table as I do the checkings (1st check is the scaling the radial tanks twice, the 2nd is detaching and attaching again):\n\u003C/p\u003E\n\u003Ctable align=\u0022left\u0022 border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:600px;\u0022\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth scope=\u0022col\u0022 style=\u0022text-align:center;\u0022\u003E\nKSP\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022 style=\u0022text-align:center;\u0022\u003E\n1st Check\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022 style=\u0022text-align:center;\u0022\u003E\n2nd Check\n\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.12.5\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003EFail\u003C/span\u003E\u003C/strong\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003EFail\u003C/span\u003E\u003C/strong\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.11.2\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003EFail\u003C/span\u003E\u003C/strong\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003EFail\u003C/span\u003E\u003C/strong\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.10.1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#16a085;\u0022\u003EPass\u003C/span\u003E\u003C/strong\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003EFail\u003C/span\u003E\u003C/strong\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.9.1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EFail\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.8.1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EFail\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.7.3\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.6.1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.5.1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.4.5\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003E\u003Cs\u003EFail (!!!)\u003C/s\u003E\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.4.3\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.4.1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n1.3.1\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cstrong\u003EPass\u003C/strong\u003E\u003C/span\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNote: the 2nd Check on 1.4.5 didn\u0027t really failed, I messed the test myself. Doing the check properly \u0027fixed\u0027 the results \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-28T03:21:05Z\u0022 title=\u002201/28/2023 03:21  AM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 28, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EPOST\u00B3 EDIT\n\u003C/span\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2023-01-28T03:08:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224771\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674867318\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI confess that odd it was the damned stunt doing the trick on my side. Just for the sake of curiosity - did reproduced the problem on an almost vanilla installation? (KSP \u002B DLC \u002B KSP-Recall \u002B TweakScale)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes - However, is KSPAPIExtensions a dependency? TweakScale applies patches without that installed, but no TweakScale control appears in the editor \u003Cabbr title=\u0022Part Action Window\u0022\u003E\u003Cabbr title=\u0022Part Action Window\u0022\u003EPAW\u003C/abbr\u003E\u003C/abbr\u003E if I don\u0027t also have KSPAPIExtensions. Meaning: if my GameData folder consists only of 999_KSP-Recall, ModuleManagerWatchDog, Squad, SquadExpansion, TweakScale, 666_ModuleManagerWatchDog.dll, 999_Scale_Redist.dll, ModuleManager4.2.2.dll - then TweakScale does not function.\n\u003C/p\u003E\n\u003Cp\u003E\nIf it\u0027s a hard dependency, might want to mention that somewhere in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003E\u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u003C/abbr\u003E... unless I missed it! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnyhoo, h\u003Cspan\u003Eere is a .zip with 3 log files. Hopefully named clearly. One is a log where I loaded KSP without KSPAPIExtensions (no part scaling, because nonfunctional); one is with only the above in GameData, \u003Cstrong\u003Eplus \u003C/strong\u003E000_KSPAPIExtensions, plus KSPe.dll, plus the KSPe config in the KSP_win64/PluginData/ folder, and the last one is with B9PS and CryoTanks added (with dependencies).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ELogs: \u003C/span\u003E\u003Ca href=\u0022https://www.dropbox.com/s/hqonxkxlqkv9ywe/ts_logs_2023_01_27.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/hqonxkxlqkv9ywe/ts_logs_2023_01_27.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOn the log \u003Cstrong\u003Ewith \u003C/strong\u003Ekspapiextensions, these are the actions I performed in game:\u003C/span\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cspan\u003EStart game -\u0026gt; new Sandbox.\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EGo to \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E; place Mk1 fuel tank.\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003ESelect Mk1 fuel from part list and Place 2 additional Mk1 fuel tanks in radial symmetry, surface attached, no snap.\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nCheck volumes; scale up original (non-clone) tank, check new volumes. Clone volume incorrect.\n\u003C/li\u003E\n\u003Cli\u003E\nRemove original non-clone tank and delete (drop on parts list).\n\u003C/li\u003E\n\u003Cli\u003E\nRepeat above process, but then, after scaling up to 1.875 and observing incorrect volumes, pick up original tank, place original tank again on the root Mk1 fuel tank (still radial symmetry 2x).\n\u003C/li\u003E\n\u003Cli\u003E\nCheck volumes: they are both correct now.\n\u003C/li\u003E\n\u003Cli\u003E\nAlt-F4 to exit game.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOn the CryoTanks log, here\u0027s what I did:\u003C/span\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cspan\u003ESame steps as above with Mk1 fuel tanks, except rather than Alt-F4 to exit, continued by doing this:\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nPlace two H125-4 cryo tanks in radial symmetry 2x. Scale up the original tank, observe new volumes. Both volumes \u003Cstrong\u003Ecorrect\u003C/strong\u003E.\n\u003C/li\u003E\n\u003Cli\u003E\nChange tank contents of original tank to LH2 only (from LH2Ox) - Clone tank gains LH2 in the correct amount, but retains original LH2Ox tanks as well (so: two LH2 resources, one Ox resource).\n\u003C/li\u003E\n\u003Cli\u003E\nPick up original tank and delete (drop on part list).\n\u003C/li\u003E\n\u003Cli\u003E\nPlace two new H125-4 cryo tanks in same symmetry. WITHOUT scaling the original tank, change its contents to LqdMethane (only). Clone tank has correct LqdMethane amount and no extra resources.\n\u003C/li\u003E\n\u003Cli\u003E\nScale up original tank - clone tank does \u003Cstrong\u003Enot\u003C/strong\u003E update LqdMethane resource quantity correctly.\n\u003C/li\u003E\n\u003Cli\u003E\nPick up and re-place original tank: clone tank does \u003Cstrong\u003Enot \u003C/strong\u003Eupdate LqdMethane resource quantity correctly.\n\u003C/li\u003E\n\u003Cli\u003E\nPick up original tank a second time, re-place it a second time: Original tank now only partially filled (2075 of 6750) - what the hell?; clone tank still full, but still incorrect capacity for LqdMethane\n\u003C/li\u003E\n\u003Cli\u003E\nTry the same thing with a Mk1 fuel tank: place 2 in symmetry, scale original up, clone tank does not update. Pick up original tank, place again, clone tank updates. Pick up original tank and re-place two or three more times: clone tank still has correct values.\n\u003C/li\u003E\n\u003Cli\u003E\nAlt-F4 to exit game\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nHope that helps!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-28T03:09:08Z\u0022 title=\u002201/28/2023 03:09  AM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 28, 2023\u003C/time\u003E by AccidentalDisassembly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-28T03:20:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224802\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674875310\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes - However, is KSPAPIExtensions a dependency? TweakScale applies patches without that installed, but no TweakScale control appears in the editor \u003Cabbr title=\u0022Part Action Window\u0022\u003E\u003Cabbr title=\u0022Part Action Window\u0022\u003EPAW\u003C/abbr\u003E\u003C/abbr\u003E if I don\u0027t also have KSPAPIExtensions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDAMN! I screwed up the merge. KSPe should be a dependency only on the Beta branch, not the mainstream!\n\u003C/p\u003E\n\u003Cp\u003E\nAs you will observe above, I\u0027m nailing the problems as follows:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n1st Check: something changed on KSP 1.11.x, and the code cleanup I did on TS\u00A0probably removed some crappy code that was masking it. I will check the change log to see if this is not something I had already fixed but forgot about.\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cem\u003EEDIT: Nope. I never handled it before, this really caught me with my pants down...\u003C/em\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n2nd Check: By some weird reason, when using Auto Scale, by attaching the part back, all the parts (original and symmetries) get scaled to the size of the parent (as expected). But the root part keeps its resources as is was still scaled.\n\u003Cul\u003E\n\u003Cli\u003E\nThis one is my fault. I forgot to send a Message to KSP-Recall to rebuild the Resources cache. You will note that the only KSP versions affected are the ones that need \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EResourceful\u003C/span\u003E to be applied!\n\u003C/li\u003E\n\u003Cli\u003E\nEDIT: While fixing #282 (see below), I detected that once Auto Scale started to behave nicely on KSP \u0026lt;= 1.10.2, on 1.11.2 it started to behave\u00A0\u003Cstrong\u003Eexactly\u003C/strong\u003E\u00A0like #283. I think KSP 1.11.x screwed up royally\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0\u003Cspan\u003Ethis\u003C/span\u003E\u003Cspan style=\u0022background-color:rgb(230,255,236);color:rgb(36,41,47);\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(36,41,47);\u0022\u003Epart\u003C/span\u003E\u003Cspan style=\u0022background-color:rgb(230,255,236);color:rgb(36,41,47);\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(36,41,47);\u0022\u003EsymmetryCounterparts\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nI\u0027m inspecting your logs and will redo the tests your way now. In a way or another, I had to withdraw 2.4.6.20 . Too much hassle, I will issue a 2.4.6.21 as soon as I fix the KSPe mishap, the fix for the \u00222nd Check\u0022 (it should be a easy pick) and whatever I need to do to survive the mess KSP 1.11.x brought to me. I think your issues are the same, being the reason I intend to reproduce \u0022your\u0022 way on KSP 1.12.5 and then on 1.10.1 to see what happens.\n\u003C/p\u003E\n\u003Cp\u003E\n\u2014 \u2014 POST EDIT \u2014 \u2014\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYep\u2026 It\u0027s it.\n\u003C/p\u003E\n\u003Cp\u003E\nThe symmetry handling was broken on KSP 1.11.x , but since I was still forcing my hand on things by brute force, I didn\u0027t detected it. Once I removed that half baked solution I had coded, the problem ceased from being masked by it and so\u2026\u00A0\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/283\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/TweakScale/issues/283\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd since we are here, this one is on me:\u00A0\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/282\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/TweakScale/issues/282\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-28T04:54:41Z\u0022 title=\u002201/28/2023 04:54  AM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 28, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Epost edit\n\u003C/span\u003E\n"},{"CreatedByName":"Mussarelinha","CreatedById":225181,"CreatedDateTime":"2023-01-28T13:52:35Z","Content":"\n\u003Cp\u003E\nwhere can i find the KSP.log? I am playing using the epicgames version btw, that is, i downloaded ksp from the epicgames and i am playing with mods via forge\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-28T14:00:24Z\u0022 title=\u002201/28/2023 02:00  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 28, 2023\u003C/time\u003E by Mussarelinha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mussarelinha","CreatedById":225181,"CreatedDateTime":"2023-01-28T13:53:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224771\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674867318\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSend me your KSP.log and I will check what happened - TweakScale usually logs a cry for help there, telling what had happened!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI confess that odd it was the damned stunt doing the trick on my side. Just for the sake of curiosity - did reproduced the problem on an almost vanilla installation? (KSP \u002B DLC \u002B KSP-Recall \u002B TweakScale)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s absolutely weird. I will do some more checks. Can you send me a new KSP.log from your rig after reproducing the problem?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHow exactly it stopped to work? Do you see a TwesakScale icon on the toolbar? Or it\u0027s a functinal problem (i.e, TweakScale is there, but it\u0027s not working as expected, perhaps with weird behaviours)?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m curious about these problems, because I did tested the thing (in multiple KSP versions!) before releasing it.\n\u003C/p\u003E\n\u003Cp\u003E\nI need to find a pattern. Please send me your KSP.log in a way or another, so I can see what\u0027s installed on your rig and check for anything smelly.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nafter i downloaded the .5 update it just stopped working as if it wasn\u0027t installed, the icon wasn\u0027t present and the option to scale things wasn\u0027t present either.\n\u003C/p\u003E\n"},{"CreatedByName":"Mussarelinha","CreatedById":225181,"CreatedDateTime":"2023-01-28T14:07:02Z","Content":"\n\u003Cp\u003E\nLike, \u0022Vessel name is missing part module Tweakscale\u0022\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-28T16:35:16Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:36px;\u0022\u003ENOTAM\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOh, yeah. I was caught with my pants down again. Further jokes about is not allowed by Forum Rules 2.2.c, d \u0026amp; g.\u00A0\u003Cimg alt=\u0022:sealed:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 title=\u0022:sealed:\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis last 2.4.6.20 release marvellously blew up on my\u2026 face. That\u0027s the reasons:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nI forgot a development library as a dependency, allowing it to\u00A0leak into mainstream\n\u003Cul\u003E\n\u003Cli\u003E\nI did that before on another add\u0027on, and forgot to echo the fix on TS\n\u003C/li\u003E\n\u003Cli\u003E\nKSP 1.12.5 was recently released, and I didn\u0027t created yet the Acceptance Test test rig for it, so I ended making the smoke tests on a dirty development environment. Not one of my brightest moments.\n\u003C/li\u003E\n\u003Cli\u003E\nBut it ended being for the best.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nA major bork on scaling Resources was detected by our fellow Kerbonaut \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110936\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0022 rel=\u0022\u0022\u003E@AccidentalDisassembly\u003C/a\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nIt was determined that TweakScale is not the cause, as the problem started to happen only on KSP 1.11.x (just have 1.11.2 installed at this point).\n\u003C/li\u003E\n\u003Cli\u003E\nBut yet, it\u0027s something that needs to be tackled down somehow.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nAnother bug on the Auto Scale (and Chain) were detected in the process (and this one is fixed now).\n\u003C/p\u003E\n\u003Cp\u003E\nNow, let\u0027s talk about what\u0027s bitting our SASes right now.\n\u003C/p\u003E\n\u003Cp\u003E\nOn KSP 1.11.x something changed (again) on Editor that screwed Part Switches and TweakScale by messing up the PartModule\u0027s life cycle when the Part being configured have Symmetries Counter Parts. Apparently a PartMessage is not being issued somehow (or issued too soon or too late), and so a chain of events that was happening until 1.10.1 stopped happening (or do it on an useless timeframe) from 1.11.x and forward.\n\u003C/p\u003E\n\u003Cp\u003E\nDamn, this is pretty annoying.\n\u003C/p\u003E\n\u003Cp\u003E\nBy some reason, that crappy code I got rid from TweakScale was masking this problem. I don\u0027t have the slightest idea what, where and why. I prefer not to think about too much, I\u0027m still burnt by that \u003Ca href=\u0022https://github.com/net-lisias-ksp/AirplanePlus/issues/10\u0022 rel=\u0022external nofollow\u0022\u003EAirplanePlus MonkeyPatching problem\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another, I had nailed down the problem to KSP 1.11.x . The \u0022new\u0022 TweakScale code works perfectly from KSP 1.3.1 to KSP 1.10.1.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother evidence that the root problem is Editor is that by saving the craft (or launching it), the problems detected on the Resources are \u0022magically\u0022 fixed. Magically on quotes, because this is evidence that without Editor screwing it, TweakScale is working fine - otherwise things would be still screwed on Flight Scene.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, TL;DR:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nTweakScale is innocent, but it\u0027s up to me to cope with the mess nevertheless\n\u003C/li\u003E\n\u003Cli\u003E\nB9PS is also innocent, as it depends of TweakScale for knowing\u00A0\u003Cstrong\u003Ewhen\u003C/strong\u003E\u00A0to do its things,\n\u003Cul\u003E\n\u003Cli\u003E\nOn the bright side, I discovered that at AttachedOnEditor and Attached Recall stunts are not needed when B9PS is installed on the part. Next version of Recall will withdraw itself from parts using it.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSaving and loading the craft solves the problem.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nAgain, this last info states clearly where the problem really is.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m unsure if I will be able to fix this one, but since the impact is negligible - crafts are fine when launched, where things really matter - I will call it a day and release 2.4.6.21 with I have at hands now.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-28T17:22:15Z\u0022 title=\u002201/28/2023 05:22  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 28, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003ETypos! Good thing they\u0026#039;re not illegal!\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-28T17:17:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224922\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674913955\u0022 data-ipsquote-userid=\u0022225181\u0022 data-ipsquote-username=\u0022Mussarelinha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Mussarelinha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhere can i find the KSP.log? I am playing using the epicgames version btw, that is, i downloaded ksp from the epicgames and i am playing with mods via forge\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, this makes things easier. Tell forge to uninstall 2.4.6.20 and install 2.4.6.19 back.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m working on .21 right now, it should be available to downloading in a couple hours.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd thanks for the heads up, I need to update the Support instructions for Epic Store!\n\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2023-01-28T18:11:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224224974\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674923716\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:36px;\u0022\u003ENOTAM\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOh, yeah. I was caught with my pants down again. Further jokes about is not allowed by Forum Rules 2.2.c, d \u0026amp; g.\u00A0\u003Cimg alt=\u0022:sealed:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 title=\u0022:sealed:\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis last 2.4.6.20 release marvellously blew up on my\u2026 face. That\u0027s the reasons:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nI forgot a development library as a dependency, allowing it to\u00A0leak into mainstream\n\u003Cul\u003E\n\u003Cli\u003E\nI did that before on another add\u0027on, and forgot to echo the fix on TS\n\u003C/li\u003E\n\u003Cli\u003E\nKSP 1.12.5 was recently released, and I didn\u0027t created yet the Acceptance Test test rig for it, so I ended making the smoke tests on a dirty development environment. Not one of my brightest moments.\n\u003C/li\u003E\n\u003Cli\u003E\nBut it ended being for the best.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nA major bork on scaling Resources was detected by our fellow Kerbonaut \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110936\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110936-accidentaldisassembly/\u0022 rel=\u0022\u0022\u003E@AccidentalDisassembly\u003C/a\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nIt was determined that TweakScale is not the cause, as the problem started to happen only on KSP 1.11.x (just have 1.11.2 installed at this point).\n\u003C/li\u003E\n\u003Cli\u003E\nBut yet, it\u0027s something that needs to be tackled down somehow.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nAnother bug on the Auto Scale (and Chain) were detected in the process (and this one is fixed now).\n\u003C/p\u003E\n\u003Cp\u003E\nNow, let\u0027s talk about what\u0027s bitting our SASes right now.\n\u003C/p\u003E\n\u003Cp\u003E\nOn KSP 1.11.x something changed (again) on Editor that screwed Part Switches and TweakScale by messing up the PartModule\u0027s life cycle when the Part being configured have Symmetries Counter Parts. Apparently a PartMessage is not being issued somehow (or issued too soon or too late), and so a chain of events that was happening until 1.10.1 stopped happening (or do it on an useless timeframe) from 1.11.x and forward.\n\u003C/p\u003E\n\u003Cp\u003E\nDamn, this is pretty annoying.\n\u003C/p\u003E\n\u003Cp\u003E\nBy some reason, that crappy code I got rid from TweakScale was masking this problem. I don\u0027t have the slightest idea what, where and why. I prefer not to think about too much, I\u0027m still burnt by that \u003Ca href=\u0022https://github.com/net-lisias-ksp/AirplanePlus/issues/10\u0022 rel=\u0022external nofollow\u0022\u003EAirplanePlus MonkeyPatching problem\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another, I had nailed down the problem to KSP 1.11.x . The \u0022new\u0022 TweakScale code works perfectly from KSP 1.3.1 to KSP 1.10.1.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother evidence that the root problem is Editor is that by saving the craft (or launching it), the problems detected on the Resources are \u0022magically\u0022 fixed. Magically on quotes, because this is evidence that without Editor screwing it, TweakScale is working fine - otherwise things would be still screwed on Flight Scene.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, TL;DR:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nTweakScale is innocent, but it\u0027s up to me to cope with the mess nevertheless\n\u003C/li\u003E\n\u003Cli\u003E\nB9PS is also innocent, as it depends of TweakScale for knowing\u00A0\u003Cstrong\u003Ewhen\u003C/strong\u003E\u00A0to do its things,\n\u003Cul\u003E\n\u003Cli\u003E\nOn the bright side, I discovered that at AttachedOnEditor and Attached Recall stunts are not needed when B9PS is installed on the part. Next version of Recall will withdraw itself from parts using it.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSaving and loading the craft solves the problem.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nAgain, this last info states clearly where the problem really is.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m unsure if I will be able to fix this one, but since the impact is negligible - crafts are fine when launched, where things really matter - I will call it a day and release 2.4.6.21 with I have at hands now.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWellllll.... shoot. I didn\u0027t even think to test saving/loading or simply launching the craft; the values do seem to turn out right (extraneous tanks deleted, both symmetry parts have same contents).\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, INCORRECT values are preserved after launching a craft if you pick up and re-place the CryoTanks a couple times on my CryoTanks test setup, reproducing the weird phenomenon I described where picking up and re-placing the original tank once probably won\u0027t change anything, twice maybe will change things, three times probably will end up with the original tank being partially filled in the editor - it also will be partially filled in flight (for instance, a tank with original capacity of 400 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E or Ox, scaled up 1.5x, picked up and re-placed a couple times, can end up with 405/1350 fuel contents in the editor; 1350 is the right max number, but where did that 405 come from...?), or when reverting to hangar, or when saving/loading.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen launching or loading, the amount of fuel in the both the original tank and the symmetry clone will be 400/1350, not 405 - the fill amount is equal to the part\u0027s unscaled capacity in Ox (I was using Ox-only tank type to test), max values will be correct. Not sure why the tanks are getting de-filled and why it at first reports 405/1350 in the editor...\n\u003C/p\u003E\n\u003Cp\u003E\nI could not reproduce this partial-filling thing on parts without B9PS fuel/tank switching AND mesh-switching, but I didn\u0027t try every part exhaustively.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-28T18:12:17Z\u0022 title=\u002201/28/2023 06:12  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 28, 2023\u003C/time\u003E by AccidentalDisassembly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-28T19:50:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224225019\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674929466\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWellllll.... shoot. I didn\u0027t even think to test saving/loading or simply launching the craft; the values do seem to turn out right (extraneous tanks deleted, both symmetry parts have same contents).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNeither did I!!! I had to quit KSP to do something else, and when I reloaded it later I was lazy and reload the craft instead of doing everything from scratch!!\u00A0\u003Cspan\u003E\u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224225019\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674929466\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHowever, INCORRECT values are preserved after launching a craft if you pick up and re-place the CryoTanks a couple times on my CryoTanks test setup, reproducing the weird phenomenon I described where picking up and re-placing the original tank once probably won\u0027t change anything, twice maybe will change things, three times probably will end up with the original tank being partially filled in the editor - it also will be partially filled in flight (for instance, a tank with original capacity of 400 \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E or Ox, scaled up 1.5x, picked up and re-placed a couple times, can end up with 405/1350 fuel contents in the editor; 1350 is the right max number, but where did that 405 come from...?), or when reverting to hangar, or when saving/loading.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, right now, this is not happening to me, so perhaps the #282 ended up fixing something else by collateral effect. I just published\u00A02.4.6.21 (\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/releases/tag/RELEASE%2F2.4.6.21\u0022 rel=\u0022external nofollow\u0022\u003Egithub\u003C/a\u003E and \u003Ca href=\u0022https://www.curseforge.com/kerbal/ksp-mods/tweakscale/files/all\u0022 rel=\u0022external nofollow\u0022\u003Ecurseforge\u003C/a\u003E are up to date right now as I already had people downloading 2.4.6.20 from them, on SpaceDock I will delay a few hours just in case\u2026).\n\u003C/p\u003E\n\u003Cp\u003E\nBut since B9PS is not Stock, if the problem persists it will be tackled down on \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScaleCompanion_FuelSwitches\u0022 rel=\u0022external nofollow\u0022\u003ETweakScale Companion for Fuel Switches\u003C/a\u003E from now on.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u00A0\u003Cstrong\u003Ewill\u003C/strong\u003E\u00A0be tackled down, rest assured. It only won\u0027t be by TweakScale.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224225019\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674929466\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhen launching or loading, the amount of fuel in the both the original tank and the symmetry clone will be 400/1350, not 405 - the fill amount is equal to the part\u0027s unscaled capacity in Ox (I was using Ox-only tank type to test), max values will be correct. Not sure why the tanks are getting de-filled and why it at first reports 405/1350 in the editor...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere\u0027s a chance that this would be KSP-Recall \u0022restoring\u0022 that last known values for the Resources due KSP being known to squash the current one from values from prefab. Since KSP (from 1.11.x) is failing somehow to handle Symmetries from TweakScale, then these poor guys ended up not receiving some PartMessages (I\u00A0confirmed that they are being sent by TweakScale), and since KSP-Recall rely on PartMessages from TweakScale (or any other interested party) to know when it should refresh its internal structures from new data, what you are describing can be a possible consequence.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, since I was testing B9PS anyway, I checked if removing some PartModules from Recall when the part uses B9PS would cause any problem, and I realised that not. I\u0027m publishing a new KSP-Recall release in the next hour reflecting this. I think this may solve this punctual problem from yours.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224225019\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674929466\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI could not reproduce this partial-filling thing on parts without B9PS fuel/tank switching AND mesh-switching, but I didn\u0027t try every part exhaustively.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere are no exceptions on TweakScale code, other than specialised handling of \u0022Classic Parts\u0022 and \u0022Parts with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u0022. And since B9PS get rid of every \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u00A0on the part, TS is surely using the Classic Engine for parts with B9PS - that are known to work fine together for years.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m reasonably sure that by fixing the problem for on part, we will fix it for all the other - unless KSP\u0027s Editor would be screwing something else besides Resources from 1.11.x and newer.\n\u003C/p\u003E\n\u003Cp\u003E\nCuriously, I the latest B9PS on KSP 1.10.1 , and it got screwed on it! I just fail to understand (or perhaps I don\u0027t?) why \u0022new\u0022 TweakScale fails on 1.11.x and 1.12.x but works fine on everything else, why \u0022older\u0022 TweskScale is working fine on everything, and why B9PS is working fine only from KSP 1.11.x . I think I will need to check B9PS historical commits since 1.10.1 to see what had changed in order to get some idea about what in hell is happening here...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-28T19:52:48Z\u0022 title=\u002201/28/2023 07:52  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 28, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003ETyops, what else?\n\u003C/span\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2023-01-28T20:10:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224225072\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674935429\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNeither did I!!! I had to quit KSP to do something else, and when I reloaded it later I was lazy and reload the craft instead of doing everything from scratch!!\u00A0\u003Cspan\u003E\u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWell, right now, this is not happening to me, so perhaps the #282 ended up fixing something else by collateral effect. I just published\u00A02.4.6.21 (\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/releases/tag/RELEASE%2F2.4.6.21\u0022 rel=\u0022external nofollow\u0022\u003Egithub\u003C/a\u003E and \u003Ca href=\u0022https://www.curseforge.com/kerbal/ksp-mods/tweakscale/files/all\u0022 rel=\u0022external nofollow\u0022\u003Ecurseforge\u003C/a\u003E are up to date right now as I already had people downloading 2.4.6.20 from them, on SpaceDock I will delay a few hours just in case\u2026).\n\u003C/p\u003E\n\u003Cp\u003E\nBut since B9PS is not Stock, if the problem persists it will be tackled down on \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScaleCompanion_FuelSwitches\u0022 rel=\u0022external nofollow\u0022\u003ETweakScale Companion for Fuel Switches\u003C/a\u003E from now on.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u00A0\u003Cstrong\u003Ewill\u003C/strong\u003E\u00A0be tackled down, rest assured. It only won\u0027t be by TweakScale.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a chance that this would be KSP-Recall \u0022restoring\u0022 that last known values for the Resources due KSP being known to squash the current one from values from prefab. Since KSP (from 1.11.x) is failing somehow to handle Symmetries from TweakScale, then these poor guys ended up not receiving some PartMessages (I\u00A0confirmed that they are being sent by TweakScale), and since KSP-Recall rely on PartMessages from TweakScale (or any other interested party) to know when it should refresh its internal structures from new data, what you are describing can be a possible consequence.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, since I was testing B9PS anyway, I checked if removing some PartModules from Recall when the part uses B9PS would cause any problem, and I realised that not. I\u0027m publishing a new KSP-Recall release in the next hour reflecting this. I think this may solve this punctual problem from yours.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere are no exceptions on TweakScale code, other than specialised handling of \u0022Classic Parts\u0022 and \u0022Parts with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u0022. And since B9PS get rid of every \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModulePartVariant\u003C/span\u003E\u00A0on the part, TS is surely using the Classic Engine for parts with B9PS - that are known to work fine together for years.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m reasonably sure that by fixing the problem for on part, we will fix it for all the other - unless KSP\u0027s Editor would be screwing something else besides Resources from 1.11.x and newer.\n\u003C/p\u003E\n\u003Cp\u003E\nCuriously, I the latest B9PS on KSP 1.10.1 , and it got screwed on it! I just fail to understand (or perhaps I don\u0027t?) why \u0022new\u0022 TweakScale fails on 1.11.x and 1.12.x but works fine on everything else, why \u0022older\u0022 TweskScale is working fine on everything, and why B9PS is working fine only from KSP 1.11.x . I think I will need to check B9PS historical commits since 1.10.1 to see what had changed in order to get some idea about what in hell is happening here...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTried it out - I could not reproduce the \u0027leftover tank type\u0027 problem anymore, hooray! The odd values reported in the editor and the \u0022tank de-fills when you place it the third time if it has both tank switching and mesh switching from B9PS, but doesn\u0027t happen on parts with B9PS tank switching and stock variants, and only after 3 tries\u0022 are still present, but if you drag the slider up to full, the tank values will be correct when launching, so easy enough to work around!\n\u003C/p\u003E\n"},{"CreatedByName":"noaa_satellite","CreatedById":213609,"CreatedDateTime":"2023-01-29T03:10:16Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003ESorry if this is a basic question but how do you change the mass scale exponent for a specific given part? Like a patch that identifies a specific part and just changes the mass scale exponent. I\u0027ve been trying to figure it out on my own but it hasn\u0027t been working, so what\u0027s the right way to do it?\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-29T03:44:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224225192\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674961816\u0022 data-ipsquote-userid=\u0022213609\u0022 data-ipsquote-username=\u0022noaa_satellite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, noaa_satellite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003ESorry if this is a basic question but how do you change the mass scale exponent for a specific given part? Like a patch that identifies a specific part and just changes the mass scale exponent. I\u0027ve been trying to figure it out on my own but it hasn\u0027t been working, so what\u0027s the right way to do it?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nby overwritting the\u00A0\u003Cstrong\u003Emass\u003C/strong\u003E\u00A0exponent from the Part module like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E@PART[FancyPantsPart]:AFTER[TweakScale]\n{\n\t@MODULE[TweakScale]\n\t{\n\t\t%TWEAKSCALEEXPONENTS[Part]\n\t\t{\n\t\t\t%mass = 3.25\n\t\t}\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis part will scale its mass, from now on, using a 3.25 exponent (yep, you can use fractions on the exponents!).\n\u003C/p\u003E\n\u003Cp\u003E\nThe :AFTER will save you from some race conditions - use TweakScale is the part is being patched by TweakScale, otherwise use the name of the Add\u0027On that had patched the part - if this patch \u0022runs\u0022 before the target add\u0027on is able to patch the file with their own patches, it will fail.\n\u003C/p\u003E\n\u003Cp\u003E\nThe first \u0022@\u0022 will prevent the patch if the part wasn\u0027t patched yet (important to prevent double patching if things goes out of hand). The \u0022%\u0022 will add or replace the respective data into the TweakScale\u0027s section - it\u0027s almost impossible to have TweakScale patched on a part without having also a \u003Cstrong\u003ETWEAKSCALEEXPONENT\u003C/strong\u003E for \u003Cstrong\u003EPart\u003C/strong\u003E, and this one having the mass exponent. But, better safer than sorry. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAvoid exponents less than 1.0 - it\u0027s almost sure it will not do what you expect. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Undone","CreatedById":225216,"CreatedDateTime":"2023-01-29T12:44:50Z","Content":"\n\u003Cp\u003E\nI\u0027ve just come back to KSP after a long time out and trying to install some mods I\u0027ve never used before - mainly KSPIE and GU, plus associated scaling mods. When I start up the game I get a fatal error message due to duplicated properties. I\u0027ve tried looking through the log to figure it out but don\u0027t really know where to start. Full log is uploaded here:\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/ec7ej4bfmu28yd7/KSP.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/ec7ej4bfmu28yd7/KSP.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAppreciate any help getting me going again!\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: After a bit more digging, I\u0027ll take an uneducated guess that the issue comes from KSPIE and Interstellar Technologies (which is a part mod recommended by KSPIE)\u00A0 both coming bundled with TweakScale and some conflict which has arisen as a result. Not the slightest clue where to start to resolve it though?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-29T16:55:40Z\u0022 title=\u002201/29/2023 04:55  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 29, 2023\u003C/time\u003E by Undone\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-01-29T17:10:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224225301\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221674996290\u0022 data-ipsquote-userid=\u0022225216\u0022 data-ipsquote-username=\u0022Undone\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Undone said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve just come back to KSP after a long time out and trying to install some mods I\u0027ve never used before - mainly KSPIE and GU, plus associated scaling mods. When I start up the game I get a fatal error message due to duplicated properties. I\u0027ve tried looking through the log to figure it out but don\u0027t really know where to start. Full log is uploaded here:\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/ec7ej4bfmu28yd7/KSP.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/ec7ej4bfmu28yd7/KSP.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAppreciate any help getting me going again!\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: After a bit more digging, I\u0027ll take an uneducated guess that the issue comes from KSPIE and Interstellar Technologies (which is a part mod recommended by KSPIE)\u00A0 both coming bundled with TweakScale and some conflict which has arisen as a result. Not the slightest clue where to start to resolve it though?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is off:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E[LOG 12:01:06.904] Applying update TweakScale/patches/Squad/Cargo/@PART[cargoContainer]:NEEDS[Squad,TweakScale] to Squad/Parts/Cargo/CargoContainers/cargoContainer.cfg/PART[cargoContainer]\n[LOG 12:01:07.097] Applying update TweakScale/patches/SquadExpansion/Serenity/Cargo/@PART[cargoContainer] to Squad/Parts/Cargo/CargoContainers/cargoContainer.cfg/PART[cargoContainer]\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI think you unpacked a new version of TweakScale on a very older version (see the \u0022:NEEDS\u0022 thingy on Squad, but not on SquadExpansion?).\n\u003C/p\u003E\n\u003Cp\u003E\nIf memory servers me right, the cargoContainer was moved from a DLC into the main game, and this double confirms \u00A0what I said.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ECompletely\u003C/strong\u003E\u00A0delete the TweakScale directory contents and then unpack the version you want to use.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-01-29T17:11:50Z\u0022 title=\u002201/29/2023 05:11  PM\u0022 data-short=\u00221 yr\u0022\u003EJanuary 29, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Ebetter phrasing\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2023-01-30T04:24:39Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nQuestion about docking ports.\u00A0 I\u0027m having a problem getting a couple of SpaceY docking port to connect, they are the 7.5m scaled up to 10m.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes Tweakscale adjust any of the internal parameters, such as the acquireForce, acquireRange, nodetype, etc?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}