{"TopicId":106871,"ForumId":55,"TopicTitle":"New Heat System causes memory leak","CreatedByName":"teraflops","CreatedById":142710,"CreatedDateTime":"2015-05-02T14:18:51Z","PageNum":1,"Articles":[{"CreatedByName":"teraflops","CreatedById":142710,"CreatedDateTime":"2015-05-02T14:18:51Z","Content":"So since the patch yesterday I\u0027ve noticed that the heat system causes a memory leak and crash. It only occurs when multiple parts become partially overheated(the little meter overlay appears). As soon as two parts reach this state, memory use starts increasing by multiple megabytes/second until the game reaches 4GB of allocation and crashes. Also the parts never cool down. I can reproduce this at will, with or without kerbal engineer installed. Screenshot is attached for reference. Running steam version of ksp on windows 8.1.\n\n![CD9Gn9pW0AAXyRR.png](https://pbs.twimg.com/media/CD9Gn9pW0AAXyRR.png)\n\n![CD9K84vUIAAOvje.png](https://pbs.twimg.com/media/CD9K84vUIAAOvje.png)"},{"CreatedByName":"Tarheel1999","CreatedById":123965,"CreatedDateTime":"2015-05-02T14:45:43Z","Content":"I just checked the forums to report the same thing. My game keeps crashing during a reentry from the Mun. I have 6 parts overheating (4 landing legs and 2 floodlights). My memory usage jumps from 2.2Gb to 3.7Gb during reentry. All stock install (No part mods and I removed Kerbal Engineer and AeroGUI to eliminate them as the source). In addition changing scenes does not release the memory from the leak. To confirm I jettisoned the bottom part of the lander (the part with legs and lights) before the heating began only gained about 200mb of memory.\n\nUPDATE - Using F10 to disable the temperature gauges minimizes/eliminates the memory leak.\n\nHere\u0027s the quicksave (lander at about 68km): [https://www.dropbox.com/s/32dqyxqn0myrq75/Mun%20Reentry.sfs?dl=0](https://www.dropbox.com/s/32dqyxqn0myrq75/Mun%20Reentry.sfs?dl=0)\n\nSystem - intel i7, Nvidia GTX660, Windows 7\n\n**Edited \u003Ctime datetime=\u00222015-05-02T15:23:15Z\u0022 title=\u002205/02/2015 03:23  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 2, 2015\u003C/time\u003E by Tarheel1999**"},{"CreatedByName":"J.Random","CreatedById":63332,"CreatedDateTime":"2015-05-02T14:59:01Z","Content":"Yup. Stock KSP 1.0.2. As soon as heat gauges show up, game starts leaking like a Niagara Falls. More gauges shown = faster increase in RAM usage. My personal best is CTD at 0:05:05 MET."},{"CreatedByName":"Hyomoto","CreatedById":64780,"CreatedDateTime":"2015-05-02T15:04:51Z","Content":"I was in the middle of a flight around Kerbin to do an aerial survey when the game crashed. This is pretty distressing but honestly I was able to fly for about ten minutes with three parts overheated. I thought it was also because I had popupwindow enabled which, on my system at least, causes a huge memory leak as well. I assumed it was that, and I really hope it was. Are you guys also using popupwindow?"},{"CreatedByName":"Tarheel1999","CreatedById":123965,"CreatedDateTime":"2015-05-02T15:11:39Z","Content":"\u003E \n\u003E I was in the middle of a flight around Kerbin to do an aerial survey when the game crashed. This is pretty distressing but honestly I was able to fly for about ten minutes with three parts overheated. I thought it was also because I had popupwindow enabled which, on my system at least, causes a huge memory leak as well. I assumed it was that, and I really hope it was. Are you guys also using popupwindow?\n\nNope. And it\u0027s almost definitely the temperature gauges as the memory leak is not present when you disable the gauges using F10."},{"CreatedByName":"teraflops","CreatedById":142710,"CreatedDateTime":"2015-05-02T15:27:11Z","Content":"Thank you! This has been driving me nuts for the past day. Going to try disabling the gauges now.\n\n\u003E \n\u003E I just checked the forums to report the same thing. My game keeps crashing during a reentry from the Mun. I have 6 parts overheating (4 landing legs and 2 floodlights). My memory usage jumps from 2.2Gb to 3.7Gb during reentry. All stock install (No part mods and I removed Kerbal Engineer and AeroGUI to eliminate them as the source). In addition changing scenes does not release the memory from the leak. To confirm I jettisoned the bottom part of the lander (the part with legs and lights) before the heating began only gained about 200mb of memory.\n\u003E UPDATE - Using F10 to disable the temperature gauges minimizes/eliminates the memory leak.\n\u003E \n\u003E Here\u0027s the quicksave (lander at about 68km): [https://www.dropbox.com/s/32dqyxqn0myrq75/Mun%20Reentry.sfs?dl=0](https://www.dropbox.com/s/32dqyxqn0myrq75/Mun%20Reentry.sfs?dl=0)\n\u003E \n\u003E System - intel i7, Nvidia GTX660, Windows 7"},{"CreatedByName":"Hyomoto","CreatedById":64780,"CreatedDateTime":"2015-05-02T15:50:52Z","Content":"Hmm, good to know there is at least a workaround."},{"CreatedByName":"Jakalth","CreatedById":136495,"CreatedDateTime":"2015-05-02T17:06:07Z","Content":"Yep, this issue is quite wide spread. My poor little High speed test bed brought this on during high altitude tests. Not sure where the difference is, but I was able to slow it down enough that all the heat bars vanished from it on 3 occasions during testing, each lasting close to a minute, and were during the same flight. Even with this, the fourth test only went for 15 seconds at high altitude before the game froze. Doesn\u0027t seem to be completely consistent in when it crashes or how quickly it eats memory."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T17:19:00Z","Content":"Also confirmed on Linux.\n\nUpdating this in case a new reader finds it, the memory leak is being caused by the PPFX edge highlighting plugin from the Unity3D asset store, disabling PPFX prevents the leak.\n\n**Edited \u003Ctime datetime=\u00222015-05-18T11:18:35Z\u0022 title=\u002205/18/2015 11:18  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 18, 2015\u003C/time\u003E by sal\\_vager**"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-05-02T17:35:11Z","Content":"1.0.3 here we come..."},{"CreatedByName":"Endersmens","CreatedById":80723,"CreatedDateTime":"2015-05-02T18:22:46Z","Content":"hmmm.....\n\n1.0 comes out, everybody hates on it, so Squad pushes out 1.01 to please the masses....Squad realizes a few things got borked, releases 1.02 to please the masses even more...and cause a massive memory leak bug.\n\nThis is why you don\u0027t push Squad to please the masses."},{"CreatedByName":"Jakalth","CreatedById":136495,"CreatedDateTime":"2015-05-02T19:44:56Z","Content":"Best you can do is report an issue, hope they see the issue and can fix it when they have time, and use work a rounds until it can get fixed.(F10 to disable temp guadges in this case)"},{"CreatedByName":"rawcode","CreatedById":142773,"CreatedDateTime":"2015-05-02T21:24:35Z","Content":"I am having this issue also, trying to fly to the north pole with a basic jet engine. No mods. Rear sections starts to heat up and then I eventually get a crash."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T21:26:34Z","Content":"Turning off the heat gauges \u0022solved\u0022 it for me, tap F10 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nUpdating this in case a new reader finds it, the memory leak is being caused by the PPFX edge highlighting plugin from the Unity3D asset store, disabling PPFX prevents the leak.\n\n**Edited \u003Ctime datetime=\u00222015-05-28T20:16:05Z\u0022 title=\u002205/28/2015 08:16  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 28, 2015\u003C/time\u003E by sal\\_vager**"},{"CreatedByName":"thisisbleep","CreatedById":142838,"CreatedDateTime":"2015-05-03T06:24:17Z","Content":"**KSP Version: v**1.0.2 (00842 2015.05.01), Win 7 64-bit\n\n**What happens:** Crash to desktop\n\n**Mods/Addons:** None\n\n**Steps to replicate:** Fly towards the North pole in a jet, all landing gear showing signs of overheating (even though not going very fast). Nose pointing about 10\u0027 up to maintain a steady altitude of approx. 10,000m and running at 3x speed (4x speed messes up with the aerodynamics/physics and the plane loses balance).\n\n**Result:** Crash\n\n**Fixes/Workarounds:** None known ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\n**Other Notes/Pictures/Log files:**\n\nFiles = [https://www.dropbox.com/sh/uhfbx6v0xd2ns4d/AAAIAmd5flqlOFbB2GJmMPs4a?dl=0](https://www.dropbox.com/sh/uhfbx6v0xd2ns4d/AAAIAmd5flqlOFbB2GJmMPs4a?dl=0)\n\nI bought the game after 1.0 was released, so I cannot say if the latest update caused this or if it is an ongoing issue. Twice I got within sight of the North pole and both times I get a crash, there was also a third time where I paused the game and alt-tabbed out, but when I went to play the game again KSP had closed itself (probably crashed).\n\nPC specs:\n\n**CPU: Intel i5-4690 @ 3.5GHz** **|** **** **GPU: Nvidia Gigabyte GTX 970 G1, 4GB** **|** **** **MoBo: Gigabyte G1 Sniper H6** **|** **** **RAM: Corsair Vengeance 16GB DDR3** **|** **** **PSU: Corsair CS750M** **|** **** **HDD: Plextor 256GB SSD \u0026 WD 4TB HDD** **|** **** **OS: Win 7 Professional, 64-bit** **|** **** **Display: LG 42\u0022 TV** **|** **** **Audio: Logitech Z906**"},{"CreatedByName":"Shadowlord","CreatedById":141962,"CreatedDateTime":"2015-05-03T07:37:34Z","Content":"I ran into this myself today, and having read about this earlier, used F10 to stop it from growing out of control within a few seconds after the gauges appeared. While descending, I toggled F10 back on several times for a fraction of a second, to see if it was still eating more memory when I did so. It did, until:\n\nWhen my rocket had gotten down to (IIRC) about 13km, when I hit F10 that time, the memory leak didn\u0027t resume, the bars appeared to be grey, and the parts weren\u0027t flashing red anymore, either. It definitely wouldn\u0027t hurt to have more tests, since this particular result hasn\u0027t been reported before as far as I\u0027ve read.\n\nAlso of note, when I recovered the rocket after it landed, all the leaked memory appeared to get freed (it dropped back to ~1550 MB from ~1880). I still had the temperature gauges turned on at the time.\n\nFor the record, I had 8 gauges on-screen when I turned it off initially, and they were from 6 of the micro-lander legs (the first ones you unlock in the tech tree), and two of the cheap radial battery packs. I only saw 300 MB of increased memory usage but I hit F10 within a few seconds of the gauges appearing. Nothing was destroyed in re-entry, but they all had flashing red outlines.\n\n[i\u0027m on Windows 8.1 pro 64-bit, if it\u0027s relevant, but it probably isn\u0027t since someone mentioned it happens on linux too.]"},{"CreatedByName":"Daveroski","CreatedById":93896,"CreatedDateTime":"2015-05-03T11:30:33Z","Content":"Glad to read this.\n\nIn career mode. My two best guys testing a space plane.\n\nI knew that if they made orbit that they wouldn\u0027t have enough fuel to de-orbit but it was their first orbit attempt with a SSTO\n\nA lot of parts glowing. Even a couple of batteries in the cargo bay\n\nI opened the bay and was just looking at the view of their ship.\n\nA few seconds later the game crashed.\n\nI know when I reload, that there is a good chance that my guys may already be in orbit with bits aglow or just before they made their insertion burn with bits aglow.\n\nEither way, it\u0027s looking very crashy for my guys."},{"CreatedByName":"Daveroski","CreatedById":93896,"CreatedDateTime":"2015-05-03T11:35:15Z","Content":"I noticed you had bits warming up.. Might be related.\n\n[http://forum.kerbalspaceprogram.com/threads/118658-New-Heat-System-causes-memory-leak](https://forum.kerbalspaceprogram.com/threads/118658-New-Heat-System-causes-memory-leak)"},{"CreatedByName":"thisisbleep","CreatedById":142838,"CreatedDateTime":"2015-05-03T12:14:13Z","Content":"\u003E \n\u003E I noticed you had bits warming up.. Might be related.\n\u003E [http://forum.kerbalspaceprogram.com/threads/118658-New-Heat-System-causes-memory-leak](https://forum.kerbalspaceprogram.com/threads/118658-New-Heat-System-causes-memory-leak)\n\nYes, I saw this thread after posting: [http://forum.kerbalspaceprogram.com/threads/118658-New-Heat-System-causes-memory-leak](https://forum.kerbalspaceprogram.com/threads/118658-New-Heat-System-causes-memory-leak)\n\nF10 fixes it, until the next update is released."},{"CreatedByName":"Mruno","CreatedById":63978,"CreatedDateTime":"2015-05-03T13:48:46Z","Content":"Yeah. I\u0027m having this issue too while performing visual surveys.\n\nEDIT: Thank you, F10 fixed it ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-03T14:22:06Z\u0022 title=\u002205/03/2015 02:22  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 3, 2015\u003C/time\u003E by Mruno**"},{"CreatedByName":"Inglonias","CreatedById":2460,"CreatedDateTime":"2015-05-03T15:23:51Z","Content":"Oddly enough, I couldn\u0027t reproduce this bug with the following steps:\n\n1. Load up a craft.\n\n2. HyperEdit it into orbit\n\n3. HyperEdit the large fuel tank to its maximum temperature\n\n4. Watch as everything attached to it starts to overheat (but doesn\u0027t explode, because not enough heat)\n\n5. Wait, watching the debug menu\u0027s memory allocation stats\n\nIt stays stable at around 680 MB allocated. I\u0027m not having this issue. What\u0027s going on here?\n\nAs for specs, [this is my computer](http://www.newegg.com/Product/Product.aspx?Item=N82E16834312933). Yeah, it\u0027s technically below minimum specs."},{"CreatedByName":"rexxie101","CreatedById":142903,"CreatedDateTime":"2015-05-03T16:07:41Z","Content":"Wow, I believe i\u0027m experiencing the same issue...I\u0027ll give the f10 thing a try!"},{"CreatedByName":"Sandworm","CreatedById":66244,"CreatedDateTime":"2015-05-03T16:32:41Z","Content":"Lol, time for another \u0022hot\u0022 fix.\n\nSeriously, I just saw this myself and it is a proper bug. There is no argument about intent or features. This is a legitimate error that needs to be corrected. A released product with such a leak, after two patches, is just unacceptable.\n\nI had thought I was seeing things when those little rectangles appeared. I thought it was a linux graphical error. Then I found f10 and spent HOURS looking through settings files and testing mods expecting that something on my end was forcing the overlay. I concluded that it was an official \u0022feature\u0022 for teaching new players ... only to discover the memory leak which initially I did not tie to the heat overlay. That entire endeavor was a waste of my spare time. We need some official documentation about this stuff so that we can tell bug from default setting.\n\n**Edited \u003Ctime datetime=\u00222015-05-03T16:36:13Z\u0022 title=\u002205/03/2015 04:36  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 3, 2015\u003C/time\u003E by Sandworm**"},{"CreatedByName":"SydKhaos","CreatedById":141865,"CreatedDateTime":"2015-05-03T18:54:38Z","Content":"This is not being seen by 100% of players though....it needs to be narrowed down more ya."},{"CreatedByName":"Sandworm","CreatedById":66244,"CreatedDateTime":"2015-05-03T19:57:48Z","Content":"\u003E \n\u003E This is not being seen by 100% of players though....it needs to be narrowed down more ya.\n\nThere is a simple test, whether you are \u0027seeing\u0027 it or not. Just push f10. If is says \u0022Temperature Guages: Disabled\u0022 then you have the bug, the temp display has defaulted on when it should have started off. Whether or not you notice the memory leak is another issue."}]}