{"TopicId":195944,"ForumId":29,"TopicTitle":"LatLon at UT with rotation query","CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2020-07-29T11:53:38Z","PageNum":1,"Articles":[{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2020-07-29T11:53:38Z","Content":"\n\u003Cp\u003E\nIs it possible to get the Lat \u0026amp; Lon of an object (in orbit) as at a UT time that take into account\u00A0planetary rotation?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried the following:\u003Cbr\u003E\nVector3d VESS_Position = ActiveVessel.orbit.getPositionAtUT(FutureUT);\u003Cbr\u003E\nVector2d FutureVES_LatLon = LatLon.GetLatitudeAndLongitude(ActiveVessel.mainBody.BodyFrame, ActiveVessel.mainBody.position, VESS_Position);\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, this doesn\u0027t seem to factor in planet rotation.\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2020-07-29T12:36:49Z","Content":"\n\u003Cp\u003E\nYou know the rotation period of the planet, so you can determine how much you need to adjust the longitude based on that.\u00A0 I think it\u0027s a case of determine the change in time (FutureUT - now), divide that by the Body.rotationPeriod (as long as the period isn\u0027t 0), take the fraction from that result, multiply by 360, and add or subtract (don\u0027t remember which) to the longitude.\u00A0 And then normalize the result to [-180, \u002B180].\u00A0 That should get you the right answer, or at least get you pointed towards it - it\u0027s been a while since I messed with that type of problem.\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2020-07-29T14:06:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223827856\u0022 data-ipsquote-contentid=\u0022195944\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221596026209\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou know the rotation period of the planet, so you can determine how much you need to adjust the longitude based on that.\u00A0 I think it\u0027s a case of determine the change in time (FutureUT - now), divide that by the Body.rotationPeriod (as long as the period isn\u0027t 0), take the fraction from that result, multiply by 360, and add or subtract (don\u0027t remember which) to the longitude.\u00A0 And then normalize the result to [-180, \u002B180].\u00A0 That should get you the right answer, or at least get you pointed towards it - it\u0027s been a while since I messed with that type of problem.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the tip, I managed to find the code you were trying to remember\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Mihara/RasterPropMonitor/blob/b32f65c07168dfe7c6c8f786ecc00e358cc894c3/SCANsatRPM/JSISCANsatRPM.cs#L277\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Mihara/RasterPropMonitor/blob/b32f65c07168dfe7c6c8f786ecc00e358cc894c3/SCANsatRPM/JSISCANsatRPM.cs#L277\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOne question - does this method work when at high latitudes?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-29T15:29:01Z\u0022 title=\u002207/29/2020 03:29  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 29, 2020\u003C/time\u003E by cyberKerb\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2020-07-29T22:05:46Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223827878\u0022 data-ipsquote-contentid=\u0022195944\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221596031615\u0022 data-ipsquote-userid=\u002228891\u0022 data-ipsquote-username=\u0022cyberKerb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, cyberKerb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne question - does this method work when at high latitudes?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs long as latitude \u002B/- 90 define the axis of rotation, yeah.\u00A0 It doesn\u0027t matter if the latitude is 0 or 89.99999 - the period of rotation is constant.\u00A0 A given line of longitude will sweep across 360 degrees in a single day.\n\u003C/p\u003E\n"}]}