{"TopicId":172917,"ForumId":39,"TopicTitle":"Constant Altitude Mixed-Isp Landing Calculator","CreatedByName":"Lirtosiast","CreatedById":82194,"CreatedDateTime":"2018-03-24T05:39:23Z","PageNum":1,"Articles":[{"CreatedByName":"Lirtosiast","CreatedById":82194,"CreatedDateTime":"2018-03-24T05:39:23Z","Content":"\n\u003Cp\u003E\nEver since the days of \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57383-tavert/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257383\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57383-tavert/\u0022 rel=\u0022\u0022\u003E@tavert\u003C/a\u003E\u00A0and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/14082-kosmo-not/\u0026amp;do=hovercard\u0022 data-mentionid=\u002214082\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/14082-kosmo-not/\u0022 rel=\u0022\u0022\u003E@Kosmo-not\u003C/a\u003E\u00A0we\u0027ve\u00A0known how to execute an efficient low-\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E landing: throttle to 100% and keep the ship at constant altitude by pitching down. But what if you\u0027re designing, say, a reusable mission to Tylo that uses both NERV and RAPIER engines? When landing on Tylo, how far do you pitch up,\u00A0when do you switch on the RAPIERs, and at what thrust?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111640-fleshjeb/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022111640\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111640-fleshjeb/\u0022 rel=\u0022\u0022\u003E@FleshJeb\u003C/a\u003E\u00A0and\u00A0I wrote a spreadsheet calculator for this purpose.\u00A0It assumes a constant-altitude ascent/landing (pretty close to the optimum), and works for ascent or landing, and any types of engines.\u00A0Simply enter parameters in the green boxes and your mass fraction, total \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E expended, and ascent/landing profile appear in the blue boxes. Accuracy is within about 1-2% due to the CAL assumption and Euler\u0027s method.\n\u003C/p\u003E\n\u003Cp\u003E\nCalculator is \u003Ca href=\u0022https://docs.google.com/spreadsheets/d/1ePGORpBv3M0gNRvyOfpOs8Qi5itMpYFIThmyvBxS9Rk/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n-----\n\u003C/p\u003E\n\u003Cp\u003E\nTo implement:\n\u003C/p\u003E\n\u003Cp\u003E\n* Add table of engines and celestial bodies\n\u003C/p\u003E\n\u003Cp\u003E\n* Use a less inaccurate algorithm than Euler\u0027s method\n\u003C/p\u003E\n\u003Cp\u003E\n* non-CALs (hopefully the math is not difficult)\n\u003C/p\u003E\n"},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2018-03-24T06:33:44Z","Content":"\n\u003Cp\u003E\nPfft, you did 99% of the work. I just provided a little feedback and discussion. I still don\u0027t understand exactly how the Lambda column works--I\u0027ll have to pick that apart for myself.\n\u003C/p\u003E\n\u003Cp\u003E\nOf note, I spoke to Sarbian on Discord a couple weeks ago, and he said if I (or anyone else) can get a CAL script working in KRPC, he\u0027s willing to refactor it for\u00A0MechJeb.\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s been a goal of mine for a couple of years now, because I know how badly \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E can fail a low deorbit burn on the Mun if your \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E is less than 2.5 or so.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve spent a number of hours digging into \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E\u0027s landing code, and some slight notion of how to integrate it within the larger framework.\n\u003C/p\u003E\n\u003Cp\u003E\nTo implement:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nEmpirical verification of method.\n\u003Cul\u003E\u003Cli\u003E\nSingle engine type\n\u003C/li\u003E\n\u003Cli\u003E\nMultiple engine types\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nPython script for KRPC\u00A0 using the spreadsheet\u0027s predictive method to time and execute the burn. I\u0027ve played with KRPC a fair amount, and have a decent understanding of the framework.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ECalculator in Python is complete:\u003C/strong\u003E\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/2r4ruljkcux0qqw/CAL_Euler.py?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/2r4ruljkcux0qqw/CAL_Euler.py?dl=0\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nIntegrate\u00A0Normal/Anti-Normal burns into the prediction. I think it should be fairly easy to add to this method, compared to what I was going to do.\n\u003C/li\u003E\n\u003Cli\u003E\nFind out if it\u0027s more efficient to do the plane change to the landing site at the \u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E/\u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E or during the CAL. (lower average velocity, and Pythagorean efficiency, so it might be much more efficient).\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nStretch goals:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nA generalized landing script that will transition from CAL to suicide burn when the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E is high enough. (Or\u00A0combo-suicide/CAL?)\n\u003C/li\u003E\n\u003Cli\u003E\nIntegrate into MechJeb.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nEDIT: \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/82194-lirtosiast/\u0026amp;do=hovercard\u0022 data-mentionid=\u002282194\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/82194-lirtosiast/\u0022 rel=\u0022\u0022\u003E@Lirtosiast\u003C/a\u003E\u00A0This might fit better in the Tutorials subforum.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-25T19:35:34Z\u0022 title=\u002203/25/2018 07:35  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 25, 2018\u003C/time\u003E by FleshJeb\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2018-03-25T21:44:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223332946\u0022 data-ipsquote-contentid=\u0022172917\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521869963\u0022 data-ipsquote-userid=\u002282194\u0022 data-ipsquote-username=\u0022Lirtosiast\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/23/2018 at 10:39 PM, Lirtosiast said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo implement:\n\u003C/p\u003E\n\u003Cp\u003E\n* Add table of engines and celestial bodies\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDONE. I also finalized\u00A0the Python calculator. It\u0027s linked in the post above.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://docs.google.com/spreadsheets/d/13miu6GKftD1K5SRyD_SNMIwZl7N4ofTfBduUsK70Vqo/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.google.com/spreadsheets/d/13miu6GKftD1K5SRyD_SNMIwZl7N4ofTfBduUsK70Vqo/edit?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRipped the vacuum engine data from 1.3.1 using KRPC\n\u003C/p\u003E\n\u003Cp\u003E\nCopied the relevant celestial body\u00A0info from the KSP wiki.\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t want to mess with the main sheet, but you can add fuel quantity by type to the spreadsheet:\u003Cbr\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0 \u00A0 fuel_1\u003Cem\u003E = (f_1_tot / v_e_1) * dt\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 # \u003C/em\u003E\u003C/em\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cem\u003E\u003Cem\u003ELF\u003C/em\u003E\u003C/em\u003E\u003C/abbr\u003E\u003Cem\u003E\u003Cem\u003E \u00A0for NERV\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u00A0 \u00A0 fuel_2\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E = (f_2_tot / v_e_2) * dt\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E * f_2_ratio # \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cabbr title=\u0022Liquid Fuel and Oxidizer\u0022\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003ELFO\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/abbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E for RAPIER\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/span\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-25T21:49:34Z\u0022 title=\u002203/25/2018 09:49  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 25, 2018\u003C/time\u003E by FleshJeb\u003C/strong\u003E\n\u003C/span\u003E\n"}]}