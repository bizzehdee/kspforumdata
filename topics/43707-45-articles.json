{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":45,"Articles":[{"CreatedByName":"cfds","CreatedById":82109,"CreatedDateTime":"2013-09-27T08:01:11Z","Content":"\n\u003Cp\u003ELoops with only a WAIT statement are ignored by KOS. Perhaps something like \u003C/p\u003E\u003Cp\u003Euntil 0 {\u003C/p\u003E\u003Cp\u003Ewait 1.\u003C/p\u003E\u003Cp\u003Eset ix to 0.\u003C/p\u003E\u003Cp\u003E}.\u003C/p\u003E\u003Cp\u003Ewill work better.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T09:28:13Z","Content":"\n\u003Cp\u003EI finally got some video recording software set up, so here\u0027s my descender/skycrane dropper in action:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/Ww0WAFG_hYU?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2013-09-27T09:49:49Z","Content":"\n\u003Cp\u003EVery nice. I have my \u0027folding\u0027 rover craft and skycrane ready to go, and now i need to start the code part. You have shown it can be done and done nice. Great work...\u003C/p\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-27T10:00:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI finally got some video recording software set up, so here\u0027s my descender/skycrane dropper in action:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat work! Looks like a very robust method that\u0027s smooth and fuel efficient. Good job with the code annotation too.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-27T13:31:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI finally got some video recording software set up, so here\u0027s my descender/skycrane dropper in action:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice! Very Nice! lol\u003C/p\u003E\u003Cp\u003EEventually I might try this with the KAS mod, guess I\u0027d have to bind the winch to action groups though, but thats the least of my problems lol. I\u0027m going to redo my launch program though as with the speed increase it needs some tweaking.\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2013-09-27T19:29:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003EWhen did \u0022log to\u0022 become a thing? Was just watching ep2 of the journey to the ~~north pole~~ south pole and he was talking about this. I guess I must have missed it some how. Dunno what I\u0027d use it for just yet, but I\u0027ll have to play around with it and figure something out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Elog to isn\u0027t implemented in the official version as far as I know.\u003C/p\u003E\u003Cp\u003E@Payload\u003C/p\u003E\u003Cp\u003EMost of the times I try not to use endless loops at all.\u003C/p\u003E\u003Cp\u003EEven when I should.\u003C/p\u003E\u003Cp\u003EBut this is the kOS-interpreter. It works there, and its the shortest possible code.\u003C/p\u003E\u003Cp\u003EPurpose of the loop was to run until the vessel becomes unusable.\u003C/p\u003E\u003Cp\u003EAchievement of the program (dunno if its because 0.65 or whatever) making it run made KSP unusable (see below).\u003C/p\u003E\u003Cp\u003EAnd the stutter sometimes becomes really evil. Worst so far: intervals of 1 second KSP at normal speed. And the game freezes for half a second. While my CPU and GPU idles.\u003C/p\u003E\u003Cp\u003EI think the code needs an overhaul. Just before I quick saved while having a program running. End of this song was that I had to delete the vessel manually from the persistent.sfs...\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T20:07:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003Elog to isn\u0027t implemented in the official version as far as I know.\u003Cp\u003E@Payload\u003C/p\u003E\u003Cp\u003EMost of the times I try not to use endless loops at all.\u003C/p\u003E\u003Cp\u003EEven when I should.\u003C/p\u003E\u003Cp\u003EBut this is the kOS-interpreter. It works there, and its the shortest possible code.\u003C/p\u003E\u003Cp\u003EPurpose of the loop was to run until the vessel becomes unusable.\u003C/p\u003E\u003Cp\u003EAchievement of the program (dunno if its because 0.65 or whatever) making it run made KSP unusable (see below).\u003C/p\u003E\u003Cp\u003EAnd the stutter sometimes becomes really evil. Worst so far: intervals of 1 second KSP at normal speed. And the game freezes for half a second. While my CPU and GPU idles.\u003C/p\u003E\u003Cp\u003EI think the code needs an overhaul. Just before I quick saved while having a program running. End of this song was that I had to delete the vessel manually from the persistent.sfs...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you have the ability to check memory usage when you were looking at CPU and GPU usage?\u003C/p\u003E\u003Cp\u003EI\u0027ve seen the same problem from other mods and I believe the common problem might be that a mod gets stuck in a never-ending loop that happens to be allocating some memory. If I\u0027m right then what\u0027s happening is that when a mod causes KSP to run out of memory it then starts making major mistakes elsewhere in the program outside of the mod that end up saved in the persistence file. I\u0027ve had half the parts on the ship just randomly disappear from existence when KOS gets stuck. The longer I leave it the worse it gets.\u003C/p\u003E\u003Cp\u003EAnd since it\u0027s a 32-bit program, if you have a lot of RAM it doesn\u0027t necessarily need to use up all the memory of the machine - just use up as much as a 32-bit program can use (4GB).\u003C/p\u003E\u003Cp\u003EThis happens with the mismatched quote mark problem, for example. If KSP hangs because there\u0027s a mismatched quote mark in the KOS script, then behind the scenes the KOS mod is spinning in an infinite loop and if you leave it like that too long the state of the game gets really broken.\u003C/p\u003E\n"},{"CreatedByName":"yum","CreatedById":83481,"CreatedDateTime":"2013-09-27T20:08:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003Elog to isn\u0027t implemented in the official version as far as I know.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESeems to be working for me here.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//logger\u003Cbr\u003Eclearscreen.\u003Cbr\u003Eprint \u0022Attempting log\u0022 at (0,15).\u003Cbr\u003Eset toLog to \u0022X,Y,Z\u0022.\u003Cbr\u003Eset difference to 0.001.\u003Cbr\u003Eset lastLat to latitude \u002B difference \u002B difference.\u003Cbr\u003Eset lastLong to longitude \u002B difference \u002B difference.\u003Cbr\u003E\u003Cbr\u003Eset shipHeight to 1.27. //input your ships height (alt:radar while on ground)\u003Cbr\u003E\u003Cbr\u003Euntil 0 {\u003Cbr\u003E\tset curAlt to altitude - (alt:radar - shipHeight). //should have named this ground elevation!\u003Cbr\u003E\tif alt:radar = -1 { set curAlt to 0. }. //for when alt:radar bugs out...not sure why\u003Cbr\u003E\tset curLat to latitude.\u003Cbr\u003E\tset curLong to longitude.\u003Cbr\u003E\tprint altitude \u002B \u0022 - (\u0022 \u002B alt:radar \u002B \u0022 - \u0022 \u002B shipHeight \u002B \u0022)  \u0022 at (15,3).\u003Cbr\u003E\tprint \u0022ELEVATION = \u0022 \u002B curAlt \u002B \u0022 m        \u0022 at (0,4).\u003Cbr\u003E\tprint \u0022LAT       = \u0022 \u002B curLat \u002B \u0022 degrees  \u0022 at (0,6).\u003Cbr\u003E\tprint \u0022LONG      = \u0022 \u002B curLong \u002B \u0022 degrees  \u0022 at (0,7).\u003Cbr\u003E\tif abs(lastLat - curLat) \u0026gt; difference or abs(lastLong - curLong) \u0026gt; difference {\u003Cbr\u003E\t\tset toLog to curLat \u002B \u0022,\u0022 \u002B curLong \u002B \u0022,\u0022 \u002B curAlt.\u003Cbr\u003E\t\tprint \u0022Logging Active    \u0022 at (0,15).\u003Cbr\u003E\t\tprint \u0022toLog     = \u0022 \u002B toLog \u002B \u0022     \u0022 at (0,9).\u003Cbr\u003E\t\tlog toLog to logfile.\u003Cbr\u003E\t\tprint \u0022Last log print: \u0022 \u002B missiontime \u002B \u0022    \u0022 at (0,20).\u003Cbr\u003E\t\tset lastLat to curLat.\u003Cbr\u003E\t\tset lastLong to curLong.\u003Cbr\u003E\t}.\u003Cbr\u003E\twait 0.5.\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EJust log variable to filename.\u003C/p\u003E\u003Cp\u003EIf we had arrays and could read from the log...things could get more interesting.\u003C/p\u003E\u003Cp\u003ESide note - alt:radar returns -1 seemingly randomly, anyone know why?\u003C/p\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-27T20:27:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yum\u0022 data-cite=\u0022yum\u0022\u003E\u003Cdiv\u003ESide note - alt:radar returns -1 seemingly randomly, anyone know why?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ealt:radar will return -1 when you\u0027re above 3500m from the ground or flying over deep ocean.\u003C/p\u003E\n"},{"CreatedByName":"yum","CreatedById":83481,"CreatedDateTime":"2013-09-27T20:36:41Z","Content":"\n\u003Cp\u003E@check\u003C/p\u003E\u003Cp\u003EIt doesn\u0027t seem to be consistent however. Sometimes I make it to 9000m before it freaks out (just flying around KSC). But you\u0027re right, definitely doesn\u0027t work over deep water. \u003C/p\u003E\u003Cp\u003EIs there a reason why it fails? If we had more range, and could get elevation for arbitrary lat-long values, we\u0027d have a working mapsat and could find ideal landing zones (low slope).\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E( hi from toronto! )\u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-27T21:30:52Z\u0022 title=\u002209/27/2013 09:30  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 27, 2013\u003C/time\u003E by yum\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-27T21:41:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yum\u0022 data-cite=\u0022yum\u0022\u003E\u003Cdiv\u003E@check\u003Cp\u003EIt doesn\u0027t seem to be consistent however. Sometimes I make it to 9000m before it freaks out (just flying around KSC). But you\u0027re right, definitely doesn\u0027t work over deep water. \u003C/p\u003E\u003Cp\u003EIs there a reason why it fails? If we had more range, and could get elevation for arbitrary lat-long values, we\u0027d have a working mapsat and could find ideal landing zones (low slope).\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E( hi from toronto! )\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, not sure then. If your program is dependant on radalt, you can have it switch from looking at alt:radar to altitude when alt:radar \u0026lt;0 (or when alt:radar \u0026gt; altitude for over water). \u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E(Sup from London.)\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-27T21:44:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022check\u0022 data-cite=\u0022check\u0022\u003E\u003Cdiv\u003Ealt:radar will return -1 when you\u0027re above 3500m from the ground or flying over deep ocean.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve had it be fine even as high as 10000m\u003C/p\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-27T21:48:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JewelShisen\u0022 data-cite=\u0022JewelShisen\u0022\u003E\u003Cdiv\u003EI\u0027ve had it be fine even as high as 10000m\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell then I\u0027m not sure what it looks at then. I remember it freaking out when I was above 4000m or so so I assumed it went by the gauge limit of 3500 (or is it 3000?) in IVA and just wrote my code based on that assumption.\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-27T21:50:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022check\u0022 data-cite=\u0022check\u0022\u003E\u003Cdiv\u003EWell then I\u0027m not sure what it looks at then. I remember it freaking out when I was above 4000m or so so I assumed it went by the gauge limit of 3500 (or is it 3000?) in IVA and just wrote my code based on that assumption.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo clue. I know mine was for a test program I was making to land a probe. I was having to write it to account for Kerbin\u0027s gravity rather than Duna (Where the probe will be landing for real)\u003C/p\u003E\n"},{"CreatedByName":"yum","CreatedById":83481,"CreatedDateTime":"2013-09-27T21:54:14Z","Content":"\n\u003Cp\u003E@check\u003C/p\u003E\u003Cp\u003EYeah that would work for most programs, but my program calculates ground elevation and is dependent on both \u003C/p\u003E\u003Cp\u003Ealtitude - (alt:radar - shipHeight) where shipHeight is just alt:radar when the ship is on the ground. \u003C/p\u003E\u003Cp\u003EFor now I\u0027ll just pretend it\u0027s a real LIDAR without a large range, and keep my altitude low when scanning.\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-27T22:08:27Z","Content":"\n\u003Cp\u003ECheck has inspired me to make my own kOS powered missile!!!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i41.tinypic.com/34gx4z8.jpg\u0022 alt=\u002234gx4z8.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003Eand a flight program!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Edeclare parameter targ.\u003Cbr\u003Eclearscreen.\u003Cbr\u003Eset targalt to 500.\u003Cbr\u003Eset target to targ.\u003Cbr\u003Eset turn to target:heading.\u003Cbr\u003Eset pitch to ( ( targalt - alt:radar ) / targalt ) * 90.\u003Cbr\u003Elock steering to heading turn by pitch.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Estage.\u003Cbr\u003Eprint \u0022Starting Countdown.\u0022.\u003Cbr\u003Eset i to 10.\u003Cbr\u003Euntil i = 0 {\u003Cbr\u003Eprint i \u002B \u0022...\u0022.\u003Cbr\u003Eset i to i - 1.\u003Cbr\u003Ewait 1.\u003Cbr\u003E}.\u003Cbr\u003Eprint \u0022FIRE!\u0022.\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Distance to target:\u0022.\u003Cbr\u003Eprint \u0022Current Pitch:\u0022.\u003Cbr\u003Eprint \u0022Radar Alt:\u0022.\u003Cbr\u003Euntil target:distance \u0026lt; 1500 {\u003Cbr\u003Eset pitch to ( ( targalt - alt:radar ) / targalt ) * 90.\u003Cbr\u003Eprint target:distance at (22,12).\u003Cbr\u003Eset turn to target:heading.\u003Cbr\u003Eprint pitch at (18,13).\u003Cbr\u003Eprint alt:radar at (14,14).\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eunlock throttle.\u003Cbr\u003Elock steering to target.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Final glide.\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait until i = 1.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T22:47:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yum\u0022 data-cite=\u0022yum\u0022\u003E\u003Cdiv\u003E@check\u003Cp\u003EYeah that would work for most programs, but my program calculates ground elevation and is dependent on both \u003C/p\u003E\u003Cp\u003Ealtitude - (alt:radar - shipHeight) where shipHeight is just alt:radar when the ship is on the ground. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes anyone know the height of the launchpad? In order to measure the craft\u0027s height on the launchpad I\u0027d have to know how much extra altitude the launchpad is adding above the ground.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T22:55:08Z","Content":"\n\u003Cp\u003EAnother trick you can do with the new logfile feature is to use it to write self-modifying code - because the KOS mod does not differentiate between log files and program scripts. They\u0027re all \u0022.txt\u0022 files behind the scenes.\u003C/p\u003E\u003Cp\u003EFor example, the following works:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elog \u0022print x^2 .\u0022 to squared.\u003Cbr\u003Eset x to 5.\u003Cbr\u003Erun squared.\u003Cbr\u003E25\u003Cbr\u003EProgram ended.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-27T22:56:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAnother trick you can do with the new logfile feature is to use it to write self-modifying code - because the KOS mod does not differentiate between log files and program scripts. They\u0027re all \u0022.txt\u0022 files behind the scenes.\u003Cp\u003EFor example, the following works:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elog \u0022print x^2 .\u0022 to squared.\u003Cbr\u003Eset x to 5.\u003Cbr\u003Erun squared.\u003Cbr\u003E25\u003Cbr\u003EProgram ended.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENext thing you know somebody will make HAL9000...\u003C/p\u003E\n"},{"CreatedByName":"yum","CreatedById":83481,"CreatedDateTime":"2013-09-27T23:00:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EDoes anyone know the height of the launchpad? In order to measure the craft\u0027s height on the launchpad I\u0027d have to know how much extra altitude the launchpad is adding above the ground.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry the runway maybe?\u003C/p\u003E\u003Cp\u003ENice, self modifying code, I hadn\u0027t thought of that!\u003C/p\u003E\u003Cp\u003EEDIT: Does that launchpad obliterator mod still exist?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-27T23:02:40Z\u0022 title=\u002209/27/2013 11:02  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 27, 2013\u003C/time\u003E by yum\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T23:13:09Z","Content":"\n\u003Cp\u003EUnfortunately you can\u0027t use the self-modifying code idea to make a program that contains any literal strings in it, since Kosscript doesn\u0027t include a way to protect a quote mark inside a quote string, as far as I know. You can\u0027t say something like this:\u003C/p\u003E\u003Cp\u003Elog \u0022print \\\u0022hello\\\u0022. \u0022 to progfile.\u003C/p\u003E\u003Cp\u003ENor this:\u003C/p\u003E\u003Cp\u003Eset qmark to \u0022\\\u0022\u0022.\u003C/p\u003E\u003Cp\u003Eset statement to \u0022print \u0022 \u002B qmark \u002B \u0022hello\u0022 \u002B qmark \u002B \u0022.\u0022 .\u003C/p\u003E\u003Cp\u003Elog statement to progfile.\u003C/p\u003E\u003Cp\u003Eor anything else that might let you do that. If anyone has any ideas let me know.\u003C/p\u003E\n"},{"CreatedByName":"razark","CreatedById":32993,"CreatedDateTime":"2013-09-27T23:40:07Z","Content":"\n\u003Cp\u003EIt\u0027s a pain, but:\u003C/p\u003E\u003Cp\u003EIn the modifying program:\u003C/p\u003E\u003Cp\u003Elog \u0022print h \u002B e \u002B l \u002B l \u002B o.\u0022 to modified.\u003C/p\u003E\u003Cp\u003EIn the modified program:\u003C/p\u003E\u003Cp\u003Eset h to \u0022h\u0022.\u003C/p\u003E\u003Cp\u003Eset e to \u0022e\u0022.\u003C/p\u003E\u003Cp\u003Eset l to \u0022l\u0022.\u003C/p\u003E\u003Cp\u003Eset o to \u0022o\u0022.\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2013-09-27T23:52:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EDid you have the ability to check memory usage when you were looking at CPU and GPU usage?\u003Cp\u003EI\u0027ve seen the same problem from other mods and I believe the common problem might be that a mod gets stuck in a never-ending loop that happens to be allocating some memory.[...]And since it\u0027s a 32-bit program, if you have a lot of RAM it doesn\u0027t necessarily need to use up all the memory of the machine - just use up as much as a 32-bit program can use (4GB).\u003C/p\u003E\u003Cp\u003E[...]\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell I just checked this with a vessel on the way to m\u00C3\u0192\u00C2\u00BCn. ... The Mem usage goes (very) slowly up. I assume it is on command. But I have to validate that.\u003C/p\u003E\u003Cp\u003EKSP begins with ~2,600,000k on my computer at 2,646,588k the stutter becomes noticeable, but its still playable. Funny thing: after a while of a short stops and only short normal periods there comes a time where almost no stop is only to get much worse afterwards. At ~2,670,000k it gets real laggy. And in the moment I end the program KSP works fine again, even though the mem usage does need a while to change.\u003C/p\u003E\u003Cp\u003EIts definitly a overflow of some mem or buffer. But not the ksp reserved in general. (Also otherwise KSP would crash, I know that firsthand)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yum\u0022 data-cite=\u0022yum\u0022\u003E\u003Cdiv\u003ESeems to be working for me here.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//logger\u003Cbr\u003Eclearscreen.\u003Cbr\u003Eprint \u0022Attempting log\u0022 at (0,15).\u003Cbr\u003Eset toLog to \u0022X,Y,Z\u0022.\u003Cbr\u003Eset difference to 0.001.\u003Cbr\u003Eset lastLat to latitude \u002B difference \u002B difference.\u003Cbr\u003Eset lastLong to longitude \u002B difference \u002B difference.\u003Cbr\u003E\u003Cbr\u003Eset shipHeight to 1.27. //input your ships height (alt:radar while on ground)\u003Cbr\u003E\u003Cbr\u003Euntil 0 {\u003Cbr\u003E\tset curAlt to altitude - (alt:radar - shipHeight). //should have named this ground elevation!\u003Cbr\u003E\tif alt:radar = -1 { set curAlt to 0. }. //for when alt:radar bugs out...not sure why\u003Cbr\u003E\tset curLat to latitude.\u003Cbr\u003E\tset curLong to longitude.\u003Cbr\u003E\tprint altitude \u002B \u0022 - (\u0022 \u002B alt:radar \u002B \u0022 - \u0022 \u002B shipHeight \u002B \u0022)  \u0022 at (15,3).\u003Cbr\u003E\tprint \u0022ELEVATION = \u0022 \u002B curAlt \u002B \u0022 m        \u0022 at (0,4).\u003Cbr\u003E\tprint \u0022LAT       = \u0022 \u002B curLat \u002B \u0022 degrees  \u0022 at (0,6).\u003Cbr\u003E\tprint \u0022LONG      = \u0022 \u002B curLong \u002B \u0022 degrees  \u0022 at (0,7).\u003Cbr\u003E\tif abs(lastLat - curLat) \u0026gt; difference or abs(lastLong - curLong) \u0026gt; difference {\u003Cbr\u003E\t\tset toLog to curLat \u002B \u0022,\u0022 \u002B curLong \u002B \u0022,\u0022 \u002B curAlt.\u003Cbr\u003E\t\tprint \u0022Logging Active    \u0022 at (0,15).\u003Cbr\u003E\t\tprint \u0022toLog     = \u0022 \u002B toLog \u002B \u0022     \u0022 at (0,9).\u003Cbr\u003E\t\tlog toLog to logfile.\u003Cbr\u003E\t\tprint \u0022Last log print: \u0022 \u002B missiontime \u002B \u0022    \u0022 at (0,20).\u003Cbr\u003E\t\tset lastLat to curLat.\u003Cbr\u003E\t\tset lastLong to curLong.\u003Cbr\u003E\t}.\u003Cbr\u003E\twait 0.5.\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EJust log variable to filename.\u003C/p\u003E\u003Cp\u003EIf we had arrays and could read from the log...things could get more interesting.\u003C/p\u003E\u003Cp\u003ESide note - alt:radar returns -1 seemingly randomly, anyone know why?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK, I missed that, since it wasn\u0027t included last time I was a bit sloppy on the manual, so i missed the \u003Cstrong\u003Eto\u003C/strong\u003E no wonder it wasn\u0027t working. Good thing we have spoken about that.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022check\u0022 data-cite=\u0022check\u0022\u003E\u003Cdiv\u003Ealt:radar will return -1 when you\u0027re above 3500m from the ground or flying over deep ocean.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy? That\u0027s a k-OS limitation isn\u0027t it? I mean Steamgauges is showing radar:alt up to 20k.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAnother trick you can do with the new logfile feature is to use it to write self-modifying code - because the KOS mod does not differentiate between log files and program scripts. They\u0027re all \u0022.txt\u0022 files behind the scenes.\u003Cp\u003EFor example, the following works:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elog \u0022print x^2 .\u0022 to squared.\u003Cbr\u003Eset x to 5.\u003Cbr\u003Erun squared.\u003Cbr\u003E25\u003Cbr\u003EProgram ended.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe only problem is that you have to delete the file for each edit and you cant read the file either.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EUnfortunately you can\u0027t use the self-modifying code idea to make a program that contains any literal strings in it, since Kosscript doesn\u0027t include a way to protect a quote mark inside a quote string, as far as I know. You can\u0027t say something like this:\u003Cp\u003Elog \u0022print \\\u0022hello\\\u0022. \u0022 to progfile.\u003C/p\u003E\u003Cp\u003ENor this:\u003C/p\u003E\u003Cp\u003Eset qmark to \u0022\\\u0022\u0022.\u003C/p\u003E\u003Cp\u003Eset statement to \u0022print \u0022 \u002B qmark \u002B \u0022hello\u0022 \u002B qmark \u002B \u0022.\u0022 .\u003C/p\u003E\u003Cp\u003Elog statement to progfile.\u003C/p\u003E\u003Cp\u003Eor anything else that might let you do that. If anyone has any ideas let me know.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThought of simple quotation marks (or whatever that is called in English) but that also doesn\u0027t work.\u003C/p\u003E\u003Cp\u003Eedit: Propose on github your own C code that is has escaping characters...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-28T00:01:56Z\u0022 title=\u002209/28/2013 12:01  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 28, 2013\u003C/time\u003E by Bizz Keryear\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2013-09-28T00:20:01Z","Content":"\n\u003Cp\u003EIm assuming this doesnt do orbit calculations automatically? Like, i cant say \u0022transit duna\u0022 and it works that out? I assume ive got to do my own math and work out my own thrust points?\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-28T00:30:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003EIm assuming this doesnt do orbit calculations automatically? Like, i cant say \u0022transit duna\u0022 and it works that out? I assume ive got to do my own math and work out my own thrust points?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are correct!\u003C/p\u003E\n"}]}