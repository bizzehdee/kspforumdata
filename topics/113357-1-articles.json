{"TopicId":113357,"ForumId":29,"TopicTitle":"Drawing before celestial bodies?","CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-18T19:55:02Z","PageNum":1,"Articles":[{"CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-18T19:55:02Z","Content":"\n\u003Cp\u003EHi everyone,\u003C/p\u003E\u003Cp\u003Eanother question for the experts out there, is there a way to draw something after the skybox has been drawn but before the celestial bodies are drawn? Currently I only know about the two functions RenderingManager.AddToPreDrawQueue and AddToPostDrawQueue. The PreDraw gets my stuff drawn before most of the gui level stuff, but even with first parameter -1 I can\u0027t get it to draw before the planets (so that it has the visual effect of being behind the planet). Anyone know the answer or know a mod where I might find it? I tried Distant Object Enhancement, but couldn\u0027t find any answers there...\u003C/p\u003E\u003Cp\u003EAny help would be appreciated!\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-18T21:04:28Z","Content":"\n\u003Cp\u003EThat\u0027s because the draw queues are part of OnGUI (UI elements), not the scene rendering. One of the functions in the scene rendering section of \u003Ca href=\u0022http://docs.unity3d.com/Manual/ExecutionOrder.html\u0022 rel=\u0022external nofollow\u0022\u003EMonoBehaviour\u003C/a\u003E is much more likely to be what you are after\u003C/p\u003E\n"},{"CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-20T12:38:26Z","Content":"\n\u003Cp\u003EOk, so I added a function like this to my PartModule:\u003C/p\u003E\u003Cp\u003Epublic void OnPreRender()\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E Util.log (\u0022OnPreRender\u0022);\u003C/p\u003E\u003Cp\u003E DrawObjs ();\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003Ebut it never gets called (no log text). How do I get the function to be called?\u003C/p\u003E\u003Cp\u003ESegmentation\u003C/p\u003E\n"},{"CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-20T13:37:19Z","Content":"\n\u003Cp\u003EOk, if I do\u003C/p\u003E\u003Cp\u003ECamera.main.gameObject.AddComponent (typeof(MyPart));\u003C/p\u003E\u003Cp\u003Ein my OnStart then OnPreRender gets called, but I can\u0027t see the effects of it drawing anything. In the log file I get thousands of these now:\u003C/p\u003E\u003Cp\u003EDrawGUITexture: texture is null\u003C/p\u003E\u003Cp\u003E(Filename: Line: 487)\u003C/p\u003E\u003Cp\u003E[MyProject.MyPart] OnPreRender\u003C/p\u003E\n"}]}