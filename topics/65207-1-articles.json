{"TopicId":65207,"ForumId":35,"TopicTitle":"[Plugin - 0.23.5] Persistent file backup generator - V0.3.1","CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-03-08T19:31:19Z","PageNum":1,"Articles":[{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-03-08T19:31:19Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003C/p\u003E\u003Ca href=\u0022http://kerbal.curseforge.com/plugins/220804-autosave-backup-generator\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EDownload from Curse\u003C/span\u003E\u003C/a\u003E\u003Cp\u003E\u003Ca href=\u0022http://www./download/98wkt28ke25gsxn/DMagic_AutoSave_V3.1.zip\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EMediaFire Link\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUpdated to better handle quick-load plugins.\u003C/p\u003E\u003Cp\u003EThis simple plugin generates a variable number of backup persistent files in your savegame folder. The number of backups can be altered with the included Settings.cfg file.\u003C/p\u003E\u003Cp\u003EVersion 0.3: Should now be working with any plugin that bypasses the main menu and loads directly into the space center or an active vessel (really this time).\u003C/p\u003E\u003Cp\u003EVersion 0.3.1: Compiled against .net 3.5, ModStatistics should no spam debug log errors\u003C/p\u003E\u003Cp\u003ETo restore a backup just rename the original persistent file, then rename the desired backup from \u0022persistent Backup 3\u0022 to \u0022persistent\u0022 (without \u0022\u0022 and using the # from the desired backup) and it should now load with the working file.\u003C/p\u003E\u003Cp\u003EThis is intended to serve as a protection against persistent file corruption or from having your vessels wiped out by missing parts. It is not intended to be used for save scumming (reloading a save file over and over to get something perfect). Backup save files are only generated when a file is first loaded from the mainmenu.\u003C/p\u003E\u003Cp\u003ESource is available in the download and on \u003Ca href=\u0022https://github.com/DMagic1/AutoSave\u0022 rel=\u0022external nofollow\u0022\u003EGitHub\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003ELicense under the 2-clause BSD: \u003Ca href=\u0022http://www.rebol.com/docs/bsd-mit-license.html\u0022 rel=\u0022external nofollow\u0022\u003EBSD License\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-12T00:15:44Z\u0022 title=\u002206/12/2014 12:15  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 12, 2014\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003Cbr\u003EVersion 0.3.1\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-03-09T00:49:36Z","Content":"\n\u003Cp\u003EI\u0027ve had my remote backups doing this for me but this way is even better. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-03-20T00:33:24Z","Content":"\n\u003Cp\u003EI updated this. It now directly copies the existing persistent.sfs file into a backup file instead of using the SaveGame method. This seems to accomplish the same thing, but now it works with plugins that bypass the main menu.\u003C/p\u003E\n"},{"CreatedByName":"GavinZac","CreatedById":68719,"CreatedDateTime":"2014-03-20T05:46:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EI updated this. It now directly copies the existing persistent.sfs file into a backup file instead of using the SaveGame method. This seems to accomplish the same thing, but now it works with plugins that bypass the main menu.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs it possible to get this to write outside the Saves directory, via config maybe? Just imagining it outputing to a Dropbox folder.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-03-20T15:04:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GavinZac\u0022 data-cite=\u0022GavinZac\u0022\u003E\u003Cdiv\u003EIs it possible to get this to write outside the Saves directory, via config maybe? Just imagining it outputing to a Dropbox folder.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt should be easily possible, but it is against Squad\u0027s addon rules to write or alter files outside of the KSP directory: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/7529-Plugin-Posting-Rules-And-Official-Documentation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/7529-Plugin-Posting-Rules-And-Official-Documentation\u003C/a\u003E. Even exposing such an option through the Settings.cfg file would probably be a bad idea.\u003C/p\u003E\u003Cp\u003EChanging it yourself wouldn\u0027t be too much trouble. You just need to replace the second \u0022activeDirectory\u0022 line with the full path of your desired destination, then recompile it.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFile.Copy(Path.Combine(activeDirectory, \u0022persistent.sfs\u0022), Path.Combine(activeDirectory, replaceBackup), true);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"GavinZac","CreatedById":68719,"CreatedDateTime":"2014-03-20T19:37:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EIt should be easily possible, but it is against Squad\u0027s addon rules to write or alter files outside of the KSP directory: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/7529-Plugin-Posting-Rules-And-Official-Documentation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/7529-Plugin-Posting-Rules-And-Official-Documentation\u003C/a\u003E. Even exposing such an option through the Settings.cfg file would probably be a bad idea.\u003Cp\u003EChanging it yourself wouldn\u0027t be too much trouble. You just need to replace the second \u0022activeDirectory\u0022 line with the full path of your desired destination, then recompile it.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFile.Copy(Path.Combine(activeDirectory, \u0022persistent.sfs\u0022), Path.Combine(activeDirectory, replaceBackup), true);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm. What\u0027s their policy on online connections? I know a few mods do a simple GET to check for updates and such; is it permitted to *send* also?\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2014-03-20T19:55:20Z","Content":"\n\u003Cp\u003EAny plans to implement restoring to these saves in-game? I\u0027d love, when I held F9, for a menu to come up asking which save to restore from.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-03-20T23:03:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GavinZac\u0022 data-cite=\u0022GavinZac\u0022\u003E\u003Cdiv\u003EHmm. What\u0027s their policy on online connections? I know a few mods do a simple GET to check for updates and such; is it permitted to *send* also?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not really sure what the policy is. The rules post that I linked to says that you have to somehow notify players that you are accessing anything online, but they don\u0027t say anything about actually sending data.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EAny plans to implement restoring to these saves in-game? I\u0027d love, when I held F9, for a menu to come up asking which save to restore from.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m actually trying specifically to avoid that. I don\u0027t really like the idea of save scumming and I don\u0027t want to encourage it (I know that there are lots of legitimate uses for multiple saves, too). There are a few mods out there that do basically that. I found this one: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/51901-0-23-Multiple-Saves-DA-v016\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/51901-0-23-Multiple-Saves-DA-v016\u003C/a\u003E, but I think I\u0027ve seen others somewhere too.\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2014-03-20T23:37:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EI\u0027m actually trying specifically to avoid that. I don\u0027t really like the idea of save scumming and I don\u0027t want to encourage it (I know that there are lots of legitimate uses for multiple saves, too). There are a few mods out there that do basically that. I found this one: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/51901-0-23-Multiple-Saves-DA-v016\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/51901-0-23-Multiple-Saves-DA-v016\u003C/a\u003E, but I think I\u0027ve seen others somewhere too.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou call it save scumming, I call it running simulations \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E But I understand the reasoning.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-26T16:49:46Z","Content":"\n\u003Cp\u003EI updated this again, it should really be working with quick load plugins this time.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-05-26T17:59:27Z","Content":"\n\u003Cp\u003EI\u0027ve been ignored over in the Module Manager thread so maybe you can do something. MM is triggering this plugin when it does its backup, so that all of my persistence file backups become the current persistence file. If I want my backups, I need to get them out of the backup folder MM created.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-26T18:42:30Z","Content":"\n\u003Cp\u003EYou should complain more vigorously in the MM thread. I opened up an issue on the MM GitHub page.\u003C/p\u003E\u003Cp\u003EMM isn\u0027t triggering this plugin, it\u0027s simply overwriting every .sfs file in the save folder when certain circumstances trigger it. The original files \u003Cem\u003Eshould\u003C/em\u003E all still exist in a newly created backup folder. Nevertheless this should not happen. If MM wants to overwrite the persistent.sfs file and generate a new backup file that\u0027s fine, but it should never overwrite every .sfs file in the save folder, including the quicksave.sfs file.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-05-26T20:02:30Z","Content":"\n\u003Cp\u003Ewell, I\u0027ve spoken up twice and gotten no response. Hopefully your issue gets some action\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-24T23:56:48Z","Content":"\n\u003Cp\u003E\nTested, still working in v1.3.1 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Just wanted to bump this because I still find it better than the stock backup and don\u0027t want it to be forgotten as an out of date mod when it isn\u0027t!\n\u003C/p\u003E\n\u003Cp\u003E\n(could use a re-upload tho \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257416\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0022 rel=\u0022\u0022\u003E@DMagic\u003C/a\u003E in case anyone else is interested in using it... \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-24T23:57:40Z\u0022 title=\u002212/24/2017 11:57  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 24, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"}]}