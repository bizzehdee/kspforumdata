{"TopicId":200944,"ForumId":109,"TopicTitle":"mods for the steam workshop","CreatedByName":"ivysaur406879","CreatedById":210600,"CreatedDateTime":"2021-03-12T03:15:01Z","PageNum":1,"Articles":[{"CreatedByName":"ivysaur406879","CreatedById":210600,"CreatedDateTime":"2021-03-12T03:15:01Z","Content":"\n\u003Cp\u003E\nso I\u0027m new and I\u0027m glad to be here one issue is that in ksp the only way to install mods is doing it manually or by installing it though a mod installer like forge its bugging me and I suggest that ksp2 has a workshop compatible mods tab\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-03-12T03:34:47Z","Content":"\n\u003Cp\u003E\nIf the mod only contains assets, it\u0027s totally doable. But you don\u0027t want any mods with custom code coming through the Workshop. It\u0027s a huge vulnerability. Still, would be nice for mods that just add custom parts that rely on standard functionality.\n\u003C/p\u003E\n"},{"CreatedByName":"ballisticfox0","CreatedById":206207,"CreatedDateTime":"2021-03-12T03:38:57Z","Content":"\n\u003Cp\u003E\nSomething akin to \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E could be added to a launcher of sorts.\n\u003C/p\u003E\n"},{"CreatedByName":"mcwaffles2003","CreatedById":180102,"CreatedDateTime":"2021-03-13T09:02:33Z","Content":"\n\u003Cp\u003E\nPersonally, I dislike the steam workshop. Communication there is difficult to follow and even if the mod support is\u00A0still hosted on here in parallel that would just divide the community and probably make the devs job more difficult.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd just anecdotally, I have found browsing for mods and implementing them via \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E to be the best way to apply mods for any\u00A0game I\u0027ve ever added mods to. Factorio comes in a distant 2nd.\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2021-03-13T11:14:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223939197\u0022 data-ipsquote-contentid=\u0022200944\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221615520087\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/12/2021 at 4:34 AM, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut you don\u0027t want any mods with custom code coming through the Workshop.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI wonder how some mods for, let\u0027s say, cities skylines or truck simulator work then. I suppose they don\u0027t interfere with game code and just work on top of it. Plus, at least in truck sim case, mods are just separate .scs files, probably acting like archive for everything inside.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, it was probably a dev choice to not allow anything other than craft files in the workshop. It may change for the sequel.\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2021-03-13T12:09:32Z","Content":"\n\u003Cp\u003E\nIf the game is available on any platform other than Steam (GoG, Epic, KSP store), then using the workshop is right out the window.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut seeing how \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E is the greatest mod manager I\u0027ve ever seen, for any game, way better than the workshop on many many fronts, I\u0027d rather they stuck with that in particular.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"jastrone","CreatedById":208489,"CreatedDateTime":"2021-03-13T13:59:29Z","Content":"\n\u003Cp\u003E\ni would really think this would be cool too but sometimes when modding gets so easy it is expected to be played with mods. such games are teardown and beam.ng drive where it fits with having mods since there is not much content in the game but ksp is a bit different and the entire game can change with just one mod.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-03-13T23:44:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223939695\u0022 data-ipsquote-contentid=\u0022200944\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221615634068\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI wonder how some mods for, let\u0027s say, cities skylines or truck simulator work then. I suppose they don\u0027t interfere with game code and just work on top of it. Plus, at least in truck sim case, mods are just separate .scs files, probably acting like archive for everything inside.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, there\u0027s code and there\u0027s code. The problem with KSP mods is that they are distributed with a compiled \u003Ca href=\u0022https://en.wikipedia.org/wiki/Dynamic-link_library\u0022 rel=\u0022external nofollow\u0022\u003EDLL\u003C/a\u003E plugin. That can contain absolutely anything and is about as secure as running an executable you downloaded straight off the internet. In fact, in a lot of ways even worse, because it\u0027s easier to sneak a DLL file past\u00A0 antivirus software, as it might not match any known signatures, and malicious behavior is easier to obfuscate if you can use engine \u003Ca href=\u0022https://en.wikipedia.org/wiki/API\u0022 rel=\u0022external nofollow\u0022\u003EAPI\u003C/a\u003E for parts of it. So downloading a stranger\u0027s KSP mod is a huge risk. The reason this hasn\u0027t flared up yet is because KSP modding community is fairly niche and basically works on reputation. With KSP2 reaching for wider audience and if there will be Workshop support, this all goes out the window. A bad actor with burner Steam account and KSP2 key could hit thousands or tens of thousands of machines with malicious software, and that will make it worth it for somebody.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are ways to address it. Unfortunately, I haven\u0027t looked at either Cities Skyline or Truck Simulator mods, so I can\u0027t comment on these specifically, but there are safe (to within reasonable definition) ways to distribute code with \u003Ca href=\u0022https://en.wikipedia.org/wiki/User-generated_content\u0022 rel=\u0022external nofollow\u0022\u003EUGC\u003C/a\u003E. The general approach is to create a sandbox for imported code. Even an executable is reasonably safe, because if you create a separate process with no kernel modules, and only provide your custom API, which is carefully designed to prevent malicious operations, then all the code can do is talk to your API and perform actions in the game. In that case, worst it can do is break something in the game. This is a\u00A0\u003Cem\u003Elot\u003C/em\u003E\u00A0of work, however, and I wouldn\u0027t even fully trust myself with something like this, so this would take a security expert hire to do this right.\n\u003C/p\u003E\n\u003Cp\u003E\nA better approach is to run the code in some sort of a \u003Ca href=\u0022https://en.wikipedia.org/wiki/Virtual_machine\u0022 rel=\u0022external nofollow\u0022\u003EVM\u003C/a\u003E. Now, there are plenty of stories where VMs have been exploited to gain arbitrary code execution, so not just any VM will do. Fortunately, the entire internet relies on existence of fast, reliable, and secure VMs - specifically, for JavaScript on web pages. Letting modders run JavaScript is an excellent way to have them extend the game without creating giant security holes.\u00A0 JavaScriptCore used by all iOS devices or V8 used by Chromium and Android devices are good candidates, as they are well tested and open source. The only disadvantage here for a game like KSP2 is that you\u0027ll need to make sure your API has JS bindings, but C# actually makes that very easy with \u003Ca href=\u0022https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/\u0022 rel=\u0022external nofollow\u0022\u003EAttributes\u003C/a\u003E. At work, we are using these to create Python bindings inside all of our C# tools, and while it\u0027s a bit of an effort to set up a custom attribute like this initially, thereafter, any API call you are using in parts code you want to be accessible from JavaScript would just take something like [JavaScript] attribute and just work. From there on, it\u0027s just a matter of making sure your API doesn\u0027t provide any arbitrary file or network I/O and you\u0027re set.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, you can run your own VM that you make sure cannot be exploited. It\u0027s hard to do in general, but as discussed in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/188693-suggestion-logic-gates/\u0022 rel=\u0022\u0022\u003Elogic gates thread\u003C/a\u003E, \u003Ca href=\u0022https://en.wikipedia.org/wiki/Visual_programming_language\u0022 rel=\u0022external nofollow\u0022\u003EVPL\u003C/a\u003E is actually a good way to achieve it. It\u0027s generally a lot easier to secure a node-based script, because all the relevant data can be required to be stored within a node. Then even if you \u003Ca href=\u0022https://en.wikipedia.org/wiki/Source-to-source_compiler\u0022 rel=\u0022external nofollow\u0022\u003Etranspile\u003C/a\u003E the VPL\u00A0into \u003Ca href=\u0022https://en.wikipedia.org/wiki/Bytecode\u0022 rel=\u0022external nofollow\u0022\u003Ebytecode\u003C/a\u003E for evaluation on conventional VM for efficiency, so long as you only distribute the raw VPL with your Workshop entries and your transpiler does good error checking, then you can have all the performance of a good bytecode VM with security and ease of use of VPL. Win-win-win, but not just any software engineer is going to be able to set all of this up. It requires a fairly senior person with background in scripting, so unless there is strong desire to have VPL in KSP2 in general, I would still go with JavaScript as a better option for Workshop.\n\u003C/p\u003E\n\u003Cp\u003E\n(Links all over the place, because I realized I\u0027m using too much jargon and abbreviations.)\n\u003C/p\u003E\n"},{"CreatedByName":"Dientus","CreatedById":209823,"CreatedDateTime":"2021-03-14T06:05:11Z","Content":"\n\u003Cp\u003E\nSo do we know how mods will be implemented in ksp2? Will it be coded dll or exes? Will it be LUA or Java? Or will it be pure script interpreted by the engine?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIm sure most of us have seen all types and I am not arguing what is the best way, too messy. I am asking if there is anything stated by devs as a finality as of this date?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-03-14T06:37:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223940107\u0022 data-ipsquote-contentid=\u0022200944\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221615701911\u0022 data-ipsquote-userid=\u0022209823\u0022 data-ipsquote-username=\u0022Dientus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, Dientus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo do we know how mods will be implemented in ksp2?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t think we\u0027ve heard anything about it. But it looks like KSP2 is using the same monobehavior GameObject patterns in Unity as KSP, so DLL plugins would be the most straightforward and easiest way to make it happen. If they aren\u0027t planning for any serious Workshop integration, that might be all we get. But it is just me guessing. I would also like to know something a bit more concrete.\n\u003C/p\u003E\n"},{"CreatedByName":"Kernel Kraken","CreatedById":181383,"CreatedDateTime":"2021-03-15T16:31:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223939197\u0022 data-ipsquote-contentid=\u0022200944\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221615520087\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/11/2021 at 9:34 PM, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf the mod only contains assets, it\u0027s totally doable. But you don\u0027t want any mods with custom code coming through the Workshop. It\u0027s a huge vulnerability. Still, would be nice for mods that just add custom parts that rely on standard functionality.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, Garry\u0027s Mod had a whole bunch of completely custom mods running through the workshop. Mods like the ACF or whole new game modes have been added that need a single click on the \u0022subscribe\u0022 button to install. The workshop essentially does what \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E does, it\u0027s just an integrated mod loader.\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-03-15T17:37:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223940726\u0022 data-ipsquote-contentid=\u0022200944\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221615825902\u0022 data-ipsquote-userid=\u0022181383\u0022 data-ipsquote-username=\u0022Kernel Kraken\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Kernel Kraken said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, Garry\u0027s Mod had a whole bunch of completely custom mods running through the workshop.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIIRC, GMod uses Lua scripts for that. People have found remote code execution exploits in Lua in the past in other projects. I don\u0027t know what the status of it in GMod is and how well sandboxed the scripting system is, so I\u0027m not going to promise that it\u0027s safe, but it can at least be made sufficiently safe.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the modern world, JavaScript is far better for performance, security, availability of libraries and support, and ease of debugging than Lua is by a considerable margin. That wasn\u0027t quite the case back when GMod first appeared, so for legacy games like this, I don\u0027t mind Lua too much. For anything modern, if you are going with Lua instead of JS, you\u0027re objectively doing it wrong.\n\u003C/p\u003E\n"}]}