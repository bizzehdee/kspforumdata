{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":335,"Articles":[{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2020-03-10T19:15:11Z","Content":"\u003E \n\u003E \n\u003E 37 minutes ago, Cpt.Wuurd said:\n\u003E \n\u003E \n\u003E Can someone explain to me how this worked\n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 width=\u0022480\u0022 data-embed-src=\u0022https://www.youtube.com/embed/mgcDGsGQS_I?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003E \n\nHe\u0027s using one of the workarounds posted that hurts performance (either -force-dx12 or -force-opengl)\n\nThey hurt performance massively though.  He must have a heck of a beefy system."},{"CreatedByName":"Cpt.Wuurd","CreatedById":203245,"CreatedDateTime":"2020-03-10T19:19:58Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, R-T-B said:\n\u003E \n\u003E \n\u003E He\u0027s using one of the workarounds posted that hurts performance (either -force-dx12 or -force-opengl)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E They hurt performance massively though.  He must have a heck of a beefy system.\n\u003E \n\nThanks for Clarifying."},{"CreatedByName":"alberro\u002B","CreatedById":199496,"CreatedDateTime":"2020-03-10T20:31:57Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Cpt.Wuurd said:\n\u003E \n\u003E \n\u003E Can someone explain to me how this worked\n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 width=\u0022480\u0022 data-embed-src=\u0022https://www.youtube.com/embed/mgcDGsGQS_I?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003E \n\nThey probably used the temporary fix listed in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E."},{"CreatedByName":"StoneWolfPC","CreatedById":201017,"CreatedDateTime":"2020-03-10T23:21:18Z","Content":"On a ship that size my system didn\u0027t lag that bad.  The problem is that it didn\u0027t look ANYTHING as gorgeous as this.  I had my settings on max for launch, and it was no where this beautiful on a 1440p monitor.... even in screenshots.  In a bit I\u0027ll try to load up and show you what I mean.  I get everything scatterer gives using force-dx12 but it\u0027s just nothing quite as nice as this video...... maybe it\u0027s the tons of other mods and something not playing well so i\u0027ll wipe all of it except eve, scatterer and SVE before showing you. lol  I don\u0027t play on 1.9.1 yet, except to goof off until the official releases hit.  1.8.1 looks much nicer in my opinion compared to my 1.9.1 on ultra simply because I have Kopernicus and OuterPlanets installed. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-10T23:56:35Z","Content":"\u003E \n\u003E \n\u003E 35 minutes ago, StoneWolfPC said:\n\u003E \n\u003E \n\u003E The problem is that it didn\u0027t look ANYTHING as gorgeous as this.\n\u003E \n\nThe author of that video is using at least a post-processing mod \u002B customized scatterer settings.  You are definitely not going to get those visuals \u0027out-of-the-box\u0027."},{"CreatedByName":"StoneWolfPC","CreatedById":201017,"CreatedDateTime":"2020-03-11T03:06:54Z","Content":"Well I had to verify file integrity on KSP, something borked.  Anyway I got it back up and running, then found out part of my problem is SVE mod is being goofy.  So I went with Spectra.  HOLY VISUAL YUMM!!!  But um....... what system slow down?  What are you guys doing, I want to try to repeat it for myself, because.......... mine was running really really smooth.  The only issue I ran into is that I can\u0027t load a kerbal as crew or it crashes unity.  Not a mod issue so not posting about that here.......... here\u0027s the screens........... I\u0027m going to tinker more and see if building a vessel bigger causes as big of lag....... but minimizing my mods from over 100 to 5 really makes a difference lmfao.  I\u0027m running:\n\nI7-7700k stock\n\nMSI gaming gtx1080 8gb\n\nASROCK z270 gaming mobo\n\n16 gigs DDR3 3200 Gskill Ripjaws V ram\n\nCorsair 500gb sata ssd\n\n4g lte internet connection because I can\u0027t get anything else in this building. \u003E.\u003C\n\n[It\u0027s not showing the image, so here\u0027s the gallery for all of the current uploads](https://imgur.com/gallery/6r4QV1T)"},{"CreatedByName":"Windh","CreatedById":200483,"CreatedDateTime":"2020-03-13T09:35:46Z","Content":"\u003E \n\u003E \n\u003E On 3/11/2020 at 12:56 AM, Shadowmage said:\n\u003E \n\u003E \n\u003E The author of that video is using at least a post-processing mod \u002B customized scatterer settings.  You are definitely not going to get those visuals \u0027out-of-the-box\u0027.\n\u003E \n\nA little excessive bloom effect too, if you ask me. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"Animasola","CreatedById":197403,"CreatedDateTime":"2020-03-13T11:09:14Z","Content":"If you play around, having the sun at the right position for the reflections, you get nice effects.\n\nBut not gonna happen when you focus on getting your mission done.\n\nMost of the effects can be done with ReShade but it also works on the UI and it makes it almost unusable and/or annoying.\n\nSo this is possible but not fun to play ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n**Edited \u003Ctime datetime=\u00222020-03-13T11:10:12Z\u0022 title=\u002203/13/2020 11:10  AM\u0022 data-short=\u00224 yr\u0022\u003EMarch 13, 2020\u003C/time\u003E by Animasola**"},{"CreatedByName":"NielsGx","CreatedById":203165,"CreatedDateTime":"2020-03-14T03:45:23Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, Animasola said:\n\u003E \n\u003E \n\u003E If you play around, having the sun at the right position for the reflections, you get nice effects.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E But not gonna happen when you focus on getting your mission done.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Most of the effects can be done with ReShade but it also works on the UI and it makes it almost unusable and/or annoying.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So this is possible but not fun to play ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nKS3P works great, so I don\u0027t use ReShade on ksp personally"},{"CreatedByName":"StoneWolfPC","CreatedById":201017,"CreatedDateTime":"2020-03-14T05:42:59Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, NielsGx said:\n\u003E \n\u003E \n\u003E KS3P works great, so I don\u0027t use ReShade on ksp personally\n\u003E \n\nKS3P, a custom sunflare, scatterer, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, and I believe that\u0027s AVP or Spectra.  Oh btw........ my frame rate does drop sorry, I found out I lied................. I compared it to my modded 1.8.1 with scatterer and no custom configs and \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E on 1.9.1............... 20 fps.......... with AVP 20 fps.  My 1.8.1 fully loaded with over 150 mods............ 32 fps........................ no mods on 1.8.1 stable at roughly 80 fps with a lot of change too rapidly to get an average.  1.9.1 is slower but appears to be less jerky and laggy so runs smoother.  Exiting time warp on 1.8.1 will freeze the game for a little while, a minute, or sometimes a second.  But noticeable.  1.9.1 doesn\u0027t slow down more than a few seconds and didn\u0027t freeze at all.  Unfortunately, I am having a random bug that keeps randomly booting me in 1.9.1 and it\u0027s rather irritating.  No log showing exactly what caused it, so I do a fresh clean no mod install of 1.9.1, then it still does happens on a new save............ must be a new windows update or something not sure.  lol"},{"CreatedByName":"Gabriel B","CreatedById":200166,"CreatedDateTime":"2020-03-14T21:55:25Z","Content":"Hi [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)  ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) ! Good evening, i would like to know if we have some prevision to the release of Scaterrer 1.9.1"},{"CreatedByName":"Capt. Hunt","CreatedById":97860,"CreatedDateTime":"2020-03-14T23:11:56Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Gabriel B said:\n\u003E \n\u003E \n\u003E Hi [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)  ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) ! Good evening, i would like to know if we have some prevision to the release of Scaterrer 1.9.1\n\u003E \n\nthere is a workaround, but I\u0027m sure he\u0027ll release it when it\u0027s ready."},{"CreatedByName":"alberro\u002B","CreatedById":199496,"CreatedDateTime":"2020-03-15T04:29:55Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Capt. Hunt said:\n\u003E \n\u003E \n\u003E there is a workaround, but I\u0027m sure he\u0027ll release it when it\u0027s ready.\n\u003E \n\nWait, so there\u0027ll be a 1.9.1 update? I thought that nothing would be put out due to the DX12 workaround."},{"CreatedByName":"VoidSquid","CreatedById":196199,"CreatedDateTime":"2020-03-15T04:32:38Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, alberro\u002B said:\n\u003E \n\u003E \n\u003E Wait, so there\u0027ll be a 1.9.1 update?\n\u003E \n\nI truly hope so, personally, having Scatterer working, for me is much more important than to upgrade to 1.9.1 just for the sake of it ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Capt. Hunt","CreatedById":97860,"CreatedDateTime":"2020-03-15T16:19:04Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, alberro\u002B said:\n\u003E \n\u003E \n\u003E Wait, so there\u0027ll be a 1.9.1 update? I thought that nothing would be put out due to the DX12 workaround.\n\u003E \n\nI haven\u0027t read anything that suggests he\u0027s not working on it."},{"CreatedByName":"ForgiLaGeord","CreatedById":117608,"CreatedDateTime":"2020-03-15T18:04:41Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, alberro\u002B said:\n\u003E \n\u003E \n\u003E Wait, so there\u0027ll be a 1.9.1 update? I thought that nothing would be put out due to the DX12 workaround.\n\u003E \n\nThe \u0022workaround\u0022 barely works for most people. KSP runs like garbage on DX12, even on computers that can run any other DX12 game just fine."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-03-16T10:31:48Z","Content":"\u003E \n\u003E \n\u003E 18 hours ago, Capt. Hunt said:\n\u003E \n\u003E \n\u003E I haven\u0027t read anything that suggests he\u0027s not working on it.\n\u003E \n\n\u003E \n\u003E \n\u003E On 3/15/2020 at 5:29 AM, alberro\u002B said:\n\u003E \n\u003E \n\u003E Wait, so there\u0027ll be a 1.9.1 update? I thought that nothing would be put out due to the DX12 workaround.\n\u003E \n\n\u003E \n\u003E \n\u003E On 3/14/2020 at 10:55 PM, Gabriel B said:\n\u003E \n\u003E \n\u003E Hi [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)  ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) ! Good evening, i would like to know if we have some prevision to the release of Scaterrer 1.9.1\n\u003E \n\nThere will be a proper 1.9.X update guys, I haven\u0027t worked on it much yet though for now."},{"CreatedByName":"StoneWolfPC","CreatedById":201017,"CreatedDateTime":"2020-03-17T12:51:53Z","Content":"\u003E \n\u003E \n\u003E On 3/16/2020 at 5:31 AM, blackrack said:\n\u003E \n\u003E \n\u003E There will be a proper 1.9.X update guys, I haven\u0027t worked on it much yet though for now.\n\u003E \n\nReal life takes priority.  Just know we appreciate that you will be working on it when you get to it. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"Capt. Hunt","CreatedById":97860,"CreatedDateTime":"2020-03-17T22:38:17Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), you are a steely eyed missile man, you can take all the time you need.\n\n**Edited \u003Ctime datetime=\u00222020-03-17T22:39:38Z\u0022 title=\u002203/17/2020 10:39  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 17, 2020\u003C/time\u003E by Capt. Hunt**"},{"CreatedByName":"Sepone","CreatedById":203414,"CreatedDateTime":"2020-03-21T13:01:58Z","Content":"[SOLVED] sry ![:unsure:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_unsure.png \u0022:unsure:\u0022)\n\nGreetings fellow Kerbonauts!\n\nI am new to **KSP** and just started to use Mods, and I also get the \u0022frozen Kerbin\u0022 glitch, but I downgraded my version to 1.8.1 using the Steam Beta option. The game shows 1.8.1, but our home planet still looks frozen (like in the menu pictures shown here). As I understand this shouldn\u0027t be the case. I even tried the *config patch* and *forcing DX12*, but nothing changed. Don\u0027t get me wrong, I can live with it if neccessary and I gladly wait for an updated version of Scatterer, but I\u0027m confused if an update would even help when downgrading to 1.8.1 did not. Any ideas, maybe I do something wrong (I already deleted and reinstalled Scatterer after downgrading)?\n\nEDIT: Nevermind, after restarting the game again it solved itself. No idea why, loading took longer, way more pictures were showed, and a message above the load progress bar said something about updating (can\u0027t remember what exactly it said, it ended with \u002276\u0022).\n\nOh and ... great Mod btw, Kerbin looks fantastic. Can\u0027t wait to see the rest of Kerbol!\n\n**Edited \u003Ctime datetime=\u00222020-03-21T13:31:02Z\u0022 title=\u002203/21/2020 01:31  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 21, 2020\u003C/time\u003E by Sepone**"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2020-03-22T03:16:29Z","Content":"Hello all.\n\nNot wishing to step on anyone\u0027s toes again, I am formerly requesting Blackrack\u0027s permission to release a binary build of the following code, which enables Scatterer to work on the unified camera in KSP 1.9.1/1.9 and generally puts us in a better situation there. \n\nThe work is not complete, nor will I be the one to complete it!  I don\u0027t understand half of what is going on in scatterer and I do not pretend to.  I just managed to cobble together something that works.  It is presently lacking the following:\n\n1.) Caustics and the new ocean effects are completely gone.  I wasn\u0027t able to merge them without breaking some of the old unified camera prototype code I based this on. (the branch is here: [https://github.com/LGhassen/Scatterer/tree/unified-camera)](https://github.com/LGhassen/Scatterer/tree/unified-camera)\n\n2.)  It still depends on my config fix (I\u0027ll integrate that if he lets me release it).\n\nPS:  I want to issue full credit to blackrack for the code on this one, I just glued it together from his work by merging a bunch of stuff he otherwise would have had to do by hand likely.\n\nHere is the source.  **The following bits are really just for the dev, blackrack:**\n\n@blackrack\n\nThis is simply your unified camera branch built with all the most recent features (sunflares included) up to here: [https://github.com/LGhassen/Scatterer/commit/7cadb9ae3ec13597452c6718f285a64f93c11b62](https://github.com/LGhassen/Scatterer/commit/7cadb9ae3ec13597452c6718f285a64f93c11b62)\n\nI was not able to integrate your core refactoring or caustics because I really have no idea what\u0027s going on in there with regards to the camera and was not comfortable guessing at it.\n\nThe only commits after that integrated were:\n\n[https://github.com/LGhassen/Scatterer/commit/2399fed1fa8c15d0eee57299e6fca73daee1b748 (a crash fix for the destructor)](https://github.com/LGhassen/Scatterer/commit/2399fed1fa8c15d0eee57299e6fca73daee1b748)\n\n[https://github.com/LGhassen/Scatterer/commit/ded126bd70f1aa0cfa3c53a706554a5a2830f074 (a sunflare thing)](https://github.com/LGhassen/Scatterer/commit/ded126bd70f1aa0cfa3c53a706554a5a2830f074)\n\nNothing more was done except some merging of the codebases.  Still, it is provided in the hope that it helps somehow.  It DOES seem to work.  And it took hours.  So I hope it saves you some trouble!  Here is the source, provided under your same license (GPL-3.0): \n\n**Source here:**\n\n[http://glacialsoftware.net/scatterer-ufc.zip](http://glacialsoftware.net/scatterer-ufc.zip)\n\nLet me know if binaries would be ok (I have them ready, and they\u0027d log themselves as version \u00220.0542RTBDEV\u0022 for your knowledge.\n\nTake care and get to it when you can, just seeing if I can\u0027t help out while we all wait.  This is all I can do though, my head hurts too much after this, you are a very skilled man to understand all that.\n\n-RTB\n\nEDIT:  having host issues, standby.\n\nEDIT2:  Should be good now.  There does seem to be a bug where sunflares don\u0027t work right in actual flightmap...  I\u0027ll see if I can\u0027t fix that later.\n\n**Edited \u003Ctime datetime=\u00222020-03-22T09:56:10Z\u0022 title=\u002203/22/2020 09:56  AM\u0022 data-short=\u00224 yr\u0022\u003EMarch 22, 2020\u003C/time\u003E by R-T-B**"},{"CreatedByName":"TheKurgan","CreatedById":164104,"CreatedDateTime":"2020-03-22T16:05:01Z","Content":"Tested out R-T-B\u0027s build.\n\nLooks good so far. Works without forcing DX12."},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2020-03-22T18:47:36Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, TheKurgan said:\n\u003E \n\u003E \n\u003E Tested out R-T-B\u0027s build.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Looks good so far. Works without forcing DX12.\n\u003E \n\nThanks.  The only issue I\u0027ve found is the mapview in flight lost sunflares.  I\u0027m working on it.  it\u0027s a weird bug because I can make the sunflares reappear, but they seem to map to the inflight sun angle and not the map angle when in map view.  Confused.\n\nI know, I should\u0027ve made this a proper github pull request, but really...  I wasn\u0027t expecting it to work. lol.\n\nOh, and there weren\u0027t supposed to be binaries in there.  Sorry, but I gotta scrub those until blackrack says otherwise.  You can keep what you dl\u0027d though I\u0027m sure.\n\n**Edited \u003Ctime datetime=\u00222020-03-22T18:49:53Z\u0022 title=\u002203/22/2020 06:49  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 22, 2020\u003C/time\u003E by R-T-B**"},{"CreatedByName":"TheKurgan","CreatedById":164104,"CreatedDateTime":"2020-03-22T18:52:28Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, R-T-B said:\n\u003E \n\u003E \n\u003E Oh, and there weren\u0027t supposed to be binaries in there.\n\u003E \n\nI didn\u0027t even check to see if there were... I downloaded your source and compiled it.\n\n**Edited \u003Ctime datetime=\u00222020-03-22T18:52:51Z\u0022 title=\u002203/22/2020 06:52  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 22, 2020\u003C/time\u003E by TheKurgan**"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2020-03-22T18:54:07Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, TheKurgan said:\n\u003E \n\u003E \n\u003E I didn\u0027t even check to see if there were... I downloaded your source and compiled it.\n\u003E \n\nOh, well all good then.  I just figured I\u0027d left the bin folder and checked and yep, I had.  lol.\n\nThis one sunflare glitch is driving me crazy, but it\u0027s still tiers more usable than dx12 mode IMO.  Hope blackrack can weigh in soon.\n\n**Edited \u003Ctime datetime=\u00222020-03-22T18:55:05Z\u0022 title=\u002203/22/2020 06:55  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 22, 2020\u003C/time\u003E by R-T-B**"}]}