{"TopicId":69127,"ForumId":34,"TopicTitle":"[1.3](Jan09/17) Landing Height: Show distance from bottom of your vessel to ground","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-04-12T15:04:27Z","PageNum":1,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-04-12T15:04:27Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003ELanding Height\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFound on the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/100067\u0022 rel=\u0022\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/a\u003E as \u003Cstrong\u003ELanding Height Display\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFound of \u003Ca href=\u0022https://spacedock.info/mod/1394/Landing%20Height\u0022 rel=\u0022external nofollow\u0022\u003ESpacedock\u003C/a\u003E as \u003Cstrong\u003ELanding Height\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ECaution:\u003C/strong\u003E This mod only affects the altimeter display at the top of the screen, it does not change the altitude at which equipment operates. So if a parachute is set to open at 500m ASL, the parachute will still open at 500M ASL, not when this mod causes the altimeter on the screen to display 500m.\n\u003C/p\u003E\n\u003Cp\u003E\nVersion 2.1: KSP 1.3 compatible, no update required.\n\u003C/p\u003E\n\u003Cp\u003E\nShow the distance from the bottom of your vessel, not the center of mass, to the ground below you.\n\u003C/p\u003E\n\u003Cp\u003E\nLand on the dark side of the Mun with confidence.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00226vs1sPq.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/6vs1sPq.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNew Version 2.0: Mode Display\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022yZ8xvJJ.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/yZ8xvJJ.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAGL: Altimeter showing distance to ground/object below vessel.\n\u003C/p\u003E\n\u003Cp\u003E\nASL: Altimeter showing distance to sea level.\n\u003C/p\u003E\n\u003Cp\u003E\nGreen Text or no text visible: Automatic mode based on Surface or Orbital mode as displayed just above nav-ball.\n\u003C/p\u003E\n\u003Cp\u003E\nRed Text: Mode locked, will always stay in the displayed mode.\n\u003C/p\u003E\n\u003Cp\u003E\nClick inside the red box to change mode, this is a game-wide setting. Due to oddities in how the UI works I could not make the entire altimeter clickable, just the left side. (Red box is not visible in-game.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/SirDiazo/LandingHeight/releases/tag/2.1\u0022 rel=\u0022external nofollow\u0022\u003EDownload version 2.1 here\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/SirDiazo/LandingHeight\u0022 rel=\u0022external nofollow\u0022\u003ESource code here\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nReleased under the GPL3 License.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENotes:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1) To make it clear when touchdown happens but you can\u0027t tell because of the lighting, a displayed altitude of 0meter means a part of your vessel is touching the ground (or water if over the ocean). A displayed altitude of 1meter or higher means no part of your vessel is touching the ground.\n\u003C/p\u003E\n\u003Cp\u003E\n2) Any mod that extends parts, such as the winches in \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E, are detected by this mod. For example, if you are lowering a \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E winch, this mod will report the altitude from the bottom of the winch head being lowered as that is the lowest part of the vessel. This is working as designed and the player needs to be aware of it happening when using such equipment.\n\u003C/p\u003E\n\u003Cp\u003E\n3) The raycast checks the current vessel to determine if the part hit is valid or not. Vessels connected by some method, such as a fueling hose, may be considered one vessel by this mod and could cause unexpected values to be displayed.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-01T03:42:02Z\u0022 title=\u002206/01/2017 03:42  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 1, 2017\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2014-04-12T15:29:41Z","Content":"\n\u003Cp\u003EGreat idea! I\u0027ve been having to use an additional display to get my alt above ground. This will make it much easier.\u003C/p\u003E\n"},{"CreatedByName":"mwlue","CreatedById":68876,"CreatedDateTime":"2014-04-12T16:27:22Z","Content":"\n\u003Cp\u003EVery nice one. gonna try it soon. \u003C/p\u003E\u003Cp\u003EThank you.\u003C/p\u003E\n"},{"CreatedByName":"Yorik","CreatedById":3479,"CreatedDateTime":"2014-04-12T17:41:01Z","Content":"\n\u003Cp\u003EFYI: This is already in Mechjeb, don\u0027t know how it\u0027s determined.\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2014-04-12T17:47:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yorik\u0022 data-cite=\u0022Yorik\u0022\u003E\u003Cdiv\u003EFYI: This is already in Mechjeb, don\u0027t know how it\u0027s determined.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECenter of mass, this plugin is exactly what\u0027s been suggested before.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-04-12T18:05:06Z","Content":"\n\u003Cp\u003EYes, as far as I know all other mods out there that show \u0022height above terrain\u0022 show it from terrain to the vessel\u0027s center of mass.\u003C/p\u003E\u003Cp\u003ESo depending on the size of your lander, you can be touching down when \u0022height above terrain\u0022 is still showing 10 to 15meters when calculated that way for the larger landers.\u003C/p\u003E\u003Cp\u003ETrue, not a huge issue usually, but if you are trying to land on the dark side of a moon and can\u0027t see the terrain at all, that 10 to 15meters can make a difference.\u003C/p\u003E\u003Cp\u003EAlso, vessel center of mass height is always to directly below the center of the vessel, if you are landing on a hill your landing gear on the side that touches down first will touch down even sooner then expected as the hill rises to meet it.\u003C/p\u003E\u003Cp\u003ENot game changing, but it this makes a lot more sense to me then the in-game default, so I put this out for others who also want to tweak the in-game default.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2014-04-12T18:52:11Z","Content":"\n\u003Cp\u003EThis makes a lot of sense but lore-addled folks may decry that \u0022The altitude (above sea level) reading is based on wherever the instrument is located...\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI never noticed that the radar altimeter (in IVA and used by a few mods) currently indicates distance from terrain to center of mass. If so, this mod could correct that to be to bottom of whatever vessel is doing the landing--minus the distance of the landing legs of course, but that could be calibrated per-craft: If the my landing legs extend 1m past the bottom of my craft (~wherever the radar is installed), the altitude upon touchdown should be 1m? Maybe that would only be doable with an actual \u0022radar part.\u0022\u003C/p\u003E\u003Cp\u003E\u0027guess this wasn\u0027t a problem if landing craft and reentry capsules are relatively small. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E It was also fairly Kerbal-ish to simply fly at a moon, ignore the altitude, watch the IVA dial and keep your speed down.\u003C/p\u003E\u003Cp\u003EI may still prefer to keep the big numbers at the top showing the \u0022sea level\u0022 altitude, with other mods providing the radar alt, but I like where this is going.\u003C/p\u003E\n"},{"CreatedByName":"Unimatrix1","CreatedById":67064,"CreatedDateTime":"2014-04-12T19:23:08Z","Content":"\n\u003Cp\u003EGreat idea should be stock in the game, I suggest though an indicator to tell you which mode it is in. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2014-04-12T20:05:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Unimatrix1\u0022 data-cite=\u0022Unimatrix1\u0022\u003E\u003Cdiv\u003EGreat idea should be stock in the game, I suggest though an indicator to tell you which mode it is in. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t see why that\u0027s needed. It makes perfect sense to me for surface mode to be radar and orbit sea level. You\u0027re not landing with orbit on or orbit with surface mode.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-04-12T20:56:14Z","Content":"\n\u003Cp\u003E@Landing legs: It checks for the bottom of the vessel in real time based on the position of parts, so when you extend your landing legs, it should display the distance from the bottom of the landing leg pad to ground as your altitude.\u003C/p\u003E\u003Cp\u003EI only tested with the landing legs that come with the stock game, but any modded legs (and all modded parts) should behave the same.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Zaeo","CreatedById":52597,"CreatedDateTime":"2014-04-12T21:04:02Z","Content":"\n\u003Cp\u003EWould this integrate with RPM without issue? I\u0027m trying to go full first person, only viewing \u0022map\u0022 when in tracking station. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-04-12T21:26:16Z","Content":"\n\u003Cp\u003EDepends on how RPM deals with the altimeter.\u003C/p\u003E\u003Cp\u003EI don\u0027t actually change the vessel.altitude variable, instead I intercept the display number as sent to the altimeter display and have it display the number I calculated instead.\u003C/p\u003E\u003Cp\u003EDoes RPM keep the default altimeter? Then yes, the altimeter will work with this mod.\u003C/p\u003E\u003Cp\u003EDoes RPM display the altitude itself somewhere else? Then no, this mod will not affect RPM.\u003C/p\u003E\u003Cp\u003ENote that regardless, the mods can both be running at the same time, it is just a question of if RPM displays the altitude in a way that my mod can intercept.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-04-13T08:28:36Z","Content":"\n\u003Cp\u003ESo I guess the same would be true for kOS.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-04-13T13:09:47Z","Content":"\n\u003Cp\u003EI think kOS and this mod would simply not interact as they deal with seperate parts of the game.\u003C/p\u003E\u003Cp\u003EIn my plugin I did leave the method exposed so other mods could call it directly, but that would require an edit to the kOS mod so that it knew my mod was there.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Aedile","CreatedById":104353,"CreatedDateTime":"2014-05-07T07:53:15Z","Content":"\n\u003Cp\u003EI have a small issue with this otherwise great mod. When flying over water, it seems as the number displayed is distance to the bottom of the ocean, rather than the surface.\u003C/p\u003E\u003Cp\u003EDisregard, seems I had a bit outdated version\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-07T08:01:17Z\u0022 title=\u002205/07/2014 08:01  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 7, 2014\u003C/time\u003E by Aedile\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-06-05T02:22:50Z","Content":"\n\u003Cp\u003ERe-hosted the mod on my Google drive.\u003C/p\u003E\u003Cp\u003ELet me know if I need to rehost.\u003C/p\u003E\u003Cp\u003ENo changes made to the mod at this time.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Clanf","CreatedById":34267,"CreatedDateTime":"2014-06-05T08:09:11Z","Content":"\n\u003Cp\u003Ebump for reupload, can anyone make a mirror, since spaceport is dead?\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-06-05T08:13:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Clanf\u0022 data-cite=\u0022Clanf\u0022\u003E\u003Cdiv\u003Ebump for reupload, can anyone make a mirror, since spaceport is dead?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHe did...like 5 hours ago \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Clanf","CreatedById":34267,"CreatedDateTime":"2014-06-05T08:53:14Z","Content":"\n\u003Cp\u003Eoh, my mistake, didn\u0027t refresh page since yesterday, i thought i did, apparently not\u003C/p\u003E\n"},{"CreatedByName":"Hattivat","CreatedById":110255,"CreatedDateTime":"2014-07-19T17:39:58Z","Content":"\n\u003Cp\u003EA nifty little tweak, gonna try it.\u003C/p\u003E\n"},{"CreatedByName":"DuoDex","CreatedById":107061,"CreatedDateTime":"2014-07-19T18:35:51Z","Content":"\n\u003Cp\u003EQuick request-in the next update can you make this toggleable?\u003C/p\u003E\n"},{"CreatedByName":"rynak","CreatedById":115092,"CreatedDateTime":"2014-07-19T18:43:38Z","Content":"\n\u003Cp\u003EThis should be stock!\u003C/p\u003E\u003Cp\u003EStill, doesn\u0027t this...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EVersion 1.1: Compile against KSP 0.24 64 bit.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E...mean that this will not work for 32bit KSP? I only see a single binary in the archive.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-19T18:45:19Z","Content":"\n\u003Cp\u003EClicking on the \u0022Surface\u0022 indication just above the navball to change it to \u0022Orbit\u0022 is not enough of a toggle?\u003C/p\u003E\u003Cp\u003EI was thinking that would be enough of a toggle for people who were using it.\u003C/p\u003E\u003Cp\u003EI suppose I could also ask what kind of toggle? Just on/off? Or is there some flight profile you are on that it is not working for you?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rynak\u0022 data-cite=\u0022rynak\u0022\u003E\u003Cdiv\u003EThis should be stock!\u003Cp\u003EStill, doesn\u0027t this...\u003C/p\u003E\u003Cp\u003E...mean that this will not work for 32bit KSP? I only see a single binary in the archive.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe single binary works for both 32 and 64 bit.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"rynak","CreatedById":115092,"CreatedDateTime":"2014-07-19T18:49:47Z","Content":"\n\u003Cp\u003EThank you for the quick info! Might want to mention this in the OP - as it is, it sounds a bit as if this is for 64bit only.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-19T18:52:57Z","Content":"\n\u003Cp\u003EYes, I\u0027ve gone and updated the OP.\u003C/p\u003E\u003Cp\u003ECompiling for 64 bit has turned out to be a non-issue anyway. I did it as a precaution when 0.24 launched to make sure everything would keep working but with what is exposed in the modding API in KSP for me to work with is the same for both 32 and 64 bit so the same file works for both versions.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"}]}