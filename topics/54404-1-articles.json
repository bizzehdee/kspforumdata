{"TopicId":54404,"ForumId":29,"TopicTitle":"Module For Impact Probes With Science Point Payouts","CreatedByName":"MedievalNerd","CreatedById":84735,"CreatedDateTime":"2013-11-26T07:52:32Z","PageNum":1,"Articles":[{"CreatedByName":"MedievalNerd","CreatedById":84735,"CreatedDateTime":"2013-11-26T07:52:32Z","Content":"\n\u003Cp\u003EHowdy everyone,\u003C/p\u003E\u003Cp\u003EI\u0027ve successfully created a plugin that allows for planet specific conditions to experiments, along with some added requirements such as resources in order to allow a experiment to complete itself. But as I\u0027m working on creating custom experiments to mirror historical probes, there are a lot of impact probes.\u003C/p\u003E\u003Cp\u003EI wanted to know if someone would have an idea of how to go about to create a module that would detect a vessel crashing, and upon this happening automatically award the player with science points?\u003C/p\u003E\u003Cp\u003EIt\u0027s specifically the crash detection \u002B science payout I need help with, since I already have code to check body/EC/data. So if someone can help me out that would be amazing. My C# skills are by no means amazing, so if the kind souls helping can be as descriptive as possible, it would be doubly amazing.\u003C/p\u003E\u003Cp\u003EImpact probes would be a great addition for KSP!\u003C/p\u003E\u003Cp\u003EThanks in advance,\u003C/p\u003E\n"},{"CreatedByName":"BlazingAngel665","CreatedById":30182,"CreatedDateTime":"2013-11-26T08:18:04Z","Content":"\n\u003Cp\u003EIf you go into addon development and then into plugins you will find more help.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-11-26T10:26:44Z","Content":"\n\u003Cp\u003EThis one is tricky. The vessel would have to be active, since otherwise they are just removed once the get close to the surface and its hard to get actual drop location \u0026amp; speed. But even for the active vessel there are at least 3 separate code paths you would have to cover, if i remember it correctly:\u003C/p\u003E\u003Cp\u003E- \u0022average\u0022 collisions\u003C/p\u003E\u003Cp\u003E- \u0022missed\u0022 collisions (actual surface collision was missed, but vessel is destructed because of pos below surface)\u003C/p\u003E\u003Cp\u003E- splashdown (recording it would be nice; btw, what about splashdown \u002B surface hit due to low water depth?)\u003C/p\u003E\u003Cp\u003EAlso does there have to be a special part on the crashing vessel that is required record the vessel? Does it have to hit the surface first?\u003C/p\u003E\u003Cp\u003EThe science part should be more easy, since that system is new and more likely designed in a flexible way, though i didn\u0027t yet had an in-depth look into it.\u003C/p\u003E\u003Cp\u003EAllowing a satellite in orbit above it with an instrument to measure it would be awesome. Line of sight check could be taken from RemoteTech. Another option would be to have (nearby?) gravity sensors report the impact. Both do not really offer any good way to for the user to \u0022debug\u0022 mistakes, though. Maybe with a listing on the sensor ala \u0022last events; did it record? yes=\u0026gt;result-data; no=\u0026gt;reason\u0022...\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-27T18:35:21Z","Content":"\n\u003Cp\u003EI don\u0027t think you have to worry about the separate situations unless you want to--you can just use either a coroutine or a KSPAddon class that gets tripped when the part module is destroyed, and is sent the vessel ID.\u003C/p\u003E\n"},{"CreatedByName":"MedievalNerd","CreatedById":84735,"CreatedDateTime":"2013-11-27T23:58:43Z","Content":"\n\u003Cp\u003EDon\u0027t know how to use coroutines or KSPaddon classes... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E\u003C/p\u003E\u003Cp\u003EGoing to need some hand holding through this I\u0027m afraid. If anyone is bored and wants to help me out, PM me and I\u0027ll be eternally grateful.\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-28T10:17:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI don\u0027t think you have to worry about the separate situations unless you want to--you can just use either a coroutine or a KSPAddon class that gets tripped when the part module is destroyed, and is sent the vessel ID.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWon\u0027t part.onDestroy get you the same thing? It still has the problem of not telling you what destroyed it. It could be a collision with other parts or overheating for example.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MedievalNerd\u0022 data-cite=\u0022MedievalNerd\u0022\u003E\u003Cdiv\u003EDon\u0027t know how to use coroutines or KSPaddon classes... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E\u003Cp\u003EGoing to need some hand holding through this I\u0027m afraid. If anyone is bored and wants to help me out, PM me and I\u0027ll be eternally grateful.\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUsing KSPAddon is pretty easy. Make a class that extends MonoBehavior and add the KSPAddon attribute above it.\u003C/p\u003E\u003Cp\u003EFor example:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[KSPAddon(KSPAddon.Startup.Flight, false)] // Launch the addon at the start of every flight\u003Cbr\u003Epublic class MyPlugin\u003Cbr\u003E{\u003Cbr\u003E    public void Start()\u003Cbr\u003E    {\u003Cbr\u003E        Debug.Log(\u0022Hello from MyPlugin!\u0022);\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-28T10:22:47Z\u0022 title=\u002211/28/2013 10:22  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 28, 2013\u003C/time\u003E by pizzaoverhead\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MedievalNerd","CreatedById":84735,"CreatedDateTime":"2013-11-29T06:43:36Z","Content":"\n\u003Cp\u003EAlright, so finally got it working!\u003C/p\u003E\u003Cp\u003EBut there is one thing I think I\u0027m doing wrong.\u003C/p\u003E\u003Cp\u003EAfter the probe crashes and I award science by using:\u003C/p\u003E\u003Cp\u003E ResearchAndDevelopment.Instance.Science \u002B= 500;\u003C/p\u003E\u003Cp\u003EEven if I do a Revert flight, I still keep those science points. Is there another way to add science that gets reversed when using revert?\u003C/p\u003E\n"},{"CreatedByName":"frizzank","CreatedById":57210,"CreatedDateTime":"2013-11-29T07:10:07Z","Content":"\n\u003Cp\u003EYou dont actually get any real science from the probe that\u0027s crashing after it impacts. You get it from something else observing the impact. Maybe you could ad a part that observes impacts? Also if the probe is giving science, its only up until it hits.\u003C/p\u003E\n"},{"CreatedByName":"MedievalNerd","CreatedById":84735,"CreatedDateTime":"2013-11-29T07:22:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022frizzank\u0022 data-cite=\u0022frizzank\u0022\u003E\u003Cdiv\u003EYou dont actually get any real science from the probe that\u0027s crashing after it impacts. You get it from something else observing the impact. Maybe you could ad a part that observes impacts? Also if the probe is giving science, its only up until it hits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is meant to be used with RT2, so you need to have a constant radio contact with the probe. And I\u0027m also going to check out to have a check in place to see if there is a vessel nearby. But first things first. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MedievalNerd","CreatedById":84735,"CreatedDateTime":"2013-11-29T16:19:22Z","Content":"\n\u003Cp\u003EAfter careful review of the mission profiles of the early \u0027impact\u0027 probes, it was more about taking readings/pictures/videos leading up to the impact than the impact itself. (Talking about the 1950\u0027s) And Luna 2 was more about getting something on the moon, so an accomplishment in of itself.\u003C/p\u003E\u003Cp\u003ESo I\u0027m assuming only Luna 2 should reward science like this.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-29T16:42:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022frizzank\u0022 data-cite=\u0022frizzank\u0022\u003E\u003Cdiv\u003EYou dont actually get any real science from the probe that\u0027s crashing after it impacts. You get it from something else observing the impact. Maybe you could ad a part that observes impacts? Also if the probe is giving science, its only up until it hits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, this. The probe usually only provides the metaphorical brick you throw. The science value is in observing your brick hit and seeing the consequences of it. Is the thrown out material light or heavy? Is it spread widely or very locally? Stuff like that.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-29T18:21:44Z\u0022 title=\u002211/29/2013 06:21  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 29, 2013\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-29T17:33:52Z","Content":"\n\u003Cp\u003EThat\u0027s true of later impacters (like the spent S-IVB stages), but the early stuff like Luna 2 and the Rangers, were all about close-up photography. Only way to _get_ pictures, since soft-landing was much harder (and not achieved until mid 60s).\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-29T18:25:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThat\u0027s true of later impacters (like the spent S-IVB stages), but the early stuff like Luna 2 and the Rangers, were all about close-up photography. Only way to _get_ pictures, since soft-landing was much harder (and not achieved until mid 60s).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are of course right, altough I feel those are maybe not true impact probes in the sense that they were only that for lack of better technology. I think non-soft-landing-probes might be a more accurate description \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Lithobreakage through lithobraking!\u003C/p\u003E\n"},{"CreatedByName":"MedievalNerd","CreatedById":84735,"CreatedDateTime":"2013-11-29T18:41:31Z","Content":"\n\u003Cp\u003EYup, I agree with the comments. Hence why I guess only Luna 2 should get \u0027science points\u0027 for simply crashing into the moon. The rest I\u0027ll use my video/photo module with altitude restrictions, so the science can be awarded via the regular ScienceModule.\u003C/p\u003E\u003Cp\u003EFractal I\u0027m talking with Fractal about how, or if, he\u0027s able to have his science lab points reverted or if they are permanent regardless. At least this will be a good lead for the later \u0027true\u0027 impact probes, where the orbiter \u0022observes\u0022 the impact to get actual data from it.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}