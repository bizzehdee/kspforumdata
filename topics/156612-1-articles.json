{"TopicId":156612,"ForumId":20,"TopicTitle":"Rocket engine heat production makes no sense!","CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-17T22:00:26Z","PageNum":1,"Articles":[{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-17T22:00:26Z","Content":"\n\u003Cp\u003E\n...that is, unless I made a systematic mistake in my testing. Can you help me find it, forum? And perhaps shed some light how this actually works?\n\u003C/p\u003E\n\u003Cp\u003E\nFor my tests, I stuck engines to the back of a simple pod \u002B fueltank, cheated it into orbit, turned on thermal debug display in rightclick menus, and fired the engines while noting down how much internal flux they created at full thrust.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTest run 1: four \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E clones of the Ant engine, with maxThrust fixed to 2, but with varying levels of heatProduction.\n\u003C/p\u003E\n\u003Ctable border=\u00220\u0022 cellpadding=\u00220\u0022 cellspacing=\u00220\u0022 style=\u0022border-collapse:collapse;width:300pt;\u0022 width=\u0022400\u0022\u003E\u003Ccolgroup\u003E\u003Ccol span=\u00225\u0022 style=\u0022width:60pt;\u0022 width=\u002280\u0022\u003E\u003C/colgroup\u003E\u003Ctbody\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nthrust\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nheat\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nresult\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;\u0022 width=\u002280\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nratio\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n2\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n10\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n1,97\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1970\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n2\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n20\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n3,93\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1965\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n2\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n30\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n5,90\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n2\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n40\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n7,87\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1968\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nResult: it seems like every point of heatProduction is worth just shy of 0.2 kW of internal flux, when thrust is set to 2. Perhaps about 0.1 kW per kN of thrust?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTest run 2: four \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E clones of the Ant engine, with heatProduction fixed to 100, but varying levels of maxThrust.\n\u003C/p\u003E\n\u003Ctable border=\u00220\u0022 cellpadding=\u00220\u0022 cellspacing=\u00220\u0022 style=\u0022border-collapse:collapse;width:300pt;\u0022 width=\u0022400\u0022\u003E\u003Ccolgroup\u003E\u003Ccol span=\u00225\u0022 style=\u0022width:60pt;\u0022 width=\u002280\u0022\u003E\u003C/colgroup\u003E\u003Ctbody\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nthrust\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nheat\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nresult\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;\u0022 width=\u002280\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nratio\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n1\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n2\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n3\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n4\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n10\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n20\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n30\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n40\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n19,67\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0,1967\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nResult: okay, every point of heatProduction seems worth just shy of 0.2 kW of internal flux, \u003Cem\u003Eregardless of thrust\u003C/em\u003E.\u00A0 (o_O?)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTest run 3: confirming findings by using the LV-909, LV-T45, LV-T30, Vector, and Aerospike stock engines.\n\u003C/p\u003E\n\u003Ctable border=\u00220\u0022 cellpadding=\u00220\u0022 cellspacing=\u00220\u0022 style=\u0022border-collapse:collapse;width:300pt;\u0022 width=\u0022400\u0022\u003E\u003Ccolgroup\u003E\u003Ccol span=\u00225\u0022 style=\u0022width:60pt;\u0022 width=\u002280\u0022\u003E\u003C/colgroup\u003E\u003Ctbody\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nthrust\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nheat\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nresult\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;\u0022 width=\u002280\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022width:60pt;text-align:center;\u0022 width=\u002280\u0022\u003E\nratio\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n60\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n80\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n396,97\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n4,9621\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n215\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n200\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n2989,30\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n14,9465\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n240\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n192\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n2388,07\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n12,4379\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n1000\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n192\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n7663,17\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n39,9123\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd align=\u0022right\u0022 height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n180\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n110\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n1095,93\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n9,9630\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nResult: ... ... ... ... ... ... ... ... ... ... ... ... ... ... wat. \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPraytell, what is going on here? How is heatProduction supposed to work?!\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a stock install, with ModuleManager the only mod, and the patch that clones my test engines the only \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch. And to prove to myself that I\u0027m not crazy, \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/44754370/screenshot93.png\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u0027s a screenshot\u003C/a\u003E from test run 2.\n\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2017-02-17T22:07:54Z","Content":"\n\u003Cp\u003E\nSo, I got this info from NathanKell a while ago, it\u0027s what I use to set my engine heat production values. It might be out of date though.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EEngine Heat Production in kW = heatProduction * partSpecificHeatCapacity * heatProductionMultiplier * partMass * throttleSetting\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nwhere partSpecificHeatCapacity is typically 800, and heatProductionMultiplier is typically 0.03.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit: tried applying that to your numbers with the Ant\u0027s 0.02 t mass and it doesn\u0027t quite work... gets roughly 2x what you have there (4kW).\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-17T22:10:47Z\u0022 title=\u002202/17/2017 10:10  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 17, 2017\u003C/time\u003E by Nertea\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-17T22:23:47Z","Content":"\n\u003Cp\u003E\nThat seems... completely weird? o_O I mean, you\u0027re calculating a localized heat flux, why does specific heat capacity and mass even matter? I\u0027d think that would come up for determining the temperature increase created by that flux further down the line of calculations! And it apparently plays zero role how much fuel the engine actually burns, which should be the act that physically creates heat? (Yes, I know you probably can\u0027t explain it either, I\u0027m just venting my confusion \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nBut, i can do some more tests with that formula in mind. Tomorrow.\n\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2017-02-17T22:33:24Z","Content":"\n\u003Cp\u003E\nIt\u0027s pretty silly.\n\u003C/p\u003E\n\u003Cp\u003E\nThe way the math works out though is basically saying that ignoring the generation factor, a heatProduction of 1 means \u0022I raise my temperature 1K per second\u0022 (so including the generation factor, 0.03K per second). That means that in theory, you can look at that number and say \u0022the Ant engine increases its temperature by 0.3 K per second\u0022, so balancing-wise, it\u0027s fairly easy how long an engine can run at in isolation without blowing up.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYet this is moot, generally, because no engine functions in isolation...\n\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-18T19:19:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222958891\u0022 data-ipsquote-contentid=\u0022156612\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487369274\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo, I got this info from NathanKell a while ago, it\u0027s what I use to set my engine heat production values. It might be out of date though.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EEngine Heat Production in kW = heatProduction * partSpecificHeatCapacity * heatProductionMultiplier * partMass * throttleSetting\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nwhere partSpecificHeatCapacity is typically 800, and heatProductionMultiplier is typically 0.03.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit: tried applying that to your numbers with the Ant\u0027s 0.02 t mass and it doesn\u0027t quite work... gets roughly 2x what you have there (4kW).\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRight, according to physics.cfg in KSP 1.2.2:\n\u003C/p\u003E\n\u003Cp\u003E\nstandardSpecificHeatCapacity = 800 // Standard mass specific heat capacity for parts, in kJ / tonne-K\u003Cbr\u003E\ninternalHeatProductionFactor = 0.025 // Multiplier to engine heat production\n\u003C/p\u003E\n\u003Cp\u003E\nFor a Terrier, that\u0027s 80 * 800 * 0.025 * 0.5 * throttleSetting. If I assume throttleSetting is 1 and 100% thrust and 0 at 0% thrust, then that results in 800. For the LV-T30, it\u0027s 192 * 800 * 0.025 * 1.25 * 1 = 4,800. Which means that, in all cases, this formula gives me roughly twice of what I measure ingame - just like your check with the Ant. Very odd.\n\u003C/p\u003E\n\u003Cp\u003E\nBut hey, at least \u003Cem\u003Econsistently\u003C/em\u003E odd. I can use the formula this way, and just slap an additional x0.4975 at the end to get roughly the correct result.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have any best practises when giving heat values to engines, by the way? Or do you just pick something by gut feeling? A direct relationship between thrust (or perhaps, propellant flow rate) and heat produced would probably be acceptable for a simple radiatively cooled nozzle, but most engines in KSP have models that imply regenerative cooling.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-18T19:22:21Z\u0022 title=\u002202/18/2017 07:22  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 18, 2017\u003C/time\u003E by Streetwind\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2017-02-18T21:12:35Z","Content":"\n\u003Cp\u003E\nThere\u0027s 2 approaches I\u0027ve used. Part of the final balance for my suite will involve a hard look at these numbers (I have a huge spreadsheet).\n\u003C/p\u003E\n\u003Cp\u003E\n1) Calculate the EC usage in kW of the engine (only works for ion engines obviously). Get the system efficiency and multiply by the inverse that to get the waste heat. Convert to cfg values.\n\u003C/p\u003E\n\u003Cp\u003E\n2) Calculate the jet power of the engine (P = 0.5*Ve*Fthrust). Determine the heat efficiency of a comparable RL engine (for example 80%), and work backward to find the total power of the engine. Total power - jet power = waste heat... convert to cfg values.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-18T21:15:58Z\u0022 title=\u002202/18/2017 09:15  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 18, 2017\u003C/time\u003E by Nertea\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-18T23:00:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222959869\u0022 data-ipsquote-contentid=\u0022156612\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487452355\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n2) Calculate the jet power of the engine (P = 0.5*Ve*Fthrust). Determine the heat efficiency of a comparable RL engine (for example 80%), and work backward to find the total power of the engine. Total power - jet power = waste heat... convert to cfg values.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHuh. I must be getting this very wrong.\n\u003C/p\u003E\n\u003Cp\u003E\nDid this for the Terrier to get myself oriented. 0.5 * 9.80655 * 345 * 60,000 = 101,497,792.5. Which, if I\u0027m not mistaken, is a hundred megawatts of jet power. If I divide that by 4, using the example value of 80% thermal efficiency, then that results in a waste heat of over 25 MW. Meanwhile the engine ingame has 0.4 MW. That\u0027s a huge difference. If you were statting your engines up like that, you\u0027d melt any spacecraft they were attached to... so clearly you can\u0027t be doing it this way. Which means I got it wrong. Probably somewhere in the final step.\n\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2017-02-18T23:19:33Z","Content":"\n\u003Cp\u003E\nI probably shouldn\u0027t have thrown that 80 in there, that\u0027s how I\u0027m calibrating FFT engines. If you compare the jet power to the heat given by the cfg for stock engines, you\u0027ll find that they\u0027re something like 98% efficient. That\u0027s mortgage likely to produce good results.\n\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2017-02-18T23:21:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222959978\u0022 data-ipsquote-contentid=\u0022156612\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487458809\u0022 data-ipsquote-userid=\u002298962\u0022 data-ipsquote-username=\u0022Streetwind\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, Streetwind said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHuh. I must be getting this very wrong.\n\u003C/p\u003E\n\u003Cp\u003E\nDid this for the Terrier to get myself oriented. 0.5 * 9.80655 * 345 * 60,000 = 101,497,792.5. Which, if I\u0027m not mistaken, is a hundred megawatts of jet power. If I divide that by 4, using the example value of 80% thermal efficiency, then that results in a waste heat of over 25 MW. Meanwhile the engine ingame has 0.4 MW. That\u0027s a huge difference. If you were statting your engines up like that, you\u0027d melt any spacecraft they were attached to... so clearly you can\u0027t be doing it this way. Which means I got it wrong. Probably somewhere in the final step.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNah, seems about right. I remember the Space Shuttle clocking a few GW at liftoff, and turbopump powers being expressed in MW. A large part of the energy goes into the exhaust as heat and kinetic energy but the orders of magnitude seem right.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve always felt that the heat production on stock engines was weak. A real engine is just containing that heat long enough to do its task, but run it longer and your engine melts (the RS-68 were not taken as SLS engines for this reason: ablative cooling \u002B longer burn time \u002B clustering meant that the engine couldn\u0027t be used without large modifications).\n\u003C/p\u003E\n"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2017-02-19T12:19:21Z","Content":"\n\u003Cp\u003E\nMaybe ModuleEnginesFX is calculating the cooling effect of fuel being pumped into the engine. You could change the hsp values in ResourcesGeneric.cfg to different values and see if produces a difference.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-19T12:20:07Z\u0022 title=\u002202/19/2017 12:20  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 19, 2017\u003C/time\u003E by Azimech\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-19T12:36:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222959992\u0022 data-ipsquote-contentid=\u0022156612\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487459973\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you compare the jet power to the heat given by the cfg for stock engines, you\u0027ll find that they\u0027re something like 98% efficient. That\u0027s mortgage likely to produce good results.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAutocorrect strikes again! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd, 98% is still far understated. I found that to get the ingame result for the Terrier, I have to divide jet power by 255... or in other words, the Terrier only has 1/256th waste heat, giving it 99.61% thermal efficiency. I suppose a lot of that has to do with the need to fudge numbers to simulate regenerative cooling, and other limits of KSP\u0027s simulation, but geez. That is really really efficient.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOh, and for those interested:\n\u003C/p\u003E\n\u003Cp\u003E\nIf engine jet power[kW] = 0.5 * g0 * Isp * thrust[kN], and\u003Cbr\u003E\nIf engine heat output[kW] = heatProduction * standardSpecificHeatCapacity * internalHeatProductionFactor * mass * throttleSetting * 0.4975, and\u003Cbr\u003E\nIf standardSpecificHeatCapacity = 800, and\u003Cbr\u003E\nIf internalHeatProductionFactor = 0.025, and\u003Cbr\u003E\nIf throttleSetting = 1.0 at full vacuum thrust\n\u003C/p\u003E\n\u003Cp\u003E\nThen \u003Cstrong\u003EheatProduction = ((4,903325 * Isp * thrust[kN]) / efficiencyDivider) / (9.95 * mass)\u003C/strong\u003E\u003Cbr\u003E\nWhere efficiencyDivider is chosen to represent desired thermal efficiency. For example: a divider of 19 means 95% thermal efficiency (1 in 20 waste, 19 in 20 power)\n\u003C/p\u003E\n\u003Cp\u003E\nThat gives you the exact value (I\u0027d probably round to one or two significant digits) you need to put into a ModuleEnginesFX to get an ingame heat output that\u0027s directly correlated with the engine\u0027s power.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222960447\u0022 data-ipsquote-contentid=\u0022156612\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487506761\u0022 data-ipsquote-userid=\u002250750\u0022 data-ipsquote-username=\u0022Azimech\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, Azimech said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe ModuleEnginesFX is calculating the cooling effect of fuel being pumped into the engine. You could change the hsp values in ResourcesGeneric.cfg to different values and see if produces a difference.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood call! I went and tested this right away.\n\u003C/p\u003E\n\u003Cp\u003E\nTurns out, it doesn\u0027t take that into account. Changing hsp of both liquidFuel and oxidizer by an order of magnitude produced no measurable change in internal flux. It might possibly exert a cooling effect by siphoning off heat already stored in the part, but I doubt it does (due to the engine not having any actual resource storage).\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m kinda glad it turned out this way. Having the fuel flow fudge further with the already complicated heat formulas for no visible benefit to the player would definitely be a case of too much realism for realism\u0027s sake. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-19T12:40:54Z\u0022 title=\u002202/19/2017 12:40  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 19, 2017\u003C/time\u003E by Streetwind\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2017-02-19T17:46:49Z","Content":"\n\u003Cp\u003E\nSweet, that\u0027s a much better way of doing it. I\u0027m going to implement this in my NFT spreadsheet for the future.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother interesting fact is that the Dawn produces something like 41 MW of thrust power for... 9 EC/s? So if you assume 1 EC = 1 KJ, well, that\u0027s some magic there. If you go the other way and calculate EC value from thrust, you get 1 EC/s ~ 4.5 MW, without taking efficiency into account. Those are some crazy solar panels :P.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-19T17:48:51Z\u0022 title=\u002202/19/2017 05:48  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 19, 2017\u003C/time\u003E by Nertea\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2017-02-19T18:24:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222960770\u0022 data-ipsquote-contentid=\u0022156612\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487526409\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSweet, that\u0027s a much better way of doing it. I\u0027m going to implement this in my NFT spreadsheet for the future.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother interesting fact is that the Dawn produces something like 41 MW of thrust power for... 9 EC/s? So if you assume 1 EC = 1 KJ, well, that\u0027s some magic there. If you go the other way and calculate EC value from thrust, you get 1 EC/s ~ 4.5 MW, without taking efficiency into account. Those are some crazy solar panels :P.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe Dawn is literally several thousand times more powerful than real life ion engines. Having months long burn wouldn\u0027t be very helpful,\u00A0an engine draining a thunderstorm per second either, so we have the almighty Dawn.\n\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2017-02-19T18:56:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222960808\u0022 data-ipsquote-contentid=\u0022156612\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487528650\u0022 data-ipsquote-userid=\u0022126740\u0022 data-ipsquote-username=\u0022Gaarst\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, Gaarst said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe Dawn is literally several thousand times more powerful than real life ion engines. Having months long burn wouldn\u0027t be very helpful,\u00A0an engine draining a thunderstorm per second either, so we have the almighty Dawn.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI am quite possibly the person on the forums most aware of that ;).\u00A0\n\u003C/p\u003E\n"}]}