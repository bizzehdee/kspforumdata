{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":142,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-30T23:58:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223679739\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569881371\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would first check that the gravitational parameter of Kerbin is the same in LVD and KSP\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthe bodies.ini file I\u0027m using has GM defined as 3531.600000000. When I calculate it in kOS I get 3531473003619.97. I know this is an accurate number since I use it to lock my throttle to \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and in my ascent videos I have a \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E readout displayed and it is spot-on to what I\u0027m supposed to be locked to.\n\u003C/p\u003E\n\u003Cp\u003E\nCould you update this value in the case file I linked in my last post?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223679739\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569881371\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNext thing I would look at is making sure that the pitch profile is being executed as closely as possible to what\u0027s in LVD\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/NPamoOk.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022NPamoOk.png\u0022 src=\u0022https://i.imgur.com/NPamoOk.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI could clean this up a bit tomorrow, but I think the offset is mostly due to either the GM or atmospheric density, since I have the rocket hitting pitch targets at certain altitudes so if the rocket is traveling faster due to thinner air or less gravity it\u0027s hitting the proper angles at the proper altitudes but sooner than the actual flight\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T00:07:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223679781\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569887906\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe bodies.ini file I\u0027m using has GM defined as 3531.600000000. When I calculate it in kOS I get 3531473003619.97. I know this is an accurate number since I use it to lock my throttle to \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and in my ascent videos I have a \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E readout displayed and it is spot-on to what I\u0027m supposed to be locked to.\n\u003C/p\u003E\n\u003Cp\u003E\nCould you update this value in the case file I linked in my last post?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1YmmHxbob8DykE9EHWPiBYBD6Oenwtaxz/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EDone.\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-01T01:19:01Z","Content":"\n\u003Cp\u003E\nNo difference. I\u0027ll see what tweaking the pitch profile does tomorrow. Annoyingly, for some reason I can\u0027t get the optimizer to work down to an objective function of 0 despite being able to do that with the \u003Cspan\u003E\u003Cspan\u003ELVD file simulating the atmosphere. Vac sim results:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ctWKfJE.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002234.91\u0022 height=\u0022192\u0022 width=\u0022550\u0022 src=\u0022https://i.imgur.com/ctWKfJE.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\natmo sim results:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022nRKs4BB.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002234.91\u0022 height=\u0022192\u0022 width=\u0022550\u0022 src=\u0022https://i.imgur.com/nRKs4BB.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T03:08:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223679819\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569892741\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo difference. I\u0027ll see what tweaking the pitch profile does tomorrow. Annoyingly, for some reason I can\u0027t get the optimizer to work down to an objective function of 0 despite being able to do that with the \u003Cspan\u003E\u003Cspan\u003ELVD file simulating the atmosphere. Vac sim results:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ctWKfJE.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002234.91\u0022 height=\u0022192\u0022 width=\u0022550\u0022 src=\u0022https://i.imgur.com/ctWKfJE.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\natmo sim results:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022nRKs4BB.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002234.91\u0022 height=\u0022192\u0022 width=\u0022550\u0022 src=\u0022https://i.imgur.com/nRKs4BB.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm, yeah, that is a bit annoying.\u00A0 Try playing with the scale factors on the constraints.\u00A0 If you set the scale factor to the desired value, that can help with convergence (maybe).\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-01T13:54:57Z","Content":"\n\u003Cp\u003E\nargh we were barking up the wrong tree. Not your fault tho because you wouldn\u0027t have known without looking closely or me telling you that I was using a \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E throttle model for my ascent. Here is a no atmosphere ascent from Kerbin at full throttle from launch holding 45\u00B0 heading 98\u00B0 pitch (altitude over time):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/PEabqnh.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022PEabqnh.png\u0022 src=\u0022https://i.imgur.com/PEabqnh.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWe can attribute the slight discrepancy to the fact that in KSP the engine has throttle lag and also to minor steering losses since the rocket did wobble a few thousands of a degree off pitch either way during the ascent. But here\u0027s using 1.65 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E until 40km and then full throttle (altitude over time again):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/TwOCAka.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022TwOCAka.png\u0022 src=\u0022https://i.imgur.com/TwOCAka.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd here is a look at thrust over time:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/aZTGVS4.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022aZTGVS4.png\u0022 src=\u0022https://i.imgur.com/aZTGVS4.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nto validate my kOS code is calculating properly I have a Kerbal Engineer readout open during flight and the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E value is a steady 1.65 all the way up to 40km. Checking the GA output from LVD shows it too thinks its holding 1.65. I\u0027ve \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk1%20Atmo%20Test.zip\u0022 rel=\u0022external nofollow\u0022\u003Euploaded both LVD files\u003C/a\u003E so you can double-check I have things set up properly. I also included the analysis Excel sheet I\u0027ve built up so far\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T14:42:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680018\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569938097\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n46 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nargh we were barking up the wrong tree. Not your fault tho because you wouldn\u0027t have known without looking closely or me telling you that I was using a \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E throttle model for my ascent. Here is a no atmosphere ascent from Kerbin at full throttle from launch holding 45\u00B0 heading 98\u00B0 pitch (altitude over time):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/PEabqnh.png\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWe can attribute the slight discrepancy to the fact that in KSP the engine has throttle lag and also to minor steering losses since the rocket did wobble a few thousands of a degree off pitch either way during the ascent. But here\u0027s using 1.65 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E until 40km and then full throttle (altitude over time again):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/TwOCAka.png\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd here is a look at thrust over time:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/aZTGVS4.png\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nto validate my kOS code is calculating properly I have a Kerbal Engineer readout open during flight and the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E value is a steady 1.65 all the way up to 40km. Checking the GA output from LVD shows it too thinks its holding 1.65. I\u0027ve \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk1%20Atmo%20Test.zip\u0022 rel=\u0022external nofollow\u0022\u003Euploaded both LVD files\u003C/a\u003E so you can double-check I have things set up properly. I also included the analysis Excel sheet I\u0027ve built up so far\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, so there\u0027s possibly an issue with the way that LVD is computing thrust to weight, it looks like?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-01T15:01:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680030\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569940965\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay, so there\u0027s possibly an issue with the way that LVD is computing thrust to weight, it looks like?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nConfirmed. I just put the atmosphere back in and did a full-throttle ascent:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/vNj4iH7.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022vNj4iH7.png\u0022 src=\u0022https://i.imgur.com/vNj4iH7.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI find that acceptable and would expect more steering losses due to extra drag since I\u0027m using control surfaces instead of an engine gimbal. In addition here is the thrust plot over altitude\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/XiVusSc.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022XiVusSc.png\u0022 src=\u0022https://i.imgur.com/XiVusSc.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe very slight discrepancy may mean we could still use a fix for the atmospheric density curve as well\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T15:07:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680038\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569942069\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nConfirmed. I just put the atmosphere back in and did a full-throttle ascent:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/vNj4iH7.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022vNj4iH7.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/vNj4iH7.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI find that acceptable and would expect more steering losses due to extra drag since I\u0027m using control surfaces instead of an engine gimbal. In addition here is the thrust plot over altitude\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/XiVusSc.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022XiVusSc.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/XiVusSc.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe very slight discrepancy may mean we could still use a fix for the atmospheric density curve as well\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay thanks.\u00A0 Can you confirm that the mass of the vehicle is correct and the engine mass flow rate and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is correct?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-01T15:57:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680043\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569942447\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay thanks.\u00A0 Can you confirm that the mass of the vehicle is correct and the engine mass flow rate and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is correct?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI can confirm mass and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E. I got the mass directly from kOS ship:mass call and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is properly set in the Engine properties. I can\u0027t output \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E via the GA so no way to check if it\u0027s scaling the same as in the game. Mass flow is interesting though:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00226gOXMcu.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.04\u0022 height=\u0022506\u0022 width=\u0022562\u0022 src=\u0022https://i.imgur.com/6gOXMcu.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nLVD is showing it changing if you start the plot at \u002B1s. If you start the plot at 0s the 0 thrust value enlarges the vertical axis and makes this look like a constant value in a straight line - which is why no one probably noticed this before if it\u0027s an issue. KSP does not do this curve however. The blue line is the approximate position of the value that KSP gives me for the constant mass consumption as per this display figure in the part access window of the engine (actual flight value shown):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022qhAY9wR.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002235.33\u0022 height=\u002259\u0022 width=\u0022167\u0022 src=\u0022https://i.imgur.com/qhAY9wR.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n12.50595*.005 gives 0.062529764mT/s (rounded to 0.06253 in the GA marker line tool it can\u0027t be displayed which is why I had to draw it myself \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIt makes sense that fuel flow would be constant no? \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E changes and thrust changes but that is based on the atmosphere not the fuel flow. I wouldn\u0027t have expected to see a curve here and it\u0027s only because I plotted it in Excel that I noticed it because I left out the 0 thrust value.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-01T15:59:24Z\u0022 title=\u002210/01/2019 03:59  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 1, 2019\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T16:43:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680082\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569945457\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n43 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can confirm mass and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E. I got the mass directly from kOS ship:mass call and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E is properly set in the Engine properties. I can\u0027t output \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E via the GA so no way to check if it\u0027s scaling the same as in the game. Mass flow is interesting though:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00226gOXMcu.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.04\u0022 height=\u0022506\u0022 width=\u0022562\u0022 src=\u0022https://i.imgur.com/6gOXMcu.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nLVD is showing it changing if you start the plot at \u002B1s. If you start the plot at 0s the 0 thrust value enlarges the vertical axis and makes this look like a constant value in a straight line - which is why no one probably noticed this before if it\u0027s an issue. KSP does not do this curve however. The blue line is the approximate position of the value that KSP gives me for the constant mass consumption as per this display figure in the part access window of the engine (actual flight value shown):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022qhAY9wR.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002235.33\u0022 height=\u002259\u0022 width=\u0022167\u0022 src=\u0022https://i.imgur.com/qhAY9wR.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n12.50595*.005 gives 0.062529764mT/s (rounded to 0.06253 in the GA marker line tool it can\u0027t be displayed which is why I had to draw it myself \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIt makes sense that fuel flow would be constant no? \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E changes and thrust changes but that is based on the atmosphere not the fuel flow. I wouldn\u0027t have expected to see a curve here and it\u0027s only because I plotted it in Excel that I noticed it because I left out the 0 thrust value.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re right that it is changing, but it\u0027s in the hundreds of thousandths of kilograms per section, which is negligible.\u00A0 Mass flow rate is basically constant.\u00A0 Can you plot total mass of the vehicle over time in both KSP and LVD?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-01T17:06:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680103\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569948204\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan you plot total mass of the vehicle over time in both KSP and LVD?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup. You\u0027re right, looks good:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/lsxKb3p.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022lsxKb3p.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/lsxKb3p.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nteeny little imperfection likely due to the throttle lag, which takes 3 seconds to reach full fuel flow\n\u003C/p\u003E\n\u003Cp\u003E\nAlso just to be clear this is still the data from the test launching at full thrust, in atmosphere, 45\u00B0 heading 89\u00B0 pitch the whole way up\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-01T17:07:47Z\u0022 title=\u002210/01/2019 05:07  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 1, 2019\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T17:11:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680116\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569949584\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYup. You\u0027re right, looks good:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/lsxKb3p.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022lsxKb3p.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/lsxKb3p.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nteeny little imperfection likely due to the throttle lag, which takes 3 seconds to reach full fuel flow\n\u003C/p\u003E\n\u003Cp\u003E\nAlso just to be clear this is still the data from the test launching at full thrust, in atmosphere, 45\u00B0 heading 89\u00B0 pitch the whole way up\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRight.\u00A0 So it looks like the issue is with the TtW throttle law.\u00A0 Would you agree?\u00A0 Ugh lol.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you provide me a time history of thrust, throttle, total vehicle mass, and altitude?\u00A0 For the case with the throttling in there, of course.\u00A0 With\u00A0no atmosphere would make it easier to analyze.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: I suspect I know what the issue is.\u00A0 The code I\u0027m using fixes the thrust to weight relative to planetary sea level (altitude = 0 km).\u00A0 However, gravitational force drops off as you get farther from the body, and so less throttle is needed.\u00A0 Now, I don\u0027t know if it\u0027s really enough to be the full cause here, but if the \u0022thrust to weight\u0022 you\u0027re seeing in kOS or \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E or whatever is the true thrust to weight computed at the given altitude, then that would be a discrepancy.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-01T17:36:33Z\u0022 title=\u002210/01/2019 05:36  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 1, 2019\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-01T18:32:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680117\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569949888\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEDIT: I suspect I know what the issue is.\u00A0 The code I\u0027m using fixes the thrust to weight relative to planetary sea level (altitude = 0 km).\u00A0 However, gravitational force drops off as you get farther from the body, and so less throttle is needed.\u00A0 Now, I don\u0027t know if it\u0027s really enough to be the full cause here, but if the \u0022thrust to weight\u0022 you\u0027re seeing in kOS or \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E or whatever is the true thrust to weight computed at the given altitude, then that would be a discrepancy.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, yea that would have been obvious if I had plotted out the throttle setting. Before ramping up to full, actual flight is down to 45.30% while LVD is only 51.07%. My \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E code is accounting for gravity falloff, which as I said matches up with \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u0027s readout. Looking at the previous post of the difference in altitude and the difference in thrust - they both seem pretty equal so it could indeed be the majority of cause\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T18:38:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680159\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569954738\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, yea that would have been obvious if I had plotted out the throttle setting. Before ramping up to full, actual flight is down to 45.30% while LVD is only 51.07%. My \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E code is accounting for gravity falloff, which as I said matches up with \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u0027s readout. Looking at the previous post of the difference in altitude and the difference in thrust - they both seem pretty equal so it could indeed be the majority of cause\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll push out this change tonight and you can tell me if it helps any.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-01T22:13:21Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E: Here\u0027s \u003Ca href=\u0022https://drive.google.com/file/d/1Yt3QflpPjQ1pNUPd63lrPyiPKtbLXjqT/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Epre-release 7\u003C/a\u003E with the update to the T2W throttle model in LVD that uses the true T2W, not the sea-level T2W.\u00A0 Please let me know if this helps any.\u00A0 This is the only change from pre-release 6.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-02T03:41:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680278\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569968001\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E: Here\u0027s \u003Ca href=\u0022https://drive.google.com/file/d/1Yt3QflpPjQ1pNUPd63lrPyiPKtbLXjqT/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Epre-release 7\u003C/a\u003E with the update to the T2W throttle model in LVD that uses the true T2W, not the sea-level T2W.\u00A0 Please let me know if this helps any.\u00A0 This is the only change from pre-release 6.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDidn\u0027t have a lot of time tonight. Going back to the case file I designed for my ascent, data from PR6 with the smoothed atmosphere said the rocket would burn out at 66.194km ASL. PR7 says the rocket will burn out at 65.483km ASL (I remembered to re-optimize the pitch profile since the thrust change would affect when the rocket arrives at a given altitude). The actual altitude of MECO was 63.408km ASL. So, getting closer and besides modeling changes I still also have room to tweak the LVD ascent into a better fit with the actual one. I have everything setup to take a deep dive into the data tomorrow for some new plots. I\u0027ll have something in the morning\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-02T16:19:45Z","Content":"\n\u003Cp\u003E\nOoof this all took longer than I thought. Alright nevermind about my actual mission profile, I just did another test ascent with atmosphere, \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E throttle lock, 45\u00B0 heading, 89\u00B0 pitch to keep things simple. Here\u0027s the result:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/0YWuqUs.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u00220YWuqUs.png\u0022 src=\u0022https://i.imgur.com/0YWuqUs.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow lets compare to full throttle with everything else the same:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/vNj4iH7.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022vNj4iH7.png\u0022 src=\u0022https://i.imgur.com/vNj4iH7.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s pretty tight yea? I also tested without throttle lag in KSP and didn\u0027t see any serious deviation. Do you think the atmospheric density curve should still be fixed?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso it looks like MA is still not finding encounters properly. \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Alaba.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere is the MAT file\u003C/a\u003E. if you do a distance check, you\u0027ll find this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00225hbZtuW.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.04\u0022 height=\u0022506\u0022 width=\u0022562\u0022 src=\u0022https://i.imgur.com/5hbZtuW.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI can confirm this is the proper time for an in-game encounter. But at default settings the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search still finds an encounter days later. if I switch to stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search it finds an encounter waaay later than even the default settings. If I set the minimum \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance it too finds an encounter later than the default, but not as many days beyond what the stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search option gets. If I turn on stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search and also have the tolerance set to minimum it doesn\u0027t find \u003Cem\u003Eany\u003C/em\u003E \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E intercept (which is set to search the max 100 revs ahead)\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-02T16:47:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680610\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570033185\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOoof this all took longer than I thought. Alright nevermind about my actual mission profile, I just did another test ascent with atmosphere, \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E throttle lock, 45\u00B0 heading, 89\u00B0 pitch to keep things simple. Here\u0027s the result:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/0YWuqUs.png\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow lets compare to full throttle with everything else the same:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/vNj4iH7.png\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s pretty tight yea? I also tested without throttle lag in KSP and didn\u0027t see any serious deviation. Do you think the atmospheric density curve should still be fixed?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso it looks like MA is still not finding encounters properly. \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Alaba.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere is the MAT file\u003C/a\u003E. if you do a distance check, you\u0027ll find this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0026lt;snip\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\nI can confirm this is the proper time for an in-game encounter. But at default settings the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search still finds an encounter days later. if I switch to stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search it finds an encounter waaay later than even the default settings. If I set the minimum \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance it too finds an encounter later than the default, but not as many days beyond what the stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search option gets. If I turn on stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search and also have the tolerance set to minimum it doesn\u0027t find \u003Cem\u003Eany\u003C/em\u003E \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E intercept (which is set to search the max 100 revs ahead)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Col\u003E\u003Cli\u003E\nLooks much better!\u00A0 What do your thrust vs time plots look like now?\u00A0 How does the mission do with no atmosphere?\u00A0 If it\u0027s spot on, then we can conclude that the remaining difference is the density.\u00A0 By the way, that can be fixed, but there is a performance hit to doing so, mostly because it means I have to compute the latitude of the spacecraft to get the temperature model in there.\u00A0 Hopefully it won\u0027t be too bad.\u00A0 I\u0027ll look at this next week when I have some time then.\n\u003C/li\u003E\n\u003Cli\u003E\nThanks for the note about the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E search issue still.\u00A0 I\u0027m a bit annoyed it\u0027s still there but I\u0027ll look into it.\u00A0 Thanks!\n\u003C/li\u003E\n\u003C/ol\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-02T18:47:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680619\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570034867\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat do your thrust vs time plots look like now?\u00A0 How does the mission do with no atmosphere?\u00A0 If it\u0027s spot on, then we can conclude that the remaining difference is the density.\u00A0 By the way, that can be fixed, but there is a performance hit to doing so, mostly because it means I have to compute the latitude of the spacecraft to get the temperature model in there.\u00A0 Hopefully it won\u0027t be too bad.\u00A0 I\u0027ll look at this next week when I have some time then.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThrust over time for no atmosphere, using 1.65 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E until 40km then full throttle (you can see the throttle lag, but like I said I found its effect to be negligible):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/q1ehPER.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022q1ehPER.png\u0022 src=\u0022https://i.imgur.com/q1ehPER.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThrust over time with atmosphere using 1.4 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E until 40km then full throttle - the difference is so MECO happened inside the atmosphere (at 68km) because otherwise it would not be able to maintain guidance with its fin control surfaces (no atmo was using engine gimbal):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/S20a9ma.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002260.06\u0022 height=\u0022615\u0022 style=\u0022width:1024px;height:615px;\u0022 width=\u00221024\u0022 alt=\u0022S20a9ma.png\u0022 src=\u0022https://i.imgur.com/S20a9ma.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAgain a slight discrepancy similar to what was seen for the TWO (throttle wide open) scenario.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-06T15:51:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223680610\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570033185\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/2/2019 at 11:19 AM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso it looks like MA is still not finding encounters properly. \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Alaba.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere is the MAT file\u003C/a\u003E. if you do a distance check, you\u0027ll find this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0026lt;snip\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\nI can confirm this is the proper time for an in-game encounter. But at default settings the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search still finds an encounter days later. if I switch to stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search it finds an encounter waaay later than even the default settings. If I set the minimum \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance it too finds an encounter later than the default, but not as many days beyond what the stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search option gets. If I turn on stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search and also have the tolerance set to minimum it doesn\u0027t find \u003Cem\u003Eany\u003C/em\u003E \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E intercept (which is set to search the max 100 revs ahead)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you set the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E search tolerance to 1E-10 and the number of \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E search attempts to 100, it should find the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transition you\u0027re talking about.\u00A0 In general, for tough \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions, keep strict search off, set the number of attempts to a higher number, and set the tolerance to a small number, as I\u0027ve done here. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-06T17:04:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223682744\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570377115\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you set the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E search tolerance to 1E-10 and the number of \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E search attempts to 100, it should find the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transition you\u0027re talking about.\u00A0 In general, for tough \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions, keep strict search off, set the number of attempts to a higher number, and set the tolerance to a small number, as I\u0027ve done here. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwhen I open the file I sent you, I have a Mun encounter at Y4 D95. When I set the search tolerance to 1E-10 (attempts is already at 100) I get a Mun encounter at Y4 D114. The encounter I\u0027m looking for, and the one shown in the plot I made, is at Y4 D65\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-07T01:46:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223682769\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570381454\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhen I open the file I sent you, I have a Mun encounter at Y4 D95. When I set the search tolerance to 1E-10 (attempts is already at 100) I get a Mun encounter at Y4 D114. The encounter I\u0027m looking for, and the one shown in the plot I made, is at Y4 D65\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDid you set the number of \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E Transitions Search Attempts to 100?\u00A0 When I do this, I get the transition you\u0027re looking for. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-07T02:21:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223682960\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570412766\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDid you set the number of \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E Transitions Search Attempts to 100?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAuuuughhhghhhhghghg\n\u003C/p\u003E\n\u003Cp\u003E\nI did not pay enough attention to what you were saying and confused the \u0022search attempts\u0022 option with \u0022search revs\u0022 \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E You\u0027re right, that works. Will keep that in mind thx\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-07T03:12:54Z","Content":"\n\u003Cp\u003E\nmanaged to find some more weird behavior with the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search. Take \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Alaba2.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis MAT file\u003C/a\u003E for example.\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nNote end time of Y4 D45, which is an actual future in-game encounter\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance to 1E-9\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time goes \u003Cem\u003Ea few million years \u003C/em\u003Einto the future \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance to 1E-10\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time is now a more reasonable at Y4 D74 however I have already advanced the game past this and can confirm there is no such future encounter\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search attempts to 3\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time is now \u003Cem\u003Ea few hundred billion years \u003C/em\u003Einto the future! \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E Damn I\u0027m good\u003C/span\u003E at breaking things\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance down up to 1E-14\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time is now Y4 D71 - still no actual encounter there either\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance down to 1E-8\n\u003C/li\u003E\n\u003Cli\u003E\nBack to proper Y4 D45\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nSo all this came about when I hoped to just set search revs to 100, search attempts to 100 and tolerance to 1E-14 and have a nice catch-all. I guess I shouldn\u0027t be surprised to find it\u0027s a bit more complicated than that \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E I\u0027ll just make a habit of doing a manual check via distance graph output and if I see anything being missed I\u0027ll narrow down to just that one encounter and tweak around with the search options until I find it\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-10-08T01:26:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223682976\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570417974\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nmanaged to find some more weird behavior with the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search. Take \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Alaba2.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis MAT file\u003C/a\u003E for example.\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nNote end time of Y4 D45, which is an actual future in-game encounter\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance to 1E-9\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time goes \u003Cem\u003Ea few million years \u003C/em\u003Einto the future \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance to 1E-10\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time is now a more reasonable at Y4 D74 however I have already advanced the game past this and can confirm there is no such future encounter\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search attempts to 3\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time is now \u003Cem\u003Ea few hundred billion years \u003C/em\u003Einto the future! \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E Damn I\u0027m good\u003C/span\u003E at breaking things\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance down up to 1E-14\n\u003C/li\u003E\n\u003Cli\u003E\nNote end time is now Y4 D71 - still no actual encounter there either\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E search tolerance down to 1E-8\n\u003C/li\u003E\n\u003Cli\u003E\nBack to proper Y4 D45\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nSo all this came about when I hoped to just set search revs to 100, search attempts to 100 and tolerance to 1E-14 and have a nice catch-all. I guess I shouldn\u0027t be surprised to find it\u0027s a bit more complicated than that \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E I\u0027ll just make a habit of doing a manual check via distance graph output and if I see anything being missed I\u0027ll narrow down to just that one encounter and tweak around with the search options until I find it\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAlright, so it might not surprise you to find out that I\u0027ve gotten sick of finding out that my algorithm for finding \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions continually doesn\u0027t find \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions. \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E I\u0027ve basically decided to rewrite the thing from scratch tonight, hopefully I\u0027ll have a prototype for you to test out this weekend.\u00A0 It\u0027s based on the algorithm used for LVD, so it should be more stable, at the expense of a bit of CPU time.\u00A0 I\u0027ve got the new algorithm roughed out tonight, and I\u0027ll polish it this week, adding new \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transition options and removing those that are no longer applicable.\u00A0 You can prototype it on all those edge cases you are so good at finding lol. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"}]}