{"TopicId":114642,"ForumId":29,"TopicTitle":"How to force Kerbals to stand instead of float?","CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-30T10:11:56Z","PageNum":1,"Articles":[{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-30T10:11:56Z","Content":"\n\u003Cp\u003EHi everybody!\u003C/p\u003E\u003Cp\u003EI\u0027m trying to add a kind of magnetic boots to EVA\u0027d Kerbals so that they can walk on the surface of space stations.\u003C/p\u003E\u003Cp\u003EI thought I\u0027ll only have to apply a force pressing the Kerbal down to a part and it\u0027ll switch from \u0027float mode\u0027 to \u0027walk mode\u0027. Unfortunately it doesn\u0027t work like that.\u003C/p\u003E\u003Cp\u003EIs there a way to force a Kerbal to switch to \u0027walk mode\u0027?\u003C/p\u003E\n"},{"CreatedByName":"LitaAlto","CreatedById":110917,"CreatedDateTime":"2015-07-01T13:38:53Z","Content":"\n\u003Cp\u003EThis would be a really cool mod--but I can\u0027t help with the technical question, alas. I suspect that the game checks to see if you\u0027re on the surface of a world, and toggles animations based on that.\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-07-31T11:01:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LitaAlto\u0022 data-cite=\u0022LitaAlto\u0022\u003E\u003Cdiv\u003EThis would be a really cool mod--but I can\u0027t help with the technical question, alas. I suspect that the game checks to see if you\u0027re on the surface of a world, and toggles animations based on that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, you can stand on a craft when it\u0027s airborne, even on low-gravity moons, so I suspect there\u0027s more to it than that. If you just apply a force anti-normal to your target surface (much like the gravity on a celestial body would do), there is little chance that a Kerbal will stand, most probably, it will just face-plant flat. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt may very well be possible that a Kerbal\u0027s feet have a different collider which the game checks to see if it is \u0022standing\u0022 on something. Basically, when the underside of a Kerbal\u0027s feet are flush with the collider of the part that it\u0027s supposed to stand on, it would be standing instead of floating/crawling.\u003C/p\u003E\u003Cp\u003ETry forcing the rotation of your EVA Kerbal to always be normal to the part you\u0027re sticking it to, and see if that has any effects.\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-07-31T16:07:13Z","Content":"\n\u003Cp\u003EGood idea but rotation isn\u0027t the problem. On Kerbin a Kerbal would always stand up, even if he hit the surface head first.\u003C/p\u003E\u003Cp\u003EMaybe the game checks if he hit a PQS collider (I bet there\u0027s something like that) or if he\u0027s in an atmosphere.\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-07-31T22:13:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022*Aqua*\u0022 data-cite=\u0022*Aqua*\u0022\u003E\u003Cdiv\u003EMaybe the game checks if he hit a PQS collider (I bet there\u0027s something like that) or if he\u0027s in an atmosphere.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKerbals can stand on the Mun or on Minmus, even if they\u0027re on top of a flying craft.\u003C/p\u003E\u003Cp\u003ENever tested that on *orbit* though. I do know that when transitioning from \u0022Flying High\u0022 to sub-orbital or orbit, a Kerbal on EVA will instantly align itself tangential (face down) with the planet it\u0027s orbiting, while on a \u0022Flying High\u0022 situation, it will align feet down.\u003C/p\u003E\u003Cp\u003EIf you can find the criterium for that you may be able to override it and trick the EVA Kerbal into thinking it\u0027s moving over a (local) surface.\u003C/p\u003E\u003Cp\u003EIs it even possible to stand on asteroids?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-01T15:09:02Z","Content":"\n\u003Cp\u003EThere is a collider in each foot (I\u0027ve verified this myself):\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/113748-Reference-Kerbal-EVA-model-transform-tree\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/113748-Reference-Kerbal-EVA-model-transform-tree\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAlso, have a look at KerbalEVA.minWalkingGee and KerbalEVA.minRunningGee, which is set to .17 and .6 respectively by default. Maybe you could play with those when the boots are active?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-01T15:11:48Z\u0022 title=\u002208/01/2015 03:11  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 1, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-08-01T15:34:58Z","Content":"\n\u003Cp\u003EIt may be something to do with gravity, not just force. I\u0027ll need to go back a few years, but I remember Scott Manley doing an experiment with the interior of a circular, hollow, space station where he created artificial gravity by spinning the station and was able to drive a rover under that gravity. Now, granted, gravity is simply force directed in a specific direction relative to the body in question, but I have a feeling it needs to be force that can be measured by one of those gravity measuring devices. So, if the force is being applied to the kerbal, but is not measurable by one of those gravioli thingies, then the kerbal is just being pressed up against something. If, however, the gravioli detects a gravitational pull then the kerbal might try to stand on the surface that is \u0022below\u0022 them.\u003C/p\u003E\u003Cp\u003EEDIT: or just read lo-fi\u0027s post. I spent too long thinking about what I wanted to say.\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-08-01T16:33:51Z","Content":"\n\u003Cp\u003EI already tried that, too. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E But no success.\u003C/p\u003E\u003Cp\u003ESomewhere in the game is a piece of code which decides on certain conditions if a Kerbal should float or walk. I neighter found that code nor the conditions. I also didn\u0027t find a way to know what mode currently is active.\u003C/p\u003E\u003Cp\u003E@Stoney3K\u003C/p\u003E\u003Cp\u003EThis sounds promising! I\u0027ll investigate that.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-02T07:59:17Z","Content":"\n\u003Cp\u003EI\u0027ve got this. It looks like it\u0027s governed by the colliders in the Kerbals (feet?) - minRun and minWalk are probably minimum force with which the (maybe feet) colliders in the Kerbal touch whatever.\u003C/p\u003E\u003Cp\u003EIn this video, I\u0027m holding the S key the whole time:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/Fq_owvHwEOU?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EGravity is NOT hacked. I\u0027ve got a raycast running, which gives me some info to construct a vector to add a force to the Kerbal. When the Kerbal touches the ground with enough force, walking is enabled.\u003C/p\u003E\u003Cp\u003EAlso, it\u0027s hilarious:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/dBWOcIDKvjM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EUpdate: I noticed also that some game objects are disabled in certain states. The foot bone, for example, is disabled unless in ragdoll state. Interesting, huh? I couldn\u0027t sleep, and had a few minutes to mess about. I know floating was the opposite of what you wanted to do, but it turned out to be useful. I think.\u003C/p\u003E\u003Cp\u003EHacky, thrown together code if you want it, of course!\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-08-02T13:15:36Z","Content":"\n\u003Cp\u003ESure! Show me your code! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWalk mode really doesn\u0027t depend on a force which pushes Kerbals down. I let a 1 g force act on a Kerbal which pushed him into a space station. He just stuck to a part not switching to walk mode. Meanwhile the station began to spin faster and faster because of that force.\u003C/p\u003E\u003Cp\u003EI didn\u0027t have time to investigate Stoney3K\u0027s observation yet. But I believe that could point me to the solution.\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-08-02T14:55:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022*Aqua*\u0022 data-cite=\u0022*Aqua*\u0022\u003E\u003Cdiv\u003ESure! Show me your code! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EWalk mode really doesn\u0027t depend on a force which pushes Kerbals down. I let a 1 g force act on a Kerbal which pushed him into a space station. He just stuck to a part not switching to walk mode. Meanwhile the station began to spin faster and faster because of that force.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAha, your method is correct, but that means you\u0027re fighting Newton\u0027s third law here.\u003C/p\u003E\u003Cp\u003EYou\u0027re pushing the Kerbal down towards the station, but there\u0027s nothing to stop the station from moving in an equal and opposite direction (away from your Kerbal) with the same acceleration. Your poor Kerbal is essentially \u0022falling\u0022 towards the station which is just as rapidly running away from a Kerbal trying to kick it in the skin. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EMeaning, the acceleration witnessed by the Kerbal\u0027s feet is nearly zero. (Not coincidentally, that is also the reason why there is \u0022weightlessness\u0022 in space, even though the gravitational pull is almost 1g in LEO)\u003C/p\u003E\u003Cp\u003EThe trick here would not be pushing \u0022down\u0022 harder on your Kerbal, it would be to restrict the station you want to walk on from moving. You will only be able to exert a \u0022weight\u0022 force if there is an inanimate object to stand on.\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-08-02T16:33:28Z","Content":"\n\u003Cp\u003EYep, I know that I have to add an equal counter-force to the station at the collision point. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe station (in fact only a full orange tank) began to spin slowly, the Kerbal experienced nearly 1 g for a limited time (ca. 10\u002B seconds, then the rotation becomes very noticeable). Still no switch to walk mode during that time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-08-02T19:41:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022*Aqua*\u0022 data-cite=\u0022*Aqua*\u0022\u003E\u003Cdiv\u003EYep, I know that I have to add an equal counter-force to the station at the collision point. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003EThe station (in fact only a full orange tank) began to spin slowly, the Kerbal experienced nearly 1 g for a limited time (ca. 10\u002B seconds, then the rotation becomes very noticeable). Still no switch to walk mode during that time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you add an equal counter-force the station should not spin at all.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-02T23:01:47Z","Content":"\n\u003Cp\u003EEDIT: Ignore me, that doesn\u0027t work in orbit! Weirdly, the Kerbal stops being able to walk the moment what it\u0027s standing on isn\u0027t in contact with the ground any more. Sorry I can\u0027t be of much more help, but it\u0027s been fun to mess around with!\u003C/p\u003E\u003Cp\u003EAnd now the spoiler tags have gone haywire!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-02T23:41:56Z\u0022 title=\u002208/02/2015 11:41  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 2, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-08-03T10:57:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EEDIT: Ignore me, that doesn\u0027t work in orbit! Weirdly, the Kerbal stops being able to walk the moment what it\u0027s standing on isn\u0027t in contact with the ground any more. Sorry I can\u0027t be of much more help, but it\u0027s been fun to mess around with!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI found out the same thing: Kerbals can\u0027t stand on flying objects, not even if they\u0027re hovering mere inches over the surface. Poor Jeanette Kerman here was unable to stand on the cargo bay floor, she would just back-plant once the plane takes off.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/DpFrdUr\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/DpFrdUr.jpg\u0022 alt=\u0022DpFrdUr.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-03T20:33:30Z","Content":"\n\u003Cp\u003EKerbals inherit the Vessel class, so I\u0027m wondering if the mechanism in that which deals with it being splashed, landed etc. is used to determine what the Kerbal will do. They also swim, don\u0027t they? It\u0027s clearly not to do with orbits. I found that having a Kerbal stood on top of a command pod, it would be in the floating pose, unable to walk until the very moment the command pod hit the ground, at which point it would walk again, no matter how tenuous the pods contact with the ground might have been. I can\u0027t think of any situation a Kerbal would want to be walking, unless classed as \u0022landed\u0022, so there\u0027s some sense to that line if thinking. Maybe.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-03T22:06:07Z","Content":"\n\u003Cp\u003EUpdate: I tried manually setting vessel.landed for the Kerbal. This prevents you from using RCS, stops the kerbal from going into the free fall pose, and makes it assume the low gravity leaping posture when not stood on something. Merits further investigation!\u003C/p\u003E\n"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-08-03T22:54:39Z","Content":"\n\u003Cp\u003EII suggest you look at the KerbalEVA.fsm field. You can force pretty much any KerbalEVA state you want there, including floating, rag doll mode, etc. I\u0027ll post a list of states later once I have access to my computer.\u003C/p\u003E\u003Cp\u003EI do have some code that manipulates the fsm here: \u003Ca href=\u0022https://github.com/HappyFaceIndustries/KerbalAnimationSuite/blob/master/Source/KAS_AnimationClip.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HappyFaceIndustries/KerbalAnimationSuite/blob/master/Source/KAS_AnimationClip.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELook at the KerbalEVA_Utility class.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-03T22:59:59Z\u0022 title=\u002208/03/2015 10:59  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 3, 2015\u003C/time\u003E by MrHappyFace\u003C/strong\u003E\n\u003Cbr\u003EAdded information\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-03T23:04:12Z","Content":"\n\u003Cp\u003EPerfect! I did peek at the fsm stuff and thought it looked promising, but I couldn\u0027t quite figure out what to do with it. Very helpful, thank you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-04T00:12:51Z","Content":"\n\u003Cp\u003EUpdate: I think I got something semi-workable:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/D_8auUInDXE?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EI turn the boots off and let the kerbal float away towards the end, though I\u0027ve forgotten to reset the landed state in the code after that, so zero-G EVA stuff is still disabled. As \u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMrHappyFace points out, the more intelligent way is probably to mess with the FSM. Now this seems to be possible, do let me know if you\u0027d like some magnetic boots made for the kerbals! Would be a rather fun thing to do \u003C/span\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing System;using System.Collections.Generic;\u003Cbr\u003Eusing System.Collections;\u003Cbr\u003Eusing System.Reflection;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace KerbalGadgets\u003Cbr\u003E{\u003Cbr\u003E    public class MagBoots : VesselModule\u003Cbr\u003E    {\u003Cbr\u003E        KerbalEVA _kerbal;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        GameObject _rayObject;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        GameObject _targetObject;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        Rigidbody _TargetRB;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        Vessel _vessel;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        bool isReady;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        bool bootToggle;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        float magForce = .5f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public string ravInfo;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public float rayDistance = 0.2f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public int layerMask = 0;\u003Cbr\u003E\u003Cbr\u003E        public void Start()\u003Cbr\u003E        {\u003Cbr\u003E            _kerbal = this.GetComponent\u0026lt;KerbalEVA\u0026gt;();\u003Cbr\u003E            _vessel = this.GetComponent\u0026lt;Vessel\u0026gt;();\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (_kerbal != null)\u003Cbr\u003E            {\u003Cbr\u003E                Debug.LogWarning(\u0022Kerbal in EVA....!\u0022);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                _rayObject = new GameObject(\u0022rayObject\u0022);\u003Cbr\u003E\u003Cbr\u003E                _rayObject.transform.position = transform.Search(\u0022bn_spA01\u0022).position;\u003Cbr\u003E                _rayObject.transform.rotation = transform.Search(\u0022bn_spA01\u0022).rotation;\u003Cbr\u003E                _rayObject.transform.parent = _kerbal.gameObject.transform;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E#if DEBUG\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                    if (_rayObject != null)\u003Cbr\u003E                    {\u003Cbr\u003E                        Debug.LogWarning(\u0022Found left hand foot\u0022);\u003Cbr\u003E                        _rayObject.SetActive(true);\u003Cbr\u003E                        Extensions.DebugLine(_rayObject.transform);\u003Cbr\u003E                    }\u003Cbr\u003E#endif\u003Cbr\u003E                isReady = true;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E            else\u003Cbr\u003E            {\u003Cbr\u003E                Debug.LogWarning(\u0022Not Kerbal in EVA\u0022);\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public void Update()\u003Cbr\u003E        {\u003Cbr\u003E            if (Input.GetKeyUp(KeyCode.P))\u003Cbr\u003E            {\u003Cbr\u003E                bootToggle = !bootToggle;\u003Cbr\u003E                if (bootToggle)\u003Cbr\u003E                    print(\u0022MagBoots Active\u0022);\u003Cbr\u003E                else\u003Cbr\u003E                    print(\u0022MagBoots Disabled\u0022);\u003Cbr\u003E            }\u003Cbr\u003E            //print(\u0022State\u0022 \u002B _vessel.state \u002B \u0022landed \u0022 \u002B _vessel.Landed \u002B \u0022splashed \u0022 \u002B _vessel.Splashed);\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public void FixedUpdate()\u003Cbr\u003E        {\u003Cbr\u003E            if (!isReady)\u003Cbr\u003E                return;\u003Cbr\u003E            if (bootToggle)\u003Cbr\u003E                _vessel.Landed = true;\u003Cbr\u003E            else\u003Cbr\u003E                return;\u003Cbr\u003E            _rayObject.SetActive(true);\u003Cbr\u003E\u003Cbr\u003E            RaycastHit hit;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (RayCast(rayDistance, _rayObject, _rayObject.transform.right, out hit))\u003Cbr\u003E            {\u003Cbr\u003E                _targetObject = hit.collider.gameObject;\u003Cbr\u003E                _TargetRB = hit.rigidbody;\u003Cbr\u003E                print(hit.collider.name);\u003Cbr\u003E            }\u003Cbr\u003E            else\u003Cbr\u003E            {\u003Cbr\u003E                _targetObject = null;\u003Cbr\u003E                print(\u0022target null\u0022);\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            //print(ravInfo);\u003Cbr\u003E            if (_targetObject != null)\u003Cbr\u003E            {\u003Cbr\u003E                print(\u0022Applying forces\u0022);\u003Cbr\u003E                Vector3 direction = _rayObject.transform.position - hit.point;\u003Cbr\u003E                _kerbal.rigidbody.AddForceAtPosition(-direction.normalized * magForce, hit.point);\u003Cbr\u003E                if (_TargetRB != null)\u003Cbr\u003E                    _TargetRB.AddForceAtPosition(direction.normalized * magForce, hit.point);\u003Cbr\u003E                else\u003Cbr\u003E                    print(\u0022no rigidbody L\u0022);\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        bool RayCast(float rayLength, GameObject rayObject, Vector3 direction, out RaycastHit hit)\u003Cbr\u003E        {\u003Cbr\u003E            var ray = new Ray(rayObject.transform.position, direction);\u003Cbr\u003E            int tempLayerMask = ~layerMask;\u003Cbr\u003E            return Physics.Raycast(ray, out hit, rayLength, tempLayerMask);\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-08-04T00:13:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrHappyFace\u0022 data-cite=\u0022MrHappyFace\u0022\u003E\u003Cdiv\u003EII suggest you look at the KerbalEVA.fsm field. You can force pretty much any KerbalEVA state you want there, including floating, rag doll mode, etc. I\u0027ll post a list of states later once I have access to my computer.\u003Cp\u003EI do have some code that manipulates the fsm here: \u003Ca href=\u0022https://github.com/HappyFaceIndustries/KerbalAnimationSuite/blob/master/Source/KAS_AnimationClip.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HappyFaceIndustries/KerbalAnimationSuite/blob/master/Source/KAS_AnimationClip.cs\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is interesting. How far did you get on that particular project? It seems to have been a while since you made any changes\u003C/p\u003E\n"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-08-04T00:38:38Z","Content":"\n\u003Cp\u003EI\u0027ve been preoccupied with Kopernicus stuff, but you can download it from the github downloads page if you want. It seems to work fine on my computer, but crashed on other computers.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-08-04T02:17:38Z","Content":"\n\u003Cp\u003EThis whole thing, especially after the little video lo-fi made, reminds me of the sea-sickness cure mod. It allowed Kerbals to walk normally on a floating craft.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-08-04T06:33:32Z","Content":"\n\u003Cp\u003EOh yes! Maybe that might be a good place to look for pointers too. Well remembered!\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-08-04T16:10:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003E_rayObject.transform.position = transform.Search(\u0022bn_spA01\u0022).position;\u003Cp\u003E_rayObject.transform.rotation = transform.Search(\u0022bn_spA01\u0022).rotation;\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wonder why there\u0027s a Search() method. Is it defined in a custom class extension?\u003C/p\u003E\u003Cp\u003EI ask because VS\u0027s autocompletion doesn\u0027t list it here.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003ENever mind. I found it in KerbalFoundries.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-04T16:13:16Z\u0022 title=\u002208/04/2015 04:13  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 4, 2015\u003C/time\u003E by *Aqua*\u003C/strong\u003E\n\u003C/span\u003E\n"}]}