{"TopicId":142873,"ForumId":15,"TopicTitle":"Flags, opacity and transparency thresholds","CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-06-30T21:26:02Z","PageNum":1,"Articles":[{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-06-30T21:26:02Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003ESeems like a bug with the shaders/models used for some parts. I have opened a bug report on the tracker \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/10078\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027ve just made a quick flag for the Asteroid Day thingy, and made it with transparent background. As it is a png, it handles transparency and some of the text and image (grey part) is semi-transparent.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022VgcSrGH.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/VgcSrGH.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNow, when using the flag in the game it works fine, except when using it on the Mk2 Cockpit and on the Boar booster (maybe other parts but I did not notice it).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ss26ac4.png\u0022 class=\u0022ipsImage\u0022 height=\u0022422\u0022 src=\u0022http://i.imgur.com/ss26ac4.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWhen editing the flag after seeing this, I could replicate the look of it by tweaking opacity of the png layer. (Flag is the same, and it doesn\u0027t seem to depend on colour or curvature of the flag as it works well on a lot of other parts)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo I was wondering how KSP handles flags on parts, what is required\u00A0for displaying/not displaying a part of the flag (transparency thresholds), and how opacity is handled.\u003Cbr\u003E\nAny hint or help on this issue is welcome !\n\u003C/p\u003E\n\u003Cp\u003E\n(Not sure where to put this, mods please move if it\u0027s not at the right place, thanks!)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-01T23:31:28Z\u0022 title=\u002207/01/2016 11:31  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 1, 2016\u003C/time\u003E by Gaarst\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-30T21:34:02Z","Content":"\n\u003Cp\u003E\nI think this comes down to the shader used for each specific part, which is set in the material before the part is exported to the .mu format.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the left it appears it is using a cutoff-based shader; so things are either completely transparent or completely opaque depending upon the value of the alpha channel for the pixel and the specified cutoff value.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the right it looks to be using a proper \u0027transparent\u0027 shader with full alpha support, giving you the full range of alpha transparency.\n\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-06-30T21:44:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222655865\u0022 data-ipsquote-contentid=\u0022142873\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467322442\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think this comes down to the shader used for each specific part, which is set in the material before the part is exported to the .mu format.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the left it appears it is using a cutoff-based shader; so things are either completely transparent or completely opaque depending upon the value of the alpha channel for the pixel and the specified cutoff value.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the right it looks to be using a proper \u0027transparent\u0027 shader with full alpha support, giving you the full range of alpha transparency.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n(I don\u0027t know anything about texturing stuff)\n\u003C/p\u003E\n\u003Cp\u003E\nThat makes sense, but I am wondering why it should be different for these two parts (Mk2 and Mk2 Inline Cockpit) that were both designed/redesigned by C7 or Porkjet (not really sure for these two).\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2016-07-01T01:17:15Z","Content":"\n\u003Cp\u003E\nMoving to Modeling and Texturing Discussion.\n\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-07-01T01:26:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222656219\u0022 data-ipsquote-contentid=\u0022142873\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467335835\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMoving to Modeling and Texturing Discussion.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEven though texturing stuff seems to be involved, this is not about add-on development, just an issue with the stock game, maybe it would be better in Technical Support or Gameplay Questions.\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2016-07-01T01:29:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222656231\u0022 data-ipsquote-contentid=\u0022142873\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467336379\u0022 data-ipsquote-userid=\u0022126740\u0022 data-ipsquote-username=\u0022Gaarst\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Gaarst said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEven though texturing stuff seems to be involved, this is not about add-on development, just an issue with the stock game, maybe it would be better in Technical Support or Gameplay Questions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s about \u0022how do I make an image file so that it plays nice with the way KSP displays things\u0022, which I\u0027d wager makes it good fodder for the modeling \u0026amp; texturing forum-- a flag texture \u003Cem\u003E\u003Cu\u003Eis\u003C/u\u003E\u003C/em\u003E a texture.\u00A0 That forum is well-populated with the kind of folks who would be likely to know the ins and outs of this sort of thing.\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-07-01T01:43:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222656236\u0022 data-ipsquote-contentid=\u0022142873\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467336554\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s about \u0022how do I make an image file so that it plays nice with the way KSP displays things\u0022, which I\u0027d wager makes it good fodder for the modeling \u0026amp; texturing forum-- a flag texture \u003Cem\u003E\u003Cu\u003Eis\u003C/u\u003E\u003C/em\u003E a texture.\u00A0 That forum is well-populated with the kind of folks who would be likely to know the ins and outs of this sort of thing.\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDidn\u0027t see it from that perspective, makes sense.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-07-01T14:27:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222655890\u0022 data-ipsquote-contentid=\u0022142873\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467323053\u0022 data-ipsquote-userid=\u0022126740\u0022 data-ipsquote-username=\u0022Gaarst\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Gaarst said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(I don\u0027t know anything about texturing stuff)\n\u003C/p\u003E\n\u003Cp\u003E\nThat makes sense, but I am wondering why it should be different for these two parts (Mk2 and Mk2 Inline Cockpit) that were both designed/redesigned by C7 or Porkjet (not really sure for these two).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSimply put:\u00A0 He picked different shaders for the parts when he compiled them.\u00A0 No clue on the reasoning behind it; it could have been a simple mistake, or one was made earlier in the dev cycle before the shaders were well known.\n\u003C/p\u003E\n\u003Cp\u003E\nSadly there is no (simple/easy) way to fix it that I\u0027m aware of.\u00A0 As the shader is compiled into the binary model file, it pretty much would have to be re-compiled and re-exported from Unity on the Squad side.\u00A0 There are ways to hack stuff inside those model files (have done it for some of my own models), but I believe that is against the TOS/EULA for stock models/textures (no decompiling of Squad assets).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nPerhaps you should file a bug report so that they are aware of the problem and have a chance to fix it for 1.2?\u00A0 I would say that using the cutoff shader is probably the error; flags should have proper transparency support.\n\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-07-01T15:18:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222656841\u0022 data-ipsquote-contentid=\u0022142873\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467383263\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSimply put:\u00A0 He picked different shaders for the parts when he compiled them.\u00A0 No clue on the reasoning behind it; it could have been a simple mistake, or one was made earlier in the dev cycle before the shaders were well known.\n\u003C/p\u003E\n\u003Cp\u003E\nSadly there is no (simple/easy) way to fix it that I\u0027m aware of.\u00A0 As the shader is compiled into the binary model file, it pretty much would have to be re-compiled and re-exported from Unity on the Squad side.\u00A0 There are ways to hack stuff inside those model files (have done it for some of my own models), but I believe that is against the TOS/EULA for stock models/textures (no decompiling of Squad assets).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nPerhaps you should file a bug report so that they are aware of the problem and have a chance to fix it for 1.2?\u00A0 I would say that using the cutoff shader is probably the error; flags should have proper transparency support.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBug report is done, thank you for your help!\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/10078\u0022 rel=\u0022external nofollow\u0022\u003Elink to the bug report here\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-01T23:29:58Z\u0022 title=\u002207/01/2016 11:29  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 1, 2016\u003C/time\u003E by Gaarst\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2016-07-02T16:14:03Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFrom KSP 1.1 through 1.1.2, there was a bug in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E that made transparency break pretty badly with the normal \u0022alpha translucent\u0022 shader used for flag decals. The bug didn\u0027t apply to \u0022alpha cutoff\u0022, so it\u0027s possible they did that just to avoid their own bug in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E. The shader was fixed in 1.1.3. \u0022Alpha cutoff\u0022 makes each pixel in the decal either 100% transparent or 100% opaque, with no partial transparency in between, so it\u0027ll do exactly what the \u003Cabbr title=\u0022Original Post(er). The first post in a thread, or the person who posted it.\u0022\u003EOP\u003C/abbr\u003E is describing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}