{"TopicId":196203,"ForumId":104,"TopicTitle":"How to get BG robotics to work correctly?","CreatedByName":"Rodger","CreatedById":153575,"CreatedDateTime":"2020-08-09T08:04:01Z","PageNum":1,"Articles":[{"CreatedByName":"Rodger","CreatedById":153575,"CreatedDateTime":"2020-08-09T08:04:01Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to make a hinge part, but can\u0027t get it to work correctly. The main issue is it doesn\u0027t open fully, stopping 3 degrees short.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022unknown.png?width=1031\u0026amp;height=619\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.04\u0022 height=\u0022619\u0022 width=\u00221031\u0022 src=\u0022https://media.discordapp.net/attachments/206472058228572162/741925778169659513/unknown.png?width=1031\u0026amp;height=619\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nMight be another symptom, but the current angle only goes up to 90, then back down once the part moves past 90\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022unknown.png?width=1103\u0026amp;height=454\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002241.16\u0022 height=\u0022454\u0022 width=\u00221103\u0022 src=\u0022https://media.discordapp.net/attachments/206472058228572162/741923157098758184/unknown.png?width=1103\u0026amp;height=454\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve also noticed that when launching from the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, it always starts at 0deg, and then moves to the angle set in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, instead of just starting at the set angle. The stock hinges don\u0027t do this, they launch at the angle set in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nAny help would be appricated, otherwise I\u0027m just going to have to drop support for BG and just go IR.\n\u003C/p\u003E\n\u003Cp\u003E\nThe module in my cfg:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EMODULE\n\t{\n\t\tname = ModuleRoboticServoHinge\n\t\tallowFullRotation = false\n\t\tservoTransformName = TopJoint\n\t\tbaseTransformName = Base\n\t\tservoAttachNodes = top\n\t\tservoSrfMeshNames = COL2\n\t\ttraverseVelocityLimits = 1, 30\n\t\thardMinMaxLimits = 0, 180\n\t\tsoftMinMaxAngles = 0, 180\n\t\ttargetAngle = 0\n\t\tmodelInitialAngle = 0\n\t\tinverted = false\n\t\tmirrorRotation = false\n\t\tmaxMotorOutput = 50\n\t\tdriveSpringMutliplier = 100\n\t\tdriveDampingMutliplier = 20\n\t\tmotorizedMassPerKN = 0.0002\n\t\tmotorizedCostPerDriveUnit = 1\n\t\tconnectedMassScale = 1\n\t\tefficiency = 0.75\n\t\tbaseResourceConsumptionRate = 0.02\n\t\treferenceConsumptionVelocity = 180\n\t\tjointParentRotation = 0,0,0,1\n\t\tservoTransformRotation = 0,0,0,1\n\t\tmainAxis = X\n\t\tuseLimits = true\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnd the model hierarchy:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022unknown.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002286.98\u0022 height=\u0022394\u0022 width=\u0022453\u0022 src=\u0022https://media.discordapp.net/attachments/206472058228572162/741928219606908989/unknown.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(I have tried some other\u00A0hierarchy layouts too, like another game object above the base mesh)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-09T08:05:29Z\u0022 title=\u002208/09/2020 08:05  AM\u0022 data-short=\u00223 yr\u0022\u003EAugust 9, 2020\u003C/time\u003E by Rodger\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rodger","CreatedById":153575,"CreatedDateTime":"2020-08-09T11:41:54Z","Content":"\n\u003Cp\u003E\nI got it working, and my testing seems to indicate there\u0027s some kind of hard cap of 177 degrees somewhere?\u00A0So the model needs to be set up in a position where the full range of motion is less than 177 degrees away, to avoid hitting that 177 degree wall. I had my model set up in the closed position, with \u0022modelInitialAngle = 0\u0022, but since that meant it\u0027d need to move 180 degrees to fully open, it was hitting the hardcoded 177 degree limit. I adjusted the model so it was halfway open, with \u0022modelInitialAngle = 90\u0022, and now it works. It also fixed the shown angle display not matching the target angle, and the differences in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E from flight.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-09T12:07:57Z\u0022 title=\u002208/09/2020 12:07  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 9, 2020\u003C/time\u003E by Rodger\u003C/strong\u003E\n\u003C/span\u003E\n"}]}