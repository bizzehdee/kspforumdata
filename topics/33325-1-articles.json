{"TopicId":33325,"ForumId":29,"TopicTitle":"How to determine if you are on an EVA?","CreatedByName":"jeti140973","CreatedById":61447,"CreatedDateTime":"2013-06-16T20:02:14Z","PageNum":1,"Articles":[{"CreatedByName":"jeti140973","CreatedById":61447,"CreatedDateTime":"2013-06-16T20:02:14Z","Content":"\n\u003Cp\u003ENewbie mod-wannabe here, go easy on me.\u003C/p\u003E\u003Cp\u003EI have visual studio and some c# experience. I have already referenced the assembly-csharp.dll and unityengine.dlls successfully, and can access the types.\u003C/p\u003E\u003Cp\u003EI\u0027m trying to create a plugin without a part - at least not yet. Most tutorials seem to expect that a part is the main focus of a mod. Therefore I\u0027m a bit uncertain how to proceed, as my class obviously(?) shouldn\u0027t inherit from PartModule. I need to determine if the player is currently in \u0022EVA mode\u0022, but how do I do that? In fact, it would be great if I could determine whether the player was: 1) flying in internal view, 2) flying in external view, 3) on eva. But EVA is the important part, but basically I want my mod to react to the flight mode.\u003C/p\u003E\u003Cp\u003EI guess I could check if the activevessel is a kerbal astronaut, but the specifics are not clear to me. Help appreciated.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-16T20:48:52Z\u0022 title=\u002206/16/2013 08:48  PM\u0022 data-short=\u002211 yr\u0022\u003EJune 16, 2013\u003C/time\u003E by jeti140973\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JDP","CreatedById":30775,"CreatedDateTime":"2013-06-16T22:01:57Z","Content":"\n\u003Cp\u003Eif your class inherits from \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.html\u0022 rel=\u0022external nofollow\u0022\u003Emonobehaviour\u003C/a\u003E, you can override the monobehaviour functions and will thusly have Update/FixedUpdate etc.\u003C/p\u003E\u003Cp\u003ETake a look at the posts about KSPAddon on how to instantiate your monobehaviour classes.\u003C/p\u003E\u003Cp\u003EIf you want to check whether the player is in EVA, you can do this by looking at the active Vessel as accessible through FlightGlobals:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EFlightGlobals.ActiveVessel.isEVA\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"jeti140973","CreatedById":61447,"CreatedDateTime":"2013-06-17T15:44:44Z","Content":"\n\u003Cp\u003ETak - det pr\u00C3\u0192\u00C2\u00B8ver jeg ;-)\u003C/p\u003E\u003Cp\u003E(thanks - I\u0027ll try that, for the danishly impaired)\u003C/p\u003E\n"},{"CreatedByName":"jeti140973","CreatedById":61447,"CreatedDateTime":"2013-06-22T11:39:03Z","Content":"\n\u003Cp\u003EOk, I am making some progress, but I can\u0027t get the next bit to work. I need to figure out if the player is currently in internal view, ie. is sitting inside the cockpit as opposed to the viewing the craft from the outside. It seems that switching back and forth between external/internal view does neither switch the camera nor the vessel. Does anyone know how to check for this?\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-06-24T07:37:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jeti140973\u0022 data-cite=\u0022jeti140973\u0022\u003E\u003Cdiv\u003EOk, I am making some progress, but I can\u0027t get the next bit to work. I need to figure out if the player is currently in internal view, ie. is sitting inside the cockpit as opposed to the viewing the craft from the outside. It seems that switching back and forth between external/internal view does neither switch the camera nor the vessel. Does anyone know how to check for this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (CameraManager.Instance.currentCameraMode == CameraManager.CameraMode.IVA)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}