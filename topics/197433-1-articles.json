{"TopicId":197433,"ForumId":69,"TopicTitle":"Frame rate drops after returning from map view.","CreatedByName":"Alex55","CreatedById":170670,"CreatedDateTime":"2020-10-12T00:21:15Z","PageNum":1,"Articles":[{"CreatedByName":"Alex55","CreatedById":170670,"CreatedDateTime":"2020-10-12T00:21:15Z","Content":"\n\u003Cp\u003E\nHi,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve found a reproducible bug in\u00A0KSP:\n\u003C/p\u003E\n\u003Cp\u003E\n[KSP Version]: 1.10.1.2939 (WindowsPlayer x64) (x64) en-us\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe gist of it is that the frame rate drops after the first time that you look at the map within a flight and then return to looking at your ship. The drop in frame rate is proportional to the number of Kerbals on board. The drop in frame rate is not present (or less obvious) when you switch to IVA by pressing \u0027c\u0027, or go to the tracking station and then go to the flight again from there. However, the tracking station method will only restore a good framerate until you look at the map again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:28px;\u0022\u003E\u003Cstrong\u003EHow to reproduce.\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ECase 1 (on the pad)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1) Create a ship that can carry ~100 Kerbals. There is one called \u0027Test Craft\u0027 in the save file that works:\u00A0\u003Ca href=\u0022https://drive.google.com/file/d/1mIRcbIYzVliJr1SRlM4hSECe01LSZIkE/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1mIRcbIYzVliJr1SRlM4hSECe01LSZIkE/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n2) Fill the ship with 100 Kerbals.\u003Cbr\u003E\n3) Take the ship to the launch pad but DO NOT open the map. Wait for everything to load in, and try rotating the camera, moving the dials etc. Everything will be pretty responsive. (Great job optimizing the engine, SQUAD!)\u003Cbr\u003E\n4) Open the map by pressing \u0027m\u0027. There will be a tiny bit of lag while it loads, but then the map will move smoothly afterwards.\n\u003C/p\u003E\n\u003Cp\u003E\n5) Close the map again by pressing \u0027m\u0027. You will be back at your ship, but everything will now be super laggy.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ECase 2 (In Flight)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1) Create a ship that can carry ~100 Kerbals. There is one called \u0027Test Craft\u0027 in the save file that works:\u00A0\u003Ca href=\u0022https://drive.google.com/file/d/1mIRcbIYzVliJr1SRlM4hSECe01LSZIkE/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1mIRcbIYzVliJr1SRlM4hSECe01LSZIkE/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n2) Fill the ship with 100 Kerbals.\u003Cbr\u003E\n3) Take the ship to the launch pad but DO NOT open the map. Wait for everything to load in, and try rotating the camera, moving the dials etc. Everything will be pretty responsive. (Great job optimizing the engine, SQUAD!)\n\u003C/p\u003E\n\u003Cp\u003E\n4) Launch the ship. Put it into max physics time acceleration and keep it going until you are in space. Everything should be pretty smooth when you use the controls, or rotate the camera. Notice that turning the cutaway view of the kerbals has no real effect on performance.\n\u003C/p\u003E\n\u003Cp\u003E\n4) Open the map by pressing \u0027m\u0027. There will be a tiny bit of lag while it loads, but then the map will move smoothly afterwards.\n\u003C/p\u003E\n\u003Cp\u003E\n5) Close the map again by pressing \u0027m\u0027. You will be back at your ship, but everything will now be super laggy.\n\u003C/p\u003E\n\u003Cp\u003E\n6) Hit \u0027c\u0027 to go into IVA. Everything will become very responsive again. You can even run the game 4x physics accelerated without any lag. Try firing the engines, or rotating the ship to feel the massive difference.\n\u003C/p\u003E\n\u003Cp\u003E\n7) Hit \u0027c\u0027 again to exit IVA. Everything will be super laggy again.\n\u003C/p\u003E\n\u003Cp\u003E\n8) Hit \u0027esc\u0027 and select the tracking station. In the tracking station, select the currently active flight, and go to it. The lag will once again be gone.\n\u003C/p\u003E\n\u003Cp\u003E\n9) Enter and exit the map to see that the lag is once again back.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ECase 3 (Only 1 kerbal in flight)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1) Repeat the steps from Case 2, but this time have only 1 Kerbal in the ship. Notice that there is no perceptible lag at any point. i.e. It is strongly tied to the number of Kerbals on board.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:28px;\u0022\u003E\u003Cstrong\u003EOther relevant details.\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1) I created a new standalone install to test this with a clean save file after I observed it in my main install. No mods were ever used on this install.\n\u003C/p\u003E\n\u003Cp\u003E\n2) I used the default graphics settings by hitting the \u0027Reset Settings\u0027 Button in the settings window. i.e. 1280 x 720, running in a window.\n\u003C/p\u003E\n\u003Cp\u003E\n3) My machine is an Intel Xeon E5-1650 v3 @ 3.5GHz (6 cores 12 threads) with 128GB ram and an Nvidia GTX1080 w/ 8GB of vram. Neither the CPU or the Graphics card were pushed even to 50% while running any of these experiments according to the charts in Task Manager.\n\u003C/p\u003E\n\u003Cp\u003E\n4) Hitting the \u0027Fill\u0027 button to load the ship with 100 Kerbals freezes the game for minutes i.e. several seconds per Kerbal. I suspect some sort of n^2 or n^3 algorithm in there making things slow. I would love it if this was faster :).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:28px;\u0022\u003EClosing thoughts\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nA feedback that might happen with this bug report is to just not fly with 100 Kerbals, so I wanted to comment on that:\u003Cbr\u003E\n1) Building large crafts and flying with 100 Kerbals is super fun! (Until I look at the map)\u00A0The game engine can clearly run with hundreds of Kerbals and parts aside from this bug and\u00A0it would be awesome to take advantage of that.\u003Cbr\u003E\n2) Choosing 100 Kerbals was helpful when reproducing the bug, but the lag is still there with smaller numbers of Kerbals, just less severe. It would be better if it was not there at all.\n\u003C/p\u003E\n\u003Cp\u003E\n3) Because the game runs fast in IVA, it feels like going into the map for the first time flips some internal flag that makes the game run slow from that point forward unless it is in map mode or IVA. If it really turns out to be\u00A0that simple, it would be great to just turn that flag off again when you leave map mode. i.e. the simulation is clearly able to handle 100 Kerbals easily, it handles all the rendering and physics just fine until going into the map somehow changes the state.\u003Cbr\u003E\n4)\u00A0\u00A0Thanks for making the amazing game that made me want to file this bug report!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThank You!!!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Serenity","CreatedById":179192,"CreatedDateTime":"2020-10-12T06:54:32Z","Content":"\n\u003Cp\u003E\nNo offence, but...\n\u003C/p\u003E\n\u003Cp\u003E\nsince the game can handle a ship with 100 Kerbals that is extremely impressive by itself.\n\u003C/p\u003E\n\u003Cp\u003E\nThe minor downside to be a switch map lag and even\u00A0fixable by going to tracking station and back should justify EVERY REASON NOT to submit that bug report.\n\u003C/p\u003E\n\u003Cp\u003E\nFor a game to handle something so big and not call the Kraken is by itself commendable.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyways.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-10-12T07:11:10Z\u0022 title=\u002210/12/2020 07:11  AM\u0022 data-short=\u00223 yr\u0022\u003EOctober 12, 2020\u003C/time\u003E by Boyster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alex55","CreatedById":170670,"CreatedDateTime":"2020-10-12T09:10:09Z","Content":"\n\u003Cp\u003E\nHi Boyster,\u003Cbr\u003E\u003Cbr\u003E\nI agree with you premise. However, it\u0027s not a switch map lag, if I\u0027m using the right terminology. I 100% wouldn\u0027t have filed a bug about that.\u003Cbr\u003E\u003Cbr\u003E\nThe issue is that after you look at the map, and then go back to looking at the spaceship, you suffer severe lag continuously. To the point where the ship is completely unflyable. i.e.\u003Cbr\u003E\u003Cbr\u003E\n1) Fly ship with 100 Kerbals, everything is great. Awesome job with the optimizations!\u003Cbr\u003E\n2) Look at map... things look great, map is smooth\u003Cbr\u003E\n3) Look back at ship. Everything unbelievably laggy continously. Ship not flyable.\u003Cbr\u003E\n4) Go into IVA, lag is gone. Even\u00A0physics acceleration possible.\u003Cbr\u003E\n5) Look at ship from outside again:\u00A0horrible unflyable lag.\u003Cbr\u003E\n6) Go to tracking station, and back to ship, lag is gone from external view of the ship!\u003Cbr\u003E\n7) look at the map and back at the ship: lag is back.\u003Cbr\u003E\u003Cbr\u003E\nThe physics engine can clearly fly the ship with that many kerbals, even at 4x. Its amazing what they did. But something gets flipped when you look at the map, and stays flipped when you are no longer looking at it. i.e. the ship is non-flyable after looking at the the map.\u003Cbr\u003E\u003Cbr\u003E\nIt kind of like you have a\u00A0Bugatti Veyron that engages the handbrake when you look at the GPS and refuses to release it unless you exit the vehicle. It feels like there is a bug there.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nWhen I saw that going to IVA alleviated the stutter, I thought \u0022wow, to fix this, they probably have to look at the code that they execute when they go to IVA, and paste one of those lines over into the code that runs when you leave map view. That\u0027s a really low hanging fruit as far as performance optimizations go. I\u0027ve got to let them know!\u0022 Its probably not that simple. But I can dream right?\u003Cbr\u003E\u003Cbr\u003E\nThe other thing to mention is that the issue still happens, but in a less showstopping way with smaller numbers of Kerbals. 100 Kerbals is unflyable after looking at the map, 20-30 is laggy but flyable. Even at 10, you might notice a micro-stutter. The game could be that much smoother for everyone if this is fixed, especially for those with space stations.\u003Cbr\u003E\u003Cbr\u003E\nDoes that make sense?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-10-12T09:13:10Z\u0022 title=\u002210/12/2020 09:13  AM\u0022 data-short=\u00223 yr\u0022\u003EOctober 12, 2020\u003C/time\u003E by Alex55\u003C/strong\u003E\n\u003Cbr\u003EAdded note that you don\u0026#039;t need 100 kerbals to experience effects of this bug.\n\u003C/span\u003E\n"},{"CreatedByName":"Serenity","CreatedById":179192,"CreatedDateTime":"2020-10-12T09:29:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223866604\u0022 data-ipsquote-contentid=\u0022197433\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602493809\u0022 data-ipsquote-userid=\u0022170670\u0022 data-ipsquote-username=\u0022Alex55\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 minutes ago, Alex55 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi Boyster,\u003Cbr\u003E\u003Cbr\u003E\nI agree with you premise. However, it\u0027s not a switch map lag, if I\u0027m using the right terminology. I 100% wouldn\u0027t have filed a bug about that\u003Cbr\u003E\nDoes that make sense?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou were perfectly clear from the first post but obviously i failed to make my point.\n\u003C/p\u003E\n\u003Cp\u003E\nI was talking about the simple fix you discovered to combat the fps drops.\n\u003C/p\u003E\n\u003Cp\u003E\nI still stand by my opinion, they are far more urgent bugs and this one doesnt seem to be a simple fix or even worthy to be a bug report.\n\u003C/p\u003E\n\u003Cp\u003E\nIts an extreme state of the game, like overclocking your pc, you even have a simple way to combat the clunkiness.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you see when you close the map that it loads down right all the IVA Kerbals, for a moment there is grey stutter and then they load.\n\u003C/p\u003E\n\u003Cp\u003E\nI am gonna take a wild guess and say than when you close the map it loads 100 Kerbals IVA assets, again...it double loads them and it just cant handle it.\n\u003C/p\u003E\n\u003Cp\u003E\nOr something close to that.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-10-12T09:34:12Z\u0022 title=\u002210/12/2020 09:34  AM\u0022 data-short=\u00223 yr\u0022\u003EOctober 12, 2020\u003C/time\u003E by Boyster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cattette","CreatedById":206142,"CreatedDateTime":"2020-10-12T10:07:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223866585\u0022 data-ipsquote-contentid=\u0022197433\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602485672\u0022 data-ipsquote-userid=\u0022179192\u0022 data-ipsquote-username=\u0022Boyster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Boyster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo offence, but...\n\u003C/p\u003E\n\u003Cp\u003E\nsince the game can handle a ship with 100 Kerbals that is extremely impressive by itself.\n\u003C/p\u003E\n\u003Cp\u003E\nThe minor downside to be a switch map lag and even\u00A0fixable by going to tracking station and back should justify EVERY REASON NOT to submit that bug report.\n\u003C/p\u003E\n\u003Cp\u003E\nFor a game to handle something so big and not call the Kraken is by itself commendable.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyways.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI dont get how having many kerbals in a ship would slow down the game that much. Parts contribute mass, colliders and drag to the game that taxes the physics engine and understandably makes the game run slower. But aren\u0027t Kerbals just a number until you go EVA? What difference is there between a Kerbal inside a vessel and one unit of lets say liquid fuel?\n\u003C/p\u003E\n\u003Cp\u003E\nNow 100 kerbals all on an simultaneous\u00A0EVA causing lag is very understandable to me, but what makes 100 kerbals unloaded Kerbals do to cause performance issues that 100 units of liquid fuel doesn\u0027t?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Serenity","CreatedById":179192,"CreatedDateTime":"2020-10-12T10:40:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223866613\u0022 data-ipsquote-contentid=\u0022197433\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602497230\u0022 data-ipsquote-userid=\u0022206142\u0022 data-ipsquote-username=\u0022Cattette\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, Cattette said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI dont get how having many kerbals in a ship would slow down the game that much. Parts contribute mass, colliders and drag to the game that taxes the physics engine and understandably makes the game run slower. But aren\u0027t Kerbals just a number until you go EVA? What difference is there between a Kerbal inside a vessel and one unit of lets say liquid fuel?\n\u003C/p\u003E\n\u003Cp\u003E\nNow 100 kerbals all on an simultaneous\u00A0EVA causing lag is very understandable to me, but what makes 100 kerbals unloaded Kerbals do to cause performance issues that 100 units of liquid fuel doesn\u0027t?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAgain just a guess but probably the loading and displaying the 100 IVA avatar images/video at the bottom right.\n\u003C/p\u003E\n"},{"CreatedByName":"Alex55","CreatedById":170670,"CreatedDateTime":"2020-10-12T19:10:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223866617\u0022 data-ipsquote-contentid=\u0022197433\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602499227\u0022 data-ipsquote-userid=\u0022179192\u0022 data-ipsquote-username=\u0022Boyster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Boyster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAgain just a guess but probably the loading and displaying the 100 IVA avatar images/video at the bottom right.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm. Thats a good thought. I just tried that at the launch pad.\u003Cbr\u003E\u003Cbr\u003E\nI clicked through all the avatars on the lower right. As I went to the right, there was static for each one at first, but then as I went to the left again, there was no static. At no point was there any lag as a result of loading the avatars. However, if they are being double loaded as you suggest, that could make a difference.\n\u003C/p\u003E\n\u003Cp\u003E\nRE: difficulty of fix. Only squad / private division would know how hard it is to actually do, but this was my thought process: Squad spent a lot of effort optimizing recent versions of KSP. They made complex changes like changing the way the physics was being calculated, and reducing the number of objects they were creating and destroying to make things run faster. That would have required big rewrites. In this case, the engine works great already. It\u0027s just one if statement or two toggled into the wrong state after coming back from the map (I hope). Fixing it would at least quadruple the number of Kerbals comfortably in flight.\u003Cbr\u003E\u003Cbr\u003E\nI don\u0027t think it is\u00A0a coincidence that the lag doesn\u0027t exist when you first start using the ship. I suspect Squad actually did load testing on the Pad to optimize it.\u003Cbr\u003E\u003Cbr\u003E\nMy hunch is that the game uses an event loop internally, b/c it is built using Unity. Unity spools through all the events in that loop every frame (possibly multiple times). When you look at the map, a few events are added to the loop, and unity proceeds to try and execute them every frame, whether the map is loaded or not. When you enter into IVA, the code that switches to IVA removes the events and things run smooth again. When you exit, they are added back on, etc. Whatever those events are, we already know that the game doesn\u0027t need them for the simulation\u00A0because it runs much better without them in the time before you look at the\u00A0map. This is probably just a case where the wrong flag was left on after switching away from the map.\n\u003C/p\u003E\n\u003Cp\u003E\nFixing this would let some people use larger ships/stations, but it would also let people running on laptops have a more playable game experience with fewer Kerbals.\u003Cbr\u003E\u003Cbr\u003E\nI would be really really grateful if Squad / Private Division took a look to see what the cause was.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-10-15T10:21:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223866521\u0022 data-ipsquote-contentid=\u0022197433\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602462075\u0022 data-ipsquote-userid=\u0022170670\u0022 data-ipsquote-username=\u0022Alex55\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/11/2020 at 8:21 PM, Alex55 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHi,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve found a reproducible bug in\u00A0KSP:\n\u003C/p\u003E\n\u003Cp\u003E\n[KSP Version]: 1.10.1.2939 (WindowsPlayer x64) (x64) en-us\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe gist of it is that the frame rate drops after the first time that you look at the map within a flight and then return to looking at your ship. The drop in frame rate is proportional to the number of Kerbals on board. The drop in frame rate is not present (or less obvious) when you switch to IVA by pressing \u0027c\u0027, or go to the tracking station and then go to the flight again from there. However, the tracking station method will only restore a good framerate until you look at the map again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHave you files a bug report?\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2020-10-22T18:11:45Z","Content":"\n\u003Cp\u003E\nThere is a recent description of something very similar on the bug tracker (\u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/26155\u0022 rel=\u0022external nofollow\u0022\u003Elink\u003C/a\u003E) but not a real bug report.\u00A0 I\u0027ll mention the very good report in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E on that bug-tracker item.\n\u003C/p\u003E\n\u003Cp\u003E\nVersion 1.7.3 does not show the problem, but I agree that version\u00A01.10.1 obviously does.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSomeone else noticed it and revived a very old thread (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/128789-lots-of-kerbals-on-board-massive-fps-drop/\u0022 rel=\u0022\u0022\u003Elink\u003C/a\u003E).\u00A0\u00A0 The module-manager patch in that thread ( \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E@PART[*]:HAS[@INTERNAL[*]] {!INTERNAL,* {}}\u003C/span\u003E\u00A0) solves the low frame-rate for me but of course also removes all views of the inside of the craft (all IVA views).\n\u003C/p\u003E\n\u003Cp\u003E\nAnother workaround is, each time after returning from map view, to EVA a Kerbal and reboard him, or switch to some other craft-or-kerbal in the same physics\u00A0bubble, then back to the problematic craft.\n\u003C/p\u003E\n\u003Cp\u003E\nI notice that memory use goes quickly to 98%, which makes me suspect the method of IVA rendering is over-using garbage-collected memory.\n\u003C/p\u003E\n"},{"CreatedByName":"Alex55","CreatedById":170670,"CreatedDateTime":"2020-11-13T22:12:34Z","Content":"\n\u003Cp\u003E\nI hadn\u0027t filed a bug report on this yet. Thanks so much OHara for the additional investigation, finding the related bug and mentioning this thread there, as well as linking to the workaround.\n\u003C/p\u003E\n"},{"CreatedByName":"RoninFrog","CreatedById":203049,"CreatedDateTime":"2020-11-14T17:25:43Z","Content":"\n\u003Cp\u003E\nHave you tried turning the IVA portraits off?\n\u003C/p\u003E\n"}]}