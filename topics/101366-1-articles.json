{"TopicId":101366,"ForumId":70,"TopicTitle":"Unresponsive Kerbal after rover crash","CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-03-06T05:38:53Z","PageNum":1,"Articles":[{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-03-06T05:38:53Z","Content":"Running Windows 8.1 | 64-bit | 8gb mem, KSP v0.90, with SCANsat\\_v10, Romfarer\\_LazorSystem\\_v35, and Claw\u0027s StockBugFixModules.v0.1.7d (DLLs: AnchoredDecouplerFix, EVAEjectionFix, KerbalDebrisFix)\n\nI have a rover on Minmus which has crashed; Going too fast down a mountain and then slammed into the flats at the bottom, 2 flat tires, rolled and flipped several times before coming to a stop (*sort of*).\n\nThe rover landed upright, smashed, with the Kerbal driver standing in the external command seat. The rover continues to roll (very slowly, circling in reverse) even though all battery power has been shut down; I can still right-click the batteries to turn them on/off. No other part of the rover is controllable. The Kerbal is not responsive or controllable; When right-clicked however, his EVA propellant shows. The Resources display shows both battery level and EVA propellant levels.\n\nExamining the Persistent file, the Vessel declaration for the rover (named: ***M-Sci-Rover***) is not listed as debris; It\u0027s listed as \u0027type = Rover\u0027. The Kerbal in question (named: ***Siggas***), is listed as a Part with \u0027name = kerbalEVA\u0027, and \u0027state = Seated (Command)\u0027... yet ***Siggas*** is standing, not sitting ... see picture below.\n\nClaw\u0027s StockBugFixModules for some reason are not preventing this issue. I\u0027ve also reviewed Claw\u0027s thread for the mod, and have tried (manually editing the persistent file) all of the listed suggestions - to no avail.\n\nMy persistent.sfs file can be obtained [here](https://www.dropbox.com/s/jk4t5k5oqq0f5q3/persistent.sfs?dl=0).\n\nThere is a second rover present (also named: ***M-Sci-Rover***), sent to pick up ***Siggas*** to continue the mission; It is operational, autonomous.\n\nAny suggestions or solutions would be appreciated. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n![Qrmg9yi.png](http://i.imgur.com/Qrmg9yi.png)"},{"CreatedByName":"Vorg","CreatedById":74652,"CreatedDateTime":"2015-03-06T09:07:32Z","Content":"I had a kerbal get pinned between to craft while EVA and did not respond for several seconds. Maybe the seacretly added kerbals getting knocked out?"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2015-03-06T17:28:13Z","Content":"This is an old stock bug that has to do with the kerbal getting classified as debris, to fix it you have to edit your save games persistance.sfs in a text editor, also it looks like some one has written a plugin that will actively fix this issue, info on the bug and fixes as well as a link to the plugin can all be found [here](https://forum.kerbalspaceprogram.com/threads/75586-Master-Thread-Unresponsive-Kerbals-in-EVA) ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nCheers\n\n**Edit:** I guess I should read the entire post before replying ![:blush:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif) lol. interesting I\u0027ll go over your save and see what I can find\n\n**Edited \u003Ctime datetime=\u00222015-03-06T17:32:00Z\u0022 title=\u002203/06/2015 05:32  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 6, 2015\u003C/time\u003E by Akira\\_R**"},{"CreatedByName":"TheMoonRover","CreatedById":136199,"CreatedDateTime":"2015-03-06T18:12:41Z","Content":"The weird thing is, in the persistence file, the kerbal is still listed as a part of the ship. Normally the bug is caused by the kerbal becoming detached from the ship and being incorrectly flagged as debris, but this is not what appears to have happened in your case, which is why the bugfix module thing and the usual solutions didn\u0027t work. Have you tried switching to the other vessel, switching back again, then trying to right-click the seat? If that doesn\u0027t work, you could try ramming (or pushing) one rover with the other. If the kerbal is not attached to the rover and isn\u0027t wedged in place, he won\u0027t move when the rover does, so will fall off it.\n\nYou could try docking with it (if it has a docking port) or clawing at it.\n\nEDIT: Are you using 64-bit KSP? You said your computer is 64-bit, but is your copy of the game? 64-bit KSP has a lot of weird bugs like that.\n\n**Edited \u003Ctime datetime=\u00222015-03-06T18:30:08Z\u0022 title=\u002203/06/2015 06:30  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 6, 2015\u003C/time\u003E by TheMoonRover**\n  \ntypo"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-03-06T18:35:38Z","Content":"\u003E \n\u003E The weird thing is, in the persistence file, the kerbal is still listed as a part of the ship. Normally the bug is caused by the kerbal becoming detached from the ship and being incorrectly flagged as debris, but this is not what appears to have happened in your case, which is why the bugfix module thing and the usual solutions didn\u0027t work. Have you tried switching to the other vessel, switching back again, then trying to right-click the seat? If that doesn\u0027t work, you could try ramming (or pushing) one rover with the other. If the kerbal is not attached to the rover and isn\u0027t wedged in place, he won\u0027t move when the rover does, so will fall off it.\n\u003E You could try docking with it (if it has a docking port) or clawing at it.\n\nOne would think the Kerbal is detached from the rover, because he\u0027s standing in the seat... but honestly I have no idea why this is so, still being seen as a \u0027Part\u0027. I\u0027ve switched back and forth between the rovers, and all the other craft on have on Minmus as well. I\u0027ve even gone to KSC and come back, and exited the game and come back; The situation remains the same.\n\nI can right-click the Kerbal, but all that shows is his EVA propellant level. I can right-click on the batteries and turn them on/off, but no other parts of the rover respond (no right-clicking on the science experiments, or lights, etc).\n\nIn my reviewing the persistent file, I went back into the game and moved another of my Kerbals out of the mobile science lab and onto the surface - EVA. Examining the persistent data between the two of them, nothing looks abnormal; To my eye anyway, I\u0027m not very up on all the variables used in the persistent script. Maybe I should take some time and look at KSP\u0027s dev docs and learn more.\n\nOne thing I\u0027ve not tried is ramming the rover with the other. *Good suggestion*. I\u0027m going to go and try that right now and see if he moves / falls off."},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-03-06T19:32:14Z","Content":"Ok, well this is bizarre. I went back into the game to try and ram the dead rover with the other working rover... and I find that Kerbal Siggas is sitting in his seat rather than standing. Not only that, but I also had full control over him (right-click menu). So I had him get up and off the broken rover and walked him over to the working one (after gathering the science from the remaining experiments, 3 of them, successfully), and had him board its seat. I was going to drive him over to the rover complex (mobile science lab) which is not too far away, but decided to exit the game and come post results and screenies here. However, when I pressed the Esc(ape) key to get back to the KSC and menus - the game crashed. I\u0027ve not tried to restart it yet. I want to look at the crash data, see if I can make some sense of it. Wondering if I should submit it to the Devs, especially with v1.0 release due at this point.\n\n![RgK5O2K.png](http://i.imgur.com/RgK5O2K.png)\n\n![yHEBHD2.png](http://i.imgur.com/yHEBHD2.png)\n\n- - - Updated - - -\n\nCan\u0027t read the dump file, but the error text file says: \u0022KSP.exe caused an Access Violation.\u0022 ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif)"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2015-03-06T20:22:30Z","Content":"Access Violations are usually RAM crashes if I remember correctly, does your output\\_log.txt show a lot of NREs before the crash?"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-03-07T02:17:06Z","Content":"\u003E \n\u003E Access Violations are usually RAM crashes if I remember correctly, does your output\\_log.txt show a lot of NREs before the crash?\n\n\u0022NREs\u0022? Not sure what that means.\n\nFrom what I\u0027m looking at, all seemed somewhat normal(?). Here\u0027s a portion of the log from the point where I pressed the Esc key...\n\n    [HighLogic]: =========================== Scene Change : From FLIGHT to SPACECENTER (Async) =====================(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)InvalidOperationException: Collection was modified; enumeration operation may not execute.  at System.Collections.Generic.List\u00601\u002BEnumerator[UnityEngine.Collider].VerifyState () [0x00000] in :0   at System.Collections.Generic.List\u00601\u002BEnumerator[UnityEngine.Collider].MoveNext () [0x00000] in :0   at Part.OnDestroy () [0x00000] in :0 (Filename:  Line: -1)[LazorEVA: Disposing LazorEVA system on M-Sci-Rover](Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)[LazorEVA: Disposing LazorEVA system on Jan Kerman](Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)UnloadTime: 88.870270 msUnloading 4 Unused Serialized files (Serialized files now loaded: 0 / Dirty serialized files: 0)Unloading 1472 unused Assets to reduce memory usage. Loaded Objects now: 90847.Total: 273.117584 ms (FindLiveObjects: 5.252869 ms CreateObjectMapping: 6.833477 ms MarkObjects: 255.410141 ms  DeleteObjects: 5.160923 ms)Crash!!!\n\n- - - Updated - - -\n\nI should note that ***Jan Kerman*** was not the Kerbal on the rover, ***Siggas*** was. ***Jan*** was on EVA, standing at the base of the original (wrecked) rover\u0027s complex (mobile science lab, base of operations). See my notes above about that."},{"CreatedByName":"TheMoonRover","CreatedById":136199,"CreatedDateTime":"2015-03-07T02:37:42Z","Content":"NRE is short for NullReferenceException; they are either game breaking, create excessive lag, or have no apparent effect (usually one or both first two). They display much like the InvalidOperationException in your log, although I\u0027ve never seen that before. It\u0027s probably unrelated, although that\u0027s just a guess.\n\n**Edited \u003Ctime datetime=\u00222015-03-07T02:40:02Z\u0022 title=\u002203/07/2015 02:40  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 7, 2015\u003C/time\u003E by TheMoonRover**"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-03-07T14:09:28Z","Content":"This is a similar event to when the kerbal is forcefully separated from the seat and ends up frozen. However, as you have discovered, there are times when the kerbal can get stuck in the seat.\n\nIt\u0027s a related bug for sure, but I don\u0027t know what the trigger is for this one exactly. It certainly happens during crashes (just like when the kerbal ends up as external debris), where the kerbal ends up ragdolled in the seat, but for some reason doesn\u0027t separate. Because I haven\u0027t really been able to replicate this one, my fix does not address this issue. However, I think I can maybe fake a save game and give it a try. My goal is to do some work on the fixes this weekend, and hopefully I can follow through on that.\n\nIf you want to fix the guy in the seat, try this post (I\u0027m not sure if this is the one you were referring to earlier). [http://forum.kerbalspaceprogram.com/threads/75586-Master-Thread-Unresponsive-Kerbals-in-EVA?p=1072667\u0026viewfull=1#post1072667](https://forum.kerbalspaceprogram.com/threads/75586-Master-Thread-Unresponsive-Kerbals-in-EVA?p=1072667\u0026viewfull=1#post1072667)\n\nAs for NREs, they happen when the game tries to reference something that does not exist. They will pretty much always screw up the game in some way, but as noted above, the affects greatly vary. A lot of times it appears like they don\u0027t cause a problem until you stumble onto the right spot in the game where everything falls apart. Like GUI NREs that cause a ship to infinitely accelerate when trying to time warp. Seemingly unconnected events with catastrophic results.\n\nHopefully some bit of info in the above is useful for you. My fix won\u0027t do anything about this situation, since it\u0027s not programmed to (at this time).\n\nCheers,\n\n~Claw"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-03-07T17:52:00Z","Content":"\u003E \n\u003E NRE is short for NullReferenceException; they are either game breaking, create excessive lag, or have no apparent effect (usually one or both first two). They display much like the InvalidOperationException in your log, although I\u0027ve never seen that before. It\u0027s probably unrelated, although that\u0027s just a guess.\n\nOk, yes, thank you. And, yes, I did find a few... SCANsat related. Don\u0027t know if that\u0027s a bug or related to what happened here though.\n\n    PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_LazorSystem/part/Romfarer_LazorSystem\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)NullReferenceException: Object reference not set to an instance of an object  at System.Guid.BaseToString (Boolean h, Boolean p, Boolean  [0x00000] in :0   at System.Guid.ToString () [0x00000] in :0   at Romfarer.LazorSystem.ToString () [0x00000] in :0   at System.String.Concat (System.Object[] args) [0x00000] in :0   at Romfarer.LazorSystem.IsActiveLazorSystem () [0x00000] in :0   at Romfarer.LazorSystem.onPartDestroy () [0x00000] in :0   at Part.OnDestroy () [0x00000] in :0 UnityEngine.Object:DestroyImmediate(Object, Boolean)UnityEngine.Object:DestroyImmediate(Object)PartLoader:StripComponent(GameObject)PartLoader:CreatePartIcon(GameObject, Single\u0026)PartLoader:ParsePart(UrlConfig, ConfigNode):MoveNext()UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator):MoveNext()UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)PartLoader:StartLoad():MoveNext()(Filename:  Line: -1)PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_LazorSystemStack/part/Romfarer_LazorSystemStack\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)NullReferenceException: Object reference not set to an instance of an object  at System.Guid.BaseToString (Boolean h, Boolean p, Boolean  [0x00000] in :0   at System.Guid.ToString () [0x00000] in :0   at Romfarer.LazorSystem.ToString () [0x00000] in :0   at System.String.Concat (System.Object[] args) [0x00000] in :0   at Romfarer.LazorSystem.IsActiveLazorSystem () [0x00000] in :0   at Romfarer.LazorSystem.onPartDestroy () [0x00000] in :0   at Part.OnDestroy () [0x00000] in :0 UnityEngine.Object:DestroyImmediate(Object, Boolean)UnityEngine.Object:DestroyImmediate(Object)PartLoader:StripComponent(GameObject)PartLoader:CreatePartIcon(GameObject, Single\u0026)PartLoader:ParsePart(UrlConfig, ConfigNode):MoveNext()UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator):MoveNext()UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)PartLoader:StartLoad():MoveNext()(Filename:  Line: -1)PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_LazorSystemStackBig/part/Romfarer_LazorSystemStackBig\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)NullReferenceException: Object reference not set to an instance of an object  at System.Guid.BaseToString (Boolean h, Boolean p, Boolean  [0x00000] in :0   at System.Guid.ToString () [0x00000] in :0   at Romfarer.LazorSystem.ToString () [0x00000] in :0   at System.String.Concat (System.Object[] args) [0x00000] in :0   at Romfarer.LazorSystem.IsActiveLazorSystem () [0x00000] in :0   at Romfarer.LazorSystem.onPartDestroy () [0x00000] in :0   at Part.OnDestroy () [0x00000] in :0 UnityEngine.Object:DestroyImmediate(Object, Boolean)UnityEngine.Object:DestroyImmediate(Object)PartLoader:StripComponent(GameObject)PartLoader:CreatePartIcon(GameObject, Single\u0026)PartLoader:ParsePart(UrlConfig, ConfigNode):MoveNext()UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator):MoveNext()UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)PartLoader:StartLoad():MoveNext()(Filename:  Line: -1)PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_Lazor_Blue/part/Romfarer_Lazor_Blue\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_Lazor_Green/part/Romfarer_Lazor_Green\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_Lazor_Magenta/part/Romfarer_Lazor_Magenta\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_Lazor_Red/part/Romfarer_Lazor_Red\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)PartLoader: Compiling Part \u0027Romfarer/Parts/Romfarer_Lazor_Yellow/part/Romfarer_Lazor_Yellow\u0027(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)PartLoader: Compiling Part \u0027SCANsat/Parts/MapTraq/part/SCANsat_Tracker\u0027 ... etc etc etc\n\n\u003E \n\u003E This is a similar event to when the kerbal is forcefully separated from the seat and ends up frozen. However, as you have discovered, there are times when the kerbal can get stuck in the seat.\n\u003E It\u0027s a related bug for sure, but I don\u0027t know what the trigger is for this one exactly. It certainly happens during crashes (just like when the kerbal ends up as external debris), where the kerbal ends up ragdolled in the seat, but for some reason doesn\u0027t separate. Because I haven\u0027t really been able to replicate this one, my fix does not address this issue. However, I think I can maybe fake a save game and give it a try. My goal is to do some work on the fixes this weekend, and hopefully I can follow through on that.\n\u003E \n\u003E If you want to fix the guy in the seat, try this post (I\u0027m not sure if this is the one you were referring to earlier). [http://forum.kerbalspaceprogram.com/threads/75586-Master-Thread-Unresponsive-Kerbals-in-EVA?p=1072667\u0026viewfull=1#post1072667](https://forum.kerbalspaceprogram.com/threads/75586-Master-Thread-Unresponsive-Kerbals-in-EVA?p=1072667\u0026viewfull=1#post1072667)\n\u003E \n\u003E As for NREs, they happen when the game tries to reference something that does not exist. They will pretty much always screw up the game in some way, but as noted above, the affects greatly vary. A lot of times it appears like they don\u0027t cause a problem until you stumble onto the right spot in the game where everything falls apart. Like GUI NREs that cause a ship to infinitely accelerate when trying to time warp. Seemingly unconnected events with catastrophic results.\n\u003E \n\u003E Hopefully some bit of info in the above is useful for you. My fix won\u0027t do anything about this situation, since it\u0027s not programmed to (at this time).\n\u003E \n\u003E Cheers,\n\u003E \n\u003E ~Claw\n\nAs mentioned, I did try the fixes, but no go. This is something different. I\u0027m not sure if the crash caused the SCANsat NRE probem or if it\u0027s a bug in the mod... or if it has anything to do with preventing your fixes from working.\n\nI can see I\u0027ve got a few tests to check out here lol."}]}