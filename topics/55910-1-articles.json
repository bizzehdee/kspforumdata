{"TopicId":55910,"ForumId":16,"TopicTitle":"Draining docked fueltanks?","CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T15:16:43Z","PageNum":1,"Articles":[{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T15:16:43Z","Content":"\n\u003Cp\u003ESo, my new \u0022Heavy Freighter\u0022 has made its maiden flight.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://hirnstroeme.files.wordpress.com/2013/12/screenshot815.png\u0022 alt=\u0022screenshot815.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EQuite huge... yes. (Don\u0027t ask about lag)\u003C/p\u003E\u003Cp\u003EIn this model it has a TWR of 0.27, weights in fully fueled and equipped 632 tons and has 592 parts.\u003C/p\u003E\u003Cp\u003EBUT! the delta-V without any modifications is an abysmal (measured by MechJeb) 1700 m/s.\u003C/p\u003E\u003Cp\u003EYes, I know that this is not exactly true. I can of course transfer fuel from the \u0022payload\u0022 to the tanks feeding the engines.\u003C/p\u003E\u003Cp\u003EBut I can\u0027t do that while burning without offsetting the balance. With that many SAS modules it might still work, but it is inelegant.\u003C/p\u003E\u003Cp\u003E(Hm.... it IS possible, the balance should not be offset, since I would be transferring fuel down a \u0022line\u0022 of tanks, so it should not change the center of mass... still. Inelegant.)\u003C/p\u003E\u003Cp\u003E(EDIT: It is not possible, I think. Because while I am filling one tank, the other will run dry... I would have to go around in circles. Doable. But not elegant.)\u003C/p\u003E\u003Cp\u003EI would very much prefer that the docked tanks of the three payload sections were to be drained from the start. I was kind of hoping it would do that, because if I build a vessel in the VAB with a docking port in between instead of decoupler, fuel is drained from top to bottom.\u003C/p\u003E\u003Cp\u003EBut not so when the top tanks are added later by docking.\u003C/p\u003E\u003Cp\u003EAm I overlooking some feature? Can I tell the fuel which way it should flow through the docking ports?\u003C/p\u003E\u003Cp\u003EEDIT: Oh, and there some other things that need to be changed in this design. Mainly the small docking ports on the structural cones. Not stable enough. They don\u0027t break, but kind of wobble in line. But that is just a problem of design, not concept.\u003C/p\u003E\u003Cp\u003EAnd still another EDIT: Yes, those docking ports are all docked.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-12T16:04:09Z\u0022 title=\u002212/12/2013 04:04  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 12, 2013\u003C/time\u003E by Tokay Gris\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T15:52:22Z","Content":"\n\u003Cp\u003EHm.... some testing showed that it DOES work. The problem is, it doesn\u0027t work for all the tanks.\u003C/p\u003E\u003Cp\u003EPossibly just the \u0022first\u0022 one to dock. I can\u0027t really check that, but that would be an explanation.\u003C/p\u003E\u003Cp\u003EI tried disabling and reenabling cross feed, but that doesn\u0027t seem to tell the ports to let the stuff through.\u003C/p\u003E\u003Cp\u003EIt is possible and doable to transfer fuel while burning without changing the center of mass too much and without letting tanks run dry. I just have to go \u0027round an \u0027round refueling the \u0022feeding\u0022 tanks from top to bottom.\u003C/p\u003E\u003Cp\u003E\u0022easiest\u0022 would be to use fuel lines... but of course, those can\u0027t be added after launch. And I would like to not use Mods except MechJeb. But is there one for that purpose? KAS is not it... it doesn\u0027t transfer fuel without actually click-ALT-click.... or does it? Haven\u0027t used it much lately.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-12-12T15:58:35Z","Content":"\n\u003Cp\u003EAre you docking each segment together individually, or are you connecting multiple docking ports at the same time? Only the \u0022primary\u0022 connection will transfer fuel in these multiple-port type of connections. \u003C/p\u003E\u003Cp\u003EThe only realistic solution is to use TAC fuel balancer. It is perfect for this kind of complicated situation where the only alternative is to constantly balance the fuel by hand.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2013-12-12T16:00:30Z","Content":"\n\u003Cp\u003EUnfortunately, the fact that your docking ports are all docked doesn\u0027t really help because there are two ways how a docking port may dock, if docked one way it lets fuel flow, if docked the other way it doesn\u0027t.\u003C/p\u003E\u003Cp\u003EThe first way (which lets the fuel flow) is the standard way - if you dock a ship using just one docking port, all is ok.\u003C/p\u003E\u003Cp\u003EThe second way is when you dock two ships using two or more docking ports at once, making cycles of parts in your ship. Out of all those docked ports only one is docked the \u0022first way\u0022 and lets fuel flow, the whole rest is docked the second way. These ports are not technically attached, the game just puts an invisible strut between them so they appear docked. Fuel cannot flow there.\u003C/p\u003E\u003Cp\u003ESo if you make sure your freighter is docked using only one docking port to the payload, you can draw fuel from the payload with no problem. With using more docking ports, it will cause chaos.\u003C/p\u003E\n"},{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T16:03:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EAre you docking each segment together individually, or are you connecting multiple docking ports at the same time? Only the \u0022primary\u0022 connection will transfer fuel in these multiple-port type of connections.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt the same time. Well, you nailed it, it seems. Thanks for that. Will mark as \u0022answered\u0022.\u003C/p\u003E\u003Cp\u003EBut that gives me another idea. I could make a fuel part that consists of six tanks with docking ports and nothing else. If I attached them all individually, they should then - according to you - feed the engines. And I could still use the upper modules to attach later. IF such a six-part module is stable enough. It could introduce the same wobbling I was trying to avoid. But will test that.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThe only realistic solution is to use TAC fuel balancer. It is perfect for this kind of complicated situation where the only alternative is to constantly balance the fuel by hand.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will try that one. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T16:06:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003ESo if you make sure your freighter is docked using only one docking port to the payload, you can draw fuel from the payload with no problem. With using more docking ports, it will cause chaos.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot exactly chaos. I just tried and it does work to go \u0027round an \u0027round and refuel without offbalancing the vessel. It just is work and inelegant. But it works which is worth something.\u003C/p\u003E\u003Cp\u003EBut thanks. You also solved my problem. Namely: No solution without mods...\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2013-12-12T16:17:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tokay Gris\u0022 data-cite=\u0022Tokay Gris\u0022\u003E\u003Cdiv\u003ENo solution without mods...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere\u0027s plenty of solutions which don\u0027t require mods.\u003C/p\u003E\n"},{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T16:20:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EThere\u0027s plenty of solutions which don\u0027t require mods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot for that vessel. Well, not that I see how. I can\u0027t really dock each port separately. The payload modules all have six ports.\u003C/p\u003E\u003Cp\u003EAnd the solution I currently use (refueling in circles) is not really elegant. It does work, though.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2013-12-12T16:41:06Z","Content":"\n\u003Cp\u003EWell of course, you can\u0027t expect it to start behaving differently without design change. \u003C/p\u003E\u003Cp\u003E1/ I don\u0027t understand why can\u0027t you use just one docking port. \u003C/p\u003E\u003Cp\u003E2/ The payload seems to consist of a lot of equal modules. Maybe instead of connecting them all together radially, you could connect them as individual columns to the engine frame. There are even ways how to dock them all at once and then to dock to the frame by columns, it\u0027s all up to how you build the payload.\u003C/p\u003E\u003Cp\u003E3/ If it needs to draw fuel from its payload, maybe you could just give it bigger base fuel reserve. Pulling all those batteries and SAS units along just to throw them away at your destination is a waste.\u003C/p\u003E\u003Cp\u003EEdit: here\u0027s just one of possible options:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/fPTmeQm.png\u0022 alt=\u0022fPTmeQm.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-12T16:53:53Z\u0022 title=\u002212/12/2013 04:53  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 12, 2013\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T17:22:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003E1/ I don\u0027t understand why can\u0027t you use just one docking port.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe idea was to reduce the wobble. Which works. With six docking ports (but I guess it would work just as well with three) there is no noticeable wobble in the tangential direction. Because of the design flaw with the normal ports instead of the senior ones there is longitudinal wobble. But that can be changed with different design.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E2/ The payload seems to consist of a lot of equal modules. Maybe instead of connecting them all together radially, you could connect them as individual columns to the engine frame. There are even ways how to dock them all at once and then to dock to the frame by columns, it\u0027s all up to how you build the payload.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe first part is what I will try next.\u003C/p\u003E\u003Cp\u003EThe second part... how does that work? The whole payload docks as is with one port being the one steered from. How do you dock that by column afterwards?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E3/ If it needs to draw fuel from its payload, maybe you could just give it bigger base fuel reserve. Pulling all those batteries and SAS units along just to throw them away at your destination is a waste.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat poses the problem of getting that monster into orbit. The engine module weights in at 220 tons. Slightly above the actual capacity of my heavy lifter and that only works because I used a docking port instead of a decoupler, so part of the fuel of the engine part goes to the big mainsails. Another version of this design idea dropped the lifting stages at apogee and then turned around to use the nuclear engines to circularize.\u003C/p\u003E\u003Cp\u003EThe SAS modules are actually needed (though not that many) because without them this beast is way to sluggish orienting itself in space. Probably not the batteries, though. Granted. But put on the outer columns I don\u0027t get the stability problems I get when I put it in the center column. Probably could use some smaller batteries and not the inline ones.\u003C/p\u003E\u003Cp\u003EThe SAS modules and batteries on the payload modules are mainly because it needs to dock. But that is an idea. Design a payload that can jettison those no longer needed parts once docked to the engine module. Will think about that and eventually try that out.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EEdit: here\u0027s just one of possible options:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHm... let me try to understand that. You mean docking the fuel tanks individually (not as a whole module) and then docking a module like mine and decouple the center column afterwards?\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2013-12-12T18:48:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tokay Gris\u0022 data-cite=\u0022Tokay Gris\u0022\u003E\u003Cdiv\u003EThe second part... how does that work? The whole payload docks as is with one port being the one steered from. How do you dock that by column afterwards?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s in that picture. If you have modules docked in a circle and you undock the \u0022main\u0022 port, it will detach completely. But because the magnetism is off just for that one just undocked port, it will redock and make another \u0022main\u0022 connection. If you build it the right way in the VAB, you will know which port to undock so it redocks the right way.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-12T18:51:53Z\u0022 title=\u002212/12/2013 06:51  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 12, 2013\u003C/time\u003E by Kasuha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-12T21:45:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EIf you have modules docked in a circle and you undock the \u0022main\u0022 port, it will detach completely. But because the magnetism is off just for that one just undocked port, it will redock and make another \u0022main\u0022 connection.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry. I don\u0027t get it.\u003C/p\u003E\u003Cp\u003EIf I decouple the \u0022main\u0022 port, it will be disconnected, but the others are still connected. Right? \u003C/p\u003E\u003Cp\u003EOr hm.... I must try this.\u003C/p\u003E\u003Cp\u003EEDIT and later. I couldn\u0027t test it yet.\u003C/p\u003E\u003Cp\u003EIf I understand you correctly, the \u0022main\u0022 port is undocked, magnetism is off, but because of the structure it redocks and changes the \u0022main\u0022 port. That could actually be the solution. If it works that way. I was assuming that a once undocked port had a kind of \u0022dormant\u0022 state until you get a certain distance to it.\u003C/p\u003E\u003Cp\u003EBut it could be that this \u0022dormant\u0022 state is only the magnetism (not the docking itself) and that it actually redocks again.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EIf you build it the right way in the VAB, you will know which port to undock so it redocks the right way.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, that is not a problem. I can find out which port is the \u0022main\u0022 just fine. Just fire up the engines and see which tank is drained. If it is the one on the engine module, then it is not the \u0022main\u0022. If it is the one in the fuel module, then it is the \u0022main\u0022.\u003C/p\u003E\u003Cp\u003EAnd - if this works the way you say - I can test if it actually does do what I how it will do.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-12T23:44:12Z\u0022 title=\u002212/12/2013 11:44  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 12, 2013\u003C/time\u003E by Tokay Gris\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tokay Gris","CreatedById":58301,"CreatedDateTime":"2013-12-14T01:25:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kasuha\u0022 data-cite=\u0022Kasuha\u0022\u003E\u003Cdiv\u003EIt\u0027s in that picture. If you have modules docked in a circle and you undock the \u0022main\u0022 port, it will detach completely.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust tested this. The \u0022main\u0022 port undocks. The rest of the module stays docked.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EBut because the magnetism is off just for that one just undocked port, it will redock and make another \u0022main\u0022 connection.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot in my test. The undocked part stays undocked and another connection is now \u0022main\u0022, i.e. it drains fuel from the tank above it.\u003C/p\u003E\u003Cp\u003ESo - unless I understood you wrongly - I end up with five of the six ports still docked, a new \u0022main\u0022 port that draws fuel from the tank above.\u003C/p\u003E\u003Cp\u003ESo, basically, same as before, except one port is no longer attached. In view of stability (ok, so with six ports not such a big issue) a negative result.\u003C/p\u003E\u003Cp\u003EIt would be an improvement if the other five columns were now draining the tank above, but still only one does this.\u003C/p\u003E\u003Cp\u003ESo, back to the drawing board.\u003C/p\u003E\u003Cp\u003ENext try is attaching six single tanks seperately to the engine module and putting one combined payload module on top for stability.\u003C/p\u003E\n"}]}