{"TopicId":113206,"ForumId":16,"TopicTitle":"DeltaV calculated by KerbalEngineer seems not right??","CreatedByName":"hypersonic","CreatedById":146460,"CreatedDateTime":"2015-06-17T13:31:49Z","PageNum":1,"Articles":[{"CreatedByName":"hypersonic","CreatedById":146460,"CreatedDateTime":"2015-06-17T13:31:49Z","Content":"\n\u003Cp\u003E\u003Cimg src=\u0022http://pan.baidu.com/s/1mgpEb7U\u0022 alt=\u00221mgpEb7U\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://pan.baidu.com/s/1pJzHv5p\u0022 alt=\u00221pJzHv5p\u0022\u003E\u003C/p\u003E\u003Cp\u003Eany ideas why adding an ion thruster with 210 unit of xenon gas adds addition 4891m/s of deltaV??\u003C/p\u003E\u003Cp\u003EI tested it and find out it\u0027s not right.\u003C/p\u003E\u003Cp\u003ECan anyone figure it out?\u003C/p\u003E\u003Cp\u003EThanks!!\u003C/p\u003E\u003Cp\u003EEdit: I send pics to #9.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-17T18:33:51Z\u0022 title=\u002206/17/2015 06:33  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 17, 2015\u003C/time\u003E by hypersonic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-06-17T13:51:48Z","Content":"\n\u003Cp\u003EWelcome aboard!\u003C/p\u003E\u003Cp\u003ECan\u0027t see your pics, but that\u0027s a reasonable amount of dV to be added by an ion thruster to a small craft. How did you test to find out it\u0027s wrong?\u003C/p\u003E\n"},{"CreatedByName":"Dawnkeeper","CreatedById":146462,"CreatedDateTime":"2015-06-17T13:52:47Z","Content":"\n\u003Cp\u003EHow did you test it? In orbit or on the surface? Without changing settings KER will display the orbital values and they greatly differ from the atmospheric ones.\u003C/p\u003E\n"},{"CreatedByName":"hypersonic","CreatedById":146460,"CreatedDateTime":"2015-06-17T15:24:37Z","Content":"\n\u003Cp\u003EThanks for replying! this is my first time post on this forum, can\u0027t figure out how to sent pics...\u003C/p\u003E\u003Cp\u003EI test in space of course.\u003C/p\u003E\u003Cp\u003EThe problem arise when I fly satellite with an ion thruster in the middle and liquid fuel engines attached radially, dV shown is above 10km/s, but actually feels like a few thousand...\u003C/p\u003E\u003Cp\u003Eso I made up this new test prob: 1. choose a MK1 command pod. 2 connect Oscar-B fuel tank,FL-T200 and rocketmax X200-8 fuel tank 3.connect a LV-909 \u0027Terrier\u0027 engine on the bottom. so the TWR is 0.85, Dv= 4346 and burn 4m 53.2s.\u003C/p\u003E\u003Cp\u003ENext attach small Xenon container on top of MK1 pod with an ion thruster, change Xenon gas to 140 units so the two engine burn about the same time.\u003C/p\u003E\u003Cp\u003Eignore the thrust direction... have no influence on KerbalEngineer calculation. the result is TWR=0.84 and Dv=9237\u003C/p\u003E\u003Cp\u003ETherefore adds additional 140 unit of Xenon gas and an ion thruster adds 4891m/s ?? It\u0027s not possible, just estimate it, using TWR and burning time.\u003C/p\u003E\u003Cp\u003EHope someone will help me, Thanks:D\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-06-17T15:41:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hypersonic\u0022 data-cite=\u0022hypersonic\u0022\u003E\u003Cdiv\u003EI test in space of course.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is a problem. Expending 1000m/s of dV rarely results in a speed change of 1000m/s. It may be more or less depending on where in the trajectory it is expended, especially so for a low TWR vessel like an ion propelled one.\u003C/p\u003E\u003Cp\u003ECan you put a pic or two of your vessel up on imgur.com? I tried looking at your pics separately but can\u0027t seem to see them in high resolution.\u003C/p\u003E\n"},{"CreatedByName":"maceemiller","CreatedById":130574,"CreatedDateTime":"2015-06-17T16:31:32Z","Content":"\n\u003Cp\u003EI find that the deltaV monitor in mechjeb is better for me.....maybe worth a try?\u003C/p\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-06-17T16:51:01Z","Content":"\n\u003Cp\u003EIf necessary, maybe even go by hand. If worst comes to be...\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESpreadsheets...\u003C/strong\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u00B9\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-06-17T16:56:35Z","Content":"\n\u003Cp\u003EThe usual way to include pictures is to upload them to somewhere like imgur.com and then insert the image using the URL from imgur.\u003C/p\u003E\u003Cp\u003EThere is a switch in the settings to make KER account for the thrust direction though that is unlikely to be anything to do with this issue. Without being able to see your pictures it is very difficult to tell what is going on. I will try to run a couple of tests following your description but I suspect that you tested only one of the engines at once whereas KER is simulating both engines burning at the same time and this will drastically change the results of the calculations. In the VAB KER can only (currently) simulate the normal staging process of the vessel and it has to make various assumptions about when the next stage gets fired and this is probably not how you fly it.\u003C/p\u003E\u003Cp\u003EEdit: I\u0027ve rebuilt your test craft and run a few tests and it certainly does look like there is a problem in the calculations and I also recall a similar issue being reported before with certain high ISP mod engines. I\u0027ll take a look at the code and see if I can see what is wrong...\u003C/p\u003E\u003Cp\u003EP.S. This would have been better posted in the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/18230-1-0-2-Kerbal-Engineer-Redux-v1-0-16-6\u0022 rel=\u0022external nofollow\u0022\u003EKER thread\u003C/a\u003E.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-17T17:17:06Z\u0022 title=\u002206/17/2015 05:17  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 17, 2015\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hypersonic","CreatedById":146460,"CreatedDateTime":"2015-06-17T17:46:40Z","Content":"\n\u003Cp\u003EThanks for the tips!\u003C/p\u003E\u003Cp\u003Ehere\u0027re the links to the pics, hope those works.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/bdIu70k\u0026amp;hXYBsRc#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/bdIu70k\u0026amp;hXYBsRc#0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/bdIu70k\u0026amp;hXYBsRc#1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/bdIu70k\u0026amp;hXYBsRc#1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ewhy can\u0027t just upload pics from desktop?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/bdIu70k.jpg?1\u0022 alt=\u0022bdIu70k.jpg?1\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/hXYBsRc.jpg?1\u0022 alt=\u0022hXYBsRc.jpg?1\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EYes you\u0027re right. It confuses me when Dv drops like 40m/s but the acceleration shown is around 10m/s.\u003C/p\u003E\u003Cp\u003EI think Isp it calculates is not right. Isp=T/mdot/9.81=(2000\u002B60000)/(0.04849\u002B17.728)/9.81=355.53 (I think gravity on kerbin is same as that on Earth?)\u003C/p\u003E\u003Cp\u003EI sent the pics and it says 794.7\u003C/p\u003E\u003Cp\u003EDv calculated using -Isp*g*ln(mf/mi) is correct\u003C/p\u003E\u003Cp\u003Ehow does KER and Mechjeb calculates it?\u003C/p\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-06-17T17:52:20Z","Content":"\n\u003Cp\u003EWhen two engines fire at the same time, Kerbal Engineer Redux doesn\u0027t take into account which direction those engines are firing. Since the Terrier engine on the bottom adds it\u0027s overall Delta-V reading to the total, while the Dawn adds it\u0027s own, those two readings are added together, per the rocket equation.\u003C/p\u003E\u003Cp\u003EWhen the Terrier burns, the vessel loses the fuel mass, therefore allowing more Delta-V for the remaining amount of fuel in the Dawn stage.\u003C/p\u003E\u003Cp\u003E...You did put them in different stages, right?\u003C/p\u003E\n"},{"CreatedByName":"FancyMouse","CreatedById":142946,"CreatedDateTime":"2015-06-17T18:00:59Z","Content":"\n\u003Cp\u003EI think his problem is not about direction of thrust - any direction of Ion should not affect Isp too much since LV 909 thrust and fuel consumption dominates - so any direction of Ion should produce an Isp value close to 345, not way off like 700-ish.\u003C/p\u003E\u003Cp\u003EAnd his picture does show they\u0027re in the same stage. Although I vaguely remember KER should show it correctly when I mix my engines in the same stage, but I do see sometimes (with multiple probes, usually) that calculation goes way off.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-06-17T18:01:20Z","Content":"\n\u003Cp\u003EYou can see that they\u0027re in the same stage in the pics. It should use a weighted average for Isp, which it appears to be doing incorrectly. Calculating manually with a 909 at 60Kn/345s and an ion at 2Kn/4200s yields a net Isp of 355.5s.\u003C/p\u003E\n"},{"CreatedByName":"hypersonic","CreatedById":146460,"CreatedDateTime":"2015-06-17T18:11:59Z","Content":"\n\u003Cp\u003EI built like this only for testing in VSB. the reading is same no matter how you rotates the engine. (when you actually fly it it will be different of course.)\u003C/p\u003E\u003Cp\u003EThey are in same stage, and fires at the same time.\u003C/p\u003E\u003Cp\u003Ethe original \u003Cspan style=\u0022color:#333333;\u0022\u003Eproblem arise when I fly satellite with an ion thruster in the middle and liquid fuel engines attached radially, dV shown is above 10km/s, but actually feels like a few thousand, so I doubt the Dv calcs.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-06-17T18:12:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xannari Ferrows\u0022 data-cite=\u0022Xannari Ferrows\u0022\u003E\u003Cdiv\u003EWhen two engines fire at the same time, Kerbal Engineer Redux doesn\u0027t take into account which direction those engines are firing. Since the Terrier engine on the bottom adds it\u0027s overall Delta-V reading to the total, while the Dawn adds it\u0027s own, those two readings are added together, per the rocket equation.\u003Cp\u003EWhen the Terrier burns, the vessel loses the fuel mass, therefore allowing more Delta-V for the remaining amount of fuel in the Dawn stage.\u003C/p\u003E\u003Cp\u003E...You did put them in different stages, right?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI already mentioned the setting in KER to enable inclusion of thrust vectors and that this has nothing to do with the problem. There is a problem in the KER calculations when engines of different ISPs are fired simultaneously.\u003C/p\u003E\n"},{"CreatedByName":"hypersonic","CreatedById":146460,"CreatedDateTime":"2015-06-17T18:22:49Z","Content":"\n\u003Cp\u003EThanks everyone for the reply\u003C/p\u003E\u003Cp\u003Eso there is a little bug in Isp calcs? Can someone report to mod coders?\u003C/p\u003E\u003Cp\u003EBTW, how to reply to a single thread instead of posting a new one? I believe I pressed the \u0027reply\u0027 from the right corner\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-06-17T18:28:41Z","Content":"\n\u003Cp\u003EI am one of the mod coders, specifically the coder that maintains the deltaV calculation code, so no need to do anything else. I will reply to your post in the KER thread that this will get looked at...\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-06-17T18:31:37Z","Content":"\n\u003Cp\u003EPadishar actually is one of the devs for Kerbal Engineer Redux, and works on the dV simulation code. You\u0027ve brought it to the attention of the right person. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: I got ninja\u0027d!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-17T18:46:48Z\u0022 title=\u002206/17/2015 06:46  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 17, 2015\u003C/time\u003E by Red Iron Crown\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hypersonic","CreatedById":146460,"CreatedDateTime":"2015-06-17T18:37:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EI am one of the mod coders, specifically the coder that maintains the deltaV calculation code, so no need to do anything else. I will reply to your post in the KER thread that this will get looked at...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHaHa Cool, Thanks \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/members/100092-Padishar\u0022 rel=\u0022external nofollow\u0022\u003EPadishar\u003C/a\u003E\u003C/p\u003E\n"}]}