{"TopicId":112027,"ForumId":34,"TopicTitle":"[1.12.x] Heat Control - More radiators! (August 22, 2021)","CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-05T04:37:37Z","PageNum":13,"Articles":[{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-28T04:40:50Z","Content":"This is how stock radiators work, drawing temperature from the hottest part on the ship if it is hotter than radiator itself. Working reactor is the hottest part of the ship, it equalizes with radiators at it\u0027s nominal temperature. Radiators then can only \u0027shave off\u0027 anything that grows hotter (nothing). Other parts just building up heat until the whole ship is a furnace.\n\n- - - Updated - - -\n\n...but if you stick up more radiators or introduce a heat pump, to cool everything down, this means reactor won\u0027t reach nominal temp.\n\nSo, my proposal:\n\ncrank up skinInternalConductionMult to 2000 for radiators,\n\ndrop skinInternalConductionMult to 0.01 (for starters) for reactors to insulate the core.\n\nadd \u0027draw heat from\u0027 switchable for ModuleGenericRadiator and ModuleStaticicRadiator.\n\nrevert everything else in NF stuff back to pre-1.0.3 condition.\n\nAs for the stock radiators, leave them alone. They are just incapable of dealing with constant high power heat source. Only short burns."},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-28T05:30:42Z","Content":"\u003E \n\u003E Working reactor is the hottest part of the ship, it equalizes with radiators at it\u0027s nominal temperature.\n\nRadiator behavior is not related to reactor nominal temperature. Radiators begin removing heat when a part\u0027s temperature exceeds [radiatorMax \\* maxTemp]. Default radiatorMax is 0.25, so for NFE reactors, radiators should \u0022activate\u0022 at 400K.\n\n\u003E \n\u003E Radiators then can only \u0027shave off\u0027 anything that grows hotter (nothing). Other parts just building up heat until the whole ship is a furnace.\n\nThe whole ship becoming a furnace is largely unrelated to the new radiator behavior, and could easily happen with Nertea\u0027s old 1.02 radiators. Regardless of how radiators function, if the reactor reaches an equilibrium of 600K (or whatever) and it isn\u0027t highly insulated, it will eventually heat up the whole spacecraft. Most stock parts are quite conductive, so heat tends to spread readily. The easiest way to prevent this would be to further decrease reactor conductivity."},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-28T05:54:36Z","Content":"OK, I\u0027ve tested the old NFE with the following patch:\n\n    @PART[*]:HAS[@MODULE[ModuleGenericRadiator]]:FINAL {    skinInternalConductionMult = 2000 // heat must pass the skin    skinSkinConductionMult = 0.001 // prevent conductive flowback to parent\u0027s skin}@PART[*]:HAS[@MODULE[ModuleStaticRadiator]]:FINAL {    skinInternalConductionMult = 2000 // heat must pass the skin    skinSkinConductionMult = 0.001 // prevent conductive flowback to parent\u0027s skin}@PART[*]:HAS[@MODULE[FissionReactor]]:FINAL {    skinInternalConductionMult = 0.001 // insulate core from skin    @heatConductivity=0.001 // insulate core from other parts    skinSkinConductionMult = 0.5 // skin can conduct with other parts skin, why not?    @emissiveConstant = 0.6 // core is insulated, let the skin radiate normally}\n\nTest vessel with MX4 and 6 GR-4 has an iteresting behavior. With all 6 radiators core equalizes at 350K, radiators just drain all heat out. With 5 radiators core quickly approaches meltdown.\n\n- - - Updated - - -\n\nWith old behavior it was possible to insulate parts of the ship. Radiators on the \u0027cold\u0027 part of the ship would keep it cold. With new radiator model any radiator would cool only the \u0027hot\u0027 end and leave the \u0027cold\u0027 end to slowly heat up. Insulators are just postponing the inevitable."},{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-06-28T07:22:16Z","Content":"The only time I have had a heating problem is with a pure-stock 2.5m stage, a \u0022Skipper\u0022 engine and a \u0022Jumbo-64\u0022 2.5m tank. I haven\u0027t got around to trying anything bigger, but without some sort of insulator there have been just too many earth-shattering kabooms.\n\nThere must be default settings for the heat flow, there\u0027s nothing different in the part.cfg files. The \u0022Skipper\u0022 file does have a commented-out setting. These three look to be standard for all liquid-fuel engines.\n\n // heatConductivity = 0.06 // half default\n\n skinInternalConductionMult = 4.0\n\n emissiveConstant = 0.8 // engine nozzles are good at radiating.\n\nIt\u0027s common to all three stock sizes, and I am wondering if the Kerbodyne engines have a similar problem.\n\nI did some thinking. If the only heat source was the engine, doubling the stack diameter would quadruple the surface area of both the engine-tank joint and the tank as a whole. But there would be eight times the mass of fuel to heat up. On the other hand, the heat generated by the engine depends on the mass of fuel burned, which is related to the thrust.\n\nSo the Skipper would need to burn four times the fuel to get the same temperature change, which it doesn\u0027t.\n\nSince it wasn\u0027t a problem until KSP v1.0.3 and it doesn\u0027t bite until high in the atmosphere I suspect low convection/conduction in the thin air and the radiated heat from the shock-wave heated air.\n\nMy first fix was doing more coasting, once the apokee was out of the atmosphere.\n\nIt\u0027s also possible that going for three stages instead of two might might reduce the engine heat going into the third stage.\n\nBut these heat control mods have thermal barrier parts. The Heat Control mod and Heat Management mod have different settings,\n\nHeat Control:\n\nheatConductivity = 0.001\n\nI have \u0022debris\u0022 stages lingering in orbit with very hot engines. It looks a bit excessive that the engine doesn\u0027t seem to have cooled down after a couple of days\n\nHeat Management:\n\nheatConductivity = 0.01\n\nI shall run a test or three, but this may be enough to avoid explosions while allowing the system to cool between burns.\n\nI do wonder if having two distinct levels of insulation, with different cost/mass penalties, would be useful"},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-28T07:44:56Z","Content":"\u003E \n\u003E Insulators are just postponing the inevitable.\n\nThat isn\u0027t quite accurate. Insulation decreases the rate of heat flux into parts adjacent to the reactor. If those parts had no means by which to dissipate the heat they are receiving, then you would be correct, and eventually the whole spacecraft would reach the same temperature regardless of insulation. Fortunately, however, all parts have emissivity and are therefore able to dissipate some of the heat they receive from the reactor, thus resulting in a lower temperature than the reactor itself. Insulation enhances this ability, essentially by providing more time for these parts to dissipate the heat they are receiving from the reactor.\n\nWhat you have observed is that - in most cases - the rate of heat conduction into parts attached to a reactor greatly exceeds the rate at which those parts are capable of dissipating heat, and therefore the whole ship ends up at almost the same temperature. Conductivity needs to be set really *really* low in order to prevent this from happening."},{"CreatedByName":"mikegarrison","CreatedById":137807,"CreatedDateTime":"2015-06-28T07:58:45Z","Content":"\u003E \n\u003E That isn\u0027t quite accurate. Insulation decreases the rate of heat flux into parts adjacent to the reactor. If those parts had no means by which to dissipate the heat they are receiving, then you would be correct, and eventually the whole spacecraft would reach the same temperature regardless of insulation. Fortunately, however, all parts have emissivity and are therefore able to dissipate some of the heat they receive from the reactor, thus resulting in a lower temperature than the reactor itself. Insulation enhances this ability, essentially by providing more time for these parts to dissipate the heat they are receiving from the reactor.\n\u003E What you have observed is that - in most cases - the rate of heat conduction into parts attached to a reactor greatly exceeds the rate at which those parts are capable of dissipating heat, and therefore the whole ship ends up at almost the same temperature. Conductivity needs to be set really *really* low in order to prevent this from happening.\n\nTime only matters for a transitory source. In the long run, the system will reach a steady state where the total heat being entered into the ship equals the total heat coming out of it. when that happens, time no longer is a factor. But insulation will still have some effect, because most heat transfer processes depend on temperature. The hot side will stay a little hotter, which will mean it will radiate (or convect) a little bit more heat than it would have otherwise. So the steady-state will keep a little more of the heat on the hot side of the insulator.\n\n(Then when you warp faster than 100 your ship will all equalize in temperature, thus disrupting your steady-state balance.)"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-06-28T08:23:07Z","Content":"Hopping in briefly.\n\nStock Radiators do not pull from the hottest part - as noted, they pull from all parts that have essentially said \u0027hey, I am getting too warm!\u0027, and distribute this accross all deployed radiators that have not yet reached saturation. The temperature at which a part starts dumping heat is purely configurable tho it comes with some intelligent defaults.\n\nAt the end of the day, unless you model dumping coolant, all you are really doing is moving energy around. So if you want a part to reach a higher temp before radiators kick in, just tweak the config.\n\nI\u0027d also add that insulators would still be useful for keeping a part configured to operate at a very high temperature from bleeding through to other parts. Also as touched on in mikegarrison\u0027s post, any mechanic that relies on localized temperature levels will have a bit of an issue when you go to 1000x warp as the ship will have it\u0027s temperature equalized across all parts, regardless of the conductivity, etc. of the components - so I would not consider mechanics based solely on maintaining a steady-state temperature overly reliable (this is one of the reasons I removed drill overheat as a mechanic in 1.0.1 - it was too easy to circumvent by simply going into high warp)."},{"CreatedByName":"sober667","CreatedById":116695,"CreatedDateTime":"2015-06-28T15:20:20Z","Content":"\u003E \n\u003E Hopping in briefly.\n\u003E Stock Radiators do not pull from the hottest part - as noted, they pull from all parts that have essentially said \u0027hey, I am getting too warm!\u0027, and distribute this accross all deployed radiators that have not yet reached saturation. The temperature at which a part starts dumping heat is purely configurable tho it comes with some intelligent defaults..\n\nnot-opening stock radiators work on part to wich is attached \n\ndeployable work as u say"},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-28T16:08:53Z","Content":"\u003E \n\u003E Hopping in briefly.\n\u003E Stock Radiators do not pull from the hottest part - as noted, they pull from all parts that have essentially said \u0027hey, I am getting too warm!\u0027, and distribute this accross all deployed radiators that have not yet reached saturation.\n\nHow would the following situation develop? A reactor core with \u0027too hot\u0027 threshold around 900K. Command module with threshold around 300K, fuel tank - 400K. And some radiators. Perhaps even insulator (imperfect) between reactor and everything else. \n\nReactor reaches 900K, radiators start pumping heat from it, keeping it at 900K, become saturated at 900K minus some radiation flow. Let\u0027s say radiators reach equilibrium around 800K. What happens with other parts then? As far as I can tell, radiators heated to 800K will not take heat from parts that are cooler. So whatever heat leaks through insulation will have the only way of radiating by parts themselves. Is that right? Could stock static radiators help with that since they are passive (or not)?"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-06-28T16:15:09Z","Content":"\u003E \n\u003E not-opening stock radiators work on part to wich is attached \n\u003E deployable work as u say\n\nClose but not quite. Delpoyable/animated is a separate property from shipwide cooling. Just that the static panels in stock have no partmodules."},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-06-28T16:50:21Z","Content":"I\u0027m gonna have to pass on testing today or tomorrow, because something work-related came up that\u0027ll have me tied up in the evenings until (and including) Monday =/"},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-28T18:25:22Z","Content":"\u003E \n\u003E Time only matters for a transitory source. In the long run, the system will reach a steady state where the total heat being entered into the ship equals the total heat coming out of it. when that happens, time no longer is a factor. But insulation will still have some effect, because most heat transfer processes depend on temperature. The hot side will stay a little hotter, which will mean it will radiate (or convect) a little bit more heat than it would have otherwise. So the steady-state will keep a little more of the heat on the hot side of the insulator.\n\u003E (Then when you warp faster than 100 your ship will all equalize in temperature, thus disrupting your steady-state balance.)\n\nTime is always a factor, in terms of the rate of heat movement between parts. Slow movement of heat from the reactor to other parts provides greater opportunity for those parts to radiate away the reactor\u0027s heat as they receive it, reaching a lower equilibrium. The temperature of a part will continue to increase until the total rate of heat moving out of the part = the total rate of heat moving into the part. Greater insulation will decrease the rate of heat moving into the part. The other side of this coin, as you note, is that the reactor will retain more of its own heat, and therefore radiate more."},{"CreatedByName":"mikegarrison","CreatedById":137807,"CreatedDateTime":"2015-06-28T18:53:16Z","Content":"\u003E \n\u003E Time is always a factor, in terms of the rate of heat movement between parts. Slow movement of heat from the reactor to other parts provides greater opportunity for those parts to radiate away the reactor\u0027s heat as they receive it, reaching a lower equilibrium. The temperature of a part will continue to increase until the total rate of heat moving out of the part = the total rate of heat moving into the part. Greater insulation will decrease the rate of heat moving into the part. The other side of this coin, as you note, is that the reactor will retain more of its own heat, and therefore radiate more.\n\nSorry, but no. Time is not a factor when the solution reaches a steady state equilibrium. That\u0027s what steady state means.\n\nYou just described it correctly -- when the rate of heat being generated is exactly balanced by the rate of heat being lost, then everything is in steady state. Temperatures stop changing. And in that situation, time doesn\u0027t matter."},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-28T19:38:17Z","Content":"\u003E \n\u003E Sorry, but no. Time is not a factor when the solution reaches a steady state equilibrium. That\u0027s what steady state means.\n\u003E You just described it correctly -- when the rate of heat being generated is exactly balanced by the rate of heat being lost, then everything is in steady state. Temperatures stop changing. And in that situation, time doesn\u0027t matter.\n\nRate involves time. Heat production/movement/dissipation are measured in watts, which are joules per second. Seconds are a unit of time. The rates of heat production/movement/dissipation will ultimately determine the ship\u0027s steady state.\n\nI think you misunderstood my use of the phrase \u0022providing more time for these parts to dissipate the heat\u0022, as if I was referring to some discrete interval of extra time. Instead, I\u0027m referring to rates. The intended meaning was basically \u0022slowing down the rate of heat influx, thus allowing heat outflux via radiation to better keep pace with influx, ultimately resulting in a lower steady state temperature for the part.\u0022\n\n**Edited \u003Ctime datetime=\u00222015-06-28T19:55:55Z\u0022 title=\u002206/28/2015 07:55  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 28, 2015\u003C/time\u003E by Fraz86**"},{"CreatedByName":"Starbuckminsterfullerton","CreatedById":117494,"CreatedDateTime":"2015-06-28T19:54:04Z","Content":"Thanks for the info Rover, it\u0027s really helpful to know how new modules work. \n\n\u003E \n\u003E I\u0027d also add that insulators would still be useful for keeping a part configured to operate at a very high temperature from bleeding through to other parts.\n\nI completely agree, and they are one of the things this mod adds that no one else has. Is it possible for insulators to use the stock module now? \n\nAlso, do you think given how radiators work now there is still a place for the conductive parts and pipes?\n\nEdit: read a couple pages back, Nertea I think lowering reactor conductivity is a great solution to the faux radiators because it also avoids overheating adjacent parts. I know we have insulators for this, but it makes sense that a part like a reactor would have some insulation built in.\n\n**Edited \u003Ctime datetime=\u00222015-06-28T19:58:33Z\u0022 title=\u002206/28/2015 07:58  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 28, 2015\u003C/time\u003E by Starbuckminsterfullerton**"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-06-28T20:17:25Z","Content":"Heat pipes possibly. Insulators would require no code, just low conductivity."},{"CreatedByName":"mikegarrison","CreatedById":137807,"CreatedDateTime":"2015-06-28T20:33:36Z","Content":"\u003E \n\u003E Rate involves time. Heat production/movement/dissipation are measured in watts, which are joules per second. Seconds are a unit of time. The rates of heat production/movement/dissipation will ultimately determine the ship\u0027s steady state.\n\u003E I think you misunderstood my use of the phrase \u0022providing more time for these parts to dissipate the heat\u0022, as if I was referring to some discrete interval of extra time. Instead, I\u0027m referring to rates. The intended meaning was basically \u0022slowing down the rate of heat influx, thus allowing heat outflux via radiation to better keep pace with influx, ultimately resulting in a lower steady state temperature for the part.\u0022\n\nThat\u0027s two different frames of reference. From the point of view of the ship, time doesn\u0027t matter. Everything is in equilibrium. From the point of view of the heat time does matter, because the heat starts in the reactor, flows to the radiator, and then radiates away.\n\nIt\u0027s like the difference between analyzing aerodynamics from the point of view of the airplane or the air molecules that flow past it."},{"CreatedByName":"Sput42","CreatedById":133617,"CreatedDateTime":"2015-06-28T20:40:24Z","Content":"Does it matter at all, considering that the ship is treated as a single part in high warp? Because as fancy and balanced as we can make the heat distribution through clever use of insulators and other equipment, it seems that in the end it may still explode once you go to warp. In particular if the \u0022reference part\u0022 is picked randomly, as RoverDude seems to imply."},{"CreatedByName":"mikegarrison","CreatedById":137807,"CreatedDateTime":"2015-06-28T20:43:59Z","Content":"\u003E \n\u003E Does it matter at all, considering that the ship is treated as a single part in high warp? Because as fancy and balanced as we can make the heat distribution through clever use of insulators and other equipment, it seems that in the end it may still explode once you go to warp. In particular if the \u0022reference part\u0022 is picked randomly, as RoverDude seems to imply.\n\nYeah, I would like to know more about what determines the \u0022reference part\u0022.\n\nAnyway, this was an issue in 1.02, also. I eventually learned to stick radiators on the \u0022cool\u0022 parts of the ship, so that when we came out of timewarp those radiators would get rid of that phantom heat.\n\n**Edited \u003Ctime datetime=\u00222015-06-28T20:50:20Z\u0022 title=\u002206/28/2015 08:50  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 28, 2015\u003C/time\u003E by mikegarrison**"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-06-28T20:48:15Z","Content":"\u003E \n\u003E Yeah, I would like to know more about what determines the \u0022reference part\u0022.\n\nIt seems like the reference part is the hottest part, usually."},{"CreatedByName":"Sput42","CreatedById":133617,"CreatedDateTime":"2015-06-28T21:05:58Z","Content":"\u003E \n\u003E It seems like the reference part is the hottest part, usually.\n\nWhich would pretty much destroy the idea of NF to have hot reactors being insulated from the rest of the ship ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-06-28T22:43:08Z","Content":"Yep, Second Law.\n\nThere\u0027s a song about it.\n\n\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/Cb2kBFqrZx8?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-06-28T23:04:20Z","Content":"\u003E \n\u003E Does it matter at all, considering that the ship is treated as a single part in high warp? Because as fancy and balanced as we can make the heat distribution through clever use of insulators and other equipment, it seems that in the end it may still explode once you go to warp. In particular if the \u0022reference part\u0022 is picked randomly, as RoverDude seems to imply.\n\n\u003E \n\u003E Yeah, I would like to know more about what determines the \u0022reference part\u0022.\n\u003E Anyway, this was an issue in 1.02, also. I eventually learned to stick radiators on the \u0022cool\u0022 parts of the ship, so that when we came out of timewarp those radiators would get rid of that phantom heat.\n\n\u003E \n\u003E It seems like the reference part is the hottest part, usually.\n\n\u003E \n\u003E Which would pretty much destroy the idea of NF to have hot reactors being insulated from the rest of the ship ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nWhoah... No idea where you guys are getting the idea that there is some magical, random \u0027reference part\u0027... but that\u0027s completely false. The point I was making is that once you\u0027re at or above 1000x warp - regardless of what heat mechanic you use - KSP switches over to analytic mode, and you\u0027ll see the heat distributed across the entire ship. And note that this has been this way since 1.0 - this is not a new thing."},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-28T23:35:32Z","Content":"I conducted a series of experiments with a simple spacecraft (equipped with an MX-1 and four GR-1s) to demonstrate the impact of reactor insulation. \n\nUsing the current test version of NFE, in which reactors have a heatConductivity of 0.005, my spacecraft eventually reached the following steady state:\n\n![Rnar5Ij.jpg](http://i.imgur.com/Rnar5Ij.jpg)\n\nExcluding the reactor and radiators, the LH2 tank was the hottest part of the craft. The docking port at the front was the coldest. The temperatures were as follows:\n\nReactor - 662K\n\nLH2 tank - 595K\n\nDocking port - 557K\n\n* * *\n\nSetting reactor heatConductivity \u0026 skinInternalConductionMult at 0.001 produced this result:\n\n![P138Fks.jpg](http://i.imgur.com/P138Fks.jpg)\n\nReactor - 671K\n\nLH2 tank - 488K\n\nDocking port - 400K\n\n* * *\n\nFinally, a further decrease of heatConductivity \u0026 skinInternalConductionMult to 0.0001 resulted in the following equilibrium:\n\n![2kbvAGb.jpg](http://i.imgur.com/2kbvAGb.jpg)\n\nReactor - 673K\n\nLH2 tank - 315K\n\nDocking port - 293K\n\n* * *\n\nCommentary:\n\nI was surprised to see how little the increased insulation changes the equilibrium temperature of the reactor itself. Also surprised by just how low reactor heatConductivity needs to be in order to meaningfully protect the rest of the spacecraft. I definitely think that reactor heatConductivity should be significantly decreased. I had previously suggested 0.001, but now I\u0027m thinking 0.0001 would be better.\n\nAs a separate issue, I still don\u0027t understand the \u00C3\u00A2\u00E2\u20AC\u00B0\u00C2\u00A51000x time warp heat logic. In the above experiments, at 1000x time warp, the temperature of the spacecraft would jump to around 865K, which was substantially hotter than any part of the spacecraft at time warps \u003C1000x."},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-06-28T23:51:17Z","Content":"Given that HC is a plugin, I can\u0027t speak for plugin code. But do a similar experiment with your basic stock parts - run a bunch of NERVs, let them cook, then watch what happens when you timewarp to 1000."}]}