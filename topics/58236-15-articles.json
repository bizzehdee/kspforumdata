{"TopicId":58236,"ForumId":34,"TopicTitle":"[1.8\u002B] Real Fuels","CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-12-30T08:13:19Z","PageNum":15,"Articles":[{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2014-01-18T06:52:11Z","Content":"\n\u003Cp\u003EHey Nathan, do you get the feeling that the volume utilization is a little too high with stretchy tanks, particularly when using really wide tanks? My Saturn-IC is about 10m too short at the correct mass, and by attempt at building the Nova GD-B concept ended up with all its tanks being quite a bit shorter than they should have been. A lot of these tanks look like they\u0027d have to have really, really sharp corners to make use of the amount of volume they\u0027re taking up. Would it be possible to have volume utilization dynamically vary with tank length and radius, at least for stretchy tanks?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-18T07:36:10Z","Content":"\n\u003Cp\u003EQuite possible. I have not yet gone back over stretchies to try to get accurate volume utilization since I first determined a KVU as ~5L (utilization *should* be approx 80% of the total volume of the cylinder). Could definitely use another pass. Also, yes, it\u0027s very possible to set volume to something nonlinear in ST, although I would like to then also add a tweak such that basemass and tank mass isn\u0027t linear vs tank volume.\u003C/p\u003E\u003Cp\u003EFor the case of a stretchytank where length \u0026gt; diameter * 2, in the usual usage of bipropellant tankage, it can be modeled (roughly!) as two capsule tanks of radius diamater/2 and sidelength (length - diameter*2) * 0.5. That assumes there is no wasted mounting space above or below the tank (a good assumption for KSP with those ridiculous engine mounts) and no wasted space for skin (not a good assumption, but ok for a rough model). It also assumes that fuel and oxidizer take up the same volume (a *bad* assumption where LOX is concerned but not far wrong for kerolox or hypergolics). It is also a bad assumption if other resources (like hydrazine or nitrogen) are kept in the tank, but there\u0027s so little of that vs. the main fuels that it\u0027s again ok for rough modeling.\u003C/p\u003E\u003Cp\u003EAnyway, close enough. The problem is modeling usable pressure volume when length \u0026lt; diameter * 2. At that point, perhaps divide the diameter by 3 and calculate again, and then multiply by 7? And recurse as necessary? Sound reasonable?\u003C/p\u003E\u003Cp\u003EThat said, none of that should fix the issues you\u0027re running into, since S-IC and Nova have relatively-normal-aspect-ratio tanks, which means *on the whole* my utilization is too high.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2014-01-18T08:04:51Z","Content":"\n\u003Cp\u003EHonestly, the way utilization gets handled with the current stretchy tanks it seems less like there are a pair of capsule tanks in there and more like super-sized versions of Cluster\u0027s Last Stand are hiding in there based on the utilization. I\u0027m honestly not sure if the math is right, since I only barely glanced at the code, all I know is that my attempt at a Saturn V/4-260 looks awfully squat. Also, the KJR pre-release doesn\u0027t like it very much; the solids pop off on the pad, but that\u0027s another matter entirely.\u003C/p\u003E\n"},{"CreatedByName":"RuBisCO","CreatedById":59540,"CreatedDateTime":"2014-01-18T08:23:50Z","Content":"\n\u003Cp\u003EQuestion: does LH2 and LO2 still boil-off, and is there a part like a \u0027cryocooler\u0027 that stops boil-off with use of electrical power?\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-01-18T08:32:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RuBisCO\u0022 data-cite=\u0022RuBisCO\u0022\u003E\u003Cdiv\u003EQuestion: does LH2 and LO2 still boil-off, and is there a part like a \u0027cryocooler\u0027 that stops boil-off with use of electrical power?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes and yes. Except that I think you can specify the resource. There is a radiator part with RF that works, I think.... it looks bland and textureless so I used its config as the basis for the radiator that zzz made for the interstellar mod.\u003C/p\u003E\u003Cp\u003EIf you download that part, you can use this config for it:\u003C/p\u003E\u003Cp\u003EThe sensor code is redundant if you have Deadly Re-entry. I stuck it in there to debug how well the part was dissipating heat.\u003C/p\u003E\u003Cp\u003ENote that resource is configurable.... even optional IIRC\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[radiator1]:Final\u003Cbr\u003E{\u003Cbr\u003E\t@mass = 0.025 \u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleHeatPump\u003Cbr\u003E\t\theatTransfer = 50\u003Cbr\u003E\t\theatDissipation = 5000\u003Cbr\u003E\t\tRESOURCE\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = ElectricCharge\u003Cbr\u003E\t\t\trate = 0.01666667\u003Cbr\u003E\t\t}      \u003Cbr\u003E\t}\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleEnviroSensor\u003Cbr\u003E\t\tsensorType = TEMP\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-18T18:54:45Z","Content":"\n\u003Cp\u003EFerram: that math was my suggestion/my idea of what to change it to, not what actually happens. What actually happens is I still use AncientGammoner\u0027s volume code, which is designed so that a stretchytank of the same size as a stock Rockomax tank will have the same unit capacity. I then multiply it by five.\u003C/p\u003E\u003Cp\u003EFor right now, if you want to play around, you can edit the volume multipliers in stretchy\u0027s cfg in RealFuels. Maybe try 4.8 instead of 5?\u003C/p\u003E\n"},{"CreatedByName":"Scripto23","CreatedById":95288,"CreatedDateTime":"2014-01-18T21:23:26Z","Content":"\n\u003Cp\u003ESorry to rehash this subject again, but I\u0027ve finally figured out the cause of the SpaceX rocket instability that I\u0027ve been on about for the past several pages of this thread. I (finally!) know the cause, but don\u0027t know the solution and I hope the intelligent people here can help. Instead of cluttering this thread with pictures more so than I already have, if you could \u003Ca href=\u0022http://imgur.com/a/8AWEu#0\u0022 rel=\u0022external nofollow\u0022\u003Etake a look at this 6 picture album that explains the problem\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-18T21:28:33Z","Content":"\n\u003Cp\u003EBest option: ask LazarusLuan to fix it and re-export.\u003C/p\u003E\u003Cp\u003ETemporary fix: change the first and third numbers for both node_stack_top and node_stack_bottom until the attach nodes *are* centered in the engine.\u003C/p\u003E\n"},{"CreatedByName":"Scripto23","CreatedById":95288,"CreatedDateTime":"2014-01-18T21:36:34Z","Content":"\n\u003Cp\u003EThanks Nathan. I considered doing that but wasn\u0027t sure of the relationship between nodes and center of thrust. So I\u0027ll see if I can get that node centered with that method and also report it in the LazTek thread.\u003C/p\u003E\n"},{"CreatedByName":"TomatoSoup","CreatedById":59394,"CreatedDateTime":"2014-01-18T21:55:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022starwaster\u0022 data-cite=\u0022starwaster\u0022\u003E\u003Cdiv\u003Eyes and yes. Except that i think you can specify the resource. There is a radiator part with rf that works, i think.... It looks bland and textureless so i used its config as the basis for the radiator that zzz made for the interstellar mod.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s what that God damn part is! Could anyone give more careful detail about how exactly it works?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-18T23:46:34Z\u0022 title=\u002201/18/2014 11:46  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 18, 2014\u003C/time\u003E by TomatoSoup\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-01-18T22:54:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EBest option: ask LazarusLuan to fix it and re-export.\u003Cp\u003ETemporary fix: change the first and third numbers for both node_stack_top and node_stack_bottom until the attach nodes *are* centered in the engine.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eanother fix is to add and set CoMOffset in the part\u0027s cfg file which for best results requires knowing how much it\u0027s off by.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-18T23:36:13Z","Content":"\n\u003Cp\u003EActually, need to do both. Give it the opposite CoM offset as node offset.\u003C/p\u003E\u003Cp\u003E(Just CoM Offset won\u0027t work, since then you\u0027ll have a balanced rocket engine...that doesn\u0027t attach along the centerline. Same problem as before.)\u003C/p\u003E\n"},{"CreatedByName":"andqui","CreatedById":93107,"CreatedDateTime":"2014-01-19T06:39:00Z","Content":"\n\u003Cp\u003EThree historical/real life rocket design/fuel questions:\u003C/p\u003E\u003Cp\u003E1. What advantages are there to using a hypergolic lower stage, like Proton or early Ariane rockets? Is it simply storage/handling, or is there a performance consideration?\u003C/p\u003E\u003Cp\u003E2. Similarly, why use LH2/LOX lower stages if they have lower TWR and need bigger tanks (Space shuttle, Delta IV)?\u003C/p\u003E\u003Cp\u003E3. I\u0027ve been browsing wikipedia, and several launcher types feature solid rockets as final engines, for apogee kick or to boost a payload into an interplanetary transfer. Some of these operations, like placing satellites into geosynchronous orbit or getting an interplanetary transfer, seem like they would need a high degree of precision. How is this done with a rocket that has a fixed burn time and can\u0027t be shut off? Do computers calculate when and which direction to do the burn given the fixed burn time (something that would seem very hard to replicate in ksp?), or is precision not as important as I think it is?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-19T06:48:09Z\u0022 title=\u002201/19/2014 06:48  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 19, 2014\u003C/time\u003E by andqui\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2014-01-19T06:54:08Z","Content":"\n\u003Cp\u003E1. It\u0027s pretty much storage of the rocket and the fact that you don\u0027t need to launch the rocket immediately after it\u0027s fueled or enough LOX will boiloff to reduce the dV enough to harm the mission. There is the nice advantage that it\u0027s denser than all the other fuel types, which means that the tanks can be smaller. I don\u0027t know of any other reasons for using it.\u003C/p\u003E\u003Cp\u003E2. Actually, I\u0027ve launched a few GEO sats using kick stages way, and with the right timing you can get within 1 m/s of your target velocity. It really does just come down to figuring out where to make the fixed dV burn; for some sats I ended up not using all the dV in the stage before it, while with others I just made the payload as heavy as possible. Unfortunately, none of the maneuver node editors seem to include a \u0022set the maneuver node to burn x dV, just change the angle and time\u0022 function, which would make it a lot easier. All that said, the payload makes the necessary corrections after burnout, and done properly there aren\u0027t that many corrections needed.\u003C/p\u003E\n"},{"CreatedByName":"brooklyn666","CreatedById":88321,"CreatedDateTime":"2014-01-19T07:06:16Z","Content":"\n\u003Cp\u003EFor solid final stages or PAMs, the previous stages place the payload into a precise orbit so that the PAM or solid final stage has the exact delta-v to get it to it\u0027s final orbit. Does that make sense?\u003C/p\u003E\u003Cp\u003EI really like the precise node mod for this. It lets you tweak your maneuver nodes exactly the way you want. You can set your dV down to the hundreths of m/s, including \u002B/-rad and \u002B/-norm, and you can set your burn ignition time down to the second.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-01-19T07:19:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EUnfortunately, none of the maneuver node editors seem to include a \u0022set the maneuver node to burn x dV, just change the angle and time\u0022 function, which would make it a lot easier.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasically you want to be able to lock the magnitude while you fiddle with the xyz values of the vector? There are some implementation snags but I\u0027m sure it\u0027s possible. That\u0027s a good idea.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2014-01-19T07:51:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EUnfortunately, none of the maneuver node editors seem to include a \u0022set the maneuver node to burn x dV, just change the angle and time\u0022 function, which would make it a lot easier. All that said, the payload makes the necessary corrections after burnout, and done properly there aren\u0027t that many corrections needed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMJ\u0027s maneuver node editor allows you to do that if my memory serves me.\u003C/p\u003E\n"},{"CreatedByName":"Buddy431","CreatedById":98894,"CreatedDateTime":"2014-01-19T15:40:04Z","Content":"\n\u003Cp\u003EI\u0027m having trouble with the new Stock Engines configuration file, where the masses of the engines isn\u0027t changed when the UseRealisticMass setting is changed from true to false (or vice-versa). They always have the heavier stock masses.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-01-19T16:52:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TomatoSoup\u0022 data-cite=\u0022TomatoSoup\u0022\u003E\u003Cdiv\u003EThat\u0027s what that God damn part is! Could anyone give more careful detail about how exactly it works?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you activate it, it will drain your batteries at a ferocious rate while also draining heat from whatever part it\u0027s attached to, in turn allowing the cooled part to absorb more heat from secondary parts attached to it. I\u0027ve used it to cool tanks attached to engines that had a tendency to overheat and explode.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-19T18:07:52Z","Content":"\n\u003Cp\u003EBuddy431:\u003C/p\u003E\u003Cp\u003E1. Download and install the *latest* RF, v4.2, from post 1 of this thread.\u003C/p\u003E\u003Cp\u003E2. Download and place in GameData/RealFuels the *latest* StockEngines from post 2 of this thread.\u003C/p\u003E\u003Cp\u003E3. Open GameData/RealFuels/RealSetting.cfg and find the line \u0022useRealisticMass = true\u0022 and set \u0022useRealisticMass = false\u0022\u003C/p\u003E\u003Cp\u003EIf that\u0027s still causing problems let me know.\u003C/p\u003E\n"},{"CreatedByName":"Buddy431","CreatedById":98894,"CreatedDateTime":"2014-01-20T00:26:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EBuddy431:\u003Cp\u003E1. Download and install the *latest* RF, v4.2, from post 1 of this thread.\u003C/p\u003E\u003Cp\u003E2. Download and place in GameData/RealFuels the *latest* StockEngines from post 2 of this thread.\u003C/p\u003E\u003Cp\u003E3. Open GameData/RealFuels/RealSetting.cfg and find the line \u0022useRealisticMass = true\u0022 and set \u0022useRealisticMass = false\u0022\u003C/p\u003E\u003Cp\u003EIf that\u0027s still causing problems let me know.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK, I have a clean install with just real fuels v4.2 (from the first post), and the stock engine configs from post 2 from 2 days ago. If useRealisticMass = true in RealSettings.cfg (the default), the engines weigh the stock amounts at the first tech level, and then decrease in mass as the tech level rises (i.e. the LV-T30 has a mass of 1.25 at tech level 1, and decreases to 1.020 at tech level 7. The action group menu displays that it \u0022was 1.250\u0022\u003C/p\u003E\u003Cp\u003EIf I set useRealisticMass - false, the engines still weigh the same (i.e. the Lv-T30 weighs 1.25 at tech level 1, down to 1.020 at tech level 5). However, the Action group panel now says \u0022was 4.000\u0022. Obviously the game is taking into account the 3.2 multiplier, but not in the correct way, I think.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-20T00:40:24Z","Content":"\n\u003Cp\u003EBuddy431: My apologies! There was *both* a bug in my exporter *and* a bug in RF.\u003C/p\u003E\u003Cp\u003EI will test out my fix and upload RF v4.3. Thanks for finding this!\u003C/p\u003E\n"},{"CreatedByName":"Buddy431","CreatedById":98894,"CreatedDateTime":"2014-01-20T06:44:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022andqui\u0022 data-cite=\u0022andqui\u0022\u003E\u003Cdiv\u003EThree historical/real life rocket design/fuel questions:\u003Cp\u003E1. What advantages are there to using a hypergolic lower stage, like Proton or early Ariane rockets? Is it simply storage/handling, or is there a performance consideration?\u003C/p\u003E\u003Cp\u003E2. Similarly, why use LH2/LOX lower stages if they have lower TWR and need bigger tanks (Space shuttle, Delta IV)?\u003C/p\u003E\u003Cp\u003E3. I\u0027ve been browsing wikipedia, and several launcher types feature solid rockets as final engines, for apogee kick or to boost a payload into an interplanetary transfer. Some of these operations, like placing satellites into geosynchronous orbit or getting an interplanetary transfer, seem like they would need a high degree of precision. How is this done with a rocket that has a fixed burn time and can\u0027t be shut off? Do computers calculate when and which direction to do the burn given the fixed burn time (something that would seem very hard to replicate in ksp?), or is precision not as important as I think it is?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1) The proton rocket was originally built as an ICBM. So was the Titan II rocket that the US launched for a while, so it also used a storable fuel (as did the Titan III and Titan IV that were derived from it). When you want a rocket that can be stored in a missile silo for years at a time with minimal maintenance, but be ready to launch in minutes, liquid oxygen isn\u0027t going to cut it.\u003C/p\u003E\u003Cp\u003EI\u0027m not sure why the early Ariane rockets used it. They weren\u0027t, as far as I know, ever intended to be missiles. It does make a simpler engine (no igniter needed). The Ariane 5 upper stage used to deliver the ATVs to the space station uses hypergolic fuel because the cryogenic upper stage (which is more powerful, and used to launch satellites into a geostationary transfer orbit) cannot be restarted, while the storable upper stage can be.\u003C/p\u003E\u003Cp\u003E2) LH2/LOX still does have the highest specific impulse of any fuel, so it\u0027s not unreasonable to use it as a first stage, even if it does require larger tanks. The space shuttle and Ariane 5 both have solid boosters to help provide additional thrust in the early stages of flight. The delta IV can (though doesn\u0027t necessarily) also use solid rockets to help it out. And anyway, LH2/LOX engines don\u0027t necessarily do too poorly in the thrust to weight department. The Vulcain on the Ariane 5 and the Space Shuttle Main engine are pretty comparable to the RD-180 used on the Atlas V.\u003C/p\u003E\u003Cp\u003E3) While it\u0027s true that solid rocket motors have a fixed burn time and cannot be shut off, that\u0027s also more-or-less true for liquid fuel motors too, in that the burn profile is pre-programmed into them before launch. Real motors used on launchers are not, for the most part, like KSP motors: they generally do not have throttle ability, and are not used to fine-tune the orbit. The booster delivers the spacecraft into an approximate orbit (which is generally pretty good: they can get within a few dozen m/s of the desired velocity), and then the spacecraft itself will do the fine-tuning with much smaller motors, making course corrections as needed. Most launchers will not put a satellite into a geostationary orbit: They will put the satellite into a highly elliptical geostationary transfer orbit and let the spacecraft maneuver itself into the final orbit. This is true of interplanetary launches as well: The launcher will get the spacecraft headed in approximately the right direction, but multiple course corrections will be needed during the cruise phase.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-20T07:02:49Z","Content":"\n\u003Cp\u003EBuddy431: Here, try this pre-release. It\u0027s been working for me so far. See if it fixes your useRealisticMass issues (along with the fixed StockEngines I uploaded)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/6a48ss73xxxop24/RealFuels_v4_3_pre2.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/6a48ss73xxxop24/RealFuels_v4_3_pre2.zip\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Buddy431","CreatedById":98894,"CreatedDateTime":"2014-01-20T07:14:15Z","Content":"\n\u003Cp\u003EThe masses appear to work now. One thing I did notice is that the 2.5 m nuclear engine from Nova Punch doesn\u0027t seem to like to load. It\u0027s not a huge deal to me so I just deleted the part, but something either in real fuels of the engine config file probably isn\u0027t right for that engine.\u003C/p\u003E\u003Cp\u003EThanks a lot for the update. That was a quick turnaround.\u003C/p\u003E\n"}]}