{"TopicId":107105,"ForumId":36,"TopicTitle":"[1.0.2] Sentinel Memory Monitoring Utility (v0.3 Beta)","CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-03T07:35:23Z","PageNum":1,"Articles":[{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-03T07:35:23Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003ESentinel Memory Monitoring Utility\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EVersion 0.3 Beta for KSP 1.0.2\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EBrought to you by the Kerbal Space Exploration Agency:\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/L7rpnwm.png\u0022 alt=\u0022L7rpnwm.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EThis lightweight utility mod simply monitors your KSP memory usage and if it crosses pre-defined percentages, it slaps a warning text on your screen. This way you can save your progress and restart KSP, or do anything else you need to do before KSP just gives up and ruins your perfect rescue mission.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EInspired by \u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92907-GCMonitor-1-2-3-A-graphic-Memory-monitor-%28Feb-22th%29\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EGCMonitor\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E, which is a much more elaborate tool (and definitely recommended if you\u0027re looking for a more elaborate memory monitoring utility), Sentinel also uses the same native library to grab the KSP process memory usage. All credit goes to \u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/members/58857-sarbian\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003Esarbian\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E and the original author for this method.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EThe differences between Sentinel and GCMonitor are:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003ESentinel is much more lightweight without any additional changes other than the warning messages.\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003ESentinel is also a developers tool that can notify other plugins when memory limits are being reached.\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EPlease do keep in mind that this mod is not currently compatible with GCMonitor. You can have one or the other, not both.\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EDownload:\u003C/span\u003E\u003C/strong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E \u0026lt;Link snipped pending source availability\u0026gt;\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELicense:\u003C/strong\u003E \u003Ca href=\u0022https://www.gnu.org/copyleft/gpl.html\u0022 rel=\u0022external nofollow\u0022\u003EGNU General Public License\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003ESentinel Version 0.3 Beta\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFull re-write of the code for a more data-driven approach\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECustom situation support\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAutomatic game pause support during flight\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECustom notification settings\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESettings file version tracking\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ELauncher button to suppress notifications and indicate situation\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EInstallation:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EDownload the zip file from the link above\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EUnzip the contents into your KSP installation directory\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003ENotification Mechanism\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/5SCcK\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EIn order to notify players when they should prepare for exceeding the memory limit, Sentinel can warn the user when they approach pre-defined situations. By default, Sentinel has two situations: Distressed (usage over 70%), and Critical (usage over 80%). You can define custom situations or tweak existing ones using the settings file.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EWhen memory usage is over the situation percentage value, depending on the situation configuration, Sentinel performs various actions. These actions may include showing a notification text or pausing the game while in flight.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EThe settings file is located in \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EGameData\\KSEA\\Sentinel\\Sentinel.cfg\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EEvents\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ESentinel is designed to allow other mod developers to easy perform tasks when memory usage reaches player-defined levels. For example, a plugin could perform any last minute saves and prepare for a shutdown or free up unnecessary resources to lower memory usage.\u003C/p\u003E\u003Cp\u003EIn order to listen to Sentinel memory events, you must first reference \u003Cem\u003EGameData/KSEA/Sentinel/Sentinel.dll\u003C/em\u003E in your project. Then, listening to the event is simply a matter of registering a delegate to the \u003Cem\u003EKSEA.Sentinel.OnSituation\u003C/em\u003E event.\u003C/p\u003E\u003Cp\u003EExample:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eusing UnityEngine;\u003Cbr\u003Eusing KSEA;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace Sample\u003Cbr\u003E{\u003Cbr\u003E    public class Sample\u003Cbr\u003E    {\u003Cbr\u003E        public Sample()\u003Cbr\u003E        {\u003Cbr\u003E            Sentinel.OnSituation \u002B= Sentinel_OnSituation;\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        private void Sentinel_OnSituation(Sentinel.Situation situation)\u003Cbr\u003E        {\u003Cbr\u003E            // ...\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EPlanned Features:\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EPotentially a GUI configuration interface, although that might go against the intended design of this mod being lightweight.\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003ECompatibility with GCMonitor\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EDisclaimer:\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E This is my first mod, and I\u0027m hoping to help the community as best as I can, because without the modding community, KSP means very little to me. It is more of a learning experience rather than the next hit mod. Any feedback would be much appreciated, and use it at your own risk. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-22T12:06:54Z\u0022 title=\u002207/22/2015 12:06  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 22, 2015\u003C/time\u003E by Red Iron Crown\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nansuchao","CreatedById":135151,"CreatedDateTime":"2015-05-03T07:50:34Z","Content":"\n\u003Cp\u003EThis will be very useful, congratulations. The new KSP uses much less memory, so it\u0027s easy to add more and more mods until it becomes unplayable.\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-03T16:00:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nansuchao\u0022 data-cite=\u0022Nansuchao\u0022\u003E\u003Cdiv\u003EThis will be very useful, congratulations. The new KSP uses much less memory, so it\u0027s easy to add more and more mods until it becomes unplayable.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EVersion 0.2\u003C/strong\u003E Uploaded (Check OP for Download):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EAdjusted the notification text to be less verbose and more noticeable\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EChanged default refresh period to 1 second\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAdded to KerbalStuff\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nansuchao","CreatedById":135151,"CreatedDateTime":"2015-05-03T16:47:51Z","Content":"\n\u003Cp\u003EOk, I tried hit, and it works as said. If I can suggest something, it will be good to stop the message of warning if willed. I received the Critical Warning and I finished my mission (dock, transfer crew and re-entry on Kerbin from LKO) with the red message in the center of my screen. When it was displayed at first, I made a Quicksave but was unable a way to hide the message.\u003C/p\u003E\u003Cp\u003EBtw, very good work!\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-03T17:14:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nansuchao\u0022 data-cite=\u0022Nansuchao\u0022\u003E\u003Cdiv\u003EOk, I tried hit, and it works as said. If I can suggest something, it will be good to stop the message of warning if willed. I received the Critical Warning and I finished my mission (dock, transfer crew and re-entry on Kerbin from LKO) with the red message in the center of my screen. When it was displayed at first, I made a Quicksave but was unable a way to hide the message.\u003Cp\u003EBtw, very good work!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s a good idea. Although I want to avoid having any GUI elements to make it as minimal as possible. I\u0027ll see if I can work in a customization shortcut key to disable it.\u003C/p\u003E\n"},{"CreatedByName":"Nansuchao","CreatedById":135151,"CreatedDateTime":"2015-05-03T18:06:50Z","Content":"\n\u003Cp\u003EMaybe an icon on the stock toolbar that appears on alarm on. You click on hit and disable the warning message.\u003C/p\u003E\n"},{"CreatedByName":"SpeedyB","CreatedById":76386,"CreatedDateTime":"2015-05-03T18:11:49Z","Content":"\n\u003Cp\u003EIt might be good to have an option for message position. Middle of the screen is attention grabbing but a little annoying. A good place for it would be near the top of the screen just below the gauges, that way its out of your main view and still super visible.\u003C/p\u003E\n"},{"CreatedByName":"talung","CreatedById":121133,"CreatedDateTime":"2015-05-04T15:18:20Z","Content":"\n\u003Cp\u003EI have been using this mod today for a number of hours.. and I think it might have its own memory leak. I was hitting up to 3.5GB usage (Task Manager) with it.. and tended to hover around 2.7GB to 3GB without it. Same mods, same career path with same ships.\u003C/p\u003E\u003Cp\u003ECould just be my setup. If you need any logs etc. I could probably send it to you.. but I am not using your addon atm. \u003C/p\u003E\u003Cp\u003EExcellent and most wanted mod of course. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-05T00:54:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nansuchao\u0022 data-cite=\u0022Nansuchao\u0022\u003E\u003Cdiv\u003EMaybe an icon on the stock toolbar that appears on alarm on. You click on hit and disable the warning message.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI might try that. I\u0027m thinking of having the text message show up, but then changing the color of the toolbar icon to indicate the situation after you dismiss the text.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpeedyB\u0022 data-cite=\u0022SpeedyB\u0022\u003E\u003Cdiv\u003EIt might be good to have an option for message position. Middle of the screen is attention grabbing but a little annoying. A good place for it would be near the top of the screen just below the gauges, that way its out of your main view and still super visible.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s on my To Do list already. I\u0027m thinking making it configurable with 33% from the top of the screen by default.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022talung\u0022 data-cite=\u0022talung\u0022\u003E\u003Cdiv\u003EI have been using this mod today for a number of hours.. and I think it might have its own memory leak. I was hitting up to 3.5GB usage (Task Manager) with it.. and tended to hover around 2.7GB to 3GB without it. Same mods, same career path with same ships.\u003Cp\u003ECould just be my setup. If you need any logs etc. I could probably send it to you.. but I am not using your addon atm. \u003C/p\u003E\u003Cp\u003EExcellent and most wanted mod of course. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not quite sure how this is possible since the mod does next-to-nothing until the memory usage crosses the limits. Even if it does leak, the leak wouldn\u0027t be noticeable at all, let alone 0.5 GB. I\u0027ll investigate it before the next update, but did you get this behavior consistently with multiple tries?\u003C/p\u003E\n"},{"CreatedByName":"talung","CreatedById":121133,"CreatedDateTime":"2015-05-05T01:22:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zeenobit\u0022 data-cite=\u0022Zeenobit\u0022\u003E\u003Cdiv\u003EI\u0027m not quite sure how this is possible since the mod does next-to-nothing until the memory usage crosses the limits. Even if it does leak, the leak wouldn\u0027t be noticeable at all, let alone 0.5 GB. I\u0027ll investigate it before the next update, but did you get this behavior consistently with multiple tries?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately yes.. I got it with multiple tries until I removed it.. and then my memory stayed down. Again, could be an interaction of another addon and this, but the problem did resolve after I removed Sentinel. If you would like I could share (privately) my GameData and Career Save I was using for your testing.\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-05T05:22:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022talung\u0022 data-cite=\u0022talung\u0022\u003E\u003Cdiv\u003EUnfortunately yes.. I got it with multiple tries until I removed it.. and then my memory stayed down. Again, could be an interaction of another addon and this, but the problem did resolve after I removed Sentinel. If you would like I could share (privately) my GameData and Career Save I was using for your testing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure. PM me with what you can. So far, I can\u0027t reproduce this leak on my end.\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-06T04:29:56Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EVersion 0.3 Beta\u003C/strong\u003E Uploaded. Click the link in OP to download.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFull re-write of the code for a more data-driven approach\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECustom situation support\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAutomatic game pause support during flight\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECustom notification settings\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESettings file version tracking\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ELauncher button to suppress notifications and indicate situation\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI haven\u0027t been able to reproduce any memory leak issues so far. So nothing to fix on that front! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"talung","CreatedById":121133,"CreatedDateTime":"2015-05-06T07:54:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zeenobit\u0022 data-cite=\u0022Zeenobit\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EVersion 0.3 Beta\u003C/strong\u003E Uploaded. Click the link in OP to download.\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFull re-write of the code for a more data-driven approach\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECustom situation support\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAutomatic game pause support during flight\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECustom notification settings\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESettings file version tracking\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ELauncher button to suppress notifications and indicate situation\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI haven\u0027t been able to reproduce any memory leak issues so far. So nothing to fix on that front! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks. I have been messing around with addons.. again... and will try this version out. Let you know if I discover anything new.. Chances are it was just a fluke on my side with one of the other addons. Unfortunate that we cannot get a detailed list of memory usage.\u003C/p\u003E\n"},{"CreatedByName":"talung","CreatedById":121133,"CreatedDateTime":"2015-05-08T10:45:14Z","Content":"\n\u003Cp\u003EQuick Update. \u003C/p\u003E\u003Cp\u003EIt appears that the heat gauges and \u0022science alert\u0022 have memory leaks. This is probably what I was seeing and not your addon. Maybe I was just doing slightly different things that was causing it when I was playing with and without your addon.\u003C/p\u003E\u003Cp\u003EJust thought you should know.\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\n"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2015-05-08T23:19:41Z","Content":"\n\u003Cp\u003EAny chance you can implement the ability to have it do an automatic quicksave if you are in flight and in a situation where you can quick save? I really like the configure ability of this and having this option as well as the pause option would be great!\u003C/p\u003E\n"},{"CreatedByName":"mrsnoid","CreatedById":104715,"CreatedDateTime":"2015-05-09T03:44:45Z","Content":"\n\u003Cp\u003ENice mod, I\u0027ve experimented with an old ram optimizer and whenever Sentinel changes in the yellow alert, I push a hotkey and the optimizer (RAMRush) does its job and bring Sentinel back in white safety. No yellow or red warnings anymore! No crashes, stable for a few hours with 70% of RAM during the start KSP and after the clean-up RAM of less than 70% for hours.\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-09T04:28:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022talung\u0022 data-cite=\u0022talung\u0022\u003E\u003Cdiv\u003EQuick Update. \u003Cp\u003EIt appears that the heat gauges and \u0022science alert\u0022 have memory leaks. This is probably what I was seeing and not your addon. Maybe I was just doing slightly different things that was causing it when I was playing with and without your addon.\u003C/p\u003E\u003Cp\u003EJust thought you should know.\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood to hear. More for myself than you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Akira_R\u0022 data-cite=\u0022Akira_R\u0022\u003E\u003Cdiv\u003EAny chance you can implement the ability to have it do an automatic quicksave if you are in flight and in a situation where you can quick save? I really like the configure ability of this and having this option as well as the pause option would be great!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s actually a big feature I\u0027m trying to implement. Unfortunately, it\u0027s being a lot trickier than I thought. Mainly because KSP doesn\u0027t really enjoy kicking a quicksave immediately when you load into flight mode (which is when the biggest memory fluctuations happen). I\u0027d have to somehow add strict conditions to only quick save if you\u0027ve been X minutes into flight or something along those lines.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mrsnoid\u0022 data-cite=\u0022mrsnoid\u0022\u003E\u003Cdiv\u003ENice mod, I\u0027ve experimented with an old ram optimizer and whenever Sentinel changes in the yellow alert, I push a hotkey and the optimizer (RAMRush) does its job and bring Sentinel back in white safety. No yellow or red warnings anymore! No crashes, stable for a few hours with 70% of RAM during the start KSP and after the clean-up RAM of less than 70% for hours.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcellent! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-12T03:53:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mrsnoid\u0022 data-cite=\u0022mrsnoid\u0022\u003E\u003Cdiv\u003ENice mod, I\u0027ve experimented with an old ram optimizer and whenever Sentinel changes in the yellow alert, I push a hotkey and the optimizer (RAMRush) does its job and bring Sentinel back in white safety. No yellow or red warnings anymore! No crashes, stable for a few hours with 70% of RAM during the start KSP and after the clean-up RAM of less than 70% for hours.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust wanted to re-quote this post. I do not intend to update this mod anymore as it\u0027s made obsolete by RAMRush. I searched for this RAMRush utility and it is astonishingly effective.\u003C/p\u003E\u003Cp\u003ECurrently, with a very mod-heavy load out (82 folders under GameData, yes, that\u0027s my metric for mod density), at the main menu, I\u0027m at 2 GB memory usage with ATM and OpenGL.\u003C/p\u003E\u003Cp\u003EThen I simply open RAMRush and let it do its thing.\u003C/p\u003E\u003Cp\u003EIt drops my usage to exactly 130 MB. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s all you have to do. During normal gameplay, my memory never goes over 1.5 GB usage. I\u0027m not quite sure how RAMRush works, but I know that Unity is rather generous when it comes to garbage collection in favour of runtime performance. It is entirely possible this program forces a GC cycle. But this entirely a speculation.\u003C/p\u003E\u003Cp\u003EYou can download the application here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.fcleaner.com/ramrush.htm\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.fcleaner.com/ramrush.htm\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI suggest anyone frustrated of memory issues in KSP to try it. All credit goes to \u003Cstrong\u003Emrsnoid \u003C/strong\u003Efor finding this gem. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2015-05-12T07:06:03Z","Content":"\n\u003Cp\u003EIt is a bit unclear what RamRush does and how exactly does it find KSP in order to optimize it\u0027s RAM usage. Does it tap into Unity or hook into KSP somehow? Do you point it to the program you want optimized? Are you sure it doesn\u0027t do this by unloading assets that are otherwise needed?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-12T08:18:33Z","Content":"\n\u003Cp\u003EThose soft have nothing to do with Garbage Collection. They just push memory to the swap. If you look at KSP virtual memory instead of the resident use you see that the memory is still here. It is pure snake oil.\u003C/p\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2015-05-12T08:36:17Z","Content":"\n\u003Cp\u003EYeah, that is what I thought, it can\u0027t tap into KSP directly. It\u0027s probably just pushing stuff to the pagefile. I remember we used such stuff back when Win 98 was still a thing.\u003C/p\u003E\n"},{"CreatedByName":"Zeenobit","CreatedById":125578,"CreatedDateTime":"2015-05-12T18:47:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThose soft have nothing to do with Garbage Collection. They just push memory to the swap. If you look at KSP virtual memory instead of the resident use you see that the memory is still here. It is pure snake oil.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EResults suggest it\u0027s not though. I managed to play over 5 hours continuously yesterday with just running RAMRush once at the start of KSP, which is something I was never able to do with KSP always crashing after one or two missions with my heavy mod loadout. I was very skeptical myself at first. If it\u0027s .NET based, it is entirely possible that it kicks off the GC. If it pushes physical memory to virtual, it would make a lot of sense. And it would reduce performance if it actually does that, unless you are running on a high performance SSD as I am.\u003C/p\u003E\u003Cp\u003EIn regards to unloading any assets that are actually needed by KSP, I have not seen it, and I\u0027m not sure that\u0027s possible, with GC or without. Unity manages the assets, and it has it\u0027s own rules on what to keep or not to keep. Unless the third party software communicates directly with Unity, it has no way of locating assets generically, causing immediate memory corruption if it tried it.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAnother possibility might have to with the *.dds texture format. If the textures are pushed directly to GPU memory, there is no reason why they should take up space on the system RAM and they might just be garbage waiting to be collected after they were loaded in and processed by Unity. I\u0027m not expert on GPU memory though, so this is just a guess.\u003C/p\u003E\n"},{"CreatedByName":"Kolago","CreatedById":103729,"CreatedDateTime":"2015-05-14T14:39:35Z","Content":"\n\u003Cp\u003EIs this normal?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFailed to load assembly C:\\Kerbal Space Program 1.0\\GameData\\KSEA\\Sentinel\\Native\\getRSS_x86.dll:\u003Cbr\u003ESystem.BadImageFormatException: Format of the executable (.exe) or library (.dll) is invalid.\u003Cbr\u003E\u003Cbr\u003E  at Mono.Cecil.PE.ImageReader.ReadOptionalHeaders (System.UInt16\u0026amp; subsystem, System.UInt16\u0026amp; dll_characteristics) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Mono.Cecil.PE.ImageReader.ReadImage () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Mono.Cecil.PE.ImageReader.ReadImageFrom (System.IO.Stream stream) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Mono.Cecil.ModuleDefinition.ReadModule (System.IO.Stream stream, Mono.Cecil.ReaderParameters parameters) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Mono.Cecil.ModuleDefinition.ReadModule (System.String fileName, Mono.Cecil.ReaderParameters parameters) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Mono.Cecil.ModuleDefinition.ReadModule (System.String fileName) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AssemblyLoader.ScanForBadTypeRefs (System.String file) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AssemblyLoader.LoadExternalAssembly (System.String file) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2015-05-14T15:02:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zeenobit\u0022 data-cite=\u0022Zeenobit\u0022\u003E\u003Cdiv\u003EResults suggest it\u0027s not though. I managed to play over 5 hours continuously yesterday with just running RAMRush once at the start of KSP, which is something I was never able to do with KSP always crashing after one or two missions with my heavy mod loadout. I was very skeptical myself at first. If it\u0027s .NET based, it is entirely possible that it kicks off the GC. If it pushes physical memory to virtual, it would make a lot of sense. And it would reduce performance if it actually does that, unless you are running on a high performance SSD as I am.\u003Cp\u003EIn regards to unloading any assets that are actually needed by KSP, I have not seen it, and I\u0027m not sure that\u0027s possible, with GC or without. Unity manages the assets, and it has it\u0027s own rules on what to keep or not to keep. Unless the third party software communicates directly with Unity, it has no way of locating assets generically, causing immediate memory corruption if it tried it.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAnother possibility might have to with the *.dds texture format. If the textures are pushed directly to GPU memory, there is no reason why they should take up space on the system RAM and they might just be garbage waiting to be collected after they were loaded in and processed by Unity. I\u0027m not expert on GPU memory though, so this is just a guess.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfter some tests, RamRush does not stop the game from crashing, and also distorts some planets ground textures. My Kerbin\u0027s grass texture became wavy.\u003C/p\u003E\n"},{"CreatedByName":"Muhahahahaz","CreatedById":144234,"CreatedDateTime":"2015-05-17T03:13:07Z","Content":"\n\u003Cp\u003EIs there a way to have it constantly display the memory usage? Maybe with a toggle?\u003C/p\u003E\u003Cp\u003EOtherwise, I still need to switch to Windows Task Manager.\u003C/p\u003E\n"}]}