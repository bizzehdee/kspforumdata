{"TopicId":58673,"ForumId":34,"TopicTitle":"Open Resource System (ORS) - Mod Resource API - version 1.4.2","CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-01-02T22:58:10Z","PageNum":9,"Articles":[{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-13T23:21:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003EVersion 1.3.0 Released\u003C/strong\u003E\u003C/span\u003E\u003Cp\u003EChangelog\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E-Main downloaded updated for 0.24 compatibility\u003Cbr\u003E-New Part Extension methods: instead of calling ORSHelper.fixedResourceResource(part,....), you can call part.ImprovedRequestResource(...).  \u003Cbr\u003E-Additionally added Part extension methods for GetConnectedResources() which could be handy.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWelcome back! \u003C/p\u003E\u003Cp\u003EMay want to get with Wave as there were other things/pull requests done in his branch of ORS (which is pretty much the same one I use for my entire mod constellation at this point due to the break with 0.24.2). Would be nice to get everyone back on the same canonical version.\u003C/p\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-14T00:21:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EWelcome back! \u003Cp\u003EMay want to get with Wave as there were other things/pull requests done in his branch of ORS (which is pretty much the same one I use for my entire mod constellation at this point due to the break with 0.24.2). Would be nice to get everyone back on the same canonical version.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had a brief peruse and it looked like the changes were approximately equivalent so there shouldn\u0027t be a major barrier to adoption but it would be good to get that confirmed by someone more in the loop than I am.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-14T00:35:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003EI had a brief peruse and it looked like the changes were approximately equivalent so there shouldn\u0027t be a major barrier to adoption but it would be good to get that confirmed by someone more in the loop than I am.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIncluding all of the SCANSat integration bits? Though the larger is going to be the duplicate key bit that causes older versions of ORS to lag into oblivion. IMO the ideal place to land would be an ORS that is common to KSPI, KSPI-L, and the USI mods (Karbonite, MKS, etc.) and that has more active inclusion of pull requests (as we\u0027ve seen in the fork we\u0027ve been using for the past couple of months). Then the only rub comes down to resource definition. Solved most of that during your hiatus with KSPI-L which now is in sync with TAC, US, NFT, MKS, etc. - so the question would be whether the original KSPI plays well in that sandbox. Though that is more of a KSPI issue not an ORS issue.\u003C/p\u003E\u003Cp\u003EThat being said, the one barrier to adoption will be the default resource definitions, as having these bundled gets really weird with CRP (which bundles all of the shared ORS configs in one package). So if those could move to KSPI vs. ORS that would make things easier.\u003C/p\u003E\n"},{"CreatedByName":"thisischrys","CreatedById":47686,"CreatedDateTime":"2014-09-17T14:12:51Z","Content":"\n\u003Cp\u003EIs it ok to load two versions of ORS dlls at the same time? Interstellar Lite and MKS include older versions.\u003C/p\u003E\u003Cp\u003EOr is it better to not include the ORS folder from those? MKS also has OpenResourceSystem_1_2_0.dll in \\UmbraSpaceIndustries, should I leave that one?\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-17T14:35:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022thisischrys\u0022 data-cite=\u0022thisischrys\u0022\u003E\u003Cdiv\u003EIs it ok to load two versions of ORS dlls at the same time? Interstellar Lite and MKS include older versions.\u003Cp\u003EOr is it better to not include the ORS folder from those? MKS also has OpenResourceSystem_1_2_0.dll in \\UmbraSpaceIndustries, should I leave that one?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMKS (or any mod that uses CRP, which includes a few outside of my constellation) are not compatible with KSPI at this time, other than the current version of KSPI-L (which uses CRP, just like MKS does).\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2014-09-17T15:38:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022thisischrys\u0022 data-cite=\u0022thisischrys\u0022\u003E\u003Cdiv\u003EIs it ok to load two versions of ORS dlls at the same time? Interstellar Lite and MKS include older versions.\u003Cp\u003EOr is it better to not include the ORS folder from those? MKS also has OpenResourceSystem_1_2_0.dll in \\UmbraSpaceIndustries, should I leave that one?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s generally safe to have an older version-numbered ORS dll in the folder of a plugin that depends on it, as long as GameData/OpenResourceSystem/Plugins/ contains the most recent version and there are no duplicate resource keys. It worked to have UmbraSpaceIndustries/OpenResourceSystem_1_2_0.dll after WaveFunctionP released an ORS 1_2_1. But like RoverDude said, there are resource conflicts that still need to be resolved between CRP and non-Lite KSPI, so trying to run them together out of the box will lead to sadness.\u003C/p\u003E\u003Cp\u003EFractal\u0027s development branch of KSPI seems to be pretty good with keeping all of the resources it uses configurable, so I doubt you would have to change the plugin if you wanted to take a stab at integration yourself. If you want the whole constellation to work out of the box, I\u0027d still recommend sticking with KSPI Lite and CRP.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-17T15:49:01Z\u0022 title=\u002209/17/2014 03:49  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 17, 2014\u003C/time\u003E by undercoveryankee\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-17T16:16:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003EIt\u0027s generally safe to have an older version-numbered ORS dll in the folder of a plugin that depends on it, as long as GameData/OpenResourceSystem/Plugins/ contains the most recent version and there are no duplicate resource keys. It worked to have UmbraSpaceIndustries/OpenResourceSystem_1_2_0.dll after WaveFunctionP released an ORS 1_2_1. But like RoverDude said, there are resource conflicts that still need to be resolved between CRP and non-Lite KSPI, so trying to run them together out of the box will lead to sadness.\u003Cp\u003EFractal\u0027s development branch of KSPI seems to be pretty good with keeping all of the resources it uses configurable, so I doubt you would have to change the plugin if you wanted to take a stab at integration yourself. If you want the whole constellation to work out of the box, I\u0027d still recommend sticking with KSPI Lite and CRP.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe weird bit is we have two forks - an ORS 0.2.1 that is actually further ahead (things like duplicate key detction, better SCANSat integration, etc.) than the 0.1.3 branch. And yep, couple that with some flat-out incompatibilities in resource structure (MKS and KSPI-L use CRP, Fractal\u0027s KSPI uses it\u0027s own thing), we\u0027re in an odd spot until I see how things shake out. And for the record, I really can\u0027t do another breakage of MKS - the pain was enough the last time.\u003C/p\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-17T18:11:01Z","Content":"\n\u003Cp\u003EHere is what I recommend:\u003C/p\u003E\u003Cp\u003EIn future Oceanic and Atmospheric resource definitions should be wrapped into another ConfigNode describing the pack of their origin, as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EATMOSPHERIC_RESOURCE_PACK_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E    name = ExamplePack\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveCarbonDioxide\u003Cbr\u003E\tguiName = Carbon Dioxide\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E\tabundance = 0.6217\u003Cbr\u003E    }\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveNitrogen\u003Cbr\u003E\tguiName = Nitrogen\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E        abundance = 0.3654\u003Cbr\u003E    }\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveArgon\u003Cbr\u003E\tguiName = Argon\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E\tabundance = 0.0103\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    .....\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe same should be repeated with OCEANIC_RESOURCE_PACK_DEFINITION. Now, the user should have only one of these packs so I will set it up such that ORS will load from only one pack.\u003C/p\u003E\u003Cp\u003EA new directory should probably be created called ORSResourcePack to contain the oceanic and atmospheric definitions, this should be the standard mechanism for distributing packs and should make it easier for the user to make sure they only have one installed at a time.\u003C/p\u003E\u003Cp\u003EHow does that sound?\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-17T19:45:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003EHere is what I recommend:\u003Cp\u003EIn future Oceanic and Atmospheric resource definitions should be wrapped into another ConfigNode describing the pack of their origin, as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EATMOSPHERIC_RESOURCE_PACK_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E    name = ExamplePack\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveCarbonDioxide\u003Cbr\u003E\tguiName = Carbon Dioxide\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E\tabundance = 0.6217\u003Cbr\u003E    }\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveNitrogen\u003Cbr\u003E\tguiName = Nitrogen\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E        abundance = 0.3654\u003Cbr\u003E    }\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveArgon\u003Cbr\u003E\tguiName = Argon\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E\tabundance = 0.0103\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    .....\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe same should be repeated with OCEANIC_RESOURCE_PACK_DEFINITION. Now, the user should have only one of these packs so I will set it up such that ORS will load from only one pack.\u003C/p\u003E\u003Cp\u003EA new directory should probably be created called ORSResourcePack to contain the oceanic and atmospheric definitions, this should be the standard mechanism for distributing packs and should make it easier for the user to make sure they only have one installed at a time.\u003C/p\u003E\u003Cp\u003EHow does that sound?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, as long as it only loads one then that takes care of that particular issue. What about planetary resources though? The dup key issue is the current showstopper. Will that follow a similar pattern where only one planetary resource file is loaded? \u003C/p\u003E\u003Cp\u003EThe only issue I see with having a specified folder is that it\u0027s confusing to users if they have two mods that have ORS definitions (thus making it a bit less open). Why not just handle it via dropping any duplicate keys that hit? So if a user installs both CRP and KSPI, they get the net of both packs, but in the event that both packs define water, only one gets loaded?\u003C/p\u003E\u003Cp\u003E(EDIT)\u003C/p\u003E\u003Cp\u003EORS as a whole is going to have to be robust enough to handle multiple mods using it simultaneously and by folks who do not care to be in the same playground and who will absolutely duplicate and stomp over keys. Thus duplicate checking and multiple mod support from a config standpoint is pretty critical.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-17T19:53:22Z\u0022 title=\u002209/17/2014 07:53  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 17, 2014\u003C/time\u003E by RoverDude\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2014-09-17T19:48:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003EHere is what I recommend:\u003Cp\u003EIn future Oceanic and Atmospheric resource definitions should be wrapped into another ConfigNode describing the pack of their origin, as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EATMOSPHERIC_RESOURCE_PACK_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E    name = ExamplePack\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveCarbonDioxide\u003Cbr\u003E\tguiName = Carbon Dioxide\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E\tabundance = 0.6217\u003Cbr\u003E    }\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveNitrogen\u003Cbr\u003E\tguiName = Nitrogen\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E        abundance = 0.3654\u003Cbr\u003E    }\u003Cbr\u003E    ATMOSPHERIC_RESOURCE_DEFINITION\u003Cbr\u003E    {\u003Cbr\u003E\tname = EveArgon\u003Cbr\u003E\tguiName = Argon\u003Cbr\u003E\tcelestialBodyName = Eve\u003Cbr\u003E\tabundance = 0.0103\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    .....\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe same should be repeated with OCEANIC_RESOURCE_PACK_DEFINITION. Now, the user should have only one of these packs so I will set it up such that ORS will load from only one pack.\u003C/p\u003E\u003Cp\u003EA new directory should probably be created called ORSResourcePack to contain the oceanic and atmospheric definitions, this should be the standard mechanism for distributing packs and should make it easier for the user to make sure they only have one installed at a time.\u003C/p\u003E\u003Cp\u003EHow does that sound?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI like it. I would probably name the top-level nodes something like ATMOSPHERIC_RESOURCE_PROFILE and OCEANIC_RESOURCE_PROFILE if it were up to me, but the concept is solid.\u003C/p\u003E\u003Cp\u003EUsing ModuleManager to inject a resource into an existing pack or change a resource from information-only to extractable is possible, and a patch that specifically looks for and tries to modify a known pack will be easier to write without breaking anything than a patch for \u0022any definitions that happen to be loaded.\u0022\u003C/p\u003E\u003Cp\u003EIf we adopt this, it will be nice if pack authors try to keep up a wiki page with the names of published packs and try to avoid using the same name for different packs.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-17T19:55:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003EI like it. I would probably name the top-level nodes something like ATMOSPHERIC_RESOURCE_PROFILE and OCEANIC_RESOURCE_PROFILE if it were up to me, but the concept is solid.\u003Cp\u003EUsing ModuleManager to inject a resource into an existing pack or change a resource from information-only to extractable is possible, and a patch that specifically looks for and tries to modify a known pack will be easier to write without breaking anything than a patch for \u0022any definitions that happen to be loaded.\u0022\u003C/p\u003E\u003Cp\u003EIf we adopt this, it will be nice if pack authors try to keep up a wiki page with the names of published packs and try to avoid using the same name for different packs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d anticipate and expect that mod authors are going to break things randomly, duplicate keys, and not play nice \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Cover that case and anything else is gravy.\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-09-17T20:00:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EI\u0027d anticipate and expect that mod authors are going to break things randomly, duplicate keys, and not play nice \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Cover that case and anything else is gravy.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAye. No matter how easy you make it to play together and have nice things, there will always be someone who, through inattention, ignorance, inexperience, or infernally malicious sociopathy, will \u003Cstrong\u003Enot\u003C/strong\u003E play nice, and will break not just other peoples things, but \u003Cstrong\u003Eall\u003C/strong\u003E the things...\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-17T20:34:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EAye. No matter how easy you make it to play together and have nice things, there will always be someone who, through inattention, ignorance, inexperience, or infernally malicious sociopathy, will \u003Cstrong\u003Enot\u003C/strong\u003E play nice, and will break not just other peoples things, but \u003Cstrong\u003Eall\u003C/strong\u003E the things...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne way to correct this in the case of ORS would be to have the unique key be a combination of ORS key and package, and not really care where the configs are. So I can continue to keep my ORS version in the USI folder, and my configs in the CRP folder without stomping on KSPI or vice versa.\u003C/p\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-18T00:07:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EOne way to correct this in the case of ORS would be to have the unique key be a combination of ORS key and package, and not really care where the configs are. So I can continue to keep my ORS version in the USI folder, and my configs in the CRP folder without stomping on KSPI or vice versa.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think it ultimately makes sense for their to be multiple sets of configs, it really breaks immersion if you\u0027re looking at a set of concentrations in one part which is telling you one thing and another part tells you another. It also becomes confusing because you have to start using different instruments to measure the resources associated with different mods.\u003C/p\u003E\u003Cp\u003EHence seperate the resource definitions cfgs from ORS into a seperate ORSResourcePack directory. The user then decides which pack they want to use, for now I\u0027ll probably just load the first if for some reason there are two but in future I might a drop-down list in the space centre so that users can switch between their resource config options there.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-18T00:12:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003EI don\u0027t think it ultimately makes sense for their to be multiple sets of configs, it really breaks immersion if you\u0027re looking at a set of concentrations in one part which is telling you one thing and another part tells you another. It also becomes confusing because you have to start using different instruments to measure the resources associated with different mods.\u003Cp\u003EHence seperate the resource definitions cfgs from ORS into a seperate ORSResourcePack directory. The user then decides which pack they want to use, for now I\u0027ll probably just load the first if for some reason there are two but in future I might a drop-down list in the space centre so that users can switch between their resource config options there.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKinda defeats the purpose of an Open Resource System if it\u0027s not really open \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESay for example someone wants to play with KSPI and MKS at the same time... they won\u0027t be able to unless we\u0027re in lockstep. Then if someone else wants to include a mod that added spice harvesting to Duna... well, it gets weird.\u003C/p\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-18T00:25:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EKinda defeats the purpose of an Open Resource System if it\u0027s not really open \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003ESay for example someone wants to play with KSPI and MKS at the same time... they won\u0027t be able to unless we\u0027re in lockstep. Then if someone else wants to include a mod that added spice harvesting to Duna... well, it gets weird.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs far as I can tell, the entire purpose of the CRP is to make sure that a bunch of mods are using the same resource defintions, the whole point of this change is to support things like that. All I will be doing is enforcing that you have to commit to one pack or another for atmospheric and oceanic resource definitions. In other words, if Kerbin has 20% Oxygen in it\u0027s atmosphere in one ORS-based mod, it must have 20% Oxygen in all ORS-based mods. If one mod tells you 20% and another tells you 10%, it\u0027s just not helpful to the player and it doesn\u0027t provide a good experience.\u003C/p\u003E\u003Cp\u003EPlanetary resource definitions are a completely different kettle of fish, so if someone wants to create a mod with spice resource maps for Duna and the ability for harvesting them, they can regardless of choice of pack.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-09-18T00:40:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003EPlanetary resource definitions are a completely different kettle of fish, so if someone wants to create a mod with spice resource maps for Duna and the ability for harvesting them, they can regardless of choice of pack.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERegardless of what happens with the other types of resources it\u0027s planetary resources that are the most common cause of critical errors in ORS. \u003C/p\u003E\u003Cp\u003EThe first thing that should be done, and \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/fa42a3467fea8171d87b4d482548f39013166ac9\u0022 rel=\u0022external nofollow\u0022\u003Ealready has been done\u003C/a\u003E (WaveFunctionP\u0027s \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/tree/development/OpenResourceSystem\u0022 rel=\u0022external nofollow\u0022\u003Edevelopment branch\u003C/a\u003E already contains a number of fixes to ORS and should probably be the starting point for any further development), is to fix the loading mechanism for planetary resources to prevent the game becoming unplayable when someone uses multiple copies of the same resource (and \u003Cem\u003Esomeone\u003C/em\u003E will always do this, regardless of how careful you are about distribution). The CRP already nicely handles the issue of multiple mods distributing the same resources in different packages, so I don\u0027t see any reason not to continue using that going forward.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-18T00:43:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003ERegardless of what happens with the other types of resources it\u0027s planetary resources that are the most common cause of critical errors in ORS. \u003Cp\u003EThe first thing that should be done, and \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/fa42a3467fea8171d87b4d482548f39013166ac9\u0022 rel=\u0022external nofollow\u0022\u003Ealready has been done\u003C/a\u003E (WaveFunctionP\u0027s \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/tree/development/OpenResourceSystem\u0022 rel=\u0022external nofollow\u0022\u003Edevelopment branch\u003C/a\u003E already contains a number of fixes to ORS and should probably be the starting point for any further development), is to fix the loading mechanism for planetary resources to prevent the game becoming unplayable when someone uses multiple copies of the same resource (and \u003Cem\u003Esomeone\u003C/em\u003E will always do this, regardless of how careful you are about distribution). The CRP already nicely handles the issue of multiple mods distributing the same resources in different packages, so I don\u0027t see any reason not to continue using that going forward.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, crustal resources are our current bone of contention and I agree that it would be best if the work done on guard clauses, etc. was integrated if it has not already been done.\u003C/p\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-18T00:46:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EYep, crustal resources are our current bone of contention and I agree that it would be best if the work done on guard clauses, etc. was integrated if it has not already been done.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlready done in my working copy.\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-19T09:45:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003EAlready done in my working copy.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow soon are we looking at getting an update? I\u0027m currently testing all of my work in anticipation of the 0.25 release, and have to make some hard decisions on how I handle resources before it hits.\u003C/p\u003E\u003Cp\u003EThanks\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-19T10:17:49Z\u0022 title=\u002209/19/2014 10:17  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 19, 2014\u003C/time\u003E by RoverDude\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-20T01:06:30Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EVersion 1.4.0 Released\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EHere is your update!\u003C/p\u003E\u003Cp\u003Echangelog:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E-Duplicate key detection for planetary resources\u003Cbr\u003E-Exposed IDictionary of current planetary resource info\u003Cbr\u003E-Atmospheric/Oceanic resources organised into map packs as described in #209\u003Cbr\u003E-Default atmospheric/oceanic resources removed from ORS\u003Cbr\u003E-Internal code more concise\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2014-09-20T01:09:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fractal_UK\u0022 data-cite=\u0022Fractal_UK\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EVersion 1.4.0 Released\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003Cp\u003EHere is your update!\u003C/p\u003E\u003Cp\u003Echangelog:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E-Duplicate key detection for planetary resources\u003Cbr\u003E-Exposed IDictionary of current planetary resource info\u003Cbr\u003E-Atmospheric/Oceanic resources organised into map packs as described in #209\u003Cbr\u003E-Default atmospheric/oceanic resources removed from ORS\u003Cbr\u003E-Internal code more concise\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! Will start testing this\u003C/p\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-20T01:20:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RoverDude\u0022 data-cite=\u0022RoverDude\u0022\u003E\u003Cdiv\u003EThanks! Will start testing this\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat, let me know if that seems to be working as you need.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-09-20T01:38:36Z","Content":"\n\u003Cp\u003EAny specific reason why \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/17bb8c9226ec83145ba20f6fe9a994a1cd174039\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E, \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/71538aa2f5727ecb69c0ed1abe19dac84cad4c6a\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E, and \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/20939a3f0e09fd0d87e7839fbfc772c1d7ffbefb\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E weren\u0027t implemented? The first two fix fairly critical bugs that can make the game unplayable in some cases, the third just makes things vastly simpler for accessing through reflection.\u003C/p\u003E\u003Cp\u003EAlso, is there anywhere where the source is available online? All I see is older versions on GitHub and Bitbucket; I\u0027d rather not have to resort to ILSpy to get to the source. Edit: nevermind, I just noticed how recently it was updated here.\u003C/p\u003E\n"},{"CreatedByName":"Fractal_UK","CreatedById":61595,"CreatedDateTime":"2014-09-20T12:54:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EAny specific reason why \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/17bb8c9226ec83145ba20f6fe9a994a1cd174039\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E, \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/71538aa2f5727ecb69c0ed1abe19dac84cad4c6a\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E, and \u003Ca href=\u0022https://github.com/WaveFunctionP/KSPInterstellar/commit/20939a3f0e09fd0d87e7839fbfc772c1d7ffbefb\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E weren\u0027t implemented? The first two fix fairly critical bugs that can make the game unplayable in some cases, the third just makes things vastly simpler for accessing through reflection.\u003Cp\u003EAlso, is there anywhere where the source is available online? All I see is older versions on GitHub and Bitbucket; I\u0027d rather not have to resort to ILSpy to get to the source. Edit: nevermind, I just noticed how recently it was updated here.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve incorporated the first two changes but I don\u0027t like the last one because it means there is two copies of almost the same code in ORSPlanetaryResourceMapData and that is really bad for maintenance.\u003C/p\u003E\u003Cp\u003EAs an alternative, I\u0027ve added getPixelAbundanceValue(int pix_x, int pix_y) and getLatLongAbundanceValue(double lat, double lng) to ORSPlanetaryResourceInfo and the getResourceAvailability methods in ORSPlanetaryResourceMapData now just call these methods for the appropriate ORSPlanetaryResourceInfo object rather than handling doing the actual calculations.\u003C/p\u003E\u003Cp\u003EYou can get access to the ORSPlanetaryResourceInfo\u0027s pixel abundances by using the ORSPlanetaryResourceMapData.PlanetaryResourceMapData property which returns an IDictionary\u0026lt;string, ORSPlanetaryResourceInfo\u0026gt;.\u003C/p\u003E\u003Cp\u003EThis has actually made the code quite a bit neater.\u003C/p\u003E\n"}]}