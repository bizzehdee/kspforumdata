{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":319,"Articles":[{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2017-12-30T15:37:11Z","Content":"\u003E \n\u003E \n\u003E Just now, Jimbodiah said:\n\u003E \n\u003E \n\u003E Did you modify any cfgs or add any patches? It could be a techtree issue in sstu, but I have not noticed it in a recent career playthrough (but I rarely use SRBs to be honest).\n\u003E \n\nonly the mechjeb.cfg. took out the techtree limiters.  \n\nI have SSTU Nova pack and SSTU Expansion, but -Expansion has been cut down to just including the \u0027no docking port\u0027 LC-2, -3 and -5 patches."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-30T18:28:30Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Sudragon said:\n\u003E \n\u003E \n\u003E only the mechjeb.cfg. took out the techtree limiters.  \n\u003E \n\u003E I have SSTU Nova pack and SSTU Expansion, but -Expansion has been cut down to just including the \u0027no docking port\u0027 LC-2, -3 and -5 patches.\n\u003E \n\nIts the SSTU Nova / SSTU expansion pack.\n\nThey screw up the tech-tree upgrade stuff because they haven\u0027t been updated in a long time.\n\nRemove them and your problem will go away."},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2017-12-31T01:08:45Z","Content":"That fixed it, but what am I going to do for an array of 72 F-1\u0027s now? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"TachyonGMZ","CreatedById":172198,"CreatedDateTime":"2018-01-01T23:44:35Z","Content":"I use the SMURFF mod to make my rocket have more realistic performance. I\u0027m not sure if this is normal or it is not working properly with this mod. I made two rockets, one with the stock 2.5m pod, a stock fuel tank and a skipper and one with the apollo pod, a 1.50x sstu fuel tank and a skipper. The stock one had about 5600 \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E while sstu had about 4400 \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E. Exact same engine exact same fuel tank size and fuel type. Pod was different as mentioned. Any idea why this is happening?"},{"CreatedByName":"Pappystein","CreatedById":85755,"CreatedDateTime":"2018-01-01T23:49:54Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, TachyonGMZ said:\n\u003E \n\u003E \n\u003E I use the SMURFF mod to make my rocket have more realistic performance. I\u0027m not sure if this is normal or it is not working properly with this mod. I made two rockets, one with the stock 2.5m pod, a stock fuel tank and a skipper and one with the apollo pod, a 1.50x sstu fuel tank and a skipper. The stock one had about 5600 \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E while sstu had about 4400 \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E. Exact same engine exact same fuel tank size and fuel type. Pod was different as mentioned. Any idea why this is happening?\n\u003E \n\nI would try the same test setup WITHOUT SMURF.  If the values end up being the same then the issue is with support for SSTU by SMURF and should be addressed in that forum. \n\nALSO Please make certain your Masses are the same in the test builds as that directly affects \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2018-01-02T00:10:07Z","Content":"SMURFF doesn\u0027t recognise the SSTU tanks as tanks, as the SSTU tanks do not use RESOURCE tags.\n\nTry this patch:\n\n    @PART[SSTU-SC-TANK-MFT-*|SSTU-SC-TANK-MUS]:NEEDS[SMURFF]\n    {mass /= 4\n    }\n\nThis\u0027ll cut down the mass of the tanks by a good bit, enough to be inline with SMURFF.\n\n**Edited \u003Ctime datetime=\u00222018-01-02T00:55:35Z\u0022 title=\u002201/02/2018 12:55  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 2, 2018\u003C/time\u003E by T-10a**"},{"CreatedByName":"TachyonGMZ","CreatedById":172198,"CreatedDateTime":"2018-01-02T00:42:19Z","Content":"What do I do with the patch and would sstu work with realfuels?"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2018-01-02T00:56:32Z","Content":"Paste it into a new config file (name it SSTU-SMURFF.cfg), and put it in your GameData folder.\n\nAnd SSTU does have a RealFuels config."},{"CreatedByName":"TachyonGMZ","CreatedById":172198,"CreatedDateTime":"2018-01-02T00:59:08Z","Content":"can I just install realfuels through \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003Eckan\u003C/abbr\u003E or do I need to put the realfuels config somewhere. Will the realfuels config icrease delta v from sstu?\n\n**Edited \u003Ctime datetime=\u00222018-01-02T00:59:54Z\u0022 title=\u002201/02/2018 12:59  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 2, 2018\u003C/time\u003E by TachyonGMZ**"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2018-01-02T01:03:16Z","Content":"Yes, RealFuels is in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003Eckan\u003C/abbr\u003E (I don\u0027t use it, as \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E is not usable w/ it.). Delta-V increase is subjective. Due to the changes to use real densities and propellants, certain parts may either gain or lose (!) deltaV.\n\n**Edited \u003Ctime datetime=\u00222018-01-02T01:03:28Z\u0022 title=\u002201/02/2018 01:03  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 2, 2018\u003C/time\u003E by T-10a**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-02T19:56:56Z","Content":"General development update:\n\nToday\u0027s (and recent days\u0027) work is consisting of figuring out the best way to define what models can be used in any given modular part -- how they are defined in the part config.  One of the goals of this is to make it easier to write the configs, and as such, the amount of information needed to set up the parts is being reduced quite a bit -- mostly in regards to variant model setup and support (e.g. the different variants in the MFT-A tank).\n\nTo this effect, each model definition now tracks what \u0027profiles\u0027 are compatible with its top and bottom attach nodes.  These are purely a config-level delineation, and not defined through code anywhere -- so you can add new profile types simply by using them in the model definition configs (similar to docking node compatibility).  What this is all for is to allow for only the valid adapter options to be available for selection depending on what current models are selected in other slots in the part.  For example the \u0027CORE\u0027 model will determine what the valid options are for upper/lower slot depending on its current selection, and the upper/lower slots will determine valid options for the nose/mount slots.  Any change to the core (or upper/lower) models *might ***** result in a change to subsequent models further down the hierarchy.  Instead of defining per-variant adapter selections in the part-config, you simply define all valid adapter options, and which ones are currently valid for any particular setup are determined by the profile types.  Each model can have multiple compatible profiles, and top/bottom profiles are tracked independently so a model might have a \u0027round\u0027 top profile, but a \u0027square\u0027 bottom profile.  \u0027none\u0027 is also valid, and specifies that the model has no compatible profiles (e.g. becomes the end of the chain; adapter options would be disabled).\n\nAnd what this is all building up to -- a major change in how fuel tanks are \u0027built\u0027 in the editor.  Rather than having a specific pre-built model for each \u0027tank length\u0027 for each variant (e.g. A-0-5, B-0-5), the standard MFT tank will allow for selection of the intertank variant as the \u0027core\u0027 model slot (lower pipes only, double pipes, no-pipes cryo, framed cryo), while the upper/lower slots will be populated with a selection of models of various tank-lengths.  So you will still have a standard tank with  a lower, intertank, and upper portion, but with explicit ability to configure each of their lengths.  The \u0027nose\u0027 and \u0027mount\u0027 slots in the model will still be populated with the standard selection of adapter models.\n\nOne other interesting capability that is being built in, and I\u0027ve discussed it briefly in the past, is \u0027model-scale-chaining\u0027 between the model slots in a modular-part.  Basically it works like this:\n\n- Each model definition tracks \u0027diameter\u0027, \u0027upper diameter\u0027, and \u0027lower diameter\u0027\n- User \u0027diameter\u0027 UI control directly influences the size of the \u0027CORE\u0027 model slot.\n- UPPER/LOWER model slots query the \u0027upper\u0027 and \u0027lower\u0027 diameter of the CORE slot to determine how they should scale their model to ensure it lines up with the upper/lower attach-point sizes of the CORE.\n- NOSE/MOUNT model slots query the upper/lower diameter of the UPPER/LOWER slots to determine their scaling.\n- Basically allows use of multiple adapters in a row while all maintaining proper ratio.  Or perhaps conical tanks.  Or something....  (N1 tanks with adapters?)\n\nNot sure that I\u0027ll be using the feature in any of the existing/reworked parts, but I\u0027ve got some ideas on where it can/will be used in the future.\n\nGetting about to the point where I can start working on updating a few model definitions and loading them into the part-config, and maybe start testing the code a bit later this week.  I\u0027m sure its going to be all sorts of broken for at least a few more weeks... but as I haven\u0027t heard much regarding the ETA on KSP1.4, I\u0027m in no huge rush.  Would rather take the time to do it all right and get all the desired features implemented properly rather than rushed and hacked/tacked on afterwards."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-02T21:19:21Z","Content":"1.4 releases tomorrow ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)\n\njk jk"},{"CreatedByName":"TachyonGMZ","CreatedById":172198,"CreatedDateTime":"2018-01-03T00:01:34Z","Content":"The SSTU SMURFF patch did not work what else can I try. I decided against realfuels for the \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003Eisru\u003C/abbr\u003E"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-03T00:23:26Z","Content":"Try my \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E patch ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2018-01-03T00:53:37Z","Content":"It doesn\u0027t work because I goofed it up.\n\nTry this instead:\n\n    @PART[SSTU-SC-TANK-MFT-*|SSTU-SC-TANK-MUS]:NEEDS[SMURFF]\n    {@mass /= 4\n    }\n\nEither that, or use Jimbodiah\u0027s patch (It instead buffs engine \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E to give \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E delta V with stock part thrust \u0026 mass.)\n\n**Edited \u003Ctime datetime=\u00222018-01-03T00:54:58Z\u0022 title=\u002201/03/2018 12:54  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 3, 2018\u003C/time\u003E by T-10a**"},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2018-01-03T02:31:59Z","Content":"[@TachyonGMZ](https://forum.kerbalspaceprogram.com/index.php?/profile/172198-tachyongmz/), did [@T-10a](https://forum.kerbalspaceprogram.com/index.php?/profile/176203-t-10a/)\u0027s patch work for you?\n\nI suspect it won\u0027t work for SSTU\u0027s modular fuel tanks, since the tankage mass is set in the editor. This is what I use to give SSTU tanks a realistic tankage mass of about 5% re and volume for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E in my Transmogrifier patches. It ignores SRBs. \n\n    //Module Manager patch to change tankage mass and volume in line with SMURFF\u0027s values\n    @PART[*]:HAS[@MODULE[SSTUVolumeContainer]|!MODULE[SSTUModularBooster]]:NEEDS[SSTU]\n    {@MODULE[SSTUVolumeContainer]{\t//name = SSTUVolumeContainer\t//default placeholder volume; set by MFT module below\t//volume = 100000\t//enableContainerEdit = true\t//enableFuelTypeChange = true\t//baseContainerIndex = 0\t@CONTAINER,*\t{\t\t//name = Main Tank\t\t//percent = 100\t\t@tankageVolume = 0.17 //0.15\t\t@tankageMass = 0.05 //0.15}}\t\n    }"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2018-01-03T04:33:20Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Nightside said:\n\u003E \n\u003E \n\u003E [@TachyonGMZ](https://forum.kerbalspaceprogram.com/index.php?/profile/172198-tachyongmz/), did [@T-10a](https://forum.kerbalspaceprogram.com/index.php?/profile/176203-t-10a/)\u0027s patch work for you?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I suspect it won\u0027t work for SSTU\u0027s modular fuel tanks, since the tankage mass is set in the editor. This is what I use to give SSTU tanks a realistic tankage mass of about 5% re and volume for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E in my Transmogrifier patches. It ignores SRBs. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     //Module Manager patch to change tankage mass and volume in line with SMURFF\u0027s values\n\u003E     @PART[*]:HAS[@MODULE[SSTUVolumeContainer]|!MODULE[SSTUModularBooster]]:NEEDS[SSTU]\n\u003E     {@MODULE[SSTUVolumeContainer]{\t//name = SSTUVolumeContainer\t//default placeholder volume; set by MFT module below\t//volume = 100000\t//enableContainerEdit = true\t//enableFuelTypeChange = true\t//baseContainerIndex = 0\t@CONTAINER,*\t{\t\t//name = Main Tank\t\t//percent = 100\t\t@tankageVolume = 0.17 //0.15\t\t@tankageMass = 0.05 //0.15}}\t\n\u003E     }\n\u003E \n\nTIL the mass is set via SSTUVolumeContainer. That\u0027ll be why it doesn\u0027t work."},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2018-01-03T05:04:47Z","Content":"\u003E \n\u003E \n\u003E 30 minutes ago, T-10a said:\n\u003E \n\u003E \n\u003E TIL the mass is set via SSTUVolumeContainer. That\u0027ll be why it doesn\u0027t work.\n\u003E \n\nTIL what TIL stands for, so thanks,  I guess we\u0027re even."},{"CreatedByName":"RedParadize","CreatedById":129285,"CreatedDateTime":"2018-01-04T04:35:20Z","Content":"Quick question for anyone that can answer it (almost certain that someone had done this)   \n\nI added Mount-Skeletal-S as a Nose on the Mus. I was wondering how to \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E to the top as well. Is it even possible?"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-01-04T05:00:01Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, RedParadize said:\n\u003E \n\u003E \n\u003E Quick question for anyone that can answer it (almost certain that someone had done this)   \n\u003E   \n\u003E \n\u003E I added Mount-Skeletal-S as a Nose on the Mus. I was wondering how to \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E to the top as well. Is it even possible?\n\u003E \n\nYou can either add separate \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E parts, or you could put another MUS on top, flipped, I guess."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-04T15:03:21Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, RedParadize said:\n\u003E \n\u003E \n\u003E I was wondering how to \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E to the top as well. Is it even possible?\n\u003E \n\nBuilt-in?  Not possible with current code.\n\n(the upcoming rewrite will have multi-\u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E-model-slot functionality though; lower \u002B upper, with UI selections for each)"},{"CreatedByName":"TachyonGMZ","CreatedById":172198,"CreatedDateTime":"2018-01-04T20:41:06Z","Content":"[@Jimbodiah](https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/) T-10a\u0027s patch did not work. Does your \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E patch work on all engines or only certain engines?"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-04T21:02:34Z","Content":"It is a global patch for ALL engines; stock and from mods. It looks for RealSolarSystem and any part with the ModuleEngine\\* and then changes the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E and Thrust so that a realistic looking rocket will do what the real life version does.\n\nIt\u0027s my personal patch for playing \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E without needing complete rebalancing like \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E or SMURFF.  I tend to test it on a realistic looking Delta IV Heavy built with SSTU which should just get an Orion CSM \u002B HUS into LEO. As the patch is so simple, you can fine tune the isp/thrust to your own liking.\n\nSee the link in my signature for the download, or just make an \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E.cfg file that contains the following:\n\n@PART[\\*]:HAS[@MODULE[ModuleEngines\\*]]:NEEDS[RealSolarSystem\u0026!SSRSS]:FINAL  \n\n{  \n\n    @MODULE[ModuleEngines\\*]  \n\n    {  \n\n        @maxThrust \\*= 1.7\n\n        @atmosphereCurve  \n\n        {  \n\n            @key[1, ] \\*= 1.7  \n\n            @key,1[1, ] \\*= 1.7  \n\n            @key,2[1, ] \\*= 1.7  \n\n        }  \n\n    }  \n\n}\n\n**Edited \u003Ctime datetime=\u00222018-01-04T21:07:53Z\u0022 title=\u002201/04/2018 09:07  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 4, 2018\u003C/time\u003E by Jimbodiah**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-04T21:02:43Z","Content":"Today\u0027s bit of development fun:\n\nJust finished writing up an external tool to help with writing ModelDefinitions and ModularPart configs.  Or rather, to output all of the valid model combinations for the model definitions specified inside of parts that use the SSTUModularPart module.  It loads the config nodes from the GameData folder, so works with the actual live part configs (does not include ModuleManager patches though; so the values must be actually defined in the config and not patched in afterwards).  It does not check solar or \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E options, only the models specified for the NOSE / UPPER / CORE / LOWER / MOUNT slots.  It loops through every possible combination and writes to an output file each valid combination that is found; a valid combination being anything that has a model for each slot, where all of the models\u0027 profiles are compatible with each-other.\n\nThe \u0027profiles\u0027 system I described earlier in the week works, and works very well so far, but trying to check every possible combination by hand/in your head would be.... difficult.  Hence this new tool.  No need to boot up KSP just to check if the adapters/mounts/etc are usable like they should be -- simply run the tool and check the output file that lists the combinations.  Will likely adapt it to also include an exception report -- a list of what models are not valid combinations, and a short explanation on -why- they are not seen as valid -- will be invaluable when doing more complex setups.\n\nAnd, as a bonus, I\u0027ll finally be able to get a count on the total possible model/mesh permutations for any specific part ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  (it was a huge number before; going to be even bigger with 5 main model slots in the parts; likely 100k\u002B on the MFT-A alone)\n\n[@TachyonGMZ](https://forum.kerbalspaceprogram.com/index.php?/profile/172198-tachyongmz/)  What exactly are you trying to accomplish?  (what is the goal, what other mods are in play)\n\nIt should be relatively simple to write a patch that adjusts the SSTU fuel tanks to have more \u0027realistic\u0027 mass fractions, but there are a few other considerations when other mods are also used.\n\n(I\u0027m not familiar with SMURFF or what it does... so trying to use that as an example means absolutely nothing to me)\n\n\u003E \n\u003E \n\u003E On 1/1/2018 at 4:44 PM, TachyonGMZ said:\n\u003E \n\u003E \n\u003E Exact same engine exact same fuel tank size and fuel type. Pod was different as mentioned.\n\u003E \n\nYou can\u0027t compare rocket (stage) \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E unless you use exactly the same parts in the upper stages.  A very small change in the upper-stages\u0027 mass makes a massive change in the lower stages\u0027 \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E numbers.\n\nTry the comparison with all other things being equal except for the fuel tank."},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2018-01-04T21:11:59Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, TachyonGMZ said:\n\u003E \n\u003E \n\u003E [@Jimbodiah](https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/) T-10a\u0027s patch did not work. Does your \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E patch work on all engines or only certain engines?\n\u003E \n\n[@TachyonGMZ](https://forum.kerbalspaceprogram.com/index.php?/profile/172198-tachyongmz/), read back a few posts. T-10\u2019s patch Only works for stock style parts. Try the patch I posted in response. That is the method for changing tank/fuel  mass ratio for SSTU tanks."}]}