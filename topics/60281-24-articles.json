{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":24,"Articles":[{"CreatedByName":"AmeliaEatyaheart","CreatedById":115681,"CreatedDateTime":"2014-11-25T06:14:00Z","Content":"\n\u003Cp\u003EI LOVE THAT SLIDER POT O_O \u0026lt;3\u003C/p\u003E\u003Cp\u003EAlso, mad props for the big red button! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2014-11-25T08:37:28Z","Content":"\n\u003Cp\u003EGlad you guys like it. :-)\u003C/p\u003E\u003Cp\u003EThe motorised slider is from \u003Ca href=\u0022https://www.sparkfun.com/products/10976\u0022 rel=\u0022external nofollow\u0022\u003ESparkFun\u003C/a\u003E. The motor needs 9V, so I had to put a little bit more effort in to powering the panel, but is very simple to drive.\u003C/p\u003E\u003Cp\u003EQuick question about the control packet, am I right in assuming TX TY and TZ are translation controls? I may have just ordered a couple of translation joysticks.\u003C/p\u003E\n"},{"CreatedByName":"superpilotkid","CreatedById":130082,"CreatedDateTime":"2014-11-25T09:07:42Z","Content":"\n\u003Cp\u003EI\u0027m just putting together a parts list at the moment for my panel \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EJust a quick question for zitronen. I\u0027m not sure how you find out where to get VData from (like att, heading, orb vel, etc) but do you think it would be possible to get velocity vector Data? As in Prograde. The VV is super important when flying and getting that info displayed would really be icing on the cake for me.\u003C/p\u003E\n"},{"CreatedByName":"AmeliaEatyaheart","CreatedById":115681,"CreatedDateTime":"2014-11-25T09:15:37Z","Content":"\n\u003Cp\u003EHaving a problem with the plugin atm, wondering if I can get a bit of advice...\u003C/p\u003E\u003Cp\u003ESo, I launch a ship, with a probe stuck on the top, and when the probe seperates, the game focus stays on the previous stage. When I switch vessels, the plugin analogue controls will not respond, or will still drive the other ship!\u003C/p\u003E\u003Cp\u003EThe selected craft will run, but only on standard keyboard controls.\u003C/p\u003E\u003Cp\u003EOnce the ships are seperated by over 2.5km, I can switch ships in mapview and the analogue controls are restored, but it\u0027s a bit disconcerting!\u003C/p\u003E\u003Cp\u003EObviously my staging sometimes leaves something to be desired, but... what\u0027s going on with the plugin controls? O_o\u003C/p\u003E\u003Cp\u003E(Very confused!)\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-11-25T14:38:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022harbingerx81\u0022 data-cite=\u0022harbingerx81\u0022\u003E\u003Cdiv\u003EWell, I just spent 3 hours trying to figure out how to get my Teensy version to correct for the structure padding issue on KSPBoardSendData()...All sorts of different variable arrangements, complicated buffers trying to arrange things correctly to get the right checksum, ridiculous bitmath, reading serial data and trying to convert the ACSII output into hex...Many many things that had me pulling my hair out...\u003Cp\u003EThen, the \u0022eureka/you-stupid-....\u0022 moment finally came when I remembered that the Teensy has capabilities to do Serial \u002B Joystick \u002B Mouse \u002B Keyboard emulation all at the same time, something I have never used...Less than a minute after this \u0027discovery\u0027, and one short line of code later (literally as simple as: Keyboard.print(\u0022 \u0022); ), I launched with a hardware button and felt that all to familiar mix of accomplishment from solving the problem, and embarrassment that I did not think of the obvious sooner...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nuke\u0022 data-cite=\u0022Nuke\u0022\u003E\u003Cdiv\u003Ethe arduino leonardo can do that too. though getting the hid joystick to work takes a few modifications to the arduino libraries. i found a tutorial with a simplified example with 4 (8 bit) axes, 2 hats and 32 buttons. i didnt like it so changed the hid descriptor to support 8 (16-bit) axes instead. and it works great. \u003Cp\u003Egot me an ads1115 i2c adc breakout as well so i can make use of those large axis ranges. it can do 2 16-bit differential channels or 4 single ended 15-bit channels. it has a prescaler that makes things confusing, it doesnt quite measure across a 5v range like the 10-bit adcs on the arduino. you can set it to ranges of: 256, 515, 1024, 2048, 4096, 6114 (clipped at 5000, because exceeding 5v would kill it) milivolts. so i set it to the 4096mv range, and simply put a resistor on the 5v side of the pot, of 1/4 the resistance across the pot. this lets the pot only output a value between 0 and 4 volts, and the adc is happy with it, mapping it out to the full range. \u003C/p\u003E\u003Cp\u003Eif you wanted an extra bit of resolution, you have differential mode. it would require a 2v reference on one of the differential inputs, a voltage divider would work fine. the pot would be hooked up in about the same way as single ended mode. the prescaler would need to be set to 2048, since you are measuring in relation to the 2v reference, so \u002B/- 2v. by playing with the reference voltage such as with another pot, you could do trim in hardware. \u003C/p\u003E\u003Cp\u003Eanalog is fun.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou guys going the joystick route have the bear in mind that Unity has a retarded 16 button limit on joysticks. I made my controller using a leonardo clone (pic in my profile), and found out the hard way. Also I as only able to get 7 out of 8 axes working for some reason. That is partly why I made the plugin.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022superpilotkid\u0022 data-cite=\u0022superpilotkid\u0022\u003E\u003Cdiv\u003EI\u0027m just putting together a parts list at the moment for my panel \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EJust a quick question for zitronen. I\u0027m not sure how you find out where to get VData from (like att, heading, orb vel, etc) but do you think it would be possible to get velocity vector Data? As in Prograde. The VV is super important when flying and getting that info displayed would really be icing on the cake for me.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe VOrbit should be your prograde velocity? I don\u0027t see any easy way of using the actual velocity vector which is a vector of 3 values of you velocity relative to the centre of the body in the non-rotating frame?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AmeliaEatyaheart\u0022 data-cite=\u0022AmeliaEatyaheart\u0022\u003E\u003Cdiv\u003EHaving a problem with the plugin atm, wondering if I can get a bit of advice...\u003Cp\u003ESo, I launch a ship, with a probe stuck on the top, and when the probe seperates, the game focus stays on the previous stage. When I switch vessels, the plugin analogue controls will not respond, or will still drive the other ship!\u003C/p\u003E\u003Cp\u003EThe selected craft will run, but only on standard keyboard controls.\u003C/p\u003E\u003Cp\u003EOnce the ships are seperated by over 2.5km, I can switch ships in mapview and the analogue controls are restored, but it\u0027s a bit disconcerting!\u003C/p\u003E\u003Cp\u003EObviously my staging sometimes leaves something to be desired, but... what\u0027s going on with the plugin controls? O_o\u003C/p\u003E\u003Cp\u003E(Very confused!)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK seem like something weird is happening with switching vessels. Is this happening with all your rockets or just that one? The plugin is supposed to know which is the current active vessel and only control that one, but there could be bugs with it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EGlad you guys like it. :-)\u003Cp\u003EThe motorised slider is from \u003Ca href=\u0022https://www.sparkfun.com/products/10976\u0022 rel=\u0022external nofollow\u0022\u003ESparkFun\u003C/a\u003E. The motor needs 9V, so I had to put a little bit more effort in to powering the panel, but is very simple to drive.\u003C/p\u003E\u003Cp\u003EQuick question about the control packet, am I right in assuming TX TY and TZ are translation controls? I may have just ordered a couple of translation joysticks.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes the descriptions are in the first post.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-25T14:40:58Z\u0022 title=\u002211/25/2014 02:40  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 25, 2014\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AmeliaEatyaheart","CreatedById":115681,"CreatedDateTime":"2014-11-25T14:56:55Z","Content":"\n\u003Cp\u003EAt first I thought it was just one ship, but it seems to be any ship that has multiple controllable stages (I use command probe parts a lot).\u003C/p\u003E\u003Cp\u003EAs far as I can work out, the flight readouts switch to the new vessel when KSP switches vessel, but the analogue controls stay with the \u0027main\u0027 ship, even if the camera is following another ship.\u003C/p\u003E\u003Cp\u003EAlso: While the ship is running off the analogue controls, the keyboard controls (WASDQE, IJKLHN, shift/ctrl throttle) will not respond - I vaguely remember that from the notes, but when I switch vessel and the analogue controls are still focussed on the old ship, the keyboard controls become live again for the newly focussed ship.\u003C/p\u003E\u003Cp\u003ENot sure if that helps you hunt down the gremlin, but hope the info helps \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-25T14:59:16Z\u0022 title=\u002211/25/2014 02:59  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 25, 2014\u003C/time\u003E by AmeliaEatyaheart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-11-25T15:33:21Z","Content":"\n\u003Cp\u003EOK I think I know what\u0027s going on. My code is only checking if the current active vessel is a valid vessel, and attaches an event driven function that updates the controls. So if your rocket is destroyed it will correctly detach the controls from the old one to the new one. However if you stage has multiple valid vessels or if you switch it doesn\u0027t remove and re-attach the function to the current one because it\u0027s not checking whether the vessels are different, just if they are valid. I have not done nearly enough testing on the axes controls since I don\u0027t use it myself...\u003C/p\u003E\u003Cp\u003EEdit: I think it should be easy to fix, can you send me your craft file so I can confirm? I\u0027ll try to get it fixed before the end of the week.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-25T15:36:24Z\u0022 title=\u002211/25/2014 03:36  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 25, 2014\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"harbingerx81","CreatedById":129299,"CreatedDateTime":"2014-11-25T19:16:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EYou guys going the joystick route have the bear in mind that Unity has a retarded 16 button limit on joysticks. I made my controller using a leonardo clone (pic in my profile), and found out the hard way. Also I as only able to get 7 out of 8 axes working for some reason. That is partly why I made the plugin.\u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs the 16-button joystick limit really an issue though when you can also send keyboard keystrokes?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EThe VOrbit should be your prograde velocity? I don\u0027t see any easy way of using the actual velocity vector which is a vector of 3 values of you velocity relative to the centre of the body in the non-rotating frame?\u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am not exactly sure what he was asking about, but a prograde/retrograde/etc marker would be a great thing to be able to add...I plan to use a small LCD to simulate the navball in some way, which I should be able to work out using the pitch/roll/heading data...I was not even thinking about additional markers until now. I have no idea how the game or the plugin are actually coded, but I would think that there should be some kind of separate vector data that determines where the markers appear on the navball itself, along with things like normal/anti-normal and the maneuver nodes. If that is what he was talking about, I agree that would be icing on the cake.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-11-25T19:20:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022harbingerx81\u0022 data-cite=\u0022harbingerx81\u0022\u003E\u003Cdiv\u003EIs the 16-button joystick limit really an issue though when you can also send keyboard keystrokes?.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t believe so, at least not for KSP. I\u0027m relying mostly on keystrokes and use the \u0022Joystick\u0022 device only for the analogue axis (pitch/roll/yaw/throttle and lateral X/Y).\u003C/p\u003E\u003Cp\u003EThis weekend I\u0027ll finally have time to build the case for my project. Expect some pictures \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. Still got a lot of soldering to be done but I still hope I can pull this off before the year runs out.\u003C/p\u003E\n"},{"CreatedByName":"harbingerx81","CreatedById":129299,"CreatedDateTime":"2014-11-25T23:02:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003EThis weekend I\u0027ll finally have time to build the case for my project. Expect some pictures \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. Still got a lot of soldering to be done but I still hope I can pull this off before the year runs out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wish that was my timeline...I have a kickstarter 3D printer coming sometime (hopefully) in Feb that I plan on using to make mine...I should have all the electronics done by the time it gets here, but they will just be a taunting jumble of wires and pretty lights for a while yet.\u003C/p\u003E\n"},{"CreatedByName":"AmeliaEatyaheart","CreatedById":115681,"CreatedDateTime":"2014-11-26T01:01:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003E...can you send me your craft file so I can confirm?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDone \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I had to cut out mod parts (I use a LOT of mod parts), but should work as expected (i.e. not work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E )\u003C/p\u003E\u003Cp\u003EAs I said, the flight parameters sent to the panel definitely appear to be attached to current vessel, it appears to be just the controls going back into KSP \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThankyou!!!!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"superpilotkid","CreatedById":130082,"CreatedDateTime":"2014-11-26T01:42:07Z","Content":"\n\u003Cp\u003EI honestly didn\u0027t think about using orbital information to develop my own VV by combining vectors :S. \u003C/p\u003E\u003Cp\u003EI figured the game might output the VV and other navball markers in a similar way to the attitude, ie pitch, roll, heading. \u003C/p\u003E\u003Cp\u003EI guess my primary use would be in flying. Utilising the difference between the VV and attitude to calculate a crude angle of attack for things like best lift to drag ratio, 3 degree glide slope approaches, maintaining level flight a whole lot easier, etc\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-11-27T17:29:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022superpilotkid\u0022 data-cite=\u0022superpilotkid\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI figured the game might output the VV and other navball markers in a similar way to the attitude, ie pitch, roll, heading. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcept KSP doesn\u0027t ouput pitch roll or heading. I had to steal code from mechjeb to do some quaternion math to calculate them.\u003C/p\u003E\u003Cp\u003EEdit: You can already calculate your glide slope (or lift/drag ratio) using vsurf and VVI, all you need to calculate is your horizontal speed.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-27T18:17:02Z\u0022 title=\u002211/27/2014 06:17  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 27, 2014\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-11-28T06:48:08Z","Content":"\n\u003Cp\u003E@Zitronen: This has probably been asked a few times already but my search skills fail me today \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E.\u003C/p\u003E\u003Cp\u003EAre there any plans to send status information for SAS, RCS, Vessel Lights, Brakes, Gear (is there more? can\u0027t think of any) from KSP to the Microcontroller? I believe a single bit-mask of uint_8 should suffice to do this. That said I have no idea whether that is planned or even feasible. It\u0027d be nice however if hardware controllers could display status lights for these things that stay in sync with the game.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-11-28T10:58:51Z","Content":"\n\u003Cp\u003EPeople have been asking for it since the beginning, unfortunately I don\u0027t know how to get that stuff! So most people have just been hard-wiring LEDs to switches.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-11-28T11:06:49Z","Content":"\n\u003Cp\u003EAh okay I was afraid you might say that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf I remember correctly RasterPropMonitor and kOS both have figured out a way to get the info though - maybe I find some time one of these days to search through their code.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-11-28T12:37:20Z","Content":"\n\u003Cp\u003EOkay I just seized part of my lunch break to do some research.\u003C/p\u003E\u003Cp\u003EAren\u0027t you already working with RCS, SAS and the like in KSPIO.cs Start() after the \u0022sync inputs at start\u0022 comment?\u003C/p\u003E\u003Cp\u003EI checked kOS and they seem to just access the KSPActionGroup suffixes and validate against those. \u003C/p\u003E\u003Cp\u003EThis is probably too easy, right?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate:\u003C/strong\u003E Seems as if RasterProp also isn\u0027t doing anything more. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Mihara/RasterPropMonitor/blob/b4618154ed11f96c8be3d9691ba1b154229e8e5d/RasterPropMonitor/Auxiliary%20modules/JSIActionGroupSwitch.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Mihara/RasterPropMonitor/blob/b4618154ed11f96c8be3d9691ba1b154229e8e5d/RasterPropMonitor/Auxiliary%20modules/JSIActionGroupSwitch.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELines 49 following.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate 2\u003C/strong\u003E DAMNIT I just realized that if this is true I need to re-evaluate my controls layout for the box that I was about to put together this weekend \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Oh the irony\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-28T12:43:34Z\u0022 title=\u002211/28/2014 12:43  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 28, 2014\u003C/time\u003E by MrOnak\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hakan","CreatedById":92934,"CreatedDateTime":"2014-11-28T14:02:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EUpdate 2\u003C/strong\u003E DAMNIT I just realized that if this is true I need to re-evaluate my controls layout for the box that I was about to put together this weekend \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Oh the irony\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood thing I already rewired my control panel for the five buttons / leds yesterday \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-11-28T14:12:37Z","Content":"\n\u003Cp\u003EOh well... guess I need to rearrange things. Again.\u003C/p\u003E\u003Cp\u003EBTW this is it, work-in-progress. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/oHN3pj5.png\u0022 alt=\u0022oHN3pj5.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAll the blue rectangles are 7-segment displays or bar displays. Their spacing is not 100% spot on yet and I don\u0027t like the empty space next to the DSKY info lights. The latter is probably solved in case I need 5 more info lights for SAS, RCS, ... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"harbingerx81","CreatedById":129299,"CreatedDateTime":"2014-11-28T17:02:18Z","Content":"\n\u003Cp\u003EVery nice! I think I am going to have to add a lot more controls to mine (though probably not quite as many as you have) before I am done...I just need to wait for my shift registers to get here, since all I had laying around were SIPO...For some reason I had not thought about all the other gameplay related keybindings that I should add to things.\u003C/p\u003E\u003Cp\u003ERight now, I am stuck on some hardware serial issues because I am going to need to add a second microcontroller into the mix...The 240x320 LED screens I want to use take WAY too long to update even using a Teensy 3.1...Ends up clogging the serial buffer and causing all sorts of problems so I am going to outsource the problem...If I can ever get the damn things to talk to each other.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-11-28T20:28:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003EOkay I just seized part of my lunch break to do some research.\u003Cp\u003EAren\u0027t you already working with RCS, SAS and the like in KSPIO.cs Start() after the \u0022sync inputs at start\u0022 comment?\u003C/p\u003E\u003Cp\u003EI checked kOS and they seem to just access the KSPActionGroup suffixes and validate against those. \u003C/p\u003E\u003Cp\u003EThis is probably too easy, right?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate:\u003C/strong\u003E Seems as if RasterProp also isn\u0027t doing anything more. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Mihara/RasterPropMonitor/blob/b4618154ed11f96c8be3d9691ba1b154229e8e5d/RasterPropMonitor/Auxiliary%20modules/JSIActionGroupSwitch.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Mihara/RasterPropMonitor/blob/b4618154ed11f96c8be3d9691ba1b154229e8e5d/RasterPropMonitor/Auxiliary%20modules/JSIActionGroupSwitch.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELines 49 following.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate 2\u003C/strong\u003E DAMNIT I just realized that if this is true I need to re-evaluate my controls layout for the box that I was about to put together this weekend \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Oh the irony\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt seems to me that they are not reading the status from KSP, they are just recording the user inputs into an persistence file and using that.\u003C/p\u003E\n"},{"CreatedByName":"mountaineerman","CreatedById":125387,"CreatedDateTime":"2014-11-28T22:21:32Z","Content":"\n\u003Cp\u003EHi guys,\u003C/p\u003E\u003Cp\u003EI was hoping you guys could help me with a problem I am having with the liquid fuel in the stage. It works - unless I have only side-mounted engines in a stage. Then It says that the remaining and total fuel in the stage is equal to 0. Does anyone have any suggestions for fixing this, or is having similar problems?\u003C/p\u003E\u003Cp\u003EAlso, I am having trouble with momentary buttons I added to act as action group buttons. When I use the default code, If I tie it for example to toggling the lights, the lights will only stay on for as long as I am holding down the button.\u003C/p\u003E\u003Cp\u003EI can try to clarify better if anyone would like to know more.\u003C/p\u003E\u003Cp\u003EThanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-11-28T23:40:44Z","Content":"\n\u003Cp\u003EThe plugin uses a recursive resource search thing I stole from somewhere to get the stage fuel, there are unfortunately many ways for it not to work... You can try adding a small fuel tank before the engine and fuel line it to the rest of the fuel?\u003C/p\u003E\u003Cp\u003EThe control groups are designed to be used with toggle switches, if you want use buttons you need to write some simple arduino code to toggle a variable. You can also just assign one button in VAB to turn something on (e.g. lights) and another to turn it off.\u003C/p\u003E\n"},{"CreatedByName":"mountaineerman","CreatedById":125387,"CreatedDateTime":"2014-11-29T01:00:31Z","Content":"\n\u003Cp\u003EThank you Zitronen! I ended up creating a fancy if-statement sequence that would display total fuel remaining if for whatever reason the stage fuel was not showing up. That will probably do for now.\u003C/p\u003E\u003Cp\u003EI will go write some code for the buttons, I think I understand how they work now.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-11-29T08:13:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EIt seems to me that they are not reading the status from KSP, they are just recording the user inputs into an persistence file and using that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmmm, that\u0027d be a shame. I\u0027ll dig some more into their code \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}