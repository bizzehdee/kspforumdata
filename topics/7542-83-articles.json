{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":83,"Articles":[{"CreatedByName":"Malah","CreatedById":96644,"CreatedDateTime":"2016-03-24T22:03:29Z","Content":"\n\u003Cp\u003E\nHello, is there a way to use the GenericAppFrame used on the EngineersReport and on the ContractsApp for our mods which has applauncher\u0027s button? I\u0027ve tried to use it but I haven\u0027t found how to do it without many errors from many variables used in the GenericAppFrame class.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-24T22:04:20Z\u0022 title=\u002203/24/2016 10:04  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 24, 2016\u003C/time\u003E by Malah\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-03-24T22:17:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222472185\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458857009\u0022 data-ipsquote-userid=\u002296644\u0022 data-ipsquote-username=\u0022Malah\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Malah said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello, is there a way to use the GenericAppFrame used on the EngineersReport and on the ContractsApp for our mods which has applauncher\u0027s button? I\u0027ve tried to use it but I haven\u0027t found how to do it without many errors from many variables used in the GenericAppFrame class.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEven if it is possible, there is little point trying to do any sort of complex interaction with stock UI code at this point because KSP 1.1 is just around the corner and the UI code has been totally overhauled.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-24T22:17:29Z\u0022 title=\u002203/24/2016 10:17  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 24, 2016\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Malah","CreatedById":96644,"CreatedDateTime":"2016-03-24T23:42:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222472201\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458857824\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEven if it is possible, there is little point trying to do any sort of complex interaction with stock UI code at this point because KSP 1.1 is just around the corner and the UI code has been totally overhauled.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes but I want to learn how to do it, perhaps that on the 1.1, I could use this new knowledge \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T07:27:14Z","Content":"\n\u003Cp\u003E\nWhile retractable things (say, Solar panels) are moving, the \u0022extend\u0022 and \u0022retract\u0022 buttons are not visible. Once they stop moving, the appropriate button becomes displayed.\n\u003C/p\u003E\n\u003Cp\u003E\nI know that buttons are KSPEvent() and I can make one that shows up or not. I even figured out how to enable and disable them (and change their text, in case that\u0027s needed). However, I can\u0027t seem to grasp how to change these states based on the status of the part.\n\u003C/p\u003E\n\u003Cp\u003E\nSpecifically, this is for \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/136173-A\u0022\u003EAll Y\u0027All\u003C/a\u003E. I\u0027m trying to make it so my buttons work the same way the stock ones do visually. So you only have one button \u0022Extend all\u0022 and that only is there if the selected panel is retracted. When you click it, it goes away, the panel (and all panels) extends, then when it\u0027s done extending a \u0022Retract all\u0022 button appears.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-14T08:45:16Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003Evoid\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EExtendAll\u003C/span\u003E\u003Cspan\u003E()\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003E// stuff\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003EStartCoroutine\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EwaitForExtended\u003C/span\u003E\u003Cspan\u003E());\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003Cspan\u003E\n\n\u003C/span\u003E\u003Cspan\u003ESystem\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003ECollections\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EIEnumerator\u003C/span\u003E\u003Cspan\u003E waitForExtended\u003C/span\u003E\u003Cspan\u003E()\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003Ewhile\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Emodule\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EState\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E!=\u003C/span\u003E\u003Cspan\u003E extended\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E// replace with actual state checks obviously... \u003C/span\u003E\u003Cspan\u003E\n\t\tyield \u003C/span\u003E\u003Cspan\u003Ereturn\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Enew\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EWaitForSeconds\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E1.0\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E// check once per second whether the tate change has finished\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003E// set retract event visible\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIf it doesn\u0027t have an event, you can always just poll it until it is where you want it\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T08:49:59Z\u0022 title=\u002204/14/2016 08:49  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T09:18:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222513305\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460623516\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\n\u003Cspan\u003Evoid\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EExtendAll\u003C/span\u003E\u003Cspan\u003E()\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003E// stuff\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003EStartCoroutine\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EwaitForExtended\u003C/span\u003E\u003Cspan\u003E());\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003Cspan\u003E\n\n\u003C/span\u003E\u003Cspan\u003ESystem\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003ECollections\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EIEnumerator\u003C/span\u003E\u003Cspan\u003E waitForExtended\u003C/span\u003E\u003Cspan\u003E()\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003Ewhile\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Emodule\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EState\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E!=\u003C/span\u003E\u003Cspan\u003E extended\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E// replace with actual state checks obviously... \u003C/span\u003E\u003Cspan\u003E\n\t\tyield \u003C/span\u003E\u003Cspan\u003Ereturn\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Enew\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EWaitForSeconds\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E1.0\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E// check once per second whether the tate change has finished\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003E// set retract event visible\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIf it doesn\u0027t have an event, you can always just poll it until it is where you want it\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat actually makes sense to me. Thank you. I may need a little more help with the \u0022module.state != extended\u0022 part as that looks like pseudocode, especially with the comment \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t actually know how to check that state, either on the part or the module or what. I also don\u0027t know how to find out what it should be, or even the exact syntax. For fun I just tried typing \u0022module\u0022 into VS (which is pretty helpful in at least letting you know you\u0027re on the right track) and it doesn\u0027t seem to be valid.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-14T09:32:23Z","Content":"\n\u003Cp\u003E\nModule is one of the things (Part Modules...) you just called extend on, probably the one on the same part as your module. Using solar panels as an example\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E// if your module is running alongside the solar panel module (extends PartModule)\n// get a solar panel module to work on\nModuleDeployableSolarPanel solarPanel = part.Modules.OfType\u003C/span\u003E\u003Cspan\u003E\u0026lt;ModuleDeployableSolarPanel\u0026gt;\u003C/span\u003E\u003Cspan\u003E().FirstOrDefault();\nif (solarPanel == null)\n  return; // incase we don\u0027t find any (which is stupid, but w/e)\n\n// wait for it to finish extending\nwhile (solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.Extending)\n// blah blah blah...\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nMuch easier if you are already running inside the solar panel though because the solarPanel reference above is the object running the code. Objects can access their own properties without all the fuss\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003E// if your module extends ModuleDeployableSolarPanel\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003Ewhile\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EpanelState \u003C/span\u003E\u003Cspan\u003E==\u003C/span\u003E\u003Cspan\u003E panelStates\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EExtending\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// blah\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T09:44:50Z\u0022 title=\u002204/14/2016 09:44  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T10:00:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222513337\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460626343\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMuch easier if you are already running inside the solar panel though because the solarPanel reference above is the object running the code. Objects can access their own properties without all the fuss\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\n\u003Cspan\u003E// if your module extends ModuleDeployableSolarPanel\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003Ewhile\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EpanelState \u003C/span\u003E\u003Cspan\u003E==\u003C/span\u003E\u003Cspan\u003E panelStates\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EExtending\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// blah\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think something like this should work for me as this will always be running in a Solar panel. However, it\u0027s still not liking the syntax for some reason. I think it\u0027s because I\u0027m not actually modifying ModuleDepoloyableSolarPanel, but instead adding a new module. Among all the things I don\u0027t know is how to tell it I\u0027m in a solar panel.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the full code I have so far. I put the error as a comment on the line that the compiler\u0027s complaining about:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E    public class AYA_Solar_Test : PartModule\n    {\n        public bool togglesolar = true; // may need changed to take into account already open panels\n        [KSPEvent(guiActive = true, guiActiveEditor = false, guiName = \u0022Extend All TEST\u0022)]\n        public void ToggleAllSolar()\n        {\n            foreach (Part eachPart in vessel.Parts)\n            {\n                var panel = eachPart.FindModuleImplementing\u003C/span\u003E\u003Cspan\u003E\u0026lt;ModuleDeployableSolarPanel\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n                if (togglesolar) if (panel != null) panel.Extend();\n                if (!togglesolar) if (panel != null) panel.Retract();\n            }\n            Events[\u0022ToggleAllSolar\u0022].guiActive = false;\n            while (panelState == panelstates.Extending) // CS0103 The name \u0027panelState\u0027 does not exist in th current context (Same with panelStates)\n            {\n                // do stuff\n            }\n            if (togglesolar) Events[\u0022ToggleAllSolar\u0022].guiName = \u0022Retract All TEST\u0022;\n            if (!togglesolar) Events[\u0022ToggleAllSolar\u0022].guiName = \u0022Extend All TEST\u0022;\n            togglesolar = !togglesolar;\n        }\n    }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-14T10:12:30Z","Content":"\n\u003Cp\u003E\n1) You need to use the first method. Your class is not a solar panel, it operates on objects that are solar panels\u003Cbr\u003E\n2) The \u0022StartCoroutine\u0022 and second function in my first answer is extremely important. The structure you have there will freeze the game indefinitely because KSP can\u0027t do anything while you\u0027re in that while loop. When a Coroutine \u0022yields\u0022, the function gets paused and lets KSP continue until some condition is met (the 1 second time period in my example) and then it unpauses the function again (repeat until it reaches the end of the function).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T10:17:40Z\u0022 title=\u002204/14/2016 10:17  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T10:18:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222513362\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460628750\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n1) You need to use the first method. Your class is not a solar panel, it operates on objects that are solar panels\u003Cbr\u003E\n2) The \u0022StartCoroutine\u0022 and second function in my first answer is extremely important. The structure you have there will freeze the game indefinitely because KSP can\u0027t do anything while you\u0027re in that while loop. When a Coroutine \u0022yields\u0022, the function gets paused and lets KSP continue until some condition is met (the 1 second time period in my example) and then it unpauses the function again.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n1) Aha. Am I right in thinking that that first method will just pick the first Solar Panel it finds? I don\u0027t mind that as a backup, but I\u0027d prefer it pick the actual part we\u0027re dealing with if possible. It should be a solar panel, I\u0027m setting that in a modulemanager config.\n\u003C/p\u003E\n\u003Cp\u003E\n2) Oops. I thought maybe I could simplify it \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll fiddle a bit more and undoubtedly come up with something else that I can\u0027t figure out. As always, thank you very much.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-14T10:27:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222513370\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460629093\u0022 data-ipsquote-userid=\u002273725\u0022 data-ipsquote-username=\u00225thHorseman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, 5thHorseman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAm I right in thinking that that first method will just pick the first Solar Panel it finds?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes. I was just getting a reference to work with because I wasn\u0027t looking at how you\u0027d done it. You can get that reference however you like\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// inside the extend loop\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// existing code\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003EStartCoroutine\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EcheckState\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Epanel\u003C/span\u003E\u003Cspan\u003E));\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E// one for each panel we\u0027re extending\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// end loop\u003C/span\u003E\u003Cspan\u003E\n\n\u003C/span\u003E\u003Cspan\u003E// and the check state function\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003EIEnumerator\u003C/span\u003E\u003Cspan\u003E checkState\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EModuleDeployableSolarPanel\u003C/span\u003E\u003Cspan\u003E panel\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\t\u003C/span\u003E\u003Cspan\u003Ewhile\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Epanel\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EpanelState\u003C/span\u003E\u003Cspan\u003E...)\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// change button visibility on this panel\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T10:52:20Z\u0022 title=\u002204/14/2016 10:52  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T10:31:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222513375\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460629648\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes. I was just getting a reference to work with because I wasn\u0027t looking at how you\u0027d done it\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\n\u003Cspan\u003E// inside the extend loop\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// existing code\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003EStartCoroutine\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EcheckState\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Epanel\u003C/span\u003E\u003Cspan\u003E));\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E// one for each panel we\u0027re extending\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// end loop\u003C/span\u003E\u003Cspan\u003E\n\n\u003C/span\u003E\u003Cspan\u003E// and the check state function\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003EIEnumerator\u003C/span\u003E\u003Cspan\u003E checkState\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EModuleDeployableSolarPanel\u003C/span\u003E\u003Cspan\u003E panel\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E// change button visibility\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo wait, that would change the visibility of each button in all of the panels\u0027 right click menus? That\u0027s actually super cool and I didn\u0027t even know I wanted it to work that way until just now.\n\u003C/p\u003E\n\u003Cp\u003E\nOkay one last thing and I\u0027m (hopefully) out of your hair. VS is complaining that I have to return a value, but I don\u0027t even know what an IEnumerator is. I tried 1 and 0 but it says Int doesn\u0027t count.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-14T10:37:12Z","Content":"\n\u003Cp\u003E\nThat\u0027s just saying there needs to be a yield statement in the function (if there isn\u0027t, you\u0027ll get that indefinite freeze :P)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003Ewhile\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E/*extending*/\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E\n\tyield \u003C/span\u003E\u003Cspan\u003Ereturn\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Enew\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EWaitForSeconds\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E1.0\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T10:43:11Z","Content":"\n\u003Cp\u003E\nThis is making my brain implode on itself. I really do thank you for this it\u0027s no end of help but I think I\u0027ve reached my limit for the day. I\u0027ll go over all of this again after a good sleep and maybe a stiff drink. But probably not in that order.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T10:44:14Z\u0022 title=\u002204/14/2016 10:44  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by 5thHorseman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-15T05:17:34Z","Content":"\n\u003Cp\u003E\nOkay as expected some liquidity and sleep has invigorated me anew, and I\u0027m seeming to make progress. However I seem to still be missing some critical things, and would love some more help. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/92871-crzyrndm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002292871\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/92871-crzyrndm/\u0022\u003E@Crzyrndm\u003C/a\u003E, If you\u0027ve said something above that I didn\u0027t implement below, don\u0027t think I\u0027m ignoring you. I\u0027m just .that. .lost. here.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the code I have. It technically works but not the way I want. the text (\u0022extend all\u0022 and \u0022retract all\u0022) don\u0027t change and the buttons don\u0027t disappear during movement, but the panels DO all extend and retract:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E    public class AYA_Solar_Test : PartModule\n    {\n        [KSPEvent(guiActive = true, guiActiveEditor = false, guiName = \u0022UNINITIALIZED!\u0022)]\n        public void ToggleAllSolar()\n        {\n            foreach (Part eachPart in vessel.Parts)\n            {\n                var panel = eachPart.FindModuleImplementing\u003C/span\u003E\u003Cspan\u003E\u0026lt;ModuleDeployableSolarPanel\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n                if (panel != null)\n                {\n                    if (panel.panelState == ModuleDeployableSolarPanel.panelStates.RETRACTED) { panel.Extend(); }\n                    if (panel.panelState == ModuleDeployableSolarPanel.panelStates.EXTENDED)  { panel.Retract(); }\n                    StartCoroutine(waitForExtendRetractSolar(panel));\n                }\n            }\n        }\n        public System.Collections.IEnumerator waitForExtendRetractSolar(ModuleDeployableSolarPanel solarPanel)\n        {\n            solarPanel.Events[\u0022ToggleAllSolar\u0022].guiActive = false;\n            while (solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.EXTENDING || solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.RETRACTING)\n            {\n                yield return new WaitForSeconds(1);\n            }\n            if (solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.RETRACTED) { solarPanel.Events[\u0022ToggleAllSolar\u0022].guiName = \u0022Extend All TEST\u0022; }\n            if (solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.EXTENDED) { solarPanel.Events[\u0022ToggleAllSolar\u0022].guiName = \u0022Retract All TEST\u0022; }\n            solarPanel.Events[\u0022ToggleAllSolar\u0022].guiActive = true;\n            yield return new WaitForSeconds(0) ; // This is totally a kludge I have it in here because it doesn\u0027t error out. I\u0027ll happily fix it if someone tells me how.\n        }\n    }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nEarlier, I had this code and it worked perfectly. The hide/reveal part worked, and the text changed from \u0022extend\u0022 to \u0022retract\u0022 as expected. However, it only did it on the panel I right-clicked on. The other panels extended and retracted, but their buttons stayed visible and their text didn\u0027t change. It\u0027s why I made the changes in the first code block:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E    public class AYA_Solar_Test : PartModule\n    {\n        [KSPEvent(guiActive = true, guiActiveEditor = false, guiName = \u0022Extend All TEST\u0022)]\n        public void ToggleAllSolar()\n        {\n            foreach (Part eachPart in vessel.Parts)\n            {\n                var panel = eachPart.FindModuleImplementing\u003C/span\u003E\u003Cspan\u003E\u0026lt;ModuleDeployableSolarPanel\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n                if (panel != null)\n                {\n                    if (panel.panelState == ModuleDeployableSolarPanel.panelStates.RETRACTED) { panel.Extend(); }\n                    if (panel.panelState == ModuleDeployableSolarPanel.panelStates.EXTENDED)  { panel.Retract(); }\n                    StartCoroutine(waitForExtendRetractSolar(panel));\n                }\n            }\n        }\n        System.Collections.IEnumerator waitForExtendRetractSolar(ModuleDeployableSolarPanel solarPanel)\n        {\n            Events[\u0022ToggleAllSolar\u0022].guiActive = false;\n            while (solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.EXTENDING || solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.RETRACTING)\n            {\n                yield return new WaitForSeconds(1);\n            }\n            if (solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.RETRACTED) { Events[\u0022ToggleAllSolar\u0022].guiName = \u0022Extend All TEST\u0022; }\n            if (solarPanel.panelState == ModuleDeployableSolarPanel.panelStates.EXTENDED) { Events[\u0022ToggleAllSolar\u0022].guiName = \u0022Retract All TEST\u0022; }\n            Events[\u0022ToggleAllSolar\u0022].guiActive = true;\n            // blah blah blah...\n            yield return new WaitForSeconds(0) ; // This is totally a kludge I have it in here because it doesn\u0027t error out. I\u0027ll happily fix it if someone tells me how.\n        }\n    }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAlso, note that final \u0022yield return.\u0022 If someone could tell me the correct way to get out of that function (just \u0022return\u0022 doesn\u0027t fly with Visual Studio) I\u0027d appreciate it, though I\u0027ll happily keep the code there if it works. I don\u0027t think it\u0027s causing any problems (though my opinion is at best suspect on these matters)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-15T05:18:49Z\u0022 title=\u002204/15/2016 05:18  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 15, 2016\u003C/time\u003E by 5thHorseman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-15T06:21:50Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/73725-5thhorseman/\u0026amp;do=hovercard\u0022 data-mentionid=\u002273725\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/73725-5thhorseman/\u0022\u003E@5thHorseman\u003C/a\u003E\u00A0I don\u0027t think you need a statement there at all.\u00A0But for future reference\u00A0\u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003Eyield break\u003C/span\u003E\u00A0will end the enumeration.\n\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-15T06:27:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222514854\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460701310\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/73725-5thhorseman/\u0026amp;do=hovercard\u0022 data-mentionid=\u002273725\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/73725-5thhorseman/\u0022\u003E@5thHorseman\u003C/a\u003E\u00A0I don\u0027t think you need a statement there at all.\u00A0But for future reference\u00A0\u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003Eyield break\u003C/span\u003E\u00A0will end the enumeration.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWeird. I had no statement there and VS was giving me an error. I just removed it to get the error, and VS is totally fine with it.\n\u003C/p\u003E\n\u003Cp\u003E\n#NoobModder\n\u003C/p\u003E\n\u003Cp\u003E\nUPDATE: After much fiddling I\u0027m almost positive I just don\u0027t have the correct syntax for something. Nothing I do will modify the text or the visibility of the button on other solar panels. All I can do is modify those on the CURRENT one (my first code block above). Other than knowing that, though, I\u0027ve got no clue where to proceed.\n\u003C/p\u003E\n\u003Cp\u003E\nUPDATE 2: More fiddling, and digging through logging. I found that in the coroutine the following line gets a null reference exception:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 solarPanel.Events[\u0022ToggleAllSolar\u0022].guiActive = false;\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E            solarPanel.Events[\u0022ToggleAllSolar\u0022].guiActive = false;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI think it\u0027s because this is the \u0022ModuleDeployableSolarPanel\u0022 module and I need to reference, on the same part with that module, the AYA_Solar_Test module. I just (as always) don\u0027t know how to do that.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-15T07:00:04Z\u0022 title=\u002204/15/2016 07:00  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 15, 2016\u003C/time\u003E by 5thHorseman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-15T07:09:08Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003EAya_Solar_Test\u003C/span\u003E\u003Cspan\u003E myModule \u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E solarPanel\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Epart\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EModules\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EOfType\u003C/span\u003E\u003Cspan\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EAYA_Solar_Test\u003C/span\u003E\u003Cspan\u003E\u0026gt;()[\u003C/span\u003E\u003Cspan\u003E0\u003C/span\u003E\u003Cspan\u003E];\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAssuming your module is always on the same part as the solar panel\n\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-15T07:11:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222514883\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460704148\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\n\u003Cspan\u003EAya_Solar_Test\u003C/span\u003E\u003Cspan\u003E myModule \u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E solarPanel\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Epart\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EModules\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EOfType\u003C/span\u003E\u003Cspan\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EAYA_Solar_Test\u003C/span\u003E\u003Cspan\u003E\u0026gt;()[\u003C/span\u003E\u003Cspan\u003E0\u003C/span\u003E\u003Cspan\u003E];\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAssuming your module is always on the same part as the solar panel\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt should be, unless the user screws around with the modulemanager config. I suppose I could check for it and then skip it if the module\u0027s not there? Check if it\u0027s null?\n\u003C/p\u003E\n\u003Cp\u003E\nThat code gets this error:\n\u003C/p\u003E\n\u003Cp\u003E\nError\u00A0\u00A0 \u00A0CS0021\u00A0\u00A0 \u00A0Cannot apply indexing with [] to an expression of type \u0027IEnumerable\u0026lt;AYA_Solar_Test\u0026gt;\u0027\n\u003C/p\u003E\n\u003Cp\u003E\nRemoving the [0] at the end gets:\n\u003C/p\u003E\n\u003Cp\u003E\nError\u00A0\u00A0 \u00A0CS0266\u00A0\u00A0 \u00A0Cannot implicitly convert type \u0027System.Collections.Generic.IEnumerable\u0026lt;AllYAll.AYA_Solar_Test\u0026gt;\u0027 to \u0027AllYAll.AYA_Solar_Test\u0027. An explicit conversion exists (are you missing a cast?)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-15T07:18:24Z","Content":"\n\u003Cp\u003E\nerps, .FirstOrDefault() is what you want, and yea a null check in case there isn\u0027t one present\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-04-15T12:56:23Z","Content":"\n\u003Cp\u003E\n...deleted...\n\u003C/p\u003E\n\u003Cp\u003E\nYou need to get the instance of your module that is on the same part as the solarPanel and change the events on that. \u00A0What Crzyrndm said looks like it should work...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-15T13:01:46Z\u0022 title=\u002204/15/2016 01:01  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 15, 2016\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Aerospike","CreatedById":159274,"CreatedDateTime":"2016-04-18T21:11:42Z","Content":"\n\u003Cp\u003E\nHello fellow modders!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m pretty new to modding KSP and working with Unity so please forgive me if I ask really stupid questions. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nI would like to interact with the stock GUI (if that is at all possible and allowed?), more specifically I would like to suppress (or close) a window to show my own window instead. Searching the forums for combinations of \u0022stock\u0022, \u0022GUI\u0022, \u0022interact with\u0022, \u0022modify\u0022, \u0022customize\u0022, didn\u0027t bring up anything that helped me. I just found some statements that \u0022working/interacting with\u0022 the stock GUI tends to be PITA from a modding perspective, but no detailed informations and/or examples.\u003Cbr\u003E\u003Cbr\u003E\nAny advise regarding this matter would be greatly appreciated. Even if the answer is \u0022that is impossible\u0022 I would be happy, since that means I can focus my energy on other aspects. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nThanks!\u003Cbr\u003E\u003Cbr\u003E\n(For those with signatures disabled: I would like to make \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/136799-105-kiss-kerbal-improved-save-system-development-thread/\u0022 rel=\u0022\u0022\u003EKISS\u003C/a\u003E replace the default \u0022quicksave as...\u0022 dialog, so it doesn\u0027t need an additional keybinding.)\n\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2016-04-19T00:39:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222520994\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461013902\u0022 data-ipsquote-userid=\u0022159274\u0022 data-ipsquote-username=\u0022Aerospike\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Aerospike said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would like to interact with the stock GUI (if that is at all possible and allowed?), more specifically I would like to suppress (or close) a window to show my own window instead. Searching the forums for combinations of \u0022stock\u0022, \u0022GUI\u0022, \u0022interact with\u0022, \u0022modify\u0022, \u0022customize\u0022, didn\u0027t bring up anything that helped me. I just found some statements that \u0022working/interacting with\u0022 the stock GUI tends to be PITA from a modding perspective, but no detailed informations and/or examples.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nA lot of the interesting GUI stuff can be private (and therefore not directly accessible without breaking rules) so you might have to jump through some hoops to make things work. In 1.0.5, I\u0027d say your best bet would be registering for GameEvents.onInputLocksModified and checking for the quicksave dialog control lock. You might be forced to use FindObjectOfType\u0026lt;PopupDialog\u0026gt; afterwards to get the dialog itself since I don\u0027t see any convenient references anywhere.\n\u003C/p\u003E\n\u003Cp\u003E\nThe same tactic should work fine for 1.1. The advantage in 1.1 is that the dialog uses the new GUI system and exposes the dialog prefab (PopupDialogController.PopupDialogBase) which allows you to do almost anything you want to it, although I\u0027d still go down the \u0022replace it with own version\u0022 route than trying to tweak it to do what I want\n\u003C/p\u003E\n"},{"CreatedByName":"Aerospike","CreatedById":159274,"CreatedDateTime":"2016-04-19T10:56:49Z","Content":"\n\u003Cp\u003E\nThank you xEvilReeperx!\n\u003C/p\u003E\n\u003Cp\u003E\nNow once again I just wish there was an official API documentation to find out more about this stuff \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E (I do know the community-generated one). I have already \u0022ported\u0022 the KISS dialog to the new GUI (not made a pre-release of the new one yet), so I\u0027m fine with only adding that feature to the KSP 1.1 branch if that makes things easier.\u003Cbr\u003E\u003Cbr\u003E\nSince you brought up control locks: do I have to implement control locks myself in some way? Currently I pause the game before showing the dialog (as the stock \u0022quicksave as\u0022 does) and so far I have not had an issue with accidentally controlling the vessel.\n\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2016-04-19T13:44:27Z","Content":"\n\u003Cp\u003E\nUp to you. I would, just in case there is some non-obvious edge case\n\u003C/p\u003E\n"}]}