{"TopicId":50097,"ForumId":36,"TopicTitle":"Planetarium Camera Help...","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-22T21:21:57Z","PageNum":1,"Articles":[{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-22T21:21:57Z","Content":"\n\u003Cp\u003EHey all... I\u0027m in need of \u0022cloning\u0022 the planetarium scaled camera (with modified culling mask), but I have had trouble getting it to render on screen properly. \u003C/p\u003E\u003Cp\u003EHere is what I have tried:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EoverlayCamera = (Camera)Camera.Instantiate(\u003Cbr\u003EPlanetariumCamera.Camera,\u003Cbr\u003Enew Vector3(0, 0, 0),\u003Cbr\u003EQuaternion.FromToRotation(new Vector3(0, 0, 0), new Vector3(0, 0, 1)));\u003Cbr\u003EoverlayCamera.depth = PlanetariumCamera.Camera.depth \u002B 1f;//tried variety from .00000001 to 10 offset\u003Cbr\u003EoverlayCamera.cullingMask \u0026amp;= ~(1 \u0026lt;\u0026lt; 10);\u003Cbr\u003EoverlayCamera.cullingMask |= (1 \u0026lt;\u0026lt; 18);\u003Cbr\u003EoverlayCamera.nearClipPlane = .1f;\u003Cbr\u003EoverlayCamera.clearFlags = CameraClearFlags.Depth; //(with and without this or set to None)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut when I try this, it seems to cull the skybox and planets if clearFlags is set to none, and will cull just the planet if set to Depth. Any Ideas?\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2013-10-23T01:17:18Z","Content":"\n\u003Cp\u003EHmmmm. What are you trying to accomplish by modifying the planetarium cam? Perhaps I can be more helpful with that info.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T04:15:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Captain Sierra\u0022 data-cite=\u0022Captain Sierra\u0022\u003E\u003Cdiv\u003EHmmmm. What are you trying to accomplish by modifying the planetarium cam? Perhaps I can be more helpful with that info.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt isn\u0027t that I want to modify it, per-se, but I want to add a planetary overlay very near the surface and I want to avoid z-fighting by adding the overly on another layer and using another camera with a higher render priority to render it on-top.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-10-23T15:25:39Z","Content":"\n\u003Cp\u003EOk, I figured it out. I\u0027ll try to remember to post the exact code, but it is something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EGameObject go = new GameObject();\u003Cbr\u003ECamera newCam = go.AddComponent\u0026lt;Camera\u0026gt;();\u003Cbr\u003EnewCam.CopyFrom(ScaledCamera.Instance.camera);\u003Cbr\u003EnewCam.Transform.Parent = ScaledCamera.Instance.camera.Transform;\u003Cbr\u003E//you may have to update newCam.Transform.localRot and localPos to (0,0,1) \u0026amp; (0,0,0)\u003Cbr\u003E//now set masks, depth, etc.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"ainamogel","CreatedById":99604,"CreatedDateTime":"2015-11-15T02:42:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EOk, I figured it out. I\u0027ll try to remember to post the exact code, but it is something like this:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EGameObject go = new GameObject();\u003Cbr\u003ECamera newCam = go.AddComponent\u0026lt;Camera\u0026gt;();\u003Cbr\u003EnewCam.CopyFrom(ScaledCamera.Instance.camera);\u003Cbr\u003EnewCam.Transform.Parent = ScaledCamera.Instance.camera.Transform;\u003Cbr\u003E//you may have to update newCam.Transform.localRot and localPos to (0,0,1) \u0026amp; (0,0,0)\u003Cbr\u003E//now set masks, depth, etc.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi there,\u003C/p\u003E\u003Cp\u003EDo you have any more information to share on this subject? I know it\u0027s been a while since your post that I have quoted, but if you\u0027d be willing to share some sample code that renders the mapview camera I\u0027d really appreciate it. I am specifically trying to render the mapview in my own screenTexture, but so far am just getting a black screen.\u003C/p\u003E\u003Cp\u003EThanks muchly,\u003C/p\u003E\u003Cp\u003EAinamogel\u003C/p\u003E\n"}]}