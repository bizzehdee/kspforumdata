{"TopicId":121484,"ForumId":32,"TopicTitle":"For dummys: how will Unity 5.x affect the performance?","CreatedByName":"Farex","CreatedById":126838,"CreatedDateTime":"2015-09-23T11:49:23Z","PageNum":1,"Articles":[{"CreatedByName":"Farex","CreatedById":126838,"CreatedDateTime":"2015-09-23T11:49:23Z","Content":"\n\u003Cp\u003EGreetings fellow Kerbonauts!\u003C/p\u003E\u003Cp\u003EI was recently watching a lifestream from a man with a very efficient haircut and he mentioned how happy he was for the Unity 5.x upgrade and how he can\u0027t wait for it.\u003C/p\u003E\u003Cp\u003EI myself am working in the IT-Branch, but have absolutely no clue about things like this, programming. Could someone please explain in a simple way how the Unity 5.x Update will affect the performance of KSP?\u003C/p\u003E\u003Cp\u003EI am aware that it is currently a 32bit application, which also only uses 1 core. I am perfectly fine with all this stuff, it\u0027s my work. So, what will the changes be? Anyone?\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-09-23T14:32:32Z","Content":"\n\u003Cp\u003EBased on a statement regarding joint performance in the new PhysX, I\u0027m predicting a 20-50% performance boost for single vessels in KSP. Not insignificant, but not enormous either.\u003C/p\u003E\n"},{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2015-09-23T15:00:14Z","Content":"\n\u003Cp\u003EI think I\u0027m going to wait and see before I celebrate any improvement gains. \u003C/p\u003E\u003Cp\u003ESoftware has a tendency to woefully under-perform compared to hoped-for expectations.\u003C/p\u003E\n"},{"CreatedByName":"CalculusWarrior","CreatedById":58313,"CreatedDateTime":"2015-09-23T15:23:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Foxster\u0022 data-cite=\u0022Foxster\u0022\u003E\u003Cdiv\u003EI think I\u0027m going to wait and see before I celebrate any improvement gains. \u003Cp\u003ESoftware has a tendency to woefully under-perform compared to hoped-for expectations.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think this is one of those things which will perform differently for different machines (which is why Squad hasn\u0027t sated definitively how much of an improvement it will bring), so we really will have to wait and see how things go once the update drops.\u003C/p\u003E\n"},{"CreatedByName":"FyunchClick","CreatedById":143109,"CreatedDateTime":"2015-09-23T15:23:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Foxster\u0022 data-cite=\u0022Foxster\u0022\u003E\u003Cdiv\u003ESoftware has a tendency to woefully under-perform compared to hoped-for expectations.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, there were a couple of times in my career as IT professional where a small tweak to something very basic (as in at very the basis of the application) just moved performance from painfully slow to fantastically smooth. This seems a biggie. \u003C/p\u003E\u003Cp\u003EI\u0027m more worried that it\u0027ll mean my fleet is dropping out of the sky left and right because all of a sudden things that had no problem being clipped do now, or some wing joint all of a sudden can\u0027t take the stress or something like that. But we\u0027ll see.\u003C/p\u003E\n"},{"CreatedByName":"mikegarrison","CreatedById":137807,"CreatedDateTime":"2015-09-23T16:35:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FyunchClick\u0022 data-cite=\u0022FyunchClick\u0022\u003E\u003Cdiv\u003EWell, there were a couple of times in my career as IT professional where a small tweak to something very basic (as in at very the basis of the application) just moved performance from painfully slow to fantastically smooth. This seems a biggie. \u003Cp\u003EI\u0027m more worried that it\u0027ll mean my fleet is dropping out of the sky left and right because all of a sudden things that had no problem being clipped do now, or some wing joint all of a sudden can\u0027t take the stress or something like that. But we\u0027ll see.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIMO, it is unreasonable to expect saves to never break, especially with big changes to the software. Squad allows you to keep as many saves of as many versions of KSP as you want, so if you want to keep a 1.04 fleet flying in 1.04, you can. That\u0027s why I don\u0027t think they have any responsibility to keep your 1.04 fleet flying in 1.1.\u003C/p\u003E\n"},{"CreatedByName":"FyunchClick","CreatedById":143109,"CreatedDateTime":"2015-09-23T16:50:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mikegarrison\u0022 data-cite=\u0022mikegarrison\u0022\u003E\u003Cdiv\u003EThat\u0027s why I don\u0027t think they have any responsibility to keep your 1.04 fleet flying in 1.1.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd rightly so, so I wouldn\u0027t hold it against them if it breaks; I\u0027m just hoping I\u0027m able to continue this career as I\u0027ve never made it further into the system than this.\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2015-09-23T17:01:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mikegarrison\u0022 data-cite=\u0022mikegarrison\u0022\u003E\u003Cdiv\u003EIMO, it is unreasonable to expect saves to never break, especially with big changes to the software. Squad allows you to keep as many saves of as many versions of KSP as you want, so if you want to keep a 1.04 fleet flying in 1.04, you can. That\u0027s why I don\u0027t think they have any responsibility to keep your 1.04 fleet flying in 1.1.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPrevious to 1.0 I\u0027d say yes. But with the software out of beta one would expect features to be robust and bug free, and the modelling of things like aero and heat to be stable. That\u0027s what the extensive range of beta versions was for, after all. So honestly I \u003Cem\u003Edon\u0027t\u003C/em\u003E expect my saves to break. That\u0027s the implicit promise Squad gave me when they \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Erushed\u003C/span\u003E progressed to version 1.0\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-09-23T17:02:08Z","Content":"\n\u003Cp\u003EThe save files are plain text, so you can usually tinker with them to make them work in the newest KSP, if for some reason it doesn\u0027t work \u0022out of the box\u0022.\u003C/p\u003E\n"},{"CreatedByName":"Bev7787","CreatedById":136501,"CreatedDateTime":"2015-09-25T11:43:43Z","Content":"\n\u003Cp\u003EUnity 5.x allows the game to run over multiple cores or 64 bit for all platforms which means there is almost no more crashes due to memory limits.\u003C/p\u003E\n"},{"CreatedByName":"Luckless","CreatedById":3954,"CreatedDateTime":"2015-09-25T12:34:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bev7787\u0022 data-cite=\u0022Bev7787\u0022\u003E\u003Cdiv\u003EUnity 5.x allows the game to run over multiple cores or 64 bit for all platforms which means there is almost no more crashes due to memory limits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGiven the nature of the Kerbal Mindset, I would say that someone is still going to find a way... 64bit memory addressing just pushes the limits up to insane levels, but doesn\u0027t actually get rid of them after all... (Also memory handling isn\u0027t \u0027true\u0027 64bit in most cases, and most systems break down well before their actual 2^64 max. Luckily it is still an insane amount of data before that happens, but, well, \u0027moar boosters\u0027 and whatnot... I expect someone is going to break it sooner or later.)\u003C/p\u003E\n"},{"CreatedByName":"p1t1o","CreatedById":74091,"CreatedDateTime":"2015-09-25T12:40:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bev7787\u0022 data-cite=\u0022Bev7787\u0022\u003E\u003Cdiv\u003EUnity 5.x allows the game to run over multiple cores or 64 bit for all platforms which means there is almost no more crashes due to memory limits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow hard is this prediction? My gut just says that the upgrade moving us from single-core 32bit to multi core 64bit (lacking the horrible bugs the last 64bit build had) is quite a lot to wish for and for it to be resolved entirely, even if hypothetically possible, seems unlikely...to my gut.\u003C/p\u003E\u003Cp\u003ECan I raise my somewhat pessimistic hopes a bit?\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-09-25T12:52:47Z","Content":"\n\u003Cp\u003EBetter multithreading is regarded as near-certain, though a lot of people myself included think the physics of a single vessel won\u0027t multithread well.\u003C/p\u003E\u003Cp\u003EWindows and OSX 64-bit versions are regarded as very likely, Unity 5 is free of the issues Unity 4 had with that.\u003C/p\u003E\u003Cp\u003EIn both cases it depends more on what Unity and NVidia (PhysX) do. Squad are porting the game to the new Unity version, it\u0027s the nature of using any \u0022off the shelf\u0022 engine that the game developers don\u0027t work on the nitty-gritty details.\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-09-25T13:27:01Z","Content":"\n\u003Cp\u003E\u0022Help even with 64bits my game still crashes!!!!\u0022\u003C/p\u003E\u003Cp\u003EGive it a few hours after release.\u003C/p\u003E\n"},{"CreatedByName":"Stratoroc","CreatedById":73987,"CreatedDateTime":"2015-09-25T13:30:08Z","Content":"\n\u003Cp\u003EI doubt single vessel physics will be multi-threaded, this will require some sort of part clustering to shuffle segments of a ship between cores. And this in turn requires of a major enough rework of the mess of parts flying in close formation that a ship is now, and I don\u0027t recall dev notes bringing anything like that up.\u003C/p\u003E\u003Cp\u003E2 vessels on the other hand are separated and can be calculated on different cores.\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-09-25T14:02:41Z","Content":"\n\u003Cp\u003EJust as a point of clarification: The game is already multi-threaded, but the \u0022long pole in the tent\u0022 is that the physics can only run on one core (because of a single thread) currently, and it\u0027s also the biggest performance bottleneck in the game. The new Unity 5 update is expected to have multi-threaded physics, but it\u0027s hard to predict what the performance gain is, because we don\u0027t know how it divides up the work, how much the threads will be blocking on one another, and how divisions within a single craft will work. Supposedly there are other performance gains coming, both from Unity 5, and from Squad\u0027s work over the last few months. But again, we just don\u0027t have an inside view with which to gauge that currently.\u003C/p\u003E\u003Cp\u003EI think Cantab\u0027s estimate of 20% to 50% gain is probably fair, until we know more.\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2015-09-25T14:36:33Z","Content":"\n\u003Cp\u003EPerformance gain will be nice... 64 bit memory gain will be better, IMHO. Finally I can have all of the mods.\u003C/p\u003E\n"},{"CreatedByName":"DocMoriarty","CreatedById":57433,"CreatedDateTime":"2015-09-25T14:42:44Z","Content":"\n\u003Cp\u003EThere is a lot more to 64-bit than just probable improvements due to multithreaded physics.\u003C/p\u003E\u003Cp\u003EIt starts with all memory access commands of the processor being up to twice as fast than now simply due to the double integer width compared to 32-bit. That alone will improve performance quite a bit, especially loading/saving stuff actions and other stuff that transfers a lot of data to/from the CPU.\u003C/p\u003E\u003Cp\u003EFrom what i read here though the physics aren\u0027t the current reason for the lag and bottleneck of KSP so improving them won\u0027t do that much. It\u0027s the currently not very bright coded logic of resource (fuel, mono, electricity etc.) access which kinda creates a \u0027resource map\u0027 for every iteration (frame) of the vessel which is not very performant. A logic is needed where this is only created once and then only updated when the composition of the vessel changes (parts exploding, undocking, docking, separating etc.). If this isn\u0027t gonna be fixed vessels with 200\u002B parts will still be laggy, probably not that much but the times where we could do 1000\u002B part ships won\u0027t return without that being fixed.\u003C/p\u003E\u003Cp\u003ENot holding my breath.\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2015-09-25T14:45:16Z","Content":"\n\u003Cp\u003Ei expect my performance to be significantly worse. because of the metric sthitton of mods i am going to install \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-09-25T14:50:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DocMoriarty\u0022 data-cite=\u0022DocMoriarty\u0022\u003E\u003Cdiv\u003EFrom what i read here though the physics aren\u0027t the current reason for the lag and bottleneck of KSP so improving them won\u0027t do that much. It\u0027s the currently not very bright coded logic of resource (fuel, mono, electricity etc.) access which kinda creates a \u0027resource map\u0027 for every iteration (frame) of the vessel which is not very performant. A logic is needed where this is only created once and then only updated when the composition of the vessel changes (parts exploding, undocking, docking, separating etc.). If this isn\u0027t gonna be fixed vessels with 200\u002B parts will still be laggy, probably not that much but the times where we could do 1000\u002B part ships won\u0027t return without that being fixed.\u003C/div\u003E\u003C/blockquote\u003EI\u0027ve heard this before too. If it\u0027s right I\u0027m going to be seriously ****ed off with Squad, if it turns out that all the lag, the seconds-per-frame pain, has been not because simulating KSP rockets is inherently hard and not because of the limits of PhysX or Unity but because of some \u003Cem\u003Eutterly retarded idiocy\u003C/em\u003E on Squad\u0027s part.\u003Cp\u003E\u003Cem\u003EIf\u003C/em\u003E it\u0027s right.\u003C/p\u003E\n"},{"CreatedByName":"Xavven","CreatedById":100398,"CreatedDateTime":"2015-09-25T14:56:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DocMoriarty\u0022 data-cite=\u0022DocMoriarty\u0022\u003E\u003Cdiv\u003EThere is a lot more to 64-bit than just probable improvements due to multithreaded physics.\u003Cp\u003EIt starts with all memory access commands of the processor being up to twice as fast than now simply due to the double integer width compared to 32-bit. That alone will improve performance quite a bit, especially loading/saving stuff actions and other stuff that transfers a lot of data to/from the CPU.\u003C/p\u003E\u003Cp\u003EFrom what i read here though the physics aren\u0027t the current reason for the lag and bottleneck of KSP so improving them won\u0027t do that much. It\u0027s the currently not very bright coded logic of resource (fuel, mono, electricity etc.) access which kinda creates a \u0027resource map\u0027 for every iteration (frame) of the vessel which is not very performant. A logic is needed where this is only created once and then only updated when the composition of the vessel changes (parts exploding, undocking, docking, separating etc.). If this isn\u0027t gonna be fixed vessels with 200\u002B parts will still be laggy, probably not that much but the times where we could do 1000\u002B part ships won\u0027t return without that being fixed.\u003C/p\u003E\u003Cp\u003ENot holding my breath.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHoly WHAT? I\u0027m an amateur programmer at best (VB .NET) and even *I* wouldn\u0027t do something that silly. Hm, maybe I should start working on a game.\u003C/p\u003E\n"},{"CreatedByName":"rudi1291","CreatedById":138990,"CreatedDateTime":"2015-09-25T15:27:09Z","Content":"\n\u003Cp\u003EActually, i think there are more \u0022features\u0022 like that in this game. Its like \u0022Just make it work, we can still make it faster/better when it works\u0022. The \u0022make it faster/better\u0022 part of it just never happened. And i wouldn\u00C3\u201A\u00C2\u00B4t blame SQUAD for this if this game was still in alpha/beta...\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-09-25T16:14:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DocMoriarty\u0022 data-cite=\u0022DocMoriarty\u0022\u003E\u003Cdiv\u003EThere is a lot more to 64-bit than just probable improvements due to multithreaded physics.\u003Cp\u003EIt starts with all memory access commands of the processor being up to twice as fast than now simply due to the double integer width compared to 32-bit. That alone will improve performance quite a bit, especially loading/saving stuff actions and other stuff that transfers a lot of data to/from the CPU.\u003C/p\u003E\u003Cp\u003EFrom what i read here though the physics aren\u0027t the current reason for the lag and bottleneck of KSP so improving them won\u0027t do that much. It\u0027s the currently not very bright coded logic of resource (fuel, mono, electricity etc.) access which kinda creates a \u0027resource map\u0027 for every iteration (frame) of the vessel which is not very performant. A logic is needed where this is only created once and then only updated when the composition of the vessel changes (parts exploding, undocking, docking, separating etc.). If this isn\u0027t gonna be fixed vessels with 200\u002B parts will still be laggy, probably not that much but the times where we could do 1000\u002B part ships won\u0027t return without that being fixed.\u003C/p\u003E\u003Cp\u003ENot holding my breath.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t believe there is a significant difference in memory bandwidth due to running x64 rather than x86. Modern CPUs are all highly abstracted away from the instruction set and what they do internally is considerably different to what the instruction set implies.\u003C/p\u003E\u003Cp\u003EThe resource handling code, while it is currently both very inefficient and buggy, hasn\u0027t changed significantly since before the days we were able to launch 1000\u002B part vessels. Yes, improvements in this area are long overdue and should result in significant performance improvements, but there are also a number of other recently added features that are stressing the CPU, especially with higher part counts (e.g. new heat system, new aero system).\u003C/p\u003E\n"},{"CreatedByName":"godefroi","CreatedById":101728,"CreatedDateTime":"2015-09-25T16:24:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bev7787\u0022 data-cite=\u0022Bev7787\u0022\u003E\u003Cdiv\u003EUnity 5.x allows the game to run over multiple cores or 64 bit for all platforms which means there is almost no more crashes due to memory limits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMultiple cores and 64 bit are unrelated; Unity 4.x already allowed the game to run on multiple cores, and indeed KSP \u0026lt;1.1 already does; the problem is that almost everything is done by a single thread, which generally would be scheduled on a single core (though neither KSP nor Unity guarantees that, it\u0027s up to the OS to decide).\u003C/p\u003E\n"},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-09-25T16:24:36Z","Content":"\n\u003Cp\u003ESince there\u0027s nothing official on the table with regards to U5 plans, everything is just speculation, theory and rumors at this point. U5 could bring some fantastic performance increases, but only if Squad actually takes advantage of them and does some serious optimizations. You can go to medical school where you\u0027re given all the tools, knowledge and opportunities to become a doctor, but that won\u0027t happen if you don\u0027t use any of those things afforded to you.\u003C/p\u003E\u003Cp\u003EAt this point I\u0027m not expecting much performance increase because it hasn\u0027t been stated officially. And I\u0027ve learned my lesson of being excited and optimistic of new versions EXPECTING better performance when for me and many others according to threads on here, the opposite happened. I guess we just wait and see how much effort and skill is actually put into it to take advantage of U5\u0027s offerings.\u003C/p\u003E\n"}]}