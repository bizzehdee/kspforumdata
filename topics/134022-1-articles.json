{"TopicId":134022,"ForumId":36,"TopicTitle":"Have MaxQ affect only part of a model?","CreatedByName":"JohnnyPanzer","CreatedById":142801,"CreatedDateTime":"2016-03-12T07:33:28Z","PageNum":1,"Articles":[{"CreatedByName":"JohnnyPanzer","CreatedById":142801,"CreatedDateTime":"2016-03-12T07:33:28Z","Content":"\n\u003Cp\u003E\nI\u0027m making some all-in-one probes with buildt-in RT-antennas (among other things), and I\u0027ve encountered a problem while writing the patches for RT. Since the antennas are animated and actually fold out of the model, I want MaxQ to affect them as per usual in RemoteTech, but the game freaks the hell out since the antennas are also the command pod and thereby the root node. Instead of snapping the pod off the rocket, it simply turns it off and sends the rocket off on an infinite journey with unchanged velocity. If the rocket was pointing at the ground at the moment of MaxQ, the pod smashes into the ground and just keeps going through the entire planet while exploding every few seconds.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I tried manually changing the root of the rocket to a fuel tank underneath the pod, and that made MaxQ work as intended. It would appear that the game does NOT like it when the root part sheers off due to dynamic preassure. I also made sure to test the part with MaxQ edited out of the patch, and it worked like a charm. It\u0027s also worth mentioning that the part works as intended in stock KSP, and that I am testing using dedicated installs, one clean vanilla and one with RemoteTech and Module Manager as the only mods.\n\u003C/p\u003E\n\u003Cp\u003E\nSo now I have three\u00A0options:\n\u003C/p\u003E\n\u003Cp\u003E\n1. Force users (if I ever release the parts) to manually change the root of their rockets to avoid the bug. Not exactly an optimal solution.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Make the pod unaffected by MaxQ. Simple enough, but a bit boring since the antennas fold out and sure LOOK like they\u0027d break under preassure.\n\u003C/p\u003E\n\u003Cp\u003E\n3. Find a way to make MaxQ affect only specific meshes within the model.\n\u003C/p\u003E\n\u003Cp\u003E\nAny help here would be greatly appreciated. I should also point out that I\u0027m not good at coding, and that I\u0027ve just\u00A0begun to tweak (mostly using copy/paste)\u00A0the MM patch files, so I\u0027m sure they are currently less than optimal. With that said, I\u0027ll include both the part .cfg and the current RT-patch below. If nothing else, it\u0027ll give you something to snicker at. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nPART\n{\n\tname = KsatComSmall\n\tmodule = Part\n\tauthor = Johnny Panzer\n\tmesh = model.mu\n\trescaleFactor = 1.0\n\tCrewCapacity = 0\n\tnode_stack_bottom = 0.0, -0.2, 0.0, 0.0, -1.0, 0.0, 0\n\tTechRequired = precisionEngineering\n\tentryCost = 16500\n\tcost = 14000\n\tcategory = Pods\n\tsubcategory = 0\n\ttitle = K-Sat PzL-LO 1138\n\tmanufacturer = PanzerLabs AeroSpace\n\tdescription = Part of a range of satellites from PanzerLabs AeroSpace, the PzL-LO 1138 is an all-in-one solution for low orbit communication networks. Using state of the art technology it is able to provide both storage and production of electricity, as well as a small array of antennas. \n\tattachRules = 1,0,1,0,1 //stack: can it be stacked, SrfAttach: can it be attached, allowStack: can other parts be stacked, allowSrfAttach: can other parts attach, allowCollision: can it be placed if intersecting\n\tmass = 0.845\n\tdragModelType = default\n\tmaximum_drag = 0.2\n\tminimum_drag = 0.2\n\tangularDrag = 2\n\tcrashTolerance = 6\n\tmaxTemp = 1200\n\tvesselType = Probe\n\tbulkheadProfiles = size0\n\tMODULE\n\t{\n\t\tname = ModuleAnimateGeneric\n\t\tanimationName = KsatComSmallOpen\n\t\tisOneShot = false\n\t\tstartEventGUIName = Extend Com Array\n\t\tendEventGUIName = Retract Com Array\n\t\tactionGUIName = Toggle Com Array\n\t\tallowAnimationWhileShielded = False\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleDataTransmitter\n\t\tpacketInterval = 0.6\n\t\tpacketSize = 2\n\t\tpacketResourceCost = 12.0\n\t\trequiredResource = ElectricCharge\n\t\tDeployFxModules = 0\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleCommand\n\t\tminimumCrew = 0\n\t\tRESOURCE\n\t\t{\n\t\t\tname = ElectricCharge\n\t\t\trate = 0.05\n\t\t}\n\t}\n\tRESOURCE\n\t{\n\t\tname = ElectricCharge\n\t\tamount = 500\n\t\tmaxAmount = 500\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleReactionWheel\n\t\tPitchTorque = 0.3\n\t\tYawTorque = 0.3\n\t\tRollTorque = 0.3\n\t\tRESOURCE\n\t\t{\n\t\t\tname = ElectricCharge\n\t\t\trate = 0.03\n\t\t}\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleSAS\n\t\tSASServiceLevel = 2\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleGenerator\n\t\tisAlwaysActive = true\n\t\tOUTPUT_RESOURCE\n\t\t{\n\t\t\tname = ElectricCharge\n\t\t\trate = 0.4\n\t\t}\n\t}\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n@PART[KsatComSmall]:FOR[RemoteTech]\n{\n\t!MODULE[ModuleDataTransmitter] {}\n\t\n\t@MODULE[ModuleAnimateGeneric]\n\t{\n\t\t%allowManualControl = false\n\t}\n\t\n\t%MODULE[ModuleRTAntenna] {\n\t\t%Mode0OmniRange = 0\n\t\t%Mode1OmniRange = 2500000\n\t\t%MaxQ = 6000\n\t\t%EnergyCost = 0.13\n\t\t\n\t\t%DeployFxModules = 0\n\t\t\n\t\t%TRANSMITTER {\n\t\t\t%PacketInterval = 0.3\n\t\t\t%PacketSize = 2\n\t\t\t%PacketResourceCost = 15.0\n\t\t}\n\t}\n\t\n\t%MODULE[ModuleSPUPassive] {}\n\n\t%MODULE[ModuleSPU] {}\n\t\n\t%MODULE[ModuleRTAntennaPassive]\t{\n\t\t%TechRequired = unmannedTech\n\t\t%OmniRange = 3000\n\t\t\n\t\t%TRANSMITTER {\n\t\t\t%PacketInterval = 0.3\n\t\t\t%PacketSize = 2\n\t\t\t%PacketResourceCost = 15.0\n\t\t}\n\t}\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}