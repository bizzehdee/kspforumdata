{"TopicId":81950,"ForumId":20,"TopicTitle":"kOS scripting discussion","CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2014-08-17T09:26:13Z","PageNum":1,"Articles":[{"CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2014-08-17T09:26:13Z","Content":"\n\u003Cp\u003EI\u0027ve been working with this for a bit and thought that we should have a page just to talk about kOS-related stuff. Right now it seems like you can\u0027t use for-loops to create a main program control loop that cycles through a list of installed subroutines. Even though it\u0027s a bit rough around the edges, I\u0027m using this to get around that:\u003C/p\u003E\u003Cp\u003Eboot file\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E//boot file\u003Cbr\u003Eset ag9 to false.\u003Cbr\u003Eset halt to false.\u003Cbr\u003Eset ag8 to true.\u003Cbr\u003Ecopy ctrl from 0.\u003Cbr\u003Ecopy printtest from 0. //just testing to ensure that it works.\u003Cbr\u003Eset hasprinttest to true.\u003Cbr\u003Erun ctrl.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Emain loop file\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E//ctrl file\u003Cbr\u003Edelete boot from 1.\u003Cbr\u003Euntil halt\u003Cbr\u003E   {\u003Cbr\u003E   wait .000001. //with such a short loop this keeps it from looking glitchy.\u003Cbr\u003E   print \u0022main control loop running.\u0022. //testing purposes\u003Cbr\u003E   on ag9\u003Cbr\u003E      {\u003Cbr\u003E      set halt to true. // action group 0 stops program.\u003Cbr\u003E      preserve.          // later will add code to unlock steering/thrust to return control to user.\u003Cbr\u003E      }\u003Cbr\u003E   if ag8 //allow ag8 to toggle routines off and on. (can be used to put program to sleep temporarily)\u003Cbr\u003E      { \u003Cbr\u003E      if hasprinttest {run printtest.} //check if this subroutine is installed, if so then run it.\u003Cbr\u003E      }\u003Cbr\u003E   }\u003Cbr\u003Eprint \u0022Program ended!\u0022.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBasically i\u0027ll flesh this out with all my short and simple subroutines, and then tack on a \u0022management\u0022 subroutine at the end that will take care of any clean-up duties like reset variables that need to be reset, deleting unused programs to free up space, etc. I\u0027m hoping to keep subroutines as short and simple as possible to give the software a sort-of multitasking capability.\u003C/p\u003E\n"}]}