{"TopicId":85122,"ForumId":20,"TopicTitle":"kOS automated launch","CreatedByName":"xrayfishx","CreatedById":76147,"CreatedDateTime":"2014-09-21T11:53:11Z","PageNum":1,"Articles":[{"CreatedByName":"xrayfishx","CreatedById":76147,"CreatedDateTime":"2014-09-21T11:53:11Z","Content":"\n\u003Cp\u003EFor quite some time now I\u0027ve been trying to create a kOS script that would automatically launch my spacecraft. I\u0027m having a couple of issues here that I need help with:\u003C/p\u003E\u003Cp\u003E1) With Realism Overhaul most engines have a ridiculous amount of thrust vectoring capability compared to stock engines. It seems that kOS is completely incapable of only steering a little, it just seems to push the stick all the way towards what it\u0027s supposed to be pointing at which doesn\u0027t work too well when I\u0027m using an engine that turns 8 degrees in any direction. I could be wrong about kOS\u0027s inner workings here, but the fact is, my rocket is spinning and not really pointing in any certain direction. Is there a way to keep it going in the right direction?\u003C/p\u003E\u003Cp\u003E2) Speaking of going in the right direction, the direction system is not very intuitive. It even says so in the wiki. So can anyone explain to me how it works, because the wiki couldn\u0027t make it very clear to me.\u003C/p\u003E\u003Cp\u003E3) I\u0027m often getting random syntax errors even when I\u0027m absolutely sure there\u0027s nothing wrong. For example, in my script there was the following line:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset tVal to 1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EApparently something\u0027s wrong with it. Even when I copy-pasted another exactly the same line (except working) over it to clear out any possible spelling errors, there didn\u0027t seem to be any and either way it still didn\u0027t work. Could the problem be some other line interacting with it somehow?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003Eset tVal to 1.\u003Cbr\u003E\u003Cbr\u003E//Launch prep\u003Cbr\u003Elock throttle to tVal.\u003Cbr\u003Elock steering to up \u002B R(0,0,180).\u003Cbr\u003E\u003Cbr\u003E//Launch\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003E//Pitch Program\u003Cbr\u003Ewait until altitude \u0026gt; 300.\u003Cbr\u003Elock steering to up \u002B R(5,0,180).\u003Cbr\u003Ewait until altitude \u0026gt; 3000.\u003Cbr\u003Elock steering to up \u002B R(10,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 5000.\u003Cbr\u003Elock steering to up \u002B R(15,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 7000.\u003Cbr\u003Elock steering to up \u002B R(20,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 10000.\u003Cbr\u003Elock steering to up \u002B R(25,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 15000.\u003Cbr\u003Elock steering to up \u002B R(30,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 20000.\u003Cbr\u003Elock steering to up \u002B R(35,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 25000.\u003Cbr\u003Elock steering to up \u002B R(40,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 30000.\u003Cbr\u003Elock steering to up \u002B R(45,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 35000.\u003Cbr\u003Elock steering to up \u002B R(50,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 40000.\u003Cbr\u003Elock steering to up \u002B R(55,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 45000.\u003Cbr\u003Elock steering to up \u002B R(60,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 55000.\u003Cbr\u003Elock steering to up \u002B R(65,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 70000.\u003Cbr\u003Elock steering to up \u002B R(70,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 95000.\u003Cbr\u003Elock steering to up \u002B R(75,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 170000.\u003Cbr\u003Elock steering to up \u002B R(80,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 200000.\u003Cbr\u003Elock steering to up \u002B R(85,0,180).\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 210000.\u003Cbr\u003Elock steering to up \u002B R(90,0,180).\u003Cbr\u003E\u003Cbr\u003Eset tVal to 0.\u003Cbr\u003E\u003Cbr\u003Ewait until eta:apoapsis \u0026lt; 60\u003Cbr\u003Eset tVal to 1.\u003Cbr\u003Ewait until periapsis \u0026gt; 250000\u003Cbr\u003Eset tVal to 0.\u003Cbr\u003Eunlock throttle.\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//Throttle Control\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-21T12:04:34Z\u0022 title=\u002209/21/2014 12:04  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 21, 2014\u003C/time\u003E by xrayfishx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-09-21T16:38:51Z","Content":"\n\u003Cp\u003EFirst off, I very much like \u0022lock steering to heading()\u0022 as the more convenient approach. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ethese two are the same:\u003Cbr\u003Elock steering to heading(90,90).\u003Cbr\u003Elock steering to up \u002B R(90,0,0).\u003Cbr\u003E\u003Cbr\u003EThese, too:\u003Cbr\u003Elock steering to heading(90,50).\u003Cbr\u003Elock steering to up \u002B R(90,40,0).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//Whether you use heading or up\u002BR, you don\u0027t have to put in fixed numbers:\u003Cbr\u003Eset direction to 90.\u003Cbr\u003Elock pitch to 90 - (altitude/1000).                    //not very good, just an example. mind the LOCK.\u003Cbr\u003Elock steering to heading(direction,pitch).\u003Cbr\u003E//or\u003Cbr\u003Elock steering to up\u002BR(direction,-pitch,0).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs to kOS controls making a mess of things, I\u0027m sad to say that this is quite common. Having an excessive amount of reaction wheels helps most of the time, but sometimes... well, I have no idea what\u0027s going on.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-21T16:42:01Z\u0022 title=\u002209/21/2014 04:42  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 21, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2014-09-21T18:51:29Z","Content":"\n\u003Cp\u003EThis affair about an add-on has been moved to Add-on Affairs.\u003C/p\u003E\n"},{"CreatedByName":"xrayfishx","CreatedById":76147,"CreatedDateTime":"2014-09-22T18:40:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EFirst off, I very much like \u0022lock steering to heading()\u0022 as the more convenient approach. \u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ethese two are the same:\u003Cbr\u003Elock steering to heading(90,90).\u003Cbr\u003Elock steering to up \u002B R(90,0,0).\u003Cbr\u003E\u003Cbr\u003EThese, too:\u003Cbr\u003Elock steering to heading(90,50).\u003Cbr\u003Elock steering to up \u002B R(90,40,0).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//Whether you use heading or up\u002BR, you don\u0027t have to put in fixed numbers:\u003Cbr\u003Eset direction to 90.\u003Cbr\u003Elock pitch to 90 - (altitude/1000).                    //not very good, just an example. mind the LOCK.\u003Cbr\u003Elock steering to heading(direction,pitch).\u003Cbr\u003E//or\u003Cbr\u003Elock steering to up\u002BR(direction,-pitch,0).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs to kOS controls making a mess of things, I\u0027m sad to say that this is quite common. Having an excessive amount of reaction wheels helps most of the time, but sometimes... well, I have no idea what\u0027s going on.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs there a way to make kOS set a target in a certain direction and then make MJ or RT2 autopilot aim for it? As I said in OP I use RO so reaction wheels aren\u0027t really an option.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-09-28T18:19:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xrayfishx\u0022 data-cite=\u0022xrayfishx\u0022\u003E\u003Cdiv\u003EIs there a way to make kOS set a target in a certain direction and then make MJ or RT2 autopilot aim for it? As I said in OP I use RO so reaction wheels aren\u0027t really an option.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you want more realism you probably need to be *really* realistic and use raw steering using SHIP:CONTROL and make the steering correction code yourself, instead of relying on LOCK STEERING which is a bit of an unrealistic crutch to help new users along.\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2014-09-29T16:41:17Z","Content":"\n\u003Cp\u003EUse a two-tiered system for steering. One variable holds the desired heading, another variable the commanded heading. The commanded heading should converge to the desired heading at a safe rate.\u003C/p\u003E\n"}]}