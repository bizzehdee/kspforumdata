{"TopicId":210903,"ForumId":20,"TopicTitle":"BUG_TOPIC - Waterfall \u0026amp; Realplume: Issue while loading craft from unmodded save - Engine Enable/Disable Action Groups get cleared.","CreatedByName":"HB Stratos","CreatedById":187428,"CreatedDateTime":"2022-12-02T15:47:27Z","PageNum":1,"Articles":[{"CreatedByName":"HB Stratos","CreatedById":187428,"CreatedDateTime":"2022-12-02T15:47:27Z","Content":"\n\u003Cp\u003E\nI\u0027m posting this as a separate Topic as it separately applies to two different mods I tested, and I don\u0027t want to copy-paste the same issue twice when it may have the same root cause.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:22px;\u0022\u003E\u003Cstrong\u003EThe Issue: When Loading a Stock Craft into a KSP Game with EITHER Waterfall or Realplume loaded, Engine Enable/Disable Action Groups get lost.\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHow it should be:\u00A0\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002294.37\u0022 height=\u0022268\u0022 width=\u0022284\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048250274436886619/image.png\u0022\u003E\u00A0 how it ends up with either RealPlume or Waterfall:\u00A0\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002278.32\u0022 height=\u0022224\u0022 width=\u0022286\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048251327693717635/image.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:22px;\u0022\u003E\u003Cstrong\u003EProbable Cause (guess)\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe issue does not appear to lie in the configs directly, doing a grep over all of the mod folders of Realplume and Waterfall with their respecive configs I could find no line that explicitly edits the Action groups or completely deletes ModuleEngines. They however all rename ModuleEngines to ModuleEnginesFX.\n\u003C/p\u003E\n\u003Cp\u003E\nThis leads me to suspect that in that renaming KSP does not know how to handle a craft with such a module in place as it isn\u0027t the ModuleEngines it expected, and therefore it seems to miss every setting within the ModuleEngines that was not at default, or at least action groups. (I did not have the time to test for thrust limiters too.)\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d be curious to hear from the devs of the respective mods about what could be causing this and how it could be fixed, as I am not familiar with KSP modding in terms of C#, and only know a little bit about Module Manager patching. It would be cool to see this fixed, because this breaks functionality of vessels that are otherwise considered fully stock in their craft file and should work in an unmodded game.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cstrong\u003EInvestigation: (what lead me to my above conclusion)\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nCraft used for testing:\u00A0\u003Ca href=\u0022https://kerbalx.com/The_Black_Badger/CT-6M-Phoenix\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalx.com/The_Black_Badger/CT-6M-Phoenix\u003C/a\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELoaded in stock KSP:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002294.37\u0022 height=\u0022268\u0022 width=\u0022284\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048250274436886619/image.png\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002262.67\u0022 height=\u0022559\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048250599235399720/image.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe original craft is from 1.9.1, but loading it in completely stock KSP 1.12.3 results in no issues, the action groups are retained.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELoaded with RealPlume-StockConfigs only\u003C/strong\u003E\u00A0(ModuleManager, SmokeScreen, RealPlume, RealPlume-StockConfigs)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002278.32\u0022 height=\u0022224\u0022 width=\u0022286\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048251327693717635/image.png\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002266.25\u0022 height=\u0022591\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048251538755293184/image.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe Action groups set were both removed, reset back to none.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELoaded with only Waterfall-StockConfigs\u003C/strong\u003E\u00A0(B-9 Part Switcher, Module Manager, Waterfall Core, Waterfall Stock Configs)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002284.51\u0022 height=\u0022240\u0022 width=\u0022284\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048252117455999036/image.png\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.50\u0022 height=\u0022498\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048252304849129482/image.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELoaded with SmokeScreen only:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002283.28\u0022 height=\u0022239\u0022 width=\u0022287\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048253055537258496/image.png\u0022\u003E\u00A0 No issue here, everything fine\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELoaded with RealPlume, but no configs:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002298.22\u0022 height=\u0022276\u0022 width=\u0022281\u0022 src=\u0022https://cdn.discordapp.com/attachments/778414664375205930/1048253693084041316/image.png\u0022\u003E\u00A0No issues here either, all good.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}