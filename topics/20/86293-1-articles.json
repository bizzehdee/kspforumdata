{"TopicId":86293,"ForumId":20,"TopicTitle":"RealFuels KSP-Interstellar Integration Config","CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-07T03:21:20Z","PageNum":1,"Articles":[{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-07T03:21:20Z","Content":"\n\u003Cp\u003EThis is a thread to work on a better \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64118-0-25-Real-Fuels-v8-1-Cold-War-Nightmare-Edition-%28Typos-fixed%29-Oct-18-14\u0022 rel=\u0022external nofollow\u0022\u003ERealFuels\u003C/a\u003E \u002B \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/43839-0-25-KSP-Interstellar-%28Magnetic-Nozzles-ISRU-Revamp%29-Version-0-13\u0022 rel=\u0022external nofollow\u0022\u003EKSP-Interstellar\u003C/a\u003E integration config.\u003C/p\u003E\u003Cp\u003EBasically, the idea is rather simple. It would re-name the KSP-Interstellar fuels as RealFuels where appropriate (for instance Methane at LiquidMethane, and LiquidFuel as LiquidHydrogen), and adjust the fuel consumption rates, conversion/production rates (for instance in the products made by Water Electrolysis) and tank capacities to account for the new resource densities and equal the same masses as before where re-naming changed the resource density.\u003C/p\u003E\u003Cp\u003EThere would also be an attempt to up-rate the Interstellar Meth/LOX engine to realistic TWR/ISP levels for the RealFuels \u0022Stockalike\u0022 config (which updates stock parts to realistic TWR and ISP values without changing their thrust...)\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-19T06:37:16Z\u0022 title=\u002210/19/2014 06:37  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 19, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-07T03:27:22Z","Content":"\n\u003Cp\u003EUse ModuleManager for that. Shouldn\u0027t be all that hard.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-07T04:39:00Z","Content":"\n\u003Cp\u003EThere\u0027s even a cfg file in the RealFuels folder to do that, but I\u0027m guessing by your posting this lots that it\u0027s outdated?\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-07T21:16:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EUse ModuleManager for that. Shouldn\u0027t be all that hard.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMUCH easier said than done. That requires a knowledge (and preferably experience) of how to create ModuleManage patches- of which I have no idea.\u003C/p\u003E\u003Cp\u003EBased on your posts on the RealFuels thread, it sounds like you already began to tackle this before. Maybe I could convince you to start work on an \u0022official\u0022 patch that could be permanently posted on the RealFuels release thread front page in the future?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThere\u0027s even a cfg file in the RealFuels folder to do that, but I\u0027m guessing by your posting this lots that it\u0027s outdated?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUhhh, yeah. Outdated, and more importantly, incomplete. The patch in the latest release of RealFuels doesn\u0027t address Ammonia, Methane, or Meth/LOX as NTR propellants. Nor does it address the KSP-Interstellar tank specifically designed to hold Ammonia, or the rate the refnieries harvest Ammonia at (the reduction in resource-density means they need to harvest Ammonia at an increased rate).\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-07T23:01:45Z\u0022 title=\u002210/07/2014 11:01  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 7, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-07T21:44:01Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Regex\u003C/strong\u003E Just to make sure you\u0027re aware, there already is a config file in the RealFuels release for KSP-Interstellar integration. The problem with it is, it\u0027s outdated, and doesn\u0027t apply all the fixes that are necessary for full-compatibility (fixes to ISRU, or use of Methane, Meth/LOX, or Ammonia for Nuclear Thermal Rockets, for instance)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENathanKell\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EEDIT:\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E It appears I might have been wrong about the mass-ratios produced by the resource-converters in KSP-Interstellar. They MAY actually be smart enough to correct for changes in resource densities, like was suggested on the RealFuels thread. However the ISRU *extraction* rate of Ammonia (when being harvested raw from the environment, as on Jool/Eve, rather than produced via the \u003C/em\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Haber_process\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cem\u003EHaber Process\u003C/em\u003E\u003C/strong\u003E\u003C/a\u003E\u003Cem\u003E) is still not fixed in KSP-Interstellar without a MM patch; nor is the use of Ammonia, Methane, or Methane/LOX in NTR\u0027s changed to use the RealFuels equivalents either...\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EThere are ISRU reactions to produce Ammonia (from atmospheric Nitrogen deposits, and LiquidFuel- representing the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Haber_process\u0022 rel=\u0022external nofollow\u0022\u003EHaber Process\u003C/a\u003E), Methane (from atmospheric CO2 deposits, and LiquidFuel- representing the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Sabatier_reaction\u0022 rel=\u0022external nofollow\u0022\u003ESabatier Reaction\u003C/a\u003E), and LiquidOxygen/Aluminum (from Mun/Ike regolith- via \u0022Alumina Electrolysis\u0022- likely representing electrolysis of aluminum-oxide rocks/sand/soil via the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Hall%E2%80%93H%C3%A9roult_process\u0022 rel=\u0022external nofollow\u0022\u003EHall-Heroult Process\u003C/a\u003E) in KSP-Interstellar... It appears that the KSP-Interstellar converter modules that perform these reactions are smart enough to auto-adjust for changes in resource density, but this should be double-checked to make sure everything is working right...\u003C/p\u003E\u003Cp\u003EThe extraction rate of Ammonia in the ISRU refineries (when being harvested directly from the environment) needs to be increased by 1.12748:1 to reflect the reduction if resource density in RealFuels... (basically, increased by 12.75%) The EXTRACTION modules, unlike the converter modules, do NOT auto-adjust for changes in resource density.\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EP.S.\u003C/strong\u003E This careful analysis revealed that the resource density of LiquidMethane *might* be too low in RealFuels. It appears it should be approximately 35% denser to achieve the correct mass-ratio with LiquidOxygen... Of course, this analysis is based on molecular masses rather than the actual densities you can pack the fuels into liquid form in real life...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-07T23:15:39Z\u0022 title=\u002210/07/2014 11:15  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 7, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-07T21:49:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Northstar1989\u0022 data-cite=\u0022Northstar1989\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E@Regex\u003C/strong\u003E Just to make sure you\u0027re aware, there already is a config file in the RealFuels release for KSP-Interstellar integration. The problem with it is, it\u0027s outdated, and doesn\u0027t apply all the fixes that are necessary for full-compatibility (fixes to ISRU, or use of Methane, Meth/LOX, or Ammonia for Nuclear Thermal Rockets, for instance)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, you\u0027re a smart guy and I\u0027ve already given you a link to the \u003Ca href=\u0022https://github.com/sarbian/ModuleManager/wiki\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager Docs\u003C/a\u003E. I\u0027m really only trying to help you get a head start since you seem really insistent on getting someone to take this on and no one has jumped at the chance; seems really urgent if you make one thread and post in two others. I am in no way interested in taking that on but I do want to help you. Sorry if I have disappointed.\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-07T22:12:13Z","Content":"\n\u003Cp\u003EFor reference, the current resource densities in RealFuels, as of the last 0.24.2 release:\u003C/p\u003E\u003Cp\u003E name = LiquidOxygen\u003C/p\u003E\u003Cp\u003E density = 0.001141\u003C/p\u003E\u003Cp\u003E name = LiquidH2\u003C/p\u003E\u003Cp\u003E density = 0.00007085\u003C/p\u003E\u003Cp\u003E name = LqdAmmonia\u003C/p\u003E\u003Cp\u003E density = 0.000604\u003C/p\u003E\u003Cp\u003E name = LqdMethane\u003C/p\u003E\u003Cp\u003E density = 0.00042262\u003C/p\u003E\u003Cp\u003ETheir counterparts in Stock/KSP-I (assuming LiquidFuel = LiquidHydrogen, as this is the assumption KSP-Interstellar makes for ISRU purposes) as of the last 0.24.2 release:\u003C/p\u003E\u003Cp\u003E name = Oxidizer\u003C/p\u003E\u003Cp\u003E density = 0.005\u003C/p\u003E\u003Cp\u003E name = LiquidFuel\u003C/p\u003E\u003Cp\u003E density = 0.005\u003C/p\u003E\u003Cp\u003E name = Ammonia\u003C/p\u003E\u003Cp\u003E density = 0.000681\u003C/p\u003E\u003Cp\u003E name = LqdMethane\u003C/p\u003E\u003Cp\u003E density = 0.00186456\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-07T22:18:03Z\u0022 title=\u002210/07/2014 10:18  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 7, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-07T22:27:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EWell, you\u0027re a smart guy and I\u0027ve already given you a link to the \u003Ca href=\u0022https://github.com/sarbian/ModuleManager/wiki\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager Docs\u003C/a\u003E. I\u0027m really only trying to help you get a head start since you seem really insistent on getting someone to take this on and no one has jumped at the chance; seems really urgent if you make one thread and post in two others. I am in no way interested in taking that on but I do want to help you. Sorry if I have disappointed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I\u0027ve already put forth, I don\u0027t have the faintest idea how to go about generating a ModuleManager patch. And if I made this my first attempt, I\u0027d likely end up screwing a lot of things up- which would be really bad for such an important integration config as RealFuels/KSP-Interstellar. Plus, just as importantly, I have (almost) no experience in programming and no idea how to do things like Pull Requests to integrate the new config into the next RealFuels release...\u003C/p\u003E\u003Cp\u003ETBH, though, I\u0027d be most interested in seeing NathanKell take up the mantle of this, as there is already an (outdated/incomplete) config for KSP-Interstellar in the RealFuels release; and he has a LOT more experience working with his own mod than I do...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-07T22:30:05Z\u0022 title=\u002210/07/2014 10:30  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 7, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-07T23:40:19Z","Content":"\n\u003Cp\u003Eregex pointed you at the docs; MM is really not that hard to use.\u003C/p\u003E\u003Cp\u003EI\u0027m sorry to say I\u0027m busy enough that I don\u0027t have time to take it on myself (and I know *nothing* about KSPI, so that\u0027s not helpful either); heck I just handed Deadly Reentry off to Starwaster.\u003C/p\u003E\n"},{"CreatedByName":"dreadicon","CreatedById":117295,"CreatedDateTime":"2014-10-08T00:03:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Northstar1989\u0022 data-cite=\u0022Northstar1989\u0022\u003E\u003Cdiv\u003EAs I\u0027ve already put forth, I don\u0027t have the faintest idea how to go about generating a ModuleManager patch. And if I made this my first attempt, I\u0027d likely end up screwing a lot of things up- which would be really bad for such an important integration config as RealFuels/KSP-Interstellar. Plus, just as importantly, I have (almost) no experience in programming and no idea how to do things like Pull Requests to integrate the new config into the next RealFuels release...\u003Cp\u003ETBH, though, I\u0027d be most interested in seeing NathanKell take up the mantle of this, as there is already an (outdated/incomplete) config for KSP-Interstellar in the RealFuels release; and he has a LOT more experience working with his own mod than I do...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs mentioned in my PM, I may be willing to write up the configs, but I would want good, solid numbers on conversion rates, compression rates, and so forth. I can say that LiquidFuel maps much more accurately to RP-1 (a refined form of Kerosene) than to H2. Overall, RealFuels tanks are 5x the size, and fuels are 1/5th the density when compared to stock. NathanielKell\u0027s numbers for density have checked out against Wikipedia and the few more credible sources I\u0027ve checked, so i\u0027d be going with his numbers and conversion rates whenever there\u0027s a discrepancy. \u003C/p\u003E\u003Cp\u003EFor these resources, the conversion is quite simple; \u003C/p\u003E\u003Cp\u003EOxidizer \u0026amp; LiquidFuel are multiplied by 5 and summed for the total tank space. It\u0027d be close enough.\u003C/p\u003E\u003Cp\u003EAmmonia can be converted in terms of space to LqdAmmonia/Ammonia * tank size.\u003C/p\u003E\u003Cp\u003EDo the same for Methane, and that\u0027s it! \u003C/p\u003E\u003Cp\u003EHonestly, if MM was just a liiiiittle more powerful, I could write a like 30 line config file to handle the whole thing, but alas, MM can\u0027t assign one part value to another dynamically....\u003C/p\u003E\u003Cp\u003EThe problem comes with things like the MW resource, which maps inaccurately to Electric Charge depending on the mod used, and finding where all these values are located, and what they are. I\u0027ve got time \u0026amp; will to write up the files, but not to hunt down all the values from the parts files and compile them into a readable format. Either way, we\u0027ll see how it goes, but no guarantees unless I\u0027ve got the numbers.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-08T00:15:50Z","Content":"\n\u003Cp\u003Edreadicon: it can now. It supports variables, and relative locations; you can go all the way up to gamedatabase root and then down again to the other part. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"dreadicon","CreatedById":117295,"CreatedDateTime":"2014-10-08T00:43:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Edreadicon: it can now. It supports variables, and relative locations; you can go all the way up to gamedatabase root and then down again to the other part. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewait, WHAT!? OK, ditching last 15 minutes of work to investigate NAO. I know I proposed a format/implementation syntax a month or two ago, and he sounded cautiously interested, but I didnt think he\u0027d actually do it! w00t!\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-08T01:35:37Z","Content":"\n\u003Cp\u003EUhhhh, OK. I\u0027m not sure what *that* tangent with NAO and roots and all that was about, but anyways, back to the main topic...\u003C/p\u003E\u003Cp\u003EI decided to see what I *COULD* do with my current level of understanding, and the .CFG file already available to me as a reference, and came up with the following fixes for using LqdAmmonia and Meth/LOX in KSP-I NTR\u0027s, and making the KSP-I radial Ammonia tank hold LqdAmmonia instead:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@BASIC_NTR_PROPELLANT[Methalox]\u003Cbr\u003E{\u003Cbr\u003E\t@guiName = Methalox\u003Cbr\u003E\t@PROPELLANT[LqdMethane]\u003Cbr\u003E\t{\u003Cbr\u003E        \t@ratio = 0.443\u003Cbr\u003E\t}\u003Cbr\u003E\t@PROPELLANT[Oxidizer]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@name = LqdOxygen\u003Cbr\u003E\t\t@ratio = 0.557\u003Cbr\u003E\t\t@DrawGauge = False\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@BASIC_NTR_PROPELLANT[Ammonia]\u003Cbr\u003E{\u003Cbr\u003E\t@guiName = Ammonia\u003Cbr\u003E\t@PROPELLANT[Ammonia]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@name = LqdAmmonia\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[FNAmmoniaTank]\u003Cbr\u003E{\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleFuelTanks\u003Cbr\u003E\t\tvolume = 10731\u003Cbr\u003E\t\ttype = Default\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETested it, and it works in Sandbox mode with KSP-Interstellar installed. For the Meth/LOX combustion ratio, I just copied the ratio NathanKell was already using for the KSP-I chemical Meth/LOX engine- although I think it may burn a little too Methane-rich for the real-life analog (\u003Ca href=\u0022https://en.wikipedia.org/wiki/Raptor_%28rocket_engine%29\u0022 rel=\u0022external nofollow\u0022\u003ERaptor\u003C/a\u003E).\u003C/p\u003E\u003Cp\u003EFor that matter, the real-life Raptor engine is also supposed to have better ISP than the KSP-Interstellar one, and since RealFuels already reduces the density of its fuels, it might be good to replace its stats with those of the real-life proposed design (321s ASL, 380s vacuum) to buff it back up closer to realism.\u003C/p\u003E\u003Cp\u003EAlso, the shortcut I took for converting the Ammonia tank was just to give it exactly the same volume as it had capacity in Ammonia. This might be a flawed assumption- I think it leads to too low of a fuel fraction for the tank...\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEDIT:\u003C/strong\u003E For anyone trying to use these fixes as-is, I have updated the code here to use the new resource name for liquid oxygen introduced in RealFuels v8.0: \u0022LqdOxygen\u0022 instead of \u0022LiquidOxygen\u0022. Remember, this only solves a couple of the NTR fuel issues in KSP-Interstellar and makes the Ammonia tank modular- you\u0027ll still need the other fixes in the KSP-Interstellar/RealFuels integration config present in RealFuels v8.0 and before... (RealFuels v8.1 removed the config while myself and Dreadicon work on an updated one)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-19T00:25:25Z\u0022 title=\u002210/19/2014 12:25  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 19, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kejchal","CreatedById":94553,"CreatedDateTime":"2014-10-17T23:45:55Z","Content":"\n\u003Cp\u003EProbably im doing it wrong but for me it looks like volume of LqdOxigen:LqdMethane should be 1:1.42 . Same way i counted LqdOxigen:LqdHydrogen is 1:2.1 in liters , but engines in RO have around 1:2.7 .\u003C/p\u003E\u003Cp\u003EI used \u003Ca href=\u0022http://www.thermobook.net/stoichiometry/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.thermobook.net/stoichiometry/\u003C/a\u003E , and density from wiki.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-18T02:52:56Z","Content":"\n\u003Cp\u003EEngines don\u0027t run stoich. Russians tend to run ox-rich, and US engines fuel-rich.\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-18T04:40:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EEngines don\u0027t run stoich. Russians tend to run ox-rich, and US engines fuel-rich.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIndeed, but he *MAY* have a point. The 443:557 ratio of Methane to LOX for the Interstellar Meth/LOX engines (this was the ratio already included in the pre-existing and incomplete/outdated integration config) seems far too fuel-rich to me, considering Methane and LOX burn in a close to 1:4 mass ratio...\u003C/p\u003E\u003Cp\u003ECH4 \u002B 2 O2 --\u0026gt; CO2 \u002B 2 H2O\u003C/p\u003E\u003Cp\u003EAlso, yes Kejchal, I think you did it wrong. It doesn\u0027t appear you entered the correct balanced reaction into that website to start with...\u003C/p\u003E\u003Cp\u003EIf you used the densities for LiquidMethane and LiquidOxygen currently used in RealFuels (I posted these on the first page, \u003Cem\u003E\u003Cstrong\u003Eit doesn\u0027t matter what densities you could find on Wikipedia- they may not be at the same temperature/pressure conditions\u003C/strong\u003E\u003C/em\u003E), the LiquidOxygen is 2.698249 times more dense than LiquidMethane, but burns in a 16.043 : 63.996 mass-ratio according to the website you linked to, meaning the stoichiometric reaction ratio in KSP (in terms of units/volume) should be...\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E1 : 1.477514\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EOr, when set to volume-fraction as KSP uses (i.e. if only 2/5ths of the volume fed into a reaction was of a given resource, its ratio would be \u00220.40\u0022)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELiquidMethane: 0.40363\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELiquidOxygen: 0.59637\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ENotice those two numbers have to add up to 1 for it to work properly in KSP, hence I chose a # of significant figures such that I could do that while minimizing rounding errors... (my actual results could have been to more sig. figs., but it would have only complicated things)\u003C/p\u003E\u003Cp\u003EThe current integration-config, on the other hand, uses 0.443 and 0.557 for the volume-fractions.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEDIT:\u003C/strong\u003E Some more research reveals the ratio currently in use is probably fairly accurate. Meth/Lox engines actually are a LOT more efficient when run fuel-rich, unlike Kero/LOX or Hydro/LOX, which both pay significant penalties for running fuel-rich (but are often built as-such because running Oxygen-rich requires much more advanced metallurgy to do properly- of the sort that only the Russians had until recently, when the US bought several such Russian engines and associated documentation in order to figure out how to replicate them...)\u003C/p\u003E\u003Cp\u003EThe ISP of the KSP-Interstellar Meth/LOX chemical engine still isn\u0027t up to snuff yet, though- the REAL engine has a sea-level ISP of 321s and a vacuum ISP of 380s, whereas the specs of the current RealFuels/Interstellar engine are significantly worse... (this is a holdover from normal Interstellar- RealFuels simply doesn\u0027t do anything to increase the ISP to accurate levels, while decreasing the fuel density and thus nerfing Meth/LOX...)\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-18T05:38:41Z\u0022 title=\u002210/18/2014 05:38  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 18, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-18T06:09:15Z","Content":"\n\u003Cp\u003EKSP-Interstellar\u0027s Meth/LOX engine lags far behind the Space-X \u0022Raptor\u0022 in almost every possible design criteria. Here are just *SOME* of the specifications for comparison:\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EInterstellar\u0027s \u0022Deinonychus 1-D\u0022\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThrust\u003C/strong\u003E 1425 kN (thrust does not vary with atmospheric pressure in stock engine module)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMass\u003C/strong\u003E 3500 kg (for the record- what TWR is that?)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EASL ISP\u003C/strong\u003E 309 s\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EVAC ISP\u003C/strong\u003E 368 s\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003ESpace-X\u0027s \u0022Raptor\u0022\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EASL Thrust\u003C/strong\u003E 6900 kN\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EVAC Thrust\u003C/strong\u003E 8200 kN\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMass\u003C/strong\u003E Unknown- but TWR predicted likely to exceed 120\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EASL ISP\u003C/strong\u003E 321 s\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EVAC ISP\u003C/strong\u003E 380 s\u003C/p\u003E\u003Cp\u003EKeep in mind that the \u0022Deinonychus 1-D\u0022 is not available until \u0022Experimental Rocketry\u0022 - \u003Cstrong\u003Ethe *very last* tech node in the rocketry series of the tech-tree!\u003C/strong\u003E So, it would be perfectly reasonable to expect it to significantly out-perform Kero/LOX engines in many ways, considering its higher tech level (as a Meth/LOX engine, it is in fact a bit further towards the \u0022high ISP\u0022 end of the fuel-density vs. ISP spectrum than Kero/LOX engines...)\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-18T06:36:34Z","Content":"\n\u003Cp\u003ECross-posting like mad, as usual \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E Roll your own engine config for Real Fuels to address the methane engine issue.\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-18T09:13:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003ECross-posting like mad, as usual \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELet me start off by saying that I highly respect the great deal of work you do for KSP modding, and the input you have on most forum threads- but there\u0027s no reason to roll eyes at me...\u003C/p\u003E\u003Cp\u003EI\u0027ve got to make sure it\u0027s seen by all the related parties. In this case, it\u0027s perfectly appropriate- as the other places this is cross-posted are the base RealFuels thread (only AFTER the code changes were first introduced here, and as they didn\u0027t come to NathanKell\u0027s attention from this post), and in the \u0022Stockalike\u0022 engine config for RealFuels- due solely to the fact that you seemed to think it more appropriate for ISP/TWR changes to the Meth/LOX engine to be included in the engine config than in the base mod...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003ERoll your own engine config for Real Fuels to address the methane engine issue.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirst of all, creating a separate config that applies a MM patch to the same part could create potential issues, could it not? Thus, it would seem to me that whatever lines on code were created to address this issue should best be integrated into the same config file as the MM changes to the resources consumed by the Meth/LOX engine...\u003C/p\u003E\u003Cp\u003ENow I can see two potential fixes to this problem...\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cstrong\u003EThe first, is that the engine ISP/TWR fixes simply be integrated into the same RealFuels/KSP-Interstellar integration config already present in the base RealFuels install that changes the resources consumed by this (and a number of other) engines.\u003C/strong\u003E\u003C/em\u003E Then, if any engine config wanted to change the engine values further (say to scale the engine up to Realism Overhaul scale with one of the two scaled-up engine configs), they would release a version of the KSP-I integration config that overwrote the one in the base install.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cstrong\u003EThe second, is that the engine ISP/TWR fixes be left out of the base RealFuels install, but the fixes/changes I already came up with be included\u003C/strong\u003E\u003C/em\u003E (the modular fuel tank fix for the Ammonia tank and the additional NTR fuel mixes I provide MM patches for here- which are in exactly the same spirit as the fixes in the config already in the base RealFuels install: of simply causing existing Interstellar fuel-modes to use RealFuels resources and density-adjusted ratios rather than the Interstellar resources being replaced in the fuel tanks and such...) \u003Cem\u003E\u003Cstrong\u003Eas well as any similar changes that myself or Dreadicon come up with before the integration config is revised\u003C/strong\u003E\u003C/em\u003E (or in second revisions later, if this is done quickly). But any ISP/TWR changes to the Interstellar Meth/LOX engine myself/Dreadicon come up with be left out, and those be included in an alternate version of the integration config for the \u0022Stockalike\u0022 engines config that would then have to overwrite the base RealFuels integration config when installed.\u003C/p\u003E\u003Cp\u003EEither solution will require some instance of re-writing, and require at least *some* of the engine configs to check that they\u0027re not overwriting a more updated base-config with a more out-of-date engine config in the future, when further changes might be made to the base config by other people. But the first solution at least ensures that thhe \u0022Stockalike\u0022 config doesn\u0027t need to do this- and honestly, I doubt many/any players using the \u0022Real Engines\u0022 or \u0022Reaching for the Stars\u0022 engine configs would want to play with KSP-Interstellar installed anyways, as there aren\u0027t \u0022real\u0022 engines/technologies yet... (but instead reside in the realm of the moderately-distant but definitely-feasible future...)\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cstrong\u003EA THIRD, and possibly best, solution; would be to include the engine ISP/TWR fixes in a separate config file from all the other KSP-Interstellar integration changes, which would reside in the config in the base RealFuels mod. But my concern is, once again, wouldn\u0027t applying two different MM patches to the same Meth/LOX engine (one to change the resources used, and another to change the TWR/ISP) cause issues?\u003C/strong\u003E\u003C/em\u003E\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-18T09:16:47Z\u0022 title=\u002210/18/2014 09:16  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 18, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-18T16:26:08Z","Content":"\n\u003Cp\u003EEngine stats belong in engine configs, simple as that. You can either roll your own to fit your needs/playstyle or you can cajole another maintainer into adding what you\u0027d like to see. Real Fuels conveniently has a spreadsheet in or near the OP that will help you roll a custom config or help another maintainer if you want to go that route.\u003C/p\u003E\u003Cp\u003EFor fuel related stuff, like adding LqdWater to tanks, write a ModuleManager config to add KSPI fuels to RF Tank Types.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-18T17:19:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Northstar1989\u0022 data-cite=\u0022Northstar1989\u0022\u003E\u003Cdiv\u003EI\u0027ve got to make sure it\u0027s seen by all the related parties. In this case, it\u0027s perfectly appropriate- as the other places this is cross-posted are the base RealFuels thread (only AFTER the code changes were first introduced here, and as they didn\u0027t come to NathanKell\u0027s attention from this post), and in the \u0022Stockalike\u0022 engine config for RealFuels- due solely to the fact that you seemed to think it more appropriate for ISP/TWR changes to the Meth/LOX engine to be included in the engine config than in the base mod...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhile that may be true it also makes it \u003Cem\u003Every\u003C/em\u003E hard for someone like myself to help you out, since I have to check several different threads and potentially reply in several different places to the exact same question.\u003C/p\u003E\u003Cp\u003ESo, regarding the basic issue, that being you want KSPI to work with Real Fuels, and considering that you are an opinionated person with strong feelings about \u003Cem\u003Ehow things should work\u003C/em\u003E (that\u0027s not an insult, it\u0027s just The Way Things Are*), there are a few things you need to do \u003C/p\u003E\u003Cp\u003EThe config for fuel tanks belongs with Real Fuels because Real Fuels is all about fuels and mixtures. While it may concern itself with engines in a limited sense, it is not intended to deal with ISPs, thrust, mass, etc...\u003C/p\u003E\u003Cp\u003EReal Fuels doesn\u0027t work properly without an engine config but it helpfully provides you a spreadsheet that can generate ModuleManager scripts based on the data you provide. You generally only use one engine config because, as you so astutely noticed, having multiple ModuleManager configs edit that same item quickly runs into problems even though Sarbian has added tools to \u003Cem\u003Ehelp\u003C/em\u003E deal with that. That means you either have to roll your own engine config (which I \u003Cem\u003Estrongly\u003C/em\u003E suggest given your strong opinions) or get someone to add the changes you want to their config.\u003C/p\u003E\u003Cp\u003EOne thing you \u003Cem\u003Ecan\u003C/em\u003E do as far as the engine config is concerned is to create a config that only concerns itself with KSPI engines. This can sit alongside another engine config (I assume you use the Stockalike config) and override their own values. Look into the :final modifier in ModuleManager for an idea of how to do this.\u003C/p\u003E\u003Cp\u003EAnd that\u0027s pretty much it. I thought I\u0027d post here again just to drive this point home, all you need for KSPI interaction with Real Fuels is two things. Learning ModuleManager and doing a bit of Excel work is pretty much all you need.\u003C/p\u003E\u003Cp\u003E* I should again stress that this is not an insult. You bring a lot of good data to the community and that is appreciated, but you also have strong opinions on balance that may clash with a mod author\u0027s vision of how their mod should be balanced. This is why you learning ModuleManager would benefit everyone, including you. You can easily get what you want, share it with others, demonstrate to authors how your changes would work and whether they can benefit, etc... It helps take you from being a mere commentor to being a contributor, which is always a good thing.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-18T17:32:29Z\u0022 title=\u002210/18/2014 05:32  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 18, 2014\u003C/time\u003E by regex\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-18T23:11:33Z","Content":"\n\u003Cp\u003EI have pulled the existing KSPI_MFS.cfg file from RF v8.1, pending its replacement with the result of this thread (absent any engine configs; RF will not ever ship with engine configs.)\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-18T23:22:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EFor fuel related stuff, like adding LqdWater to tanks, write a ModuleManager config to add KSPI fuels to RF Tank Types.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow? That\u0027s the information I\u0027m still trying to find out...\u003C/p\u003E\u003Cp\u003EDreadicon says he already came up with a solution that adds LqdWater storage capability to any tank that can hold Kerosene, but I\u0027m not exactly sure what he meant by that- and if he means he went and modified each and every individual stock and mod tank currently made to work with RealFuels, it sounds like a particularly inelegant solution (and won\u0027t work as new tanks are added, such as the NovaPunch2 K1 Heavy Lifter Tanks...)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EEngine stats belong in engine configs, simple as that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlso, on this note, and given the other posts and some of my discussion with Dreadicon (who is also working on a Realfuels/KSP-Interstellar integration config, and in fact now has an early, not fully-tested version out on his dev thread...), now looking at this at a not 3 AM hour, I think the simplest solution to the problem of the KSP-Interstellar Meth/LOX engine is that the MM patches to it (and the other KSP-Interstellar engines) need to be *REMOVED* from the base RealFuels integration config, and migrated over to the individual engine configs.\u003C/p\u003E\u003Cp\u003EThere are three KSP-Interstellar engines that are currently altered by the base RealFuels (no engine config installed) file: the Al-Hybrid Rocket (it\u0027s like an SRB- both engine and tanks in one part), the Meth/LOX engine, and the DT-Vista engine. All of these should be REMOVED from the base config, and migrated over to individual engine configs so that these configs can also alter things like their ISP and TWR to be more realistic (generally this actually means lighter/ more efficient) rather than balanced against stock...\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-18T23:33:49Z\u0022 title=\u002210/18/2014 11:33  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 18, 2014\u003C/time\u003E by Northstar1989\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-18T23:55:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Northstar1989\u0022 data-cite=\u0022Northstar1989\u0022\u003E\u003Cdiv\u003EHow? That\u0027s the information I\u0027m still trying to find out...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I was trying to tell you in the Real Fuels thread, the key is in the Tank Types config file. You\u0027ll basically be adding the resource to a particular tank type. Ensure that the tank you want to add it to is using the particular tank type you specify.\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-10-19T00:28:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EAs I was trying to tell you in the Real Fuels thread, the key is in the Tank Types config file. You\u0027ll basically be adding the resource to a particular tank type. Ensure that the tank you want to add it to is using the particular tank type you specify.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m still not quite sure what you\u0027re trying to describe, but I send a link to your post to Dreadicon, so hopefully he\u0027ll be able to figure it out.\u003C/p\u003E\u003Cp\u003EAlso, would this work with ProceduralParts\u002BRealFuels installed? The ideal solution would make LqdWater available in all ProceduralParts\u002BRealFuels procedural tanks, when both of those mods are installed... (it might also be wise to have a fix to add LqdWater for just ProceduralParts w/o RealFuels, but that is obviously a bit beyond your scope...)\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n"}]}