{"TopicId":192949,"ForumId":20,"TopicTitle":"Vary Cost of Tech Node Depending on Kopernicus Mod","CreatedByName":"Probus","CreatedById":102512,"CreatedDateTime":"2020-04-06T18:31:48Z","PageNum":1,"Articles":[{"CreatedByName":"Probus","CreatedById":102512,"CreatedDateTime":"2020-04-06T18:31:48Z","Content":"\n\u003Cp\u003E\nI would like to vary the cost of each tech node dependant on the Kopernicus mod used.\u00A0Does anyone know the best way I can accomplish the following (with module manager maybe)?\n\u003C/p\u003E\n\u003Cp\u003E\nIf stock then multiply the tech node x 1.0\n\u003C/p\u003E\n\u003Cp\u003E\nIf JNSQ\u00A0then multiply the tech node x 1.2\n\u003C/p\u003E\n\u003Cp\u003E\nIf \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u00A0then multiply the tech node x 1.3\n\u003C/p\u003E\n\u003Cp\u003E\nIf OPM then...\n\u003C/p\u003E\n\u003Cp\u003E\nYou can\u0027t do math in \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E, Correct? \u00A0Maybe use some kind of replace instead?\n\u003C/p\u003E\n"},{"CreatedByName":"zer0Kerbal","CreatedById":190933,"CreatedDateTime":"2020-04-07T01:01:55Z","Content":"\n\u003Cp\u003E\ncustombarnkit might allow this.\n\u003C/p\u003E\n"},{"CreatedByName":"Corax","CreatedById":11311,"CreatedDateTime":"2020-04-07T03:48:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767100\u0022 data-ipsquote-contentid=\u0022192949\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586197908\u0022 data-ipsquote-userid=\u0022102512\u0022 data-ipsquote-username=\u0022Probus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Probus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would like to vary the cost of each tech node dependant on the Kopernicus mod used.\u00A0Does anyone know the best way I can accomplish the following (with module manager maybe)?\n\u003C/p\u003E\n\u003Cp\u003E\nIf stock then multiply the tech node x 1.0\n\u003C/p\u003E\n\u003Cp\u003E\nIf JNSQ\u00A0then multiply the tech node x 1.2\n\u003C/p\u003E\n\u003Cp\u003E\nIf \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u00A0then multiply the tech node x 1.3\n\u003C/p\u003E\n\u003Cp\u003E\nIf OPM then...\n\u003C/p\u003E\n\u003Cp\u003E\nYou can\u0027t do math in \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E, Correct? \u00A0Maybe use some kind of replace instead?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes you can. RTFM ; )\n\u003C/p\u003E\n\u003Cp\u003E\nSomething like\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n@TechTree:NEEDS[JNSQ,!OPM,!RSS]:FINAL{\n  @RDNode:HAS[#id[advancedMotors]]{\n    @cost *= 1.2\n  }\n}\n@TechTree:NEEDS[RSS,!JNSQ,!OPM]:FINAL{\n  @RDNode:HAS[#id[advancedMotors]]{\n    @cost *= 1.3\n  }\n}\n@TechTree:NEEDS[OPM,!JNSQ,!RSS]:FINAL{\n  @RDNode:HAS[#id[advancedMotors]]{\n    @cost *= 1.4\n  }\n}\u003C/pre\u003E\n\u003Cp\u003E\nmight work, no guarantees though.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-07T03:49:30Z\u0022 title=\u002204/07/2020 03:49  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 7, 2020\u003C/time\u003E by Corax\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ev0","CreatedById":116691,"CreatedDateTime":"2020-04-07T16:48:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767281\u0022 data-ipsquote-contentid=\u0022192949\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586231327\u0022 data-ipsquote-userid=\u002211311\u0022 data-ipsquote-username=\u0022Corax\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Corax said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes you can. RTFM ; )\n\u003C/p\u003E\n\u003Cp\u003E\nSomething like\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n@TechTree:NEEDS[JNSQ,!OPM,!RSS]:FINAL{\n  @RDNode:HAS[#id[advancedMotors]]{\n    @cost *= 1.2\n  }\n}\n@TechTree:NEEDS[RSS,!JNSQ,!OPM]:FINAL{\n  @RDNode:HAS[#id[advancedMotors]]{\n    @cost *= 1.3\n  }\n}\n@TechTree:NEEDS[OPM,!JNSQ,!RSS]:FINAL{\n  @RDNode:HAS[#id[advancedMotors]]{\n    @cost *= 1.4\n  }\n}\u003C/pre\u003E\n\u003Cp\u003E\nmight work, no guarantees though.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAvoid the use of FINAL, though. That should be reserved for the user\u0027s own \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches, in my opinion. Use FOR[ETT] or NEEDS[ETT] instead. Using nothing would probably make sense for this patch too.\n\u003C/p\u003E\n"},{"CreatedByName":"Corax","CreatedById":11311,"CreatedDateTime":"2020-04-08T05:21:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767543\u0022 data-ipsquote-contentid=\u0022192949\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586278127\u0022 data-ipsquote-userid=\u0022116691\u0022 data-ipsquote-username=\u0022ev0\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, ev0 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAvoid the use of FINAL, though. That should be reserved for the user\u0027s own \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches, in my opinion. Use FOR[ETT] or NEEDS[ETT] instead. Using nothing would probably make sense for this patch too.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAgreed, FINAL should in general only be used for \u0022personal\u0022 patches, if you will.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand, FOR should only be used by the author of the mod itself (which, granted, Probus would probably be, in the case of ETT), since it defines that identifier as \u0022existing\u0022 in terms of ModuleManager, i.e. if ETT is not installed, but a patch uses FOR[ETT], ModuleManager can\u0027t know better than to assume ETT is in fact installed, and all other patches depending on that will get applied too.\n\u003C/p\u003E\n"},{"CreatedByName":"Probus","CreatedById":102512,"CreatedDateTime":"2020-04-09T02:16:59Z","Content":"\n\u003Cp\u003E\nThanks a bunch!\u00A0 I will see what I can do.\u00A0 I have a feeling the initial nodes should probably have static values.\u00A0 I just need to be careful not to knock a tech level 1 node into level 2 where an upgrade to the science center is required.\n\u003C/p\u003E\n"}]}