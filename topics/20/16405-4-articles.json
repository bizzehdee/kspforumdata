{"TopicId":16405,"ForumId":20,"TopicTitle":"MechJeb Autom8 Scripts Megathread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-08-08T23:57:23Z","PageNum":4,"Articles":[{"CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-08-19T01:21:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nadrek\u0022 data-cite=\u0022Nadrek\u0022\u003E\u003Cdiv\u003EI looked at your script, and I noticed that you know commands that I do not - mechjeb.thrustActivate(10), mechjeb.controlRelease(), and mechjeb.stage() are not on the Autom8 wiki page I was using as a reference, much less ils = mechjeb.getModule(\u0022ils\u0022) ils.glideslope = slope - how did you find them - read the source code for Mechjeb, or some other way?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMost of those undocumented functions/features came straight from me in IRC, I\u0027ll try to complete the Autom8 docs ASAP.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nadrek\u0022 data-cite=\u0022Nadrek\u0022\u003E\u003Cdiv\u003EIs there any kind of exception handling that can be used to find these exceptions and retry a random but short amount of time later?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHum, I can try wrapping the internals of the wait() function in a try-catch, that may solve it...\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2012-08-19T02:48:41Z","Content":"\n\u003Cp\u003EAnyway to play a wav, mp3 or other sound file from autom8? (long shot, I realise).\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-08-19T04:07:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003EAnyway to play a wav, mp3 or other sound file from autom8? (long shot, I realise).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that\u0027s a bad idea for all Kerbalkind. One day, you\u0027re going to bouncing around the system, and you\u0027re going to hear\u003C/p\u003E\u003Cp\u003E\u0022I\u0027m sorry, Dave, I\u0027m afraid I can\u0027t do that.\u0022\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-19T15:16:33Z\u0022 title=\u002208/19/2012 03:16  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 19, 2012\u003C/time\u003E by Nadrek\u003C/strong\u003E\n\u003Cbr\u003Eminor wording change\n\u003C/span\u003E\n"},{"CreatedByName":"mager42","CreatedById":10610,"CreatedDateTime":"2012-08-19T06:22:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nadrek\u0022 data-cite=\u0022Nadrek\u0022\u003E\u003Cdiv\u003EI looked at your script, and I noticed that you know commands that I do not - mechjeb.thrustActivate(10), mechjeb.controlRelease(), and mechjeb.stage() are not on the Autom8 wiki page I was using as a reference, much less ils = mechjeb.getModule(\u0022ils\u0022) ils.glideslope = slope - how did you find them - read the source code for Mechjeb, or some other way?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI found it in olex Landing script.\u003C/p\u003E\u003Cp\u003EI modified a litle Space Plane from Muun to KSC script.\u003C/p\u003E\u003Cp\u003EInclination change now working even if start is not near equator.\u003C/p\u003E\u003Cp\u003EThere is spmunksc1.1\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/LP5nfn6B\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/LP5nfn6B\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-19T10:36:07Z\u0022 title=\u002208/19/2012 10:36  AM\u0022 data-short=\u002211 yr\u0022\u003EAugust 19, 2012\u003C/time\u003E by mager42\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-08-20T01:40:58Z","Content":"\n\u003Cp\u003EI\u0027m getting a little lost with Suggestions and Bug reports, so I\u0027ve setup a UserEcho account to try and keep things a little more under control, so please add your suggestions and report bugs through it: \u003Ca href=\u0022http://mumechksp.userecho.com/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mumechksp.userecho.com/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"aquilux","CreatedById":23859,"CreatedDateTime":"2012-08-23T03:29:15Z","Content":"\n\u003Cp\u003EI\u0027d like to suggest a change that should streamline and enhance the capabilities of the staging.\u003C/p\u003E\u003Cp\u003EInstead of...\u003C/p\u003E\u003Cp\u003Emechjeb.autoStageActivate()\u003C/p\u003E\u003Cp\u003Emechjeb.autoStageDeactivate()\u003C/p\u003E\u003Cp\u003Emechjeb.Stage()\u003C/p\u003E\u003Cp\u003EIt should be just...\u003C/p\u003E\u003Cp\u003Emechjeb.stage(X)\u003C/p\u003E\u003Cp\u003Ewhere if...\u003C/p\u003E\u003Cp\u003EX=Nil then proceed to next stage\u003C/p\u003E\u003Cp\u003EX=A then activate auto staging\u003C/p\u003E\u003Cp\u003EX=D then deactivate auto staging\u003C/p\u003E\u003Cp\u003Eand if\u003C/p\u003E\u003Cp\u003EX=a number, then attempt to stage to the listed number\u003C/p\u003E\u003Cp\u003EAlso, vessel.stage should exist as a variable, listing the current active stage.\u003C/p\u003E\n"},{"CreatedByName":"ALILOOOONG","CreatedById":33396,"CreatedDateTime":"2012-08-23T08:10:18Z","Content":"\n\u003Cp\u003Ehelp me please I copyed and pasted the flymetothemun script named it mun\u003C/p\u003E\u003Cp\u003Edid dofile\u0022mun\u0022and got this gobledegook. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EParserException: Code has syntax errors:\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u0027nil\u0027 of NilLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Text of BoolLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u00270\u0027...\u00279\u0027 of Digit.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VariableArg.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse firstTerm of OperatorExpr.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u0027nil\u0027 of NilLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Text of BoolLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u00270\u0027...\u00279\u0027 of Digit.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VariableArg.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Expr of ExprStmt.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse remaining input.\u003C/p\u003E\n"},{"CreatedByName":"Jontu","CreatedById":22078,"CreatedDateTime":"2012-08-23T09:37:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ALILOOOONG\u0022 data-cite=\u0022ALILOOOONG\u0022\u003E\u003Cdiv\u003Ehelp me please I copyed and pasted the flymetothemun script named it mun\u003Cp\u003Edid dofile\u0022mun\u0022and got this gobledegook. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStart by trying; dofile(\u0022mun\u0022)\u003C/p\u003E\u003Cp\u003EThe rest is garbage, ignore it.\u003C/p\u003E\u003Cp\u003EAfter it\u0027s FlyMeToTheMun(lat,lon) caps required.\u003C/p\u003E\n"},{"CreatedByName":"ALILOOOONG","CreatedById":33396,"CreatedDateTime":"2012-08-23T10:52:45Z","Content":"\n\u003Cp\u003Ethank you!\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2012-08-23T11:33:45Z","Content":"\n\u003Cp\u003ESo how do I do the log function in an autom8 script so I can do some dV maths? I need to do\u003C/p\u003E\u003Cp\u003Ea * log(b/c)\u003C/p\u003E\u003Cp\u003EThx.\u003C/p\u003E\n"},{"CreatedByName":"ALILOOOONG","CreatedById":33396,"CreatedDateTime":"2012-08-23T11:47:00Z","Content":"\n\u003Cp\u003ESorry agan but this happened \u003C/p\u003E\u003Cp\u003E\u0026gt; FlyMeToTheMun(0.414,40.830)\u003C/p\u003E\u003Cp\u003EException: Invoke function call on non function value.\u003C/p\u003E\u003Cp\u003E\u0026gt; FlyMeToTheMun(45,45)\u003C/p\u003E\u003Cp\u003EException: Invoke function call on non function value.\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-08-23T11:51:44Z","Content":"\n\u003Cp\u003Emechjeb.stage() does not seem to do anything in a function called by coroutine, is this because ksp is not meant to be multi-threaded? if so then is there a work around since the wait function outside of a coroutine (understandably) freezes the game?\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-08-23T11:54:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ALILOOOONG\u0022 data-cite=\u0022ALILOOOONG\u0022\u003E\u003Cdiv\u003ESorry agan but this happened \u003Cp\u003E\u0026gt; FlyMeToTheMun(0.414,40.830)\u003C/p\u003E\u003Cp\u003EException: Invoke function call on non function value.\u003C/p\u003E\u003Cp\u003E\u0026gt; FlyMeToTheMun(45,45)\u003C/p\u003E\u003Cp\u003EException: Invoke function call on non function value.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Edid you get the message \u0022Usage: FlyMeToTheMun(lat, lon)\u0022 when you told it run the file?\u003C/p\u003E\n"},{"CreatedByName":"ALILOOOONG","CreatedById":33396,"CreatedDateTime":"2012-08-23T12:03:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022khmnc\u0022 data-cite=\u0022khmnc\u0022\u003E\u003Cdiv\u003Edid you get the message \u0022Usage: FlyMeToTheMun(lat, lon)\u0022 when you told it run the file?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eno I really don\u0027t know why. is my file kaput?\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-08-23T12:15:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ALILOOOONG\u0022 data-cite=\u0022ALILOOOONG\u0022\u003E\u003Cdiv\u003Eno I really don\u0027t know why. is my file kaput?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eif your using windows, go to the folder where the file is and press alt then under the tools menu select folder options then go to view and make sure that the \u0022Hide extensions for known file types\u0022 is unchecked and click ok\u003C/p\u003E\u003Cp\u003Ethen look at your file again and make sure you are using the whole file name\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-23T12:18:03Z\u0022 title=\u002208/23/2012 12:18  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 23, 2012\u003C/time\u003E by khmnc\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"j-tk","CreatedById":29598,"CreatedDateTime":"2012-08-23T14:21:36Z","Content":"\n\u003Cp\u003ESeems i\u0027m in a similar boat with a user above, but not having any luck.\u003C/p\u003E\u003Cp\u003EHere\u0027s the error I get:\u003C/p\u003E\u003Cp\u003EThanks for your help/any time you can spare-\u003C/p\u003E\u003Cp\u003EP.s. Mech Jeb has improved the efficiency of my space program 100%! \u003C/p\u003E\u003Cp\u003EThat is from ZERO to 100% lol\u003C/p\u003E\u003Cp\u003E\u0026gt; dofile(\u0022something\u0022)\u003C/p\u003E\u003Cp\u003EParserException: Code has syntax errors:\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u0027nil\u0027 of NilLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Text of BoolLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u00270\u0027...\u00279\u0027 of Digit.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VariableArg.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse firstTerm of OperatorExpr.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u0027nil\u0027 of NilLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Text of BoolLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u00270\u0027...\u00279\u0027 of Digit.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VariableArg.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Expr of ExprStmt.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse remaining input.\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-08-23T15:22:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022j-tk\u0022 data-cite=\u0022j-tk\u0022\u003E\u003Cdiv\u003ESeems i\u0027m in a similar boat with a user above, but not having any luck.\u003Cp\u003EHere\u0027s the error I get:\u003C/p\u003E\u003Cp\u003EThanks for your help/any time you can spare-\u003C/p\u003E\u003Cp\u003EP.s. Mech Jeb has improved the efficiency of my space program 100%! \u003C/p\u003E\u003Cp\u003EThat is from ZERO to 100% lol\u003C/p\u003E\u003Cp\u003E\u0026gt; dofile(\u0022something\u0022)\u003C/p\u003E\u003Cp\u003EParserException: Code has syntax errors:\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u0027nil\u0027 of NilLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Text of BoolLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u00270\u0027...\u00279\u0027 of Digit.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VariableArg.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse firstTerm of OperatorExpr.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u0027nil\u0027 of NilLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Text of BoolLiteral.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse \u00270\u0027...\u00279\u0027 of Digit.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VariableArg.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Letter of Name.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Name of VarName.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse Expr of ExprStmt.\u003C/p\u003E\u003Cp\u003ELine 1, Col 2 \u0027.\u0027: Failed to parse remaining input.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Epost your script, without it your error is meaningless. also you can try to debug it yourself by removing chunks of your code, once you no longer have the error you\u0027ll know exactly where the error is in your script.\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-08-23T15:26:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003ESo how do I do the log function in an autom8 script so I can do some dV maths? I need to do\u003Cp\u003Ea * log(b/c)\u003C/p\u003E\u003Cp\u003EThx.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewith the standard lua math library\u003C/p\u003E\u003Cp\u003Emath.log(number)\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-08-24T00:09:23Z","Content":"\n\u003Cp\u003Epcall seems to cause \u0022Coroutine exception: IndexOutOfRangeException - Array index is out of range.\u0022\u003C/p\u003E\u003Cp\u003Ei was hoping to use it to get around the annoying synchronization error =/\u003C/p\u003E\u003Cp\u003Eedit: no wait i figured it out, apparently using already locally declared variables to get multiple values from a function throws that error\u003C/p\u003E\u003Cp\u003Eexample:\u003C/p\u003E\u003Cp\u003Efunction FunTest()\u003C/p\u003E\u003Cp\u003E return true, \u0022This is fun!\u0022\u003C/p\u003E\u003Cp\u003Eend\u003C/p\u003E\u003Cp\u003Elocal Done = false\u003C/p\u003E\u003Cp\u003Elocal R = \u0022This is not fun\u0022\u003C/p\u003E\u003Cp\u003EDone, R = FunTest() --\u0026lt;---craps out error\u003C/p\u003E\u003Cp\u003Ebut what works is:\u003C/p\u003E\u003Cp\u003Efunction FunTest()\u003C/p\u003E\u003Cp\u003E return true, \u0022This is fun!\u0022\u003C/p\u003E\u003Cp\u003Eend\u003C/p\u003E\u003Cp\u003Elocal Done, R = FunTest() --\u0026lt;---for some reason good to go!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-24T00:55:43Z\u0022 title=\u002208/24/2012 12:55  AM\u0022 data-short=\u002211 yr\u0022\u003EAugust 24, 2012\u003C/time\u003E by khmnc\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jontu","CreatedById":22078,"CreatedDateTime":"2012-08-24T00:40:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003ESo how do I do the log function in an autom8 script so I can do some dV maths? I need to do\u003Cp\u003Ea * log(b/c)\u003C/p\u003E\u003Cp\u003EThx.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry a * math.log(b / c)\u003C/p\u003E\n"},{"CreatedByName":"Jontu","CreatedById":22078,"CreatedDateTime":"2012-08-24T04:37:47Z","Content":"\n\u003Cp\u003EFor any one having problems running Autom8 scripts.\u003C/p\u003E\u003Cp\u003EOpen folder KSP\\plugindata\\mumechlib.\u003C/p\u003E\u003Cp\u003EMake sure file is yourfilename.lua, it has to be an lua file. If you don\u0027t see the extension (default for Windows) change that in Windows \u0022folder options\u0022.\u003C/p\u003E\u003Cp\u003EFrom the KSP launch pad type \u0026lt;font color=\u0022blue\u0022\u0026gt;dofile(\u0022yourfilename\u0022)\u0026lt;/font\u0026gt; and \u0027Enter\u0027 in the Autom8 control line. Quotes and parentheses are required.\u003C/p\u003E\u003Cp\u003EHopefully you will get a usage statement, but it depends on the script. The usage statement \u0022should\u0022 show you exactly what to enter.\u003C/p\u003E\u003Cp\u003E\u0026lt;font color=\u0022Orange\u0022\u0026gt;What you enter and the order in which you enter it is \u0026lt;/font\u0026gt;\u0026lt;font color=\u0022Red\u0022\u0026gt;critical\u0026lt;/font\u0026gt;.\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-08-24T05:11:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003ESo how do I do the log function in an autom8 script so I can do some dV maths? I need to do\u003Cp\u003Ea * log(b/c)\u003C/p\u003E\u003Cp\u003EThx.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere\u0027s mine so far - they\u0027ll be in SimpleOrbitalMechanics 0.002 - licensed under your choice of GPLv2, GPLv3, or Creative Commons Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0) \u003Ca href=\u0022http://www.gnu.org/licenses/gpl-2.0.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.gnu.org/licenses/gpl-2.0.html\u003C/a\u003E or \u003Ca href=\u0022http://www.gnu.org/licenses/gpl.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.gnu.org/licenses/gpl.html\u003C/a\u003E or \u003Ca href=\u0022http://creativecommons.org/licenses/by-sa/3.0/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://creativecommons.org/licenses/by-sa/3.0/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThat said, math is math, and is unprotectable, as are the lua calls \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Efunction calcSomDeltaVFromIspTsmTem(Isp, TotalStartingMass, TotalEndingMass)\u003Cbr\u003E  -- Isp is the Specific Impulse in seconds\u003Cbr\u003E  -- TotalStartingMass is the total mass before the burn, including fuel - units must be the same as TotalEndingMass\u003Cbr\u003E  -- TotalEndingMass is the total mass after the burn, including remaining fuel - units must be the same as TotalStartingMass\u003Cbr\u003E  -- returns Delta-V in meters per second.\u003Cbr\u003E  --[[ ex:\u003Cbr\u003E        print(calcSomDeltaVFromIspTsmTem(390,15,10))\u003Cbr\u003E    ]]\u003Cbr\u003E  -- reference is Tsiolkovsky rocket equation https://en.wikipedia.org/wiki/Rocket_equation\u003Cbr\u003E  --   Total Delta-V = Isp * g * ln(TotalMass/DryMass)\u003Cbr\u003E  return Isp * globalg * math.log(TotalStartingMass/TotalEndingMass)\u003Cbr\u003Eend\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Efunction calcSomIspFromTsmTemDv(TotalStartingMass, TotalEndingMass, DeltaV)\u003Cbr\u003E  -- TotalStartingMass is the total mass before the burn, including fuel - units must be the same as TotalEndingMass\u003Cbr\u003E  -- TotalEndingMass is  the total mass after the burn, including remaining fuel - units must be the same as TotalStartingMass\u003Cbr\u003E  -- returns Isp, the Specific Impulse in seconds\u003Cbr\u003E  --[[ ex:\u003Cbr\u003E        print(calcSomIspFromTsmTemDv(15,10,1550))\u003Cbr\u003E    ]]\u003Cbr\u003E  -- reference is Tsiolkovsky rocket equation https://en.wikipedia.org/wiki/Rocket_equation\u003Cbr\u003E  --   Total Delta-V = Isp * g * ln(TotalMass/DryMass)\u003Cbr\u003E  return DeltaV/(globalg * math.log(TotalStartingMass/TotalEndingMass))\u003Cbr\u003Eend\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2012-08-24T07:18:10Z","Content":"\n\u003Cp\u003EWell, if you\u0027ve done it already then ill just use your scripts and leave mine as is. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-08-27T05:10:41Z","Content":"\n\u003Cp\u003ESimpleOrbitalMechanics and SimpleKSPOrbitalMechanics upgraded to 0.002; see post #53 in this thread for more details:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/16503-MechJeb-Autom8-Scripts-Megathread?p=238962\u0026amp;viewfull=1#post238962\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/forum/showthread.php/16503-MechJeb-Autom8-Scripts-Megathread?p=238962\u0026amp;viewfull=1#post238962\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2012-08-28T09:23:06Z","Content":"\n\u003Cp\u003EI had a look a your lua and thught id try a different way. Its not a full solution and not a better solution, just a different solution. Ill post shortly. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Efunction dvleftdriver(fuelleft, ve)\u003Cbr\u003E\tmassstart = vessel.mass\u003Cbr\u003E\tfueldensity = 0.005\u003Cbr\u003E\tfuelmass = fueldensity * fuelleft\u003Cbr\u003E\tmassend = massstart - fuelmass\u003Cbr\u003E\tdv = ve * math.log(massstart/massend)\u003Cbr\u003E\tprint (\u0022Craft currently has \u0022..dv..\u0022 delta V left\u0022)\u003Cbr\u003E\tprint \u0022autom8 complete\u0022\u003Cbr\u003Eend\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou need to work out fuel left (right click tanks in space, and you need to look up the exhaust velocity of the current engine. It works out the before/after mass by reading vessel.mass and assuming a fuel density of 0.005 units.\u003C/p\u003E\u003Cp\u003EOnly accurate in space, only for one engine and one rocket. * sad face *\u003C/p\u003E\u003Cp\u003EFrom humble beginnings, great things can grow ...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-28T09:46:46Z\u0022 title=\u002208/28/2012 09:46  AM\u0022 data-short=\u002211 yr\u0022\u003EAugust 28, 2012\u003C/time\u003E by togfox\u003C/strong\u003E\n\u003C/span\u003E\n"}]}