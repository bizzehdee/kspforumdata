{"TopicId":85435,"ForumId":20,"TopicTitle":"Request for comments: A package manager for KSP mods","CreatedByName":"Autochton","CreatedById":70134,"CreatedDateTime":"2014-09-26T11:00:24Z","PageNum":1,"Articles":[{"CreatedByName":"Autochton","CreatedById":70134,"CreatedDateTime":"2014-09-26T11:00:24Z","Content":"\n\u003Cp\u003EThis is a request for comments, and a gauge of interest for a package manager for KSP mods. I\u0027m looking to find if this is feasible, desired, and a good use of my time.\u003C/p\u003E\u003Cp\u003EThe word \u0027mod\u0027 can mean both \u0027modification\u0027 and \u0027module\u0027. We\u0027ve gotten very far on the former meaning, but there are some things holding us back on the latter front, namely that mods often depend on each other, or on parts of each other, and that these dependencies may be on different versions of mods. As well, there\u0027s little way to be sure you have the up-to-date versions of mods installed (apart from a couple small mods that check version numbers), and no way to verify dependencies. There is also, for modders, no way to integrate mods with each other in a robust and stable manner, other than to distribute the mods together - not always an option.\u003C/p\u003E\u003Cp\u003EI am looking to provide a cross-platform, outside-KSP tool to allow modders to easily define their mods as packages, and to depend on their own and others\u0027 packages, to allow players to easily install and manage installed mods, and to share mod configurations between them. I am drawing on lessons learned and conclusions drawn during the creation and use of the npm utility (widely used in Node.js applications - I work with it on a daily basis), as well as on a few other such package managers (chiefly rubygems and apt/dpkg, other tools I have worked with). It will involve a bit of work to adapt a mod to work with this system, mainly the creation of a manifest file that tells the package manager how to work with the mod, what version it is, etc., but I aim to keep the need for modification of distributions minimal. Ideally, all you\u0027d need to do would be to create a manifest. If your mod consists of a plugin and a set of parts, it would be useful to split it up into two packages, so other mods can depend on your plugin without needing to also depend on your parts (c.f. the relationship between B9 Aerospace or KAX, and Firespitter).\u003C/p\u003E\u003Cp\u003ESo how would people feel about such a piece of software? Especially, I am interested in the thoughts of modders, without whose support this would largely be a waste of time and effort. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESome responses to the first questions and/or objections I suspect anyone will have:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EWhat\u0027s the advantage, here?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EAs mentioned, we are currently facing a bit of a mess, where mods depend on parts (or entire wholes) of other mods, but the dependencies are not clearly formulated and difficult-to-impossible to verify or control. The typical solution is to distribute the mods with the depended-upon bits included (e.g. B9 Aerospace depending on Firespitter, Kinetech, etc., Karbonite depending on ORS), or to note the dependency on the mod download page (e.g. 6.4*Kerbin depending on Real Solar System). The former approach opens up problems with outdated plugin versions and part configurations, the latter approach can be confusing to users, and may cause glitches when a depended-upon mod updates. A package manager allows for a graceful solution to this, in that a modder can define a dependency on a mod, and the package manager will (depending on strategy/licensing/etc.) download the needed mod, or inform the user to take action.\u003C/p\u003E\u003Cp\u003EFor players, a package manager allows ease of configuration, checking for updated versions of mods, and sharing of mod configurations. The popularity of mod installers (and the headaches this causes modders) are due, simply, to the ease with which they allow installing mods. This package manager aims to provide that ease of use and functionality \u003Cem\u003Ewithout\u003C/em\u003E modders\u0027 hair turning grey over it.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIsn\u0027t this just another mod installer/manager? Those never work.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ENot at all. The specific problem with most mod managers is that they do nothing to ensure version integrity, and are not able to do anything complex (i.e. pre- and post-install scripting, etc.). They usually require a highly standardized distribution architecture to be truly useful, as well.\u003C/p\u003E\u003Cp\u003EA package manager deals in well-defined packages and controls them against each other to ensure that the correct versions are installed. There are ways to loosen the package architecture so developer preferences can be accomodated, which are intended for inclusion here. A package manager is not going to have the problems of a mod installer, because it is \u003Cem\u003Ea solution\u003C/em\u003E to those problems, and others.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThis would mean making yet another distribution package, or even several. No way. Too much work.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EOr you could use the package manager to \u003Cem\u003Ebuild\u003C/em\u003E your distribution files. One thing the package manager can potentially do is to pull together the needed dependencies (as chosen by the developer) into a normal-style zip-file with a well-defined name, which can then be uploaded to wherever. For that matter, I intend to set the package manager up so it becomes a useful tool for mod development, and can be used to configure your dependencies and package suite easily and smartly.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-09-26T11:24:22Z","Content":"\n\u003Cp\u003EI\u0027m too small a modder to make a significant difference, but I\u0027d use it if\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003Eit didn\u0027t require significant changes to my workflow: currently it\u0027s just (build -\u0026gt; copy -\u0026gt; zip), if this required more than a couple steps or was difficult to automate, I wouldn\u0027t use it;\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eit didn\u0027t require me to change my hosting: right now I\u0027m hosting on kerbalstuff, and might use github as a backup. If I had to keep track of yet another channel, I wouldn\u0027t use it.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s really it for me. Then again, my projects have more developers than users, so we\u0027ll need the opinion of the real modders out there \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Autochton","CreatedById":70134,"CreatedDateTime":"2014-09-26T11:26:22Z","Content":"\n\u003Cp\u003ETo begin with, I was thinking to let people handle their own hosting. I\u0027ll have to figure out the infrastructure of it (in terms of getting the information to the package manager), but basically letting a mod refer to an URL (Maybe a backup) for downloading from seems a good start.\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-09-26T18:11:15Z","Content":"\n\u003Cp\u003EYou may take a look at \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/85989-Combining-efforts-on-proper-mod-management-framework-tools-platform\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E, it\u0027s close to what you want.\u003C/p\u003E\n"},{"CreatedByName":"Autochton","CreatedById":70134,"CreatedDateTime":"2014-09-26T18:31:41Z","Content":"\n\u003Cp\u003EI\u0027m not so sure it is, from what I saw skimming the information. I\u0027ll give it a closer look though.\u003C/p\u003E\n"},{"CreatedByName":"TMS","CreatedById":57134,"CreatedDateTime":"2014-09-26T19:14:30Z","Content":"\n\u003Cp\u003ERecent reedit thread with some very detailed replies: \u003Ca href=\u0022http://www.reddit.com/r/KerbalSpaceProgram/comments/2hf9s5/kspman2kpm_an_extendable/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.reddit.com/r/KerbalSpaceProgram/comments/2hf9s5/kspman2kpm_an_extendable/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Autochton","CreatedById":70134,"CreatedDateTime":"2014-09-26T19:17:33Z","Content":"\n\u003Cp\u003E... I\u0027ll get me coat.\u003C/p\u003E\n"}]}