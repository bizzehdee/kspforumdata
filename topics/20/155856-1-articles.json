{"TopicId":155856,"ForumId":20,"TopicTitle":"Solar Panel Chargerate changes in Orbit","CreatedByName":"itsaps","CreatedById":172256,"CreatedDateTime":"2017-02-01T10:46:56Z","PageNum":1,"Articles":[{"CreatedByName":"itsaps","CreatedById":172256,"CreatedDateTime":"2017-02-01T10:46:56Z","Content":"\n\u003Cp\u003E\nHello dear Kerbonauts,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m recently playing KSP with a bunch of realism mods and had a long way to this status of my game now. There were a few obstacles with compatilities between the mods and althought I could solve most of them, a few strange behaviors still occour like this: I have a craft with solar panels in LEO and after coming from the earth shadow, each panel initially creates ~80W power, but only some minutes before hiding behind earth again, the panels produce the rated 320W power each. That is pretty strange that it is somehow reduced by a factor of 4 suddenly. I could reproduce it with an other craft but on different states in the orbit, e.g. the first 20% in orbit are on full power, the rest with 1/4 th.\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone experience a similar behavior? Any help would be very welcome \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSetup: KSP 1.1.3\u003Cbr\u003E\nMy mod list is over 70\u002B but most relevant are: \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E, \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, Kerbalism, TACS....\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-01T23:22:58Z\u0022 title=\u002202/01/2017 11:22  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 1, 2017\u003C/time\u003E by itsaps\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-02T07:52:59Z","Content":"\n\u003Cp\u003E\nYour description is a little vague. Screenshots from various points in your orbit might help, especially with open rightclick menus on the solar panels.\n\u003C/p\u003E\n"},{"CreatedByName":"itsaps","CreatedById":172256,"CreatedDateTime":"2017-02-02T09:56:24Z","Content":"\n\u003Cp\u003E\nSeems that a restart of the game has formed the issue into something else. The power over the orbit is now constant (i will insert screenshots if it happens to change over the orbit again) but the output is only 1/3 of the specified power.\n\u003C/p\u003E\n\u003Cp\u003E\nAs a background info: in the previouse post i have found out, that the nominal power of this panel should be 120W and I was then wondering about the 320W max power so I looked into the config files and found out that due to a mistake I had scaled all solar panels chargerates to a double value. Althought I know it\u0027s not the factor I was searching for, I reverted this change, also to see a effect on the panels power. So now that I scaled it down by 1/2 - the value got static and is reduced to 1/8 of the previouse high-value or 1/2 of the low-value before. The 1/2 would a least match my correction, but still there is this thing I do not understand: Why does the value not match the specified one, even if the chargerate in the debug menu does reflect the rigth one (0.00012096)? The issue with the orbit changes seems to have been a glitch and hopefully stays so.\n\u003C/p\u003E\n\u003Cp\u003E\nThe same scaling also happens to fixed solar modules, e.g. the fixed panel in the screenshot should have 31.6W -\u0026gt; has now 10.2W.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tumblr_okqrz0mGce1w54b8qo1_1280.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://68.media.tumblr.com/8f31df5a7ff4fa0c90d1384afbdcdd32/tumblr_okqrz0mGce1w54b8qo1_1280.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nTo exclude a display-only error, when I turn the craft 90\u00B0 away from the sun (so it shall be minus 6 x 41W) the electric consumtions goes from 0.44 to 0.65 kW/s.\u003Cbr\u003E\nThe front panels still note around 7W power so the calculation goes: (0.65 - 0.44 \u002B 3 * 0.007) / 6 = 0,0385 W/panel. So the display is in the same range as the consumtion.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCan anyone think of something thats scaling the panels power in background?\u003Cbr\u003E\nI do know that that the game scales the power by the distance from the sun, but I thougth the output at earth (\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E) at 1 AU should be the specified one, shoudn\u0027t it?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe panel I displayed above is \u0022solarPanels4\u0022, a modified stock part. The modifications I could find for it follow here:\n\u003C/p\u003E\n\u003Cp\u003E\nKerbalism\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[solarPanels4]:NEEDS[VenStockRevamp]:AFTER[Kerbalism]\n{\n  @MODULE[ModuleDeployableSolarPanel]\n  {\n    @chargeRate = 0.40\n  }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nKerbalism\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[solarPanels4]:FOR[Kerbalism]\n{\n  @MODULE[ModuleDeployableSolarPanel]\n  {\n    @chargeRate = 0.48\n  }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nRealism overhaul\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n@PART[solarPanels4]:FOR[RealismOverhaul]\n{\n\t%RSSROConfig = True\n\t@mass = 0.0054\t// Level 2 moving @ 0.0006t/m^2 \u002B 0.005t/m^2\n\t@title = XT1 Solar Panel Array Mk1\n\t@description = Extendable sun-tracking Level 2 solar panel. 0.96m^2.\n\t@MODULE[ModuleDeployableSolarPanel]\n\t{\n\t\t@chargeRate = 0.12096\t// Level 2 @ 0.126kW/m^2\n\t}\n}\n@PART[solarPanels4]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]\n{\n\t%rescaleFactor = 0.631\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSquad\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPART\n{\n\tname = solarPanels4\n\tmodule = Part\n\tauthor = NovaSilisko\n\tmesh = model.mu\n\trescaleFactor = 1\n\tnode_attach = 0.0, 0.0, 0.0, 1.0, 0.0, 0.0\n\tTechRequired = advElectrics\n\tentryCost = 3800\n\tcost = 380\n\tcategory = Utility\n\tsubcategory = 0\n\ttitle = OX-4L 1x6 Photovoltaic Panels\n\tmanufacturer = Probodobodyne Inc\n\tdescription = The OX-4 is similar in design to the SP series solar panels, but without the heavy casing.  Includes passive radiators on the reverse side for better heat dissipation. WARNING: Not retractable once deployed!\n\tattachRules = 0,1,0,0,1\n\tmass = 0.0175\n\tdragModelType = default\n\tmaximum_drag = 0.2\n\tminimum_drag = 0.2\n\tangularDrag = 1\n\tcrashTolerance = 8\n\tmaxTemp = 1200 // = 3200\n\tbulkheadProfiles = srf\n\tthermalMassModifier = 2.0\n\temissiveConstant = 0.95\n\theatConductivity = 0.04 // 1/3 the default\n\ttags = array charge deploy e/c elect energ extend generat (light photo power solar sun track unfold volt watt\t\n\tMODULE\n\t{\n\t\tname = ModuleDeployableSolarPanel\n\t\tanimationName = solarpanels4\n\t\tresourceName = ElectricCharge\n\t\tchargeRate = 1.64\n\t\tretractable = false\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy own config:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E/calm down the produced electricity to the nominal values (they were a factor 1000 too high)\n@PART[*]:HAS[@MODULE[ModuleDeployableSolarPanel]]:NEEDS[Kerbalism]:NEEDS[RealismOverhaul]:FINAL\n{\n  @MODULE[ModuleDeployableSolarPanel]\n  {\n    // @flowMult = 1\n    @flowMult = 1000\n\n    @chargeRate /= 1000\n\n    @RESOURCE[ElectricCharge]\n    {\n      @rate /= 1000\n      @displayUnitMult = 1000000\n    }\n  }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nagain Realism overhaul:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E// Set up solar panel displays.\n@PART[*]:HAS[@MODULE[ModuleDeployableSolarPanel]]:FOR[ROSolar]\n{\n\t@MODULE[ModuleDeployableSolarPanel],*:HAS[!RESOURCE[*]]\n\t{\n\t\tRESOURCE\n\t\t{\n\t\t\tname = ElectricCharge\n\t\t\trate = #$../chargeRate$\n\t\t}\n\t}\n\t@MODULE[ModuleDeployableSolarPanel],*\n\t{\n\t\t%flowUnits = Watts\n\t\t%flowFormat = N1\n\t\t%flowMult = 1000\n\t}\n}\n@PART[*]:HAS[@MODULE[*]:HAS[@RESOURCE[ElectricCharge]]]:FOR[zzzElectricityUnits]\n{\n\t@MODULE,*:HAS[@RESOURCE[ElectricCharge]]\n\t{\n\t\t@RESOURCE[ElectricCharge]\n\t\t{\n\t\t\t%varyTime = False\n\t\t\t%useSI = True\n\t\t\t%displayUnitMult = 1000\n\t\t\t%unitName = Watts\n\t\t}\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat it so far. I hope I do not spam you too much... xD\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-02T10:04:57Z\u0022 title=\u002202/02/2017 10:04  AM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 2, 2017\u003C/time\u003E by itsaps\u003C/strong\u003E\n\u003Cbr\u003Epicture missing\n\u003C/span\u003E\n"},{"CreatedByName":"itsaps","CreatedById":172256,"CreatedDateTime":"2017-02-04T22:52:06Z","Content":"\n\u003Cp\u003E\nOk since I could not figure out what is the origin of the downscale factor I just modified my power multipliers and this works now. I wonder when the orbital changes come back....\n\u003C/p\u003E\n"},{"CreatedByName":"itsaps","CreatedById":172256,"CreatedDateTime":"2017-02-09T13:38:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222942017\u0022 data-ipsquote-contentid=\u0022155856\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221486021979\u0022 data-ipsquote-userid=\u002298962\u0022 data-ipsquote-username=\u0022Streetwind\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2.2.2017 at 8:52 AM, Streetwind said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYour description is a little vague. Screenshots from various points in your orbit might help, especially with open rightclick menus on the solar panels.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe orbit introduced power change on the solar-panels is still here, now the screenshots follow.\u003Cbr\u003E\nWhat I could find out already, it sems there is \u003Cstrong\u003Eno dependency\u003C/strong\u003E on:\n\u003C/p\u003E\n\u003Cp\u003E\n- altitude\u003Cbr\u003E\n- inclination\u003Cbr\u003E\n- degree to periapsis\u003Cbr\u003E\n- temperature\u003Cbr\u003E\n- biome\u003Cbr\u003E\n- remote connection status\n\u003C/p\u003E\n\u003Cp\u003E\nBut the higher I raise the craft - the shorter the zone seems to be. And I think there is at least one quickload needed (my simulation mod does it always) to enable the behavior.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBefore the zone:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tumblr_ol3zvnRHg91w54b8qo1_1280.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://68.media.tumblr.com/b85c328c1d9a04144af7f5e830944741/tumblr_ol3zvnRHg91w54b8qo1_1280.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEntered zone: 4 times power\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tumblr_ol3zvnRHg91w54b8qo2_1280.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://68.media.tumblr.com/5640e6349efcac1dae35cd3b6ba1c9f7/tumblr_ol3zvnRHg91w54b8qo2_1280.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn the zone\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tumblr_ol3zvnRHg91w54b8qo3_1280.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://68.media.tumblr.com/e1334a49b169044419bcbf499fad358f/tumblr_ol3zvnRHg91w54b8qo3_1280.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nStill in the zone\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tumblr_ol3zvnRHg91w54b8qo4_1280.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://68.media.tumblr.com/bac43502fcfa3548c70a416d14eb4508/tumblr_ol3zvnRHg91w54b8qo4_1280.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd finally left decreasing to the nominal value\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tumblr_ol3zvnRHg91w54b8qo5_1280.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://68.media.tumblr.com/b1f3528ccc535fba95f52e4b47810762/tumblr_ol3zvnRHg91w54b8qo5_1280.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2017-02-09T13:58:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222949838\u0022 data-ipsquote-contentid=\u0022155856\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221486647514\u0022 data-ipsquote-userid=\u0022172256\u0022 data-ipsquote-username=\u0022itsaps\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, itsaps said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe orbit introduced power change on the solar-panels is still here, now the screenshots follow.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nConsidering how many deeply invasive mods you have installed, this is pretty much guaranteed a cross-mod issue. I\u0027d suspect Kerbalism first, then (if you have it) Kopernicus, then whatever else comes with a plugin and changes either solar panels or the solar system. You\u0027re probably going to have to bite the bullet and try to replicate it on a fresh install, adding mods one by one until either it triggers or you have a bug-free game to import your save into. Even mod authors cannot troubleshoot cross-mod issues if they don\u0027t know which mods interact to cause the bug.\n\u003C/p\u003E\n"},{"CreatedByName":"itsaps","CreatedById":172256,"CreatedDateTime":"2017-02-09T14:04:32Z","Content":"\n\u003Cp\u003E\nThanks, the mod extraction will now be my next step \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"}]}