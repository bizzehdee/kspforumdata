{"TopicId":200432,"ForumId":20,"TopicTitle":"[kOS] POSITIONAT body surface.","CreatedByName":"majkrzak","CreatedById":210142,"CreatedDateTime":"2021-02-17T15:38:44Z","PageNum":1,"Articles":[{"CreatedByName":"majkrzak","CreatedById":210142,"CreatedDateTime":"2021-02-17T15:38:44Z","Content":"\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nSET DESIRED_ANGLE TO 5.\n\nCLEARSCREEN.\n\nSET TARGET TO MUN.\nSET WINDOW TO PREDICT_WINDOW.\n\nkuniverse:timewarp:warpto(WINDOW:seconds).\n\n\nDECLARE FUNCTION PREDICT_WINDOW {\n    LOCAL T IS TIMESTAMP().\n    UNTIL FALSE {\n        WAIT 0.\n        LOCAL V1 IS POSITIONAT(SHIP,T) - POSITIONAT(SHIP:BODY,T).\n        LOCAL V2 IS POSITIONAT(TARGET,T) - POSITIONAT(SHIP:BODY,T).\n        LOCAL AN IS VECTORANGLE(V1,V2).\n        /////\n        print \u0022WINDOW TIMESTAMP: \u0022 \u002B T  at (0, terminal:height - 2).\n        print \u0022DIRECTION ANGLE:  \u0022 \u002B AN at (0, terminal:height - 1).\n        /////\n        IF AN \u0026lt; DESIRED_ANGLE {\n            RETURN T.\n        }\n        ELSE IF AN \u0026lt; DESIRED_ANGLE * 2 {\n            SET T TO T \u002B 10.\n        }\n        ELSE IF AN \u0026lt; DESIRED_ANGLE * 4 {\n            SET T TO T \u002B 100.\n        }\n        ELSE {\n            SET T TO T \u002B 1000.\n        }\n    }\n}\n\u003C/pre\u003E\n\u003Cp\u003E\nI was trying to make a kerbal script for predicting the time point when target will be in desired place on firmament. I made the script above, which apparently do not work as expected. I thought it is up to some mistake in calculations, but it seems that POSITIONAT is not predicting position correctly.\u00A0 Is that an issue with kOS or my mistake?\n\u003C/p\u003E\n"}]}