{"TopicId":166732,"ForumId":20,"TopicTitle":"Kopernicus tutorials for stars?","CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2017-10-21T17:25:18Z","PageNum":1,"Articles":[{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2017-10-21T17:25:18Z","Content":"\n\u003Cp\u003E\nAre there any good tutorials for Kopernicus stars? Like how to edit light intensity curves and such? Realistic values focused?\n\u003C/p\u003E\n\u003Cp\u003E\nTIA\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2017-10-21T20:18:35Z","Content":"\n\u003Cp\u003E\nI don\u0027t know if there are any tutorials, but I\u0027ve got intensity curves figured out pretty well.\u00A0 Below is a reproduction of the post I made in the Kopernicus thread explaining how I\u0027ve done the sunlight intensity curves for GPP.\n\u003C/p\u003E\n\u003Cp\u003E\nIn each key the four numbers are distance, intensity, and in/out slopes.\u00A0 Distance is kilometers divided by 6 (weird, I know, but that\u0027s what it is).\u00A0 Intensity just varies from 1 for maximum to 0 for no illumination.\u00A0 The last key is the distance at which the star no longer casts any light (in this example, the max distance is about 3 billion kilometers).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0\u00A0 \u003Cspan style=\u0022color:#e74c3c;\u0022\u003ECORRECTION:\u00A0 Distance in ScaledIntensityCurve is km/6, or meters/6000, but IntensityCurve and IVAIntensityCurve use units of meters.\u003C/span\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you have a brighter star that has greater reach, or a faint one that has less reach, then I recommend simply factoring the distances up or down.\u00A0 For instance, if you want your star to cast light out to a maximum distance of 6 billion km, then double all the distances.\u00A0 Changing distances require that you recompute the slopes.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are actually a total of three curves that you must create, which replace the old settings of sunlightIntensity, scaledSunlightIntensity, and IVASunIntensity.\u00A0 These curves are,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0\u00A0 IntensityCurve{}\u003Cbr\u003E\n\u00A0 \u00A0\u00A0 ScaledIntensityCurve{}\u003Cbr\u003E\n\u00A0 \u00A0\u00A0 IVAIntensityCurve{}\n\u003C/p\u003E\n\u003Cp\u003E\nI recommend using identical curves for IntensityCurve and ScaledIntensityCurve.\u00A0 For IVAIntensityCurve you might want the light to be a bit more subdued, which you can do by simply factoring the intensities.\u00A0 For GPP I multiplied all the intensities by 0.9 for my IVAIntensityCurve.\u00A0 Changing intensities also requires that you recompute the slopes.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223155598\u0022 data-ipsquote-contentid=\u0022140580\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221503514748\u0022 data-ipsquote-userid=\u0022128005\u0022 data-ipsquote-username=\u0022OhioBob\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn \u200E8\u200E/\u200E23\u200E/\u200E2017 at 2:59 PM, OhioBob said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI recently wrote intensity curves for GPP and I found that I really didn\u0027t care much for a linear function.\u00A0 In GPP, as well as many other planet packs like \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E and Stock\u002BOPM, the inner planets are bunch closely together with the outer planets spaced much farther apart, often with their distances increasing exponentially.\u00A0 If a linear function is used in that case, with the zero illumination point set somewhere beyond the farthest planet, there would be very little noticeable change in the light level among the bunched up inner planets.\u00A0 I thought that from a aesthetic point of view, it looked best to have small but noticeable decreases in illumination for each successive planet moving outward from the star.\u00A0 To do this I used intensity curves that look like this one:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\t\tScaledIntensityCurve\n\t\t\t\t{\n\t\t\t\t\tkey = 0 1 0 0\n\t\t\t\t\tkey = 500000 1 0 -2.89E-07\n\t\t\t\t\tkey = 1000000 0.9 -1.44E-07 -1.44E-07\n\t\t\t\t\tkey = 2000000 0.8 -7.21E-08 -7.21E-08\n\t\t\t\t\tkey = 4000000 0.7 -3.61E-08 -3.61E-08\n\t\t\t\t\tkey = 8000000 0.6 -1.80E-08 -1.80E-08\n\t\t\t\t\tkey = 16000000 0.5 -9.02E-09 -9.02E-09\n\t\t\t\t\tkey = 32000000 0.4 -4.51E-09 -4.51E-09\n\t\t\t\t\tkey = 64000000 0.3 -2.25E-09 -2.25E-09\n\t\t\t\t\tkey = 128000000 0.2 -1.13E-09 -1.13E-09\n\t\t\t\t\tkey = 256000000 0.1 -5.64E-10 -5.64E-10\n\t\t\t\t\tkey = 512000000 0 -2.82E-10 0\n\t\t\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNote that the distances increase exponentially (x2) while the light intensities decrease linearly (-0.1).\u00A0 Although this isn\u0027t how light intensity varies in real life, I think it produces a nice visual effect in the game.\n\u003C/p\u003E\n\u003Cp\u003E\nAs long as your exponential increases and linear decreases are consistent throughout the curve, the slopes can be computed using the formula,\n\u003C/p\u003E\n\u003Cp\u003E\nm = X / d\n\u003C/p\u003E\n\u003Cp\u003E\nwhere m is slope, d is distance, and X is given by the formula,\n\u003C/p\u003E\n\u003Cp\u003E\nX = (\u003Cspan style=\u0022font-family:\u0027Times New Roman\u0027, Times, serif;\u0022\u003EI\u003C/span\u003E\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003En\u002B1\u003C/font\u003E\u003C/sub\u003E - \u003Cspan style=\u0022font-family:\u0027Times New Roman\u0027, Times, serif;\u0022\u003EI\u003C/span\u003E\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003En\u003C/font\u003E\u003C/sub\u003E) / LN(d\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003En\u002B1\u003C/font\u003E\u003C/sub\u003E / d\u003Csub\u003E\u003Cfont size=\u00222\u0022\u003En\u003C/font\u003E\u003C/sub\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nwhere \u003Cspan style=\u0022font-family:\u0027Times New Roman\u0027, Times, serif;\u0022\u003EI\u003C/span\u003E is intensity.\n\u003C/p\u003E\n\u003Cp\u003E\nAny pair of keys can be used to compute X, because each pair should give the same result.\u00A0 For example, let\u0027s use,\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\t\t\tkey = 4000000 0.7 -3.61E-08 -3.61E-08\n\t\t\t\t\tkey = 8000000 0.6 -1.80E-08 -1.80E-08\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwhere we have,\n\u003C/p\u003E\n\u003Cp\u003E\nX = (0.6 - 0.7) / LN(8000000 / 4000000) = -0.1442695\n\u003C/p\u003E\n\u003Cp\u003E\nThis value of X is then used to compute the slope at any distance.\u00A0 For example, the slope at a distance of 2000000 is, \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nm = -0.1442695 / 2000000 = -7.21E-08\n\u003C/p\u003E\n\u003Cp\u003E\nThis method gives nice smooth logarithmic intensity curves.\u00A0 The same basic curve can be used for other stars by simply factoring the distances and/or intensities to account for greater or lesser luminosity, and recalculating the slopes.\n\u003C/p\u003E\n\u003Cp\u003E\nOf course you might not like the way it looks and may choose to use something else.\u00A0 This is only a suggestion.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-09T21:26:00Z\u0022 title=\u002212/09/2017 09:26  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 9, 2017\u003C/time\u003E by OhioBob\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2017-10-21T21:11:13Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022128005\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/128005-ohiobob/\u0022 rel=\u0022\u0022\u003E@OhioBob\u003C/a\u003E, that\u0027s very much appreciated. I was actually looking at what was done for GPP this morning and it was very impressive; I had hoped to emulate it at least in part.\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2017-10-21T21:30:12Z","Content":"\n\u003Cp\u003E\nPretty much everything in the GPP star configs where a collaborative effort between \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022150430\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/\u0022 rel=\u0022\u0022\u003E@Galileo\u003C/a\u003E and I.\u00A0 He did everything with the color settings and textures, and I did stuff like the intensity and brightness curves.\u00A0 So if you have any other questions, I should be able to answer.\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing about GPP is that we\u0027re actually using several different intensity curves, so you have to be careful about what you\u0027re looking at.\u00A0 For instance, the default ones in the Ciro.cfg are written to maintain a constant light level out to beyond the farthest planet.\u00A0 These are then replaced by the curves in the file SunCurve.cfg.\u00A0 This was done so that if somebody doesn\u0027t like the decreasing intensity, they can revert back to the old look by deleting SunCurve.cfg.\u00A0 There are also different curves for regular GPP and GPP_Secondary.\u00A0 We also recently decided to decrease Ciro\u0027s light intensity out around Grannus, so I tweaked the curves - they no longer match the one given in my first post.\u00A0 If you have questions about any of it, I\u0027m happy to answer.\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2017-10-22T17:32:03Z","Content":"\n\u003Cp\u003E\nFYI, I think I just discovered a bug in IntensityCurve...\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6011174050\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/140580-131-kopernicus-release-2-oct-07/\u0026amp;do=embed\u0026amp;comment=3201037\u0026amp;embedComment=3201037\u0026amp;embedDo=findComment\u0022 style=\u0022height:268px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2017-10-26T19:25:35Z","Content":"\n\u003Cp\u003E\nI\u0027ve just learned some new information that I want to pass on to you.\u00A0 First, here is an explanation of how things are suppose to work:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cstrong\u003EIVA mode\u003C/strong\u003E\u003C/u\u003E\u003Cbr\u003E\nThe color of light seen in IVA mode is controlled by the parameter IVASunColor.\u00A0 The intensity is controlled by either the parameter IVASunIntensity (constant intensity), or by the curve IVAIntensityCurve (variable intensity).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EScaled Space\u003C/u\u003E\u003C/strong\u003E\u003Cbr\u003E\nScaled space includes lighting on celestial bodies in the tracking station, map mode, and flight mode at distances beyond where PQS is seen.\u00A0 The color of light in scaled space is controlled by the parameter scaledSunlightColor.\u00A0 The intensity is controlled by either the parameter scaledSunlightIntensity (constant intensity), or by the curve ScaledIntensityCurve (variable intensity).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EFlight mode/PQS\u003C/u\u003E\u003C/strong\u003E\u003Cbr\u003E\nThis includes lighting on space vessels and on the surfaces of celestial bodies at near distances where their PQS is seen. \u00A0The color of light is controlled by the parameter sunlightColor.\u00A0 The intensity is controlled by either the parameter sunlightIntensity (constant intensity), or by the curve IntensityCurve (variable intensity).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E(Note that constant intensity also means infinity distance.)\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAs of Kopernicus release 1.3.1-2, things are not working as they are suppose to.\u00A0 It seems that the only things that are actually working are\u00A0scaledSunlightColor,\u00A0scaledSunlightIntensity,\u00A0ScaledIntensityCurve and\u00A0sunlightColor.\u00A0 It doesn\u0027t look like anything with IVA mode is working (we\u0027re just getting a constant white illumination with no way to adjust it).\u00A0 And although sunlightColor is working,\u00A0sunlightIntensity and\u00A0IntensityCurve are not.\u00A0 At present the intensity of sunlight in flight mode and PQS is being controlled by\u00A0scaledSunlightIntensity or ScaledIntensityCurve.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113164-thomas-p/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022113164\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113164-thomas-p/\u0022 rel=\u0022\u0022\u003E@Thomas P.\u003C/a\u003E is aware of these issues and has made changes that should fix it, hopefully to be included in the next release.\n\u003C/p\u003E\n\u003Cp\u003E\nI also need to correct an error in something I said previously.\u00A0 While the distance units used in ScaledIntensityCurve are meters/6000, or kilometers/6, the distances used in IntensityCurve and IVAIntensityCurve are meters.\u00A0 I had not noticed that the units in my existing curves are wrong because those curves are not currently being used.\u00A0 However, going forward we\u0027ll have to make sure all the curves use the correct units.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"}]}