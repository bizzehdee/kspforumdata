{"TopicId":183301,"ForumId":20,"TopicTitle":"Attatchment Node issues/engine affect issues with mod","CreatedByName":"OrianCEV","CreatedById":77351,"CreatedDateTime":"2019-03-31T17:29:27Z","PageNum":1,"Articles":[{"CreatedByName":"OrianCEV","CreatedById":77351,"CreatedDateTime":"2019-03-31T17:29:27Z","Content":"\n\u003Cp\u003E\nHi, I\u0027m just starting out with modding and i\u0027ve gotten decently far, I already have a model that went in game with the proper textures and collision mesh, however, I cannot figure out how to make the stack nodes appear or how to get the rocket engine visual effects to display. I\u0027ve looked on the forum and there are some guides, but many link to long-gone forum posts. Thanks for the help. here\u0027s some resources of my part.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is my unity workspace. The coordinates on the right are for a plane I used to approximate where my attach node would have to go(it\u0027s on the top of the engine)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022dGyRn4G.png\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022https://i.imgur.com/dGyRn4G.png\u0022 width=\u0022718\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s my config file\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPART\n{\n\tname = LiquidEngineTE1\n\tmodule = Part\n\tauthor = Orion\n\tmesh = model.mu\n\trescaleFactor = 1.0\n\tnode_stack_bottom = 0.0, -0.124, 0.00, 0.0, 0.0, 0.0, 0\n\tnode_stack_top = 0.0, 0.14, 0.00, 0.0, 0.0, 0.0, 0\n\tTechRequired = precisionPropulsion\n\tentryCost = 1750\n\tcost = 300\n\tcategory = Engine\n\tsubcategory = 0\n\ttitle = Liquid Test Engine \u0022TE1\u0022\n\tmanufacturer = ArCanoid Aeronautics And Brass Instruments\n\tdescription = 3ABI\u0027s first rocket engine. We are not responsible for any personal harm due to normal operation of engine.\n\tattachRules = 1,0,1,1,0\n\tmass = 0.02\n\theatConductivity = 0.06 // half default\n\tskinInternalConductionMult = 4.0\n\temissiveConstant = 0.8 // engine nozzles are good at radiating.\n\tdragModelType = default\n\tmaximum_drag = 0.2\n\tminimum_drag = 0.2\n\tangularDrag = 2\n\tcrashTolerance = 7\n\tmaxTemp = 2000 // = 3600\n\tstagingIcon = LIQUID_ENGINE\n\tbulkheadProfiles = srf\n\ttags = probe propuls rocket (spider thruster vernier\n\tEFFECTS\n\t{\n\t\trunning_thrust\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_rocket_mini\n\t\t\t\tvolume = 0.0 0.0\n\t\t\t\tvolume = 1.0 0.3\n\t\t\t\tpitch = 0.0 0.20\n\t\t\t\tpitch = 1.0 1.5\n\t\t\t\tloop = true\n\t\t\t}\n\n\t\t}\n\t\tengage\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_vent_soft\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\tflameout\n\t\t{\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tprefabName = fx_exhaustSparks_flameout_2\n\t\t\t\ttransformName = thrustTransform\n\t\t\t\toneShot = true\n\t\t\t}\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_explosion_low\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\t\t\t\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleEnginesFX\n\t\tthrustVectorTransformName = thrustTransform\n\t\texhaustDamage = true\n\t\tignitionThreshold = 0.1\n\t\tminThrust = 0\n\t\tmaxThrust = 20\n\t\theatProduction = 30\n\t\t//fxOffset = 0, 0 , 0\n\t\tEngineType = LiquidFuel\n\t\texhaustDamageDistanceOffset = 0.05\n\t\trunningEffectName = running_thrust\n\t\tPROPELLANT\n\t\t{\n\t\t\tname = LiquidFuel\n\t\t\tratio = 0.9\n\t\t\tDrawGauge = True\n\t\t}\n\t\tPROPELLANT\n\t\t{\n\t\t\tname = Oxidizer\n\t\t\tratio = 1.1\n\t\t}\n\t\tatmosphereCurve\n\t\t{\n\t\t\tkey = 0 290\n\t\t\tkey = 1 260\n\t\t\tkey = 8 0.001\n\t\t}\n\t}\n\t\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThanks for the help!\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: I have now gotten particle affects and attach nodes, but the attach node only attaches in the wrong direction and is off center. In addition the flame seems to be instant, it doesn\u0027t go bigger or smaller with throttle changes.\n\u003C/p\u003E\n\u003Cp\u003E\nPicture:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00228t3HrVB.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022https://i.imgur.com/8t3HrVB.jpg\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-31T20:05:19Z\u0022 title=\u002203/31/2019 08:05  PM\u0022 data-short=\u00225 yr\u0022\u003EMarch 31, 2019\u003C/time\u003E by OrianCEV\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2019-03-31T17:53:10Z","Content":"\n\u003Cp\u003E\nYou also need to tell the node which direction to point try: node_stack_top = 0.0, 0.14, 0.00, 0.0, \u003Cu\u003E\u003Cstrong\u003E1.0\u003C/strong\u003E\u003C/u\u003E, 0.0, 0\n\u003C/p\u003E\n\u003Cp\u003E\nThe 1 in the 5th place tells it the node points in the positive Y direction, the bottom node would have a -1 in the same position.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd the seventh digit is the node size - typically 0 would be for a 0.625 engine, 1 for a 1.25, and so on\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: as for the FX you don\u0027t have any particle effect in the running section - you do have one in the flameout section - try adding one to the running section.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-31T17:59:27Z\u0022 title=\u002203/31/2019 05:59  PM\u0022 data-short=\u00225 yr\u0022\u003EMarch 31, 2019\u003C/time\u003E by wasml\u003C/strong\u003E\n\u003Cbr\u003Eclarify the change in the node\n\u003C/span\u003E\n"},{"CreatedByName":"OrianCEV","CreatedById":77351,"CreatedDateTime":"2019-03-31T18:16:42Z","Content":"\n\u003Cp\u003E\nThanks. I\u0027ll try it.\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2019-04-05T23:57:58Z","Content":"\n\u003Cp\u003E\nOK - I don\u0027t usually use the node_stack method - I find it easier to add a transform in Unity exactly where I want it and use NODE { } in the config file - easier to place though there are a few places where you need to use the node_stack method (MODULE DynamicNode?)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 NODE\u003Cbr\u003E\n\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = Top\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 // My cfg name - needed for some MODULE\u0027s\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0transform = StackTop\u00A0\u00A0\u00A0 // Unity name\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0size = 2\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0method = FIXED_JOINT // Always fixed joint\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\nNote the Z (blue) axis needs to point towards what the node will attach to.\n\u003C/p\u003E\n\u003Cp\u003E\nOr you could experiment - move that \u00221\u0022 to the X and Z positions and see what happens.\n\u003C/p\u003E\n\u003Cp\u003E\nnode_stack = x pos, y pos, z pos, x dir, y dir, z dir, node size\n\u003C/p\u003E\n\u003Cp\u003E\nso try: node_stack\uFEFF_t\uFEFFop = 0.0, 0.14, 0.00, 0.0, 0.0, \u003Cu\u003E\u003Cstrong\u003E1.0\u003C/strong\u003E\u003C/u\u003E, \uFEFF0\n\u003C/p\u003E\n\u003Cp\u003E\nor 0.0, 0.14, 0.00, \u003Cu\u003E\u003Cstrong\u003E1.0\u003C/strong\u003E\u003C/u\u003E, 0.0, 0.0, \uFEFF0\n\u003C/p\u003E\n\u003Cp\u003E\nAs far as the instant on - do you have any emission, speed, energy curves defined?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\tMODEL_MULTI_PARTICLE\n\t\t\t{\n\t\t\t\tname = flame\n\t\t\t\tmodelName = KSI/FX/Plumes/P7A8_Red_2\n\t\t\t\ttransformName = thrustTransform\n\t\t\t\temission = 0.00 0.00\n\t\t\t\temission = 1.00 1.00\n\t\t\t\tspeed = 0.00 0.00\n\t\t\t\tspeed = 1.00 1.00\n\t\t\t\tenergy = 0.00 0.00\n\t\t\t\tenergy = 1.00 1.00\n\t\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFor all three (emission, speed, energy) the above curves tell KSP that at zero throttle the effect is zero and at full throttle to use full effect. You can add more complicated curves if you want - explanation here:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6279782367\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/84201-info-ksp-floatcurves-and-you-the-magic-of-tangents/\u0026amp;do=embed\u0022 style=\u0022height:228px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nand a handy Unity plugin\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed2853035040\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/75187-unity-floatcurve-editor-10/\u0026amp;do=embed\u0022 style=\u0022height:228px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}