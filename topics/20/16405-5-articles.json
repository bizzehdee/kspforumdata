{"TopicId":16405,"ForumId":20,"TopicTitle":"MechJeb Autom8 Scripts Megathread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-08-08T23:57:23Z","PageNum":5,"Articles":[{"CreatedByName":"Glaucus","CreatedById":14664,"CreatedDateTime":"2012-08-31T16:08:17Z","Content":"\n\u003Cp\u003Eis there anyway to control throttle with this? couldn\u0027t see anything in the manual\u003C/p\u003E\n"},{"CreatedByName":"olex","CreatedById":32731,"CreatedDateTime":"2012-08-31T16:10:18Z","Content":"\n\u003Cp\u003EUse the followong: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Emechjeb.thrustActivate(0-100)\u003Cbr\u003Emechjeb.thrustDeactivate()\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt appears not to be documented, but it\u0027s used in my Mun return script if you want an example.\u003C/p\u003E\n"},{"CreatedByName":"Glaucus","CreatedById":14664,"CreatedDateTime":"2012-08-31T16:31:02Z","Content":"\n\u003Cp\u003EThank you, great stuff.\u003C/p\u003E\n"},{"CreatedByName":"squirrle4620","CreatedById":6357,"CreatedDateTime":"2012-08-31T23:10:22Z","Content":"\n\u003Cp\u003Eis it possible to make a script to automatically change the inclination of an orbit while in that orbit? or does mechjeb already have a way i can do this and i\u0027m just too dense?\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-09-01T19:47:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022squirrle4620\u0022 data-cite=\u0022squirrle4620\u0022\u003E\u003Cdiv\u003Eis it possible to make a script to automatically change the inclination of an orbit while in that orbit? or does mechjeb already have a way i can do this and i\u0027m just too dense?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eit is possible to make a script to automatically do it. i have actually been working on one for over a week now but i have a problem in my equations somewhere \u0026gt;_\u0026lt;\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-09-02T03:14:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022khmnc\u0022 data-cite=\u0022khmnc\u0022\u003E\u003Cdiv\u003Eit is possible to make a script to automatically do it. i have actually been working on one for over a week now but i have a problem in my equations somewhere \u0026gt;_\u0026lt;\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf I may ask, I was waiting to even try this until I can warp to the ascending or descending node - have you actually worked out the amount of time from apoapsis/periapsis to the ascending/descending node for elliptical orbits, or are you using a different technique?\u003C/p\u003E\u003Cp\u003EMy plan would have been to try and figure out the delta-V required, then do a burn anticipated to reach it, possibly with some fudge factor and touch-up afterwards for the highest accuracy, and possibly multi-orbit based if the thrust available isn\u0027t high enough.\u003C/p\u003E\n"},{"CreatedByName":"calhoun1","CreatedById":42661,"CreatedDateTime":"2012-09-02T19:30:22Z","Content":"\n\u003Cp\u003EOK I am currently using the FlyMeToTheMun(45,45) script.\u003C/p\u003E\u003Cp\u003EI launched and reached 125km orbit successfully. Now I have been warping to SOI for 4 (edit: now 7) kerbal days. How long will I need to wait for the SOI? Do I need to abort and retry? This is my first shot at getting to the Mun and have no clue if I am doing it right. \u003C/p\u003E\u003Cp\u003EI also have tried some forum searches and found nothing. Thanks!\u003C/p\u003E\u003Cp\u003EEdit- And after I post this, now I have transitioned to warping to Periapsis. Of course the Pe keeps moving slightly, so it is taking a while as well. Hopefully I am doing this right!\u003C/p\u003E\u003Cp\u003EEdit - And now it just tried to land on Kerbin without ever transferring to the Mun. Not sure what I did wrong.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-09-02T20:21:25Z\u0022 title=\u002209/02/2012 08:21  PM\u0022 data-short=\u002211 yr\u0022\u003ESeptember 2, 2012\u003C/time\u003E by calhoun1\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"squirrle4620","CreatedById":6357,"CreatedDateTime":"2012-09-02T23:20:54Z","Content":"\n\u003Cp\u003ESweet! Could you provide your source code so I can give it a look over? I like bug hunting!\u003C/p\u003E\n"},{"CreatedByName":"calhoun1","CreatedById":42661,"CreatedDateTime":"2012-09-03T00:15:39Z","Content":"\n\u003Cp\u003EI used the file as written. Not sure what I did wrong.\u003C/p\u003E\n"},{"CreatedByName":"khmnc","CreatedById":32155,"CreatedDateTime":"2012-09-03T14:50:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nadrek\u0022 data-cite=\u0022Nadrek\u0022\u003E\u003Cdiv\u003EIf I may ask, I was waiting to even try this until I can warp to the ascending or descending node - have you actually worked out the amount of time from apoapsis/periapsis to the ascending/descending node for elliptical orbits, or are you using a different technique?\u003Cp\u003EMy plan would have been to try and figure out the delta-V required, then do a burn anticipated to reach it, possibly with some fudge factor and touch-up afterwards for the highest accuracy, and possibly multi-orbit based if the thrust available isn\u0027t high enough.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Emy plan was to calculate the position of the burn nodes, calculate the time until the craft reached the nearest one, warp to it, calculate the amount of time and the amount of thrust needed, make the burn until the amount of time needed has elapsed or it is too far from the burn point, then redo the calculations to see if another burn is needed\u003C/p\u003E\u003Cp\u003Eso far my equations get within 12% of the target position, which is unacceptable\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-09-03T20:19:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022khmnc\u0022 data-cite=\u0022khmnc\u0022\u003E\u003Cdiv\u003Emy plan was to calculate the position of the burn nodes, calculate the time until the craft reached the nearest one, warp to it, calculate the amount of time and the amount of thrust needed, make the burn until the amount of time needed has elapsed or it is too far from the burn point, then redo the calculations to see if another burn is needed\u003Cp\u003Eso far my equations get within 12% of the target position, which is unacceptable\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm; I\u0027d have to wonder if you redid all your calculations after the warp (and noted the differences), and if you accounted for thrust ramp-up and ramp-down time and the change in attitude required during the burn.\u003C/p\u003E\u003Cp\u003EWhen you say within 12%, are you always under, always over, or sometimes some of each?\u003C/p\u003E\u003Cp\u003EMay I also ask how you warped to the nearest burn node?\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-09-04T04:18:35Z","Content":"\n\u003Cp\u003ESimpleKSPOrbitalMechanics upgraded to 0.003 and SimpleKSPOrbitalOperations upgraded to 0.002; see post #53 in this thread for more details (now includes function listings!).\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/16503-MechJeb-Autom8-Scripts-Megathread?p=238962\u0026amp;viewfull=1#post238962\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/forum/showthread.php/16503-MechJeb-Autom8-Scripts-Megathread?p=238962\u0026amp;viewfull=1#post238962\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETogfox, there\u0027s code to calculate actual measured Isp (at whatever throttle setting you like) from any rocket you can get into stable orbit. You could then calculate exhaust velocity from this and feed it into your delta-V calculator if you still don\u0027t like mine \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. Try it on every stage for fun and profit \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EAdded KSP based isOrbitStable, reporting on orbital and mass variables instantaneously and over time(!), and operational testing of actual Isp at various thrust settings. Skoo now has functional code to detect when mechjeb.attitudeTo() has finished pointing. \u003C/p\u003E\u003Cp\u003ENew Skom functions:\u003C/p\u003E\u003Cp\u003EisSkomCurrentOrbitStable()\u003C/p\u003E\u003Cp\u003EreportSkomCurrentMsMsdApPeSopTmapTmpeLanAopIncEccAOvSvVvHvHdPiRlAltaslAlttruAltbotLatLngRfcbGAtmdTm()\u003C/p\u003E\u003Cp\u003EreportSkomCurrentChangeOverTimeMsiMsfMsMsdApPeSopTmapTmpeLanAopIncEccAOvSvVvHvHdPiRlAltaslAlttruAltbotLatLngRfcbGAtmdTmFromTmbiTmbtwnDriver(TimeBeforeInitial, TimeBetween)\u003C/p\u003E\u003Cp\u003EprintSkomCurrentChangeOverTimeMsiMsfMsMsdApPeSopTmapTmpeLanAopIncEccAOvSvVvHvHdPiRlAltaslAlttruAltbotLatLngRfcbGAtmdTmFromTmbiTmbtwnDriver(TimeBeforeInitial, TimeBetween)\u003C/p\u003E\u003Cp\u003EcoprintSkomCurrentChangeOverTimeMsiMsfMsMsdApPeSopTmapTmpeLanAopIncEccAOvSvVvHvHdPiRlAltaslAlttruAltbotLatLngRfcbGAtmdTmFromTmbiTmbtwn(TimeBeforeInitial, TimeBetween)\u003C/p\u003E\u003Cp\u003ENew Skoo functions:\u003C/p\u003E\u003Cp\u003EmeasureSkooIspFromTmbiTmbtwnNsDriver(TimeBeforeInitial, TimeBetweenEach, NumberSlices)\u003C/p\u003E\u003Cp\u003EtestSkooIspFromTmbiTmbtwnNsMpcsDriver(TimeBeforeInitial, TimeBetweenEach, NumberSlices, MaxPointingChangeStable)\u003C/p\u003E\u003Cp\u003EcotestSkooIspFromTmbiTmbtwnNs(TimeBeforeInitial, TimeBetweenEach, NumberSlices)\u003C/p\u003E\u003Cp\u003EcotestSkooIspFromTmbiTmbtwnNsMpcs(TimeBeforeInitial, TimeBetweenEach, NumberSlices, MaxPointingChangeStable)\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2012-09-04T07:43:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ETogfox, there\u0027s code to calculate actual measured Isp (at whatever throttle setting you like) from any rocket you can get into stable orbit. You could then calculate exhaust velocity from this and feed it into your delta-V calculator if you still don\u0027t like mine . Try it on every stage for fun and profit .\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had considered doing that - that will remove one of my parameters - a pretty important one mind you. That means \u0022fuel left\u0022 would be the only manually entered input - and that\u0027s available in-game with a right-mouse-click. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-09-04T12:27:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003EI had considered doing that - that will remove one of my parameters - a pretty important one mind you. That means \u0022fuel left\u0022 would be the only manually entered input - and that\u0027s available in-game with a right-mouse-click. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere\u0027s a userecho request for it to be in-game, per stage, to the lua code.\u003C/p\u003E\u003Cp\u003EAlternately, at the design stage, write down the amount of fuel per stage in mass units, and then feed your code one parameter - the dry mass of the rocket, and then it can calculate fuel from the wet mass... as long as you don\u0027t use more than one fuel type (i.e. RCS).\u003C/p\u003E\n"},{"CreatedByName":"sanderlebau","CreatedById":5577,"CreatedDateTime":"2012-09-05T02:22:48Z","Content":"\n\u003Cp\u003EHas anyone written a program to travel to a given lat, lon? For example, I\u0027m trying to circumnavigate the globe, and now that you cannot accelerate time while in the atmosphere, I\u0027d like to automate some of the longer crossings without worrying about over-shooting and crashing into land. Has anyone written such a program?\u003C/p\u003E\n"},{"CreatedByName":"j-tk","CreatedById":29598,"CreatedDateTime":"2012-09-05T19:30:53Z","Content":"\n\u003Cp\u003EHopefulyl this is what you were looking for to help ( A HUGE thank yuo to you and the rest of this community, you guys are awesome!) This is from the webpage directly, copied, and put in thru notepad\u002B\u002B\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E1.\u003Cbr\u003E--\u003Cbr\u003E\u003Cbr\u003E 2.\u003Cbr\u003E--         Mun to Kerbin Return Script by olex\u003Cbr\u003E\u003Cbr\u003E 3.\u003Cbr\u003E--                    Version 1.0\u003Cbr\u003E\u003Cbr\u003E 4.\u003Cbr\u003E--\u003Cbr\u003E\u003Cbr\u003E 5.\u003Cbr\u003E--                 for MechJeb 1.9.1\u003Cbr\u003E\u003Cbr\u003E 6.\u003Cbr\u003E--\u003Cbr\u003E\u003Cbr\u003E 7.\u003Cbr\u003E--------------------------------------------------------\u003Cbr\u003E\u003Cbr\u003E 8.\u003Cbr\u003E-- Usage: * save to KSP/PluginData/mumechlib/GoHome.lua\u003Cbr\u003E\u003Cbr\u003E 9.\u003Cbr\u003E--        * in game, open autom8\u003Cbr\u003E\u003Cbr\u003E 10.\u003Cbr\u003E--        * enter: dofile(\u0022GoHome.lua\u0022)\u003Cbr\u003E\u003Cbr\u003E 11.\u003Cbr\u003E--        * and follow the instructions.\u003Cbr\u003E\u003Cbr\u003E 12.\u003Cbr\u003E--\u003Cbr\u003E\u003Cbr\u003E 13.\u003Cbr\u003E-- Quicksave before using.\u003Cbr\u003E\u003Cbr\u003E 14.\u003Cbr\u003E-- If an \u0022coroutine out of sync\u0022 error pops up, load the save and try again.\u003Cbr\u003E\u003Cbr\u003E 15.\u003Cbr\u003E--\u003Cbr\u003E\u003Cbr\u003E 16.\u003Cbr\u003E-- No guarantees, but it should work  Have fun!\u003Cbr\u003E\u003Cbr\u003E 17.\u003Cbr\u003E--------------------------------------------------------\u003Cbr\u003E\u003Cbr\u003E 18.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E 19.\u003Cbr\u003Efunction KerbinReturnDriver(pe)\u003Cbr\u003E\u003Cbr\u003E 20.\u003Cbr\u003E        if pe == nil then\u003Cbr\u003E\u003Cbr\u003E 21.\u003Cbr\u003E                pe = 20.0\u003Cbr\u003E\u003Cbr\u003E 22.\u003Cbr\u003E        end\u003Cbr\u003E\u003Cbr\u003E 23.\u003Cbr\u003E        if pe \u0026gt; 70 then\u003Cbr\u003E\u003Cbr\u003E 24.\u003Cbr\u003E                print \u0022Final periapsis not in atmosphere, no automatic landing.\u0022\u003Cbr\u003E\u003Cbr\u003E 25.\u003Cbr\u003E        end\u003Cbr\u003E\u003Cbr\u003E 26.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E27.\u003Cbr\u003E        print \u0022Lifting off...\u0022\u003Cbr\u003E\u003Cbr\u003E 28.\u003Cbr\u003E        mechjeb.attitudeTo(\u0022up\u0022, \u0022SURFACE_NORTH\u0022) -- vertical ascent\u003Cbr\u003E\u003Cbr\u003E 29.\u003Cbr\u003E        mechjeb.thrustActivate(100)\u003Cbr\u003E\u003Cbr\u003E 30.\u003Cbr\u003E        while vessel.altitudeTrue \u0026lt; 300 do\u003Cbr\u003E\u003Cbr\u003E 31.\u003Cbr\u003E                wait(0.25)\u003Cbr\u003E\u003Cbr\u003E 32.\u003Cbr\u003E        end\u003Cbr\u003E\u003Cbr\u003E 33.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E34.\u003Cbr\u003E        print \u0022Escaping the Mun...\u0022\u003Cbr\u003E\u003Cbr\u003E 35.\u003Cbr\u003E        -- this needs to be optimized. figure out an escape vector\u003Cbr\u003E\u003Cbr\u003E 36.\u003Cbr\u003E        -- that is as close as possible to the opposite of Mun\u0027s orbital velocity\u003Cbr\u003E\u003Cbr\u003E 37.\u003Cbr\u003E        -- but not lower than 0\u00C3\u201A\u00C2\u00B0 to the surface\u003Cbr\u003E\u003Cbr\u003E 38.\u003Cbr\u003E        mechjeb.attitudeTo(\u0022right\u0022, \u0022SURFACE_NORTH\u0022) -- heading east\u003Cbr\u003E\u003Cbr\u003E 39.\u003Cbr\u003E        while vessel.orbitEccentricity \u0026lt; 1 do\u003Cbr\u003E\u003Cbr\u003E 40.\u003Cbr\u003E                wait(0.25)\u003Cbr\u003E\u003Cbr\u003E 41.\u003Cbr\u003E        end\u003Cbr\u003E\u003Cbr\u003E 42.\u003Cbr\u003E        mechjeb.thrustDeactivate()\u003Cbr\u003E\u003Cbr\u003E 43.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E44.\u003Cbr\u003E        print \u0022Coasting to Mun escape, hang on.\u0022\u003Cbr\u003E\u003Cbr\u003E 45.\u003Cbr\u003E        mechjeb.warpToEvent(\u0022soi\u0022)\u003Cbr\u003E\u003Cbr\u003E 46.\u003Cbr\u003E        wait(mechjeb.free)\u003Cbr\u003E\u003Cbr\u003E 47.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E48.\u003Cbr\u003E        print(\u0022Lowering Kerbin periapsis to \u0022..pe..\u0022km...\u0022)\u003Cbr\u003E\u003Cbr\u003E 49.\u003Cbr\u003E        mechjeb.changePe(pe * 1000)\u003Cbr\u003E\u003Cbr\u003E 50.\u003Cbr\u003E        wait(mechjeb.free)\u003Cbr\u003E\u003Cbr\u003E 51.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E52.\u003Cbr\u003E        print \u0022Coasting to Kerbin, stand by.\u0022\u003Cbr\u003E\u003Cbr\u003E 53.\u003Cbr\u003E        mechjeb.warpToEvent(\u0022pe\u0022)\u003Cbr\u003E\u003Cbr\u003E 54.\u003Cbr\u003E        while vessel.atmosphericDensity \u0026lt;= 0 and (not mechjeb.free()) do\u003Cbr\u003E\u003Cbr\u003E 55.\u003Cbr\u003E                wait(0.25)\u003Cbr\u003E\u003Cbr\u003E 56.\u003Cbr\u003E        end\u003Cbr\u003E\u003Cbr\u003E 57.\u003Cbr\u003E        mechjeb.controlRelease()\u003Cbr\u003E\u003Cbr\u003E 58.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E59.\u003Cbr\u003E        if vessel.atmosphericDensity \u0026gt; 0 then\u003Cbr\u003E\u003Cbr\u003E 60.\u003Cbr\u003E                print \u0022Re-entry... hold onto something.\u0022\u003Cbr\u003E\u003Cbr\u003E 61.\u003Cbr\u003E                mechjeb.attitudeTo(\u0022back\u0022, \u0022ORBIT\u0022)\u003Cbr\u003E\u003Cbr\u003E 62.\u003Cbr\u003E                while vessel.speedSurface \u0026gt; 250 do\u003Cbr\u003E\u003Cbr\u003E 63.\u003Cbr\u003E                        wait(0.1)\u003Cbr\u003E\u003Cbr\u003E 64.\u003Cbr\u003E                end\u003Cbr\u003E\u003Cbr\u003E 65.\u003Cbr\u003E                print \u0022Landing.\u0022\u003Cbr\u003E\u003Cbr\u003E 66.\u003Cbr\u003E                mechjeb.autoStageActivate()\u003Cbr\u003E\u003Cbr\u003E 67.\u003Cbr\u003E                mechjeb.land()\u003Cbr\u003E\u003Cbr\u003E 68.\u003Cbr\u003E                wait(mechjeb.free)\u003Cbr\u003E\u003Cbr\u003E 69.\u003Cbr\u003E                mechjeb.autoStageDeactivate()\u003Cbr\u003E\u003Cbr\u003E 70.\u003Cbr\u003E                print \u0022Welcome home!\u0022\u003Cbr\u003E\u003Cbr\u003E 71.\u003Cbr\u003E        else\u003Cbr\u003E\u003Cbr\u003E 72.\u003Cbr\u003E                print \u0022Not in atmosphere at periapsis. We\u0027re done here.\u0022\u003Cbr\u003E\u003Cbr\u003E 73.\u003Cbr\u003E        end\u003Cbr\u003E\u003Cbr\u003E 74.\u003Cbr\u003Eend\u003Cbr\u003E\u003Cbr\u003E 75.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E 76.\u003Cbr\u003Efunction GoHome(pe)\u003Cbr\u003E\u003Cbr\u003E 77.\u003Cbr\u003E        local co = coroutine.create(KerbinReturnDriver)\u003Cbr\u003E\u003Cbr\u003E 78.\u003Cbr\u003E    coroutine.resume(co, pe)\u003Cbr\u003E\u003Cbr\u003E 79.\u003Cbr\u003Eend\u003Cbr\u003E\u003Cbr\u003E 80.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E 81.\u003Cbr\u003Eprint \u0022Usage: GoHome(\u0026lt;desired Kerbin periapsis in km, default 20\u0026gt;)\u0022\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-09-05T22:59:59Z","Content":"\n\u003Cp\u003EAgain, thanks to the KSP and Mechjeb teams for providing us with such an exciting toolbox to play with in an easily written and scripted interpreted language. With little more than KSP, Mechjeb, a text editor, and some typing we can land on the Mun, get into a Molniya orbit, or perform most other manuevers.\u003C/p\u003E\u003Cp\u003EI think I may be running into either mechjeb.* data limit, or a limit in my vocabulary, as I\u0027m rapidly approaching a stalling point where I have almost, but not quite, all the orbital elements. to do more math and then more operations with.\u003C/p\u003E\u003Cp\u003EI\u0027m asking for help in gathering the following information, either directly or by pointing out the elements I have that I can use to derive the following:\u003C/p\u003E\u003Cp\u003EA. Mean Anomaly at Epoch and units (or any of the related anomalies - Mean Anomaly, True Anomaly, perhaps the Eccentric Anomaly)\u003C/p\u003E\u003Cp\u003E EDIT: A.1 in Kerbin Orbital Parameters V2 (\u003Ca href=\u0022https://docs.google.com/document/d/1fmTW6P91OVFj5Tuj0JzKcnfpcw79RqveQTAywrPIIrI/edit?pli=1#heading=h.ktf15rmlbwy8\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.google.com/document/d/1fmTW6P91OVFj5Tuj0JzKcnfpcw79RqveQTAywrPIIrI/edit?pli=1#heading=h.ktf15rmlbwy8\u003C/a\u003E) I see a formula that says it\u0027s for Mean Anomaly at Epoch based solely on semi-major axis, the standard gravitational parameter, and time since periapsis. My questions now becomes: is that correct, Epoch is strictly arbitrary (i.e. the first step in any set of formulas that use Epoch is to synchronize Epochs, and/or set them all to a reference value, like - arbitrarily - vessel.time = 0)? I\u0027m still seeking the formulas and elements for circles, equatorial circles, parabolas, and hyperbolas, though.\u003C/p\u003E\u003Cp\u003EB. True longitude (is it the same as vessel.longitude) and units\u003C/p\u003E\u003Cp\u003EC. True latitude (is it the same as vessel.latitude) and units\u003C/p\u003E\u003Cp\u003EOr, alternately:\u003C/p\u003E\u003Cp\u003ED. Position Vector and units\u003C/p\u003E\u003Cp\u003EE. Velocity Vector and units\u003C/p\u003E\u003Cp\u003EF. Frame of reference and units\u003C/p\u003E\u003Cp\u003EG. Any recommended pure lua library for matrix and vector math to code the conversions with \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003ESome references on equations I\u0027d like to be able to use (True Anomaly or other values required): \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/10037-Getting-Absolute-Longitude-%28in-same-reference-system-as-LAN%29?p=216289\u0026amp;viewfull=1#post216289\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/forum/showthread.php/10037-Getting-Absolute-Longitude-%28in-same-reference-system-as-LAN%29?p=216289\u0026amp;viewfull=1#post216289\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-09-06T13:30:17Z\u0022 title=\u002209/06/2012 01:30  PM\u0022 data-short=\u002211 yr\u0022\u003ESeptember 6, 2012\u003C/time\u003E by Nadrek\u003C/strong\u003E\n\u003Cbr\u003ELearned more, amended A\n\u003C/span\u003E\n"},{"CreatedByName":"OdinYggd","CreatedById":26917,"CreatedDateTime":"2012-09-07T00:42:20Z","Content":"\n\u003Cp\u003EChance question- can mechjeb\u0027s autom8 fire off events from other modules, such as the orbital construction mod\u0027s transfer cargo feature?\u003C/p\u003E\u003Cp\u003EWas thinking about making a script that would launch an unmanned cargo vessel, approach spacedock, transfer cargo, and then deorbit to crash land. Or if I felt up to it, return to KSP after delivering the cargo.\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-09-07T05:51:53Z","Content":"\n\u003Cp\u003EFrom the UserEcho, I found \u0027access the C# class with mechjeb.core.targetVessel\u0022\u003C/p\u003E\u003Cp\u003E1) What\u0027s the companion way of getting to a body, like the Mun, Minmus (Eve), etc.?\u003C/p\u003E\u003Cp\u003E2) Is there one of the C# files from the svn repository I can ready to see what options I have for mechjeb.core.*, or mechjeb.core.targetVessel? Or a way in lua to enumerate all the possible options? I hate asking silly questions like these.\u003C/p\u003E\u003Cp\u003EIn MechJeb 1.9.1, I popped up the Rendevous module, selected a Vessel from the Spacecraft exchange at 1200km distance, and tried:\u003C/p\u003E\u003Cp\u003E\u0026gt; print(mechjeb.core.targetVessel.speedOrbital)\u003C/p\u003E\u003Cp\u003Ereceiving:\u003C/p\u003E\u003Cp\u003EException: Cannot get speedOrbital from Talos-MKII Debris (unloaded) (Vessel)\u003C/p\u003E\u003Cp\u003ESo it\u0027s reading the target correctly, but I don\u0027t know how to use it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. I then selected the Mun, and tried again - still pointed at the Talos debris (unsurprisingly)\u003C/p\u003E\n"},{"CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-09-07T14:16:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nadrek\u0022 data-cite=\u0022Nadrek\u0022\u003E\u003Cdiv\u003EFrom the UserEcho, I found \u0027access the C# class with mechjeb.core.targetVessel\u0022\u003Cp\u003E1) What\u0027s the companion way of getting to a body, like the Mun, Minmus (Eve), etc.?\u003C/p\u003E\u003Cp\u003E2) Is there one of the C# files from the svn repository I can ready to see what options I have for mechjeb.core.*, or mechjeb.core.targetVessel? Or a way in lua to enumerate all the possible options? I hate asking silly questions like these.\u003C/p\u003E\u003Cp\u003EIn MechJeb 1.9.1, I popped up the Rendevous module, selected a Vessel from the Spacecraft exchange at 1200km distance, and tried:\u003C/p\u003E\u003Cp\u003E\u0026gt; print(mechjeb.core.targetVessel.speedOrbital)\u003C/p\u003E\u003Cp\u003Ereceiving:\u003C/p\u003E\u003Cp\u003EException: Cannot get speedOrbital from Talos-MKII Debris (unloaded) (Vessel)\u003C/p\u003E\u003Cp\u003ESo it\u0027s reading the target correctly, but I don\u0027t know how to use it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. I then selected the Mun, and tried again - still pointed at the Talos debris (unsurprisingly)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1 - mechjeb.core.targetBody\u003C/p\u003E\u003Cp\u003E2 - \u003Ca href=\u0022http://svn.mumech.com/KSP/trunk/MuMechLib/MechJebCore.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://svn.mumech.com/KSP/trunk/MuMechLib/MechJebCore.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ENote that targetVessel is a C# Vessel object, not a VesselState like the Lua \u0022vessel\u0022 variable. What you wanted would be mechjeb.core.targetVessel.orbit.orbitalSpeed.\u003C/p\u003E\n"},{"CreatedByName":"Nadrek","CreatedById":25326,"CreatedDateTime":"2012-09-08T15:05:04Z","Content":"\n\u003Cp\u003EExcellent - thank you, r4m0n! I was able to determine many of the relevant values by guesswork.\u003C/p\u003E\u003Cp\u003EUnfortunately, in any of the .cs files, looking for even \u0022orbitalSpeed\u0022 did not turn up anything other than part.vessel.orbit.getOrbitalSpeedAt(timeLeft), which I couldn\u0027t figure out in Lua by guesswork.\u003C/p\u003E\u003Cp\u003EIs there another place to look for the contents of the C# Vessel (and Body) object? I\u0027m sorry for the basic questions.\u003C/p\u003E\u003Cp\u003EIf anyone else can use it, here\u0027s a list of the additional functionality I\u0027ve read on the forums/userecho, or found based on r4m0n\u0027s help so far:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EUndocumented commands:\u003Cbr\u003Emechjeb.stage() \u003Cbr\u003E  increments stage, just like hitting space bar\u003Cbr\u003Emechjeb.controlRelease() \u003Cbr\u003E  deactivates the .attitudeTo(), .thrustActivate() and perhaps other commands\u003Cbr\u003Emechjeb.thrustActivate(Percentage)\u003Cbr\u003E  sets engines to that level\u003Cbr\u003Emechjeb.thrustDeactivate()\u003Cbr\u003E  turns off engines\u003Cbr\u003Emechjeb.warpIncrease()\u003Cbr\u003E  increases warp factor by 1\u003Cbr\u003E  Returns True if the warp increase succeeded, False if it failed\u003Cbr\u003Emechjeb.warpDecrease()\u003Cbr\u003E  decreases warp factor by 1\u003Cbr\u003E  Safe to re-run when at 0\u003Cbr\u003E  Always returns nil\u003Cbr\u003Emechjeb.warpPhysics()\u003Cbr\u003E  0.16 - sets warp to 1x\u003Cbr\u003Emechjeb.warpMinimum()\u003Cbr\u003E  0.16 - sets warp to 1x\u003Cbr\u003Emechjeb.getAttitudeActive()\u003Cbr\u003E  returns boolean - apparently whether Smart A.S.S. or a similar attitude hold is in effect\u003Cbr\u003Emechjeb.attitudeDeactivate()\u003Cbr\u003E  disables .attitudeTo() and/or Smart A.S.S. without changing thrust.\u003Cbr\u003E\u003Cbr\u003Evar = mechjeb.getModule(ModuleName)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.attitudeGetReferenceRotation(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.attitudeWorldToReference(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.attitudeReferenceToWorld(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.attitudeAngleFromTarget(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.distanceFromTarget(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.relativeVelocityToTarget(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.targetName(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.landActivate(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.landDeactivate(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.launch(??)\u003Cbr\u003E  ??\u003Cbr\u003Emechjeb.mechjeb.getControlClaimed()\u003Cbr\u003E  ?? - returns False even with both Smart A.S.S./.attitudeTo() and .thrustActivate() active\u003Cbr\u003E\u003Cbr\u003EEITHER mechjeb.core.targetVessel (select target Vessel or Debris, NOT Bodies, in Rendevous Module GUI)\u003Cbr\u003EOR mechjeb.core.targetBody (select target Celestial Body in Rendevous Module GUI)\u003Cbr\u003E  .orbit.orbitalSpeed\u003Cbr\u003E  Example: print(mechjeb.core.targetBody.orbit.orbitalSpeed)\u003Cbr\u003E  returnsTarget orbital speed in m/s \u003Cbr\u003E\u003Cbr\u003E  mechjeb.core.targetBody.orbit.orbitalSpeed\u003Cbr\u003E    returns Target orbital speed in m/s\u003Cbr\u003E  .latitude (targetVessel ONLY!!!)\u003Cbr\u003E    returns Target latitude in ??\u003Cbr\u003E  .longitude (targetVessel ONLY!!!)\u003Cbr\u003E    returns Target longitude in ??\u003Cbr\u003E  .orbit.semiMajorAxis\u003Cbr\u003E    returns Target semi-major axis in meters\u003Cbr\u003E  .orbit.LAN\u003Cbr\u003E    returns Target LAN in degrees\u003Cbr\u003E  .orbit.eccentricity\u003Cbr\u003E    returns Target \u003Cbr\u003E  .orbit.argumentOfPeriapsis\u003Cbr\u003E    returns target Argument of Periapsis in degrees\u003Cbr\u003E  .orbit.altitude\u003Cbr\u003E    returns target ??(ASL?  Bottom?  True?  Other?) altitude in meters\u003Cbr\u003E  .orbit.ApA\u003Cbr\u003E    returns target Apoapsis in meters\u003Cbr\u003E  .orbit.PeA\u003Cbr\u003E    returns target Periapsis in meters\u003Cbr\u003E  .orbit.inclination\u003Cbr\u003E    returns target Inclination in degrees\u003Cbr\u003E  .orbit.period\u003Cbr\u003E    returns target Period in seconds\u003Cbr\u003E  .orbit.timeToPe\u003Cbr\u003E    returns target time to Periapsis in seconds\u003Cbr\u003E  .orbit.timeToAp\u003Cbr\u003E    returns target time to Apoapsis in seconds\u003Cbr\u003E  .orbit.radius\u003Cbr\u003E    returns orbital radius (from center of body being orbited) in meters\u003Cbr\u003E  .CoM[1]  (targetVessel ONLY!!!)\u003Cbr\u003E    returns ??\u003Cbr\u003E  .CoM[2]  (targetVessel ONLY!!!)\u003Cbr\u003E    returns ??\u003Cbr\u003E  .CoM[3]  (targetVessel ONLY!!!)\u003Cbr\u003E    returns ??\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2012-09-08T15:09:40Z","Content":"\n\u003Cp\u003ENice. Rep points for you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TwiggyShip","CreatedById":46352,"CreatedDateTime":"2012-09-09T17:02:41Z","Content":"\n\u003Cp\u003EMight I ask how to save as an .lua file? It downloads and saves as just a .txt for me..?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2012-09-09T17:06:08Z","Content":"\n\u003Cp\u003ETwiggyShip, have you tried renaming the file extension to .lua ?\u003C/p\u003E\n"},{"CreatedByName":"TwiggyShip","CreatedById":46352,"CreatedDateTime":"2012-09-09T17:14:13Z","Content":"\n\u003Cp\u003EI have, and it is still a .txt document.\u003C/p\u003E\n"}]}