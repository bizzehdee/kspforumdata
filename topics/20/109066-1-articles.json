{"TopicId":109066,"ForumId":20,"TopicTitle":"Hide parts from physics","CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-13T17:35:14Z","PageNum":1,"Articles":[{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-13T17:35:14Z","Content":"Hello.\n\nI was wondering if it were possible to have parts inside a cargo bay or fairing be \u0027hidden\u0027 from physics calculations.\n\nFor example, imagine I have a 150 part shuttle. 100 parts belong to the shuttle. 50 parts belong to the cargo bay payload. How do I write a mod that prevents physics calculations from being applied to those 50 \u0027hidden\u0027 parts? Basically, the craft, in the eyes of the game, becomes a 100 part craft, with the entire cargo bay contents being just 1 physics-less part. When the cargobay opens, it revenrts to being calculated as 150 parts.\n\nOne phenomenon you may see is very long payloads swaying inside long fairings. Can the same as above be applied here?"},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-24T13:56:29Z","Content":"I found the mod: Hangars by Allista (not yet updated to 1.0.2)\n\nIt unloads vessels contained in the hangars.\n\nIs it possible to add this code for current cargo bays?"},{"CreatedByName":"Matrixmage","CreatedById":66153,"CreatedDateTime":"2015-05-25T20:43:36Z","Content":"You\u0027d need to write a module that detected stowed parts and made their rigidbody\u0027s kinematic (last time I checked that was the best way to disable physics on a part)."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-25T21:18:02Z","Content":"\u003E \n\u003E You\u0027d need to write a module that detected stowed parts and made their rigidbody\u0027s kinematic (last time I checked that was the best way to disable physics on a part).\n\nBy writing a module, you mean learning C# and writing a dll?"},{"CreatedByName":"Matrixmage","CreatedById":66153,"CreatedDateTime":"2015-05-25T21:23:47Z","Content":"Well sorta... I\u0027ll try to make one, give me a short while."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-25T21:28:55Z","Content":"\u003E \n\u003E Well sorta... I\u0027ll try to make one, give me a short while.\n\n\u002BRep for actually trying ![:sealed:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif)"},{"CreatedByName":"Matrixmage","CreatedById":66153,"CreatedDateTime":"2015-05-25T21:39:37Z","Content":"Here you go, I\u0027ve not tested it yet, but the people on the modders irc think it looks good. Give me any feedback, if it works well I\u0027ll make a proper thread for the mod.\n\n[http://www./download/j3332b6xw96hphi/Stowed_Physics_Disabler.zip](http://www./download/j3332b6xw96hphi/Stowed_Physics_Disabler.zip)"},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-25T22:13:52Z","Content":"\u003E \n\u003E Here you go, I\u0027ve not tested it yet, but the people on the modders irc think it looks good. Give me any feedback, if it works well I\u0027ll make a proper thread for the mod.\n\u003E [http://www./download/j3332b6xw96hphi/Stowed_Physics_Disabler.zip](http://www./download/j3332b6xw96hphi/Stowed_Physics_Disabler.zip)\n\n![tumblr_m6odkq8jNo1qbolbn.gif](https://media.tumblr.com/tumblr_m6odkq8jNo1qbolbn.gif)\n\nThis could be THE next solution to high-part count spaceships. This and that part-welding mod that hasn\u0027t updated to 1.0.2 yet.\n\nPS: A modder IRC? Interesting."},{"CreatedByName":"Matrixmage","CreatedById":66153,"CreatedDateTime":"2015-05-25T22:24:54Z","Content":"I take it to be a success?\n\nI\u0027ve been looking into something similar-ish to this for merging large chunks of structure, like the 1x1 and 2x2 armor plates. I\u0027ve currently nicknamed the idea \u0022Physics-Weld\u0022 and it would work by merging the component on a part that handles physics (called a rigidbody) into one component for a group of parts, so that the physics would be calculated on a group scale rather than a individual scale.\n\nThe modder irc is \u0022#kspmodders\u0022, you can access it from kiwiirc (same client as the #kspofficial link on the top of the forums) or on \u0022webchat.esper.net\u0022."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-25T23:35:06Z","Content":"\u003E \n\u003E I take it to be a success?\n\u003E I\u0027ve been looking into something similar-ish to this for merging large chunks of structure, like the 1x1 and 2x2 armor plates. I\u0027ve currently nicknamed the idea \u0022Physics-Weld\u0022 and it would work by merging the component on a part that handles physics (called a rigidbody) into one component for a group of parts, so that the physics would be calculated on a group scale rather than a individual scale.\n\u003E \n\u003E The modder irc is \u0022#kspmodders\u0022, you can access it from kiwiirc (same client as the #kspofficial link on the top of the forums) or on \u0022webchat.esper.net\u0022.\n\nI\u0027m sorry :/\n\nEither it did not work, or it did not have the intended effect.\n\nI built a 227 part plane, containing about 211 parts inside MK2 cargo bays. \n\n*Normally,* it would lag like a 227 part plane when the cargobay is open, but fly like a 15 part plane when the cargobays are closed. \n\nResults: 134 fps when viewing the space center. 15 fps in the SPH. 12 fps in flight (cargo bay open) and 12 fps with the cargobay closed. More interestingly, the fps seemed to slow down over time, but that might just be flight behaviour. \n\nImgur album:\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/wz0Ak)\n\n**Edited \u003Ctime datetime=\u00222015-05-25T23:40:28Z\u0022 title=\u002205/25/2015 11:40  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 25, 2015\u003C/time\u003E by TruthQuark**"},{"CreatedByName":"Tontow","CreatedById":64552,"CreatedDateTime":"2015-05-26T03:49:49Z","Content":"I would use this so long as the weight of the stuff in storage was added to the weight of the container when the container is closed. \n\nAlso, it would be good to have the center of mass of the container be calculated based on what was stored in the container."},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-26T17:54:22Z","Content":"Doing what that code does is a bad idea that will break other mods."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-05-26T18:06:54Z","Content":"\u003E \n\u003E Doing what that code does is a bad idea that will break other mods.\n\nI... well, I haven\u0027t seen it do anything so far.\n\nMatrixmage, does it only work under specific conditions? I continued testing by launching a craft with cargobay closed or open, and it has no effect on the contents of the cargobay for the moment..."},{"CreatedByName":"Matrixmage","CreatedById":66153,"CreatedDateTime":"2015-05-27T20:07:29Z","Content":"Based on info from SilverFox (great idea, right?) it\u0027s supposed to pack (physics unload) a part when it\u0027s \u0022shielded from the air-stream\u0022, which is apparently when it\u0027s in a cargo bay or fairing."}]}