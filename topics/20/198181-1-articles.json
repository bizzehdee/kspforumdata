{"TopicId":198181,"ForumId":20,"TopicTitle":"Use any part as a camera to view from?","CreatedByName":"Xavier513","CreatedById":103114,"CreatedDateTime":"2020-11-18T05:00:48Z","PageNum":1,"Articles":[{"CreatedByName":"Xavier513","CreatedById":103114,"CreatedDateTime":"2020-11-18T05:00:48Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to create a mod to use any part in a vessel as a camera. With this mod, I can view from any part in a more realistic way, without any new camera parts.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, I can view from\u00A0the bottom of engines, or view from pods in forward direction, or view from the top edge of fuel tanks(so I can see booster seperation).\n\u003C/p\u003E\n\u003Cp\u003E\nBut I\u0027m\u00A0not familiar with either manipulating cameras or\u00A0Unity engine, so I\u0027m not quite sure about how to achieve this.\n\u003C/p\u003E\n\u003Cp\u003E\nMy thoughts about this mod are:\n\u003C/p\u003E\n\u003Cp\u003E\n1, Add a button in the right-click menu of each part.\n\u003C/p\u003E\n\u003Cp\u003E\n2, If the button is clicked, the mod will create a new Camera object for this part.\n\u003C/p\u003E\n\u003Cp\u003E\n3, Init the Camera object with the part\u0027s orientation(position \u002B rotation), and some offsets.\n\u003C/p\u003E\n\u003Cp\u003E\n4, Activate the new Camera, and view from it.\n\u003C/p\u003E\n\u003Cp\u003E\nI have to figure out how to implement each step, but the first question is, am I right about those steps? If I\u0027m wrong, what is the right way to do that?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-11-18T05:02:09Z\u0022 title=\u002211/18/2020 05:02  AM\u0022 data-short=\u00223 yr\u0022\u003ENovember 18, 2020\u003C/time\u003E by Xavier513\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Xt007","CreatedById":197003,"CreatedDateTime":"2020-11-18T19:51:04Z","Content":"\n\u003Cp\u003E\nStart with taking a look at hullcamvds that\u0027ll give you an idea of what\u0027s required.\u00A0 A camera is essentially a part module you have to slap on to existing parts at the very least, so patching all parts in ksp with a camera may have unintended consequences\n\u003C/p\u003E\n"},{"CreatedByName":"Xavier513","CreatedById":103114,"CreatedDateTime":"2020-11-19T09:04:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223883310\u0022 data-ipsquote-contentid=\u0022198181\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221605729064\u0022 data-ipsquote-userid=\u0022197003\u0022 data-ipsquote-username=\u0022Xt007\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Xt007 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStart with taking a look at hullcamvds that\u0027ll give you an idea of what\u0027s required.\u00A0 A camera is essentially a part module you have to slap on to existing parts at the very least, so patching all parts in ksp with a camera may have unintended consequences\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAfter some learning and testing, following codes can do the trick:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EFlightCamera.fetch.SetFoV(50);\nCamera.main.nearClipPlane = 0.1f;\nFlightCamera.fetch.SetTarget(null);\n\nGameObject parent = new GameObject(\u0022parent\u0022);\nFlightCamera.fetch.transform.parent = parent.transform;\n\nPart p = ... // any part in the vessel\nparent.transform.position = p.transform.position \u002B p.transform.rotation * new Vector3(offsetX, offsetY, offsetZ);\nparent.transform.rotation = Quaternion.AngleAxis(offsetDegree, engine.transform.right) * Quaternion.LookRotation(-p.transform.up, -p.transform.forward); // this is the correct rotation for engine parts\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt simply changes position and rotation of player\u0027s camera.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the camera seems to rotate around an point at about 75 units far, still don\u0027t know how to change that point and make it closer\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-11-19T09:08:05Z\u0022 title=\u002211/19/2020 09:08  AM\u0022 data-short=\u00223 yr\u0022\u003ENovember 19, 2020\u003C/time\u003E by Xavier513\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2020-11-19T15:07:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223883510\u0022 data-ipsquote-contentid=\u0022198181\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221605776693\u0022 data-ipsquote-userid=\u0022103114\u0022 data-ipsquote-username=\u0022Xavier513\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Xavier513 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut the camera seems to rotate around an point at about 75 units far, still don\u0027t know how to change that point and make it closer\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI could be way off here, but you could try maing a model (a .mu), that only contains an empty transform, that could be added into any part .cfg as an additional model, and manipulted with some existing config modules and keys, or using some mods\u0027 modules \u0026amp; keys (such as B9 PartSwitch, mebbe vOv)... especially position and rotation\u003Cbr\u003E\u003Cbr\u003E\nBut then, you\u0027ld still want some ind of plugin as a controller\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-11-19T15:07:35Z\u0022 title=\u002211/19/2020 03:07  PM\u0022 data-short=\u00223 yr\u0022\u003ENovember 19, 2020\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"}]}