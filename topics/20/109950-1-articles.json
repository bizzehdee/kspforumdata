{"TopicId":109950,"ForumId":20,"TopicTitle":"Hacking your libraries: Fuel tank CFG editing","CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-05-19T14:18:44Z","PageNum":1,"Articles":[{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-05-19T14:18:44Z","Content":"Oh god I have no idea where to post this. I guess the tutorials would be fitting.\n\nSo me and you are about to break the rules. Ever wanted to customize your game, but don\u0027t know how? Well, starting with the basics, we\u0027re going to go in and change the part functionality. To start off, we\u0027ll do some fuel tanks. They\u0027re easy to work with, and are all around a good starter piece. So, let\u0027s get to it.\n\nIf you\u0027re not already running for the hills, go ahead and find the part files for your T-100 fuel tank. Once interfaced with, you should see this:\n\n    PART{    name = fuelTankSmallFlat    module = Part    author = Squad    mesh = model.mu    rescaleFactor = 1.0    node_stack_top = 0.0, 0.3125, 0.0, 0.0, 1.0, 0.0, 1    node_stack_bottom = 0.0, -0.3125, 0.0, 0.0, -1.0, 0.0, 1    node_attach = 0.5, 0.0, 0.0, 1.0, 0.0, 0.0    TechRequired = basicRocketry    entryCost = 1200    cost = 150    category = FuelTank    subcategory = 0    title = FL-T100 Fuel Tank    manufacturer = Jebediah Kerman\u0027s Junkyard and Spacecraft Parts Co    description = The T100 is a miniature fuel tank made to be even more adorable than its bigger brother, the T200. Handle stoically and with care.    attachRules = 1,1,1,1,0    mass = 0.0625    dragModelType = default    maximum_drag = 0.2    minimum_drag = 0.2    angularDrag = 2    crashTolerance = 6    maxTemp = 2000 // = 2900    breakingForce = 50    breakingTorque = 50    bulkheadProfiles = size1, srf    RESOURCE    {        name = LiquidFuel        amount = 45        maxAmount = 45    }    RESOURCE    {        name = Oxidizer        amount = 55        maxAmount = 55    }    RESOURCE    {        name = PressurizedAir        amount = 70        maxAmount = 70\n\nRight away, if you\u0027ve never seen this before, it may look a little complicated, but trust me, it\u0027s not that bad. ...No, I mean, I may be experienced, but I\u0027m \n\ntelling you, you\u0027ll get it! Why the face?\n\nNo, that\u0027s okay, hide your enthusiasm. You\u0027re doing a great job. I see that smirk... Or is it just me? Whatever. Anyway, on with the demonstration.\n\nTo make this as easy as possible, I\u0027ll run down the entire file and explain every function that you can safely change 1 by 1. As that implies, there are some \n\nparts that I wouldn\u0027t recommend editing, unless you\u0027re changing the physical characteristics of the part.\n\n    name = [insertNameHere] The name of your part in this field is very important. Format it like this: fuelTankName. Each word is capitalized, except the first.  All of the words are grouped together. The name of your part is what data in your Persistent.sfs and quicksave.sfs files reference whena part name matches. To put it less confusingly, if your tank\u0027s name was \u0022oxyTank\u0022 or something like that, when you stick that part on a craft, the craft file uses that name as a reference. It searches through the part files to find anything with a name of \u0022oxyTank\u0022.   After it finds the match, it uses the other various data to position it on your craft.The name of the tank you opened is fuelTankSmallFlat. If you were to change that, any crafts you have that are using that part will    despawn from the game, because the part will be missing. Any more insights you need? Let me know above.\n\n    module = PartEvery part, except compound parts, will have this listed. Struts and fuel lines, for example, have this: module = CompundPart. Unless  you\u0027re creating/editing those, always list module = Part.\n\n    mesh = model.muEver part comes with a .mu file. It is to tell the game where the part\u0027s colliders are, as well as textures. This cannot be edited without specific part tools, and Unity, so I wouldn\u0027t bother with it. \n\n    rescaleFactor = 1.0This line tells each part how scaled it is. For example, 1.5 would multiply the model\u0027s size by 1.5 extending from the center. This    also includes colliders and textures. Basically Tweakscale without the mod. \n\n    node_stack_top = X.X, X.X, X.X, X.X, X.X, X.X, Xnode_stack_bottom = X.X, X.X, X.X, X.X, X.X, X.X, XLarge green marks are on the top and bottom of your tanks. These are your attachment nodes. All these 0.0s, 1.0, or something crazy    like that... to  put it simply, here\u0027s what\u0027s going on:node_stack_top/bottom = X axis, Y axis, Z, axis, angle X, angle Y, angle Z, nodeScaleNode stack top dictates where you\u0027re node attachment is on the top of your part. Bottom does the same for the bottom.Right now, with every value at 0.0, the nodes are at the center of the model. To change that, here\u0027s a quick rundown:To add to your X axis will push your tank\u0027s node to the left[?]. To subtract from it will push your node the opposite direction. To add to your Z axis will push your tank\u0027s node forward. To subtract from it will push your node backward.If you want your part to be inline, keep these at 0.0.To add to your Y axis will lift your node upwards relative to the ground. To subtract from it will push it downward.This is what you want to change. Whatever value you set your node_stack_top Y value to, put the negative equivalent of that number in  the node_stack_bottom field. You can even look back at your tank to check that.If you\u0027re not changing your X and Z axes, then leave your angle X and angle Z values at 0.0.Leave your angle Y value intact, unless you\u0027re looking to make a radial part, in which case, why are you here?Your node scale is the last digit, and dictates how large your attachment node will be. Your digits are 0, 1, and 2.Any more insights you need? Let me know above.\n\n    TechRequired = [Tech tree catagory]Editing this will let you change how early or how late a part can be unlocked in the tech tree. Either you can have everything right   away, or nothing.\n\n    cost = [$] This will dictate how much money you spend per part you purchase. Perfect for economic crash scenarios!\n\n    catagory = [name of subsection]This will allow you to change where the part is located in your library.\n\n    title = [part name]Here, you can name any part whatever you want. It is really of no significance other than having something to call it.\n\n    description = []The flavor text for each part. Be sure to make it witty and humorous, otherwise it will never be fun. DO IT!!!\n\n    attachRules = X,X,X,X,XEach variable is represented by either 1, or 0. 1 = True. 0 = False. The variables, in order, represent:Stack, surface attachment, allow stack, allow surface attachment, allow collision.I highly recommend that your settings be 1,1,1,1,0. If you change that 0 to a 1, bad things will happen. Trust me. This is basically useful for if you want to allow part to attach to others based on the surface, rather than the nodes, or if you want a part to only link radially, or be linked  to radially. \n\n    mass = X.XThis is your part\u0027s structural mass. The number is represented in tons. This amount will not be displayed in the game.\n\n    crashTolerance = XHow much force the part can endure before exploding.\n\n    maxTemp = XHow hot your part can get before exploding. Can be influenced in many ways.\n\n    RESOURCEUnderneath here is what you put in the tank. If it was a liquid fuel tank, then your resource\u0027s name would be \u0022liquidFuel\u0022You can then input the amount it can hold, and the amount it has. This will affect the part\u0027s overall mass in the VAB/SPH. Each unit of fuel has a density [mass per unit]. Keep that in mind while changing this. You can add resources to any tank, or remove them all to use it as a fuselage.\n\nSo those are the basics for the contents of the fuel tank CFG. Did I miss anything? Let me know above. Later on, we might get to different parts, provided I remember to sleep.\n\n**Edited \u003Ctime datetime=\u00222015-07-04T10:47:43Z\u0022 title=\u002207/04/2015 10:47  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 4, 2015\u003C/time\u003E by Xannari Ferrows**"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2015-05-19T20:32:47Z","Content":"\u003E \n\u003E Oh god I have no idea where to post this.\n\nModding question moved to the modding sub-forum. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-05-19T20:46:37Z","Content":"\u003Cknocks on=\u0022\u0022 door=\u0022\u0022\u003E\u003C/knocks\u003E\n\nHello, sir, I\u0027m here today to talk to you about our Lord and Savior [ModuleManager](https://forum.kerbalspaceprogram.com/threads/55219). Ialdaboth and Sarbian died for our direct editing sins so that we may enjoy the benefits of a single script file. Thank you."},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-05-19T21:11:42Z","Content":"\u003E \n\u003E \u003Cknocks on=\u0022\u0022 door=\u0022\u0022\u003E\u003Cp\u003EHello, sir, I\u0027m here today to talk to you about our Lord and Savior \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55219\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager\u003C/a\u003E. Ialdaboth and Sarbian died for our direct editing sins so that we may enjoy the benefits of a single script file. Thank you.\u003C/p\u003E\u003C/knocks\u003E\n\n\u0022You must spread some reputation around before giving it to regex again.\u0022 \u002B1 for Sarbs witnesses. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-19T22:43:39Z","Content":"\u003E \n\u003E \u003Cknocks on=\u0022\u0022 door=\u0022\u0022\u003E\u003Cp\u003EHello, sir, I\u0027m here today to talk to you about our Lord and Savior \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55219\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager\u003C/a\u003E. Ialdaboth and Sarbian died for our direct editing sins so that we may enjoy the benefits of a single script file. Thank you.\u003C/p\u003E\u003C/knocks\u003E\n\nGo forth and and integrate."},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-05-19T23:00:03Z","Content":"\u003E \n\u003E Modding question moved to the modding sub-forum. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI really need to sleep..."},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2015-05-20T03:30:25Z","Content":"\u003E \n\u003E Go forth and and integrate.\n\n\u00C3\u00A2\u00CB\u2020\u00C2\u00ABe^x^= f(u^n^)\n\nNow that that\u0027s out of the way...\n\nOP, do you know if modding the attachment points of wings will cause anything screwy to happen? I hate that the structural swept wings attach at the rear corner, and I\u0027d like to move it to the middle of the attachment edge. I assume this will completely screw up how Center of Lift is determined. There\u0027s about 20-30 parts I want to mod the attachment points for because they\u0027re completely unintuitive. They\u0027re also lousy for Editor Extensions\u0027 Vertical Snap.\n\nHow about rotating the attachment points of all the control surfaces? I think 1.x swapped a few axes, and I\u0027d like to put them back in pre-1.0 position, and make them all consistent.\n\nDoes the size of the node determine occlusion, or joint strength? I\u0027d set everything to 0 or 1, because the size 2\u0027s are hell in the editor."},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-05-20T07:46:52Z","Content":"\u003E \n\u003E OP, do you know if modding the attachment points of wings will cause anything screwy to happen? I hate that the structural swept wings attach at the rear corner, and I\u0027d like to move it to the middle of the attachment edge. I assume this will completely screw up how Center of Lift is determined. There\u0027s about 20-30 parts I want to mod the attachment points for because they\u0027re completely unintuitive. They\u0027re also lousy for Editor Extensions\u0027 Vertical Snap.\n\nUnfortunately this is not a part issue. I don\u0027t know exactly why the Swept elevon starts going nuts, but I do know that it is an issue with the functionality of Angle snap rather than the part itself. I get the same thing with swept wings as well, but I don\u0027t know if that\u0027s a common thing. You\u0027ll have to look into far more advanced modding to fix this bug.\n\nEDIT: ...Or you would turn them perpendicular to the structure, then it will work like a regular wing. Jeez\n\n\u003E \n\u003E How about rotating the attachment points of all the control surfaces? I think 1.x swapped a few axes, and I\u0027d like to put them back in pre-1.0 position, and make them all consistent.\n\nGood question. If I remember correctly, change your Angle X to 0.0, and your Angle Y to 1.0 in the node\\_attach parameter.\n\n\u003E \n\u003E Does the size of the node determine occlusion, or joint strength? I\u0027d set everything to 0 or 1, because the size 2\u0027s are hell in the editor.\n\nNow this I\u0027m not sure about for radially attached parts. The test results turned up the same for each, so I\u0027m assuming no. I\u0027d personally just keep it at 1.\n\n**Edited \u003Ctime datetime=\u00222015-07-04T10:40:16Z\u0022 title=\u002207/04/2015 10:40  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 4, 2015\u003C/time\u003E by Xannari Ferrows**"},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2015-05-23T01:45:38Z","Content":"Thanks for the info, Xannari. I\u0027ll have to look into it when I\u0027m not working quite so much."}]}