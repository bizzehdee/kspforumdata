{"TopicId":147326,"ForumId":20,"TopicTitle":"CFG Tweaking on Welded Parts","CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-09-09T08:09:00Z","PageNum":1,"Articles":[{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-09-09T08:09:00Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m\u00A0creating some weldments with a lot of different parts in them. \u00A0So far all is going well, but I want to tweak a few things. \u00A0I expect the answer to most of these questions will be \u0022it can\u0027t be done\u0022, but I\u0027m hoping players out there with deep under-the-hood knowledge of the game might have a trick or two up their sleeves\u00A0that would help me.\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nIs there any way to customize the text of the action button (\u0022Toggle Display\u0022) and/or display message (\u0022Display: 309.29\u003Cspan style=\u0022color:rgb(34,34,34);font-family:arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;line-height:19.2px;text-align:left;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003E\u00B0\u003C/span\u003E\u0022)\u00A0of the\u00A0\u003Cem\u003EModuleEnviroSensor\u003C/em\u003E\u00A0module?\u003Cbr\u003E\u003Cbr\u003E\nI have a multi-sensor science part that includes an\u00A0Accelerometer, Barometer, Gravimeter and\u00A0Thermometer. \u00A0It works great, except it would be nice to know which \u0022Toggle Display\u0022 button corresponds to which instrument. \u00A0Also since the pressure display has no units, I sometimes get confused as to which measurement\u00A0it represents.\u003Cbr\u003E\u003Cem\u003E\u003Cstrong\u003EEdit: \u003C/strong\u003EKSP 1.2 added units for pressure, making the readings bit less ambiguous.\u003C/em\u003E\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nSimilarly, I\u0027d like to change the\u00A0\u0022Run Analysis\u0022 button to say \u0022Run Ore Analysis\u0022 on a weldment\u00A0that includes a Surface Scanner (\u003Cem\u003EModuleResourceScanner\u003C/em\u003E and \u003Cem\u003EModuleAnalysisResource\u003C/em\u003E).\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nI have an\u00A0\u003Cem\u003ESC-9001 Science Jr.\u003C/em\u003E\u00A0(material bay) and\u00A0\u003Cem\u003EMystery Goo\u2122 Containment Unit\u003C/em\u003E\u00A0in my weldment. \u00A0Both include a\u00A0\u003Cem\u003EModuleAnimateGeneric\u003C/em\u003E module with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EanimationName = Deploy\u003C/span\u003E. \u00A0I included both modules in the final part. \u00A0When I click the action button for either (\u0022Open Doors\u0022 or \u0022Deploy Goo\u0022), it always does the material bay doors animation, and never the Mystery Goo cover animation. \u00A0I\u0027m guessing that\u0027s because \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EanimationName\u003C/span\u003E is the same for both. \u00A0Anything I can do to work around this (e.g. legacy animation module syntax?)\u003Cbr\u003E\u003Cstrong\u003E\u003Cem\u003EEdit: \u003C/em\u003E\u003C/strong\u003E\u003Cem\u003EJust realized the Mystery Goo \u0022Deploy\u0022 button never actually shows up for the stock part (just the \u0022Observe\u0022 one).\u003Cbr\u003E\u003Cstrong\u003EEdit: \u003C/strong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/96670-112-ubiozur-welding-ltd-continued-233-2016-06-13/\u0026amp;do=findComment\u0026amp;comment=2749317\u0022 rel=\u0022\u0022\u003ESolved\u003C/a\u003E by copying one of the mu files, editing it to rename\u00A0\u0022Deploy\u0022 to \u0022Geploy\u0022, changing the CFG to match, and referencing that model instead of the stock one.\u003C/em\u003E\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nThe\u00A0material bay and Mystery Goo animations don\u0027t play when the \u0022Observe\u0022 action is clicked. \u00A0The appropriate science report still comes up fine, I just don\u0027t get the animation. \u00A0Similarly, the\u00A0\u003Cem\u003ECommunotron DTS-M1 \u003C/em\u003E(which is part of a different weldment)\u00A0doesn\u0027t extend when I click the \u0022Transmit\u0022 action button, although the animation works just fine when I click the \u0022Extend\u0022 and \u0022Retract\u0022 buttons. \u00A0(All of the above work\u00A0fine in the stock part, of course). \u00A0Any ideas to\u00A0troubleshoot\u00A0why the animations are no longer \u0022bound\u0022 to those buttons in my part?\u003Cbr\u003E\u003Cem\u003E\u003Cstrong\u003EEdit: \u003C/strong\u003EIn fact, any idea how the game knows which animation to run for a\u00A0\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Module#ModuleScienceExperiment\u0022 rel=\u0022external nofollow\u0022\u003EModuleScienceExperiment\u003C/a\u003E? \u00A0I can\u0027t figure out how they\u0027re wired up in the stock parts. \u00A0--\u0026gt; ANSWER: Via the FxModules attribute (points to index of module providing the animation effect).\u003Cbr\u003E\u003Cstrong\u003EEdit: \u003C/strong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147389-how-does-modulescienceexperiment-know-which-animation-to-trigger/\u0026amp;do=findComment\u0026amp;comment=2749347\u0022 rel=\u0022\u0022\u003ESolved\u003C/a\u003E by rearranging ModuleAnimationGeneric modules, and ensuring FxModules / DeployFxModules / etc. points to\u00A0correct index. \u00A0e.g.\u00A0For Communotron DTS-M1, a key thing is to ensure\u00A0DeployFxModules attribute of ModuleDataTransmitter maps to the index of the module providing the animation (i.e. index of ModuleAnimationGeneric for KSP 1.1 and optionally KSP\u00A01.2, or ModuleDeployableAntenna if using that for KSP 1.2\u002B), where the first MODULE in the part has index 0.\u003C/em\u003E\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nThe stock \u003Cem\u003ECommunotron DTS-M1\u003C/em\u003E\u00A0has a \u0022Blink Lights\u0022 action button visible in the hangar. \u00A0But it doesn\u0027t seem to do anything? \u00A0I think it corresponds to the second \u003Cem\u003EModuleAnimateGeneric\u003C/em\u003E\u00A0(the \u003Cem\u003EpulseEmitMediumDishAntenna\u003C/em\u003E one)\u00A0in\u00A0\u003Cem\u003ESquad/Parts/Utility/commsAntennaDTS-M1/commsAntennaDTS-M1.cfg\u003C/em\u003E, and possibly\u00A0\u003Cem\u003EmediumDishAntenna_Emit.dds\u003C/em\u003E in the same directory. \u00A0When is that animation supposed to be played?\u003Cbr\u003E\u003Cem\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E Solved; this unused action / animation was removed in KSP 1.2.\u003C/em\u003E\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003EDoes anyone know what it means when the \u003C/span\u003E\u003Cem style=\u0022line-height:1.6;\u0022\u003EGRAVMAX Negative Gravioli Detector\u003C/em\u003E\u003Cspan style=\u0022line-height:1.6;\u0022\u003E\u00A0display\u00A0says \u0022\u003C/span\u003E\u003Cem style=\u0022line-height:1.6;\u0022\u003ENO POWER!\u003C/em\u003E\u003Cspan style=\u0022line-height:1.6;\u0022\u003E\u0022? \u00A0I get that on my weldment (even though there\u0027s lots of power, both on this part and others), but when the sensor is slapped onto my craft by itself it works fine.\u003Cbr\u003E\u003Cem\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147326-cfg-tweaking-on-welded-parts/\u0026amp;do=findComment\u0026amp;comment=2749190\u0022 rel=\u0022\u0022\u003EWorked around\u003C/a\u003E by adding a fake sensor after all the other \u003C/em\u003EEnviroSensorModule\u003Cem\u003E\u0027s\u003C/em\u003E.\u003C/span\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E\u00A0Actually, now solved. Turns out this symptom was due to part module reindexing - more info \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/96670-12-ubiozur-welding-ltd-continued-234-2016-10-16/\u0026amp;do=findComment\u0026amp;comment=2817741\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E. \u00A0While the workaround has made things more reliable for me, it isn\u0027t required if you are very careful about ordering/indexing of your part modules and avoid removing\u00A0any modules from your part (except the very last one)\u00A0once any craft have made use of that part (even if the craft only exists in the Editor). \u00A0Alternatively, after you edit a part, rebuild any crafts utilizing it from scratch (more precisely, remove the part from your craft and re-add it).\u003C/em\u003E\u003Cbr\u003E\u003Cimg alt=\u00227lv7amt.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/7lv7amt.png\u0022\u003E\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nIdeally I\u0027d like to tackle these via CFG edits if possible (or mu file edits where necessary);\u00A0not by programming a new mod.\n\u003C/p\u003E\n\u003Cp\u003E\nHere are my hand-tailored CFG files for the welded parts,\u00A0and craft files (both pre- and post-weld) in case you want to play with them:\u00A0\u003Ca href=\u0022https://tinyurl.com/Hopper-Mk1-Beta1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://tinyurl.com/Hopper-Mk1-Beta1\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPlease don\u0027t ask \u0022Why do you want to weld all those parts together?\u0022 \u00A0I have my reasons, and don\u0027t feel like debating them :-).\n\u003C/p\u003E\n\u003Cp\u003E\nps. Not sure if this is the right place for this thread; feel free to move it if not. \u00A0I didn\u0027t put it in the UbioZur thread as I felt my questions have\u00A0more to do with CFG files than welding.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-23T07:42:38Z\u0022 title=\u002210/23/2016 07:42  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 23, 2016\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003Cbr\u003EUpdate with progress\n\u003C/span\u003E\n"},{"CreatedByName":"TheCardinal","CreatedById":22874,"CreatedDateTime":"2016-09-09T08:45:50Z","Content":"\n\u003Cp\u003E\nAdd-on discussions would probably have been the best place for this thread, but never mind that.\n\u003C/p\u003E\n\u003Cp\u003E\nThe customisation (as you describe) is not possible with cfg edits. Some customising is only possible by byte-for-byte editing of the dll\u0027s (f.e. buttontext) or customising the source code. It depends on the license of the files if you\u0027re allowed to do so. If this is done, it will apply to all usage of the dll\u0027s, so also when the appropriate part (f.e. the thermometer) is added to a craft. Whenever the same module is used by more parts, the same modification will be shown for all those parts.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve done a lot of cfg edits (and welding). In general, welding is great for reducing partcount but becomes unpractical when combining too many parts with special functions. Not everything will work. Weld a beam with a lot of lights on it. The shape and image are as expected but not all lights will work.\n\u003C/p\u003E\n"},{"CreatedByName":"trooperMNG","CreatedById":139886,"CreatedDateTime":"2016-09-09T09:49:40Z","Content":"\n\u003Cp\u003E\nIIRC you shouldn\u0027t put too many science or utility parts in the same welding. They are prone to malfunctions and bugs... welding is good for reducing part count of structural parts (like huge station trusses)\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-09-09T22:04:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222748122\u0022 data-ipsquote-contentid=\u0022147326\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473414580\u0022 data-ipsquote-userid=\u0022139886\u0022 data-ipsquote-username=\u0022trooperMNG\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, trooperMNG said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIIRC you shouldn\u0027t put too many science or utility parts in the same welding. They are prone to malfunctions and bugs... welding is good for reducing part count of structural parts (like huge station trusses)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood advice. \u00A0Although\u00A0from my own experience, it works fine if you\u0027re careful (e.g. no more than one of a particular type of part), use some common sense, and manually tailor the CFG\u0027s afterward, particularly the applied MODULE\u0027s. \u00A0Of course I\u0027m still experimenting :-)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-09T23:00:23Z\u0022 title=\u002209/09/2016 11:00  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 9, 2016\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-09-10T02:55:48Z","Content":"\n\u003Cp\u003E\nSo it looks like the \u0022NO POWER!\u0022 thing (#6) occurs whenever a part contains multiple \u003Cem\u003EModuleEnviroSensor\u003C/em\u003E modules. \u00A0The last one shows this message in its display, instead of the expected value. \u00A0For what it\u0027s worth, I opened a \u0022very low\u0022 priority \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/11243\u0022 rel=\u0022external nofollow\u0022\u003Ebug report\u003C/a\u003E. \u00A0In the meantime I worked around by adding a final \u0022fake\u0022 module to the part:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-javascript prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EMODULE \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\tname \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EModuleEnviroSensor\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\tsensorType \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E NULL\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt\u0027s a hack, and results in an extra (but harmless) action button. \u00A0But it seems to work.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-10T03:10:43Z\u0022 title=\u002209/10/2016 03:10  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 10, 2016\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2016-09-10T21:11:30Z","Content":"\n\u003Cp\u003E\nMoving to Add-on Discussions.\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-09-15T03:44:31Z","Content":"\n\u003Cp\u003E\nHmm.. tried to reproduce in stock game (no mods) and not getting this. \u00A0Looks like it\u0027s either due to some combination of modules on my part, or a mod...\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-09-15T09:30:49Z","Content":"\n\u003Cp\u003E\nTurns out it was due to part module reindexing, that was getting subtly triggered by a disappearing FlagDecal module.\n\u003C/p\u003E\n"}]}