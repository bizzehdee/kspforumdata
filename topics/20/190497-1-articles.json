{"TopicId":190497,"ForumId":20,"TopicTitle":"Coder Request - KAS(no-EVA\u002BVAB) or animated attachment nodes","CreatedByName":"bcink","CreatedById":181027,"CreatedDateTime":"2019-12-20T03:59:11Z","PageNum":1,"Articles":[{"CreatedByName":"bcink","CreatedById":181027,"CreatedDateTime":"2019-12-20T03:59:11Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EWhat\u0027s needed:\u003C/strong\u003E\u003Cbr\u003E\nThe ability to animate a part and have an attachment node move with the animation.\u003Cbr\u003E\nPistons perform this function but the robotic module implementation is too rudimentary; a single object moves vertical with possibility for slave objects beneath it.\u003Cbr\u003E\nWe need to be able to animate an object and have the attachment node move along with the object\u0027s animation.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EWhy this is needed:\u003C/strong\u003E\u003Cbr\u003E\nSkycrane drops\u003Cbr\u003E\nExtending docking ports\u003Cbr\u003E\nTethers\n\u003C/p\u003E\n\u003Cp\u003E\nThe closest implementation to this is functional within Kerbal Attachment System, but the connections require EVA with a Kerbal and connecting these things\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EPartial solution:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAuto-\u0022docking\u0022 of the \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E winch \u002B connector - this would at least allow for connecting up with things (ship tethers / cranes) and then tethering off to a distance without needing to EVA to make it happen\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBetter solution:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAuto-docking of \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E winch \u002B connector as well as the ability to connect these parts in \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E before launch - this will allow ship tethers, cranes, skycrane drops and extending docking ports\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBest Solution:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nModuleAnimateTotallyNotGenericPhysicsAndUnityGod - Attachment nodes referenced by transform name will move with an animation during the animation sequence (object physics of main and connected objects needing to be accounted for)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI realize the challenges and implications of this and why it has not been done, but that doesn\u0027t change the need :}\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2019-12-20T07:00:28Z","Content":"\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002271262\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4148473659\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/170880-16x-animated-decouplers-142/\u0026amp;do=embed\u0022 style=\u0022height:212px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002242872\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed1370531941\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/123402-tutorial-soft-docking-docking-ports/\u0026amp;do=embed\u0022 style=\u0022height:212px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"bcink","CreatedById":181027,"CreatedDateTime":"2019-12-20T13:03:42Z","Content":"\n\u003Cp\u003E\nUnfortunately, neither of these fulfills the ask.\n\u003C/p\u003E\n\u003Cp\u003E\nThe docking ports there function more like extending docking tubes, where you can play any animation you want, but the part isn\u0027t dockable until the animation is played. You can\u0027t dock and then have an animation play and have the node move. (Can\u0027t dock to an extended tube and then contract it with a ship connected to the \u0022dockingnode.\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nAnd, regardless of the complexity of the decouple animation, the need is for objects to be connected while animated.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2019-12-20T13:26:57Z","Content":"\n\u003Cp\u003E\nHave no idea if either of these are anything close to being able to do anything like you want, but have you poked them?\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https://github.com/blowfishpro/B9AnimationModules\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blowfishpro/B9AnimationModules\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand BDAnimationModules ... check the forks... buncha people have forked/updated it ...\u003Cbr\u003E\nRaidernick and LGG seem to have the most recent changes/updates ... vOv\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https://github.com/BahamutoD/BDAnimationModules/network/members\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/BahamutoD/BDAnimationModules/network/members\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"DoctorDavinci","CreatedById":150019,"CreatedDateTime":"2019-12-20T18:13:33Z","Content":"\n\u003Cp\u003E\nBD Armory has some of what you are looking for\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/PapaJoesSoup/BDArmory/blob/master/BDArmory/Modules/ModuleMovingPart.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/PapaJoesSoup/BDArmory/blob/master/BDArmory/Modules/ModuleMovingPart.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe above is part of the turret attach node deal that allows for mounting parts to a turret (machine guns etc...) and having them rotate with the turret ... not sure where the other code snippets are but they should be somewhere in BD Armory Continued\n\u003C/p\u003E\n\u003Cp\u003E\nHope this helps\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2019-12-20T18:23:47Z","Content":"\n\u003Cp\u003E\nYou might look at\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022180392\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed9070771459\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/175881-171-animatedattachment-214-now-with-animated-surface-attachments-2019-06-02/\u0026amp;do=embed\u0022 style=\u0022height:214px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"bcink","CreatedById":181027,"CreatedDateTime":"2019-12-20T23:45:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223719406\u0022 data-ipsquote-contentid=\u0022190497\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221576866227\u0022 data-ipsquote-userid=\u0022181994\u0022 data-ipsquote-username=\u0022Mecripp\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Mecripp said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou might look at\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022180392\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed5476286099\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/175881-171-animatedattachment-214-now-with-animated-surface-attachments-2019-06-02/\u0026amp;do=embed\u0022 style=\u0022height:214px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHoly crap!!!! This is truly a hidden gem to say the least. The implications of this are incredible!!! And the best part is, it works 100% exactly as described in its glorious simplicity - test tether docking port was 100% functional immediately.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 width=\u0022459\u0022 data-embed-src=\u0022https://www.youtube.com/embed/wpzp2dUUAyU?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nand gravity tether test was 100% successful as well:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 width=\u0022459\u0022 data-embed-src=\u0022https://www.youtube.com/embed/j_Dil2cVqg4?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI guess I\u0027ll be kept busy for a while.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you!\n\u003C/p\u003E\n"},{"CreatedByName":"bcink","CreatedById":181027,"CreatedDateTime":"2019-12-24T17:57:09Z","Content":"\n\u003Cp\u003E\nSad revelation today.... although the parts can move provided they are initially connected in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, when the vessels are not attached and then they dock in-game, the animation no longer moves the object.\n\u003C/p\u003E\n\u003Cp\u003E\nThis appears to be a recognized limitation with reference attach nodes (like those used for docking port functionality) in the scripting per the following snippet:\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(53,60,65);font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003E\nTransform referenceTransform = GetReferenceTransform();\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(53,60,65);font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 // If this attach node is defined in the cfg, then bail out now, it will not be movable\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 if (referenceTransform == null)\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 if (debugPeriodic)\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 printf(\u0022Skipping cfg based node: %s\u0022, stackAttachNode.id);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 return;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(53,60,65);font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(53,60,65);font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003E\nI continue to believe this implementation is more difficult than it lets on to be.\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(53,60,65);font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003E\nThe parts are created, so at least they are ready if this ever gets figured out or another solution comes to mind...\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(53,60,65);font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003E\n\u003Cimg alt=\u0022GKND1o5.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002291.49\u0022 height=\u0022559\u0022 width=\u0022611\u0022 src=\u0022https://i.imgur.com/GKND1o5.png\u0022\u003E\u003Cimg alt=\u0022maBfh24.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002293.07\u0022 height=\u0022672\u0022 width=\u0022722\u0022 src=\u0022https://i.imgur.com/maBfh24.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Katten","CreatedById":180392,"CreatedDateTime":"2020-02-16T20:27:50Z","Content":"\n\u003Cp\u003E\nHello!\u003Cbr\u003E\u003Cbr\u003E\nI believe the problem here is that to make nodes movable, they must be defined in the model, rather than in the cfg file. So if you update your model to use that system, maybe it will work!\n\u003C/p\u003E\n\u003Cp\u003E\nI tried to create a part like this now, but I was unable to get it fully running. Funny thing tho - the stock mk2DockingPort.cfg has a docking module that uses this system already. Actually when I loaded it in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, I didn\u0027t see any docking node point...\u003Cbr\u003E\nSeems I have some mod issues to solve with 1.9 first... maybe one of mine, or another one.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"}]}