{"TopicId":126984,"ForumId":20,"TopicTitle":"Getting USAF Orion into the Community Tech Tree","CreatedByName":"fallingphoenix","CreatedById":154451,"CreatedDateTime":"2015-12-04T06:29:46Z","PageNum":1,"Articles":[{"CreatedByName":"fallingphoenix","CreatedById":154451,"CreatedDateTime":"2015-12-04T06:29:46Z","Content":"\n\u003Cp\u003E\nAs of now, near as I can tell, the Orion drive doesn\u0027t show up anywhere on the tech tree, so I tried adding a MM config in the mod\u0027s folder, but it doesn\u0027t seem to be working. Here is a sample of the format I\u0027m using for each part in the .cfg.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\n@PART[USAFOrion3Engine]:FOR[USAFOrion]:NEEDS[CommunityTechTree]\n{\n\t@TechRequired = improvedNuclearPropulsion\n}\u003C/pre\u003E\n\u003Cp\u003E\nThe name in brackets for the PART should be the \u0027name = x\u0027 from the part\u0027s config, right? And the FOR piece should be the...name of the mod\u0027s .dll? Does it matter where in the mod folder in gamedata that you put the .cfg with this bit in it? Am I doing anything obviously wrong?\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-12-15T12:12:55Z","Content":"\n\u003Cp\u003E\nWelcome to the forums!\n\u003C/p\u003E\n\u003Cp\u003E\nI believe that the name of the mod, in clauses such as FOR and AFTER, is the name of the GameData subfolder where it lives. (DLL name wouldn\u0027t work, since a mod can include multiple DLLs. TweakableEverything is a notable example.)\n\u003C/p\u003E\n\u003Cp\u003E\nYou\u0027re correct about the \u0022name\u0022 field.\n\u003C/p\u003E\n\u003Cp\u003E\nNote that the @ operator is only for modifying an existing value. If the part does not already have a TechRequired node, then @TechRequired will do nothing.\u00A0 Try leaving off the @ (which means \u0022add new\u0022) or replacing it with a % (which means \u0022add new or edit existing\u0022).\n\u003C/p\u003E\n\u003Cp\u003E\nIt doesn\u0027t matter where in GameData you put your .cfg. In fact, for the sake of maintainability, I\u0027d recommend not putting it in the mod\u0027s folder; make your own folder in GameData and put all your own .cfg files there, that way they don\u0027t get disturbed when you update the mod.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you really need the FOR clause here?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-15T12:13:14Z\u0022 title=\u002212/15/2015 12:13  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 15, 2015\u003C/time\u003E by Snark\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-12-16T09:54:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222323439\u0022 data-ipsquote-contentid=\u0022126984\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221450181575\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo you really need the FOR clause here?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s proper form, I believe. It declares that this config should be loaded during the load phase of this mod in particular. Configs without load pass clause will get sorted into a legacy pass, where you can\u0027t really be sure of the order the configs will get loaded in. Which is sometimes not an issue, but sometimes can be, if there are multiple configs trying to edit the same values.\n\u003C/p\u003E\n\u003Cp\u003E\nEven more proper form, however, is to not use the FOR[mod] pass for your own tweaks. It\u0027s meant to be used for the mod itself - for example, RemoteTech ships a whole lot of incomplete part files and then applies a number of conditional config patches at startup during the FOR[mod] pass that complete the configs. As a user writing a custom tweak, you\u0027re better off using the AFTER[mod] pass, to ensure that your config gets loaded afterwards and thus remains the last writer (because last writer wins). Or even better: use the FINAL pass, which applies your config after absolutely everything else has loaded. It also doesn\u0027t require you to target any mod, meaning it removes a source of errors. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"}]}