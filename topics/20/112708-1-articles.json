{"TopicId":112708,"ForumId":20,"TopicTitle":"Hacking your libraries: Creating rescources","CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-06-11T22:37:51Z","PageNum":1,"Articles":[{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-06-11T22:37:51Z","Content":"Admit it, you\u0027ve wanted at least one type of resource added to the game at one point.\n\nHowever, it\u0027s not really difficult to add resources of your design into the game.\n\nThe basic resources of the game include:\n\nLiquid fuel, Oxidizer, Solid fuel, Monopropellant, Xenon gas, Electric charge, and the Ablator.\n\nThe more complex resources are:\n\nOre, Intake air, and EVA propellant.\n\nA quick look in the file named \u0022ResourcesGeneric.cfg\u0022 will show all of these. Go ahead and open it up.\n\n...Oh, you\u0027re too cool to do it, huh? Well I\u0027m not moving on until you open it...\n\n...Yeah, that\u0027s what I thought. Very well, moving swiftly on.\n\nA look inside said file reveals all of this nonsense:\n\n    RESOURCE_DEFINITION{  name = LiquidFuel  density = 0.005  unitCost = 0.8  hsp = 2010  flowMode = STACK_PRIORITY_SEARCH  transfer = PUMP  isTweakable = true}RESOURCE_DEFINITION{  name = Oxidizer  density = 0.005  unitCost = 0.18  hsp = 1551  flowMode = STACK_PRIORITY_SEARCH  transfer = PUMP  isTweakable = true}RESOURCE_DEFINITION{  name = SolidFuel  density = 0.0075  unitCost = 0.6  hsp = 920  flowMode = NO_FLOW  transfer = NONE  isTweakable = true}RESOURCE_DEFINITION{  name = MonoPropellant  density = 0.004  unitCost = 1.2  hsp = 3000  flowMode = STAGE_PRIORITY_FLOW  transfer = PUMP  isTweakable = true}RESOURCE_DEFINITION{  name = XenonGas  density = 0.0001    unitCost = 4  hsp = 120  flowMode = STAGE_PRIORITY_FLOW  transfer = PUMP  isTweakable = true}RESOURCE_DEFINITION{  name = ElectricCharge  density = 0  unitCost = 0  hsp = 0  flowMode = ALL_VESSEL  transfer = PUMP  isTweakable = true}RESOURCE_DEFINITION{  name = IntakeAir  density = 0.005  unitCost = 0  hsp = 10  flowMode = ALL_VESSEL  transfer = PUMP  isTweakable = false}RESOURCE_DEFINITION{  name = EVA Propellant  density = 0  unitCost = 0  hsp = 3000  flowMode = NO_FLOW  transfer = PUMP  isTweakable = false}RESOURCE_DEFINITION{  name = Ore  density = 0.010  unitCost = 0.02  flowMode = ALL_VESSEL  transfer = PUMP  isTweakable = true  color = 1,0,1}RESOURCE_DEFINITION{  name = Ablator  density = 0.001  hsp = 100  flowMode = NO_FLOW  transfer = NONE  isTweakable = True  unitCost = 0.5}\n\nNow calm down, it\u0027s not hard at all.\n\nWe\u0027re going to go over the basic and complex resources separately, and to not clog up space, I\u0027ll put each category into their own Spoiler tags.\n\n\u003E \n\u003E Basic resource production is fairly easy. Here\u0027s a rundown on each conditional for the basic resources:\n\u003E \n\u003E Name = [resource] \n\u003E \n\u003E The name of your resource is very important. Whenever a part is configured to store a type of resource, the game searches for a resource of that \n\u003E \n\u003E name in any folder named \u0022resources\u0022 just after a data subsection folder, which is in the GameData folder. If your resource file is located outside of this \n\u003E \n\u003E sector of data, it will not work.\n\u003E \n\u003E Density = [X]\n\u003E \n\u003E The density of your part is pretty self explanatory. It is the amount your part weighs per unit [represented in tons].\n\u003E \n\u003E hsp = [X]\n\u003E \n\u003E HSP is the specific heat of your resource, and is directly related to insulation. Specific heat is how much heat per resource density is required to raise the \n\u003E \n\u003E temperature by a full 1 degrees Kelvin, or 1.8 Rankine.\n\u003E \n\u003E FlowMode = [flow method]\n\u003E \n\u003E The flow mode dictates how your resource will move about your vessel when requested by a part. There are 4 in total, and they are:\n\u003E \n\u003E STACK\\_PRIORITY\\_SEARCH \n\u003E \n\u003E Will tell a part to drain a resource from the first part on the stack, rather than evenly across each part on it at once. After that part is drained, it searches for the next one on the stack, and works toward the other end. This can be overridden by using Fuel lines, which automatically prioritizes the part it is first attached to [The giving end].\n\u003E \n\u003E STAGE\\_PRIORITY\\_FLOW \n\u003E \n\u003E Will tell a part to drain evenly from every part containing that resource connected to a stack. It will not transfer fuel across parts that are separated by \n\u003E \n\u003E stages. This can also be overridden with fuel lines, by draining all the fuel from the first part it is connected to, it will continue draining evenly through every other part that isn\u0027t influenced by it.\n\u003E \n\u003E ALL\\_VESSEL\n\u003E \n\u003E Will tell a part to drain a resource from anywhere on the entire vessel.\n\u003E \n\u003E NO\\_FLOW\n\u003E \n\u003E Will prevent any automatic movement from one part to another.\n\u003E \n\u003E Transfer = [transfer method]\n\u003E \n\u003E The transfer method dictates whether or not you can move any resource from one part to another manually. If you want it to be able to move between \n\u003E \n\u003E parts, then enter PUMP. If you want to it stay put, then enter NONE.\n\u003E \n\u003E IsTweakable = [True/False]\n\u003E \n\u003E This will determine if you will be able to edit the levels of your resource while building your craft.\n\u003E \n\u003E UnitCost = [X]\n\u003E \n\u003E How much money your part costs per unit of your resource.\n\u003E \n\u003E That\u0027s the general gist of it all.\n\u003E \n\u003E These parameters will define the physical characteristics of your resource [except unitCost]. You can mold them however you like, but just remember that no one likes an overpowered resource.\n\n\u003E \n\u003E Complex resource production in itself isn\u0027t too difficult, but complex resources are not defined by their characteristics, but how \n\u003E \n\u003E they\u0027re modeled in the game. \n\u003E \n\u003E Ore is defined as a Global, Planetary, and Biome Resource. So, what are those exactly? They\u0027re not too dissimilar to each other, but here\u0027s what they are:\n\u003E \n\u003E GLOBAL\\_RESOURCE\n\u003E \n\u003E This will determine how it will be scattered around each planet, unless otherwise defined. Go ahead and open up the Ore.cfg. Actually, no, I\u0027ll do it for you \n\nEDIT: For some reason, the editor has separated these two. I literally cannot force them together, even with a complete T.G.A revert, so I would appreciate if someone would help out with it [the one above is first]\n\n\u003E \n\u003E ResourceName = Ore  \n\u003E  ResourceType = 0  \n\u003E   \n\u003E  Distribution  \n\u003E  {  \n\u003E  PresenceChance = 100  \n\u003E  MinAbundance = 1  \n\u003E  MaxAbundance = 15  \n\u003E  Variance = 50  \n\u003E  Dispersal = 3  \n\u003E  }  \n\u003E }  \n\u003E   \n\u003E PLANETARY\\_RESOURCE  \n\u003E {  \n\u003E  ResourceName = Ore  \n\u003E  ResourceType = 0  \n\u003E  PlanetName = Sun  \n\u003E   \n\u003E  Distribution  \n\u003E  {  \n\u003E  PresenceChance = 0  \n\u003E  MinAbundance = 0  \n\u003E  MaxAbundance = 0  \n\u003E  Variance = 0  \n\u003E  Dispersal = 0  \n\u003E  }  \n\u003E }  \n\u003E   \n\u003E PLANETARY\\_RESOURCE  \n\u003E {  \n\u003E  ResourceName = Ore  \n\u003E  ResourceType = 0  \n\u003E  PlanetName = Jool  \n\u003E   \n\u003E  Distribution  \n\u003E  {  \n\u003E  PresenceChance = 0  \n\u003E  MinAbundance = 0  \n\u003E  MaxAbundance = 0  \n\u003E  Variance = 0  \n\u003E  Dispersal = 0  \n\u003E  }  \n\u003E }  \n\u003E   \n\u003E BIOME\\_RESOURCE  \n\u003E {  \n\u003E  ResourceName = Ore  \n\u003E  ResourceType = 0  \n\u003E  PlanetName = Eve  \n\u003E  BiomeName = Explodium Sea  \n\u003E   \n\u003E  Distribution  \n\u003E  {  \n\u003E  PresenceChance = 0  \n\u003E  MinAbundance = 0  \n\u003E  MaxAbundance = 0  \n\u003E  Variance = 0  \n\u003E  Dispersal = 0  \n\u003E  }  \n\u003E }  \n\u003E   \n\u003E BIOME\\_RESOURCE  \n\u003E {  \n\u003E  ResourceName = Ore  \n\u003E  ResourceType = 0  \n\u003E  PlanetName = Kerbin  \n\u003E  BiomeName = Water  \n\u003E   \n\u003E  Distribution  \n\u003E  {  \n\u003E  PresenceChance = 0  \n\u003E  MinAbundance = 0  \n\u003E  MaxAbundance = 0  \n\u003E  Variance = 0  \n\u003E  Dispersal = 0  \n\u003E  }  \n\u003E }  \n\u003E   \n\u003E BIOME\\_RESOURCE  \n\u003E {  \n\u003E  ResourceName = Ore  \n\u003E  ResourceType = 0  \n\u003E  PlanetName = Laythe  \n\u003E  BiomeName = The Sagen Sea  \n\u003E   \n\u003E  Distribution  \n\u003E  {  \n\u003E  PresenceChance = 0  \n\u003E  MinAbundance = 0  \n\u003E  MaxAbundance = 0  \n\u003E  Variance = 0  \n\u003E  Dispersal = 0  \n\u003E  }  \n\u003E }  \n\u003E   \n\u003E BIOME\\_RESOURCE  \n\u003E {  \n\u003E  ResourceName = Ore  \n\u003E  ResourceType = 0  \n\u003E  PlanetName = Laythe  \n\u003E  BiomeName = Crescent Bay  \n\u003E   \n\u003E  Distribution  \n\u003E  {  \n\u003E  PresenceChance = 0  \n\u003E  MinAbundance = 0  \n\u003E  MaxAbundance = 0  \n\u003E  Variance = 0  \n\u003E  Dispersal = 0  \n\u003E  }  \n\u003E }\n\u003E \n\u003E \n\u003E     [FONT=Verdana]GLOBAL_RESOURCE[/FONT]{\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Let\u0027s begin cracking this code.\n\u003E \n\u003E As stated before, GLOBAL\\_RESOURCE affects each body in the Kerbol system. \n\u003E \n\u003E Distribution will determine how the resources is laid out through every body. So, the subsections of Distribution include:\n\u003E \n\u003E PrescenceChance = [X]\n\u003E \n\u003E This will determine the probability that your resource will even appear at all. I recommend keeping this at 100, but you can change as you like.\n\u003E \n\u003E MinAbundance = [X]\n\u003E \n\u003E The lowest possible ratio of a resource deposit defined by an arbitrary unit of measurement depending on the planetary characteristics.\n\u003E \n\u003E MaxAbundance = [X]\n\u003E \n\u003E The highest possible ratio of a resource deposit defined by an arbitrary unit of measurement depending on the planetary characteristics.\n\u003E \n\u003E \n\u003E \n\u003E Variance = [X]\n\u003E \n\u003E I\u0027m not exactly sure about this one to be honest, but I think it has something to do with the percentage of deviation based on the average ratio of the \n\u003E \n\u003E amount of a resource any planet/moon/asteroid has. I recommend keeping this to 50.\n\u003E \n\u003E Dispersal = [X]\n\u003E \n\u003E I\u0027m not really sure about this one either, but I think it\u0027s how varied your density of deposits differ from one another from deposit to deposit.\n\u003E \n\u003E All you need are these few lines and you\u0027re good to go, but if you want the resource in question to behave differently on one or more planet than the rest of them, then you can override the GLOBAL RESOURCE with a PLANETARY RESOURCE.\n\u003E \n\u003E Literally the only difference between the two is this line:\n\u003E \n\u003E PlanetName = [name of body] This will let you modify the way your resource behaves for any one planet/moon. You can add as many as you like if you want every planet/moon to be different.\n\u003E \n\u003E Intake air is a resource that can be found on any planet/moon with an atmosphere [but is limited to Kerbin and Laythe by the intakes themselves.] To create something like this, you\u0027d have to get into far more advance modding [atmospheric pressures, dealings with the PQS, a whole bunch of math, and it\u0027s not nearly as easy]\n\u003E \n\u003E I\u0027m not exactly sure what you would need a fuel that acts like EVA fuel for... Just sayin\u0027. Feel free to give me ideas.\n\u003E \n\u003E Regardless, EVA fuel is a very unique resource. As long as a Kerbal is inside a capsule, it does not exist; only coming into existence when a Kerbal is on EVA, \n\u003E \n\u003E or in the command chair. This would also require some pretty silly modding skills, so I\u0027d stick to Ore if anything.\n\nI do hope these were helpful in at least some way. Hopefully you\u0027ll go into your resource folder and put that brain to use if you desire to.\n\nHere\u0027s the two first resources I\u0027ve ever implemented myself, as example:\n\n    [FONT=Verdana]RESOURCE_DEFINITION[/FONT]{  name = PressurizedAir  density = 0.0001  unitCost = 0.004  hsp = 3000  flowMode = STAGE_PRIORITY_FLOW  transfer = PUMP  isTweakable = true}RESOURCE_DEFINITION{  name = LiquidHydrogen  density = 0.0000012  unitCost = 0  hsp = 120  flowMode = STAGE_PRIORITY_FLOW  transfer = PUMP  isTweakable = true}\n\n**Edited \u003Ctime datetime=\u00222015-08-13T05:49:06Z\u0022 title=\u002208/13/2015 05:49  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 13, 2015\u003C/time\u003E by Xannari Ferrows**\n  \nStill trying to merge those two."},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-06-12T01:51:04Z","Content":"Also, if you\u0027re a modder you might want to check out the [Community Resource Pack](https://forum.kerbalspaceprogram.com/threads/91998-1-0-2-Community-Resource-Pack-04-2-2015-05-15) to see if what you want has already been made, whether you can use it, and possibly contribute if you\u0027re interested. This makes sure your mod what uses resources is compatible with the USI catalog, the Near Future packages, KSPI-E, and even Real Fuels."},{"CreatedByName":"kerbinspacecommand","CreatedById":145686,"CreatedDateTime":"2015-09-16T08:45:18Z","Content":"Do you think you could provide some direction on atmospheric and exospheric resource development, I\u0027m running into some issues getting these two types to work. They appear in-game when I scan a planet but I can\u0027t for the life of me get a collector to gather them, or even register their existence."},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-09-16T10:36:28Z","Content":"\u003E \n\u003E Do you think you could provide some direction on atmospheric and exospheric resource development, I\u0027m running into some issues getting these two types to work. They appear in-game when I scan a planet but I can\u0027t for the life of me get a collector to gather them, or even register their existence.\n\nThe coordinate systems use defined reference points and proximity measurements to determine how much of a resource you can get when it is externally harvested, and their existence is not defined by the parameters the resource definitions. You\u0027ll have to modify the coordinate definitions themselves, which to be honest, I have never attempted."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-09-16T10:45:15Z","Content":"Just a small clarification: hsp (specific heat) has defined units, it\u0027s in kilojoules per Kelvin-tonne. Or more explicitly, the number of kilojoules of heat required to change the temperature of one tonne of the resouce by one Kelvin. Density and insulation are not really relevant to this number, it\u0027s a physical property of the resource itself."}]}