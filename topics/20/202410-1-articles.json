{"TopicId":202410,"ForumId":20,"TopicTitle":"Need help writing MM patch.","CreatedByName":"Kerbals_of_Steel","CreatedById":206555,"CreatedDateTime":"2021-05-15T15:52:49Z","PageNum":1,"Articles":[{"CreatedByName":"Kerbals_of_Steel","CreatedById":206555,"CreatedDateTime":"2021-05-15T15:52:49Z","Content":"\n\u003Cp\u003E\nTrying my hand writing a \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E patch to add stock cargo capacity to two parts from Suicidal Insanity\u0027s \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/192855-18x-111x-stockish-project-orion-v182-update-12292020/\u0022 rel=\u0022\u0022\u003EProject Orion\u003C/a\u003E mod. Here is the patch as written:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n@PART[SPO_CrewSpine_Short]\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0MODULE\u003Cbr\u003E\n\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ModuleInventoryPart\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0InventorySlots = 12\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0packedVolumeLimit = 1500\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n}\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n@PART[SPO_375mHab]\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0MODULE\u003Cbr\u003E\n\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ModuleInventoryPart\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0InventorySlots = 24\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0packedVolumeLimit = 5000\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIt works, but TOO well. For some reason it adds two stock inventories to each part, each with the listed specs (12 slots/1500L for the small one, 24 slots/5000L for the larger.) Each one works fine, loading and unloading parts independently Pic:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022k6Vudb8.png\u0022 data-ratio=\u002290.00\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/k6Vudb8.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNow I could work around it just by halving the specs, but I can\u0027t figure out why it is giving me two separate inventories in the first place. I\u0027m really new at writing \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E patches, so please ELI5.\n\u003C/p\u003E\n\u003Cp\u003E\nKoS\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-15T16:16:19Z\u0022 title=\u002205/15/2021 04:16  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 15, 2021\u003C/time\u003E by Kerbals_of_Steel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2021-05-17T08:00:42Z","Content":"\n\u003Cp\u003E\nI can only think it\u2019s linked to the crew seats ie 2 seats so adds it twice thinking it\u2019s seat inventory? Does the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E log throw anything up? (In main KSP folder/patches/ModuleManager).\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2021-05-17T09:49:24Z","Content":"\n\u003Cp\u003E\nIn Module Manager syntax (\u003Ca href=\u0022https://github.com/sarbian/ModuleManager/wiki/Module-Manager-Syntax\u0022 rel=\u0022external nofollow\u0022\u003Elink\u003C/a\u003E) writing\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0MODULE { ... }\u00A0\u003C/span\u003Ewill insert a new\u00A0 module in the configuration.\n\u003C/p\u003E\n\u003Cp\u003E\nTo change an existing configuration, usually you want the @ or \u0027at\u0027 operator, and the name of the module in square brackets.\u00A0 The % operator, like @, says to make a change but % will also add the entry if it is not already in the configuration.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0 \u00A0 @MODULE[ModuleInventoryPart] {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 %InventorySlots = 12\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 %packedVolumeLimit = 1500\u003Cbr\u003E\n\u00A0 \u00A0 }\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-17T10:06:31Z\u0022 title=\u002205/17/2021 10:06  AM\u0022 data-short=\u00223 yr\u0022\u003EMay 17, 2021\u003C/time\u003E by OHara\u003C/strong\u003E\n\u003Cbr\u003Ebetter link\n\u003C/span\u003E\n"}]}