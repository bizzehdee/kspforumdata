{"TopicId":32307,"ForumId":20,"TopicTitle":"Is there a simple config edit to fix ASAS?","CreatedByName":"Jm419","CreatedById":57266,"CreatedDateTime":"2013-06-10T15:15:22Z","PageNum":1,"Articles":[{"CreatedByName":"Jm419","CreatedById":57266,"CreatedDateTime":"2013-06-10T15:15:22Z","Content":"\n\u003Cp\u003EEveryone\u0027s had it happen; a rocket gets shaken apart on launch because the ASAS constantly overcorrects. While it seems to have gotten to be less of an issue on recent updates (or maybe I\u0027m just getting to be a better engineer), the fact remains; ASAS is fairly broken. ASAS lies at the heart of the \u0022MOAR struts\u0022 joke - but if ASAS didn\u0027t need to constantly overcorrect, the struts wouldn\u0027t be as necessary. What if we\u0027re looking at this from the wrong way - instead of MOAR struts (gasp, blasphemy!), what if we can fix the ASAS module?\u003C/p\u003E\u003Cp\u003EI, like a few others, have two separate game downloads - one of them is pure, vanilla stock, and the other includes modded parts. The mod parts (I\u0027m looking at you, Saturn V) often aren\u0027t up to the quality of the stock parts, but a lot of the time they can be fixed with config edits. You know - turning down the gimbal torque often makes an engine far more stable, or reducing the weight of the part can help too. \u003C/p\u003E\u003Cp\u003EStill, I\u0027m not a prolific modder by any means, and my skills are pretty limited in the config editors. I confess I\u0027ve not looked at the ASAS config itself - this was just an idea that struck me. Is there a particular value, or set of values, we can change - the magnitude of the corrections, for instance - that would allow the ASAS to function more appropriately, and once it reaches a center value, to stay there, instead of fluctuating?\u003C/p\u003E\u003Cp\u003EI realize ASAS may be broken for gameplay purposes, but we\u0027re all engineers - this is what engineers do, solve problems, right? So, what do you think? Is there a simple way to fix ASAS to prevent the constant overcorrections?\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-06-10T15:39:11Z","Content":"\n\u003Cp\u003EIn the part.cfg, you can set the parameters of the PID controller.\u003C/p\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2013-06-10T15:57:53Z","Content":"\n\u003Cp\u003EThe problem is that there is no one right set of parameters for the PID, in order to minimize the overcorrecting without causing undercorrecting, the PID values have to change per craft, and probably have to change per stage of each craft.\u003C/p\u003E\n"},{"CreatedByName":"Jm419","CreatedById":57266,"CreatedDateTime":"2013-06-10T16:59:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Eric S\u0022 data-cite=\u0022Eric S\u0022\u003E\u003Cdiv\u003EThe problem is that there is no one right set of parameters for the PID, in order to minimize the overcorrecting without causing undercorrecting, the PID values have to change per craft, and probably have to change per stage of each craft.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, so it would have to constantly update. Unless you could have more than a single ASAS, and tailor each individual system for the stage it\u0027s connected to. That might be more trouble than it\u0027s worth.\u003C/p\u003E\n"},{"CreatedByName":"Psycho0124","CreatedById":61118,"CreatedDateTime":"2013-06-10T17:24:59Z","Content":"\n\u003Cp\u003EIn-flight tunable ASAS is what we need. A right-click menu and a few sliders. Maybe buttons for Forbid RCS/Engine gimbal/control surfaces. It would be glorious. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"jwenting","CreatedById":57735,"CreatedDateTime":"2013-06-10T17:49:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Jm419\u0022 data-cite=\u0022Jm419\u0022\u003E\u003Cdiv\u003EAh, so it would have to constantly update. Unless you could have more than a single ASAS, and tailor each individual system for the stage it\u0027s connected to. That might be more trouble than it\u0027s worth.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewhich would inevitably lead to ASAS being integrated into the engine and no longer a component...\u003C/p\u003E\n"},{"CreatedByName":"Phenom Anon X","CreatedById":66562,"CreatedDateTime":"2013-06-10T19:41:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Psycho0124\u0022 data-cite=\u0022Psycho0124\u0022\u003E\u003Cdiv\u003EIn-flight tunable ASAS is what we need. A right-click menu and a few sliders. Maybe buttons for Forbid RCS/Engine gimbal/control surfaces. It would be glorious. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis. I really like that idea.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2013-06-10T20:35:07Z","Content":"\n\u003Cp\u003ETo make things simple, they can just add a \u0022Gain\u0022 value which you can change in-game, so people don\u0027t have to mess with all 3 proportional, integral and derivative values. Higher gain = more accurate but more likely to oscillate. This what real industrial servo controllers have. Basically there are 10 gain values (1-10), each value maps to a set of P I and D values.\u003C/p\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2013-06-10T21:04:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003ETo make things simple, they can just add a \u0022Gain\u0022 value which you can change in-game, so people don\u0027t have to mess with all 3 proportional, integral and derivative values. Higher gain = more accurate but more likely to oscillate. This what real industrial servo controllers have. Basically there are 10 gain values (1-10), each value maps to a set of P I and D values.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf it can be done, that sounds like a very good way to \u0022fix\u0022 this problem. I certainly wouldn\u0027t mind adjusting a single value in flight.\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-06-10T21:16:06Z","Content":"\n\u003Cp\u003EASAS is already integrated in the engine. The part just says \u0022do that ASAS thing\u0022.\u003C/p\u003E\n"},{"CreatedByName":"soranno","CreatedById":58351,"CreatedDateTime":"2013-06-10T21:48:44Z","Content":"\n\u003Cp\u003EI came upon a temporary fix that solved all my problems with asas not too long ago, and it should see me through until the system is improved.\u003C/p\u003E\u003Cp\u003EI turned off ASAS, and then the next time I didn\u0060t put any on the ship to begin with.\u003C/p\u003E\n"},{"CreatedByName":"MajorNr01","CreatedById":43823,"CreatedDateTime":"2013-06-10T21:52:21Z","Content":"\n\u003Cp\u003EI just so happen to possess a plugin that allows tuning the PID values in flight. I have already uploaded it to the Space Port but it always takes its time to actually appear anywhere in the addon lists. Probably pending approval or something... It doesn\u0027t utilize sliders, just punching in numbers but that already pretty much does the trick. With this little baby I usually manage to control any kind of space-craft. You just have to find a good combination of PID parameters and adjust the overall damping properly and voil\u00C3\u0192\u00C2\u00A0, ASAS works like a charm, keeping my space-craft pointed in the right direction. It is so useful in fact, that you can even use it on entire space-stations!\u003C/p\u003E\n"},{"CreatedByName":"DerekL1963","CreatedById":57091,"CreatedDateTime":"2013-06-10T23:20:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Eric S\u0022 data-cite=\u0022Eric S\u0022\u003E\u003Cdiv\u003EThe problem is that there is no one right set of parameters for the PID, in order to minimize the overcorrecting without causing undercorrecting, the PID values have to change per craft, and probably have to change per stage of each craft.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYet, Mechjeb manages a glass smooth continuous gravity turn regardless of the vehicle it\u0027s placed on. (Presuming the vehicle has sufficient control authority.) The fact is, control algorithms are fairly simple and widely known - there\u0027s absolutely no need for precise values known in advance. ASAS is simply a very, very, very crappy implementation that\u0027s never been fixed.\u003C/p\u003E\n"},{"CreatedByName":"Procyon","CreatedById":57510,"CreatedDateTime":"2013-06-10T23:37:29Z","Content":"\n\u003Cp\u003EThe only thing I use ASAS for is holding a heading. thought that was all it was ever intended to be. I don\u0027t have any problems with it.\u003C/p\u003E\n"},{"CreatedByName":"Brun","CreatedById":68293,"CreatedDateTime":"2013-06-10T23:47:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EYet, Mechjeb manages a glass smooth continuous gravity turn regardless of the vehicle it\u0027s placed on.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is really only true for extremely rigid (i.e. lots of struts, or a stout build) rockets. Long rockets that aren\u0027t strutted to death tend to develop a low-frequency \u0022wobble\u0022 or \u0022whirl\u0022 vibration mode that is excited by the way MechJeb handles its course corrections - specifically, it appears that flexing of the rocket can cause the nose and the engines to be pointing in different directions.\u003C/p\u003E\u003Cp\u003EAlso, MechJeb accomplishes its smooth turns (on suitably built rockets) by spamming ASAS on and off. On most of my launches the ASAS light is constantly flickering on and off - it\u0027s rarely on continuously until I reach orbit and tell Smart A.S.S. to hold an orientation.\u003C/p\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2013-06-10T23:59:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DerekL1963\u0022 data-cite=\u0022DerekL1963\u0022\u003E\u003Cdiv\u003EYet, Mechjeb manages a glass smooth continuous gravity turn regardless of the vehicle it\u0027s placed on. (Presuming the vehicle has sufficient control authority.) The fact is, control algorithms are fairly simple and widely known - there\u0027s absolutely no need for precise values known in advance. ASAS is simply a very, very, very crappy implementation that\u0027s never been fixed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMechJeb is a lot better, but it\u0027s far from perfect. Turn on RCS and watch it practically vibrate trying to hold it\u0027s heading. Though to be honest, I think that\u0027s more a limitation of the controls available to MechJeb.\u003C/p\u003E\u003Cp\u003EI\u0027m not saying that ASAS couldn\u0027t be better. Yes, dynamic tuning is possible and would virtually eliminate this kind of problem. On the other hand, with the number of other things they\u0027re working on, I\u0027d rather have a simple partial solution to tide me over until they have the time to do a proper solution.\u003C/p\u003E\n"},{"CreatedByName":"DerekL1963","CreatedById":57091,"CreatedDateTime":"2013-06-11T05:23:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Brun\u0022 data-cite=\u0022Brun\u0022\u003E\u003Cdiv\u003EAlso, MechJeb accomplishes its smooth turns (on suitably built rockets) by spamming ASAS on and off. On most of my launches the ASAS light is constantly flickering on and off - it\u0027s rarely on continuously until I reach orbit and tell Smart A.S.S. to hold an orientation.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt also accomplishes smooth turns on rockets not equipped with ASAS too - which means that while it \u003Cem\u003Euses\u003C/em\u003E ASAS, it doesn\u0027t \u003Cem\u003Erely\u003C/em\u003E on ASAS. (A difference roughly as subtle as that between a firecracker and a thermonuclear weapon.)\u003C/p\u003E\n"},{"CreatedByName":"Sephta","CreatedById":66104,"CreatedDateTime":"2013-06-11T06:04:14Z","Content":"\n\u003Cp\u003EThe problem is not the part itself (asas or mechjeb). Yes, they do correct and over-steer a lot in some cases.\u003C/p\u003E\u003Cp\u003ESource in most cases is the flex of the rocket itself: you have a constant movement between the mass, orientation of thrust and the orientation of your guidance system. The guidance system tries to compensate the steering error, over adjusts the thrust vector and the rocket bends in the other direction. There you go: oscillating wobble, that rips your ship apart sooner rather than later. That problem can\u0027t be fixed with any change of any values for the asas or mechjeb. You\u0027d have to analyse every bit of your rocket and calculate where your control systems and engines induce the bending force. Easiest solution here is more struts. Another is: place the mechjeb part or your asas as close to the engine as possible (or the source of your best steering force to be more precise). As long as your rocket is rigid, but also flexible enough that you don\u0027t get a resonance in your wobble, asas and mechjeb can do their job properly. In the end it\u0027s more the question of good engineering than modding.\u003C/p\u003E\n"},{"CreatedByName":"samstarman5","CreatedById":12469,"CreatedDateTime":"2013-06-11T06:50:35Z","Content":"\n\u003Cp\u003EI have to wonder when ASAS and SAS parts become power-dependent, that we might also get the option to toggle individual SAS parts for power consumption. This might also provide for what you want running for a sense of how much SAS you want running at any one time.\u003C/p\u003E\n"},{"CreatedByName":"alexffru","CreatedById":67391,"CreatedDateTime":"2013-06-11T11:08:18Z","Content":"\n\u003Cp\u003EA lot of the problem with SAS is that it tries to keep a rocket on the EXACT heading it was set to, and therefore it tends to to to far to each side of the target heading. \u003C/p\u003E\u003Cp\u003EWould it not be a relatively simple fix to have a dead area of 1-2 degrees (adjustable) and while the SAS will aim to get it to the correct heading it will be satisfied if its in the approximate area; therefore not going crazy if the rocket is 0.01 degrees of target.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2013-06-11T12:34:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022alexffru\u0022 data-cite=\u0022alexffru\u0022\u003E\u003Cdiv\u003EA lot of the problem with SAS is that it tries to keep a rocket on the EXACT heading it was set to, and therefore it tends to to to far to each side of the target heading. \u003Cp\u003EWould it not be a relatively simple fix to have a dead area of 1-2 degrees (adjustable) and while the SAS will aim to get it to the correct heading it will be satisfied if its in the approximate area; therefore not going crazy if the rocket is 0.01 degrees of target.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou don\u0027t need a dead zone, that is caused by too high \u0022P\u0022 in the PID controller. It needs to be reduced by like 10 times in the cfg file, you can try it yourself.\u003C/p\u003E\n"}]}