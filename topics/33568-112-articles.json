{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":112,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-16T17:19:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223245462\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221513380627\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can take a look at the MAT file and SFS file if you\u0027d like me to confirm.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nso you\u0027re asking for the MAT file from the first image, where I loaded the orbit from the SFS right?\n\u003C/p\u003E\n\u003Cp\u003E\nnew bug: when plotting porkchops (mmmm... porkchops) that exceed the max \u003Cabbr title=\u0022Delta-V\u0022\u003EDv\u003C/abbr\u003E in the options the program asks to allow it to be increased. If you say yes it tells you the option has been updated but when I check afterwards it is still the same. When it asks you to modify the synodic period for better results and you say yes that one works\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-17T04:07:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223245877\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221513444758\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nso you\u0027re asking for the MAT file from the first image, where I loaded the orbit from the SFS right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, and the associated SFS please.\u00A0 Whatever I need to reproduce that funny circular orbit in Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E.\u00A0 Though as I explained in my previous post, I believe the cause is the way the orbit is defined in the SFS file (relative to Sun but with a position vector that places the spacecraft within Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E).\u00A0 I\u0027ll check though.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nnew bug: when plotting porkchops (mmmm... porkchops) that exceed the max \u003Cabbr title=\u0022Delta-V\u0022\u003EDv\u003C/abbr\u003E in the options the program asks to allow it to be increased. If you say yes it tells you the option has been updated but when I check afterwards it is still the same. When it asks you to modify the synodic period for better results and you say yes that one works\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood find, fixed for next build!\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-17T06:18:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223246242\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221513483671\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhatever I need to reproduce that funny circular orbit in Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think you\u0027re misunderstanding the post? That \u0022funny circular orbit\u0022 is the orbit of the asteroid already around Kerbin (see the game screenshot). This isn\u0027t an asteroid that just came from sun orbit but one that\u0027s already been in orbit for some time.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-17T06:19:13Z\u0022 title=\u002212/17/2017 06:19  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 17, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-19T14:23:33Z","Content":"\n\u003Cp\u003E\nYou know what, let me just do some more testing over here. What I\u0027m going to try next is I\u0027m going to load the asteroid in flight and pull orbital data straight from the game. Doing this will also update the orbital elements in the save file:\n\u003C/p\u003E\n\u003Ctable border=\u00220\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:800px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ESFS Before flight scene load\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSMA = 15600879.928555444\u003Cbr\u003E\nECC = 0.235650487308428\u003Cbr\u003E\nINC = 130.48647876651356\u003Cbr\u003E\nLPE = 97.572253966611527\u003Cbr\u003E\nLAN = 106.555831899488\u003Cbr\u003E\nMNA = 0.96636781499848312\u003Cbr\u003E\nEPH = 39824530.459937654\u003Cbr\u003E\nREF = 1\n\u003C/p\u003E\n\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ESFS After flight scene load\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSMA = 15600879.801565172\u003Cbr\u003E\nECC = 0.23565053784577689\u003Cbr\u003E\nINC = 130.48648159392644\u003Cbr\u003E\nLPE = 97.572273881161507\u003Cbr\u003E\nLAN = 106.55583039375381\u003Cbr\u003E\nMNA = 2.5231528960659149\u003Cbr\u003E\nEPH = 40287624.98670084\u003Cbr\u003E\nREF = 1\n\u003C/p\u003E\n\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EKSPTOTConnect import\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSMA = 15600.8798015712\u003Cbr\u003E\nECC = 0.235650537845278\u003Cbr\u003E\nINC = 130.486481593927\u003Cbr\u003E\nLPE = 97.57227388119\u003Cbr\u003E\nLAN = 106.555830393757\u003Cbr\u003E\nTA = 157.075802287994\u003Cbr\u003E\nEPH = 40287621.2467002\u003Cbr\u003E\nREF = N/A\n\u003C/p\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nSo from here on out I \u003Cem\u003Ewon\u0027t\u003C/em\u003E load the asteroid into the flight scene again and the SFS will remain at the values listed above - until the next \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transition. I will let that happen from the Tracking Station rather than the flight scene and compare the results. Then I\u0027ll revert and allow the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transition to happen within the game and compare the results.\n\u003C/p\u003E\n\u003Cp\u003E\nNext \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transit is Feb 20th according to this data so it will be a while but I will report back eventually. Arrowstar if you want to play ahead rather than wait you can just manually assign the SFS orbit data above to anything you throw up into orbit and see what happens\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-20T00:35:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223247910\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221513693413\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNext \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transit is Feb 20th according to this data so it will be a while but I will report back eventually. Arrowstar if you want to play ahead rather than wait you can just manually assign the SFS orbit data above to anything you throw up into orbit and see what happens\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI can do that.\u00A0 Remind me again what I\u0027m looking for?\u00A0 I\u0027ve gotten a bit lost with all the things we\u0027ve looked at recently. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-20T01:28:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223248326\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221513730144\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n53 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can do that.\u00A0 Remind me again what I\u0027m looking for?\u00A0 I\u0027ve gotten a bit lost with all the things we\u0027ve looked at recently. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthe exercise here is how accurate I can keep the propagation from KSPTOT in relation to the game. So, for the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/33568-winmac-ksp-trajectory-optimization-tool-v158-mfms-updates-and-rss-compatibility/\u0026amp;do=findComment\u0026amp;comment=3215161\u0022 rel=\u0022\u0022\u003Efirst attempt\u003C/a\u003E I made at predicting where and when this asteroid was going to cross into Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E it was accurate to milliseconds on the first encounter then off by a few seconds on the second encounter then off by weeks for the third encounter. I\u0027ve plotted out \u003Ca href=\u0022https://www.flickr.com/gp/kerbal_space_agency/49Aeo9\u0022 rel=\u0022external nofollow\u0022\u003E3 future encounters\u003C/a\u003E with the data I referenced above and now I need to see if they all remain accurate or start falling out of sync. The first attempt I made was pulling orbital data from the SFS file. This new attempt just above is from pulling data straight from the game through KSPTOTConnect. At no point moving forward in both instances did I load the asteroid into the flight scene, so the only time the SFS data should be updated is when it crosses an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-20T01:30:27Z\u0022 title=\u002212/20/2017 01:30  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 20, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-22T01:07:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223248351\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221513733328\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/19/2017 at 7:28 PM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe exercise here is how accurate I can keep the propagation from KSPTOT in relation to the game. So, for the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/33568-winmac-ksp-trajectory-optimization-tool-v158-mfms-updates-and-rss-compatibility/\u0026amp;do=findComment\u0026amp;comment=3215161\u0022 rel=\u0022\u0022\u003Efirst attempt\u003C/a\u003E I made at predicting where and when this asteroid was going to cross into Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E it was accurate to milliseconds on the first encounter then off by a few seconds on the second encounter then off by weeks for the third encounter. I\u0027ve plotted out \u003Ca href=\u0022https://www.flickr.com/gp/kerbal_space_agency/49Aeo9\u0022 rel=\u0022external nofollow\u0022\u003E3 future encounters\u003C/a\u003E with the data I referenced above and now I need to see if they all remain accurate or start falling out of sync. The first attempt I made was pulling orbital data from the SFS file. This new attempt just above is from pulling data straight from the game through KSPTOTConnect. At no point moving forward in both instances did I load the asteroid into the flight scene, so the only time the SFS data should be updated is when it crosses an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay got it thanks.\u00A0 I have a theory: if it\u0027s truly \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions that seem to cause the issue, than it might be down to the fact that I actually target about 2 km into the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E on every transition to make sure that when the code searches for the next \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transition, it doesn\u0027t detect that the spacecraft is already outside the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E it\u0027s supposed to be in.\u00A0 Not surprisingly that causes problems.\u00A0 I could see how this could compound over time like you\u0027re seeing, especially if more than a few \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions are involved.\n\u003C/p\u003E\n\u003Cp\u003E\nAs a test, take a look at this next \u003Ca href=\u0022https://drive.google.com/file/d/1C47QxrSY7HCzfSKepLrzZzcqVsTHqs2c/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT prerelease\u003C/a\u003E.\u00A0 It\u0027s identical to the other in every way except that where \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions are computed, I have greatly increased the fidelity of the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E search routine with the addition of another algorithm that should get the accuracy down to about 10 meters or so.\u00A0 Warning, this will slow down the calculation time some, but it\u0027s worth a shot.\u00A0 Can you try this prerelease\u00A0 out and see if the issue is still the same or if it improves any?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-22T18:34:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223249907\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221513904824\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay got it thanks.\u00A0 I have a theory: if it\u0027s truly \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions that seem to cause the issue, than it might be down to the fact that I actually target about 2 km into the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E on every transition to make sure that when the code searches for the next \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transition, it doesn\u0027t detect that the spacecraft is already outside the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E it\u0027s supposed to be in.\u00A0 Not surprisingly that causes problems.\u00A0 I could see how this could compound over time like you\u0027re seeing, especially if more than a few \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions are involved.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYea I\u0027ve been beginning to suspect \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transitions more and more myself lately.\u00A0 I did some testing and was getting some pretty weird results so I just kept things basic and tried the very first encounter with both PR6 and PR7\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.blade-edge.com/misc/SOItest.zip\u0022 rel=\u0022external nofollow\u0022\u003ESFS test file\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPR7 import from active vessel and propagation to first \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E encounter, the UT time after the event is 17156837.0167387 (3/30 @ 13:47:17) - without leaving the game for the Tracking Station and warping ahead, the actual \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E entry time is 3/30 @ 13:47:11\n\u003C/p\u003E\n\u003Cp\u003E\nPR6 import from active vessel and propagation to first \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E encounter, the UT time after the event is 17156837.0969646 (3/30 @ 13:47:17) - without leaving the game for the Tracking Station and warping ahead, the actual \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E entry time is 3/30 @ 13:47:11\n\u003C/p\u003E\n\u003Cp\u003E\nwhat - that several seconds discrepancy is huge, and like I said the last time I did an asteroid study the first \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E intercept was accurate to within milliseconds.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you have v1.3.1 see if you can reproduce. It may just be from me still being on v1.2.2\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-27T21:34:44Z","Content":"\n\u003Cp\u003E\nI have completed my upgrade to KSP v1.3.1 and will re-run my tests sometime over the next few days. Stand by!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-27T21:34:54Z\u0022 title=\u002212/27/2017 09:34  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 27, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-01-11T03:48:30Z","Content":"\n\u003Cp\u003E\nso, haven\u0027t had time yet to test out any propagation stuff but I did finally get around to writing up that post about my interplanetary travel preparations I promised \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/28891-wile1411/\u0026amp;do=hovercard\u0022 data-mentionid=\u002228891\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/28891-wile1411/\u0022 rel=\u0022\u0022\u003E@wile1411\u003C/a\u003E back in October - it actually took until the end of Dec for me to wrap up all the calculations! You can check it out \u003Ca href=\u0022http://www.kerbalspace.agency/?p=6365\u0022 rel=\u0022external nofollow\u0022\u003Ehere on the KSA site\u003C/a\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-01-11T18:11:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223265263\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515642510\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nso, haven\u0027t had time yet to test out any propagation stuff but I did finally get around to writing up that post about my interplanetary travel preparations I promised \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/28891-wile1411/\u0026amp;do=hovercard\u0022 data-mentionid=\u002228891\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/28891-wile1411/\u0022 rel=\u0022\u0022\u003E@wile1411\u003C/a\u003E back in October - it actually took until the end of Dec for me to wrap up all the calculations! You can check it out \u003Ca href=\u0022http://www.kerbalspace.agency/?p=6365\u0022 rel=\u0022external nofollow\u0022\u003Ehere on the KSA site\u003C/a\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWow, phenomenal job!\u00A0 That\u0027s all quite impressive!\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-01-12T00:30:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223265620\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515694281\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWow, phenomenal job!\u00A0 That\u0027s all quite impressive!\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwas curious to see what you\u0027d think of it. Thanks, but it also really makes me appreciate the work you guys actually have to do for real spacecraft. Ooof! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"HealingPotatoJuice","CreatedById":181629,"CreatedDateTime":"2018-01-13T00:16:04Z","Content":"\n\u003Cp\u003E\nI\u0027m having a problem with planning a gravitational maneuver for Kerbin-Eve-Moho flight. Using \u0022Solar system edge\u0022 tutorial as a reference, I managed to create a somewhat realistic plan. The problems started when I realised that my craft would not be able to do ejection burn at once and tried to assemble a flight plan with split burns. While fist two stages of building flyby trajectory (finding Eve and fitting inclination, RAAN and argument of periapsis), constraint violation cannot be lowered down to zero when performing optimization against SMa and eccentricity. I tried changing objective function, but it doesn\u0027t really help: only \u0022Minimize distance...\u0022 gives somewhat better results. Still, the resulting trajectory doesn\u0027t bring me in vicinity of Moho. What I also tried: changing time of 1st ejection burn, tinkering with objective functions, replacing SMa with radius of periapsis, building coast to next ejection burn via \u0022coast to apoapsis\u0022\u002B\u0022coast to periapsis\u0022, and via \u0022coast to periapsis\u0022 with Revs prior to coast = 1.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m using stable version of\u00A0 KSP TOT 1.5.8. MFMS summary: \u003Ca href=\u0022https://pastebin.com/y0E7jYtw\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://pastebin.com/y0E7jYtw\u003C/a\u003E\u003Cspan\u003E, plan with a single ejection burn\u00A0\u003C/span\u003E\u003Ca href=\u0022https://drive.google.com/file/d/1F_05C_G0AXd7A_SOG3xyZh2NknrRBT_X/view?usp=sharing,\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1F_05C_G0AXd7A_SOG3xyZh2NknrRBT_X/view?usp=sharing,\u003C/a\u003E plan with 2 ejection burns\u003Cbr\u003E\u003Ca href=\u0022https://drive.google.com/file/d/1BalsGEEYSLUgIBmnk96tQQRE_3XOqw8g/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1BalsGEEYSLUgIBmnk96tQQRE_3XOqw8g/view?usp=sharing\u003C/a\u003E\u003Cspan\u003E \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat advice can you give on planning multiple-burn ejection trajectories? What has gone wrong in this case?\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2018-01-15T07:56:00Z","Content":"\n\u003Cp\u003E\nI\u0027ve been getting this error over and over\u00A0again recently, during optimisation in the Mission Architect:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Gsn9xps.png\u0022 class=\u0022ipsImage\u0022 height=\u0022129\u0022 src=\u0022https://i.imgur.com/Gsn9xps.png\u0022 width=\u0022397\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the .mat file that causes it:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1_oncvYfTLmVHH77dgq2zPs-4m9Vak_Dl/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1_oncvYfTLmVHH77dgq2zPs-4m9Vak_Dl/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI keep tweaking the optimisation parameters, but it keeps coming up during optimisation. Sometimes 55 iterations, sometimes 28, sometimes something else. Seems to happen every time though at this point.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m using KSPTOT 1.5.8, on KSP 1.3.1\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-15T09:00:12Z\u0022 title=\u002201/15/2018 09:00  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 15, 2018\u003C/time\u003E by Snoman314\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2018-01-17T06:50:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223268310\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516002960\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/15/2018 at 8:56 PM, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve been getting this error over and over\u00A0again recently, during optimisation in the Mission Architect:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Gsn9xps.png\u0022 class=\u0022ipsImage\u0022 height=\u0022129\u0022 src=\u0022https://i.imgur.com/Gsn9xps.png\u0022 width=\u0022397\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the .mat file that causes it:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1_oncvYfTLmVHH77dgq2zPs-4m9Vak_Dl/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1_oncvYfTLmVHH77dgq2zPs-4m9Vak_Dl/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI keep tweaking the optimisation parameters, but it keeps coming up during optimisation. Sometimes 55 iterations, sometimes 28, sometimes something else. Seems to happen every time though at this point.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m using KSPTOT 1.5.8, on KSP 1.3.1\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is now happening constantly, and I\u0027m reminded that it\u0027s why I stopped playing KSP when 1.1 came out. Please help! Even the simplest circularisation mission optimisation crashes. I can\u0027t go back to the coarse controls of the vanilla node planning!\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems to happen around the time the optimiser goes way off track. For example when I\u0027m trying to perfect an orbit around the Mun, and the optimiser kicks the endstate out to Kerbol orbit or something like that. This is even when I\u0027ve got the central body ID condition set. Not always though. The only workaround I\u0027ve found so far is to try again several in-game hours later, with a different set of starting conditions. Sometimes this is just an inconvenience, but sometimes it\u0027s not an option, as it would mean missing the only window for a maneuver.\n\u003C/p\u003E\n\u003Cp\u003E\nUsually the optimiser has made good progress, and if only I could use the results from one or two iterations back, I\u0027d be happy. Instead everything is lost, and I keep getting the error every time I re-run it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-17T07:02:31Z\u0022 title=\u002201/17/2018 07:02  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 17, 2018\u003C/time\u003E by Snoman314\u003C/strong\u003E\n\u003Cbr\u003EAdded more info about the bug.\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-01-17T17:08:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223270129\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516171800\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is now happening constantly, and I\u0027m reminded that it\u0027s why I stopped playing KSP when 1.1 came out. Please help! Even the simplest circularisation mission optimisation crashes. I can\u0027t go back to the coarse controls of the vanilla node planning!\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems to happen around the time the optimiser goes way off track. For example when I\u0027m trying to perfect an orbit around the Mun, and the optimiser kicks the endstate out to Kerbol orbit or something like that. This is even when I\u0027ve got the central body ID condition set. Not always though. The only workaround I\u0027ve found so far is to try again several in-game hours later, with a different set of starting conditions. Sometimes this is just an inconvenience, but sometimes it\u0027s not an option, as it would mean missing the only window for a maneuver.\n\u003C/p\u003E\n\u003Cp\u003E\nUsually the optimiser has made good progress, and if only I could use the results from one or two iterations back, I\u0027d be happy. Instead everything is lost, and I keep getting the error every time I re-run it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLooking at it now, sorry for the wait.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Okay, in the mean time, use Script -\u0026gt; Execution Settings -\u0026gt; Optimizer Algorithm -\u0026gt; SQP\n\u003C/p\u003E\n\u003Cp\u003E\nThat should help things along.\u00A0 There\u0027s something funny going on with the interior point solver.\u00A0 The issue you\u0027re seeing is because the optimizer algorithm itself is passing NaN as some control variables, which is very strange (and very wrong).\u00A0 I\u0027m not sure why, could be something in my code that\u0027s causing it, or could not be.\u00A0 I\u0027ll need to investigate.\u00A0 Thanks for the report!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-17T17:24:59Z\u0022 title=\u002201/17/2018 05:24  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 17, 2018\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-01-17T21:47:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223270473\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516208931\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEDIT: Okay, in the mean time, use Script -\u0026gt; Execution Settings -\u0026gt; Optimizer Algorithm -\u0026gt; SQP\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve been meaning to ask for a while what the differences are for the algorithms because I have no clue how the option should be used. Can they be broken up into general use cases?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-01-17T21:57:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223270748\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516225677\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve been meaning to ask for a while what the differences are for the algorithms because I have no clue how the option should be used. Can they be broken up into general use cases?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can read more about the various algorithms \u003Ca href=\u0022https://www.mathworks.com/help/optim/ug/fmincon.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. (Scroll to the bottom to the \u0022algirthms\u0022 section.)\n\u003C/p\u003E\n\u003Cp\u003E\nAs for use cases, not really.\u00A0 They are all generalized optimizers, and by their numerical nature, some will work better than others in different problems, but it\u0027s very hard to predict what those will be.\u00A0 Interior point is the MATLAB recommended algorithm, and SQP is very good too.\u00A0 (I use a modified SQP solver at work for trajectory design.)\u00A0\u00A0\u00A0 Active Set is an older technique but I included it for completeness.\u00A0 It\u0027s worth a shot if everything else fails.\n\u003C/p\u003E\n\u003Cp\u003E\nAn update on the bug above: I couldn\u0027t trace the problem to anywhere in my code, so I have set up the wrapper around the optimizer to call it quits with an error message if the optimizer ever returns NaNs for control variable values.\u00A0 The message will instruct the user to use a different optimizer algorithm.\u00A0 That seems to be the best I can do at the moment.\u00A0 I can\u0027t debug the MATLAB internals because they are all encrypted in the software.\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2018-01-17T23:52:13Z","Content":"\n\u003Cp\u003E\nThanks for taking a look! Support ticket to MATLAB\u00A0perhaps?\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not seeing that Optimiser Algorithm option. Perhaps I have an old version?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022sQ594dq.png\u0022 class=\u0022ipsImage\u0022 height=\u0022716\u0022 src=\u0022https://i.imgur.com/sQ594dq.png\u0022 width=\u0022952\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nOr maybe I\u0027m looking in the wrong place?\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the version, I did download the pre-release you linked on 22 December, but it was asking me to install a new version of the Matlab runtime, or something. I\u0027m using the version off the first post.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-01-18T00:12:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223270850\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516233133\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks for taking a look! Support ticket to MATLAB\u00A0perhaps?\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not seeing that Optimiser Algorithm option. Perhaps I have an old version?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022sQ594dq.png\u0022 class=\u0022ipsImage\u0022 height=\u0022716\u0022 src=\u0022https://i.imgur.com/sQ594dq.png\u0022 width=\u0022952\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nOr maybe I\u0027m looking in the wrong place?\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the version, I did download the pre-release you linked on 22 December, but it was asking me to install a new version of the Matlab runtime, or something. I\u0027m using the version off the first post.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, I updated to the new version of the MCR for this upcoming release (which the pre-releases are on).\u00A0 Can you grab the new MCR?\u00A0 Should be for MATLAB R2017b.\u00A0 The Optimizer Algorithm options are in the new pre-release only.\n\u003C/p\u003E\n\u003Cp\u003E\nSpeaking of which, here is the latest KSPTOT pre-release (\u003Ca href=\u0022https://drive.google.com/file/d/1rSazLWl25-K4AArqBHNtxSz55fZSlGJr/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ev1.5.9 pre-release 8\u003C/a\u003E), which includes:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe error message discussed above when the optimizer hits a NaN for a control variable.\n\u003C/li\u003E\n\u003Cli\u003E\nMessages to Output when you change optimizer algorithm.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nPlease let me know if you have any questions!\u00A0 \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106370-snoman314/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022106370\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106370-snoman314/\u0022 rel=\u0022\u0022\u003E@Snoman314\u003C/a\u003E, grab this pre-release after the new MCR, please.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2018-01-18T03:55:39Z","Content":"\n\u003Cp\u003E\nI\u0027m downloading now. I\u0027ll report back once it\u0027s finished, and I\u0027ve tried the new pre-release. Thanks for your work!\n\u003C/p\u003E\n\u003Cp\u003E\n\u002B\u002B\n\u003C/p\u003E\n\u003Cp\u003E\nOK, I have the new version, and changing the optimising algorithm seems to be a viable workaround. So thanks for that.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s interesting watching the different optimisers work, SQP seems to be far more \u0027conservative\u0027 than Interior Point. It makes much smaller changes, that are more incremental in nature, following the gradient towards the optimal solution it seems. Whereas Interior Point jumps all over the place, as if it\u0027s mapping out the solution space, and then comes back towards the optimal point later. Or maybe I\u0027ve just been staring at optimisation runs for too long! It\u0027s been far too long since I studied\u00A0computational modelling to know what I\u0027m talking about!\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nRegardless, thanks again for the update. Love your work, as always!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-18T08:13:55Z\u0022 title=\u002201/18/2018 08:13  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 18, 2018\u003C/time\u003E by Snoman314\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-01-18T21:17:41Z","Content":"\n\u003Cp\u003E\nGlad it works well!\n\u003C/p\u003E\n\u003Cp\u003E\nIs anyone else aware of anything else for this update that I said I would do that I haven\u0027t yet? \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-01-18T22:56:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223271653\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516310261\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs anyone else aware of anything else for this update that I said I would do that I haven\u0027t yet? \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHrrmmmmmmmmmmmmmmmmmmmmmmm\n\u003C/p\u003E\n\u003Cp\u003E\nNot to my recollection, no\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-01-19T16:30:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223271740\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516316215\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHrrmmmmmmmmmmmmmmmmmmmmmmm\n\u003C/p\u003E\n\u003Cp\u003E\nNot to my recollection, no\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay sounds good, I think I will put the formal release together this weekend then.\n\u003C/p\u003E\n"},{"CreatedByName":"brooklyn666","CreatedById":88321,"CreatedDateTime":"2018-01-23T04:06:47Z","Content":"\n\u003Cp\u003E\nIs there a currently up-to-date way to install this on mac? Both the mac install and the wine install are out of date\n\u003C/p\u003E\n"}]}