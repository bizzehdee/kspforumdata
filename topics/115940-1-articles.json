{"TopicId":115940,"ForumId":66,"TopicTitle":"Devnote Tuesdays: Efficiency Edition","CreatedByName":"SQUAD","CreatedById":66485,"CreatedDateTime":"2015-07-14T22:52:00Z","PageNum":1,"Articles":[{"CreatedByName":"SQUAD","CreatedById":66485,"CreatedDateTime":"2015-07-14T22:52:00Z","Content":"\u003Cfigure class=\u0022tmblr-full\u0022 data-orig-height=\u002292\u0022 data-orig-width=\u0022480\u0022\u003E\u003Cimg src=\u0022https://41.media.tumblr.com/0ff9377afa68dc3ad3fe6844aaf1bd38/tumblr_inline_nri1r7CiPA1rr2wit_540.jpg\u0022 data-orig-height=\u002292\u0022 data-orig-width=\u0022480\u0022\u003E\u003C/figure\u003E\n\n**Felipe (HarvesteR)**  \n\nI\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2m happy to say that wheels are just about complete now. There might be a few minor details here and there to smooth out, but for the most part, the wheel system revision is done.\n\nThis week I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve been focusing on something that, while definitely not something you\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2d see on the player side, it\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s nonetheless crucial for us to be able to keep working on the project. I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve started to plan and set up the necessary tools to move all of the game\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s code (or as much of it as we can) into pre-compiled assembly files.\n\nIf you\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2re not into coding, an assembly is a .dll file, which is built in Visual Studio, and imported into Unity as an asset containing code components. These are then attached to objects in the game. Normally, each code file is a single asset in Unity, which Unity compiles whenever scripts are modified, and each code file is linked to game objects. DLL files are very similar, except that they are already a pre-compiled group of code files. That means for DLL files, we don\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t have to wait for Unity to compile every script in the project every time we make a change to any of them.\n\nCurrently, the time to compile the main game project is about 1 or 2 minutes, more or less. This may not seem like much at first, but consider that this is a process which we have to repeat dozens, maybe even hundreds of times a day. Those few minutes of waiting, that many times a day, translate to many hours of lost productivity over a longer period.\n\n But perhaps more importantly than that, there is a weird phenomenon that happens when there is a significant time penalty between committing to an attempt, and seeing the results of it. Many a time I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve found myself stuck working against an issue that should have been simple, but which for some reason persists in not being fixed. This I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve found can happen sometimes because of long compile times. \n\nImagine that to fix this \u00C3\u00A2\u00E2\u201A\u00AC\u00CB\u0153simple\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2 issue, the proper way to go would be to add a few lines of test code, so you can see in more detail what your stuff is doing when the bug happens. That means that before I can try to actually deploy a fix, I know in advance that I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ll have to write my test code, wait for the project to compile and run, just so I can see the extra info, then use that to fix the problem, then compile again to verify that it worked, then remove the test code, and compile yet again to finish it off. That\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s a minimum of three compile-and-test cycles I know I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ll have to wait through, just to fix a seemingly simple issue. Instead then, what usually happens is that we attempt to fix the issue blind, in the hopes of fixing it with just a single compile. Sometimes that actually works, but in the case I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2m describing here, of a deceptively tricky issue, it\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s very possible to get yourself stuck in a loop, where you eventually end up wasting more time trying to do the blind fix than if you had taken the time to do it properly. \n\nThis is just one example of how a long compile time can affect development in a bigger way than just the extra time it takes. The bottom line is, working on a slow project is frustrating at best, infuriating at worst, so if we can shave off even a few seconds of that time, that\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s already a big boost to our workflow. Especially if you consider that we have a lot of features we want to add still, working on a sluggish project simply won\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t do.\n\nSo, this has been the focus of this week for me. I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve already set up templates to create assembly projects, into which we can offload our code, and those work. However, I hit upon another issue, where Unity will lose the references to all scripts which are moved outside of the Unity editor. This was a much more serious problem. It means that any piece of code we move to a dll would have to be manually replaced on every object that uses it in the project. Considering that we have over 8000 script linkages in there, that\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s not something you want to do by hand. Instead then, I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2m working on a tool that will help keep track and restore those broken links after we move the files. It\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s taken a couple of days to get it working, but it will save us an eternity of tedious scrounging through project files, trying to remember how we had everything set up. \n\nThat\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s been my week so far. \n\n**Marco (Samssonart)**  \n\nLast week was finally the release of KerbalEdu 1.0.4 , now I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2m the one on the Squad site who takes care of that. I also started investigating a problem with newer version of Google Chrome and the Unity Web player that stops Kerbalizer from running on Chrome.\n\n**Daniel (danRosas)**\n\nLooking forward to start implementing the things I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve been working on. I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve been playing around with some assets. Modeling here and there, as well as texturing. Most of the work have been improvements, with a couple of new things to share in the near future. \n\n**Jim (Romfarer)**\n\nAnother progress report on the UI upgrade. Last week Astronaut complex, Admin Facility, Research And Development and the Vessel Spawn Dialog was implemented to work with the game.\n\n**Max (Maxmaps)**  \n\nWorking closely with Ted, who has nonstop floored us with his ability to problem solve and overall make our development process faster and more efficient. It is because of this that Ted has been given a new position as KSP\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s Technical Producer. In this role we will be working side by side to make sure every future update comes to you faster, cleaner and more efficient than ever before. \n\n**Ted (Ted)**\n\nThe past week was a bit personally hectic and unfortunately didn\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t have much to do with KSP. I took a few days to spend with family after my grandfather died. \n\nOn lighter notes I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2ve been keeping up with New Horizon\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s progress and keeping up with the developers\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2 progress on Unity 5, as well as the development of the 1.1 features that Roverdude, Arsonide and Porkjet are working on!\n\nHope to have more to talk about next week!\n\n**Kasper (KasperVld)**\n\nI\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2m not supposed to be here (nobody tell Max!) because I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2m studying for my final BSc exam. And although I haven\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t kept tabs on most things going on apart from what is most critical, I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2d like to give a shout out to NASA for their New Horizons mission that flew by Pluto and Charon today, and to CERN because they discovered a Pentaquark particle. #Science. \n\nP.S. If you haven\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t heard yet, Harvey (HOCgaming) is preparing Kerbal Polar Expedition 3, a charity event around KSP on Twitch that raised over $20,000 in last year\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s edition, which was insane. Follow his [https://www.youtube.com/user/HOCgaming/videos](\u003Ca%20href=)\u0022\u003EYouTube channel to stay updated, all proceeds go to providing access to clean water for people in the third world."},{"CreatedByName":"CaptRobau","CreatedById":41695,"CreatedDateTime":"2015-07-14T23:04:46Z","Content":"My condealances Ted."},{"CreatedByName":"r4pt0r","CreatedById":90471,"CreatedDateTime":"2015-07-14T23:05:52Z","Content":"Thoughts with you Ted.\n\nAnyone else who has the opportunity should call their grandparents, I just did last night."},{"CreatedByName":"Yellowburn10","CreatedById":107558,"CreatedDateTime":"2015-07-14T23:06:24Z","Content":"Great to see the wheels finished, they sound very promising! And this efficiency stuff sounds pretty good for you guys too.\n\nAlso Ted, my deepest condolences for your grandfather."},{"CreatedByName":"jaddbo","CreatedById":117784,"CreatedDateTime":"2015-07-14T23:09:30Z","Content":"my thoughts with you ted.\n\nalso, wheres ma modding mondays!!!???"},{"CreatedByName":"Zucal","CreatedById":139764,"CreatedDateTime":"2015-07-14T23:19:50Z","Content":"Thanks for the weekly checkup, sounds quiet but satisfying!\n\nSorry for your loss, Ted."},{"CreatedByName":"Vaporo","CreatedById":110800,"CreatedDateTime":"2015-07-14T23:26:08Z","Content":"My condolences, Ted."},{"CreatedByName":"Cydonian Monk","CreatedById":69224,"CreatedDateTime":"2015-07-15T00:15:18Z","Content":"\u003E \n\u003E ... the time to compile the main game project is about 1 or 2 minutes...\n\nAwww. How cute. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI definitely feel you pain with regards to how that breaks up workflow though. (Especially after the weirdness I\u0027ve been chasing down the last couple days.) A while back we tweaked our build process at work and cut our 64-bit build times by some insane percentage, 70%-80% in some cases, and our 32-bit builds by a noticeable but less remarkable amount. You never really notice how bloody long builds like that take until you speed them up by a significant amount.\n\nHope this pays big dividends for you folks. It\u0027s already pretty good for a game the size of KSP.\n\nEdit: Also offering my condolences, Ted. Hadn\u0027t read that far into the DevNotes when I typed the above.\n\n**Edited \u003Ctime datetime=\u00222015-07-15T00:45:10Z\u0022 title=\u002207/15/2015 12:45  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 15, 2015\u003C/time\u003E by Cydonian Monk**"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-07-15T00:27:40Z","Content":"My condolences, Ted.\n\n\u003E \n\u003E **Felipe (HarvesteR)**\n\u003E I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2m happy to say that wheels are just about complete now. There might be a few minor details here and there to smooth out, but for the most part, the wheel system revision is done.\n\nIs it too late to consider crab steering as an additional steering option? ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"MalfunctionM1Ke","CreatedById":71626,"CreatedDateTime":"2015-07-15T01:02:11Z","Content":"Geez, Ted.\n\nMy condolences. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-15T01:27:42Z","Content":"Deepest sympathies, Ted. :\\"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-07-15T01:29:29Z","Content":"\u003E I took a few days to spend with family after my grandfather died.\n\nMy condolences to you. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nCongrats on the promotion though. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Which I\u0027m sure was a bright spot during your week."},{"CreatedByName":"MockKnizzle","CreatedById":59616,"CreatedDateTime":"2015-07-15T02:52:49Z","Content":"\u003E \n\u003E Currently, the time to compile the main game project is about 1 or 2 minutes, more or less.\n\nI work at a large game studio on a popular sci-fi shooter (bonus points if you can guess which game) and our compile times for a full-featured build are around 14 hours ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"Majorjim!","CreatedById":61954,"CreatedDateTime":"2015-07-15T03:07:53Z","Content":"Thanks for the devnotes Squad. One thing concerns me however, HarvesteR\u0027s qoute:\n\n \u0022***Especially if you consider that we have a lot of features we want to add still***\u0022\n\n Err guys.. The stuff in the game now does not work. More stuff is not good, please take time to fix the ancient bugs and all the new ones introduced with 1.0\u002B patches.\n\n Thanks for a great game! OOH.. can we have proper fairings too? And more control over them? Cheers!\n\nMJ"},{"CreatedByName":"andrew123","CreatedById":46719,"CreatedDateTime":"2015-07-15T03:20:55Z","Content":"\u003E \n\u003E I work at a large game studio on a popular sci-fi shooter (bonus points if you can guess which game) and our compile times for a full-featured build are around 14 hours ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nSome microsoft devs over at the Arstechnica forums mentioned that Microsoft uses compiler rigs that can compile an entire Windows build in under an hour. Microsoft definitely needs those rigs if they\u0027re going to release a stable build of Windows 10 on July 29.\n\nAlso, I would greatly appreciate it if Squad could optimize the code. Some older versions of ksp perform better with the same number of parts compared to the new build.\n\n**Edited \u003Ctime datetime=\u00222015-07-15T03:23:59Z\u0022 title=\u002207/15/2015 03:23  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 15, 2015\u003C/time\u003E by andrew123**"},{"CreatedByName":"basic.syntax","CreatedById":109920,"CreatedDateTime":"2015-07-15T03:35:22Z","Content":"\u003E \n\u003E Thanks for the devnotes Squad. One thing concerns me however, HarvesteR\u0027s qoute:\n\u003E  \u0022***Especially if you consider that we have a lot of features we want to add still***\u0022\n\nI understand the point you\u0027re trying to make, but, I don\u0027t think they are \u0022there yet\u0022 ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif) HarvesteR has been busy for ~3 weeks on wheels, previously re-coded asteroids, and this week begun working on optimizing their compile process - I think Squad is still at the stage of adding and reworking stuff we have in the game *now* and could be what he means. \u0022New stuff\u0022 should come in toward the end of the process, I give that a couple months. They spoke about optimizing and bug fixing toward the end of 1.0, I\u0027m sure we will hear that kind of talk again, as the release gets close."},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-07-15T04:07:30Z","Content":"Condolences, Ted. I have lost all of my grandparents and several who seemed like they were. My thoughts go out to you and your family."},{"CreatedByName":"Damien_The_Unbeliever","CreatedById":129715,"CreatedDateTime":"2015-07-15T04:12:48Z","Content":"\u003E \n\u003E More stuff is not good, ... can we have proper fairings too? And more control over them?\n\nSo, you want them to stop adding new stuff - then start a list of new things you want them to add?"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2015-07-15T04:36:03Z","Content":"I got so caught up in New Horizons I completely forgot it was Devnote Tuesday. We should launch a probe some where every Tuesday, you know just so we aren\u0027t anxiously waiting on KSP news all the time ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nTed I\u0027m sorry to hear about your Grandfather.\n\n**Edited \u003Ctime datetime=\u00222015-07-15T04:38:54Z\u0022 title=\u002207/15/2015 04:38  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 15, 2015\u003C/time\u003E by Alshain**"},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-15T06:45:05Z","Content":"Sorry for your grandfather, Ted.\n\nStuff happens, nothing you can do about it."},{"CreatedByName":"Ted","CreatedById":26298,"CreatedDateTime":"2015-07-15T08:59:16Z","Content":"Thanks for the kind words, folks. I feel honoured to be part of such a community. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI do look forward to working on KSP as Technical Producer though!"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-07-15T10:03:09Z","Content":"\u003E \n\u003E So, you want them to stop adding new stuff - then start a list of new things you want them to add?\n\nThe fairings would not be a new item, it is consistent with the rest of the post where the call was made to not add new stuff but to fix issues with current stuff, for example fairing separation and construction.\n\n\u003E \n\u003E if you consider that we have a lot of features we want to add still\n\nAfter considering that, my first thought was \u0022I thought the game was feature complete?\u0022\n\nThat\u0060s what we got told anyway...\n\nI would welcome more features but I would welcome consistent information and old bugs being dealt with more.\n\n/sympathies ted. Good luck in your new role ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"kreutzkevic","CreatedById":146514,"CreatedDateTime":"2015-07-15T10:11:47Z","Content":"I\u0027m sorry for your loss, Ted.\n\nAnd congrats on the promotion."},{"CreatedByName":"Snillum101","CreatedById":34419,"CreatedDateTime":"2015-07-15T10:17:44Z","Content":"Sorry to hear that Ted.\n\nMaybe this move to Unity 5 will be a chance to fix some of those long standing bugs in the game? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nLooking forward to 1.1!"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-07-15T11:53:04Z","Content":"Strange to send someone condolences and congratulations at the same time, but I\u0027m sending both to Ted. Sorry for your family\u0027s loss, congrats on your new role at Squad.\n\nThanks to HarvesteR for being so detailed in the devnotes the last few weeks, I know they take some time to write but I think we all appreciate your insight."}]}