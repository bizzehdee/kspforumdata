{"TopicId":109207,"ForumId":34,"TopicTitle":"[1.12.X] Orbital Survey Plus v2.3.6","CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2015-05-14T13:47:28Z","PageNum":6,"Articles":[{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-12-14T01:06:52Z","Content":"[@Jarin](https://forum.kerbalspaceprogram.com/index.php?/profile/71395-jarin/) It looks like the mod [ResearchBodies](https://forum.kerbalspaceprogram.com/index.php?/topic/139473-113-researchbodies-v181-30th-july-2016/) has already implemented something very similar, so I\u0027m not sure it\u0027s worth overlapping in that territory. I might do something a little bit different using planet overlays to mask detail instead. I\u0027m not exactly sure yet."},{"CreatedByName":"Jarin","CreatedById":71395,"CreatedDateTime":"2016-12-14T01:10:18Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Wheffle said:\n\u003E \n\u003E \n\u003E [ResearchBodies](https://forum.kerbalspaceprogram.com/index.php?/topic/139473-113-researchbodies-v181-30th-july-2016/) has already implemented something very similar\n\u003E \n\nThat\u0027s a rather different gameplay concept, having to pay to discover and track planets before they even show up on the map. No visual obscuring of the surface, just hiding the planet altogether, so you can\u0027t go there at all (unless you\u0027re exceptionally lucky). I was hoping for something without the time/money sink tied in."},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-12-14T01:12:45Z","Content":"\u003E \n\u003E \n\u003E Just now, Jarin said:\n\u003E \n\u003E \n\u003E That\u0027s a rather different gameplay concept, having to pay to discover and track planets before they even show up on the map. No visual obscuring of the surface, just hiding the planet altogether, so you can\u0027t go there at all (unless you\u0027re exceptionally lucky). I was hoping for something without the time/money sink tied in.\n\u003E \n\nIf you check out some of the images they have in the imgur album they have linked, they obscure the surface and it you slowly get more detail the more you research it. You\u0027re right, though, it\u0027s not exactly the same thing as what I was thinking about implementing. I\u0027ll continue looking into it."},{"CreatedByName":"Jarin","CreatedById":71395,"CreatedDateTime":"2016-12-14T01:14:02Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Wheffle said:\n\u003E \n\u003E \n\u003E I\u0027ll continue looking into it.\n\u003E \n\nThat\u0027s all I\u0027m asking ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nIn the meantime, I\u0027ve got some new scanning to play with."},{"CreatedByName":"Rocket88","CreatedById":153450,"CreatedDateTime":"2016-12-16T17:03:16Z","Content":"Wheffle,\n\nWas wandering what your thoughts were about adding contracts for scanning planets.\n\nAwesome mod, Thanks for all your work"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-12-18T02:16:22Z","Content":"\u003E \n\u003E \n\u003E On 12/16/2016 at 10:03 AM, Rocket88 said:\n\u003E \n\u003E \n\u003E Wheffle,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Was wandering what your thoughts were about adding contracts for scanning planets.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Awesome mod, Thanks for all your work\n\u003E \n\nHmm... I haven\u0027t thought about adding contracts. I might take a look."},{"CreatedByName":"lajoswinkler","CreatedById":79159,"CreatedDateTime":"2017-02-28T00:01:29Z","Content":"What a shame that someone has to make a mod for something that should\u0027ve been a stock feature. Well done, Wheffle."},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-03T02:58:32Z","Content":"[@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/), Mod functionality are awesome! But every time game make an autosave (like every 5 min) there is a huge lag, game freezes and does no response... ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022) Possible conflict this other mods if only I report this...\n\nI will keep an eye on this for future update, may be problem evaporates over time ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"MusicMetalHead","CreatedById":172040,"CreatedDateTime":"2017-03-04T20:41:29Z","Content":"\u003E \n\u003E \n\u003E On 3/2/2017 at 8:58 PM, ZobrAA said:\n\u003E \n\u003E \n\u003E [@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/), Mod functionality are awesome! But every time game make an autosave (like every 5 min) there is a huge lag, game freezes and does no response... ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022) Possible conflict this other mods if only I report this...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I will keep an eye on this for future update, may be problem evaporates over time ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\nI\u0027m having the same problem, which is a real pity because more realistic scanning is one of the more satisfying features I was looking forward to. There\u0027s something so rewarding about unlocking something bit by bit. Took me forever to figure out which of my many mods was causing this though.\n\nKSP x64 1.2.2 on Windows 10x64 AMD\n\nAmd Phenom IIX6 1090T Processor 3.2GHz\n\nRadeon HD 6900 series Graphics card\n\nI\u0027m using the most up to date version of:\n\nCommunity Resource Pack\n\nDistant Object Enhancement\n\nFuel Tanks Plus\n\nInterstellar Fuel Switch\n\nKopernicus\n\nModular Flight Integrator\n\nOrbital Survey Plus (obviously lol)\n\nReal Solar System\n\n\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E-Textures(not a separate mod but has it\u0027s own folder so I included it anyway)\n\nScatterer\n\nTexture Replacer\n\nI\u0027m trying to run more, but deleted a bunch while trying to find out what was causing the constant crashes, this is just the setup associated with the output log file.\n\n[Output log](https://www.dropbox.com/s/rcqm4occfcliw43/output_log.txt?dl=0)"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2017-03-04T21:03:00Z","Content":"Well shoot. Let\u0027s see if we can figure this out. At first glance I **suspect** it might be \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E. Planet data grids are based on their size, so having much larger planets could inflate the data to ridiculous levels. [@ZobrAA](https://forum.kerbalspaceprogram.com/index.php?/profile/65233-zobraa/) are you using any mods that make planets bigger? [@MusicMetalHead](https://forum.kerbalspaceprogram.com/index.php?/profile/172040-musicmetalhead/) have you scanned any planets in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E yet? Did the problem by chance start during your \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E playthrough?\n\nIf this is the case I\u0027ll try to get an update out that will scale down data size for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E users."},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-04T22:08:48Z","Content":"[@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/), yes, I\u0027m currently working to update for my custom mod with larger planets [RescaleZ - 365 days Kerbin x3.2 Proper Resonance Rescale](https://forum.kerbalspaceprogram.com/index.php?/topic/142188-1/)... Is it so necessary to make planet grid data larger? I dont mind if chunks of scanned surface will become larger - performance are more important!"},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-04T22:24:52Z","Content":"[@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/) UPD: Also looks like lag on autosave dont dissapear even if I click Stop Survey..."},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2017-03-04T22:38:57Z","Content":"Yes, the autosave will build the save node tree from scratch every time. It\u0027s just the way KSP is built.\n\nI will try to come up with a solution soon, maybe just by adding an option to scale the data grid for users with \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E. Thank you for reporting the problem!"},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-04T22:52:08Z","Content":"[@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/) What if switch off planet grid data saving whet scan is 100% complete? I mean if planet is fully scanned - erase all its grid data and use stock resource overlay for that planet with no additional data saving?"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2017-03-04T22:54:48Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, ZobrAA said:\n\u003E \n\u003E \n\u003E [@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/) What if switch off planet grid data saving whet scan is 100% complete? I mean if planet is fully scanned - erase all its grid data and use stock resource overlay for that planet with no additional data saving?\n\u003E \n\nIt actually should be doing something like that already. Does it not appear to be doing so? Are you getting lag even though all planets are either 0% or 100% scanned?"},{"CreatedByName":"MusicMetalHead","CreatedById":172040,"CreatedDateTime":"2017-03-04T22:55:16Z","Content":"I\u0027ve tried scanning Earth a number of times, but it always led to a crash as soon as it tried to save. Never got very far."},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2017-03-04T22:56:22Z","Content":"\u003E \n\u003E \n\u003E Just now, MusicMetalHead said:\n\u003E \n\u003E \n\u003E I\u0027ve tried scanning Earth a number of times, but it always led to a crash as soon as it tried to save. Never got very far.\n\u003E \n\nYeah, it might not be jiving well with \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E. I\u0027ll be looking into it this weekend."},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-04T23:01:01Z","Content":"\u003E \n\u003E \n\u003E Just now, Wheffle said:\n\u003E \n\u003E \n\u003E It actually should be doing something like that already. Does it not appear to be doing so? Are you getting lag even though all planets are either 0% or 100% scanned?\n\u003E \n\nOh! Did not actually know that and not tested ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022) So if I understand right it\u0027s that settings option called \u0022Scan Autocomplete Threshold\u0022?"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2017-03-04T23:04:53Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, ZobrAA said:\n\u003E \n\u003E \n\u003E Oh! Did not actually know that and not tested ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022) So if I understand right it\u0027s that settings option called \u0022Scan Autocomplete Threshold\u0022?\n\u003E \n\nYes, that setting helps to cut down on having 99% planets scanned hanging around. Any planet with 100% scan will stop taking up save space."},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-04T23:22:27Z","Content":"[@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/) I have a suggestion to simplify data storage. At least as an option for larger planets\n\nSo we reject to save surface grid at all. When we deploy survey satellite, plugin calculates time to full scan surface up to latitude, based of orbit inclination. All the time until scan completes we cant see the overlay at all. When scan at 100%, overlay become visible as a \u003Cu\u003E\u003Cstrong\u003Ebelt\u003C/strong\u003E\u003C/u\u003E on a globe up to latitude = inclination.\n\nIn this way we only need to save such data:\n\n1. Max scan latitude and time to scan completion for the most inclined scanning orbit (in case of several survey satellites) for each planet.\n2. Latitude of last previously complied survey - determines wideness of visible overlay belt\n\nNo cool looking scanning strips on the surface of course, but also no calculations to track it and almost zero data size in save file! ![:cool:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif \u0022:cool:\u0022)\n\n**Edited \u003Ctime datetime=\u00222017-03-04T23:23:03Z\u0022 title=\u002203/04/2017 11:23  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 4, 2017\u003C/time\u003E by ZobrAA**"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2017-03-04T23:27:39Z","Content":"I might look i to alternative methods like the one you described, but at first glance it seems a bit more complicated. The planet is rotating as the scanner orbits, so it won\u0027t be a simple belt. This is why high inclination orbits will eventually scan all/most of a planet even without switching inclinations."},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-04T23:45:18Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Wheffle said:\n\u003E \n\u003E \n\u003E The planet is rotating as the scanner orbits, so it won\u0027t be a simple belt.\n\u003E \n\nBut in KSP all planets have no tilt, so after a while scanned area will ended up as a belt with latitude=\u00B1inclination\n\n![pPgGjQa.jpg](http://i.imgur.com/pPgGjQa.jpg)\n\nNo need to make 100% accurate completion time prediction as we did not see expansion of surface scanning strips anyway. It can be very primitive calculation, even like 10\\*orbitalPeriod.surveySat  It\u0027s not so important.![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022)"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2017-03-04T23:48:22Z","Content":"Ah, I see what you are saying. I thought you meant revealing one orbital strip at a time. Well, that \\*is\\* an option to cut down on memory and CPU, but I\u0027d rather keep the dynamic scanning that we have right now. I suppose I can add it as an option for lower-end systems or \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E users. It can be a fallback if I can\u0027t come up with a good solution otherwise."},{"CreatedByName":"ZobrAA","CreatedById":65233,"CreatedDateTime":"2017-03-04T23:53:32Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, Wheffle said:\n\u003E \n\u003E \n\u003E I suppose I can add it as an option for lower-end systems or \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E users.\n\u003E \n\nYes! As an option ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) No need to delete dynamic scanning at all! It\u0027s too cool looking and so many people playing on stock planets... Suggested simplification only for people who really need it! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"MusicMetalHead","CreatedById":172040,"CreatedDateTime":"2017-03-05T02:54:02Z","Content":"I think a large part of the problem has to do with retroactive scanning taking up loads of memory and crashing it. I think some optimization in how that\u0027s processed might fix it. I\u0027m not a mathematician, but if you described the parts to be retroactively scanned as a line of the path of the orbit traced over the map with the width of the line being a function of altitude (a lot of ass pulling going on here but it makes sense in my head), that would allow the calculation to be done as a (relatively) simple math problem, which computers are really really good at."}]}