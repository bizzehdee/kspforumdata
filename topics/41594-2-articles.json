{"TopicId":41594,"ForumId":35,"TopicTitle":"Mass-optimal engine type vs delta-V, payload, and min TWR","CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-08-08T09:56:16Z","PageNum":2,"Articles":[{"CreatedByName":"KatzOhki","CreatedById":73492,"CreatedDateTime":"2013-09-13T15:10:00Z","Content":"\n\u003Cp\u003EWonderful work. Any thoughts on turning this into a \u0022ship builder\u0022 kind of thing? Like where you can select parts and calculate DV and stuff? I\u0027d be willing to collaborate with the m-code.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-09-13T19:23:30Z","Content":"\n\u003Cp\u003EThanks!\u003C/p\u003E\u003Cp\u003EYes, actually. I\u0027m no good at making user interfaces, that\u0027s the main part that\u0027s been stopping me (well that and real work). I\u0027ve had some ideas where you would start with a payload and min TWR, and for each stage you could plot delta-V versus stage mass (along with engine type and number for each point, basically a horizontal slice through these plots), select the stage you want, and repeat building lower stages, with a switch for whether or not upper-stage engines are used asparagus-style.\u003C/p\u003E\n"},{"CreatedByName":"KatzOhki","CreatedById":73492,"CreatedDateTime":"2013-09-13T19:54:26Z","Content":"\n\u003Cp\u003EHm, I was thinking it would be better organized so that the user could input his target planet or target dv and add parts to calculate the dv, but I like your idea too.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-09-13T21:59:31Z","Content":"\n\u003Cp\u003EThere are a few spreadsheets out there that let you build up a design manually, that\u0027s not much different than trial-and-error in the VAB with MechJeb/KER showing you the stats. Doing an optimization over all the possibilities is where things start to get interesting.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-10-05T09:26:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tavert\u0022 data-cite=\u0022tavert\u0022\u003E\u003Cdiv\u003EThanks!\u003Cp\u003EYes, actually. I\u0027m no good at making user interfaces, that\u0027s the main part that\u0027s been stopping me (well that and real work). I\u0027ve had some ideas where you would start with a payload and min TWR, and for each stage you could plot delta-V versus stage mass (along with engine type and number for each point, basically a horizontal slice through these plots), select the stage you want, and repeat building lower stages, with a switch for whether or not upper-stage engines are used asparagus-style.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds perfect! So I could have a 7T payload that I want to send 4500Dv and I could find the most efficient way of doing that at a set TWR? (Like I input 7.65T, 4500Dv 0.5TWR and the output is \u00601 orange tank, 2 oscars, 3 NERVA\u0060 or similar so when I add those to my payload I get 4500Dv at 0.5TWR at the best efficiency?\u003C/p\u003E\u003Cp\u003EIn a perfect world it would just make that as a subassembly so you could just add that stage and strut it up but that is complete pie in the sky stuff.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-10-05T11:04:18Z","Content":"\n\u003Cp\u003EThe really tricky problem is if you want multiple stages. If you want to look at a single stage at a time and a single engine type at a time, RadHazard\u0027s been putting together a little Java interface here: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/48744-Transfer-Stage-Design-Helper-v1-2\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/48744-Transfer-Stage-Design-Helper-v1-2\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAt the moment he\u0027s assuming infinitely divisible tanks so it\u0027s largely equivalent to a spreadsheet method, but we worked out some integer programming formulations that could account for discrete fuel tank choices, just not put into a UI yet.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-10-06T08:25:52Z","Content":"\n\u003Cp\u003ESo I went and made an interactive version, you can check it out at \u003Ca href=\u0022http://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v01.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v01.html\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou\u0027ll need the Wolfram CDF Player plugin to use this, hopefully it should tell you so if you don\u0027t have it installed but if not, see \u003Ca href=\u0022http://www.wolfram.com/cdf-player/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.wolfram.com/cdf-player/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"KatzOhki","CreatedById":73492,"CreatedDateTime":"2013-10-07T04:33:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tavert\u0022 data-cite=\u0022tavert\u0022\u003E\u003Cdiv\u003ESo I went and made an interactive version, you can check it out at \u003Ca href=\u0022http://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v01.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v01.html\u003C/a\u003E\u003Cp\u003EYou\u0027ll need the Wolfram CDF Player plugin to use this, hopefully it should tell you so if you don\u0027t have it installed but if not, see \u003Ca href=\u0022http://www.wolfram.com/cdf-player/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.wolfram.com/cdf-player/\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDropbox link seems to be broken. Glad to see this is still coming along, I got busy at work and forgot about it. I think JRE or a web interface is the best way to provide easy access to the widest audience.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-10-07T05:15:18Z","Content":"\n\u003Cp\u003ECan you be more specific than \u0022broken\u0022? Screenshot of what you\u0027re seeing perhaps? Did you download the CDF Player plugin?\u003C/p\u003E\u003Cp\u003EIf you\u0027re on Linux, it looks like the CDF browser plugin isn\u0027t available, you have to download the standalone player which is a much bigger download on Linux than elsewhere for whatever reason. Anyway, if you\u0027re on Linux or want an offline version, download \u003Ca href=\u0022http://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v01%20web.cdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v01%20web.cdf\u003C/a\u003E and use the standalone CDF player application.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-07T05:55:59Z\u0022 title=\u002210/07/2013 05:55  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 7, 2013\u003C/time\u003E by tavert\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-10-17T01:36:28Z","Content":"\n\u003Cp\u003EI\u0027m in the process of regenerating these for 0.22.0, and it\u0027s looking a little ridiculous. The 48-7S got a serious buff despite already being overpowered, having its thrust increased from 20 kN to 30 kN with nothing else being changed. This means its TWR is now better than the mainsail. For TWR \u0026gt;= 1, the 48-7S is the engine of choice in vacuum for pretty much everything now - until you get tired of the part count, anyway.\u003C/p\u003E\u003Cp\u003EHere\u0027s an updated interactive version: \u003Ca href=\u0022http://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v02.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v02.html\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2013-10-17T02:50:50Z","Content":"\n\u003Cp\u003EBroken for me also, in Safari / OSX. Just shows a blank page. Without CDF it shows a little box with a ? in it, which links to the CDF player.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-10-17T02:52:06Z","Content":"\n\u003Cp\u003EDid you download the Wolfram CDF plugin (\u003Ca href=\u0022http://www.wolfram.com/cdf-player/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.wolfram.com/cdf-player/\u003C/a\u003E) and restart your browser?\u003C/p\u003E\u003Cp\u003EI think I checked it in an OSX VM, I could go boot it up again...\u003C/p\u003E\u003Cp\u003EEdit: you might need to give it a few seconds to fire up the CDF plugin. I just tweaked things so the loading animation should show up at the top of the page instead of halfway down the long document. You can\u0027t scroll down to see the Mathematica code any more, if you want to see the rest of it then download \u003Ca href=\u0022http://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v02%20web.cdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer%20v02%20web.cdf\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-17T02:58:33Z\u0022 title=\u002210/17/2013 02:58  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 17, 2013\u003C/time\u003E by tavert\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2013-10-17T02:59:31Z","Content":"\n\u003Cp\u003EI did all that and another step in between: I even installed the CDF plugin.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-10-17T03:04:21Z","Content":"\n\u003Cp\u003EHeh. Sorry, had to check.\u003C/p\u003E\u003Cp\u003ENot sure what\u0027s up, can you get anything from the Wolfram Demonstrations project to run dynamically, like say \u003Ca href=\u0022http://demonstrations.wolfram.com/DayAndNightWorldClock/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://demonstrations.wolfram.com/DayAndNightWorldClock/\u003C/a\u003E ?\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2013-10-17T03:41:16Z","Content":"\n\u003Cp\u003EI\u0027ve put the computer away and won\u0027t be checking it again for several days, sorry.\u003C/p\u003E\n"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2013-10-17T03:51:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tavert\u0022 data-cite=\u0022tavert\u0022\u003E\u003Cdiv\u003EUpdated 10/16/13 for KSP 0.22.0. The 48-7S was given 50% higher thrust but maintains the same mass and Isp, so now dominates even more than it used to when you need TWR much higher than 1.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat work, and so fast!\u003C/p\u003E\u003Cp\u003EJeez, the 48-7S is now everywhere. But how many would I need to push a 20 tons payload and have, say, 5000 m/s, and a TWR of at least 1.0? Surely a ridiculous number.\u003C/p\u003E\u003Cp\u003EWas that the only engine that had its specs changed?\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-10-17T03:59:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Meithan\u0022 data-cite=\u0022Meithan\u0022\u003E\u003Cdiv\u003EGreat work, and so fast!\u003Cp\u003EJeez, the 48-7S is now everywhere. But how many would I need to push a 20 tons payload and have, say, 5000 m/s, and a TWR of at least 1.0? Surely a ridiculous number.\u003C/p\u003E\u003Cp\u003EWas that the only engine that had its specs changed?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E63. Total mass with 48-7S: 191.11 tons\u003C/p\u003E\u003Cp\u003EClose alternatives: 32 LV-N, total mass 195.67 tons\u003C/p\u003E\u003Cp\u003EOr 9 LV-T30, total mass 196.63 tons\u003C/p\u003E\u003Cp\u003EThe aerospike now has a normal drag coefficient, otherwise I think all engines and fuel tanks remain the same as in 0.21.\u003C/p\u003E\n"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2013-10-17T04:46:04Z","Content":"\n\u003Cp\u003ERidiculous. Albeit a bit less now that we have subassemblies. You could rig together a cluster of ~8 48-7Ss and save it as a subassembly. It\u0027s still a lot of parts.\u003C/p\u003E\u003Cp\u003EI think I\u0027d settle for 9 LV-T30s, just for sanity\u0027s sake. It\u0027s not a huge difference in total mass.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-01-26T12:51:27Z","Content":"\n\u003Cp\u003EIn case anyone was having issues with the Wolfram spreadsheet version (I think it\u0027s a scrolling problem with Firefox. Opening in a Private Window or in Chrome may or may not fix it, or clicking on whatever you can see then hitting page up.), I went and implemented the same thing using the OpenOffice Solver here \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer.ods\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/8244638/KSP%20Design%20Optimizer.ods\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis should allow adding mod engines, fuel tanks, and/or SRB\u0027s. Just change the \u0022Number of __ types\u0022 on the relevant sheet so the macro knows how many to loop through, and add the listed part stats. You\u0027ll need to enable macros in your OpenOffice security settings for this to run. Excel won\u0027t load the formulas or macros properly, so OpenOffice is required for this to do anything useful. The Excel Solver might work for this too, but the macro would probably need to be rewritten.\u003C/p\u003E\n"},{"CreatedByName":"Dispatcher","CreatedById":78707,"CreatedDateTime":"2014-01-26T16:49:07Z","Content":"\n\u003Cp\u003ENice work, Tavert. Would there be any point to adding the jet engines and the RAPIER to your charts?\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-01-26T17:34:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dispatcher\u0022 data-cite=\u0022Dispatcher\u0022\u003E\u003Cdiv\u003ENice work, Tavert. Would there be any point to adding the jet engines and the RAPIER to your charts?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe Rapier as a bipropellant engine is uniformly worse than an aerospike, so like the Poodle or Mark 55, it won\u0027t show up anywhere. Air-breathing TWR depends on craft speed and Isp depends on altitude, so there are more variables with jets than rockets. For stages that operate in oxygenated atmospheres, you want to use jets as often as possible due to their dramatically superior efficiency.\u003C/p\u003E\n"},{"CreatedByName":"Nemoricus","CreatedById":4141,"CreatedDateTime":"2014-04-08T07:27:22Z","Content":"\n\u003Cp\u003EIs it possible that we can see this updated for the engines in .23.5? It would be very nice to have...\u003C/p\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2014-04-09T18:05:27Z","Content":"\n\u003Cp\u003ETavert isn\u0027t very active in the forums any more but look at post #44 - you can get the optimizer in a spreadsheet :-)\u003C/p\u003E\n"},{"CreatedByName":"Nemoricus","CreatedById":4141,"CreatedDateTime":"2014-04-09T19:36:03Z","Content":"\n\u003Cp\u003EWhile I did grab that spreadsheet, it\u0027s only good for seeing the most optimal combinations at specific points. For trends, which is what I\u0027m most interested in, the charts are very helpful.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-04-11T09:27:16Z","Content":"\n\u003Cp\u003EI think there\u0027s a link to the code somewhere in here, do you have Matlab? I\u0027ve been thinking of porting the code to Julia (\u003Ca href=\u0022http://julialang.org/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://julialang.org/\u003C/a\u003E) so anyone can run it, but as Pecan helpfully mentioned I have been paying rather little attention to KSP lately.\u003C/p\u003E\u003Cp\u003EA few things would need to be tweaked to bring the code up-to-date. Obviously the new engines should be added. The new fuel tanks have an inferior mass ratio than the old tanks so you really only want to use the new tanks for part-count reasons, not mass-efficiency. The combination of adding tweakables and the new liquid fuel boosters that combine engine and fuel tank into the same part mean some of the assumptions underlying the code are no longer valid. I would have to refactor things to properly account for the case that a partially-filled fuel tank (or LFB) might be a better choice than multiple full smaller tanks. And lastly, if any of the new engine types show up in the updated results, I\u0027d need to manually assign them readable colors.\u003C/p\u003E\n"}]}