{"TopicId":126780,"ForumId":16,"TopicTitle":"I suck at math need help.","CreatedByName":"halbert5150","CreatedById":77092,"CreatedDateTime":"2015-12-01T15:20:32Z","PageNum":1,"Articles":[{"CreatedByName":"halbert5150","CreatedById":77092,"CreatedDateTime":"2015-12-01T15:20:32Z","Content":"\n\u003Cp\u003E\nSo im trying to recreate \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Tutorial:Advanced_Rocket_Design\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E tutorial from the wiki. Specifically im trying to calculate dv for a transfer, but I cant get the right values. I have gone over and over the provided equations and I dont get the delta v that the author does.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am building my calculations into a web page that you can find \u003Ca href=\u0022http://www.show-low.k12.az.us/tech/forms/calculate/form.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe calculations are all done in javascript so you can view the source but here are the two equations.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\ndv1 = Math.sqrt(u/r1)*(Math.sqrt(2*r2/r1\u002Br2)-1);\ndv2 = Math.abs(Math.sqrt(u/r2)*(1-Math.sqrt(2*r1/r1\u002Br2)));\u003C/pre\u003E\n\u003Cp\u003E\nprior to these two lines of code im adding Kerbins R to r1 and r2 but that doesn\u0027t change the outcome I get. Other then that I think my equations are the same as in the tutorial. Can anybody figure out what im doing wrong?\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-12-01T15:26:16Z","Content":"\n\u003Cp\u003E\nDo you need extra brackets around the r1\u002Br2 bits?\n\u003C/p\u003E\n"},{"CreatedByName":"CrashTestDanny","CreatedById":151030,"CreatedDateTime":"2015-12-01T15:52:27Z","Content":"\n\u003Cp\u003E\nI doubt this is THE problem, but I see Math.abs in your second formula but not in the original tutorial.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t see any error in your formula, but I tried your web page and can clearly see the different answers you are getting. \u00A0I tested the original formulas myself and got the same answers as in the tutorial (after multiplying by 1k, which the original author omitted). \u00A0If I were doing this project and seeing these clearly incorrect answers coming out, I would add all of the terms in the calculation to the web page\u0027s output to make sure they are the values expected. \u00A0I suspect that somewhere your values for u, r1, or r2 are getting changed without your knowledge or approval. \u00A0Here\u0027s how I set it up in Excel:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Ctable border=\u00220\u0022 cellpadding=\u00220\u0022 cellspacing=\u00220\u0022 style=\u0022border-collapse:collapse;width:181pt;\u0022 width=\u0022241\u0022\u003E\u003Ccolgroup\u003E\u003Ccol style=\u0022width:133pt;\u0022 width=\u0022177\u0022\u003E\u003Ccol style=\u0022width:48pt;\u0022 width=\u002264\u0022\u003E\u003C/colgroup\u003E\u003Ctbody\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;width:133pt;\u0022 width=\u0022177\u0022\u003E\nmu\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022 style=\u0022width:48pt;\u0022 width=\u002264\u0022\u003E\n3530.461\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nr1\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n100\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nr2\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n200\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nR\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n600\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nR1=(r1\u002BR)\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n700\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nR2=(r2\u002BR)\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n800\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nT1=sqrt(mu/R1)\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n2.245777\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nT2=sqrt(mu/R2)\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n2.100732\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nT3=sqrt(2*R2/R1\u002BR2)-1\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0.032796\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\nT4=1-sqrt(2*R1/R1\u002BR2)\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n0.033908\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\ndv1=T1*T3\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n73.65152\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr style=\u0022height:15pt;\u0022\u003E\u003Ctd height=\u002220\u0022 style=\u0022height:15pt;\u0022\u003E\ndv2=T2*T4\n\u003C/td\u003E\n\u003Ctd align=\u0022right\u0022\u003E\n71.23209\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHope this helps!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDanny\n\u003C/p\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2015-12-01T15:52:59Z","Content":"\n\u003Cp\u003E\ni\u0027m seconding lack of brackets on this one.\n\u003C/p\u003E\n\u003Cp\u003E\nsqrt(2*r1/r1\u002Br2) will simplify to sqrt(2\u002Br2), since the r1/r1 goes to 1.\n\u003C/p\u003E\n\u003Cp\u003E\nyou might mean sqrt(2*r1/(r1\u002Br2))\n\u003C/p\u003E\n\u003Cp\u003E\nsimilar for sqrt(2*r2/r1\u002Br2)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"halbert5150","CreatedById":77092,"CreatedDateTime":"2015-12-01T16:49:11Z","Content":"\n\u003Cp\u003E\nOK you all had good points.\n\u003C/p\u003E\n\u003Cp\u003E\nI removed the math.abs first off. I only put that in there to test. Its not necessary once the equation is fixed.\n\u003C/p\u003E\n\u003Cp\u003E\nSecondly r1\u002Br2 did need to be changed to (r1\u002Br2) and thanks to Danny I figured out that parenthesis were needed elsewhere.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is how the correct eq\u0027s look.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\ndv1 = (Math.sqrt(u/r1))*(Math.sqrt(2*r2/(r1\u002Br2))-1)\ndv2 = (Math.sqrt(u/r2))*(1-Math.sqrt(2*r1/(r1\u002Br2)))\u003C/pre\u003E\n\u003Cp\u003E\nApparently javascript was messing the old high school order of operations up, and just doing things from left to right or something messed up like that. So I didn\u0027t change the equation much I just got all the parenthesis put in the right place and it works.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks everyone. Now its time to work on the page. Im going to add some of the other calculators and then make it look more kerbalish\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks again, Hal\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-01T16:55:54Z\u0022 title=\u002212/01/2015 04:55  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 1, 2015\u003C/time\u003E by halbert5150\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CrashTestDanny","CreatedById":151030,"CreatedDateTime":"2015-12-01T17:28:39Z","Content":"\n\u003Cp\u003E\nActually, JS is doing it right... the order is for basic ops is Multiply, Divide, Add, Subtract, so 2*R2/r1\u002Br2 would be correctly interpreted as \u0022((2*R2)/r1)\u002Br2\u0022... Good catch for the guy who pointed that out...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDanny\n\u003C/p\u003E\n"},{"CreatedByName":"halbert5150","CreatedById":77092,"CreatedDateTime":"2015-12-01T18:38:00Z","Content":"\n\u003Cp\u003E\nI did the parenthesis around r1\u002Br2 first and that didn\u0027t solve it completely; although it did have to be used. I then noticed on your spreadsheet example for the final step to calculate dv1 and dv2 was multiplication. So I really did need all of the above suggestions to get it right.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-javascript\u0022\u003E\nSo this,\nMath.sqrt(u/r1) * (Math.sqrt(2*r2/(r1\u002Br2))-1)\n\nalso had to have this,\n\n(Math.sqrt(u/r1)) * (Math.sqrt(2*r2/(r1\u002Br2))-1)\n\nadded to work right.\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-javascript prettyprinted\u0022\u003E\n\u003Cspan\u003EI think JS was actually doing \u003C/span\u003E\u003Cspan\u003Ethis\u003C/span\u003E\u003Cspan\u003E,\u003C/span\u003E\u003Cspan\u003E\n\n\u003C/span\u003E\u003Cspan\u003EMath\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Esqrt\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Eu\u003C/span\u003E\u003Cspan\u003E)/\u003C/span\u003E\u003Cspan\u003EMath\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Esqrt\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Er1\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E*\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E...\u003C/span\u003E\u003Cspan\u003E which yielded \u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003E06889\u003C/span\u003E\u003Cspan\u003E\n\nor possibly \u003C/span\u003E\u003Cspan\u003Ethis\u003C/span\u003E\u003Cspan\u003E,\u003C/span\u003E\u003Cspan\u003E\n\n\u003C/span\u003E\u003Cspan\u003EMath\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Esqrt\u003C/span\u003E\u003Cspan\u003E((\u003C/span\u003E\u003Cspan\u003Eu\u003C/span\u003E\u003Cspan\u003E/\u003C/span\u003E\u003Cspan\u003Er1\u003C/span\u003E\u003Cspan\u003E))\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E*\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E...\u003C/span\u003E\u003Cspan\u003E  which also yields \u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003E06889\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nSo Im not sure why what I did worked or what difference it made in the order of operations, but it does work.\n\u003C/p\u003E\n\u003Cp\u003E\nI also wrote this same program in python and php just out of curiosity with the same .06889 calculated. Then added the same fix and both language versions started working once that was done.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-01T18:38:41Z\u0022 title=\u002212/01/2015 06:38  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 1, 2015\u003C/time\u003E by halbert5150\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"halbert5150","CreatedById":77092,"CreatedDateTime":"2015-12-01T19:27:33Z","Content":"\n\u003Cp\u003E\nSo im on my lunch break and it suddenly donned on me what my error was. I was looking at Math.sqrt() as a mathematical process and so part of the natural order of operations. It\u0027s not its a function call. Any programming language is going to do all math from left to right and then function calls from left to right. Which removes the square root calls from the natural order of op. The parenthesis force the compiler to make all the function calls at the right time and then finish up with the math. I didn\u0027t do a trace on the program but I know thats it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2015-12-01T20:53:16Z","Content":"\n\u003Cp\u003E\nHow-to question moved to the how-to subforum.\u00A0\n\u003C/p\u003E\n"}]}