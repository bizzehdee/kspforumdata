{"TopicId":165966,"ForumId":29,"TopicTitle":"part.GetConnectedResourceTotals not returning all resource amounts","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-09-29T03:11:55Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-09-29T03:11:55Z","Content":"\n\u003Cp\u003E\nI\u0027m working on bringing back the Engine Ignitor mod, and am a bit stuck on this.\n\u003C/p\u003E\n\u003Cp\u003E\nIt has a resource called HypergolicFluid\n\u003C/p\u003E\n\u003Cp\u003E\nThe engine ignitors have some, and I\u0027m adding tanks which contain more of it.\n\u003C/p\u003E\n\u003Cp\u003E\nThe following code is only returning the amount of the resource in the part itself, it isn\u0027t getting any of it in the additional tanks, even though the tanks are surface-attached to a \u003Cabbr title=\u0022Liquid Fuel and Oxidizer\u0022\u003ELFO\u003C/abbr\u003E tank which the engine is attached to. \u00A0The debug statement is showing that only the resource in the part itself is considered, it isn\u0027t getting anything else\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eint hypergolicFluidId = PartResourceLibrary.Instance.GetDefinition(\u0022HypergolicFluid\u0022).id;\n\nif (part != null)\n       part.GetConnectedResourceTotals(hypergolicFluidId, out _hypergolicFluidAmount, out _hypergolicFluidMaxAmount);\n\nDebug.Log(\u0022hypergolicFluidId: \u0022 \u002B hypergolicFluidId.ToString() \u002B\n\t\u0022, _hypergolicFluidAmount: \u0022 \u002B _hypergolicFluidAmount.ToString() \u002B\n\t\u0022, _hypergolicFluidMaxAmount: \u0022 \u002B _hypergolicFluidMaxAmount.ToString());\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnybody have any idea why this isn\u0027t working?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-09-29T11:31:21Z","Content":"\n\u003Cp\u003E\nI think I found the problem, it was with the resource definition.\n\u003C/p\u003E\n\u003Cp\u003E\nThe flowmode was set to Stack priority search\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, not an issue anymore because I\u0027m removing this resource completely\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Benjamin Kerman","CreatedById":172792,"CreatedDateTime":"2017-09-29T13:44:17Z","Content":"\n\u003Cp\u003E\nWould that not make sense because you are using part.getConnectedResourceTotals? Why not use Vessel.GetConnectedResourceTotals or similar?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-09-29T19:15:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223182691\u0022 data-ipsquote-contentid=\u0022165966\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506692657\u0022 data-ipsquote-userid=\u0022172792\u0022 data-ipsquote-username=\u0022Benjamin Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Benjamin Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWould that not make sense because you are using part.getConnectedResourceTotals? Why not use Vessel.GetConnectedResourceTotals or similar?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nprobably, but as I said, I\u0027ve moved the resource entirely, so no need for this anymore\n\u003C/p\u003E\n"}]}