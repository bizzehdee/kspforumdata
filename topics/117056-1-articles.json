{"TopicId":117056,"ForumId":16,"TopicTitle":"Seeking help understanding the maths required to actually launch ships","CreatedByName":"SoulShaper2","CreatedById":148826,"CreatedDateTime":"2015-07-28T12:16:34Z","PageNum":1,"Articles":[{"CreatedByName":"SoulShaper2","CreatedById":148826,"CreatedDateTime":"2015-07-28T12:16:34Z","Content":"So after deciding to get back into KSP I realised I was terrible at it and hadn\u0027t mysteriously improved after leaving it alone for so long, instead of just running away though I decided I would actually try to accomplish things in the game as It\u0027s rather addicting! Now the issue is I figured I\u0027d try to learn how to actually calculate some of the maths needed rather than just trial and error on my poor kerbals but I\u0027m struggling to make heads or tails of it, probably because I was never that good at maths in school but I dont want to use cheat sheets or mods to do the calculations for me.\n\nNow anyone reading this might have figured why I\u0027m hitting this brick wall then.\n\nThis is why I was hoping someone would take the time to walk me through the maths so I could get the most enjoyment (for me and the way I like to play games) from KSP. I have been following the Advanced rocketry on the wiki as well as doing large amounts of googling but still I\u0027m struggling. So far I can calculate the Delta V of the specific stages of my ship, as well as the TWR. What I\u0027m struggling with is calculating the Delta v needed to perform maneuvers, for instance working out the Delta v required to take off from the mun and going round it in an orbit of 20km above the surface, or the Delta v needed to change to a polar orbit.\n\nWhat I\u0027m hoping someone will do is explain how to make the calculations to actually know the Delta v needed to perform the moves as well as clearly explain to an idiot if you feel like now is the time for you to do some charity work for another KSP player =P Any help appreciated apart from using the delta v maps! Seen them trying to avoid them =P\n\n**Edited \u003Ctime datetime=\u00222015-07-29T21:03:57Z\u0022 title=\u002207/29/2015 09:03  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 29, 2015\u003C/time\u003E by SoulShaper2**"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-07-28T12:53:35Z","Content":"I have found the [Vis-Viva equation](https://en.wikipedia.org/wiki/Vis-viva_equation) immensely useful for manually calculating orbit size changes:\n\n![99141ee42424be2c2c2f9c3491ae67d5.png](https://upload.wikimedia.org/math/9/9/1/99141ee42424be2c2c2f9c3491ae67d5.png)\n\nFor a Hohmann transfer, calculate the vessel\u0027s speed in the initial orbit then at Pe in the transfer orbit, subtracting gives the first burn delta-V. Calculate speed at Ap in the transfer orbit then speed in the final orbit, subtracting these gives the second burn delta-V. (For an outward Hohmann, for an inward one switch Ap and Pe.)"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-07-28T13:11:14Z","Content":"SoulShaper,\n\n Pretty much everything you need to know:\n\n[http://www.braeunig.us/space/orbmech.htm](http://www.braeunig.us/space/orbmech.htm)\n\nBest,\n\n-Slashy"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-07-28T13:25:29Z","Content":"Most players don\u0027t bother working out the delta-V for manoeuvres themselves. For orbital changes the game\u0027s manoeuvre node system gives that to us. For landings, takeoffs, and travel to other planets or moons we use \u0022delta-V maps\u0022, there are lots available."},{"CreatedByName":"Wjolcz","CreatedById":39636,"CreatedDateTime":"2015-07-28T13:55:24Z","Content":"Go check this: [http://wiki.kerbalspaceprogram.com/wiki/Cheat_sheet](http://wiki.kerbalspaceprogram.com/wiki/Cheat_sheet)\n\nAnd download this: [http://forum.kerbalspaceprogram.com/threads/18230-1-0-4-Kerbal-Engineer-Redux-v1-0-18-0](https://forum.kerbalspaceprogram.com/threads/18230-1-0-4-Kerbal-Engineer-Redux-v1-0-18-0)"},{"CreatedByName":"jkool702","CreatedById":146465,"CreatedDateTime":"2015-07-28T14:09:00Z","Content":"So unfortunately what you\u0027re asking isnt particularly easy to calculate by hand. You know that old expression \u0022Well, at least its not rocket science\u0022? Well, this IS rocket science.\n\nI admittedly am not a rocket scientist, but am pretty good at math and physics, so i\u0027ll give you a list of steps you would need to do to get a pretty decent approximation. Im not sure if this is the \u0022right\u0022 way to do it, but this is what I would do, and if anyone believes this is incorrect please say so. I\u0027ll tell you what equations you need to use and you can google them.\n\nFor launching:\n\n1) Figure out how much delta V you have. Use the Rocket equation for this. You will need to repeat for each stage.\n\n2) Figure out how much horizontal delta V you need. Balance the force of gravity at a particular radius with centripetal force at that radius and solve for velocity. Make sure you account for the fact that the planet may be spinning (IIRC Kerbin spins at something like 200 m/s - this will reduce delta V needed for an equatorial orbit)\n\n3) Figure out how much vertical delta V you need. This is tricky. Use gravitational potential energy to find out how much energy you need to get to a particular altitude. Convert this energy into kinetic energy to find out how much velocity you need. Use impulse-momentum theorem to determine actual delta V, corrected for gravity losses and based on TWR ratio. You will need to integrate this since mass is constantly changing on your ascent. Note that if atmosphere is present thrust also changes as a function of altitude. Note this disregards air resistance, so this would be more valid for ascents that dont approach terminal velocity. If you could figure out an approximate drag curve integrate it to get total drag and use this in the impulse momentum equation to get a better delta v estimate. \n\n4) Combine vertical and horizontal delta V. Depending on ascent profile i think total delta v needed will be between (Vx \u002B Vy) and sqrt (Vx^2 \u002B Vy^2), though id imagine closer to (Vx \u002B Vy). If you dont account for air resistance delta V will be more.\n\nChange orbits (no plane change)\n\n1) Figure out energy for initial and final orbit, and then change in energy (google energy in an elliptical orbit). This is change in potential energy.\n\n2) Convert this change in potential energy to a change in kinetic energy. Note that delta V required for a certain change in kinetic energy depends on your current velocity - this is why it is more efficient to change orbits at certain points (most notably the periapsis (highest velocity) and apogee (lowest velocity))\n\nChange Planes\n\n1) Use trigonometry to find the change in velocity in the X direction and the Y direction (you can assume the X direction is in the same plane as your current orbit, and the Y direction is perpendicular to it). This will be based on your current velocity. Call these Vx and Vy\n\n2) delta V is between (Vx \u002B Vy) and sqrt (Vx^2 \u002B Vy^2)\n\nTL;DR manual calculations for plane changes and orbit changes are pretty easy, though the game provides these delta V values via maneuver nodes. Calculating a launch on a planet with no atmosphere is hard but doable (requires calculus). Calculating a launch on a planet with atmosphere is very hard, and you would be better off using a cheat sheet for that.\n\n**Edited \u003Ctime datetime=\u00222015-07-28T14:16:06Z\u0022 title=\u002207/28/2015 02:16  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 28, 2015\u003C/time\u003E by jkool702**"},{"CreatedByName":"bigcalm","CreatedById":143587,"CreatedDateTime":"2015-07-28T20:54:41Z","Content":"I started putting together a spreadsheet to do this here - [https://docs.google.com/spreadsheets/d/1WaJEZKcyvqzXa0oAx1tEmOYDgXKqiiwEDDSF4xuW-3k/edit?usp=sharing](https://docs.google.com/spreadsheets/d/1WaJEZKcyvqzXa0oAx1tEmOYDgXKqiiwEDDSF4xuW-3k/edit?usp=sharing)\n\nThis should also show you the maths you need.\n\nHowever, the launch / landing values should be taken with a pinch of salt (should get you within 10%) -- there\u0027s a big approximation there (as the above poster mentions, it really needs calculus to do properly)."},{"CreatedByName":"SoulShaper2","CreatedById":148826,"CreatedDateTime":"2015-07-28T21:59:24Z","Content":"Okay trying to start basic, I\u0027m trying to calculate the velocity of Ap at a 100km above Kerbin, I\u0027m getting the number 2238.0453ms. The velocity of the Pe with an orbit of 90km is according to my numbers, 2270.486. This could all be terribly wrong but I am trying! =P\n\nSo then I need to for a contract achieve an orbit with Ap of 498km and Pe of 494km. So then I\u0027m getting an Apv of 1575.5796ms and then one the Pe is achieved a velocity of 2507.2267ms. I\u0027m struggling working out the Delta v however. Which numbers would I subtract from which to achieve the Delta V? Sorry I\u0027m not a maths guy at heart this is the only things thats sparked an interest in it and now I\u0027m really trying =P\n\nMeant to be a reply to Red Iron Crown, Sorry. But also thanks everyone else for the suggestions! Bigcalm that spreadsheet looks great =) I\u0027m slowly working through the replies suggestions!\n\n**Edited \u003Ctime datetime=\u00222015-07-28T22:55:07Z\u0022 title=\u002207/28/2015 10:55  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 28, 2015\u003C/time\u003E by SoulShaper2**"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-07-28T23:26:05Z","Content":"SoulShaper,\n\n I can help you with this.\n\nFor an orbit of 90x100 km, your numbers are accurate. 2,238 m/sec at apoapsis and 2,270 at periapsis.\n\nTransferring from the periapsis of the original to the apoapsis of the new orbit (oberth effect) also matches your numbers. I get 2507 and 1575.\n\nNow... going from your transfer orbit to resetting your periapsis, your velocity at apoapsis will be 1791 m/sec.\n\nSo how you figure DV is by \\*literally\\* figuring the \u0022delta vee\u0022 (change in velocity) and tallying it up.\n\nBurn #1 You started at 2,270 m/sec and you ended at 2,507 m/sec. You therefore changed your velocity 237 m/sec.\n\nBurn #2 You started at 1575 and ended at 1791. Your change in velocity is 216 m/sec.\n\nThe total DV of both maneuvers is **453 m/sec.** \n\nShortcut:\n\n Notice that the difference between velocities of the semi major axes of both orbits works out to almost exactly the same number?\n\nin a 95x95 orbit, your velocity is 2254 m/sec.\n\nin a 496x496 orbit, your velocity is 1795 m/sec.\n\n The difference between them is 459 m/sec. I often use this shortcut when I\u0027m feeling lazy.\n\n This figure will always err to the cautious side. The reason you snuck 6 m/sec in on it is because you took advantage of the oberth effect in your burn.\n\nBest,\n\n-Slashy\n\n**Edited \u003Ctime datetime=\u00222015-07-28T23:44:48Z\u0022 title=\u002207/28/2015 11:44  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 28, 2015\u003C/time\u003E by GoSlash27**"},{"CreatedByName":"SoulShaper2","CreatedById":148826,"CreatedDateTime":"2015-07-29T14:01:22Z","Content":"Hey Slash, thanks so much for the response, I\u0027m not trying to call you out on your maths as god knows I\u0027m at the bottom of the pecking order when it comes to the numbers I\u0027m just asking as I was leaning slightly differently with the Delta v and needed to clear it up in my own head =) \n\nI would have though burn #1 would have been from Pe 2,270 to Ap, 1,575 as thats where your increasing to, with burn #2 going from the Ap of 1,575 to Pe 2,507 which gives me a total Delta v of 1627. I\u0027m not saying your wrong It\u0027s just thats what I was thinking and Need to clear it up as to why thats wrong in my own head =)"},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2015-07-29T15:16:23Z","Content":"I hope this picture clarifies what you do.\n\nYou do not subtract the velocities at different positions but at the locations of your burns.\n\n![qE1FYHz.png](http://i.imgur.com/qE1FYHz.png)"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-07-29T16:39:46Z","Content":"^ What mhoram said.\n\n The changes in velocity occur at the points of the burns. I can\u0027t explain it any better in text than he has with a picture, but I\u0027m happy to help if you need more clarification.\n\n As an aside, you don\u0027t have to worry about me taking personal offense at your questioning things. I understand that you\u0027re trying to grasp a weird concept and besides... I could easily be mistaken in any post. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nBest,\n\n-Slashy"},{"CreatedByName":"SoulShaper2","CreatedById":148826,"CreatedDateTime":"2015-07-29T21:03:40Z","Content":"Wow thank you so much!! That has really helped clear things up. I wasnt expecting a handy little drawing either xD Thanks again. I\u0027ll marked as answered! But if I have any other issues I\u0027ll post here and hope for the best! Now back to the tutorials =P"},{"CreatedByName":"SoulShaper2","CreatedById":148826,"CreatedDateTime":"2015-07-29T23:15:45Z","Content":"Okay adding onto that (sorry I\u0027m just double checking) I then need to do a plane change of 80 degrees. Now since I dont want to change my geometry I\u0027m doing Dv^2 = 2v^2(1-cos(80)) With velocity being the Ap speed of 1575, giving me a Dv of 2025. Is this even vaguely correct? If so I might actually be able to get this dang thing into orbit."},{"CreatedByName":"FancyMouse","CreatedById":142946,"CreatedDateTime":"2015-07-29T23:30:57Z","Content":"If you do an in-place inclination change, then yes your calculation is correct. But keep in mind that\u0027s just for this particular method. There exists other methods that costs less or a lot less dV to achieve inclined orbit, depending on the situation."},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2015-07-29T23:33:50Z","Content":"The formula looks right. And the magnitude fits also.\n\nPlane changes of that magnitude can be done more efficiently by\n\n1) rising the apoapsis near the SOI\n\n2) plane change at apoapsis\n\n3) reducing apoapsis\n\nThis procedure takes however much more time.\n\nHere you can find more details:\n\n[http://forum.kerbalspaceprogram.com/threads/69036](https://forum.kerbalspaceprogram.com/threads/69036)"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2015-07-30T00:28:17Z","Content":"\u003E \n\u003E Okay adding onto that ... I then need to do a plane change of 80 degrees ...\n\nThe huge question would be ... why not launch into the polar orbit in the first place?\n\nGranted this is a mathematical exercise - for which, congratulations so far - but remember the mission objective (as my old Sergeant Major used to say, \u0022There\u0027s no extra points for doing it the hard way\u0022)."},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-07-30T03:22:53Z","Content":"SoulShaper,\n\n Apologies, I didn\u0027t check your math. I trust the others who have responded implicitly and I\u0027m confident their answers are correct.\n\n There is no earthly (kerbinly?) reason why you should ever launch into an orbit with an 80\u00C3\u201A\u00C2\u00B0 inclination error. Inclination errors are expensive to fix at orbital velocity. Much better to launch into the orbital plane to start with (as Pecan said). 60\u00C3\u201A\u00C2\u00B0 inclination error costs your entire orbital velocity if you fix it in orbit, but if you launch that way, it\u0027s free.\n\nBest,\n\n-Slashy"},{"CreatedByName":"Kryxal","CreatedById":102688,"CreatedDateTime":"2015-07-30T06:18:16Z","Content":"Even a non-exact launch beats going into an orbit that far out, for that matter ... just burn north or south as you launch, just before you pass under the desired orbital path."},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2015-07-30T18:00:21Z","Content":"Plane-changes in low-ish orbits are so expensive compared to other manoeuvres that\u0027s it worth saying you should try to avoid them whenever possible. Transfering from equatorial Kerbin LKO, say, to a Mun polar orbit don\u0027t establish an equatorial Mun orbit then plane-change. Instead, a tiny (anti)normal component of less than 1m/s in your transfer burn will be enough to go directly to a polar fly-by, at which you circularise directly into the required polar orbit. At worst transfer with anything that gets you an encounter, then establish the periapsis and inclination you want right out on the edge of the target planet/moon\u0027s SOI, as soon as you enter it - usually needing a burn of \u003C10m/s (obviously depending on how far out your original transfer burn was in the first place).\n\nAll that said, of course, there are still times when you do need to plane-change in low orbit (such as landing somewhere far from a space-station\u0027s pre-existing orbit) so again I applaud your efforts to understand the maths behind it all :-)"}]}