{"TopicId":112308,"ForumId":55,"TopicTitle":"Allow ModuleAnimationGroup to consume/generate resources when used on its own","CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-07T21:21:51Z","PageNum":1,"Articles":[{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-07T21:21:51Z","Content":"The stock ModuleAnimationGroup PartModule, which supports looped animations, is currently used in the stock ore mining drill in conjunction with the surface/asteroid resource harvesting PartModule. Although the latter PartModules have built-in resource consumption, I think it would be nice for ModuleAnimationGroup to be able to consume/generate resources when used in a part on its own."},{"CreatedByName":"mythbusters844","CreatedById":72313,"CreatedDateTime":"2015-06-07T21:49:31Z","Content":"And right now I\u0027m imagining landing legs and misc parts requiring electricity to deploy. This is a great idea! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-07T21:58:24Z","Content":"\u003E \n\u003E And right now I\u0027m imagining landing legs and misc parts requiring electricity to deploy. This is a great idea! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nLanding leg animations aren\u0027t looped, since the animations for those play forwards to completion on deployment, and is then reversed when stowing - they remain static at the end of either state.\n\nOne applicable example, however, would be a set of strobe warning lights I\u0027m making, which spin constantly when activated and should consume ElectricCharge while doing so."},{"CreatedByName":"mythbusters844","CreatedById":72313,"CreatedDateTime":"2015-06-07T22:09:33Z","Content":"\u003E \n\u003E Landing leg animations aren\u0027t looped, since the animations for those play forwards to completion on deployment, and is then reversed when stowing - they remain static at the end of either state.\n\u003E One applicable example, however, would be a set of strobe warning lights I\u0027m making, which spin constantly when activated and should consume ElectricCharge while doing so.\n\nOh, I understand. But it would still be cool to have landing legs, cargo bays, and other parts consume electricity on deployment and retraction."},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-06-07T23:06:06Z","Content":"That would really be out of scope for that module (separation of concerns and all that jazz). \n\nThat being said, if you want to use it in conjunction with something more lightweight than a full on converter, just implement it using IAnimatedModule (it\u0027s super lightweight) and you\u0027re all set."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-07T23:07:13Z","Content":"\u003E \n\u003E That would really be out of scope for that module (separation of concerns and all that jazz). \n\u003E That being said, if you want to use it in conjunction with something more lightweight than a full on converter, just implement it using IAnimatedModule (it\u0027s super lightweight) and you\u0027re all set.\n\nI\u0027m not familiar with IAnimatedModule. Is this stock or from USI?\n\nEDIT: Looks like IAnimatedModule is an interface for plugin authors. Since I\u0027m looking to make these particular parts using existing stock features, a bespoke plugin is out of the question.\n\n**Edited \u003Ctime datetime=\u00222015-06-07T23:21:42Z\u0022 title=\u002206/07/2015 11:21  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 7, 2015\u003C/time\u003E by sumghai**"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-06-08T12:41:49Z","Content":"Gotcha. Yeah, I would still say that ModuleAnimationGroup is the wrong place for what you want (again, separation of concerns, etc.). Why not just use the regular ModuleResourceConverter then? Input of EC, no outputs. Done."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-08T20:50:54Z","Content":"\u003E \n\u003E Gotcha. Yeah, I would still say that ModuleAnimationGroup is the wrong place for what you want (again, separation of concerns, etc.). Why not just use the regular ModuleResourceConverter then? Input of EC, no outputs. Done.\n\nI\u0027m not sure I\u0027m understanding this correctly.\n\nAre you suggesting I use ModuleAnimationGroup as-is for the looping animation, and ModuleResourceConverter to listen for the animation state in order to determine whether to consume resources?\n\nEDIT: After a PM conversation witn RoverDude, I now understand that ModuleAnimationGroup is the one that controls what other PartModules ModuleResourceConverter do (a prime example is the ISRU converter).\n\nAs this feature is already possible using the stock PartModules, I\u0027ll go ahead and close my own suggestion thread ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-06-09T23:49:24Z\u0022 title=\u002206/09/2015 11:49  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 9, 2015\u003C/time\u003E by sumghai**"}]}