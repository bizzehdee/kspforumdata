{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":322,"Articles":[{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T18:06:00Z","Content":"When using a space station part (like SSTU-ST-DOS-\u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E), you can specify a top and bottom docking port.  How does SSTUModularStationCore know how to set each docking ports nodeType?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T18:15:53Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E When using a space station part (like SSTU-ST-DOS-\u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E), you can specify a top and bottom docking port.  How does SSTUModularStationCore know how to set each docking ports nodeType?\n\u003E \n\nNot anymore.  That function was removed in recent versions.\n\n(for reference, the docking nodeType *was* hard-coded by the plugin for \u0027size0,size1\u0027)"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T19:49:20Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Not anymore.  That function was removed in recent versions.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (for reference, the docking nodeType *was* hard-coded by the plugin for \u0027size0,size1\u0027)\n\u003E \n\nI\u0027m still using an older version since I\u0027m still on KSP 1.2.2 but that explains that.  ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  Thank you."},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T20:06:25Z","Content":"I\u0027m playing \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/RP-0 with SSTU so SSTUVolumeContainer is replaced by ModuleFuelTanks from RealFuels.  So that may explain what I\u0027m running into.  Alternatively, it could be because I\u0027m still using SSTU 0.5.34.134 (which I think is the last one compatible with KSP 1.2.2).  But I\u0027ve noticed something.  If I use SSTU-SC-TANK-MFT-A to create a tank, the dry mass and total volume change if I add a nose or mount.  But if I use a space station part and change the top or bottom of it, the dry mass and total volume doesn\u0027t seem to be effected"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T20:25:37Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E But if I use a space station part and change the top or bottom of it, the dry mass and total volume doesn\u0027t seem to be effected\n\u003E \n\nYep, that is intentional.  It was deemed more important that the station core parts be of a consistent dry mass than it was to have minor mass/volume changes with different adapters.  It allows for much easier (and more precise) balancing of delta-v (both needed from launchers, and in the parts themselves) and of life-support configurations.\n\nYou can change that in the configs to specify that the station-core parts also gain volume/mass with adapter changes.  Add \u0027useAdapterMass = true\u0027, \u0027useAdapterVolume = true\u0027, and \u0027useAdapterCost = true\u0027 somewhere to the SSTUModularStationCore part-module configs in order to enable using of the mass/volume/etc from the adapters.\n\n\u003E \n\u003E \n\u003E 16 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E I\u0027m playing \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/RP-0 with SSTU so SSTUVolumeContainer is replaced by ModuleFuelTanks from RealFuels.\n\u003E \n\nYep, that\u0027ll mess with things.  I cannot offer any support when \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E or RealFuels is in use.  You are on your own.\n\n\u003E \n\u003E \n\u003E 3 hours ago, Jiraiyah said:\n\u003E \n\u003E \n\u003E if you guide me which log file should i send i will provide it\n\u003E \n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed1754444391\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/156927-where-is-the-log-file/\u0026do=embed\u0022 style=\u0022height:170px;max-width:502px;\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-09T20:36:42Z","Content":"I don\u0027t drink alcohol, so I can\u0027t use that as an excuse.... but...  colorable \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E effects? Just sayin\u0027\n\n![oops-brain-fart-20273111.png](https://pics.me.me/oops-brain-fart-20273111.png)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T20:38:31Z","Content":"\u003E \n\u003E \n\u003E Just now, Jimbodiah said:\n\u003E \n\u003E \n\u003E I don\u0027t drink alcohol, so I can\u0027t use that as an excuse.... but...  colorable \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E effects?\n\u003E \n\nNope, not as far as I\u0027m aware.\n\n\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E use the stock EFFECTS blocks.  Not really something that can be manipulated at run-time very easily, and I\u0027m 99% certain that they don\u0027t support color manipulation anyhow."},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T20:38:52Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Yep, that is intentional.  It was deemed more important that the station core parts be of a consistent dry mass than it was to have minor mass/volume changes with different adapters.  It allows for much easier (and more precise) balancing of delta-v (both needed from launchers, and in the parts themselves) and of life-support configurations.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You can change that in the configs to specify that the station-core parts also gain volume/mass with adapter changes.  Add \u0027useAdapterMass = true\u0027, \u0027useAdapterVolume = true\u0027, and \u0027useAdapterCost = true\u0027 somewhere to the SSTUModularStationCore part-module configs in order to enable using of the mass/volume/etc from the adapters.\n\u003E \n\nOh, cool.  I may give this a try even if it messes with delta-v and life support configurations.  I\u0027ll just have to pay attention to those when I change things around.  Now I just need to understand how mass and volume are being calculated.  I know it has something to do with topDiameter, coreDiameter \u0026 bottomDiameter (or maybe just one) multiplied by the core mass and core volume.  I\u0027m just not sure how exactly the diameters are being used to generate mass and volume.\n\n\u003E \n\u003E \n\u003E 7 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Yep, that\u0027ll mess with things.  I cannot offer any support when \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E or RealFuels is in use.  You are on your own.\n\u003E \n\nNo worries.  I\u0027m expecting that.  ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T20:54:15Z","Content":"\u003E \n\u003E \n\u003E Just now, chrisl said:\n\u003E \n\u003E \n\u003E I know it has something to do with topDiameter, coreDiameter \u0026 bottomDiameter (or maybe just one) multiplied by the core mass and core volume.  I\u0027m just not sure how exactly the diameters are being used to generate mass and volume.\n\u003E \n\n            private void updateMassAndCost()\n            {\n                modifiedMass = coreModule.moduleMass;\n                modifiedMass \u002B= solarModule.moduleMass;\n                if (useAdapterMass)\n                {\n                    modifiedMass \u002B= topModule.moduleMass;\n                    modifiedMass \u002B= bottomModule.moduleMass;\n                }\n    \n                modifiedCost = coreModule.moduleCost;\n                modifiedCost \u002B= solarModule.moduleCost;\n                if (useAdapterCost)\n                {\n                    modifiedCost \u002B= topModule.moduleCost;\n                    modifiedCost \u002B= bottomModule.moduleCost;\n                }\t}\n\nIt is based on the value specified in the SSTU\\_MODEL, multiplied by the current model scale, using cubic scaling  (e.g.  actualMass = modelMass \\* scale \\* scale \\* scale).  (in the station core parts, I think these masses are overridden/specified directly in the part-module, so those would be the values to adjust).\n\nModel scale is calculated by the current visible diameter and the diameter specified in the SSTU\\_MODEL for that part.  (e.g. if the model specifies \u0027diameter = 2.5\u0027, and it is currently being used at a diameter of 5m, then the scale would be \u00272\u0027).\n\nTechnically -- you should just need to adjust the \u0027topDiameter\u0027, \u0027bottomDiamter\u0027, and \u0027coreDiameter\u0027 values appropriately in the part-config, and everything else should automatically scale to the proper scaled values.\n\nCaveat -- the cubic scaling is probably not what you would expect if trying to scale them back up to \u0027real world\u0027 stats, so you might need to adjust the mass specified in the module config downwards to account for it.  How far to adjust will depend on how much you are scaling up the parts...  (the parts were reverse-balanced using square scaling of the real-world mass and a ton of math).\n\nSo -- to know how what the mass-scaling factor is that you will need to use, I would need to know what your desired diameter / scale is for those parts.\n\nIf your chosen scale is 1.6x  (4m diameter for the COS/DOS) parts, you would want a mass-correction factor of 0.625.\n\nE.G (completely untested, written off the cuff, likely contains syntax errors/improper field names... just intended as an example for you to make your own patch... if you copy-paste it and expect it to work, prepare to get slapped):\n\n    @PART[randomStationCorePart]\n    {\n        @MODULE[SSTUModularStationCore]\n        {\n            @topDiameter *= 1.6\n            @coreDiameter *= 1.6\n            @bottomDiameter *= 1.6\n            @CORE,0\n            {\n                @mass *= 0.625\n            }\n        }\n    }\n\nYou might also apply that same 0.625 scale factor to the volume (add \u0027@volume \\*= 0.625\u0027 on the line below the mass adjustment), as it by default uses cubic scaling which will throw off the available volume/fuel compared to the new dry mass (would end up with massive fuel volume and \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E if not adjusted).\n\n\u003E \n\u003E \n\u003E On 1/5/2018 at 7:54 PM, RedParadize said:\n\u003E \n\u003E \n\u003E That or reducing maximum\\_drag, minimum\\_drag and angularDrag to 0\n\u003E \n\nThose values do absolutely zero since the change to the new aero model.  Everything is based on drag-cubes now.\n\n\u003E \n\u003E \n\u003E On 1/5/2018 at 7:54 PM, RedParadize said:\n\u003E \n\u003E \n\u003E The radial booster decoupler generate way too much drag, it is particularly true and annoying when scaled down to 0.625 as it will inevitably make the booster crash into the rocket.\n\u003E \n\nI\u0027ve not had any issues with it.  You simply need to offset the booster that is being attached to it to make sure that the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E of the booster is below the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E of the decoupler.  This should ensure a clean \u0027nose out\u0027 decoupling.\n\n(not saying that the drag cubes are calculated properly, only saying that I\u0027ve not had any problems that couldn\u0027t be solved by proper \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E setup).\n\nIf you turn on the debug menu and check the drag listed during normal flight, how does it compare with stock radial decouplers?  (keep in mind that the SSTU one will have more drag because it is physically seen as being much, much, larger than the stock decouplers, due to having a mesh that spans the entire length of the booster).\n\nIf you can provide information that proves the drag is way out of balance, I will gladly take action to correct it to be more inline with other equivalent stock parts."},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2018-01-09T21:21:06Z","Content":"[@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/)\n\nhere are the two log files : [KSP.LOG](https://www.dropbox.com/s/9l4oqb50a8lv7l3/KSP.log?dl=0) and [OUTPUT_LOG](https://www.dropbox.com/s/2y1a8c5fx18xbpv/output_log.txt?dl=0)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T21:31:10Z","Content":"\u003E \n\u003E \n\u003E 7 minutes ago, Jiraiyah said:\n\u003E \n\u003E \n\u003E [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E here are the two log files : [KSP.LOG](https://www.dropbox.com/s/9l4oqb50a8lv7l3/KSP.log?dl=0) and [OUTPUT_LOG](https://www.dropbox.com/s/2y1a8c5fx18xbpv/output_log.txt?dl=0)\n\u003E \n\nLooks like you are using the wrong SSTU version for the KSP version you are running.\n\n    [LOG 00:05:55.710] ADDON BINDER: Create binding redirect: aaa_Toolbar, Version=1.7.14.0, Culture=neutral, PublicKeyToken=null =\u003E aaa_Toolbar, Version=1.7.15.0, Culture=neutral, PublicKeyToken=null\n    [ERR 00:05:55.763] AssemblyLoader: Exception loading \u0027SSTUTools\u0027: System.Reflection.ReflectionTypeLoadException: The classes in the module cannot be loaded.\n      at (wrapper managed-to-native) System.Reflection.Assembly:GetTypes (bool)\n      at System.Reflection.Assembly.GetTypes () [0x00000] in  unknown\u003E:0 \n      at AssemblyLoader.LoadAssemblies () [0x00000] in  unknown\u003E:0 \n    \n    Additional information about this exception:\n    \n     System.TypeLoadException: Could not load type \u0027SSTUTools.SSTUGameSettings\u0027 from assembly \u0027SSTUTools, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null\u0027.\n\nThat error is caused by changes in the KSP-API that happened between KSP 1.3 and KSP 1.3.1.  It is causing the entire SSTU plugin to fail loading, which then causes all of the parts to not load properly (as they need the plugin code to load).\n\nAs the log states that you are using KSP 1.3.1 -- you should be using the most recent SSTU release -- [https://github.com/shadowmage45/SSTULabs/releases/tag/0.7.39.148](https://github.com/shadowmage45/SSTULabs/releases/tag/0.7.39.148)\n\n(sadly, it looks like you have deleted AVC, so I cannot check what SSTU version you are running from the log alone)\n\nCan you confirm you are using the SSTU release posted above?"},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2018-01-09T21:35:48Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Looks like you are using the wrong SSTU version for the KSP version you are running.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     [LOG 00:05:55.710] ADDON BINDER: Create binding redirect: aaa_Toolbar, Version=1.7.14.0, Culture=neutral, PublicKeyToken=null =\u003E aaa_Toolbar, Version=1.7.15.0, Culture=neutral, PublicKeyToken=null\n\u003E     [ERR 00:05:55.763] AssemblyLoader: Exception loading \u0027SSTUTools\u0027: System.Reflection.ReflectionTypeLoadException: The classes in the module cannot be loaded.\n\u003E       at (wrapper managed-to-native) System.Reflection.Assembly:GetTypes (bool)\n\u003E       at System.Reflection.Assembly.GetTypes () [0x00000] in \u003Cfilename unknown\u003E:0 \n\u003E       at AssemblyLoader.LoadAssemblies () [0x00000] in \u003Cfilename unknown\u003E:0 \n\u003E     \n\u003E     Additional information about this exception:\n\u003E     \n\u003E      System.TypeLoadException: Could not load type \u0027SSTUTools.SSTUGameSettings\u0027 from assembly \u0027SSTUTools, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null\u0027.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E That error is caused by changes in the KSP-API that happened between KSP 1.3 and KSP 1.3.1.  It is causing the entire SSTU plugin to fail loading, which then causes all of the parts to not load properly (as they need the plugin code to load).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E As the log states that you are using KSP 1.3.1 -- you should be using the most recent SSTU release -- [https://github.com/shadowmage45/SSTULabs/releases/tag/0.7.39.148](https://github.com/shadowmage45/SSTULabs/releases/tag/0.7.39.148)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (sadly, it looks like you have deleted AVC, so I cannot check what SSTU version you are running from the log alone)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Can you confirm you are using the SSTU release posted above?\n\u003E \n\nI don\u0027t know, last night i stupidly shift deleted the zip file archive, will download it now and do a fresh install (deleting the SSTU folder and replacing with this one) I\u0027ll inform you. but i think i downloaded SSTU from this link : [http://www.curse.\u003Cabbr title=\u0022Center of Mass\u0022\u003Ecom\u003C/abbr\u003E/ksp-mods/kerbal/241283-sstu-shadow-space-technologies-unlimited](http://www.curse.com/ksp-mods/kerbal/241283-sstu-shadow-space-technologies-unlimited)\n\nare they different versions?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T21:40:54Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Jiraiyah said:\n\u003E \n\u003E \n\u003E are they different versions?\n\u003E \n\nLooks like the proper version from the filename when I download it.  Can\u0027t guarantee that it was correct whenever you downloaded it, as I sometimes forget to update Curse with the latest (and even when I do, there is often a day or two delay until they finally post the new versions).\n\nPlease let me know if the download that I linked from GitHub works for you or not.  (if it still doesn\u0027t work... then you will need to clean up your KSP install and try out using just SSTU\u002Bdependencies with **zero** other mods present)"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T21:50:26Z","Content":"\u003E \n\u003E \n\u003E 58 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E It is based on the value specified in the SSTU\\_MODEL, multiplied by the current model scale, using cubic scaling  (e.g.  actualMass = modelMass \\* scale \\* scale \\* scale).  (in the station core parts, I think these masses are overridden/specified directly in the part-module, so those would be the values to adjust).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Model scale is calculated by the current visible diameter and the diameter specified in the SSTU\\_MODEL for that part.  (e.g. if the model specifies \u0027diameter = 2.5\u0027, and it is currently being used at a diameter of 5m, then the scale would be \u00272\u0027).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Technically -- you should just need to adjust the \u0027topDiameter\u0027, \u0027bottomDiamter\u0027, and \u0027coreDiameter\u0027 values appropriately in the part-config, and everything else should automatically scale to the proper scaled values.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Caveat -- the cubic scaling is probably not what you would expect if trying to scale them back up to \u0027real world\u0027 stats, so you might need to adjust the mass specified in the module config downwards to account for it.  How far to adjust will depend on how much you are scaling up the parts...  (the parts were reverse-balanced using square scaling of the real-world mass and a ton of math).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So -- to know how what the mass-scaling factor is that you will need to use, I would need to know what your desired diameter / scale is for those parts.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If your chosen scale is 1.6x  (4m diameter for the COS/DOS) parts, you would want a mass-correction factor of 0.625.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E E.G (completely untested, written off the cuff, likely contains syntax errors/improper field names... just intended as an example for you to make your own patch... if you copy-paste it and expect it to work, prepare to get slapped):\n\u003E \n\nLooking at Mir, all the TKS derived components look to have a diameter of around 4.35m, a launch mass of around 19.5t and dry mass ranging from 17t-18.5t depending on the module (according to astronautix.com).  Right now I\u0027m basically just trying to setup the DOS parts as \u0022generic\u0022 for use as Mir components.  So I\u0027m shooting for 4.35m diameter, 17t dry mass and 19.5t launch mass (though I know the solar panel I use will slightly alter the masses).  I\u0027m using the following to setup the size:\n\n        @MODULE[SSTUModularStationCore]\n        {\n            @currentTopDock = Mount-None\n            @currentBottomDock = Mount-None\n            @topDiameter *= 1.74\n            @coreDiameter *= 1.74\n            @bottomDiameter *= 1.74\n            %useAdapterMass = false\n            %useAdapterVolume = false\n            %useAdapterCost = false\n            @CORE[*]\n                {\n                    @volume = 1.74\n                    @mass = 1.74\n                }\n            @SOLAR,*\n            {\n                @POSITION,0\n                {\n                    @position[*] *= 1.74\n                    //rotation = 0, 180, 0\n                    \u0026scale = 1, 1, 1\n                    @scale[*] *= 1.74\n                }\n                @POSITION,1\n                {\n                    @position[*] *= 1.74\n                    //rotation = 0, 0, 0\n                    \u0026scale = 1, 1, 1\n                    @scale[*] *= 1.74\n                }\n            }\n        }\n\nFrom what I can see, this is resulting in the SSTU-ST-DOS-TKS (which I\u0027ve just been using to test with) to have a topDiameter = 3.2625 and a core and bottomDiameter = 4.35.  So the size is right.  Setting the Core mass to 1.74 only results in a dry mass of 9.603t.  And setting Core volume to 1.74 results in an available volume of 7.88kL.  So it looks like I need to use Core mass = ~3.0 and Core volume = \u003C1.0.\n\nAs a separate question, if I use the useAdapterMass, useAdapterVolume, and useAdapterCost flags as you mentioned earlier, is there any way to adjust the mass and/or volume of the top and bottom components without altering the actual SSTU\\_MODEL?\n\n**Edited \u003Ctime datetime=\u00222018-01-09T21:52:30Z\u0022 title=\u002201/09/2018 09:52  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 9, 2018\u003C/time\u003E by chrisl**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T21:57:35Z","Content":"[@chrisl](https://forum.kerbalspaceprogram.com/index.php?/profile/114320-chrisl/)\n\nYou don\u0027t want to explicitly specify the mass of the models.  You want to multiply the existing mass by a correction factor.\n\nFor your chosen scale (1.74x), you want to use a correction factor of 0.574713.  ( (1.74 \\* 1.74 \\* 1.74)  / (1.74 \\* 1.74) = 0.574713 ) (conversion function between cubic and square scaling)\n\nSo this would be the section of the patch for the core model adjustment:\n\n    @CORE[*]\n                {\n                    @volume *= 0.574713\n                    @mass *= 0.574713\n                }\n\nWhich -should- give correct mass/volumes/\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for the default configurations.  (~20t total mass, ~800dV worth of propellant).\n\n\u003E \n\u003E \n\u003E 7 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E is there any way to adjust the mass and/or volume of the top and bottom components without altering the actual SSTU\\_MODEL?\n\u003E \n\nYou can adjust it in the SSTU\\_MODEL through patches (preferred), or explicitly override it in the SSTUModularStationCore config the same way that the CORE has explicitly overridden values.\n\nBut why would you need/want to?  Cubic scaling is the proper scaling method for adjusting volume with model scale changes, and you should not need any further adjustments to those adapter model volumes specified in their definitions.\n\n(e.g.  while you **do** need a correction factor for the COREs, you **do not** need to apply correction factors to the adapters).\n\nAgain though, as you are using \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/RF -- all bets are off.  I cannot guarantee that they handle fuel volumes or tank dry masses properly; all that careful math I posted above is probably useless in that situation.  In fact, I can guarantee that RF **will** screw up the part masses (unless you can somehow tell the RF module to have zero dry mass for that part, and let SSTU manage the mass as it should be doing).\n\n**Edited \u003Ctime datetime=\u00222018-01-09T22:00:16Z\u0022 title=\u002201/09/2018 10:00  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 9, 2018\u003C/time\u003E by Shadowmage**"},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2018-01-09T22:38:23Z","Content":"\u003E \n\u003E \n\u003E 56 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Looks like the proper version from the filename when I download it.  Can\u0027t guarantee that it was correct whenever you downloaded it, as I sometimes forget to update Curse with the latest (and even when I do, there is often a day or two delay until they finally post the new versions).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Please let me know if the download that I linked from GitHub works for you or not.  (if it still doesn\u0027t work... then you will need to clean up your KSP install and try out using just SSTU\u002Bdependencies with **zero** other mods present)\n\u003E \n\nconfirmed, what ever the problem was in the link on curse, downloading the one from github fixed it, thanks ,and sorry for bothering you a lot"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T22:41:44Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E [@chrisl](https://forum.kerbalspaceprogram.com/index.php?/profile/114320-chrisl/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You don\u0027t want to explicitly specify the mass of the models.  You want to multiply the existing mass by a correction factor.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E For your chosen scale (1.74x), you want to use a correction factor of 0.574713.  ( (1.74 \\* 1.74 \\* 1.74)  / (1.74 \\* 1.74) = 0.574713 ) (conversion function between cubic and square scaling)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So this would be the section of the patch for the core model adjustment:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     @CORE[*]\n\u003E                 {\n\u003E                     @volume *= 0.574713\n\u003E                     @mass *= 0.574713\n\u003E                 }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Which -should- give correct mass/volumes/\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for the default configurations.  (~20t total mass, ~800dV worth of propellant).\n\u003E \n\nUsing that I get volume of 8.36kL and 9.446t dry mass.  Admittedly, that does add up to about 19.6t launch mass with just fuel but that\u0027s closer to 1890dV and leaves no room for life support.  With 150 days of life support (50 days for three crew), I end up with about 1056dV and a launch mass of 17.67t (just shy of 5.5t of fuel).  But if the dry mass of the Mir modules is supposed to be around 17t, and launch mass is around 19.5t, I should only have 2.5t of fuel and life support.\n\nIf I remove ModuleFuelTanks and put SSTUVolumeContainer back in, the volume and mass still don\u0027t add up.  Dry mass results in 10.674 (15.471 with fuel) and volume results in 9720L which seems like a lot of space for life support.  But at least this helps me figure out what I need to do. \n\n\u003E \n\u003E \n\u003E 27 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E You can adjust it in the SSTU\\_MODEL through patches (preferred), or explicitly override it in the SSTUModularStationCore config the same way that the CORE has explicitly overridden values.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E But why would you need/want to?  Cubic scaling is the proper scaling method for adjusting volume with model scale changes, and you should not need any further adjustments to those adapter model volumes specified in their definitions.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (e.g.  while you **do** need a correction factor for the COREs, you **do not** need to apply correction factors to the adapters).\n\u003E \n\nSo, for example, I could add something like:  \n\n    @CAP[Adapter-2-1-Short]\n    {\n    @volume *= .5\n    }\n\nThat would reduce the volume of that adapter by half?\n\nThe reason I\u0027d want to do this is, I\u0027m assuming that the top and bottom adapters are adding all of their available volume.  For example, in an earlier set of tests, I found that the Adapter-2-1-Short was adding around 17.8kL (with SSTUVolumeContainer) to my available volume.  Considering the core gives 9.72kL (with SSTUVolumeContainer), that seemed like an excessive increase."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T22:52:43Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, Jiraiyah said:\n\u003E \n\u003E \n\u003E confirmed, what ever the problem was in the link on curse, downloading the one from github fixed it, thanks ,and sorry for bothering you a lot\n\u003E \n\nGlad that could get it working for you.  And no worries -- doing support is just part of doing modding.  At least you were willing to provide logs with minimal input; far too many others its like puling teeth trying to get simple information.\n\n\u003E \n\u003E \n\u003E 2 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E That would reduce the volume of that adapter by half?\n\u003E \n\nAs those caps don\u0027t currently have a volume specified, your options are to:\n\n- Use a patch that targets the SSTU\\_MODELs directly (will effect any/all parts using those adapters)\n- Manually calculate and specify a volume for each adapter in every StationCore part.  Example below...  (keep in mind you are specifying the volume at its *default scale as specified in the model definition*, which then gets scaled according to the current model scale)\n\n    @CAP[Adapter-2-1-Short]\n    {%volume = 17.8//replace the 17.8 with your desired pre-scale volume, which will be different for every adapter\n    }\n\n\u003E \n\u003E \n\u003E 5 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E For example, in an earlier set of tests, I found that the Adapter-2-1-Short was adding around 17.8kL (with SSTUVolumeContainer) to my available volume.\n\u003E \n\nAnd that is exactly why the \u0027useAdapterVolume\u0027 is set to false on the StationCore parts.  Even small/simple adapters add so much additional volume, it was making it impossible to balance the parts with any sort of consistency.  Not a problem for a fuel tank where it is all supposed to be usable resource volume, but becomes highly imbalanced when used on a crewed part that would mostly be habitable volume.\n\n(and all of this is why I won\u0027t touch \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E, even with someone else\u0027s 10ft pole)"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T23:10:56Z","Content":"\u003E \n\u003E \n\u003E 28 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E As those caps don\u0027t currently have a volume specified, your options are to:\n\u003E \n\u003E \n\u003E \n\u003E - Use a patch that targets the SSTU\\_MODELs directly (will effect any/all parts using those adapters)\n\u003E - Manually calculate and specify a volume for each adapter in every StationCore part.  Example below...  (keep in mind you are specifying the volume at its *default scale as specified in the model definition*, which then gets scaled according to the current model scale)\n\u003E \n\nThere is a Volume listed in the SSTU\\_MODEL for Adapter-2-1-Short (in \\SSTU\\Data\\ModelData\\ModelData-MFT-Adapters.cfg).  It\u0027s currently set to 27. \n\nEDIT:  Oh.  You can\u0027t adjust the SSTU\\_MODEL volume for a CAP like you can for a CORE (inside SSTUModularStationCore).  You can only specify a new volume, right?\n\n\u003E \n\u003E \n\u003E 28 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E (and all of this is why I won\u0027t touch \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E, even with someone else\u0027s 10ft pole)\n\u003E \n\nI should point out, I do have a KSP test install with just SSTU.  I get the same values there for mass and volume as I do with my \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E test install when leave SSTUVolumeContainer instead of replacing it with ModuleFuelTanks.  But I do understand what you\u0027re saying.  ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  It\u0027s too bad though.  \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E is awesome and SSTU is awesome.\n\n**Edited \u003Ctime datetime=\u00222018-01-09T23:24:27Z\u0022 title=\u002201/09/2018 11:24  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 9, 2018\u003C/time\u003E by chrisl**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-09T23:25:33Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E I get the same values there for mass and volume as I do with my \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E test install when leave SSTUVolumeContainer instead of replacing it with ModuleFuelTanks.\n\u003E \n\nInteresting....\n\nWhat is your target total / wet / dry mass / delta-V for the rescaled part? (really I just need to know target total mass and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E, the rest can be derived...)\n\n(the least I can do is figure out how to get it working properly with just SSTU -- I know it should be possible, and fairly certain I\u0027ve done the calculations before)\n\n\u003E \n\u003E \n\u003E 6 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E There is a Volume listed in the SSTU\\_MODEL for Adapter-2-1-Short (in \\SSTU\\Data\\ModelData\\ModelData-MFT-Adapters.cfg).  It\u0027s currently set to 27.\n\u003E \n\nYep, that would be the volume for that adapter when used at its default scale (which for that model, and most, is 5m).  So its *raw* volume when scaled down to 4.35m would be:  27 \\* ((4.3 / 5) ^ 3)  =  17.173512 m3\n\nFrom there you should be able to figure out what kind of conversion factor you need to apply.  Then, specify that new pre-scaled volume in the CAP setup in the part config.  Yes, there is a lot of math involved.  I generally go for spreadsheets whenever I\u0027m doing balancing work like that, as it allows for much easier time adjusting variables and seeing results directly (so many spreadsheets...).\n\nI would strongly suggest leaving the \u0027useAdapterVolume = false\u0027 in the configs.  While you certainly could patch the models/modules/etc for the volume you desire on the station-core parts -- its going to be hours and hours of work."},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-09T23:57:30Z","Content":"\u003E \n\u003E \n\u003E 19 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Interesting....\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E What is your target total / wet / dry mass / delta-V for the rescaled part? (really I just need to know target total mass and \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E, the rest can be derived...)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (the least I can do is figure out how to get it working properly with just SSTU -- I know it should be possible, and fairly certain I\u0027ve done the calculations before)\n\u003E \n\nSince I\u0027m basing it off real life parts (Kvant-2, Kristall, Spektr \u0026 Priroda) I\u0027m not exactly sure how much \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E they should have.  Considering the numbers I can find only allow for about 2.5t worth of supplies and fuel (35% of which would be used for 90 days worth of life support), I\u0027m guessing they won\u0027t have much \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E.  Maybe around 250.  The dry mass I\u0027m aiming for would be 17t with a launch mass of around 19.5t."},{"CreatedByName":"StickyScissors","CreatedById":144204,"CreatedDateTime":"2018-01-10T05:49:48Z","Content":"Test of new TEL concept finally going somewhere after 100 billion revisions. Ignore the rocket plummeting in the background, i had to make sure the rocket could clear the tower without exploding something ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\n![xa8E9m2.jpg](https://i.imgur.com/xa8E9m2.jpg)"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-10T06:13:08Z","Content":"Rockets are supposed to launch up, not sideways."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-11T02:33:11Z","Content":"So, I am trying to build a tug that lets me leverage modules while building a station. Anyone have a better suggestion for those arms, they look kind of clunky, but I would like to keep them in style.  \n\nInfernal Roborics?\n\n![sstu_tug.jpg](http://jimbodiah.com/ksp/sstu/sstu_tug.jpg)\n\n**Edited \u003Ctime datetime=\u00222018-01-11T02:33:51Z\u0022 title=\u002201/11/2018 02:33  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 11, 2018\u003C/time\u003E by Jimbodiah**"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-01-11T04:30:11Z","Content":"I see what you\u0027re going for--getting the \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E out by the CM of the station modules to make maneuver a little better than just the tug at the back..."}]}