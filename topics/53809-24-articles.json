{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":24,"Articles":[{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2014-01-07T23:14:22Z","Content":"\n\u003Cp\u003EI have a question with all this compression does it produce lag as i have noticed a considerable slow down while playing now or is it I am running out of memory again\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-07T23:17:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Virtualgenius\u0022 data-cite=\u0022Virtualgenius\u0022\u003E\u003Cdiv\u003EI have a question with all this compression does it produce lag as i have noticed a considerable slow down while playing now or is it I am running out of memory again\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, everything should in-fact run a bit faster. May take some time to load, but once there, everything should be good. Did you add more mods?\u003C/p\u003E\n"},{"CreatedByName":"Selentic","CreatedById":81343,"CreatedDateTime":"2014-01-08T00:59:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ENo, everything should in-fact run a bit faster. May take some time to load, but once there, everything should be good. Did you add more mods?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust noticed my game runs slower too with 2.9 over 2.8 (no other changes) - when the reentry effects light up (running Deadly Reentry if it matters) the clock turns yellow and the whole simulation grinds to a crawl. Not sure if it is due to 2.9 or not, but nothing else changed, so I thought it was worth noting. I\u0027ll try adding DR to the blank cfg list and see if that fixes anything. ...once i land \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T01:53:46Z","Content":"\n\u003Cp\u003EOk... new release is posted. No more issues with mods that don\u0027t have a config file to manage them. Still compressed though. Also added KSPX, as I used it to test with/without config.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-08T03:25:15Z","Content":"\n\u003Cp\u003EIs there any reason why 2.10 aggressive isn\u0027t compressing as well as 2.8 aggressive? I was getting 2.4GB at load before and now I\u0027m getting 3.1GB. I haven\u0027t changed anything except this mod. Have any config files been changed that could cause this?\u003C/p\u003E\u003Cp\u003EIf I reinstall 2.8 the load size goes back down to 2.4GB.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-08T03:32:37Z\u0022 title=\u002201/08/2014 03:32  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 8, 2014\u003C/time\u003E by raidernick\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TheDude","CreatedById":45158,"CreatedDateTime":"2014-01-08T03:54:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Selentic\u0022 data-cite=\u0022Selentic\u0022\u003E\u003Cdiv\u003EJust noticed my game runs slower too with 2.9 over 2.8 (no other changes) - when the reentry effects light up (running Deadly Reentry if it matters) the clock turns yellow and the whole simulation grinds to a crawl. Not sure if it is due to 2.9 or not, but nothing else changed, so I thought it was worth noting. I\u0027ll try adding DR to the blank cfg list and see if that fixes anything. ...once i land \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can kinda confirm this. \u003C/p\u003E\u003Cp\u003EI have a very small test station in a 200k orbit around Kerbin. This station is comprised of 50 parts and no lights. To dock with it I\u0027m using a small 23 part ship that I Hyper Edit into a 80k orbit. \u003C/p\u003E\u003Cp\u003EWhile running 2.8 Aggressive I\u0027m generally getting between 60 FPS while puttering around in my small ship. When I get within 2.5k of my test station the game will freeze for about 20 seconds while the station loads. The clock will immediately go yellow and my FPS locks in at 10.5. When I get within visual range of the station the FPS will drop to 8.\u003C/p\u003E\u003Cp\u003EWithout making any changes to the game or other mods, I remove the 2.8 DLL and config file and replace it with the 1.1 DLL. Restarting the game and going through the same steps above I see a dramatic improvement in the FPS rates. Puttering around I\u0027ll get between 80 and 90 FPS. Getting within 2.5k of my test station the game will lag pretty hard for bout 5 seconds while the station loads. Unlike before it does not freeze which gives the impression the game has crashed. FPS will immediately drop to 20 FPS and the clock will \u0022stutter\u0022 between green and yellow. Once docked my FPS drops to 14 or so.\u003C/p\u003E\u003Cp\u003EThe only down side to all this is my memory took a 1 GB hit moving back to 1.1. While running 2.8 Aggressive my memory was right at 2.2Gb or so. At 1.1 it\u0027s now 3.1 and change. At this point I\u0027m not to sure which I want more. Gotta think about that one.\u003C/p\u003E\u003Cp\u003EThe Dude\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-08T03:58:24Z\u0022 title=\u002201/08/2014 03:58  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 8, 2014\u003C/time\u003E by TheDude\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-08T03:58:07Z","Content":"\n\u003Cp\u003EYeah, since 2.8 I have definitely seen an increase in memory usage.\u003C/p\u003E\n"},{"CreatedByName":"Amazingteknique","CreatedById":89361,"CreatedDateTime":"2014-01-08T04:03:16Z","Content":"\n\u003Cp\u003EYa less reduction but at least everything seems to be loading correctly\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-08T04:11:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bulletrhli\u0022 data-cite=\u0022bulletrhli\u0022\u003E\u003Cdiv\u003EYeah, since 2.8 I have definitely seen an increase in memory usage.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah it\u0027s about a 20% increase in memory usage since 2.8. So I switched back to 2.8 until it\u0027s fixed again.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-08T04:19:16Z\u0022 title=\u002201/08/2014 04:19  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 8, 2014\u003C/time\u003E by raidernick\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Selentic","CreatedById":81343,"CreatedDateTime":"2014-01-08T04:16:15Z","Content":"\n\u003Cp\u003EWow - just have to say I just installed 2.10 and it seems like my game is running better than it *ever* has before! Didn\u0027t even restart. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-01-08T04:33:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EOk... new release is posted. No more issues with mods that don\u0027t have a config file to manage them. Still compressed though. Also added KSPX, as I used it to test with/without config.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAye, like others I\u0027m seeing a fairly substantial increase in memory usage from 2-9 Aggressive to 2-10 Aggressive using the exact same setup -- 151MB or just about 15% increase.\u003C/p\u003E\u003Cp\u003EInterestingly the game also loaded faster -- 4 min 30 sec for 2-10, vs 5 min 33 sec for 2-9. \u003C/p\u003E\u003Cp\u003EOtherwise, all is as it was before. Textures look fine, no sparklies, and KSP runs so much better. It\u0027s beautiful.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-08T04:35:31Z","Content":"\n\u003Cp\u003EYes the game loads much faster on 2.10 leading me to believe it\u0027s not compressing some textures or not compressing them as well as before.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T04:36:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheDude\u0022 data-cite=\u0022TheDude\u0022\u003E\u003Cdiv\u003EI can kinda confirm this. \u003Cp\u003EI have a very small test station in a 200k orbit around Kerbin. This station is comprised of 50 parts and no lights. To dock with it I\u0027m using a small 23 part ship that I Hyper Edit into a 80k orbit. \u003C/p\u003E\u003Cp\u003EWhile running 2.8 Aggressive I\u0027m generally getting between 60 FPS while puttering around in my small ship. When I get within 2.5k of my test station the game will freeze for about 20 seconds while the station loads. The clock will immediately go yellow and my FPS locks in at 10.5. When I get within visual range of the station the FPS will drop to 8.\u003C/p\u003E\u003Cp\u003EWithout making any changes to the game or other mods, I remove the 2.8 DLL and config file and replace it with the 1.1 DLL. Restarting the game and going through the same steps above I see a dramatic improvement in the FPS rates. Puttering around I\u0027ll get between 80 and 90 FPS. Getting within 2.5k of my test station the game will lag pretty hard for bout 5 seconds while the station loads. Unlike before it does not freeze which gives the impression the game has crashed. FPS will immediately drop to 20 FPS and the clock will \u0022stutter\u0022 between green and yellow. Once docked my FPS drops to 14 or so.\u003C/p\u003E\u003Cp\u003EThe only down side to all this is my memory took a 1 GB hit moving back to 1.1. While running 2.8 Aggressive my memory was right at 2.2Gb or so. At 1.1 it\u0027s now 3.1 and change. At this point I\u0027m not to sure which I want more. Gotta think about that one.\u003C/p\u003E\u003Cp\u003EThe Dude\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is possible that this is due to mipmaps... when in use, rendering should be faster. Try enabling mipmaps in the aggressive config. Note that this will increase the memory usage slightly.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T04:37:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EAye, like others I\u0027m seeing a fairly substantial increase in memory usage from 2-9 Aggressive to 2-10 Aggressive using the exact same setup -- 151MB or just about 15% increase.\u003Cp\u003EInterestingly the game also loaded faster -- 4 min 30 sec for 2-10, vs 5 min 33 sec for 2-9. \u003C/p\u003E\u003Cp\u003EOtherwise, all is as it was before. Textures look fine, no sparklies, and KSP runs so much better. It\u0027s beautiful.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe bug in 2-8/9 would have basically dropped the tga normal map textures. That would explain the increase in memory between 2.9 and 2.10\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T04:40:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EThe bug in 2-8/9 would have basically dropped the tga normal map textures. That would explain the increase in memory between 2.9 and 2.10\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou could get the memory back by shrinking the normal further (making maximum size 256 for example).\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T04:43:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022raidernick\u0022 data-cite=\u0022raidernick\u0022\u003E\u003Cdiv\u003EYes the game loads much faster on 2.10 leading me to believe it\u0027s not compressing some textures or not compressing them as well as before.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, it is working. There was a bug where it tried to convert ALL textures if they weren\u0027t readable. Now I only do that if there is a config for the mod.\u003C/p\u003E\n"},{"CreatedByName":"Amazingteknique","CreatedById":89361,"CreatedDateTime":"2014-01-08T04:47:41Z","Content":"\n\u003Cp\u003EI looked through all my parts in the vab and they all looked solid, everything in my log is correct. I think this version is good to go \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Thanks for the hard work rbray!\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-08T05:05:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ENo, it is working. There was a bug where it tried to convert ALL textures if they weren\u0027t readable. Now I only do that if there is a config for the mod.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat doesn\u0027t explain why the memory usage is so much higher now though.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T05:10:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022raidernick\u0022 data-cite=\u0022raidernick\u0022\u003E\u003Cdiv\u003EThat doesn\u0027t explain why the memory usage is so much higher now though.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe bug was fixed. Basically, in 2-8 \u0026amp; 2-9 all the tga normal maps were resized to a garbage texture of a handful of pixels. Basically dropping them to nothing. When I fixed the bug, it went back up as the textures are restored.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T05:12:36Z","Content":"\n\u003Cp\u003EDOH! The config is wrong in aggressive. I\u0027ll fix it post-haste.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T05:18:52Z","Content":"\n\u003Cp\u003E*UPDATE*\u003C/p\u003E\u003Cp\u003E2.10 Aggressive did not actually ship with the aggressive config (7ZIP didn\u0027t update the zip file apparently) \u003C/p\u003E\u003Cp\u003EJust fixed it now. Download \u0026amp; replace to update it. I also set it to shrink the normal maps down to a max of 256x256 to save more memory.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-08T05:20:35Z","Content":"\n\u003Cp\u003EThanks for the quick fix\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2014-01-08T05:25:28Z","Content":"\n\u003Cp\u003EHi could you do a config for AIES its a great pack very popular and bobcats soviet and american packs please and thankyou for your hard work\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-08T05:32:37Z\u0022 title=\u002201/08/2014 05:32  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 8, 2014\u003C/time\u003E by Virtualgenius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-08T06:10:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Virtualgenius\u0022 data-cite=\u0022Virtualgenius\u0022\u003E\u003Cdiv\u003EHi could you do a config for AIES its a great pack very popular and bobcats soviet and american packs please and thankyou for your hard work\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAdded config to release.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-01-08T06:22:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003E*UPDATE*\u003Cp\u003E2.10 Aggressive did not actually ship with the aggressive config (7ZIP didn\u0027t update the zip file apparently) \u003C/p\u003E\u003Cp\u003EJust fixed it now. Download \u0026amp; replace to update it. I also set it to shrink the normal maps down to a max of 256x256 to save more memory.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYay! Back up to 1013MB savings. That\u0027s damn impressive. I think this one\u0027s a keeper, unless you\u0027ve got any more tricks up your sleeve.\u003C/p\u003E\n"}]}