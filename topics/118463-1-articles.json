{"TopicId":118463,"ForumId":32,"TopicTitle":"Maximizing Mining Operational Efficiency (with math and spreadsheets)","CreatedByName":"TokMor","CreatedById":149755,"CreatedDateTime":"2015-08-14T17:50:13Z","PageNum":1,"Articles":[{"CreatedByName":"TokMor","CreatedById":149755,"CreatedDateTime":"2015-08-14T17:50:13Z","Content":"\n\u003Cp\u003EHello! I\u0027m creating this thread mostly to benefit the types of people who want to optimize their mining operation as much as possible. There are already some great threads that cover the basics of how to set up a mining operation. I want this thread to help people who are planning a large scale mining operation to figure out exactly how many of each component that they need to get on site to have the optimal performance with no part being over-utilized nor being the bottleneck.\u003C/p\u003E\u003Cp\u003EI plan to start with surface operations, and expand from there assuming that there is interest.\u003C/p\u003E\u003Cp\u003EBase rules and assumptions\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EUse engineers. You already know this if this thread interests you, but I\u0027ll include numbers to show just how much they help.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EBalance the drill production to ISRU consumption\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECreate the most efficient electrical grid\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EMaximize the fuel generated each second based on the mass of the equipment placed in situ\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EOn engineers\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ESo we all know that high level engineers make mining better, but I for one was surprised to see just how much of a difference that it makes.\u003C/p\u003E\u003Cp\u003ELets assume we find our mining site, and it has 10% ore concentration. If we don\u0027t bring an engineer with us, we will need 100 drills all running at the same time just to supply a single ISRU converter, and the setup will draw 1530 power each second\u003C/p\u003E\u003Cp\u003EJust adding a single greenhorn engineer reduces the drill count to 20 and power consumption to 330\u003C/p\u003E\u003Cp\u003EIf we level that engineer all the way up to the max of 5, we need just 4 drills and 90 power\u003C/p\u003E\u003Cp\u003EThe spreadsheet linked below shows how many drills and power you need for each IRSU based on the ore concentration and the level of engineer running the rig\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://docs.google.com/spreadsheets/d/1wPRf8Pw42jjs7-f-ypjNiFG8oXsOhQ7j8CzbLIc7FeU/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.google.com/spreadsheets/d/1wPRf8Pw42jjs7-f-ypjNiFG8oXsOhQ7j8CzbLIc7FeU/edit?usp=sharing\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYes, there are fractions of drills listed, but chances are you will try to build a base with more than one IRSU, so you can pick a number that gives you a roughly even number of drills.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EBalancing Drill and ISRU production\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EPlacing the drills and ISRU in the same \u0022craft\u0022 and balancing their outputs means that we don\u0027t need to spend mass on lots of ore storage tanks. Combining these steps also lets us eliminate the need for a ore transfer step in our supply chain, making logistics easier. All of our mass dedicated to storage (with the exception of one small ore tank) can therefore go to storing refined fuels.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EPower production\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis seems to be the most glossed over topic in most of the posts I\u0027ve seen on the matter. I\u0027ve seen some recommend solar, some recommend fuel cells, but few go into exactly how many are needed.\u003C/p\u003E\u003Cp\u003EFor right now, if you want your operation to run both day and night, fuel cells are the way to go. If you only want to run during day time, solar power can be more efficient as long as you are no further away from the sun than Kerbin. I will be expanding this section in the near future however. Here is an example in the mean time though. (Also, the thermoelectric generator also ended up giving a worse efficiency than fuel cells in case you were wondering)\u003C/p\u003E\u003Cp\u003ETo compare fuel cell power to solar power, I needed to collect some data to give myself a baseline. I ask you the reader, please review and let me know if you feel I am missing things and/or doing something wrong. \u003C/p\u003E\u003Cp\u003EMy new experiment was performed by putting a craft in LKO, 125km circular at 0 degree inclination. I drained almost all the power in the craft then opened one gigantic panel on the craft angled so it would be orthogonal to the sun. The period of the orbit was 2063.4s, and the net power gain during one rotation was 35,145 which gives an average output of 17.033 energy each second. But, being higher up allowed the craft to view the sun for longer than it really should have. Correcting for that amount, the average comes out to be 12.35 per second, or 24.7 during the day time.\u003C/p\u003E\u003Cp\u003E(I\u0027ll be using fractions of parts in these calculations since I\u0027ll assume our actual bases will really be much bigger. Also, I will measure efficiency by calculating the amount of liquid fuel generated when creating a fuel/oxidizer mix)\u003C/p\u003E\u003Cp\u003ELet\u0027s assume we are setting up a mining site at minimus and we luck out with 10% concentration right on the equator. From referencing the table, we need 4 drills to supply 1 IRSU. This draws a total of 90 power and weighs 7.25. \u003C/p\u003E\u003Cp\u003EIf we supply this with fuel cell arrays, we need 5.05 of them for a total mass of 8.512. The fuel cells will draw 0.102 fuel per second, for a net of 0.348 fuel/second. Given this setup, the required mass to produce 1 fuel per second is 24.5\u003C/p\u003E\u003Cp\u003ENow at this point I thought \u0022Well, since this method consumes fuel, solar must give a better output\u0022\u003C/p\u003E\u003Cp\u003EAssuming I calculated that average power per second correctly, we need 7.366 solar panels to supply the power. Minimus has a rotational period 40,400s, so we need a daily power output of 3,675,415. This requires 1,837,707 worth of battery storage to work through the night, or 459.43 of the 4k batteries.\u003C/p\u003E\u003Cp\u003EWith all those batteries, our mass required to generate one fuel per second is a staggering 225, over 9 times less efficient than using fuel cells. \u003C/p\u003E\u003Cp\u003EIf we removed the batteries and just relied on solar power for half the day then we get a much better rate of 25.63, since only half the daily energy production is needed if we are only running half the day. This does put us a bit above the efficiency of fuel cell arrays, as long as you can turn on your drills at the right time each day.\u003C/p\u003E\u003Cp\u003EMath equations (mostly taken from the wiki)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/%27Drill-O-Matic%27_Mining_Excavator\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/%27Drill-O-Matic%27_Mining_Excavator\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EDrill output: 0.05 * concentration (between 0 and 1) * engineer skill\u003C/p\u003E\u003Cp\u003EEngineer skill: 5x for level 0, 9x for level 1, 13x for level 2, 17x at level 3, 21x at level 4 and 25x at level 5\u003C/p\u003E\u003Cp\u003EISRU output: 0.45 fuel per second when making fuel/oxidizer mix\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-15T02:59:03Z\u0022 title=\u002208/15/2015 02:59  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 15, 2015\u003C/time\u003E by TokMor\u003C/strong\u003E\n\u003Cbr\u003EUpdated solar panel experiment for use in vacuum\n\u003C/span\u003E\n"},{"CreatedByName":"ment18","CreatedById":125039,"CreatedDateTime":"2015-08-14T18:37:20Z","Content":"\n\u003Cp\u003EThanks for the calculations on different power generator efficiency calculations but there is one error I noticed. The atmosphere of Kerbin reduces the efficiency of solar panels so your experiment should probably be repeated in a vacuum.\u003C/p\u003E\n"},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-08-14T18:44:28Z","Content":"\n\u003Cp\u003ETime warp calculations still need to be fixed. I can have a solar powered mining ship that runs out of power at night. But if I time warp at a certain speed it never runs out and electricity stays full the whole time. Cheaty, and broken. I hope they fix this.\u003C/p\u003E\n"},{"CreatedByName":"SAI Peregrinus","CreatedById":125558,"CreatedDateTime":"2015-08-14T18:57:58Z","Content":"\n\u003Cp\u003EWRT Solar vs Fuel Cells: Solar will eventually become more efficient, if you use the mining base for long enough that more fuel would be used by the fuel cells than the extra mass of the batteries \u002B panels wastes. But if your output tanks are filling between times when you use the fuel from the station then you\u0027ve got fuel to spare anyway, so it also depends on how much fuel you\u0027re using.\u003C/p\u003E\n"},{"CreatedByName":"TokMor","CreatedById":149755,"CreatedDateTime":"2015-08-14T19:14:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ment18\u0022 data-cite=\u0022ment18\u0022\u003E\u003Cdiv\u003EThanks for the calculations on different power generator efficiency calculations but there is one error I noticed. The atmosphere of Kerbin reduces the efficiency of solar panels so your experiment should probably be repeated in a vacuum.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you for pointing that out. I guess I have to take the less lazy method to test this then.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xtoro\u0022 data-cite=\u0022xtoro\u0022\u003E\u003Cdiv\u003ETime warp calculations still need to be fixed. I can have a solar powered mining ship that runs out of power at night. But if I time warp at a certain speed it never runs out and electricity stays full the whole time. Cheaty, and broken. I hope they fix this.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI found that if I warped at exactly 1,000X, it increased the production of my drills by a factor of 1,000 but it didn\u0027t increase the power consumption of them. I thought it must have just been one of my mods bugging something, but perhaps it\u0027s not just me after all.\u003C/p\u003E\u003Cp\u003EEdit: So I put a ship in orbit with a period of 2,063.4s, and the amount of energy that was generated by the solar panel was 35,145, for an average output of 17.033, which puts us in much better shape for looking at solar as part of our power solution. The fact that batteries are needed to get through the night still makes trying to run through the night with solar not an option (new mass per 1f/s is 223.97 when there are enough batteries), but running half the day on just solar panels bring us down to 39.56 mass for 1 fuel/s. I\u0027ll update the top post with these new findings and see if perhaps using both fuel cells and solar panels gets us a better result for our efficiency.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-14T20:14:18Z\u0022 title=\u002208/14/2015 08:14  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 14, 2015\u003C/time\u003E by TokMor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Terwin","CreatedById":139655,"CreatedDateTime":"2015-08-14T20:26:54Z","Content":"\n\u003Cp\u003EA few things relating to solar power:\u003C/p\u003E\u003Cp\u003EOn Minmus, the moon does not seem to block the sun properly, so when I am mining at my richest deposits(Greater flats I think), I never use battery power, just solar.\u003C/p\u003E\u003Cp\u003EOther places(Mun, Duna, and Ike thus far), I set down, deploy the drills and set a KAC alarm, then start the drills/ISRU and change focus to another vehicle.\u003C/p\u003E\u003Cp\u003EThe catch-up calculations do not use power, they just produce ore and resources.\u003C/p\u003E\u003Cp\u003E(I am less sure about this, but I think the catch-up calculations also don\u0027t seem to reduce ore if you have a sufficient starting stock, may need running drills though. 4 drills and a lvl 3 engineer with 1 ISRU usually seems to be fine with a concentration of 6-8% if I start with more than a few hundred ore)\u003C/p\u003E\u003Cp\u003EAs such I find that an efficient mining operation only needs enough batteries for a few minutes of operation(in case you check on it at night and don\u0027t want to accidentally end up stopping it until morning).\u003C/p\u003E\u003Cp\u003EAlthough I generally try to have enough solar generation that I produce more power than I consume while mining during the day(and that 10k charge battery that I think comes from Near Future, mostly because I don\u0027t care to worry about power most of the time)\u003C/p\u003E\n"},{"CreatedByName":"FancyMouse","CreatedById":142946,"CreatedDateTime":"2015-08-14T20:37:33Z","Content":"\n\u003Cp\u003ENight Ec computation has been done for other purposes from other mods, and the fact that inactive vessel (not time warp) can\u0027t compute it basically means Ec computation is for your own sake. In practice you can just pack like 30 min of Ec for your active vessel usage and everything still works out (btw I do consider it cheating if probe is not the only consumer of Ec)\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-08-14T20:42:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TokMor\u0022 data-cite=\u0022TokMor\u0022\u003E\u003Cdiv\u003EDrill output: 0.05 * concentration (between 0 and 1) * engineer skill\u003Cp\u003EEngineer skill: 5x for level 0, 9x for level 1, 13x for level 2, 17x at level 3, 21x at level 4 and 25x at level 5\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have seen these numbers elsewhere, I think the wiki. They\u0027re hard-coded, right? I tried looking for them in config files, to no avail.\u003C/p\u003E\u003Cp\u003EInstead, I found the science bonus that scientists \u003Cem\u003Edon\u0027t give anymore because it was de-implemented\u003C/em\u003E lingering around.\u003C/p\u003E\n"},{"CreatedByName":"TokMor","CreatedById":149755,"CreatedDateTime":"2015-08-14T21:23:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003EI have seen these numbers elsewhere, I think the wiki. They\u0027re hard-coded, right? I tried looking for them in config files, to no avail.\u003Cp\u003EInstead, I found the science bonus that scientists \u003Cem\u003Edon\u0027t give anymore because it was de-implemented\u003C/em\u003E lingering around.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect, those are from the drill wiki. I did some experiments on the launch pad and they look pretty accurate.\u003C/p\u003E\u003Cp\u003EFor Terwin and FancyMouse, I suppose if the expectation is that the devs will correct the Ec consumption/generation during warp/inactive periods then we should be optimizing to the \u0022proper\u0022 numbers, but since it is a game one could argue that we should optimize to the game rules rather than reality. Any ideas if there are plans to right that?\u003C/p\u003E\n"},{"CreatedByName":"Clubbavich","CreatedById":149670,"CreatedDateTime":"2015-08-14T21:51:17Z","Content":"\n\u003Cp\u003EI recall reading somewhere that Fuel Cells don\u0027t run until battery power is below 95%, which means you can use them at night and solar panels during the day without needing to micromanage everything. That way, you don\u0027t need to bring enough batteries to last through the night, just enough so that there\u0027s a bit of a buffer. \u003C/p\u003E\u003Cp\u003EIf the 95% thing is true, (i think it is, but I can\u0027t confirm it), then the most efficient setup would be to use both solar panels and fuel cells.\u003C/p\u003E\n"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-08-14T22:03:03Z","Content":"\n\u003Cp\u003EWould you mind comparing operation on fuel cells alone, running non-stop with an easily obtainable 3-star engineer, vs one running only during the day with gigantors, with the same engineer?\u003C/p\u003E\n"},{"CreatedByName":"TokMor","CreatedById":149755,"CreatedDateTime":"2015-08-14T23:01:25Z","Content":"\n\u003Cp\u003ESo I found one more oversight on my part, if one is only running during the day, then you only need half the daily power output of running all day. This actually puts solar power as more efficient to run on planets that are Kerbin distance from the sun or closer. Also assuming that your location gets sun for at least 50% of the day. Just remember to restart your drills often. Time to update the top post once again.\u003C/p\u003E\u003Cp\u003ESharpy, to your question: assuming you are on minimus with 10% ore concentration and a 3 star engineer, then you would need 5.88 drills per ISRU, and either 5.57 power cell arrays for 32.3 m/1fps or 4.79 gigantor panels for 25.6m/1fps if you only run during the day time.\u003C/p\u003E\n"},{"CreatedByName":"FancyMouse","CreatedById":142946,"CreatedDateTime":"2015-08-14T23:46:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TokMor\u0022 data-cite=\u0022TokMor\u0022\u003E\u003Cdiv\u003EAny ideas if there are plans to right that?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve not heard any news about that. They may get silently fixed it in 1.1, but don\u0027t be surprised if not. Note that this bug is more complicated than you might think - e.g. better also fix annulus eclipse energy flow - right now it\u0027s either full or none, which is ridiculous for annulus eclipse; and also for consumers like probe which can support hibernation - they shouldn\u0027t consume electricity at the background. All are just complicating the matter, so while I do want to get it fixed, I understand it if they don\u0027t fix it.\u003C/p\u003E\u003Cp\u003EAlso, back to the original topic not related to Ec - I vaguely remember running all LF/O/LF\u002BO conversion can actually add up (thus result in 3x LF\u002BO production rate on a single ISRU). Can\u0027t verify that at this moment, though, as I really don\u0027t care about that in my save and all my tanks on all my bases are full now.\u003C/p\u003E\u003Cp\u003EEDIT: add more thoughts on the bg ec issue.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-14T23:54:01Z\u0022 title=\u002208/14/2015 11:54  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 14, 2015\u003C/time\u003E by FancyMouse\u003C/strong\u003E\n\u003C/span\u003E\n"}]}