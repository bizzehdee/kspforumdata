{"TopicId":207780,"ForumId":15,"TopicTitle":"Objects touching each other with faces. Do they intersect? Does this affect FPS?","CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2022-04-16T07:35:24Z","PageNum":1,"Articles":[{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2022-04-16T07:35:24Z","Content":"\n\u003Cp\u003E\nBlender or Wings 3d.\n\u003C/p\u003E\n\u003Cp\u003E\nSay, we have a model consisting of two same cubes, standing one on another.\n\u003C/p\u003E\n\u003Cp\u003E\nObviously, their vertices have same coordinates, but probably differing by some microscopic random values.\u003Cbr\u003E\nThus, we probably actually have at least two randomly intersecting squares.\n\u003C/p\u003E\n\u003Cp\u003E\nAs the graphics engine should calculate visibility/invisibilty, orientation and so, it will probably split the intersecting squares in a set of regions, and instead of 2x4 vertices we now get several tens of them, and more faces to calculate.\n\u003C/p\u003E\n\u003Cp\u003E\n***\n\u003C/p\u003E\n\u003Cp\u003E\nUnity/KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nSay, we have two parts each consisting of a simple cube.\n\u003C/p\u003E\n\u003Cp\u003E\nThey have attach nodes laying on the face centers.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen we attach one part to another, we get similar situation with two faces having same coordinates, and probably randomly intersecting each other due to the rounding error.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, as the rounding random error is random, the parts may (and sometimes do) flicker at their contact place, when you rotate the assembly a little.\n\u003C/p\u003E\n\u003Cp\u003E\n***\n\u003C/p\u003E\n\u003Cp\u003E\nQuestions:\n\u003C/p\u003E\n\u003Cp\u003E\n1.\u003Cbr\u003E\nIs it normal to have the geometric figures in Blender/Wings3d attached to each other, or should we intentionally leave a thin gap between them?\u003Cbr\u003E\nIf the gap is needed, are there any \u0022standard\u0022 ways to make it invisible if look from aside?\n\u003C/p\u003E\n\u003Cp\u003E\n2.\u003Cbr\u003E\nThe same about the attach node positions. Should they have an offset from the visible face, and what about a thin gap between parts in this case?\n\u003C/p\u003E\n\u003Cp\u003E\n***\n\u003C/p\u003E\n\u003Cp\u003E\nThank you in advance!\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2022-04-17T00:32:18Z","Content":"\n\u003Cp\u003E\nFirst a disclaimer - I\u0027ve made KSP parts but they\u0027re only so-so -\n\u003C/p\u003E\n\u003Cp\u003E\nBlender: If I have two meshes that intersect I remove any hidden faces - probably makes very little difference but it\u0027s one less face that needs to be checked each frame. If I have a face that\u0027s partially hidden I trim the tris that are completely hidden if it doesn\u0027t mess up the shading of connected faces.\n\u003C/p\u003E\n\u003Cp\u003E\nUnity/KSP: I found, particularly with fuel tanks, that two parts that are suppose to be flush with each other will cause flickering where they meet. What I do for the fuel tanks is I make the rim where they meet bulge out a small bit\u00A0 beyond the connection plane (and collider) and have the attach node at the plane. This way any microscopic gap doesn\u0027t go very deep (hits the bulge from one of the two parts) and this prevents the flickering.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you\u0027re using Blender you can download a\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/40056-blender-mu-importexport-addon\u0022 rel=\u0022\u0022\u003E .mu tool\u003C/a\u003E that can import .mu files (you need an older version of Blender - I know 2.79 works). With this you can import models from the pro\u0027s and examine how they do things.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-04-17T00:33:46Z\u0022 title=\u002204/17/2022 12:33  AM\u0022 data-short=\u00222 yr\u0022\u003EApril 17, 2022\u003C/time\u003E by wasml\u003C/strong\u003E\n\u003Cbr\u003Emissing words\n\u003C/span\u003E\n"},{"CreatedByName":"ColdJ","CreatedById":211123,"CreatedDateTime":"2022-04-17T04:27:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224117782\u0022 data-ipsquote-contentid=\u0022207780\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221650094524\u0022 data-ipsquote-userid=\u0022129408\u0022 data-ipsquote-username=\u0022kerbiloid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, kerbiloid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n1.\u003Cbr\u003E\nIs it normal to have the geometric figures in Blender/Wings3d attached to each other, or should we intentionally leave a thin gap between them?\u003Cbr\u003E\nIf the gap is needed, are there any \u0022standard\u0022 ways to make it invisible if look from aside?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt is normal to be attached, there is no need to leave a gap. Vertices that aren\u0027t joined together have a gap but it is so small that it is invisible to the naked eye. Surface flickering of faces only happens if you have made several faces intersecting over each other inbetween the same vertices and then the render engine keeps changing what it considers to be on top.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224117782\u0022 data-ipsquote-contentid=\u0022207780\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221650094524\u0022 data-ipsquote-userid=\u0022129408\u0022 data-ipsquote-username=\u0022kerbiloid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, kerbiloid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe same about the attach node positions. Should they have an offset from the visible face, and what about a thin gap between parts in this case?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere is no need to offset, infact it is more likely to be obvious if you do offset. It is personal preference on your part but if you make it so that there is a visible gap then it will seem wrong if the parts that you have joined together by node, that should look as if they are one piece, have a noticeable gap. If in doubt put the node slightly inside the face rather than outside.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224117782\u0022 data-ipsquote-contentid=\u0022207780\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221650094524\u0022 data-ipsquote-userid=\u0022129408\u0022 data-ipsquote-username=\u0022kerbiloid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, kerbiloid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs the graphics engine should calculate visibility/invisibilty, orientation and so, it will probably split the intersecting squares in a set of regions, and instead of 2x4 vertices we now get several tens of them, and more faces to calculate.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnity only considers 1 side of a face to be visible, this is determined when you build the model and thankfully there are 2 tools in blender you can use to be sure which way around they are (Face orientation). Now if you solidify the faces\u00A0 with a gap of only 0.0001 you will get the faces intersecting, but as the faces are in opposite directions, only the ones facing out will show in game. If you don\u0027t check orientation before saving a model and have one the wrong way around then in game it will be invisible on the outside, but visible if you look from within.\n\u003C/p\u003E\n\u003Cp\u003E\nFPS is affected by the number of 3d objects at one time the unity engine has to calculate, not so much the number of faces. I have a very intricate wheel tyre that I had to cut up into about 10 pieces so that each chunk was less than 10,000 vertices (because unity stores info about the model chunks in extra vertices it adds, which multiplies the vertices around 6 times, and the limit per chunk that unity can render is roughly 65,500 so 6 times 10,000) and it still renders fine with no obvious flicker or overlap.\n\u003C/p\u003E\n\u003Cp\u003E\nHope this helps.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-04-17T04:37:53Z\u0022 title=\u002204/17/2022 04:37  AM\u0022 data-short=\u00222 yr\u0022\u003EApril 17, 2022\u003C/time\u003E by ColdJ\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2022-04-17T06:06:07Z","Content":"\n\u003Cp\u003E\nThank you for the information, it\u0027s very educational!\n\u003C/p\u003E\n"}]}