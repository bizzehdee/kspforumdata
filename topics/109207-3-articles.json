{"TopicId":109207,"ForumId":34,"TopicTitle":"[1.12.X] Orbital Survey Plus v2.3.6","CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2015-05-14T13:47:28Z","PageNum":3,"Articles":[{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2016-04-27T05:36:23Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, 5thHorseman said:\n\u003E \n\u003E \n\u003E How did I miss this for a YEAR?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Very cool. I may take this mod along on my upcoming Grand Tour.\n\u003E \n\nSame as 5th,\n\nHow did i miss this.\n\nChecking it out now.\n\nGreat idea and looking good.\n\nCheers."},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2016-04-27T06:00:01Z","Content":"Well this is definitely a step in the right direction.  Good job Wheffle.\n\nNow if we can just get someone to fix the whole \u0027search for hours in a rover to find the one pea sized location that actually has worthwhile resources\u0027 thing, we might be able to salvage the stock resources."},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-04-27T19:01:08Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, 5thHorseman said:\n\u003E \n\u003E \n\u003E How did I miss this for a YEAR?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Very cool. I may take this mod along on my upcoming Grand Tour.\n\u003E \n\nTo be fair, just the latest update finally made this mod passable (in my opinion). Great time to join the party ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n\u003E \n\u003E \n\u003E 12 hours ago, Alshain said:\n\u003E \n\u003E \n\u003E Well this is definitely a step in the right direction.  Good job Wheffle.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Now if we can just get someone to fix the whole \u0027search for hours in a rover to find the one pea sized location that actually has worthwhile resources\u0027 thing, we might be able to salvage the stock resources.\n\u003E \n\nPersonally I do enjoy the stock system (besides the heinous abomination that is the insta-reveal stock orbital survey, which distressed me so much it drove me to straight days of frantic sleepless coding that resulted in OSP). It\u0027s definitely not perfect, and I\u0027ve never used a rover to scout. That sounds painful, like just about every contract mission that seems to expect you to use a rover."},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2016-04-27T19:11:15Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, Wheffle said:\n\u003E \n\u003E \n\u003E Personally I do enjoy the stock system (besides the heinous abomination that is the insta-reveal stock orbital survey, which distressed me so much it drove me to straight days of frantic sleepless coding that resulted in OSP). It\u0027s definitely not perfect, and I\u0027ve never used a rover to scout. That sounds painful, like just about every contract mission that seems to expect you to use a rover.\n\u003E \n\nConsider yourself lucky.  Last time I played without Kethane, I sent and entire refinery out to Ike, which is no small task, and drove around for an hour with a scanner in the highest concentration I could find looking for Ore, I never found a high enough percentage to make fuel without time warping for years at a time waiting on it to fill."},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-04-27T19:47:38Z","Content":"[@Alshain](https://forum.kerbalspaceprogram.com/index.php?/profile/110959-alshain/) Yikes. That\u0027s rage quit material."},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-04-29T08:39:21Z","Content":"[Just released another little patch.](http://spacedock.info/mod/574/Orbital%20Survey%20Plus?ga=%3CGame\u002B3102\u002B%27Kerbal\u002BSpace\u002BProgram%27%3E) Fixed some annoying bugs I missed in the last two releases, and added a bit more info to the M700\u0027s context menu (altitude parameters for scanning the current body). Check out the changelog in the OP or on Spacedock for more details."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2016-04-30T23:18:12Z","Content":"Interesting mod, it defiantly deserves more attention."},{"CreatedByName":"KronosHelix","CreatedById":154270,"CreatedDateTime":"2016-05-01T23:55:45Z","Content":"Is O.S.P. 1.1.2 compatible?"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-05-02T05:47:29Z","Content":"**OSP 2.1 update - Science!**\n\nJust pushed out another update. The surveyor now gathers data as it scans, which have to be transmitted back to the KSC for the overlays to be revealed. Also, you get science! Read the OP and changelog for more info.\n\n\u003E \n\u003E \n\u003E 5 hours ago, KronosHelix said:\n\u003E \n\u003E \n\u003E Is O.S.P. 1.1.2 compatible?\n\u003E \n\nI\u0027m not 100% sure if previous versions are compatible, but this last update is targeted at 1.1.2, so it definitely is."},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-05-05T03:05:15Z","Content":"Hi [@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/), we were discussing a certain feature in the SCANSat thread, do you think that\u0027s something possible to do?\n\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/72679-112-scansat-v161-real-scanning-real-science-at-warp-speed-may-2-2016/\u0026do=embed\u0026embedComment=2557661\u0026embedDo=findComment\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-05-05T03:14:35Z","Content":"[@Enceos](https://forum.kerbalspaceprogram.com/index.php?/profile/110725-enceos/) It\u0027s been proposed before, and I think it\u0027s a cool idea. Technically speaking it wouldn\u0027t be too difficult (\\*shouldn\u0027t be too difficult). I\u0027ve held off on it for now because A) I hadn\u0027t fleshed out the original scope of my mod yet (I think it\u0027s pretty much done now, though), and B) I\u0027m undecided on details design-wise of the implementation (like whether planets should be obscured before they are *visisted* or if you have to explicitly *survey* planets to clear the obscurity). I can always add in settings to tweak it how you like, but that\u0027s also twice as much work for me.\n\nI\u0027m open to have a discussion about it. What do you think?"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-05-05T09:50:08Z","Content":"[@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/) I\u0027ve been thinking about it. It would be strange to uncover a planet\u0027s detail procedurally when you can see it clearly in the flight view while orbiting. What do you think about obscuring the planet only in the map view and the tracking station until a probe with a scanner reaches the planet?\n\nTechnically I see it this way, a probe should reach a planet, enter a low orbit around it and send back a kind of terrain data science experiment which instantly reveals the planet in map view and TS.\n\n**Edited \u003Ctime datetime=\u00222016-05-05T12:44:10Z\u0022 title=\u002205/05/2016 12:44  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 5, 2016\u003C/time\u003E by Enceos**"},{"CreatedByName":"CaptRobau","CreatedById":41695,"CreatedDateTime":"2016-05-05T11:53:03Z","Content":"How have i missed this mod all this time. This looks awesome!"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-05-05T12:46:58Z","Content":"[@Enceos](https://forum.kerbalspaceprogram.com/index.php?/profile/110725-enceos/) This isn\u0027t really a problem. At most orbital altitudes you are looking at the scaled space map of a planet, the same as what is shown in the map view. This is why you can see resource overlays in the flight view.\n\nAt a certain altitude the PQS terrain starts to fade in and the scaled space map fades out. So anything in a very low orbit, or going in for a landing, would see the full terrain, but most vessels in orbit would only see the scaled space."},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2016-05-05T13:02:46Z","Content":"I got a game freeze issue regarding the M700:\n\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/138970-ksp-112-always-crashes-with-m700-survey-scanner/\u0026do=embed\u0026embedComment=2561231\u0026embedDo=findComment#comment-2561231\u0022\u003E\u003C/iframe\u003E\n\nCould it be this mod?"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-05-05T16:33:29Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, DMagic said:\n\u003E \n\u003E \n\u003E [@Enceos](https://forum.kerbalspaceprogram.com/index.php?/profile/110725-enceos/) This isn\u0027t really a problem. At most orbital altitudes you are looking at the scaled space map of a planet, the same as what is shown in the map view. This is why you can see resource overlays in the flight view.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E At a certain altitude the PQS terrain starts to fade in and the scaled space map fades out. So anything in a very low orbit, or going in for a landing, would see the full terrain, but most vessels in orbit would only see the scaled space.\n\u003E \n\nAs I understand you\u0027re proposing to hack and replace the scaled map of a planet with something of low resolution and replace it back after the probe scan? Right? This way it will respect the light from the sun (day/night shades).\n\n**Edited \u003Ctime datetime=\u00222016-05-05T16:39:28Z\u0022 title=\u002205/05/2016 04:39  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 5, 2016\u003C/time\u003E by Enceos**"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-05-05T16:55:30Z","Content":"[@Enceos](https://forum.kerbalspaceprogram.com/index.php?/profile/110725-enceos/) Yes, but any map that you see in the map view or tracking station is using the scaled space renderer. There are generally three textures that might be applied here, the visible map, the bump map, and the resource map (which doesn\u0027t respect light sources). All of these are what you see when you look at a planet from flight view in a higher orbit. There is a fade in altitude for each planet where what you see switches from scaled space to PQS. Below that altitude, anything that you do to the scaled space textures won\u0027t have any effect."},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-05-05T19:32:06Z","Content":"[@DMagic](https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/) [@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/) I also propose adding a midstep which supports telescope mods like [Tarsier Space Technology](https://forum.kerbalspaceprogram.com/index.php?/topic/100188-111-tarsier-space-technology-with-galaxies-continued-v61-1st-may-2016/#comment-1731360), making photos with this mod would reveal a medium resolution texture on the planet, which can be done before sending a probe with a high res scanner.\n\n![0yORc39.png](http://i.imgur.com/0yORc39.png)\n\nTarsier ST already has hooks which [Research Bodies](https://forum.kerbalspaceprogram.com/index.php?/topic/114861-112-researchbodies-v17-track-celestial-bodies-to-explore-them-may-5th-2016/#comment-2039431) uses to discover planets.\n\nDo we have a texture replacer code which does such things on the fly?\n\n**Edited \u003Ctime datetime=\u00222016-05-05T19:37:09Z\u0022 title=\u002205/05/2016 07:37  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 5, 2016\u003C/time\u003E by Enceos**"},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-05-05T20:43:12Z","Content":"[@Gordon Dry](https://forum.kerbalspaceprogram.com/index.php?/profile/163177-gordon-dry/) It looks like you have a *lot* of mods installed. It\u0027s very well possible that OSP is interacting badly with another mod, and it\u0027s especially suspicious since it seems to be tied to the M700 and the scanning altitude. If you can reproduce the freeze with just OSP installed, I can definitely take a look and fix it if it\u0027s just an OSP problem. If not, it\u0027s a needle in a haystack situation, but if you can reproduce it with OSP plus one other mod that might be the culprit (are you using a scaling mod? maybe that?), then I will take a look and see what I can see. The logs don\u0027t say much right before the crash, but there are no obvious errors. That\u0027s unfortunate.\n\n[@Enceos](https://forum.kerbalspaceprogram.com/index.php?/profile/110725-enceos/) To keep it within the scope of the mod (which I try to keep smallish and succinct) I would probably implement a simpler system which obscures planets that have been visited, but once they are visited by something with a functioning antenna, the obscuring overlay would be removed. I think it would be ok to have a preliminary basic terrain transmission as well, which would go ahead and unlock the resource overlays as well. However, from what Dmagic said, it seems like it would be best to implement the obscurity (?) would be to hack the scaled terrain textures, which I don\u0027t know much about or how doable it is, so it would require some research or help.\n\nAs far as supporting other mods, I\u0027ll have to worry about that if and when I get the basic system in place. Sounds like a cool idea though."},{"CreatedByName":"Wheffle","CreatedById":74893,"CreatedDateTime":"2016-05-06T02:05:11Z","Content":"**Pushed out a patch** **.** You should be able to actually get transmittable data from Minmus and Gilly now. Fixed some other silly little bugs. Hopefully didn\u0027t introduce new ones. As always, let me know if y\u0027all find any."},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-05-06T11:08:16Z","Content":"[@DMagic](https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/) [@Wheffle](https://forum.kerbalspaceprogram.com/index.php?/profile/74893-wheffle/) By the looks of things it is best to expand the current features of the Research Bodies mod, the 3 step texture replacement fits perfectly into its current scope. I\u0027m going to talk with the author to see if he agrees on expanding.\n\n**Edited \u003Ctime datetime=\u00222016-05-06T11:08:48Z\u0022 title=\u002205/06/2016 11:08  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 6, 2016\u003C/time\u003E by Enceos**"},{"CreatedByName":"CaptRobau","CreatedById":41695,"CreatedDateTime":"2016-05-06T12:14:02Z","Content":"I think the best way to obscure planetary terrain is by using KSPs built-in mipmaps system. Stock planets, and those of any planet pack creator worth their salt, will have their color and normal maps used for the ScaledSpace version of the planet saved with mipmaps. Generating mipmaps basically means that in the image, there are 8 images of sequentially halved resolution included with the base image. These could be used to create progressively more detailed planetary resolution, up until the planet is fully discovered and you only see its full resolution.\n\nBelow I\u0027ve shown how the various mipmaps of my moon Slate would look like at these various resolutions. I don\u0027t know how to hook into this and make it happen, but since this system is already in the game I imagine it would be doable to tap into it.\n\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/CnjVG/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\nIn my concept Level 8 would be the starting resolution of the planet in the Map View. This is the resolution at which ground-based telecopes on Kerbin can image this planet. With a space telescope you could then get the quality up to something like Level 6. After this you\u0027d have to visit the planet with a spacecraft. As the planet gets closer and closer the Level would go from 6 all the way up to 1, after which you\u0027d always get the full resolution in the Map View.\n\n**Edited \u003Ctime datetime=\u00222016-05-06T12:27:32Z\u0022 title=\u002205/06/2016 12:27  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 6, 2016\u003C/time\u003E by CaptRobau**"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2016-05-06T12:33:56Z","Content":"[@CaptRobau](https://forum.kerbalspaceprogram.com/index.php?/profile/41695-captrobau/) I love the idea. Mipmaps have always been there for us to exploit. We won\u0027t have to generate new textures, just find a way to hack the distance at which mipmaps fade in.\n\n**Edited \u003Ctime datetime=\u00222016-05-06T12:34:40Z\u0022 title=\u002205/06/2016 12:34  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 6, 2016\u003C/time\u003E by Enceos**"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-05-06T13:33:17Z","Content":"I dug out the code I was using and made some screenshots:\n\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/JJhxf/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\nThis shows rescaling the visual map at several different resolutions and the affect of the bump map. On the left is with the bump map on, you can see that even at very low resolution visual textures there is still a lot of detail.\n\nAbout mip maps, that\u0027s a good idea, but I have no idea how to actually access mip map layers. The Texture classes don\u0027t seem to have anything related to manually activating a certain layer. This was all done using TextureScale, a Unity addon that Squad includes with KSP.\n\nI also added an example using the resource overlay map (don\u0027t ask why it\u0027s so white...), you can see the effect of the bump map and how both sides are fully lit.\n\n**Edited \u003Ctime datetime=\u00222016-05-06T13:49:48Z\u0022 title=\u002205/06/2016 01:49  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 6, 2016\u003C/time\u003E by DMagic**"},{"CreatedByName":"CaptRobau","CreatedById":41695,"CreatedDateTime":"2016-05-06T16:39:06Z","Content":"Very cool. I also found that if you want to really lose the detail, you gotta go really low with your resolution. To get something that looks like it would from a ground telescope you have to go for at least 64x32 or 32x16."}]}