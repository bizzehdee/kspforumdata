{"TopicId":91625,"ForumId":34,"TopicTitle":"[1.10.1\u002B] Contract Configurator [v1.30.5] [2020-10-05]","CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2014-11-30T06:23:07Z","PageNum":27,"Articles":[{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-03-30T20:32:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022severedsolo\u0022 data-cite=\u0022severedsolo\u0022\u003E\u003Cdiv\u003EGood job on the module manager support! I love the fact that you can insert parameters/requirements ad-hoc depending on what mods are installed.\u003Cp\u003EPie in the sky wish - don\u0027t suppose there is any way of getting a requirement to only fire if a vessel in orbit has below x resource?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EShould be relatively easy if you\u0027re okay with handling it via expressions. Raised [\u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/issues/171\u0022 rel=\u0022external nofollow\u0022\u003E#171\u003C/a\u003E] to track (you want this for 0.7.5, I assume?).\u003C/p\u003E\u003Cp\u003ETaking a wild guess at what your required use case is (refuelling the station?), you could do something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EDATA\u003Cbr\u003E{\u003Cbr\u003E    type = Vessel\u003Cbr\u003E    targetVessel = [ LKOStation ].Where(v =\u0026gt; v.ResourceQuantity(Karbonite) \u0026lt;= 100).First()\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhat that would do is if LKOStation has less than 100 Karbonite (or whatever you choose), it\u0027ll be the targetVessel, otherwise targetVessel will be null. Since the default is to disallow contracts when any DATA element is null, the effect is the contract only gets offered when in the low Karbonite situation. That work for you?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EActually, it was a pretty quick change, so I just went ahead and threw it in. Let me know if it doesn\u0027t work as advertised.\u003C/p\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2015-03-31T04:39:04Z","Content":"\n\u003Cp\u003EIf it works as you said that\u0027s perfect thanks! I\u0027ll give it a test tonight\u003C/p\u003E\n"},{"CreatedByName":"metl","CreatedById":82406,"CreatedDateTime":"2015-03-31T04:41:47Z","Content":"\n\u003Cp\u003EI think i figured out using the DATA node expression to check for a ship in orbit. For the most part, it works, but after the vessel is destroyed, it takes declining the remaining related available missions a couple of times before they stop appearing. Here is how i got it working:\u003C/p\u003E\u003Cp\u003EDATA\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E type = Vessel\u003C/p\u003E\u003Cp\u003E requiredValue = true\u003C/p\u003E\u003Cp\u003E targetVessel = targetVessel = Vessel().LKOStation().where(v =\u0026gt; v.IsOrbiting()).Kerbin()\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EREQUIREMENT\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = vesselcheck\u003C/p\u003E\u003Cp\u003E type = Expression\u003C/p\u003E\u003Cp\u003E expression = targetVessel == true\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EWhat do you think?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-03-31T05:30:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metl\u0022 data-cite=\u0022metl\u0022\u003E\u003Cdiv\u003EI think i figured out using the DATA node expression to check for a ship in orbit. For the most part, it works, but after the vessel is destroyed, it takes declining the remaining related available missions a couple of times before they stop appearing. Here is how i got it working:\u003Cp\u003EDATA\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E type = Vessel\u003C/p\u003E\u003Cp\u003E requiredValue = true\u003C/p\u003E\u003Cp\u003E targetVessel = targetVessel = Vessel().LKOStation().where(v =\u0026gt; v.IsOrbiting()).Kerbin()\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EREQUIREMENT\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = vesselcheck\u003C/p\u003E\u003Cp\u003E type = Expression\u003C/p\u003E\u003Cp\u003E expression = targetVessel == true\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EWhat do you think?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat expression is questionable - it won\u0027t know that targetVessel is a vessel, so it\u0027ll read as a double and get 0.0. Under the development version, this should work:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E        expression = Vessel(targetVessel).IsOrbiting()\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESpeaking of which, release pushed to tomorrow... just too much pain in getting docking working. I think I\u0027ve got it right, but it needs a bit more testing.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-03-31T17:26:32Z","Content":"\n\u003Cp\u003ETons of little bug fixes and new stuff for modders. \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/releases/tag/0.7.5\u0022 rel=\u0022external nofollow\u0022\u003EDownload it now\u003C/a\u003E!\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EContract Configurator 0.7.5\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EPossible fix for duration counters resetting (thanks dorin6565 and many others).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFix for HasCrew with count \u0026gt; 0 (thanks Yemo).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFix for undefined vessels showing up in Tourism contracts (thanks Kaa253).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EImprovements to tracking across docked vessels.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESpawnPassengers now only spawns passengers on Kerbin (closes EPL exploit).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESequence parameter no longer fails if child parameters complete out of order.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAdded hideChildren attribute to contract parameters to hide children.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAdded requiredValue attribute to DATA nodes.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAdded CelestialBody(), Kerbal() and Vessel() functions to expressions.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAdded resources to expressions.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDebug window now highlights items with warnings in yellow.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EObsolete EnterOrbit.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EObsolete EnterSOI.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EObsolete LandOnBody.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EObsolete VesselHasVisited.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EMinor bug fixes.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"superm18","CreatedById":57755,"CreatedDateTime":"2015-03-31T18:04:16Z","Content":"\n\u003Cp\u003EWas told to post this here....\u003C/p\u003E\u003Cp\u003EException occured while loading contract parameter \u0027Sequence5701\u0027 in contract \u0027FirstUnmannedMinmusFlyby\u0027:\u003C/p\u003E\u003Cp\u003ESystem.ArgumentException: Missing required value \u0027failWhenCompleteOutOfOrder\u0027.\u003C/p\u003E\u003Cp\u003E at ContractConfigurator.ConfigNodeUtil.ParseValue[boolean] (.ConfigNode configNode, System.String key, Boolean allowExpression) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at ContractConfigurator.Parameters.Sequence.OnParameterLoad (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at ContractConfigurator.Parameters.ContractConfiguratorParameter.OnLoad (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003EOutput log: \u003Ca href=\u0022http://www./view/n5jot08ea435iuq/output_log(6).txt\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./view/n5jot08ea435iuq/output_log(6).txt\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-03-31T18:11:08Z","Content":"\n\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ll get 0.7.6 out with a fix ASAP.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EHot fix up! \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/releases/tag/0.7.6\u0022 rel=\u0022external nofollow\u0022\u003EDownload it now\u003C/a\u003E!\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EContract Configurator 0.7.6\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFix a save load issue with the Sequence parameter in 0.7.5 (thanks superm18).\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"superm18","CreatedById":57755,"CreatedDateTime":"2015-03-31T18:11:23Z","Content":"\n\u003Cp\u003ENp mate :-) thanks for your time and effort to make this mod AND maintain it\u003C/p\u003E\n"},{"CreatedByName":"Mokmo","CreatedById":62363,"CreatedDateTime":"2015-03-31T18:32:21Z","Content":"\n\u003Cp\u003EQuick question: If i fetch 0.7.6, will there be problems with the two packs i use ? I use Advances Progression and Kerbin Space Station.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-03-31T18:33:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mokmo\u0022 data-cite=\u0022Mokmo\u0022\u003E\u003Cdiv\u003EQuick question: If i fetch 0.7.6, will there be problems with the two packs i use ? I use Advances Progression and Kerbin Space Station.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENone expected, in fact some of the fixes are targeted towards those (I\u0027m hoping there won\u0027t be any more issues with \u0022losing\u0022 track of the station in KSS).\u003C/p\u003E\n"},{"CreatedByName":"SpaceNomad","CreatedById":136195,"CreatedDateTime":"2015-03-31T21:41:02Z","Content":"\n\u003Cp\u003EI just upgraded from Contract Configurator 0.7.4 to 0.7.6 via CKAN and am now getting the following exception when switching to the FlightScene (or when loading a savegame which is in the FlightScene). It seems this aborts the load as shortly after this KCT complains violently. Rolling back to 0.7.4 makes the issues disappear.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EInvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E  at System.Linq.Enumerable.First[UInt32] (IEnumerable\u00601 source) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.ContractVesselTracker.OnLoad (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ScenarioModule.Load (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ScenarioRunner.AddModule (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ProtoScenarioModule.Load (.ScenarioRunner host) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ScenarioRunner\u002B^K  .MoveNext () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI have the following Contract Packs installed:\u003C/p\u003E\u003Cp\u003E- Contract Pack: Anomaly Surveyor 1.0.5\u003C/p\u003E\u003Cp\u003E- Contract Pack: RemoteTech 1.1.0\u003C/p\u003E\u003Cp\u003E- Contract Pack: SCANSat 0.5.0\u003C/p\u003E\u003Cp\u003E- Contract Pack: Tourism 1.0.0\u003C/p\u003E\u003Cp\u003EI think, of these I only have RemoteTech and Tourism contracts active at the moment.\u003C/p\u003E\u003Cp\u003ESavegame is at \u003Ca href=\u0022https://gist.github.com/lwho/ab86a7d329cd20e4befc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/lwho/ab86a7d329cd20e4befc\u003C/a\u003E (caveat: a lot of other mods installed).\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-03-31T22:12:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpaceNomad\u0022 data-cite=\u0022SpaceNomad\u0022\u003E\u003Cdiv\u003EI just upgraded from Contract Configurator 0.7.4 to 0.7.6 via CKAN and am now getting the following exception when switching to the FlightScene (or when loading a savegame which is in the FlightScene). It seems this aborts the load as shortly after this KCT complains violently. Rolling back to 0.7.4 makes the issues disappear.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EInvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E  at System.Linq.Enumerable.First[UInt32] (IEnumerable\u00601 source) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.ContractVesselTracker.OnLoad (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ScenarioModule.Load (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ScenarioRunner.AddModule (.ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ProtoScenarioModule.Load (.ScenarioRunner host) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ScenarioRunner\u002B^K  .MoveNext () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI have the following Contract Packs installed:\u003C/p\u003E\u003Cp\u003E- Contract Pack: Anomaly Surveyor 1.0.5\u003C/p\u003E\u003Cp\u003E- Contract Pack: RemoteTech 1.1.0\u003C/p\u003E\u003Cp\u003E- Contract Pack: SCANSat 0.5.0\u003C/p\u003E\u003Cp\u003E- Contract Pack: Tourism 1.0.0\u003C/p\u003E\u003Cp\u003EI think, of these I only have RemoteTech and Tourism contracts active at the moment.\u003C/p\u003E\u003Cp\u003ESavegame is at \u003Ca href=\u0022https://gist.github.com/lwho/ab86a7d329cd20e4befc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/lwho/ab86a7d329cd20e4befc\u003C/a\u003E (caveat: a lot of other mods installed).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnother hotfix inbound! \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/releases/tag/0.7.7\u0022 rel=\u0022external nofollow\u0022\u003EDownload now\u003C/a\u003E!\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EContract Configurator 0.7.7\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EHotfix for loading saves from 0.7.4 or older (thanks SpaceNomad).\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nachocuban","CreatedById":100587,"CreatedDateTime":"2015-03-31T22:14:52Z","Content":"\n\u003Cp\u003EI can\u0027t reproduce this, but after upgrading to the newest CC (7.6) All my Advanced Progression Contracts Reset. I figured no big deal, I bugged out the 7 day orbit and EVA in space contract anyway, so I could start them over. I picked up the first Kerbal in Orbit Contract and loaded a ship that had invalid parts. Game locked up, had to alt-F4. loaded back up, built a new ship, went to orbit, notice I have no active contracts. Go back to Mission Control, and I have no completed, failed, or active contracts at all.\u003C/p\u003E\u003Cp\u003EI tried to reproduce using the same crash method, but I kept my active contracts this time around. Not sure what happened.\u003C/p\u003E\u003Cp\u003EMy mod list includes, well all of them, but notably; CC, Advanced Progression Contracts, Remote Tech Contracts, ScanSat Contracts.\u003C/p\u003E\u003Cp\u003EEdit: Just saw you did another update, I will pick that up and see if it repeats.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-31T22:16:28Z\u0022 title=\u002203/31/2015 10:16  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 31, 2015\u003C/time\u003E by Nachocuban\u003C/strong\u003E\n\u003Cbr\u003E7.7\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-03-31T22:34:05Z","Content":"\n\u003Cp\u003EGood chance that you hit the same issue - hopefully 0.7.7 does the trick for you.\u003C/p\u003E\n"},{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-03-31T22:38:25Z","Content":"\n\u003Cp\u003EJust sent you a PM - probe contracts failing out since the CC update today.\u003C/p\u003E\n"},{"CreatedByName":"metl","CreatedById":82406,"CreatedDateTime":"2015-04-01T01:58:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EThat expression is questionable - it won\u0027t know that targetVessel is a vessel, so it\u0027ll read as a double and get 0.0. Under the development version, this should work:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E        expression = Vessel(targetVessel).IsOrbiting()\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESpeaking of which, release pushed to tomorrow... just too much pain in getting docking working. I think I\u0027ve got it right, but it needs a bit more testing.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI first thought it was an odd way to read it to, but it seems as if the expression is making sure the contract requirement of the target vessel matches the value stored in the DATA node which is the specific vessel orbiting Kerbin. It seems to not care that it is a string. Like I said, it seems to work, but does have a bug in it so I will definitely give your suggestion a try. I figure if anyone knows how it works under the hood, you would be the person to ask! thanks for pushing out the updates to docking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWell, it was working (I thought. I might just not have cycled the contracts enough to get it to come up again.) It accepts my original syntax as valid, but it seems to have no effect on whether the contract appears. \u003C/p\u003E\u003Cp\u003EUsing the suggestion you gave, I get an error that says the value supplied for the expression is invalid. And i didn\u0027t have any luck trying to write my own requirement. WAY above my ability! LOL!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-01T02:43:31Z\u0022 title=\u002204/01/2015 02:43  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 1, 2015\u003C/time\u003E by metl\u003C/strong\u003E\n\u003Cbr\u003Eupdate\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-04-01T02:24:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metl\u0022 data-cite=\u0022metl\u0022\u003E\u003Cdiv\u003EI first thought it was an odd way to read it to, but it seems as if the expression is making sure the contract requirement of the target vessel matches the value stored in the DATA node which is the specific vessel orbiting Kerbin. It seems to not care that it is a string. Like I said, it seems to work, but does have a bug in it so I will definitely give your suggestion a try. I figure if anyone knows how it works under the hood, you would be the person to ask! thanks for pushing out the updates to docking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo problem, although there was a little grief with updates today.\u003C/p\u003E\u003Cp\u003ERe-reading your original post on this, the expression (even my corrected one) is actually useless.... the DATA node already checks for a \u0022null\u0022 value and fails the requirement test if it is null. The exception is when you set requiredValue to false (which you have not done). So you should get the same behaviour regardless of the expression.\u003C/p\u003E\n"},{"CreatedByName":"metl","CreatedById":82406,"CreatedDateTime":"2015-04-01T04:07:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003ENo problem, although there was a little grief with updates today.\u003Cp\u003ERe-reading your original post on this, the expression (even my corrected one) is actually useless.... the DATA node already checks for a \u0022null\u0022 value and fails the requirement test if it is null. The exception is when you set requiredValue to false (which you have not done). So you should get the same behaviour regardless of the expression.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s what I thought it was supposed to do and that is probably why it worked before and didn\u0027t now. I took that line out thinking it was redundant. So how do we reverse it to where the contract appears under the false condition?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-01T04:25:03Z\u0022 title=\u002204/01/2015 04:25  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 1, 2015\u003C/time\u003E by metl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-04-01T04:35:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metl\u0022 data-cite=\u0022metl\u0022\u003E\u003Cdiv\u003EThat\u0027s what I thought it was supposed to do and that is probably why it worked before and didn\u0027t now. I took that line out thinking it was redundant. So how do we reverse it to where the contract appears under the false condition?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you want the contract to show up even when targetVessel is null then you would use requiredValue = false (ie. \u0022target vessel is not a required value for the contract to show up\u0022). Is that what you mean?\u003C/p\u003E\n"},{"CreatedByName":"metl","CreatedById":82406,"CreatedDateTime":"2015-04-01T04:56:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EIf you want the contract to show up even when targetVessel is null then you would use requiredValue = false (ie. \u0022target vessel is not a required value for the contract to show up\u0022). Is that what you mean?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENevermind. I\u0027m an idiot. I should have looked at the error log better. It isn\u0027t the requiredValue flaging. It says \u0022Can\u0027t find method Kerbin for class List 1.\u0022\u003C/p\u003E\u003Cp\u003ELts of parser stuff, then it shows\u003C/p\u003E\u003Cp\u003Eerror occured near \u0022*\u0022\u003C/p\u003E\u003Cp\u003E[ LKOStation ].where(v =\u0026gt;v.IsOrbiting()).Kerbin()\u003C/p\u003E\u003Cp\u003E.*\u0026lt;--Here\u003C/p\u003E\u003Cp\u003EI\u0027m thinking I need to define \u0022Celestialbody().Kerbin()\u0022 maybe? Or can i do \u0022[ Kerbin ]\u0022? I know, you are probably about getting sick of playing 20 questions just trying to help an idiot (me) solve this one problem. I just assumed the \u0022Random\u0022 that was on the wiki example could be swapped with a planet name. I should have known it wouldn\u0027t be that simple \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-04-01T05:00:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metl\u0022 data-cite=\u0022metl\u0022\u003E\u003Cdiv\u003ENevermind. I\u0027m an idiot. I should have looked at the error log better. It isn\u0027t the requiredValue flaging. It says \u0022Can\u0027t find method Kerbin for class List 1.\u0022\u003Cp\u003ELts of parser stuff, then it shows\u003C/p\u003E\u003Cp\u003Eerror occured near \u0022*\u0022\u003C/p\u003E\u003Cp\u003E[ LKOStation ].where(v =\u0026gt;v.IsOrbiting()).Kerbin()\u003C/p\u003E\u003Cp\u003E.*\u0026lt;--Here\u003C/p\u003E\u003Cp\u003EI\u0027m thinking I need to define \u0022Celestialbody().Kerbin()\u0022 maybe? Or can i do \u0022[ Kerbin ]\u0022? I know, you are probably about getting sick of playing 20 questions just trying to help an idiot (me) solve this one problem. I just assumed the \u0022Random\u0022 that was on the wiki example could be swapped with a planet name. I should have known it wouldn\u0027t be that simple \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E[ LKOStation ].where(v =\u0026gt;v.IsOrbiting() \u0026amp;\u0026amp; v.CelestialBody() == Kerbin).Random\u003C/p\u003E\u003Cp\u003E()\u003C/p\u003E\u003Cp\u003EHope that came out right, on mobile. For more details, have a look at the function reference wiki page.\u003C/p\u003E\n"},{"CreatedByName":"SpaceNomad","CreatedById":136195,"CreatedDateTime":"2015-04-01T17:50:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EAnother hotfix inbound! \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/releases/tag/0.7.7\u0022 rel=\u0022external nofollow\u0022\u003EDownload now\u003C/a\u003E!\u003Cp\u003E\u003Cstrong\u003EContract Configurator 0.7.7\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EHotfix for loading saves from 0.7.4 or older (thanks SpaceNomad). \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat, thanks. That fixed \u003Cstrong\u003Ethat one\u003C/strong\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI originally wanted to report another bug before I got derailed by not being able to load any savegames anymore \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E, but I think this is actually specific to \u0022Contract Pack: RemoteTech 1.1.0\u0022, so I\u0027ll head over to the other thread...\u003C/p\u003E\n"},{"CreatedByName":"metl","CreatedById":82406,"CreatedDateTime":"2015-04-01T23:19:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003E[ LKOStation ].where(v =\u0026gt;v.IsOrbiting() \u0026amp;\u0026amp; v.CelestialBody() == Kerbin).Random\u003Cp\u003E()\u003C/p\u003E\u003Cp\u003EHope that came out right, on mobile. For more details, have a look at the function reference wiki page.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat took care of the errors, but it doesn\u0027t have any effect on whether the contract is offered or not. Does the DATA node need to go within a parameter or requirement? It\u0027s currently on it\u0027s own. I tried it in the VesselParameterGroup, but it didn\u0027t make a difference. On the bright side, by the time I get this figured out, I just might know what I am doing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sp1989","CreatedById":105359,"CreatedDateTime":"2015-04-01T23:43:06Z","Content":"\n\u003Cp\u003EIve noticed a small problem over the last week or two. I have been using contract configurator on and off and it seems the only glitch I have noticed is that every time I load up ksp and load my career I get the \u0022launch a new vessel\u0022 contract. Even without CC now I get \u0022launch a new vessel\u0022 contract whenever I load a current career. Im not sure if this has to do with CC or if anyone else seems to be having this same problem. It is a completely benign issue as it just require launching a new vessel or cheat completing the contract. It just seems like an interesting \u0022glitch\u0022\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-04-02T03:02:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metl\u0022 data-cite=\u0022metl\u0022\u003E\u003Cdiv\u003EThat took care of the errors, but it doesn\u0027t have any effect on whether the contract is offered or not. Does the DATA node need to go within a parameter or requirement? It\u0027s currently on it\u0027s own. I tried it in the VesselParameterGroup, but it didn\u0027t make a difference. On the bright side, by the time I get this figured out, I just might know what I am doing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe DATA node needs to be under the CONTRACT_TYPE. If you put them somewhere else, they will be silently ignored (raised [\u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/issues/174\u0022 rel=\u0022external nofollow\u0022\u003E#174\u003C/a\u003E] to output a warning and save you from yourself). When you say, \u0022it doesn\u0027t have any effect\u0022, what do you mean? Do you mean it\u0027s never offered?\u003C/p\u003E\u003Cp\u003EHead to the Contract Configurator debug menu (alt-F10), find your contract type and hover over it. That should show the config node details on the right hand side. Slide the mouse over carefully (I know, it\u0027s a pain, I\u0027ll make it better one of these days) and scroll down in that second area. You should see some details about the values for the attributes after expressions have been expanded. Throw a screenshot of that up and I can take a closer look (although seeing it yourself may make things click if the issue is in the contract type....)\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sp1989\u0022 data-cite=\u0022sp1989\u0022\u003E\u003Cdiv\u003EIve noticed a small problem over the last week or two. I have been using contract configurator on and off and it seems the only glitch I have noticed is that every time I load up ksp and load my career I get the \u0022launch a new vessel\u0022 contract. Even without CC now I get \u0022launch a new vessel\u0022 contract whenever I load a current career. Im not sure if this has to do with CC or if anyone else seems to be having this same problem. It is a completely benign issue as it just require launching a new vessel or cheat completing the contract. It just seems like an interesting \u0022glitch\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDefinitely sounds like a symptom of a bigger problem. When a contract throws an exception when loading from the save file, it\u0027ll kill the contract system, effectively wiping out all your contract history. No contract history is one good reason why you\u0027ll see contracts that are supposed to be one time only offered again and again.\u003C/p\u003E\u003Cp\u003EAlternate explanation would be that the scenario module that tracks your launch history (ProgressTracking, I think) is crashing in a similar way. Seen that happen when you fire Kerbals (one of Claw\u0027s bug fix modules is for that exact scenario).\u003C/p\u003E\u003Cp\u003ERegardless, post up a KSP.log and I can have a quick peek.\u003C/p\u003E\n"}]}