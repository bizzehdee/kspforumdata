{"TopicId":187308,"ForumId":15,"TopicTitle":"Part Tools texture cast error","CreatedByName":"Dolin","CreatedById":61214,"CreatedDateTime":"2019-08-19T09:55:42Z","PageNum":1,"Articles":[{"CreatedByName":"Dolin","CreatedById":61214,"CreatedDateTime":"2019-08-19T09:55:42Z","Content":"\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m in need of some help with this Parrt tools error upon saving the model \u002B textures:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EFile error: Cannot cast from source type to destination type.\n  at KSPPartTools.BitmapWriter.Write2D (UnityEngine.Texture texture, System.String newPath, TextureType texType) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KSPPartTools.PartWriter.WriteTexture (UnityEngine.Texture texture, System.String path, System.String filePath, KSPPartTools.TextureDummy tex, System.String filename) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KSPPartTools.PartWriter.WriteTextures (System.IO.BinaryWriter bw) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KSPPartTools.PartWriter.Write (System.String modelName, System.String filePath, UnityEngine.Transform target, TextureFormat textureFormat) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\nUnityEngine.Debug:LogError(Object)\nKSPPartTools.PartWriter:Write(String, String, Transform, TextureFormat)\nKSPPartTools.PartToolsInspector:DrawWriterGUI()\nKSPPartTools.PartToolsInspector:OnInspectorGUI()\nPartToolsEditor:OnInspectorGUI() (at Assets/PartTools/Editor/PartToolsEditor.cs:18)\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe models are\u00A0Orbiter 2010 meshes whcih I\u0027m trying to import into KSP. They\u0027re\u00A0 .fbx imported from Blender along with the embedded txtures which are .dds.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI could surmise that the problem could be related to that \u0026lt;filename unknown\u0026gt;\u00A0 string but I have no idea how to deal with this.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI hope this is enough information and not too vague a description. Can\u00A0anyone suggest anything?\n\u003C/p\u003E\n\u003Cp\u003E\nThank you very much indeed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDolin\n\u003C/p\u003E\n"},{"CreatedByName":"CobaltWolf","CreatedById":105588,"CreatedDateTime":"2019-08-19T18:14:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223652791\u0022 data-ipsquote-contentid=\u0022187308\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566208542\u0022 data-ipsquote-userid=\u002261214\u0022 data-ipsquote-username=\u0022Dolin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Dolin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m in need of some help with this Parrt tools error upon saving the model \u002B textures:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EFile error: Cannot cast from source type to destination type.\n  at KSPPartTools.BitmapWriter.Write2D (UnityEngine.Texture texture, System.String newPath, TextureType texType) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KSPPartTools.PartWriter.WriteTexture (UnityEngine.Texture texture, System.String path, System.String filePath, KSPPartTools.TextureDummy tex, System.String filename) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KSPPartTools.PartWriter.WriteTextures (System.IO.BinaryWriter bw) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at KSPPartTools.PartWriter.Write (System.String modelName, System.String filePath, UnityEngine.Transform target, TextureFormat textureFormat) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\nUnityEngine.Debug:LogError(Object)\nKSPPartTools.PartWriter:Write(String, String, Transform, TextureFormat)\nKSPPartTools.PartToolsInspector:DrawWriterGUI()\nKSPPartTools.PartToolsInspector:OnInspectorGUI()\nPartToolsEditor:OnInspectorGUI() (at Assets/PartTools/Editor/PartToolsEditor.cs:18)\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe models are\u00A0Orbiter 2010 meshes whcih I\u0027m trying to import into KSP. They\u0027re\u00A0 .fbx imported from Blender along with the embedded txtures which are .dds.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI could surmise that the problem could be related to that \u0026lt;filename unknown\u0026gt;\u00A0 string but I have no idea how to deal with this.\n\u003C/p\u003E\n\u003Cp\u003E\nI hope this is enough information and not too vague a description. Can\u00A0anyone suggest anything?\n\u003C/p\u003E\n\u003Cp\u003E\nThank you very much indeed.\n\u003C/p\u003E\n\u003Cp\u003E\nDolin\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t believe the part tools works with .dds source files, for whatever reason. I\u0027d just make png copies for export and then delete\u002Breplace them with the original dds files in the Gamedata.\n\u003C/p\u003E\n"},{"CreatedByName":"Dolin","CreatedById":61214,"CreatedDateTime":"2019-08-20T09:40:49Z","Content":"\n\u003Cp\u003E\nThank you for your quick reply,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFollowing your comment I was inspired to convert every texture to .png and see if the orbiter mesh plugin in Blender was able to map the UVs regardless of the format.\n\u003C/p\u003E\n\u003Cp\u003E\nLuckily it seems like it was, and working with .png only enabled me to use part tools succesfully. Thank you.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDolin\n\u003C/p\u003E\n"}]}