{"TopicId":73648,"ForumId":36,"TopicTitle":"[1.0.4] KSPAPIExtensions V1.7.5 - Utilities for shared mod use 25 Jun","CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-05-30T13:38:16Z","PageNum":2,"Articles":[{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-18T01:02:15Z","Content":"\n\u003Cp\u003Etaniwha has some updates for this, I\u0027m also looking into it (but he\u0027s better\u0027n me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E )\u003C/p\u003E\u003Cp\u003EIf you go to the git repo, you\u0027ll see a test release (with taniwha\u0027s updates). However, it\u0027s not actually useful for end users (plugins that use this will have to be recompiled to use this new version) but it might help plugin makers at least *test* their stuff in .24.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-18T01:06:02Z\u0022 title=\u002207/18/2014 01:06  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 18, 2014\u003C/time\u003E by NathanKell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2014-07-18T01:04:18Z","Content":"\n\u003Cp\u003EGood to hear! Procedural Parts seems to be having some issues here;.\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2014-07-18T01:25:15Z","Content":"\n\u003Cp\u003EHey, let me ask, is Procedural Parts also being worked on?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-18T02:37:37Z","Content":"\n\u003Cp\u003EYes, it is indeed. It\u0027s intimately tied to KAE though.\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2014-07-18T02:40:16Z","Content":"\n\u003Cp\u003EGlad it\u0027s being worked on, looking forward to it!\u003C/p\u003E\n"},{"CreatedByName":"Paragon","CreatedById":61697,"CreatedDateTime":"2014-07-18T04:18:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EHowever, it\u0027s not actually useful for end users (plugins that use this will have to be recompiled to use this new version) but it might help plugin makers at least *test* their stuff in .24.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is not strictly true. It might be in certain cases, but since certain mods will just link to a DLL (such as Procedural Fairings does) as long as the interfaces exposed by the DLL don\u0027t change, it can remain implementation-agnostic. The two are not so tightly coupled. Case in point: I just grabbed your alpha DLL out of the github repo and threw it into my installed Procedural Fairings folder, and it worked like a charm. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-18T04:43:27Z","Content":"\n\u003Cp\u003EBut there have been enough changes with the exact things that PF (in particular) uses that I really wouldn\u0027t suggest that.\u003C/p\u003E\u003Cp\u003EAlso there\u0027s the fact that it\u0027s still got issues, which you can verify by checking your output log after using it for a while.\u003C/p\u003E\u003Cp\u003ESo...I really wouldn\u0027t recommend it.\u003C/p\u003E\n"},{"CreatedByName":"Paragon","CreatedById":61697,"CreatedDateTime":"2014-07-18T05:15:51Z","Content":"\n\u003Cp\u003EPerhaps. Maybe my disagreement is just that there is an audience somewhere between end users and mod developers (like myself) that don\u0027t mind dealing with the issues in exchange for something that\u0027s half-functioning that they can work with. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-18T05:22:48Z\u0022 title=\u002207/18/2014 05:22  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 18, 2014\u003C/time\u003E by Paragon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-18T06:19:10Z","Content":"\n\u003Cp\u003EOk, fair enough. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E( But you don\u0027t have to deal with the support requests \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E )\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2014-07-19T01:28:02Z","Content":"\n\u003Cp\u003EThe thing I don\u0027t like about mods that uses mods, is that the depending mod needs to be updated first in cases something happens... like e.g. 0.24...\u003C/p\u003E\u003Cp\u003EIn other words ... please update this mod as fast as you can so that I can use e.g. proc fairings again (which I need cause of FAR)\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-19T02:33:26Z","Content":"\n\u003Cp\u003EI have thus far heard no reports of this updated version itself breaking in .24, so I now encourage plugin developers who use it to try it out, and if it passes their tests, to let me know (and release their updates) and I will push an official release of this and edit the OP.\u003C/p\u003E\n"},{"CreatedByName":"Firov","CreatedById":57445,"CreatedDateTime":"2014-07-19T09:34:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI have thus far heard no reports of this updated version itself breaking in .24, so I now encourage plugin developers who use it to try it out, and if it passes their tests, to let me know (and release their updates) and I will push an official release of this and edit the OP.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENathan, I\u0027ve been using the beta DLL in the as of yet unreleased SmartParts update and everything seems to check out.\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2014-07-19T14:52:37Z","Content":"\n\u003Cp\u003EWith the updated version apparently working in .24 , is progress being made on PP?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-19T17:01:09Z","Content":"\n\u003Cp\u003EHave to run. Will release this when I get home.\u003C/p\u003E\u003Cp\u003EI have RSS almost done; then it\u0027s time for RF and PP.\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2014-07-19T19:38:17Z","Content":"\n\u003Cp\u003EHey ig, I\u0027d like to use KSPAPIExtensions in Near Future Propulsion. Just letting you know as per requirements for use!\u003C/p\u003E\n"},{"CreatedByName":"Spork of Doom","CreatedById":104262,"CreatedDateTime":"2014-07-20T01:58:15Z","Content":"\n\u003Cp\u003EI have a question, not does it work in 0.24, but is it updated for 64bit? When I started my game I got a message saying that it isn\u0027t compatible with 64bit ksp.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-20T02:36:22Z","Content":"\n\u003Cp\u003Ev1.6.0 released on git. It includes taniwha\u0027s fixes to work in .24.\u003C/p\u003E\n"},{"CreatedByName":"ola","CreatedById":82138,"CreatedDateTime":"2014-07-20T09:34:46Z","Content":"\n\u003Cp\u003EI created a pull request for a Makefile.\u003C/p\u003E\n"},{"CreatedByName":"Sandworm","CreatedById":66244,"CreatedDateTime":"2014-07-20T13:38:01Z","Content":"\n\u003Cp\u003EAr startup, which version number does KSPAPIE look for? I ask because I am getting an error notice saying that KSAPI is incompatible with \u0022.24\u0022. I suspect the issue may be that Squad uses different version numbers depending on OS (linux gets a truncated \u0022.24\u0022 rather the full/true version number).\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-20T19:49:02Z","Content":"\n\u003Cp\u003ESandworm: sounds like you have a mod that is not using the dll I just released.\u003C/p\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-07-22T22:52:14Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/37707-0-24-Magic-Smoke-Industries-Infernal-Robotics-0-18?p=1294773\u0026amp;viewfull=1#post1294773\u0022 rel=\u0022external nofollow\u0022\u003ENereid\u003C/a\u003E and I have tracked down a reproducible hang caused by KSPAPIExtensions. It\u0027s not a complete program hang \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 I can still access the debug menu.\u003C/p\u003E\u003Cp\u003ESteps to reproduce:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ELaunch a vehicle from the Space Center by clicking on the launchpad/runway. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERevert to VAB/SPH \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis occurs with any one of Procedural Fairings, Infernal Robotics, or TweakScale installed in otherwise stock KSP (I\u0027m using Mac 32 bit), so the only common element is KAE. It\u0027s been present for a while, probably since PF 3.0, when it first started using KAE. I\u0027ve always worked around it by launching from the VAB/SPH or quicksaving at launch. Based on \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/37707-0-24-Magic-Smoke-Industries-Infernal-Robotics-0-18?p=1294773\u0026amp;viewfull=1#post1294773\u0022 rel=\u0022external nofollow\u0022\u003ENereid\u0027s post\u003C/a\u003E, the hang occurs after IR attempts to load it\u0027s GUI.\u003C/p\u003E\u003Cp\u003EHere are the last lines from the player.log with just PF installed:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[HighLogic]: =========================== Scene Change : From FLIGHT to EDITOR =====================\u003Cbr\u003E\u003Cbr\u003E(Filename: /Applications/buildAgent/work/d63dfc6385190b60/artifacts/MacStandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003E[PlanetariumCamera]: Focus: Kerbin\u003Cbr\u003E\u003Cbr\u003E(Filename: /Applications/buildAgent/work/d63dfc6385190b60/artifacts/MacStandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at KSPAPIExtensions.PartMessage.ServiceImpl.OnInputLocksModified (FromToAction\u00602 data) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at EventData\u00601[GameEvents\u002BFromToAction\u00602[ControlTypes,ControlTypes]].Fire (FromToAction\u00602 data) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at InputLockManager.RemoveControlLock (System.String lockID) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at FlightDriver.OnDestroy () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003EUnloadTime: 52.044895 ms\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-23T06:07:39Z","Content":"\n\u003Cp\u003EIt\u0027s actually taniwha. I just was the one to edit the OP because I have Special Powers. :]\u003C/p\u003E\u003Cp\u003EThough, I\u0027m happy to fix that if I have a minute and get to it before taniwha.\u003C/p\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2014-07-23T07:53:41Z","Content":"\n\u003Cp\u003EI\u0027ll just note that the name \u0022KSPAPI\u0022 is a bit confusing, cause there is a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/41435-0-23-Runway-PAPI-array-Version-0-3-2\u0022 rel=\u0022external nofollow\u0022\u003EPAPI mod\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-07-23T12:30:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Firov\u0022 data-cite=\u0022Firov\u0022\u003E\u003Cdiv\u003EI\u0027ve discovered a bug with the UI_ChooseOption in v1.6.0. If your options array consists of only one string it will throw a StackOverflow error when you interact with the part/part gui, as you can see below. In the 32 bit version it\u0027s survivable, it just hangs for a bit. In the 64 bit version of the game it generally crashes it entirely.\u003Cp\u003EAnyway, thanks for maintaining this in swamp_ig\u0027s absence, NathanKell.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks. It looks like you\u0027ve found a nice little rat\u0027s nest of bugs (there\u0027s a divide-by-zero hiding in the code :/)\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-07-23T14:14:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Master Tao\u0022 data-cite=\u0022Master Tao\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/37707-0-24-Magic-Smoke-Industries-Infernal-Robotics-0-18?p=1294773\u0026amp;viewfull=1#post1294773\u0022 rel=\u0022external nofollow\u0022\u003ENereid\u003C/a\u003E and I have tracked down a reproducible hang caused by KSPAPIExtensions. It\u0027s not a complete program hang \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 I can still access the debug menu.\u003Cp\u003ESteps to reproduce:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ELaunch a vehicle from the Space Center by clicking on the launchpad/runway. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERevert to VAB/SPH \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis occurs with any one of Procedural Fairings, Infernal Robotics, or TweakScale installed in otherwise stock KSP (I\u0027m using Mac 32 bit), so the only common element is KAE. It\u0027s been present for a while, probably since PF 3.0, when it first started using KAE. I\u0027ve always worked around it by launching from the VAB/SPH or quicksaving at launch. Based on \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/37707-0-24-Magic-Smoke-Industries-Infernal-Robotics-0-18?p=1294773\u0026amp;viewfull=1#post1294773\u0022 rel=\u0022external nofollow\u0022\u003ENereid\u0027s post\u003C/a\u003E, the hang occurs after IR attempts to load it\u0027s GUI.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice catch, thanks. I\u0027d noticed the problem too in 0.23.5 (MFT and EL use KAE), but never bothered to track it down (wasn\u0027t playing enough).\u003C/p\u003E\n"}]}