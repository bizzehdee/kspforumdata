{"TopicId":174404,"ForumId":29,"TopicTitle":"PNG texture visualisation problem on GUI","CreatedByName":"Trufiadok","CreatedById":185591,"CreatedDateTime":"2018-04-29T15:46:51Z","PageNum":1,"Articles":[{"CreatedByName":"Trufiadok","CreatedById":185591,"CreatedDateTime":"2018-04-29T15:46:51Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to create a camera plugin with target\u00A0textures layer.\u00A0The rendered camera image is displayed, but the texture overlaid is failed.\n\u003C/p\u003E\n\u003Cp\u003E\nIn Unity3D working, but in KSP doesn\u0027t. On left side of simple camera picture visible the failed and on the right side what i want it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00227vFL7fU.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/7vFL7fU.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\n\u003Cimg alt=\u0022J2pjlYz.png\u0022 class=\u0022ipsImage\u0022 height=\u0022367\u0022 src=\u0022https://i.imgur.com/J2pjlYz.png\u0022 width=\u0022900\u0022\u003E\u003C/blockquote\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\nWhat could be the problem?\n\u003C/blockquote\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E        private void OnWindow(int windowID)\n        {\n            GUILayout.BeginHorizontal();\n\n            // Close window button\n            if (GUI.Button(new Rect((renderSize.x \u002B 2 * windowBorder.x) - 20f, 3, 17, 15), \u0022x\u0022))\n            {\n                clcWindowActive = false;\n                // This will hide the TurnOffCLCEven event, and show the TurnOnCLCEvent event.\n                Events[\u0022TurnOnCLCEvent\u0022].active = true;\n                Events[\u0022TurnOffCLCEvent\u0022].active = false;\n                clcWindowActive = false;\n                OnSave(nodeInner);\n            }\n\n            GUI.DrawTexture(TexturePosition, _textureBackGroundCamera);\n\n            //if (Event.current.type.Equals(EventType.Repaint))\n            //    Graphics.DrawTexture(TexturePosition, Render(), null);\n\n            GUI.DrawTexture(TexturePosition, texLEEHUD);\n\n            //Yoffset = 0;\n            //Rect inputRect = new Rect(20, 40, 40, 20);\n            //AddOutputValue(inputRect, \u0022eePosition\u0022, eeCamera.transform.position, 110f, 110f);\n            //AddOutputValue(inputRect, \u0022eeRotation\u0022, eeCamera.transform.rotation.eulerAngles, 110f, 110f);\n\n            GUILayout.EndHorizontal();\n\n            GUI.DragWindow();\n        }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-29T20:57:07Z\u0022 title=\u002204/29/2018 08:57  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 29, 2018\u003C/time\u003E by Trufiadok\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Trufiadok","CreatedById":185591,"CreatedDateTime":"2018-04-29T21:00:59Z","Content":"\n\u003Cp\u003E\nProblem solved. Bug\u00A0was in load function of PNG.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022JaDSy6n.png\u0022 class=\u0022ipsImage\u0022 height=\u0022361\u0022 src=\u0022https://i.imgur.com/JaDSy6n.png\u0022 width=\u0022443\u0022\u003E\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eold code:\u00A0tex = new Texture2D(2, 2);\n\nnew code: tex = new Texture2D(2, 2, TextureFormat.ARGB32, false);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI have another problem: On the rendered camera image \u0022Camera 01\u0022 layer haven\u0027t got texture. I fill failed area with pink color.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022UGYXvUh.png\u0022 class=\u0022ipsImage\u0022 height=\u0022357\u0022 src=\u0022https://i.imgur.com/UGYXvUh.png\u0022 width=\u0022876\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI used camera renderer routine from @RasterPropMonitor plugin.\n\u003C/p\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}