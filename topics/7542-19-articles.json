{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":19,"Articles":[{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2013-10-01T00:32:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIs there a \u0022hello world\u0022 style tutorial example of a mod out there somewhere that walks a new person through the steps?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBest thing to do is comb through other\u0027s code. That\u0027s one of the best reasons for having the open code policy on this site (of course, be careful about copy-pasta and sharing, respect licenses). If you want to check out a quick and dirty mod my source can be found at the link below. You can probably puzzle out how to display \u0022Hello World\u0022 in a window from that code.\u003C/p\u003E\u003Cp\u003EThen there\u0027s this: \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/Documentation/ScriptReference/\u003C/a\u003E , which is quite helpful. Specifically check out the \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.html\u0022 rel=\u0022external nofollow\u0022\u003EMonoBehaviour\u003C/a\u003E because all plugins (not parts, not sure how to do those...) extend that class. There\u0027s an IRC chat channel #kspmodders, or something, I don\u0027t chat. There\u0027s also a forum that goes along with it: \u003Ca href=\u0022http://www.kspmodders.com/forum/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.kspmodders.com/forum/\u003C/a\u003E but there aren\u0027t many people there just yet. Oh, and there\u0027s this: \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API\u003C/a\u003E , which has personally been an excellent reference but might be out of date, not sure.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-10-01T04:44:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EBest thing to do is comb through other\u0027s code. That\u0027s one of the best reasons for having the open code policy on this site (of course, be careful about copy-pasta and sharing, respect licenses). If you want to check out a quick and dirty mod my source can be found at the link below. You can probably puzzle out how to display \u0022Hello World\u0022 in a window from that code.\u003Cp\u003EThen there\u0027s this: \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/Documentation/ScriptReference/\u003C/a\u003E , which is quite helpful. Specifically check out the \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.html\u0022 rel=\u0022external nofollow\u0022\u003EMonoBehaviour\u003C/a\u003E because all plugins (not parts, not sure how to do those...) extend that class. There\u0027s an IRC chat channel #kspmodders, or something, I don\u0027t chat. There\u0027s also a forum that goes along with it: \u003Ca href=\u0022http://www.kspmodders.com/forum/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.kspmodders.com/forum/\u003C/a\u003E but there aren\u0027t many people there just yet. Oh, and there\u0027s this: \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API\u003C/a\u003E , which has personally been an excellent reference but might be out of date, not sure.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAll those links are for what to do after it\u0027s installed. I don\u0027t even know what to install.\u003C/p\u003E\u003Cp\u003EAh finally: After a rather long time googling and finding other links that all assumed I already had everything set up I finally found what I was looking for here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Creating_your_first_module\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Creating_your_first_module\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-01T04:50:58Z\u0022 title=\u002210/01/2013 04:50  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 1, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Matrixmage","CreatedById":66153,"CreatedDateTime":"2013-10-01T05:15:16Z","Content":"\n\u003Cp\u003EI tried to post a dedicated thread, but didn\u0027t get the response I needed, so here\u0027s to trying it on this thread.\u003C/p\u003E\u003Cp\u003EWhat exactly do you do with a class that extended part. I know a class that extends part module is a part module, but I need to use something in part, and I just don\u0027t really know how.\u003C/p\u003E\u003Cp\u003EThanks for any help,\u003C/p\u003E\u003Cp\u003EMatrixmage\u003C/p\u003E\n"},{"CreatedByName":"Okreeks","CreatedById":59589,"CreatedDateTime":"2013-10-01T09:20:35Z","Content":"\n\u003Cp\u003EHi guys, could some one help me out.\u003C/p\u003E\u003Cp\u003EI cant get it to work. Dont have the access to the script atm...\u003C/p\u003E\u003Cp\u003EBut this is what I\u0027m trying to do (roughly):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003Eimport \u0022all the right stuffs to get it to work\u0022;\u003Cbr\u003E\u003Cbr\u003Eclass test extends partmodule (or something){\u003Cbr\u003Epublic contructor(){\u003Cbr\u003E//do some constructor stuff\u003Cbr\u003E\u003Cbr\u003E//This show up in the debug/alt F2 so the main set-up works\u003Cbr\u003E  print(\u0022welcome\u0022);\u003Cbr\u003E\u003Cbr\u003E  public CelestialBody celestial = new CelestialBody();\u003Cbr\u003E  public string name;\u003Cbr\u003E\u003Cbr\u003E//try one\u003Cbr\u003E  print(celestial.name/title());\u003Cbr\u003E\u003Cbr\u003E//try two\u003Cbr\u003E  name = celestial.getTitle/Name();\u003Cbr\u003E  print(name);\u003Cbr\u003E}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs seen above I\u0027m trying to get the properties from a planet.\u003C/p\u003E\u003Cp\u003EBut it seems im not doing it right. The prints show that the values are either \u00270\u0027 or \u0027unnamed\u0027.\u003C/p\u003E\u003Cp\u003EMy goal is to get the values from a planet and/or change these.\u003C/p\u003E\u003Cp\u003EMore specific the values from either the current planet I\u0027m on or just Kerbin.\u003C/p\u003E\u003Cp\u003EDon\u0027t have much experiance but I enjoy doing this, so a gentle shuff or pointer into the right direction would be enough.\u003C/p\u003E\u003Cp\u003EIll try to supply the code when available to me again.\u003C/p\u003E\u003Cp\u003EThanks in advance and kind regards,\u003C/p\u003E\u003Cp\u003EOkreeks\u003C/p\u003E\n"},{"CreatedByName":"Crabsticks","CreatedById":83832,"CreatedDateTime":"2013-10-01T10:31:30Z","Content":"\n\u003Cp\u003EHi all,\u003C/p\u003E\u003Cp\u003EAs an exercise to learn C# (among other things, eg, modeling \u0026amp; texturing) I\u0027ve been working on making a working stargate in the evenings while watching stargate \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E .\u003C/p\u003E\u003Cp\u003EWhile I\u0027ve got it mostly figured out and coded I\u0027ve run into a problem; I have no idea how to get the vector/position of a part.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epart.transform.localPosition;\u003Cbr\u003Epart.rigidbody.position;\u003Cbr\u003Epart.transform.position;\u003Cbr\u003Epart.localRoot.transform.position;\u003Cbr\u003Epart.GetReferenceTransform().position\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe above all seem to provide the position of the vessel, not the part. So my puddle jumpers and gate travelers all jump to the centre of the gate ship, not the gate, which causes....problems...\u003C/p\u003E\u003Cp\u003ESo what am I missing? How do I find the position of the part? Thanks in advance.\u003C/p\u003E\u003Cp\u003E@Okreeks: I might be able to help. Looking at your example code you seem to be creating a new Celestial body but not properly intialising it and giving it a name, so your print statements are correct when they return 0 or Unnamed.\u003C/p\u003E\u003Cp\u003ETry printing the following, it\u0027ll get the name of the celestial body whose SOI your vessle is currently in:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E vessel.mainBody.name\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHope that works and you can work it out from there.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-01T11:52:59Z\u0022 title=\u002210/01/2013 11:52  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 1, 2013\u003C/time\u003E by Crabsticks\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-10-01T11:42:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Matrixmage\u0022 data-cite=\u0022Matrixmage\u0022\u003E\u003Cdiv\u003E[..]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou want to call a function in Part or change a variable there? All part-modules have a reference to their part. Just use (partModule or this).part.what_ever_you_want_to_do();\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Okreeks\u0022 data-cite=\u0022Okreeks\u0022\u003E\u003Cdiv\u003E[..]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour script creates a new planet object and prints name \u0026amp; title of this newly created object. You did not change those properties, so ofc they are still the default values of a newly created object. You don\u0027t want to create a new object but instead get a reference to an existing planet. Check out the anatid doc linked few posts above, especially the part about FlightGlobals.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crabsticks\u0022 data-cite=\u0022Crabsticks\u0022\u003E\u003Cdiv\u003E[..]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you sure you ruled out part.transform.position? From my understanding this should be the local offset from the parent game object. So you should be able to somehow calculate the actual pos with it. Unity should also offer helpers for that, but I\u0027m definitively no unity expert^^\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-01T11:54:17Z\u0022 title=\u002210/01/2013 11:54  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 1, 2013\u003C/time\u003E by Faark\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Okreeks","CreatedById":59589,"CreatedDateTime":"2013-10-01T12:05:38Z","Content":"\n\u003Cp\u003EThank you guys. Looking back its quite obvious. xD\u003C/p\u003E\u003Cp\u003EI\u0027m trying to make a part that gives me a window with information on the planets. And chnge the gravity and atmosphere. Any hints towards that?\u003C/p\u003E\u003Cp\u003EEDIT: I have to acces and change: CelestialBody: \u0022public double gMagnitudeAtCenter;\u0022\u003C/p\u003E\u003Cp\u003ESome one can tell me how?\u003C/p\u003E\u003Cp\u003EAgain, thnx!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-01T14:19:35Z\u0022 title=\u002210/01/2013 02:19  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 1, 2013\u003C/time\u003E by Okreeks\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crabsticks","CreatedById":83832,"CreatedDateTime":"2013-10-01T16:22:46Z","Content":"\n\u003Cp\u003EThanks Faark, I goofed; the vessel I was using to test on had the desired part as the root part which explains why the part and vessel position were the same.\u003C/p\u003E\u003Cp\u003E@Okreeks: I\u0027ve no experience with Celestial bodies but have you tried the following?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ECelestialBody planet = vessel.mainBody;\u003Cbr\u003Eplanet.gMagnitudeAtCenter = x;\u003Cbr\u003Eplanet.CBUpdate ();\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI have no idea if it\u0027ll work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Vulkan","CreatedById":83177,"CreatedDateTime":"2013-10-01T17:04:37Z","Content":"\n\u003Cp\u003EAfternoon all,\u003C/p\u003E\u003Cp\u003EI\u0027m getting a bit confused about polling for connected resources, specifically intake air. I\u0027ve written a module that should be displaying the available intake air as a prelude to using this value elsewhere. In OnUpdate I have:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\t\tvar resources = new List\u0026lt;PartResource\u0026gt;();\u003Cbr\u003E\t\tthis.part.GetConnectedResources(IntakeAirID, resources);\u003Cbr\u003E\t\tavailableAir=resources[0].amount; \u003Cbr\u003E                Air = string.Format(\u0022{0:0.000}\u0022,availableAir);\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENo if I put one air intake anywhere on a rocket and a part to display the \u0027Air\u0027 string in a window then the value in the window tracks the IntakeAir value in the top right. However, if I have more than one air intake then it only gets the value for the first intake placed. This means that a rocket with four radial intakes will have 1.6 IntakeAir on the launchpad according to the resources readout but only 0.4 is being found by GetConnectedResources.\u003C/p\u003E\u003Cp\u003ESo how do I get the true value for the IntakeAir that is present onthe craft?\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2013-10-01T18:14:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vulkan\u0022 data-cite=\u0022Vulkan\u0022\u003E\u003Cdiv\u003EAfternoon all,\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\tvar resources = new List\u0026lt;PartResource\u0026gt;();\u003Cbr\u003E\t\tthis.part.GetConnectedResources(IntakeAirID, resources);\u003Cbr\u003E\t\t[B]availableAir=[SIZE=4]resources[0].amount[/SIZE];[/B] \u003Cbr\u003E                Air = string.Format(\u0022{0:0.000}\u0022,availableAir);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re only retrieving the first result in this snippet. If this is the code you\u0027re using, then you\u0027ve forgotten to add all the other results in \u003Cem\u003Eresources\u003C/em\u003E\u003C/p\u003E\n"},{"CreatedByName":"Vulkan","CreatedById":83177,"CreatedDateTime":"2013-10-01T21:27:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003EYou\u0027re only retrieving the first result in this snippet. If this is the code you\u0027re using, then you\u0027ve forgotten to add all the other results in \u003Cem\u003Eresources\u003C/em\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s it. Many thanks. For some reason I was thinking that the list was if I wanted to poll more than one resource.\u003C/p\u003E\u003Cp\u003EWorking code for anyone in the future:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evar resources = new List\u0026lt;PartResource\u0026gt;();\u003Cbr\u003E\t\tthis.part.GetConnectedResources(IntakeAirID, resources);\u003Cbr\u003E\t\tavailableAir=resources.Sum(r =\u0026gt; r.amount);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-01T21:27:47Z\u0022 title=\u002210/01/2013 09:27  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 1, 2013\u003C/time\u003E by Vulkan\u003C/strong\u003E\n\u003Cbr\u003Eforgot the code\n\u003C/span\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-02T14:06:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EBtw, someone might find this interesting for setting up a development environment. It skips the main menu and automatically loads a specific quicksave instead. All you have to do is to add it to your mod.dll (do not forget to remove it for shipping^^) and change the SaveFolder = \u0022...\u0022, to match your save.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    [KSPAddon(KSPAddon.Startup.MainMenu, false)]\u003Cbr\u003E    public class Debug_AutoLoadQuicksaveOnStartup: UnityEngine.MonoBehaviour\u003Cbr\u003E    {\u003Cbr\u003E        public static bool first = true;\u003Cbr\u003E        public void Start()\u003Cbr\u003E        {\u003Cbr\u003E            if (first)\u003Cbr\u003E            {\u003Cbr\u003E                first = false;\u003Cbr\u003E                HighLogic.SaveFolder = \u0022Dev\u0022;\u003Cbr\u003E                var game = GamePersistence.LoadGame(\u0022quicksave\u0022, HighLogic.SaveFolder, true, false);\u003Cbr\u003E                if (game != null \u0026amp;\u0026amp; game.flightState != null \u0026amp;\u0026amp; game.compatible)\u003Cbr\u003E                {\u003Cbr\u003E                    FlightDriver.StartAndFocusVessel(game, game.flightState.activeVesselIdx);\u003Cbr\u003E                }\u003Cbr\u003E                CheatOptions.InfiniteFuel = true;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the info Faark,\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EIs there a way to not have it start in the SPH/VAB or even just the space center? instead of an active vessel?\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EIf found a way\u003C/p\u003E\u003Cp\u003EI used HighLogic.LoadScene(GameScenes.EDITOR); instead of the FlightDriver line.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-02T21:26:43Z\u0022 title=\u002210/02/2013 09:26  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 2, 2013\u003C/time\u003E by UbioZur\u003C/strong\u003E\n\u003Cbr\u003Eanswer my own question\n\u003C/span\u003E\n"},{"CreatedByName":"Razara","CreatedById":84047,"CreatedDateTime":"2013-10-04T00:49:01Z","Content":"\n\u003Cp\u003EI\u0027m trying to write a plugin that will send and receive data to KSP via a serial connection. Whenever I initialize the SerialPort though the plugin does not seem to load. If I remove the serialPort line, the debug window spews out \u0022test\u0022 as expected. I know people have done this before, but I\u0027m not sure how.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[KSPAddon(KSPAddon.Startup.Flight,false)]\u003Cbr\u003E    public class PluginTutorial : MonoBehaviour\u003Cbr\u003E    {\u003Cbr\u003E           private SerialPort serialPort;\u003Cbr\u003E           public void Awake() {\u003Cbr\u003E               serialPort = new SerialPort(\u0022COM4\u0022, 9600);\u003Cbr\u003E           }\u003Cbr\u003E           public void Start() { }\u003Cbr\u003E\u003Cbr\u003E           public void Update()\u003Cbr\u003E           {\u003Cbr\u003E\u003Cbr\u003E               print(\u0022test\u0022);\u003Cbr\u003E\u003Cbr\u003E           }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-10-04T08:52:22Z","Content":"\n\u003Cp\u003EA SerialPort class is not included in KSPs runtime. Jop, that sadly is no standard .net 3.5 runtime. You should be able to verify this in your KSP.log, pretty near to the beginning. I stumbled about this a few times as well, especially when using 3rd party libraries. The most promising approach is to include the source yourself, for example by extracting it from mono. Its a bunch of copy-paste work, though. You might also find other 3rd party libs... but make sure they don\u0027t need sth KSP doesn\u0027t have as well...\u003C/p\u003E\n"},{"CreatedByName":"Ashtoruin","CreatedById":83692,"CreatedDateTime":"2013-10-04T23:35:37Z","Content":"\n\u003Cp\u003EOkay, I\u0027m a Comp Sci major so I know coding, but I\u0027ve never actually worked on a mod for a game before, That being said I\u0027m taking baby steps and figuring things out one at a time. I\u0027ve been looking at how ships are saved from the VAB and noticed that they save the parts which doesn\u0027t include the fuel levels. So if I wanted to have a GUI with a slider for a tank to set it to half full, I would have to take the value from the slider and save it to be called when the rocket hits the launch pad at which point it could load the fuel level %number and edit the tank to the appropriate fuel levels. From creeping on other mods source code I think that this would be done with \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[KSPFIELD]\u003Cbr\u003Epublic float fuel_adjust_percent = fuel_adjust_slider_value;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd then some on load function I still have to figure out.\u003C/p\u003E\u003Cp\u003ESo, I guess any pointers would be awesome or even just let me know if that sounds somewhat correct.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-04T23:41:24Z\u0022 title=\u002210/04/2013 11:41  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 4, 2013\u003C/time\u003E by Ashtoruin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2013-10-05T00:19:24Z","Content":"\n\u003Cp\u003ENot something I\u0027ve done myself, but take a look at the TAC Fuel Balancer mod for code relating to controlling the level of fuel in fuel tanks to get you started.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/tac-fuel-balancer-v1-0/\u0022 rel=\u0022external nofollow\u0022\u003EThe Spaceport link for the mod here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-10-05T03:45:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ashtoruin\u0022 data-cite=\u0022Ashtoruin\u0022\u003E\u003Cdiv\u003EOkay, I\u0027m a Comp Sci major so I know coding, but I\u0027ve never actually worked on a mod for a game before, That being said I\u0027m taking baby steps and figuring things out one at a time. I\u0027ve been looking at how ships are saved from the VAB and noticed that they save the parts which doesn\u0027t include the fuel levels. So if I wanted to have a GUI with a slider for a tank to set it to half full, I would have to take the value from the slider and save it to be called when the rocket hits the launch pad at which point it could load the fuel level %number and edit the tank to the appropriate fuel levels. From creeping on other mods source code I think that this would be done with \u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[KSPFIELD]\u003Cbr\u003Epublic float fuel_adjust_percent = fuel_adjust_slider_value;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd then some on load function I still have to figure out.\u003C/p\u003E\u003Cp\u003ESo, I guess any pointers would be awesome or even just let me know if that sounds somewhat correct.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003ENot something I\u0027ve done myself, but take a look at the TAC Fuel Balancer mod for code relating to controlling the level of fuel in fuel tanks to get you started.\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/tac-fuel-balancer-v1-0/\u0022 rel=\u0022external nofollow\u0022\u003EThe Spaceport link for the mod here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI allow setting the amount of fuel (while still prelaunch) in a part here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L359\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L359\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd here is an example of where I change it during flight:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/FuelBalanceController.cs#L404\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/FuelBalanceController.cs#L404\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Evessel.parts gives you a List\u0026lt;Part\u0026gt;, part.Resources gives you a List\u0026lt;PartResource\u0026gt;, and PartResource.amount is the current amount. Also take a look at: \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Assembly-CSharp.xml#L1005\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Assembly-CSharp.xml#L1005\u003C/a\u003E .\u003C/p\u003E\n"},{"CreatedByName":"Ashtoruin","CreatedById":83692,"CreatedDateTime":"2013-10-05T03:53:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TaranisElsu\u0022 data-cite=\u0022TaranisElsu\u0022\u003E\u003Cdiv\u003EI allow setting the amount of fuel (while still prelaunch) in a part here:\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L359\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L359\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd here is an example of where I change it during flight:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/FuelBalanceController.cs#L404\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/FuelBalanceController.cs#L404\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Evessel.parts gives you a List\u0026lt;Part\u0026gt;, part.Resources gives you a List\u0026lt;PartResource\u0026gt;, and PartResource.amount is the current amount. Also take a look at: \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Assembly-CSharp.xml#L1005\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Assembly-CSharp.xml#L1005\u003C/a\u003E .\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlright, I get what that\u0027s doing I think.\u003C/p\u003E\u003Cp\u003EIs it possible to test if a resource is enabled? ie Say I want to add Kethane Support, can I check to see if Kethane is a Resource and have it return a true/false? I\u0027ve been looking through the documentation, but sometimes its hard to understand what exactly its saying :/\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-10-05T04:28:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ashtoruin\u0022 data-cite=\u0022Ashtoruin\u0022\u003E\u003Cdiv\u003EAlright, I get what that\u0027s doing I think.\u003Cp\u003EIs it possible to test if a resource is enabled? ie Say I want to add Kethane Support, can I check to see if Kethane is a Resource and have it return a true/false? I\u0027ve been looking through the documentation, but sometimes its hard to understand what exactly its saying :/\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EThere is a PartResourceLibrary that you can ask for the ID# of a resource. You pass the name as a string, i.e. \u0022Kethane\u0022. I forget what it does if it cannot find the resource, but I think it returns -1 instead of throwing an exception. That would tell you if the resource has been defined.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003ESee: \u003C/span\u003E\u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Assembly-CSharp.xml#L1746\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Assembly-CSharp.xml#L1746\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EExample: \u003C/span\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacLifeSupport/blob/master/Source/Settings.cs#L67\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Ehttps://github.com/taraniselsu/TacLifeSupport/blob/master/Source/Settings.cs#L67\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: Scratch that. It is even simpler. You can get access to the PartResourceDefinitionList, which has a Contains() method:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPartResourceLibrary.Instance.resourceDefinitions.Contains(\u0022Kethane\u0022)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENot sure why it doesn\u0027t show up in the XML documentation.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-05T05:01:19Z\u0022 title=\u002210/05/2013 05:01  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 5, 2013\u003C/time\u003E by TaranisElsu\u003C/strong\u003E\n\u003Cbr\u003EToo easy\n\u003C/span\u003E\n"},{"CreatedByName":"Razara","CreatedById":84047,"CreatedDateTime":"2013-10-09T19:02:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EA SerialPort class is not included in KSPs runtime. Jop, that sadly is no standard .net 3.5 runtime. You should be able to verify this in your KSP.log, pretty near to the beginning. I stumbled about this a few times as well, especially when using 3rd party libraries. The most promising approach is to include the source yourself, for example by extracting it from mono. Its a bunch of copy-paste work, though. You might also find other 3rd party libs... but make sure they don\u0027t need sth KSP doesn\u0027t have as well...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI did figure out that was the problem after moving the initialization of the SerialPort into the update function, but I have not been able to resolve it. Any chance you could give me a pointer on how I would go about getting the source from mono? Am I to basically copy the SerialPort class into my own program?\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-10-09T20:19:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Razara\u0022 data-cite=\u0022Razara\u0022\u003E\u003Cdiv\u003EAm I to basically copy the SerialPort class into my own program?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t see another way... so either that or you find a third 3rd library that does not use System.IO.Ports. \u003Ca href=\u0022https://github.com/mono/mono/blob/master/mcs/class/System/System.IO.Ports/SerialPort.cs\u0022 rel=\u0022external nofollow\u0022\u003EHere\u003C/a\u003E is the SerialPort source and where you will find other missing dependencies. \u003Ca href=\u0022https://github.com/mono/mono/blob/master/mcs/class/LICENSE\u0022 rel=\u0022external nofollow\u0022\u003EThis\u003C/a\u003E appears to be their license, btw.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-10T21:21:44Z","Content":"\n\u003Cp\u003ESo, before I headdesk any more about this--has anyone had success in programmatically overriding a part\u0027s FX?\u003C/p\u003E\u003Cp\u003EI\u0027ve looked at part.SaveEffects(ConfigNode node) [hoping then to change the configs, and then call part.LoadEffects(node)] but that didn\u0027t seem to work right--it started playing all effects.\u003C/p\u003E\u003Cp\u003EI\u0027d really rather not have to manually create emitters, I just want to change a part\u0027s existing FX defines.\u003C/p\u003E\u003Cp\u003E(Disclosure: this is so engine FX can be changed based on their fuels)\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-11T20:52:33Z","Content":"\n\u003Cp\u003EHey Guys,\u003C/p\u003E\u003Cp\u003Ein the cfg of a part there is that line:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Emodule = Part\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ecan be Part, ControlSurface, Strut, Winglet\u003C/p\u003E\u003Cp\u003EIs there a why I can access that value in game?\u003C/p\u003E\u003Cp\u003EI couldn\u0027t find it in the stored config file from GameDatabase.Instance.GetConfigs\u003C/p\u003E\u003Cp\u003Eor any variable of Parts or AvailablePart\u003C/p\u003E\u003Cp\u003EIt looks like it\u0027s from pre .15.\u003C/p\u003E\n"},{"CreatedByName":"Chrison","CreatedById":82683,"CreatedDateTime":"2013-10-12T02:44:02Z","Content":"\n\u003Cp\u003EAny idea of how to hack into the ship editor? I was thinking about making some kind of economy mod (like actually add cash to the game and make use of the cost attribute of parts) but I have no idea on how to start, as there is no documentation on the VAB/SPH functionality nor does there seem to be any official api on that part of ksp.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-10-12T11:48:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003E[..]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe part class contains a \u0022List\u0026lt;FXGroup\u0026gt; fxGroups\u0022 field. Have you checked it out? You should be able to edit simply edit it for the prefab via PartLoader.LoadedPartsList[some_index].partPrefab.fxGroups\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022UbioZur\u0022 data-cite=\u0022UbioZur\u0022\u003E\u003Cdiv\u003EIt looks like it\u0027s from pre .15.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, back from the time when there wasn\u0027t any PartModules and part / its derived types contained all the actual behavior. It by the way looks like all those old \u0026amp; \u0022dead\u0022 types are still in the released 0.21 assembly. Though those few parts you mentioned appear to still use a custom type derived from Part. So using c#\u0027s primitive GetType() on Part should help you.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Chrison\u0022 data-cite=\u0022Chrison\u0022\u003E\u003Cdiv\u003E[..]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESome ideas:\u003C/p\u003E\u003Cp\u003E- Search for editor mods and inspect their source. There are a bunch of Part Filters, for example.\u003C/p\u003E\u003Cp\u003E- Get into KSP\u0027s internals like \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/49592-How-to-interface-with-the-internals-of-KSP?highlight=object\u002Bbrowser\u0022 rel=\u0022external nofollow\u0022\u003Eus others\u003C/a\u003E. The object browser does have quite some hits for \u0022Editor\u0022\u003C/p\u003E\u003Cp\u003E- The KSP API doc \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/EditorLogic.cs\u0022 rel=\u0022external nofollow\u0022\u003Edoes in fact contain\u003C/a\u003E an EditorLogic class that has an \u0022public ShipConstruct ship;\u0022 that might be useful for you.\u003C/p\u003E\n"}]}