{"TopicId":162494,"ForumId":29,"TopicTitle":"CivilianPopulationUI:System.TypeLoadException: Could not load type \u0026#039;ApplicationLauncher\u0026#039; from assembly","CreatedByName":"Pamynx","CreatedById":117374,"CreatedDateTime":"2017-06-24T23:45:36Z","PageNum":1,"Articles":[{"CreatedByName":"Pamynx","CreatedById":117374,"CreatedDateTime":"2017-06-24T23:45:36Z","Content":"\n\u003Cp\u003E\nI can\u0027t figure out I have this problem when my mod is starting :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[ERR 01:39:52.394] Exception handling event onGUIApplicationLauncherReady in class CivilianPopulationUI:System.TypeLoadException: Could not load type \u0027ApplicationLauncher\u0027 from assembly \u0027CivilianPopulation\u0027.\n  at EventVoid.Fire () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 01:39:52.396] TypeLoadException: Could not load type \u0027ApplicationLauncher\u0027 from assembly \u0027CivilianPopulation\u0027.\n\tEventVoid.Fire ()\n\tUnityEngine.Debug:LogException(Exception)\n\tEventVoid:Fire()\n\tKSP.UI.Screens.ApplicationLauncher:StartupSequence()\n\tKSP.UI.Screens.ApplicationLauncher:OnSceneLoadedGUIReady(GameScenes)\n\tEventData\u00601:Fire(GameScenes)\n\t\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;FireLoadedEventGUIReady\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator6D:MoveNext()\n\tUnityEngine.SetupCoroutine:InvokeMoveNext(IEnumerator, IntPtr)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe code is quite simple :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing UnityEngine;\n\nnamespace CivilianPopulation\n{\n    [KSPScenario(ScenarioCreationOptions.AddToNewCareerGames | ScenarioCreationOptions.AddToExistingCareerGames, GameScenes.SPACECENTER)]\n    public class CivilianPopulationUI : ScenarioModule\n    {\n        public void Start()\n        {\n            log(\u0022.Start!\u0022); \n            GameEvents.onGUIApplicationLauncherReady.Add(onAppLauncherReady);//when AppLauncher can take apps, give it OnAppLauncherReady (mine)\n            GameEvents.onGUIApplicationLauncherDestroyed.Add(onAppLauncherDestroyed);//Not sure what this does\n        }\n\n        private void onAppLauncherReady()\n        {\n            log(\u0022.onAppLauncherReady!\u0022);\n            if (ApplicationLauncher.Instance == null)\n            {\n                log(\u0022 - ApplicationLauncher.Instance is null!\u0022);\n            }\n            else\n            {\n                log(\u0022 - ApplicationLauncher.Instance is not null!\u0022);\n            }\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnd the error is fired when I load the KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone have an idea what I am doing wrong ?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks !\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2017-06-25T01:51:29Z","Content":"\n\u003Cp\u003E\nIt\u0027s looking for that type in your DLL; you probably\u00A0want the default one instead.\u00A0Try\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Eusing\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E KSP\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EUI\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EScreens\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThat should allow it to find the right class.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-06-25T06:59:57Z","Content":"\n\u003Cp\u003E\nThe log and\u00A0onAppLauncherDestroyed\u00A0method do not exist in your code, so this can not compile. Sharing the actual code would help.\n\u003C/p\u003E\n"},{"CreatedByName":"Pamynx","CreatedById":117374,"CreatedDateTime":"2017-06-25T08:35:18Z","Content":"\n\u003Cp\u003E\nThanks for your help ! I added a reference to all the dll I found in the KSP directory and it works now \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n@sarbian : Sorry I tried to clean up the code before posting it and cleaned too much.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}