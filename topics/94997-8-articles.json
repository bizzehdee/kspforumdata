{"TopicId":94997,"ForumId":34,"TopicTitle":"[1.10.0] S.A.V.E - automatic backup system - 1.10.0-3173","CreatedByName":"Nereid","CreatedById":68815,"CreatedDateTime":"2014-12-30T12:27:38Z","PageNum":8,"Articles":[{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-07-01T00:55:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812184\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593560560\u0022 data-ipsquote-userid=\u0022113840\u0022 data-ipsquote-username=\u0022micha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, micha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe proper fix is to figure out what\u0027s causing the exception and then fixing that, not randomly removing or disabling features/settings.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe problem is happening\u00A0 when something wrong happens inside the thread while doing the backup, as a file not found, lack of privileges to read or write directories, etc. It\u0027s an error handler.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you are logging only on KSP.log, no problems, things work fine. But when you activate logging on the screen, the windows process crashes because Unity\u0027s UI thread cannot access data from another thread.\n\u003C/p\u003E\n\u003Cp\u003E\nOn MacOS the thread just dies, and you can\u0027t shutdown the game normaly probably because the master thread tries to join a thread that\u0027s already dead. On Windows, unsurprisingly \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E, it\u0027s sudden death for the whole process.\n\u003C/p\u003E\n\u003Cp\u003E\nThen easy solution is just to do not log Exceptions on the Screen.\n\u003C/p\u003E\n\u003Cp\u003E\nThe proper solution is a special logging system that accepts logs from any thread and controllablily injects it on the UI thread (as we do on Java Swing!).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-01T00:58:23Z\u0022 title=\u002207/01/2020 12:58  AM\u0022 data-short=\u00224 yr\u0022\u003EJuly 1, 2020\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Etyops. as usulla.\n\u003C/span\u003E\n"},{"CreatedByName":"micha","CreatedById":113840,"CreatedDateTime":"2020-07-01T01:05:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812215\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593564916\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut when you activate logging on the screen, the windows process crashes because Unity\u0027s UI thread cannot access data from another thread.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat makes sense, thanks. Fairly trivial to implement - logger writes to disk and, if log-to-screen is enabled to a queue, then the main thread\u0027s OnUI dumps whatever is in the error queue to screen.\u003Cbr\u003E\u003Cbr\u003E\nUnity is fragile though.. \u0022Handle With Care\u0022 LOL\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-01T14:05:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812215\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593564916\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe problem is happening\u00A0 when something wrong happens inside the thread while doing the backup, as a file not found, lack of privileges to read or write directories, etc. It\u0027s an error handler.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you are logging only on KSP.log, no problems, things work fine. But when you activate logging on the screen, the windows process crashes because Unity\u0027s UI thread cannot access data from another thread.\n\u003C/p\u003E\n\u003Cp\u003E\nOn MacOS the thread just dies, and you can\u0027t shutdown the game normaly probably because the master thread tries to join a thread that\u0027s already dead. On Windows, unsurprisingly \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E, it\u0027s sudden death for the whole process.\n\u003C/p\u003E\n\u003Cp\u003E\nThen easy solution is just to do not log Exceptions on the Screen.\n\u003C/p\u003E\n\u003Cp\u003E\nThe proper solution is a special logging system that accepts logs from any thread and controllablily injects it on the UI thread (as we do on Java Swing!).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIMHO, the correct solution is not to use thread.\u00A0 I\u0027ve successfully done just that, and there is no performance impact in my current testing.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, I\u0027ve made the following improvements:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nReplaced all threading code with CoRoutines\n\u003C/li\u003E\n\u003Cli\u003E\nRemoved asynchronous setting\n\u003C/li\u003E\n\u003Cli\u003E\nAdded SaveOnLaunch, with template string\n\u003C/li\u003E\n\u003Cli\u003E\nRewrite config saves to standard ConfigNode format\n\u003C/li\u003E\n\u003Cli\u003E\nAdded SaveConfirmationSound option\n\u003C/li\u003E\n\u003Cli\u003E\nAdded QuickSave ability, with template string\n\u003C/li\u003E\n\u003Cli\u003E\nAdded expiration limits to quicksaves\n\u003C/li\u003E\n\u003Cli\u003E\nAdded tabs to configuration page to select between Backup Options, Quicksave Options and Sound Options\n\u003C/li\u003E\n\u003Cli\u003E\nAdjusted height of the Status and Clone pages to no more than 1/2 of the window height\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI just finished the final part of the updated config, now need to do some testing in my big career install.\n\u003C/p\u003E\n\u003Cp\u003E\nGiven the changes, I\u0027m thinking of calling my version something like S.A.V.E Enhanced\n\u003C/p\u003E\n\u003Cp\u003E\nand one question for all of you:\u00A0 Do you see a need to preserve the old config settings?\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812215\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593564916\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe problem is happening\u00A0 when something wrong happens inside the thread while doing the backup, as a file not found, lack of privileges to read or write directories, etc. It\u0027s an error handler.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you are logging only on KSP.log, no problems, things work fine. But when you activate logging on the screen, the windows process crashes because Unity\u0027s UI thread cannot access data from another thread.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood to know the exact cause, thanks.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812220\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593565510\u0022 data-ipsquote-userid=\u0022113840\u0022 data-ipsquote-username=\u0022micha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, micha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat makes sense, thanks. Fairly trivial to implement - logger writes to disk and, if log-to-screen is enabled to a queue, then the main thread\u0027s OnUI dumps whatever is in the error queue to screen.\u003Cbr\u003E\u003Cbr\u003E\nUnity is fragile though.. \u0022Handle With Care\u0022 LOL\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nVery, which is why, IMHO, the coroutine route is the safer way to go\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-07-01T14:12:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812480\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593612314\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIMHO, the correct solution is not to use thread.\u00A0 I\u0027ve successfully done just that, and there is no performance impact in my current testing.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, I\u0027ve made the following improvements:\n\u003C/p\u003E\n\u003Cul style=\u0022color:#353c41;font-size:14px;\u0022\u003E\u003Cli\u003E\nReplaced all threading code with CoRoutines\n\u003C/li\u003E\n\u003Cli\u003E\nRemoved asynchronous setting\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIMHO, these ones are not improvements. We will need to agree on disagree on this.\n\u003C/p\u003E\n\u003Cp\u003E\nCo Routines inserts themselves on the critical path of the Game Engine, threads can be set to use only the sparing time of the CPU (not to mention better using CPUs with a lot of cores/hyper-threads).\n\u003C/p\u003E\n\u003Cp\u003E\nNereid had committed something on his repo 3 or\u00A04 days ago, so the upstream is still alive.\u00A0I will implement the fix suggested by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113840-micha/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022113840\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113840-micha/\u0022 rel=\u0022\u0022\u003E@micha\u003C/a\u003E\u00A0and apply a push request.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-01T14:42:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812489\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593612749\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIMHO, these ones are not improvements. We will need to agree on disagree on this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI agree to disagree.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only changes he pushed was updating the project file.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd regarding coroutines, I\u0027m using the\u00A0WaitUntil to replace all the thread sleeps.\u00A0 This way they impose zero impact on the game 99.99% of the time, and the backups are done so quickly that they still have minimal impact.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812489\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593612749\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0I will implement the fix suggested by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113840-micha/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022113840\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113840-micha/\u0022 rel=\u0022\u0022\u003E@micha\u003C/a\u003E\u00A0and apply a push request.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHopefully he will do a release, but it\u0027s been 5 months since he was last on the forums.\u00A0 I\u0027ll look at your changes to see how you do it.\u00A0 I can always backfill the other changes I did onto the original codebase\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-07-01T14:52:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812514\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593614548\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe backups are done so quickly that they still have minimal impact.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOn your machine.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027re people using shared memory GPUs,\u00A0spinning disks and lower clocked CPUs. And I had some reports of somewhat more powered machines having to lower the FPS to 60 to prevent crashes inside the Unity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812514\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593614548\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe only changes he pushed was updating the project file.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0Again, the project is not abandoned yet. I think it\u0027s premature to assume it\u0027s dead in the water.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nRemember, we have a pandemic running wild on the World, people need time to cope with the new reality. A medic friend of mine are still quarantined, he got COVID19 last month and recovered well after 10 days, but the whole family is on quarantine yet.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"micha","CreatedById":113840,"CreatedDateTime":"2020-07-01T14:52:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812489\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593612749\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCo Routines inserts themselves on the critical path of the Game Engine, threads can be set to use only the sparing time of the CPU (not to mention better using CPUs with a lot of cores/hyper-threads).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh?\u00A0 I really need to learn more about Unity, I vaguely thought coroutines were basically a wrapper around threads.\u00A0 But if they run on the main\u00A0thread there\u0027s no way for them to take advantage of additional cores.\u00A0 Just had a quick read and the main benefit seems to be that they can spread their execution across multiple frames. Good if there\u0027s some overhead left in each frame, not so good if the frames are already \u0022full\u0022. In other words, highly dependant on single-core CPU speed \u002B game load.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-01T14:54:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812535\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593615149\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0Again, the project is not abandoned yet. I think it\u0027s premature to assume it\u0027s dead in the water.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhich is why I\u0027ve just written him to find out his intentions.\u00A0 I have no intent to fork the mod if he continues, if he does, then I\u0027ll just pull my stuff into a new mod.\u00A0 I\u0027ve offered to adopt it if he indeed is leaving, I have no intention to make an unfriendly fork.\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812537\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593615168\u0022 data-ipsquote-userid=\u0022113840\u0022 data-ipsquote-username=\u0022micha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, micha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust had a quick read and the main benefit seems to be that they can spread their execution across multiple frames. Good if there\u0027s some overhead left in each frame, not so good if the frames are already \u0022full\u0022. In other words, highly dependant on single-core CPU speed \u002B game load.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, you do have to be careful using coroutines.\u00A0 It is possible for a single coroutine to lock up a game entirely.\u00A0 They should be used for specific tasks only\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-07-01T15:44:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812545\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593615247\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n47 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhich is why I\u0027ve just written him to find out his intentions.\u00A0 I have no intent to fork the mod if he continues, if he does, then I\u0027ll just pull my stuff into a new mod.\u00A0 I\u0027ve offered to adopt it if he indeed is leaving, I have no intention to make an unfriendly fork.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s where we have to disagree again. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI want you to have a fork and try to prove me wrong. It\u0027s how we discover things.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI just think it\u0027s premature to talk about adoption it on Forum.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-01T16:30:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812598\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593618271\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n44 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI want you to have a fork and try to prove me wrong. It\u0027s how we discover things\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m going to wait to hear from him, at least a few days\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223812598\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221593618271\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n45 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just think it\u0027s premature to talk about adoption it on Forum.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhich is why I wrote.\u00A0 I had made an assumption which was wrong (that he was gone).\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, enough on this.\u00A0 We agree to disagree, I\u0027ll continue testing my version, and will start looking at 1.10\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-02T14:21:48Z","Content":"\n\u003Cp\u003E\nI\u0027ve pulled my code out of S.A.V.E. and have created a new mod for it, it\u0027s going to be called the AutoQuickSave System (AQSS).\u00A0 Beta to be released later today or tomorrow\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-02T20:02:08Z","Content":"\n\u003Cp\u003E\nFor anyone interested, my Quicksave mod:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022129964\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4961978795\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/195238-aqss-autoquicksave-system-18x-19x-110x-beta/\u0026amp;do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nI\u0027ve pulled it all out of S.A.V.E., and the only changes I have left in my local copy of SAVE are:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nReplaced all threading code with CoRoutines\n\u003C/li\u003E\n\u003Cli\u003E\nRemoved asynchronous setting\n\u003C/li\u003E\n\u003Cli\u003E\nRewrite config saves to standard ConfigNode format\n\u003C/li\u003E\n\u003Cli\u003E\nAdjusted height of the Status and Clone pages to no more than 1/2 of the window height\n\u003C/li\u003E\n\u003Cli\u003E\nThese two were in a PR I submitted more than 1 1/2 years ago:\n\u003Cul\u003E\u003Cli\u003E\nAdded GUI.DragWindow if fixedWindowFloating was true\n\u003C/li\u003E\n\u003Cli\u003E\nFixed bug where excludes list was being cleared\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nMoved windowPos from settings.cfg into main settings file\n\u003C/li\u003E\n\u003Cli\u003E\nAdded option to set the window position\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nFor now, I\u0027ll keep these local to avoid any unexpected versions in the wild.\u00A0 If \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/68815-nereid/\u0026amp;do=hovercard\u0022 data-mentionid=\u002268815\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/68815-nereid/\u0022 rel=\u0022\u0022\u003E@Nereid\u003C/a\u003E\u00A0does reappear, I\u0027ll offer to do a PR, and will even undo the threading to coroutine change if that\u0027s what he wants.\u00A0 \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0I\u0027d be interested in seeing your change to fix the crash issue, could you please let me know when you have a PR submitted?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 I\u0027ve just heard from him, he is around, and hopes to be back in the next few weeks\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-02T20:04:40Z\u0022 title=\u002207/02/2020 08:04  PM\u0022 data-short=\u00224 yr\u0022\u003EJuly 2, 2020\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nereid","CreatedById":68815,"CreatedDateTime":"2020-07-06T11:58:12Z","Content":"\n\u003Cp\u003E\nI have updated it to 1.10.0 but I didn\u0027t fix anything regarding the asynchronous backups.\n\u003C/p\u003E\n\u003Cp\u003E\nIf a crash only happens when the ingame debug window is open, I would not\u00A0call this a major issue, because for debugging you could disable this setting anyway (and its off by default).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E: is there a way to to force an execution in the UI Thread? In Java Swing there are methods like invokeAndWait or invokeLater.\n\u003C/p\u003E\n\u003Cp\u003E\nThe asynchronous option is not there to improve performance but to keep I/O out of the UI-thread. But maybe there is a better way to achieve this in Unity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-06T12:20:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815828\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594036692\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E: is there a way to to force an execution in the UI Thread? In Java Swing there are methods like invokeAndWait or invokeLater.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0seemed to know more about this than myself, he seemed to think it would be fairly easy to do, and said in a previous message above that he would do it and push a PR to you.\n\u003C/p\u003E\n\u003Cp\u003E\nI preferred to convert it to CoRoutines.\u00A0 I am aware of the issue, but in my main game last night, my version with CoRoutines\u00A0was able to backup 11 saves in less than a second.\u00A0 Obviously it will depend on the computer speed, disk speed, number of and size of files, etc.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d be happy to push my PR to you, but would prefer to wait to see if \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0is able to get his PR to you.\n\u003C/p\u003E\n\u003Cp\u003E\nI do see an issue with the thread version, ignoring the io issue.\u00A0 It\u0027s rather minor, what if a thread tries to backup a save that is currently being updated by the game?\u00A0 You may have already addressed this, I don\u0027t think it\u0027s a big issue, if it is one at all\n\u003C/p\u003E\n"},{"CreatedByName":"Nereid","CreatedById":68815,"CreatedDateTime":"2020-07-06T12:28:14Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003EI\u0027m already trying to implement a way to log in the main-Thread myself. It doesn\u0027t seem to be that hard.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815841\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594038007\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI do see an issue with the thread version, ignoring the io issue.\u00A0 It\u0027s rather minor, what if a thread tries to backup a save that is currently being updated by the game?\u00A0 You may have already addressed this, I don\u0027t think it\u0027s a big issue, if it is one at all\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs far as I remember I prevent this by halting the game if this occurs.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Nereid","CreatedById":68815,"CreatedDateTime":"2020-07-06T13:30:01Z","Content":"\n\u003Cp\u003E\nTry\u00A01.10.1-3185. It shouldn\u0027t crash even with async backups anymore.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-07-06T16:58:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815828\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594036692\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf a crash only happens when the ingame debug window is open, I would not\u00A0call this a major issue, because for debugging you could disable this setting anyway (and its off by default).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s due the log being called from another thread. As you said, it\u0027s like Swing - only the main thread can access the Widgets. I think it\u0027s am overlook from Unity, threading is going to be very important now that CPUs are doubling the cores instead of doubling the speed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815828\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594036692\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E: is there a way to to force an execution in the UI Thread? In Java Swing there are methods like invokeAndWait or invokeLater.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, there\u0027s. It\u0027s essentially what I\u0027m doing, but in a smarter way. Stay tuned.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EinvokeAndWait\u003C/span\u003E, however, is essentially squashing the thread to the main one - it will tax the main thread in a similar way as Co Routines would.\n\u003C/p\u003E\n\u003Cp\u003E\nIdeally, a \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EinvokeLater\u003C/span\u003E mechanism is more performatic.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815842\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594038494\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs far as I remember I prevent this by halting the game if this occurs.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHalting the game I think it\u0027s a bit harsh, perhaps a popup dialog at the end of the process, showing a report of the whole process when the user is on a Scene where the popup would not interfere with the game?\u00A0(opening a dialog when the user is executing a suicidal burn would render some compliments directed to your parents!)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815874\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594042201\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTry\u00A01.10.1-3185. It shouldn\u0027t crash even with async backups anymore.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, that\u0027s it. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EYour way is way simpler than the thing I\u0027m implementing, but I think\u00A0\u003C/span\u003E\u0022my way\u0022 will be faster and more versatile. Now I have\u00A0\u003Cstrong\u003Etwo\u003C/strong\u003E\u00A0more solutions to benchmark with my idea to see what will work better! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815841\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594038007\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nbut would prefer to wait to see \u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cs\u003Eif\u003C/s\u003E\u003C/span\u003E\u003Cem\u003E \u003Cspan style=\u0022color:#16a085;\u0022\u003E[when]\u003C/span\u003E\u003C/em\u003E\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0is able to get his PR to you.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHere, I fixed that for you. \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-06T17:56:41Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI wonder how many people will understand your identifier:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#353c41;font-size:13px;text-align:center;\u0022\u003ELocation:\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#353c41;font-size:13px;text-align:center;\u0022\u003EUniverse ! Virgo ! Milkway ! OrionArm ! SolarSystem ! Earth ! America ! SouthAmerica ! Brazil ! S\u00E3oPaulo ! Capital ! Home ! LivingRoom ! MyChair\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTook me a minute to recognize it because of all the lines it was on\n\u003C/p\u003E\n"},{"CreatedByName":"micha","CreatedById":113840,"CreatedDateTime":"2020-07-06T22:25:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223815842\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594038494\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003EI\u0027m already trying to implement a way to log in the main-Thread myself. It doesn\u0027t seem to be that hard.\n\u003C/p\u003E\n\u003Cp\u003E\nAs far as I remember I prevent this by halting the game if this occurs.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe way to do it is with mutexes, but yes, it would halt the main thread while the second thread is busy writing the data to disk.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the main thread execution speed is of paramount importance, one approach is to always have the second thread at a lower priority.\u00A0 Then\u00A0when it gets asked to perform the (lengthy) operation, it grabs the mutex, takes a copy of the data [1], releases the mutex, then performs the operation.\u00A0 You always want to reduce the amount of time that a mutex is locked.\u003Cbr\u003E\u003Cbr\u003E\nSo in this case, the memory copy is relatively fast. In comparison, disk access is magnitudes slower, even on SSD. By working with a copy of the data, the actual write to disk can occur over many many frames without impacting the game.\u00A0 It will only use cycles on another core, or any left-over cycles in each frame.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[1] That, of course, depends on the operation.\u00A0 In this particular case that\u0027s an option. But if the worker thread needs to modify the data then it\u0027s often not possible.\u00A0 Depending on the algorithm, it can still be improved through a combination of read and write locks, rather than the \u0022hammer\u0022 of fully exclusive locks all the time. Using separate Read and Write locks allows for\u00A0interleaving of operations, assuming that makes sense for the given task.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-06T22:32:35Z\u0022 title=\u002207/06/2020 10:32  PM\u0022 data-short=\u00224 yr\u0022\u003EJuly 6, 2020\u003C/time\u003E by micha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nereid","CreatedById":68815,"CreatedDateTime":"2020-07-09T21:54:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223816167\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594074338\u0022 data-ipsquote-userid=\u0022113840\u0022 data-ipsquote-username=\u0022micha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/7/2020 at 12:25 AM, micha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe way to do it is with mutexes, but yes, it would halt the main thread while the second thread is busy writing the data to disk.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnder normal circumstances: yes. But in this case a simple volatile boolean and a \u0022spin\u0022 to wait should suffice (it\u0027s a rare occasion anyway, and checking a boolean every\u00A0100ms won\u0027t cost much ).\n\u003C/p\u003E\n\u003Cp\u003E\nProblem with mutexes in C# is, that you can\u0027t aquire them mutiple times and release them just once (bad idea, I already tried this). And I\u0027m a bit relecutant to overdesign this, because it uses a blocking queue for the jobs and you can\u0027t aquire the mutex or a lock (which is\u00A0 sufficient\u00A0in this case) over the whole while loop that fetches the jobs. Aquiring the lock just for a single backup job is an incorrect solution either. Problem is: it\u0027s\u00A0a while loop and I have to aquire the lock AFTER getting it from the queue and releasing it only when the queue is empty at the end of the loop. But maybe I have just not found the right class in C# to accomplish this task. I could do it myself writing my own class like in the old days of Java ;), but this is a bit over the top.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[Yes, it\u0027s an excuse, because I\u0027m to lazy to find a better solution or search for design patterns that solves this.\u00A0\u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E]\n\u003C/p\u003E\n\u003Cp\u003E\nSo I have to decide: Make it not just 99,999999999999999999...% safe and redesign the job handling or keep it as it is.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn theory a new backup could be scheduled while there are still backups ongoing and just waiting to complete and KSP changes the files in between. But this is an academic problem, because new backups are just scheduled in the main menu or at the next save (which waits for the ongoing backups to complete). It just won\u0027t happen.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBefore the latest release there was a temporary solution implemented\u00A0anyway (so async was not really async). I have just forgotten to fix this, but after I read my comment in the code... \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd: I\u0027ve never used\u00A0the async option myself\u00A0 and I never noticed any differences. II have just done it, because I\u0027m used to avoid the UI thread for operations like this (never ever do any I/O in the event-dispatch-thread! - never ever!), but I\u0027m unfamiliar with Unity.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: And you \u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cstrong\u003Eshould never ever use mutexes\u003C/strong\u003E\u003C/span\u003E in the\u003Cspan style=\u0022color:#e67e22;\u0022\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003C/span\u003E\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cstrong\u003EUI-Thread\u003C/strong\u003E\u003C/span\u003E either if they block because if I/O or other unpredictable reasons.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-10T15:36:03Z\u0022 title=\u002207/10/2020 03:36  PM\u0022 data-short=\u00224 yr\u0022\u003EJuly 10, 2020\u003C/time\u003E by Nereid\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-14T02:58:47Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/68815-nereid/\u0026amp;do=hovercard\u0022 data-mentionid=\u002268815\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/68815-nereid/\u0022 rel=\u0022\u0022\u003E@Nereid\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll probably be getting you a PR in a few days, with any fixes in my local which aren\u0027t in the current 1.10 branch.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLinuxgurugamer\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-14T03:00:57Z\u0022 title=\u002207/14/2020 03:00  AM\u0022 data-short=\u00223 yr\u0022\u003EJuly 14, 2020\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nereid","CreatedById":68815,"CreatedDateTime":"2020-07-14T10:02:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223820268\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594695527\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/68815-nereid/\u0026amp;do=hovercard\u0022 data-mentionid=\u002268815\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/68815-nereid/\u0022 rel=\u0022\u0022\u003E@Nereid\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll probably be getting you a PR in a few days, with any fixes in my local which aren\u0027t in the current 1.10 branch.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFeel free. I\u0027 still thinking about a cancel dialog if there are still backups ongoing. But is it realy worth the effort?\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-07-14T10:18:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223818040\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594331656\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/9/2020 at 6:54 PM, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEDIT: And you \u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cstrong\u003Eshould never ever use mutexes\u003C/strong\u003E\u003C/span\u003E in the\u003Cspan style=\u0022color:#e67e22;\u0022\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003C/span\u003E\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cstrong\u003EUI-Thread\u003C/strong\u003E\u003C/span\u003E either if they block because if I/O or other unpredictable reasons.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWe should never do any I/O on the UI-Thread, \u003Cs\u003Ebut yet Unity does\u003C/s\u003E. So if we have a lot of threads running, in need to do I/O that it\u0027s only safely done on the UI-Thread due the design of Unity (probably due legacy from the Unity 5 and earlier), you will need to take that hit.\n\u003C/p\u003E\n\u003Cp\u003E\nThe solution \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113840-micha/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022113840\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/113840-micha/\u0022 rel=\u0022\u0022\u003E@micha\u003C/a\u003E\u00A0gave above appears to be the best compromise.\n\u003C/p\u003E\n\u003Cp\u003E\n-- -- -- POST EDIT 2020-1006 -- -- --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI WAS WRONG. Logging on Unity\u00A0\u003Cu\u003E\u003Cstrong\u003Eis\u003C/strong\u003E\u003C/u\u003E\u00A0thread safe, \u003Ca href=\u0022https://answers.unity.com/questions/714590/thread-safety-and-debuglog.html\u0022 rel=\u0022external nofollow\u0022\u003Ethe dudes made it right\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s KSP that messed up somewhere, somehow on the logging into the screen stunt.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another, some locking mechanism is still needed indeed - what happens is that locking mechanism need to be applied higher on the stack.\u003Cbr\u003E\u003Cbr\u003E\n-- -- -- POST EDIT 2020-1008 -- -- --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNope. Logging on Unity is thread safe on 2019. On 2017 and Unity5, it is not. (sigh)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-10-08T05:09:05Z\u0022 title=\u002210/08/2020 05:09  AM\u0022 data-short=\u00223 yr\u0022\u003EOctober 8, 2020\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Epost edit\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-14T18:35:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223820381\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594720969\u0022 data-ipsquote-userid=\u002268815\u0022 data-ipsquote-username=\u0022Nereid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Nereid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFeel free. I\u0027 still thinking about a cancel dialog if there are still backups ongoing. But is it realy worth the effort?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI reviewed the code, the only thing not there is the floating window code, and that\u00A0 isn\u0027t really important, unless some buttons leak through to the menu screen\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-07-15T17:53:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223820556\u0022 data-ipsquote-contentid=\u002294997\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594751745\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI reviewed the code, the only thing not there is the floating window code, and that\u00A0 isn\u0027t really important, unless some buttons leak through to the menu screen\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo tell you the true, I found this one pretty convenient - and since there\u0027s already an inactive option to activate it (instead of top, bottom, left or right), I would second including this code on the mainstream. You never know when a pesky add\u0027on will popup a Warning over it.\u00A0\u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E\u003C/p\u003E\n"}]}