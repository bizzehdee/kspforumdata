{"TopicId":43525,"ForumId":32,"TopicTitle":"Any ideas or best practices to edit .craft files?","CreatedByName":"b_griffin","CreatedById":79946,"CreatedDateTime":"2013-08-22T19:30:51Z","PageNum":1,"Articles":[{"CreatedByName":"b_griffin","CreatedById":79946,"CreatedDateTime":"2013-08-22T19:30:51Z","Content":"\n\u003Cp\u003EHello, \u003C/p\u003E\u003Cp\u003EI tried to use a quad connector to 4 nuclear engines. Each of the engine had a decoupler and I tried to put another quad connector underneath the decouplers. \u003C/p\u003E\u003Cp\u003EIt all seem good during design, but when I tried to launch it it would bend like crazy. I opened the .craft file and saw that only one of the decouplers was attached to the quad connector. The other 3 decouplers were just hanging there. \u003C/p\u003E\u003Cp\u003EFirst I tried many times to fix this in the vehicle assembly building but it will always only attach one. \u003C/p\u003E\u003Cp\u003EThen I tried to reverse engineer the .craft file to connect the 3 decouplers. I saw that you have to tell each decoupler that it has to be connected to the quad adapter and then tell the adapter that is connected to the decouplers. There seems to be some ordering tough because there are 4 places so you need to specify 01 02 03 or 04...\u003C/p\u003E\u003Cp\u003EI tought that when you flip the quad adapter then the top connector 01 should be connected to 02, 02 to 01, 03 to 04 and 04 to 03. \u003C/p\u003E\u003Cp\u003EAfter making all the changes, I saved the file and loaded back in KSP. In the building it seemed to load ok but all the engines were on (poor kerbals in the building were really worried about all the leaked radiation). When I tried to launch KSP crashed.\u003C/p\u003E\u003Cp\u003ESo at the end I figured that editing the .craft file is not that straight forward and I was wondering if there are any editors out there to consistently make changes. \u003C/p\u003E\u003Cp\u003EI did try the kerbaledit but I dont think you can make changes to the ship file there. \u003C/p\u003E\u003Cp\u003EHas anybody try to edit this with some success? or how to edit them?\u003C/p\u003E\u003Cp\u003Ethanks\u003C/p\u003E\n"},{"CreatedByName":"Johnno","CreatedById":67618,"CreatedDateTime":"2013-08-22T20:33:49Z","Content":"\n\u003Cp\u003EThe best practice is: Don\u0027t.\u003C/p\u003E\u003Cp\u003EYou\u0027re trying to get around the single parent connection system that KSP uses, which is likely what\u0027s making it crash. The best practice is learning how to design things properly, you can for example do the quad connector thing just fine by strutting the quad connectors to eachother.\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2013-08-22T20:34:48Z","Content":"\n\u003Cp\u003ESo, (taking a step back) did you have engines on inside the VAB?! Well done, I\u0027ve not seen or heard of that yet!\u003C/p\u003E\u003Cp\u003EThis appears to be your first post too, so Welcome to the Community!! You also appear to have arrived with a far from standard question!\u003C/p\u003E\u003Cp\u003EJust making sure I understand your design, you had 4 engines on a quad coupler then under each engine was a decoupler and then under that was another quad coupler? and your problem was that there was only 1 point of connection to the 2nd quad coupler? \u003C/p\u003E\u003Cp\u003EUnfortunately what you\u0027ve hit on is a limitation of the games engine. Craft follow a tree structure, they can branch like a tree, but branches can\u0027t be connected together. What you have there is a split to 4 branches going to each engines, one of the branches then connects to the 2nd quad coupler but it is impossible for that branch to be connected to the other 3. At least with stackable or radial parts. That\u0027s why your .craft editing efforts produced such odd results I think.\u003C/p\u003E\u003Cp\u003EThere are two ways (that I know off) to get round the branching limitation. Struts are the only part that can be attached in the VAB/SPH that can form links that don\u0027t conform to the tree branching structure. You can use them to essentially glue the decouplers to the quad coupler but that can be a bit ugly. \u003C/p\u003E\u003Cp\u003EThe other solution is to use docking ports. Put a decoupler under each engine, then a docking port attached to each decoupler (facing docking port side down). Then under one of the docking ports put another docking port (docking port side facing up) and then attach the quad coupler to that. That is your tree structure. Then on the 3 points of the quad coupler that are free put more docking ports (also facing up), making sure they attach to the quad coupler not the other docking ports. In the VAB/SPH these won\u0027t actually be connected, but as soon as you launch the craft they will (should) dock and will form the connection structure that (I think) you are after. I\u0027d also recommend adding some struts to help keep that connection firm. \u003C/p\u003E\u003Cp\u003EYou can then ignore the fact they are docking ports and just drop the whole assembly by triggering your decouplers. \u003C/p\u003E\u003Cp\u003EHope that helps! Happy building!\u003C/p\u003E\n"},{"CreatedByName":"PetWolverine","CreatedById":76001,"CreatedDateTime":"2013-08-22T20:47:56Z","Content":"\n\u003Cp\u003ECraft files in KSP are trees, in the computer science sense. This means that if you draw a diagram of your craft with each part represented by a point and connections between parts represented by lines, there are not allow to be any cycles. The VAB and SPH don\u0027t let you violate this rule. If you do so by editing the .craft file, it\u0027s no surprise that KSP might crash, because it\u0027s going to open up that file and start parsing it with the assumption that it\u0027s a tree. Essentially, you\u0027ve corrupted the file.\u003C/p\u003E\u003Cp\u003EThere is a way to effectively have a craft with cycles in it, though: Use docking ports. When you build it in the VAB, it will still be a tree, but if you line up two docking ports without having them actually connected, then when you take it to the launchpad, they should dock. So in your example, instead of trying to attach the lower quadcoupler directly to all of the decouplers, put docking ports there. Then put another docking port under one of them, flipped the other way around so that it looks docked. Put the flipped quadcoupler under that decoupler. Then add the final three docking ports - make sure that they\u0027re actually connected to the quadcoupler, but they should line up perfectly with the docking ports above, and should dock when you go to the launchpad.\u003C/p\u003E\u003Cp\u003EThere\u0027s lots of stuff you can do by editing .craft files, though personally all I\u0027ve done with it is get some surface-attached things positioned and oriented more precisely than was possible in the SPH.\u003C/p\u003E\u003Cp\u003EEdit: Hah, beaten to the punch while I was typing, and with exactly the same solution too.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-22T20:51:04Z\u0022 title=\u002208/22/2013 08:51  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 22, 2013\u003C/time\u003E by PetWolverine\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"b_griffin","CreatedById":79946,"CreatedDateTime":"2013-08-22T22:26:37Z","Content":"\n\u003Cp\u003EThanks All\u003C/p\u003E\u003Cp\u003EI tried the docking ports and everything worked perfectly.\u003C/p\u003E\u003Cp\u003EHowever, the decouplers destroy the 4 nuclear engines when activated.. lol. Abandon idea.\u003C/p\u003E\u003Cp\u003ELaunch success:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/VoFiOCb.jpg\u0022 alt=\u0022VoFiOCb.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E1st Decoupling worked fine:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/HGb71V8.jpg\u0022 alt=\u0022HGb71V8.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EDecouplers in the nuclear engines tear the whole thing apart lol:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/rMTrQWNh.jpg\u0022 alt=\u0022rMTrQWNh.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ENo Kerbals were injured.\u003C/p\u003E\n"}]}