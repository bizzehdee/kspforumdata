{"TopicId":104132,"ForumId":69,"TopicTitle":"Bizarre Noise from GPU - KSP ONLY!","CreatedByName":"angelatthetomb","CreatedById":88392,"CreatedDateTime":"2015-04-14T19:35:59Z","PageNum":1,"Articles":[{"CreatedByName":"angelatthetomb","CreatedById":88392,"CreatedDateTime":"2015-04-14T19:35:59Z","Content":"\n\u003Cp\u003EHere\u0027s a weird one....\u003C/p\u003E\u003Cp\u003ETrying to run KSP on Linux Mint 17. Specs are GTX 970, i7 4790k 4.0ghz, 16gb RAM. The problem below occurs with three different nVidia-proprietary drivers (the Nouveau drivers don\u0027t support the 970).\u003C/p\u003E\u003Cp\u003EThe first indication of something going wrong is randomly alternating pegged CPUs as soon as KSP starts loading. Watching in a CPU graph first CPU 1 will peg to 100%, then CPU 4, then CPU 7, or whatever, randomly. Seems to switch every three or four seconds. This continues through the loading process and in the game itself (main screen, menus, in flight, everywhere). This comes with pretty poor performance for this machine (random stutters and jitters even with a 3-part craft). It occurs at all graphics settings, with or without mods, x86 or x86_64, whatever. The same machine in Windows never gets CPU pegged from KSP; usually only using 20-25% of one core.\u003C/p\u003E\u003Cp\u003EWhat\u0027s scarier though is the sound the GPU starts to make as soon as the main screen loads. It\u0027s a high-pitched modulated whine or buzz. It\u0027s definitely not the fans; it cuts in and out and it sounds synthesized. It reminds me a little of old 56K modem noises. It\u0027s definitely coming from the GPU.\u003C/p\u003E\u003Cp\u003EOnce I pull the 970 and switch to integrated graphics (and deinstall all the nVidia drivers), everything works great. I can load big ships with no lag at all, load it up with mods, no problems. As soon as I switch back to the 970 the CPU pegging and noise come back.\u003C/p\u003E\u003Cp\u003EI\u0027ve never had problems with the card and never heard this sound anywhere but in KSP (including in Windows or in OS X). Other games run fine in Linux.\u003C/p\u003E\u003Cp\u003EAny ideas?\u003C/p\u003E\n"},{"CreatedByName":"Peder","CreatedById":57860,"CreatedDateTime":"2015-04-14T20:03:46Z","Content":"\n\u003Cp\u003EHmmm if you only have this issue with KSP, then I would say you should try to use an older video driver and see if that help you.\u003C/p\u003E\n"},{"CreatedByName":"angelatthetomb","CreatedById":88392,"CreatedDateTime":"2015-04-14T21:54:15Z","Content":"\n\u003Cp\u003EThanks for the tip Peder, tried the oldest available Nvidia drivers that support the 970, issue still there.\u003C/p\u003E\u003Cp\u003EI\u0027ve figured out the noise is \u0022coil noise\u0022 from the capacitors, which occurs when the GPU is under extreme load. That gave me the idea to check my GPU temps and lo and behold, they\u0027re spiked too. GPU usage is at 100%. So is CPU.\u003C/p\u003E\u003Cp\u003ESomething is making KSP use maximum available resources on a system that shouldn\u0027t shrug at it (and performs well under the iGPU at nowhere near maximum loads.) What could do that?\u003C/p\u003E\n"},{"CreatedByName":"waterlubber","CreatedById":119333,"CreatedDateTime":"2015-04-17T19:48:50Z","Content":"\n\u003Cp\u003EI\u0027m sensing that the drivers are at fault...ir Unity. Try installing from Nvidia\u0027s site.\u003C/p\u003E\n"},{"CreatedByName":"ainurakne","CreatedById":140862,"CreatedDateTime":"2015-04-17T20:23:23Z","Content":"\n\u003Cp\u003EI always get this whine if VSync / sync to vblank is disabled for whatever 3D application. When there is no limit, the GPU renders frames as fast as it can, hence the extreme load. It can also choke the CPU, which must then execute rendering loop continuously without a break to feed the GPU with the data and rendering commands.\u003C/p\u003E\u003Cp\u003ECheck KSP VSync or framerate limiting settings under graphics tab.\u003C/p\u003E\u003Cp\u003EHope that helps.\u003C/p\u003E\u003Cp\u003EEDIT: I\u0027ve got Linux Mint 17.1 myself, using GTX 560 Ti with proprietary drivers.\u003C/p\u003E\u003Cp\u003EI recall that when 0.90 came out, I had some problems, because those settings didn\u0027t work as they used to anymore. In the end I settled with VSync turned off and framerate limiter set to 60 FPS. That did the trick for me.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-17T20:47:06Z\u0022 title=\u002204/17/2015 08:47  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 17, 2015\u003C/time\u003E by ainurakne\u003C/strong\u003E\n\u003Cbr\u003EAdditional information\n\u003C/span\u003E\n"},{"CreatedByName":"tschieggm","CreatedById":133979,"CreatedDateTime":"2015-06-05T04:06:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ainurakne\u0022 data-cite=\u0022ainurakne\u0022\u003E\u003Cdiv\u003ECheck KSP VSync or framerate limiting settings under graphics tab.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the solution! \u003C/p\u003E\u003Cp\u003EI ran into this problem today on Ubuntu with a GTX 970 and tweaking the VSync settings made the noise go away.\u003C/p\u003E\n"}]}