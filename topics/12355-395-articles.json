{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":395,"Articles":[{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-05-05T13:54:50Z","Content":"\n\u003Cp\u003EHm, I\u0027m seeing something that might be part of the puzzle of why landing AP isn\u0027t working so well.\u003C/p\u003E\u003Cp\u003EYes I know I\u0027m trying to land a stock spaceplane, but that has nothing to do with what I\u0027m seeing. The trajectory is supposed to start at atmosphere entry, right? So, how come it\u0027s starting seconds away from my ships current location up around 195km? This is why I was confused about the trajectory because it appeared to be indicating atmospheric entry but it\u0027s starting well above the atmosphere.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://smg.photobucket.com/user/smjjames/media/screenshot0_zps4fb3boka.png.html\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://img.photobucket.com/albums/v214/smjjames/screenshot0_zps4fb3boka.png\u0022 alt=\u0022screenshot0_zps4fb3boka.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAlso, to answer my earlier question, it\u0027s trying to land like a regular lander XD The regular landing AP anyway, not spaceplane guidance.\u003C/p\u003E\n"},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-05-05T14:57:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pargentum\u0022 data-cite=\u0022pargentum\u0022\u003E\u003Cdiv\u003EIn latest dev builds \u0022Limit to terminal velocity\u0022 is mostly fixed. At least, it does not try to limit to some funny speeds like 95m/s. But one annoying behavior remains.\u003Cp\u003EWhen I start the gravity turn, drag of the vehicle increases, so MJ turns the engine off. This is understandable, but on vehicle with small lift it means that I will turn much slower than possible, and the speed drops considerably.\u003C/p\u003E\u003Cp\u003EI understand that it is hard to decide what to count as a \u0022terminal velocity\u0022 at high angles of attack. May be you should implement a feature in Accent Guidance to temporary disable \u0022Limit to TV\u0022 on early stages of gravity turn?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow high an angle of attack are you doing at the start of your gravity turn?\u003C/p\u003E\n"},{"CreatedByName":"WissNX01","CreatedById":118195,"CreatedDateTime":"2015-05-05T15:41:44Z","Content":"\n\u003Cp\u003EI haven\u0027t quite gotten used to the new areo effects, but it would be nice if certain values of the ascent path editor were selectable, like the turn start velocity. Anyway, good work on this as always.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-05-05T15:45:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WissNX01\u0022 data-cite=\u0022WissNX01\u0022\u003E\u003Cdiv\u003EI haven\u0027t quite gotten used to the new areo effects, but it would be nice if certain values of the ascent path editor were selectable, like the turn start velocity. Anyway, good work on this as always.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can if you unselect automatic altitude turn. I\u0027ve made that mistake before with not realzing that feature.\u003C/p\u003E\n"},{"CreatedByName":"khearn","CreatedById":48405,"CreatedDateTime":"2015-05-05T15:57:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pargentum\u0022 data-cite=\u0022pargentum\u0022\u003E\u003Cdiv\u003EI mean, a feature that calculates optimal trajectory for a rocket standing on the ground to reach a desired point on the surface of the same body. Would be very cool for:\u003Cp\u003E1. Missions to \u0022measure a temperature flying above 18000m above ...\u0022\u003C/p\u003E\u003Cp\u003E2. Make a lander to jump to other points of the moon instead of using rovers.\u003C/p\u003E\u003Cp\u003EIdeally it could look like landing gudance UI: you just select a desired point on a map or enter coordinates, and whoosh! May be there can be options to minimize dV or to have apoapsis no lower than X km.\u003C/p\u003E\u003Cp\u003EEffectively it is a combination of accent guidance and landing guidance. At least, as I understand, it could massively reuse algorithms from both. For example, landing guidance already can calculate a landing point with consideration for planet rotation, and accent in a right direction would be the same gravity turn, you just have to end it much earlier than during orbital accent.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve thought of this, too. I just didn\u0027t ever get around to asking for it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E This would be really useful for lots of contracts, both on the Mun/Minmus, and on Kerbin. It\u0027s obviously not as high priority as getting things working with the new aero model of course, but it would be really nice to have later on. \u003C/p\u003E\u003Cp\u003EThanks again for all the work you put into this, sarbian. It really makes the game a lot better.\u003C/p\u003E\u003Cp\u003E Keith\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-05-05T16:26:29Z","Content":"\n\u003Cp\u003EQuestion Sarbian, are you able to use a quicksave if I upload just the quicksave or do I have to upload the whole file?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-05T16:50:42Z","Content":"\n\u003Cp\u003Ea quick save is just a save with a different name, anything works\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-05-05T17:58:17Z","Content":"\n\u003Cp\u003EOkay cool.\u003C/p\u003E\u003Cp\u003EHere\u0027s my Pol testing.\u003C/p\u003E\u003Cp\u003EShip: \u003Ca href=\u0022http://sta.sh/0z1b3yt4bmq\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://sta.sh/0z1b3yt4bmq\u003C/a\u003E (pure stock. It\u0027s just a lander, so you\u0027ll have to use hyperedit or build a launcher. The ship is already in orbit around Pol in the save.)\u003C/p\u003E\u003Cp\u003Equicksave plus output log: \u003Ca href=\u0022http://sta.sh/010z4aw3xrqe\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://sta.sh/010z4aw3xrqe\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELanding coordinates in case MJ forgets them: 4 45 53 N 161 8 38 W\u003C/p\u003E\u003Cp\u003ETurn on RCS and small manuevers using RCS.\u003C/p\u003E\u003Cp\u003EAttempt 1:\u003C/p\u003E\u003Cp\u003EThe initial burn down was okay, but then it seemed to keep correcting for like over 10 minutes, seemed to have trouble keeping up with Pols rotation or something.\u003C/p\u003E\u003Cp\u003EThe period after that until about 700m were fine.\u003C/p\u003E\u003Cp\u003EWhen it got to around 700 meters and after it finished killing horizontial velocity, it started doing the somersault thing and got stuck in that loop until around 150m since I decided to just let it do it\u0027s thing. I tried turning off the gimbal and it didn\u0027t help. May have something to do with me using the mainsail, which is OP for Pol.\u003C/p\u003E\u003Cp\u003EFrom 150m onwards, it landed normally. Although it didn\u0027t extend landing gear for some reason even though I had it on, maybe because I toggled it earlier.\u003C/p\u003E\u003Cp\u003EAttempt 2:\u003C/p\u003E\u003Cp\u003EMUCH better than the first attempt, went normally until about 700m when it started doing the somersault again. At around 500 something, I aborted the AP and restarted it in an attempt to reboot it, which only resulted in it spamming an exception, didn\u0027t even try to do anything, killed the AP soon after the engine exploded on impact.\u003C/p\u003E\u003Cp\u003EAttempt 3:\u003C/p\u003E\u003Cp\u003EA rerun of attempt 2, except that I decided to try and have it land somewhere when it got into that loop, which only resulted in it going into the same loop as it did twice before. Flipped between the two AP modes a few times which only resulted in either error spam or locked in a somersault loop, then blasted the engine a bit to give it a different velocity to chase, which didn\u0027t fix either problem. Then I decided to just ram the ship into the ground since it was being buggy in either direction.\u003C/p\u003E\u003Cp\u003EAlso, I did one attempt at Tylo earlier and it landed perfectly, ran out of fuel JUST as I landed, but hey, it\u0027s Tylo.\u003C/p\u003E\u003Cp\u003EEdit: Actually, the first one may have been made a bit screwy by Hyperedit since I sent a new craft to Ike and it was showing some odd behavior, plus the resource tab on the toolbar broke, so I decided to restart and when I came back, that behavior was gone. I\u0027ll just have to exit and relaunch the game whenever I do that before testing.\u003C/p\u003E\u003Cp\u003ETested Ike four times and as perfect as it can get for each one. Onwards to Duna! Travelling there normally because, you know, moon of Duna.\u003C/p\u003E\u003Cp\u003ELanded on Duna twice and landed just fine, within 100m. Also found out that some of my drogue chutes glitched out due to thinking they were stowed, when they aren\u0027t. Second landing was slightly rough at about 1.something m/s (as opposed to 0.5) as it didn\u0027t quite slow down enough. I blame chute sheneinighans on that one.\u003C/p\u003E\u003Cp\u003EFor Duna, one thing that I\u0027m noticing is that it actually shows the trajectory at the beginning of the atmosphere rather than the wierdness I\u0027ve seen at Kerbin. I\u0027ll test out Kerbin later. I think I\u0027ll launch it normally this time.\u003C/p\u003E\u003Cp\u003EHeres the quicksave used and the output log so that you have data on that: \u003Ca href=\u0022http://sta.sh/026hxiuswi6c\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://sta.sh/026hxiuswi6c\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T19:15:14Z\u0022 title=\u002205/05/2015 07:15  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by smjjames\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ITOS","CreatedById":142936,"CreatedDateTime":"2015-05-05T19:45:49Z","Content":"\n\u003Cp\u003EBREAKING NEWS!\u003C/p\u003E\u003Cp\u003EI just noticed that I get different landing prediction and trajectories depending on if the autopilot is on or off!\u003C/p\u003E\u003Cp\u003EIt seems like the prediction is pretty much accurate when the autopilot is off but very wrong when it is on.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i60.photobucket.com/albums/h18/ItosAtio/screenshot2_zpsbuihsqsd.jpg\u0022 alt=\u0022screenshot2_zpsbuihsqsd.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"SemMaxim","CreatedById":142753,"CreatedDateTime":"2015-05-05T19:50:15Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EHow to disable all dependencies from buildings levels and tech tree? I want that all functions be available from beginning.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sarxis","CreatedById":130923,"CreatedDateTime":"2015-05-05T20:04:35Z","Content":"\n\u003Cp\u003EThe way terminal velocity is being calculated now since the 1.0 upgrade is odd to me. The terminal velocity decreases a lot once my rockets are reaching higher acceleration. Is this due to it factoring in dynamic pressure?\u003C/p\u003E\u003Cp\u003E-edit-\u003C/p\u003E\u003Cp\u003EI \u0027m not sure what that was now. Seemed to happen with a specific craft - other rockets were fine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-06T03:21:17Z\u0022 title=\u002205/06/2015 03:21  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 6, 2015\u003C/time\u003E by Sarxis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"acerola","CreatedById":92738,"CreatedDateTime":"2015-05-05T20:15:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SemMaxim\u0022 data-cite=\u0022SemMaxim\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EHow to disable all dependencies from buildings levels and tech tree? I want that all functions be available from beginning.\u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEdit the part.cfg for AR202. Look for \u0022unlockTechs\u0022 and set it to \u003C/p\u003E\u003Cp\u003EunlockTechs = start\u003C/p\u003E\u003Cp\u003Eon all the features.\u003C/p\u003E\u003Cp\u003EEdit: this removes the tech requirement, but not the building requirement.\u003C/p\u003E\n"},{"CreatedByName":"fairytalefox","CreatedById":115320,"CreatedDateTime":"2015-05-05T20:30:21Z","Content":"\n\u003Cp\u003EHello sarbian. It is not an actual feature request, I\u0027m just wondering: is it possible to make MJ to drop fairings automatically on some condition (maybe at some height or dynamic pressure or something like that)? Sorry if already asked.\u003C/p\u003E\n"},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-05-05T20:43:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ITOS\u0022 data-cite=\u0022ITOS\u0022\u003E\u003Cdiv\u003EBREAKING NEWS!\u003Cp\u003EI just noticed that I get different landing prediction and trajectories depending on if the autopilot is on or off!\u003C/p\u003E\u003Cp\u003EIt seems like the prediction is pretty much accurate when the autopilot is off but very wrong when it is on.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i60.photobucket.com/albums/h18/ItosAtio/screenshot2_zpsbuihsqsd.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i60.photobucket.com/albums/h18/ItosAtio/screenshot2_zpsbuihsqsd.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is by design. With the autopilot off it is showing you where you will impact the surface or perhaps where you will land if you suicide burn. With the AP on it shows where the AP will land you taking into account all the burns it will do.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EEdit: Actually, the first one may have been made a bit screwy by Hyperedit since I sent a new craft to Ike and it was showing some odd behavior, plus the resource tab on the toolbar broke, so I decided to restart and when I came back, that behavior was gone. I\u0027ll just have to exit and relaunch the game whenever I do that before testing.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt has been stated before that HyperEdit \u003Cstrong\u003Ewill\u003C/strong\u003E cause issues as MJ won\u0027t be notified that the body being orbited has changed and so it won\u0027t configure itself properly. A work around is quicksave\u002Breload and maybe some scene changes.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T20:48:56Z\u0022 title=\u002205/05/2015 08:48  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by futrtrubl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"acerola","CreatedById":92738,"CreatedDateTime":"2015-05-05T20:58:39Z","Content":"\n\u003Cp\u003EIn the maneuver node editor, is it possible to add or remove one orbit, similar to the stock button?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://wiki.kerbalspaceprogram.com/images/5/55/TwoBlue.jpg\u0022 alt=\u0022TwoBlue.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf not possible, than I would like to suggest that feature.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-05-05T20:59:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022futrtrubl\u0022 data-cite=\u0022futrtrubl\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIt has been stated before that HyperEdit \u003Cstrong\u003Ewill\u003C/strong\u003E cause issues as MJ won\u0027t be notified that the body being orbited has changed and so it won\u0027t configure itself properly. A work around is quicksave\u002Breload and maybe some scene changes.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI didn\u0027t get it when it was stated before, but I\u0027m definetly aware of it now. A quicksave\u002Breload appears to do the trick. I saw that same somersault thing all three times, so, that\u0027s independent of whatever sheneinighans hyperedit causes. Probably should actually fly the ship to Pol to 100% eliminate hyperedit doing something wierd.\u003C/p\u003E\u003Cp\u003ECould use some tips on gravity braking at Jool.....\u003C/p\u003E\n"},{"CreatedByName":"ITOS","CreatedById":142936,"CreatedDateTime":"2015-05-05T21:01:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022futrtrubl\u0022 data-cite=\u0022futrtrubl\u0022\u003E\u003Cdiv\u003EThat is by design. With the autopilot off it is showing you where you will impact the surface or perhaps where you will land if you suicide burn. With the AP on it shows where the AP will land you taking into account all the burns it will do.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am under a different impression: The landing prediction is where you will land with no further input even when the AP is on. This is evident by how the AP makes adjustments and corrections to place the landing prediction marker on top of your target.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-05-05T21:36:11Z","Content":"\n\u003Cp\u003EHere\u0027s a bug. The target selection list defaults to the KSC pad. When I click the Set button next to it I get the popup text Target N/A. I have to click the Set button a second time before it will actually set the KSC pad coordinates.\u003C/p\u003E\u003Cp\u003EI built a new lander from scratch last night. 1 central Poodle and four T30\u0027s. Land Somewhere (with heating \u0027splosions disabled) got it down safely. Yea! Squad majorly nerfed the Poodle and LV909 darnit! What am I supposed to use for powered landing, a Skipper? (They also made the big Kerbodyne engine weaker than the Mainsail at sea level and in vacuum, while also being much heavier. The stock Learstar now has a TWR less than 1!)\u003C/p\u003E\u003Cp\u003EI tried the same lander from the same orbit to land at KSC. Landing Guidance decided to incline the orbit to about 45 degrees and increased the Apoapsis to get a Mun encounter.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://flic.kr/p/saPgRa\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022https://farm8.staticflickr.com/7723/17176348007_ed3714c89e.jpg\u0022 alt=\u002217176348007_ed3714c89e.jpg\u0022\u003E\u003C/a\u003E\u003Ca href=\u0022https://flic.kr/p/saPgRa\u0022 rel=\u0022external nofollow\u0022\u003Escreenshot0 KSP 1.0.2\u003C/a\u003E by \u003Ca href=\u0022https://www.flickr.com/people/27748767@N08/\u0022 rel=\u0022external nofollow\u0022\u003Eg_alan_e\u003C/a\u003E, on Flickr\u003C/p\u003E\u003Cp\u003ESince I mentioned the Learstar... Swap the KR-2L out for a Mainsail and it can fly, but unfortunately MechJeb\u0027s differential throttle can\u0027t handle it now as it is built. Instead of using the engines on the shuttle to add enough thrust to keep the craft balanced, it cuts their throttle way back and the Mainsail down to next to zero, and proceeds to fly into the ocean. Setting force roll to 180 (in both boxes) doesn\u0027t help.\u003C/p\u003E\u003Cp\u003EThat\u0027s a stock craft that was barely usable in previous KSP versions (thought I was able to use Ascent Guidance to get it to orbit), now needs a major rework.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T21:46:04Z\u0022 title=\u002205/05/2015 09:46  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Aldmehr","CreatedById":71612,"CreatedDateTime":"2015-05-05T21:44:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIt does if auto-staging is on. MJ uses the deltaV stats to know how much thrust and how long each stages last. If it need to stage it adds the staging time set in the auto-staging config. It times the burn so half the dv is spent before reaching the node, so you if you have staging with different engines you can have the burn start earlier or later than half the burn time.\u003C/p\u003E\u003Cp\u003EThe math itself could use some love (\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/issues/544\u0022 rel=\u0022external nofollow\u0022\u003ESomeone provided a better solution\u003C/a\u003E) but it is good enough for now.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStudying the code, it appears to me the halfBurnTime calculation needs the love.\u003C/p\u003E\u003Cp\u003EI\u0027d propose the following:\u003C/p\u003E\u003Cp\u003EIn MechJebModuleNodeExecutor.cs method BurnTime(...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ERemove these two sections:\u003Cbr\u003E                if (halfDvLeft \u0026gt; stageBurnDv)\u003Cbr\u003E                {\u003Cbr\u003E                    halfDvLeft -= stageBurnDv;\u003Cbr\u003E                }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                if (halfDvLeft \u0026lt; stageBurnDv)\u003Cbr\u003E                {\u003Cbr\u003E                    halfBurnTime = burnTime \u002B halfDvLeft / stageAvgAccel;\u003Cbr\u003E                    halfDvLeft = 0;\u003Cbr\u003E                }\u003Cbr\u003E\u003Cbr\u003EAnd replace the second section with this:\t\t\t\t\t\t\t\t\u003Cbr\u003E                halfBurnTime \u002B= Math.Min(halfDvLeft, stageBurnDv) / stageAvgAccel;\u003Cbr\u003E                halfDvLeft = Math.Max(0, halfDvLeft - stageBurnDv);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not set up to build and test this inside KSP, but with some quick code experiments it seems to produce more desirable halfBurnTimes across staging.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-05T22:19:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WissNX01\u0022 data-cite=\u0022WissNX01\u0022\u003E\u003Cdiv\u003EI haven\u0027t quite gotten used to the new areo effects, but it would be nice if certain values of the ascent path editor were selectable, like the turn start velocity. Anyway, good work on this as always.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Euh, did you try the checkbox that says \u0022Automatic Altitude Turn\u0022 in the ascent path editor ? \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022futrtrubl\u0022 data-cite=\u0022futrtrubl\u0022\u003E\u003Cdiv\u003EThat is by design. With the autopilot off it is showing you where you will impact the surface or perhaps where you will land if you suicide burn. With the AP on it shows where the AP will land you taking into account all the burns it will do.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo it is not. It is part of the bug and I noticed it a while ago but the source was a bit complex. I spent the evening fixing that and then the next problem that showed up. \u003C/p\u003E\u003Cp\u003EI think that at one point of the 1.0 upgrade I cut some code wrongly and something is missing. The simulation itself is fine (and that was most of the work) but some of the landing logic is not working anymore.\u003C/p\u003E\u003Cp\u003ENow : \u003C/p\u003E\u003Cp\u003E - I released a new dev build with new KER code. This one should be the last. Please warn me if you see a some problem with the dv windows\u003C/p\u003E\u003Cp\u003E - I reverted today change to the landing sim (it fixed some problem but broke things that worked)\u003C/p\u003E\u003Cp\u003E - I added a warning message about landing on bodies with atmo. Bodies with no atmo works as well as before\u003C/p\u003E\u003Cp\u003E - I ll fix the \u0022no warp\u0022 for un-targeted landing tomorrow\u003C/p\u003E\u003Cp\u003E - If nothing horrible is found by tomorrow I ll do a new release. That will allow user that don\u0027t follow the thread to get all the fix since the last one and will lower the amount of \u0022noise\u0022 in the thread\u003C/p\u003E\u003Cp\u003E - Then I redo the landing logic starting from the 0.90 code and maybe some brand new code for some section. And hopefully I end up with something that works.\u003C/p\u003E\u003Cp\u003EAldmehr : added in the last dev. Thanks\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T22:22:20Z\u0022 title=\u002205/05/2015 10:22  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"terahurts","CreatedById":58996,"CreatedDateTime":"2015-05-05T22:38:21Z","Content":"\n\u003Cp\u003ESarbian, if I\u0027m understanding correctly the landing AP should now be working for airless bodies but still has issues with ones with an atmosphere. Is that correct?\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-05-05T22:42:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ENo it is not. It is part of the bug and I noticed it a while ago but the source was a bit complex. I spent the evening fixing that and then the next problem that showed up. \u003C/p\u003E\u003Cp\u003EI think that at one point of the 1.0 upgrade I cut some code wrongly and something is missing. The simulation itself is fine (and that was most of the work) but some of the landing logic is not working anymore.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHm, any idea why the trajectory correctly started at the atmosphere for Duna and not Kerbin as I\u0027ve observed before? I haven\u0027t tested out Kerbin, Eve, or Laythe yet with the lander. Going to actually launch it to the destinations though instead of hyperedit.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E - I released a new dev build with new KER code. This one should be the last. Please warn me if you see a some problem with the dv windows\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m noticing a bit of a discrepancy between KER and MJ using build 444. Is having a discrepancy okay? In build 442, it didn\u0027t have a discrepancy, so...\u003C/p\u003E\u003Cp\u003EEdit: Just checked the same craft under build 442 and theres definetly no discrepancy between KER and MJ.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://smg.photobucket.com/user/smjjames/media/screenshot4_zpsmshahxr9.png.html\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://img.photobucket.com/albums/v214/smjjames/screenshot4_zpsmshahxr9.png\u0022 alt=\u0022screenshot4_zpsmshahxr9.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://smg.photobucket.com/user/smjjames/media/screenshot5_zpsdd6blv3k.png.html\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://img.photobucket.com/albums/v214/smjjames/screenshot5_zpsdd6blv3k.png\u0022 alt=\u0022screenshot5_zpsdd6blv3k.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T23:22:02Z\u0022 title=\u002205/05/2015 11:22  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by smjjames\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Aldmehr","CreatedById":71612,"CreatedDateTime":"2015-05-05T23:31:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EAldmehr : added in the last dev. Thanks\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think you left in the first \u0027if\u0027 block section that should also have been removed. (in dev #444)\u003C/p\u003E\n"},{"CreatedByName":"porrohman","CreatedById":80324,"CreatedDateTime":"2015-05-05T23:42:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sarxis\u0022 data-cite=\u0022Sarxis\u0022\u003E\u003Cdiv\u003EThe way terminal velocity is being calculated now since the 1.0 upgrade is odd to me. The terminal velocity decreases a lot once my rockets are reaching higher acceleration. Is this due to it factoring in dynamic pressure?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat do you mean? Yes, your rocket will throttle down more once it reaches terminal velocity, because you don\u0027t need as much thrust. As the atmosphere gets thinner at higher altitude, it should start throttling up again since less dense atmosphere= higher terminal velocity.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-05-06T01:51:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022porrohman\u0022 data-cite=\u0022porrohman\u0022\u003E\u003Cdiv\u003EWhat do you mean? Yes, your rocket will throttle down more once it reaches terminal velocity, because you don\u0027t need as much thrust. As the atmosphere gets thinner at higher altitude, it should start throttling up again since less dense atmosphere= higher terminal velocity.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s what the TV limit does, though it\u0027s rather harsh and overshooting up and down on the throttle when hitting TV speed. Sarbian has been getting that sorted, which is a very good thing. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027m sure I\u0027ll get to like the new aero, especially after I CFG up some better performing clones of the ultra-nerfed KR-2L, Poodle and LV-909.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-06T01:54:49Z\u0022 title=\u002205/06/2015 01:54  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 6, 2015\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"}]}