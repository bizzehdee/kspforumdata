{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":110,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-11-25T21:02:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223227570\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511586443\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nVery odd to see an asteroid enter, go to \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E then come crashing into Kerbin. It is supposed to crash into Kerbin the game shows this as well, but when I advanced to the asteroid entering Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E in the game it didn\u0027t show a trajectory like this. When I tried loading up 1.5.8 it loaded okay with the newer runtimes installed but when I went to do the same thing as in the screenshot it told me it couldn\u0027t even find an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E to coast to. \u003Ca href=\u0022http://www.blade-edge.com/misc/ApEntry.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere is the MAT file from 1.5.9\u003C/a\u003E with the original asteroid orbit data. Note that this is with data imported from the save file. I found as I was working on this post that loading the orbit from the game produces the proper result. I\u0027ve included the MAT file with the ingame orbit as well as the SFS file.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, so there\u0027s funny business going on with the \u0022bad\u0022 MAT file.\u00A0 It looks like when the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transition occurs, the spacecraft is already \u003Cstrong\u003Ewell \u003C/strong\u003Ewithin Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E.\u00A0 In fact, it looks like it starts out in a Sun-centric orbit that really should be Kerbin-centric, because the distance between Kerbin and the spacecraft is only a few thousand kilometers at that initial state.\u00A0 I suspect this might be part of the issue... any idea why this might be?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-11-25T21:11:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223227986\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511643777\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nany idea why this might be?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nnot even the slightest. Could it be a data import issue given that the bad MAT is using values from the SFS file? Otherwise I couldn\u0027t begin to guess other than the orbit was generated by the game\u0027s asteroid spawner and so that may have some inherent minor flaw in the orbits it spits out sometimes. I did nothing that could have modified it before using it in MA\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-11-25T21:35:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223227992\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511644264\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nnot even the slightest. Could it be a data import issue given that the bad MAT is using values from the SFS file? Otherwise I couldn\u0027t begin to guess other than the orbit was generated by the game\u0027s asteroid spawner and so that may have some inherent minor flaw in the orbits it spits out sometimes. I did nothing that could have modified it before using it in MA\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, I believe the issue is that the asteroid is getting spawned funny.\u00A0 I imported another asteroid from the scenario (generated later) and it works fine.\u00A0 Additionally, I imported the same asteroid from the SFS file and via KSPTOTConnect and got the same result.\u00A0 Looks like just a funky asteroid....\n\u003C/p\u003E\n\u003Cp\u003E\nExcept that it doesn\u0027t look funky in the tracking window.\u00A0 There it\u0027s well outside Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E.\u00A0 Boy, I\u0027m not sure what\u0027s going on there, maybe some issue with Kerbin\u0027s location over an extended period of time.\u00A0 Not sure...\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-11-25T21:38:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228011\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511645722\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay, I believe the issue is that the asteroid is getting spawned funny.\u00A0 I imported another asteroid from the scenario (generated later) and it works fine.\u00A0 Additionally, I imported the same asteroid from the SFS file and via KSPTOTConnect and got the same result.\u00A0 Looks like just a funky asteroid....\n\u003C/p\u003E\n\u003Cp\u003E\nExcept that it doesn\u0027t look funky in the tracking window.\u00A0 There it\u0027s well outside Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E.\u00A0 Boy, I\u0027m not sure what\u0027s going on there, maybe some issue with Kerbin\u0027s location over an extended period of time.\u00A0 Not sure...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nquite wonky indeed! I\u0027d say let this rest until I come across another similar instance\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-25T21:38:25Z\u0022 title=\u002211/25/2017 09:38  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 25, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-11-25T21:47:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228014\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511645883\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nquite wonky indeed! I\u0027d say let this rest until I come across another similar instance\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay I think I figured it out!\u00A0 It\u0027s just a KSP quirk: In this case, KSP generates the asteroid orbit by starting at some future time that defines where the asteroid should be relative to Kerbin.\u00A0 It then back propagates the orbit about 60-70 days or so to the current game time (look at the time stamp on the asteroid orbit you import from KSP as opposed to the timestamp actually in the game).\u00A0 So the reason the asteroid starts out in Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E is because it was designed to do that... but not for a long while in the game time.\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u0022reference\u0022 orbit around the Sun that\u0027s getting imported is this future timestamp orbit, because that\u0027s what is stored in the game\u0027s memory and in the SFS file.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes this make sense?\n\u003C/p\u003E\n\u003Cp\u003E\nIn other news!\u00A0 The MATLAB developers finally made it so that 3D axes don\u0027t just explode into the window they\u0027re embedded into when you zoom or pan around in them, so I\u0027m happy to announce that Mission Architect\u0027s main UI window will have this feature in the next release! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022PKDlAGG.png?1\u0022 class=\u0022ipsImage\u0022 height=\u0022727\u0022 src=\u0022https://i.imgur.com/PKDlAGG.png?1\u0022 width=\u0022966\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-11-25T22:13:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223228021\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511646423\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n25 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes this make sense?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nit does, thanks - I will know now to keep an eye out for this in the future so I can just work around it by getting the ingame orbit data\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-11-27T10:56:22Z","Content":"\n\u003Cp\u003E\nno issues so far on the MFMS, it\u0027s cruising along fine. Question tho about this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221Iv7r4J.png\u0022 class=\u0022ipsImage\u0022 height=\u0022352\u0022 src=\u0022https://i.imgur.com/1Iv7r4J.png\u0022 width=\u0022276\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThese are all my sub orbital arcs from launches this year, plotted as Other Spacecraft. Is there a way to get them to line up so they are all coming from the same point? I tried matching RAAN and ArgPE but that didn\u0027t quite do the trick... I also tried setting their Epoch all to the same time thinking that was what was causing them to pop up all over the place but that didn\u0027t do anything either\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-27T11:01:18Z\u0022 title=\u002211/27/2017 11:01  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 27, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-11-27T23:42:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223229146\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511780182\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nno issues so far on the MFMS, it\u0027s cruising along fine. Question tho about this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221Iv7r4J.png\u0022 class=\u0022ipsImage\u0022 height=\u0022352\u0022 src=\u0022https://i.imgur.com/1Iv7r4J.png\u0022 width=\u0022276\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThese are all my sub orbital arcs from launches this year, plotted as Other Spacecraft. Is there a way to get them to line up so they are all coming from the same point? I tried matching RAAN and ArgPE but that didn\u0027t quite do the trick... I also tried setting their Epoch all to the same time thinking that was what was causing them to pop up all over the place but that didn\u0027t do anything either\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSetting the same RAAN, Argument, and Epoch should do it... what happens when you try that?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-11-28T04:43:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223229642\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511826121\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSetting the same RAAN, Argument, and Epoch should do it... what happens when you try that?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey all just stack upon each other:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022UiqP4B2.png\u0022 class=\u0022ipsImage\u0022 height=\u0022750\u0022 src=\u0022https://i.imgur.com/UiqP4B2.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-11-28T12:22:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223229793\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511844221\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThey all just stack upon each other:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/UiqP4B2.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022UiqP4B2.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022750\u0022 src=\u0022https://i.imgur.com/UiqP4B2.png\u0022 width=\u00221024\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh I get what you want. You\u0027ll have to adjust the RAAN of each manually to get them from the same point.\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-11-28T13:47:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223229960\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511871722\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh I get what you want. You\u0027ll have to adjust the RAAN of each manually to get them from the same point.\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nis there a formula or something to this or am I just fiddling with numbers until they all line up? Also do you mean adjust the RAAN while keeping the ArgPe and Epoch all the same or adjust only the RAAN?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-11-28T14:50:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223229990\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221511876856\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nis there a formula or something to this or am I just fiddling with numbers until they all line up? Also do you mean adjust the RAAN while keeping the ArgPe and Epoch all the same or adjust only the RAAN?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGenerally just fiddling with numbers. But you could also use the optimizer to target the ascending point at zero altitude to have the same longitude by strictly adjusting the RAAN of the orbit. That might be faster.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-01T01:25:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223218300\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221510586296\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/13/2017 at 9:18 AM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHrmm, already off to a rough start. So I had the first encounter ingame and was going to put the new orbital data into the mission file but first I had to advance events up to the point of the new orbit. After I did this though I ended up with a completely different result several events later and I\u0027m not sure why. Repro steps:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nOpen \u003Ca href=\u0022http://www.blade-edge.com/misc/Alaba.zip\u0022 rel=\u0022external nofollow\u0022\u003Emission file\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nRight-click on event 4 and select \u0022Advance Script Up To Selected Event\u0022\n\u003C/li\u003E\n\u003Cli\u003E\nWait a minute or so for it to churn\n\u003C/li\u003E\n\u003Cli\u003E\nMA now tells me it will no longer take 100\u002B revs to get another encounter several events later\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nI don\u0027t get what\u0027s happening here, as I did not even put in the new orbital data yet, I just advanced the script which should keep everything else the same right? I checked the Initial State orbit properties after the script advance against the orbit that should be applied to event 4 in the original mission file and they match up exactly. Soooo where\u0027s the deviation?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo I have bad news about this one.\u00A0 After investigating tonight, I believe I know what the issue is.\n\u003C/p\u003E\n\u003Cp\u003E\nBetween MATLAB R2015b and R2017b, it looks like the MATLAB developers figured out how to get MATLAB to carry more digits per number internally in memory.\u00A0 This means that numbers in R2017b are more precise after digits around 1E-10 to 1E-14 or so.\u00A0 I ran an experiment to be sure.\u00A0 In both versions, I ran a coast propagation from UT=35860529.8244236 seconds to UT=1.00000000000372e\u002B19 seconds (so a massive propagation, but done analytically, very quick).\u00A0 The large numbers are needed to get the difference in memory storage to appear easily.\n\u003C/p\u003E\n\u003Cp\u003E\nOn MATLAB R2015b, the final result was:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nrVectUT(:,end)\n\u003C/p\u003E\n\u003Cp\u003E\nans =\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 5911.79459078336\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 2274.41900643143\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 7291.38549301709\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn MATLAB R2017b, the final result was:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nans =\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 6886.75452757461\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 -6613.39910759879\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 5449.31230243905\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThese are very different.\n\u003C/p\u003E\n\u003Cp\u003E\nTo illustrate further, here\u0027s what happens when I look at the \u003Cstrong\u003Einitial state\u003C/strong\u003E even further.\u00A0 This is the first element of the position vector.\n\u003C/p\u003E\n\u003Cp\u003E\nMATLAB R2015b:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsprintf(\u0027%32.64f\u0027,rVect(1))\n\u003C/p\u003E\n\u003Cp\u003E\nans =\n\u003C/p\u003E\n\u003Cp\u003E\n-1786.0598619631464000000000000000000000000000000000000000000000000000\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMATLAB R2017b:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsprintf(\u0027%32.64f\u0027,rVect(1))\n\u003C/p\u003E\n\u003Cp\u003E\nans =\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 \u0027-1786.0598619631464316626079380512237548828125000000000000000000000000\u0027\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAnd the difference between these:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n0.0000000000000316626079380512237548828125\n\u003C/p\u003E\n\u003Cp\u003E\nor\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A03.16626079380512e-14\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThese little differences in position mean that over many propagations, or even just one long propagation, and many revolutions of propagation, the solution becomes more and more off.\u00A0 The position and velocity differences start small, but after a long period of time in the MATLAB file you gave me, grow to centimeters of difference, then meters, then kilometers, etc.\u00A0 And the numerical differences accelerate as the differences get larger, so the issue sort of compounds on itself.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure what to tell you as there\u0027s not much I can do about this.\u00A0 Have you noticed any other places where this has impacted things?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-02T02:39:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223232092\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512091553\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/30/2017 at 8:25 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThese little differences in position mean that over many propagations, or even just one long propagation, and many revolutions of propagation, the solution becomes more and more off.\u00A0 The position and velocity differences start small, but after a long period of time in the MATLAB file you gave me, grow to centimeters of difference, then meters, then kilometers, etc.\u00A0 And the numerical differences accelerate as the differences get larger, so the issue sort of compounds on itself.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHrrrmmmmmm.... I\u0027m not entirely sure how the differences you\u0027re showing between the two Matlab versions have an affect on what is being seen in KSPTOT vs. KSP. I think what you are saying is what I suspected, which is that KSPTOT is so hyper-precise that it eventually deviates from the game\u0027s lower precision over time. Now, the previous Matlab versions took a bit more propagation for this to become apparent but with the more recent version carrying greater precision this deviation happens more quickly after fewer propagations. Is this what you\u0027re saying?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-03T23:42:01Z","Content":"\n\u003Cp\u003E\nalso tried to calculate an asteroid Cd and got an error. Here are the values I used:\n\u003C/p\u003E\n\u003Cp\u003E\nDrag Model: \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003Cbr\u003E\nOrbiting: Kerbin\u003Cbr\u003E\nPre-Aerobrake Mass: 87890.797\u003Cbr\u003E\nPre-Aerobrake Peri. Alt.: 16.93418\u003Cbr\u003E\nPre-Aerobrake SMA: 37512.9371076654\u003Cbr\u003E\nPost-Aerobrake SMA: 2265.58365678296\u003Cbr\u003E\nOrbital Inclination: 47.455203501067\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe the mass is too large considering a spacecraft typically wouldn\u0027t weigh that much?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-04T00:35:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223234606\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512344521\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n52 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nalso tried to calculate an asteroid Cd and got an error. Here are the values I used:\n\u003C/p\u003E\n\u003Cp\u003E\nDrag Model: \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E\u003Cbr\u003E\nOrbiting: Kerbin\u003Cbr\u003E\nPre-Aerobrake Mass: 87890.797\u003Cbr\u003E\nPre-Aerobrake Peri. Alt.: 16.93418\u003Cbr\u003E\nPre-Aerobrake SMA: 37512.9371076654\u003Cbr\u003E\nPost-Aerobrake SMA: 2265.58365678296\u003Cbr\u003E\nOrbital Inclination: 47.455203501067\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe the mass is too large considering a spacecraft typically wouldn\u0027t weigh that much?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think I\u0027ve got this resolved.\u00A0 Here is \u003Ca href=\u0022https://drive.google.com/file/d/12pZwU3TrpVZZ0LSd8UzcanD0JWe7V4nu/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.5.9 pre-release 2\u003C/a\u003E, please let me know if this takes care of the issue!\u00A0 I successfully tested it on my end.\u00A0 This build also includes the handful of other items I mentioned I resolved since the first pre-release.\u00A0 Still requires the r2017b MCR, as with last time.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-04T01:21:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223234640\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512347751\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n38 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think I\u0027ve got this resolved.\u00A0 Here is \u003Ca href=\u0022https://drive.google.com/file/d/12pZwU3TrpVZZ0LSd8UzcanD0JWe7V4nu/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.5.9 pre-release 2\u003C/a\u003E, please let me know if this takes care of the issue!\u00A0 I successfully tested it on my end.\u00A0 This build also includes the handful of other items I mentioned I resolved since the first pre-release.\u00A0 Still requires the r2017b MCR, as with last time.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk tested and got a Cd of 919.996118 - that doesn\u0027t seem a bit much? I have this data from a previous event where an asteroid passed low through Kerbin\u0027s atmosphere several times. If I manually play around with the Cd to get a Post-Aerobrake SMA that matches these numbers I end up with 0.477\n\u003C/p\u003E\n\u003Cp\u003E\nAlso I\u0027m still unclear if I understood your post explaining the precision problems. Please let me know if I\u0027m on the right track with this response:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223233019\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512182374\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/1/2017 at 9:39 PM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHrrrmmmmmm.... I\u0027m not entirely sure how the differences you\u0027re showing between the two Matlab versions have an affect on what is being seen in KSPTOT vs. KSP. I think what you are saying is what I suspected, which is that KSPTOT is so hyper-precise that it eventually deviates from the game\u0027s lower precision over time. Now, the previous Matlab versions took a bit more propagation for this to become apparent but with the more recent version carrying greater precision this deviation happens more quickly after fewer propagations. Is this what you\u0027re saying?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-05T01:27:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223234679\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512350501\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/3/2017 at 7:21 PM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk tested and got a Cd of 919.996118 - that doesn\u0027t seem a bit much? I have this data from a previous event where an asteroid passed low through Kerbin\u0027s atmosphere several times. If I manually play around with the Cd to get a Post-Aerobrake SMA that matches these numbers I end up with 0.477\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo... a dig through the code actually suggests that number, the 919.977 we\u0027re seeing, is Cd*A, or the drag coefficient times the frontal surface area.\u00A0 That would make 1) the units on the drag coefficient output make sense, and 2) make the actual number output make more sense.\u00A0 This obviously isn\u0027t clear, though, so I can update the UI to reflect that.\u00A0 Given this interpretation, does that help resolve the issue?\n\u003C/p\u003E\n\u003Cp\u003E\nI agree that 0.477 actually makes far sense as a true blue drag coefficient.\u00A0 Can you explain further where this number came from?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso I\u0027m still unclear if I understood your post explaining the precision problems. Please let me know if I\u0027m on the right track with this response:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot quite.\u00A0 The difference is purely between how the two versions of MATLAB are storing and computing doubles.\u00A0 KSP itself is not related to this.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-05T01:38:16Z\u0022 title=\u002212/05/2017 01:38  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 5, 2017\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-05T02:04:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235579\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512437257\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n42 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis obviously isn\u0027t clear, though, so I can update the UI to reflect that.\u00A0 Given this interpretation, does that help resolve the issue?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, I understand now what the number is but it doesn\u0027t really resolve the issue because that number is the number I have to be able to plug into the Aerobrake state \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E You agree that a value of 0.477 is a proper Cd and that should be the result since the purpose of the calculator is to give a value that can be used not a value that I have to further derive the actual value from.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235579\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512437257\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n42 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan you explain further where this number came from?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYea so I imported the asteroid state parameters from before the aerobrake, added an Aerobrake coast and then a Coast to \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E. I already knew (since this happened in the past) what the SMA was after it had made the atmo pass, so I just manually incrementally increased the Cd in the Aerobrake state until the SMA in the final state was very close to the actual SMA I recorded for the asteroid after it made the pass in the game.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235579\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512437257\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n42 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKSP itself is not related to this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHrmmm ok so you are simply referring to the problem where the mission file can no longer do a coast. So essentially with the newer Matlab version I have to rebuild that entire thing from scratch? Or is it just the huge 100\u002B events length of the mission file itself that is the problem?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m actually starting to already see a deviation from the propagated orbit in the mission file to what is happening in the game:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002254JveWZ.png\u0022 class=\u0022ipsImage\u0022 height=\u0022615\u0022 src=\u0022https://i.imgur.com/54JveWZ.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSo the green orbit is where I expected it to be after 2 Mun encounters, the red orbit is where it actually is. I will continue to keep an eye on it to see how much it grows over time. First Mun encounter was only \u003Cspan\u003E0.342\u003C/span\u003E seconds late on the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E exit, but the second encounter happened several seconds off before and after. This is just watching from the Tracking Station, not even loading the asteroid in the flight scene. So I was wondering if precision issues were throwing things off\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EALSO...\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDo you think a mission length constraint would be possible in the MFMS? I think a lot of my runs could have been cut shorter if I had been able to tell it I don\u0027t want to take 100 years to get through all the planets on my list \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-05T02:10:35Z\u0022 title=\u002212/05/2017 02:10  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 5, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-05T02:52:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235601\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512439469\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n50 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, I understand now what the number is but it doesn\u0027t really resolve the issue because that number is the number I have to be able to plug into the Aerobrake state \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E You agree that a value of 0.477 is a proper Cd and that should be the result since the purpose of the calculator is to give a value that can be used not a value that I have to further derive the actual value from.\n\u003C/p\u003E\n\u003Cp\u003E\nYea so I imported the asteroid state parameters from before the aerobrake, added an Aerobrake coast and then a Coast to \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E. I already knew (since this happened in the past) what the SMA was after it had made the atmo pass, so I just manually incrementally increased the Cd in the Aerobrake state until the SMA in the final state was very close to the actual SMA I recorded for the asteroid after it made the pass in the game.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, thanks for the clarification.\u00A0 Can I get the MAT file that you did this in, by any chance?\u00A0 It would help my investigation!\u00A0 I\u0027m still trying to understand what you\u0027re seeing with what I believe the correct result should be, and that would definitely help.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Just to be clear, I agree that 0.477 is a proper value of Cd, but I also note that what Mission Architect uses as an input for aerobraking is \u003Cstrong\u003Enot\u003C/strong\u003E Cd, but instead \u003Cstrong\u003ECdA\u003C/strong\u003E.\u00A0 That\u0027s why I wasn\u0027t bothered by seeing 919 earlier, because, given that it\u0027s a huge asteroid, there\u0027s probably a massive amount of frontal surface area there.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh ok, I see now you are simply referring to the problem where the mission file can no longer do a coast. So essentially with the newer Matlab version I have to rebuild that entire thing from scratch. Wheeee \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m actually starting to already see a deviation from the propagated orbit in the mission file to what is happening in the game:\n\u003C/p\u003E\n\u003Cp\u003E\nSo the green orbit is where I expected it to be after 2 Mun encounters, the red orbit is where it actually is. I will continue to keep an eye on it to see how much it grows over time. First Mun encounter was only \u003Cspan\u003E0.342\u003C/span\u003E seconds late on the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E exit, but the second encounter happened several seconds off before and after. This is just watching from the Tracking Station, not even loading the asteroid in the flight scene. So I was wondering if precision issues were throwing things off\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, that is certainly troubling!\u00A0 Could I get this MAT file too?\u00A0 Or some more details of how you were doing your comparison/prediction?\u00A0 I\u0027m not sure how I\u0027ll get to the bottom of this one, but I can try.\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EALSO...\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDo you think a mission length constraint would be possible in the MFMS? I think a lot of my runs could have been cut shorter if I had been able to tell it I don\u0027t want to take 100 years to get through all the planets on my list \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSure, I don\u0027t see why not.\u00A0 You just want to be able to constrain the amount of time from the initial state epoch to the epoch of the final event\u0027s final state?\n\u003C/p\u003E\n\u003Cp\u003E\n-------------------------------------------------\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, some good news!\u00A0 I actually got parallel optimization in Mission Architect working this evening (I found a number of bugs that were, weirdly, only kicking in under the parallel case).\u00A0 This will be in the next pre-release build and the next stable build as well!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-05T02:56:14Z\u0022 title=\u002212/05/2017 02:56  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 5, 2017\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-05T03:11:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235640\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512442363\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan I get the MAT file that you did this in, by any chance?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYea I recreated it \u003Ca href=\u0022http://www.blade-edge.com/misc/AstAtmoPass.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. Using data I recorded back when this event happened, I have the Inital State being the asteroid\u0027s orbit right after a previous aerobrake pass, which is why it seems to go all the way around. I already know the SMA after its next aerobrake pass was 2265.58365678296 so I just worked up from the default 0.2 to a Cd that gave me close to that result\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235640\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512442363\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, that is certainly troubling!\u00A0 Could I get this MAT file too?\u00A0 Or some more details of how you were doing your comparison/prediction?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.blade-edge.com/misc/AlabaOffset.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere it is\u003C/a\u003E. The Initial State comes from selecting Event 5 in my \u003Ca href=\u0022http://www.blade-edge.com/misc/Alaba.zip\u0022 rel=\u0022external nofollow\u0022\u003EAlaba propagation file\u003C/a\u003E and choosing Copy Orbit After Selected Event - this gives me the expected orbit after leaving Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E for the second time. The Other Spacecraft orbit is from importing the actual current orbit from the SFS file.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235640\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512442363\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou just want to be able to constrain the amount of time from the initial state epoch to the epoch of the final event\u0027s final state?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup that sounds right\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-05T04:34:14Z","Content":"\n\u003Cp\u003E\nAdditional request - is it possible to detect the Genetic Algorithm window is open while the MFMS is running so if you choose to output a Graphical Analysis it opens in a separate window? Currently it tries to plot in the already-open GA window. I sometimes like to pause my current MFMS run to do something quick in MA. For now my workaround is just to have it generate a tabular text file - thankfully plotting in the open window doesn\u0027t seem to adversely affect the MFMS run\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-05T09:21:33Z","Content":"\n\u003Cp\u003E\nhey! I just noticed that the tooltip that pops up when you hover over the Drag Coefficient input box in the state editor that states the value is actually Cd * A for \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E/NEAR users. So you already have a note in there it could probably just be made more obvious? I\u0027m progressing through an asteroid aerobrake on multiple passes now tho and getting good results from the Aerobrake state. Will share the details after the event is over.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso I just noticed you can\u0027t set a line color for Aerobrake events\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-05T09:24:11Z\u0022 title=\u002212/05/2017 09:24  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 5, 2017\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2017-12-06T00:25:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235650\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512443503\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYea I recreated it \u003Ca href=\u0022http://www.blade-edge.com/misc/AstAtmoPass.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. Using data I recorded back when this event happened, I have the Inital State being the asteroid\u0027s orbit right after a previous aerobrake pass, which is why it seems to go all the way around. I already know the SMA after its next aerobrake pass was 2265.58365678296 so I just worked up from the default 0.2 to a Cd that gave me close to that result\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.blade-edge.com/misc/AlabaOffset.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere it is\u003C/a\u003E. The Initial State comes from selecting Event 5 in my \u003Ca href=\u0022http://www.blade-edge.com/misc/Alaba.zip\u0022 rel=\u0022external nofollow\u0022\u003EAlaba propagation file\u003C/a\u003E and choosing Copy Orbit After Selected Event - this gives me the expected orbit after leaving Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E for the second time. The Other Spacecraft orbit is from importing the actual current orbit from the SFS file.\n\u003C/p\u003E\n\u003Cp\u003E\nYup that sounds right\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the MAT files!\n\u003C/p\u003E\n\u003Cp\u003E\nBtw, does the Alaba offset issue show up if you use the last R2015b version of KSPTOT?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235686\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512448454\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAdditional request - is it possible to detect the Genetic Algorithm window is open while the MFMS is running so if you choose to output a Graphical Analysis it opens in a separate window? Currently it tries to plot in the already-open GA window. I sometimes like to pause my current MFMS run to do something quick in MA. For now my workaround is just to have it generate a tabular text file - thankfully plotting in the open window doesn\u0027t seem to adversely affect the MFMS run\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDone.\u00A0 I increased the figure number offset so it should not be a problem in the future.\u00A0 This will be in the next pre-release.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223235766\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512465693\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhey! I just noticed that the tooltip that pops up when you hover over the Drag Coefficient input box in the state editor that states the value is actually Cd * A for \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E/NEAR users. So you already have a note in there it could probably just be made more obvious? I\u0027m progressing through an asteroid aerobrake on multiple passes now tho and getting good results from the Aerobrake state. Will share the details after the event is over.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso I just noticed you can\u0027t set a line color for Aerobrake events\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll get a line color in for the aerobraking stuff, thanks for finding that.\n\u003C/p\u003E\n\u003Cp\u003E\nSo... where are we at with the drag coefficient stuff now?\u00A0 I have made the labels more obvious (everything is \u0022Area * Drag Coefficient\u0022 now).\u00A0 Does anything else still need fixing?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-06T00:26:49Z\u0022 title=\u002212/06/2017 12:26  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 6, 2017\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-12-06T00:58:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223236462\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512519925\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBtw, does the Alaba offset issue show up if you use the last R2015b version of KSPTOT?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan you link me to the KSPTOT version that is? I\u0027ve completely lost track. Will it run okay with the new runtimes I downloaded for the latest pre-release or will I have to roll back those as well?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223236462\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512519925\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n30 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo... where are we at with the drag coefficient stuff now?\u00A0 I have made the labels more obvious (everything is \u0022Area * Drag Coefficient\u0022 now).\u00A0 Does anything else still need fixing?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think I just have to see what you\u0027ve changed in order to be sure I\u0027m understanding the usage of Cd*A\n\u003C/p\u003E\n"}]}