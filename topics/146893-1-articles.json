{"TopicId":146893,"ForumId":29,"TopicTitle":"Help making a 2.5m rapier please?","CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-08-31T22:50:25Z","PageNum":1,"Articles":[{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-08-31T22:50:25Z","Content":"\n\u003Cp\u003E\nHey peeps,\n\u003C/p\u003E\n\u003Cp\u003E\nI suspect this is a very simple problem that someone can answer in one sentence and save me many hours of research\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 TLDR, I would like to make a 2.5m rapier part. I\u0027m fine with the stock model, but I want it to play nice with Kerbal R\u0026amp;D, which means I can\u0027t Tweakscale it up, and have to provide a distinct and separate part.\n\u003C/p\u003E\n\u003Cp\u003E\nI have gotten to the stage below with a simple .cfg file, whereby the size, thrust, and mass of the middle engine are as I want. Mine however has a very tiny exhaust plume in comparison to the tweakscaled version, and I don\u0027t know enough to understand why.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00228CqYeYT.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/8CqYeYT.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI am \u003Cem\u003Epretty sure\u003C/em\u003E it relates to this section of the config, which I have tried and failed to make work by doubling the second parameter in the emission field:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#800000;\u0022\u003E\u00A0\u00A0 \u00A0\u00A0\u00A0 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u00A0power_open\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0AUDIO { ...stuff... }\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0MODEL_MULTI_PARTICLE\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0modelName = Squad/FX/shockExhaust_red_small\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0transformName = thrustTransform\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0emission = 0.0 0.0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0emission = 0.05 0.0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0//emission = 0.075 0.25\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0emission = 0.075 0.5\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0//emission = 1.0 1.25\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0emission = 1.0 2.5\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0speed = 0.0 0.5\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0speed = 1.0 1.2\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n...but I do not know the correct incantation or how many times to dance widdershins around a yew tree under the light of a crescent moon\u00A0\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0 I failed to persuade the welding mod to export a scaled engine, so no help there.\n\u003C/p\u003E\n\u003Cp\u003E\nIf anyone has any tips, I would be very much obliged \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 Thank you!\n\u003C/p\u003E\n\u003Cp\u003E\n(Yes, yes this is a post about size envy.)\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-08-31T22:55:17Z","Content":"\n\u003Cp\u003E\nStock particle effects do not support any sort of scaling through the EFFECTS nodes or even through plugin code.\u00A0 The closest you can come is to increase emission and speed, but that merely spews more particles faster rather than changing their size (they\u0027ll still look \u0027small\u0027 but there will be more of them).\n\u003C/p\u003E\n\u003Cp\u003E\nIf you really want particle scaling you will need SmokeScreen and one of its config/fx mods (RealPlumes is my favorite, HotRockets is/was another).\u00A0 Smokescreen adds additional particle types (code) that support dynamic scaling, and RealPlumes adds a large variety of easy-to-setup particle effects (visuals and config).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-08-31T22:56:09Z\u0022 title=\u002208/31/2016 10:56  PM\u0022 data-short=\u00227 yr\u0022\u003EAugust 31, 2016\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-08-31T23:10:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222737560\u0022 data-ipsquote-contentid=\u0022146893\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221472684117\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStock particle effects do not support any sort of scaling through the EFFECTS nodes or even through plugin code.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMaybe an ignorant\u00A0question, but how does tweakscale achieve it then? Something in my game can do it... ^^\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-09-01T00:27:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222737569\u0022 data-ipsquote-contentid=\u0022146893\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221472685000\u0022 data-ipsquote-userid=\u0022127483\u0022 data-ipsquote-username=\u0022eddiew\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n50 minutes ago, eddiew said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe an ignorant\u00A0question, but how does tweakscale achieve it then? Something in my game can do it... ^^\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI thought I had noticed that as well, and it also seems to have an effect on some of the stock engines which use the \u0027scale = xxx\u0027 for model scaling... so perhaps it is possible through plugin code in some fashion by manipulating the models transform scales directly.\u00A0 This was back in 0.90 or so when I last used tweakscale and played with part welding, so that method has apparently been around for awhile.\n\u003C/p\u003E\n\u003Cp\u003E\nI was unable to do so during my investigation on run-time rescaling for a procedural \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E setup, but my investigations there were mostly focused on the EFFECTS node setup or manipulating the particle-emitters directly; neither of which had any sort of support for scaling at the time (1.02\u0027ish, have not checked since).\n\u003C/p\u003E\n\u003Cp\u003E\nLogically though, from a Unity-game-engine perspective, it seems like there has to be some way to do rescaling of the particle effects.\u00A0 The particle emitters reside as a Component on a GameObject, which itself has a transform and scale factor, and/or could be parented to another transform with the parent transforms scale being manipulated.\u00A0 This of course is dependent on if the particle emitters rendering functions are even passed the scaling from the transforms (which -does- seem to be happening from the observations\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nTwo things I might suggest after a bit of thought.\u00A0 First, investigate if the \u0027scale = xxx\u0027 and \u0027rescaleFactor = xxx\u0027 in the part config have any effect on particle size;\u00A0 it seems likely that one of them will have an impact.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSecond -- look at the Tweakscale code and see how they do the scaling.\u00A0 It could even be as simple as the code setting part.scale, or part.rescaleFactor;\u00A0 whichever Tweakscale uses will be the one you\u0027ll need to modify in your part config.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter investigating one of those and finding how the scaling is done, it should mostly be a matter of setting up the MODEL node and attach-nodes properly for the chosen rescaling method.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nActually, I took a look at the TweakScale code myself as I was curious.\u00A0 It appears that they manually rescale the Parts \u0027model\u0027 transform (which is the root transform to which all models and renderers are parented to).\u00A0 (\u00A0\u003Ca href=\u0022https://github.com/pellinor0/TweakScale/blob/master/Scale.cs#L534-L563\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/pellinor0/TweakScale/blob/master/Scale.cs#L534-L563\u003C/a\u003E )\u00A0\u00A0 I didn\u0027t spot anything specifically related to FX rescaling, so it seems probable that rescaling of the \u0027model\u0027 transform will also rescale the effects, and that one of the two stock-part-config scale/rescaleFactor values simply does exactly that.\n\u003C/p\u003E\n\u003Cp\u003E\nWhich leads back to the \u0027First\u0027 thing to investigate from above -- play around with the scale and rescaleFactor and see if they rescale the effects as well.\u00A0 You may need to apply an inverse scale to your model through the MODEL node to compensate (or just leave it at 1?), and/or manually recalculate attach-node positions.\n\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-09-01T09:31:38Z","Content":"\n\u003Cp\u003E\nThanks for the response \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately, neither scale or rescaleFactor had any effect on the effects. Scale seemed to bring oddities, like moving the attach nodes outside the model. I have left scale = 1.0 and added rescaleFactor = 2.5, which seems to produce the expected results, at least with regard to physical size and attachment nodes. After an hour of fiddling, I had failed to persuade effects to cooperate and gave up on it because I don\u0027t want to learn the internals of Tweakscale just for this one task\u00A0\u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand, I realised I could swap the model_multi_particle! So I\u0027ve substituted what I think are the Panther engine\u0027s effects, which seem to have responded to a reduced energy and speed setting to shorten them down from the usual long trail. In fairness, I think it\u0027s a pretty good compromise \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022hMWciDc.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022406\u0022 src=\u0022http://i.imgur.com/hMWciDc.jpg\u0022 width=\u00221000\u0022\u003E\u00A0(Tweakscale on top, mine on bottom.)\n\u003C/p\u003E\n\u003Cp\u003E\n...of course, now I\u0027ve realised I\u0027ll need to write configs for some air intakes to match... but at least those should be easier. Or I might just let Tweakscale do its thing, because even at 2.5m they\u0027re a light part and there\u0027s not a lot for KR\u0026amp;D to optimise\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SpaceCommanderNemo","CreatedById":110846,"CreatedDateTime":"2016-09-01T11:58:11Z","Content":"\n\u003Cp\u003E\nAnd here I was thinking the \u0022Lancer\u0022 engine was stock... Which mod is it, then? KAX? SXT?\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, you could probably look at that, or the B9 Sabres, to see what their settings look like.\n\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-09-01T15:22:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222738041\u0022 data-ipsquote-contentid=\u0022146893\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221472731091\u0022 data-ipsquote-userid=\u0022110846\u0022 data-ipsquote-username=\u0022SpaceCommanderNemo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, SpaceCommanderNemo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnd here I was thinking the \u0022Lancer\u0022 engine was stock... Which mod is it, then? KAX? SXT?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not aware of any mod that simply offers a 2.5m rapier equivalent without also supplying new models and effects... B9 has the Sabre, which is overall about 10% cooler than a Rapier. Not sure about the Lancer... there\u0027s a big one in MK4 Spaceplanes, but that\u0027s definitely it\u0027s own model.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-09-01T15:22:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222737950\u0022 data-ipsquote-contentid=\u0022146893\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221472722298\u0022 data-ipsquote-userid=\u0022127483\u0022 data-ipsquote-username=\u0022eddiew\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, eddiew said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks for the response \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately, neither scale or rescaleFactor had any effect on the effects. Scale seemed to bring oddities, like moving the attach nodes outside the model. I have left scale = 1.0 and added rescaleFactor = 2.5, which seems to produce the expected results, at least with regard to physical size and attachment nodes. After an hour of fiddling, I had failed to persuade effects to cooperate and gave up on it because I don\u0027t want to learn the internals of Tweakscale just for this one task\u00A0\u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n[...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nInteresting -- I may have to do some further testing on this myself, as I too am interested in finding a way to rescale the stock particle effects for various purposes.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I find out anything further on the subject, will let you know.\u00A0 Looks like you got it working pretty well though with the alternate effects; looking better than the stock-tweakscaled one I would say \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-09-01T15:24:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222738245\u0022 data-ipsquote-contentid=\u0022146893\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221472743328\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n...looking better than the stock-tweakscaled one I would say \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTbh, I kind of think the Rapier\u0027s effects are a bit of a let down for such a cool part\u00A0anyway. B9\u0027s Sabre engines light up to look sooo much better - oddly, it looks a lot like the Panther... which appeared later\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n"}]}