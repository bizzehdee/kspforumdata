{"TopicId":56643,"ForumId":34,"TopicTitle":"[1.12.x] Ship Manifest (Crew, Science, \u0026amp; Resources) - v 6.0.8.0 - 28 Apr 23","CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2013-12-18T06:22:52Z","PageNum":28,"Articles":[{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-12T22:35:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WuphonsReach\u0022 data-cite=\u0022WuphonsReach\u0022\u003E\u003Cdiv\u003EMmm, I was hoping that KSP API provided some sort of \u0022here\u0027s a resource, here\u0027s how much mass it has per unit and how much volume it takes\u0022 information. If not, then the solutions are messier. It may end up being that you have to keep a list of the popular resources, or at least the exceptions which require special handling, like TAC/LS Oxygen which comes in huge quantities.\u003Cp\u003EIf you know the mass per unit via the KSP API, then maybe the pumps are simply rated to move 1000 kg of stuff per second. Which might be a reasonable least-cost solution that is semi-realistic and mostly self-balancing. Moving 100t of fuel around is still going to take a long time, but moving 1t of Oxygen would be very quick.\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EAnother option would be to cap the transfer time at some upper limit. Calculate the sum of the source tank size \u002B target tank size in units, divide by 180 seconds. Your transfer rate is the maximum of either that value or 100 units/sec.\u003C/p\u003E\u003Cp\u003EFor a little mono-prop tank that holds 750 that is pushing to another 750 unit tank, that is (1500 / 180s) or 8.33 units/sec. In which case you would use the 100 units/sec transfer rate.\u003C/p\u003E\u003Cp\u003EIn the case of moving Oxygen around, the source tank holds 210k units and the target tank holds 50k units. (260000 / 180s) is 1444 units/sec. Since that is larger then 100 units/sec, you would transfer the materials at a rate of 1444 units/sec.\u003C/p\u003E\u003Cp\u003EI have some LF/O tanks that hold 29568 units of Oxidizer each. Transferring between those tanks would use a speed of ((29568 \u002B 29568) / 180s) or 328 units/sec instead of the default of 100 units/sec.\u003C/p\u003E\u003Cp\u003EIt\u0027s a quick-n-dirty solution, but a little suspension of disbelief says that larger tanks have larger pumps. And three minutes is probably a reasonable upper bound for moving bulk materials around.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYa, that is what I was thinking. Allow you to both set the flow rate and an upper time limit. If the flow calc exceeds the upper time limit, then use a fraction of the time as the flow rate. If below the max time, use the flow rate set.\u003C/p\u003E\u003Cp\u003EI agree that it gets messy, especially since some of these mods allow you to \u0022create your own resource\u0022. Keeping a list would be problematic in that it would need maintenance and create headaches for all modders.\u003C/p\u003E\u003Cp\u003EBetter to use some \u0022approximation\u0022 so that you get the feeling of immersion, rather than trying to \u0022be precise\u0022. I realize that a lot of work has been done to try to overcome the inherent limitations of the existing model, as mass and density are not adequately simulated in KSP.\u003C/p\u003E\u003Cp\u003EThat is not to say however that I won\u0027t take a look at what work has been done with resource mods, to see if there is an \u0022elegant\u0022 way to provide a more satisfying simulation. I will think of that as a \u00224.1\u0022 goal, along with moving both fuel and oxidizer at the same time...\u003C/p\u003E\u003Cp\u003EOn another note, I\u0027ve added the requested stop button and cleaned up the behavior of the transfer process a bit. I\u0027ve also exposed the min and max numbers for the slider in the settings window, to save having to directly edit the config.xml file. I\u0027ll post screen shots soon.\u003C/p\u003E\u003Cp\u003EEdit: Okay I\u0027ve added the time limit as well... default set to 180 sec (3 min).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-13T00:34:36Z\u0022 title=\u002202/13/2015 12:34  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 13, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wisq","CreatedById":7866,"CreatedDateTime":"2015-02-13T05:23:55Z","Content":"\n\u003Cp\u003EAre there any known mod incompatibilities between ShipManifest and other mods? I run a lot of mods (80\u002B) and I find that Manifest sometimes work, but sometimes just produces weird results. Science and crew work fine, but resources tend to be weird.\u003C/p\u003E\u003Cp\u003EIn the past, I\u0027ve tried to transfer resources from a full tank to an empty tank, and ended up with it transferring -1 instead: the full tank becomes over-full and the empty tank becomes negative.\u003C/p\u003E\u003Cp\u003EIn my current game, I just tried to transfer fuel from my station\u0027s large (14k) Multipurpose Resource Tank XL (Hangar mod) to a Rockomax X200-16 tank on a ship docked to the station. The \u0022Xfer\u0022 interface goes away, like it normally does when a transfer is in progress, but there\u0027s no sound and it never transfers anything, and aside from the Settings and Roster buttons, the entire Manifest UI is now unusable until I exit and reload.\u003C/p\u003E\u003Cp\u003ENothing in the KSP.log that I can see. Certainly nothing that appeared when the problem happened.\u003C/p\u003E\u003Cp\u003EI have seen successful resource transfers in the past, so this isn\u0027t a case of being totally broken at all times, but it\u0027s definitely broken for this situation.\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-13T05:36:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wisq\u0022 data-cite=\u0022Wisq\u0022\u003E\u003Cdiv\u003EAre there any known mod incompatibilities between ShipManifest and other mods? I run a lot of mods (80\u002B) and I find that Manifest sometimes work, but sometimes just produces weird results. Science and crew work fine, but resources tend to be weird.\u003Cp\u003EIn the past, I\u0027ve tried to transfer resources from a full tank to an empty tank, and ended up with it transferring -1 instead: the full tank becomes over-full and the empty tank becomes negative.\u003C/p\u003E\u003Cp\u003EIn my current game, I just tried to transfer fuel from my station\u0027s large (14k) Multipurpose Resource Tank XL (Hangar mod) to a Rockomax X200-16 tank on a ship docked to the station. The \u0022Xfer\u0022 interface goes away, like it normally does when a transfer is in progress, but there\u0027s no sound and it never transfers anything, and aside from the Settings and Roster buttons, the entire Manifest UI is now unusable until I exit and reload.\u003C/p\u003E\u003Cp\u003ENothing in the KSP.log that I can see. Certainly nothing that appeared when the problem happened.\u003C/p\u003E\u003Cp\u003EI have seen successful resource transfers in the past, so this isn\u0027t a case of being totally broken at all times, but it\u0027s definitely broken for this situation.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere had been reports of SM doing exactly what you have described with the \u0022-1\u0022. I\u0027d not personally seen that issue, but had made some small changes that should have corrected this issue. There was an incompatibility with Kerbal Mechanics and highlighting but we resolved that with a fix to Kerbal Mechanics. Other than that I know of no incompatibilities with other mods.\u003C/p\u003E\u003Cp\u003EAs far as the issue with it just becoming unusable. That is new. Let me know what version of SM you are using, and what settings you have (realism mode, etc). Also, what would be very helpful is steps to reproduce if you can make it happen consistently.\u003C/p\u003E\u003Cp\u003EFinally, I have my own log built in. Set Enable Debugger Window in settings, and turn on verbose logging. there may be something in that window that can help identify the issue, and you can save the log to disk, so that I can look.\u003C/p\u003E\u003Cp\u003EI\u0027ve just gone through the resource transfer process and added a stop button, and revisions to how it works. Again, I\u0027ve not seen the issue, but hopefully we can track it down. \u003C/p\u003E\u003Cp\u003EUpcoming release 4.0.2 will have the following:\u003C/p\u003E\u003Cp\u003EVersion 0.90.0_4.0.2 - Release 13 Feb, 2015 - Bugs, Mod Refactoring and More Edition.\u003C/p\u003E\u003Cp\u003E - New: Added New resource transfer features. Now you can stop a transfer in progress. \u003C/p\u003E\u003Cp\u003E - -- -- - Additionally you can now change the min and max flow rate in Settings. \u003C/p\u003E\u003Cp\u003E - -- -- - Finally, you can also set a maximum run time in seconds. \u003C/p\u003E\u003Cp\u003E- -- -- - System will use the lesser duration of flow rate or max time.\u003C/p\u003E\u003Cp\u003E - New: Added tool tips to controls in the options section of the Settings Window.\u003C/p\u003E\u003Cp\u003E - Bug: When moving or transferring a kerbal, closing the transfer window, Manifest window or closing the manifest window from any toolbar while the action is in progress causes an error.\u003C/p\u003E\u003Cp\u003E - Bug: When closing the Transfer Window, internally resetting the selected resource causes an error.\u003C/p\u003E\u003Cp\u003Eshould be out on the 13th of Feb.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-13T05:38:03Z\u0022 title=\u002202/13/2015 05:38  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 13, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-02-13T10:53:37Z","Content":"\n\u003Cp\u003EThanks for the new version the new hatch options are great and so glad that highlighting has been fixed.\u003C/p\u003E\n"},{"CreatedByName":"WuphonsReach","CreatedById":130759,"CreatedDateTime":"2015-02-13T19:23:54Z","Content":"\n\u003Cp\u003EI know that the -1 bug still crops up occasionally in ShipManifest.90.0_3.3.4_01152014 (I\u0027m waiting for 4.0.2). The workaround is still - go back to the space center or another craft, then come back. The bug most frequently occurs right after docking two ships together.\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-13T21:17:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WuphonsReach\u0022 data-cite=\u0022WuphonsReach\u0022\u003E\u003Cdiv\u003EI know that the -1 bug still crops up occasionally in ShipManifest.90.0_3.3.4_01152014 (I\u0027m waiting for 4.0.2). The workaround is still - go back to the space center or another craft, then come back. The bug most frequently occurs right after docking two ships together.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be correct. \u003C/p\u003E\u003Cp\u003EI\u0027m not sure why you would wait for 4.0.2, as 4.0.0 and up are great improvements over that version. Although, I\u0027ve completely refactored the resource transfer display and setup mechanics for 4.0.2 (it was year old code and I\u0027ve learned some since then). The negative bug will definitely be squashed with this version.\u003C/p\u003E\u003Cp\u003E4.0.2 will be out tonight. I\u0027m performing final testing now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-13T21:46:27Z\u0022 title=\u002202/13/2015 09:46  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 13, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-14T00:56:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E4.0.2 will be out tonight. I\u0027m performing final testing now.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENew version released:\u003C/p\u003E\u003Cp\u003EVersion 0.90.0_4.0.2 - Release 13 Feb, 2015 - Bugs, Mod Refactoring and More Edition.\u003C/p\u003E\u003Cp\u003E - New: Resource Transfer display and setup system refactored. Added ability to stop a transfer in progress. \u003C/p\u003E\u003Cp\u003E - New: Exposed Resource Transfer Flow Rate Slider min and max values. You can now change the min and max flow rate. \u003C/p\u003E\u003Cp\u003E - New: Added a maximum run time in seconds. SM will use the lesser duration of Xfer amount / flow rate or max time.\u003C/p\u003E\u003Cp\u003E - New: Added tool tips to controls in the options section of the Settings Window.\u003C/p\u003E\u003Cp\u003E - Bug: When moving or transferring a kerbal, closing the transfer window, Manifest window or closing the manifest window from any toolbar while the action is in progress causes an error.\u003C/p\u003E\u003Cp\u003E - Bug: When closing the Transfer Window, internally resetting the selected resource causes an error.\u003C/p\u003E\u003Cp\u003EAlso, just a reminder. If tool tips get in your way, just turn them off, or turn them off for certain windows. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-14T01:32:14Z\u0022 title=\u002202/14/2015 01:32  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 14, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-14T05:49:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JPLRepo\u0022 data-cite=\u0022JPLRepo\u0022\u003E\u003Cdiv\u003EThanks for the new version the new hatch options are great and so glad that highlighting has been fixed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry I missed this earlier. Thanks, I\u0027m glad you\u0027re enjoying the new version.\u003C/p\u003E\n"},{"CreatedByName":"WuphonsReach","CreatedById":130759,"CreatedDateTime":"2015-02-16T06:41:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003EThe negative bug will definitely be squashed with this version.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot squashed yet in 4.0.2. Docking two ships and then immediately attempting to transfer LiquidFuel causes the stop button to appear, but nothing transfers. Will see if I can get something to show up in a log file.\u003C/p\u003E\u003Cp\u003EWorse - now, even if I jump to another ship (or KSC) and come back, the Ship Manifest UI is \u0022stuck\u0022 and won\u0027t let me switch to a different resource or restart the transfer. I have to exit out of KSC and come back in to fix it. (Under the previous version, switching away to another vessel and then coming back always fixed the -1 bug.)\u003C/p\u003E\u003Cp\u003ENote: Was using Connected_Living_Space-1.1.0.0, will try with CLSv1.1.1.0. Will be a bit before I do another docking.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-16T07:19:07Z\u0022 title=\u002202/16/2015 07:19  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 16, 2015\u003C/time\u003E by WuphonsReach\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-16T08:19:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WuphonsReach\u0022 data-cite=\u0022WuphonsReach\u0022\u003E\u003Cdiv\u003ENot squashed yet in 4.0.2. Docking two ships and then immediately attempting to transfer LiquidFuel causes the stop button to appear, but nothing transfers. Will see if I can get something to show up in a log file.\u003Cp\u003EWorse - now, even if I jump to another ship (or KSC) and come back, the Ship Manifest UI is \u0022stuck\u0022 and won\u0027t let me switch to a different resource or restart the transfer. I have to exit out of KSC and come back in to fix it. (Under the previous version, switching away to another vessel and then coming back always fixed the -1 bug.)\u003C/p\u003E\u003Cp\u003ENote: Was using Connected_Living_Space-1.1.0.0, will try with CLSv1.1.1.0. Will be a bit before I do another docking.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe CLS version will definitely impact you. The changes in 1.1.1.0 are REQUIRED if you use CLS with SM 4.0.0 or higher. I performed the exact test you just did (many times using my newly built space station over Kerbin) and all is working fine. However, I was using a current version of CLS. You can also test this by turning off CLS in Settings to see if things are better.\u003C/p\u003E\u003Cp\u003EAlso, I noted a couple of errors I introduced with my refactoring. Changing scenes introduces an error with CLS instantiation. Turning off CLS will work around this as well \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I\u0027m resolving this now.\u003C/p\u003E\u003Cp\u003EAlso, In the SETI balance Mod thread, someone mentioned it would be nice to be able to Extend or Retract all solar panels. Brilliant Idea. I\u0027ve added a Solar Panel management Window to SM. Already working. Works like hatch management.\u003C/p\u003E\u003Cp\u003EHope to have a new version very soon. Sorry for the inconvenience as I clean up the Code that was once spaghetti...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-16T08:34:51Z\u0022 title=\u002202/16/2015 08:34  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 16, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yemo","CreatedById":114412,"CreatedDateTime":"2015-02-16T14:00:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, In the SETI balance Mod thread, someone mentioned it would be nice to be able to Extend or Retract all solar panels. Brilliant Idea. I\u0027ve added a Solar Panel management Window to SM. Already working. Works like hatch management.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat addition!\u003C/p\u003E\u003Cp\u003EJust wanted to add, that not all solar panels are retractable based on StockRebalance by stupid_chris and CaptRobau:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//OX-4W 2x3 Photovoltaic Panels\u003Cbr\u003E@PART[solarPanels3]:FOR[SETI]\u003Cbr\u003E{\u003Cbr\u003E    @title = Electrics: Solar Panels OX-4W 2x3\u003Cbr\u003E\u003Cbr\u003E    @MODULE[ModuleDeployableSolarPanel]\u003Cbr\u003E    {\u003Cbr\u003E        retractable = false\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-16T15:27:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yemo\u0022 data-cite=\u0022Yemo\u0022\u003E\u003Cdiv\u003EGreat addition!\u003Cp\u003EJust wanted to add, that not all solar panels are retractable based on StockRebalance by stupid_chris and CaptRobau:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//OX-4W 2x3 Photovoltaic Panels\u003Cbr\u003E@PART[solarPanels3]:FOR[SETI]\u003Cbr\u003E{\u003Cbr\u003E    @title = Electrics: Solar Panels OX-4W 2x3\u003Cbr\u003E\u003Cbr\u003E    @MODULE[ModuleDeployableSolarPanel]\u003Cbr\u003E    {\u003Cbr\u003E        retractable = false\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for that! a I\u0027ll be sure to respect that setting in realism.\u003C/p\u003E\n"},{"CreatedByName":"WuphonsReach","CreatedById":130759,"CreatedDateTime":"2015-02-16T17:56:51Z","Content":"\n\u003Cp\u003EYep, upgrading to 1.1.1.0 fixes the -1 error that occurred right after docking (wish CLS had the version check feature). PEBKAC on my part.\u003C/p\u003E\u003Cp\u003EAlso, the \u0022Xfer Remaining\u0022 number is a larger font size then the rest of the text on the line. The transfer sub-window (that lets you move from tank A to \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E is not saving its window position.\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EStill thinking about how to improve the maximum time limit feature on transfers. The current implementation makes a lot of sense when you are dumping 100% of one big tank to another big tank, but isn\u0027t optimal for a case where you are only moving 10% of one big tank to the other big tank. Both transfers end up taking 180 seconds (when in the second case it would make more sense for it to only take 18-36 seconds).\u003C/p\u003E\u003Cp\u003E#1 - Calculate the transfer rate based on the source tank being 100% emptied in 180 seconds. The gameplay idea here is that it\u0027s the source tank that drives the transfer. For big tanks filling up little tanks, it would go faster. For small tanks filling up big tanks, it would go slower.\u003C/p\u003E\u003Cp\u003EExample 1a: Source tank holds 210k units, target tank holds 840k units. To drain the source tank from 100% to 0% in 180 seconds = 210k/180s = 1167 flow rate. Thus, if I move only 50k units, the time ends up as 43 seconds (not the full 180s).\u003C/p\u003E\u003Cp\u003EExample 1b: Source is 840k, target is 210k sized tank. So transfer rate should be 840k/180s = 4667 flow. Moving 50k units takes 10.7s.\u003C/p\u003E\u003Cp\u003E#2 - Calculate the sum of both tank sizes, set the transfer rate to be such that emptying both tanks would take 180s. Transfers end up being really quick in this scenario, much faster then the maximum 180s transfer time (in the case of equal sized tanks, worst-case is a 90s transfer).\u003C/p\u003E\u003Cp\u003EExample 2: Tank sizes are 840k and 210k (target/source does not matter). Transfer rate would be (840k\u002B210k)/180s = 5833 flow. Moving 50k units between those two tanks would take 8.6s. Moving 210k from one to the other would take 36 seconds.\u003C/p\u003E\u003Cp\u003E#3 - Calculate the average of the two tank sizes, and base flow rate on that.\u003C/p\u003E\u003Cp\u003EExample 3: So (840k\u002B210k)/2/180s = 2917 flow rate. Moving 50k units takes 17.1s. Worst case time of moving 210k from one tank to the other would take 72s.\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EPersonally, I lean towards #3 as the option, but #2 also avoids the issue.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-16T18:13:01Z\u0022 title=\u002202/16/2015 06:13  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 16, 2015\u003C/time\u003E by WuphonsReach\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-16T20:22:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WuphonsReach\u0022 data-cite=\u0022WuphonsReach\u0022\u003E\u003Cdiv\u003EYep, upgrading to 1.1.1.0 fixes the -1 error that occurred right after docking (wish CLS had the version check feature). PEBKAC on my part.\u003Cp\u003EAlso, the \u0022Xfer Remaining\u0022 number is a larger font size then the rest of the text on the line. The transfer sub-window (that lets you move from tank A to \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E is not saving its window position.\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EStill thinking about how to improve the maximum time limit feature on transfers. The current implementation makes a lot of sense when you are dumping 100% of one big tank to another big tank, but isn\u0027t optimal for a case where you are only moving 10% of one big tank to the other big tank. Both transfers end up taking 180 seconds (when in the second case it would make more sense for it to only take 18-36 seconds).\u003C/p\u003E\u003Cp\u003E#1 - Calculate the transfer rate based on the source tank being 100% emptied in 180 seconds. The gameplay idea here is that it\u0027s the source tank that drives the transfer. For big tanks filling up little tanks, it would go faster. For small tanks filling up big tanks, it would go slower.\u003C/p\u003E\u003Cp\u003EExample 1a: Source tank holds 210k units, target tank holds 840k units. To drain the source tank from 100% to 0% in 180 seconds = 210k/180s = 1167 flow rate. Thus, if I move only 50k units, the time ends up as 43 seconds (not the full 180s).\u003C/p\u003E\u003Cp\u003EExample 1b: Source is 840k, target is 210k sized tank. So transfer rate should be 840k/180s = 4667 flow. Moving 50k units takes 10.7s.\u003C/p\u003E\u003Cp\u003E#2 - Calculate the sum of both tank sizes, set the transfer rate to be such that emptying both tanks would take 180s. Transfers end up being really quick in this scenario, much faster then the maximum 180s transfer time (in the case of equal sized tanks, worst-case is a 90s transfer).\u003C/p\u003E\u003Cp\u003EExample 2: Tank sizes are 840k and 210k (target/source does not matter). Transfer rate would be (840k\u002B210k)/180s = 5833 flow. Moving 50k units between those two tanks would take 8.6s. Moving 210k from one to the other would take 36 seconds.\u003C/p\u003E\u003Cp\u003E#3 - Calculate the average of the two tank sizes, and base flow rate on that.\u003C/p\u003E\u003Cp\u003EExample 3: So (840k\u002B210k)/2/180s = 2917 flow rate. Moving 50k units takes 17.1s. Worst case time of moving 210k from one tank to the other would take 72s.\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EPersonally, I lean towards #3 as the option, but #2 also avoids the issue.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI intentionally made the remaining transfer amount bold and larger. Don\u0027t like it? \u003C/p\u003E\u003Cp\u003EThe Transfer Window does not remember it\u0027s position? I\u0027ll look at the config file to see If I changed a name or made a spelling error in my settings configuration.\u003C/p\u003E\u003Cp\u003EAs far as the rate, I see your point. I\u0027m only considering the amount to transfer and not the tank sizes... it would likely be more realistic to consider the tank size in determining the rate (simulating pump size, heh) Option 3 is certainly doable, and would seem to make sense. But, if we consider the pump source... (Pull or push?), then it might make sense to use the source tank\u0027s volume for the calculation. With Push in mind, Option 1 makes more sense.\u003C/p\u003E\u003Cp\u003EThoughts?\u003C/p\u003E\u003Cp\u003EEdit: I checked my code, and the Transfer Window should be saving its location... the config file contains a reference to it. check to see if it is there... Second from the top of the file.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    \u0026lt;rect name=\u0022ManifestPosition\u0022\u0026gt;\u003Cbr\u003E        \u0026lt;xmin\u0026gt;359\u0026lt;/xmin\u0026gt;\u003Cbr\u003E        \u0026lt;xmax\u0026gt;682\u0026lt;/xmax\u0026gt;\u003Cbr\u003E        \u0026lt;ymin\u0026gt;791\u0026lt;/ymin\u0026gt;\u003Cbr\u003E        \u0026lt;ymax\u0026gt;1079\u0026lt;/ymax\u0026gt;\u003Cbr\u003E    \u0026lt;/rect\u0026gt;\u003Cbr\u003E    \u0026lt;rect name=\u0022TransferPosition\u0022\u0026gt;\u003Cbr\u003E        \u0026lt;xmin\u0026gt;683\u0026lt;/xmin\u0026gt;\u003Cbr\u003E        \u0026lt;xmax\u0026gt;1305\u0026lt;/xmax\u0026gt;\u003Cbr\u003E        \u0026lt;ymin\u0026gt;791\u0026lt;/ymin\u0026gt;\u003Cbr\u003E        \u0026lt;ymax\u0026gt;1080\u0026lt;/ymax\u0026gt;\u003Cbr\u003E    \u0026lt;/rect\u0026gt;\u003Cbr\u003E    \u0026lt;rect name=\u0022RosterPosition\u0022\u0026gt;\u003Cbr\u003E        \u0026lt;xmin\u0026gt;277\u0026lt;/xmin\u0026gt;\u003Cbr\u003E        \u0026lt;xmax\u0026gt;668\u0026lt;/xmax\u0026gt;\u003Cbr\u003E        \u0026lt;ymin\u0026gt;232\u0026lt;/ymin\u0026gt;\u003Cbr\u003E        \u0026lt;ymax\u0026gt;582\u0026lt;/ymax\u0026gt;\u003Cbr\u003E    \u0026lt;/rect\u0026gt;\u003Cbr\u003E    \u0026lt;rect name=\u0022SettingsPosition\u0022\u0026gt;\u003Cbr\u003E        \u0026lt;xmin\u0026gt;277\u0026lt;/xmin\u0026gt;\u003Cbr\u003E        \u0026lt;xmax\u0026gt;668\u0026lt;/xmax\u0026gt;\u003Cbr\u003E        \u0026lt;ymin\u0026gt;232\u0026lt;/ymin\u0026gt;\u003Cbr\u003E        \u0026lt;ymax\u0026gt;582\u0026lt;/ymax\u0026gt;\u003Cbr\u003E    \u0026lt;/rect\u0026gt;\u003Cbr\u003E    \u0026lt;rect name=\u0022HatchPosition\u0022\u0026gt;\u003Cbr\u003E        \u0026lt;xmin\u0026gt;624\u0026lt;/xmin\u0026gt;\u003Cbr\u003E        \u0026lt;xmax\u0026gt;1010\u0026lt;/xmax\u0026gt;\u003Cbr\u003E        \u0026lt;ymin\u0026gt;103\u0026lt;/ymin\u0026gt;\u003Cbr\u003E        \u0026lt;ymax\u0026gt;363\u0026lt;/ymax\u0026gt;\u003Cbr\u003E    \u0026lt;/rect\u0026gt;\u003Cbr\u003E    \u0026lt;rect name=\u0022DebuggerPosition\u0022\u0026gt;\u003Cbr\u003E        \u0026lt;xmin\u0026gt;1254\u0026lt;/xmin\u0026gt;\u003Cbr\u003E        \u0026lt;xmax\u0026gt;1770\u0026lt;/xmax\u0026gt;\u003Cbr\u003E        \u0026lt;ymin\u0026gt;269\u0026lt;/ymin\u0026gt;\u003Cbr\u003E        \u0026lt;ymax\u0026gt;629\u0026lt;/ymax\u0026gt;\u003Cbr\u003E    \u0026lt;/rect\u0026gt;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-16T20:43:01Z\u0022 title=\u002202/16/2015 08:43  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 16, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dermeister","CreatedById":41487,"CreatedDateTime":"2015-02-17T10:52:45Z","Content":"\n\u003Cp\u003ECrew manifest won\u0027t allow me to rename kerbals anymore? Am I missing something it used to be easy but now it seems impossible to do. Does any 1 know how to rename kerbals?\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-17T14:11:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dermeister\u0022 data-cite=\u0022Dermeister\u0022\u003E\u003Cdiv\u003ECrew manifest won\u0027t allow me to rename kerbals anymore? Am I missing something it used to be easy but now it seems impossible to do. Does any 1 know how to rename kerbals?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWith the addition of careers in KSP, renaming a Kerbal changes their profession. So, if you had a pilot, and you rename your kerbal, they could become a Scientist or Engineer... In career mode, it can affect ship\u0027s performance... no pilot, no sas, etc...\u003C/p\u003E\u003Cp\u003EI cannot answer for Crew Manifest (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/60936\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/60936\u003C/a\u003E), it may well still allow renaming. But In Ship Manifest, in order to prevent \u0022disasters\u0022, I removed the ability to Rename Kerbals in version 3.3.4. I\u0027m still researching a means to allow it, but it seems that Squad has linked the two together. A kerbal with the same name will always have the same profession, regardless of the save game they are in. If you want renaming, use version 3.3.3.\u003C/p\u003E\u003Cp\u003EIf enough people want to be able to rename, and don\u0027t care about the effects of that, I could add a switch in Settings to allow it (Use at your own risk!).\u003C/p\u003E\u003Cp\u003EAs is shown in several previous posts a few pages back, we have been experimenting with this in hopes of coming up with a workaround... \u003C/p\u003E\u003Cp\u003ESo far, no luck\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-17T14:54:34Z\u0022 title=\u002202/17/2015 02:54  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 17, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-02-17T19:14:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003ESo far, no luck\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t understand why it\u0027s not working for you programmatically. I\u0027ve renamed a dozen Kerbals to various \u0022Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E:)\u0022 combinations in my personal save and without more than 5 or so smiley faces I\u0027ve been able to set each guy\u0027s name and profession to what I want.\u003C/p\u003E\u003Cp\u003ECan\u0027t you just* have a \u0022rename\u0022 button that, once you type the name you want keeps renaming the guy (internally, not visibly in the game) and checking his profession?\u003C/p\u003E\u003Cp\u003E(example, not based on real data in the game)\u003C/p\u003E\u003Cp\u003EGene Kerman is an Engineer\u003C/p\u003E\u003Cp\u003EI click \u0022rename\u0022 and make him Fred Kerman\u003C/p\u003E\u003Cp\u003EYou check, Fred Kerman is a Scientist.\u003C/p\u003E\u003Cp\u003EYou change his name to Fred Kerman:) who is also a Scientist.\u003C/p\u003E\u003Cp\u003EYou change his name to Fred Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E who is a Pilot.\u003C/p\u003E\u003Cp\u003EYou change his name to Fred Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E:) who is an engineer.\u003C/p\u003E\u003Cp\u003EYou set the actual guy\u0027s name to Fred Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E:) which looks like Fred Kerman in the game, is an engineer, and makes everybody happy.\u003C/p\u003E\u003Cp\u003EIt could even work if I wanted to change Gene Kerman from an Engineer to a Scientist, just keep adding \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u0027s to his name until you get the right profession.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E*Caution! Non-programmer using the word \u0022just\u0022 to describe how easy code would be!\u003C/em\u003E\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-17T21:23:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EI don\u0027t understand why it\u0027s not working for you programmatically. I\u0027ve renamed a dozen Kerbals to various \u0022Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E:)\u0022 combinations in my personal save and without more than 5 or so smiley faces I\u0027ve been able to set each guy\u0027s name and profession to what I want.\u003Cp\u003ECan\u0027t you just* have a \u0022rename\u0022 button that, once you type the name you want keeps renaming the guy (internally, not visibly in the game) and checking his profession?\u003C/p\u003E\u003Cp\u003E(example, not based on real data in the game)\u003C/p\u003E\u003Cp\u003EGene Kerman is an Engineer\u003C/p\u003E\u003Cp\u003EI click \u0022rename\u0022 and make him Fred Kerman\u003C/p\u003E\u003Cp\u003EYou check, Fred Kerman is a Scientist.\u003C/p\u003E\u003Cp\u003EYou change his name to Fred Kerman:) who is also a Scientist.\u003C/p\u003E\u003Cp\u003EYou change his name to Fred Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E who is a Pilot.\u003C/p\u003E\u003Cp\u003EYou change his name to Fred Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E:) who is an engineer.\u003C/p\u003E\u003Cp\u003EYou set the actual guy\u0027s name to Fred Kerman:)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E:) which looks like Fred Kerman in the game, is an engineer, and makes everybody happy.\u003C/p\u003E\u003Cp\u003EIt could even work if I wanted to change Gene Kerman from an Engineer to a Scientist, just keep adding \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u0027s to his name until you get the right profession.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E*Caution! Non-programmer using the word \u0022just\u0022 to describe how easy code would be!\u003C/em\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaybe I misunderstood your last post. I was under the impression that the test DLL did not work as described. What you are describing here is different that what I implemented.\u003C/p\u003E\u003Cp\u003EI\u0027ll take another look at that methodology to see if it does work. I had moved on to the \u0022other\u0022 method I had described just after, that did NOT work after all..\u003C/p\u003E\u003Cp\u003EFinally, are you using these renamed kerbals in your career games with no issues?\u003C/p\u003E\n"},{"CreatedByName":"Dermeister","CreatedById":41487,"CreatedDateTime":"2015-02-18T00:39:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003EWith the addition of careers in KSP, renaming a Kerbal changes their profession. So, if you had a pilot, and you rename your kerbal, they could become a Scientist or Engineer... In career mode, it can affect ship\u0027s performance... no pilot, no sas, etc...\u003Cp\u003EI cannot answer for Crew Manifest (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/60936\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/60936\u003C/a\u003E), it may well still allow renaming. But In Ship Manifest, in order to prevent \u0022disasters\u0022, I removed the ability to Rename Kerbals in version 3.3.4. I\u0027m still researching a means to allow it, but it seems that Squad has linked the two together. A kerbal with the same name will always have the same profession, regardless of the save game they are in. If you want renaming, use version 3.3.3.\u003C/p\u003E\u003Cp\u003EIf enough people want to be able to rename, and don\u0027t care about the effects of that, I could add a switch in Settings to allow it (Use at your own risk!).\u003C/p\u003E\u003Cp\u003EAs is shown in several previous posts a few pages back, we have been experimenting with this in hopes of coming up with a workaround... \u003C/p\u003E\u003Cp\u003ESo far, no luck\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYea I don\u0027t really care about profession change because once you change the name you usually leave it as is. also it\u0027s nice to be able to delete bob jeb and the other 1 I get tired of those 3. But perhaps like you say put a warning or something. But I see why you did it that way. It\u0027s just nice to have the choice.\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-18T00:58:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dermeister\u0022 data-cite=\u0022Dermeister\u0022\u003E\u003Cdiv\u003EYea I don\u0027t really care about profession change because once you change the name you usually leave it as is. also it\u0027s nice to be able to delete bob jeb and the other 1 I get tired of those 3. But perhaps like you say put a warning or something. But I see why you did it that way. It\u0027s just nice to have the choice.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m looking at what 5thHorsman suggested as a potential work around. I\u0027m not keen to \u0022hack\u0022 the names, but if I can get confirmation that the hack does not impact any career mode features (I\u0027m thinking it won\u0027t), then I\u0027ll add that in.\u003C/p\u003E\u003Cp\u003EThanks for using SM!\u003C/p\u003E\u003Cp\u003EAlso, an update. I\u0027ve determined the cause of scene switching errors and have a working fix in code. Testing it now, but looks good. Release should be soon:\u003C/p\u003E\u003Cp\u003EChange log:\u003C/p\u003E\u003Cp\u003EVersion 0.90.0_4.1.0 - Release xx Feb, 2015 - Solar Panels, Bugs, Mod Refactoring and More Edition.\u003C/p\u003E\u003Cp\u003E - New: Added Deployable Solar Panel Management Window. Works like Hatch panel. In realism Mode, respects Rectractable = false.\u003C/p\u003E\u003Cp\u003E - New: Refactored Crew Transfer Display code, Hatch Panel code and data management. Relocated some methods to more logical locations.\u003C/p\u003E\u003Cp\u003E - New: Added switch to allow renaming Kerbals. Added support for maintaining professions after rename. Adds non printing chars to name, so use at your own risk.\u003C/p\u003E\u003Cp\u003E - Bug: After switching scenes and selecting a part with CLS enabled an highligting error occurs.\u003C/p\u003E\u003Cp\u003E - Bug: after switching scenes and using Hatch panel, an error occurs in highlighting.\u003C/p\u003E\u003Cp\u003E - Bug: After switching vessels, the hatch panel shows the old vessel info and is not updated. Additionally, CLS highlighting causes errors.\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-02-18T01:18:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003EMaybe I misunderstood your last post. I was under the impression that the test DLL did not work as described. What you are describing here is different that what I implemented.\u003Cp\u003EI\u0027ll take another look at that methodology to see if it does work. I had moved on to the \u0022other\u0022 method I had described just after, that did NOT work after all..\u003C/p\u003E\u003Cp\u003EFinally, are you using these renamed kerbals in your career games with no issues?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe DLL didn\u0027t work, but the \u003Cstrong\u003Econcept\u003C/strong\u003E seems to be perfect.\u003C/p\u003E\u003Cp\u003EAnd I\u0027ve not played it a lot, but I have a dozen or so such named Kerbals and have played for a few hours with no ill effects.\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-18T01:47:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022badpandabear\u0022 data-cite=\u0022badpandabear\u0022\u003E\u003Cdiv\u003EI was thinking about making a mod to allow renaming Kerbals without changing professions when I discovered this thread. In my testing I found that Kerbal professions reset when the \u0022onGameStateLoad\u0022 event was triggered. So I tried setting the profession at that point and it seemed to persist across scene changes. Perhaps something similar would work for ShipManifest.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m looking at the rename with profession save again, and you mentioned setting the profession at OnGameStateLoad. how did you accomplish that?\u003C/p\u003E\u003Cp\u003EA code snippet would save me some research time...\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-18T02:15:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EThe DLL didn\u0027t work, but the \u003Cstrong\u003Econcept\u003C/strong\u003E seems to be perfect.\u003Cp\u003EAnd I\u0027ve not played it a lot, but I have a dozen or so such named Kerbals and have played for a few hours with no ill effects.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks. I\u0027m attempting to implement it now. One of the issues is related to the fact that I\u0027m using the random kerbal generator, to get a specific Profesison, as it seems I haven\u0027t found the means to create a kerbal by name and then change their profession.\u003C/p\u003E\u003Cp\u003EIf what badpandabear says is true, then I won\u0027t know what the actual profession for a given kerbal is until I persist it via a game save. Looking at that now... Part of why I \u0022thought\u0022 i had it earlier was that it does not automatically change the profession upon renaming. It seems it creates the profession at GameStateLoad (when the savegame is loaded - at start up or after a save).\u003C/p\u003E\u003Cp\u003EMay still be doable, but I may possibly have to perform multiple saves...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-18T02:24:54Z\u0022 title=\u002202/18/2015 02:24  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 18, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"badpandabear","CreatedById":63681,"CreatedDateTime":"2015-02-18T04:55:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022 data-cite=\u0022Papa_Joe\u0022\u003E\u003Cdiv\u003EI\u0027m looking at the rename with profession save again, and you mentioned setting the profession at OnGameStateLoad. how did you accomplish that?\u003Cp\u003EA code snippet would save me some research time...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasically I\u0027ve been trying to directly set the Kerbal\u0027s profession whenever the game automatically resets it based on the name. I\u0027m using a scenario module to persist the name/profession mapping to the saved game. The code looks like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    // Note I hate the name FlexibleProfession\u003Cbr\u003E    [KSPScenario(ScenarioCreationOptions.AddToAllGames,new GameScenes[]{GameScenes.EDITOR,GameScenes.FLIGHT,GameScenes.SPACECENTER})]\u003Cbr\u003E    public class FlexibleProfessionScenario : ScenarioModule\u003Cbr\u003E    {\u003Cbr\u003E//stuff\u003Cbr\u003E        public override void OnLoad(ConfigNode node)\u003Cbr\u003E        {\u003Cbr\u003E            foreach (ConfigNode child in node.GetNodes(FPConstants.KERBAL_SUBNODE))\u003Cbr\u003E            {\u003Cbr\u003E                KerbalProfessionData loadedKerbal = new KerbalProfessionData();\u003Cbr\u003E                loadedKerbal.Load(child);\u003Cbr\u003E                if (loadedKerbal.KerbalName != null)\u003Cbr\u003E                {\u003Cbr\u003E                   KerbalRoster.SetExperienceTrait(crew, loadedKerbal.Title);\u003Cbr\u003E                   // Other stuff to store loadedKerbal\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E//stuff\u003Cbr\u003E    };\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIn my testing I\u0027ve found that calling \u0022KerbalRoster.SetExperienceTrait( someProtoCrewMember )\u0022 will recompute the profession based on protoCrewMember\u0027s name. That should be easier for the append non-printable character approach.\u003C/p\u003E\u003Cp\u003EBTW The reason I\u0027m trying something different is that I thought it might be cool to try making a new custom profession. When I try that it reshuffles all the professions for the non-orange suited Kerbals--which seems bad for an existing saved game. \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EBut I have another problem in that Vessels won\u0027t recognize my Pilots as being able to use SAS unless they EVA first.\u003C/span\u003E \u003Cem\u003EEdited: Now it\u0027s fixed! Time for bed\u003C/em\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-18T06:30:14Z\u0022 title=\u002202/18/2015 06:30  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 18, 2015\u003C/time\u003E by badpandabear\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2015-02-18T08:17:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022badpandabear\u0022 data-cite=\u0022badpandabear\u0022\u003E\u003Cdiv\u003EBasically I\u0027ve been trying to directly set the Kerbal\u0027s profession whenever the game automatically resets it based on the name. I\u0027m using a scenario module to persist the name/profession mapping to the saved game. The code looks like:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    // Note I hate the name FlexibleProfession\u003Cbr\u003E    [KSPScenario(ScenarioCreationOptions.AddToAllGames,new GameScenes[]{GameScenes.EDITOR,GameScenes.FLIGHT,GameScenes.SPACECENTER})]\u003Cbr\u003E    public class FlexibleProfessionScenario : ScenarioModule\u003Cbr\u003E    {\u003Cbr\u003E//stuff\u003Cbr\u003E        public override void OnLoad(ConfigNode node)\u003Cbr\u003E        {\u003Cbr\u003E            foreach (ConfigNode child in node.GetNodes(FPConstants.KERBAL_SUBNODE))\u003Cbr\u003E            {\u003Cbr\u003E                KerbalProfessionData loadedKerbal = new KerbalProfessionData();\u003Cbr\u003E                loadedKerbal.Load(child);\u003Cbr\u003E                if (loadedKerbal.KerbalName != null)\u003Cbr\u003E                {\u003Cbr\u003E                   KerbalRoster.SetExperienceTrait(crew, loadedKerbal.Title);\u003Cbr\u003E                   // Other stuff to store loadedKerbal\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E//stuff\u003Cbr\u003E    };\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIn my testing I\u0027ve found that calling \u0022KerbalRoster.SetExperienceTrait( someProtoCrewMember )\u0022 will recompute the profession based on protoCrewMember\u0027s name. That should be easier for the append non-printable character approach.\u003C/p\u003E\u003Cp\u003EBTW The reason I\u0027m trying something different is that I thought it might be cool to try making a new custom profession. When I try that it reshuffles all the professions for the non-orange suited Kerbals--which seems bad for an existing saved game. \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EBut I have another problem in that Vessels won\u0027t recognize my Pilots as being able to use SAS unless they EVA first.\u003C/span\u003E \u003Cem\u003EEdited: Now it\u0027s fixed! Time for bed\u003C/em\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInteresting. I was looking at that method. wondered if it would behave that way. I\u0027m going to play around with that class and see what I can find.. I\u0027ll post my results. I\u0027m very close now... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: That works great! Looks like we have a workable solution. Thanks for the insight! Now I can create a Kerbal with the desired profession and rename as desired.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-18T08:29:54Z\u0022 title=\u002202/18/2015 08:29  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 18, 2015\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"}]}