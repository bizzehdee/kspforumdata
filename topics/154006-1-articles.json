{"TopicId":154006,"ForumId":29,"TopicTitle":"[Solved] Texture issues","CreatedByName":"TaxiService","CreatedById":74999,"CreatedDateTime":"2016-12-25T15:50:23Z","PageNum":1,"Articles":[{"CreatedByName":"TaxiService","CreatedById":74999,"CreatedDateTime":"2016-12-25T15:50:23Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EProblem 1\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00223329ko1.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/3329ko1.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI use a\u00A0DialogGUIButton and\u00A0an image (weird target sight) to create an image button\u00A0(\u003Ca href=\u0022https://github.com/KSP-TaxiService/CommNetConstellation/blob/7404faa2144808d108dada3d26334aa913379ca1/src/CommNetConstellation/UI/ConstellationControlDialog.cs#L86\u0022 rel=\u0022external nofollow\u0022\u003Ecode\u003C/a\u003E). However, the resulting button is not quite what I desire. The default state of the button is missing the button texture while the highlighted state is missing the image. It acts as if the button texture is changed instead of overlaying multiple textures. Can\u00A0anyone figure out why it does this?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003E\u003Cstrong\u003EProblem 2\u003C/strong\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003E\u003Cimg alt=\u0022uvO2g60.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/uvO2g60.png\u0022\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EThis image is explicitly set to 32 in both width and height (\u003Ca href=\u0022https://github.com/KSP-TaxiService/CommNetConstellation/blob/7404faa2144808d108dada3d26334aa913379ca1/src/CommNetConstellation/UI/VesselSetupDialog.cs#L40\u0022 rel=\u0022external nofollow\u0022\u003Ecode\u003C/a\u003E) but the resulting image is stubbornly more than 32 in width as shown in the above picture (the green borders are drawn by \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/135726-12-debugstuff-2016-10-25-see-the-hidden-secrets-of-the-game-objects/\u0022 rel=\u0022\u0022\u003EDebugStuff\u003C/a\u003E). I do not understand why this particular image is stretched despite its width is locked to 32.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe interface engine has a free reign to how to draw bunch of GUI components. So I edited the DialogGUILabel object next to the DialogGUIImage to be excessive in its width so that it \u0022steals\u0022 all the free space, leaving the image no space to expand in width.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-29T15:14:02Z\u0022 title=\u002212/29/2016 03:14  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 29, 2016\u003C/time\u003E by TaxiService\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TaxiService","CreatedById":74999,"CreatedDateTime":"2016-12-29T15:38:44Z","Content":"\n\u003Cp\u003E\nI found the answer to the first problem. A UIStyle is necessary to point to a number of sprites if you want to override the DialogGUIButton\u0027s default skin (UISkinDef class) when creating an image button.\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EUIStyle focusButtonStyle = new UIStyle(); // necessary for multiple button states\nfocusButtonStyle.normal = new UIStyleState(); // ? (not same as DialogGUIButton.image)\nfocusButtonStyle.normal.background = Sprite.Create(focusTexture, new Rect(0, 0, 32, 32), Vector2.zero);\nfocusButtonStyle.normal.textColor = Color.black;\nfocusButtonStyle.highlight = focusButtonStyle.normal; // when hovering your cursor over it\nfocusButtonStyle.active = focusButtonStyle.normal; // when pressing\nfocusButtonStyle.disabled = focusButtonStyle.normal; // when button is disabled (no reaction when clicking)\n\nDialogGUIButton focusButton = new DialogGUIButton(\u0022\u0022, magicFunction, a, 32, 32, false, focusButtonStyle); // pass focusButtonStyle to this image button\nfocusButton.image = Sprite.Create(focusTexture, new Rect(0, 0, 32, 32), Vector2.zero); // when your cursor is not near it anywhere i.e. what you see\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe downside is you cannot use the default button skin for your image button i.e. you better draw different images for different button states.\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2017-01-19T04:00:26Z","Content":"\n\u003Cp\u003E\nThanks so much! I don\u0027t think I would have guessed that on my own, but now my icon buttons look normal on hover.\n\u003C/p\u003E\n"}]}