{"TopicId":96603,"ForumId":70,"TopicTitle":"Memory Leak?","CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-01-13T23:15:16Z","PageNum":1,"Articles":[{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-01-13T23:15:16Z","Content":"\n\u003Cp\u003EOk i am slowly getting going in my mod heavy career, however i notice my RAM usage is slowly rising, i am not sure how, i have active texture management installed (x86) and i am running with an Nvidia 670, 8gb RAM, overclocked i5, so im guessing memory leak yes? Also i have -forec-opengl-popupwindow on my .exe, although im not so sure if it does anything to be honest with -popupwindow on the end. Looks terrible without it though.\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-01-13T23:31:06Z","Content":"\n\u003Cp\u003EI don\u0027t think -popupwindow helps memory, but it does allow you to alt-tab away from the game without crashing.\u003C/p\u003E\u003Cp\u003EAnd yes, I am also convinced that the current version has a memory leak. It leaks more when you\u0027re close to the ground (Kerbin for sure, but I think all worlds cause it) and it leaks more when you have terrain scatter turned on, but there is a definate, persistent leak that will crash ANY game - \u003Cstrong\u003Eeven a fully stock one\u003C/strong\u003E - after a while.\u003C/p\u003E\u003Cp\u003EModded games just see it more often because they start out using more memory.\u003C/p\u003E\n"},{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-01-13T23:33:39Z","Content":"\n\u003Cp\u003EPoop..... nothing i can do then i guess, my game starts out at 2.5gb of RAM, ended up at 3.6gb when i decided to log out before it blew up on me.\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2015-01-14T01:11:43Z","Content":"\n\u003Cp\u003EI start at 2.1GB of RAM used and every time I load vessels in the VAB/SPH, switch scenes, or really do anything (you know, play the game), memory usage goes up as a trend - at certain points, what I assume is what other people have called \u0022garbage collection\u0022 (not a programmer) does reduce RAM usage momentarily. But the trend is always upward. Even starting as low as 2.1GB, I can\u0027t really play for more than 45 minutes if I am regularly switching between vessels, launching new ones, etc.\u003C/p\u003E\u003Cp\u003EThe same thing happens on stock, it just takes longer to crash because memory usage starts lower. Dear Squad: please fix this ASAP!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-14T01:14:50Z\u0022 title=\u002201/14/2015 01:14  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 14, 2015\u003C/time\u003E by AccidentalDisassembly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"GreatGreengGoo","CreatedById":134600,"CreatedDateTime":"2015-01-14T06:37:58Z","Content":"\n\u003Cp\u003EI have been running into the same problem. Spent the last two weeks compiling mods, resolving conflicts within the mods, making sure I am at an accetable ram usage both while loading the game up and while doing something complicated like launching a vessel with 300 parts. My RAM never went over 2.5 gigs in heavy situations. So I decided, ok cool.... I can start playing for real now...After about an hour of play I alt tab after a few launches of super tiny early game vessels and my ram is at 3.4 gigs! Where did the extra 1 gig come from!?\u003C/p\u003E\n"},{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-01-14T21:46:05Z","Content":"\n\u003Cp\u003EAaaaaaand crashed. The hell is causing this RAM leak....\u003C/p\u003E\n"},{"CreatedByName":"Thanny","CreatedById":110623,"CreatedDateTime":"2015-01-14T21:50:20Z","Content":"\n\u003Cp\u003EIt cannot be overstated how much faster the leak is with terrain scatter and low flying. Turn scatter off completely (requires restarting the game), and the leak will be slow enough that you can fly around the world several times before having to restart.\u003C/p\u003E\n"},{"CreatedByName":"Major999","CreatedById":131827,"CreatedDateTime":"2015-01-15T08:51:33Z","Content":"\n\u003Cp\u003EI\u0027m on a mac and have the same issues. It seems to cross platforms.\u003C/p\u003E\n"},{"CreatedByName":"lyndonguitar","CreatedById":61194,"CreatedDateTime":"2015-01-15T19:09:14Z","Content":"\n\u003Cp\u003EI wondered why I was crashing and I kept removing mods until I was left with what I have, only to still crash...\u003C/p\u003E\u003Cp\u003ESo this is why I\u0027ve been crashing frequently despite having few mods and a significantly smaller game data size than previous iterations, because of this apparent memory leak. I have been tracking my RAM usage too all the time and it seems to inevitably go higher as I travel from scene to scene, up to the point where it reaches 3Gigs plus and crash.\u003C/p\u003E\u003Cp\u003Eany idea when it\u0027s gonna be fixed?\u003C/p\u003E\n"},{"CreatedByName":"DSM20T","CreatedById":123990,"CreatedDateTime":"2015-01-15T23:45:17Z","Content":"\n\u003Cp\u003EI play with a lot of mods and have had memory leaks the whole time. I just live with them. I keep resource monitor open on my second monitor and when ksp gets around 3.5 gigs(usually a couple of hours) I restart the game. Just one way to work around it. HTH\u003C/p\u003E\n"},{"CreatedByName":"GreatGreengGoo","CreatedById":134600,"CreatedDateTime":"2015-01-16T08:05:45Z","Content":"\n\u003Cp\u003EI am positive SQUAD is aware of this issue and it will be fixed soon. For now the only thing you can do is watch your RAM usage and when you get above 3 gigs just save and restart.\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2015-01-16T08:21:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheKnave\u0022 data-cite=\u0022TheKnave\u0022\u003E\u003Cdiv\u003EI am positive SQUAD is aware of this issue and it will be fixed soon. For now the only thing you can do is watch your RAM usage and when you get above 3 gigs just save and restart.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat makes you say that? Have they said something? And I can only wonder what \u0022soon\u0022 means...\u003C/p\u003E\n"},{"CreatedByName":"tea-man","CreatedById":37275,"CreatedDateTime":"2015-01-22T15:41:51Z","Content":"\n\u003Cp\u003EThis is a cross platform issue - I\u0027m running the 64 bit Linux executable and everything runs smoothly while sitting at 4.6 - 5.2Gb memory usage, until I start flying low altitude over any celestial body, whereupon the memory usage jumps in 0.5 - 1Gb increments every 30-60 seconds until all 16 gigs of memory is full and the swap file starts filling up in a similar manner (just exited with ksp using over 30Gb of ram and swap!)\u003C/p\u003E\u003Cp\u003ELike has already been said, turning terrain scatter off increases the time before the spikes begin, but doesn\u0027t eliminate the problem.\u003C/p\u003E\u003Cp\u003EThe only solution I\u0027ve found is to keep an eye on the memory usage, and when it starts to spike, save and restart. Luckily it doesn\u0027t crash in Linux, just temporarily freezes, so it\u0027s more of a severe annoyance rather than making the game unplayable.\u003C/p\u003E\u003Cp\u003EAny news on when this issue may be resolved?\u003C/p\u003E\n"},{"CreatedByName":"sjohnson0684","CreatedById":109266,"CreatedDateTime":"2015-01-26T20:52:18Z","Content":"\n\u003Cp\u003EHaving the same problem. For example, I loaded the game today with an initial 2.5 GB RAM usage, loaded the VAB, alt-tabbed out for a few minutes, and when I came back memory usage was already up to 2.9 GB, never dropping. Obviously something is causing C#/Unity\u0027s garbage collection to not work properly. It\u0027s really annoying for someone like me who does multiple missions simultaneously and having to jump back and forth between a good number of vessels in one sitting. This really needs to be addressed before they release 1.0. Although off-topic, this is one of many reasons they need more beta releases, so that they can find these game crippling bugs, attempt to fix them, and make sure that it is fixed after releasing it to us early access players. Bugs like this on release will damage Squad\u0027s and KSP\u0027s reputation.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-26T21:08:03Z\u0022 title=\u002201/26/2015 09:08  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 26, 2015\u003C/time\u003E by sjohnson0684\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dermeister","CreatedById":41487,"CreatedDateTime":"2015-01-28T05:15:34Z","Content":"\n\u003Cp\u003EMy game crashes in the editor... It\u0027s worse when I MAke custom wings but also happens on rockets, I\u0027m modded at first I thought my mods were using all my memory but Could this memory leak cause this... Unity Player [version: Unity 4.5.5f1_7684ad0c5a44]\u003C/p\u003E\u003Cp\u003Emono.dll caused an Access Violation (0xc0000005)\u003C/p\u003E\u003Cp\u003E in module mono.dll at 0023:1011926a.\u003C/p\u003E\u003Cp\u003EError occurred at 2015-01-28_000644.\u003C/p\u003E\u003Cp\u003EC:\\Program Files (x86)\\Steam\\SteamApps\\common\\Kerbal Space Program\\KSP.exe, run by User.\u003C/p\u003E\u003Cp\u003E66% memory in use.\u003C/p\u003E\u003Cp\u003E0 MB physical memory [2744 MB free].\u003C/p\u003E\u003Cp\u003E0 MB paging file [0 MB free].\u003C/p\u003E\u003Cp\u003E0 MB user address space [100 MB free].\u003C/p\u003E\u003Cp\u003EWrite to location 00201000 caused an access violation.\u003C/p\u003E\u003Cp\u003EThis is just the report from 1 of many crashes since 0.90.... it also happened after a fresh Install so am I safe to assume it\u0027s ksp itself and not my mods or anything I did?\u003C/p\u003E\n"},{"CreatedByName":"Jovzin","CreatedById":105152,"CreatedDateTime":"2015-01-28T07:20:15Z","Content":"\n\u003Cp\u003EI am having the same problems. I really do hope that SQUAD will fix this in next version. \u003C/p\u003E\u003Cp\u003EI am not happy that I have to count how many times I can do launch / revert to VAB or switch between my ships till I crash. \u003C/p\u003E\u003Cp\u003EI started on the KSC screen with 2,2GB of memory. And after a few of this launch / revert to VAB or switching between ships and my memory is 2,8GB. \u003C/p\u003E\u003Cp\u003EReally hope they will fix it. I am slowly loosing fun and joy and interest in playing KSP because of this bug \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-28T10:30:26Z\u0022 title=\u002201/28/2015 10:30  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 28, 2015\u003C/time\u003E by Jovzin\u003C/strong\u003E\n\u003Cbr\u003Etypos crap\n\u003C/span\u003E\n"},{"CreatedByName":"Dermeister","CreatedById":41487,"CreatedDateTime":"2015-01-28T10:02:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Jovzin\u0022 data-cite=\u0022Jovzin\u0022\u003E\u003Cdiv\u003EI am on having the same problems. I really do hope that SQAD will fix this in next version. \u003Cp\u003EI am not happy that I have to count how many times I can do launch / revert to VAB or switch between my ships till I crash. \u003C/p\u003E\u003Cp\u003EI started on the KSC with 2,2GB of memory. And after a few of this launch / revert to VAB or switching between ships and my memory is 2,8GB. \u003C/p\u003E\u003Cp\u003EReally hope they will fix it. I am slowly loosing fun and joy and interest in playing KSP because of this bug \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESame here but I do think they will fix it squad probably realize by now it\u0027s game breaking so I\u0027m willing to bet they are working on it as we speak. I hope they release a patch b4 next release though! but we have to remember the game is very much so beta!\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2015-01-28T21:11:33Z","Content":"\n\u003Cp\u003Esame here. I\u0027ve got atm on full with 8x texture reduction, still crashes after an hour or so. mac with 20 mods.\u003C/p\u003E\n"},{"CreatedByName":"The Space Man","CreatedById":73734,"CreatedDateTime":"2015-02-01T12:02:39Z","Content":"\n\u003Cp\u003EThere\u0027s also this - \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/3926\u0022 rel=\u0022external nofollow\u0022\u003ESPH/VAB context menu (tweakable UI) seems to leak memory on every redraw\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dermeister","CreatedById":41487,"CreatedDateTime":"2015-02-01T13:26:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The Space Man\u0022 data-cite=\u0022The Space Man\u0022\u003E\u003Cdiv\u003EThere\u0027s also this - \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/3926\u0022 rel=\u0022external nofollow\u0022\u003ESPH/VAB context menu (tweakable UI) seems to leak memory on every redraw\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESeem to be very much what I experience ... because I notice when I tweak stuff a lot I get a crash I can replicate it every time.\u003C/p\u003E\u003Cp\u003EAlso if I Select the craft and Flip it around a lot in the SPH and VAB I get a crash sometimes.... but that one I can\u0027t replicate.\u003C/p\u003E\n"},{"CreatedByName":"sjohnson0684","CreatedById":109266,"CreatedDateTime":"2015-02-01T17:46:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The Space Man\u0022 data-cite=\u0022The Space Man\u0022\u003E\u003Cdiv\u003EThere\u0027s also this - \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/3926\u0022 rel=\u0022external nofollow\u0022\u003ESPH/VAB context menu (tweakable UI) seems to leak memory on every redraw\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat may be a separate issue that compounds the memory leak. The VAB/SPH scenes in general cause a memory leak for me, i.e. just loading them and doing absolutely nothing causes KSP\u0027s memory usage to gradually increase (I checked the debug logs and I\u0027m not receiving any log spam or exceptions). It\u0027s not limited to the VAB/SPH though, as it happens with switching other scenes or switching directly from one vessel to another, but not as bad it seems. Another memory related complaint is: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/105514-BUG-Memory-Leak-Flying-Near-Ground\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/105514-BUG-Memory-Leak-Flying-Near-Ground\u003C/a\u003E. The game just needs proper optimization, and I hope they have enough internal testing to accomplish this if they continue to forgo more public beta releases.\u003C/p\u003E\u003Cp\u003EAlso, forcing OpenGL seems to help reduce the rate of the memory leak for me, although I have the occasional graphics glitch and FPS drops.\u003C/p\u003E\n"},{"CreatedByName":"Halaberiel","CreatedById":115985,"CreatedDateTime":"2015-02-01T22:29:09Z","Content":"\n\u003Cp\u003EI am having the same problem. Start with 2.4GB used and end up with 3.6 \u0026amp; crashing very fast.\u003C/p\u003E\n"},{"CreatedByName":"praise the suuun","CreatedById":69912,"CreatedDateTime":"2015-02-01T23:44:42Z","Content":"\n\u003Cp\u003Esame here. start at 3.6GB, and over the course of an hour, max out my ram at 7.98GB\u003C/p\u003E\n"},{"CreatedByName":"NoZerone","CreatedById":136554,"CreatedDateTime":"2015-02-02T13:28:00Z","Content":"\n\u003Cp\u003ESo I guess this memory leak explains why my computer is always bogged down for a little while after I close KSP.\u003C/p\u003E\n"},{"CreatedByName":"Gkirmathal","CreatedById":135480,"CreatedDateTime":"2015-02-02T14:53:18Z","Content":"\n\u003Cp\u003EEven as a new player, I can report the same thing here. \u003C/p\u003E\u003Cp\u003EWith ATM aggressive \u002B DDSloader \u002B forced d3d11, KSP starts out with ~2.78Gb ram on main menu and ~2.85Gb on Space Center. \u003C/p\u003E\u003Cp\u003EWhile building/loading a craft in VAB, my ram usage shoots up to around the ~2.9Gb mark. When launching it increases again to ~3.0Gb \u002B/- 0.7 depending on the craft complexity.\u003C/p\u003E\u003Cp\u003ENow the worrisome part: reverting back to VAB/Space Center/quickload, does not seem to\u003Cstrong\u003E unload\u003C/strong\u003E the previous scene from ram and relaunching does not seem\u003Cstrong\u003E load this previously cached\u003C/strong\u003E \u003Cstrong\u003Escene\u003C/strong\u003E still in ram. There are more instances in KSP where this happens.\u003C/p\u003E\u003Cp\u003ETo me this seems, what I heard and understood from friends who do programming: is that this Unity4.x implementation has \u003Cem\u003Every poor and non intelligent garbage collection. \u003C/em\u003E\u003C/p\u003E\u003Cp\u003EThat, or parts/textures/data etc are not correctly \u003Cem\u003Eflagged \u003C/em\u003Ein the code garbage collection, thus the garbage collector does not recognize them and that results in a steady climb of memory usage. Albeit: a memory leak.\u003C/p\u003E\u003Cp\u003EAs a newly player to KSP, I was shocked they wanted to go to a 1.0 release. \u003C/p\u003E\u003Cp\u003EWithout the above being fixed (good working garbage collection), even without good x64, 1.0 will be devastating for the game.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-02T16:38:47Z\u0022 title=\u002202/02/2015 04:38  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 2, 2015\u003C/time\u003E by Gkirmathal\u003C/strong\u003E\n\u003Cbr\u003Ereformulated a sentence\n\u003C/span\u003E\n"}]}