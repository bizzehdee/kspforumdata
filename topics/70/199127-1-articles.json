{"TopicId":199127,"ForumId":70,"TopicTitle":"Save File Version Changing: \u0026quot;Error Accessing this save\u0026quot; \u0026quot;Input string was not in a correct format.\u0026quot;","CreatedByName":"John_41","CreatedById":209032,"CreatedDateTime":"2020-12-27T19:41:02Z","PageNum":1,"Articles":[{"CreatedByName":"John_41","CreatedById":209032,"CreatedDateTime":"2020-12-27T19:41:02Z","Content":"\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nHello all,\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nRelatively new her on the forums; been a huge resource for the years I played KSP. Was hoping you all might be able to help me troubleshoot a problem with my save file.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nAfter updating to the most recent update I encountered an issue with decouplers on my launched crafts that caused them to break when I decoupled them. Some more details can be found in this thread:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/199104-loss-of-probes-after-decoupling-since-111/\u0022 rel=\u0022\u0022\u003Ehttps://forum.kerbalspaceprogram.com/index.php?/topic/199104-loss-of-probes-after-decoupling-since-111/\u003C/a\u003E I figured out away to fix newly launched crafts, but I had a dozen mission on the go with now broken ships that I didn\u0027t want to scrub.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nSo I decided to go back to version 1.10.1 by changing the beta settings in KSP\u0027s steam properties. I then edited the \u0027persistent.sfs\u0027 save file, (after backing it up of course), and changed the version number from 1.11.0 to 1.10.1 in the 4 lines referencing version.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nAnd it worked! I was able to load the save file, my ships and their decouplers worked as expected and I was able to complete their missions.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nThe trouble is, I can\u0027t seem to get the save file to update back to 1.11.0. When I change the beta settings back to none and load KSP this is what I see:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u003Cimg alt=\u0022D662A4BB6E8603AC4906DF1D87FE8D54FAA70E4C\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/1657853682244687455/D662A4BB6E8603AC4906DF1D87FE8D54FAA70E4C/\u0022\u003E\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nError Accessing this save Input string was not in a correct format.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nAs far as I can tell, the \u0027persistent.sfs\u0027 of my edited game has not been touched, unlike all my other saves which were automatically updated. I tried editing the 4 lines referencing version again but that didn\u0027t help.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nComparing the backup I made before editing and the edited file, there are a lot of new lines referencing things like the contents of modules or Kerbal\u0027s inventories in the backup that are not present in the edited 1.10.1 version\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nObviously there\u0027s a value it doesn\u0027t like in there somewhere, but with 509077 lines in the edited version, (and 676766 in the backup), I\u0027m at a bit of a loss as to where to start.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nI play with KerbalEngineer and KerbalAlarmClock. I don\u0027t think they have anything to do with this but I figured I\u0027d include that here.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nAnyone have any experience messing around with save files that might be able to help me track down the issue? (or maybe even narrow down the list of candidates)\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nThanks\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0cm;\u0022\u003E\nJohn\n\u003C/p\u003E\n"},{"CreatedByName":"John_41","CreatedById":209032,"CreatedDateTime":"2021-01-01T03:15:29Z","Content":"\n\u003Cp\u003E\nSo after going through the save file line by line and comparing it to my earlier working save file, it appears that the issue was in the FLIGHTSTATE section of the file.\u00A0 For each VESSEL, where ever the following three lines of code appeared in the original:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EmodMass = 0\nmoduleVariantName = \nmoduleCargoStackableQuantity = 1\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nthey looked like this in the edited file:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EmodMass = 0, UNKNOWN\nmoduleVariantName = , UNKNOWN\nmoduleCargoStackableQuantity = 1, UNKNOWN\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027m not exactly sure why that was added, when all my other save files seemed to figure out those lines fine, but it was an easy fix to find and replace/remove all instances of \u0022, UNKNOWN\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nThis seems to have fixed my save file; it can now be loaded in 1.11.0\n\u003C/p\u003E\n\u003Cp\u003E\nJust posting this here in case anyone else encounters this issue.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}