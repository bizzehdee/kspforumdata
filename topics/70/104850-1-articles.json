{"TopicId":104850,"ForumId":70,"TopicTitle":"Astronomers Visual Pack crashing KSP on load... :(","CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2015-04-24T16:18:25Z","PageNum":1,"Articles":[{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2015-04-24T16:18:25Z","Content":"In preparation for the big one oh I\u0027m taking a look at what mods I\u0027ll want and which ones I won\u0027t need with the new features. \n\n**Problem:** I decided to test the performance hit (my computer is really old) using AVP but every time I try to install it (low quality clouds and whatnot) the game crashes giving me what I think is a memory error (Could not allocate memory: System out of memory!).\n\n**KSP:** 0.90 32bit\n\n**M** **ods installed:**\n\n- Astronomer\u0027s Visual Pack - Clouds - Low\n- Astronomer\u0027s Visual Pack - Distant Object Enhancement config\n- Astronomer\u0027s Visual Pack: Atmospheric Scattering\n- Astronomer\u0027s Visual Pack: Auroras 4K (recommended)\n- Astronomer\u0027s Visual Pack: Clouds for Eve and Jool - 2K\n- Astronomer\u0027s Visual Pack: Lightning\n- Astronomer\u0027s Visual Pack: Sandstorms and Surface Dust\n- Astronomer\u0027s Visual Pack: Snow\n- Astronomer\u0027s Visual Pack: Surface Glow\n- Astronomer\u0027s Visual Pack\n- Distant Object Enhancement\n- Environmental Visual Enhancements\n\nAfter multiple errors I\u0027ve tried to removing pack after pack but I never managed to have it run until I removed all the mods. \n\n**Reproduction steps:** Clean install of KSP, I tried to install the above mentioned mods (all at once). When I try to launch the game it crashes after the \u0022main\u0022 loading screen (the one with the loading tips).\n\n**Log:** If you want to help you can access the crash files [here](https://drive.google.com/folderview?id=0B8eouXz9ySEXflZzeTN3ZDhEam9YWEhZbHZrUXkyMmVma09GMmxqMmJuX1lqRVZRSUZDSDg\u0026usp=sharing). \n\nI would say it\u0027s a memory thing but I always make sure to terminate unneeded processes before launching the game and somehow I feel these many mods shouldn\u0027t be crashing the game... Maybe I\u0027m wrong. \n\nI hope this is enough for someone to help me but if you need extra details feel free to ask me. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nEDIT: I think I\u0027ve included all the mods. During install CKAN suggested a couple of extra mods and I think I\u0027ve included all of them.\n\nEDIT^2^: Originally I thought this might\u0027ve been related to CKAN but after trying to install it manually I see there\u0027s no relation so I removed the CKAN references from the original Post.\n\n**Edited \u003Ctime datetime=\u00222015-04-25T15:00:12Z\u0022 title=\u002204/25/2015 03:00  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 25, 2015\u003C/time\u003E by Broax**"},{"CreatedByName":"MrMeeb","CreatedById":84238,"CreatedDateTime":"2015-04-24T16:35:47Z","Content":"I would suggest you also install Active Texture Management, which is also available on CKAN. If you\u0027re using the 32bit version of KSP (which I HIGHLY advise), make sure to get the x86 version, and just try Basic to start with. If the crashing subsides, then it was probably a memory thing. If not, try Aggressive. If neither of these work, I don\u0027t know what to suggest...I\u0027m fairly novice on these things ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\n**Note ATM does increase loading time on the first load, as it compresses the textures. After that, if it works, load time should drastically increase, and hopefully the game will launch!**"},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2015-04-24T17:15:51Z","Content":"\u003E \n\u003E I would suggest you also install Active Texture Management, which is also available on CKAN. If you\u0027re using the 32bit version of KSP (which I HIGHLY advise), make sure to get the x86 version, and just try Basic to start with. If the crashing subsides, then it was probably a memory thing. If not, try Aggressive. If neither of these work, I don\u0027t know what to suggest...I\u0027m fairly novice on these things ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\u003E **Note ATM does increase loading time on the first load, as it compresses the textures. After that, if it works, load time should drastically increase, and hopefully the game will launch!**\n\nWell... I gave ATM a try but it doesn\u0027t seem to help, both crashed after a while. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif) Thanks, anyway! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nBTW... From what I\u0027ve seen the new stock fairings will be able to split in two not just into multiple parts."},{"CreatedByName":"MrMeeb","CreatedById":84238,"CreatedDateTime":"2015-04-24T18:07:40Z","Content":"\u003E \n\u003E Well... I gave ATM a try but it doesn\u0027t seem to help, both crashed after a while. Thanks, anyway!\n\nAh okay damn. Maybe try Better Atmospheres as a compromise. I find it to be just as good.\n\n\u003E \n\u003E BTW... From what I\u0027ve seen the new stock fairings will be able to split in two not just into multiple parts.\n\nI haven\u0027t seen this. We shall wait and see. If we get it I will update my signature ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)"},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2015-04-24T18:33:12Z","Content":"\u003E \n\u003E Ah okay damn. Maybe try Better Atmospheres as a compromise. I find it to be just as good.\n\nDo you have Astronomer\u0027s Visual Pack installed via CKAM? Does it work for you? I have a feeling my problem is either related to the installation not being properly done by CKAM or some dependency issue. I\u0027m gonna try install it manually to see if it fixes it...\n\n\u003E \n\u003E I haven\u0027t seen this. We shall wait and see. If we get it I will update my signature ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)\n\nI made a quick search for the post where I\u0027ve seen this info but I couldn\u0027t find it... I\u0027m 90% sure you\u0027ll have an option for how the fairing splits but I\u0027m with you... 2 part fairings is much much better then the multi part one..."},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-04-24T19:08:12Z","Content":"At the bottom of your output\\_log is this\n\n    DynamicHeapAllocator out of memory - Could not get memory for large allocationd3d: failed to create 2D texture id=1059 w=8192 h=8192 mips=14 d3dfmt=21 [out of memory]Could not allocate memory: System out of memory!Trying to allocate: 357913940B with 4 alignment. MemoryLabel: NewDeleteAllocation happend at: Line:0 in Overloaded New[]\n\nWhich means your KSP install is hitting its memory limit. \n\nThere\u0027s nothing wrong with running AVP from CKAN. Everything is set up the way it should, and the last time I checked on my box it was getting all of the dependencies on its own. A quick eyeball of your list shows you\u0027ve got everything it wants. \n\nAbout the best you can hope for is using ATM, and have a look through its accompanying forum thread. Initial startup with it is expected to take a lot longer than usual while it re-encodes textures. And if you\u0027re already close to your RAM limit having ATM crash during that initial run is common too. Just start again and it\u0027ll continue where it left off."},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2015-04-25T14:02:00Z","Content":"Well... I tried installing AVP manually but I get the same error. \n\nI don\u0027t want to be annoying but I find it kinda hard to be a memory issue. I say this because my 0.90 backup folder is almost 3.5GB (2GB for the gamedata folder) and I can load that without any issues (maybe some memory leaks after a while playing).\n\nNow I\u0027m trying to play on a fresh install that only has AVP (and just the core mods, I\u0027m not using any of the optional ones). The game folder is roughly 2GB and the gamedata folder isn\u0027t even 1GB (and if you remove the Squad and NASA folder I have roughly 100MB of mods installed) and the game crashes with no memory before it even loads? And not even ATM can fix this?\n\nI\u0027m sure I\u0027m doing something wrong and I\u0027m maybe installing something incorrectly or not paying attention to some detail. But I highly doubt 4GB of RAM aren\u0027t enough to load a 2GB game specially if it can load the same game with a folder twice as large (my old folder). Also I was able to use AVP in the past the only reason I removed it was because it had a significant impact on my frame rate when it used the volumetric clouds. \n\nDoes anyone have any other idea? ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\n**EDIT:** Well... After some tests I figure I can role CKAN out of the whole issue so I\u0027ll update the OP accordingly...\n\n**Edited \u003Ctime datetime=\u00222015-04-25T14:52:06Z\u0022 title=\u002204/25/2015 02:52  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 25, 2015\u003C/time\u003E by Broax**"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-04-26T00:34:28Z","Content":"Read your log files. They\u0027re really not lying."},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2015-04-26T12:03:00Z","Content":"\u003E \n\u003E Read your log files. They\u0027re really not lying.\n\nI just thought it was unlikely for one mod alone to go over the 3.5GB memory limit of the 32bit client... \n\nMakes me wonder how anyone else can use it..."},{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-04-29T14:31:53Z","Content":"Are you using the -force-opengl command?\n\nI would use -popupwindow with that as well and make it run in frameless window mode. Works for me."},{"CreatedByName":"RogueMason","CreatedById":45069,"CreatedDateTime":"2015-04-29T14:47:22Z","Content":"This is the reason I wish Squad hadn\u0027t retracted the x64 version of the game. AVP Interstellar is obnoxiously RAM-hungry and I don\u0027t know why, especially seeing as I used Better Atmospheres on x86 without trouble.\n\nI\u0027ve just barely managed to get Interstellar going without crashing and with other mods installed, but honestly, I\u0027m tempted to dig up the thread that started the whole x64 thing off..."},{"CreatedByName":"FullBitGamer","CreatedById":148986,"CreatedDateTime":"2015-07-29T05:47:29Z","Content":"I find this same issue when using the visual pack, I have done a clean install and all the steps but the pack crashes me 3/4 through initial load up.\n\nI have 16GB of ram and a 2GB GTX-860 it should not be an issue, should it? any help is greatly appreciated!\n\nInstalled MODS:\n\nAction Groups Extended (AGExt 1.33a)\n\nAutoAsparagus (AutoAsparagus v1.0)\n\nContract Configurator (ContractConfigurator 1.5.2)\n\nContract Pack: SCANSat (ContractConfigurator-ContractPack-SCANsat v0.5.2.1)\n\nEnhanced Navball (EnhancedNavBall 1.3.6.0)\n\nEVAManager (EVAManager 6)\n\nKerbal Attachment System (KAS 0.5.3)\n\nKerbal Engineer Redux (KerbalEngineerRedux 1.0.18.0)\n\nKerbal Inventory System (KIS 1.2.0)\n\nKerboKatz - SmallUtilities - AutoBalancingLandingLeg (KerboKatzSmallUtilities-AutoBalancingLandingLeg 1.0.0)\n\nKerboKatzUtilities (KerboKatzUtilities 1.2.10)\n\nMechJeb 2 (MechJeb2 2.5.3)\n\nMechJeb and Engineer for all! (MechJebForAll 1.2.0.0)\n\nModule Manager (ModuleManager 2.6.6)\n\nPart Wizard (PartWizard 1.2.1)\n\nRadial Engine Mounts by PanaTee Parts International (RadialEngineMountsPPI v0.40)\n\nRoverSpeed (RoverSpeed 0.9.1)\n\nSCANsat (SCANsat v14.1)\n\nToadicusTools (ToadicusTools 15)\n\nToolbar (Toolbar 1.7.9)\n\nTweakable Everything - Engine Staging Toggle (TweakableEverything-EngineStagingToggle 1.12)\n\nTweakable Everything - Fairing Staging Toggle (TweakableEverything-FairingStagingToggle 1.12)\n\nTweakableEverything (TweakableEverything 1.12)\n\nTweakScale - Rescale Everything! (TweakScale v2.2.1)\n\nWider Contracts App (WiderContractsApp 1.2.0)"},{"CreatedByName":"HereticPilot101","CreatedById":116285,"CreatedDateTime":"2015-09-09T20:19:00Z","Content":"\u003E \n\u003E I find this same issue when using the visual pack, I have done a clean install and all the steps but the pack crashes me 3/4 through initial load up.\n\u003E I have 16GB of ram and a 2GB GTX-860 it should not be an issue, should it? any help is greatly appreciated!\n\u003E \n\u003E Installed MODS:\n\u003E \n\u003E Action Groups Extended (AGExt 1.33a)\n\u003E \n\u003E AutoAsparagus (AutoAsparagus v1.0)\n\u003E \n\u003E Contract Configurator (ContractConfigurator 1.5.2)\n\u003E \n\u003E Contract Pack: SCANSat (ContractConfigurator-ContractPack-SCANsat v0.5.2.1)\n\u003E \n\u003E Enhanced Navball (EnhancedNavBall 1.3.6.0)\n\u003E \n\u003E EVAManager (EVAManager 6)\n\u003E \n\u003E Kerbal Attachment System (KAS 0.5.3)\n\u003E \n\u003E Kerbal Engineer Redux (KerbalEngineerRedux 1.0.18.0)\n\u003E \n\u003E Kerbal Inventory System (KIS 1.2.0)\n\u003E \n\u003E KerboKatz - SmallUtilities - AutoBalancingLandingLeg (KerboKatzSmallUtilities-AutoBalancingLandingLeg 1.0.0)\n\u003E \n\u003E KerboKatzUtilities (KerboKatzUtilities 1.2.10)\n\u003E \n\u003E MechJeb 2 (MechJeb2 2.5.3)\n\u003E \n\u003E MechJeb and Engineer for all! (MechJebForAll 1.2.0.0)\n\u003E \n\u003E Module Manager (ModuleManager 2.6.6)\n\u003E \n\u003E Part Wizard (PartWizard 1.2.1)\n\u003E \n\u003E Radial Engine Mounts by PanaTee Parts International (RadialEngineMountsPPI v0.40)\n\u003E \n\u003E RoverSpeed (RoverSpeed 0.9.1)\n\u003E \n\u003E SCANsat (SCANsat v14.1)\n\u003E \n\u003E ToadicusTools (ToadicusTools 15)\n\u003E \n\u003E Toolbar (Toolbar 1.7.9)\n\u003E \n\u003E Tweakable Everything - Engine Staging Toggle (TweakableEverything-EngineStagingToggle 1.12)\n\u003E \n\u003E Tweakable Everything - Fairing Staging Toggle (TweakableEverything-FairingStagingToggle 1.12)\n\u003E \n\u003E TweakableEverything (TweakableEverything 1.12)\n\u003E \n\u003E TweakScale - Rescale Everything! (TweakScale v2.2.1)\n\u003E \n\u003E Wider Contracts App (WiderContractsApp 1.2.0)\n\nBecause KSP is a 32-bit program, the amount of RAM it can use is restricted. So it doesn\u0027t matter if you have 8 or 32 gigs of RAM, as long as KSP doesn\u0027t have a 64 bit version, we\u0027re all kind of screwed. I question how you got that many mods working in the first place."},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2015-09-10T02:20:15Z","Content":"I know this thread is old but I just wanted to drop by and say that if you run KSP in OpenGL mode you can run a lot more mods. However please note that by my observations you need a good GPU in order to run in OpenGL mode without FPS lag. (Personally I have an Nvidia GeForce GTX 970)\n\nThis is my current mod list, running on KSP 32-bit in OpenGL mode. (Split into Notable Mods and Other Mods)\n\n\u003E \n\u003E Environmental Visuals Enhanced\n\u003E \n\u003E Astronomers Visual Pack - Interstellar\n\u003E \n\u003E Kopernicus\n\u003E \n\u003E Outer Planets Mod (Including OPM Clouds and Tekto Lightning)\n\u003E \n\u003E Texture Replacer\n\u003E \n\u003E Distant Object Enhacement\n\u003E \n\u003E Planet Shine\n\u003E \n\u003E \n\nCurrently I\u0027m running Astronomers Visual Pack with the following settings.\n\nAstronomer\u0027s Visual Pack - Interstellar: Clouds - High (512)\n\nAstronomer\u0027s Visual Pack - Interstellar: Atmospheric Scattering (More)\n\nAstronomer\u0027s Visual Pack - Interstellar: Sandstorms and Surface Dust\n\nAstronomer\u0027s Visual Pack - Interstellar: Snow\n\nAstronomer\u0027s Visual Pack - Interstellar: Surface Glow\n\nAstronomer\u0027s Visual Pack - Interstellar: Auroras - 4k\n\nAstronomer\u0027s Visual Pack - Interstellar: Clouds for Eve \u0026 Jool - 4k\n\nAstronomer\u0027s Visual Pack - Interstellar: Lightning\n\nI\u0027ll also note that I am running a 4k skybox with Texture Replacer, and below I\u0027ve included a list of all the other Mods/Plugins I\u0027m running as well.\n\n\u003E \n\u003E Chatterer\n\u003E \n\u003E Chute Safety Indicator\n\u003E \n\u003E Coherent Contracts\n\u003E \n\u003E Contract Window\n\u003E \n\u003E Docking Port Alignment Indicator\n\u003E \n\u003E Editor Extensions\n\u003E \n\u003E Engine Lighting\n\u003E \n\u003E Exception Detector\n\u003E \n\u003E Hullcam VDS\n\u003E \n\u003E JDimishingRTG\n\u003E \n\u003E Kerbal Alarm Clock\n\u003E \n\u003E Kerbal Joint Reinforcement\n\u003E \n\u003E Kerbal Engineer\n\u003E \n\u003E Langing Height\n\u003E \n\u003E MechJeb\n\u003E \n\u003E Menu Stabilizer\n\u003E \n\u003E Open Tree\n\u003E \n\u003E Precise Node\n\u003E \n\u003E Quick IVA\n\u003E \n\u003E Quick Search\n\u003E \n\u003E RasterPropMonitor\n\u003E \n\u003E RCS Build Aid\n\u003E \n\u003E Real Plume\n\u003E \n\u003E Rover Wheel Sounds\n\u003E \n\u003E SCANSat\n\u003E \n\u003E Science Alert\n\u003E \n\u003E Ship Effects Sound Mod\n\u003E \n\u003E Smoke Screen\n\u003E \n\u003E Stage Recovery\n\u003E \n\u003E Stock Clamshell Fairings\n\u003E \n\u003E StockBugFixModules\n\u003E \n\u003E Blizzy\u0027s Toolbar\n\u003E \n\u003E Transfer Window Planner\n\u003E \n\u003E Vessel Viewer\n\u003E \n\u003E Water Sounds\n\u003E \n\u003E Waypoint Manager\n\u003E \n\u003E \n\nP.S ~ This mod list is guaranteed to crash on load when not using OpenGL mode, which is why I use OpenGL mode. I\u0027ve observed that KSP seems to use less RAM when running in OpenGL mode.\n\n**Edited \u003Ctime datetime=\u00222015-09-10T02:25:15Z\u0022 title=\u002209/10/2015 02:25  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 10, 2015\u003C/time\u003E by CoriW**"}]}