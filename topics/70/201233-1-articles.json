{"TopicId":201233,"ForumId":70,"TopicTitle":"Sweet TLA_DEBUG_STACK_LEAK 1.8.1\u002B","CreatedByName":"mie mie","CreatedById":184382,"CreatedDateTime":"2021-03-25T14:50:39Z","PageNum":1,"Articles":[{"CreatedByName":"mie mie","CreatedById":184382,"CreatedDateTime":"2021-03-25T14:50:39Z","Content":"\n\u003Cp\u003E\nHello.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EKSP:\u003C/strong\u003E 1.8.1 and 1.10.1\u003Cbr\u003E\u003Cstrong\u003EProblem:\u00A0\u003C/strong\u003ETLA_DEBUG_STACK_LEAK\u003Cbr\u003E\nI first encountered with this problem on 1.8.1 version and once KSP was just not responded. I went to google for help. Here I got a few possible solutions:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nDisable V-Sync or set FPS limit on Hz\n\u003C/li\u003E\n\u003Cli\u003E\nClose all programs and also Discord and Skype;\n\u003C/li\u003E\n\u003Cli\u003E\nDownload and install ZeroMiniAVC because MiniAVC was broken.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nLast variant helped me, but not for long.\u003Cbr\u003E\nAfter a day, I only got 1 freeze\u00A0and after another KSP loading, I can keep playing at hours.\u003Cbr\u003E\nI decided upgrades to 1.10.1 version. I installed KSP, installed a clean(!) \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, and then I had this problem again. I couldn\u0027t play further than\u00A0scene with \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E. Every times I have a freeze game and \u0022KSP.exe not responding\u0022.\u003Cbr\u003E\u003Cstrong\u003EMods installed:\u003C/strong\u003E\u003Cbr\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u002B\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E (and also more mods) on 1.8.1\u003Cbr\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E,\u00A0Kopernicus, KSCSwitcher on 1.10.1\u003Cbr\u003E\u003Cstrong\u003EReproduction steps:\u003C/strong\u003E Just load\u00A0your KSP.\u003Cbr\u003E\u003Cstrong\u003EKSP.log:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n[WRN 16:09:33.496] Internal: JobTempAlloc has allocations that are more than 4 frames old - this is not allowed and likely a leak\n[WRN 16:09:33.496] To Debug, enable the define: TLA_DEBUG_STACK_LEAK in ThreadsafeLinearAllocator.cpp. This will output the callstacks of the leaked allocations\n[WRN 16:09:33.529] Internal: JobTempAlloc has allocations that are more than 4 frames old - this is not allowed and likely a leak\n[WRN 16:09:33.529] To Debug, enable the define: TLA_DEBUG_STACK_LEAK in ThreadsafeLinearAllocator.cpp. This will output the callstacks of the leaked allocations\n[WRN 16:09:33.564] Internal: JobTempAlloc has allocations that are more than 4 frames old - this is not allowed and likely a leak\n[WRN 16:09:33.572] To Debug, enable the define: TLA_DEBUG_STACK_LEAK in ThreadsafeLinearAllocator.cpp. This will output the callstacks of the leaked allocations\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EPlayer.log (from AppData/LocalLow):\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n(Filename:\u00A0C:\\buildslave\\unity\\build\\Runtime/Allocator/ThreadsafeLinearAllocator.cpp\u00A0Line:\u00A0541)\nInternal:\u00A0JobTempAlloc\u00A0has\u00A0allocations\u00A0that\u00A0are\u00A0more\u00A0than\u00A04\u00A0frames\u00A0old\u00A0-\u00A0this\u00A0is\u00A0not\u00A0allowed\u00A0and\u00A0likely\u00A0a\u00A0leak\n(Filename:\u00A0C:\\buildslave\\unity\\build\\Runtime/Allocator/ThreadsafeLinearAllocator.cpp\u00A0Line:\u00A0539)\nTo\u00A0Debug,\u00A0enable\u00A0the\u00A0define:\u00A0TLA_DEBUG_STACK_LEAK\u00A0in\u00A0ThreadsafeLinearAllocator.cpp.\u00A0This\u00A0will\u00A0output\u00A0the\u00A0callstacks\u00A0of\u00A0the\u00A0leaked\u00A0allocations\u003C/pre\u003E\n\u003Cp style=\u0022text-align:right;\u0022\u003E\n\u003Cbr\u003E\u003Cspan style=\u0022font-size:9px;\u0022\u003ESorry for my english\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"mie mie","CreatedById":184382,"CreatedDateTime":"2021-04-02T17:30:15Z","Content":"\n\u003Cp\u003E\nI attached full log\u00A0files. Now I can\u0027t play KSP, it happens every times. Any help?\u00A0\u003Cbr\u003E\u003Cstrong\u003EKSP.log\u00A0\u003C/strong\u003E\u003Ca href=\u0022https://drive.google.com/file/d/1O8yo5aax2pgQUw8lz-PDpF30aBNtce-_/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1O8yo5aax2pgQUw8lz-PDpF30aBNtce-_/view?usp=sharing\u003C/a\u003E\u003Cbr\u003E\u003Cstrong\u003EPlayer.log\u003C/strong\u003E\u00A0\u003Ca href=\u0022https://drive.google.com/file/d/1ylD98pb-h6-MbO05PMXGmhuaWN8ewIf6/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1ylD98pb-h6-MbO05PMXGmhuaWN8ewIf6/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2021-04-02T18:08:25Z","Content":"\n\u003Cp\u003E\nMake sure you have ZeroMiniAVC still installed.\n\u003C/p\u003E\n"},{"CreatedByName":"Commodore_32","CreatedById":200414,"CreatedDateTime":"2021-04-02T18:42:50Z","Content":"\n\u003Cp\u003E\nHello \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/184382-mie-mie/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022184382\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/184382-mie-mie/\u0022 rel=\u0022\u0022\u003E@mie mie\u003C/a\u003E, looks like we have the same problem here, TLAs ruining our space programs, and don\u0027t worry much about the mods, it happens to me even on fully stock KSP, unfortunaly, my bug report for this issue has not been answered despite it being now 6 months old, me having the issue started more than a year ago.\n\u003C/p\u003E\n\u003Cp\u003E\nMe and some other people like \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E had broke down everything that could tell us what is wrong, we analized hundreds of logs, tested particles to it\u0027s limits, tweaked lots of settings and figured that, transparent particles are the problem, like, see when you hover over a part, that green outline is made of CPU intensive particles, on most computers it\u0027s fine, but in certain cases like mine, the unity engine loads it into the CPU and leaves the GPU on \u0022standby\u0022, since my CPU is weak, it transfers it the the RAM, that information is in the unity forum talking about the issue, so, \u003Cstrong\u003Eit would be good to know what are your system specs\u003C/strong\u003E, this will confirm our theory and probably do some workaround, but until then, the only thing we can do is not on our hands, sicne unity \u003Cstrong\u003Ehas\u003C/strong\u003E fixed this issue already, but KSP has not switched to the fixed version yet.\n\u003C/p\u003E\n\u003Cp\u003E\nIn conclusion, we can\u0027t do anything about it considering the non existant response to my report.\n\u003C/p\u003E\n\u003Cp\u003E\nI personally stopped playing KSP due to this, it\u0027s really annoying and frustrating, you are not alone.\n\u003C/p\u003E\n"},{"CreatedByName":"mie mie","CreatedById":184382,"CreatedDateTime":"2021-04-02T20:19:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223948293\u0022 data-ipsquote-contentid=\u0022201233\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617386905\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMake sure you have ZeroMiniAVC still installed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHey. It is. This helped some time.\u003Cbr\u003E\nI\u0027m confused, but it keeps sending messages in log continues on.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[WRN 21:36:13.796] ZeroMiniAVC started ...\n[WRN 21:36:13.816] ZeroMiniAVC destroyed...\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223948307\u0022 data-ipsquote-contentid=\u0022201233\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617388970\u0022 data-ipsquote-userid=\u0022200414\u0022 data-ipsquote-username=\u0022Commodore_32\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Commodore_32 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/184382-mie-mie/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022184382\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/184382-mie-mie/\u0022 rel=\u0022\u0022\u003E@mie mie\u003C/a\u003E, looks like we have the same problem here, TLAs ruining our space programs, and don\u0027t worry much about the mods, it happens to me even on fully stock KSP, unfortunaly, my bug report for this issue has not been answered despite it being now 6 months old, me having the issue started more than a year ago.\n\u003C/p\u003E\n\u003Cp\u003E\nMe and some other people like \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E had broke down everything that could tell us what is wrong, we analized hundreds of logs, tested particles to it\u0027s limits, tweaked lots of settings and figured that, transparent particles are the problem, like, see when you hover over a part, that green outline is made of CPU intensive particles, on most computers it\u0027s fine, but in certain cases like mine, the unity engine loads it into the CPU and leaves the GPU on \u0022standby\u0022, since my CPU is weak, it transfers it the the RAM, that information is in the unity forum talking about the issue, so, \u003Cstrong\u003Eit would be good to know what are your system specs\u003C/strong\u003E, this will confirm our theory and probably do some workaround, but until then, the only thing we can do is not on our hands, sicne unity \u003Cstrong\u003Ehas\u003C/strong\u003E fixed this issue already, but KSP has not switched to the fixed version yet.\n\u003C/p\u003E\n\u003Cp\u003E\nIn conclusion, we can\u0027t do anything about it considering the non existant response to my report.\n\u003C/p\u003E\n\u003Cp\u003E\nI personally stopped playing KSP due to this, it\u0027s really annoying and frustrating, you are not alone.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi! Yeah, my specifications really bad (Core 2 Duo, GeForce 200-series, DDR2, and other scary words. I get it.\u00A0Thanks\u00A0for your answer. Good luck!\n\u003C/p\u003E\n"}]}