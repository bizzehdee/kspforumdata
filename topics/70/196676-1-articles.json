{"TopicId":196676,"ForumId":70,"TopicTitle":"[solved] Weird performance issues / not using my hardwares potential","CreatedByName":"Duke-49th","CreatedById":200569,"CreatedDateTime":"2020-09-02T23:23:18Z","PageNum":1,"Articles":[{"CreatedByName":"Duke-49th","CreatedById":200569,"CreatedDateTime":"2020-09-02T23:23:18Z","Content":"\n\u003Cp\u003E\nLink to my logs at google drive: \u003Ca href=\u0022https://drive.google.com/drive/folders/1S6LLS7hANwjBnZ_tgUdBTKVQS_khog86?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/drive/folders/1S6LLS7hANwjBnZ_tgUdBTKVQS_khog86?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHi.\u003Cbr\u003E\u003Cbr\u003E\nI have not that high end system. But I experience something weird.\u003Cbr\u003E\u003Cbr\u003E\nMy system is a AMD Ryzen 2400G but with a AMD RX480 8GB and 16 GB DDR4-3200 on Win 10 - everything up to date and nowhere else I experience performance issues, except Star Citizen, but hey almost everybody does.\n\u003C/p\u003E\n\u003Cp\u003E\nI have build a \u0022medium\u0022 (in my opinion lol) sized space station with roughly 500-800 parts all in all. Maybe less, it is just approximately. I am not sure how to count the amount of parts, except I write it down during building a rocket.\u003Cbr\u003E\nIt is still not as complex as I want to have it at the end. I am still just installing parts over the past few days.\u003Cbr\u003E\u003Cbr\u003E\nThing is, I get only about 13fps (now at my station, which still orbitting Kerbin at 150km orbit). I thought ok, maybe one of the settings might cause that drop. So I lowered all settings, except the resolution (1080p). But there is not a bit of a change. It simply doesn\u0027t matter what I set for graphics settings or physics.\u003Cbr\u003E\u003Cbr\u003E\nMy CPU is idling at 30%. My GPU is feeling bored at around 26%, VRAM is at 3.6GB. My RAM is at around 11GB. (checked with MSI afterburner as well as with Windows Task manager)\n\u003C/p\u003E\n\u003Cp\u003E\nNow it comes. When I go to Pause (Settings Menu for example) the frames go up to around 35fps and my CPU goes up to 40-45%. Which clearly indicates, that it is the engine/game - from my understanding. I have no idea if it could be a mod or the Unity Engine itself.\n\u003C/p\u003E\n\u003Cp\u003E\nBut it is totally weird that even tho my system is feeling bored, the frames drop so hard. Lowest FPS I had was 7 FPS when I launched a big rocket with 250 parts and tons of boosters, as it was above 3000 tons heavy. (those station parts are heavy haha, requires lots of engines and boosters). But still yet I don\u0027t believe this is how it is supposed to be.\u003Cbr\u003E\u003Cbr\u003E\nIt makes no sense to me that the pure amount of parts slowing down the engine, regardless of the usage of my hardware. I mean, it could be and that would mean it is again the end for me with KSP until it has been fixed. But I would prefer to have a different solution.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPlaying Vanilla is btw no option. Not only that I miss all the fun parts then (base building parts and space station parts, Snacks and Remottech 2 mainly, everything else could be debatable), but I also don\u0027t know if I would have had a better performance then with the same amount of parts in a big station. I don\u0027t like to test it all out as launching many parts sucessfully and dock them together would take me days of testing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo I really hope someone has an idea or could tell me if it is an engine issue or a possilbe mod issue. I was not playing for a long time and thought to give it a try with the new patch and since I have upgraded my graphics card from onboard to the RX480 that I got from a friend. It\u0027s totally disappointing at the moment that my performance is the same as 5 years ago with a muuuuch slower and older system.\n\u003C/p\u003E\n\u003Cp\u003E\nBtw here the list of the mods I have installed as of now, all with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nAstrogator (Astrogator v0.10.1)\u003Cbr\u003E\nB9 Part Switch (B9PartSwitch v2.17.0)\u003Cbr\u003E\nBreaking Ground (BreakingGround-DLC 1.5.1)\u003Cbr\u003E\nChatterer (Chatterer 0.9.99)\u003Cbr\u003E\nCollisionFX-ReUpdated (CollisionFXReUpdated 1.1.0)\u003Cbr\u003E\nCommunity Category Kit (CommunityCategoryKit 5.1.0.0)\u003Cbr\u003E\nCommunity Resource Pack (CommunityResourcePack 1.3.0.0)\u003Cbr\u003E\nDeployable Engines Plugin (DeployableEngines 1.2.2)\u003Cbr\u003E\nDistant Object Enhancement Continued (DistantObject v2.0.0.2)\u003Cbr\u003E\nDistant Object Enhancement Continued default config (DistantObject-default v2.0.0.2)\u003Cbr\u003E\nDock Rotate (DockRotate v1.10.0.49)\u003Cbr\u003E\nDocking Port Alignment Indicator (DockingPortAlignmentIndicator 6.9.1)\u003Cbr\u003E\nEasy Vessel Switch (EVS) (EasyVesselSwitch 2.1)\u003Cbr\u003E\nEnvironmental Visual Enhancements (EnvironmentalVisualEnhancements 3:1.10.1-1)\u003Cbr\u003E\nIndicatorLights (IndicatorLights 1.7)\u003Cbr\u003E\nIndicatorLights Community Extensions (IndicatorLightsCommunityExtensions 1.6.2)\u003Cbr\u003E\nJX2Antenna (JX2Antenna 2.0.5)\u003Cbr\u003E\nKerbal Attachment System (\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E 1.7)\u003Cbr\u003E\nKerbal Inventory System (\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E 1.26)\u003Cbr\u003E\nKerbal Planetary Base Systems (KerbalPlanetaryBaseSystems v1.6.12)\u003Cbr\u003E\nKSP AVC (KSP-AVC 1.4.1.5)\u003Cbr\u003E\nMaking History (MakingHistory-DLC 1.10.1)\u003Cbr\u003E\nMechJeb 2 (MechJeb2 2.11.0.0)\u003Cbr\u003E\nModule Manager (ModuleManager 4.1.4)\u003Cbr\u003E\nNear Future Construction (NearFutureConstruction 1.2.3)\u003Cbr\u003E\nNear Future Electrical Core (NearFutureElectrical-Core 1.1.3)\u003Cbr\u003E\nNear Future Exploration (NearFutureExploration 1.0.10)\u003Cbr\u003E\nNear Future IVA Props (NearFutureProps 1:0.6.3)\u003Cbr\u003E\nNear Future Launch Vehicles (NearFutureLaunchVehicles 2.0.3)\u003Cbr\u003E\nNear Future Solar (NearFutureSolar 1.2.3)\u003Cbr\u003E\nNear Future Solar Core (NearFutureSolar-Core 1.2.3)\u003Cbr\u003E\nNear Future Spacecraft (NearFutureSpacecraft 1.3.3)\u003Cbr\u003E\nNear Future Spacecraft - \u003Cabbr title=\u0022Liquid Fuel and Oxidizer\u0022\u003ELFO\u003C/abbr\u003E Engines (NearFutureSpacecraft-OrbitalLFOEngines 1.3.3)\u003Cbr\u003E\nRasterPropMonitor (RasterPropMonitor 1:v0.31.4)\u003Cbr\u003E\nRasterPropMonitor Core (RasterPropMonitor-Core 1:v0.31.4)\u003Cbr\u003E\nReentry Particle Effect Renewed (ReentryParticleEffect 1.9.1.1)\u003Cbr\u003E\nRemoteTech (RemoteTech v1.9.8)\u003Cbr\u003E\nReStock (ReStock 1.2.1)\u003Cbr\u003E\nReStock\u002B (ReStockPlus 1.2.1)\u003Cbr\u003E\nSCANsat (SCANsat v20.2)\u003Cbr\u003E\nScatterer Sunflare (Scatterer-sunflare 3:v0.0632)\u003Cbr\u003E\nShip Effects Continued (ShipEffectsContinued 1.0.11)\u003Cbr\u003E\nSnacks (Snacks v1.25.2)\u003Cbr\u003E\nSpectra (Spectra v1.4.0)\u003Cbr\u003E\nStockalike Station Parts Expansion Redux (StationPartsExpansionRedux 1.3.6)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf this has been answered already (I guess 1000 times hehe) kindly give me a link to the post/reddit or wherever a plausible explanation is to be find.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnother Edit: I might add, that I have these performance issues, only with the big station and/or huge rockets. When I use rockets with less than 200 parts and especially with a fresh game, I ususally stay on the vsynnc\u0027ed limit of 60fps or a little below. So my problem is really depending on the size of a rocket or the station in the orbit.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: changed status to solved\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-03T14:02:12Z\u0022 title=\u002209/03/2020 02:02  PM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 3, 2020\u003C/time\u003E by Duke-49th\u003C/strong\u003E\n\u003Cbr\u003Eadditional infos\n\u003C/span\u003E\n"},{"CreatedByName":"Duke-49th","CreatedById":200569,"CreatedDateTime":"2020-09-03T14:01:18Z","Content":"\n\u003Cp\u003E\nOk I think I fixed it and am not sure which mod exactly it was.\n\u003C/p\u003E\n\u003Cp\u003E\nI of course tested it without \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E. But there were more visual and audio mods that I\u0027ve used. \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E itself wasn\u0027t the problem. And funny thing, I don\u0027t seem to see a difference with/without it. (standard installation with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, not touching the configs)\n\u003C/p\u003E\n\u003Cp\u003E\nIt must be one of these mods:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCollisionFX-ReUpdated (CollisionFXReUpdated 1.1.0)\u003Cbr\u003E\nReentry Particle Effect Renewed (ReentryParticleEffect 1.9.1.1)\u003Cbr\u003E\nScatterer Sunflare (Scatterer-sunflare 3:v0.0632)\u003Cbr\u003E\nShip Effects Continued (ShipEffectsContinued 1.0.11)\u003Cbr\u003E\nSpectra (Spectra v1.4.0)\u003Cbr\u003E\u003Cbr\u003E\nFrom other topics across the bord, my feeling says it was the Scatterer Sunflare mod. But I am not sure and with these loading times I am honestly unwilling to test.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is btw no exceptions error. I learned from another thread to use the console now. Everything is fine.\n\u003C/p\u003E\n\u003Cp\u003E\nI just leave out the above mentioned mods, including \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow my framerate is around 25 fps \u002B--3fps depending on angle. I can live with that for now. I hope some more parts and ships docked do not bring me back down to below 15fps.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is still not what I expect to be honest. And my hardware still feels bored. So I still think it is an engine issue. Usually if my fps are dropping it is either my CPU or GPU being the bottleneck, depending on the game. But having low fps with CPU/GPU almost idling around 30% is definitely not normal. Also in Cities Skylines, which runs on Unity too, it is my CPU and GPU limiting at above 100k citizens. Not a \u0022magical\u0022 limitation with idling hardware.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI really really hope they are making their own engine for KSP2 and dropping Unity.\u003Cbr\u003E\u003Cbr\u003E\nThread can be locked if Mods wish for.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-03T14:06:00Z\u0022 title=\u002209/03/2020 02:06  PM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 3, 2020\u003C/time\u003E by Duke-49th\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2020-09-03T14:31:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848431\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599141678\u0022 data-ipsquote-userid=\u0022200569\u0022 data-ipsquote-username=\u0022Duke-49th\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, Duke-49th said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI hope some more parts and ships docked do not bring me back down to below 15fps.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUhh, yeah... Good luck with that. KSPs performance scales rather badly with single-vessel part count.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848431\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599141678\u0022 data-ipsquote-userid=\u0022200569\u0022 data-ipsquote-username=\u0022Duke-49th\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, Duke-49th said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\na \u0022magical\u0022 limitation with idling hardware.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not magical, it\u0027s the single-threaded Unity PhysX implementation doing rigidbody physics on the CPU. Your framerate goes up when paused because physics is paused, and your CPU usage also rises because the parts of the game that are multithreaded are no longer waiting on it.\n\u003C/p\u003E\n"},{"CreatedByName":"CKaiser","CreatedById":207082,"CreatedDateTime":"2020-09-03T16:01:39Z","Content":"\n\u003Cp\u003E\nI post quite similar issue few days ago if not exactly the same issue:\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/196658-low-performance-on-very-high-end-pc/\u0022 rel=\u0022\u0022\u003Ehttps://forum.kerbalspaceprogram.com/index.php?/topic/196658-low-performance-on-very-high-end-pc/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSomeone suggested me it was a issue with AMD CPU,\u00A0I can\u0027t prove but I can clearly see it: same game, same mods installed on same save on 2 different desktop computers : AMD Ryzen ThreadRipper 2990WX 32 cores/64 threads (released in 2018), 128GB DDR4, NVIDIA RTX2080Ti, SSD storage vs. Intel i7 4th Gen 4771 4 cores/8 threads (released in 2013), 32GB DDR3, NVIDIA RTX2080Ti, SSD sotrage. So appart from the CPU (and the RAM) the conf was the same. I play a save were I have to dock a moderate size \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E to a small station. I run at 20 to 40 FPS (depending on angle of view) with the old Intel config while I\u0027m only at 8 FPS with the ThreadRipper.\n\u003C/p\u003E\n\u003Cp\u003E\nJust like you I noted that my AMD CPU was idling at 30% (per core view, the busiest core was at 80~85% almost all other cores at 10~20%) while the GPU was at 10% one the AMD config. With the Intel config, GPU is still at 10% but CPU is at 100% (all core busy).\n\u003C/p\u003E\n\u003Cp\u003E\nI agree with you that it seems to make no sense that both CPU and GPU are not at their max while the game is throttling (for me the clock is always display in red with the AMD while it is most of time green and sometimes yellow with the Intel). There is something I don\u0022t understand. It should at least use one or more core at 100% on the CPU.\n\u003C/p\u003E\n\u003Cp\u003E\nAlthough, there may be one explanation: the CPU is switching it\u0027s computing context from one core to the other as other is \u0022non busy\u0022 core left on the CPU. This is to balance the load on the CPU, especially in term of heat production. But switching the context from one core to the other is not cost-less in term of performance, so it tries to do it at less as possible to stay at the fastest capacity. That\u0027s why the computation is not perfectly balanced on all cores and some CPU core are doing more job than other but not ALL the job (ie 100% load on one specific core). It could be an explanation, but I\u0027m just doing suppositions \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-03T16:02:00Z\u0022 title=\u002209/03/2020 04:02  PM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 3, 2020\u003C/time\u003E by CKaiser\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Duke-49th","CreatedById":200569,"CreatedDateTime":"2020-09-03T16:59:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848453\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599143486\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUhh, yeah... Good luck with that. KSPs performance scales rather badly with single-vessel part count.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh. Is it? So that means if I have several vessels next to each other, the performance is better than one huge vessel? (same amount of parts)\n\u003C/p\u003E\n\u003Cp\u003E\nWhat if I use robotics and \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E to have the main vessel (station) holding the others (that are supposed to dock)? I mean instead of docking them, just grabbing them, so they won\u0027t float away?\n\u003C/p\u003E\n\u003Cp\u003E\nWould that be more efficient for framerate?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s not magical, it\u0027s the single-threaded Unity PhysX implementation doing rigidbody physics on the CPU. Your framerate goes up when paused because physics is paused, and your CPU usage also rises because the parts of the game that are multithreaded are no longer waiting on it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk. Still sounds weird. Because none of my cores are spiking. They\u0027re all equally at around 30%. If I pause the game, cores 1,2 and HT 1,2 are spiking a bit more than the others.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m really curious why the physics is not running on the GPU. Wasn\u0027t that in the early 2000\u0027s already more efficient than the CPU? I think I remember they even sold Physix Cards with a modified GPU for that purpose.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-03T18:55:49Z\u0022 title=\u002209/03/2020 06:55  PM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 3, 2020\u003C/time\u003E by Duke-49th\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Duke-49th","CreatedById":200569,"CreatedDateTime":"2020-09-03T18:58:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848488\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599148899\u0022 data-ipsquote-userid=\u0022207082\u0022 data-ipsquote-username=\u0022CKaiser\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, CKaiser said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI post quite similar issue few days ago if not exactly the same issue:\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/196658-low-performance-on-very-high-end-pc/\u0022 rel=\u0022\u0022\u003Ehttps://forum.kerbalspaceprogram.com/index.php?/topic/196658-low-performance-on-very-high-end-pc/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSomeone suggested me it was a issue with AMD CPU,\u00A0I can\u0027t prove but I can clearly see it: same game, same mods installed on same save on 2 different desktop computers : AMD Ryzen ThreadRipper 2990WX 32 cores/64 threads (released in 2018), 128GB DDR4, NVIDIA RTX2080Ti, SSD storage vs. Intel i7 4th Gen 4771 4 cores/8 threads (released in 2013), 32GB DDR3, NVIDIA RTX2080Ti, SSD sotrage. So appart from the CPU (and the RAM) the conf was the same. I play a save were I have to dock a moderate size \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E to a small station. I run at 20 to 40 FPS (depending on angle of view) with the old Intel config while I\u0027m only at 8 FPS with the ThreadRipper.\n\u003C/p\u003E\n\u003Cp\u003E\nJust like you I noted that my AMD CPU was idling at 30% (per core view, the busiest core was at 80~85% almost all other cores at 10~20%) while the GPU was at 10% one the AMD config. With the Intel config, GPU is still at 10% but CPU is at 100% (all core busy).\n\u003C/p\u003E\n\u003Cp\u003E\nI agree with you that it seems to make no sense that both CPU and GPU are not at their max while the game is throttling (for me the clock is always display in red with the AMD while it is most of time green and sometimes yellow with the Intel). There is something I don\u0022t understand. It should at least use one or more core at 100% on the CPU.\n\u003C/p\u003E\n\u003Cp\u003E\nAlthough, there may be one explanation: the CPU is switching it\u0027s computing context from one core to the other as other is \u0022non busy\u0022 core left on the CPU. This is to balance the load on the CPU, especially in term of heat production. But switching the context from one core to the other is not cost-less in term of performance, so it tries to do it at less as possible to stay at the fastest capacity. That\u0027s why the computation is not perfectly balanced on all cores and some CPU core are doing more job than other but not ALL the job (ie 100% load on one specific core). It could be an explanation, but I\u0027m just doing suppositions \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 data-ratio=\u0022105.88\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022 width=\u002217\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI saw it but did not want to interfer. I thought maybe you have different issues.\n\u003C/p\u003E\n\u003Cp\u003E\nCould you solve it by deleting scatterer and some probably other visual mods?\n\u003C/p\u003E\n\u003Cp\u003E\nFor me it doubled my fps for now.\n\u003C/p\u003E\n\u003Cp\u003E\nI will also now try to use Kerbal Joint Reinforcement Continued mod and see if it reliefs the physics calculations a bit. Description sounds a bit like it would. But have to see how much it really does.\n\u003C/p\u003E\n"},{"CreatedByName":"CKaiser","CreatedById":207082,"CreatedDateTime":"2020-09-03T19:35:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848593\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599159521\u0022 data-ipsquote-userid=\u0022200569\u0022 data-ipsquote-username=\u0022Duke-49th\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, Duke-49th said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI saw it but did not want to interfer. I thought maybe you have different issues.\n\u003C/p\u003E\n\u003Cp\u003E\nCould you solve it by deleting scatterer and some probably other visual mods?\n\u003C/p\u003E\n\u003Cp\u003E\nFor me it doubled my fps for now.\n\u003C/p\u003E\n\u003Cp\u003E\nI will also now try to use Kerbal Joint Reinforcement Continued mod and see if it reliefs the physics calculations a bit. Description sounds a bit like it would. But have to see how much it really does.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI tried a stock KSP, and reach only 20FPS with a stock vessel, so mods are definitely not my issue. I\u0027m still investigating on what could cause this issue. But right now I\u0027m back on my old good Intel CPU to play KSP. If i find something, I\u0027ll let you know.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2020-09-04T00:44:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848538\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599152382\u0022 data-ipsquote-userid=\u0022200569\u0022 data-ipsquote-username=\u0022Duke-49th\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Duke-49th said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo that means if I have several vessels next to each other, the performance is better than one huge vessel? (same amount of parts)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe reason physics is single threaded is that in a connected-rigidbody system the calculations depend on each other, so they kinda need to be processed sequentially.\n\u003C/p\u003E\n\u003Cp\u003E\nIf two vessels aren\u0027t connected, they can have physics on separate threads since the only real interaction would be collision checks.\n\u003C/p\u003E\n\u003Cp\u003E\nA \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E rope in \u0022undocked\u0022 mode counts as separate vessels. A claw or docking port makes it one vessel, so one physics system and one thread.\n\u003C/p\u003E\n\u003Cp\u003E\nAny undocked separate vessels will pass through each other under timewarp though, so you\u0027re kinda screwed. The best option really is just keeping part-count down.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848538\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599152382\u0022 data-ipsquote-userid=\u0022200569\u0022 data-ipsquote-username=\u0022Duke-49th\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Duke-49th said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStill sounds weird. Because none of my cores are spiking. They\u0027re all equally at around 30%\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWindows likes to shuffle threads around, and the meters you see are averaged.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223848538\u0022 data-ipsquote-contentid=\u0022196676\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599152382\u0022 data-ipsquote-userid=\u0022200569\u0022 data-ipsquote-username=\u0022Duke-49th\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Duke-49th said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m really curious why the physics is not running on the GPU.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not a physics system that lends itself to massively parallel computation, which is what GPUs are good at.\n\u003C/p\u003E\n\u003Cp\u003E\nGPU physics is great when you have lots of independent objects, but to calculate the motion of one link in a chain you first need to calculate all the others. KSP vessels are essentially chains of physics objects, so CPU it is.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d elaborate further, but a few minutes of this forum on mobile is about all I can stand. The editor is abysmal.\n\u003C/p\u003E\n"},{"CreatedByName":"CKaiser","CreatedById":207082,"CreatedDateTime":"2020-09-07T10:09:46Z","Content":"\n\u003Cp\u003E\nHere\u0027s some news of my test: I setup a Ubuntu 20.04 on the same computer and I have to admit that the performances are way much better on Linux compare to Windows. By way much better, I mean \u0022normally expected\u0022 performance found on Linux compare to \u0022abnormal low performance\u0022 found on Windows. Now on small craft I idle at 60 FPS (because au VSync, no need to get above) and on large ship I\u0027m between 20 and 40 FPS while I was at less than 10 FPS on Windows.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is only a supposition, but the possibles explanations are for me:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe CPU and/or chipset driver difference between Windows and Linux which makes it more performant on Linux with KSP.\n\u003C/li\u003E\n\u003Cli\u003E\nThe Unity player on Linux which is more optimized or something like that.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nSince Windows is the most common platform (especially for gamers), both of these explanation seems weird to me: more effort are put in work for the Windows platform for both, the CPU driver and the Unity player I think. For both of my test, the Windows and the Ubuntu version, it was a fresh install with all updates installed and latest GPU drivers (for Ubuntu, I let the drivers available on Ubuntu repository installed while the one available directly from NVIDIA is more recent, It may also be less \u0022optimized\u0022 for Ubuntu, anyway this have IMHO no serious impact on the final performances).\n\u003C/p\u003E\n"}]}