{"TopicId":121576,"ForumId":70,"TopicTitle":"Is my KSP \u0026quot;bleeding\u0026quot;?","CreatedByName":"p1t1o","CreatedById":74091,"CreatedDateTime":"2015-09-24T12:16:49Z","PageNum":1,"Articles":[{"CreatedByName":"p1t1o","CreatedById":74091,"CreatedDateTime":"2015-09-24T12:16:49Z","Content":"\n\u003Cp\u003EAre there any other assets or objects that affect RAM usage, other than loaded textures/parts etc. that are the usual culprits?\u003C/p\u003E\u003Cp\u003EI have a large list of mods installed (can provide info when I get home) but it has shown itself to be stabel enough to run, I have many hours of usage with this build.\u003C/p\u003E\u003Cp\u003EI do get the \u0022scene change\u0022 limitation, in that play time without crashing seems to be based on how many times I \u0022change scene\u0022 (move from focused ship to VAB, for example, or vice versa). Depending on KSPs \u0022mood\u0022 I get maybe up to 5 or 6 changes before a CTD, then I just re-load and continue where I left off.\u003C/p\u003E\u003Cp\u003EBut I am starting to see something confusing. I will occasionally get what appears to be a memory-limit hangup on load with this build which is not resolved by simply re-trying the load.\u003C/p\u003E\u003Cp\u003ESometimes if I remove the crash folders that appear in the KSP directory, it will load up succesfully again (are these occupying resource somehow??). Sometimes it take this, plus a reboot of the computer (freeing up resource??). Several times I have been forced to cull parts out of various mods to acquire more excess memory. Part/mod removal isn\u0027t always necessary to get it to start, but I have been unable to re-insert those that I have so far removed (parts/mods that were once part of a working build).\u003C/p\u003E\u003Cp\u003EI can usually get it to start again, but I am experiencing a slow drain of mods/parts \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI understand I am \u0022stressing\u0022 the program with the abundance of mods, but once working, I expected it to continue to do so? I can live with crashes of a certain frequency because so far they have been fairly benign, no data or save loss experienced. \u003C/p\u003E\u003Cp\u003EI also can accept sacrificing parts/mods for a stable build, but this kinda chronic deterioration is weird....i can find a mod build that will load up, play for a couple of hours, crash to desktop (as expected) and it will fail to load again without some of the above intervention. \u003C/p\u003E\u003Cp\u003EDo spaceborne craft take up much resource whilst not the actively focused vessel? Does debris? I don\u0027t have that many craft in space, maybe 30 or so communication satellites, a few spend lander probes, that sort of thing, maybe 20 or 30 pieces of debris.\u003C/p\u003E\u003Cp\u003EIs there a log file somewhere getting bigger and bigger, using resource?\u003C/p\u003E\u003Cp\u003EAny help or insight appreciated \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-09-24T16:04:43Z","Content":"\n\u003Cp\u003EI can\u0027t think of any good reason for the presence of previous crash dump files or other log files to affect the amount of memory used by the game though I have seen similar reports before. Unfortunately, the way that the various memory management systems works can mean that a failure can be highly dependent on the whole pattern of memory allocation in the program so a slight change in the order of some things being done early in the start-up (this could even be a very slight delay due to another process on the machine allowing a different number of GPU frames to be rendered before the code continues) could have a significant impact.\u003C/p\u003E\u003Cp\u003EHowever, the gradual deterioration really does imply that something is using more and more memory over time. If these hangs are occurring before you get to the main menu then your saves really shouldn\u0027t affect anything but I suspect the game may do some sort of scanning of them (easy to test, just create a load of extra copies of your save folder and see if it stops being able to load). If this is the case then you could keep your saves outside the KSP folder and only move the one in that you want to play. Bit of a hassle really.\u003C/p\u003E\u003Cp\u003EAnother possible culprit could be mods that create cache files to speed up loading. When these cache files are present the mod may use a different amount of memory (or even just a different allocation pattern) or the mod may have some bug that causes the cache files to grow over time. I\u0027m certainly not blaming any specific mod but ModuleManager does create quite a large cache file especially on heavily modded installs and texture replacement mods generally save the compressed textures for faster loading.\u003C/p\u003E\u003Cp\u003EAs for vessels in a save using memory, yes, they do use some memory when not active and they also cause a general slowdown of the game (in any scene where the game clock actually advances) due to their orbits needing to be tracked for SOI changes or entering or leaving the physics bubble and/or render distance. However, unless you get to silly levels I doubt it will make a lot of difference to the overall memory usage but, again, it should be fairly easy to test. Simply create a copy of your save and delete all the debris and compare how much memory is used by a clean run of KSP that just loads the save. All the vessels should be loaded in the space center scene because the clock does run but you could also try switching to fly a particular vessel.\u003C/p\u003E\u003Cp\u003EOtherwise your best bet is to remove something really significant that you can live without for a little while (e.g. a big skybox or other large, purely visual enhancement) and wait for the coming Unity 5 update which should include a 64bit client that can use significantly more memory.\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2015-09-24T16:48:15Z","Content":"\n\u003Cp\u003EIf you are running a Windows OS, and pushing total RAM usage with lots of mods, it may be a Windows process (or other background process on your system) kicking in and pushing you past the limit. \u003C/p\u003E\u003Cp\u003EYou could try this mod (which, IIRC, has a low RAM footprint), and see if there are large variances in JUST the KSP usage...\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92907\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/92907\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI used to have a dual-boot Windows install where one of the OS\u0027s I streamlined, and turned off all unnecessary (not needed for playing KSP) Windows background processes...You can use this website as a guide:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.blackviper.com/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.blackviper.com/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBy turning off all networking and internet access processes (if you can play KSP without internet access), you generally cut Windows OS RAM usage by 300-500 MBs... (I went from 1.2GB to 750MB RAM usage at idle).\u003C/p\u003E\u003Cp\u003EWindows Task Manager is your friend to see what is going on with Windows RAM usage and what processes and background programs are running...\u003C/p\u003E\u003Cp\u003EThats why I made a separate streamlined Windows install ONLY for playing KSP, with TONS of mods...I was able to run close to 120 mods this way...\u003C/p\u003E\u003Cp\u003EAlso, since there is no internet access, you should be OK running with NO firewall and/or anti-virus, which eats up TONS of RAM...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-24T16:54:07Z\u0022 title=\u002209/24/2015 04:54  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 24, 2015\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"}]}