{"TopicId":98645,"ForumId":70,"TopicTitle":"SFS file affects Longitutde (KSPTOT users please read!)","CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-03T08:07:05Z","PageNum":1,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-03T08:07:05Z","Content":"\n\u003Cp\u003EI\u0027ve noticed when using \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-1-9-Many-New-Features%21\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT\u003C/a\u003E that the Longitude value it was giving me was \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-1-9-Many-New-Features%21?p=1709460\u0026amp;viewfull=1#post1709460\u0022 rel=\u0022external nofollow\u0022\u003Eoff by a few degrees over Kerbin\u003C/a\u003E. I spoke with Arrowstar about it and he \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-1-9-Many-New-Features%21?p=1711685\u0026amp;viewfull=1#post1711685\u0022 rel=\u0022external nofollow\u0022\u003Econfirmed that there was no issue\u003C/a\u003E on his end. So I stripped my install down to stock to attempt to reproduce his results. I couldn\u0027t, KSPTOT still showed me a few degrees off. So I unpacked my pristine 0.90 copy I zipped up after allowing Steam to update, started a new game, launched a rocket into orbit and successfully reproduced Arrowstar\u0027s results where KSPTOT was showing me a Longitude value just a tenth or so off what the game had. Next I deleted the folders that were in the pristine GameData and copied over the folders from my original install since I do remove a lot of parts and stuff for my regular game play. Again, no issue. Finally I took the SFS file I was using in my original install, copied that into my new install and when I ran the test I found my Longitude a few degrees off.\u003C/p\u003E\u003Cp\u003EIf anyone who uses KSPTOT could please download \u003Ca href=\u0022http://www.blade-edge.com/misc/persistent.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis SFS\u003C/a\u003E file and run the test Arrowstar ran? (Third link above). I\u0027d like some confirmation and he probably won\u0027t be around again for another 12-16 hours. It will load with just Squad and NASAMission folders in your GameData. The vessel \u0022Untitled Space Craft\u0022 is the one in orbit I used for testing.\u003C/p\u003E\u003Cp\u003EI would appreciate any ideas as to how my SFS file would be causing this discrepancy. Please note this SFS file has been in continuous use since last February (v0.23)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-07T22:57:31Z\u0022 title=\u002202/07/2015 10:57  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 7, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-02-03T16:19:30Z","Content":"\n\u003Cp\u003EDid the test according to the procedure by Arrowstar. Longitude from KER = 67\u00C3\u201A\u00C2\u00B0 59\u0027 16\u0022 E; from KSPTOT MA (imported initial state from quicksave.sfs) = 67.9049 --\u0026gt; 67\u00C3\u201A\u00C2\u00B0 54\u0027 18\u0022 E. Longitude difference = 0\u00C3\u201A\u00C2\u00B0 4\u0027 58\u0022, quite probably entirely due to slack in pausing KSP while quicksaving.\u003C/p\u003E\u003Cp\u003EHad a quick look at your SFS file, apparently nothing out of order in there. \u003C/p\u003E\u003Cp\u003EHowever, the fact it has been in use for such a long time may provide a reason for the discrepancy. One possible cause may be related to the alleged change in time reference for \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/0.24#Change_of_Kerbin.27s_rotation\u0022 rel=\u0022external nofollow\u0022\u003EKerbin\u0027s solar day in KSP 0.24\u003C/a\u003E (now exactly 6h, or 21600 sec long) while before 0.24 it was the sidereal day to be 21600 sec long. That change should bring a difference of 59 sec/day (exactly 59\u0022/day in longitude), that can easily cumulate to many degrees over months of gametime. However, can\u0027t tell if this is your case. Alla SFS files save a time marker (UT = ... in the Flightstate section) and vessels\u0027 positions are valid for that time; therefore if the marker significance had changed because of the change, any vessel already in game would have the position coordinates referenced to a different time. That change in the sidereal day duration means that a specific point on Kerbin (e.g. KSC, but also the meridian at 0\u00C3\u201A\u00C2\u00B0 longitude) is now pointing in the same sidereal direction every 21541 sec instead of 21600, so the reference for longitude rotates at a different speed; but because longitude (coordinate with all saved vessels in the SFS) is tied to their reference body, those vessels there were orbiting Kerbin would be in a different sidereal position after the update to KSP 0.24 than before. Unclear however how the change may affect vessels launched after the update, or vessels that never left Kerbin\u0027s SoI.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-03T20:09:28Z","Content":"\n\u003Cp\u003Ethat makes a lot of sense... the problem though is that this test here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/HGY5nyp.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/HGY5nypl.png\u0022 alt=\u0022HGY5nypl.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ewas done with a new ship launched into orbit, not from any vessel I had launched back in 0.23. So I\u0027m not sure why the longitude should already be so far off when this image was captured within a minute after it achieved orbit for the first time.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-07T22:57:14Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-2-0-Now-64-bit%21?p=1720627\u0026amp;viewfull=1#post1720627\u0022 rel=\u0022external nofollow\u0022\u003EFIXED!\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThanks Diomeda, your insight eventually led me to figure it out - I had a background process in my brain working on it over the last few days \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-02-08T20:18:13Z","Content":"\n\u003Cp\u003EEh, happy to know that was the issue. I have myself always had doubts about the consequences (undocumented till now) of that change back in KSP 0.24, my math kept telling it couldn\u0027t be correct how it was depicted. And still I could not find a method to measure things so to let the exact rotation period be known.\u003C/p\u003E\n"}]}