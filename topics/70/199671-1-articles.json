{"TopicId":199671,"ForumId":70,"TopicTitle":"Deadly EVA B9 Part switcher bug","CreatedByName":"WLLP","CreatedById":94950,"CreatedDateTime":"2021-01-17T17:14:34Z","PageNum":1,"Articles":[{"CreatedByName":"WLLP","CreatedById":94950,"CreatedDateTime":"2021-01-17T17:14:34Z","Content":"\n\u003Cp\u003E\nLink to logs:\u00A0\u003Ca href=\u0022https://drive.google.com/drive/folders/1DcPnmDxYbb9xG9BTki_IiXL6GfNCsuQ1?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/drive/folders/1DcPnmDxYbb9xG9BTki_IiXL6GfNCsuQ1?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(You will want to go to the 01/17 - 17/01 for you non Americans -\u00A0\u00A0folder)\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I try to EVA my crew I get a B9 part switcher warning immediately and my poor kerbal is destroyed along with my aircraft. I also dont switch perspectives and I am still controlling what\u0027s left of the craft. I am not even sure if my kerbals are truly \u0022dead\u0022 as their portrait\u00A0is still there but staticy like they had just come back.\n\u003C/p\u003E\n\u003Cp\u003E\nI did have a successful EVA earlier in my play through so I will roll back my mods to see if I can tease out what the issue is but I am still new at kerbal crash logs so if one of you gents/gals/persons is free and willing to give it a glace for me I would apricate it.\u00A0 I tried to make the log playthrough as straightforward as possible and get right to the bug and alt-f4 out when it did its damage. The only other things might be me before hand is recovering my vessel and trying a different one to see if that helped. But that might have been the the previous play through.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI will post back here if anything develops. Please let me know if you have any thoughts or suggestions.\n\u003C/p\u003E\n"},{"CreatedByName":"hemeac","CreatedById":59783,"CreatedDateTime":"2021-01-17T23:18:09Z","Content":"\n\u003Cp\u003E\nThere appears to be a mod that adds ElectricCharge to Kerbals, but not sure what it is.\u00A0 Here\u0027s a patch that should fix the issue with them blowing up.\u00A0 You will need to open up the file: KiwiTechTree/Configurations/Core/Upgrades/BatteryUpgrades/ElectricCharge_B9Switcher.cfg\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are comfortable with changing one line, you can go to Line 11 and change it to:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[*]:HAS[@RESOURCE[ElectricCharge]:HAS[#maxAmount[\u0026gt;0]],!MODULE[FSfuelSwitch],!MODULE[KerbalEVA],~batteryUpgrade[off]]:FOR[zzzKiwiTechTree]\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nor if you aren\u0027t, you can copy and replace the whole bit here:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E// Kiwi\u0027s Tech Tree Overhaul (Electric Charge Patches)\n// Version 1.3\n// Created: 19 October 2020 for KSP 1.9.1 to 1.10.1\n// Last Updated: 18 January 2021\n// 22 October 2020: Disables patch if FSfuelSwitch on part due to incompatibility\n// 26 October 2020: Changed KiwiAerospace to KiwiTechTree\n// 26 October 2020: Tried to fix bug where parts with EC defined resource, but with 0 capacity were getting this upgrade.\n// 27 October 2020: Better fix for EC = 0 bug\n// 23 November 2020: Allow to globally disable the electric charge battery density upgrade.\n// 18 January 2021: Workaround to prevent situation where Kerbal\u0027s get this switch.\n\n@PART[*]:HAS[@RESOURCE[ElectricCharge]:HAS[#maxAmount[\u0026gt;0]],!MODULE[FSfuelSwitch],!MODULE[KerbalEVA],~batteryUpgrade[off]]:FOR[zzzKiwiTechTree]\n{\n\t%batCap = #$RESOURCE[ElectricCharge]/maxAmount$\n\t\n\t//remove original resources\n\t!RESOURCE[ElectricCharge] {}\n\t!MODULE[ModuleB9PartSwitch]:HAS[#moduleID[batterySwitch]] {}\n\n\tMODULE\n\t{\n\t\tname = ModuleB9PartSwitch\n\t\tmoduleID = batterySwitch\n\t\tswitcherDescription = Energy Density\n\t\tswitcherDescriptionPlural = Energy Densities // Courtesy of bcink/JadeofMaar and The Martian for KSP\n\t\tbaseVolume = #$../batCap$\n\t\tSUBTYPE\n\t\t{\n\t\t\tname = Level0\n\t\t\ttitle = 50% Density\n\t\t\tdescriptionSummary = 50% Baseline Energy Density\n\t\t\ttankType = EC0\n\t\t\tprimaryColor = #ffffff\n\t\t\tsecondaryColor = #ffffff\n\t\t\tdefaultSubtypePriority = 0\n\t\t\t//upgradeRequired = kiwiBatteryTier1Upgrade\n\t\t}\n\t\t\n\t\tSUBTYPE\n\t\t{\n\t\t\tname = Level1\n\t\t\ttitle = 75% Density\n\t\t\tdescriptionSummary = 75% Baseline Energy Density\n\t\t\ttankType = EC1\n\t\t\tprimaryColor = #bffdbf\n\t\t\tsecondaryColor = #bffdbf\n\t\t\tdefaultSubtypePriority = 0\n\t\t\tupgradeRequired = kiwiBatteryTier1Upgrade\n\t\t}\n\t\t\n\t\tSUBTYPE\n\t\t{\n\t\t\tname = Level2\n\t\t\ttitle = 100% Density\n\t\t\tdescriptionSummary = 100% Baseline Energy Density\n\t\t\ttankType = EC2\n\t\t\tprimaryColor = #7ffc7f\n\t\t\tsecondaryColor = #7ffc7f\n\t\t\tdefaultSubtypePriority = 1\n\t\t\tupgradeRequired = kiwiBatteryTier2Upgrade\n\t\t}\n\t\t\n\t\tSUBTYPE\n\t\t{\n\t\t\tname = Level3\n\t\t\ttitle = 200% Density\n\t\t\tdescriptionSummary = 200% Baseline Energy Density\n\t\t\ttankType = EC3\n\t\t\tprimaryColor = #3ffb3f\n\t\t\tsecondaryColor = #3ffb3f\n\t\t\tdefaultSubtypePriority = 0\n\t\t\tupgradeRequired = kiwiBatteryTier3Upgrade\n\t\t}\n\t\t\n\t\tSUBTYPE\n\t\t{\n\t\t\tname = Level4\n\t\t\ttitle = 400% Density\n\t\t\tdescriptionSummary = 400% Baseline Energy Density\n\t\t\ttankType = EC4\n\t\t\tprimaryColor = #00fa00\n\t\t\tsecondaryColor = #00fa00\n\t\t\tdefaultSubtypePriority = 0\n\t\t\tupgradeRequired = kiwiBatteryTier4Upgrade\n\t\t}\n\t}\n}\n\n// ***** Batteries ***** \\\\\n\n// Tier 0\n\n// Tier 1 Engineering 101 - engineering101\nPARTUPGRADE\n{\n\ttype = battery\n\tname = kiwiBatteryTier1Upgrade\n\tpartIcon = batteryPack\n\ttechRequired = engineering101\n\tentryCost = 10000\n\ttitle = Energy Density Upgrade 1\n\tmanufacturer = Kiwi Imagineers\n\tdescription = Batteries have been upgraded so are able to maintain higher energy density.\n\tbasicInfo = 75% Baseline Energy Density\n}\n\n// Tier 2 - Science 201 - science201\n\n// Tier 3 - Battery Tech - batteryTech\nPARTUPGRADE\n{\n\ttype = battery\n\tname = kiwiBatteryTier2Upgrade\n\tpartIcon = batteryPack\n\ttechRequired = batteryTech\n\tentryCost = 30000\n\ttitle = Energy Density Upgrade 2\n\tmanufacturer = Kiwi Imagineers\n\tdescription = Batteries have been upgraded so are able to maintain higher energy density.\n\tbasicInfo = 100% Baseline Energy Density\n}\n\n// Tier 4 - Electrics - batteryTech\n\n// Tier 5 - Advanced Electrics - advElectrics\n\n// Tier 6 - High-Power Electrics // largeElectrics\nPARTUPGRADE\n{\n\ttype = battery\n\tname = kiwiBatteryTier3Upgrade\n\tpartIcon = batteryPack\n\ttechRequired = largeElectrics\n\tentryCost = 90000\n\ttitle = Energy Density Upgrade 3\n\tmanufacturer = Kiwi Imagineers\n\tdescription = Batteries have been upgraded so are able to maintain higher energy density.\n\tbasicInfo = 200% Baseline Energy Density\n}\n\n// Tier 7 - Specialized Electrics - specializedElectrics\n\n// Tier 8 - Experimental Electrics - experimentalElectrics\n\n// Tier 9 - High Tech Electrical Systems - highTechElectricalSystems\nPARTUPGRADE\n{\n\ttype = battery\n\tname = kiwiBatteryTier4Upgrade\n\tpartIcon = batteryPack\n\ttechRequired = highTechElectricalSystems\n\tentryCost = 270000\n\ttitle = Energy Density Upgrade 4\n\tmanufacturer = Kiwi Imagineers\n\tdescription = Batteries have been upgraded so are able to maintain higher energy density.\n\tbasicInfo = 400% Baseline Energy Density\n}\n\n// Tier 10 - High Power Electrical Systems - highPowerElectricalSystems\n\n// Tier 11 - Experimental Electrical Systems - experimentalElectricalSystems\n\n// Tier 12 - Exotic Electrical Systems - exoticElectricalSystems\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"WLLP","CreatedById":94950,"CreatedDateTime":"2021-01-26T20:22:25Z","Content":"\n\u003Cp\u003E\nFor anyone, wondering we solved this issue and @hemeac has put the patch in his wonderful tech tree mod.\n\u003C/p\u003E\n"}]}