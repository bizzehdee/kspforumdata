{"TopicId":193431,"ForumId":70,"TopicTitle":"Crashing after a couple of scene changes","CreatedByName":"Tonas1997","CreatedById":180805,"CreatedDateTime":"2020-04-27T14:10:18Z","PageNum":1,"Articles":[{"CreatedByName":"Tonas1997","CreatedById":180805,"CreatedDateTime":"2020-04-27T14:10:18Z","Content":"\n\u003Cp\u003E\nI\u0027m playing KSP 1.8.1 with a relatively large modpack and, as stated in the title, the game crashes after a couple of scene changes. My modlist is as follows:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n000_ClickThroughBlocker\u003Cbr\u003E\n000_FilterExtensions\u003Cbr\u003E\n000_FilterExtensions_Configs\u003Cbr\u003E\n000_TexturesUnlimited\u003Cbr\u003E\n000_Toolbar\u003Cbr\u003E\n000_USITools\u003Cbr\u003E\n001_ToolbarControl\u003Cbr\u003E\nAJE\u003Cbr\u003E\nARPIcons\u003Cbr\u003E\nASET\u003Cbr\u003E\nATK_Propulsion_Pack\u003Cbr\u003E\nB9AnimationModules\u003Cbr\u003E\nB9PartSwitch\u003Cbr\u003E\nB9_Aerospace\u003Cbr\u003E\nB9_Aerospace_ProceduralWings\u003Cbr\u003E\nBetterBurnTime\u003Cbr\u003E\nChatterer\u003Cbr\u003E\nCoatl Aerospace\u003Cbr\u003E\nCommunityCategoryKit\u003Cbr\u003E\nCommunityResourcePack\u003Cbr\u003E\nCommunityTechTree\u003Cbr\u003E\nConnectedLivingSpace\u003Cbr\u003E\nContractConfigurator\u003Cbr\u003E\nCryoEngines\u003Cbr\u003E\nCryoTanks\u003Cbr\u003E\nCST-100\u003Cbr\u003E\nCustomBarnKit\u003Cbr\u003E\nCustomPreLaunchChecks\u003Cbr\u003E\nDecayingRTGs\u003Cbr\u003E\nDeployableEngines\u003Cbr\u003E\nDistantObject\u003Cbr\u003E\nDMagicOrbitalScience\u003Cbr\u003E\nDMagicScienceAnimate\u003Cbr\u003E\nDMagicUtilities\u003Cbr\u003E\nDynamicBatteryStorage\u003Cbr\u003E\nEngineGroupController\u003Cbr\u003E\nEngineLightRelit\u003Cbr\u003E\nEnvironmentalVisualEnhancements\u003Cbr\u003E\nExtraplanetaryLaunchpads\u003Cbr\u003E\nFerramAerospaceResearch\u003Cbr\u003E\nFirespitter\u003Cbr\u003E\nFShangarExtender\u003Cbr\u003E\nFTLDriveContinued\u003Cbr\u003E\nHeatControl\u003Cbr\u003E\nHideEmptyTechTreeNodes\u003Cbr\u003E\nHullCameraVDS\u003Cbr\u003E\nInterstellarFuelSwitch\u003Cbr\u003E\nJanitorsCloset\u003Cbr\u003E\nJSI\u003Cbr\u003E\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E\u003Cbr\u003E\nKerbalAtomics\u003Cbr\u003E\nKerbalConstructionTime\u003Cbr\u003E\nKerbalEngineer\u003Cbr\u003E\nKerbalFoundries\u003Cbr\u003E\nKerbalism\u003Cbr\u003E\nKerbalismConfig\u003Cbr\u003E\nKerbalJointReinforcement\u003Cbr\u003E\nKerbalKonstructs\u003Cbr\u003E\nKerbalReusabilityExpansion\u003Cbr\u003E\nKerbalStats\u003Cbr\u003E\nKerbaltek\u003Cbr\u003E\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E\u003Cbr\u003E\nKopernicus\u003Cbr\u003E\nkOS\u003Cbr\u003E\nKronalVesselViewer\u003Cbr\u003E\nKSCSwitcher\u003Cbr\u003E\nKSP-AVC\u003Cbr\u003E\nKSPWheel\u003Cbr\u003E\nLackMisc\u003Cbr\u003E\nMagiCore\u003Cbr\u003E\nMagicSmokeIndustries\u003Cbr\u003E\nMechJeb2\u003Cbr\u003E\nModularFlightIntegrator\u003Cbr\u003E\nModularLaunchPads\u003Cbr\u003E\nNavyFish\u003Cbr\u003E\nNearFutureConstruction\u003Cbr\u003E\nNearFutureElectrical\u003Cbr\u003E\nNearFutureExploration\u003Cbr\u003E\nNearFutureLaunchVehicles\u003Cbr\u003E\nNearFutureProps\u003Cbr\u003E\nNearFuturePropulsion\u003Cbr\u003E\nNearFutureSolar\u003Cbr\u003E\nNearFutureSpacecraft\u003Cbr\u003E\nNEBULA\u003Cbr\u003E\nPatchManager\u003Cbr\u003E\nPersistentRotation\u003Cbr\u003E\nPhotonSail\u003Cbr\u003E\nPhysicsRangeExtender\u003Cbr\u003E\nPlanetaryBaseInc\u003Cbr\u003E\nPoodsSkyboxes\u003Cbr\u003E\nPreciseManeuver\u003Cbr\u003E\nProceduralFairings\u003Cbr\u003E\nProceduralFairings-ForEverything\u003Cbr\u003E\nProceduralParts\u003Cbr\u003E\nRCSBuildAid\u003Cbr\u003E\nRealAntennas\u003Cbr\u003E\nRealChute\u003Cbr\u003E\nRealFuels\u003Cbr\u003E\nRealHeat\u003Cbr\u003E\nRealismOverhaul\u003Cbr\u003E\nRealISRU\u003Cbr\u003E\nRealPlume\u003Cbr\u003E\nRealSolarSystem\u003Cbr\u003E\nReentryParticleEffectRenewed\u003Cbr\u003E\nREPOSoftTech\u003Cbr\u003E\nROCapsules\u003Cbr\u003E\nROEngines\u003Cbr\u003E\nROLib\u003Cbr\u003E\nROSolar\u003Cbr\u003E\nROTanks\u003Cbr\u003E\nRP-0\u003Cbr\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E-Textures\u003Cbr\u003E\nRSSDateTime\u003Cbr\u003E\nRSSVE\u003Cbr\u003E\nSCANsat\u003Cbr\u003E\nscatterer\u003Cbr\u003E\nSmokeScreen\u003Cbr\u003E\nSolverEngines\u003Cbr\u003E\nStock folder: Squad\n\u003C/p\u003E\n\u003Cp\u003E\nSSTU\u003Cbr\u003E\nStationPartsExpansionRedux\u003Cbr\u003E\nStockalike_Inclinations\u003Cbr\u003E\nTarsierSpaceTech\u003Cbr\u003E\nTestFlight\u003Cbr\u003E\nTextureReplacer\u003Cbr\u003E\nTrackingStationEvolved\u003Cbr\u003E\nTrajectories\u003Cbr\u003E\nTriggerTech\u003Cbr\u003E\nTundraSpaceCenter\u003Cbr\u003E\nTweakScale\u003Cbr\u003E\nTWRLS\u003Cbr\u003E\nUmbraSpaceIndustries\u003Cbr\u003E\nUnKerballedStart\u003Cbr\u003E\nVaporVent\u003Cbr\u003E\nVenStockRevamp\u003Cbr\u003E\nWarpPlugin\u003Cbr\u003E\nZeroMiniAVC\u003Cbr\u003E\nzzPatches\u003Cbr\u003E\nzzzContracts\u003Cbr\u003E\n999_Scale_Redist.dll\u003Cbr\u003E\nModuleManager.4.1.3.dll\u003Cbr\u003E\nModuleManager.ConfigCache\u003Cbr\u003E\nModuleManager.ConfigSHA\u003Cbr\u003E\nModuleManager.Physics\u003Cbr\u003E\nModuleManager.TechTree\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nNote: the above list doesn\u0027t include RealExoplanets and RealExpansion, which I sinced removed to test for the culprit.\n\u003C/p\u003E\n\u003Cp\u003E\nMost of the crashes I\u0027ve had seem to point out a method located in\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Escatterer.ScattererCelestialBodiesManager.findCelestialBodies(), \u003C/span\u003Ewhich then calls a default Unity method called\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EUnityEngine.Object.FindObjectsOfType().\u003C/span\u003E\u00A0Now, I posted this issue to the mod\u0027s GitHub page and, as I ended up agreeing with, the author said this problem was impossible to solve for the time being, as the memory access violation occured deep within the Unity engine internals. Memory usage on all those crashes was at about 75~80% of the total, which is not \u003Cem\u003Eunusual \u003C/em\u003Efor my regular playsessions.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, in any case, this is really a matter of speculation. Could the problem be caused by a broken planet pack - either Real Exoplanets or Real Expansion? High memory usage that increases the likelihood\u00A0of threads stomping on eachother\u0027s feet? Some obscure issue with Kopernicus? The crashes aren\u0027t exactly deterministic, so I\u0027m inclined to believe in something related to memory management. I run the game on a laptop with 16 Gb of RAM.\n\u003C/p\u003E\n"},{"CreatedByName":"FasterThanFlourite","CreatedById":177938,"CreatedDateTime":"2020-04-27T18:43:40Z","Content":"\n\u003Cp\u003E\nI am running across the same problem with scatterer.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u00A0\u003C/span\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nScatterer unfortunately still crashes the game for me after scene changes, despite running v.0.0610 (as seen below in KSP.log).\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[LOG 19:14:26.849] [AddonLoader]: Instantiating addon \u0027Scatterer\u0027 from assembly \u0027scatterer\u0027\n[LOG 19:14:26.851] [Scatterer][Debug] Core instance created\n[LOG 19:14:26.851] [Scatterer][Info] Version:0.0610\n[LOG 19:14:26.851] [Scatterer][Info] Running on Direct3D 11.0 [level 11.1] on Windows 10  (10.0.0) 64bit\n[LOG 19:14:26.851] [Scatterer][Info] Game resolution 2560x1440\n[LOG 19:14:26.851] [AddonLoader]: Instantiating addon \u0027ShaderProperties\u0027 from assembly \u0027scatterer\u0027\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt runs just fine for about an hour and then crashes upon scene change.\n\u003C/p\u003E\n\u003Cp\u003E\nThe last line in KSP.log before the crash is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[LOG 20:48:17.846] [AddonLoader]: Instantiating addon \u0027Scatterer\u0027 from assembly \u0027scatterer\u0027\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd in \u003Ca href=\u0022https://pastebin.com/MqzhrbPD\u0022 rel=\u0022external nofollow\u0022\u003Emy error log\u003C/a\u003E it says:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ERead from location 00000262423B70F7 caused an access violation.\n\nContext:\nRDI:    0x0000000000000000  RSI: 0x00000261ec97bdb0  RAX:   0x0000000000000000\nRBX:    0x0000000000000001  RCX: 0x00000262423b70a0  RDX:   0x0000000000000000\nRIP:    0x00007ffd3e3485e6  RBP: 0x000000dd07b7dc40  SegCs: 0x0000000000000033\nEFlags: 0x0000000000010202  RSP: 0x000000dd07b7dbe0  SegSs: 0x000000000000002b\nR8:     0x00007ffd3d650000  R9:  0xfffffffffffffff0  R10:   0x00000000000a62f0\nR11:    0x000000dd07b7dba0  R12: 0x0000000000000000  R13:   0x0000000000000001\nR14:    0x0000000000003233  R15: 0x0000025f7e3ad0a0\n\n\nBytes at CS:EIP:\n0f b6 41 57 48 8b d9 3c ff 0f 85 96 00 00 00 80 \n\n...\n\nERROR: SymGetSymFromAddr64, GetLastError: \u0027Attempt to access invalid address.\u0027 (Address: 00007FF68ACF11F2)\n0x00007FF68ACF11F2 (KSP_x64) (function-name not available)\n0x00007FFD99CF7974 (KERNEL32) BaseThreadInitThunk\n0x00007FFD9A71A271 (ntdll) RtlUserThreadStart\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am running KSP 1.9.1, \u003Ca href=\u0022https://pastebin.com/zAw6biqH\u0022 rel=\u0022external nofollow\u0022\u003Ewith about 200 mods installed through \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/a\u003E (all the most common ones).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlthough while quite a few mods are the same, there are also many differences between our mod-lists. But as written above, it seems to be related to scatterer causing an access violation.\n\u003C/p\u003E\n\u003Cp\u003E\nI am not sure whether that is down to some mod conflicting with scatterer or whether it is scatterer running into memory problems.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-27T21:25:28Z\u0022 title=\u002204/27/2020 09:25  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 27, 2020\u003C/time\u003E by FasterThanFlourite\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FasterThanFlourite","CreatedById":177938,"CreatedDateTime":"2020-05-10T15:16:35Z","Content":"\n\u003Cp\u003E\nAfter removing some of the mods, I have now about 20 less and the crashes seem to have gone away.\n\u003C/p\u003E\n\u003Cp\u003E\nLikely it was caused by an incompatible mod. Probably one of these:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAtmosphereAutopilot\n\u003C/li\u003E\n\u003Cli\u003E\nCommNet Constellation\n\u003C/li\u003E\n\u003Cli\u003E\nCommNet Manager\n\u003C/li\u003E\n\u003Cli\u003E\nCommNet Relays\n\u003C/li\u003E\n\u003Cli\u003E\nContract Pack: Giving Aircraft a Purpose\n\u003C/li\u003E\n\u003Cli\u003E\nContract Pack: Kerbal Academy\n\u003C/li\u003E\n\u003Cli\u003E\nDecal Stickers\n\u003C/li\u003E\n\u003Cli\u003E\nDouble Tap Brakes\n\u003C/li\u003E\n\u003Cli\u003E\nEngine Lighting\n\u003C/li\u003E\n\u003Cli\u003E\nEngineering Roles - Final Frontier Ribbon Pack\n\u003C/li\u003E\n\u003Cli\u003E\nEVA Handrails Continued\n\u003C/li\u003E\n\u003Cli\u003E\nFirespitter Resources config\n\u003C/li\u003E\n\u003Cli\u003E\nHangar Extender\n\u003C/li\u003E\n\u003Cli\u003E\nKSP Rank Ribbons - Final Frontier Add-On\n\u003C/li\u003E\n\u003Cli\u003E\nLithobrake Exploration Technologies\n\u003C/li\u003E\n\u003Cli\u003E\nNear Future Propulsion Extras: Hydrogen NTR Configs\n\u003C/li\u003E\n\u003Cli\u003E\nNEBULA Decals Continued\n\u003C/li\u003E\n\u003Cli\u003E\nOperations Roles - Final Frontier Ribbon Pack\n\u003C/li\u003E\n\u003Cli\u003E\nPersistent Thrust\n\u003C/li\u003E\n\u003Cli\u003E\nQuickBrake\n\u003C/li\u003E\n\u003Cli\u003E\nQuickContracts\n\u003C/li\u003E\n\u003Cli\u003E\nQuickHide\n\u003C/li\u003E\n\u003Cli\u003E\nQuickMute\n\u003C/li\u003E\n\u003Cli\u003E\nRasterPropMonitor\n\u003C/li\u003E\n\u003Cli\u003E\nRasterPropMonitor Core\n\u003C/li\u003E\n\u003Cli\u003E\nRLA Stockalike\n\u003C/li\u003E\n\u003Cli\u003E\nScience Roles - Final Frontier Ribbon Pack\n\u003C/li\u003E\n\u003Cli\u003E\nSmart Parts\n\u003C/li\u003E\n\u003Cli\u003E\nSTM\u0027s Expedition Ribbons - Final Frontier Ribbon Pack\n\u003C/li\u003E\n\u003Cli\u003E\nSurface Experiment Pack\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-05-10T15:44:13Z\u0022 title=\u002205/10/2020 03:44  PM\u0022 data-short=\u00224 yr\u0022\u003EMay 10, 2020\u003C/time\u003E by FasterThanFlourite\u003C/strong\u003E\n\u003C/span\u003E\n"}]}