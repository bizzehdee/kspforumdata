{"TopicId":126439,"ForumId":70,"TopicTitle":"This mis-load issue, ongoing","CreatedByName":"Sarxis","CreatedById":130923,"CreatedDateTime":"2015-11-25T14:31:58Z","PageNum":1,"Articles":[{"CreatedByName":"Sarxis","CreatedById":130923,"CreatedDateTime":"2015-11-25T14:31:58Z","Content":"\nI\u0026#39;ve been having this on and off again problem with KSP getting stuck during loading. \u003Cbr\u003E\n\u003Cbr\u003E\nAlways sticks after Module Manager loads it\u0026#39;s stuff and most of the games assets. The load progress bar stops usually on either a squad part, or some other mod part (Firespitter or other mods).\u003Cbr\u003E\n\u003Cbr\u003E\nHere are the weird things though: Sometimes if I fiddle around with removing folders, it might start loading again no problem. Also, sometimes after a random CTD, the load problem will surface for a bit, and then seem to work itself out after a few startup tries, or if I just go away and come back to it later in the day.\u003Cbr\u003E\n\u003Cbr\u003E\nTwo other things that I notice that are strange: even once the load screen locks up at a part, the CPU usage for KSP continues to rise. Also, once I Alt-F4 out of the locked up loading screen, I can\u0026#39;t remove the culprit part folder (Firespitter, Squad, whatever the load screen is stuck on) as it says the folder is still being used by another program. \u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;ve got a couple of errors too at the end of my KSP log that seems to be related to whatever the culprit folder/part is at the time. I don\u0026#39;t suspect that the part itself is ever the cause, but just the symptom of the problem. \u003Cbr\u003E\nEverything is up to date because I just upgraded the game and all mods (that I can) to 1.0.5, but this is the same problem I\u0026#39;ve had for many of the previous versions of the game. \u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nLast few parts of the KSP Log (right now the loading is stopping on the Firespitter part Lancaster Engine; other times it has stopped on random squad parts, or other mod parts):\u003Cbr\u003E\n\u003Cbr\u003E\n[EXC 09:17:10.790] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\nModuleEngines.SetupPropellant ()\u003Cbr\u003E\nModuleEngines.OnLoad (.ConfigNode node)\u003Cbr\u003E\nPartModule.Load (.ConfigNode node)\u003Cbr\u003E\nPart.AddModule (.ConfigNode node)\u003Cbr\u003E\nPartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node)\u003Cbr\u003E\nPartLoader\u002B.MoveNext ()\u003Cbr\u003E\n[EXC 09:17:10.793] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\nFirespitter.engine.FSengineSounds.createGroup (.FXGroup group, System.String name, Boolean loop)\u003Cbr\u003E\nFirespitter.engine.FSengineSounds.OnStart (StartState state)\u003Cbr\u003E\nPart.ModulesOnStart ()\u003Cbr\u003E\nPart\u002B.MoveNext ()\u003Cbr\u003E\n[EXC 09:17:18.791] InvalidOperationException: Steamworks is not initialized.\u003Cbr\u003E\nSteamworks.InteropHelp.TestIfAvailableClient ()\u003Cbr\u003E\nSteamworks.SteamController.Shutdown ()\u003Cbr\u003E\nSteamController.KSPSteamController.OnDestroy ()\u003Cbr\u003E\nSteamController.KSPSteamController.OnApplicationQuit ()\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n-edit- \u003Cbr\u003E\n\u003Cbr\u003E\nThat NullReferenceException always follows the part that the load screen gets stuck on. And here\u0026#39;s the thing - if I remove that part from the game, a different part down the load list will get stuck. I can keep deleting culprit parts, but a different part gets that NullReferenceException.\u003Cbr\u003E\nAfter removing the \u0026#39;Lancaster Engine\u0026#39; part folder from Firespitter, another part gets the NRE:\u003Cbr\u003E\n\u003Cbr\u003E\n[LOG 10:20:43.462] PartLoader: Compiling Part \u0026#39;UniversalStorage/Parts/US_1R340_Wedge_Oxygen/US_1R340_Wedge_Oxygen/US_1R340_Wedge_Oxygen\u0026#39;\u003Cbr\u003E\n[EXC 10:20:43.473] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n(wrapper stelemref) object:stelemref (object,intptr,object)\u003Cbr\u003E\nBaseField.SetPvt (System.Reflection.FieldInfo field, System.Object newValue, System.Object host)\u003Cbr\u003E\nBaseField.ReadPvt (System.Reflection.FieldInfo field, System.String value, System.Object host)\u003Cbr\u003E\nBaseField.Read (System.String value, System.Object host)\u003Cbr\u003E\nBaseFieldList.Load (.ConfigNode node)\u003Cbr\u003E\nPartModule.Load (.ConfigNode node)\u003Cbr\u003E\nPart.AddModule (.ConfigNode node)\u003Cbr\u003E\nPartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node)\u003Cbr\u003E\nPartLoader\u002B.MoveNext ()\u003Cbr\u003E\n[EXC 10:20:43.478] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\nPartLoader.GetDatabaseConfig (.Part p)\u003Cbr\u003E\nPartLoader.GetDatabaseConfig (.Part p, System.String nodeName)\u003Cbr\u003E\nDragCubeSystem.LoadDragCubes (.Part p)\u003Cbr\u003E\nPart\u002B.MoveNext ()\u003Cbr\u003E\n[EXC 10:20:59.290] InvalidOperationException: Steamworks is not initialized.\u003Cbr\u003E\nSteamworks.InteropHelp.TestIfAvailableClient ()\u003Cbr\u003E\nSteamworks.SteamController.Shutdown ()\u003Cbr\u003E\nSteamController.KSPSteamController.OnDestroy ()\u003Cbr\u003E\nSteamController.KSPSteamController.OnApplicationQuit ()\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-25T15:25:44Z\u0022 title=\u002211/25/2015 03:25  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 25, 2015\u003C/time\u003E by Sarxis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Hysterrics","CreatedById":151688,"CreatedDateTime":"2015-11-26T15:42:39Z","Content":"\nInteresting. It could be a mod that is broken for 1.0.5. Are there any mods that you haven\u0026#39;t updated/are not for 1.0.5? \u003Cbr\u003E\n\u003Cbr\u003E\nAlso, if you have KW Rocketry that is most likely the problem.\n"},{"CreatedByName":"Sarxis","CreatedById":130923,"CreatedDateTime":"2015-11-26T16:05:37Z","Content":"\nI don\u0026#39;t think it is a mod broken for 1.0.5 because this has been ongoing for several versions now. It used to do this on my previous computer too which used Windows 7, and it still doing it on my brand new Windows 10 system too.\u003Cbr\u003E\n\u003Cbr\u003E\nIt wouldn\u0026#39;t surprise me if it were something broken in a mod because I have migrated some of the mod files from my old install to my new one while keeping them up to date and replacing them every release. But if it is a legacy problem with older mod/files I don\u0026#39;t know what it could be. \u003Cbr\u003E\n\u003Cbr\u003E\nI don\u0026#39;t have KW Rocketry either.\n"},{"CreatedByName":"Speadge","CreatedById":145302,"CreatedDateTime":"2015-11-26T16:15:55Z","Content":"\nhi,\u003Cbr\u003E\n\u003Cbr\u003E\ni had this too. primary with KSPI Mod and its dependencies.\u003Cbr\u003E\nquickfix: delete MM cache.\u003Cbr\u003E\n\u003Cbr\u003E\nLong fix: dont upgrade any dependencies of KSPI when the mod itself does not bring the new version.\u003Cbr\u003E\n\u003Cbr\u003E\ni.e.: wildberry*****something had been updated to *.*.24 while KSPI was shiped with *.*.23.\u003Cbr\u003E\nafter installing he 24, i couldnt get KSP to load up, even with MM cache cleaning.\u003Cbr\u003E\nSo i reversed to the 23 build tht was shipped with KSPI and it worked well.\u003Cbr\u003E\n\u003Cbr\u003E\nSo: delete all KSPI dependencies and copy just what came with the plugin.\u003Cbr\u003E\n\u003Cbr\u003E\n=\u0026gt; im not saying its KSPI in your case; but that you should take care when you update something.\u003Cbr\u003E\nBest is to delete every folder you not installed by yourself and reinstall the mods that ship others in their packages\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-26T16:18:20Z\u0022 title=\u002211/26/2015 04:18  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 26, 2015\u003C/time\u003E by Speadge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sarxis","CreatedById":130923,"CreatedDateTime":"2015-11-26T16:19:01Z","Content":"\nI don\u0026#39;t use KSPI myself, but the MM cache is an interesting try. Thanks!\n"},{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2015-12-02T18:30:21Z","Content":"\n\u003Cp\u003E\nI had similar problems with 1.0.4 under Linux, this\u00A0week, consistently stopping at the same point. No signs of RAM shortage. Removing\u00A0one\u00A0parts mod did change the indicated halting point. And nothing apparently changed between loading and not-loading. If I get hit again I shall give the MM cache a try. There can be problems if RAM usage gets to point where swapping to disk comes into play, but that is different in so many ways. This was happening with only 1.6GB of RAM in use by KSP, so plenty of RAM available.\n\u003C/p\u003E\n\u003Cp\u003E\nA similar problem with Linux and Windows? I know it\u0027s not much help without logfiles, but I think it\u0027s worth mentioning.\n\u003C/p\u003E\n\u003Cp\u003E\nv1.1 will be interesting.\n\u003C/p\u003E\n\u003Cp\u003E\nIncidentally, I have a suspicion that default Linux settings for virtual memory may be optimised for the machines of a decade ago, when 2GB of RAM was a lot. You need some swap partition, but are the old suggestions leading to huge amounts of data being moved without need?\n\u003C/p\u003E\n"}]}