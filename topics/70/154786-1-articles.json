{"TopicId":154786,"ForumId":70,"TopicTitle":"Stutter (with mechjeb)","CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2016-11-12T23:02:08Z","PageNum":1,"Articles":[{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2016-11-12T23:02:08Z","Content":"\n\u003Cp\u003E\nI had the worst gameplay today. I capped my framerate at 60, turned off AA and highlighting and the stutter today was unbearable, probably worst so far. It\u0027s not even \u0022stutter\u0022, it\u0027s a solid 1-2 second pause every few seconds when even flying a small craft. It gets progressively worse, like something is building up, and it happens in the hangar, in map mode and even during menus. I\u0027m also noticing extended loading times when switching between ship, map and space center. Alt-End isn\u0027t making any difference anymore.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat do I need to adjust in the settings to give it more memory? Thanks!\n\u003C/p\u003E\n\u003Cp\u003E\n8\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n16\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n24\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n32\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n40\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n48\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n64\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n80\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n96\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n112\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n144\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n176\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n208\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n240\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n296\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n352\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n432\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 1\u003Cbr\u003E\n664\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 0\u003Cbr\u003E\n800\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0: 0\u003Cbr\u003E\n1008\u00A0\u00A0 \u00A0: 0\u003Cbr\u003E\n1344\u00A0\u00A0 \u00A0: 0\u003Cbr\u003E\n2032\u00A0\u00A0 \u00A0: 0\u003Cbr\u003E\ntotal\u00A0\u00A0 \u00A0: 1024\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-12T23:04:55Z\u0022 title=\u002211/12/2016 11:04  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 12, 2016\u003C/time\u003E by Kerbital\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-11-13T00:11:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222848463\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478991728\u0022 data-ipsquote-userid=\u0022170602\u0022 data-ipsquote-username=\u0022Kerbital\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Kerbital said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat do I need to adjust in the settings to give it more memory? Thanks!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nJust the number on the total line. However, I could do with seeing a screenshot of your graph in a range of situations and how much ram you have and the total memory KSP is using. It sounds like one of your mods is misbehaving and generating loads if garbage. \u00A0An output_log.txt file would be handy too...\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2016-11-13T15:05:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222848518\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478995892\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust the number on the total line. However, I could do with seeing a screenshot of your graph in a range of situations and how much ram you have and the total memory KSP is using. It sounds like one of your mods is misbehaving and generating loads if garbage. \u00A0An output_log.txt file would be handy too...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI only have MechJeb. Removing and copying a fresh MechJeb folder restores some order. 2-3 hours later stuttering starts creeping in again. So then I deleted all the ships settings files from \\Kerbal Space Program\\GameData\\MechJeb2\\Plugins\\PluginData\\MechJeb2 and things go back to normal again. It looks to me like MechJeb is indeed causing this\n\u003C/p\u003E\n\u003Cp\u003E\nHere are some screenshots I took over the last few days (15MB):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/14471718/forumstuff/ksp/656425341.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/14471718/forumstuff/ksp/656425341.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the output_log.txt from \\KSP_x64_Data\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/14471718/forumstuff/ksp/6456575.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/14471718/forumstuff/ksp/6456575.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-11-14T11:44:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222849009\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479049530\u0022 data-ipsquote-userid=\u0022170602\u0022 data-ipsquote-username=\u0022Kerbital\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, Kerbital said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere is the output_log.txt from \\KSP_x64_Data\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis log shows a large amount of spam of this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n[MechJeb2] Warppause : lastAskedIndex=1 CurrentRateIndex=0 WarpMode=HIGH MaxCurrentRate=0\u003C/pre\u003E\n\u003Cp\u003E\nIt may only be doing it during timewarp but, even if that is the case, it can\u0027t be helping your performance. \u00A0This is probably a quirk of the dev build of \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIn all of your graphs except for 34 and 35, the Heap Min and Max values are far closer together than I would expect. \u00A0This is the main reason your stutters are so frequent. \u00A0How much RAM do you have in your machine and how much memory (commit size) does task manager say that KSP is using?\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2016-11-14T16:20:30Z","Content":"\n\u003Cp\u003E\nI have 32GB. I will need to get back to you later on Task Manager memory usage, because I don\u0027t remember, I haven\u0027t looked in a while. Funny you mentioned warp as \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E has been very \u0022hesitant\u0022 during autolandings and is doing this stop-and-go warp thing as if it couldn\u0027t decide what to do: warp or not. I often mess around with ships that are really not designed for proper landings, but this happens a lot even with simple probes and landers. However, this is not the only time stutter happens. It happens during all aspects of the game.\n\u003C/p\u003E\n\u003Cp\u003E\nI currently have MechJeb2-2.5.9.0-648 build.\n\u003C/p\u003E\n\u003Cp\u003E\nI bumped the total in MemGraph settings to 2048 and it was noticeably better for the rest of the day. This is the same lander I used earlier and it was giving me 5 second stutter. This time it was rather smooth landing. Is it safe to go even higher?\u00A0 I\u0027ll check the RAM usage in Task Manager later and post.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022screenshot63.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://dl.dropboxusercontent.com/u/14471718/forumstuff/ksp/screenshot63.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-11-14T16:24:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222850374\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479140430\u0022 data-ipsquote-userid=\u0022170602\u0022 data-ipsquote-username=\u0022Kerbital\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Kerbital said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs it safe to go even higher?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWith 32GB of RAM it should be pretty safe to put it way up, 10240 or even higher, especially as you don\u0027t have many high memory usage mods installed. \u00A0If you do start to see issues, e.g. very slow scene changes or similar, then dial it back a bit...\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2016-11-14T16:49:11Z","Content":"\n\u003Cp\u003E\nRight now, with 2048 max and few minutes of flying a large ship the commit size is around 5.2GB (5,200,000K) and it\u0027s growing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002256546797890.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022109\u0022 src=\u0022https://dl.dropboxusercontent.com/u/14471718/forumstuff/ksp/56546797890.jpg\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2016-11-14T18:20:12Z","Content":"\n\u003Cp\u003E\nI upped the max to 10240. KSP memory usage jumped to 17GB and I don\u0027t see much improvement over 2048 so far. It\u0027s already much, much better with 2048. At this is with 4x AA. I think we can conclude that:\n\u003C/p\u003E\n\u003Cp\u003E\na) This bug still lingers in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nb) MechJeb is triggering this bug.\n\u003C/p\u003E\n\u003Cp\u003E\nc) Increasing the max padding in MemGraph helps to a large degree.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00224343574586798709.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022https://dl.dropboxusercontent.com/u/14471718/forumstuff/ksp/4343574586798709.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2016-11-15T03:43:08Z","Content":"\n\u003Cp\u003E\nYikes, the stutter is back with a vengeance! I counted pauses as long as 3 seconds each! KSP is now using 20GB of RAM \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E On top of that I have insane loading times, switching between\u00A0 map, ship or space center take over 10 seconds! I think I\u0027m done here. Thanks for all the hep but I lost patience for this game. Cheers!\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2017-01-09T21:37:18Z","Content":"\n\u003Cp\u003E\nJust popped in here to say that the stutter is still here after 1.2.2 update and the latest official release of MechJeb 2.6 \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2017-01-09T23:14:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916124\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483997838\u0022 data-ipsquote-userid=\u0022170602\u0022 data-ipsquote-username=\u0022Kerbital\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Kerbital said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust popped in here to say that the stutter is still here after 1.2.2 update and the latest official release of MechJeb 2.6 \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, not much has changed. I\u0027m sure SQUADs \u0022garbage reduction\u0022 efforts are nice and all, but this BS performance is what has killed my career saves over and over. The best bit is that it gets progressively worse as you have more craft in flight, effectively killing any chance for an enjoyable end-game.\u003Cbr\u003E\nBlaming mods (e.g. mechjeb) is all well and good, and often it is indeed mods creating garbage... but the simple fact is that the runtime sucks. What is the point of a fancy memory-managed modding language if using it as intended (without jumping through hoops, and avoiding half the features) murders performance?\u003Cbr\u003E\nWe will remember you, KSP: A beautiful concept, crippled by it\u0027s shoddy game engine. Such has been the state of things since day one.\n\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2017-01-10T04:40:28Z","Content":"\n\u003Cp\u003E\nTo be fair, \u0022memory managed\u0022 languages don\u0027t absolve you of the need to write sensible code or to have some understanding of how the memory management works. While it might not always be as obtrusive as in Unity, if your code is spewing garbage like mad it\u0027s liable to give the GC more work to do and therefore slow things down.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2017-01-10T05:35:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916481\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484023228\u0022 data-ipsquote-userid=\u0022104935\u0022 data-ipsquote-username=\u0022cantab\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, cantab said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhile it might not always be as obtrusive as in Unity, if your code is spewing garbage like mad it\u0027s liable to give the GC more work to do and therefore slow things down.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is true, however my point is that in Unity it \u003Cem\u003Eis \u003C/em\u003Eobtrusive. The Boehm-Demers-Weiser algorithm, while simple to implement, is absolutely \u003Cem\u003Eterrible\u003C/em\u003E for real-time performance-critical applications... like games.\u003Cbr\u003E\nUnitys runtime sucks because it\u0027s ancient, and its simple GC algorithm is not suitable for games. It\u0027s not even multi-threaded, something mainline mono has had for years.\u003Cbr\u003E\nWriting better code is only part of the solution, we also need a better GC... like Sgen, included in any recent version of mono (and experimental in the version Unity uses, before unity messed with it). It\u0027s not perfect, but it\u0027s a whole lot better than what we have now, and it\u0027s liable to dramatically improve this situation.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-10T05:46:14Z\u0022 title=\u002201/10/2017 05:46  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 10, 2017\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2017-01-10T07:46:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916526\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484026528\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nand it\u0027s liable to dramatically improve this situation.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n[citation needed] \u00A0Specifically, what possible reasons do you have to believe that SGen would cope better with stock KSP\u0027s garbage creation, let alone a situation where mods are generating over 200 MB/s...?\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2017-01-10T08:15:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916606\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484034416\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhat possible reasons do you have to believe that SGen would cope better with stock KSP\u0027s garbage creation\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs it\u0027s not available in Unity, I clearly cannot benchmark it to provide hard numbers - hence \u0022liable to\u0022\u00A0 rather than \u0022will\u0022.\u003Cbr\u003E\nEvery benchmark or comparison I can find (for reasonably complex workloads) shows monos sgen significantly outperforming the old boehm implementation, and coming pretty close the performance of .NETs GC.\u003Cbr\u003E\nWhat makes you think that this won\u0027t apply to KSP as well? Surely there is something to be gained with a generational, multithreaded GC - even a minor improvement in the time taken for a collection run is worthwhile here.\u003Cbr\u003E\nIf you can keep the allocation rate low enough (and the nursery size large enough), you might get away with very few full collections between scene changes.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916606\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484034416\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nmods are generating over 200 MB/s\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf mod code is generating 200MB/s, I doubt any GC will deal with it without a significant performance overhead... But I\u0027m not seeing anything like that rate, and I would be surprised if this was the norm.\u003Cbr\u003E\nWhat I am seeing is noticeable stalls starting at 1/10th of that allocation rate - and it\u0027s the time these last that makes it a problem.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-10T08:22:48Z\u0022 title=\u002201/10/2017 08:22  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 10, 2017\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2017-01-10T12:55:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916621\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484036125\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsignificantly outperforming\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat does this mean? \u00A0What were they measuring? \u00A0Overall runtime, proportion of time spent doing GC, length of individual GC runs, or something else?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916621\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484036125\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSurely there is something to be gained with a generational, multithreaded GC\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, I\u0027m not disputing that, there is likely to be some sort of \u0022improvement\u0022 when looked at in the \u0022right\u0022 way but there\u0027s no guarantee this will translate to any improvement in game performance or the gameplay impact of any stutter that does still occur.\n\u003C/p\u003E\n\u003Cp\u003E\nThe main problem with a generational collector for KSP is that there are quite a lot of objects allocated that live for a considerable period, in some parts of the code, enough is allocated to fill any reasonably sized nursery. \u00A0On a nursery collection, any object in the nursery that still has references gets physically copied into the next\u00A0generation so the nursery has to be kept reasonnably small to avoid the possibility of having to copy too much in one nursery collection. \u00A0Large blocks (and I\u0027m not talking that large in KSP terms) skip the nursery altogether, further eroding the theoretical performance benefits.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916621\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484036125\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\neven a minor improvement in the time taken for a collection run is worthwhile here.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis doesn\u0027t sound much like:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916526\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484026528\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nit\u0027s liable to dramatically improve this situation\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou have to be making quite a chain of assumptions to be able to relate random benchmarks to the perceived seriousness of the stutter in KSP.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916621\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484036125\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf mod code is generating 200MB/s, I doubt any GC will deal with it without a significant performance overhead... But I\u0027m not seeing anything like that rate, and I would be surprised if this was the norm.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not saying it\u0027s the norm but it does happen. \u00A0Just check out the last few posts in the MemGraph thread for an example of what a (presumably) dodgy mod can do...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916621\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484036125\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat I am seeing is noticeable stalls starting at 1/10th of that allocation rate - and it\u0027s the time these last that makes it a problem.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEven 20 MB/s is a ridiculous allocation rate, what on earth (or Kerbin) is it being used for? \u00A0(That\u0027s rhetorical, by the way \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E). \u00A0If the heap only has 100 MB of headroom then this will fill up in 5 seconds. \u00A0With the current collector, a significant improvement\u00A0in the length of the stalls would probably be got by multithreading the mark phase but you\u0027ve seen that doesn\u0027t work in Unity and I\u0027d be wary of it in any future version of Unity using SGen too due to the complexity of Unity\u0027s threading usage. \u00A0With SGen, the frequency of the stalls is likely to improve some due to the nursery reducing the allocation rate in the next generation but exactly how much can\u0027t even be ball-park estimated at the moment and I certainly don\u0027t expect the length of the stalls on a full collection to improve that much all the time there are\u00A0several hundred megs of old generation to scan through.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916526\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484026528\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWriting better code is only part of the solution, we also need a better GC...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe thing is that writing good code is required whichever GC is used but if the code were\u00A0good enough then a better GC would\u00A0give very little benefit at all...\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2017-01-10T13:23:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916763\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484052958\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat were they measuring?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOverall run time / time per operation against object allocation rate.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916763\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484052958\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWith the current collector, a significant improvement\u00A0in the length of the stalls would probably be got by multithreading the mark phase but you\u0027ve seen that doesn\u0027t work in Unity and I\u0027d be wary of it in any future version of Unity using SGen too due to the complexity of Unity\u0027s threading usage.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, I have managed to break GC entirely by enabling parallel mark. This working with Sgen would be one of the requirements for \u0022dramatic improvement\u0022.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916763\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484052958\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEven 20 MB/s is a ridiculous allocation rate\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI know. But what are we going to do, line all the devs up and flog them?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916763\u0022 data-ipsquote-contentid=\u002295993\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484052958\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nif the code were\u00A0good enough then a better GC would\u00A0give very little benefit at all...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBut it isn\u0027t...\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbital","CreatedById":170602,"CreatedDateTime":"2017-01-10T15:00:31Z","Content":"\n\u003Cp\u003E\nIt definitely gets worse with time as you have more ships in flight. I played the game again for few days and it eventually gets to the point of being impossible to play. I had 4 relays in space, one large ship, two landers and that\u0027s pretty much it. I can\u0027t develop any real infrastructure or mount a proper expedition or build bases because the game becomes unplayable. This is really very frustrating as the game could be so much fun otherwise.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m limited basically to tinkering with small ships in Kerbal vicinity.\n\u003C/p\u003E\n\u003Cp\u003E\nThe other game I\u0027ve been playing a lot is Planetary Annihilation. I play against up to 6 AI opponents across several planets and moons, thousands of units each at times. The game used to slow down a lot, the simulation speed and FPS (but there was never any stuttering),\u00A0there were lots of complaints, but they managed to improve it so much with the latest update that it\u0027s like day and night difference. Although, I believe they\u0027re using a custom, in-house engine. No more slowdowns for me. I was hoping for a similar \u0022miracle\u0022 with KSP.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-10T15:21:25Z\u0022 title=\u002201/10/2017 03:21  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 10, 2017\u003C/time\u003E by Kerbital\u003C/strong\u003E\n\u003Cbr\u003EAdded stuff\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2017-01-10T16:31:07Z","Content":"\n\u003Cp\u003E\nThis particular stutter issue may be due to Mechjeb, so I\u0027ve split it to Modded support, have you thought to ask \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E about this issue yet?\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2017-01-10T16:37:40Z","Content":"\n\u003Cp\u003E\nPoked him some (long) time back, but never really got a quantifiable answer. Without an easy/reliable way to stick it to any particular mod I\u0027m disinclined to hassle more, Sarbian can be a little, er... irritable at times.\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2017-01-10T16:38:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916981\u0022 data-ipsquote-contentid=\u0022154786\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484065867\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis particular stutter issue may be due to Mechjeb, so I\u0027ve split it to Modded support, have you thought to ask \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E about this issue yet?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe messages since this one:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/154786-stutter-with-mechjeb/\u0026amp;do=embed\u0026amp;comment=2916233\u0026amp;embedComment=2916233\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n...were about the general GC issue rather than anything MechJeb specific and shouldn\u0027t really have been moved.\n\u003C/p\u003E\n\u003Cp\u003E\nSarbian was informed about the odd garbage creation profile of MechJeb a few weeks ago but I don\u0027t think he\u0027s got around to looking at it yet.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-10T16:39:01Z\u0022 title=\u002201/10/2017 04:39  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 10, 2017\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2017-01-10T16:41:09Z","Content":"\n\u003Cp\u003E\nI thought it best to start with Kerbitals issue, as he seems to be using Mechjeb throughout, the GC we already know about and can\u0027t change, roll on Unity and a Mono update...\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-01-10T17:25:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916995\u0022 data-ipsquote-contentid=\u0022154786\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484066283\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSarbian was informed about the odd garbage creation profile of MechJeb a few weeks ago but I don\u0027t think he\u0027s got around to looking at it yet.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nErr, I need to object on the implication of that sentence for those who did not follow the whole mod memory usage in KSP since the start. I know that \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E is a garbage generator monster since a very long time. Case and point : When \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E used \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E code for a few month (around April 2015) \u00A0I implemented a lot of code change to lower the memory use of that part of the code (and AFAIK the current \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E code is heavily influenced by those changes). I kept improving the memory use of \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E since (\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/commit/b111f3dadb3f485bf19be805fd86bb2508c23273\u0022 rel=\u0022external nofollow\u0022\u003EHere\u003C/a\u003E, \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/commit/e1fd8d58b0e48ae3beeb5a36267da7d8cf972f35\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, Landing AP, \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/commit/2bd837c16d4ba2c17de0685baada3d71df557c58\u0022 rel=\u0022external nofollow\u0022\u003ECore\u003C/a\u003E, \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/commit/bb805085762cd32028a222e07622748c8cef5a3b\u0022 rel=\u0022external nofollow\u0022\u003ENew Fuel Sim\u003C/a\u003E, \u00A0and \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/commit/6a5fddbc7256aef2816d1fe090387c358de597f2\u0022 rel=\u0022external nofollow\u0022\u003Emany\u003C/a\u003E \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/commit/7afe262e2940d79999e7c5276ffbdb758d8d1a21\u0022 rel=\u0022external nofollow\u0022\u003Eothers\u003C/a\u003E).\n\u003C/p\u003E\n\u003Cp\u003E\nI would also remind everyone that brought the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0022 rel=\u0022\u0022\u003EUnity profiler to modding\u003C/a\u003E\u00A0(It used it long before but since it required a Pro licence before U5 there was not point in sharing it much) and wrote a mod to display the GC usage in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83821-121-gcmonitor-147-a-graphic-memory-monitor-november-6th/\u0022 rel=\u0022\u0022\u003E2014\u003C/a\u003E...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222916994\u0022 data-ipsquote-contentid=\u0022154786\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484066260\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPoked him some (long) time back, but never really got a quantifiable answer. Without an easy/reliable way to stick it to any particular mod I\u0027m disinclined to hassle more, Sarbian can be a little, er... irritable at times.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI doubt I did not give you a quantifiable answer since as I just explained I have know about the problem and worked on it for nearly 2 years and an half.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNow to come back to the original subject : yes, Mechjeb does create a lot of memory Garbage. I improved a lot of the code that does it but the main problem is still here : the UI. \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E uses the old UI system and that system is just plainly terrible in memory use. I plan to change it but I don\u0027t want to rush it and end up with a system I don\u0027t like. So in the mean time \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E does create some more memory garbage than some other mods. And far less than other.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-10T17:29:14Z\u0022 title=\u002201/10/2017 05:29  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 10, 2017\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2017-01-10T17:32:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222917055\u0022 data-ipsquote-contentid=\u0022154786\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484069136\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nErr, I need to object on the implication of that sentence to those who did not follow the whole mod memory usage in KSP since the start.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI certainly wasn\u0027t trying to imply that you had done nothing to improve the garbage creation of MechJeb, other mods or KSP itself, just that you haven\u0027t yet (as far as I know, the MechJeb thread disappearing hasn\u0027t helped \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E) looked at the specific issue I reported a while ago with the significant spike that happens every 5 seconds...\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-01-10T17:33:49Z","Content":"\n\u003Cp\u003E\nI think I fixed that one. The last months are a bit blurry \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-10T17:35:40Z\u0022 title=\u002201/10/2017 05:35  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 10, 2017\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"}]}