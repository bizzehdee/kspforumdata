{"TopicId":208165,"ForumId":70,"TopicTitle":"Stability issues with 1.12.3 Linux","CreatedByName":"securityinstruts","CreatedById":195356,"CreatedDateTime":"2022-05-13T18:36:38Z","PageNum":1,"Articles":[{"CreatedByName":"securityinstruts","CreatedById":195356,"CreatedDateTime":"2022-05-13T18:36:38Z","Content":"\n\u003Cp\u003E\nHi all,\u003Cbr\u003E\nI\u0027m having some stability issues with latest client.\u003Cbr\u003E\nBefore used 1.12.2 with Great Success! with the same OS and hardware but this one seems to crash randomly where ever after what ever time.\u003Cbr\u003E\nI have few mods. Can\u0027t anymore remember their names as got them with maybe for 1.9.1 but they have following directory names in /GameData/\u00A0 I have just copy\u0026amp;pasted them from installation to installation.\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nChatterer\n\u003C/li\u003E\n\u003Cli\u003E\nCommunityCategoryKit\n\u003C/li\u003E\n\u003Cli\u003E\nDMagicUtilities\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKas\u003C/abbr\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKis\u003C/abbr\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nNavyFish\n\u003C/li\u003E\n\u003Cli\u003E\nTriggerTech\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nDoes KSP output any log that I could share with you to determine what causes these crashes?\u003Cbr\u003E\nThis is really infuriating so any help is much appreciated!\n\u003C/p\u003E\n"},{"CreatedByName":"DeadJohn","CreatedById":201293,"CreatedDateTime":"2022-05-13T19:48:59Z","Content":"\n\u003Cp\u003E\nYes, there are log files. See the link below for instructions to find and share logs.\n\u003C/p\u003E\n\u003Cp\u003E\nGoing from 1.12.2 to 1.12.3 shouldn\u0027t cause big issues, but maybe some of your mods already had issues and 1.12.3 reached the breaking point.\n\u003C/p\u003E\n\u003Cp\u003E\nYou said \u0022crash\u0022 but didn\u0027t explain what kind. Does the game just shutdown, do you get a Unity error debug message, or does your entire OS crash?\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002275006\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6165061050\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/\u0026amp;do=embed\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"securityinstruts","CreatedById":195356,"CreatedDateTime":"2022-05-13T20:37:53Z","Content":"\n\u003Cp\u003E\nSorry,\u003Cbr\u003E\nThe mentioned crash is a nice exit of whole client. It just freezes and goes away in a second or two leaving no hanging audio or processes etc.\u003Cbr\u003E\nI was not prepared for issues with the transition from 1.12.2 and this has me bit of mystified\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E Granted, some of my mods could cause this!\n\u003C/p\u003E\n\u003Cp\u003E\nThank you for the link! Found the log, does it renew? Do i \u0022have to\u0022 play until another crash and after that submit fresh one?\u003Cbr\u003E\u003Ca href=\u0022https://a.tmp.ninja/xdkzTxhG.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://a.tmp.ninja/xdkzTxhG.log\u003C/a\u003E\u003Cbr\u003E\nIt is only 48h limited upload as dropbox was too commercial site for me \u003Cimg alt=\u0022:rolleyes:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 title=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"DeadJohn","CreatedById":201293,"CreatedDateTime":"2022-05-13T20:57:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224131602\u0022 data-ipsquote-contentid=\u0022208165\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221652474273\u0022 data-ipsquote-userid=\u0022195356\u0022 data-ipsquote-username=\u0022securityinstruts\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, securityinstruts said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFound the log, does it renew? Do i \u0022have to\u0022 play until another crash and after that submit fresh one?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe log is zero\u0027ed out every time KSP starts. Ideally, provide a log just after you get the crash, and maybe there\u0027s a real obvious clue at the end of the log. The log your provided might still be useful, though, if there are smaller errors that build up over time before the crash.\n\u003C/p\u003E\n\u003Cp\u003E\nI unfortunately can\u0027t read your log at the moment due to a firewall at my current location blocking that site. Will try to check later tonight.\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2022-05-14T07:06:01Z","Content":"\n\u003Cp\u003E\nMoved to modded tech support.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224131540\u0022 data-ipsquote-contentid=\u0022208165\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221652466998\u0022 data-ipsquote-userid=\u0022195356\u0022 data-ipsquote-username=\u0022securityinstruts\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, securityinstruts said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have just copy\u0026amp;pasted them from installation to installation.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo me, this seems like a giant red flag.\u00A0\u00A0 First step should be to update all your mods to the current version.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"securityinstruts","CreatedById":195356,"CreatedDateTime":"2022-05-15T11:12:36Z","Content":"\n\u003Cp\u003E\nThis one is from after a crash in \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https://a.tmp.ninja/yuXyqVi.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://a.tmp.ninja/yuXyqVi.log\u003C/a\u003E\u003Cbr\u003E\nAnd this is after a crash in orbit\u003Cbr\u003E\u003Ca href=\u0022https://a.tmp.ninja/MYydeYQr.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://a.tmp.ninja/MYydeYQr.log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHopefully these can provide some insight into the issues that I\u0027m having!\n\u003C/p\u003E\n\u003Cp\u003E\nBTW, What upload service would you recommend?\u003Cbr\u003E\nThis tmp.ninja sometimes does not let me upload files\n\u003C/p\u003E\n"},{"CreatedByName":"securityinstruts","CreatedById":195356,"CreatedDateTime":"2022-05-17T19:26:26Z","Content":"\n\u003Cp\u003E\nOkay, okay.\u003Cbr\u003E\nIt was not the mods, that is if Breaking ground and Making History are not counted as mods.\u003Cbr\u003E\nUnpacked and installed those into a fresh installation of KSP and started a new career. This crash happened just after pressing recovery of first orbital vessel\u003Cbr\u003E\u003Ca href=\u0022https://a.tmp.ninja/lVYqKWFl.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://a.tmp.ninja/lVYqKWFl.log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nShould I now make a duplicate post in the unmodded sections or is this OK?\u003Cbr\u003E\nIs there any info that I could tell you guys to take a guess about the issue and how to remedy the situation?\n\u003C/p\u003E\n"},{"CreatedByName":"RKunze","CreatedById":204847,"CreatedDateTime":"2022-05-17T20:55:06Z","Content":"\n\u003Cp\u003E\nSince your log indicates that KSP crashes somewhere in the garbage collection process, it could be related to the problem described here:\u00A0\u003Ca href=\u0022https://bugzilla.xamarin.com/62/6216/bug.html#c26\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bugzilla.xamarin.com/62/6216/bug.html#c26\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBasically, the Mono GC (or at least the old and obsolete version still used by Unity) sometimes needs to split an existing memory block when freeing up unused memory, and may run over the allowed maximum of allocated memory blocks in the process (which leads to the weird situation that you get an out of memory error when trying to\u00A0\u003Cem\u003Efree\u003C/em\u003E\u00A0unused memory).\n\u003C/p\u003E\n\u003Cp\u003E\nI had similar crashes a while ago, and increasing \u003Cspan style=\u0022background-color:rgb(249,249,249);color:rgb(45,49,52);\u0022\u003Ethe\u00A0\u003C/span\u003E\u003Cspan style=\u0022background-color:rgb(255,255,255);color:rgb(36,41,46);\u0022\u003Evm.max_map_count sysconfig parameter (to\u00A05000000 in my case, but other values my work just as well) fixed the problem for me.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"securityinstruts","CreatedById":195356,"CreatedDateTime":"2022-05-18T21:14:48Z","Content":"\n\u003Cp\u003E\nSo, basically adding a line \u003Cspan style=\u0022background-color:rgb(255,255,255);color:rgb(36,41,46);\u0022\u003E\u0022vm.max_map_count =\u0022 above that mentioned 655360, say couple of millions, to /etc/sysctl.conf and rebooting would maybe fix these crashes?\u003C/span\u003E Did I get that right?\u003Cbr\u003E\nBut before doing this, I would like to know what that actually does? I\u0027m pretty noob as to what comes to the soul of linux and would not like to put any more stress to my potato than is necessary.\n\u003C/p\u003E\n\u003Cp\u003E\nIn any case, Thank you greatly!\n\u003C/p\u003E\n"}]}