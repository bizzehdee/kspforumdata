{"TopicId":181401,"ForumId":70,"TopicTitle":"Docking ports make ground vehicles fly?","CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-15T04:54:49Z","PageNum":1,"Articles":[{"CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-15T04:54:49Z","Content":"\n\u003Cp\u003E\nSo I have been trying to create a modular mobile ground base that would have different plug-in rovers to wander around and gather science and resources, refuel grounded craft, etc.\u00A0 I had a setup in 1.4.5 that worked really well, but when I attempted to rebuild the same vehicles in 1.6, every time the docking ports connect or disconnect, the vehicles fly 30 meters into the air and crash back down, invariably destroying some vital component or other.\n\u003C/p\u003E\n\u003Cp\u003E\nPossible solutions that I have tried:\n\u003C/p\u003E\n\u003Cp\u003E\n1.\u00A0 Remove all mods --still happens in vanilla\n\u003C/p\u003E\n\u003Cp\u003E\n2.\u00A0 set parking brake on larger vehicle, dock driving smaller vehicle\n\u003C/p\u003E\n\u003Cp\u003E\n3.\u00A0 set parking brake on smaller vehicle, dock driving larger vehicle\n\u003C/p\u003E\n\u003Cp\u003E\n4.\u00A0 park both vehicles on level ground, release all brakes move vehicles together at 0.1 m/s until docked\n\u003C/p\u003E\n\u003Cp\u003E\n5.\u00A0 roll vehicles down gentle slope, dock with vehicles in motion\n\u003C/p\u003E\n\u003Cp\u003E\n6.\u00A0 switch all vehicle suspension to override, try hard springs, soft springs, light dampers, and heavy dampers\n\u003C/p\u003E\n\u003Cp\u003E\nAbout the only thing I can think of that I\u00A0haven\u0027t tried is to float both vehicles in water and try to dock them there, but even if that works it is of limited use because Mun, Minmus, Duna, etc. don\u0027t have water to facilitate the result.\n\u003C/p\u003E\n\u003Cp\u003E\nIf anyone else has seen this problem and overcome it I would greatly appreciate it.\u00A0 Also, any suggestions of things I haven\u0027t tried yet or might have overlooked would be welcome.\n\u003C/p\u003E\n"},{"CreatedByName":"Xd the great","CreatedById":188222,"CreatedDateTime":"2019-01-15T05:21:16Z","Content":"\n\u003Cp\u003E\nHave you tried autostrut?\n\u003C/p\u003E\n"},{"CreatedByName":"Tonka Crash","CreatedById":189552,"CreatedDateTime":"2019-01-15T05:46:49Z","Content":"\n\u003Cp\u003E\n\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-Tools has an Inertial Dampener module that you can add to command modules with a module manager patch. It adds a right click option for a ground tether. That solved most of my problems with bases floating off the ground on load, sliding downhill, Kraken attacks, and I\u0027ve been able to dock to tethered bases.\n\u003C/p\u003E\n"},{"CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-15T08:07:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223522450\u0022 data-ipsquote-contentid=\u0022181401\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547529676\u0022 data-ipsquote-userid=\u0022188222\u0022 data-ipsquote-username=\u0022Xd the great\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Xd the great said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHave you tried autostrut?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAll three types of autostrut make the problem worse.\u00A0 Not only do the vehicles fly into the air, but they almost always manage to land exactly upside down.\u00A0 lol\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI tried to dock the vehicles in the water too.\u00A0 They still fly.\u00A0 I think that the problem is somewhere in the way that the docking collars interact with the physics engine.\u00A0 In space you wouldn\u0027t notice because there is no ground to fall back on, but at ground level there is only one way for the engine to throw you when it detects that the multiple vessels have now joined together,\u00A0and most vehicles can\u0027t withstand a 30m, end over end,\u00A0uncontrolled drop.\n\u003C/p\u003E\n"},{"CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-15T08:42:14Z","Content":"\n\u003Cp\u003E\nUpdate:\n\u003C/p\u003E\n\u003Cp\u003E\nI have found a way to consistently undock the rovers without destroying the mobile base.\n\u003C/p\u003E\n\u003Cp\u003E\nwith the vehicles docked, drive forward with the mobile base to the top of a small hill.\u00A0 The rigidity of the docking port will mean that the rover is suspended.\u00A0 Park the base with the crest of the decline between the 2nd and 3rd row of wheels on the base.\u00A0 The weight of the rover will lift the 5th and 6th rows of wheels off the ground.\u00A0 Undock the rover and drop it the short distance to the ground.\u00A0 Since it wasn\u0027t touching the ground at the moment of undocking, the physics don\u0027t seem to affect it.\u00A0 Meanwhile, the loss of the mass of the rover allows the base to rock back in its suspension as the physics rebounds it into the air.\u00A0 Since only the front 24 wheels are in contact with the ground, these are the only ones that get the full upward force.\u00A0 The base rocks back in a weird wheelie, but usually comes to rest intact.\n\u003C/p\u003E\n\u003Cp\u003E\nThe success rate of this method has been a little better than 80% so far, which is about as good as the success rate of docking the vehicles on flat ground.\u00A0 Now that I have a way to work around the docking/undocking problem, I am going to experiment with some lighter vehicles to see if it is a general physics bug, or something in the mobile base that is causing the issue.\n\u003C/p\u003E\n"},{"CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-15T09:21:12Z","Content":"\n\u003Cp\u003E\nSOLVED!!\n\u003C/p\u003E\n\u003Cp\u003E\nDue to the extreme weight of the mobile base (37t), the redraw of the vehicle and the application of physics after docking or undocking was causing the suspension to unload before the weight of the vehicle was applied.\u00A0 Therefore, the suspension was exploding to maximum extension as if the full weight of the vehicle was on it, when in reality, for just a split second the weight applied was at 0.\u00A0 This caused the wheels, and by extension the entire vehicle,\u00A0to become airborne.\u00A0 By the time the vehicle returned to the ground, the weight had been properly applied, and the vehicle landed appropriately.\u00A0 Above I said that I had tried many variations of shock and dampener settings, but I hadn\u0027t gone low enough!.\u00A0 I literally needed to drag the sliders all the way left (0.5) in order to make the suspension so weak that it can\u0027t even properly carry its own weight.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the help guys.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2019-01-15T12:37:18Z","Content":"\n\u003Cp\u003E\nNice to know that the \u0022new\u0022 \u0022improved\u0022 wheel and leg physics we got in 1.1 are still a steaming turd.\u003Cbr\u003E\nYou saved me from the disappointment of having my optimism and faith in Squads commitment to fixing old bugs brutally crushed, again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66485-squad/\u0026amp;do=hovercard\u0022 data-mentionid=\u002266485\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66485-squad/\u0022 rel=\u0022\u0022\u003E@SQUAD\u003C/a\u003E: Landing legs and wheels are still borked. They\u0027ve been borked since 1.1 and your \u0022tweaks\u0022 have not solved the problems, they crop up again in every release. Please fix.\n\u003C/p\u003E\n"},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2019-01-15T13:08:05Z","Content":"\n\u003Cp\u003E\nJust tried docking and undocking these two:\n\u003C/p\u003E\n\u003Cp\u003E\nWorked fine, no hiccups, no bounce, nothing broken.\u00A0Even with a combination of wheels, airbrakes, and landing gear. 140 parts together, 31t, which isn\u0027t crazy but it\u0027s not small either.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00224B0488D8376BD587BCD4E2E6E8F21E2A2F4A9057\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/941716679069529549/4B0488D8376BD587BCD4E2E6E8F21E2A2F4A9057/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s a second, heavier test: 250ish parts, 234t combined weight. Very small jump at both noses\u00A0when undocking, no damage though; didn\u0027t even lift the front wheels off the ground. (Both tests are at default \u0022auto\u0022 spring/damper settings.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022581001C852D84BDB943DB16B8A190CCBA586F29B\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/941716679069579275/581001C852D84BDB943DB16B8A190CCBA586F29B/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFinal test, very small vehicle docked to huge vehicle. This didn\u0027t go very well with all small wheels, and although there wasn\u0027t much bouncing or being thrown in the air, all the wheels broke when undocking. Same when I moved up to the largest wheel type. So..bug sort of confirmed?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00228FF2AB482F2179F7096CD924BC191A8EAFB5A461\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/941716679069627917/8FF2AB482F2179F7096CD924BC191A8EAFB5A461/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nUPDATE: Work around potentially discovered: Simply turning all wheels off auto and onto override but not changing any settings fixed the issue.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022C2998638F8A8D74098B6BDFB7FF4AB5A5B1F06C7\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/941716679069645134/C2998638F8A8D74098B6BDFB7FF4AB5A5B1F06C7/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m thinking the issue is similar to what \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E described, but it\u0027s the \u0022auto spring setting\u0022 trying to re-adjust itself that is causing the real problem when docking a light vehicle to a large one. Can anyone else replicate this fix on their end?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-15T14:07:44Z\u0022 title=\u002201/15/2019 02:07  PM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 15, 2019\u003C/time\u003E by Rocket In My Pocket\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-15T23:25:37Z","Content":"\n\u003Cp\u003E\nVery interesting.\n\u003C/p\u003E\n\u003Cp\u003E\nMore data is always welcome.\u00A0 It will save me, and hopefully some other people a lot of headaches in the future.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks again\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-16T02:23:51Z\u0022 title=\u002201/16/2019 02:23  AM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 16, 2019\u003C/time\u003E by Missedtrashday\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-16T11:51:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223522574\u0022 data-ipsquote-contentid=\u0022181401\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547557685\u0022 data-ipsquote-userid=\u0022154640\u0022 data-ipsquote-username=\u0022Rocket In My Pocket\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, Rocket In My Pocket said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m thinking the issue is similar to what \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003C/abbr\u003E described, but it\u0027s the \u0022auto spring setting\u0022 trying to re-adjust itself that is causing the real problem when docking a light vehicle to a large one.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo does the auto spring set all the springs to the same parameters, or does it balance the settings to account for asymmetrical weight distribution?\u00A0 If it is setting all the wheels to the same parameters, then yes that is why my big base is having such a reaction to docking with a tiny rover.\u00A0 What would be an appropriate setting for something that weighs 2t with 13 tiny wheels (for rough terrain stability) would be WAY off on something that weighs 37 tons and has 36 wheels (for load distribution).\n\u003C/p\u003E\n\u003Cp\u003E\nExtra thanks to you for the in depth experimentation and analysis.\n\u003C/p\u003E\n"},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2019-01-16T13:53:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223523239\u0022 data-ipsquote-contentid=\u0022181401\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547639516\u0022 data-ipsquote-userid=\u0022192077\u0022 data-ipsquote-username=\u0022Missedtrashday\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Missedtrashday said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo does the auto spring set all the springs to the same parameters, or does it balance the settings to account for asymmetrical weight distribution?\u00A0 If it is setting all the wheels to the same parameters, then yes that is why my big base is having such a reaction to docking with a tiny rover.\u00A0 What would be an appropriate setting for something that weighs 2t with 13 tiny wheels (for rough terrain stability) would be WAY off on something that weighs 37 tons and has 36 wheels (for load distribution).\n\u003C/p\u003E\n\u003Cp\u003E\nExtra thanks to you for the in depth experimentation and analysis.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHonestly, I don\u0027t know how it works behind the scenes short of making assumptions, but yes; what you propose makes sense.\n\u003C/p\u003E\n\u003Cp\u003E\nSo did setting them all to override fix or help the issue on your end?\n\u003C/p\u003E\n\u003Cp\u003E\nNot a problem, glad to help!\n\u003C/p\u003E\n"},{"CreatedByName":"Missedtrashday","CreatedById":192077,"CreatedDateTime":"2019-01-18T12:34:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223523271\u0022 data-ipsquote-contentid=\u0022181401\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547646826\u0022 data-ipsquote-userid=\u0022154640\u0022 data-ipsquote-username=\u0022Rocket In My Pocket\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn \u200E1\u200E/\u200E16\u200E/\u200E2019 at 8:53 AM, Rocket In My Pocket said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo did setting them all to override fix or help the issue on your end?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHey,\n\u003C/p\u003E\n\u003Cp\u003E\nJust a follow up on the issue.\u00A0 After two days of testing in between having to go to my IRL job, I have found that any spring setting over 0.25 combined with any damper setting\u00A0will make the base fly in the air.\u00A0 The rover became stable just by turning off auto springs, no adjustments to settings was necessary.\n\u003C/p\u003E\n\u003Cp\u003E\nThat being said, I am still not 100% sure of exactly the jumping comes from in the code, but I believe that\u00A0it has to be somewhere in the interaction between the redrawing of the two vessels as one vessel, and the suspension under load in full gravity.\u00A0 There seems to be a point in the redraw where the functionality of the parts kicks in before the attributes of the vehicle.\u00A0 That doesn\u0027t really hold up though, because if that were the case then all vehicles would jump regardless of how low you push the settings because any spring\u00A0can push\u00A0null weight\u00A0to infinity.\u00A0 So that leaves me with a new theory.\u00A0 It might be that there is an order to the attributes being applied to the parts, and in the case of my vehicles (or\u00A0any vehicle) wherever the wheels fall in that order leaves them pushing against a weight that, at that instant, isn\u0027t there yet.\u00A0 So what is working in this case is lowering the spring strength to 0.25 or lower, which is just weak enough for 36 wheels to not throw the weight of all the pieces which have properly been assigned their attributes in the air before the total operation resolves.\u00A0 This assumes that when two vehicles dock, the engine has to remove the two separate vehicles, combine them, and then redraw them, if not completely, then\u00A0at least in part.\u00A0 That might not be the way it actually works though, I\u0027m just guessing.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile it has been a frustrating couple of days in the game because I wanted to get something else done, the nerd in me has enjoyed working the problem with you guys.\u00A0 If anyone has any better insight to the way that the docking process is handled in the code, hopefully they will see this thread and chime in.\n\u003C/p\u003E\n"}]}