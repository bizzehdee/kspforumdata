{"TopicId":157831,"ForumId":70,"TopicTitle":"I need help figuring out what is destroying my performance","CreatedByName":"Galahir950","CreatedById":72940,"CreatedDateTime":"2017-03-17T18:37:21Z","PageNum":1,"Articles":[{"CreatedByName":"Galahir950","CreatedById":72940,"CreatedDateTime":"2017-03-17T18:37:21Z","Content":"\n\u003Cp\u003E\nAny idea which of \u003Ca href=\u0022http://imgur.com/a/mwR1e\u0022 rel=\u0022external nofollow\u0022\u003Ethese\u003C/a\u003E mods has a big Physics/CPU impact? Im trying to cut down on my mods, because I only get ~15fps, and I tried removing Destruction effects, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, and scatterer, but I only gained 1-2 FPS, so it might not be a GPU issue. I also tried Uninstalling \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E with no improvements. I might try removing Collision FX. I played some and took a couple notes. Also, \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E is the DEV build and Collision FX is the 4.0 version that is not in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nI get 10-20fps in flight\n\u003C/li\u003E\n\u003Cli\u003E\nwhen in orbit I get 20-35fps in the orbital map\n\u003C/li\u003E\n\u003Cli\u003E\nAfter I crash and the flight log pops up, I get 30-40fps\n\u003C/li\u003E\n\u003Cli\u003E\nI got ~15fps on my Mun Lander mission\n\u003C/li\u003E\n\u003Cli\u003E\nI did a rendezvous rescue contract and the ships were within 5km of each other. In ship FPS was 10~12. While EVAing to the rescue ship, I was getting ~5fps until the game eventually crashed after I flew past the ship and was making my way back.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nFor reference I have a 16gb DDR3 RAM, GTX 970 SC, and an AMD FX-8350.\n\u003C/p\u003E\n\u003Cp\u003E\nMy KSP Log File: \u003Ca href=\u0022https://www.dropbox.com/s/87n5h05kqyod25k/KSP.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/87n5h05kqyod25k/KSP.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPlease let me know if you need anything else.\n\u003C/p\u003E\n\u003Cp\u003E\nRegards,\u003Cbr\u003E\nRyan\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-17T18:44:06Z\u0022 title=\u002203/17/2017 06:44  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 17, 2017\u003C/time\u003E by Galahir950\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bornholio","CreatedById":173101,"CreatedDateTime":"2017-03-17T19:35:27Z","Content":"\n\u003Cp\u003E\nAre you running\u00A0 [ KSP_x64.exe -single-instance -force-d3d11 ]\u00A0 ?\u00A0 If not you might try that or Opengl switch.\n\u003C/p\u003E\n\u003Cp\u003E\nHow high are the part counts of the ships?\u00A0 if very high you might try using the welding mod UbioZurs Welding Lt.d Cont.\u00A0 Though this does take some extra time reloading the welded parts, also learn what should and shouldn\u0027t be welded.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the system is having regular stutters at intervals try out Mod MemGraph, though learn how to change the default heap settings.\n\u003C/p\u003E\n\u003Cp\u003E\nPotentially any of the eye candy mods can affect the rate heavily.\u00A0 \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E is currently on the \u0022list for \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/RP0\u0022 as severe performance loss.\u00A0 I\u0027m investigating a horrible frame rate in 1.2.2 \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/RP0 dev install I\u0027m working on now, and think it might be Realplume/smokescreen.\u00A0 Gotta blame it on something...\n\u003C/p\u003E\n\u003Cp\u003E\nGood Luck, and remember to comment on a solution.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Galahir950","CreatedById":72940,"CreatedDateTime":"2017-03-17T19:51:55Z","Content":"\n\u003Cp\u003E\nI am running x64 KSP. It is consistent across ships and saves, in a new save with the little stock Albatross(?) 3A Trainer, I get 15 FPS. I have smokescreen set to 25 as opposed to the stock 1k.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI will try adding Single Instance or switching to OpenGL from forcing DX11.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll\u00A0look at mod memgraph, but where would I go to learn about changing the heap? IIRC from last night, uninstalling Real Plume did not help.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, if none of that works, I am going to uninstall \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, then Scatterer, then Planetshine one by one again to see if any of them are the issue and I just missed it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-17T19:54:13Z\u0022 title=\u002203/17/2017 07:54  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 17, 2017\u003C/time\u003E by Galahir950\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bornholio","CreatedById":173101,"CreatedDateTime":"2017-03-17T20:10:06Z","Content":"\n\u003Cp\u003E\nNote that Memgraph is a good solution for one specific case, that is garbage collection stutter.\u00A0 Who knows they might fix that issue in 1.3 /smirk.\u00A0 Anyway GC gets worse as time progresses, and more and larger ships are in service. This includes loaded and unloaded ships, though unloaded ship are less demanding they are some load (on-rails).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMod page, see how much you are using with it, red lines on the graph are the garbage collection that causes stutter.\u00A0 After finding a good amount of heap to use change the padheap.cfg last line to that larger amount. Too large is worse than too little since it will push it on the page file and thus to drives instead of RAM.\u00A0 Given you have 16gig i\u0027d assume you should see that difference only at obnoxious amounts.\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/139128-12x-memgraph-1103-with-stutter-reduction/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMod-KeypadMultiply\u003C/strong\u003E toggles the display of the window.\u00A0\u00A0\u003Cstrong\u003E Mod-KeypadPlus\u003C/strong\u003E increases the vertical scale of the graph.\u00A0\u00A0 \u003Cstrong\u003EMod-KeypadMinus \u003C/strong\u003Edecreases the vertical scale of the graph.\u00A0\u00A0\u003Cstrong\u003E Mod-KeypadDivide\u003C/strong\u003E runs a bit of test code controlled by MemGraph\\PluginData\\test.cfg\u00A0\u00A0 \u003Cstrong\u003EMod-End\u003C/strong\u003E pads the Mono heap with a configurable amount of headroom to reduce frequency of garbage collections.\n\u003C/p\u003E\n"},{"CreatedByName":"Galahir950","CreatedById":72940,"CreatedDateTime":"2017-03-18T01:54:48Z","Content":"\n\u003Cp\u003E\nI did testing and here were my results.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cdiv\u003E\n\u003Ca rel=\u0022\u0022\u003E\u003C/a\u003E\n\u003Cdiv\u003E\nRegular FPS: ~15\n\u003C/div\u003E\n\u003Cdiv\u003E\nOpen GL : ~15\n\u003C/div\u003E\n\u003Cdiv\u003E\nComplete Modded FPS Without Scatterer, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, Planetshine, or Collision FX ~18\n\u003C/div\u003E\n\u003Cdiv\u003E\nAlmost Entirely unmodded: 60\u002B\n\u003C/div\u003E\n\u003Cdiv\u003E\nWith Only GFX Mods: 60\u002B\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. \u002B \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E: ~60\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. \u002B \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E: ~57\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. \u002B RPM: ~55\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. \u002B ManueverNodeEvolved, TakeCommand, TreeToppler, WaypointManager: ~55\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. \u002B G-Effects: ~30\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002BStage Recovery: ~53-54\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B BetterBurnTime, EditorExtensions, Ext.EngineerReport, Hide Empty Nodes, HistoricalTechTree, Kerbal Joint Reinforcement, Navball Adjustor, NavballDockingAlignment, NavHud,Part Commander, and Show All Fuels: ~52-53\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B HullCam, Notes, Plane Mode, Quick Scroll, Ship Manifest, Ship Sections, Switch Vessel, Burn Together, Chatterer, CapCom, Contract Parser, Contracts Window, Progress Parser, Final Frontier, S.A.V.E: ~50-52\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B AviationLights, BonVoyage, BOSS, ConnectedLiving Space, Janitor\u0027s Closet, Lights Out, MagiCore, Science Alert, Trigger Tech, Vessel View, WASD Editor Camera: ~50-52\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B Camera Tools, Dated Quicksaves, Distant Object, Water Sounds, Kerbokatz Small Utilities, Off Stage, and Docking Alignment Indicator: ~49-50\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B KOS, X Science, DMP, ASET, Mechjeb, EVA Chutes \u0026amp; ejection: ~48-49\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B Firespitter, AirPlane Plus: ~48\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B BDArmory Cont., Aircraft Carrier Accessories: ~48\n\u003C/div\u003E\n\u003Cdiv\u003E\nPrev. -G-FX \u002B Scatterer Ocean Shader\u0026amp;Reflections Turned On, Fourier Grid (64): ~50 Looking Away from Ocean, ~40 Looking at Ocean\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI have concluded that G-Effects was the culprit as a 25 FPS Drop is consistent with my Stable FPS with all my mods and my FPS Using it along with my mods.\n\u003C/p\u003E\n"}]}