{"TopicId":206468,"ForumId":70,"TopicTitle":"Having \u0026quot;unexpected mark stack overflow\u0026quot; and other unexpected crashes in a modded install","CreatedByName":"Kerburettor","CreatedById":194580,"CreatedDateTime":"2022-01-17T15:41:08Z","PageNum":1,"Articles":[{"CreatedByName":"Kerburettor","CreatedById":194580,"CreatedDateTime":"2022-01-17T15:41:08Z","Content":"\n\u003Cp\u003E\nHi,\n\u003C/p\u003E\n\u003Cp\u003E\nI started encountering frequent crashes since last week after installing and updating a few mods\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022mods.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002265.75\u0022 height=\u0022700\u0022 width=\u00221200\u0022 src=\u0022https://i.postimg.cc/3YZn3p6s/mods.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nInitially thought this was due to \u0022Kerbal Engineering Redux\u0022 so I uninstalled it but the crashes have continued occurring once in a while.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the full log of my last session (which ended in a crash at 4:28 PM UTC\u002B1):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://file.io/erBRbCSa9eTq\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://file.io/erBRbCSa9eTq\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-01-17T15:43:05Z\u0022 title=\u002201/17/2022 03:43  PM\u0022 data-short=\u00222 yr\u0022\u003EJanuary 17, 2022\u003C/time\u003E by Kerburettor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2022-01-17T15:59:28Z","Content":"\n\u003Cp\u003E\nWhen do the crashes occur?\n\u003C/p\u003E\n"},{"CreatedByName":"Kerburettor","CreatedById":194580,"CreatedDateTime":"2022-01-17T16:24:47Z","Content":"\n\u003Cp\u003E\nI haven\u0027t noticed any notable event that triggers them, but last time it occurred was when I switched to the tracking station from a low m\u00FCnar orbit. Btw I have 32 Gb of RAM and approximately half of it is allocated when I play\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2022-01-17T16:50:33Z","Content":"\n\u003Cp\u003E\nThere are various problems in the log, but it\u0027s hard to tell which ones might be serious. \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E is throwing this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E[EXC 16:28:19.888] ArgumentException: Illegal characters in path.\n\tSystem.IO.Path.Combine (System.String path1, System.String path2) (at \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0)\n\tFerramAerospaceResearch.FARGUI.FARFlightGUI.FlightDataLogger.GetFilename () (at \u0026lt;5703ae4062a541a09eeee98e1716f5d5\u0026gt;:0)\n\tFerramAerospaceResearch.FARGUI.FARFlightGUI.FlightDataLogger.CreateLogger (Vessel vessel) (at \u0026lt;5703ae4062a541a09eeee98e1716f5d5\u0026gt;:0)\n\tFerramAerospaceResearch.FARGUI.FARFlightGUI.FlightGUI.OnStart () (at \u0026lt;5703ae4062a541a09eeee98e1716f5d5\u0026gt;:0)\n\tVesselModule.Start () (at \u0026lt;39c0323fb6b449a4aaf3465c00ed3c8d\u0026gt;:0)\n\tUnityEngine.DebugLogHandler:LogException(Exception, Object)\n\tModuleManager.UnityLogHandle.InterceptLogHandler:LogException(Exception, Object)\n\tUnityEngine.Debug:CallOverridenDebugHandler(Exception, Object)\u003C/pre\u003E\n\u003Cp\u003E\nThat\u0027s happening because these crafts have quote characters in their names, \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E is trying to use the vessel name in a file name, and you\u0027re on Windows where quote characters aren\u0027t allowed in filenames:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 16:28:19.891] [FAR v0.16.0.4]: FARVesselAero on XR6 Launcher \u0022amphibia\u0022 (unloaded) reporting startup\n[LOG 16:28:19.891] [FAR v0.16.0.4]: FARVesselAero on XR6 Launcher \u0022amphibia\u0022 Debris (unloaded) reporting startup\n[LOG 16:28:19.892] [FAR v0.16.0.4]: FARVesselAero on XR6 Launcher \u0022amphibia\u0022 Debris (unloaded) reporting startup\n[LOG 16:28:19.892] [FAR v0.16.0.4]: FARVesselAero on XR6 Launcher \u0022amphibia\u0022 Debris (unloaded) reporting startup\u003C/pre\u003E\n\u003Cp\u003E\nAt least one other mod is complaining about that as well:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 16:28:11.920] [AtmosphereAutopilot]: Serialization exception in path D:/Steam/steamapps/common/Kerbal Space Program/KSP_x64_Data/../GameData/AtmosphereAutopilot/designs/XR6 Launcher \u0022amphibia\u0022.txt message Illegal characters in path.\u003C/pre\u003E\n\u003Cp\u003E\nSo one thing to try is to only use vessel names that are also legal filenames on your operating system.\n\u003C/p\u003E\n"},{"CreatedByName":"Kerburettor","CreatedById":194580,"CreatedDateTime":"2022-01-17T17:11:10Z","Content":"\n\u003Cp\u003E\nThanks a lot, your answer may help. I have indeed noticed strange behavior on the behalf of \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E (as in the GUI not displaying any information) but it never dawned on me that it was due to quote characters. I\u0027ll test changing the names of these crafts and report back if there\u0027s any improvement.\n\u003C/p\u003E\n"},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2022-01-20T13:17:11Z","Content":"\n\u003Col\u003E\u003Cli\u003E\nCopy your save files to your desktop.\n\u003C/li\u003E\n\u003Cli\u003E\nSave installed modpack in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E and put that on the desktop too.\n\u003C/li\u003E\n\u003Cli\u003E\nCompletely uninstall KSP through Steam.\n\u003C/li\u003E\n\u003Cli\u003E\nReinstall KSP through Steam.\n\u003C/li\u003E\n\u003Cli\u003E\nVerify the game files through Steam (right click KSP \u0026gt; Properties \u0026gt; local files \u0026gt; verify)\n\u003C/li\u003E\n\u003Cli\u003E\nMake a copy of KSP by copying Steam/steamapps/common/\u003Cem\u003EKerbal Space Program\u003C/em\u003E\u00A0and pasting that somewhere outside of Steam\u2019s folders (desktop would do).\n\u003C/li\u003E\n\u003Cli\u003E\nAdd that new copy to \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, reinstall mods using the modpack and put your saves back in.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nDon\u2019t ever put mods in the Steam copy of KSP, it just doesn\u2019t work- Steam has a habit of breaking things and then you get weird stuff like this happening.\n\u003C/p\u003E\n"},{"CreatedByName":"Kerburettor","CreatedById":194580,"CreatedDateTime":"2022-01-21T09:31:15Z","Content":"\n\u003Cp\u003E\nDuly noted. I\u0027ll apply this procedure should I encounter other crashes\n\u003C/p\u003E\n"}]}