{"TopicId":207609,"ForumId":70,"TopicTitle":"Crash on Docking","CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-06T21:01:08Z","PageNum":1,"Articles":[{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-06T21:01:08Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EKSP:\u003C/strong\u003E 1.12.3\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EProblem:\u003C/strong\u003E\u00A0Game crashes upon docking two vessels together. Heavily modded install. Have already gone through logs from previous instances of this reproducible crash and cleaned out a couple suspects, but the crash persists. Looking for a fresh set of eyes and ideas.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMods:\u003C/strong\u003E\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/hsfz5miqkg01ivz/JFJohnny5%20Mods.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/hsfz5miqkg01ivz/JFJohnny5 Mods.txt?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELog:\u003C/strong\u003E\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/oaem52sok1d1z1v/Player.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/oaem52sok1d1z1v/Player.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENotes:\u003C/strong\u003E I\u0027m really stumped here.. There are some errors related to \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, but they haven\u0027t been an issue. The game seems to be running fine even as the vessels start to dock. The ports connect. The view shifts to the Auto Camera view of both craft attached. Then after maybe a second, it freezes and crashes. The Player.log file shows the docking happening at Line 115901 which reads \u0022Docking to vessel Ra II\u0022 and there are no errors in the log after that.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-04-06T21:23:09Z\u0022 title=\u002204/06/2022 09:23  PM\u0022 data-short=\u00222 yr\u0022\u003EApril 6, 2022\u003C/time\u003E by jfjohnny5\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2022-04-06T21:44:03Z","Content":"\n\u003Cp\u003E\nUntil you get a better answer, maybe try this.\u00A0 If you have advanced tweakables enabled and have autostrut set to \u0022heaviest\u0022 on the dock ports involved, try setting them autostrut to\u00A0 \u0022off\u0022 prior to docking.\n\u003C/p\u003E\n"},{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-07T12:47:29Z","Content":"\n\u003Cp\u003E\nI had high hopes for that working.. but it didn\u0027t. Fwiw, I didn\u0027t have autostrutting enabled for the docking ports, but I did have it for the capsules themselves. I disabled all autostruts on both craft.. still crashed. \u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0Any other ideas?\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2022-04-07T13:33:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224112564\u0022 data-ipsquote-contentid=\u0022207609\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221649335649\u0022 data-ipsquote-userid=\u002264610\u0022 data-ipsquote-username=\u0022jfjohnny5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n38 minutes ago, jfjohnny5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI had high hopes for that working.. but it didn\u0027t. Fwiw, I didn\u0027t have autostrutting enabled for the docking ports, but I did have it for the capsules themselves. I disabled all autostruts on both craft.. still crashed. \u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0Any other ideas?\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis might be one of those situations where you have to remove suspect mods until things work, but given the craft likely depend on some mods this may not be a valid path.\u00A0 I see errors regarding some procedural parts.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, sometimes craft that are stable with regards to \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E will become unstable after docking, so turn off any \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on the dockee when you are within 5 seconds of docking or so, the turn it off on the docker a split second before docking (use \u0027[\u0027 \u0027]\u0027 to cycle between craft quickly).\n\u003C/p\u003E\n\u003Cp\u003E\nCan you be more specific about \u0022crash\u0022?\u00A0 Is\u00A0 the craft wiggling around and blowing up?\u00A0 Or does the game completely die?\n\u003C/p\u003E\n\u003Cp\u003E\nCould you put up your KSP.log also?\u00A0 Is will be in the same directory as where you run KSP from.\n\u003C/p\u003E\n"},{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-07T14:02:23Z","Content":"\n\u003Cp\u003E\nSo the crash plays out like this: The vessels dock and the camera shifts. Then visually the scene hangs - I can see the craft have stopped moving, all readout numbers stop updating. I can move the mouse for a couple seconds, and it\u0027s still the KSP mouse cursor (not Windows default cursor), but the mouse framerate is very low, sub 10fps I\u0027d guess. Then the whole thing drops to desktop. Monitoring Task Manager during the crash I see CPU drop to 0%. No change in RAM - I\u0027ve got 64 gigs and I\u0027m well below that while running KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the latest KSP.log:\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/ip8p1wc1rgowq3x/KSP.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/ip8p1wc1rgowq3x/KSP.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSome more info: I did some testing in a Sandbox save. First I created two identical Probes with the same Mini Docking ports I\u0027d been using. They docked together in orbit without issue. Then I created two basic manned capsules with the same docking ports. They docked without issue. Then I copied the .craft files of the vessels from my Career save that I\u0027d been trying to dock, this time flying them in my Sandbox save, and THEY docked without issue as well. I then went back to my Career save. I even went so far as to terminate the two flights in orbit, reload the craft on the pad, and launch them fresh. When I go to dock them.. the same crash. So the obvious difference here is Career vs Sandbox - which kind of has me even more stumped.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-04-07T14:04:05Z\u0022 title=\u002204/07/2022 02:04  PM\u0022 data-short=\u00222 yr\u0022\u003EApril 7, 2022\u003C/time\u003E by jfjohnny5\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2022-04-07T14:40:52Z","Content":"\n\u003Cp\u003E\nInteresting.\u00A0 KSP.log ends while \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E is creating buttons, no error.\u00A0 You might need to set the \u0022flush logs to disk\u0022 or whatever the setting is so that log writes aren\u0027t buffered.\u00A0 The career vs sandbox thing is fairly salient.\u00A0 There are a lot of \u0027[ERR\u0027 and \u0027[EXC\u0027 in KSP.log but I don\u0027t see anything that would only affect career unless it would be related to the \u0027scenario\u0027 errors.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI really don\u0027t know.\u00A0 But given the errors in KSP.log, several mods are not completely happy.\u00A0 Then again, there is so much philosophy that its \u0022ok\u0022 to have error and exceptions messages for code that \u0022works fine\u0022 among some mod devs that can be a difficult thing to parse.\u00A0 It kind of removes the value of having error messages at all.\u00A0 Boy who cried wolf kind of thing.\u00A0 Still, some of those errors do seem to indicate corrupt installs to some degree (missing resources etc)\n\u003C/p\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2022-04-07T15:01:26Z","Content":"\n\u003Cp\u003E\nAny mod that only makes sense for Career might be a suspect.\u00A0 I think Kerbal R\u0026amp;D is Career only, right?\u00A0 And I did see errors for KRnD in the logs involving \u0022scenarios\u0022.\u00A0\u00A0 This is not to say that this is causing your problem, just something to rule out.\u00A0 If the docking has implications for KRnD, like reaching a milestone unlocks some tech nodes or something (I don\u0027t know how KRnD works) then it might be related.\u00A0 I don\u0027t know.\u00A0 This advice worth exactly as much as you paid for it, lol\n\u003C/p\u003E\n"},{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-07T16:55:30Z","Content":"\n\u003Cp\u003E\nIn agreement with you on all counts really. And thank you for the back and forth - always helpful to have another brain to bounce these things off of. I do have \u0022Verbose Logging\u0022 enabled - which I think is the setting you\u0027re referring to. I don\u0027t feel like it helped much, as you can see - there\u0027s no \u0022smoking gun\u0022 error at the end of the file that would pinpoint the problem.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI removed Kerbal RnD during my testing last night (after uploading that initial Player.log that you\u0027re seeing). Actually, here\u0027s the full list of mods I\u0027ve tried removing so far:\u003Cbr\u003E\nFinal Frontier\u003Cbr\u003E\nKerbal Research and Development\u003Cbr\u003E\nConnected Living Space\u003Cbr\u003E\nHide Empty Tech Tree Nodes\u003Cbr\u003E\nAction Groups Extended\u003Cbr\u003E\nProcedural Parts\u003Cbr\u003E\nCareer Evolution\u003Cbr\u003E\nContract Configurator\u003Cbr\u003E\nContract Pack: Bases and Stations Reborn\u003Cbr\u003E\nContract Pack: Clever Sats\u003Cbr\u003E\nStrategia\n\u003C/p\u003E\n\u003Cp\u003E\nAt this point I\u0027m wondering if there\u0027s something corrupt about my save file. Something from who knows when earlier in the Career that is only now showing its ugly head. I love and hate the variety of mods that Kerbal has. It makes troubleshooting so difficult..\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve uploaded fresh versions of Player.log and KSP.log to Dropbox, if you care to take a look at them again. I think my next step is to try a fresh Career save, cheat myself enough funds and science to unlock the parts I need, and try docking in that environment.\n\u003C/p\u003E\n"},{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-07T17:20:03Z","Content":"\n\u003Cp\u003E\nAnd on a fresh Career save, cheating myself the resources needed to unlock and build the same .craft files from my main Career save, orbital docking of the two vessels.. works. I\u0027m not sure how I feel. There are still a LOT of variables that I can\u0027t account for - all of the advancement that goes on as part of developing a career. The only thing I can say is that it\u0027s probably not the mere existence of a given mod that is causing the crash. It\u0027s almost undoubtedly the result of something \u003Cem\u003Esome \u003C/em\u003Emod did at \u003Cem\u003Esome \u003C/em\u003Epoint. That\u0027s.. less than useful. Any new thoughts?\n\u003C/p\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2022-04-07T17:53:04Z","Content":"\n\u003Cp\u003E\nNot verbose logging, but that is good.\u00A0 There is another setting, I think in the pre-game settings prior to selecting a savegame to load, that is related to making all log writes to disk rather than buffering them.\u00A0 This will make it so you get the last log message prior to a crash rather than the last log message buffer that was written (unwritten log entries will be lost on a hard crash).\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou are probably right that there is something that changed during the progression of the game that is leading to this crash; something related to career progression.\u00A0 I personally got weary of investing in a game only to have it dead-end in scenarios like this.\u00A0 The bottom line is that even if a mod is perfectly coded, its only \u0022API\u0022 to KSP is limited to what KSP is willing to share and play nice with.\u00A0 Given all the ways that mods are coded out there I can\u0027t image any KSP dev team that could accommodate all the possible ways a mod dev may try to interact with KSP code.\u00A0 My mod list is much shorter than yours, but you\u0027ve tried removing the mods that I would have tried removing first also mostly.\n\u003C/p\u003E\n\u003Cp\u003E\nAre you on windows?\u00A0 You could try that save file editor that is out there, it gets rave positive reviews from ppl who it worked for, but I\u0027ve never used it\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-07T18:27:47Z","Content":"\n\u003Cp\u003E\nI think I\u0027m throwing in the towel on this one.. Honestly, I was getting a little tired of the TETRIX Tech Tree I was using. It felt overly tedious to me. Time for a new tree I guess. ((shrug))\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m right there with you on getting weary of investing in playthroughs because they often seem to end in unrecoverable states like this. Definitely hoping the \u0022more robust modding support\u0022 they\u0027re claiming with KSP2 ends up being true haha. Until then, I guess I\u0027ll just start a new Career, because apparently my enjoyment for this game outweighs the frustration - or I\u0027m just a glutton for punishment.\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2022-04-07T18:34:16Z","Content":"\n\u003Cp\u003E\nFor future reference, you should find that \u0022flush logs to disk\u0022 (\u0022sync logs to disk?\u0022; something like that) setting.\u00A0 It really comes in handy.\u00A0 Good luck in your next game!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-04-07T18:35:01Z\u0022 title=\u002204/07/2022 06:35  PM\u0022 data-short=\u00222 yr\u0022\u003EApril 7, 2022\u003C/time\u003E by darthgently\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2022-04-08T02:04:02Z","Content":"\n\u003Cp\u003E\nFound that option. It\u0027s in the debugging menu under Console \u0026gt; Debugging \u0026gt; Immediately Flush Log File to Disk. I\u0027ll definitely keep that in mind if (when) I find myself debugging crashes again. Thanks again for the help!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-04-08T02:04:20Z\u0022 title=\u002204/08/2022 02:04  AM\u0022 data-short=\u00222 yr\u0022\u003EApril 8, 2022\u003C/time\u003E by jfjohnny5\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"id_pyro","CreatedById":231857,"CreatedDateTime":"2023-12-28T14:33:47Z","Content":"\n\u003Cp\u003E\nHey I think I found the issue. I was having the same problem until I uninstalled restock and restock\u002B if you have those mods. I think maybe it has something to do with the redesigns that restock does the the base game parts.\n\u003C/p\u003E\n"}]}