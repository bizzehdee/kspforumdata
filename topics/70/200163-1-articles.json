{"TopicId":200163,"ForumId":70,"TopicTitle":"Problems with \u0026quot;attach a part\u0026quot; contracts.","CreatedByName":"BenG","CreatedById":150816,"CreatedDateTime":"2021-02-08T03:57:01Z","PageNum":1,"Articles":[{"CreatedByName":"BenG","CreatedById":150816,"CreatedDateTime":"2021-02-08T03:57:01Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u00A0\u003C/span\u003EI\u0027m not sure if this is a bug, or a mod issue, or something I\u0027ve done, but I\u0027ve had a problem on my last two \u0022attach a part\u0022 contracts. After giving up and cancelling the first contract, on the second time I decided to go digging and see what I could find.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the satellite in question, with the 1x6 panel already attached but the mission not complete, and the mission itself (note, the mission does not display the name of the target spacecraft).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 alt=\u0022Tzdv43O.png\u0022 src=\u0022https://i.imgur.com/Tzdv43O.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 alt=\u0022G7sQrbj.png\u0022 src=\u0022https://i.imgur.com/G7sQrbj.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI went digging into the persistent.sfs and found the contract:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nCONTRACT\n\t\t\t{\n\t\t\t\tguid = a55a3d20-d824-431d-8ff1-14a3f6c335cb\n\t\t\t\ttype = OrbitalConstructionContract\n\t\t\t\tprestige = 0\n\t\t\t\tseed = 1430119283\n\t\t\t\tstate = Active\n\t\t\t\tviewed = Read\n\t\t\t\tagent = Dinkelstein Kerman\u0027s Construction Emporium\n\t\t\t\tagentName = Dinkelstein Kerman\u0027s Construction Emporium\n\t\t\t\tdeadlineType = Floating\n\t\t\t\texpiryType = Floating\n\t\t\t\tvalues = 129600,18403200,32959.9990844727,108149.992084503,34607.9974670411,0,1.804179,0.9756098,18490730.4161536,18405943.3255453,36809143.3255453,0\n\t\t\t\tbodyName = Kerbin\n\t\t\t\tconstructionCraftDef = E:/Kerbal Space Program/KSP_x64_Data/../GameData/Squad/Contracts/PreBuiltCraft/OrbitalConstructionContract/Unfinished Contract Sat 8.craft\n\t\t\t\tconstructionVslId = 2055096434\n\t\t\t\tconstructionPartName = solarPanels4\n\t\t\t\torbitEccentricity = 0.05000000074505806\n\t\t\t\torbitAltitudeFactor = 0.33000001311302185\n\t\t\t\torbitInclinationFactor = 0.25\n\t\t\t\tvesselName = Aging Kerbin CMM Satellite 3-L5\n\t\t\t\tPARAM\n\t\t\t\t{\n\t\t\t\t\tname = CrewTraitParameter\n\t\t\t\t\tstate = Complete\n\t\t\t\t\tdisableOnStateChange = False\n\t\t\t\t\tvalues = 0,0,0,0,0\n\t\t\t\t\ttargetTrait = Engineer\n\t\t\t\t\ttargetCount = 1\n\t\t\t\t\tvesselDescription = Active Vessel\n\t\t\t\t}\n\t\t\t\tPARAM\n\t\t\t\t{\n\t\t\t\t\tname = ConstructionParameter\n\t\t\t\t\tstate = Incomplete\n\t\t\t\t\tvalues = 0,0,0,0,0\n\t\t\t\t\tbodyName = Kerbin\n\t\t\t\t\tpartName = solarPanels4\n\t\t\t\t\tvesselPersistentId = 2055096434\n\t\t\t\t}\n\t\t\t}\u003C/pre\u003E\n\u003Cp\u003E\nNote the vessel name,\u00A0\u0022Aging Kerbin CMM Satellite 3-L5\u0022,\u00A0 which matches the satellite I have attached the panel to, and also the second contract parameter, which gives a vessel persistent ID of 2055096434.\n\u003C/p\u003E\n\u003Cp\u003E\nThis persistent ID does not exist for any vessel within my save file.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI also found the vessel \u0022Aging Kerbin CMM Satellite 3-L5\u0022 within the save file (only the first 3 lines are relevent):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nVESSEL\n\t\t{\n\t\t\tpid = b224b097693c4903a4ed22dc5f95e4a7\n\t\t\tpersistentId = 197701767\n\t\t\tname = Aging Kerbin CMM Satellite 3-L5\u003C/pre\u003E\n\u003Cp\u003E\nNote the persistent ID is different to the contract.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI decided to have a play with the file and changed the persistent ID in the contract to match the actual vessel ID. Following this, the mission now shows the vessel name in the contract parameters, and the mission can now be completed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 alt=\u0022BoiyZxq.png\u0022 src=\u0022https://i.imgur.com/BoiyZxq.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 alt=\u0022uiF63E6.png\u0022 src=\u0022https://i.imgur.com/uiF63E6.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere is my list of mods (Version 1.11.1 with Making History 1.11.1 and Breaking Ground 1.6.1):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 alt=\u0022ntLlTsb.png\u0022 src=\u0022https://i.imgur.com/ntLlTsb.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"416365416c","CreatedById":210150,"CreatedDateTime":"2021-02-17T23:13:57Z","Content":"\n\u003Cp\u003E\nI just ran into the same thing, and the only mod I have installed is Kerbal Engineer Redux. That makes me think it\u0027s a bug, but I had a successful \u0022attach parts\u0022 contract before this one so it might not reproduce consistently.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for sharing how you fixed it, same approach worked for me to complete my contract\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"flyfire2002","CreatedById":50236,"CreatedDateTime":"2021-02-24T23:42:26Z","Content":"\n\u003Cp\u003E\nNotice that the bugged persistentID matches the constructionVslId. I suspect that the contract failed to rewrite the target vessel pid in its param upon target vessel spawn.\n\u003C/p\u003E\n"},{"CreatedByName":"Bel Slavin","CreatedById":197234,"CreatedDateTime":"2021-02-26T22:51:21Z","Content":"\n\u003Cp\u003E\nHey @BenG, did you manage to complete the contract after you made this change?\n\u003C/p\u003E\n\u003Cp\u003E\nI ran into the same issue just yesterday / today and changed the corresponding persistentID, per your excellent sleuthing, and while the name of the target satellite did indeed show up in the contract, I was not awarded a completion when I put the part on it.\n\u003C/p\u003E\n\u003Cp\u003E\nI then tried changing both referenced IDs in this thread and that still did not fix it.\n\u003C/p\u003E\n\u003Cp\u003E\nHow odd!\n\u003C/p\u003E\n"},{"CreatedByName":"BenG","CreatedById":150816,"CreatedDateTime":"2021-02-28T02:15:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223932845\u0022 data-ipsquote-contentid=\u0022200163\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221614379881\u0022 data-ipsquote-userid=\u0022197234\u0022 data-ipsquote-username=\u0022Bel Slavin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/27/2021 at 6:51 AM, Bel Slavin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey @BenG, did you manage to complete the contract after you made this change?\n\u003C/p\u003E\n\u003Cp\u003E\nI ran into the same issue just yesterday / today and changed the corresponding persistentID, per your excellent sleuthing, and while the name of the target satellite did indeed show up in the contract, I was not awarded a completion when I put the part on it.\n\u003C/p\u003E\n\u003Cp\u003E\nI then tried changing both referenced IDs in this thread and that still did not fix it.\n\u003C/p\u003E\n\u003Cp\u003E\nHow odd!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, after I changed the contract persistentID to match the vessel, then I was able to complete the contract.\n\u003C/p\u003E\n"}]}