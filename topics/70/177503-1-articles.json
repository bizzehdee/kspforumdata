{"TopicId":177503,"ForumId":70,"TopicTitle":"MechJeb Misbehaving During Launch","CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2018-08-11T18:38:45Z","PageNum":1,"Articles":[{"CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2018-08-11T18:38:45Z","Content":"\n\u003Cp\u003E\nI\u0027m running 1.3.1 \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E(\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/RP-1/Principia).\u00A0 I\u0027ve launched to orbit several times in previous careers with manual or partially manual control.\u00A0 My current vessel is this one:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022wMzqGyy.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/wMzqGyy.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis is a single LR-79 with dual LR-105 verniers, and (currently, upgraded since the photo) six Tiny Tim boosters to give a thrust aid while clearing the launch clamps.\u00A0 Upper stages don\u0027t matter for this, I don\u0027t think, but second stage is two AJ10-37 with nitrous oxide \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E, and inside the fairing is a single AJ10-37, also with nitrous oxide \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E, pushing a Sputnik PS-1 with four Sputnik antennae plus Geiger-Mueller counter and four tiny solar panels.\u00A0 Even with the low SLT, there ought to be (and according to MechJeb on the pad, \u003Cem\u003Eis\u003C/em\u003E) plenty of \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E to make LEO -- but that\u0027s not the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I launch, MechJeb correctly auto-stages the launch clamps (once I figured out that the Clamp Autostage field isn\u0027t percent, it\u0027s a fraction, so .95 means 95% thrust, not just under 1%), ignites the boosters, and then stages them away after they burn out -- but \u003Cem\u003Edoesn\u0027t start its own timer\u003C/em\u003E that should initiate the pitch program to start the gravity turn after (zero, ten, or fifteen) seconds from clamp release.\u00A0 Instead of counting down, the status displays \u0022Vertical Ascent 10.0 s\u0022 (or whatever value I\u0027ve input) for a minute or more as the rocket ascends vertically, until I revert the launch (I\u0027m testing this in sandbox, after noticing the problem in my career at the cost of a launch vehicle and several simulations -- no reverts there).\u00A0 Reinitializing stage analysis changes nothing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022VNbXv7m.png\u0022 class=\u0022ipsImage\u0022 height=\u0022561\u0022 src=\u0022https://i.imgur.com/VNbXv7m.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere, I had selected a 15 second delay on the pitch program, and as you can see, the MET shows 1:08 and MechJeb is still waiting to start the pitch program\n\u003C/p\u003E\n\u003Cp\u003E\nThe last time MechJeb actually did initiate the pitch program, pitch failed to follow the velocity vector closely enough after transition to PEG and the vessel broke up due to aero forces when it reached ~12 degrees \u003Cabbr title=\u0022Angle of Attack\u0022\u003EAOA\u003C/abbr\u003E at around Mach 1.5 at around 14 km.\u00A0 Since that launch, after reducing the amount of permitted \u003Cabbr title=\u0022Angle of Attack\u0022\u003EAOA\u003C/abbr\u003E to 7 degrees, MechJeb hasn\u0027t even started the pitch program.\u00A0 Restoring the default 10 degree value changes nothing.\n\u003C/p\u003E\n\u003Cp\u003E\nMy install was done based on \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/173101-bornholio/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022173101\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/173101-bornholio/\u0022 rel=\u0022\u0022\u003E@Bornholio\u003C/a\u003E\u0027s \u003Ca href=\u0022https://docs.google.com/spreadsheets/d/1A7gQkIiQKi0VtRecE6p86KCKuoawZPdzk7NlaxssRJ4/edit#gid=417044107\u0022 rel=\u0022external nofollow\u0022\u003EGolden Spreadsheet\u003C/a\u003E, so far as \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E would let me follow it (at one point, \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E installed a bunch of dependencies much earlier than they appear on the sheet)and everything else seems fine within the limits of performance of my computer (4 GHz isn\u0027t as fast as it seemed it was going to be, by the time you add \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E, E.V.E., and so forth), though I\u0027ll note that I haven\u0027t been happy with MechJeb operation at any time since installing, and had previously chalked it up to my own inexperience (until installing this \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/RP-1/Principia game, I\u0027d run stock with only Better Burn Time).\u00A0 Even now, given I haven\u0027t done anything beyond LEO and then with satellites that had little or no ability to maneuver and/or ran out of battery in a few orbits, I haven\u0027t had any need for MechJeb other than to try to launch into a specific inclination or altitude -- I can manually pilot into orbit about three times in four with as little as 9500 m/s on the pad, so when MechJeb misbehaved, I assumed I\u0027d set something wrong, reverted, and relaunched on manual.\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2018-08-12T01:30:59Z","Content":"\n\u003Cp\u003E\nI\u0027m not familiar with the mod package you have lined up, so I\u0027ll stay away from most of this.\u00A0\u00A0 But the one thing that did pique my curiousity, is you never mentioned anything about your ascent profile.\u00A0 What are it\u0027s settings.\u00A0\u00A0 If \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E is doing a countdown with vertical ascent, you might have some setting really wonky in your ascent profile, forcing \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E to fly a very weird but technically correct profile.\u00A0\u00A0\u00A0 If that\u0027s not the issue, I really got noting else for ya.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Xd the great","CreatedById":188222,"CreatedDateTime":"2018-08-12T01:43:37Z","Content":"\n\u003Cp\u003E\nYeah, try not to use the \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003Erss\u003C/abbr\u003E/ro style gravity turn. Use the default option. That works wierd.\n\u003C/p\u003E\n"},{"CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2018-08-12T13:42:42Z","Content":"\n\u003Cp\u003E\nI\u0027m playing in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/RP-1/Principia (and a bunch of other mods pulled in by those or recommended in the Golden Spreadsheet).\u00A0 In \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, you need a hybrid of the old-KSP \u0022burn vertically to some altitude, then start tipping\u0022 and the current gravity turn, along with some specific guidance late on the way -- because most craft flying to LEO burn continuously to apogee (which becomes perigee after burning some more to raise the perigee above the atmosphere).\u00A0 The manual pitch program in MechJeb\u0027s PEG ascent guidance does that -- burns straight up for a while (recommended, to around 100 m/s), then does a \u0022by the clock\u0022 tip-over, which, if set up correctly, will segue into an \u0022unguided gravity turn\u0022 if launching to \u0022current inclination\u0022 -- that is, launching due east and letting gravity turn your path southward (or northward, if you\u0027re at Woomera or other southern hemisphere site).\n\u003C/p\u003E\n\u003Cp\u003E\nRegardless, I found the cause and solution of the problem (though I still consider it a bug, in that MechJeb\u0027s PEG module doesn\u0027t warn for an invalid entry).\u00A0 With my four stage rocket, I\u0027m not allowed to enter a stage count of \u00224\u0022 in the \u0022Num Stages\u0022 field (just above the button to \u0022Reinitialize Stage Analysis\u0022) -- apparently, I have to enter \u00222\u0022 there (despite the fact that Orbiter One needs all four stages -- Tiny Tim boosters, LR-79 booster core, 2xAJ10-37 stage, and final 1xAJ10-37, which apparently will have a few tens of m/s to spare at a 230x230 km orbit).\u00A0 Do that, even after launch, and the vertical ascent countdown picks up counting down from clamp release, manual pitch program engages, and when its countdown elapses, MechJeb transitions to \u0022unguided gravity turn\u0022 as it should.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the process, I also found a setting that lets me shrink MechJeb\u0027s UI, so it doesn\u0027t cover 60% of my KSP window when I\u0027m flying an orbital ascent...\n\u003C/p\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2018-08-12T18:33:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223432501\u0022 data-ipsquote-contentid=\u0022177503\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221534081362\u0022 data-ipsquote-userid=\u0022174016\u0022 data-ipsquote-username=\u0022Zeiss Ikon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Zeiss Ikon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn the process, I also found a setting that lets me shrink MechJeb\u0027s UI, so it doesn\u0027t cover 60% of my KSP window when I\u0027m flying an orbital ascent...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo tell.....\n\u003C/p\u003E\n"},{"CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2018-08-12T21:20:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223432693\u0022 data-ipsquote-contentid=\u0022177503\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221534098805\u0022 data-ipsquote-userid=\u002264714\u0022 data-ipsquote-username=\u0022Gargamel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gargamel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo tell.....\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn the MechJeb \u0022settings\u0022 box, there\u0027s a \u0022UI Scaling Factor\u0022 (IIRC -- I don\u0027t have the game open at the moment).\u00A0 Just enter a factor to multiply the UI scale -- for instance, 0.8 will give an 80% size UI (which is as small as I\u0027d go unless you have a \u003Cem\u003Ehuge\u003C/em\u003E monitor and pixel count on tap).\u00A0 I\u0027ve got mine at 0.9 at present, and it leaves a lot more screen real estate -- I can keep the \u0022ascent guidance\u0022 and \u0022edit ascent path\u0022 and still see the \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E, Orbit Info, [X} Science Here and Now, and more or less make out the stock resource display (it goes under the main MechJeb window, which I haven\u0027t yet found a reliable way to relocate).\n\u003C/p\u003E\n"}]}