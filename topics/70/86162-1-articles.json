{"TopicId":86162,"ForumId":70,"TopicTitle":"Finding mod memory utilization?","CreatedByName":"Thrombo","CreatedById":63034,"CreatedDateTime":"2014-10-05T21:41:14Z","PageNum":1,"Articles":[{"CreatedByName":"Thrombo","CreatedById":63034,"CreatedDateTime":"2014-10-05T21:41:14Z","Content":"\n\u003Cp\u003EHi all, curious if anybody has a good solution for this problem.\u003C/p\u003E\u003Cp\u003EI like to play with a lot of mods. Some of them I imagine to be very low memory usage (mostly computational) and some are higher (textures, textures, textures). Nothing irks me more than going on my merry way on a long mission, reaching the destination, and then loading the terrain, leading to a game crash. I am regularly around 3.3 GB memory util. after removing B9.\u003C/p\u003E\u003Cp\u003EI\u0027d like to find which mods are the top culprits so I can decide what I really must have in the install. I do not want to go through the onerous process of loading one mod at a time. Any thoughts?\u003C/p\u003E\u003Cp\u003ECheers!\u003C/p\u003E\n"},{"CreatedByName":"Xaiier","CreatedById":22833,"CreatedDateTime":"2014-10-05T21:59:44Z","Content":"\n\u003Cp\u003EAs far as I know, there\u0027s no way (at least that we have access to) to look at the memory usage of mods on a mod by mod basis. Loading them one by one is the obvious way, though it is pretty easy to estimate usage based on how big the mod is and how many part it has.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-05T22:22:46Z","Content":"\n\u003Cp\u003EThe vast majority of memory usage comes from textures. Even an array of a thousand floats is only 4 kilobytes, whereas a 1024x1024 texture is 512 kilobytes (or 1 megabyte if it has an alpha channel...or 3 (!) if it\u0027s a normal map and uncompressed ingame).\u003C/p\u003E\n"},{"CreatedByName":"Daishi","CreatedById":85055,"CreatedDateTime":"2014-10-05T23:03:16Z","Content":"\n\u003Cp\u003EAlso because of some memory or loading bug (or something i\u0027m ignorant about), textures bloat in size four times over once referenced into the game. So you can make a reasonable guess of a mods final memory footprint if you have a look at the folder sizes and scale it up from there. Squads asset folder is only 700 megs, but the base game lies close to 2gb of memory usage because of it.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-05T23:13:34Z","Content":"\n\u003Cp\u003EUh....no. The ingame memory textures in the Squad folder take up is *less* than the disk space they use, since on disk they are uncompressed MBMs and ingame they are compressed to DXT1 or DXT5. The reason the game takes up 2GB of memory is because of all the *non* part related textures the game has, which are stored in KSP_Data not GameData--try finding planet textures in the Squad folder, for example. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESee \u003Ca href=\u0022https://github.com/NathanKell/RealSolarSystem/wiki/On-MBMs-and-Other-Image-Formats\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ethis\u003C/strong\u003E\u003C/a\u003E page for information on how KSP handles textures. There may be leaks such that textures take up more memory than their DXT-compressed selves, but certainly not 4x as far as I know, and *certainly* not directly related to disk usage.\u003C/p\u003E\n"},{"CreatedByName":"Daishi","CreatedById":85055,"CreatedDateTime":"2014-10-06T00:18:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EUh....no. The ingame memory textures in the Squad folder take up is *less* than the disk space they use, since on disk they are uncompressed MBMs and ingame they are compressed to DXT1 or DXT5. The reason the game takes up 2GB of memory is because of all the *non* part related textures the game has, which are stored in KSP_Data not GameData--try finding planet textures in the Squad folder, for example. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003ESee \u003Ca href=\u0022https://github.com/NathanKell/RealSolarSystem/wiki/On-MBMs-and-Other-Image-Formats\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ethis\u003C/strong\u003E\u003C/a\u003E page for information on how KSP handles textures. There may be leaks such that textures take up more memory than their DXT-compressed selves, but certainly not 4x as far as I know, and *certainly* not directly related to disk usage.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDuh of course, planets slipped my mind. Ignorance strikes again! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I did some testing on my end with my own mod, and things did bloat quite substantially, so figured it was the case for everything else. \u003C/p\u003E\u003Cp\u003ENice writeup, very useful. Always thought .tga\u0027s were the better choice for textures (already compressed as DXT1 and DXT5 straight from photoshop, looks far nicer than what Unity chucks out, reasonable size on disk, multiple alphas, easy to edit by the end user, smaller on disk and nicer for hosting etc), rather than .mbms. \u003C/p\u003E\u003Cp\u003ESo... everything is loaded in as raw data, then compressed again (even if it already exists as DXT1\\5)? I don\u0027t see any recompression artifacts with the stuff i\u0027ve already compressed in PS, it looks like its going into the game untouched from the original export.\u003C/p\u003E\u003Cp\u003EEdit: Congrats on post 6666!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-06T00:28:07Z\u0022 title=\u002210/06/2014 12:28  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 6, 2014\u003C/time\u003E by Daishi\u003C/strong\u003E\n\u003C/span\u003E\n"}]}