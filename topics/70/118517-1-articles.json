{"TopicId":118517,"ForumId":70,"TopicTitle":"Can\u0026#039;t figure out how a part can be scaled down when it is a root 0_o","CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-08-15T11:09:01Z","PageNum":1,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-08-15T11:09:01Z","Content":"\n\u003Cp\u003EI\u0027ve had this issue since 0.90 and finally decided to try and track it down while setting up my 1.0.4 install. I couldn\u0027t. This is what is happening:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/YEZzp9R.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/YEZzp9Rm.png\u0022 alt=\u0022YEZzp9Rm.png\u0022\u003E\u003C/a\u003E \u003Ca href=\u0022http://i.imgur.com/5X2ju1U.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/5X2ju1Um.png\u0022 alt=\u00225X2ju1Um.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eleft image is a simple craft I launched from the VAB to the pad. Right image is what happens after I return to the Space Center and jump back out to the pad. It seems that whenever I set this RCS tank as the root part, whether at the start of construction or through the root tool, once it\u0027s launched and then reloaded the RCS tank shrinks. I\u0027ve stripped down to Stock \u002B KWR and it still happens. I can\u0027t for the life of me figure out what\u0027s causing the game to want to shrink that RCS tank. In the more recent versions of KW Rocketry this tank was replaced by a universal tank design, but I have kept the part for compatibility with most of my existing vessels. Here is the part.cfg:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E// Kerbal Space Program - Part Config\u003Cbr\u003E\u003Cbr\u003E// --- general parameters ---\u003Cbr\u003Ename = KW1mRCSfuel\u003Cbr\u003Emodule = Part\u003Cbr\u003Eauthor = KW Rocketry\u003Cbr\u003E\u003Cbr\u003E// --- asset parameters ---\u003Cbr\u003EMODEL\u003Cbr\u003E{\u003Cbr\u003Emodel = KWRocketry/Parts/Fuel/KWRCSfuel/KW_Fuel_RCS\u003Cbr\u003Escale = 0.335, 0.335, 0.335\u003Cbr\u003E}\u003Cbr\u003Escale = 1\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// --- node definitions ---\u003Cbr\u003Enode_stack_top = 0.0, 0.2, 0.0, 0.0, 1.0, 0.0, 1\u003Cbr\u003Enode_stack_bottom = 0.0, -0.2, 0.0, 0.0, 1.0, 0.0, 1\u003Cbr\u003Enode_attach = 0.0, 0.0, -0.505, 0.0, 0.0, 0.0\u003Cbr\u003E\u003Cbr\u003E// --- editor parameters ---\u003Cbr\u003ETechRequired = fuelSystems\u003Cbr\u003Ecost = 800\u003Cbr\u003Ecategory = 0\u003Cbr\u003Esubcategory = 0\u003Cbr\u003Etitle = SA-1 RCS Fuel\u003Cbr\u003Emanufacturer = KW Rocketry\u003Cbr\u003Edescription = A 1.25m container of hypergolic fuels for RCS thrusters.\u003Cbr\u003E\u003Cbr\u003E// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision\u003Cbr\u003EattachRules = 1,1,1,1,0\u003Cbr\u003E\u003Cbr\u003E// --- standard part parameters ---\u003Cbr\u003Emass = 0.15\u003Cbr\u003EdragModelType = default\u003Cbr\u003Emaximum_drag = 0.2\u003Cbr\u003Eminimum_drag = 0.2\u003Cbr\u003EangularDrag = 2\u003Cbr\u003EcrashTolerance = 12\u003Cbr\u003EmaxTemp = 2900\u003Cbr\u003EfuelCrossFeed = True\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// --- rcs fuel tank parameters ---\u003Cbr\u003E\u003Cbr\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = MonoPropellant\u003Cbr\u003E amount = 100\u003Cbr\u003E maxAmount = 100\u003Cbr\u003E}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI have not seen this behavior with any other root part in the game. I noticed that the part was named exactly the same as the new part, but that shouldn\u0027t make a difference because I never had the newer part included in GameData while all this was going on (and placing it in there didn\u0027t change anything). I tried changing the old part name in its .cfg file and in my .sfs file and although that loaded okay the behavior remained.\u003C/p\u003E\u003Cp\u003EI\u0027m stumped. I really can\u0027t make a connection to anything with this behavior.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-17T04:41:47Z\u0022 title=\u002208/17/2015 04:41  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 17, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-08-15T11:44:54Z","Content":"\n\u003Cp\u003EIt\u0027s a known bug in the game. I believe it relates to the way certain parts are scaled, though I\u0027m not sure of the details. There have been stock parts that suffer the same issue.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-08-15T23:29:43Z","Content":"\n\u003Cp\u003Ethe default scale of this part model is 3.75m so it\u0027s still weird that it ends up smaller. I tried using a RescaleFactor of 1, even though I don\u0027t really understand that property, but it had no effect.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-17T01:03:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Ethe default scale of this part model is 3.75m so it\u0027s still weird that it ends up smaller. I tried using a RescaleFactor of 1, even though I don\u0027t really understand that property, but it had no effect.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EValues of rescaleFactor other than 1 are at the heart of the problem, but only when a MODEL node is defined (which has its own set of scale values). The problem is that rescaleFactor is applied twice to parts that have MODEL defined unless the part is root or you\u0027ve reverted or switched vessels in flight.\u003C/p\u003E\u003Cp\u003ESo if you\u0027re changing rescaleFactor then you also have to rescale the MODEL scales as well AND rescale the attach nodes as well. (the default value for rescaleFactor is 1.25, so if you don\u0027t see it in a config then it\u0027s using the default)\u003C/p\u003E\u003Cp\u003EThis is what I used to use to automatically rescale all KWR parts before they fixed scaling. It tries to fix any KWR part lacking an explicit rescaleFactor line. (there\u0027s a second part that deals with KWR parts which DO have it but the part you listed doesn\u0027t need that)\u003C/p\u003E\u003Cp\u003EI provide it as-is. Please note that I do not currently use this myself anymore and it\u0027s probably better for you to adapt it to your specific needs by replacing the bit that says \u0027KWR*\u0027\u003C/p\u003E\u003Cp\u003EIf you try to use it in the form that I presented it, I am not sure what will happen with current, up to date KWR parts. In theory it shouldn\u0027t cause a problem but I wasn\u0027t even willing to take that chance myself.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[KW*]:HAS[~rescaleFactor[]]:FIRST\u003Cbr\u003E{\u003Cbr\u003E @MODEL,*\u003Cbr\u003E {\u003Cbr\u003E scale_x = #$scale[0]$\u003Cbr\u003E scale_y = #$scale[1]$\u003Cbr\u003E scale_z = #$scale[2]$\u003Cbr\u003E\u003Cbr\u003E @scale_x *= 1.25\u003Cbr\u003E @scale_y *= 1.25\u003Cbr\u003E @scale_z *= 1.25\u003Cbr\u003E\u003Cbr\u003E @scale = #$scale_x$, $scale_y$, $scale_z$\u003Cbr\u003E !scale_x = DELETE\u003Cbr\u003E !scale_y = DELETE\u003Cbr\u003E !scale_z = DELETE\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E rescaleFactor = 1.0\u003Cbr\u003E\u003Cbr\u003E topX = #$node_stack_top[0]$\u003Cbr\u003E topY = #$node_stack_top[1]$\u003Cbr\u003E topZ = #$node_stack_top[2]$\u003Cbr\u003E\u003Cbr\u003E @topX *= 1.25\u003Cbr\u003E @topY *= 1.25\u003Cbr\u003E @topZ *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack_top = #$topX$, $topY$, $topZ$, $node_stack_top[3]$, $node_stack_top[4]$, $node_stack_top[5]$, $node_stack_top[6]$\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E !topX = DELETE\u003Cbr\u003E !topY = DELETE\u003Cbr\u003E !topZ = DELETE\u003Cbr\u003E\u003Cbr\u003E top1X = #$node_stack_top1[0]$\u003Cbr\u003E top1Y = #$node_stack_top1[1]$\u003Cbr\u003E top1Z = #$node_stack_top1[2]$\u003Cbr\u003E\u003Cbr\u003E @top1X *= 1.25\u003Cbr\u003E @top1Y *= 1.25\u003Cbr\u003E @top1Z *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack_top1 = #$top1X$, $top1Y$, $top1Z$, $node_stack_top1[3]$, $node_stack_top1[4]$, $node_stack_top1[5]$, $node_stack_top1[6]$\u003Cbr\u003E\u003Cbr\u003E !top1X = DELETE\u003Cbr\u003E !top1Y = DELETE\u003Cbr\u003E !top1Z = DELETE\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E bottomX = #$node_stack_bottom[0]$\u003Cbr\u003E bottomY = #$node_stack_bottom[1]$\u003Cbr\u003E bottomZ = #$node_stack_bottom[2]$\u003Cbr\u003E\u003Cbr\u003E @bottomX *= 1.25\u003Cbr\u003E @bottomY *= 1.25\u003Cbr\u003E @bottomZ *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack_bottom = #$bottomX$, $bottomY$, $bottomZ$, $node_stack_bottom[3]$, $node_stack_bottom[4]$, $node_stack_bottom[5]$, $node_stack_bottom[6]$\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E !bottomX = DELETE\u003Cbr\u003E !bottomY = DELETE\u003Cbr\u003E !bottomZ = DELETE\u003Cbr\u003E\u003Cbr\u003E bottom1X = #$node_stack_bottom1[0]$\u003Cbr\u003E bottom1Y = #$node_stack_bottom1[1]$\u003Cbr\u003E bottom1Z = #$node_stack_bottom1[2]$\u003Cbr\u003E\u003Cbr\u003E @bottom1X *= 1.25\u003Cbr\u003E @bottom1Y *= 1.25\u003Cbr\u003E @bottom1Z *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack_bottom1 = #$bottom1X$, $bottom1Y$, $bottom1Z$, $node_stack_bottom1[3]$, $node_stack_bottom1[4]$, $node_stack_bottom1[5]$, $node_stack_bottom1[6]$\u003Cbr\u003E\u003Cbr\u003E !bottom1X = DELETE\u003Cbr\u003E !bottom1Y = DELETE\u003Cbr\u003E !bottom1Z = DELETE\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// 2 \u003Cbr\u003E bottom2X = #$node_stack_bottom2[0]$\u003Cbr\u003E bottom2Y = #$node_stack_bottom2[1]$\u003Cbr\u003E bottom2Z = #$node_stack_bottom2[2]$\u003Cbr\u003E\u003Cbr\u003E @bottom2X *= 1.25\u003Cbr\u003E @bottom2Y *= 1.25\u003Cbr\u003E @bottom2Z *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack_bottom2 = #$bottom2X$, $bottom2Y$, $bottom2Z$, $node_stack_bottom2[3]$, $node_stack_bottom2[4]$, $node_stack_bottom2[5]$, $node_stack_bottom2[6]$\u003Cbr\u003E\u003Cbr\u003E !bottom2X = DELETE\u003Cbr\u003E !bottom2Y = DELETE\u003Cbr\u003E !bottom2Z = DELETE\u003Cbr\u003E// 3\u003Cbr\u003E bottom3X = #$node_stack_bottom3[0]$\u003Cbr\u003E bottom3Y = #$node_stack_bottom3[1]$\u003Cbr\u003E bottom3Z = #$node_stack_bottom3[2]$\u003Cbr\u003E\u003Cbr\u003E @bottom3X *= 1.25\u003Cbr\u003E @bottom3Y *= 1.25\u003Cbr\u003E @bottom3Z *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack_bottom3 = #$bottom3X$, $bottom3Y$, $bottom3Z$, $node_stack_bottom3[3]$, $node_stack_bottom3[4]$, $node_stack_bottom3[5]$, $node_stack_bottom3[6]$\u003Cbr\u003E\u003Cbr\u003E !bottom3X = DELETE\u003Cbr\u003E !bottom3Y = DELETE\u003Cbr\u003E !bottom3Z = DELETE\u003Cbr\u003E// 4 \u003Cbr\u003E bottom4X = #$node_stack_bottom4[0]$\u003Cbr\u003E bottom4Y = #$node_stack_bottom4[1]$\u003Cbr\u003E bottom4Z = #$node_stack_bottom4[2]$\u003Cbr\u003E\u003Cbr\u003E @bottom4X *= 1.25\u003Cbr\u003E @bottom4Y *= 1.25\u003Cbr\u003E @bottom4Z *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack_bottom4 = #$bottom4X$, $bottom4Y$, $bottom4Z$, $node_stack_bottom4[3]$, $node_stack_bottom4[4]$, $node_stack_bottom4[5]$, $node_stack_bottom4[6]$\u003Cbr\u003E\u003Cbr\u003E !bottom4X = DELETE\u003Cbr\u003E !bottom4Y = DELETE\u003Cbr\u003E !bottom4Z = DELETE\u003Cbr\u003E\u003Cbr\u003E stackX = #$node_stack[0]$\u003Cbr\u003E stackY = #$node_stack[1]$\u003Cbr\u003E stackZ = #$node_stack[2]$\u003Cbr\u003E\u003Cbr\u003E @stackX *= 1.25\u003Cbr\u003E @stackY *= 1.25\u003Cbr\u003E @stackZ *= 1.25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E @node_stack = #$stackX$, $stackY$, $stackZ$, $node_stack[3]$, $node_stack[4]$, $node_stack[5]$, $node_stack[6]$\u003Cbr\u003E\u003Cbr\u003E !stackX = DELETE\u003Cbr\u003E !stackY = DELETE\u003Cbr\u003E !stackZ = DELETE\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"}]}