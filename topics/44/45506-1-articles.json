{"TopicId":45506,"ForumId":44,"TopicTitle":"n-body gravity motion problem was solved a while ago apparently","CreatedByName":"Cheaterman","CreatedById":32757,"CreatedDateTime":"2013-09-10T04:04:25Z","PageNum":1,"Articles":[{"CreatedByName":"Cheaterman","CreatedById":32757,"CreatedDateTime":"2013-09-10T04:04:25Z","Content":"\n\u003Cp\u003EHello dear KSP community,\u003C/p\u003E\u003Cp\u003EThe following paper (apparently from the Harvard NASA lab) describes a solution to the n-body gravity problem:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://articles.adsabs.harvard.edu/cgi-bin/nph-iarticle_query?bibcode=1991CeMDA..50...73W\u0026amp;db_key=AST\u0026amp;page_ind=0\u0026amp;data_type=GIF\u0026amp;type=SCREEN_VIEW\u0026amp;classic=YES\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://articles.adsabs.harvard.edu/cgi-bin/nph-iarticle_query?bibcode=1991CeMDA..50...73W\u0026amp;db_key=AST\u0026amp;page_ind=0\u0026amp;data_type=GIF\u0026amp;type=SCREEN_VIEW\u0026amp;classic=YES\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESo why wouldn\u0027t we apply this to the rails, in order to make interesting realistic slingshots possible? Like Mariner 10 or Voyager... Not like these aren\u0027t possible yet, but dynamic rails would be cool \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EDisclaimer: I didn\u0027t understand much about the paper, but from a purely computer-oriented perspective doing sums of sums in a linked list of gravitational bodies seems piece of cake compared to all HarvesteR\u0026amp;Co have already done, this is why I proposed it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-09-10T04:41:47Z","Content":"\n\u003Cp\u003EBecause it\u0027s a series expansion, meaning you have to sum up an infinite number of terms to get a precise solution. By summing a finite number of terms you introduce an error, and you have to have some convergence criteria to control the error. Essentially, it becomes a numerical approach same as explicit integration of the problem numerically. This is very different from the rails approach of KSP which uses a closed form analytic expression and therefore always works within machine error.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-09-10T06:56:10Z","Content":"\n\u003Cp\u003EI\u0027m not that great at mathematics. Can someone explain whether or not calculus allows you to accurately calculate infinite series? If so, aren\u0027t there integration and differentiation functions in programming languages?\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-09-10T07:00:12Z","Content":"\n\u003Cp\u003ESome series you can calculate exactly, but there is no method for an arbitrary series. Only for approximations. And no, most programming languages do not have integration or differentiation routines. Only some specialized mathematical languages do, and even then there are some significant limitations. Numerical integration is actually a broad topic with many nuances.\u003C/p\u003E\n"},{"CreatedByName":"legoheli","CreatedById":47640,"CreatedDateTime":"2013-09-10T07:19:51Z","Content":"\n\u003Cp\u003EA real problem in KSP is that using N-body mathematics on the planets and bodies as they are now means that the entire Kerbol system is very unstable.\u003C/p\u003E\u003Cp\u003EI recall a lot of guys making the system in Universe Sandbox, which does have accurate physics, and watching it all fall apart. Especially the Joolian system is impossible.\u003C/p\u003E\u003Cp\u003EIn other words, it takes a lot more than a rewrite of the physics engine to allow KSP to be similar to how KSP is now, while gaining the ability to have lagrane points and do gravity captures and so forth.\u003C/p\u003E\n"},{"CreatedByName":"Jackissimus","CreatedById":73641,"CreatedDateTime":"2013-09-10T07:53:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022legoheli\u0022 data-cite=\u0022legoheli\u0022\u003E\u003Cdiv\u003EI recall a lot of guys making the system in Universe Sandbox, which does have accurate physics, and watching it all fall apart. Especially the Joolian system is impossible.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s fascinating! Can you share more details about this? Why is the Joolian system impossible?\u003C/p\u003E\n"},{"CreatedByName":"magnemoe","CreatedById":57801,"CreatedDateTime":"2013-09-10T08:12:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Jackissimus\u0022 data-cite=\u0022Jackissimus\u0022\u003E\u003Cdiv\u003EThat\u0027s fascinating! Can you share more details about this? Why is the Joolian system impossible?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI guess the moons are to close together regarding their gravity. With n-body physic the moons would start interacting with each other, distorting orbits who would cause more close encounters resulting throwing things out. \u003C/p\u003E\u003Cp\u003EVal is an obious target not sure how Laythe and Tylo would interact.\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-09-10T09:33:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022legoheli\u0022 data-cite=\u0022legoheli\u0022\u003E\u003Cdiv\u003EI recall a lot of guys making the system in Universe Sandbox, which does have accurate physics, and watching it all fall apart.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUniverse Sandbox is sloppy with its integration. I wouldn\u0027t trust it as a test of system\u0027s stability.\u003C/p\u003E\n"},{"CreatedByName":"Cheaterman","CreatedById":32757,"CreatedDateTime":"2013-09-10T17:11:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022legoheli\u0022 data-cite=\u0022legoheli\u0022\u003E\u003Cdiv\u003EA real problem in KSP is that using N-body mathematics on the planets and bodies as they are now means that the entire Kerbol system is very unstable.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI understood what makes it algorithmically difficult - integrating is hard (but there\u0027s RK4 etc...). However for this latter issue, keeping the planets on rails would be a solution \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"metaphor","CreatedById":57640,"CreatedDateTime":"2013-09-10T17:30:53Z","Content":"\n\u003Cp\u003EYou can still do interesting slingshots like those of Mariner 10 or Voyager. N-body physics wouldn\u0027t add anything to that. \u003C/p\u003E\u003Cp\u003EN-body physics really only allows you to use Lagrange points. And even then you would need constant station-keeping since the L1/2/3 points are unstable. Also most of your orbits would change over time, so for example a low Munar orbit would probably impact the Moon if you time warped at 100,000x for a few seconds.\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-09-10T18:06:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metaphor\u0022 data-cite=\u0022metaphor\u0022\u003E\u003Cdiv\u003EAnd even then you would need constant station-keeping since the L1/2/3 points are unstable.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere are stable orbits around these points.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metaphor\u0022 data-cite=\u0022metaphor\u0022\u003E\u003Cdiv\u003EAlso most of your orbits would change over time, so for example a low Munar orbit would probably impact the Moon if you time warped at 100,000x for a few seconds.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoesn\u0027t work like that. Low orbits can drift a little, but they would still be safe.\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-09-10T18:26:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022K^2\u0022 data-cite=\u0022K^2\u0022\u003E\u003Cdiv\u003EThere are stable orbits around these points.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI could be wrong, but I thought this was only true for 3-body systems. In the n-body system represented by the solar system, there are no inherently stable orbits around the 3 in-line libration points.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022K^2\u0022 data-cite=\u0022K^2\u0022\u003E\u003Cdiv\u003EDoesn\u0027t work like that. Low orbits can drift a little, but they would still be safe.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe real moon has very few stable low altitude orbits, not because of the influence of other gravitational bodies, but because its own gravitational field is pretty non-uniform due to large concentrations of mass underneath the surface.\u003C/p\u003E\n"},{"CreatedByName":"NovaSilisko","CreatedById":3897,"CreatedDateTime":"2013-09-10T19:28:55Z","Content":"\n\u003Cp\u003ENot sure why everyone\u0027s got it in their heads that n-body implementation would mean taking the planets off-rails. Planets would stay as is but the ship would be affected by multiple things. The problem lies in making it reliable and consistent, you need to be able to go at 100,000x warp on an interplanetary trajectory without everything in LKO hurtling off into deep space. Try warping up extremely fast in Orbiter while in LEO and you\u0027ll see what I mean. The current rails system is a good tradeoff - you can still simulate gravitational slingshots and whatnot and have very predictable orbits, just at the cost of a little bit of accuracy in terms of where your ship would go, as it\u0027s not being perturbed by anything.\u003C/p\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2013-09-11T13:21:59Z","Content":"\n\u003Cp\u003EThe reason why there\u0027s no n-body physics in KSP is not that the KSP devs don\u0027t/didn\u0027t know the mathematical solution to it. The reason is that any solution to it is to computationally intensive to do it accurate enough at high timewarp for multiple craft to be useful in KSP. Even if applied only to ships and not to planets and moons.\u003C/p\u003E\u003Cp\u003EAlso n-body physics can not really be \u0022applied to rails\u0022 because those two methods are pretty much mutually exclusive.\u003C/p\u003E\n"},{"CreatedByName":"Cheaterman","CreatedById":32757,"CreatedDateTime":"2013-09-12T00:43:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rkman\u0022 data-cite=\u0022rkman\u0022\u003E\u003Cdiv\u003EAlso n-body physics can not really be \u0022applied to rails\u0022 because those two methods are pretty much mutually exclusive.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI meant applying it to the trajectory marker but thanks for pointing it out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E - however for clarity let\u0027s keep in mind planets wouldn\u0027t have to (shouldn\u0027t) use the n-body physics but would stay on rails, decreasing needed computation, not mentioning how current timewarp is incredibly less resource-intensive than physics-enabled modes which leaves a lot of margin for new systems to be implemented.\u003C/p\u003E\u003Cp\u003E- Actually now that I think about it, wouldn\u0027t this (doing prediction) be the tricky part with n-body systems? (although not impossible at all since planets would remain on rails)\u003C/p\u003E\n"}]}