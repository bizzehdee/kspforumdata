{"TopicId":60873,"ForumId":44,"TopicTitle":"Optimal angle for a rocket.","CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-23T22:09:10Z","PageNum":1,"Articles":[{"CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-23T22:09:10Z","Content":"\n\u003Cp\u003EHello everyone, as you may have already noticed im building a small rocket and I want to know what would be the furthest distance my rocket could go only hoirzontally, without any vertical acceleration. I started off by saying that the force exerts a certain force f which is a constant, the mass of the rocket as a function of t is m0-mr*t\u003C/p\u003E\u003Cp\u003Ewhere m0 is the initial mass, mr is the mass flow rate, and t is time).\u003C/p\u003E\u003Cp\u003ESo what I thought was that the best idea would be to say that the vertical component of the force f would at all times have to be equal to the mass of the rocket times g. This could be written as: sin (theta)= m*g/f. as i said before was m0-mr*t, so: sin(theta)= (m0-mr*t)*g/f. In order to find the angle I apply the inverse sine function, this gives us: theta(t)=sin^-1((m0-mr*t)*9.81/f)). Is this correct, because when i plug it into a wolfram to graph it it gives me some weird angle and i dont really understand what im doing wrong. I know that the optimal angle would be 45 degrees but that also means the rocket would displace upwards which i am not trying to analyze here (i want to think of my rocket as if it was to be used like an rpg or something like that).\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-01-23T23:21:32Z","Content":"\n\u003Cp\u003EWithout air resistance, you are best off accelerating as much as possible. But with air resistance, there is actually an optimal angle at which the rocket should hover in order to consume minimum amount of fuel per distance traveled. It\u0027s a bit complicated for real rocket in real atmosphere, but for KSP, it\u0027s a very simple optimization problem. I don\u0027t recall the exact answer and don\u0027t have a moment to derive it just now, but I\u0027ll drop back later and show you how to get optimal angle a bit later, if nobody beats me to it.\u003C/p\u003E\n"},{"CreatedByName":"Ben 9072","CreatedById":72430,"CreatedDateTime":"2014-01-23T23:29:57Z","Content":"\n\u003Cp\u003ESo you might be misunderstanding the problem - if you have no vertical acceleration whatsoever and only balance for gravity, you\u0027ll simply fly like a plane right above the ground until you run out of fuel. How far you go would simply depend upon the amount of fuel you put in, your specific impulse, dry mass, wet mass, etc, so it will never get out of the atmosphere. If you really wanted to know this, you\u0027d have to solve for a function that instantaneously gives your acceleration at any given moment and then doubly integrate it from your starting time to your ending time. So it would take the form sort of like:\u003C/p\u003E\u003Cp\u003E\\int_{0}^{t_{\\infty}}\\int_{0}^{t_{\\infty}}\\frac{F(t)\\cos(\\theta(t))-\\frac{1}{2}\\rho v^{2}C_{D}A}{m(t)}dt dt\u003C/p\u003E\u003Cp\u003E(You can use \u003Ca href=\u0022http://www.codecogs.com/latex/eqneditor.php\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.codecogs.com/latex/eqneditor.php\u003C/a\u003E to see the LaTeX code in math format.) Where F(t) is your instantaneous force applied by the rocket, theta(t) is your angle function, which will vary over time, approaching 0 as the mass of the rocket goes to zero, C_d is your drag coefficient, rho is the density of the air, A is your cross sectional area, and m(t) is your instantaneous mass (and t_infinity is the time when you run out of fuel). This should give you your total displacement, approximating Kerbin while close to the ground as a flat plane.\u003C/p\u003E\u003Cp\u003EFeel free to reply or pm me if you have any other questions!\u003C/p\u003E\u003Cp\u003EBen\u003C/p\u003E\n"},{"CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-23T23:45:42Z","Content":"\n\u003Cp\u003EI expressed myself wrong, what im trying to find is the angle of the rocket as a function of time. I want the rocket to fly like a plane, that is exactly what i meant by saying that i wanted 0 vertical acceleration. You can think of it as if it was a missile launched parallel to the ground and i want it to remain at the exact same height through the time the engines are activated. By solving for this angle then i can calculate what the horizontal part of the force vector would be with respect to time, if I do the definite integral for that formula then i can calculate the maximum horizontal speed for my rocket and also the maximum horizontal displacement for the time the engines run. That is what i am looking for, the maximum horizontal displacement without atmosphere for the time the engines run.\u003C/p\u003E\n"},{"CreatedByName":"Ravenchant","CreatedById":84260,"CreatedDateTime":"2014-01-24T00:26:56Z","Content":"\n\u003Cp\u003EDisregarding air lift and drag, and assuming the ground is level, 45\u00C3\u201A\u00C2\u00B0 is indeed your optimal angle... IF the rocket only accelerates at the start of its path. The travel path would then be a ballistic arc. If you want a straight path at some altitude above the ground, you need to compensate for F\u003Csub\u003Eg\u003C/sub\u003E, so the angle is given by the acceleration of the rocket, which is itself a function of time. Once you have that function (you\u0027ll need Tsiolkovsky\u0027s equation and force balance in differential form, then an integration), derive with respect to [theta] and see where the derivative equals zero.\u003C/p\u003E\u003Cp\u003EOnce atmospheric effects are taken into account, well... the equations might get a little nasty.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEdit\u003C/strong\u003E: sorry, misunderstood you. It seems you won\u0027t need to derive. The first part still stands, though. The sine (assuming 0\u00C3\u201A\u00C2\u00B0 is parallell to ground) of your angle is directly proportional to the rockets mass, which is given by Tsiolkovsky.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-24T00:32:06Z\u0022 title=\u002201/24/2014 12:32  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 24, 2014\u003C/time\u003E by Ravenchant\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-24T00:31:55Z","Content":"\n\u003Cp\u003EI was asking if the function i proposed was right:theta(t)=sin^-1((m0-mr*t)*9.81/f)). It gives me some weird numbers when i graph it, ie, the angle is like 1 degree which is kind of odd.\u003C/p\u003E\n"},{"CreatedByName":"sgt_flyer","CreatedById":57690,"CreatedDateTime":"2014-01-24T00:31:59Z","Content":"\n\u003Cp\u003EBasically, you need a formulae to calculate the angle of attack needed to maintain a constant altitude for a specific TWR.\u003C/p\u003E\u003Cp\u003EMaybe i am wrong, but isn\u0027t it just a percentage from a vertical angle ? \u003C/p\u003E\u003Cp\u003EBasically, if my math not too rusted, you always need to \u0027divert\u0027 a twr of 1 towards the ground. \u003C/p\u003E\u003Cp\u003ESo your \u0027horizontal\u0027 TWR will be : \u003C/p\u003E\u003Cp\u003Ecurrent TWR - 1\u003C/p\u003E\u003Cp\u003Efor maintaining altitude in the current gravity (already, you should be able to calculate the maximum horizontal distance from that. \u003C/p\u003E\u003Cp\u003EFrom that, wouldn\u0027t it be simply a matter of percentage to deduce the necessary angle ? (I\u0027m much less sure if my maths are correct in this one) but, basically, If your rocket has a TWR of 2, you will have half the thrust dedicated to maintain altitude. So 50% of the vertical angle (90\u00C3\u201A\u00C2\u00BA at a twr of 1) you would end up with a 45\u00C3\u201A\u00C2\u00BA angle above the horizon. In my reasoning, the formula would end up looking like this : 90*(1/TWR). Of course, given that we are using rocket engines and fuel, your TWR will go up with time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E(With my twr of 2, the formula would read 90*(1/2) = 45\u00C3\u201A\u00C2\u00B0, With a TWR of 3, 90*(1/3) = 30\u00C3\u201A\u00C2\u00B0, and so on)\u003C/p\u003E\u003Cp\u003EYou can complicate the formulaes after you defined the basics, by replacing the various terms as you need it. (Ex, if you know your weight and \u0027horizontal\u0027 twr, you will be able to calculate the horizontal thrust from it.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-24T00:54:16Z\u0022 title=\u002201/24/2014 12:54  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 24, 2014\u003C/time\u003E by sgt_flyer\u003C/strong\u003E\n\u003Cbr\u003ECorrected 1 formula\n\u003C/span\u003E\n"},{"CreatedByName":"Ravenchant","CreatedById":84260,"CreatedDateTime":"2014-01-24T00:40:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mardlamock\u0022 data-cite=\u0022mardlamock\u0022\u003E\u003Cdiv\u003EIt gives me some weird numbers when i graph it, ie, the angle is like 1 degree which is kind of odd.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1 degree would require a total acceleration of about 560 m/s^2. That\u0027s... a bit high.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-01-24T00:47:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mardlamock\u0022 data-cite=\u0022mardlamock\u0022\u003E\u003Cdiv\u003EI was asking if the function i proposed was right:theta(t)=sin^-1((m0-mr*t)*9.81/f)). It gives me some weird numbers when i graph it, ie, the angle is like 1 degree which is kind of odd.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds like you\u0027re just not familiar with radians. Trig functions conventionally deal in radians, not degrees. 1 radian is 180/pi or roughly 57.3 degrees, sounds reasonable.\u003C/p\u003E\n"},{"CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-24T00:54:30Z","Content":"\n\u003Cp\u003EThat makes total sense tavert. I dont really know much about trig functions, seriously i just dont understand them. I can do some operations with trig identities and such and sort of understand where they come from but how the trig functions are graphed and how radians work just eludes me. Thanks, i will look into it when. But is my reasoning right, If it is right i know i can then integrate it just fine.\u003C/p\u003E\n"},{"CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-24T00:57:25Z","Content":"\n\u003Cp\u003EI just confirmed that it is right by looking at the graph slowly and replacing by t=0 so now all i have to do is integrate that (UGH)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-24T01:34:00Z\u0022 title=\u002201/24/2014 01:34  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 24, 2014\u003C/time\u003E by mardlamock\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-24T01:14:45Z","Content":"\n\u003Cp\u003EThe horizontal acceleration with respect to t is =cos(sin^-1((m0-mr*t)*9.81/f)))*f/(m0-mr*t). First i need to find the indefinite integral and then the definite integral right? So \u003C/p\u003E\u003Cp\u003Ei can get the f out of the way by factoring it out, then i have no idea what to do. How can i do integration by substitution here? Im sorry for being so dumb, I never had anyone explain calculus irl for me so all i know is from the interwebz and it is not much. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"Ravenchant","CreatedById":84260,"CreatedDateTime":"2014-01-24T01:39:16Z","Content":"\n\u003Cp\u003EThe bounds after substitution will bo m0 and m(dry mass of the rocket). But you need to put the whole thing into differential form.\u003C/p\u003E\u003Cp\u003EEdit: mass is going to be your new variable. m = m0 - mr*t , and dm = -mr*dt , which means dt = dm/(-mr). Since acceleration = dv/dt, you have to put dt to the right side and substitute. You\u0027ll also have to integrate twice.\u003C/p\u003E\u003Cp\u003EEdit 2: just calculated the whole thing, thanks to WolframAlpha. Yup, it\u0027s messy.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-24T02:08:20Z\u0022 title=\u002201/24/2014 02:08  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 24, 2014\u003C/time\u003E by Ravenchant\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-01-24T01:42:18Z","Content":"\n\u003Cp\u003EAre you trying to calculate velocity, distance, or both? Velocity is the first integral of acceleration, distance is the second integral of acceleration.\u003C/p\u003E\u003Cp\u003EWorth noting that cos(sin^-1(x)) = sqrt(1 - x^2), which you can work out by drawing a right triangle and rearranging the Pythagorean theorem.\u003C/p\u003E\u003Cp\u003EIt\u0027s a somewhat long and messy integral. You can have Wolfram Alpha walk you through the Step-by-step solution (2 times per day after signing up with a free account), see \u003Ca href=\u0022http://wolfr.am/1jrh0KR\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wolfr.am/1jrh0KR\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"mardlamock","CreatedById":38972,"CreatedDateTime":"2014-01-24T02:17:48Z","Content":"\n\u003Cp\u003Eso it would be fair to say that a(t) sqrt(1-(m0-mr*t)*9.81/f)^2)*f/(m0-mr*t)\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-01-24T05:15:55Z","Content":"\n\u003Cp\u003EAh, your question is even simpler than I thought. But yeah, the fun stuff happens when you don\u0027t fly at full thrust. Turns out, if you want to travel as far as you can on a tank of fuel, you should keep a certain horizontal velocity.\u003C/p\u003E\u003Cp\u003ESo suppose, your horizontal velocity is responsible for drag F\u003Csub\u003Ed\u003C/sub\u003E = kmv\u003Csup\u003E2\u003C/sup\u003E. (Reason it\u0027s k*m is because of how KSP handles drag.) And, of course, you have to support the weight of the ship, F\u003Csub\u003Ew\u003C/sub\u003E = mg. Because the two forces are perpendicular, the total thrust necessary is given by the following.\u003C/p\u003E\u003Cp\u003ET = sqrt(F\u003Csub\u003Ew\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E\u002BF\u003Csub\u003Ed\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E) = m*sqrt(g\u003Csup\u003E2\u003C/sup\u003E \u002B k\u003Csup\u003E2\u003C/sup\u003Ev\u003Csup\u003E4\u003C/sup\u003E)\u003C/p\u003E\u003Cp\u003ENow, if you wish to travel some distance d, it will take you some time t = d/v. Meanwhile, you are going to burn a quantity of fuel T*t/(g*I\u003Csub\u003ESP\u003C/sub\u003E). In other words, the quantity you wish to minimize is proportional to T/v. I\u0027m also going to cheat here and take out the mass. (There are conditions when this can be done properly, which you are almost certain to never break.) And that gives me the following.\u003C/p\u003E\u003Cp\u003ES = T/(mv) = sqrt(g\u003Csup\u003E2\u003C/sup\u003E/v\u003Csup\u003E2\u003C/sup\u003E \u002B k\u003Csup\u003E2\u003C/sup\u003Ev\u003Csup\u003E2\u003C/sup\u003E)\u003C/p\u003E\u003Cp\u003EAnd the first order necessary condition for optimization is dS/dv = 0. Skipping over some calculus and algebra...\u003C/p\u003E\u003Cp\u003E-2g\u003Csup\u003E2\u003C/sup\u003E/v\u003Csup\u003E3\u003C/sup\u003E \u002B 2k\u003Csup\u003E2\u003C/sup\u003Ev = 0\u003C/p\u003E\u003Cp\u003Ev = sqrt(g/k) = v\u003Csub\u003Eterminal\u003C/sub\u003E\u003C/p\u003E\u003Cp\u003EWhich everyone who\u0027ve been playing KSP long enough should have seen coming. Just like in the case of optimal vertical ascent, your best use of fuel for horizontal flight is to travel at terminal velocity.\u003C/p\u003E\u003Cp\u003EThe rest is very straight forward. If you are traveling horizontally at terminal velocity, drag is equal to weight. That means your rocket needs to be at 45\u003Csup\u003Eo\u003C/sup\u003E, and TWR should be sqrt(2) which is about 1.4.\u003C/p\u003E\u003Cp\u003ENaturally, all of this only applies to planets with atmosphere. In vacuum, the faster you can accelerate the better. So just push throttle to the wall, and angle will be determined by TWR as you\u0027ve previously calculated.\u003C/p\u003E\n"}]}