{"TopicId":42577,"ForumId":44,"TopicTitle":"I need someone help me do some math for launch optimization","CreatedByName":"SaturnV","CreatedById":79006,"CreatedDateTime":"2013-08-15T10:56:30Z","PageNum":4,"Articles":[{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-01-31T11:31:59Z","Content":"\n\u003Cp\u003EDid you try different values for terminal velocity ? like from 100% to 110%, just to see if one gets you more altitude ?\u003C/p\u003E\u003Cp\u003EAnd how strong is the centrifugal force ? never really used it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-31T11:36:53Z\u0022 title=\u002201/31/2014 11:36  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 31, 2014\u003C/time\u003E by NikkyD\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2014-01-31T14:49:08Z","Content":"\n\u003Cp\u003EI think this discussion answers the question \u0022How hard can rocket science be anyway?\u0022\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-01-31T17:48:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NikkyD\u0022 data-cite=\u0022NikkyD\u0022\u003E\u003Cdiv\u003EDid you try different values for terminal velocity ? like from 100% to 110%, just to see if one gets you more altitude ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn KSP, terminal velocity is pretty rigid, as far as craft design goes. The drag coefficient of almost any craft is going to be almost exactly 0.2, and that means terminal velocity at 1atm of almost exactly 100m/s.\u003C/p\u003E\u003Cp\u003EBut if you mean due to change of starting conditions, like if you started from sufficient elevation that results in lower terminal velocity, yes, maximum altitude will greatly improve. If you want to consider extreme case of rocket in vacuum, take a look at the red velocity curve above. See how it starts as a straight line, but then curves in right as it crosses terminal velocity line? That\u0027s where drag becomes more significant than gravitational force. If there was no air, that line would continue straight. In fact, it\u0027d curve up a bit as your ship gets lighter. However, the cutout point would be exactly the same. So if you mentally extend this straight line to the 30s mark, you can see that final velocity would easily be twice as high, resulting in more than 4x the altitude! Naturally, an increase of only 10% is not going to be anywhere as extreme, but it\u0027d help. The optimized solution is pretty much the same, though. Gun the throttle until you almost reach terminal velocity, then ease off to TWR of 2 as you settle at terminal velocity, and continue ascent. How that holds up when I throw in gravity turn, we\u0027ll, hopefully, soon find out.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NikkyD\u0022 data-cite=\u0022NikkyD\u0022\u003E\u003Cdiv\u003EAnd how strong is the centrifugal force ? never really used it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EConsiderable! The value is (angular_velocity)\u00C3\u201A\u00C2\u00B2 * (distance_from_center). And you get angular velocity by taking (2 pi)/(sidereal_period). The game actually takes this into account (as well as Coriolis force). In my simulation, it boosted me from apex of 5,200m to over 5,800m. Of course, with actual apex being at 5,488m, I\u0027m still not sure if this is exactly right. But it gives you an idea of how significant centrifugal effect is.\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-01-31T20:00:18Z","Content":"\n\u003Cp\u003E2 Things just came to mind.\u003C/p\u003E\u003Cp\u003E1) The minimum starting altitude is 71m (thats the runway, maybe the platform is a bit higher), if you attach your rocket to that crane and pull it all the way up to the ceiling you can start at almost 150m. Thats 1,6% less atmosphere!\u003C/p\u003E\u003Cp\u003E2) If 80m on the ground are 1,6%. Even a small rocket is between 5 and 10m long. What point does the game take as reference for calculating the drag ? Highest ? center ? Engine ?\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-01T17:26:14Z","Content":"\n\u003Cp\u003EOk, so i enhanced my sim to take fuel consumption = mass reduction into account.\u003C/p\u003E\u003Cp\u003EI built a simple rocket, one rockomax 48-7s, one 1-ton fuel tank and mk1 cockpit (no monoprop) (and the mechjeb part).\u003C/p\u003E\u003Cp\u003EI launched the rocket straight up, every 10s i escape-paused the game and compared numbers, also i compared the altitude and speed when the thrust stops (out of fuel) and the max altitude.\u003C/p\u003E\u003Cp\u003EI\u0027m pretty close...\u003C/p\u003E\u003Cp\u003EGame\u003C/p\u003E\u003Cp\u003EThrust-phase to 18735m with 492 m/s, coast to 30440m\u003C/p\u003E\u003Cp\u003Emy sim\u003C/p\u003E\u003Cp\u003EThrust-phase to 18636m with 491 m/s, coast to 30199m (thats -99m, -1 m/s, -241m)\u003C/p\u003E\u003Cp\u003EBecause the velocities seem to match over the entire flight (i checked every 10 sec) i seem to gain less altitude than the game.\u003C/p\u003E\u003Cp\u003EI also set my values to the games and just calculated the coasting phase, i also was short by some meters. I reached 30391 (-49m).\u003C/p\u003E\u003Cp\u003EI implemented the centrifugal force, but im not sure if it works as it should. And maybe its truely something like coriolis, im not off by far.\u003C/p\u003E\u003Cp\u003EAnyone got any ideas ?\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-02-01T17:45:33Z","Content":"\n\u003Cp\u003EWith 30km ascent, Coriolis will start to make a difference in a rotating frame. That\u0027s kind of why I went with a \u0026lt;6km launch for early tests.\u003C/p\u003E\u003Cp\u003EI\u0027ve gone to orbital flight now, but I still haven\u0027t sorted some minor inaccuracies in simulation.\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-01T17:57:12Z","Content":"\n\u003Cp\u003EI chose the test rocket because it has a TWR of less than 2 so it never reaches terminal velocity so that the whole thrust-correction is left out.\u003C/p\u003E\u003Cp\u003ENumberobis mentions in his scripts \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EExplanation for the systematic error, in part, is that the altimeter measures about 20m off from the engine -- below during launch on Kerbin, above while crashing on Eve.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Emaybe the game assumes different values than what it tells through the GUI.\u003C/p\u003E\u003Cp\u003Eedit: the 20m thing is about calculating ISP\u003C/p\u003E\u003Cp\u003Eedit2: If i take the fuel flow from the wiki page and linearly interpolate, i am off by a lot. The games \u0022right click\u0022 engine info is said to be inaccurate ?! is that true ? where can i get true real time fuel flow units that are accurate ?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-01T18:31:21Z\u0022 title=\u002202/01/2014 06:31  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 1, 2014\u003C/time\u003E by NikkyD\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-02-01T18:36:46Z","Content":"\n\u003Cp\u003EJust compute fuel flow yourself. It\u0027s thrust/(I\u003Csub\u003ESP\u003C/sub\u003E*g0). The game uses g0 value of 9.82m/s\u00C3\u201A\u00C2\u00B2. I\u003Csub\u003ESP\u003C/sub\u003E should be linearly interpolated between the low and high values based on pressure. (The full formula is more complicated and discussed in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/67606-Fuel-consumption-as-a-function-of-atmospheric-pressure\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E. But for engines with just 2 key values it\u0027s going to be linear interpolation.)\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-01T20:09:59Z","Content":"\n\u003Cp\u003EOk, did that.\u003C/p\u003E\u003Cp\u003ENow im pretty much dead-on accurate. The error now results in reading values from the game that is paused somewhere within a second whereas my sim gives me 10ms accurate readings.\u003C/p\u003E\u003Cp\u003EIm sorry to say that centrifugal force makes 1% difference, i cannot confirm the 5000 to 5800, but tbh i didnt recreate your rocket.\u003C/p\u003E\u003Cp\u003ETime to clean up my java class \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-02-01T21:03:45Z","Content":"\n\u003Cp\u003EWhat are you using for time step? And are you integrating with Euler or Verlet?\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-01T21:09:06Z","Content":"\n\u003Cp\u003Etimestep is 10ms or 100 calculations/steps per second.\u003C/p\u003E\u003Cp\u003EIntegrating where ? i must confess... i dont really know what to do with both of these guys \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E(but im still error \u0026lt; 1%)\u003C/p\u003E\u003Cp\u003Eedit: i think its euler, but im not good with math terms, im more hands on\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-02-01T23:53:02Z","Content":"\n\u003Cp\u003EI got some preliminary results for a 2D optimization case with a gravity turn. Unfortunately, I\u0027ve messed up the mass of the rocket, but that\u0027s not a huge deal, as far as these results go.\u003C/p\u003E\u003Cp\u003EBecause optimization is local, I had to start with something that gives a believable ascent program. I chose to go with something very simple. Vertical ascent to 8km, gravity turn to 45\u00C3\u201A\u00C2\u00B0, continue burn until apex is at 80km, and then burn prograde to establish orbit. Here is the graph of the control inputs.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://imagizer.imageshack.us/v2/456x287q90/822/3wj9.png\u0022 alt=\u00223wj9.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EBlue line shows rocket\u0027s angle in radians, with 0 corresponding to vertical, and \u002Bpi/2, which is marked with a dashed line, corresponding to a rocket pointing directly East. Magenta line is throttle position. It\u0027s always full throttle, except for the coasting region to reach orbital altitude.\u003C/p\u003E\u003Cp\u003ESo this was the starting program which I fed to the genetic algorithm. I\u0027ve ran 10k iterations with 100 genomes in each, corresponding to 1M launches. The criterion for optimization was amount of fuel left over in second stage, while any trajectory that did not reach orbit at all would be discarded. And this is what I got.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://imagizer.imageshack.us/v2/456x287q90/826/9lxf.png\u0022 alt=\u00229lxf.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThere are several things worth noting right away. First, the throttle remains at 100% throughout the whole flight, except for the coasting region. Unfortunately, I believe that to be an artifact of the \u0022mutation\u0022 algorithm, which I will revise. However, the other bit is interesting. The gravity turn begins as a counter-rotation. I don\u0027t think that\u0027s actually helpful directly. But rather it\u0027s an indication that the turn should have been more gradual. The actual control input is rate of rotation, rather than the angle, and correcting a large jump in initial program would not be easy. Instead, rocket beings the turn with countersteer, so that eventual angle change isn\u0027t as high.\u003C/p\u003E\u003Cp\u003EWhich brings us to the next bit. Actual velocity. Here is the graph of the speed of the rocket as a function of time.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://imagizer.imageshack.us/v2/456x284q90/824/t7bl.png\u0022 alt=\u0022t7bl.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere, I have original program in red and the optimizer output in blue, as before. Thin blue line is terminal velocity at relevant altitude. Here, I wanted to point out a few things. First, on both graphs you can see a sharp cusp at around 70 seconds. That\u0027s stage separation. Doesn\u0027t appear to cause any difference in burn procedure. The other bit is slower decay of the blue line once it begins to coast around 120s mark. Why? Because optimized flight is at higher altitude. Let me show the same graph broken up into components.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://imagizer.imageshack.us/v2/456x283q90/534/o5j2.png\u0022 alt=\u0022o5j2.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere, I have vertical and horizontal axes correspond to vertical and horizontal speed. Negative X corresponds to moving East. Here we can clearly see that the rocket ends up with more vertical velocity at the cost of horizontal speed, resulting in lower air density by the time the engines cut out.\u003C/p\u003E\u003Cp\u003ESo what I want to do next is start out with a much smoother gravity turn, so that it doesn\u0027t result in that sharp jump, as well as allowing the system more freedom on the throttle. There are several things I can do that. And, of course, I\u0027m going to fix the rocket mass to correspond to an actual thing from KSP.\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-02T12:50:49Z","Content":"\n\u003Cp\u003EI just cant leave it alone, in your graph #3, the best speed was above TV, is that correct ?\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2014-02-02T16:33:24Z","Content":"\n\u003Cp\u003E@K^2:\u003C/p\u003E\u003Cp\u003EVery interesting analysis. I have some questions though:\u003C/p\u003E\u003Cp\u003E1. Your model appears to have optimized the rocket\u0027s pitch angle in the region between ~130 seconds and ~205 seconds while the rocket was coasting. What is your model attempting to minimize in this flight regime? Is the aerodynamic drag a function of the rocket\u0027s angle of attack in your model? If so, why wouldn\u0027t it be most efficient to simply maintain a 0\u00C3\u201A\u00C2\u00B0 angle of attack while coasting?\u003C/p\u003E\u003Cp\u003E2. If I understand correctly, you are optimizing an artificial launch profile where the rocket launches vertically, abruptly pitches over to 45\u00C3\u201A\u00C2\u00B0 at 8000 m altitude and then proceeds to climb to orbit. Your optimized profile does not appear to have strayed very far from your initial seed profile. A real-life rocket flown this way would be subjected to very high transverse aerodynamic loads and may even break up as a result. (See videos of the recent Proton-M launch failure for an example of a rocket breaking up in flight due to transverse aerodynamic loads.) Even in KSP, many rocket designs would not have the control authority to execute such an abrupt maneuver. Even ignoring those considerations, an abrupt turn is easily demonstrated to be sub-optimal. How does your model perform if you use it to optimize a launch profile that uses a true gravity turn? Does it find profiles that are more optimal than those flown by competitors in Tarmenius\u0027 \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/39196-Launch-Efficiency-Exercise-Updated-for-0-21-1\u0022 rel=\u0022external nofollow\u0022\u003ELaunch Efficiency Exercise\u003C/a\u003E challenge? \u003C/p\u003E\u003Cp\u003E3. How does your model compare to the optimizations calculated by TheDuck, et al. in Closette\u0027s \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/6664-Mini-challenge-max-altitude-with-this-supplied-spacecraft\u0022 rel=\u0022external nofollow\u0022\u003EMini-challenge: max altitude with this supplied spacecraft\u003C/a\u003E challenge? I would think it would be fairly straight forward to run your model with the same parameters that they used. Would it be a good benchmark test for your algorithm?\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-02T17:04:03Z","Content":"\n\u003Cp\u003EWhats the data on the mini-challenge craft, its kinda old and i cant tell from the screenshots and the craft files dont work.\u003C/p\u003E\u003Cp\u003EI just need the engine parameters (ISP and thrust) and full / dry mass.\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2014-02-02T17:50:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NikkyD\u0022 data-cite=\u0022NikkyD\u0022\u003E\u003Cdiv\u003EWhats the data on the mini-challenge craft?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIIRC, the Isp was constant in v0.15 and prior versions of the game (i.e. it did not vary with altitude). Looking at an old copy of v0.15 that I still have on my computer, here\u0027s some relevant data for the mini-challenge rocket:\u003C/p\u003E\u003Cp\u003E1. The Isp of the engines was 579.4 seconds. \u003C/p\u003E\u003Cp\u003E2. The thrust was 200 kN.\u003C/p\u003E\u003Cp\u003E3. The engines had a mass of 2 tonnes each.\u003C/p\u003E\u003Cp\u003E4. The fuel burn was 8 litres per second per engine at full throttle.\u003C/p\u003E\u003Cp\u003E5. The two tanks had a capacity of 500 litres each and contained 2.2 tonnes of fuel. The empty mass of the tanks was 0.3 tonnes. The full fuel mass of the tanks was 0.3 \u002B 2.2 = 2.5 tonnes.\u003C/p\u003E\u003Cp\u003E6. The tricoupler had a mass of 0.8 tonnes.\u003C/p\u003E\u003Cp\u003E7. The ASAS module had a mass of 0.8 tonnes.\u003C/p\u003E\u003Cp\u003E8. The command pod had a mass of 1.0 tonne.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-02T18:05:05Z\u0022 title=\u002202/02/2014 06:05  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 2, 2014\u003C/time\u003E by PakledHostage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NeoMorph","CreatedById":58200,"CreatedDateTime":"2014-02-02T17:57:16Z","Content":"\n\u003Cp\u003EI swear to god... every time I come into one of these threads my jaw drops on the floor (but in a good way).\u003C/p\u003E\u003Cp\u003EI\u0027ve learned more about space travel in these forums than I have in my entire 53 years.\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-02-02T18:03:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PakledHostage\u0022 data-cite=\u0022PakledHostage\u0022\u003E\u003Cdiv\u003E1. Your model appears to have optimized the rocket\u0027s pitch angle in the region between ~130 seconds and ~205 seconds while the rocket was coasting. What is your model attempting to minimize in this flight regime? Is the aerodynamic drag a function of the rocket\u0027s angle of attack in your model? If so, why wouldn\u0027t it be most efficient to simply maintain a 0\u00C3\u201A\u00C2\u00B0 angle of attack while coasting?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe actual control input is rate of turn. So if it\u0027s trying to change its angle at circularization, any turn input prior to that is going to be an adjustment. So these end up distributed almost evenly through the coasting region.\u003C/p\u003E\u003Cp\u003EAll of the parts in the test rocket are default drag model, which does not take angle into account.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PakledHostage\u0022 data-cite=\u0022PakledHostage\u0022\u003E\u003Cdiv\u003E2. If I understand correctly, you are optimizing an artificial launch profile where the rocket launches vertically, abruptly pitches over to 45\u00C3\u201A\u00C2\u00B0 at 8000 m altitude and then proceeds to climb to orbit. Your optimized profile does not appear to have strayed very far from your initial seed profile. A real-life rocket flown this way would be subjected to very high transverse aerodynamic loads and may even break up as a result.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd you can see that it was trying to get rid of that abrupt change. So yes, what I\u0027m working on now is starting with something a bit better. Currently, the seed has a turn that starts at 30s and ends at 130s.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PakledHostage\u0022 data-cite=\u0022PakledHostage\u0022\u003E\u003Cdiv\u003E3. How does your model compare to the optimizations calculated by TheDuck, et al. in Closette\u0027s \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/6664-Mini-challenge-max-altitude-with-this-supplied-spacecraft\u0022 rel=\u0022external nofollow\u0022\u003EMini-challenge: max altitude with this supplied spacecraft\u003C/a\u003E challenge? I would think it would be fairly straight forward to run your model with the same parameters that they used. Would it be a good benchmark test for your algorithm?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll try it out.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-02T18:06:37Z\u0022 title=\u002202/02/2014 06:06  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 2, 2014\u003C/time\u003E by K^2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-03T16:45:11Z","Content":"\n\u003Cp\u003EDid some mechjeb launches... need some explanation / clarification\u003C/p\u003E\u003Cp\u003E1) (coriolis) when i launch straight up, i have the planets rotation speed. The further up i go, the more the planet is moving/rotating faster than i am. The planet is rotating towards east, so i move west !? correct ?\u003C/p\u003E\u003Cp\u003ESo if i perform the turn somewhere near the AP, my 2D launch would go up, then bend left and fly off to the right...\u003C/p\u003E\u003Cp\u003E2) how do i bring oberth into all of this ?! horizontal speed at lower altitude is worth more orbital speed than at higher altitudes ?! but how much...\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-02-03T16:52:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NikkyD\u0022 data-cite=\u0022NikkyD\u0022\u003E\u003Cdiv\u003E1) (coriolis) when i launch straight up, i have the planets rotation speed. The further up i go, the more the planet is moving/rotating faster than i am. The planet is rotating towards east, so i move west !? correct ?\u003Cp\u003ESo if i perform the turn somewhere near the AP, my 2D launch would go up, then bend left and fly off to the right...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust do everything in a rotating frame of reference. Add centrifugal and Coriolis forces to your rocket. Centrifugal acceleration is \u00C3\u017D\u00C2\u00A9 \u00C3\u0192\u00E2\u20AC\u201D (r \u00C3\u0192\u00E2\u20AC\u201D \u00C3\u017D\u00C2\u00A9), while Coriolis is -2 v \u00C3\u0192\u00E2\u20AC\u201D \u00C3\u017D\u00C2\u00A9. If you need forces, multiply each one by mass of your rocket. From there on, you just work with it as Newtonian problem in 2D without further complications.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NikkyD\u0022 data-cite=\u0022NikkyD\u0022\u003E\u003Cdiv\u003E2) how do i bring oberth into all of this ?! horizontal speed at lower altitude is worth more orbital speed than at higher altitudes ?! but how much...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou don\u0027t. The fact that thrust doesn\u0027t decrease with velocity already gives you a power boost at higher speeds. Power is equal to F\u00C3\u00A2\u00CB\u2020\u00E2\u201E\u00A2v.\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-03T18:25:45Z","Content":"\n\u003Cp\u003Eim struggling with understanding the following\u003C/p\u003E\u003Cp\u003EWhen i start straight up, shortest possible path through the thick atmosphere, then i coast for over a minute to 80 km. 20 sec before i reach AP i turn east, full thrust.\u003C/p\u003E\u003Cp\u003ESo i accelerated in the most efficient way to reach the altitude and didnt waste any force to gravity but accelerated horizontally where i had zero drag resistance.\u003C/p\u003E\u003Cp\u003EI built a test rocket with 4100dv, with this attempt i reached 1600 orbital speed when the fuel ran out.\u003C/p\u003E\u003Cp\u003EIf i launch with mechjebs auto with turn at 8 and 40%, i reach 1900 orbital speed...\u003C/p\u003E\u003Cp\u003ESo im wondering where am i losing in the first attempt or what effect gives the second one this gain. Thats why i brought oberth into this.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-02-03T18:53:00Z","Content":"\n\u003Cp\u003ESome combination of gravity losses and steering losses, mostly gravity. Watch the ascent stats when you run these experiments. Oberth effect manifests itself as reduced gravity losses.\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-03T21:06:55Z","Content":"\n\u003Cp\u003EWhat stats should i watch ?\u003C/p\u003E\u003Cp\u003EIm still not one step further. If i want my sim to go 2D, then i need to know what it should aim for. Every degree in angle gives me what and costs me what ?!\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-02-03T21:41:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NikkyD\u0022 data-cite=\u0022NikkyD\u0022\u003E\u003Cdiv\u003EWhat stats should i watch ?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDelta-V expended, Gravity Losses, Drag Losses, and Steering Losses.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NikkyD\u0022 data-cite=\u0022NikkyD\u0022\u003E\u003Cdiv\u003EIm still not one step further. If i want my sim to go 2D, then i need to know what it should aim for. Every degree in angle gives me what and costs me what ?!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure I understand the question. For ascent to orbit, you need to impose a final condition of desired altitude, zero vertical speed, and the horizontal speed needed for a circular orbit at that altitude.\u003C/p\u003E\u003Cp\u003EAccounting for the rotating reference frame means you need to add the extra terms K^2 described to your dynamics. Or you can work in Cartesian (x-y-z) coordinates as long as you account for the correct variable direction of the gravity force, but then your final conditions are more complicated.\u003C/p\u003E\n"},{"CreatedByName":"NikkyD","CreatedById":97466,"CreatedDateTime":"2014-02-03T21:54:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tavert\u0022 data-cite=\u0022tavert\u0022\u003E\u003Cdiv\u003EDelta-V expended, Gravity Losses, Drag Losses, and Steering Losses.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhere do i find these ? I only have mechjeb installed, nothing else.\u003C/p\u003E\n"}]}