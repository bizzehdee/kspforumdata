{"TopicId":148091,"ForumId":44,"TopicTitle":"Engines, launches and Maths","CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-18T21:52:22Z","PageNum":1,"Articles":[{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-18T21:52:22Z","Content":"\n\u003Cp\u003E\nI am on a quest: To find the maths that describes, for a given rocket with a given engine:\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E profile during a launch through the atmosphere.\n\u003C/p\u003E\n\u003Cp\u003E\nTo calculate pre-launch the necessary double derivative\u00A0of decreasing throttle to maintain a pre-set \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nTo find a mathematical function of time and/or altitude\u00A0that will give me the necessary throttle setting to maintain the set \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nTo be able to have a detailed picture of the entire launch in terms of\n\u003C/p\u003E\n\u003Cp\u003E\nAcceleration at any moment in time during the launch.\n\u003C/p\u003E\n\u003Cp\u003E\nThrust at any given time whether it\u0027s for a fixed \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E or floating \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E profile.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere are several complications:\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u0022constant\u0022 g is not constant. I know the formula for a given height above the planet\u0027s \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E, it is\n\u003C/p\u003E\n\u003Cp\u003E\ng\u003Csub\u003Elocal\u003C/sub\u003E\u00A0=\u00A0g\u003Csub\u003E0\u003C/sub\u003E\u00A0/ (h / R)\u003Csup\u003E2\u003C/sup\u003E\u003C/p\u003E\n\u003Cp\u003E\nwhere (for Kerbin)\u00A0g\u003Csub\u003E0\u003C/sub\u003E\u00A0= 9.80665 m/s\u003Csup\u003E2\u003C/sup\u003E, h is the height above the center of Kerbin and R is the radius of Kerbin = 600km. This change of\u00A0g affects the local \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe thrust of an engine increases with increasing altitude to a maximum. This thrust function of altitude is one of my unknowns.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe I\u003Csub\u003Esp\u003C/sub\u003E\u00A0increases with increasing altitude to a maximum. This function is also an unknown.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe mass is changing so Newton\u0027s 2nd law can not be applied without modifications (N2 as described in most school text books, F = ma\u00A0only applies to constant mass problems, not to varying\u00A0mass problems). This is not entirely unknown but for this topic, regard the correct expression\u00A0as an unknown to me.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe mass of the rocket is constantly changing but the rate of change is not constant because of:\n\u003C/p\u003E\n\u003Cp\u003E\nIncreasing thrust means higher \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E which means thrust must be lowered continuosly to maintain a set \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nDecreasing thrust means a decreasing fuel mass loss per second.\n\u003C/p\u003E\n\u003Cp\u003E\ng is decreasing with altitude which will increase the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nLuckily, the rate of fuel mass change is only depending on thrust, or one can say the throttle setting for a given engine with a known thrust. I\u003Csub\u003Esp\u003C/sub\u003E\u00A0translates to velocity but I am only after the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe trajectory will affect how much time is spent in low, dense atmosphere with lower thrust and higher fuel consumption. Precicely how the trajectory affects time\u00A0I can not explain mathematically.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I hope to see here, unless some bright soul\u00A0solved this problem with pre-calculated thrust profiles, is a discussion on how to tackle this. Where to start? What did I not think of? and finally and hopefully a conclusion with the equations one would need.\n\u003C/p\u003E\n\u003Cp\u003E\nThis topic is meant as a maths and physics topic, not a discussion on how mods and spreadsheets can make life easier in KSP. It is the maths behind it, and the physics that is the topic.\n\u003C/p\u003E\n"},{"CreatedByName":"Steel","CreatedById":49317,"CreatedDateTime":"2016-09-18T23:09:35Z","Content":"\n\u003Cp\u003E\nWell to start you\u0027re going to be looking at differential equations and - \u00A0unless I\u0027m wrong - ones that can\u0027t be solved analytically once you start looking at motion in two or three dimensions including drag and such\n\u003C/p\u003E\n"},{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-19T00:04:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222763863\u0022 data-ipsquote-contentid=\u0022148091\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474240175\u0022 data-ipsquote-userid=\u002249317\u0022 data-ipsquote-username=\u0022Steel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, Steel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell to start you\u0027re going to be looking at differential equations and - \u00A0unless I\u0027m wrong - ones that can\u0027t be solved analytically once you start looking at motion in two or three dimensions including drag and such\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah but where even to begin formulating those equations?\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: One of my former physics teachers once mentioned that each engine of a particular kind was controlled by computers running and solving\u00A0more than 30 differential equations, several times per second. I don\u0027t want to punish my laptop trying to do the same but then again, theory is a lot less costly than actually sending a rocket anywhere.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-19T00:09:35Z\u0022 title=\u002209/19/2016 12:09  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 19, 2016\u003C/time\u003E by LN400\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Matuchkin","CreatedById":135127,"CreatedDateTime":"2016-09-19T00:47:58Z","Content":"\n\u003Cp\u003E\nTwo most important\u00A0equations for beginners- the Vis-Viva equation and the Tsiolkovsky equation. Start from there.\n\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-09-19T01:13:55Z","Content":"\n\u003Cp\u003E\nSo, \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E is given by: \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E = F / (Mg) with F the thrust, M the mass of the rocket and g the gravitational acceleration.\n\u003C/p\u003E\n\u003Cp\u003E\nM is a function of time with M(t) = M\u003Csub\u003E0\u003C/sub\u003E\u00A0- mf *t; here mf = dm/dt is the mass flow rate and M\u003Csub\u003E0\u003C/sub\u003E\u00A0is the wet mass of the rocket.\n\u003C/p\u003E\n\u003Cp\u003E\nF is both a function of time and position. F(h,t) = Isp(vac) * g\u003Csub\u003E0\u00A0\u003C/sub\u003E* mf -- A*p(h). Isp(vac) is the vacuum Isp of your engine (in s), A the area of the nozzle and p(h) the ambient pressure.\n\u003C/p\u003E\n\u003Cp\u003E\ng is a function of position: g =\u00A0g\u003Csub\u003E0\u003C/sub\u003E\u00A0/ (h / R)\u003Csup\u003E2\u003C/sup\u003E\u00A0as you wrote it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA can be found using the equation for thrust: A = Isp(vac) * g\u003Csub\u003E0\u003C/sub\u003E\u00A0* mf * (1 - F\u003Csub\u003Easl\u003C/sub\u003E/F\u003Csub\u003Evac\u003C/sub\u003E) / p\u003Csub\u003E0\u003C/sub\u003E.\u003Cbr\u003E\nFasl and Fvac are the thrusts of your engine at sea level and in vacuum, and p\u003Csub\u003E0\u003C/sub\u003E\u00A0is the pressure at sea level.\n\u003C/p\u003E\n\u003Cp\u003E\np is annoying because it is a function of temperature and height. Since we have neither temperature nor pressure numerical data, you need to either: bring\u00A0a barometer on your rocket and measure, assume constant temperature, or solve stupid integrals.\u003Cbr\u003E\u003Cimg alt=\u0022P=P_{0}e^{{-\\int _{{0}}^{{z}}{Mgdz/R^{*}T}}}\\,\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/4755501dc38eaa1fd505c09a34207dbf658de6e8\u0022\u003E\u00A0is the formula you need for this (replace z with h). If everything is constant (temp, molar mass of the atmosphere and g) this simplifies to p = p\u003Csub\u003E0\u003C/sub\u003E\u00A0* exp(-Mgh / RT). Note that here M is the molar mass of the atmosphere and not the mass of the rocket.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the easy part. To precalculate the throttle needed to keep a constant \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E in a specific profile, you\u0027d have to know your trajectory exactly and express the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E function as a function of time only:\u00A0you need to express position (height is enough) as a function of time, hence you need to know your trajectory, then you\u0027ll get\u00A0h(t). Now replace h by h(t) in the equations above and you\u0027ll get your \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce you have your \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, know that the throttle changes the mass flow rate dm/dt (Throttle is proportional to d\u003Csup\u003E2\u003C/sup\u003Em/dt\u003Csup\u003E2\u003C/sup\u003E), so that: mf = dm/dt = Throttle * mf\u003Csub\u003Emax\u003C/sub\u003E\u00A0(throttle is between 0 and 1), and change your throttle function so that your \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E stays constant.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not mathematically complicated, just tedious. Make a spreadsheet calculating the different values (one at a time) and combine them to get \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want acceleration, then you\u0027ll have to consider not only height but 2d movement, heading of the craft, of the thrust and of the trajectory,\u00A0and drag. Good luck on that.\n\u003C/p\u003E\n"},{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-19T07:12:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222763979\u0022 data-ipsquote-contentid=\u0022148091\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474246078\u0022 data-ipsquote-userid=\u0022135127\u0022 data-ipsquote-username=\u0022Matuchkin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Matuchkin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTwo most important\u00A0equations for beginners- the Vis-Viva equation and the Tsiolkovsky equation. Start from there.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m sorry but how does the Vis-viva equation relate to a launching rocket? Isn\u0027t that equation more appropriate for a spaceship\u00A0already in orbit?\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the rocket equation as we see it here often, that is related to \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E more than rate of change of mass. I\u003Csub\u003Esp\u003C/sub\u003E\u00A0however does relate to rate of change of mass since it relates to the exhaust gas velocity.\n\u003C/p\u003E\n"},{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-19T07:32:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222764014\u0022 data-ipsquote-contentid=\u0022148091\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474247635\u0022 data-ipsquote-userid=\u0022126740\u0022 data-ipsquote-username=\u0022Gaarst\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Gaarst said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[entire post but in particular]\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);float:none;\u0022\u003EF is both a function of time and position. F(h,t) = Isp(vac) * g\u003C/span\u003E\u003Csub style=\u0022font-size:10.5px;line-height:0;vertical-align:baseline;color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E0\u00A0\u003C/sub\u003E\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);float:none;\u0022\u003E* mf -- A*p(h). Isp(vac)\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you for your input. Would it be reasonable to assume that before one can get down\u00A0to business with \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, one should have a mathematical model of the trajectory?\n\u003C/p\u003E\n\u003Cp\u003E\nA proper gravity turn is of course going to play\u00A0a huge part in this and here is where the entire rocket design comes in. How quickly will it rotate at a given speed at a given altitude with a given \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E when the initial rotation was a given angle? This links the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and fuel flow directly to the trajectory. I don\u0027t think rocket scientists are overpaid \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: The bit about A being the area of the nozzle, that part has me wondering. Isn\u0027t the area of a nozzle on a given engine fixed or is this nozzle a mathematical nozzle different from the physical part of the engine? Or is this the actual physical part but with an equation to figure out the area which I will need in the calculations, seeing KSP doesn\u0027t mention A anywhere but for a real rocket scientist, every detail of that engine would be on a technical paper?\n\u003C/p\u003E\n\u003Cp\u003E\nYou model F here as a function of h and t but the expression on the right hand side involves mf which itself is depending on F which is what we try to solve for. How does one go about this?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT 2: Another thing that has me wondering. On a multi stage rocket, the first stage starts with velocity being zero. The next stages do not. The \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E doesn\u0027t change (I think) but the increase in kinetic energy would depend on that initial velocity and how would that affect the launch profile? (or am I running around in the wrong field here?)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-19T09:35:57Z\u0022 title=\u002209/19/2016 09:35  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 19, 2016\u003C/time\u003E by LN400\u003C/strong\u003E\n\u003Cbr\u003EAdding\n\u003C/span\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2016-09-19T17:08:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222764256\u0022 data-ipsquote-contentid=\u0022148091\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474270320\u0022 data-ipsquote-userid=\u0022140595\u0022 data-ipsquote-username=\u0022LN400\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, LN400 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThank you for your input. Would it be reasonable to assume that before one can get down\u00A0to business with \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E, one should have a mathematical model of the trajectory?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSince you have functions of both time and position, you need to find a way to relate the two. The easiest would be to calculate h(t) which is just an integration of your vertical velocity during the launch. So you do need to know your trajectory to some extent.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA proper gravity turn is of course going to play\u00A0a huge part in this and here is where the entire rocket design comes in. How quickly will it rotate at a given speed at a given altitude with a given \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E when the initial rotation was a given angle? This links the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and fuel flow directly to the trajectory. I don\u0027t think rocket scientists are overpaid \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo get the rotation speed is hard and annoying.\n\u003C/p\u003E\n\u003Cp\u003E\nYou first need to work out the torque created by your engines gimbal. \u003Cstrong\u003ET\u003C/strong\u003E = \u003Cstrong\u003Er\u003C/strong\u003Ex\u003Cstrong\u003EF \u003C/strong\u003E(vector form) or T = r*F*sin(G); here T is the torque, r is the distance from your engine to the centre of rotation\u00A0of the rocket and G is the gimballed thrust angle.\u003Cbr\u003E\nTo get the exact position of the centre of rotation, you would need to do stuff with your aerodynamic centre and \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E (which calculations I don\u0027t know).\u00A0Note that this assumes a single engine inline with the centre of mass.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce you have the torque created by the engine, you need to calculate the torque created by the drag by integrating the drag at each point of your rocket over its entire length. This will depend on your speed, the air pressure around you, the angle of your rocket relative to airflow.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is for gimballed rotation. For gravity turn you would need to again integrate stuff; this time gravitational pull and drag over the length of your rocket (knowing where the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E of your rocket is to obtain a torque), add this to the thrust of your rocket to obtain a resultant torque and thrust. Finally you would need to integrate this thrust and torque with respect to your trajectory (time or position) and you will get your gravity turn.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEdit: The bit about A being the area of the nozzle, that part has me wondering. Isn\u0027t the area of a nozzle on a given engine fixed or is this nozzle a mathematical nozzle different from the physical part of the engine? Or is this the actual physical part but with an equation to figure out the area which I will need in the calculations, seeing KSP doesn\u0027t mention A anywhere but for a real rocket scientist, every detail of that engine would be on a technical paper?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat would be an ideal area. In real rocketry, the nozzle has a given expansion. If the engine is optimised for atmospheric use then the exhaust will be over-expanded in lower pressures; and if it is optimised for vacuum use then the exhaust will be under-expanded in higher pressures. In both cases you will lose efficiency.\n\u003C/p\u003E\n\u003Cp\u003E\nNow KSP\u0027s engines properties are completely independent of its architecture (note how the Poodle, a vacuum engine, has a ridiculously small nozzle), so the actual area you can measure in game and the one you\u0027ll get by calculations will be different.\n\u003C/p\u003E\n\u003Cp\u003E\nThing is KSP\u0027s model is simplified, and as Isp curve with pressure is programmed into the part itself, using the \u0022ideal\u0022 area you can calculate using the asl and vacuum Isps (or thrust)\u00A0should give you accurate results.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou model F here as a function of h and t but the expression on the right hand side involves mf which itself is depending on F which is what we try to solve for. How does one go about this?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0I expressed mf as a function of throttle after I wrote down the equation for F, so I kinda forgot to include it. F is a function of h, t and mf (or throttle).\n\u003C/p\u003E\n\u003Cp\u003E\nOf course, you can reverse mf and F\u00A0the equation and express mf as a function of h, t and F.\n\u003C/p\u003E\n\u003Cp\u003E\nJust remember that F is dependent on external conditions (h and t) while mf is only dependent on throttle that you directly\u00A0control.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEDIT 2: Another thing that has me wondering. On a multi stage rocket, the first stage starts with velocity being zero. The next stages do not. The \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E doesn\u0027t change (I think) but the increase in kinetic energy would depend on that initial velocity and how would that affect the launch profile? (or am I running around in the wrong field here?)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s the Oberth effect. This doesn\u0027t change the \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E of your stage but how efficiently this \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E can be used. So in the end it does influence your trajectory.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Oberth effect depends on your velocity relative to the gravitational speed you are in.\n\u003C/p\u003E\n"},{"CreatedByName":"LN400","CreatedById":140595,"CreatedDateTime":"2016-09-19T17:57:45Z","Content":"\n\u003Cp\u003E\nI have dotted down a few more equations but had to fiddle a bit with scale height and got to roughly 5400.\n\u003C/p\u003E\n\u003Cp\u003E\nFor fixed thrust as a function of height ASL I have:\n\u003C/p\u003E\n\u003Cp\u003E\nF\u003Csub\u003Evac\u003C/sub\u003E\u00A0- F\u003Csub\u003EASL\u003C/sub\u003E\u00A0= F\u003Csub\u003EVA\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\nF(h) =\u00A0F\u003Csub\u003Evac\u003C/sub\u003E\u00A0- F\u003Csub\u003EVA\u003C/sub\u003E\u00A0e\u003Csup\u003E-h / 5400\u003C/sup\u003E\u003C/p\u003E\n\u003Cp\u003E\nFor variable thrust, then the total thrust is\n\u003C/p\u003E\n\u003Cp\u003E\nF(h) =\u00A0T *(F\u003Csub\u003Evac\u003C/sub\u003E\u00A0- F\u003Csub\u003EVA\u003C/sub\u003E\u00A0e\u003Csup\u003E-h / 5400\u003C/sup\u003E) [1]\n\u003C/p\u003E\n\u003Cp\u003E\nwhere T is a function value ranging from 0 to 1 and is represents the throttle.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor I\u003Csub\u003Esp\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u003Csub\u003Esp\u003C/sub\u003E\u003Csub\u003E\u00A0\u003C/sub\u003E\u003Csub\u003Evac\u003C/sub\u003E\u00A0- I\u003Csub\u003Esp\u00A0\u003C/sub\u003E\u003Csub\u003EASL\u003C/sub\u003E\u00A0= I\u003Csub\u003Esp VA\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u003Csub\u003Esp\u003C/sub\u003E(h) =\u00A0I\u003Csub\u003Esp vac\u003C/sub\u003E\u00A0- I\u003Csub\u003Esp VA\u003C/sub\u003E\u00A0e\u003Csup\u003E-h / 5400\u003C/sup\u003E\u00A0[2]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nd/dt m\u003Csub\u003Efuel\u003C/sub\u003E(t, T) =\u00A0T * F\u003Csub\u003Evac\u00A0\u003C/sub\u003E/ (I\u003Csub\u003Esp vac\u003C/sub\u003E* g\u003Csub\u003E0\u003C/sub\u003E) [3]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n... I think....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFrom [3] it seems to me that over a very short time period dt, the mass loss\n\u003C/p\u003E\n\u003Cp\u003E\nd m\u003Csub\u003Efuel\u003C/sub\u003E(t, T) =\u00A0T * F\u003Csub\u003Evac\u00A0\u003C/sub\u003E/ (I\u003Csub\u003Esp vac\u003C/sub\u003E* g\u003Csub\u003E0\u003C/sub\u003E) dt\n\u003C/p\u003E\n\u003Cp\u003E\nand the fuel mass\n\u003C/p\u003E\n\u003Cp\u003E\nm\u003Csub\u003Efuel\u003C/sub\u003E (t, T) =\u00A0 m\u003Csub\u003E0\u003C/sub\u003E\u00A0- integral [T * F\u003Csub\u003Evac\u00A0\u003C/sub\u003E/ (I\u003Csub\u003Esp vac\u003C/sub\u003E* g\u003Csub\u003E0\u003C/sub\u003E)] dt from t = 0 to burnout time t\u003Csub\u003EB\u00A0\u003C/sub\u003E[4]\n\u003C/p\u003E\n\u003Cp\u003E\nSince both F and I\u003Csub\u003Esp\u003C/sub\u003E\u00A0in [4] are constants, then the equation can be rewritten to\n\u003C/p\u003E\n\u003Cp\u003E\nm\u003Csub\u003Efuel\u003C/sub\u003E (t, T) =\u00A0 m\u003Csub\u003E0\u003C/sub\u003E\u00A0- F\u003Csub\u003Evac\u00A0\u003C/sub\u003E/ (I\u003Csub\u003Esp vac\u003C/sub\u003E* g\u003Csub\u003E0\u003C/sub\u003E) *\u00A0integral [T] dt from t = 0 to burnout time t\u003Csub\u003EB\u00A0\u003C/sub\u003E[5]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E = R is constant then d/dt R = 0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n/end of brainwork for now, back to it when I regain my senses.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-19T18:36:12Z\u0022 title=\u002209/19/2016 06:36  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 19, 2016\u003C/time\u003E by LN400\u003C/strong\u003E\n\u003C/span\u003E\n"}]}