{"TopicId":133921,"ForumId":44,"TopicTitle":"Ocean Wave problem","CreatedByName":"Nemrav","CreatedById":91029,"CreatedDateTime":"2016-03-10T15:32:38Z","PageNum":1,"Articles":[{"CreatedByName":"Nemrav","CreatedById":91029,"CreatedDateTime":"2016-03-10T15:32:38Z","Content":"\n\u003Cp\u003E\nSo as a proper,\u00A0over ambitious programmer, I decided to tackle a problem that is at least 3-6 years worth of education above my head, delving into big scary math where nobody my age (nor my teachers for that matter) have dared bury their heads in equations before.\n\u003C/p\u003E\n\u003Cp\u003E\nFor context, this is where my problem comes from :\u00A0\u003Ca href=\u0022http://www-evasion.imag.fr/Membres/Fabrice.Neyret/NaturalScenes/fluids/water/waves/fluids-nuages/waves/Jonathan/articlesCG/simulating-ocean-water-01.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www-evasion.imag.fr/Membres/Fabrice.Neyret/NaturalScenes/fluids/water/waves/fluids-nuages/waves/Jonathan/articlesCG/simulating-ocean-water-01.pdf\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI want to try to simulate ocean waves before I get into other scary water related math problems. I currently have two problems, they both involve programming the\u00A0equation:\u00A0\n\u003C/p\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:250px;\u0022\u003E\u003Ccaption\u003E\nThe equation\n\u003C/caption\u003E\n\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\nh(x, t) = \u01A9\u00A0\u00A0mean_h(k, t) exp (ik \u00B7 x)\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0k\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u003Cbr\u003E\u003Cspan style=\u0022line-height:1.6;\u0022\u003Ewhere h is the height, x is the wave direction vector (2d vector), mean_h is h with a line over it (I believe it is the mean height, hence the name)\u00A0, t is time, k is another 2d vector that I think I\u0027ve defined in programming.\u003C/span\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 (this is more clearly on the article at 4.3, equation 36 in the article)\n\u003C/p\u003E\n\u003Cp\u003E\nBut some parts of the equation raise questions... such as what to do with the \u00A0exp(ik * x) , I can do the exp(I *\u00A0x) just fine (its obviously a dot product), but how do I treat the i, it appears to indicate the complex number, but what should I do ? supposing that just means (0,1) (since it can mean that), what do I do between it and the I (ik * x), should I do a cross product or a dot product seeing as it doesn\u0027t have a dot unlike the other term.\n\u003C/p\u003E\n\u003Cp\u003E\nThe second problem I have is putting the sigma into programming, the person who wrote the equation does not give everything that summation normally does, it uses a vector of all things as the start point, gives no end... It also leaves me clueless as to the mean height, how do I obtain it ? it doesn\u0027t indicate in the article, is it just a product of the summation ?\n\u003C/p\u003E\n\u003Cp\u003E\ntl;dr \u00A0: I have math problems with that equation involving just about everything \u00A0after the = sign.\n\u003C/p\u003E\n"},{"CreatedByName":"Findthepin1","CreatedById":139989,"CreatedDateTime":"2016-03-10T16:45:56Z","Content":"\n\u003Cp\u003E\nI understand maybe a third of that. AFAIK the exponent is IKX.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shpaget","CreatedById":45577,"CreatedDateTime":"2016-03-10T18:13:10Z","Content":"\n\u003Cp\u003E\nI won\u0027t pretend to know the answer to your question, but let\u0027s see if I can use the powers of the forum to summon someone who I believe does.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/4465-yourself/\u0026amp;do=hovercard\u0022 data-mentionid=\u00224465\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/4465-yourself/\u0022\u003E@Yourself\u003C/a\u003E, your self is needed!\n\u003C/p\u003E\n"},{"CreatedByName":"Hannu2","CreatedById":154334,"CreatedDateTime":"2016-03-10T18:18:11Z","Content":"\n\u003Cp\u003E\nComplex numbers are common in frequency related physics. Complex exponential function can be calculated exp(a \u002B b*i) = exp(a) * (cos(b) \u002B i*sin(b)).\n\u003C/p\u003E\n\u003Cp\u003E\nWikipedia is useful reference:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://en.wikipedia.org/wiki/Euler\u0027s_formula\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Euler\u0027s_formula\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYou calculate with complex numbers and when you are ready to draw you take (typically) real part of result as a height value.\n\u003C/p\u003E\n\u003Cp\u003E\nI noticed that you asked also about vectors. It is scalar product between wave vector \u003Cstrong\u003Ek\u003C/strong\u003E and position vector \u003Cstrong\u003Ex\u003C/strong\u003E. You get some angle like number and use Euler\u0027s formula to get a complex number. You calculate sum and then use real part to get height on point \u003Cstrong\u003Ex\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThere is some set of wave vectors. You sum over all of them. I can read the paper and give more advice after about 1 hour.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-10T18:25:34Z\u0022 title=\u002203/10/2016 06:25  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 10, 2016\u003C/time\u003E by Hannu2\u003C/strong\u003E\n\u003Cbr\u003EMore information\n\u003C/span\u003E\n"},{"CreatedByName":"Hannu2","CreatedById":154334,"CreatedDateTime":"2016-03-10T19:49:06Z","Content":"\n\u003Cp\u003E\nOK, I am back. It seems to be equation 36. It is standard 2D inverse discrete Fourier transform. h_tilde(\u003Cstrong\u003Ek\u003C/strong\u003E) is amplitude and phase of the wave with wave vector \u003Cstrong\u003Ek\u003C/strong\u003E. Wave vectors describe plane waves (straight sine waves). Length of \u003Cstrong\u003Ek\u003C/strong\u003E is 2*pi/wavelength and its direction is direction of wave propagation. In this case you take a square area with side length L and divide it to N * N grid points. You can take values from article. You get N^2 \u003Cstrong\u003Ek\u003C/strong\u003E vectors \u003Cstrong\u003Ek\u003C/strong\u003E_m,n = (2*pi*m/L, 2*pi*n/L), where m and n goes from 0 to N-1. This is set over which summations go.\n\u003C/p\u003E\n\u003Cp\u003E\nNext you need h_tilde(\u003Cstrong\u003Ek\u003C/strong\u003E). You can use formulas 39-43. They should be quite straightforward to apply. \u003Ca href=\u0022http://www.design.caltech.edu/erik/Misc/Gaussian.html\u0022 rel=\u0022external nofollow\u0022\u003EHere\u003C/a\u003E you can find how to convert uniformly distributed random numbers to Gaussian distribution. Now your have everything to calculate inverse Fourier transform. Straightforward algorithm would have time complexity of N^4. It is something you do not want to even try if you want to high quality surfaces. Use Fast Fourier Transform algorithm (FFT) (as article suggest) which takes time only N^2*log(N) (difference is about 100000 at N = 1024). FFTs are well investigated area in mathematics and computational science due to its huge importance in signal processing but I am not expert in FFTs. \u003Ca href=\u0022http://paulbourke.net/miscellaneous/dft/\u0022 rel=\u0022external nofollow\u0022\u003EThis\u003C/a\u003E is one example code and Google can find many more. There are also code libraries (also free) with efficient FFT algorithms.\n\u003C/p\u003E\n\u003Cp\u003E\nThere may be errors in my formulas. It is better to check them with that article. I suggest that you program this basic level before moving to forward in article. Please ask if you need or I overestimated your level.\n\u003C/p\u003E\n"},{"CreatedByName":"Nemrav","CreatedById":91029,"CreatedDateTime":"2016-03-10T21:29:14Z","Content":"\n\u003Cp\u003E\nThankyou, you explained it in a way that I wish all papers did ! I will be advancing with this problem, and if I get everything, I will be sure to post my results !\n\u003C/p\u003E\n\u003Cp\u003E\nThankyou !\n\u003C/p\u003E\n\u003Cp\u003E\n(I was kind-of aware of FFT\u0027s, though I still don\u0027t understand them well, but I was completely unawares of Euler\u0027s formula)\n\u003C/p\u003E\n"}]}