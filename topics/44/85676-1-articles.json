{"TopicId":85676,"ForumId":44,"TopicTitle":"Kerbol System Planets Simulated in Universe Sandbox - any help with Kerbin system?","CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-29T07:29:40Z","PageNum":1,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-29T07:29:40Z","Content":"\n\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/3nKZ1\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EI searched but didn\u0027t find any simulations for the Kerbol system built in Universe Sandbox. No doubt because anyone who tried to recreate the \u003Cem\u003Eentire\u003C/em\u003E system found that it\u0027s completely unstable under n-body physics. Well, I only wanted a high-level simulation of the planets so by setting all their masses/densities to 0 they had no gravitational influence upon each other. As you can see in the images above, using RK4 and letting the sim run forwards at automated steps for accuracy, the results are very approximate even 10 Earth years from the start of the game. My attempts to recreate the Kerbin system, however, have not yet been as successful, no doubt due to the smaller size. I\u0027ve included both the Kerbol and Kerbin systems for \u003Ca href=\u0022http://www.blade-edge.com/misc/KSP%20US.zip\u0022 rel=\u0022external nofollow\u0022\u003Edownload here\u003C/a\u003E. Use as you wish. I\u0027m personally going to start filling up my Kerbol system with asteroids I\u0027m tracking to get some nice-looking visualizations.\u003C/p\u003E\u003Cp\u003EAdditionally, all planet diameters are accurate and if you are using Texture Replacer, copy the planet textures into your My Documents/Universe Sandbox/Media folder and they will be used to texture the planets.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-04T04:53:16Z\u0022 title=\u002210/04/2014 04:53  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 4, 2014\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dkmdlb","CreatedById":70275,"CreatedDateTime":"2014-09-29T15:33:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EWell, I only wanted a high-level simulation of the planets so by setting all their masses/densities to 0 they had no gravitational influence upon each other.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, uh, obviously it was stable then, if there is only one source of gravity. It\u0027s not really N-body is it, if only one thing has any mass?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-29T16:53:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dkmdlb\u0022 data-cite=\u0022Dkmdlb\u0022\u003E\u003Cdiv\u003EWell, uh, obviously it was stable then, if there is only one source of gravity. It\u0027s not really N-body is it, if only one thing has any mass?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyea.... that was the whole point. The system is unstable under n-body simulation so I had to remove that factor to create a proper simulation of the planets\u003C/p\u003E\n"},{"CreatedByName":"metaphor","CreatedById":57640,"CreatedDateTime":"2014-09-29T18:15:40Z","Content":"\n\u003Cp\u003ESo.. what happens if you do include mass for every body in the system? Does Vall crash into Jool? Does Minmus get ejected into interstellar space?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-29T20:49:22Z","Content":"\n\u003Cp\u003Esearch it up on YouTube, someone did it already\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-30T23:29:34Z","Content":"\n\u003Cp\u003Eunfortunately I continue to be unable to simulate the Kerbin system - even approximately. I suspect it\u0027s mainly due to the fact that Mun and Minmus have orbits of 0 eccentricity. Universe Sandbox doesn\u0027t like that very much, best I can get is something like 0.000001 for the eccentricity value and at this scale that seems enough to throw things out of sync within just a few days. The Kerbol system is large enough that Kerbin\u0027s 0 eccentricity value takes longer to become a problem.\u003C/p\u003E\u003Cp\u003EHowever I have been able to achieve my goal with the Kerbol system, importing asteroids into their proper orbits:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.blade-edge.com/misc/Untitled.png\u0022 alt=\u0022Untitled.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/wg4XTxS.jpg\u0022 alt=\u0022wg4XTxS.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s too bad that Universe Sandbox doesn\u0027t have better tools for visualization. For example I can\u0027t set up camera paths or hide certain bodies.\u003C/p\u003E\u003Cp\u003EWait WTF Moho??? Aww crap...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-30T23:33:23Z\u0022 title=\u002209/30/2014 11:33  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 30, 2014\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"andrewas","CreatedById":24662,"CreatedDateTime":"2014-09-30T23:37:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022metaphor\u0022 data-cite=\u0022metaphor\u0022\u003E\u003Cdiv\u003ESo.. what happens if you do include mass for every body in the system? Does Vall crash into Jool? Does Minmus get ejected into interstellar space?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIIRC, the system as a whole and most planetary systems are stable, at least in the short term. But the Jool system falls apart quickly, with the outermost moon ejected very quickly and the next one ejected after a year or so.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-01T08:39:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EWait WTF Moho??? Aww crap...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENevermind, turns out I was just working too quickly to test out things after learning the SFS file stores Mean Anomaly at Epoch in radians rather than degrees for some reason. I forgot to enable RK4 simulation and that threw off Moho.\u003C/p\u003E\u003Cp\u003ETested out 28 asteroids. So far everything is showing up where it should be. The process isn\u0027t very fast - these 28 asteroids took me the better part of 2.5hrs to get into the simulation. But now that I have the method down it doesn\u0027t take as long. A short video of what it looks like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/vHAgZzYVE0U?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E \u003Cp\u003EPink are short-period asteroids whose orbit remains within Dres, yellow are sun grazers that come well within Moho at periapsis, and orange are long-period asteroids whose orbits extend beyond Dres. I\u0027ll have plenty of Near Kerbin Objects to add in blue as well.\u003C/p\u003E\u003Cp\u003EGood news too on the camera tools - the devs have told me Universe Sandbox^2 will have some eventually\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-01T08:42:12Z\u0022 title=\u002210/01/2014 08:42  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 1, 2014\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dominatus","CreatedById":76870,"CreatedDateTime":"2014-10-01T16:07:56Z","Content":"\n\u003Cp\u003EThis makes me wonder what would have to be tweaked with planetary orbits to stop the system from falling apart... Eccentricity, orbital period, distance orbiting, etc.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-04T04:56:25Z","Content":"\n\u003Cp\u003Estill can\u0027t get the Kerbin system to remain approximate. Even after a few days at RK4 on high accuracy time dilation it\u0027s out of whack. I guess the scale is just too small to properly simulate a single-body system? Anyone have any ideas? Kerbin mass was used from the Wiki like I did for Kerbol, and Mun and Minmus were placed exactly like I did for the planets in the Kerbol simulation, which stays approximate for at least 10 years (maybe more, didn\u0027t test further)\u003C/p\u003E\n"},{"CreatedByName":"metaphor","CreatedById":57640,"CreatedDateTime":"2014-10-04T06:03:59Z","Content":"\n\u003Cp\u003EThe Mun is much bigger and closer compared to Kerbin than the real Moon is to the Earth. Minmus is also pretty far out in Kerbin\u0027s SOI. In an n-body simulation I would expect Minmus\u0027s orbit to be unstable, so maybe that\u0027s what\u0027s happening there.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-04T07:17:45Z","Content":"\n\u003Cp\u003Ethere\u0027s also the 0 values for ECC and INC I forgot to mention. Ubox doesn\u0027t like those values \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Armchair Rocket Scientist","CreatedById":76165,"CreatedDateTime":"2014-10-04T22:10:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dominatus\u0022 data-cite=\u0022Dominatus\u0022\u003E\u003Cdiv\u003EThis makes me wonder what would have to be tweaked with planetary orbits to stop the system from falling apart... Eccentricity, orbital period, distance orbiting, etc.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs others have pointed out, Minmus is really far out in Kerbin\u0027s SOI. Perturbations from Kerbol and Mun would eventually cause its orbit to become so eccentric it passed outside Kerbin\u0027s Hill sphere and escaped into interplanetary space. Moving both it and the Mun inward might help, but there might need to be a stabilizing resonance or something to prevent the Mun from throwing it out of the system. Gilly I\u0027m not sure about. Due to its enormous mass and close orbit Ike and Duna will be pretty much impossible to mess with. However, tidal forces will quickly reduce Ike\u0027s eccentricity to a near-perfect circle.\u003C/p\u003E\u003Cp\u003EJool\u0027s moons are unstable because they\u0027re WAY too big relative to Jool. Jool is barely over a hundred times more massive than Tylo - a ratio similar to Earth\u0027s moon. In reality all the gas giants in our solar system are around 5,000-10,000X more massive than all their moons put together. Oversized moons produce far larger perturbations on the orbits of the other moons, making the system unstable.\u003C/p\u003E\u003Cp\u003EIf you want a \u0022realistic\u0022 simulation, a good bet is to start by plugging in the values from the 10X stock RSS config, then reducing the masses of Jool\u0027s moons by 100.\u003C/p\u003E\u003Cp\u003ETo add one thing: the reason you can\u0027t accurately simulate the movements of all the planets in US2 is that as an N-body simulator it will by nature eventually develop rounding errors. To my knowledge it cannot recognize that it\u0027s simulating a two-body system (or an N-body system with every mass but one set to zero), and will not put objects \u0022on rails\u0022 in Keplerian orbits. In addition, the \u0022auto timestep\u0022 feature will usually set the timestep high enough that there are still significant rounding errors, it just sets it low enough that the system doesn\u0027t fly apart.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-04T22:58:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Ethere\u0027s also the 0 values for ECC and INC I forgot to mention. Ubox doesn\u0027t like those values \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI believe the standard \u003Cem\u003Eall moons\u003C/em\u003E simulation has zero eccentric orbits. That\u0027s US\u003Csup\u003E2\u003C/sup\u003E, not the first version.\u003C/p\u003E\n"}]}