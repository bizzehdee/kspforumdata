{"TopicId":168891,"ForumId":44,"TopicTitle":"A Question About Reaction Control Systems","CreatedByName":"Deus Zed Machina","CreatedById":160859,"CreatedDateTime":"2017-12-25T08:19:33Z","PageNum":1,"Articles":[{"CreatedByName":"Deus Zed Machina","CreatedById":160859,"CreatedDateTime":"2017-12-25T08:19:33Z","Content":"\n\u003Cp\u003E\nI\u0027m developing a game of my own based around spaceflight, and a physics problem came up that I\u0027m not sure how to solve. In short, I need to figure out how to distribute thrust across multiple \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thrusters such that the net force lines up with a spacecraft\u0027s center of mass.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022lPXaEUS.png\u0022 class=\u0022ipsImage\u0022 height=\u0022536\u0022 src=\u0022https://i.imgur.com/lPXaEUS.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis haphazard assembly of default Unity shapes is the spacecraft\u00A0in question, and the little cubes are the \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thruster blocks. Currently, they all push with a force of 100 Newtons along the x, y, and/or z axes depending upon which keys the player is pressing. Since the lower blocks are closer to the center of mass than the upper ones, the net force applied by the thrusters when I try to move the ship horizontally is actually slightly above the center of mass, causing the whole thing\u00A0to rotate. I could manually set the center of mass or move the lower thrusters so they\u0027re\u00A0lined up properly, but I\u0027d rather figure out how to eliminate this rotation without\u00A0doing either since that would give me more flexibility when I design other ships to add to the game.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo how would I calculate the amount of thrust the lower blocks should apply such that the ship doesn\u0027t rotate?\n\u003C/p\u003E\n"},{"CreatedByName":"DDE","CreatedById":146349,"CreatedDateTime":"2017-12-25T10:18:27Z","Content":"\n\u003Cp\u003E\nTry to tag the people behind \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E Build Aid, MechJeb and Throttle Control Avionics among others.\n\u003C/p\u003E\n"},{"CreatedByName":"StrandedonEarth","CreatedById":89439,"CreatedDateTime":"2017-12-25T18:39:35Z","Content":"\n\u003Cp\u003E\nIt would be a simple question of leverage and torque, T=FD where F is the force applied and D is the distance from the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E.\u00A0If you have a thruster pushing 100N\u00A0at 1m from the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E, then the thruster on the other side needs to provide the same 100Nm of torque to balance it.\n\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-25T21:58:37Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://en.wikipedia.org/wiki/Moment_of_inertia#Newton\u0027s_laws\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Moment_of_inertia#Newton\u0027s_laws \u0026lt;---Read this\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://en.wikipedia.org/wiki/Moment_of_inertia#Motion_in_space_of_a_rigid_body,_and_the_inertia_matrix\u0022 rel=\u0022external nofollow\u0022\u003E/wiki/Moment_of_inertia#Motion_in_space_of_a_rigid_body,_and_the_inertia_matrix\u003C/a\u003E .\n\u003C/p\u003E\n\u003Cp\u003E\nThese describe the phyics of motion for object whose application force vectors do no go through the center of mass (IOW they are not translation accelerations but rotational accelerations)\n\u003C/p\u003E\n\u003Cp\u003E\nI would add to that the math is very complex and you need at least one error detection. M = momentum, r= rotational\n\u003C/p\u003E\n\u003Cp\u003E\n\u03B4M\u003Csub\u003Er\u003C/sub\u003E/dt \u002B\u00A0\u03B4M\u003Csub\u003Eobject\u003C/sub\u003E/dt = V\u003Csub\u003Eexhaust\u003C/sub\u003E * mass flow\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221d951be5930ba4f20d8327e8e4da55e75df386af\u0022 class=\u0022ipsImage\u0022 height=\u0022163\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/1d951be5930ba4f20d8327e8e4da55e75df386af\u0022 width=\u0022347\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022140a33b8857435797ce58aaec89d066d8e796faf\u0022 class=\u0022ipsImage\u0022 height=\u002224\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/140a33b8857435797ce58aaec89d066d8e796faf\u0022 width=\u002278\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nk-caret is a unit vector normal to the plane of rotation (don\u0027t worry about it in a 2-d system of acceleration).\u003Cbr\u003E\nBecause rotations can be described in three axes (minimally 2, in the roll plane of XY and \u03B4(Z/r)/dt at Z=0\n\u003C/p\u003E\n\u003Cp\u003E\nDefine position as R = (0,0,0) and r = pXYZ = SQRT(pX\u003Csup\u003E2\u003C/sup\u003E \u002B pY\u003Csup\u003E2\u003C/sup\u003E \u002B pZ\u003Csup\u003E2\u003C/sup\u003E) the position vector components in a object specific coordintate system\u003Cbr\u003E\nDefine unit vectors [i = x,y,z] iu = pi/pXYZ\u003Cbr\u003E\nEach thruster has a set of 6 position vectors and a position magnitude (\u03B4r).\u003Cbr\u003E\nDefine a global coordinate system in which any translational motion of R can be translated into the global coordinate system as subcomponent vectors of acceleration that also where the component vectors a[i = x,y,z] is the additive of all subcomponents a\u003Csub\u003E\u003Cem\u003Ethrust\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E \u002B a\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003Egravimetric\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E \u002B a\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003Eaerodynamic\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E It is neccesary to carry both positions and velocity vectors. Where\u003Cem\u003E [iu = Xu, Yu, Zu \u003C/em\u003Ethe unit position vectors] and 0 and 1 are starting and ending times of the interval. change of velocity attributed to gravity is\u00A0\u003Cem\u003E 0.5g(-iu\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E0\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T \u002B 0.5(-iu\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E1\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T \u003C/em\u003E\u003C/em\u003E\u003C/em\u003Eand the change of position caused by gravity\u00A0 approximates to\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E 0.375g(-iu\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E0\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E2\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E \u002B 0.125g(-iu\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E1\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E2\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E \u003C/em\u003E\u003C/em\u003E\u003C/em\u003Ein each of the three directions. If done properly this will take care of the translational aspects.\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFor computational reasons convert back to Keplerian Elliptical when needed (Such as during warping).\n\u003C/p\u003E\n\u003Cp\u003E\nFor rotational aspects use the objects coordinate system\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ba9b70b1347bdd9d18f140f45ea7e4db3666d38a\u0022 class=\u0022ipsImage\u0022 height=\u002219\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/ba9b70b1347bdd9d18f140f45ea7e4db3666d38a\u0022 width=\u002298\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022bec45b00f3f6882851abb9cf06a0a5ec2b9de55a\u0022 class=\u0022ipsImage\u0022 height=\u002254\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/bec45b00f3f6882851abb9cf06a0a5ec2b9de55a\u0022 width=\u0022183\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003EIc =\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E the moment of inertia about point\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E R (0,0,0)\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u00226817a680bf02967f5ab5788badea07e5b205cb42\u0022 class=\u0022ipsImage\u0022 height=\u002218\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/6817a680bf02967f5ab5788badea07e5b205cb42\u0022 width=\u0022152\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nwhere alpha is the angular acceleration about R and omega is the existing angular rotation about R in the existing plane.\u003Cbr\u003E\nIf the added motion is purely rotational, for example all energy is conserved in\u003Cem\u003E Ic*w i\u003C/em\u003Ef the craft is not rotating and thrust is applied then it becomes torque resulting in angular motion. YOu will need to use vector math to determine the \u0398 and \u03C6 components and direction\u003Cem\u003E. \u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere are two directives, 1 is to push and the other is to roll (assume we want to roll in any of three axes). In the push directive set up 12 points (double cube) (sensors) and test the push balance, tone the \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E output for\u00A0 each set. pushes 12 points because user can combine 1X, 1Y and 1Z to generate composites that are rotated 45 degreees to each axis (like firing LK and H simultaneously in KSP) When inputs H, or HK or HLK each thruster will respond at different levels. To roll you want to balance along the axis of rotation thrusters.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u00A0 I\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E forgot to add to this yesterday, this is how to interconvert between two coordinate systems ( I had a much longer post that I shortened to stick to the relevant posts, but I cropped to much)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ea2a2afb8c2c5d404999fe1d9be93838cba5dc4c\u0022 class=\u0022ipsImage\u0022 height=\u002220\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/ea2a2afb8c2c5d404999fe1d9be93838cba5dc4c\u0022 width=\u0022145\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022a3bfeeef5ac09018d9f5741512150af4f7623897\u0022 class=\u0022ipsImage\u0022 height=\u002220\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/a3bfeeef5ac09018d9f5741512150af4f7623897\u0022 width=\u0022148\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe translational thrust must be converted from the ships axial based coordinate system to the global coordinate system.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u00A0 \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u00A0 \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-26T17:24:49Z\u0022 title=\u002212/26/2017 05:24  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 26, 2017\u003C/time\u003E by PB666\u003C/strong\u003E\n\u003Cbr\u003Einserted the wrong formula in the wrong place, doh\n\u003C/span\u003E\n"},{"CreatedByName":"sevenperforce","CreatedById":157695,"CreatedDateTime":"2017-12-25T22:21:18Z","Content":"\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223252695\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514239117\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/a1893c187bb08364e5292a2e62f71ad1b305e59b\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022a1893c187bb08364e5292a2e62f71ad1b305e59b\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u002254\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/a1893c187bb08364e5292a2e62f71ad1b305e59b\u0022 width=\u0022494\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://en.wikipedia.org/wiki/Moment_of_inertia#Newton\u0027s_laws\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Moment_of_inertia#Newton\u0027s_laws \u0026lt;---Read this\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://en.wikipedia.org/wiki/Moment_of_inertia#Motion_in_space_of_a_rigid_body,_and_the_inertia_matrix\u0022 rel=\u0022external nofollow\u0022\u003E/wiki/Moment_of_inertia#Motion_in_space_of_a_rigid_body,_and_the_inertia_matrix\u003C/a\u003E .\n\u003C/p\u003E\n\u003Cp\u003E\nThese describe the phyics of motion for object whose application force vectors do no go through the center of mass (IOW they are not translation accelerations but rotational accelerations)\n\u003C/p\u003E\n\u003Cp\u003E\nI would add to that the math is very complex and you need at least one error detection. M = momentum, r= rotational\n\u003C/p\u003E\n\u003Cp\u003E\n\u03B4M\u003Csub\u003Er\u003C/sub\u003E/dt \u002B\u00A0\u03B4M\u003Csub\u003Eobject\u003C/sub\u003E/dt = V\u003Csub\u003Eexhaust\u003C/sub\u003E * mass flow\u003Cbr\u003E\nBecause rotations can be described in three axes (minimally 2, in the roll plane of XY and \u03B4Z/dt)\n\u003C/p\u003E\n\u003Cp\u003E\nDefine position as R = (0,0,0) and r = pXYZ = SQRT(pX\u003Csup\u003E2\u003C/sup\u003E \u002B pY\u003Csup\u003E2\u003C/sup\u003E \u002B pZ\u003Csup\u003E2\u003C/sup\u003E) the position vector components in a object specific coordintate system\u003Cbr\u003E\nDefine unit vectors [i = x,y,z] iu = pi/pXYZ\u003Cbr\u003E\nEach thruster has a set of 6 position vectors and a magnitude.\u003Cbr\u003E\nDefine a global coordinate system in which any translational motion of R can be translated into the global coordinate system as subcomponent vectors of acceleration that also where the component vectors a[i = x,y,z] is the additive of all subcomponents a\u003Csub\u003E\u003Cem\u003Ethrust\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E \u002B a\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003Egravimetric\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E \u002B a\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003Eaerodynamic\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E It is neccesary to carry both positions and velocity vectors. Where [iu = Xu, Yu, Zu the unit position vectors] and 0 and 1 are starting and ending times of the interval. change of velocity attributed to gravity is\u00A0 0.5g(-iu\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E0\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T \u002B 0.5(-iu\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E1\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T and the change of position caused by gravity\u00A0 approximates to 0.375g(-iu\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E0\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E2\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E \u002B 0.125(-iu\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E1\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sub\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E)*\u03B4T\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Csup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E2\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/sup\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E in each of the three directions. If done properly this will take care of the translational aspects. \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003EFor computational reasons convert back to Keplerian Elliptical when needed (Such as during warping). \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003EFor rotational aspects use the objects coordinate system \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/ba9b70b1347bdd9d18f140f45ea7e4db3666d38a\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022ba9b70b1347bdd9d18f140f45ea7e4db3666d38a\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u002219\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/ba9b70b1347bdd9d18f140f45ea7e4db3666d38a\u0022 width=\u002298\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/bec45b00f3f6882851abb9cf06a0a5ec2b9de55a\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022bec45b00f3f6882851abb9cf06a0a5ec2b9de55a\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u002254\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/bec45b00f3f6882851abb9cf06a0a5ec2b9de55a\u0022 width=\u0022183\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003EIc = the moment of inertia about point R (0,0,0)\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/6817a680bf02967f5ab5788badea07e5b205cb42\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u00226817a680bf02967f5ab5788badea07e5b205cb42\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u002218\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/6817a680bf02967f5ab5788badea07e5b205cb42\u0022 width=\u0022152\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003Ewhere alpha is the angular acceleration about R and omega is the existing angular rotation about R in the existing plane.\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003EIf the added motion is purely rotational, for example all energy is conserved in Ic*w if the craft is not rotating and thrust is applied then it becomes torque resulting in angular motion. YOu will need to use vector math to determine the \u0398 and \u03C6 components and direction. \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cem\u003E\u003Cem\u003EThere are two directives, 1 is to push and the other is to roll (assume we want to roll in any of three axes). In the push directive set up 12 points (double cube) (sensors) and test the push balance, tone the \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003ERCS\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/abbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E output for\u00A0 each set. pushes 12 points because user can combine 1X, 1Y and 1Z to generate composites that are rotated 45 degreees to each axis (like firing LK and H simultaneously in KSP) When inputs H, or HK or HLK each thruster will respond at different levels. To roll you want to balance along the axis of rotation thrusters. \u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u00A0\u00A0\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nYeah, exactly what he said.\n\u003C/p\u003E\n"},{"CreatedByName":"Zeiss Ikon","CreatedById":174016,"CreatedDateTime":"2017-12-26T22:29:24Z","Content":"\n\u003Cp\u003E\nTo simplify a lot of the math, for this specific situation, you need to reduce thrust from thruster blocks in inverse proportion to the distance of their thrust line from the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E.\u00A0 So, with two sets of thruster blocks, one 2 m from the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E and the other 3 m from \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E, you need to reduce thrust of the latter set by 1/3 to prevent inducing rotation when you translate up/down or left/right (but not fore/aft, assuming the layout is symmetrical around the roll axis).\n\u003C/p\u003E\n\u003Cp\u003E\nNow, when you want to rotate, won\u0027t want to compensate this way -- say with the same layout as above, symmetrical on the roll axis but one set further aft of the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E than the other set if forward of it.\u00A0 If you compensate for distance when you pitch up, you\u0027ll be applying more upward thrust with the forward set than downward force with the lower set, and you\u0027ll add a translation \u0022upward\u0022 along with your pitch up.\u00A0 Applying identical thrust will still rotate the craft around the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E. it just won\u0027t mix translation you hadn\u0027t commanded.\n\u003C/p\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2017-12-27T11:07:44Z","Content":"\n\u003Cp\u003E\nAnd to make the RCSing smooth (accelerating on start, decelerating on finish) you\u0027d better use PID-loops or so, \u003Ca href=\u0022https://ksp-kos.github.io/KOS_DOC/tutorials/pidloops.html\u0022 rel=\u0022external nofollow\u0022\u003Elike the guru recommend\u003C/a\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2017-12-27T12:27:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223252358\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514189973\u0022 data-ipsquote-userid=\u0022160859\u0022 data-ipsquote-username=\u0022Deus Zed Machina\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 25.12.2017 at 11:19 AM, Deus Zed Machina said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI could manually set the center of mass or move the lower thrusters so they\u0027re\u00A0lined up properly, but I\u0027d rather figure out how to eliminate this rotation without\u00A0doing either since that would give me more flexibility when I design other ships to add to the game.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSince the actual control problem is quite complex, and it\u0027s solution does not (I assume, since it\u0027s you who is designing crafts) increase the gameplay value of your game, you can just abstract it away by one net torque to some big part of your craft. The control problem can be solved. Just assume that is it solved and already implemented in all your crafts by the lore, and just tune the net torque value for your likings\\balancing.\n\u003C/p\u003E\n\u003Cp\u003E\nA lot of performance problems of KSP could be partially mitigated by such simplifications. IMHO, you want to solve a problem you don\u0027t need to solve.\n\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-27T13:42:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253741\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514377678\u0022 data-ipsquote-userid=\u0022133181\u0022 data-ipsquote-username=\u0022Boris-Barboris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Boris-Barboris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSince the actual control problem is quite complex, and it\u0027s solution does not (I assume, since it\u0027s you who is designing crafts) increase the gameplay value of your game, you can just abstract it away by one net torque to some big part of your craft. The control problem can be solved. Just assume that is it solved and already implemented in all your crafts by the lore, and just tune the net torque value for your likings\\balancing.\n\u003C/p\u003E\n\u003Cp\u003E\nA lot of performance problems of KSP could be partially mitigated by such simplifications. IMHO, you want to solve a problem you don\u0027t need to solve.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo do that the fuel tanks would have to be zero centered in their construction and be mounted on either side of the center of mass. It does not exactly have to be this, you could have 3 tank. 2 on the side and one on top of the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E. Or 4 tanks where the center of mass lies between the pairs. The problem is that if you don\u0027t have an \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E balancer you will rotate as fuel is used unless the fuel is balanced on the normal to the plane of thrust. I would make the argument that the easiest ship to \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E balance is a cube (particularly the way KSP physics works) where each of the \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E units is at a vertex. Each of the fuel tanks is on a side, the thruster is on the bottom and a balancing mass on the top.\n\u003C/p\u003E\n\u003Cp\u003E\nIn actuality, this is the way it will have to be implemented as you say. There are two vector physics, the translational, those that go into global coordinate system, and the rotational, those that go into the crafts coordinate system. When many thrusters are fired the translational acceleration vectors need to be parsed out of the total vectors and applied to spacecraft motion in the scenery, the rotational accelerations need to then be applied.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E is 0,0,0 . . . . .a force 1 is applied 0,1,0 at 2,0,0 and force 2 is applied 0,1,0 at -1,0,0. The total translational force is 0,1.5,0 and this needs to be converted into the sceneries coordinate system. The remaining 0.5 of force goes into rotating this ship around its Z axis, therefore the scenery translation vectors are only moment vectors, and change as thrust is applied. Its pretty hair trigonometry.\n\u003C/p\u003E\n\u003Cp\u003E\nWhy accumulating forces along vectors has to be done? Because if you fired force 1 and then force 2, force 1 would principally rotate the ship one direction and force 2, while moving the ship a little would primarily rotate the ship back. When applied together they assume both shared and individual characteristics. Judging how KSP handles the problem, the solution for space stations is not robust, its clear when sections are joined certain \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E should be modulated. I don\u0027t know what the clock cycle trade-offs are but they certainly could have invested more into this aspect of the game.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI should also point out that the last equations that I added are not correct, the will only work if you move the ship Z axis is\u00A0 tangent to the elliptical. I am working on this problem myself and haven\u0027t found the precise set of equations for 3D translation of an object in the elliptical, I do have something currently working on the computer, but .. . . .\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-27T13:49:30Z\u0022 title=\u002212/27/2017 01:49  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 27, 2017\u003C/time\u003E by PB666\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2017-12-27T13:49:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253778\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514382130\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo do that the fuel tanks would have to be zero centered in their construction and be mounted on either side of the center of mass\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPhysX allows to apply torque directly. \u003Cu\u003EWithout applying any forces\u003C/u\u003E. Whatever you apply it to, it will simply rotate, no matter how complex, without translation side effects. Unless of course it\u0027s so big that PhysX solver fails to conserve momentum.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253778\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514382130\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhy accumulating forces along vectors has to be done?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyou don\u0027t need forces at all for \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u0027s case.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-27T15:21:03Z\u0022 title=\u002212/27/2017 03:21  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 27, 2017\u003C/time\u003E by Boris-Barboris\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-27T13:59:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253782\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514382577\u0022 data-ipsquote-userid=\u0022133181\u0022 data-ipsquote-username=\u0022Boris-Barboris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Boris-Barboris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPhysX allow to apply torque directly. \u003Cu\u003EWithout applying any forces\u003C/u\u003E. Whatever you apply it to, it will simply rotate, no matter how complex, without translation side effects. Unless of course it\u0027s so big that PhysX solver fails to conserve momentum.\n\u003C/p\u003E\n\u003Cp\u003E\nyou don\u0027t need forces at all for \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u0027s case.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou don\u0027t need forces to translate, but you do need to rotate, at least the mass of the fuel is a variable, so that had to be factored into the rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a problem with KSP as I mentioned. In KSP if your fuel tank is zeroed at the bottom, thats were the parts \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E is even when full, the fuels \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E is at the bottom. So according to proper physics (oxymoronic) the acceleration needs to be derived from the application of force divided by the accumulation of mass times their forces at different radii. These are applied to the parts zero vector. That resulting vector is what you need, but the way its calculated is a joke.\n\u003C/p\u003E\n\u003Cp\u003E\nMost folks don\u0027t realize this until you built a fair number of parts, I always want my parts surface attach to be zeroed along the X-axis, but on aerodynamic side mounted tanks this is often far the center of volume which is where you want the fuels center of Mass to be applied.\n\u003C/p\u003E\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2017-12-27T14:05:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253786\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514383164\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou don\u0027t need forces to translate, but you do need to rotate\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m afraid you got it reversed. Net force translates. Net torque rotates. In PhysX\\Unity torque does not need a force to exist.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253786\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514383164\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn KSP if your fuel tank is zeroed at the bottom\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t understand you, what do fuel tanks CoMs have to do with the topic?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-27T14:17:12Z","Content":"\n\u003Cp\u003E\nSee the equations in the first, in reality the newtonian equations are for particles, the assumption that any mass can be broken into particles, this to deal\u00A0 with the fact that rotating objects are not cylinders but have complex 3-D shapes. So when a craft rotates its fuel is on one side of the tank, when it moves forward its on the bottom, when it reverses the fuel moves to the front. KSP applies all the intertia at a single particle at the parts zero. It treats it as a point mass. (This is a science forum, not a parts modding forum).\n\u003C/p\u003E\n\u003Cp\u003E\nThe forces that translate are easily wiped clean simply by taking the starting acceleration and multiplying it by mass\u003Csub\u003Eo\u003C/sub\u003E/(mass\u003Csub\u003E0\u003C/sub\u003E - \u03B4mass/\u003Csub\u003E2\u003C/sub\u003E). Its not so easy with rotations, if done properly the calculation is much more complex. Second thruster output is in Newtons, which is a force. [The equations I listed showed how to convert the force to torque and I do mention torque]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-27T14:55:09Z\u0022 title=\u002212/27/2017 02:55  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 27, 2017\u003C/time\u003E by PB666\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2017-12-27T14:20:45Z","Content":"\n\u003Cp\u003E\nUnikely excessive accuracy is required in a computer game.\n\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-27T14:49:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253803\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514384445\u0022 data-ipsquote-userid=\u0022129408\u0022 data-ipsquote-username=\u0022kerbiloid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, kerbiloid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUnikely excessive accuracy is required in a computer game.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nStart building mods and find out, I actually had to go back into blender, change the zero on some of my parts to keep very odd things from happening.\n\u003C/p\u003E\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2017-12-27T15:13:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253799\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514384232\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKSP applies all the intertia at a single particle at the parts zero. It treats it as a point mass.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot true in the slightest. Each part with a rigid body (so every one but the smallest utility ones)\u00A0has it\u0027s own inertia tensor.\n\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-27T15:34:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253839\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514387639\u0022 data-ipsquote-userid=\u0022133181\u0022 data-ipsquote-username=\u0022Boris-Barboris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 minutes ago, Boris-Barboris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot true in the slightest. Each part with a rigid body (so every one but the smallest utility ones)\u00A0has it\u0027s own inertia tensor.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIts inertial physics are at its 0,0,0 and treated as a point mass.\u00A0 If you want I can prove it to you.\n\u003C/p\u003E\n\u003Cp\u003E\nTake a size2 fuel tank in blender whose perimeter is centered at 0,0,0, move its zero out to X = 11.125\u00A0 This can be done by moving the 3-D cursor to -11.125, 0, 0 and in object mode setting the zero to the 3-D cursor. In the game X becomes -X. In the game set its attachment point to X = 12.5, 0, 0 compare the original part to the modified part note the hang of the tank once on the launch.\n\u003C/p\u003E\n\u003Cp\u003E\nThe inertial physics does not care about part shape or where you imagine the fuel to be, it only cares where that parts designated center is, if you move that center 10 meters out, it will be as if the tank had a 10 meter pole attaching it to the craft. It assumes that all the fuel is at the point designated as the center.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-27T15:36:55Z\u0022 title=\u002212/27/2017 03:36  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 27, 2017\u003C/time\u003E by PB666\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2017-12-27T15:41:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253823\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514386193\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n48 minutes ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStart building mods and find out, I actually had to go back into blender, change the zero on some of my parts to keep very odd things from happening.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nStarted, just with Wings3d instead of Blender. Still sure that a computer game doesn\u0027t need a precise solution.\n\u003C/p\u003E\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2017-12-27T15:44:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253847\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514388882\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIts inertial physics are at its 0,0,0 and treated as a point mass\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPart\u0027s center of mass is set by default to 0,0,0 (wich is overridable via cfg iirc). Physics engine \u003Cu\u003Edoes not\u003C/u\u003E treat the part as a point mass.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253847\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514388882\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt assumes that all the fuel is at the point designated as the center.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo. \u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Rigidbody-inertiaTensor.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/ScriptReference/Rigidbody-inertiaTensor.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-27T20:56:07Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253855\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514389470\u0022 data-ipsquote-userid=\u0022133181\u0022 data-ipsquote-username=\u0022Boris-Barboris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Boris-Barboris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPart\u0027s center of mass is set by default to 0,0,0 (wich is overridable via cfg iirc). Physics engine \u003Cu\u003Edoes not\u003C/u\u003E treat the part as a point mass.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLet me use the correct word, its origin, the inertial part does. I\u0027ve \u0027tested\u0027 it many times\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253855\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514389470\u0022 data-ipsquote-userid=\u0022133181\u0022 data-ipsquote-username=\u0022Boris-Barboris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Boris-Barboris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo. \u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Rigidbody-inertiaTensor.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/ScriptReference/Rigidbody-inertiaTensor.html\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBelief is a wonderful thing, I can post on the internet that I\u0027ve seen a flying unicorn and someone will believe it. . . . .science is about testing, that\u0027s why we tend to be atheist.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022REkfJrX.png\u0022 class=\u0022ipsImage\u0022 height=\u0022665\u0022 src=\u0022https://i.imgur.com/REkfJrX.png\u0022 width=\u0022349\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe tank on the left has all the same cfg.file mass variables (empty and fuel) and physics as the tank on right. Except the origin for the left part is offest\u00A0 6.25 from its center to the left and the attachment point is -7.219, the left tanks visible center is closer to the beam trusses than the ones on the right, and yet the left tank is acting like its further away, that is because to KSP, the tank is 6 meters further away. It took me 20 minutes to set up the image because the problem tank kept hitting the ground and blowing up, even with 1 truss it would fall over too fast to take a picture. To answer the question, you believe what Unity tells you or what your eyes and game experience tell you. I am telling you that the game uses the a parts origin to apply its inertia. I don\u0027t know about its drag cube, but its inertia is applied at the origin. Another issue with fuel tanks is hopping 1000 meters in the air, the larger the tank the higher it can hop. I could create a long list of non-physical launch pad behaviors.\n\u003C/p\u003E\n\u003Cp\u003E\nJust go to blender and try it, when you have done it and ported it into the game we can discuss it elsewhere, but further discussion here is off-topic but to say that the game physics is not RL physics in many ways.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2017-12-27T22:21:08Z","Content":"\n\u003Cp\u003E\nYou guys are talking through each other. Every rigid body ever is simulated as a point mass \u002B moment of inertia tensor. These aren\u0027t contradictory statements, because they describe two distinct degrees of freedom. You accumulate all forces as impulse against point-mass and all torque as change to the angular momentum.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160859-deus-zed-machina/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022160859\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160859-deus-zed-machina/\u0022 rel=\u0022\u0022\u003E@Deus Zed Machina\u003C/a\u003E: To solve a problem, first step is always to figure out the correct statement. Technically, what you have here is a Linear Programming problem. Fortunately, it\u0027s a very simple one, so you don\u0027t need a full LP solver.\n\u003C/p\u003E\n\u003Cp\u003E\nWe wish to\u00A0\u003Cstrong\u003Ematch given torque\u003C/strong\u003E\u00A0subject to constraints that\u00A0\u003Cstrong\u003Enet force is zero\u003C/strong\u003E\u00A0and\u00A0\u003Cstrong\u003Eno thruster exceeds max thrust\u003C/strong\u003E. Statements in bold will become equations.\n\u003C/p\u003E\n\u003Cp\u003E\n1)\u00A0\u03A3\u00A0\u003Cstrong\u003EF\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0x\u00A0\u003Cstrong\u003Er\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0=\u00A0\u003Cstrong\u003E\u03C4\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n2)\u00A0\u03A3\u00A0\u003Cstrong\u003EF\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0= 0\n\u003C/p\u003E\n\u003Cp\u003E\n3) 0 \u2264 F\u003Csub\u003Ei\u003C/sub\u003E\u00A0\u2264 F\u003Csub\u003Ei max\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere, F\u003Csub\u003Ei\u003C/sub\u003E\u00A0is thrust of i-th \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E, with\u00A0F\u003Csub\u003Ei max\u003C/sub\u003E\u00A0being its max value,\u00A0\u003Cstrong\u003EF\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0= \u003Cstrong\u003Eu\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003EF\u003Csub\u003Ei\u003C/sub\u003E\u00A0is the corresponding thrust vector (\u003Cstrong\u003Eu\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0being unit vector in direction of thrust),\u00A0\u003Cstrong\u003Er\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0is position of i-th thruster with respect to \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E, and\u00A0\u003Cstrong\u003E\u03C4\u003C/strong\u003E\u00A0is desired torque.\n\u003C/p\u003E\n\u003Cp\u003E\nHow do you solve that? Well, the thing that saves you from going full LP here is that the first two equations are just linear equations with F\u003Csub\u003Ei\u003C/sub\u003E\u00A0as your variables, and the saturation can be treated as happening one thruster at a time. Lets forget about saturation for a second and pretend that there is no maximum thrust. We just write down first two equations as a matrix equation.\n\u003C/p\u003E\n\u003Cp\u003E\nT = RF\n\u003C/p\u003E\n\u003Cp\u003E\nHere, T is a column matrix, containing x, y, z components of\u00A0\u003Cstrong\u003E\u03C4\u003C/strong\u003E\u00A0and 0. F is another column matrix containing F\u003Csub\u003E1\u003C/sub\u003E, F\u003Csub\u003E2\u003C/sub\u003E, F\u003Csub\u003E3\u003C/sub\u003E... The matrix R is the one you have to build from vectors\u00A0\u003Cstrong\u003Er\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0and\u00A0\u003Cstrong\u003Eu\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0to match equations 1) and 2). You might have to write out these sums explicitly to see how the components fall into this matrix, then you can write a program to generate that matrix easily.\u00A0\u003Cstrong\u003EIf you don\u0027t know how to write down a system of linear equations as a matrix and solve it that way, look it up.\u003C/strong\u003E\u00A0You won\u0027t get anywhere in optimization without understanding that. Write some code to practice if you have to.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, you might notice that we have more equations than we have unknowns. Matrix R definitely isn\u0027t a square matrix. So we can\u0027t invert it. Fortunately, we don\u0027t have to. A Moore-Penrose pseudoinverse matrix can be constructed that solves this particular class of problems in a least-squares manner. If that\u0027s a bunch of babble to you, don\u0027t worry about it. Here\u0027s the formula to use.\n\u003C/p\u003E\n\u003Cp\u003E\nF = R\u003Csup\u003ET\u003C/sup\u003E(RR\u003Csup\u003ET\u003C/sup\u003E)\u003Csup\u003E-1\u003C/sup\u003ET\n\u003C/p\u003E\n\u003Cp\u003E\nHere, R\u003Csup\u003ET\u003C/sup\u003E\u00A0is the transpose of R. So the entire numerical challenge is reduced to finding inverse of the (RR\u003Csup\u003ET\u003C/sup\u003E). \u003Cs\u003ENote that this is a square matrix, with number of rows and columns matching number of your individual thrusters. How do you find an inverse of a square matrix? Same way you do on paper. Surprisingly, perhaps,\u00A0\u003Ca href=\u0022https://en.wikipedia.org/wiki/Gaussian_elimination\u0022 rel=\u0022external nofollow\u0022\u003EGaussian Elimination\u003C/a\u003E\u00A0is the best algorithm for it. Though, look up how to use Gauss-Jordan with pivots. It will greatly improve precision, and isn\u0027t much overhead. You can also probably just find a library that already does this part for you.\u003C/s\u003E\u00A0Edit: I messed up here. RR\u003Csup\u003ET\u003C/sup\u003E\u00A0is actually guaranteed to be 4x4, because it has dimensions of the constraints. You can still use Gauss-Jordan, but you can also find an explicit formula for 4x4 inverse matrix. It\u0027s not pretty, but it might be worth it to just hard-code that.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, you have to deal with saturation. After you solve for F\u003Csub\u003Ei\u003C/sub\u003E, odds are, you\u0027ll find some that are either less than 0 or greater than\u00A0F\u003Csub\u003Ei max\u003C/sub\u003E. There is a \u0022correct\u0022 way of dealing with this in LP, but again, we\u0027re using simplicity of the problem. Take just one of these, one which is outside of the bounds\u00A0 by greatest amount. Set it to the corresponding boundary. (So if F\u003Csub\u003E2\u003C/sub\u003E\u00A0\u0026lt; 0, say F\u003Csub\u003E2\u003C/sub\u003E\u00A0= 0) \u003Cs\u003EAnd add this constraint as a new row to matrix R. Only add one row per attempt. Once you expanded R with this extra row, run the whole thing again to generate a new list of F\u003Csub\u003Ei\u003C/sub\u003E. Rinse and repeat.\u003C/s\u003E\u00A0Edit: Adding a row here will make RR\u003Csup\u003ET\u003C/sup\u003E\u00A0a 5x5 matrix, etc. There is nothing wrong with that, but then you\u0027ll have to go Gauss-Jordan way. Alternatively, you can treat F\u003Csub\u003Ei\u003C/sub\u003E\u00A0you are setting to a constant as a constant in 1) and 2) and re-compute R from that. Then RR\u003Csup\u003ET\u003C/sup\u003E\u00A0is still 4x4, but matrix F will pick up some new terms. Both are totally acceptable ways, just depending on whether you prefer to have a hard-coded 4x4 inverse subroutine, or if you want to write a generic Gauss-Jordan.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter enough iterations, one of two things will happen. Either you\u0027ll find a list of F\u003Csub\u003Ei\u003C/sub\u003E\u00A0that satisfies your constraints, or you\u0027ll get to the point where \u003Cs\u003ER is already a square matrix\u00A0\u003C/s\u003E(Edit: If you chose to go with R that always has 4 rows, you can just count constraints you\u0027ve added. Condition you\u0027re looking for is the same, number of equations = number of variables), and the solution is still saturated.\u00A0In that later case, it means that the desired amount of torque cannot be generated with the thrusters you have. Your best bet is probably to take the F\u003Csub\u003Ei\u003C/sub\u003E\u00A0you got as a result and just return these as the answer. It\u0027s not the\u00A0\u003Cstrong\u003Eright\u003C/strong\u003E\u00A0answer, but it\u0027s the \u0022best\u0022 answer you can come up with, to match desired torque as closely as possible given thrusters you have.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-27T22:38:16Z\u0022 title=\u002212/27/2017 10:38  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 27, 2017\u003C/time\u003E by K^2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2017-12-28T00:40:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254108\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514413268\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou guys are talking through each other. Every rigid body ever is simulated as a point mass \u002B moment of inertia tensor. These aren\u0027t contradictory statements, because they describe two distinct degrees of freedom. You accumulate all forces as impulse against point-mass and all torque as change to the angular momentum.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMy point was that inertial changes caused by changes in fuel are related through the point mass of the origin of the part (as its position from the crafts center), and he got in an argument about Unity game engine. Ideally even if the point mass was set at a distance the fuel would be applied through the volume (as per the collider) but it is clear that this does not happen in the game. I have made over 100 parts and I have seen this behavior multiple times in the game. The problem was amplified by the fact that Unity and Blender use two coordinate systems and until you get it set in your head in blender that X = -X, Y =-Z and Z = Y and that you need to both plan for the parts CoG _AND_, if the part is fueled, a compromise state.\n\u003C/p\u003E\n\u003Cp\u003E\nThe part once it is fueled that would approximate the CoG when fueled favoring the empty CoG. Here are examples of a part that I had trouble with. 1) it was zeroed on the side attachment point (close to where boom attached), caused problems on large tanks because thrusters not under mass and was more difficult to control (origin moved to over thruster seat). If the origin is set to high, then radial detachment will cause a collision. 2) the pipe (boom) was zeroed on one end meaning that its \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E was right next to the craft or 5 meters from the craft. This caused problem in making satellites that had balanced rotations (booms \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E was later centered but attachement became a problem) 3) that conical tank was zeroed on the bottom, which created problems in predicting how structures would detach, particularly when upside down on bottom of stacks.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022xjd4PCG.png\u0022 class=\u0022ipsImage\u0022 height=\u0022522\u0022 src=\u0022https://i.imgur.com/xjd4PCG.png\u0022 width=\u0022847\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254108\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514413268\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n1)\u00A0\u03A3\u00A0\u003Cstrong\u003EF\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0x\u00A0\u003Cstrong\u003Er\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0=\u00A0\u003Cstrong\u003E\u03C4\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n2)\u00A0\u03A3\u00A0\u003Cstrong\u003EF\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0= 0\n\u003C/p\u003E\n\u003Cp\u003E\n3) 0 \u2264 F\u003Csub\u003Ei\u003C/sub\u003E\u00A0\u2264 F\u003Csub\u003Ei max\u003C/sub\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think you mean the 2) \u03A3 \u003Cstrong\u003E\u03C4\u003C/strong\u003E\u003Csub\u003Ei \u003C/sub\u003E= 0 All force in his scheme are applied along horizontal plane, presumably in the direction of the viewer\u00A0 so. But yeah that is what you have to do. But don\u0027t forget that is for an object not already rotating in some other way, if it is, then there is a term missing in #1.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem with the above that when a craft is landing it is considered to be an dynamic equilibrium state (when velocity is nearly unchanged to the moment of landing) gravity is acting as a force and thrust is counter balancing that. In his craft design the tanks are not above the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E so as they burn the thrusters (two top) would acclerate rotation. So even if you get balance at t\u003Csub\u003E0\u003C/sub\u003E by the time you land at T\u003Csub\u003E1\u003C/sub\u003E your craft has already rotated.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254108\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514413268\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe matrix R is the one you have to build from vectors\u00A0\u003Cstrong\u003Er\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0and\u00A0\u003Cstrong\u003Eu\u003C/strong\u003E\u003Csub\u003Ei\u003C/sub\u003E\u00A0to match equations 1) and 2). You might have to write out these sums explicitly to see how the components fall into this matrix, then you can write a program to generate that matrix easily.\u00A0\u003Cstrong\u003EIf you don\u0027t know how to write down a system of linear equations as a matrix and solve it that way, look it up.\u003C/strong\u003E\u00A0You won\u0027t get anywhere in optimization without understanding that. Write some code to practice if you have to.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022:o\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon2.png\u0022 title=\u0022:o\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254108\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514413268\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow do you solve that? Well, the thing that saves you from going full LP here is that the first two equations are just linear equations with F\u003Csub\u003Ei\u003C/sub\u003E\u00A0as your variables, and the saturation can be treated as happening one thruster at a time. Lets forget about saturation for a second and pretend that there is no maximum thrust. We just write down first two equations as a matrix equation.\n\u003C/p\u003E\n\u003Cp\u003E\nT = RF\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Csub\u003E\u00A0\u003C/sub\u003E\u003Cbr\u003E\nSince he already knows the center of mass then if the thruster output is the same for all there is a horizontal plane B crossing\u00A0 t\u003Csub\u003Eb1\u003C/sub\u003E and t\u003Csub\u003Eb2\u003C/sub\u003E that has distance b and there is another horizontal T plane crossing t\u003Csub\u003Et1\u003C/sub\u003E and t\u003Csub\u003Et2 \u003C/sub\u003Ethat is t distance from the horizontal plane 0 going through \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM.\u003C/abbr\u003E The\u00A0 Throttle % in which the \u003Csub\u003Et1\u003C/sub\u003E and t\u003Csub\u003Et2 \u003C/sub\u003E thrusters are fired is 100*b/t since B is closer than T to O. Anyone can do that, but that fuel burn is going to be the problem, its an inertial issue not a thrust issue. Im trying to convince him that his setup is unstable, that he needs to move the origin of his fuel parts closer to plane O if he want a more permanent nonrotational equilibrium. He should have his \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tanks centering the center of gravity.\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-28T01:03:09Z\u0022 title=\u002212/28/2017 01:03  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 28, 2017\u003C/time\u003E by PB666\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2017-12-28T00:57:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254190\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514421606\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think you mean the 2) \u03A3 \u003Cstrong\u003E\u03C4\u003C/strong\u003E\u003Csub\u003Ei \u003C/sub\u003E= 0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve misread the original problem statement. Yeah, if you want to have non-zero acceleration with zero torque, you\u0027d flip the constraints around. I was writing the post under assumptions that he wanted to achieve the opposite. Non-zero torque with zero linear acceleration. The approach is identical, though.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254190\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514421606\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe problem with the above that when a craft is landing it is considered to be an dynamic equilibrium state (when velocity is nearly unchanged to the moment of landing) gravity is acting as a force and thrust is counter balancing that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf there are any additional forces, they simply have to be added to the equalities and consolidated in the constants column along with desired torque or net force. Although, gravity will generate zero net torque if you use CoG for your datum, which makes the rest a lot easier.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254190\u0022 data-ipsquote-contentid=\u0022168891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514421606\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSince he already knows the center of mass the if the output is the same for all there is a horizontal plane B crossing\u00A0 t\u003Csub\u003Eb1\u003C/sub\u003E and t\u003Csub\u003Eb2\u003C/sub\u003E that has distance b and there is another horizontal T plane crossing t\u003Csub\u003Et1\u003C/sub\u003E and t\u003Csub\u003Et2 \u003C/sub\u003Ethat is t distance from the horizontal plane 0 going through \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E the ratio of % in which the \u003Csub\u003Et1\u003C/sub\u003E and t\u003Csub\u003Et2 \u003C/sub\u003E thrusters are fired is 100*b/t since B is closer than T to O. Anyone can do that, but that fuel burn is going to be the problem, its an inertial issue not a thrust issue. Im trying to convince him that his setup is unstable, that he needs to move the origin of his fuel parts closer to plane O if he want a more permanent nonrotational equilibrium. He should have his \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E tanks centering the center of gravity.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, I did not make an assumption about all forces being co-linear. I\u0027m assuming arbitrary placement of \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thrusters, each without a gimbal, as is common for reaction control.\u00A0Perhaps, that\u0027s overkill for \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Maybe I should just write a control systems module for Unity. This seems to be a topic that keeps coming up, and the math in it always takes a while to explain.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-28T00:58:53Z\u0022 title=\u002212/28/2017 12:58  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 28, 2017\u003C/time\u003E by K^2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Deus Zed Machina","CreatedById":160859,"CreatedDateTime":"2018-01-30T21:53:21Z","Content":"\n\u003Cp\u003E\nHooo boy that\u0027s a lot of replies. Thanks, everybody! I think part of the problem is that the unity object containing the thrusters is actually scaled unevenly (more across the y axis than x or z) so the distance value of each thruster from the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E doesn\u0027t reflect its actual distance.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57710-k2/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257710\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57710-k2/\u0022 rel=\u0022\u0022\u003E@K^2\u003C/a\u003E Yeah, a module might be nice, since I\u0027m not too familiar with matrix math myself (though I\u0027m currently in college for game design so I\u0027m sure it\u0027ll come up in one of my CS classes). For now, though, I\u0027ll just work through it. How hard can linear programming be, anyway? \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-30T22:04:28Z\u0022 title=\u002201/30/2018 10:04  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 30, 2018\u003C/time\u003E by Deus Zed Machina\u003C/strong\u003E\n\u003C/span\u003E\n"}]}