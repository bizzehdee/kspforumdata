{"TopicId":81267,"ForumId":44,"TopicTitle":"How to find apo/peri in real life?","CreatedByName":"power5000","CreatedById":1159,"CreatedDateTime":"2014-08-09T21:54:51Z","PageNum":1,"Articles":[{"CreatedByName":"power5000","CreatedById":1159,"CreatedDateTime":"2014-08-09T21:54:51Z","Content":"\n\u003Cp\u003EHello I was wondering how is it possible to find your peri or apo with just your current alt and speed ect (things you can find in IVA)\u003C/p\u003E\n"},{"CreatedByName":"ZetaX","CreatedById":60692,"CreatedDateTime":"2014-08-09T22:20:47Z","Content":"\n\u003Cp\u003EEssentialy you use \u003Ca href=\u0022https://en.wikipedia.org/wiki/Orbit_equation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/Orbit_equation\u003C/a\u003E. By knowing your current altitude, speed and direction, you can calculate your current theta\u0027, i.e. the angular velocity, and E, i.e. the sum of potential and kinetic energy. Solving the very first equation for r (and using l=mr\u00C3\u201A\u00C2\u00B2theta\u0027) gives you r\u00C3\u201A\u00C2\u00B3 = gamma\u00C3\u201A\u00C2\u00B7(1\u002Be cos(theta))\u00C3\u201A\u00C2\u00B7(theta\u0027)\u00C3\u201A\u00C2\u00B2. You can calculate gamma if you know the mass of what you are orbiting, you can calculate the constant e from E. By pluging all those in you can now calculate your current theta and thus know all those parameter. Your apo- and periapsis are at theta=pi and theta=0, respectively, in that first equation on wikipedia.\u003C/p\u003E\n"},{"CreatedByName":"power5000","CreatedById":1159,"CreatedDateTime":"2014-08-10T16:30:58Z","Content":"\n\u003Cp\u003EOkay I understand some of that could you do a quick example problem so I can see something a little more tangible?\u003C/p\u003E\n"},{"CreatedByName":"dbmorpher","CreatedById":77927,"CreatedDateTime":"2014-08-10T21:10:32Z","Content":"\n\u003Cp\u003EWell if you play ksp enough you normally get a generalization of orbital speeds especially for kerbin. It is about 2500 m/s. If you are going that fast and your altitude is not changing rapidly you should be fine.\u003C/p\u003E\u003Cp\u003EBut if you want information IVA you should really get Raster Prop Monitor\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2014-08-10T22:06:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022power5000\u0022 data-cite=\u0022power5000\u0022\u003E\u003Cdiv\u003EOkay I understand some of that could you do a quick example problem so I can see something a little more tangible?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESay we are flying around Kerbin at an altitude of 100km with a velocity of 2400m/s and the prograde marker is 10 degrees above the horizon. But Kerbin has a radius of 600km, so our distance from the center of Kerbin is 700km.\u003C/p\u003E\u003Cp\u003ETo figure out our apoapsis and periapsis we need to calculate our eccentricity. We take the orbit equation and do some algebra to solve for e:\u003C/p\u003E\u003Cp\u003Ee= ((\u003Cstrong\u003E\u00C3\u00E2\u20AC\u00B0\u003C/strong\u003E^2*r^3/GM) - 1)/cos(\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E\u00C3\u017D\u00C2\u00B8)\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ESo we first have to figure out \u003Cstrong\u003E\u00C3\u00E2\u20AC\u00B0\u003C/strong\u003E\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E \u003C/span\u003E\u003C/span\u003E(angular velocity) which is easy enough. Its simply the component of your velocity vector that\u0027s perpendicular to the normal vector. So some trigonometry (v*cos(\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E\u00C3\u017D\u00C2\u00B8\u003C/span\u003E\u003C/span\u003E)) tells me that you have an angular velocity of about 3.376e-3 radians/second. We also can grab GM (Standard gravitational parameter) for Kerbin from the KSP wiki at 3.5316e12. So we got all the numbers we need to figure out the eccentricity. Plug them all in and you get an eccentricity of 0.1086.\u003C/p\u003E\u003Cp\u003EWith the eccentricity known we have established the shape of the orbit. Now we just need to figure out the size of the orbit to know our apoapsis and periapsis. For this we need to know the semimajor axis of the orbit. An easy way to figure this one out is via the specific orbital energy:\u003C/p\u003E\u003Cp\u003Ea = -0.5*MG/(0.5v^2-MG/r)\u003C/p\u003E\u003Cp\u003EPlug in the numbers again and we get a semimajor axis of 815558 meters. Now we can easily find out the ap and pe via:\u003C/p\u003E\u003Cp\u003Ee = (r\u003Csub\u003Eap\u003C/sub\u003E-r\u003Csub\u003Epe\u003C/sub\u003E)/2a\u003C/p\u003E\u003Cp\u003EDo some maths and you\u0027ll see that the difference between your pe and ap is 177139 meters. We know the semimajoraxis is the average of the apoapsis and the periapsis so our final answer is:\u003C/p\u003E\u003Cp\u003EApoapsis height: 904127.8 meters (304km above kerbin\u0027s surface)\u003C/p\u003E\u003Cp\u003EPeriapsis height: 726988.6 meters (127km above kerbin\u0027s surface)\u003C/p\u003E\n"},{"CreatedByName":"ZetaX","CreatedById":60692,"CreatedDateTime":"2014-08-10T22:14:03Z","Content":"\n\u003Cp\u003EYou made a mistake there, as your periapsis is lower than initial height. The approach seems correct, though, and I am too lazy to check the numbers...\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2014-08-10T23:04:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZetaX\u0022 data-cite=\u0022ZetaX\u0022\u003E\u003Cdiv\u003EYou made a mistake there, as your periapsis is lower than initial height. The approach seems correct, though, and I am too lazy to check the numbers...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDamn you\u0027re right, I shouldn\u0027t do algebra at 1AM... I\u0027ll see what I screwed up tomorrow morning.\u003C/p\u003E\n"},{"CreatedByName":"ZetaX","CreatedById":60692,"CreatedDateTime":"2014-08-10T23:08:51Z","Content":"\n\u003Cp\u003EAnd I obvously wanted to say _higher_ than the initial height. But it seems you read it as intended \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"power5000","CreatedById":1159,"CreatedDateTime":"2014-08-11T14:22:50Z","Content":"\n\u003Cp\u003ESo we first have to figure out \u003Cstrong\u003E\u00C3\u00E2\u20AC\u00B0\u003C/strong\u003E(angular velocity) which is easy enough. Its simply the component of your velocity vector that\u0027s perpendicular to the normal vector. So some trigonometry (v*cos(\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E\u00C3\u017D\u00C2\u00B8\u003C/span\u003E\u003C/span\u003E))\u003C/p\u003E\u003Cp\u003EI get the concept behind this but how did you find theta/true anomaly?\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2014-08-11T14:49:25Z","Content":"\n\u003Cp\u003EYou don\u0027t need anomaly. If you know your angular velocity and distance, you know your angular momentum. If you know your linear velocity and distance, you know your energy. Knowing energy and angular momentum gives you the apsides.\u003C/p\u003E\n"},{"CreatedByName":"TythosEternal","CreatedById":117821,"CreatedDateTime":"2014-08-12T01:22:33Z","Content":"\n\u003Cp\u003EWhat you\u0027re after is commonly called the \u0027shape\u0027 of an orbit--apoapsis and periapsis--which are both easily computed if you know the semi-major axis and the eccentricity of the orbit. We already have three orthogonal values for the 6-value system (the other three are for plane orientation, irrelevant to this problem), so this is actually pretty simple. I\u0027d recommend the following approach:\u003C/p\u003E\u003Cp\u003E * Compute h, the magnitude of angular momentum, from r, the known radius (altitude plus radius of the orbited body, which we assume is spherical); v, the magnitude of the orbital (inertial) velocity; and gamma, flight path angle (the angular separation between your current heading and the nearest horizon): h = r * v * cos(gamma)\u003C/p\u003E\u003Cp\u003E * Compute the semi-major axis using the expression for orbital energy: a = (mu * r) / (2 * mu - r * v^2)\u003C/p\u003E\u003Cp\u003E * Compute the eccentricity from h, mu, and a: e = sqrt(1 - h^2 / (mu * a))\u003C/p\u003E\u003Cp\u003E * Compute radius at apogee or perigee from a and e: ra = a (1 \u002B e), rp = a (1 - e)\u003C/p\u003E\u003Cp\u003EMost of these are simply derived from geometry and basic orbital properties. Here\u0027s an example:\u003C/p\u003E\u003Cp\u003Er = 1.6e6 (altitude = 1e6, radius of Kerbin = 6e5 m)\u003C/p\u003E\u003Cp\u003Ev = 1.2e3 m/s\u003C/p\u003E\u003Cp\u003Egamma = 10 deg (~0.175 radians)\u003C/p\u003E\u003Cp\u003Emu = 3.5316e12 m3/s2\u003C/p\u003E\u003Cp\u003EHere are the steps:\u003C/p\u003E\u003Cp\u003E * h = 1.6e6 * 1.2e3 * cos(0.175) = 1.8907e9 m2/s\u003C/p\u003E\u003Cp\u003E * a = 3.5316e12 * 1.6e6 / (2 * 3.5316e12 - 1.6e6 * 1.2e3^2) = 1.1873e6 m\u003C/p\u003E\u003Cp\u003E * e = sqrt(1 - 1.8907e9^2 / (3.5316e12 * 1.1873e6)) = 0.3841\u003C/p\u003E\u003Cp\u003E * ra = 1.6433e6 m\u003C/p\u003E\u003Cp\u003E rp = 7.3126e5 m\u003C/p\u003E\u003Cp\u003EI do need to run these against the previous example, though--likely after I\u0027ve cooked (or while I\u0027m cooking... =p) dinner.\u003C/p\u003E\n"},{"CreatedByName":"TythosEternal","CreatedById":117821,"CreatedDateTime":"2014-08-12T01:54:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ralathon\u0022 data-cite=\u0022Ralathon\u0022\u003E\u003Cdiv\u003Ee= ((\u003Cstrong\u003E\u00C3\u00E2\u20AC\u00B0\u003C/strong\u003E^2*r^3/GM) - 1)/cos(\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E\u00C3\u017D\u00C2\u00B8)\u003C/span\u003E\u003C/span\u003E\u003Cp\u003ESo we first have to figure out \u003Cstrong\u003E\u00C3\u00E2\u20AC\u00B0\u003C/strong\u003E(angular velocity) which is easy enough. Its simply the component of your velocity vector that\u0027s perpendicular to the normal vector. So some trigonometry (v*cos(\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E\u00C3\u017D\u00C2\u00B8\u003C/span\u003E\u003C/span\u003E)) tells me that you have an angular velocity of about 3.376e-3 radians/second. We also can grab GM (Standard gravitational parameter) for Kerbin from the KSP wiki at 3.5316e12. So we got all the numbers we need to figure out the eccentricity. Plug them all in and you get an eccentricity of 0.1086.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou seem to be confusing theta, the true anomaly, with gamma, the flight path angle. You can rearrange the geometric and kinematic orbit equations to cancel out the cos(theta) terms, at which point (at least in my own math) you should have:\u003C/p\u003E\u003Cp\u003Ee = sqrt(1 - h^2 / (mu * a))\u003C/p\u003E\n"},{"CreatedByName":"power5000","CreatedById":1159,"CreatedDateTime":"2014-08-12T12:36:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TythosEternal\u0022 data-cite=\u0022TythosEternal\u0022\u003E\u003Cdiv\u003Esnip\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_ohmy.png\u0022 alt=\u0022:o\u0022\u003E I understand that! thank you very much I\u0027m only a high school student and everything I know about orbital mechanics is self taught from looking at equations and playing with them bit by bit and I could not figure this one out on my own.... thank you!!\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-08-12T13:01:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZetaX\u0022 data-cite=\u0022ZetaX\u0022\u003E\u003Cdiv\u003EEssentialy you use \u003Ca href=\u0022https://en.wikipedia.org/wiki/Orbit_equation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/Orbit_equation\u003C/a\u003E. By knowing your current altitude, speed and direction, you can calculate your current theta\u0027, i.e. the angular velocity, and E, i.e. the sum of potential and kinetic energy. Solving the very first equation for r (and using l=mr\u00C3\u201A\u00C2\u00B2theta\u0027) gives you r\u00C3\u201A\u00C2\u00B3 = gamma\u00C3\u201A\u00C2\u00B7(1\u002Be cos(theta))\u00C3\u201A\u00C2\u00B7(theta\u0027)\u00C3\u201A\u00C2\u00B2. You can calculate gamma if you know the mass of what you are orbiting, you can calculate the constant e from E. By pluging all those in you can now calculate your current theta and thus know all those parameter. Your apo- and periapsis are at theta=pi and theta=0, respectively, in that first equation on wikipedia.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDespite a decade of university statistics training, just looking at that makes my brain hurt. This is why I went into medical research instead of astronomy.\u003C/p\u003E\u003Cp\u003ENever could get my head around Greek, in languages or mathematics.\u003C/p\u003E\n"},{"CreatedByName":"ZetaX","CreatedById":60692,"CreatedDateTime":"2014-08-12T15:50:12Z","Content":"\n\u003Cp\u003EYou could always use search\u0026amp;replace \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"}]}