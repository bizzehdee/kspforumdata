{"TopicId":171725,"ForumId":44,"TopicTitle":"Using linear Transformations for modeling spaceflight, how-to","CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2018-03-06T02:51:27Z","PageNum":1,"Articles":[{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2018-03-06T02:51:27Z","Content":"\n\u003Cp\u003E\nFirst off, let me define what the need is.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you launch from a planet you are basically using a spherical cartesian system. Longitude and latitude are replaced by a non-newtonian coordinate system. Once you get into space your orbit has no fixation relative to the surface unless your are in GTO. These orbits are typically oriented to the position of the sun at the northern vernal equinox. This system can have two orientations, the one orientation is relative to earths poles, the second can be relative to the normal of a surface pointing in the direction of the sun (essentially consider a sphere of radius r, its the path along the surface that intercepts a line between the Earths\u0027 center and the sun). Within the EM system there can also be other coordinate systems. There could be a lunar-centric/earth-referenced system, lunar-centric/solar-referenced, L1centric, L2-centric. Then there are the myriad of planetary and satellite coordinate systems. Going between points in the solar system can be cumbersome if you use earth rotational coordinate system marked on the vernal equinox because everything (including Earth\u0027s orbital inclination, by ~ 23\u0027). There is a preferential plane of motion (marked largely by the motion of Jupiter) that is used to define the plane of the system). And some day a spacecraft might voyager might use a galactic coordinate system based on an orientation to some far off galactic center close to the plane of the galaxy.\n\u003C/p\u003E\n\u003Cp\u003E\nEach coordinate system has a basis. The earth\u0027s X,Y, Z has a line that goes through Greenwhich and some point in the Atlantic near West Africa marks the X=r point Z = r close to the geographic north pole.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you read the wiki page on Change of Basis you are given the following: c = cosine, sin = sine. \u03B1 , \u00DF, gamma are the three angles by which any vector can be defined by a change of x -\u0026gt; x\u0027 (rotation around z), z-\u0026gt;z\u0027 (rotation around x\u0027), and x\u0027-\u0026gt;x\u0027\u0027 (rotation around z\u0027) all counterclockwise.\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u00225e646576f0546950c66fc96fd864f8e32029466b\u0022 class=\u0022ipsImage\u0022 height=\u002273\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/5e646576f0546950c66fc96fd864f8e32029466b\u0022 width=\u0022375\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSource wikipedia - change of basis.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile this is correct, this basis, quoting wikipedia.\u00A0 \u0022R be a new basis given by its \u003Ca href=\u0022https://en.wikipedia.org/wiki/Euler_angles\u0022 rel=\u0022external nofollow\u0022 title=\u0022Euler angles\u0022\u003EEuler angles\u003C/a\u003E. The matrix of the basis will have as columns the components of each vector. Therefore, this matrix will be [above matrix]\u0022. But in fact this is not very useful, because by the fact that you have the angles that define the rotations, you pretty much already know where R is with respect E\u003Csup\u003E3\u003C/sup\u003E. This matrix tells you what you already know. By saying its not very useful, its useful on the \u0027return trip back to the previous (home) coordinate system, but not so useful on the leg of a journey that creates the need for the return home conversion.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut what you really, really badly want to know is how to map a vector already mapped in E\u003Csup\u003E3\u003C/sup\u003E in your new basis\u00A0 R and here is what the wiki article says. \u0022 Again, any vector of the space can be changed to this new basis by left-multiplying its components by the inverse of this matrix.\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nThis single quotations underlies a fairly complex problem that can be simplified with certain information that wikipedia article does not readily provide.\u00A0\u003Cbr\u003E\nThe first bit of information one needs to know the determinant of the Matrix above. To know that you have to how that matrix was derived.\n\u003C/p\u003E\n\u003Cp\u003E\nThe matrix was derived from three matrices which are principally defined here;\u003Ca href=\u0022https://en.wikipedia.org/wiki/Rotation_matrix#Basic_rotations\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Rotation_matrix#Basic_rotations\u00A0 \u003C/a\u003Eand converted into symbolism, defined above, below.\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https://i.imgur.com/bwHo4O9.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://i.imgur.com/bwHo4O9.png\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOne law of determinants is that if all the determinants are 1 then the multiplication of the Matrices is also 1. \u003Ca href=\u0022https://en.wikipedia.org/wiki/Determinant\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Determinant\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nWith this rather innocuous fact one can derived the inverse matrix.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/8ftGcsI.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://i.imgur.com/8ftGcsI.png\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is of course not what the math actually looks like.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only way to know for certain if the proposed R-1 is to multiply R\u003Csup\u003E-1\u003C/sup\u003ER =\u00A0 I (the identity matrix, I\u003Csub\u003E3\u003C/sub\u003E below)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the first stage after multiplying everything out and getting rid of extra parenthesis.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u003Csub\u003Erow , column \u003C/sub\u003Eor I\u003Csub\u003Ei,j \u003C/sub\u003Ei=row# and j= column#\n\u003C/p\u003E\n\u003Cp\u003E\nI\u003Csub\u003E1,1\u003C/sub\u003E = c\u003Csup\u003E2\u003C/sup\u003E1c\u003Csup\u003E2\u003C/sup\u003E3 \u002B s\u003Csup\u003E2\u003C/sup\u003E1c\u003Csup\u003E2\u003C/sup\u003E2s\u003Csup\u003E2\u003C/sup\u003E3 - 2cs1c2cs3 \u002B c\u003Csup\u003E2\u003C/sup\u003E1s\u003Csup\u003E2\u003C/sup\u003E3\u002Bs\u00271c\u003Csup\u003E2\u003C/sup\u003E2c\u003Csup\u003E2\u003C/sup\u003E3 \u002B 2cs1c2cs3 \u002B s\u003Csup\u003E2\u003C/sup\u003E1s\u003Csup\u003E2\u003C/sup\u003E2\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = c\u003Csup\u003E2\u003C/sup\u003E1c2cs3-cs1c\u003Csup\u003E2\u003C/sup\u003E2s\u003Csup\u003E2\u003C/sup\u003E3 - s\u003Csup\u003E2\u003C/sup\u003E1c2cs3\u002Bcs1c\u003Csup\u003E2\u003C/sup\u003E3 \u002B cs1s\u003Csup\u003E2\u003C/sup\u003E3 \u002B s\u003Csup\u003E2\u003C/sup\u003E1c2cs3 - c\u003Csup\u003E2\u003C/sup\u003E1c2cs3 - cs1c\u003Csup\u003E2\u003C/sup\u003E\u00272c\u003Csup\u003E2\u003C/sup\u003E3 - cs1s\u003Csup\u003E2\u003C/sup\u003E2\u00A0\u00A0 \u00A0\u003Cbr\u003E\nI\u003Csub\u003E1,3\u003C/sub\u003E = c1s2cs3 - s1cs2s\u003Csup\u003E2\u003C/sup\u003E3 - c1s2cs3 - s1cs2c\u003Csup\u003E2\u003C/sup\u003E3 \u002B s1cs2\u003Cbr\u003E\nI\u003Csub\u003E2,1\u003C/sub\u003E = cs1c\u003Csup\u003E2\u003C/sup\u003E3 \u002B c\u003Csup\u003E2\u003C/sup\u003E1c2cs3 - cs1c\u003Csup\u003E2\u003C/sup\u003E2s\u003Csup\u003E2\u003C/sup\u003E3 - s\u003Csup\u003E2\u003C/sup\u003E1c2cs3 \u002B s\u003Csup\u003E2\u003C/sup\u003E1c2cs3\u002Bcs1s\u003Csup\u003E2\u003C/sup\u003E3 - c\u003Csup\u003E2\u003C/sup\u003E1c2cs3-cs1c\u003Csup\u003E2\u003C/sup\u003E2c\u003Csup\u003E2\u003C/sup\u003E3 - s\u003Csup\u003E2\u003C/sup\u003E2cs1\u00A0\u00A0 \u00A0\u003Cbr\u003E\nI\u003Csub\u003E2,2\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E1c\u003Csup\u003E2\u003C/sup\u003E3 \u002B c\u003Csup\u003E2\u003C/sup\u003E1c\u003Csup\u003E2\u003C/sup\u003E2s\u003Csup\u003E2\u003C/sup\u003E3 \u002B 2cs1c2cs3 \u002B c\u003Csup\u003E2\u003C/sup\u003E1c\u003Csup\u003E2\u003C/sup\u003E2c\u003Csup\u003E2\u003C/sup\u003E3 \u002B s\u003Csup\u003E2\u003C/sup\u003E1s\u003Csup\u003E2\u003C/sup\u003E3 - 2cs1c2cs3 \u002B c\u003Csup\u003E2\u003C/sup\u003E1s\u003Csup\u003E2\u003C/sup\u003E2\u00A0\u00A0 \u00A0\u003Cbr\u003E\nI\u003Csub\u003E2,3\u003C/sub\u003E = c1cs2s\u003Csup\u003E2\u003C/sup\u003E3\u002Bs1s2cs3-s1s2cs3\u002Bc1cs2c\u003Csup\u003E2\u003C/sup\u003E3-c1cs2\u003Cbr\u003E\nI\u003Csub\u003E3,1\u003C/sub\u003E = c1s2cs3 - s1cs2s\u003Csup\u003E2\u003C/sup\u003E3 - c1s2cs3 - s1cs2c\u003Csup\u003E2\u003C/sup\u003E3 \u002B s1cs2\u003Cbr\u003E\nI\u003Csub\u003E3,2\u003C/sub\u003E = c1cs2s\u003Csup\u003E2\u003C/sup\u003E3 \u002B s1s2cs3 - s1s2cs3 \u002B c1cs2c\u003Csup\u003E2\u003C/sup\u003E3 - c1cs2\u00A0\u00A0 \u00A0\u003Cbr\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E2s\u003Csup\u003E2\u003C/sup\u003E3 \u002B s\u003Csup\u003E2\u003C/sup\u003E2c\u00273 \u002B c\u003Csup\u003E2\u003C/sup\u003E2\u003Cbr\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/File:Matrix.svg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/File:Matrix.svg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022e1a4218ab6975ad1809415aa168ab6371b91bafc\u0022 class=\u0022ipsImage\u0022 height=\u0022125\u0022 src=\u0022https://wikimedia.org/api/rest_v1/media/math/render/svg/e1a4218ab6975ad1809415aa168ab6371b91bafc\u0022 width=\u0022534\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSource: Wikipedia - Identity Matrix\u003Cbr\u003E\nAn Example (the easiest).\n\u003C/p\u003E\n\u003Cp\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E2s\u003Csup\u003E2\u003C/sup\u003E3 \u002B s\u003Csup\u003E2\u003C/sup\u003E2c\u003Csup\u003E2\u003C/sup\u003E3 \u002B c\u003Csup\u003E2\u003C/sup\u003E2 (converting the identity subscripts to angles, since excel does not handle text markup well)\u003Cbr\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF \u003C/sub\u003E(rearranging)\u003Cbr\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393 \u003C/sub\u003E\u002B c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0 \u003C/sub\u003E(factoring)\u003Cbr\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E(c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E)\u002B c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0 \u003C/sub\u003E(Replacing, c\u003Csup\u003E2\u003C/sup\u003E\u0398\u002Bs\u003Csup\u003E2\u003C/sup\u003E\u0398 = 1)\u003Cbr\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E(1)\u002B c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0 \u003C/sub\u003E(Reducing)\u003Cbr\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E\u002B c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0 \u003C/sub\u003E(Replacing, c\u003Csup\u003E2\u003C/sup\u003E\u0398\u002Bs\u003Csup\u003E2\u003C/sup\u003E\u0398 = 1)\u003Cbr\u003E\nI\u003Csub\u003E3,3\u003C/sub\u003E = 1\n\u003C/p\u003E\n\u003Cp\u003E\nPretty much terms disappear in the diagonal finally as replacing a final c\u003Csup\u003E2\u003C/sup\u003E\u0398\u002Bs\u003Csup\u003E2\u003C/sup\u003E\u0398 as 1, and off diagonal by a final subtraction of x \u002B -x = 0 resulting in the identity matrix.\n\u003C/p\u003E\n\u003Cp\u003E\nAn Example (the tie for hardest, witchcraft no less)\n\u003C/p\u003E\n\u003Cp\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = c\u003Csup\u003E2\u003C/sup\u003E1c2cs3-cs1c\u003Csup\u003E2\u003C/sup\u003E2s\u003Csup\u003E2\u003C/sup\u003E3 - s\u003Csup\u003E2\u003C/sup\u003E1c2cs3\u002Bcs1c\u003Csup\u003E2\u003C/sup\u003E3 \u002B cs1s\u003Csup\u003E2\u003C/sup\u003E3 \u002B\u003Cstrong\u003E \u003C/strong\u003Es\u003Csup\u003E2\u003C/sup\u003E1c2cs3 - c\u003Csup\u003E2\u003C/sup\u003E1c2cs3 - cs1c\u003Csup\u003E2\u003C/sup\u003E\u00272c\u003Csup\u003E2\u003C/sup\u003E3 - cs1s\u003Csup\u003E2\u003C/sup\u003E2\u00A0(getting rid of ambiguous symbolism and markups, c = cos, s = sin)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E - s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393 \u003C/sub\u003E\u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0 \u003C/sub\u003E(rearranging)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E \u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393 \u003C/sub\u003E- s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E\u00A0 - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E- c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0 \u003C/sub\u003E(factoring)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = (c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003E)c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E \u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E(c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E) - (c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003E\u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u03B1\u003C/sub\u003E)c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E(c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u0393\u003C/sub\u003E) - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0\u003C/sub\u003E(Replacing, c\u003Csup\u003E2\u003C/sup\u003E\u0398\u002Bs\u003Csup\u003E2\u003C/sup\u003E\u0398 = 1)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = (1)c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E \u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E(1) - (1)c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E(1) - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u00A0\u003C/sub\u003E(Reducing)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E \u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E - c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF \u003C/sub\u003E(rearranging)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = (c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E)\u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E\u00A0 - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E(c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF \u003C/sub\u003E) (rearranging \u0026amp; factoring)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = (c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - c\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E)\u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E(c\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF\u003C/sub\u003E \u002B s\u003Csup\u003E2\u003C/sup\u003E\u003Csub\u003E\u00DF \u003C/sub\u003E) (replacing,\u00A0c\u003Csup\u003E2\u003C/sup\u003E\u0398\u002Bs\u003Csup\u003E2\u003C/sup\u003E\u0398 = 1; x \u002B -x = 0 )\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E = (0)\u002B c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E(1)\u00A0 (reducing)\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E =\u00A0 c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E - c\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u03B1\u003C/sub\u003E\u00A0 (replacing; x \u002B -x = 0 )\u003Cbr\u003E\nI\u003Csub\u003E1,2\u003C/sub\u003E =\u00A0 0\n\u003C/p\u003E\n\u003Cp\u003E\n[If you were having trouble sleeping the above 12 lines of linear algebra is much more effective than any sleep medication, I discovered this while watching lectures on quantum entanglement; if that still doesn\u0027t work try solving the unsolved elements for 1 or 0]\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo how does one use the inverted Basis Matrix (R\u003Csup\u003E-1\u003C/sup\u003E), wait, why would someone, anyone want to use this. Chances are you already are. When you reach the edge of an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E in KSP, you are going to move to a Kerbols \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nLets give an example, you are heading radially outward along a prograde \u003Cabbr title=\u0022Angle of Attack\u0022\u003EAoA\u003C/abbr\u003E from Kerbin, north is above your head, and Kerbol is to your right. You reach the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E, now instead of heading radially at V\u003Csub\u003Ekerbin\u00A0 \u003C/sub\u003Eyou are now heading you are traveling a different velocity, circum Kerbol at a Velocity in the opposite direction (Kerbins orbital velocity - the last radial velocity inside kerbin upon exit). You also might notice you are accelerating toward kerbol, this is because your new velocity creates a centripedal acceleration that is below the current force of gravity from Kerbol. (this would be a useful problem except KSP likes to map the Kerbols coordinate system versus the Kerbins, so . . .we need a real system)\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s two sets of problems here though, acceleration is a moment problem that we do not have to worry about at the change of basis, the velocity \u0027blip\u0027 can be converted using the inverse Matrix and the position vector can be determined by determining the current position of planet\u00A0 from its star, the distance of the ship from the planet, the path the planet travels. and the current angle of the vessel from the path at the paths exit. Basic trigonometry.\u00A0 Since velocity in a 3-D coordinate system can be a vector independent of the coordinate system, we can superimpose the stars coordinate system on planets center, ascertain the change of basis angles, the apply the inverse matrix to the velocity vector to get its new velocity vector in the stars coordinate system (the magnitude of the velocity is still referenced to the planet) so the planets velocity vector relative to the star needs to be added to the new velocity vector to deduce the ships velocity relative to the star while still inside the planets \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E.\u00A0 Since it is easier on an escape vector to calculate both the planets position (and therefore its gravity vectors) the stars position (and therefore its gravity vectors) one can simply change coordinates once an escape trajectory is realized. One way to do that is to change basis as the ship crosses the line from the planet to the star of from the star through the planet and out the other side (outer system transfers). Anyway\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022bM8baoX.png\u0022 class=\u0022ipsImage\u0022 height=\u002274\u0022 src=\u0022https://i.imgur.com/bM8baoX.png\u0022 width=\u0022408\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u003Csup\u003Ee\u003C/sup\u003E\u003Cstrong\u003Ev\u003C/strong\u003E = Xe\u003Csub\u003E1\u003C/sub\u003E, Ye\u003Csub\u003E2\u003C/sub\u003E, Ze\u003Csub\u003E3 \u003C/sub\u003Eand \u003Csup\u003Er\u003C/sup\u003E\u003Cstrong\u003Ev\u003C/strong\u003E = X\u0027r\u003Csub\u003E1\u003C/sub\u003E, Y\u0027r\u003Csub\u003E2\u003C/sub\u003E, Z\u0027r\u003Csub\u003E3\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou start with your planets X, Y , Z coordinates in the local system they would looke like this \u003Ca href=\u0022https://www.khanacademy.org/math/precalculus/precalc-matrices/matrices-as-transformations/e/multiplying_a_matrix_by_a_vector\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.khanacademy.org/math/precalculus/precalc-matrices/matrices-as-transformations/e/multiplying_a_matrix_by_a_vector\u003C/a\u003EThis is a process otherwise known as a transformation, but in the new coordinate system we have a new set of axis (so in the video you would draw another set of axis and plot your transform in that new set of axis)\u003Cbr\u003E\nX\u0027 = Xc\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003E - Xs\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E - Ys\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003E \u002B Yc\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E \u002B Zs\u003Csub\u003E\u00DF\u003C/sub\u003Es\u003Csub\u003E\u0393\u003C/sub\u003E\u003Cbr\u003E\nY\u0027 = -Xc\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u0393 \u003C/sub\u003E- Xs\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393 \u003C/sub\u003E- Ys\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u0393 \u003C/sub\u003E\u002B Yc\u003Csub\u003E\u03B1\u003C/sub\u003Ec\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393 \u003C/sub\u003E\u002B Zs\u003Csub\u003E\u00DF\u003C/sub\u003Ec\u003Csub\u003E\u0393\u003C/sub\u003E\u003Cbr\u003E\nZ\u0027 =\u00A0 Xs\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u00DF\u003C/sub\u003E - Yc\u003Csub\u003E\u03B1\u003C/sub\u003Es\u003Csub\u003E\u00DF\u003C/sub\u003E \u002B Zc\u003Csub\u003E\u00DF\u003C/sub\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd\u00A0 written finally out in a fashion that even a college graduate might understand.\n\u003C/p\u003E\n\u003Cp\u003E\nEveryone wants a summary.\u003Cbr\u003E\nX\u0027 = X * cos \u03B1 *cos \u003Csub\u003E\u0393\u003C/sub\u003E\u00A0\u00A0 -\u00A0\u00A0 X * sin \u03B1 * cos \u00DF * sin\u003Csub\u003E \u0393\u003C/sub\u003E\u00A0\u00A0 -\u00A0\u00A0 Y * sin\u03B1 * cos\u003Csub\u003E\u0393\u003C/sub\u003E\u00A0 \u002B \u00A0 Y * cos \u03B1 * cos \u00DF * sin\u003Csub\u003E\u0393\u003C/sub\u003E \u00A0 \u002B\u00A0\u00A0 Z * sin\u00DF * sin\u003Csub\u003E\u0393\u003C/sub\u003E\u003Cbr\u003E\nY\u0027 = -X * cos \u03B1 * sin\u003Csub\u003E\u0393 \u00A0 \u003C/sub\u003E-\u00A0\u00A0\u00A0 X * sin\u03B1 * cos \u00DF * cos\u003Csub\u003E\u0393 \u00A0\u00A0 \u003C/sub\u003E- \u00A0 Y * sin\u03B1 * sin\u003Csub\u003E\u0393\u00A0\u00A0 \u003C/sub\u003E\u002B \u00A0 Y * cos \u03B1 * cos \u00DF * cos\u003Csub\u003E\u0393 \u00A0 \u003C/sub\u003E\u002B\u00A0\u00A0 Z * sin\u00DF * cos\u003Csub\u003E\u0393\u003C/sub\u003E\u003Cbr\u003E\nZ\u0027 =\u00A0 X * sin \u03B1 * sin \u00DF\u00A0 -\u00A0\u00A0\u00A0 Y * cos \u03B1 * sin \u00DF\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u002B\u00A0 Z * cos \u00DF\n\u003C/p\u003E\n\u003Cp\u003E\nSuppose that you only rotated around one axis, say the Z axis. The above matrix is still good: not that element R\u003Csup\u003E-1\u003C/sup\u003E\u003Csub\u003E33 \u003C/sub\u003E= cos \u00DF if no rotation along X\u0027 axis. If then \u00DF = 0 and the cosine of zero is 1 while the sin 0 is zero. So whatever Z value you have, Z\u0027 = X * 0 \u002B Y * 0 \u002B Z * 1, in actuality, if you never make a rotation \u00DF around the X\u0027 then basically you apply the A = matrix above in which the \u03B1 = (your \u03B1 \u002B \u003Csub\u003E\u0393\u003C/sub\u003E).\u003Cbr\u003E\nDoes this happen? if your thrust changes the position of your periapsis but not the inclination relative to your external reference frame, then before the thrust your elliptical reference frame is at angle \u03B1 relative to the basis (E\u003Csup\u003E3\u003C/sup\u003E) and the movement of the periapsis move \u003Csub\u003E\u0393\u003C/sub\u003E\u00A0 relative to the old elliptical, to place the crafts position and velocity vectors in the new elliptical reference frame you could use the equation above applying \u03B1 and \u003Csub\u003E\u0393\u003C/sub\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nSummary, this is as hairy as the math gets, but using it you can follow position and velocity in two coordinate systems (or even three as the above shows) at one time, moving flawlessly between different systems of plotting. I think its pretty obvious how to got to a R coordinate system back to the E basis system (the equations are very close).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2018-03-06T02:55:44Z","Content":"\n\u003Cp\u003E\nin before quaternions.\n\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2018-03-06T03:45:20Z","Content":"\n\u003Cp\u003E\nlets not go there, matrix multiplication and minor determinants are bad enough.\n\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2018-03-06T05:53:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223311285\u0022 data-ipsquote-contentid=\u0022171725\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221520307920\u0022 data-ipsquote-userid=\u0022107380\u0022 data-ipsquote-username=\u0022PB666\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, PB666 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nlets not go there, matrix multiplication and minor determinants are bad enough.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nQuaternions are easier in a lot of ways, IMHO. The math isn\u0027t that complicated if you want to \u0022roll your own\u0022, but there are plenty of libraries out there too.\n\u003C/p\u003E\n"},{"CreatedByName":"YNM","CreatedById":98447,"CreatedDateTime":"2018-03-06T07:12:27Z","Content":"\n\u003Cp\u003E\nWhy not spherical coordinates ? Surface rotation is just a sphere with some angular velocity. Newtonian derrivation of Kepler laws are done in spherical coordinates as well.\n\u003C/p\u003E\n\u003Cp\u003E\nQuaternions is useful if you want to have rotations too. In fact, quaternions is the only way you can have rotations in 3D or so. I think this manifests somewhat in orbital parameters - you need radius, inclination, arg. of periapse and then anomalies.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-06T07:15:46Z\u0022 title=\u002203/06/2018 07:15  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 6, 2018\u003C/time\u003E by YNM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2018-03-06T14:40:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223311364\u0022 data-ipsquote-contentid=\u0022171725\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221520320347\u0022 data-ipsquote-userid=\u002298447\u0022 data-ipsquote-username=\u0022YNM\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, YNM said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhy not spherical coordinates ? Surface rotation is just a sphere with some angular velocity. Newtonian derrivation of Kepler laws are done in spherical coordinates as well.\n\u003C/p\u003E\n\u003Cp\u003E\nQuaternions is useful if you want to have rotations too. In fact, quaternions is the only way you can have rotations in 3D or so. I think this manifests somewhat in orbital parameters - you need radius, inclination, arg. of periapse and then anomalies.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhen \u00DF is non-zero, \u03B1 is essentially (or can be transformed easily to) the longditude of the ascending node, \u00DF is the inclination, \u0393 is the argument of the perisapsis all amp to the reference frame. If you know \u0393 and you know your crafts position in R\u003Csup\u003E3\u003C/sup\u003E then you also know your position in E\u003Csup\u003E3 \u003C/sup\u003E. The difference is that in E\u003Csup\u003E3\u003C/sup\u003E you map to a spherical coordinate system, and in R\u003Csup\u003E3\u003C/sup\u003E you map to a polar coordinate system as long as you know the E\u003Csup\u003E3\u003C/sup\u003E coordiantes of your perisapsis. Once you have \u00DF fixed, then \u03B1 globally references all possible ellipses with inclination \u00DF and so set of all \u0393 can map there semi-major axes comprehensively. Imagine it like this \u00DF is a rotation about an X\u003Csub\u003E\u03B1\u003C/sub\u003Ee\u003Csub\u003E1\u003C/sub\u003E, Y\u003Csub\u003E\u03B1\u003C/sub\u003Ee\u003Csub\u003E2\u003C/sub\u003E. \u0393\u003Csub\u003E0\u003C/sub\u003E is Xe\u003Csub\u003E1\u003C/sub\u003E, Ye\u003Csub\u003E2\u003C/sub\u003E in the sense that X\u0027r\u003Csub\u003E1\u003C/sub\u003E = 1 and Y\u0027r\u003Csub\u003E2\u00A0 \u003C/sub\u003E= 0, for all coordinate in the plane defined by Z\u0027r\u003Csub\u003E3\u003C/sub\u003E = 0. If you know where \u0393\u003Csub\u003E0\u003C/sub\u003E is you can know where any point in the plane is, including the argument of periapsis (say \u0393\u003Csub\u003E1\u003C/sub\u003E) and the true anomoly (say \u0393\u003Csub\u003E2\u003C/sub\u003E) and all past periapsis in the same plane (say \u0393\u003Csub\u003E3 \u003C/sub\u003E- \u0393\u003Csub\u003En\u003C/sub\u003E)\u00A0 as long as you can map back to \u0393\u003Csub\u003E0\u003C/sub\u003E. Since these are all unit vector then radius is simply a position vector in the 2-D plane orthogonal to r\u003Csub\u003E3\u003C/sub\u003E.\u00A0 Orbital parameters are all preserved.\n\u003C/p\u003E\n\u003Cp\u003E\nSo why use this, the reason is accuracy, on the computer if you are constantly using the keplarian laws of motion, then every process is a function of sin, cosine followed by inverse sin and inverse cosine, this is highly inaccurate if use for each moment of acceleration. It is better to use X, Y, Z (newtonian) coordinate system to prevent drift of the orbit, i\u0027ve\u00A0 tested this and the drift is something like 10-100 times faster. The problem is when you are working with piddly ION drives where the moment of thrust is tiny and the burns can last years the relative variance is problematic. IOW, once you are in a distinct keplarian orbit your are fine, and if you are perform short\u00A0 bursts of thrust you probably don\u0027t have a problem. But with ION driven spacecraft, you do not want to be altering your periapsis continuously using a keplarian equations, it will get filthy. So that once we have placed the craft in a Z = 0 plane, the math greatly simplifies and as long as we stay in that plane we can continue mapping the coordinates of our periapsis \u0393 relative to X\u003Csub\u003E\u03B1\u003C/sub\u003Ee\u003Csub\u003E1\u003C/sub\u003E, Y\u003Csub\u003E\u03B1\u003C/sub\u003Ee\u003Csub\u003E2\u003C/sub\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nQuaternions are an artifact that turn out to be useful in computer graphics, the problem is the goal here is not to create computer graphics or simulate physics on the computer in 3D. The specific goal is to use a set of coordinates that are most easily tested using the La grangian (the least action required) in this case to achieve desired orbit with regard to energy spent and time. Because of this we want drift to be minimal per small unit of time.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nLet me give an example. A goal of burning would be to project a vector in space in a given direction. In the case we can set an exit position in E\u003Csup\u003E3\u003C/sup\u003E (say a Mars orbit intercepting Hohmann transfer ellipse that projects off of Earth\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E (or hill sphere). There are many small referencing problems here. But the first problem is that this exit position in E\u003Csup\u003E3\u003C/sup\u003E maps to a coordinate position defined at the solar system. We can define the points along the Hohmann transfer in the heliocentric coordinate system let\u0027s call it H\u003Csup\u003E3\u003C/sup\u003E. Xh\u003Csub\u003E1\u003C/sub\u003E, Y\u0027h\u003Csub\u003E2\u003C/sub\u003E, Zh\u003Csub\u003E3\u003C/sub\u003E And like the motion of the Earth. We can also project onto the sphere of Earths \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E where the Hohmann ellipse will intersect that sphere. So these are relatively easy maniupulations and can be done anyway you like, but then you need to convert to Earth\u0027s coordinate system, again this can be done by any number of techniques, it\u0027s not important. The reason these operation are \u0027trivial\u0027 is that you only do them once, if you were to repeat them 100 times a second for 10 years, the method you choose would not be trivial. But then there is a single ellipse within that system (E\u003Csup\u003E3\u003C/sup\u003E is infinite but \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E is not) that projects out of the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the ellipse that leaves, given that impulse is not ever instantaneous in the real world, a set of evolving ellipses with time, to be accurate many different ellipses in Z\u0027=0 all with very small intervals of time. So given any small range of acceleration (i.e. a =10\u003Csup\u003E-4\u003C/sup\u003E to 10\u003Csup\u003E-2\u003C/sup\u003E) a large amount of \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E. The \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E, \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E and amount of time burning can change. The question is when is best to burn, along what angles, and at what \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E (N = KW * eff./exhaust velocity) to achieve the fastest exit times with the least amount of fuel burnt. So for any given point along an ellipse we need to momentarily optimize parameters to achieve the highest benefit for the lowest cost. These transformations put me where I want to be, this is what I am going to use, I just thought I would present them here. Take it or leave it.\n\u003C/p\u003E\n"}]}