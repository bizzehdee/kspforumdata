{"TopicId":32913,"ForumId":16,"TopicTitle":"Can\u0026#039;t Undock Bug, How To Fix","CreatedByName":"roscoe_jones","CreatedById":69812,"CreatedDateTime":"2013-06-14T06:42:02Z","PageNum":1,"Articles":[{"CreatedByName":"roscoe_jones","CreatedById":69812,"CreatedDateTime":"2013-06-14T06:42:02Z","Content":"\n\u003Cp\u003ESo I don\u0027t know why it happens but I found out how to fix the undock bug from someone\u0027s suggestion in another thread (I forget where I saw it). Since Scott Manley recently encountered this bug in his most recent reusable space program, I thought I\u0027d be a constructive member of the community and post my solution. Excuse me for my lack of proper annotations/formatting, this is probably the first time I\u0027ve ever really posted in a forum. Maybe the mods can format it properly once I post it? Hope this helps out! It\u0027s also a selfish move because I want to see Scott Manley continue his trip to Moho! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe bug I\u0027m talking about is when you right click on a docking port and click \u0022Undock\u0022 but nothing happens. The reason this doesn\u0027t respond is because the docking port you right click knows its docked, but the docking port it\u0027s docked to does not. In the save file docking ports have a module that describes their docking behavior. The best way to find the particular docking port that you want is to disable crossfeed before going into the save file on the bugged port that says \u0022Undock\u0022 but does nothing. Make sure crossfeed is enbled on every other port (in the whole save file is best, use find and replace to your advantage). Then ctrl\u002BF \u0022enablexfeed\u0022 and find the one that says \u0022active = True\u0022 that\u0027s the bugged docking port. The parts of it you need are as follows, the bits that will have to be changed are bolded, the bits that you need to pay attention to are italicized:\u003C/p\u003E\u003Cp\u003EDocking port that shows \u0022Undock\u0022 button:\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleDockingNode\u003C/p\u003E\u003Cp\u003E isEnabled = True\u003C/p\u003E\u003Cp\u003E \u003Cem\u003Estate = Docked (docker)\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E dockUId = \u003Cem\u003E4018712963\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E dockNodeIdx = 0\u003C/p\u003E\u003Cp\u003E EVENTS\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E Undock\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E active = True\u003C/p\u003E\u003Cp\u003E...... \u0026lt;---(indicates my own truncation)\u003C/p\u003E\u003Cp\u003EDOCKEDVESSEL\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E vesselName = \u003Cem\u003EThatsnomun RCS Spindle\u003C/em\u003E \u0026lt;----name of docked vessel (not a unique vessel in the save file, part of the mother vessel that is the conglomeration of docked vessels where you\u0027ll find these docking ports) \u003C/p\u003E\u003Cp\u003E vesselType = \u003Cem\u003E2\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E rootUId = \u003Cem\u003E4159860481\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E......\u003C/p\u003E\u003Cp\u003EDocking port that the bugged docking port is attached to (in its bugged state). Find this part by using the dockUId from the port above:\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = ModuleDockingNode\u003C/p\u003E\u003Cp\u003E isEnabled = True\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003Estate = Ready\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003EdockUId = 0\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E dockNodeIdx = 0\u003C/p\u003E\u003Cp\u003E EVENTS\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E Undock\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E active = False\u003C/p\u003E\u003Cp\u003E......\u003C/p\u003E\u003Cp\u003ENote in the above the second docking port doesn\u0027t have a \u0022DOCKEDVESSEL\u0022 section within the module. You have to create it, which is the hard part. It should look like this:\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleDockingNode\u003C/p\u003E\u003Cp\u003E isEnabled = True\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003Estate = Docked (dockee)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003EdockUId = 3497032429\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E dockNodeIdx = 0\u003C/p\u003E\u003Cp\u003E EVENTS\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E Undock\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E active = False\u003C/p\u003E\u003Cp\u003E......\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDOCKEDVESSEL\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E {\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E vesselName = Big Rig 1\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E vesselType = 5\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E rootUId = 975741807\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E }\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis involves a little bit of remembering what the component vessel names are and finding the rootUId of those vessels.\u003C/p\u003E\u003Cp\u003EFind the root ID of the vessel on which the docking port that has the bugged \u0022Undock\u0022 botton is. Maybe someone can reply with a way to do this by analyzing the parent/root structure of the save file. I just happened to remember what the root part (the first part you put down in the VAB) of the connected vessel was, and it was the only one on my station. This could be difficult if the part you decoupled to put it on the station wasn\u0027t the root part you made in the VAB (i.e. you constructed a lifting vehicle, decoupled the payload, docked the payload to the station, and removed the lifting vehicle), because then the vessel has a name like \u0022[Vessel Name] Debris\u0022 or \u0022[Vessel Name] Probe\u0022 etc. I know you can find all this stuff with a lot of cross referencing and searching the save file. A LOT. Be prepared to take notes.\u003C/p\u003E\u003Cp\u003EOnce you found that rootUId, put that in the rootUId in the DOCKEDVESSEL section you\u0027re creating. Also carry over the vessel type (not sure how to find that one out) and the vessel name. \u003C/p\u003E\u003Cp\u003EOnce you have the DOCKEDVESSEL section assembled, paste it into the module for the docking port from which it is missing. It goes after the \u0022ACTIONS\u0022 and end that module before the next part or other module (such as if you have the docking port camera mod installed). \u003C/p\u003E\u003Cp\u003EEasy, right?\u003C/p\u003E\u003Cp\u003EStep 2, you have to change the bit in the beginning of that docking port\u0027s module description. (see above). \u003C/p\u003E\u003Cp\u003EChange \u0022state = Ready\u0022 to \u0022state = Docked (dockee)\u0022\u003C/p\u003E\u003Cp\u003EInsert the dockUId. That is the part UId for the docking port the has the active \u0022Undock\u0022 button that doesn\u0027t do anything. \u003C/p\u003E\u003Cp\u003EOnce you have changed those values and inserted your new DOCKEDVESSEL section, you should be able to quickload the game and it should undock successfully!\u003C/p\u003E\u003Cp\u003EDon\u0027t forget to make backups of all the different save games your changing and your persistent.sfs before making any changes! If you screw something up and the load goes bad, start over by copying and renaming your backups appropriately. \u003C/p\u003E\u003Cp\u003EI really hope this is do-able for people who don\u0027t remember the component vessel names/root parts and for super complicated space stations that might have a bunch of duplicate component vessels that may or may not be bugged. Modders and people familiar with the save file structure, I hope you can help!\u003C/p\u003E\n"},{"CreatedByName":"roscoe_jones","CreatedById":69812,"CreatedDateTime":"2013-06-14T13:33:24Z","Content":"\n\u003Cp\u003EHere\u0027s my hypothesis for why this bug occurs.\u003C/p\u003E\u003Cp\u003EThrough researching this bug and in my own experience, it seems to happen on sub-vessels (a vessel docked to a conglomeration of vessels that doesn\u0027t show up as a unique vessel in the save file, but is named and indicated under the docking modules \u0022DOCKEDVESSEL\u0022 vesselname = []...) that don\u0027t have any sort of control pod (manned or unmanned) as part of their vessel (there may be one on another sub-vessel somewhere in the rest of the mother-vessel, but not on the sub-vessel that doesn\u0027t get its docking port\u0027s state = Docked (dockee) set correctly). Someone can report if they\u0027ve had this bug occur in another circumstance, but I\u0027ve yet to see a report of one.\u003C/p\u003E\u003Cp\u003EI think what happens is as the game is updating the persistent file, it updates the docking port on the vessel you\u0027re docking with the bugged one (changes it to state = Docked (docker) ) because, well, you\u0027re controlling it, so no problem. When the code that goes through and updates the rest of the craft after a successful docking gets to the dockee, though, I think it skips updating that docking port because it say \u0022There\u0027s no control module, I can\u0027t update anything.\u0022 So its state stays at \u0022Ready\u0022 and doesn\u0027t get the DOCKEDVESSEL section. \u003C/p\u003E\u003Cp\u003EThis doesn\u0027t happen every time you dock in this fashion, and I\u0027ve never dug into the code of the game, so I don\u0027t know why it does that, but it seems like a peculiar bug. \u003C/p\u003E\u003Cp\u003EI hope this helps! :-)\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-06-14T14:34:49Z","Content":"\n\u003Cp\u003EI\u0027ll have to try this out as this has happened to me many times. I currently have one vessel stuck to another as part of a three vessel craft. I\u0027m assuming (as this has been the case every other time this has happened) that I will be able to undock two of the vessels, then undock the stuck port. But if that doesn\u0027t work this could be handy. \u003C/p\u003E\u003Cp\u003EAnd it is definitely not limited to crafts with no control points. In every case I have had crafts with probes on both sections that could not be undocked. And they were all part of a larger complex of several docked crafts (at least 3 crafts docked together separately, each with their own probe core or command pod).\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-06-15T05:25:13Z","Content":"\n\u003Cp\u003EWell this is a little weird. This worked in a few different situations, but there were subtle differences in how things were setup. A picture can probably best describe my situation, as it is very complex. Also, I take back what I said about this not necessarily being related to having parts with no probe core/command pod. Although the overall structure shown below has a manned cupola module, the component that I docked to (shown by the green arrow) doesn\u0027t have any control point. This was docked separately to the main base part, the one with the cupola. And I think this has been the case with all of the stuck docking nodes I have come across. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i1191.photobucket.com/albums/z469/grandyd/Kerbal/brokendock1-1.jpg~original\u0022 alt=\u0022brokendock1-1.jpg~original\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe red arrow points to the nun-functional dock, the one with the undock option; this is part of my construction rover, it does have a probe core. The yellow arrow points to the receiving port; it is on my kethane refinery, it also has a probe core. The green arrow points to the second port on the rover, it is used to attach to the base. This port works fine and can undock (though it does break off when I try this, I assume because of some stress caused by being stuck to the kethane vessel).\u003C/p\u003E\u003Cp\u003EThis is the docking code for the rover port (the one with the non-functioning undock option):\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E                        name = ModuleDockingNode\u003Cbr\u003E\t\t\tisEnabled = True\u003Cbr\u003E\t\t\tstate = Docked (docker)\u003Cbr\u003E\t\t\tdockUId = 1787168367\u003Cbr\u003E\t\t\tdockNodeIdx = 0\u003Cbr\u003E\u003Cbr\u003E\t\t\t.... snip .....\u003Cbr\u003E\u003Cbr\u003E                        DOCKEDVESSEL\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tvesselName = Moho Constructor\u003Cbr\u003E\t\t\t\t\t\tvesselType = 3\u003Cbr\u003E\t\t\t\t\t\trootUId = 1324404093\u003Cbr\u003E\t\t\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is where my situation differs from yours. The DOCKEDVESSEL section (I think) should show the information for the other vessel. This shows the information for the vessel attached to the docking node that this section describes. Moho Constructor is the name of the rover, and the rootUId is the number from the rover\u0027s probe core. \u003C/p\u003E\u003Cp\u003EThe rootUId value, by the way, can be found fairly easily as long as you know the part name of probe core, or command pod you are looking for. For instance, the rover has an octagonal probe core, so I search up from the docking port for \u0022probecoreocto\u0022 then check the UId number, which matches the one given in the description above. I\u0027m not sure about the root id if you have separated the original root, but I think it just moves down to the next part. If you have a probe core on top of a decoupler, then the decoupler will become the root after you separate it, I think.\u003C/p\u003E\u003Cp\u003EThe other docking port, the one attached to the kethane refiner has this information:\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    MODULE\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tname = ModuleDockingNode\u003Cbr\u003E\t\t\t\t\tisEnabled = True\u003Cbr\u003E\t\t\t\t\tstate = Ready\u003Cbr\u003E\t\t\t\t\tdockUId = 660524931\u003Cbr\u003E\t\t\t\t\tdockNodeIdx = 0\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe dockUId is correct (this is the \u0027uid\u0027 value for the rover\u0027s docking port), but there is no DOCKEDVESSEL section, the same as your situation. So I just copied the DOCKEDVESSEL section from the other port, with no changes. \u003C/p\u003E\u003Cp\u003EWhen I reloaded, everything worked fine. The stuck red and yellow ports undocked, and the green port undocked, too, without breaking. \u003C/p\u003E\u003Cp\u003EThe next situation, though, turned out a little differently. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i1191.photobucket.com/albums/z469/grandyd/Kerbal/brokendock2-1.jpg~original\u0022 alt=\u0022brokendock2-1.jpg~original\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere I have the rover, shown by the red arrow, stuck to the 6 way node above it. Like the last example, this base component has no control point, even though it is docked to 2 other vessels with control points. On top, where the green arrow points, is another set of stuck ports. This time, the stuck ports (the ones with the non-functioning undock button) belong to the base component, not the rover or the lander (the big orange thing on top). \u003C/p\u003E\u003Cp\u003EHere is the code for the upper docking port, shown by the green arrow, which is attached to the lander called \u0022Moho Skycrane\u0022:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tname = ModuleDockingNode\u003Cbr\u003E\t\t\t\t\tisEnabled = True\u003Cbr\u003E\t\t\t\t\tstate = Docked (docker)\u003Cbr\u003E\t\t\t\t\tdockUId = 2730892197\u003Cbr\u003E\t\t\t\t\tdockNodeIdx = 0 \u003Cbr\u003E\u003Cbr\u003E                                        ..... snip .....\u003Cbr\u003E\u003Cbr\u003E                                    DOCKEDVESSEL\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tvesselName = Hermes\u003Cbr\u003E\t\t\t\t\t\tvesselType = 2\u003Cbr\u003E\t\t\t\t\t\trootUId = 764744321\u003Cbr\u003E\t\t\t\t\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHermes is the name given to the base component (it comes from the tug that brought this part down from Kerbin), and the rootUId is for the docking port shown by the yellow arrow above. This port was directly attached to the original probe core, and it is the point used to connect this module to the main base. So far this is no different from the previous example. \u003C/p\u003E\u003Cp\u003EThe docking port on the bottom, however, makes no sense. This is the one shown by the red arrow. Here is its code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tname = ModuleDockingNode\u003Cbr\u003E\t\t\t\t\tisEnabled = True\u003Cbr\u003E\t\t\t\t\tstate = Docked (docker)\u003Cbr\u003E\t\t\t\t\tdockUId = 660524931\u003Cbr\u003E\t\t\t\t\tdockNodeIdx = 0\u003Cbr\u003E\u003Cbr\u003E                                         ..... snip ..... \u003Cbr\u003E\u003Cbr\u003EDOCKEDVESSEL\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tvesselName = Moho Skycrane\u003Cbr\u003E\t\t\t\t\t\tvesselType = 2\u003Cbr\u003E\t\t\t\t\t\trootUId = 1547116391\u003Cbr\u003E\t\t\t\t\t}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis indicates that the bottom port is attached to the big orange skycrane on top. But that\u0027s obviously not the case. And the dockUId value, which represents the Id of the other docked port, is correct. The value shown above is the Id for the rover\u0027s docking port, not the lander\u0027s (and the same is true for the top port\u0027s code shown above, too, it matches the skycrane\u0027s Id number). \u003C/p\u003E\u003Cp\u003ESo I just switched everything around, I put the DOCKEDVESSEL info for the skycrane onto the top port of the base, and the info for the rover on the bottom port of the base. Then I put the info for the base component (the \u0022vesselName = Hermes\u0022 info) into the rover and the skycrane port sections. And lo and behold, both components were then able to undock.\u003C/p\u003E\u003Cp\u003EI realize this is long and probably utterly confusing to anyone who hasn\u0027t dug around in the docking port section of the persistence or quicksave file. But hopefully this can help someone. The sequence of events required for this to happen is way too complicated to reliably replicate, at least in my case, but it seems clear that something odd is going on with the docking system. The won\u0027t-dock bug seems similar to this, but simpler (I\u0027ll try to get around to posting a real bug report on that with a clean save, I think I know how to reliably replicate that problem), maybe it\u0027s not related though. I\u0027ll see if I can\u0027t find a way to dock together a few parts with no control points to replicate this in a simpler way than what I\u0027ve shown here.\u003C/p\u003E\n"},{"CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2013-06-16T12:04:16Z","Content":"\n\u003Cp\u003EThanks a lot for explaining the docking port module logic. In my case, the broken target port had just the wrong state (Ready instead of \u0022dockee\u0022) and was missing the dockedvessel section. The \u0022dockUID\u0022 was correct\u003C/p\u003E\n"},{"CreatedByName":"The Scientific Moustache","CreatedById":63546,"CreatedDateTime":"2013-06-23T23:26:49Z","Content":"\n\u003Cp\u003Eyeah I had this problem and it was a part without a command module of any kind, it was a solar panel arm on a space station.\u003C/p\u003E\n"},{"CreatedByName":"Tarrow","CreatedById":33293,"CreatedDateTime":"2013-06-24T00:13:51Z","Content":"\n\u003Cp\u003EI\u0027ve encountered it myself, and actually managed to get out of the situation with some weird tinkering about.\u003C/p\u003E\u003Cp\u003EIt occured with me when I put four station modules inline (three modules, one tugboat) each with a clamp-o-tron senior at each end.\u003C/p\u003E\u003Cp\u003EDock tugboat to one module (using front docking port) - no problem, all cot snr\u0027s still work.\u003C/p\u003E\u003Cp\u003EDock tugboat to second module (using rear docking port) - no problem, all cot snr\u0027s still work.\u003C/p\u003E\u003Cp\u003EDock either the first or second module to either of the docking ports on the third module - all cot snr\u0027s fail to undock, with the exception of the one attaching module 1/2 to module 3. \u003C/p\u003E\u003Cp\u003EUndock the third module and all clamp-o-tron seniors on the module 1 / tug / module 2 assembly start working again as normal. I worked around the issue by dumping a module off the tug a few hundred meters away, docking the one the tug was still carrying then going to retrieve the last module. It was fine as long as the tug didn\u0027t have an object on each end at once.\u003C/p\u003E\u003Cp\u003EI accidentally did something vile to the ship whilst attempting to edit the savegame (don\u0027t forget people - backups are good) but could probably try to recreate it if it\u0027s any help?\u003C/p\u003E\u003Cp\u003Eedit: well, inadvertently recreated it with the 2nd attempt at building the minmus station. Built three of the previous modules inline, brought up an x-adaptor to spread them out a bit and inadvertently ended up with a situation where the tugboat has welded itself to the x-adaptor. Surprisingly the same docking port playing up as last time. Other modules were able to undock from each other and manouver onto the other arms of the adaptor but tugboat will be functioning as a drive module until I pluck up the courage to delve into the save file. I\u0027ve yet to send up the mining ship so looks like I\u0027ll hold off for a bit. Would be silly if it got welded to a docking port itself \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-25T00:08:09Z\u0022 title=\u002206/25/2013 12:08  AM\u0022 data-short=\u002211 yr\u0022\u003EJune 25, 2013\u003C/time\u003E by Tarrow\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tarrow","CreatedById":33293,"CreatedDateTime":"2013-06-25T23:29:41Z","Content":"\n\u003Cp\u003ECuriouser and curiouser - I was, through some trial and error, able to \u0022unstick\u0022 the sticky docking port between the tug and the hub. At the time of my previous post edit it was welded to the lower arm of an x shaped hub, jamming after I docked the kethane processing rig to the opposing side of the hub. After shuffing the other modules I ended up with a habitat on each side arm though the tug was at this point still stuck. This evening I undocked the kethane processing rig from the hub to rotate it a bit to look tidier as part of the station, redocked it, and the stuck docking port between the hub and the tug suddenly unstuck. \u003C/p\u003E\u003Cp\u003EOverall on both occasions undocking and redocking a different pair of docking nodes somewhere on the vessel has caused the stuck docking nodes to unstick. Fairly bizzare behaviour tbh - unless undocking that specific pair of nodes causes the game engine to rethink the ship structure (maybe another part becomes the root part?) and somehow catch the error in the bugged docking node set?\u003C/p\u003E\n"},{"CreatedByName":"YarTheBug","CreatedById":72310,"CreatedDateTime":"2013-06-25T23:39:04Z","Content":"\n\u003Cp\u003EThanks for the write-up, Roscoe!\u003C/p\u003E\u003Cp\u003EI just had this glitch on me and managed to fix it by fiddling around in-game. This certainly helped me understand what went wrong and how to fix it.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThe glitch happened when:\u003C/strong\u003E I docket a \u0022\u003Cem\u003Enew vessel\u003C/em\u003E\u0022 to a \u0022\u003Cem\u003Estation\u003C/em\u003E\u0022, then tried to detach that \u0022\u003Cem\u003Epart\u003C/em\u003E\u0022 of the station i just docked to.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIn-game fix was:\u003C/strong\u003E \u003C/p\u003E\u003Cp\u003E1. Undock \u0022\u003Cem\u003Enew vessel\u003C/em\u003E\u0022 from \u0022\u003Cem\u003Epart\u003C/em\u003E\u0022, RCS retro lightly, and turn on ASAS.\u003C/p\u003E\u003Cp\u003E2. Switch to \u0022\u003Cem\u003Estation\u003C/em\u003E\u0022 and undock \u0022\u003Cem\u003Epart\u003C/em\u003E\u0022.\u003C/p\u003E\u003Cp\u003E3. Switch back to \u0022\u003Cem\u003Enew vesse\u003C/em\u003El\u0022 and RCS forward. Dock \u0022\u003Cem\u003Enew vessel\u003C/em\u003E\u0022 to \u0022\u003Cem\u003Epart\u003C/em\u003E\u0022... (this step may require prayer and/or luck)\u003C/p\u003E\u003Cp\u003E4. Dock same \u0022\u003Cem\u003Epart\u003C/em\u003E\u0022 port to same \u0022\u003Cem\u003Estation\u003C/em\u003E\u0022 port it just came from.\u003C/p\u003E\u003Cp\u003E5. All is right with the world, and I can undock when needed.\u003C/p\u003E\u003Cp\u003EThanks again!\u003C/p\u003E\u003Cp\u003EYar\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-06-26T13:55:02Z","Content":"\n\u003Cp\u003EThere is almost always an in-game way to fix this, since it seems to only happen with multipart stations and bases, but I\u0027ve run into one situation with no way to unstick the docking ports. I had two stuck ports on a 3-part vessel. \u003C/p\u003E\u003Cp\u003EWhat I\u0027m wondering, though, is whether anyone has found a repeatable way to get this to happen with a stock, or at least mostly stock, save game. I\u0027ve tried many times to replicate this using a bunch of different rover types on the launch pad (I\u0027ve had stuck ports on rovers before), but I can never get the docking ports to stick together. \u003C/p\u003E\u003Cp\u003EAnd for anyone having issues with persistance file editing, make absolutely sure that you don\u0027t mess up any of the \u0022{\u0022 or \u0022}\u0022 entries; there are a ton of them, so it can be difficult to keep track. If you delete any of these it will totally screw up your vessel because it breaks how the game interprets the parts and how they connect to each other.\u003C/p\u003E\n"},{"CreatedByName":"Tobyz28","CreatedById":72108,"CreatedDateTime":"2013-07-05T11:10:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EThere is almost always an in-game way to fix this, since it seems to only happen with multipart stations and bases, but I\u0027ve run into one situation with no way to unstick the docking ports. I had two stuck ports on a 3-part vessel. \u003Cp\u003EWhat I\u0027m wondering, though, is whether anyone has found a repeatable way to get this to happen with a stock, or at least mostly stock, save game. I\u0027ve tried many times to replicate this using a bunch of different rover types on the launch pad (I\u0027ve had stuck ports on rovers before), but I can never get the docking ports to stick together. \u003C/p\u003E\u003Cp\u003EAnd for anyone having issues with persistance file editing, make absolutely sure that you don\u0027t mess up any of the \u0022{\u0022 or \u0022}\u0022 entries; there are a ton of them, so it can be difficult to keep track. If you delete any of these it will totally screw up your vessel because it breaks how the game interprets the parts and how they connect to each other.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERan into this a few times today. I think it may have something to do with sending up station modules with a decoupler attached to a docking node.\u003C/p\u003E\u003Cp\u003E[ship Stage 1]\u003C/p\u003E\u003Cp\u003E[ \\ Node / ]\u003C/p\u003E\u003Cp\u003E[Decoupler]\u003C/p\u003E\u003Cp\u003E[ship Stage 2]\u003C/p\u003E\u003Cp\u003EI do this when i don\u0027t want to carry a matching node ontop stage 2 and so i can properly drop stage 2 with the decoupler. If you hit space and execute the decoupler the node becomes bugged when you attach something to it (need to test further). If you right click on the node instead and \u0022undock\u0022 it the decoupler just flies off the node as if it were docked and the node behaves as desired after.\u003C/p\u003E\u003Cp\u003EI think Nodes were designed to be done this way:\u003C/p\u003E\u003Cp\u003E[ship Stage 1]\u003C/p\u003E\u003Cp\u003E[ \\ Node / ]\u003C/p\u003E\u003Cp\u003E[ / Node \\]\u003C/p\u003E\u003Cp\u003E[ship Stage 2]\u003C/p\u003E\u003Cp\u003EAnd the way i initially set the ship up I think brought a bug to the surface.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-07-05T14:06:34Z","Content":"\n\u003Cp\u003EDo you mean the node won\u0027t dock, or it won\u0027t undock after using the decoupler? If it won\u0027t dock at all then the state is just bugged. You have to change \u0027State = acquiring\u0027 (or \u0027docked (docker/dockee)\u0027 sometimes) to \u0027State = ready\u0027 in the part description. This has happened to me before, or at least something similar to it. \u003C/p\u003E\u003Cp\u003EIt might also contribute to the \u0027won\u0027t undock\u0027 bug, too. I don\u0027t think I\u0027ve tried this exact thing in one of my many attempts to find a simple way to replicate this bug. Actually, I think most of the times this bug has appeared for me have been doing what you described as your solution, undocking something (that isn\u0027t another docking port) from the port that eventually gets stuck.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-07-08T02:56:47Z","Content":"\n\u003Cp\u003EI had this situation happen to me recently as well while trying to setup a kethane mining operation. I was building a fueling station in orbit around the Mun. It had 2 small drilling rigs attached. Sent one of the rigs down to drill and got it all filled up. Tried to send down the 2nd rig so I could launch the 1st to re-dock with the station but the 2nd rig wouldn\u0027t undock. I eventually got it to undock after messing around with the save file but thought I\u0027d check previous saves. I thought maybe the problem had something to do with some new parts I sent up (an extended power module to dock with one of my drilling rigs as they originally dont have enough power to drill/convert without running low on power) but that wasn\u0027t the case. Turns out the docking problem occurred when I docked two fuel tanks together. I loaded the old save file (I back them up when I make major advances, like landing on the Mun (or learning how to do so through trial/error LOL) and checked and sure enough one of the miners wouldn\u0027t release/undock. I did undock one rig but the other wouldn\u0027t budge, that is until I undocked the two tanks at the center, that seemed to allow the bugged port to work like it should.\u003C/p\u003E\u003Cp\u003ETo explain a little more, I originally designed my launcher so the upper stage (munar inject stage) could become part of the fuel station. Had a skipper engine attached via Sr COT port(s). Drilling rig attached to rockomax adaptor via normal COT. So with the skipper engine undocked I could obviously use that end for docking to other tanks. For whatever reason, not totally on purpose, I ended up, from two separate launches having two of each drilling rig and fuel tank. So I figured I\u0027d dock the two together(not thinking if the names were the same, don\u0027t remember if they were or not). Everything seemed fine, I was able to undock one of the miners take it down fill up and get back to the station. Didn\u0027t know there was a problem until today. My guess is that it may have something to do, at least in part, with ships having similar names. Oh also all four pieces have the stock remote control unit (so I don\u0027t think that has anything to do with it, at least in my case anyway), and other than kethane tanks/convertor and drills, no other mods were used on this particular mission. \u003C/p\u003E\u003Cp\u003EI might have also had a docking port connected to a coupler, though I can\u0027t be 100% sure on that one though. I guess next time I\u0027ll make sure to change names of things before docking them, just incase thats it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-08T03:02:18Z\u0022 title=\u002207/08/2013 03:02  AM\u0022 data-short=\u002211 yr\u0022\u003EJuly 8, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2013-07-23T05:52:35Z","Content":"\n\u003Cp\u003EArrrgh! I have to say \u0022me too\u0022 I have had this happen,and it is very annoying. Thanks to this thread I was able to rescue my craft(s). I learned a few things in the process:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022roscoe_jones\u0022 data-cite=\u0022roscoe_jones\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EFind the root ID of the vessel on which the docking port that has the bugged \u0022Undock\u0022 botton is. Maybe someone can reply with a way to do this by analyzing the parent/root structure of the save file. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI realised that the parts are implicitly numbered starting from 0 by the order that they appear in the vessel, and this can be used to build up the tree using the parent value, so I took a copy of the vessel and went through adding in an ID for each part, and was then able to visualise the craft in my mind as I read through it because the parent ID tells you what each part is attached too. Hard work, but at least it makes it possible to navigate the parts, and make notes on paper as to what the important parts of the vessel are:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://postimg.org/image/i673myed9/full/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://s14.postimg.org/fovcfougx/IMAG0306.jpg\u0022 alt=\u0022IMAG0306.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022roscoe_jones\u0022 data-cite=\u0022roscoe_jones\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI just happened to remember what the root part (the first part you put down in the VAB) of the connected vessel was, and it was the only one on my station. This could be difficult if the part you decoupled to put it on the station wasn\u0027t the root part you made in the VAB (i.e. you constructed a lifting vehicle, decoupled the payload, docked the payload to the station, and removed the lifting vehicle), because then the vessel has a name like \u0022[Vessel Name] Debris\u0022 or \u0022[Vessel Name] Probe\u0022 etc. I know you can find all this stuff with a lot of cross referencing and searching the save file. A LOT. Be prepared to take notes.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI discovered that it was possible to set various differnt parts as the rootUID, and the code would rehang the tree (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/40717-Subassembly-Manager-Rehanging-the-tree\u0022 rel=\u0022external nofollow\u0022\u003Eof interest to me as I as asking how to achieve this in the VAB a few days ago\u003C/a\u003E) using the part you specified as the new root. I think that from this point of view it is probably best to choose the probe-core / command module that you WANT to be the root of that part of the vessel when you undock.\u003C/p\u003E\u003Cp\u003EI also suspect that this is significant in what causes the problem, ie it occurs in certain situations when one of the craft being docked does not have the probecore / command module as the root of the tree. This can occur if you add an extra probe core to your craft and then blow some decouplers or similar to seperate it form the probecore that was at the root of the original craft. (In my situation I hadd attached probe cores to empty jumbo tanks that I intended to use to dock with and use to ferry fuel from a refinary. Once in orbit I blew the decouplers to seperate them from the craft that lifted them to orbit, but it all went wrong when my tug tried to pick them up. I tried to reduce this to a simple test case, but without succcess \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022roscoe_jones\u0022 data-cite=\u0022roscoe_jones\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOnce you found that rootUId, put that in the rootUId in the DOCKEDVESSEL section you\u0027re creating. Also carry over the vessel type (not sure how to find that one out) and the vessel name. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think the vessel type just sets whether it is a probe or rover or base etc, and is easily changed in game once undocked.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022roscoe_jones\u0022 data-cite=\u0022roscoe_jones\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EStep 2, you have to change the bit in the beginning of that docking port\u0027s module description. (see above). \u003C/p\u003E\u003Cp\u003EChange \u0022state = Ready\u0022 to \u0022state = Docked (dockee)\u0022\u003C/p\u003E\u003Cp\u003EInsert the dockUId. That is the part UId for the docking port the has the active \u0022Undock\u0022 button that doesn\u0027t do anything. \u003C/p\u003E\u003Cp\u003EOnce you have changed those values and inserted your new DOCKEDVESSEL section, you should be able to quickload the game and it should undock successfully!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wasted a lot of time because I had not realised that when you do undock, the parts are not immediately set to the ready state, but too the \u0022disengaged\u0022 state. Only once you have reached a seperation distace of 2meters (or whatever value is specified in \u0022unfocusedRange\u0022) is the state set to ready and you are able to redock. I assuem this is to stop undocked ports immediatly redocking, but it made me think that it was still messed up as I could not redock! \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022roscoe_jones\u0022 data-cite=\u0022roscoe_jones\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI really hope this is do-able for people who don\u0027t remember the component vessel names/root parts and for super complicated space stations that might have a bunch of duplicate component vessels that may or may not be bugged. Modders and people familiar with the save file structure, I hope you can help!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks so much for posting this, it was really helpful. as I said above I suspect that if you go through the whole craft and make note of all the docking port and probecore IDs and how they are connected you can fix it up without needing to remember how the craft to constructed.\u003C/p\u003E\n"},{"CreatedByName":"brainsalad","CreatedById":76048,"CreatedDateTime":"2013-08-21T23:57:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003E...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour post helped me resolve a stuck docking occurrence; thanks!\u003C/p\u003E\u003Cp\u003EMy stuck docking situation:\u003C/p\u003E\u003Cp\u003EI have a base on Duna with docking ports on the side. These ports are provided for big rover trucks to back up against, not unlike a loading bay behind a store or factory. So, they\u0027re pretty high off the ground.\u003C/p\u003E\u003Cp\u003EI constructed a truck back on Kerbin. Not knowing the exact height of the Duna base docking ports, I equipped the truck with magic rams capable of raising it up a few meters. After dispatching this truck to Duna and backing it up against the base, the truck\u0027s massive scale became apparent. It\u0027s of ludicrous proportion; its docking port stands high above those of the diminutive base.\u003C/p\u003E\u003Cp\u003ESo, I built an adapter with docking ports on both sides and sent it to Duna on a sky crane. I attached the adapter to the truck, detached the other end from the crane, and backed the truck up against the station such that the docking port previously attached to the crane now attached to the station. Kerbals flowed through the adapter tube like hyperactive gerbils, filling the truck and eager to finally tear across Duna in god\u0027s own $70 million stretch SUV.\u003C/p\u003E\u003Cp\u003EA crushing disappointment: the adapter docking port attached to the truck refused to release. Jeb pointed out that it does work to undock the station end and then the truck end, causing the adapter to fall into the red sand where it would forever remain. Alternatively, the adapter could remain attached like some deranged scorpion tale as the SUV careened about the austere Dunese landscape.\u003C/p\u003E\u003Cp\u003EDMagic\u0027s post showed me where to look. The srf file indicated that the adapter port docked against the truck listed its mate as being the sky crane, and the port on the truck attached to the adapter as undocked. Both had correct dockUIds, so it was a simple matter to fix the other fields and add DOCKEDVESSEL section to the truck\u0027s port. I loaded the modified srf and finally undocked the adapter from the truck.\u003C/p\u003E\u003Cp\u003EIn the future, I\u0027m going to put a remote command module on all such adapter parts so that they aren\u0027t inert. Hopefully it\u0027s just inert segments that cause stuck docking.\u003C/p\u003E\n"},{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2013-08-22T17:46:01Z","Content":"\n\u003Cp\u003EThis bug needs to be fixed, rather than requiring players to machinate through a convoluted exercise.\u003C/p\u003E\u003Cp\u003EIt would truly warm the cockles of my heart (what are cockles, anyway?) if a near-term weekly status report stated the following from one of the devs:\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EIn addition to creating shiny new toys and features, I spent half-an-hour to determine the cause of the undock bug and fixed it. You should see in vers. 0.22.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EBut then again, there\u0027s a better probability of me having a beer with Santa Claus, the Easter Bunny, and the Tooth Fairy today...\u003C/p\u003E\n"},{"CreatedByName":"KerbMav","CreatedById":70338,"CreatedDateTime":"2013-09-09T09:08:14Z","Content":"\n\u003Cp\u003EThey always overlook Sandman just because he cannot talk ... poor fellow ...\u003C/p\u003E\u003Cp\u003EAnd funny how it is always just half an hour ... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mishkin_007","CreatedById":59818,"CreatedDateTime":"2013-09-11T23:37:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022roscoe_jones\u0022 data-cite=\u0022roscoe_jones\u0022\u003E\u003Cdiv\u003ESo I don\u0027t know why it happens but I found out how to fix the undock bug from someone\u0027s suggestion in another thread (I forget where I saw it). Since Scott Manley recently encountered this bug in his most recent reusable space program, I thought I\u0027d be a constructive member of the community and post my solution. Excuse me for my lack of proper annotations/formatting, this is probably the first time I\u0027ve ever really posted in a forum. Maybe the mods can format it properly once I post it? Hope this helps out! It\u0027s also a selfish move because I want to see Scott Manley continue his trip to Moho! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003Cp\u003EThe bug I\u0027m talking about is when you right click on a docking port and click \u0022Undock\u0022 but nothing happens. The reason this doesn\u0027t respond is because the docking port you right click knows its docked, but the docking port it\u0027s docked to does not. In the save file docking ports have a module that describes their docking behavior. The best way to find the particular docking port that you want is to disable crossfeed before going into the save file on the bugged port that says \u0022Undock\u0022 but does nothing. Make sure crossfeed is enbled on every other port (in the whole save file is best, use find and replace to your advantage). Then ctrl\u002BF \u0022enablexfeed\u0022 and find the one that says \u0022active = True\u0022 that\u0027s the bugged docking port. The parts of it you need are as follows, the bits that will have to be changed are bolded, the bits that you need to pay attention to are italicized:\u003C/p\u003E\u003Cp\u003EDocking port that shows \u0022Undock\u0022 button:\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleDockingNode\u003C/p\u003E\u003Cp\u003E isEnabled = True\u003C/p\u003E\u003Cp\u003E \u003Cem\u003Estate = Docked (docker)\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E dockUId = \u003Cem\u003E4018712963\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E dockNodeIdx = 0\u003C/p\u003E\u003Cp\u003E EVENTS\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E Undock\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E active = True\u003C/p\u003E\u003Cp\u003E...... \u0026lt;---(indicates my own truncation)\u003C/p\u003E\u003Cp\u003EDOCKEDVESSEL\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E vesselName = \u003Cem\u003EThatsnomun RCS Spindle\u003C/em\u003E \u0026lt;----name of docked vessel (not a unique vessel in the save file, part of the mother vessel that is the conglomeration of docked vessels where you\u0027ll find these docking ports) \u003C/p\u003E\u003Cp\u003E vesselType = \u003Cem\u003E2\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E rootUId = \u003Cem\u003E4159860481\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E......\u003C/p\u003E\u003Cp\u003EDocking port that the bugged docking port is attached to (in its bugged state). Find this part by using the dockUId from the port above:\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = ModuleDockingNode\u003C/p\u003E\u003Cp\u003E isEnabled = True\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003Estate = Ready\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003EdockUId = 0\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E dockNodeIdx = 0\u003C/p\u003E\u003Cp\u003E EVENTS\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E Undock\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E active = False\u003C/p\u003E\u003Cp\u003E......\u003C/p\u003E\u003Cp\u003ENote in the above the second docking port doesn\u0027t have a \u0022DOCKEDVESSEL\u0022 section within the module. You have to create it, which is the hard part. It should look like this:\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleDockingNode\u003C/p\u003E\u003Cp\u003E isEnabled = True\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003Estate = Docked (dockee)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003EdockUId = 3497032429\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E dockNodeIdx = 0\u003C/p\u003E\u003Cp\u003E EVENTS\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E Undock\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E active = False\u003C/p\u003E\u003Cp\u003E......\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDOCKEDVESSEL\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E {\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E vesselName = Big Rig 1\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E vesselType = 5\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E rootUId = 975741807\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E }\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis involves a little bit of remembering what the component vessel names are and finding the rootUId of those vessels.\u003C/p\u003E\u003Cp\u003EFind the root ID of the vessel on which the docking port that has the bugged \u0022Undock\u0022 botton is. Maybe someone can reply with a way to do this by analyzing the parent/root structure of the save file. I just happened to remember what the root part (the first part you put down in the VAB) of the connected vessel was, and it was the only one on my station. This could be difficult if the part you decoupled to put it on the station wasn\u0027t the root part you made in the VAB (i.e. you constructed a lifting vehicle, decoupled the payload, docked the payload to the station, and removed the lifting vehicle), because then the vessel has a name like \u0022[Vessel Name] Debris\u0022 or \u0022[Vessel Name] Probe\u0022 etc. I know you can find all this stuff with a lot of cross referencing and searching the save file. A LOT. Be prepared to take notes.\u003C/p\u003E\u003Cp\u003EOnce you found that rootUId, put that in the rootUId in the DOCKEDVESSEL section you\u0027re creating. Also carry over the vessel type (not sure how to find that one out) and the vessel name. \u003C/p\u003E\u003Cp\u003EOnce you have the DOCKEDVESSEL section assembled, paste it into the module for the docking port from which it is missing. It goes after the \u0022ACTIONS\u0022 and end that module before the next part or other module (such as if you have the docking port camera mod installed). \u003C/p\u003E\u003Cp\u003EEasy, right?\u003C/p\u003E\u003Cp\u003EStep 2, you have to change the bit in the beginning of that docking port\u0027s module description. (see above). \u003C/p\u003E\u003Cp\u003EChange \u0022state = Ready\u0022 to \u0022state = Docked (dockee)\u0022\u003C/p\u003E\u003Cp\u003EInsert the dockUId. That is the part UId for the docking port the has the active \u0022Undock\u0022 button that doesn\u0027t do anything. \u003C/p\u003E\u003Cp\u003EOnce you have changed those values and inserted your new DOCKEDVESSEL section, you should be able to quickload the game and it should undock successfully!\u003C/p\u003E\u003Cp\u003EDon\u0027t forget to make backups of all the different save games your changing and your persistent.sfs before making any changes! If you screw something up and the load goes bad, start over by copying and renaming your backups appropriately. \u003C/p\u003E\u003Cp\u003EI really hope this is do-able for people who don\u0027t remember the component vessel names/root parts and for super complicated space stations that might have a bunch of duplicate component vessels that may or may not be bugged. Modders and people familiar with the save file structure, I hope you can help!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI appreciate you trying to come up with a fix but this made very little sense to me. Squad needs to fix this bug.\u003C/p\u003E\n"},{"CreatedByName":"Snarfster","CreatedById":80347,"CreatedDateTime":"2013-09-30T23:15:31Z","Content":"\n\u003Cp\u003EI had this issue with my tug delivering two kethane tanks to my minmus orbital refinery. (One tank on the bottom, one on the top).\u003C/p\u003E\u003Cp\u003EI eventually solved it by undocking the tug (with tanks attached) then, at a distance, undocked the tank (now it worked) and redocked the tank. Then redock to the refinery.\u003C/p\u003E\u003Cp\u003EFor some reason that was enough to fix it. (And it sure went quicker than searching through that persistent file.)\u003C/p\u003E\n"},{"CreatedByName":"Stankleberry","CreatedById":76321,"CreatedDateTime":"2013-09-30T23:20:57Z","Content":"\n\u003Cp\u003EEither blast the rocket on the docked ship wildly until the docking ports break off or perhaps smash another rocket into the docking port area until it\u0027s apart.\u003C/p\u003E\n"},{"CreatedByName":"whistlehead","CreatedById":79926,"CreatedDateTime":"2013-11-08T16:27:36Z","Content":"\n\u003Cp\u003EThanks OP, saved my M\u00C3\u0192\u00C2\u00BCn mission!\u003C/p\u003E\n"},{"CreatedByName":"Damaske","CreatedById":60029,"CreatedDateTime":"2013-11-27T22:12:15Z","Content":"\n\u003Cp\u003EI ran into this once before and simply rolled the SSTO till the dock broke off landed it and then destroyed the station and put up a new one. \u003C/p\u003E\u003Cp\u003EThe one thing i can think of is that the ships were both unnamed and thus has no unique name and shared names docking = confusing and bugging out. THUS i feel that EACH ship even if unnamed/unsaved SHOULD be tracked and given a unique name something like unnamed000001, and so forth till unnamed999999 then it rolls over to unnamed000001. In theory if someone makes and flies 1 million unnamed ships really fast they are troubles. \u003C/p\u003E\u003Cp\u003ESQUAD: PLEASE FIX THIS STUPID DOCKING BUG!\u003C/p\u003E\n"},{"CreatedByName":"Waster","CreatedById":166374,"CreatedDateTime":"2013-12-18T03:38:26Z","Content":"\n\u003Cp\u003ESo the big day is finally here for .23. Was surprisingly able to open my .22 career save and the first thing I tried was to undock all of my stuck ships. \u003C/p\u003E\u003Cp\u003ENO JOY!\u003C/p\u003E\u003Cp\u003EI have to assume that the fixed docking ports bug described in KerbalKon is only for newly begun careers.\u003C/p\u003E\n"},{"CreatedByName":"Semtex89","CreatedById":99507,"CreatedDateTime":"2014-01-03T03:52:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003E... And for anyone having issues with persistance file editing, make absolutely sure that you don\u0027t mess up any of the \u0022{\u0022 or \u0022}\u0022 entries; there are a ton of them, so it can be difficult to keep track. If you delete any of these it will totally screw up your vessel because it breaks how the game interprets the parts and how they connect to each other.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWish I\u0027d read that 10 seconds ago - now my refueling station consists of a Stayputnik and one thoroughly misplaced RCS block.... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"DeepSpaceDutch","CreatedById":66213,"CreatedDateTime":"2014-01-11T11:49:39Z","Content":"\n\u003Cp\u003EWell damn, I am having a similar problem as the ones described in this thread. Unfortunately it is a bit different and that\u0027s why I am not having any luck fixing it. Hopefully somebody here can help me because it\u0027s seriously spoiling the fun in setting up my first Kethane infrastructure.\u003C/p\u003E\u003Cp\u003ESo here\u0027s the dealio;\u003C/p\u003E\u003Cp\u003EI\u0027m constructing a large Kethane storage station in orbit around the Mun. I thought it would be cool to have a docking module with 4 translating arms (using Infernal Robotics) with docking ports at the ends. However, the instability this module created when a ship docked was a lot less fun, so I decided to use a derelict Kethane Shuttle to disconnect this docking module and replace it with a more conservative non-moving-parts docking module. Here\u0027s where the \u0022fun\u0022 started, I docked the Kethane Shuttle (below the green arrow in the screenshot) to the docking port on the bottom of the docking module. Then I proceeded to click the Undock toggle on the docking port next to the red arrow. The plan was to back away and have the docking module and shuttle crash on the Mun. As you might have expected nothing happenend, -insert explicit here-.\u003C/p\u003E\u003Cp\u003ELuckily I found this thread and started poking around in the persistence file. To my horror I found that my problem is not exactly the same. I did find the buggy docking ports using the trick in the OP (set Fuel transfer on offending docking port to OFF and look for enablexfeed = True)\u003C/p\u003E\u003Cp\u003EHere\u0027s why; \u003C/p\u003E\u003Cp\u003Ethe code snippet below is the same for the docking ports near the red and green arrow (Undocking the docking module/kethane shuttle is impossible, only undocking the kethane shuttle is also impossible).\u003C/p\u003E\u003Cp\u003EThere is no DOCKEDVESSEL section for either ports and the state is set to Docked (same vessel). Also I could not find any reference to the original module names (KethStation 1 - Docking Module Mk1 \u0026amp; KethShuttle - Mun 1) of the docking module nor the kethane shuttle in the persistence file.\u003C/p\u003E\u003Cp\u003EI\u0027m fearing the problem is that the game now sees my station as one complete craft instead of docked modules. \u003C/p\u003E\u003Cp\u003EAnyone got any ideas? \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\t\t\t\tMODULE\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tname = ModuleDockingNode\u003Cbr\u003E\t\t\t\t\tisEnabled = True\u003Cbr\u003E\t\t\t\t\tstate = Docked (same vessel)\u003Cbr\u003E\t\t\t\t\tdockUId = 1753449553\u003Cbr\u003E\t\t\t\t\tdockNodeIdx = 0\u003Cbr\u003E\t\t\t\t\tEVENTS\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tUndock\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tactive = False\u003Cbr\u003E\t\t\t\t\t\t\tguiActive = True\u003Cbr\u003E\t\t\t\t\t\t\tguiIcon = Undock\u003Cbr\u003E\t\t\t\t\t\t\tguiName = Undock\u003Cbr\u003E\t\t\t\t\t\t\tcategory = Undock\u003Cbr\u003E\t\t\t\t\t\t\tguiActiveUnfocused = True\u003Cbr\u003E\t\t\t\t\t\t\tunfocusedRange = 2\u003Cbr\u003E\t\t\t\t\t\t\texternalToEVAOnly = True\u003Cbr\u003E\t\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t\t\tUndockSameVessel\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tactive = True\u003Cbr\u003E\t\t\t\t\t\t\tguiActive = True\u003Cbr\u003E\t\t\t\t\t\t\tguiIcon = Undock\u003Cbr\u003E\t\t\t\t\t\t\tguiName = Undock\u003Cbr\u003E\t\t\t\t\t\t\tcategory = Undock\u003Cbr\u003E\t\t\t\t\t\t\tguiActiveUnfocused = True\u003Cbr\u003E\t\t\t\t\t\t\tunfocusedRange = 2\u003Cbr\u003E\t\t\t\t\t\t\texternalToEVAOnly = True\u003Cbr\u003E\t\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t\t\tDecouple\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tactive = False\u003Cbr\u003E\t\t\t\t\t\t\tguiActive = True\u003Cbr\u003E\t\t\t\t\t\t\tguiIcon = Decouple Node\u003Cbr\u003E\t\t\t\t\t\t\tguiName = Decouple Node\u003Cbr\u003E\t\t\t\t\t\t\tcategory = Decouple Node\u003Cbr\u003E\t\t\t\t\t\t\tguiActiveUnfocused = True\u003Cbr\u003E\t\t\t\t\t\t\tunfocusedRange = 2\u003Cbr\u003E\t\t\t\t\t\t\texternalToEVAOnly = True\u003Cbr\u003E\t\t\t\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\t\t\u0026lt;\u0026lt; .... \u0026gt;\u0026gt;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\t\tEnableXFeed\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tactive = True\u003Cbr\u003E\t\t\t\t\t\t\tguiActive = True\u003Cbr\u003E\t\t\t\t\t\t\tguiIcon = Enable Crossfeed\u003Cbr\u003E\t\t\t\t\t\t\tguiName = Enable Crossfeed\u003Cbr\u003E\t\t\t\t\t\t\tcategory = Enable Crossfeed\u003Cbr\u003E\t\t\t\t\t\t\tguiActiveUnfocused = False\u003Cbr\u003E\t\t\t\t\t\t\tunfocusedRange = 2\u003Cbr\u003E\t\t\t\t\t\t\texternalToEVAOnly = True\u003Cbr\u003E\t\t\t\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\t\t\u0026lt;\u0026lt; .... \u0026gt;\u0026gt;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t\tACTIONS\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tUndockAction\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tactionGroup = None\u003Cbr\u003E\t\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t\t\tDecoupleAction\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tactionGroup = None\u003Cbr\u003E\t\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EScreenie:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/CoVLW00.jpg\u0022 alt=\u0022CoVLW00.jpg\u0022\u003E\u003C/p\u003E\n"}]}