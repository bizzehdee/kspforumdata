{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":98,"Articles":[{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2016-10-14T17:55:31Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to extend RCSBuildAid to include a center of Buoyancy function. It looks like it should be simple as Part has a CenterOfBuoyancy field, as well as a PartBouyancy. Unfortunately nont of these seem to be initialised in the editor. Does anyone know how to either initialise them or calculate it manually?\n\u003C/p\u003E\n"},{"CreatedByName":"rkfnql322","CreatedById":66671,"CreatedDateTime":"2016-10-16T00:37:24Z","Content":"\n\u003Cp\u003E\nI have updated my part to 1.2 and its showing very odd phenomenon.\n\u003C/p\u003E\n\u003Cp\u003E\nOne is, it gets some strut menu when specific code is included in plugin. Such as OnInitialize or OnLoad etc.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd now, its not showing in editor but it shows up after i start flight. And until the part is first enabled.\n\u003C/p\u003E\n\u003Cp\u003E\nThe two is, when timewarped short, it disappears. But its not. It follows the craft far back.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think these are some joint update related problem and Im not getting any sense. If anyone knows how does it work and has any tip.\n\u003C/p\u003E\n"},{"CreatedByName":"Eldrad_Ulthran","CreatedById":185228,"CreatedDateTime":"2016-10-18T08:01:24Z","Content":"\n\u003Cp\u003E\nI\u0027m looking to get into modding and have unity, but I am daunted by all the different tutorials and forum pages. I want to mod\u00A01.2 but don\u0027t know where to start.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m moderately new to KSP\u00A0(since 1.1) but have a little JS\u00A0experience and am learning blender. I just want to create my own personal parts. Could you steer me in the right direction?\n\u003C/p\u003E\n"},{"CreatedByName":"hab136","CreatedById":75997,"CreatedDateTime":"2016-10-18T19:28:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222810478\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221476777684\u0022 data-ipsquote-userid=\u0022166698\u0022 data-ipsquote-username=\u0022owenmaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, owenmaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022 style=\u0022background-repeat:no-repeat;background-position:1020px 0px;\u0022\u003E\n\u003Cp\u003E\nI\u0027m looking to get into modding and have unity, but I am daunted by all the different tutorials and forum pages. I want to mod\u00A01.2 but don\u0027t know where to start.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m moderately new to KSP\u00A0(since 1.1) but have a little JS\u00A0experience and am learning blender. I just want to create my own personal parts. Could you steer me in the right direction?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you just want to modify existing parts (or even clone existing parts and change their properties like size, thrust, resources, etc), take a look at \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/50533-12-module-manager-271-october-8th-better-late-than-never/\u0022 rel=\u0022\u0022\u003EModule Manager\u003C/a\u003E. \u00A0You just need Notepad to make \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E configs.\n\u003C/p\u003E\n\u003Cp\u003E\nThis forum is mainly for plugins (C# code). \u00A0For creating parts (blender, unity)\u00A0you want this forum:\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/forum/15-modelling-and-texturing-discussion/\u0022 rel=\u0022\u0022\u003Ehttp://forum.kerbalspaceprogram.com/index.php?/forum/15-modelling-and-texturing-discussion/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a tutorial stickied at the top.\n\u003C/p\u003E\n\u003Cp\u003E\nSome modders live-stream their part creation; I know Roverdude does:\u00A0\u003Ca href=\u0022https://www.twitch.tv/roverdude/videos/past-broadcasts\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.twitch.tv/roverdude/videos/past-broadcasts\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI personally have no idea how to do 3D models and have no artistic talent anyways \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Eldrad_Ulthran","CreatedById":185228,"CreatedDateTime":"2016-10-18T23:16:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222811367\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221476818894\u0022 data-ipsquote-userid=\u002275997\u0022 data-ipsquote-username=\u0022hab136\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, hab136 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you just want to modify existing parts (or even clone existing parts and change their properties like size, thrust, resources, etc), take a look at \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/50533-12-module-manager-271-october-8th-better-late-than-never/\u0022 rel=\u0022\u0022\u003EModule Manager\u003C/a\u003E. \u00A0You just need Notepad to make \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E configs.\n\u003C/p\u003E\n\u003Cp\u003E\nThis forum is mainly for plugins (C# code). \u00A0For creating parts (blender, unity)\u00A0you want this forum:\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/forum/15-modelling-and-texturing-discussion/\u0022 rel=\u0022\u0022\u003Ehttp://forum.kerbalspaceprogram.com/index.php?/forum/15-modelling-and-texturing-discussion/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a tutorial stickied at the top.\n\u003C/p\u003E\n\u003Cp\u003E\nSome modders live-stream their part creation; I know Roverdude does:\u00A0\u003Ca href=\u0022https://www.twitch.tv/roverdude/videos/past-broadcasts\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.twitch.tv/roverdude/videos/past-broadcasts\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI personally have no idea how to do 3D models and have no artistic talent anyways \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks! My current blender creations are quite\u0022\u003Cem\u003EImperfect\u003Csup\u003Etm\u003C/sup\u003E\u003C/em\u003E\u0022\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2016-10-20T01:02:10Z","Content":"\n\u003Cp\u003E\nWhat alternatives to OnDestroy() are there for a PartModule to remove its added GameEvents? I ask because I\u0027m making a child class of a stock PartModule to extend its functionality, but the parent class already has an OnDestroy() that isn\u0027t marked as virtual so I can\u0027t override it. Or does the fact that my child class\u0027 OnDestroy() hide the parent class\u0027 even interfere with it firing?\n\u003C/p\u003E\n\u003Cp\u003E\nOr is it safe to put my destructor in the OnPartDestroyed GameEvent? That seems like a waste of overhead though to check if the destroyed part is \u003Cem\u003Ethis one\u003C/em\u003E every time... Thoughts?\n\u003C/p\u003E\n\u003Cp\u003E\nAlternately, does anyone know if ModuleCoreHeat does anything important in its OnDestroy()? \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E Probably...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-20T01:04:34Z\u0022 title=\u002210/20/2016 01:04  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 20, 2016\u003C/time\u003E by Booots\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-10-20T01:50:24Z","Content":"\n\u003Cp\u003E\nOnDestroy() would still be my recommended way of doing this.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are really concerned, make base.OnDestroy() the first line of code, that will run the OnDestroy() method from the class you are inheriting from, in this case ModuleCoreHeat, then add whatever code you need to run for your own module.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-10-20T04:48:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222813802\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221476928224\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOnDestroy() would still be my recommended way of doing this.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are really concerned, make base.OnDestroy() the first line of code, that will run the OnDestroy() method from the class you are inheriting from, in this case ModuleCoreHeat, then add whatever code you need to run for your own module.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHe can\u0027t \u003Ca href=\u0022https://msdn.microsoft.com/en-us/library/ebca9ah3.aspx\u0022 rel=\u0022external nofollow\u0022\u003Eoverride that because it is not a virtual function\u003C/a\u003E\u00A0(defined in whichever PM he\u0027s inheriting from)\n\u003C/p\u003E\n\u003Cp\u003E\nThe way I\u0027d go would be\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Epart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EOnJustAboutToBeDestroyed\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nEssentially, the game event without you having\u00A0to do the filtering\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-20T04:49:30Z\u0022 title=\u002210/20/2016 04:49  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 20, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-10-20T12:36:03Z","Content":"\n\u003Cp\u003E\nYou don\u0027t have to be able to override it, you can just put \u0022new\u0022 in front of the method and call base.OnDestroy inside of it. As long as the base method is public it should work fine.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-10-20T18:56:23Z","Content":"\n\u003Cp\u003E\nRight, Unity\u0027s magic methods... (method hiding does work correctly in this case)\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2016-10-20T20:08:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222814383\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221476966963\u0022 data-ipsquote-userid=\u002257416\u0022 data-ipsquote-username=\u0022DMagic\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, DMagic said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou don\u0027t have to be able to override it, you can just put \u0022new\u0022 in front of the method and call base.OnDestroy inside of it. As long as the base method is public it should work fine.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cp\u003E\nOne more question: FloatCurves... Is there any way to apply a y-scaling factor to them (ie. multiply only the second part of each key) or do I have to create a new FloatCurve every time I want to change any aspect of one?\n\u003C/p\u003E\n"},{"CreatedByName":"Sneaky Bstard Sword","CreatedById":106377,"CreatedDateTime":"2016-10-21T22:03:57Z","Content":"\n\u003Cp\u003E\nThe documentation on the wiki doesn\u0027t seem to have any instructions on how to develop plugins using a standalone text editor (such as VS Code). Could someone please tell me how to set up a directory with all of the resources I\u00A0would need for standalone add-on development, and how to use those resources?\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-10-21T22:53:54Z","Content":"\n\u003Cp\u003E\nI\u0027m not sure what you mean by standalone?\n\u003C/p\u003E\n\u003Cp\u003E\nYou require the version of KSP you are developing for installed on the computer as you must establish hard dependencies on .dll files in the KSP data directory.\n\u003C/p\u003E\n\u003Cp\u003E\nYou do not need Unity itself installed for many plugins, however if you are creating new part models you will need it to import the 3D objects.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-10-21T23:16:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222817025\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477087437\u0022 data-ipsquote-userid=\u0022106377\u0022 data-ipsquote-username=\u0022Sneaky Bstard Sword\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Sneaky Bstard Sword said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe documentation on the wiki doesn\u0027t seem to have any instructions on how to develop plugins using a standalone text editor (such as VS Code). Could someone please tell me how to set up a directory with all of the resources I\u00A0would need for standalone add-on development, and how to use those resources?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll be blunt but if you require help to set up C# / Omnisharp support in VSCode you should maybe use a full IDE ?\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-10-22T23:35:44Z","Content":"\n\u003Cp\u003E\nSorry to \u0022cross-post\u0022, hoping to get a quick answer from another developer. \u00A0Is there a way to make\u00A0ModuleDeployableAntenna less sensitive to the ordering of my meshes? \u00A0I have a part that is \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/150602-part-upgrade-to-moduledeployableantenna/\u0026amp;do=findComment\u0026amp;comment=2818852\u0022 rel=\u0022\u0022\u003Ebreaking down\u003C/a\u003E if other models with animations are included before\u00A0mediumDishAntenna.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-10-23T01:14:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222818859\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477179344\u0022 data-ipsquote-userid=\u0022148084\u0022 data-ipsquote-username=\u0022Fwiffo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Fwiffo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry to \u0022cross-post\u0022, hoping to get a quick answer from another developer. \u00A0Is there a way to make\u00A0ModuleDeployableAntenna less sensitive to the ordering of my meshes? \u00A0I have a part that is \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/150602-part-upgrade-to-moduledeployableantenna/\u0026amp;do=findComment\u0026amp;comment=2818852\u0022 rel=\u0022\u0022\u003Ebreaking down\u003C/a\u003E if other models with animations are included before\u00A0mediumDishAntenna.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnfortunately not. \u00A0It will only look for the first Animation component in the hierarchy. \u00A0There are a bunch of stock modules that control animations and they all do this differently.\n\u003C/p\u003E\n\u003Cp\u003E\nYou could maybe hack around it if you\u0027re winning to write some code...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-23T01:15:28Z\u0022 title=\u002210/23/2016 01:15  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 23, 2016\u003C/time\u003E by blowfish\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Iniq Myers","CreatedById":170845,"CreatedDateTime":"2016-10-26T18:05:48Z","Content":"\n\u003Cp\u003E\nHey all, new to plugins but somewhat seasoned in a variety of languages, just not recently practiced.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to incorporate VR support (specifically CV1) to KSP and have several questions.\n\u003C/p\u003E\n\u003Cp\u003E\nPrimarily, I would like to know if it is possible to implement the native Unity VR support via a plugin, since I have tried manually setting the value of VR.VRSettings.enabled=true; , but it does not take (posting it\u0027s value to debug immediately after still reads false). I have tried launching KSP with -vrmode oculus but that doesn\u0027t seem to do anything different.\n\u003C/p\u003E\n\u003Cp\u003E\nIf this is not actually possible, is the only other recourse to use a C# wrapper for OVR? (I tried SharpOVR but had my own set of troubles with that too).\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried to modify the project by Vivero at\u00A0\u003Ca href=\u0022https://github.com/Vivero/Kerbal-VR\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Vivero/Kerbal-VR\u003C/a\u003E\u00A0(not updated to 1.2) which uses open_vr and SteamVR to function, but also only ever worked on OpenGL, to no avail.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhen remembering that unity now has baked-in VR support I knew that would be the best way to go, but all tutorials talking about enabling vr in unity assume you are the dev with build access, so I don\u0027t know how difficult if even possible it is to have it enabled at runtime by a plugin.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks,\n\u003C/p\u003E\n\u003Cp\u003E\nIniq\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-10-26T23:03:25Z","Content":"\n\u003Cp\u003E\nI did not test but native VR in the current Unity most likely require the game to be build with the VR player settings option active at build time and I don\u0027t think this is the case in KSP.\n\u003C/p\u003E\n"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-10-27T07:32:08Z","Content":"\n\u003Cp\u003E\nSorry, guys, I didn\u0027t read thru all 97 pages to find the answer to my question \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E Though, I\u0027m pretty sure nobody has asked it before \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd here is the question: how to react on \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EOnSave \u003C/span\u003Eevent \u003Cem\u003Ebefore\u003C/em\u003E any module or game code has persisted anything?\n\u003C/p\u003E\n\u003Cp\u003E\nHere is my problem. I connect two vessels into one with a pivot joint (\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E 1.0). It works fine in flight but when it comes to save/load a problem shows up. It looks on save the game stores vessel part positions from their \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EorgPos/orgRot\u003C/span\u003E settings, and restores the parts basing on these values. Since the joint is a pivot the real position/rotation differ from the ones stored on the joint creation (\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epart.couple()\u003C/span\u003E). As a result, the connected part of the vessel gets rotated to the original angle (the one that was true at the moment of linking). Similar problem happens when time warp is started/stopped but there I can react on \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EOnPartPack\u003C/span\u003E and adjust part values via \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPart.UpdateOrgPosAndRot\u003C/span\u003E. With the save event I cannot find a good handler. Obviously, I tried \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule.OnSave\u003C/span\u003E and it didn\u0027t work. I need an \u0022uber\u0022 OnSave event to have all the values updated.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-10-27T08:08:10Z","Content":"\n\u003Cp\u003E\nDid you consider adjusting the rotation instead ? That s you core problem, not saving.\n\u003C/p\u003E\n"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-10-27T09:22:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222825634\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477555690\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDid you consider adjusting the rotation instead ? That s you core problem, not saving.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHow\u0027s it a problem?! There are two vessels, they are somehow positioned and rotated relative to each other. I need them to load \u003Cem\u003Eexactly\u003C/em\u003E like this. And it doesn\u0027t happen because game restores relative positions/rotations that were true at the moment of \u003Cem\u003Ecoupling \u003C/em\u003Einstead of recalling the settings at the moment of \u003Cem\u003Esaving\u003C/em\u003E. Big difference between regular joint and pivot joint is that relative orientation can change in the latter case (see IJointLockState).\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-10-27T09:45:13Z","Content":"\n\u003Cp\u003E\nOk, have fun with duct-tape then\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2016-10-27T12:02:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222825678\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477560136\u0022 data-ipsquote-userid=\u0022155445\u0022 data-ipsquote-username=\u0022IgorZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, IgorZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow\u0027s it a problem?! There are two vessels, they are somehow positioned and rotated relative to each other. I need them to load \u003Cem\u003Eexactly\u003C/em\u003E like this. And it doesn\u0027t happen because game restores relative positions/rotations that were true at the moment of \u003Cem\u003Ecoupling \u003C/em\u003Einstead of recalling the settings at the moment of \u003Cem\u003Esaving\u003C/em\u003E. Big difference between regular joint and pivot joint is that relative orientation can change in the latter case (see IJointLockState).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think what he means is that the root cause is the part\u0027s orientation being incorrect because it\u0027s constantly changing. His suggestion would be to update and correct each part\u0027s position and orientation at each tick so that when it comes time to save or pack the part its orientation and position don\u0027t need adjusting because they\u0027re already up to date. Obviously this comes with the computation overhead of calculating and correcting the orientation of every part in the scene at every tick as opposed to the times when it absolutely needs to be correct.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes onGameStateSave fire before anything is persisted? If so, you could add something there to go through and fix orientations.\n\u003C/p\u003E\n"},{"CreatedByName":"0111narwhalz","CreatedById":110660,"CreatedDateTime":"2016-10-27T15:53:33Z","Content":"\n\u003Cp\u003E\nI want to get information from my active vessel. I know the property/field I want, but how do I actually get it? I need things like IsControllable and verticalSpeed.\n\u003C/p\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2016-10-27T16:37:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826099\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477583613\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n43 minutes ago, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI want to get information from my active vessel. I know the property/field I want, but how do I actually get it? I need things like IsControllable and verticalSpeed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHave a look at Vessel.activeVessel, there are a number of accessible details there. Also have a look at vessel in the Api, linked below.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_vessel.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://anatid.github.io/XML-Documentation-for-the-KSP-API/class_vessel.html\u003C/a\u003E\n\u003C/p\u003E\n"}]}