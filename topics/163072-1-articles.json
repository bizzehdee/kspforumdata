{"TopicId":163072,"ForumId":34,"TopicTitle":"[1.12.x] PatchManager","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-09T22:32:30Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-09T22:32:30Z","Content":"\n\u003Cp\u003E\nPatchManager is a simple mod which will allow mod and patch authors to package various optional patches with their mods, or as stand-alone patch sets.\n\u003C/p\u003E\n\u003Cp\u003E\nBy creating a simple config file for each patch, PatchManager makes it possible to install and remove patches from inside the game. \u00A0Gone are the days where you would have to copy patches into the game.\n\u003C/p\u003E\n\u003Cp\u003E\nAn additional benefit is that all active patches are stored in a single location, \u00A0making it easy to save, package up and redistribute to your friends.\n\u003C/p\u003E\n\u003Cp\u003E\nThis mod will do nothing by itself. \u00A0It requires a mod to include patches in a specific format.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen the window is open, lines with text in red are patches which are not enabled, lines in green are patches which are enabled.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNote that the changes aren\u0027t done until until you click the \u0022Apply All\u0022 button.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMods which use this:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nKW Rocketry Rebalanced mod (released in Beta)\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/161093-12-beta-release-munar-industries-modular-fuel-tank-expansion-rebuilt/\u0022 rel=\u0022\u0022\u003EMunar Industries Tanks\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/161096-12-beta-release-mk25-spaceplane-parts-rebuilt-expanded/\u0022 rel=\u0022\u0022\u003EMk 2.5 Spaceplane Parts\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/139980-130-community-database-of-module-manager-patches-for-stock-ksp/\u0022 rel=\u0022\u0022\u003ECommunity Database of Module Manager Patches for stock KSP\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/106243-13-i\u0022 rel=\u0022\u0022\u003EInterstellar Fuel Switch\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nPics:\n\u003C/p\u003E\n\u003Cp\u003E\nToolbar button:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022rQLAog0.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/rQLAog0.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMain PatchManager window:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022oGnJ54a.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/oGnJ54a.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00220enCVTF.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/0enCVTF.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00225URR36P.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/5URR36P.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPatch Manager Confirmation window:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Fu9jqbH.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/Fu9jqbH.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSettings screen:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022kZhC6M3.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/kZhC6M3.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n===================================================================================\u003Cbr\u003E\nInstructions for Mod authors\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll be referring to the KWRocketry Rebalanced mod, so if you have any questions, I suggest you first download that and look at it as a working example.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nPatchManager looks for config nodes which have the following format:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0\u00A0 \u00A0PatchManager\n\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Required settings. \u00A0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// srcPath should use forward slashes, and include the full file name. \u00A0srcPath should be in a directory\u00A0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// called \u0022.../PatchManager/PluginData\u0022\n\t\tmodname = KW Rocketry\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0patchName = GraduatedPowerResponse\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0srcPath = KWRocketry/PatchManager/PluginData/GraduatedPowerResponse.cfg\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0shortDescr = Graduated Power Response\n\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Optional, but recommended\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0longDescr = Makes the engines take time to spool up and down\n\n\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0//// Optional entries here\n\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// dependencies, only show this patch if these specified mods are available\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// List either the directory of the mod (as show by ModuleManager), or the\u00A0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// mod DLL (as show by ModuleManager)\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0//dependencies =\u00A0\n\n\t\t// exclusions, this patch is exclusive with these, in other words, don\u0027t install this\n\t\t// if a patch listed in the exclusion is installed\n\t\t// exclusions = \n\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Path to icon, if desired. \u00A0Can be a flag, but will be shrunken down to a 38x38 image\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0icon = KWRocketry/Flags/KWFlag04\n\n\t\t// Is this patch active on mod installation?  If this is true, then this\n\t\t// is describing a patch which is initially active.\n\t\tinstalledWithMod = false\n\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Author\u0027s name, if desired\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0author = Linuxgurugamer\u00A0\n\u00A0\u00A0 \u00A0}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003EpatchName\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0This is the name of the patch. \u00A0It should be short but descriptive\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003EsrcPath\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0 \u00A0Where the patch file is located, relative to the GameData directory. \u00A0\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0You MUST include the full file name as well. \u00A0The filename MUST match\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0the patchName\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003EshortDescr\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 A short description of the patch.\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003ElongDescr\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0A longer description of the patch\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003Edependencies \u00A0 \u00A0 \u00A0 \u00A0 What mods this patch is dependent on. \u00A0If these aren\u0027t installed,\u00A0\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0the patch won\u0027t be shown. \u00A0This is a comma separated\u00A0list of mods\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003Eexclusions \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Specify a comma separated\u00A0list of other patches which should prevent\u003Cbr\u003E\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 this patch from being installed. \u00A0Note that this does not work in\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0reverse\u003Cbr\u003E\ninstalledWithMod \u00A0 \u00A0 If true, then this mod is active when the mod is installed\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003Eicon \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 An icon to show, if desired\u003C/font\u003E\u003Cbr\u003E\u003Cfont face=\u0022Courier New, Courier, monospace\u0022\u003EAuthor\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0Author of the patch\u003C/font\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe directory structure is intentionally rigid. \u00A0This is done to make sure that patches are found properly, that patches aren\u0027t accidently made active, etc.\n\u003C/p\u003E\n\u003Cp\u003E\nPatchManager configs should be in a directory in the mod folder called PatchManager. The patches themselves should be in a directoryy called PluginData, inside the Patchmanager directory. \u00A0See the following tree diagram for an example of how it\u0027s set up in KW Rocketry Rebalanced. \u00A0Note that while I did use different names for the PatchManager file and the \u00A0actual patch file, and recommend that you do so, it isn\u0027t absolutely necessary:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0\u00A0 \u00A0KWRocketry\n\u00A0\u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;Flags/\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;KWCommunityFixes/\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;Parts/\n\u00A0\u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;PatchManager/\n\u00A0\u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0 |-\u0026gt;PluginData/\n\u00A0\u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0|\n\u00A0\u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0|-_GraduatedPowerResponse.cfg\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// This is the actual patch file\n\u00A0\u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0 |-\u0026gt;PM_GraduatedPowerResponse.cfg\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// This is the PatchManager file\n\u00A0\u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;SoundBank/\n\u00A0\u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;KWRocketryRedux.version\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;MiniAVC.dll\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nNow, as I was developing this, I was working with another mod author, who had a lot of difficulty understanding what I was trying to explain. \u00A0The problem was we each were thinking of a \u0022mod\u0022 in different manners. \u00A0So, to be clear, I\u0027ll define here what I\u0027m referring to when I talk about a mod:\n\u003C/p\u003E\n\u003Cp\u003E\nMod Definition:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u00A0\u00A0 \u00A0KW is a mod, it has it\u0027s own set of patches\n\u003C/li\u003E\n\u003Cli\u003E\n\u00A0\u00A0 \u00A0CommunityPatches is a mod, it has it\u0027s own set of patches.\n\u003C/li\u003E\n\u003Cli\u003E\n\u00A0\u00A0 \u00A0JoesKWPatches is a \u00A0mod. it has it\u0027s own set of patches\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nSpecial Instructions regarding the \u0022installedWithMod\u0022 option\u003Cbr\u003E\n============================================================\u003Cbr\u003E\nSome mods may wish to have patches which are installed and active when the mod is installed.\u003Cbr\u003E\nThis requires special handling:\n\u003C/p\u003E\n\u003Cp\u003E\nThe patch goes into a different directory called ActiveMMPatches in the initial Patchmanager folder. \u00A0 Internally, the operations are somewhat reversed. \u00A0Instead of the patch being copied to the main PatchManager directory, when\u00A0deactivated the patch will be moved to the local PluginData directory, and back again if reactivated. \u00A0The \u0022srcPath\u0022 should still point to the PluginData directory, even though the patch will be in the ActiveMMPatches directory. \u00A0In\u00A0this case, \u0022srcPath\u0022 is telling the mod where to move the patch to in order to disable it. \u00A0The name of the file will be obtained from this entry.\n\u003C/p\u003E\n\u003Cp\u003E\nsrcPath = KWRocketry/PatchManager/PluginData/GraduatedPowerResponse.cfg\n\u003C/p\u003E\n\u003Cp\u003E\nUsing the same diagram as earlier, the new directory layout is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0\u00A0 \u00A0KWRocketry\n\u00A0\u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;Flags/\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;KWCommunityFixes/\n\u00A0\u00A0 \u00A0 \u00A0 |-\u0026gt;Parts/\n\u00A0\u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 \\-\u0026gt;PatchManager/\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 |-\u0026gt;ActiveMMPatches/\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0|\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0|-\u0026gt;InitialActivePatch.cfg\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// This is the actual patch file\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 |-\u0026gt;PluginData/\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0|\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 | \u00A0 \u00A0 \u00A0|-\u0026gt;GraduatedPowerResponse.cfg\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// This is the actual patch file\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 |\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 |-\u0026gt;PM_InitialActivePatch.cfg\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// This is the PatchManager file\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 |-\u0026gt;PM_GraduatedPowerResponse.cfg\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// This is the PatchManager file\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\u00A0 \u00A0 \u00A0 \u00A0\u003Cbr\u003E\nSome final notes:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nIf there aren\u0027t any mod patches available to be installed, the toolbar button will not be displayed\n\u003C/li\u003E\n\u003Cli\u003E\nYou can disable the toolbar button in the standard game settings page.\n\u003C/li\u003E\n\u003Cli\u003E\nThere is an override which will force the toolbar button to be always shown, regardless of dependencies\n\u003C/li\u003E\n\u003Cli\u003E\nIf you install some patches, and then remove a dependency that one or more of those patches depend on, the patch WILL NOT be removed\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nAvailable\n\u003C/p\u003E\n\u003Cp\u003E\nSource Code: \u00A0\u003Ca href=\u0022https://github.com/linuxgurugamer/PatchManager\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/linuxgurugamer/PatchManager\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDownload: \u00A0\u003Ca href=\u0022https://github.com/linuxgurugamer/PatchManager/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/linuxgurugamer/PatchManager/releases\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLicense: \u00A0CC-BY-NC-SA-4.0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-14T11:24:06Z\u0022 title=\u002203/14/2018 11:24  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 14, 2018\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-07-10T13:38:05Z","Content":"\n\u003Cp\u003E\nLiking the idea.\u00A0 One thought, however:\u00A0 Am I correct in thinking that in the absence of PatchManager all patches will default to \u0027Not Applied\u0027?\u00A0 If so, could there be consideration given to having a path setup that would allow the patch to default to \u0027Applied\u0027?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m thinking I want to submit PR\u0027s to a couple of mods to support this system - but I don\u0027t want to change current functionality if possible, and the patches that interest me on it are \u0027default applied - remove to unapply\u0027 patches.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-10T19:29:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223116513\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499693885\u0022 data-ipsquote-userid=\u0022155685\u0022 data-ipsquote-username=\u0022DStaal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, DStaal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLiking the idea.\u00A0 One thought, however:\u00A0 Am I correct in thinking that in the absence of PatchManager all patches will default to \u0027Not Applied\u0027?\u00A0 If so, could there be consideration given to having a path setup that would allow the patch to default to \u0027Applied\u0027?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m thinking I want to submit PR\u0027s to a couple of mods to support this system - but I don\u0027t want to change current functionality if possible, and the patches that interest me on it are \u0027default applied - remove to unapply\u0027 patches.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t particularly like the idea, but can you give me a specific example, please?\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-07-10T19:43:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223116850\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499714986\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t particularly like the idea, but can you give me a specific example, please?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe two I was thinking of are:\n\u003C/p\u003E\n\u003Cp\u003E\nNFE has a patch to integrate \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u0027s reactors to NFE production mechanics.\u00A0 I always remove the patch - I was going to suggest using this mod to help manage it.\n\u003C/p\u003E\n\u003Cp\u003E\nMKS has a patch to integrate with EL - I was going to split it into two (one for the resources, one for the parts) and set them up as optional via this mod.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother that immediately comes to mind is that WBI\u0027s Pathfinder has an integration patch with KPBS.\u00A0 Again, it\u0027d be nice to make it easier to make optional.\u00A0 Or OPM\u0027s increase of the stock antenna\u0027s power.\u00A0 I could probably go on for a while, as I think of them.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn most of these if Patchmanager had existed since they were created I can see them as would likely to have been using it from the start - but Patchmanager didn\u0027t, and adding it as a dependency to make the mod work as it has in the past will be more likely to cause issues to users.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhile I was typing this up, another thing occurred to me that might be nice (though is likely complicated...): The ability for patches to declare themselves mutually exclusive with another patch.\u00A0 (My MKStoKPBS set is incompatible with Pathfinder\u0027s integration, for example.)\u00A0 But I can see that getting really complicated to implement, and is definitely an edge case.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0 The \u0027default active\u0027 I\u0027d consider a more normal case - it means a mod can support this mod without requiring it.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-10T19:49:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223116868\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499715795\u0022 data-ipsquote-userid=\u0022155685\u0022 data-ipsquote-username=\u0022DStaal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, DStaal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe two I was thinking of are:\n\u003C/p\u003E\n\u003Cp\u003E\nNFE has a patch to integrate \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u0027s reactors to NFE production mechanics.\u00A0 I always remove the patch - I was going to suggest using this mod to help manage it.\n\u003C/p\u003E\n\u003Cp\u003E\nMKS has a patch to integrate with EL - I was going to split it into two (one for the resources, one for the parts) and set them up as optional via this mod.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother that immediately comes to mind is that WBI\u0027s Pathfinder has an integration patch with KPBS.\u00A0 Again, it\u0027d be nice to make it easier to make optional.\u00A0 Or OPM\u0027s increase of the stock antenna\u0027s power.\u00A0 I could probably go on for a while, as I think of them.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn most of these if Patchmanager had existed since they were created I can see them as would likely to have been using it from the start - but Patchmanager didn\u0027t, and adding it as a dependency to make the mod work as it has in the past will be more likely to cause issues to users.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhile I was typing this up, another thing occurred to me that might be nice (though is likely complicated...): The ability for patches to declare themselves mutually exclusive with another patch.\u00A0 (My MKStoKPBS set is incompatible with Pathfinder\u0027s integration, for example.)\u00A0 But I can see that getting really complicated to implement, and is definitely an edge case.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0 The \u0027default active\u0027 I\u0027d consider a more normal case - it means a mod can support this mod without requiring it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, there is already the ability to define a dependency, adding an exclusion wouldn\u0027t be too difficult. It would be referring to the Mod name \u002B patch name, with all spaces replaced with underscores.\n\u003C/p\u003E\n\u003Cp\u003E\nI need to think about patches which default to being installed\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-10T21:47:29Z","Content":"\n\u003Cp\u003E\nNew release, 0.0.3:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nUpdated active file names to avoid name collisions\n\u003C/li\u003E\n\u003Cli\u003E\nAdded code to rename existing files, if any\n\u003C/li\u003E\n\u003Cli\u003E\nAdded ability to have exclusions of other patch files\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nStill thinking about patches which default to being installed\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-07-10T22:14:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223117001\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499723249\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNew release, 0.0.3:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nUpdated active file names to avoid name collisions\n\u003C/li\u003E\n\u003Cli\u003E\nAdded code to rename existing files, if any\n\u003C/li\u003E\n\u003Cli\u003E\nAdded ability to have exclusions of other patch files\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nStill thinking about patches which default to being installed\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNice.\u00A0 Thanks.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(Though I don\u0027t actually see a download for it on GitHub - there\u0027s source code bundles, but not a release bundle.)\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-10T22:48:50Z","Content":"\n\u003Cp\u003E\nOops!\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s there now:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/linuxgurugamer/PatchManager/releases/tag/0.0.3\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/linuxgurugamer/PatchManager/releases/tag/0.0.3\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, you are going to get your wish. \u00A0I\u0027ve figured out how to do the patches which default to being installed. \u00A0It\u0027s a bit more difficult, so it may be a day or so before I get it out.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-07-10T22:49:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223117076\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499726930\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOops!\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s there now:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/linuxgurugamer/PatchManager/releases/tag/0.0.3\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/linuxgurugamer/PatchManager/releases/tag/0.0.3\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, you are going to get your wish. \u00A0I\u0027ve figured out how to do the patches which default to being installed. \u00A0It\u0027s a bit more difficult, so it may be a day or so before I get it out.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYay!\u00A0 Thanks.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(Then I\u0027ll get on making PRs for mods to make some of these little things optional...)\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-10T22:59:23Z","Content":"\n\u003Cp\u003E\nBetter wait until I get the syntax finalized. \u00A0I\u0027ll update the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E tomorrow with the syntax for it\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-07-11T01:09:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223117091\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499727563\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBetter wait until I get the syntax finalized. \u00A0I\u0027ll update the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E tomorrow with the syntax for it\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI meant once it\u0027s out.\u00A0 (\u0027*Then* I\u0027ll get...\u0027)\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Wyzard","CreatedById":162363,"CreatedDateTime":"2017-07-12T02:04:16Z","Content":"\n\u003Cp\u003E\nI just tried this out using the Steam release of KSP on Linux, and got exceptions in my log when trying to activate a patch:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[EXC 21:53:03.703] DirectoryNotFoundException: Destination directory not found: /home/wyzard/.steam/steam/SteamApps/common/Kerbal_Space_Program/KSP_Data/../GameData/PatchManager/ActiveMMPatches\n\tSystem.IO.File.Copy (System.String sourceFileName, System.String destFileName, Boolean overwrite)\n\tSystem.IO.File.Copy (System.String sourceFileName, System.String destFileName)\n\tPatchManager.PatchManagerClass.ApplyAllChanges ()\n\tPatchManager.PatchManagerClass.drawWindow (Int32 windowid)\n\tUnityEngine.GUILayout\u002BLayoutedWindow.DoWindow (Int32 windowID)\n\tUnityEngine.GUI.CallWindowDelegate (UnityEngine.WindowFunction func, Int32 id, UnityEngine.GUISkin _skin, Int32 forceRect, Single width, Single height, UnityEngine.GUIStyle style)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe problem is that my KSP installation directory is named \u0022Kerbal Space Program\u0022 (with spaces), not \u0022Kerbal_Space_Program\u0022.\u00A0 (The \u0022KSP_Data\u0022 folder, however, does have the underscore.)\u00A0 Other than that, the path is correct.\n\u003C/p\u003E\n\u003Cp\u003E\nAs an aside, I\u0027m a bit concerned that the patch is being copied into the PatchManager directory \u2014 when I install a new version of a mod, I always delete the old version\u0027s folder first, to avoid leaving cruft if the new version has removed files that were in the old version.\u00A0 (Many mods specifically recommend doing this.)\u00A0 It looks like upgrading PatchManager will require some additional care to avoid deleting all the active patches.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-13T10:48:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223118279\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499825056\u0022 data-ipsquote-userid=\u0022162363\u0022 data-ipsquote-username=\u0022Wyzard\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/11/2017 at 10:04 PM, Wyzard said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just tried this out using the Steam release of KSP on Linux, and got exceptions in my log when trying to activate a patch:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E[EXC 21:53:03.703] DirectoryNotFoundException: Destination directory not found: /home/wyzard/.steam/steam/SteamApps/common/Kerbal_Space_Program/KSP_Data/../GameData/PatchManager/ActiveMMPatches\n\tSystem.IO.File.Copy (System.String sourceFileName, System.String destFileName, Boolean overwrite)\n\tSystem.IO.File.Copy (System.String sourceFileName, System.String destFileName)\n\tPatchManager.PatchManagerClass.ApplyAllChanges ()\n\tPatchManager.PatchManagerClass.drawWindow (Int32 windowid)\n\tUnityEngine.GUILayout\u002BLayoutedWindow.DoWindow (Int32 windowID)\n\tUnityEngine.GUI.CallWindowDelegate (UnityEngine.WindowFunction func, Int32 id, UnityEngine.GUISkin _skin, Int32 forceRect, Single width, Single height, UnityEngine.GUIStyle style)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe problem is that my KSP installation directory is named \u0022Kerbal Space Program\u0022 (with spaces), not \u0022Kerbal_Space_Program\u0022.\u00A0 (The \u0022KSP_Data\u0022 folder, however, does have the underscore.)\u00A0 Other than that, the path is correct.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you for the report, I\u0027ll work on fixing it.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223118279\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221499825056\u0022 data-ipsquote-userid=\u0022162363\u0022 data-ipsquote-username=\u0022Wyzard\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/11/2017 at 10:04 PM, Wyzard said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs an aside, I\u0027m a bit concerned that the patch is being copied into the PatchManager directory \u2014 when I install a new version of a mod, I always delete the old version\u0027s folder first, to avoid leaving cruft if the new version has removed files that were in the old version.\u00A0 (Many mods specifically recommend doing this.)\u00A0 It looks like upgrading PatchManager will require some additional care to avoid deleting all the active patches.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhen upgrading PatchManager manually, you do NOT remove the old directory for this reason specifically. \u00A0PatchManager does not leave any old files, it\u0027s a single DLL and a .version file. \u00A0I\u0027ll update the instructions to emphasize this.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-14T11:11:44Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/162363-wyzard/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022162363\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/162363-wyzard/\u0022 rel=\u0022\u0022\u003E@Wyzard\u003C/a\u003E After reflection, I believe that a use case can be made for both methods: Storing active patches in the PatchManager folder, and alternatively storing patches in the parent mod folder.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m adding a configurable option to store patches in the parent mod folder. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Wyzard","CreatedById":162363,"CreatedDateTime":"2017-07-14T13:43:29Z","Content":"\n\u003Cp\u003E\nI was thinking about the issue of where to copy the patches to, as well as the challenge of enabled-by-default patches that was discussed earlier, and it occurred to me that it might be useful to add patch enable/disable functionality into ModuleManager itself.\u00A0 If ModuleManager could read a config file that tells it to ignore certain patches, or to process certain patches that\u0027d otherwise be ignored (due to being in a PluginData folder), PatchManager could act as a front-end for editing that config file, and there\u0027d be no need to copy patch files at all.\n\u003C/p\u003E\n\u003Cp\u003E\nI know that\u0027d be a big change in direction for this mod, and a bunch of work on a different mod to support it, so it\u0027s understandable if you\u0027d rather not go in that direction.\u00A0 But there are benefits in being able to enable/disable \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches without having to copy them to different paths, so I\u0027m suggesting it as a possible future enhancement.\u00A0 In particular, if an upgraded version of a mod brings an upgraded version of a patch, a copy previously made by PatchManager will still be the old version, and some extra steps are needed to replace it with a copy of the new version.\u00A0 If the patch is instead enabled in-place via \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E config, the new version takes effect immediately.\n\u003C/p\u003E\n\u003Cp\u003E\nHypothetically, imagine PatchManager creating or editing a file like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nModuleManagerConfig\n{\n    // From ExampleMod/PatchManager/PM_DisabledByDefaultPatch.cfg\n    use = ExampleMod/Patches/PluginData/DisabledByDefaultPatch.cfg\n\n    // From ExampleMod/PatchManager/PM_EnabledByDefaultPatch.cfg\n    ignore = ExampleMod/Patches/EnabledByDefaultPatch.cfg\n}\u003C/pre\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-14T15:22:32Z","Content":"\n\u003Cp\u003E\nNot really a good idea. \u00A0\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E works well, if you start changing it\u0027s functionality, you can cause major problem. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, got it done, new release, 0.0.4:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFixed bug where path to KSP directory has spaces\n\u003C/li\u003E\n\u003Cli\u003E\nChanged first button on line where icon is show to non-functional field, removed button graphics\n\u003C/li\u003E\n\u003Cli\u003E\nAdded new option: \u00A0installedWithMod \u00A0for patches which need to be initially active\n\u003C/li\u003E\n\u003Cli\u003E\nAdded new settings option to allow active patches to be stored in the parent mod directory\n\u003C/li\u003E\n\u003Cli\u003E\nAdded code to move active patches to the correct directory at load time and if it is changed\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nReplaced settings page with new setting window, because these options are global to all games, not specific saves\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Wyzard","CreatedById":162363,"CreatedDateTime":"2017-07-14T16:22:08Z","Content":"\n\u003Cp\u003E\nWell, in principle it\u0027d just be a small adjustment after \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E has finished scanning for patch files, before it starts actually processing them.\u00A0 Just add some more files to the set that\u0027s about to be processed, and remove some others.\u00A0 I\u0027m pretty sure filesystem scanning and patch application are already decoupled, since \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E has to filter the patches based on :NEEDS conditions, and rearrange the list to satisfy :AFTER constraints.\u00A0 This would just be an added step before that one.\u00A0 (But I don\u0027t know how the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E code is structured, so I don\u0027t know whether it\u0027d be easy to add or if it\u0027d require a lot of refactoring.)\n\u003C/p\u003E\n\u003Cp\u003E\nActually, the existing \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E preprocessing brings another idea to mind: optional patches can be controlled by a :NEEDS condition for a patch-specific name (e.g. :NEEDS[ExampleModRealismModeEnabled]), and to enable the patch, PM could just create a dummy .cfg with a corresponding :FOR clause which defines that name.\u00A0 Default-enabled patches would use :NEEDS[!ExampleModRealismModeDisabled] instead.\u00A0 This would avoid the need to hide patches in a PluginData folder and copy them out to activate them, and it doesn\u0027t require any changes to \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E.\u00A0 It also has the advantage that :NEEDS conditions can be applied to arbitrary things \u003Cem\u003Ewithin\u003C/em\u003E a patch file, rather than being limited to enabling or disabling the entire file.\n\u003C/p\u003E\n\u003Cp\u003E\n(And actually, the above can be accomplished already if the mod author ships the dummy :FOR patch to be enabled by PatchManager using the current copying mechanism.\u00A0 But it\u0027d be useful if PM could directly create the :FOR patch using a name defined in the PatchManager metadata file.)\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, that\u0027s enough brainstorming from me for now.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u00A0 I\u0027ll try out v0.0.4 later tonight.\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-07-14T16:46:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223120884\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500049328\u0022 data-ipsquote-userid=\u0022162363\u0022 data-ipsquote-username=\u0022Wyzard\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, Wyzard said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, in principle it\u0027d just be a small adjustment after \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E has finished scanning for patch files, before it starts actually processing them.\u00A0 Just add some more files to the set that\u0027s about to be processed, and remove some others.\u00A0 I\u0027m pretty sure filesystem scanning and patch application are already decoupled, since \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E has to filter the patches based on :NEEDS conditions, and rearrange the list to satisfy :AFTER constraints.\u00A0 This would just be an added step before that one.\u00A0 (But I don\u0027t know how the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E code is structured, so I don\u0027t know whether it\u0027d be easy to add or if it\u0027d require a lot of refactoring.)\n\u003C/p\u003E\n\u003Cp\u003E\nActually, the existing \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E preprocessing brings another idea to mind: optional patches can be controlled by a :NEEDS condition for a patch-specific name (e.g. :NEEDS[ExampleModRealismModeEnabled]), and to enable the patch, PM could just create a dummy .cfg with a corresponding :FOR clause which defines that name.\u00A0 Default-enabled patches would use :NEEDS[!ExampleModRealismModeDisabled] instead.\u00A0 This would avoid the need to hide patches in a PluginData folder and copy them out to activate them, and it doesn\u0027t require any changes to \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E.\u00A0 It also has the advantage that :NEEDS conditions can be applied to arbitrary things \u003Cem\u003Ewithin\u003C/em\u003E a patch file, rather than being limited to enabling or disabling the entire file.\n\u003C/p\u003E\n\u003Cp\u003E\n(And actually, the above can be accomplished already if the mod author ships the dummy :FOR patch to be enabled by PatchManager using the current copying mechanism.\u00A0 But it\u0027d be useful if PM could directly create the :FOR patch using a name defined in the PatchManager metadata file.)\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, that\u0027s enough brainstorming from me for now.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u00A0 I\u0027ll try out v0.0.4 later tonight.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re in the wrong thread - those would require changes to \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E, and this is the PatchManager thread.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0 (Well,\u00A0the :FOR idea wouldn\u0027t, but I can see arguments either way.\u00A0 I think the current way you can save KSP from actually trying to load things in the first place, and save some RAM therefore, but I\u0027m not sure.)\n\u003C/p\u003E\n"},{"CreatedByName":"Wyzard","CreatedById":162363,"CreatedDateTime":"2017-07-15T01:31:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223120900\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500050809\u0022 data-ipsquote-userid=\u0022155685\u0022 data-ipsquote-username=\u0022DStaal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, DStaal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou\u0027re in the wrong thread - those would require changes to \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E, and this is the PatchManager thread.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0 (Well,\u00A0the :FOR idea wouldn\u0027t, but I can see arguments either way.\u00A0 I think the current way you can save KSP from actually trying to load things in the first place, and save some RAM therefore, but I\u0027m not sure.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, I thought about that.\u00A0 I figured it\u0027d be appropriate to suggest it here since PatchManager would be the main user of the feature, and linuxgurugamer might therefore might want to make the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E changes.\u00A0 I may suggest it over in the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E thread as well, but actually I kinda like the :NEEDS/:FOR approach better \u2014 it\u0027s simpler to implement and provides more flexibility.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d expect that patch definitions can be garbage-collected after \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E has applied its changes to the game\u0027s real configuration, so memory usage of disabled patches shouldn\u0027t be an issue.\u00A0 They do still need to be parsed, but people probably aren\u0027t going to have large numbers of optional patches in their installation so I doubt that\u0027s a significant issue either.\n\u003C/p\u003E\n"},{"CreatedByName":"Wyzard","CreatedById":162363,"CreatedDateTime":"2017-07-15T02:40:30Z","Content":"\n\u003Cp\u003E\nI tried out v0.0.4 and I\u0027m able to install patches now, so it looks like the path issue I had earlier is fixed.\u00A0 Thanks for the quick response!\n\u003C/p\u003E\n\u003Cp\u003E\nA few observations:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E shows a screenshot of the settings in the Game Difficulty window, but they\u0027re actually in a separate window that\u0027s accessed via a button in the main PatchManager window.\u00A0 I think it\u0027s better that way, though; PatchManager\u0027s settings aren\u0027t related to difficulty, and changing them shouldn\u0027t force the game\u0027s difficulty level to \u0022custom\u0022.\n\u003C/li\u003E\n\u003Cli\u003E\nThe description above the \u0022store active patches in the PatchManager folder\u0022 checkbox says that changing it won\u0027t move patches that are already installed, but the patches actually do move to the new location when I click OK to close the Settings window.\n\u003C/li\u003E\n\u003Cli\u003E\nIf I change a mod\u0027s original version of a patch (as can happen when upgrading a mod), the installed copy in ActiveMMPatches doesn\u0027t change, even if I open the PatchManager window and click the \u0022Apply All\u0022 button.\u00A0 Looks like the only way to activate the updated version of the patch is to disable the patch, apply all, then re-enable and apply all again.\u00A0 It may be a good idea to make the \u0022Apply All\u0022 button reinstall patches that are already active, to pick up any changes that may have been made to the original version.\u00A0 (It\u0027d also be helpful if PatchManager could notice the discrepancy and warn the user.)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nOther than those issues, things are working well.\u00A0 I\u0027m hoping that PatchManager gains traction and becomes widely-used, because optional patches are something that aren\u0027t really well-handled in KSP right now.\u00A0 (I can only think of a few mods that provide them, each in its own ad-hoc way.\u00A0 I\u0027d love to see that change.)\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-07-16T15:22:44Z","Content":"\n\u003Cp\u003E\nBTW: It might be nice to be able to add stuff to the wiki on GitHub.\u00A0 It doesn\u0027t seem to be enabled for this project.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-16T17:53:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223122555\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500218564\u0022 data-ipsquote-userid=\u0022155685\u0022 data-ipsquote-username=\u0022DStaal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, DStaal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBTW: It might be nice to be able to add stuff to the wiki on GitHub.\u00A0 It doesn\u0027t seem to be enabled for this project.\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWiki created, go for it\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223121347\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500086430\u0022 data-ipsquote-userid=\u0022162363\u0022 data-ipsquote-username=\u0022Wyzard\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/14/2017 at 10:40 PM, Wyzard said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI tried out v0.0.4 and I\u0027m able to install patches now, so it looks like the path issue I had earlier is fixed.\u00A0 Thanks for the quick response!\n\u003C/p\u003E\n\u003Cp\u003E\nA few observations:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E shows a screenshot of the settings in the Game Difficulty window, but they\u0027re actually in a separate window that\u0027s accessed via a button in the main PatchManager window.\u00A0 I think it\u0027s better that way, though; PatchManager\u0027s settings aren\u0027t related to difficulty, and changing them shouldn\u0027t force the game\u0027s difficulty level to \u0022custom\u0022.\n\u003C/li\u003E\n\u003Cli\u003E\nThe description above the \u0022store active patches in the PatchManager folder\u0022 checkbox says that changing it won\u0027t move patches that are already installed, but the patches actually do move to the new location when I click OK to close the Settings window.\n\u003C/li\u003E\n\u003Cli\u003E\nIf I change a mod\u0027s original version of a patch (as can happen when upgrading a mod), the installed copy in ActiveMMPatches doesn\u0027t change, even if I open the PatchManager window and click the \u0022Apply All\u0022 button.\u00A0 Looks like the only way to activate the updated version of the patch is to disable the patch, apply all, then re-enable and apply all again.\u00A0 It may be a good idea to make the \u0022Apply All\u0022 button reinstall patches that are already active, to pick up any changes that may have been made to the original version.\u00A0 (It\u0027d also be helpful if PatchManager could notice the discrepancy and warn the user.)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nOther than those issues, things are working well.\u00A0 I\u0027m hoping that PatchManager gains traction and becomes widely-used, because optional patches are something that aren\u0027t really well-handled in KSP right now.\u00A0 (I can only think of a few mods that provide them, each in its own ad-hoc way.\u00A0 I\u0027d love to see that change.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAnswering your observations in order:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWorking on a new screenshot. \u00A0It was moved because this mod applies the changes to ALL games.\n\u003C/li\u003E\n\u003Cli\u003E\nThe code to move was a late addition, I\u0027ll get the text updated.\n\u003C/li\u003E\n\u003Cli\u003E\nI\u0027ll think about updatig what the \u0022Apply All\u0022 button does, but that raises some other issues;\u00A0it\u0027s not going to happen right away\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2017-07-24T15:19:18Z","Content":"\n\u003Cp\u003E\ncan you somehow group the patches to its \u0022owner\u0022 mod? It gets a bit crowded this way.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-24T18:15:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223129807\u0022 data-ipsquote-contentid=\u0022163072\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500909558\u0022 data-ipsquote-userid=\u0022159475\u0022 data-ipsquote-username=\u0022Blackline\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Blackline said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ncan you somehow group the patches to its \u0022owner\u0022 mod? It gets a bit crowded this way.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan you post a screenshot so I can see what you are talking about?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2017-07-24T18:20:47Z","Content":"\n\u003Cp\u003E\nI just uninstalled them, but get this package\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/139980-130-community-database-of-module-manager-patches-for-stock-ksp/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nand look for it yourself, you can only see 3 or 4 patches at one time, because the window is pretty small. My proposal would be to group all patches comming from one mod, and make it expandable or such. Or just show the titles of each patch, not the whole description. Show the description as a tooltip, or if its clicked on.\n\u003C/p\u003E\n"}]}