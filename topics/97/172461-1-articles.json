{"TopicId":172461,"ForumId":97,"TopicTitle":"Variant Limitations Question","CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-16T16:19:39Z","PageNum":1,"Articles":[{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-16T16:19:40Z","Content":"\n\u003Cp\u003E\nI am curious as to the limitations of the variant system.\u00A0 From what I can tell in the MH expansion, you either have the choice to change the mesh of the part (ex. making engine plate shrouds longer/shorter, removing tank butts from engines etc.) or the color of the part\u0027s texture (ex. as seen on the various fuel tanks).\u00A0\u00A0 It seems like from what was provided, there are no parts with the option to change both.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, were you interested in being able to change both, the execution of that depends on how many variant sliders you can have on the part\u0027s action window.\u00A0 Should you be restricted to one variant slider, you would have to put every combination of size and color within that one variant slider area.\u00A0 That would be user unfriendly to have to scroll through 27 combinations before you find the one you\u0027re looking for.\u00A0 Should you be allowed more than one variant slider, you could obviously have the mesh choices on one, and the texture choices on another.\u00A0 This would result in the selectable list of variants being much smaller, and the combinations would be selectable by the player themselves.\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t see any part in the expansion that has 2 variant sliders, one for shape/size and the other for texture options.\u00A0 Do we know if that is possible?\u00A0 The thinking behind all of this is to give texture options to the engine plate shrouds, so your green/orange themed rockets wouldn\u0027t be forced to have white sections in them.\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-16T20:27:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223324034\u0022 data-ipsquote-contentid=\u0022172461\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521217180\u0022 data-ipsquote-userid=\u0022110814\u0022 data-ipsquote-username=\u0022klesh\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, klesh said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI didn\u0027t see any part in the expansion that has 2 variant sliders, one for shape/size and the other for texture options.\u00A0 Do we know if that is possible?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAn interesting question!\n\u003C/p\u003E\n\u003Cp\u003E\nVerbose speculation below, but it boils down to:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nMy guess is that it probably \u003Cem\u003E\u003Cu\u003Eis\u003C/u\u003E\u003C/em\u003E possible to have two independent sliders\n\u003C/li\u003E\n\u003Cli\u003E\nHowever, my guess is also that it would be really hard to make those independent sliders adjust things that \u003Cem\u003E\u003Cu\u003Earen\u0027t actually independent\u003C/u\u003E\u003C/em\u003E, such as having them both target the same mesh.\u00A0 It\u0027s a modeling problem, not a code problem.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nMy guess is that the limitation would be more in the \u003Cem\u003E\u003Cu\u003Emodel\u003C/u\u003E\u003C/em\u003E than in the game itself.\u00A0 I\u0027m not at a KSP computer and therefore can\u0027t verify this directly, so I\u0027ll just give you speculations based on my KSP modding experience thus far:\n\u003C/p\u003E\n\u003Cp\u003E\nVariants are accessed using the PAW (\u0022part action window\u0022, i.e. the right-click menu for parts).\u00A0 The way the PAW gets populated with its various buttons and controls is based on PartModules on the part.\u00A0 Add a PartModule that has associated UI, and it\u0027ll add a control to the PAW.\u00A0 Add \u003Cem\u003E\u003Cu\u003Etwo instances\u003C/u\u003E\u003C/em\u003E of the PartModule, and it\u0027ll add \u003Cem\u003E\u003Cu\u003Etwo copies\u003C/u\u003E\u003C/em\u003E of the UI (unless the PartModule author took the trouble to write extra code to spot and handle and prevent that).\n\u003C/p\u003E\n\u003Cp\u003E\nModulePartVariants is just a PartModule.\u00A0 The fact that you see that variant-selector control for certain parts is because they have a ModulePartVariants on them.\u00A0 So, I strongly suspect that you can easily get two independent sliders in the PAW just by putting two ModulePartVariants in the part\u0027s config.\u00A0 Easy-peasy, assuming that it works.\u00A0 (Which, I repeat, I don\u0027t actually know, since I haven\u0027t actually tried it yet.\u00A0 But I\u0027m guessing this is how it is, because this is what the path of least resistance would have been-- it would have been extra coding work for them to \u003Cem\u003E\u003Cu\u003Estop\u003C/u\u003E\u003C/em\u003E that from happening.)\n\u003C/p\u003E\n\u003Cp\u003E\nI suspect that the harder case will be making the \u003Cem\u003E\u003Cu\u003Emodel\u003C/u\u003E\u003C/em\u003E set up in a way that works for this, without setting off some combinatoric explosion in the model.\u00A0 Depending on the desired behavior of the part, I think some cases would be easy, others would be hard.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s an example of what I assume would be an easy case:\u00A0 Let\u0027s say you\u0027ve got a part that has a \u0022body\u0022 and some \u0022trim\u0022, with the \u0022trim\u0022 being a different set of meshes from the \u0022body\u0022.\u00A0 (For example, the \u0022body\u0022 might be the main skin of a fuel tank, say, and the \u0022trim\u0022 could be various little greebles attached to it for visual effect.)\u00A0 Imagine that there\u0027s a selection of N different body skins, and there\u0027s also a selection of M different trim styles (different greebles in different places).\u00A0 Well, in a situation like that, the \u003Cstrong\u003Ebody and trim are completely independent things\u003C/strong\u003E, so it ought to be fairly easy to have two variant sliders for them.\u00A0 One ModulePartVariants would switch out the body mesh, a different one would switch out the greebles, so the user gets N*M possible combinations.\u00A0 Basically exactly what you\u0027re asking for.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand... if the two different things addressed by the slider \u003Cem\u003E\u003Cu\u003Earen\u0027t\u003C/u\u003E\u003C/em\u003E physically independent, I imagine that it could get ugly.\u00A0 For example, suppose you wanted to do a thing with engine plates.\u00A0 An engine plate has several different lengths (short, medium, long, etc.)\u00A0 Suppose you also wanted to have several different colors (white, green, gray, whatever).\u00A0 Well... the problem is that the physical shape, and the texture, are both being applied to \u003Cem\u003E\u003Cu\u003Ethe same mesh\u003C/u\u003E\u003C/em\u003E.\u00A0 Each option on a ModulePartVariants is basically just a set of boolean on/off switches for turning individual meshes on and off.\u00A0 So I could imagine that it could get very tricky to make that work, because the \u0022which texture do you want\u0022 slider wouldn\u0027t know anything about what the setting of the \u0022how long do you want it to be\u0022 slider\u0027s state, and vice versa.\n\u003C/p\u003E\n\u003Cp\u003E\nI haven\u0027t worked with ModulePartVariants enough yet to figure out if there might be some clever way around that.\u00A0 But I wouldn\u0027t be surprised if it turns out that it would be really, really hard to do what you\u0027re describing, for the particular case of one slider choosing a shape, and a different slider choosing the texture \u003Cem\u003E\u003Cu\u003Eof that same shape\u003C/u\u003E\u003C/em\u003E, since what you\u0027re trying to do is to get two completely independent controls to somehow work together on \u003Cem\u003E\u003Cu\u003Eone\u003C/u\u003E\u003C/em\u003E thing where the effects aren\u0027t independent.\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nIndependent controls causing independent effects -\u0026gt; easy.\n\u003C/li\u003E\n\u003Cli\u003E\nIndependent controls working together for effects that depend on each other -\u0026gt; hard.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nSo anyway, that\u0027s just my initial speculation.\u00A0 Like I said, I could be completely wrong about all this.\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\u00A0 But in the absence of further information, that\u0027s what my default guess would be.\u00A0 Perhaps someone who knows more about all this could chime in.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/84110-benjee10/\u0026amp;do=hovercard\u0022 data-mentionid=\u002284110\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/84110-benjee10/\u0022 rel=\u0022\u0022\u003E@benjee10\u003C/a\u003E was kind enough to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/172232-141-missinghistory-v10-handy-parts-to-complement-making-history/\u0026amp;do=findComment\u0026amp;comment=3323582\u0022 rel=\u0022\u0022\u003Eprovide some insight about ModulePartVariants\u003C/a\u003E over in the MissingHistory mod thread... perhaps he might have some advice to offer?\n\u003C/p\u003E\n"},{"CreatedByName":"stoani96","CreatedById":71886,"CreatedDateTime":"2018-03-16T20:30:10Z","Content":"\n\u003Cp\u003E\nI am curious if the variants could also change the parameters and/or modules of a part? \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIt seems the mass of the engine\u00A0is not affected by the variants, which is kinda dumb because the engine has to weigh more with the big shroud (for example)\n\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-16T20:39:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223324375\u0022 data-ipsquote-contentid=\u0022172461\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521232057\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAn interesting question!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd a great reply.\u00A0 Thank you, I don\u0027t know the first thing about models and parts and modules in this game, as every time I\u0027ve considered learning about it (to solve a particular problem) I find someone else has already taken care of it.\u00A0 You explanation makes sense and help me understand the relationship between the models, meshes, and textures etc.\n\u003C/p\u003E\n"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2018-03-16T20:50:17Z","Content":"\n\u003Cp\u003E\nI forget how many million (billions?) of variable parts there are in SSTU (model switches, and complete color customization). It\u0027s certainly possible in KSP, unsure about the MH setup\u0027s possibilities.\n\u003C/p\u003E\n"},{"CreatedByName":"benjee10","CreatedById":84110,"CreatedDateTime":"2018-03-16T21:19:46Z","Content":"\n\u003Cp\u003E\nI don\u0027t know about multiple modules/sliders on one part, haven\u0027t tried that.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHowever we do know that the only things ModulePartVariants can modify are mesh, texture and nodes. Unfortunately it seems that resources etc. cannot be affected, which seems like a sad oversight given that AFAIK all of the part-switching mods that exist are able to do this.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-16T21:43:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223324465\u0022 data-ipsquote-contentid=\u0022172461\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521235186\u0022 data-ipsquote-userid=\u002284110\u0022 data-ipsquote-username=\u0022benjee10\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n44 minutes ago, benjee10 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t know about multiple modules/sliders on one part, haven\u0027t tried that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nJust gave it a try, it works.\u00A0 Just copying and pasting the entire ModulePartVariants a second time into the .cfg results in both sliders being able to function the same. So at least that works.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ati6Bng.png\u0022 class=\u0022ipsImage\u0022 height=\u0022442\u0022 src=\u0022https://i.imgur.com/ati6Bng.png\u0022 width=\u0022673\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo then I went into a random fuel tank so as to grab the code for texture swapping.\u00A0 Knowing full well it would look ridiculous, I pasted it in the .cfg as well.\u00A0 It proceeded to allow me to place the 3 variant textures for the fuel tank over the model of the Mastodon... but its the Mastodon with its shroud included (and the shroud selection button is gone).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022FtrkeRe.png\u0022 class=\u0022ipsImage\u0022 height=\u0022720\u0022 src=\u0022https://i.imgur.com/FtrkeRe.png\u0022 width=\u0022843\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125662\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0022 rel=\u0022\u0022\u003E@Snark\u003C/a\u003E I suppose this only gets us about halfway-ish, but at least its something.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n-Yes, 2 variant sliders can be added to a part.\n\u003C/p\u003E\n\u003Cp\u003E\n-Yes, one variant slider can change the model, and the other can change the textures.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI guess we\u0027re at the \u0022On the other hand\u0022 portion of your above post Snark, as I don\u0027t know how to look inside these .mu files or models or whatever to find out what is pointing to what.\u00A0 It seems like its pretty easy to simply define a new path for a new texture, I\u0027ll try that next.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m kind of stuck here as I don\u0027t really know how to get inside the files to look at the various paths for textures etc.\u00A0 Anyway, fun tinkering here.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-16T22:05:09Z\u0022 title=\u002203/16/2018 10:05  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 16, 2018\u003C/time\u003E by klesh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bonus Eventus","CreatedById":115722,"CreatedDateTime":"2018-04-28T18:49:10Z","Content":"\n\u003Cp\u003E\nBlender mu import ftw\u00A0\n\u003C/p\u003E\n"}]}