{"TopicId":181100,"ForumId":104,"TopicTitle":"Guide : using unity to edit props in IVA","CreatedByName":"Tegmil","CreatedById":193488,"CreatedDateTime":"2019-01-03T19:59:58Z","PageNum":1,"Articles":[{"CreatedByName":"Tegmil","CreatedById":193488,"CreatedDateTime":"2019-01-03T19:59:58Z","Content":"\n\u003Cp\u003E\nI\u0027ve made a little guide on setting up a workspace to change the inside of the vessels and cockpits in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are quite a few tutorials on this site but they all seemed either incomplete or too complex.\u003Cbr\u003E\nI just wanted to be able to open an IVA config file and move around some props, not make new ones !\u003Cbr\u003E\nThere are a lot of superb IVA models around that could be made even better by adding \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/105821-16x-rasterpropmonitor-still-putting-the-a-in-iva-v0306-29-december-2018/\u0022 rel=\u0022\u0022\u003ERasterPropManager\u003C/a\u003E/\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/160856-wip-16x-moardvs-avionics-systems-mas-interactive-iva-v0910-2-january-2019/\u0026amp;\u0022 rel=\u0022\u0022\u003EMAS\u003C/a\u003E/\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/116430-aset-props-pack-v15-for-the-modders-who-create-iva/\u0022 rel=\u0022\u0022\u003EASET\u003C/a\u003E props to them.\u003Cbr\u003E\nSo here is how I managed to set up an IVA workspace :\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E1) Install Unity editor :\u003C/strong\u003E\u003Cbr\u003E\nKSP works with \u003Ca href=\u0022https://unity3d.com/unity/qa/patch-releases/2017.1.3p1\u0022 rel=\u0022external nofollow\u0022\u003EUnity 2017.1.3p1 (download here)\u003C/a\u003E. You can use the free version, but you still need to make an account in order to start the editor. A service like mailinator can be useful if you dont want to give your real email adress.\n\u003C/p\u003E\n\u003Cp\u003E\nThen you need to download \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/160487-parttools-updated/\u0022 rel=\u0022\u0022\u003EKSP PartTools 1.5 (download here)\u003C/a\u003E. Unzip the file and put it somewhere.\n\u003C/p\u003E\n\u003Cp\u003E\nStart Unity and go to \u003Cem\u003EAssets-\u0026gt;Import Package-\u0026gt;Custom Package\u003C/em\u003E in the menu. Select the file you unzipped previously (PartTools_AssetBundles.unitypackage)\n\u003C/p\u003E\n\u003Cp\u003E\nClick on \u003Cem\u003ETools-\u0026gt;KSP Part Tools\u003C/em\u003E in the Unity menu bar. Then click on \u003Cem\u003E\u0022Setup\u003C/em\u003E\u0022 in the new \u003Cem\u003E\u0022Part Tools\u003C/em\u003E\u0022 window. Click on \u0022\u003Cem\u003ESet Data Dir\u003C/em\u003E\u0022 and select the GameData folder in your KSP install directory. This should populate the \u0022\u003Cem\u003ESpaces\u003C/em\u003E\u0022 and \u0022\u003Cem\u003EProps\u003C/em\u003E\u0022 submenus with the IVAs and Props of your kerbal installation. If this fails try again with a new KSP installation as it seems certain mods can block the importation process.\n\u003C/p\u003E\n\u003Cp\u003E\nAt this point you should be able to open an IVA (\u003Cem\u003ESpaces-\u0026gt;Spawn\u003C/em\u003E) and add some Props (\u003Cem\u003EProps-\u0026gt;Spawn\u003C/em\u003E) ! You can move props by clicking on them, or copy them by selecting them in the hierarchy menu on the left side.\n\u003C/p\u003E\n\u003Cp\u003E\nThe changes can be saved by clicking on \u003Cem\u003EInspector-\u0026gt;Internal Space-\u0026gt;Save to config\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E2) File locations :\u003C/strong\u003E\u003Cbr\u003E\nThe IVA files can be found in GameData\\Squad\\Spaces\\*\\*.cfg or in the .cfg files of various mods. They list all the used props and their positions.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E3) Texture fix :\u003C/strong\u003E\u003Cbr\u003E\nKSP uses .dds textures but the Unity editor isn\u0027t able to load them, so you will get a lot of \u0022texture not found\u0022 errors. The .dds textures can be converted with the open source tool ImageMagick. This is not strictly necessary : unity will work fine without textures.\n\u003C/p\u003E\n\u003Cp\u003E\nDownload \u003Ca href=\u0022https://www.imagemagick.org/script/download.php\u0022 rel=\u0022external nofollow\u0022\u003EImageMagick here\u003C/a\u003E (scroll down to get to the windows installer).\n\u003C/p\u003E\n\u003Cp\u003E\nMake a copy of your KSP installation (you don\u0027t want to start converting files in your original KSP directory, that could break things !)\n\u003C/p\u003E\n\u003Cp\u003E\nStart a new Command Prompt (type cmd in the start menu). Go to the GameData folder in the KSP copy you made previously (example : \u0022cd C:\\Games\\KSP-IVA-Copy\\GameData\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nVerify that you are in the right folder ! The Command Prompt can be a fickle beast and you dont want to convert the wrong files !\n\u003C/p\u003E\n\u003Cp\u003E\nCopy paste this script in the Command Prompt that is open in your KSP GameData copy :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EFOR /R %f IN (*.dds) DO mogrify -verbose -flip -format png \u0022%f\u0022\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWait on the conversion to finish, this can take a few minutes. The script adds a png version of all the dds files it finds, it doesn\u0027t delete anything. Make sure Part Tools in Unity is pointed to the GameData folder with the converted images. You now have IVA/Props textures in Unity !\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want more info on how to use IVA Props in Unity you can also check out this tutorial by \u003Ca href=\u0022https://youtu.be/PrjTcv9WmRQ\u0022 rel=\u0022external nofollow\u0022\u003ENoah Sans Ark : https://youtu.be/PrjTcv9WmRQ\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Trainzack","CreatedById":100807,"CreatedDateTime":"2019-01-16T05:23:11Z","Content":"\n\u003Cp\u003E\nThis was incredibly useful! Thank you.\n\u003C/p\u003E\n"}]}