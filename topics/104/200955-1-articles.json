{"TopicId":200955,"ForumId":104,"TopicTitle":"can\u0026#039;t change custom_axes from code (Solved)","CreatedByName":"X52","CreatedById":123254,"CreatedDateTime":"2021-03-12T14:59:53Z","PageNum":1,"Articles":[{"CreatedByName":"X52","CreatedById":123254,"CreatedDateTime":"2021-03-12T14:59:53Z","Content":"\n\u003Cp\u003E\nI tried to modify the custom_axes values of the control state in multiple ways, but I couldn\u0027t find a way that applies it in game.\n\u003C/p\u003E\n\u003Cp\u003E\nThings I tried:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EFlightGlobals\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EActiveVessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EctrlState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ecustom_axes\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0.33f\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWith OnFlyByWire attached to\u00A0FlightGlobals.ActiveVessel.OnFlyByWire:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EOnFlyByWire(FlightCtrlState state){\n\nstate.custom_axes[0] = 0.33f;\n\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand also\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EFlightCtrlState state = new FlightCtrlState(new float[4]{ 0.2f, 0.2f, 0.2f, 0.2f});\nFlightGlobals.ActiveVessel.SetControlState(state);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nsadly, none of these work.\n\u003C/p\u003E\n\u003Cp\u003E\nIs there another way to do this?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit:\n\u003C/p\u003E\n\u003Cp\u003E\nI found a workaround for\u00A0this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EAxisGroupsModule axisModule = FlightGlobals.ActiveVessel.FindVesselModuleImplementing\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;AxisGroupsModule\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\naxisModule.SetAxisGroup(KSPAxisGroup.Custom01,\u00A0value1);\naxisModule.SetAxisGroup(KSPAxisGroup.Custom02, value2);\naxisModule.SetAxisGroup(KSPAxisGroup.Custom03, value3);\naxisModule.SetAxisGroup(KSPAxisGroup.Custom04, value4);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n(value1 to value2 are floats containing the axis value)\n\u003C/p\u003E\n\u003Cp\u003E\nIf someone knows a better way, please notify me \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-15T11:40:34Z\u0022 title=\u002203/15/2021 11:40  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 15, 2021\u003C/time\u003E by X52\u003C/strong\u003E\n\u003C/span\u003E\n"}]}