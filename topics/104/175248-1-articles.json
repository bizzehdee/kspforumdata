{"TopicId":175248,"ForumId":104,"TopicTitle":"How do you get an engine to apply thrust if there are parts behind it?","CreatedByName":"Daxturus","CreatedById":189120,"CreatedDateTime":"2018-05-24T00:09:03Z","PageNum":1,"Articles":[{"CreatedByName":"Daxturus","CreatedById":189120,"CreatedDateTime":"2018-05-24T00:09:03Z","Content":"\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nI\u0027m confused at the moment on how to apply thrust through parts. I\u0027m working on a frontal-facing propeller/intake hybrid part (if it were in reality, the propeller provides thrust while pushing intake air inside it; the very pushing of the intake air provides the thrust), but I\u0027m a newbie coder in KSP, so I\u0027m really just using code from stock parts to make this.\u00A0Here is the current CFG file:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nPART\n{\n\tname = PropellerIntake\n\tmodule = Part\n\tauthor = Daxturus\n\trescaleFactor = 1\n\tnode_stack_bottom01 = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0\n\tbuoyancy = 0.1\n\tTechRequired = aerodynamicSystems\n\tentryCost = 2400\n\tcost = 1600\n\tcategory = Aero\n\uFEFF\tsubcategory = 0\n\ttitle = KK-20 Propeller Engine\n\tmanufacturer = C7 Aerospace Division\n\tdescription = When first presented to C7\u0027s board of advisors, it was adopted quickly for use as an efficient frontal thruster, best suited for subsonic flight. It also doubles as an air intake.\n\tattachRules = 1,0,1,0,0\n\tstackSymmetry = 2\n\tmass = 1.2\n\tthermalMassModifier = 8.0\n\theatConductivity = 0.12 // half default\n\temissiveConstant = 0.55\n\tdragModelType = default\n\tmaximum_drag = 0.3\n\tminimum_drag = 0.3\n\tangularDrag = 1\n\tcrashTolerance = 12\n\tmaxTemp = 1800 // = 3400\n\tfuelCrossFeed = True\n\tbulkheadProfiles = size1\n\ttags = #autoLOC_500144 //#autoLOC_500144 = aero (air breathe fligh inlet jet oxygen plane subsonic suck\n\tMODEL\n\t{\n\t\tmodel = (I personally took this out, this is something else)\n\t}\n\tDRAG_CUBE\n\t{\n\t\tcube = Default, 0.7536889,0.6974452,0.7221569, 0.7536889,0.6974494,0.7221569, 1.213026,0.45,0.7008534, 1.213026,0.9357337,0.1625167, 0.7536888,0.6983959,0.7221569, 0.7536888,0.6964872,0.7221569, 0,0.269185,3.208935E-08, 1.25,0.6633701,1.25\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleResourceIntake\n\t\tresourceName = IntakeAir\n\t\tcheckForOxygen = true\n\t\tarea = 0.006\n\t\tintakeSpeed = 15\n\t\tintakeTransformName = Intake\n\t\tmachCurve\n\t\t{\n\t\t\tkey = 1 1 0 0\n\t\t\tkey = 2 0.95 -0.4312553 -0.4312553\n\t\t\tkey = 3 0.85 -0.5275364 -0.5275364\n\t\t\tkey = 4 0.7 0 0\n\t\t}\n\t}\n\tRESOURCE\n\t{\n\t\tname = IntakeAir\n\t\tamount = 0.4\n\t\tmaxAmount = 0.4\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleAnimateHeat\n\t\tThermalAnim = IntakeCircularHeat\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleEnginesFX\n\t\tthrustVectorTransformName = thrustTransform\n\t\texhaustDamage = False\n\t\tignitionThreshold = 0.1\n\t\tminThrust = 0\n\t\tmaxThrust = 60\n\t\theatProduction = 35\n\t\tuseEngineResponseTime = True\n\t\tengineAccelerationSpeed = 0.3\n\t\tengineDecelerationSpeed = 0.3\n\t\tuseVelocityCurve = False\n\t\tflameoutEffectName = flameout\n\t\tpowerEffectName = running_thrust\n\t\trunningEffectName = shockDiamond\n\t\tengageEffectName = engage\n\t\tdisengageEffectName = disengage\n\t\tspoolEffectName = running_turbine\n\t\tengineSpoolIdle = 0.03\n\t\tengineSpoolTime = 3.0\n\t\tEngineType = Turbine\n\t\texhaustDamageMultiplier = 0\n\t\tclampPropReceived = True\n\t\tPROPELLANT\n\t\t{\n\t\t\tname = IntakeAir\n\t\t\tignoreForIsp = True\n\t\t\tratio = 8\n\t\t}\n\t\tPROPELLANT\n\t\t{\n\t\t\tname = LiquidFuel\n\t\t\tresourceFlowMode = STAGE_STACK_FLOW_BALANCE\n\t\t\tratio = 1\n\t\t\tDrawGauge = True\n\t\t}\n\t\tatmosphereCurve\n\t\t{\n\t\t\tkey = 0 10500 0 0 \n\t\t}\n\t\t// Jet params\n\t\tatmChangeFlow = True\n\t\tuseVelCurve = True\n\t\tuseAtmCurve = True\n\t\tflowMultCap = 1.0\n\t\tmachLimit = 2.5\n\t\tmachHeatMult = 2.0\n\t\tvelCurve\n\t\t{\n\t\t\tkey = 0 1.3 0 0\n\t\t\tkey = 0.5 1.1 0 0\n\t\t\tkey = 1 1 2.433527 2.433527\n\t\t\tkey = 1.5 0.9 1.986082 1.986082\n\t\t\tkey = 2 0.85 1.452677 1.452677\n\t\t\tkey = 3 0.8 1.452677 1.452677\n\t\t\tkey = 10 0.7 1.452677 1.452677\n\t\t}\n\t\tatmCurve\n\t\t{\n\t\t\t// definite \u0027kink\u0027 to the curve at high altitude, compared to flatter BJE curve\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 0.045 0.5 4.304647 4.304647\n\t\t\tkey = 0.16 0.5 0.5779132 0.5779132\n\t\t\tkey = 0.5 0.6 0.4809403 0.4809403\n\t\t\tkey = 1 1 1.013946 0\n\t\t}\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleAnimateHeat\n\t\tThermalAnim = TF1Heat\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleTestSubject\n\t\tuseStaging = True\n\t\tuseEvent = True\n\t\tsituationMask = 15\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = OXYGEN\n\t\t\tvalue = True\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEEDENV\n\t\t\ttest = LT\n\t\t\tvalue = 200\n\t\t\tprestige = Trivial\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEEDENV\n\t\t\ttest = GT\n\t\t\tvalue = 100\n\t\t\tprestige = Trivial\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEEDENV\n\t\t\ttest = LT\n\t\t\tvalue = 100\n\t\t\tprestige = Significant\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEEDENV\n\t\t\ttest = GT\n\t\t\tvalue = 50\n\t\t\tprestige = Significant\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEEDENV\n\t\t\ttest = LT\n\t\t\tvalue = 50\n\t\t\tprestige = Exceptional\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEEDENV\n\t\t\ttest = GT\n\t\t\tvalue = 20\n\t\t\tprestige = Exceptional\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEED\n\t\t\ttest = LT\n\t\t\tvalue = 300\n\t\t\tsituationMask = 8\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = SPEED\n\t\t\ttest = GT\n\t\t\tvalue = 50\n\t\t\tsituationMask = 8\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = DENSITY\n\t\t\ttest = GT\n\t\t\tvalue = 0.3\n\t\t\tsituationMask = 8\n\t\t\tprestige = Trivial\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = DENSITY\n\t\t\ttest = GT\n\t\t\tvalue = 0.1\n\t\t\tsituationMask = 8\n\t\t\tprestige = Significant\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = DENSITY\n\t\t\ttest = GT\n\t\t\tvalue = 0.05\n\t\t\tsituationMask = 8\n\t\t\tprestige = Exceptional\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = ALTITUDEENV\n\t\t\ttest = GT\n\t\t\tvalue = 4000\n\t\t\tprestige = Trivial\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = ALTITUDEENV\n\t\t\ttest = LT\n\t\t\tvalue = 8000\n\t\t\tprestige = Trivial\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = ALTITUDEENV\n\t\t\ttest = GT\n\t\t\tvalue = 1000\n\t\t\tprestige = Significant\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = ALTITUDEENV\n\t\t\ttest = LT\n\t\t\tvalue = 2000\n\t\t\tprestige = Significant\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = ALTITUDEENV\n\t\t\ttest = GT\n\t\t\tvalue = 500\n\t\t\tprestige = Exceptional\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = ALTITUDEENV\n\t\t\ttest = LT\n\t\t\tvalue = 1000\n\t\t\tprestige = Exceptional\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = REPEATABILITY\n\t\t\tvalue = ALWAYS\n\t\t\tprestige = Trivial\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = REPEATABILITY\n\t\t\tvalue = BODYANDSITUATION\n\t\t\tprestige = Significant\n\t\t}\n\t\tCONSTRAINT\n\t\t{\n\t\t\ttype = REPEATABILITY\n\t\t\tvalue = ONCEPERPART\n\t\t\tprestige = Exceptional\n\t\t}\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleSurfaceFX\n\t\tthrustProviderModuleIndex = 0\n\t\tfxMax = 0.5\n\t\tmaxDistance = 20\n\t\tfalloff = 2\n\t\tthrustTransformName = thrustTransform\n\t}\n\tEFFECTS\n\t{\t\t\n\t\trunning_thrust\n\t\t{\t\t\t\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_jet_deep\n\t\t\t\tvolume = 0.0 0.0\n\t\t\t\tvolume = 0.05 0.4\n\t\t\t\tvolume = 1.0 1.5\n\t\t\t\tpitch = 0.0 0.3\n\t\t\t\tpitch = 1.0 0.5\n\t\t\t\tloop = true\n\t\t\t}\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tprefabName = fx_smokeTrail_light\n\t\t\t\ttransformName = thrustTransformFX\n\t\t\t\temission = 0.0 0.0\n\t\t\t\temission = 0.05 0.0\n\t\t\t\temission = 0.075 0.25\n\t\t\t\temission = 1.0 1.25\n\t\t\t\tspeed = 0.0 0.25\n\t\t\t\tspeed = 1.0 1.0\n\t\t\t\tlocalOffset = 0, 0, 1\n\t\t\t\tlocalRotation = 1, 0, 0, -90\n\t\t\t}\t\t\t\t\t\n\t\t}\n\t\trunning_turbine\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_jet_low\n\t\t\t\tvolume = 0.0 0.0\n\t\t\t\tvolume = 0.05 0.2\n\t\t\t\tvolume = 1.0 0.45\n\t\t\t\tpitch = 0.0 0.3\n\t\t\t\tpitch = 0.05 0.5\n\t\t\t\tpitch = 1.0 0.65\n\t\t\t\tloop = true\n\t\t\t}\n\t\t}\n\t\tengage\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_vent_medium\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\tdisengage\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_vent_soft\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\tflameout\n\t\t{\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tprefabName = fx_exhaustSparks_flameout_2\n\t\t\t\ttransformName = thrustTransformFX\n\t\t\t\toneShot = true\n\t\t\t}\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_explosion_low\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t}\n}\u003C/pre\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nThe engine makes noise, shows an increase in thrust, in kilonewtons, but there is no real thrust. I believe it\u0027s because it\u0027s attached to a part in the direction of the thrust, which I know the game does not like.\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nWhat module/code should I add so the part essentially ignores the part it is attached to?\u00A0Thanks in advance!\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-05-24T00:57:21Z\u0022 title=\u002205/24/2018 12:57  AM\u0022 data-short=\u00226 yr\u0022\u003EMay 24, 2018\u003C/time\u003E by Daxturus\u003C/strong\u003E\n\u003Cbr\u003EClarity\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2018-05-25T16:07:59Z","Content":"\n\u003Cp\u003E\nAre you sure that your model has a \u0022thrustTransform\uFEFF\uFEFF\u0022 transform ?\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2018-05-25T16:20:12Z","Content":"\n\u003Cp\u003E\nI\u0027ll add to sarbians post above , that your engine actually needs , based on the posted cfg, TWO thrust transforms.\u00A0\u00A0 One called thrustTransform\uFEFF\u00A0 and second called thrustTransform\uFEFFFX\n\u003C/p\u003E\n\u003Cp\u003E\nPS if you have the transforms in place and exhaust damage turned off , the thrust will indeed pass right through the part , most if not all KSP propeller engines that can be found in various mods, have the thrust transform just behind or right on the prop itself, so usually inside or adjacent to a collider\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-05-25T16:23:53Z\u0022 title=\u002205/25/2018 04:23  PM\u0022 data-short=\u00226 yr\u0022\u003EMay 25, 2018\u003C/time\u003E by SpannerMonkey(smce)\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JadeOfMaar","CreatedById":167617,"CreatedDateTime":"2018-05-25T16:29:53Z","Content":"\n\u003Cp\u003E\nLooking at the code I see a name that suggests the small (size 0) circular intake. The problem is that you need a model that has two transforms in it: One with a transform for the intake module (facing forward) and the second with a transform facing backward for thrust. The only transform available to you is the one used by the intake module and you don\u0027t want that.\n\u003C/p\u003E\n\u003Cp\u003E\nYou\u0027ll have to learn part welding and manipulation of multiple models in a part via \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EMODEL {} \u003C/span\u003Econfig nodes. Ultimately you\u0027ll need to add (for example) the Juno engine\u0027s model, scale it down even more and then you can think about whether the part behind it is blocking thrust.\n\u003C/p\u003E\n"}]}