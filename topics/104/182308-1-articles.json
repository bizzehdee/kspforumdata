{"TopicId":182308,"ForumId":104,"TopicTitle":"Anyone familiar with KSP Particle Emitter?","CreatedByName":"KerboNerd","CreatedById":195433,"CreatedDateTime":"2019-02-20T10:39:53Z","PageNum":1,"Articles":[{"CreatedByName":"KerboNerd","CreatedById":195433,"CreatedDateTime":"2019-02-20T10:39:53Z","Content":"\n\u003Cp\u003E\nSo basically i\u0027ve been experimenting with the Particle emitter in Unity. It has two \u0022modules\u0022. The Emitter(Script) and Particle System.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs i managed to make a nice plume with the Particle System, when i export it, nothing shows up in game. I mean only when i make something with the Script \u0022Module\u0022 plume shows up in game.\n\u003C/p\u003E\n\u003Cp\u003E\nHow can i make the plume in the Particle System component and get it to work in game?\n\u003C/p\u003E\n\u003Cp\u003E\nTenks \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI dunno if this help or not.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://prntscr.com/mnlogo\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://prntscr.com/mnlogo\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2019-02-21T19:25:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223543848\u0022 data-ipsquote-contentid=\u0022182308\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221550659193\u0022 data-ipsquote-userid=\u0022195433\u0022 data-ipsquote-username=\u0022KerboNerd\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/20/2019 at 3:39 AM, KerboNerd said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs i managed to make a nice plume with the Particle System, when i export it, nothing shows up in game.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnfortunately, the PartTools used to build the .mu models does not support the new ParticleSystem used by Unity.\u00A0 I recently hit upon this problem myself when trying to create and add new effects for one of my mods (Kerbal Foundries)...\n\u003C/p\u003E\n\u003Cp\u003E\nThe solutions that I devised all require custom plugin code, and none that I\u0027ve envisioned would allow for the effect to be usable by any stock KSP PartModules (e.g. they could not be added to the EFFECTS block in the part config)\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCreate script in UnityEditor to export the ParticleSystem parameters to a text/.cfg file.\u00A0 Use custom plugin code in KSP to parse this config file and create a prefab of the particle-emitter.\u00A0 Yet more custom plugin code to add this emitter onto the models, and still more to enable activate/deactivate it.\n\u003C/li\u003E\n\u003Cli\u003E\nOR In UnityeEditor, export the ParticleSystem prefab to an AssetBundle, use custom plugin code to load that asset bundle in KSP, and more custom plugin code to add the emitter to a part/model and control its state.\n\u003C/li\u003E\n\u003Cli\u003E\nOR My \u0027chosen\u0027 solution was to create the ParticleSystem and set it up entirely from plugin code.\u00A0 As I was already using a custom PartModule to manipulate stuff on the part, it was easy enough to add this loading code to the module.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nAn alternate solution, that I\u0027ve not yet investigated, would be to use SmokeScreen to create the particles for you.\u00A0 While I don\u0027t think it can load any sort of prefabs/precompiled objects, I do believe that it will allow you to define your particles via config files, AND will let you link those particles into the EFFECTS blocks to allow them to be used by engines/etc.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m honestly curious as on this myself as to what solutions others may have come up with.\u00A0 I implemented the \u0027quick-and-dirty\u0027 loading through code, but would \u003Cem\u003Elove\u003C/em\u003E to be able to create the particle in UnityEditor and export it somehow to be able to use in KSP (especially if it can be used in EFFECTS blocks and by stock KSP code).\n\u003C/p\u003E\n"},{"CreatedByName":"AzraelZephyrian","CreatedById":199385,"CreatedDateTime":"2019-08-18T02:26:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223544754\u0022 data-ipsquote-contentid=\u0022182308\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221550777117\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/21/2019 at 2:25 PM, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUnfortunately, the PartTools used to build the .mu models does not support the new ParticleSystem used by Unity.\u00A0 I recently hit upon this problem myself when trying to create and add new effects for one of my mods (Kerbal Foundries)...\n\u003C/p\u003E\n\u003Cp\u003E\nThe solutions that I devised all require custom plugin code, and none that I\u0027ve envisioned would allow for the effect to be usable by any stock KSP PartModules (e.g. they could not be added to the EFFECTS block in the part config)\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCreate script in UnityEditor to export the ParticleSystem parameters to a text/.cfg file.\u00A0 Use custom plugin code in KSP to parse this config file and create a prefab of the particle-emitter.\u00A0 Yet more custom plugin code to add this emitter onto the models, and still more to enable activate/deactivate it.\n\u003C/li\u003E\n\u003Cli\u003E\nOR In UnityeEditor, export the ParticleSystem prefab to an AssetBundle, use custom plugin code to load that asset bundle in KSP, and more custom plugin code to add the emitter to a part/model and control its state.\n\u003C/li\u003E\n\u003Cli\u003E\nOR My \u0027chosen\u0027 solution was to create the ParticleSystem and set it up entirely from plugin code.\u00A0 As I was already using a custom PartModule to manipulate stuff on the part, it was easy enough to add this loading code to the module.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nAn alternate solution, that I\u0027ve not yet investigated, would be to use SmokeScreen to create the particles for you.\u00A0 While I don\u0027t think it can load any sort of prefabs/precompiled objects, I do believe that it will allow you to define your particles via config files, AND will let you link those particles into the EFFECTS blocks to allow them to be used by engines/etc.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m honestly curious as on this myself as to what solutions others may have come up with.\u00A0 I implemented the \u0027quick-and-dirty\u0027 loading through code, but would \u003Cem\u003Elove\u003C/em\u003E to be able to create the particle in UnityEditor and export it somehow to be able to use in KSP (especially if it can be used in EFFECTS blocks and by stock KSP code).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny idea if one could use an old version of unity?\u00A0 If so, which one, and where would I find a legacy version of part tools?\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2019-08-18T15:56:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223652234\u0022 data-ipsquote-contentid=\u0022182308\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566095172\u0022 data-ipsquote-userid=\u0022199385\u0022 data-ipsquote-username=\u0022AzraelZephyrian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, AzraelZephyrian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny idea if one could use an old version of unity?\u00A0 If so, which one, and where would I find a legacy version of part tools?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis discussion was regarding the use of the newer particle system; so no, an older version of Unity would not help.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are looking for information on creation and use of the legacy particle system, sorry I can\u0027t really offer any assistance there as I\u0027ve never used it myself.\u00A0 There \u003Cem\u003Emight\u003C/em\u003E be some links around in one of the forum sections, or perhaps even try contacting one of the authors of the mods who has used the system.\u00A0 Check the authors list of the legacy RealPlume particle models.\n\u003C/p\u003E\n"},{"CreatedByName":"AzraelZephyrian","CreatedById":199385,"CreatedDateTime":"2019-08-19T00:28:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223652462\u0022 data-ipsquote-contentid=\u0022182308\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566143788\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis discussion was regarding the use of the newer particle system; so no, an older version of Unity would not help.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are looking for information on creation and use of the legacy particle system, sorry I can\u0027t really offer any assistance there as I\u0027ve never used it myself.\u00A0 There \u003Cem\u003Emight\u003C/em\u003E be some links around in one of the forum sections, or perhaps even try contacting one of the authors of the mods who has used the system.\u00A0 Check the authors list of the legacy RealPlume particle models.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry, I was asking for my own purposes.\u00A0 I was trying to figure out how to get *any* custom effects in game.\u00A0 I ought to have prefaced it with that.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks, by the way, for the pointers.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally figured it out, but the scale is all wrong and I can\u0027t seem to change it... very vexing.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2019-08-19T17:07:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223652640\u0022 data-ipsquote-contentid=\u0022182308\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566174504\u0022 data-ipsquote-userid=\u0022199385\u0022 data-ipsquote-username=\u0022AzraelZephyrian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, AzraelZephyrian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFinally figured it out, but the scale is all wrong and I can\u0027t seem to change it... very vexing.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, stock does some funny things with transform scales and effects.\u00A0 Never could figure it out myself.\n\u003C/p\u003E\n\u003Cp\u003E\nSmokeScreen supports scaling though, and should be able to load whatever models/prefabs you are using with the stock system \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"AzraelZephyrian","CreatedById":199385,"CreatedDateTime":"2019-08-20T02:45:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223652983\u0022 data-ipsquote-contentid=\u0022182308\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566234476\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, stock does some funny things with transform scales and effects.\u00A0 Never could figure it out myself.\n\u003C/p\u003E\n\u003Cp\u003E\nSmokeScreen supports scaling though, and should be able to load whatever models/prefabs you are using with the stock system \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, I got it figured out well enough (though I\u0027ll be using smokescreen for my Z-pinch fusion drives).\u00A0 Now I just need to figure out why mechjeb won\u0027t recognize my \u0022docking port\u0022 that I\u0027m using (in conjunction with docking autopilot) to guide a satellite interceptor.\n\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2020-04-28T18:20:52Z","Content":"\n\u003Cp\u003E\nSo, i got\u00A0with this kind of problem when i need to made a custom particle for the Jet state of my \u003Cabbr title=\u0022Vertical Take-Off and Landing\u0022\u003EVTOL\u003C/abbr\u003E dualmode engines.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst, i see in my pre\u00A0 KSP 1.7.3 Unity project, where i did already on Earlier Unity versions with older PartTools, the particles i already use in Rocket mode for the \u003Cabbr title=\u0022Vertical Take-Off and Landing\u0022\u003EVTOL\u003C/abbr\u003E and my custom \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E for the mode I\u0027m making, Omicron, that it lost all the Unity configs with the new Unity and new Parttools ( KSP 1.9.1).\n\u003C/p\u003E\n\u003Cp\u003E\nIt lost and show where it had to be the particle config, a missing (mono script) message. Since i did it a long time ago, i do not remember the name of it and Unity won\u0027t show it for me, i presume that was the older version of KSP Particle plugin.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003ESo i start to dig\u00A0and test\u00A0here, and find a not optimal, but practical solution.\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EIn Unity Hierarchy i create an empty game object with another one inside it, both with zero translate and rotation and default scale.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003Evtol_particle_jet -\u0026gt; vtol_particle_jet\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EOn the root one, i put PartTools script (in inspector)to export Model Name: O_vtol_particle_jet, and fill up where i wanna to put then in my mod (Omicron/FX), with uncompressed TGA.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EThen, in Inspector again but on child one, i\u00A0 added KSP Particle Emitter (Script). It add Particle System automatically after it, but after some tests, besides the Particle System show cool animations, the in game test with it won\u0027t work, so i\u00A0just discard those settings completely. \u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EI keep my focus on KSP Particle Emitter, that won\u0027t show any preview in Unity, neither the Setup ParticleSystem do any thing, the list bellow work almost perfectly to control the behave of the particle in KSP.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003ESo i keep editing it, exporting and testing in game, edit, export, test, edit export test. Take some time, put i got to the results i expect.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EIs not perfect because you won\u0027t see it in Unity, and when\u00A0 you close unity, it lost all the setting you changed in KSP Particle Emitter Script and go back to default state of it, so, i need to retype all my change if i close Unity and need to update again the particles.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EThe way i did to go around this bug, is to print screen my settings every time i close Unity, and then retype it to change.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EHere how it get for the Jet.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003E\u003Ca href=\u0022https://flic.kr/p/2iVnj46\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u002249830689971_0f7d7e9059_b.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022https://live.staticflickr.com/65535/49830689971_0f7d7e9059_b.jpg\u0022\u003E\u003C/a\u003E\u003Ca href=\u0022https://flic.kr/p/2iVnj46\u0022 rel=\u0022external nofollow\u0022\u003EParticle jet Unity Config\u003C/a\u003E by \u003Ca href=\u0022https://www.flickr.com/photos/climberfx/\u0022 rel=\u0022external nofollow\u0022\u003ERafael Valle\u003C/a\u003E, on Flickr\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EIt\u0027s not so practical, but it works.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EThen i manage the config part of it and it\u0027s done.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EWill do the work\u00A0 until they manage to update Parttools to work with it again or better, they make the new Unity Particle System work with KSP.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003EHope to be usefull.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cem\u003ECheers.\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-28T18:28:31Z\u0022 title=\u002204/28/2020 06:28  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 28, 2020\u003C/time\u003E by Climberfx\u003C/strong\u003E\n\u003C/span\u003E\n"}]}