{"TopicId":181523,"ForumId":104,"TopicTitle":"Help with making a tech tree","CreatedByName":"septemberWaves","CreatedById":160814,"CreatedDateTime":"2019-01-19T15:04:13Z","PageNum":1,"Articles":[{"CreatedByName":"septemberWaves","CreatedById":160814,"CreatedDateTime":"2019-01-19T15:04:13Z","Content":"\n\u003Cp\u003E\nI am thinking of making my own tech tree mod, as I am not fully satisfied with any currently-available tech trees. However, I have no idea where to even begin, short of looking at the config files of existing tech tree mods to get some vague idea of how the formatting works. Are there any guides which already exist that can point me in the right direction?\n\u003C/p\u003E\n"},{"CreatedByName":"SpinkAkron","CreatedById":134807,"CreatedDateTime":"2019-02-18T20:44:45Z","Content":"\n\u003Cp\u003E\nThat\u0027s how I got into this.\u00A0 I just finishing making one where I moved every node many times until I got it set up the way I wanted, so it\u0027s all still fresh.\u00A0 As far as modding goes, I think it\u0027s one of the\u00A0easier things to do.\u00A0 \u00A0Take a look at the stock tech tree file in\u00A0Kerbal Space Program\\GameData\\Squad\\Resources\\\u00A0TechTree.cfg to get an idea of how it\u0027s set up.\u00A0 Looking at other tech tree mods is a big help too.\u00A0 I\u0027d recommend you look at mine linked in my siggy since I think it is better organized than some.\n\u003C/p\u003E\n\u003Cp\u003E\nThe structure is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ETechTree\n{\n\tRDNode\n\t{\n\t\tid = \n\t\ttitle = \n\t\tdescription = \n\t\tcost = \n\t\thideEmpty = \n\t\tnodeName = \n\t\tanyToUnlock = \n\t\ticon = \n\t\tpos = \n\t\tscale = \n\t\tParent\n\t\t{\n\t\t\tparentID = \n\t\t\tlineFrom = \n\t\t\tlineTo = \n\t\t}\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nChanges are made\u00A0with\u00A0Module Manager config. You can only have one TechTree. You can either modify the exisiting one or delete it and make a new one.\u00A0 Most trees are modified stock so they start @TechTree{}.\u00A0 The \u0027@\u0027 is a modify symbol. The\u00A0\u003Ca href=\u0022https://github.com/sarbian/ModuleManager/wiki/Module-Manager-Handbook\u0022 rel=\u0022external nofollow\u0022\u003EModule Manager Handbook\u003C/a\u003E\u00A0has lots of good info on syntax. To delete and start a new one, use !TechTree{} to delete it and TechTree{} to make your new one.\u00A0 I chose to modify the existing one but added some custom nodes.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA simple edit to change the position of the start node\u00A0is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-ruby prettyprinted\u0022\u003E\n\u003Cspan class=\u0022lit\u0022\u003E@TechTree\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E@RDNode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EHAS\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[#\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eid\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Estart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\t\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E@pos\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E-\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E3800\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1407\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0We start with @TechTree because we\u0027re modifying the existing tree.\u00A0 We also use @RDNode to modify an existing node, in this case the node with id start.\u00A0 If you look in the stock techtree cfg, you\u0027ll find a node defined with id = start.\u00A0 Since it already has a data element \u0027pos\u0027 we again use \u003Cspan\u003E@pos to modify that value to whatever we want. We can similarly change any other data element in the node. You only need to\u00A0include the data elements you want to change. The others will be left at the whatever value they were set at when the node was defined.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ELinks between nodes are done with the Parent{} structure.\u00A0 It\u00A0has three elements - parentID,\u00A0lineFrom, and lineTo.\u00A0 ParentID corresponds\u00A0to the id of\u00A0the node you\u0027re linking from.\u00A0 Here\u0027s a\u00A0more complex example with\u00A0changing a parent node. In this case I didn\u0027t need to change lineFrom or lineTo (oh and case matters, so watch your capital letters)\u00A0\u003C/span\u003E\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@TechTree{\n\t@RDNode:HAS[#id[advRocketry]]\n\t{\n\t\t@cost = 45\n\t\t@anyToUnlock = False\n\t\t@pos = -3200,2155,0\n\t\t@Parent\n\t\t{\n\t\t\t@parentID = generalRocketry\n\t\t}\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nYou can use -Parent{} to remove a link or just Parent{} to add one.\u00A0 \u00A0Anyway, that\u0027s the basics. I\u0027ll be happy to answer any questions you might have.\n\u003C/p\u003E\n\u003Cp\u003E\nOh, you only need to do @TechTree{} once and put all your @RDNode{} edits in it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-19T02:02:03Z\u0022 title=\u002202/19/2019 02:02  AM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 19, 2019\u003C/time\u003E by SpinkAkron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"septemberWaves","CreatedById":160814,"CreatedDateTime":"2019-02-19T08:12:56Z","Content":"\n\u003Cp\u003E\nThank you \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/134807-spinkakron/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022134807\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/134807-spinkakron/\u0022 rel=\u0022\u0022\u003E@SpinkAkron\u003C/a\u003E, though since making this thread I have actually learned a lot more about how to do this kind of thing properly, and have been directed to some Module Manager documentation which should hopefully save me from having to build up my understanding of patch writing solely from studying other mods\u0027 patches. Still, it is always helpful to see detailed examples like this.\n\u003C/p\u003E\n\u003Cp\u003E\nI do have one additional question about writing a tech tree: are the \u0022lineFrom\u0022 and \u0022lineTo\u0022 parameters\u00A0\u003Cem\u003Erequired\u003C/em\u003E, or will the lines be added automatically if I leave those parameters out?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-19T08:21:36Z\u0022 title=\u002202/19/2019 08:21  AM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 19, 2019\u003C/time\u003E by septemberWaves\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpinkAkron","CreatedById":134807,"CreatedDateTime":"2019-02-19T13:27:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223543236\u0022 data-ipsquote-contentid=\u0022181523\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221550563976\u0022 data-ipsquote-userid=\u0022160814\u0022 data-ipsquote-username=\u0022septemberWaves\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, septemberWaves said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThank you \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/134807-spinkakron/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022134807\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/134807-spinkakron/\u0022 rel=\u0022\u0022\u003E@SpinkAkron\u003C/a\u003E, though since making this thread I have actually learned a lot more about how to do this kind of thing properly, and have been directed to some Module Manager documentation which should hopefully save me from having to build up my understanding of patch writing solely from studying other mods\u0027 patches. Still, it is always helpful to see detailed examples like this.\n\u003C/p\u003E\n\u003Cp\u003E\nI do have one additional question about writing a tech tree: are the \u0022lineFrom\u0022 and \u0022lineTo\u0022 parameters\u00A0\u003Cem\u003Erequired\u003C/em\u003E, or will the lines be added automatically if I leave those parameters out?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey are not automatic. If you don\u0027t include them there will be no visible lines.\u00A0 They\u0027re not strictly required in the sense the node will still have the Parent as a prerequisite and will display the parent names on the right hand panel when selected.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SpinkAkron","CreatedById":134807,"CreatedDateTime":"2019-02-23T16:39:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223543236\u0022 data-ipsquote-contentid=\u0022181523\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221550563976\u0022 data-ipsquote-userid=\u0022160814\u0022 data-ipsquote-username=\u0022septemberWaves\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/19/2019 at 2:12 AM, septemberWaves said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI do have one additional question about writing a tech tree: are the \u0022lineFrom\u0022 and \u0022lineTo\u0022 parameters\u00A0\u003Cem\u003Erequired\u003C/em\u003E, or will the lines be added automatically if I leave those parameters out?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was wrong. I\u00A0just learned that lineFrom and lineTo have defaults of RIGHT and LEFT respectively. If you leave them off, there will still be lines.\n\u003C/p\u003E\n"},{"CreatedByName":"SpinkAkron","CreatedById":134807,"CreatedDateTime":"2019-02-23T18:19:42Z","Content":"\n\u003Cp\u003E\nI found a use for the third pos parameter. I was trying to add tier numbers to the top of my tech tree. It was causing apparently unrelated lines between other nodes to disappear. When I changed the new nodes to -1, it cleared it up.\u00A0 \u00A0\n\u003C/p\u003E\n"}]}