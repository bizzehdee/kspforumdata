{"TopicId":22268,"ForumId":32,"TopicTitle":"Question about orbit transfers","CreatedByName":"TheGadfly","CreatedById":54328,"CreatedDateTime":"2012-10-15T20:29:46Z","PageNum":1,"Articles":[{"CreatedByName":"TheGadfly","CreatedById":54328,"CreatedDateTime":"2012-10-15T20:29:46Z","Content":"\n\u003Cp\u003EI\u0027m pretty new to the game and spaceflight sims in general, and have only completed Kerbin orbits with my own spacecraft. I decided to try the tutorials for any extra tips. \u003C/p\u003E\u003Cp\u003EI was doing the Mun orbit transfer mission and I noticed that the two orbits intersect at a nearly perpendicular angle. It seems a strange path for a drifting spacecraft to take. Also, when I recaptured orbit with Kerbin, I noticed that my velocity figure above the Gimbal suddenly changed. \u003C/p\u003E\u003Cp\u003EI would imagine that such sudden changes shouldn\u0027t be possible. So, does KSP simplify things to save on CPU cycles, or am I seeing things incorrectly?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i984.photobucket.com/albums/ae325/rboiko1/transfer1.png\u0022 alt=\u0022transfer1.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-15T21:31:55Z\u0022 title=\u002210/15/2012 09:31  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 15, 2012\u003C/time\u003E by TheGadfly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qumefox","CreatedById":43197,"CreatedDateTime":"2012-10-15T20:39:07Z","Content":"\n\u003Cp\u003EYour altitude, navball orientation, and speed are all relative to the SoI your in. \u003C/p\u003E\u003Cp\u003EAs far as orbit behaviour, that\u0027s how patched conics modelling works.. Only the one SoI is modelled at a time. At least I hope you don\u0027t expect a recreational space simulatior to have solve the N-body problem. heh.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-15T20:42:02Z\u0022 title=\u002210/15/2012 08:42  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 15, 2012\u003C/time\u003E by Qumefox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2012-10-15T20:45:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Edoes KSP simplify things to save on CPU cycles\u003C/div\u003E\u003C/blockquote\u003EYes, every world exists in its own little simulated universe, and you transition from one to another. However, the game actually maintains your course and heading in absolute terms, and it only appears funky as you change perspectives and coordinate origin points.\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2012-10-15T21:01:17Z","Content":"\n\u003Cp\u003EI\u0027ll add the plot below to illustrate Vanamonde\u0027s point:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/GqC2c.png\u0022 alt=\u0022GqC2c.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe plot compares a free-return trajectory calculated using the \u0022KSP patched conic\u0022 model with a free-return trajectory calculated using a 3-body model given the same initial conditions as the KSP patched conic model. Both trajectories are shown in Kerbin centric coordinates. Even though Kerbin and the Mun wobble around their mutual barycentre in the 3-body model, there still isn\u0027t a huge difference in the results when I transpose the 3-body model results into Kerbin-centric coordinates. \u003C/p\u003E\u003Cp\u003EIn short, the KSP patched conics work just fine at simulating even complex orbits like a free-return trajectory.\u003C/p\u003E\n"},{"CreatedByName":"Qumefox","CreatedById":43197,"CreatedDateTime":"2012-10-15T21:11:49Z","Content":"\n\u003Cp\u003EHe might simply be referring to the disjointed way KSP projects orbits by default. Which is just how it\u0027s displayed, not how spacecraft actually move. the patched conic display mode can be changed in the config file.. changing the mode to 3 will give \u0027true\u0027 orbits but it can be buggy at times, and is slightly harder to see exactly what inclinations your on when trying to do more precise orbit injections.. (for instance, it\u0027s easier to see being off 5 degrees when the line is extended well past either side of the body, than it is when it\u0027s looped close in around the body.\u003C/p\u003E\n"},{"CreatedByName":"TheGadfly","CreatedById":54328,"CreatedDateTime":"2012-10-15T21:30:04Z","Content":"\n\u003Cp\u003ESorry, but there are a lot of terms that I\u0027m not quite familiar with in your post. Again, I\u0027m really new to this. Could you elaborate on SoI and patched conics modeling, to start? I\u0027m guessing with patched conics you\u0027re sticking ellipses and parabolas together?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-15T21:37:06Z\u0022 title=\u002210/15/2012 09:37  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 15, 2012\u003C/time\u003E by TheGadfly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Elmach","CreatedById":28977,"CreatedDateTime":"2012-10-15T22:03:01Z","Content":"\n\u003Cp\u003EThis is correct. The SOI is the region where one body predominates; patched conics assumes that all other bodies do not affect the ship at this point.\u003C/p\u003E\u003Cp\u003EAdditionally, to save on calculations, the SOI is assumed to be spherical.\u003C/p\u003E\u003Cp\u003ESince each region has only one gravitational body, you can use Kepler\u0027s law -- all bodies travel in conic sections. This means there is a closed form solution to your ship\u0027s trajectory, so you can compute the position of your ship a long time later, making time warp easy.\u003C/p\u003E\u003Cp\u003EThere are 5 implemented draw modes for the patched conics system in KSP. What you are seeing, Mode 1 (as well as 0 and 2 (Yes, SQUAD counts from 0)), shows all the trajectories relative to the object your spacecraft is orbiting at that time. Mode 0 has all the trajectories around the body that you will be orbiting at the position the bodies are now. Mode 1 (default) connects the trajectories at encounter points (entering). Mode 2 connects them at escape points (exiting). Mode 4 does something odd, and it\u0027s difficult to explain.\u003C/p\u003E\u003Cp\u003EMode 3 is called \u0022relative\u0022 mode. Let\u0027s assume that you are going to Duna from the Mun, and you are taking a Minmus slingshot, and you have it set to show all the conics. (That is, you are going Mun-\u0026gt;Kerbin-\u0026gt;Minmus-\u0026gt;Kerbin-\u0026gt;Kerbol-\u0026gt;Duna.)\u003C/p\u003E\u003Cp\u003EThe Mun orbit looks normal; the Kerbin orbits look normal. For Minmus, however, it shows the trajectory relative to Kerbin, because that is the \u0022largest\u0022 SOI it goes through. Similarly, for the Duna orbit, it shows the trajectory relative to Kerbol.\u003C/p\u003E\u003Cp\u003EThe mode and number of patches can be set in the config file.\u003C/p\u003E\n"},{"CreatedByName":"TheGadfly","CreatedById":54328,"CreatedDateTime":"2012-10-15T22:14:13Z","Content":"\n\u003Cp\u003EThanks everyone, this makes a lot more sense now (for one, SoI = sphere of influence, duh!). It\u0027s nice to know that my ship isn\u0027t experiencing sudden and rapid direction changes and G-forces as it transfers to orbiting new bodies. Tracking the \u0027absolute path\u0027 (is that the right term?) might be helpful to someone new like me visualize what\u0027s really happening. \u003C/p\u003E\u003Cp\u003EAs a layperson, this has given me a whole new appreciation for the difficulty of calculating precise orbits, moonshots, and dockings in the real world.\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2012-10-15T22:30:37Z","Content":"\n\u003Cp\u003ESOI stands for \u0022sphere of influence,\u0022 which is the mini-universe you are currently in. When you are travelling from one to another, the game takes your course and speed and converts it to the coordinate system of the new SOI. The gravity of the previous world\u0027s SOI stops affecting you completely and the new one takes over. However, the smaller world is itself moving within the SOI of the larger world, which means the larger world\u0027s gravity IS affecting you, indirectly, through the motion it imparts to the entirety of your new frame of reference. \u003C/p\u003E\u003Cp\u003ESay your ship and Mun are both orbiting Kerbin, in the same direction. Mun orbits at 542.5m/s, and your ships is coming up behind it at 543.5m/s, both of you following a curve around Kerbin. As soon as you enter Mun\u0027s SOI, your speed display will flip from 542.5m/s to 1m/s, and Mun will appear to be sitting still (relative to you) while you are moving in a straight line (relative to it). In both frames of reference, you were overtaking Mun at 1m/s in a linear way, and that hasn\u0027t changed. It\u0027s just being figured from Mun\u0027s perspective instead of Kerbin\u0027s.\u003C/p\u003E\u003Cp\u003EAm I making things clearer, or confusing things further? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nibb31","CreatedById":7272,"CreatedDateTime":"2012-10-15T22:33:17Z","Content":"\n\u003Cp\u003ESOI = Sphere of Influence. Basically, it means that in your screenshot, on the blue line you are in Kerbin\u0027s SoI, meaning that your speed and position are shown relative to Kerbin. The yellow line is when you are in the Mun\u0027s SoI, so your speed and position are shown relative to the Mun. The little blue circle is where the switch happens. The yellow sphere indicates where the Mun will be when you switch SoI.\u003C/p\u003E\u003Cp\u003ELook at the diagram in your screenshot and try to mentally imagine that the blue line continues on the same trajectory. Now, remember, the Mun is moving around Kerbin. The yellow line is traced relative to that movement, so as the Mun moves along, so does your orbit. Relative to Kerbin, you do not change directions at all and your spacecraft remains on the same trajectory.\u003C/p\u003E\n"},{"CreatedByName":"Elmach","CreatedById":28977,"CreatedDateTime":"2012-10-15T23:49:25Z","Content":"\n\u003Cp\u003EYou can change the mode in the settings.cfg file somewhere in the KSP directory. Set \u0022CONIC_PATCH_DRAW_MODE\u0022 to \u00223\u0022 (relative mode, which is closest to the one you want-- when you are in Kerbin orbit you do not want to see your path relative to Kerbol), and set \u0022CONIC_PATCH_LIMIT\u0022 to the maximum number of orbital lines you want on your screen at one time. (The default is 2)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-15T23:51:30Z\u0022 title=\u002210/15/2012 11:51  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 15, 2012\u003C/time\u003E by Elmach\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qumefox","CreatedById":43197,"CreatedDateTime":"2012-10-16T00:05:41Z","Content":"\n\u003Cp\u003ETook some digging to find this again, but this explains all the conic draw modes.. with pictures!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/11322-Different-Conic-drawing-modes?p=168844\u0026amp;viewfull=1#post168844\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/forum/showthread.php/11322-Different-Conic-drawing-modes?p=168844\u0026amp;viewfull=1#post168844\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"TheGadfly","CreatedById":54328,"CreatedDateTime":"2012-10-16T08:25:03Z","Content":"\n\u003Cp\u003EThank you! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}