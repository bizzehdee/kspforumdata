{"TopicId":195656,"ForumId":32,"TopicTitle":"Aerodynamics have changed substantially after 1.7.3","CreatedByName":"Yakuzi","CreatedById":85181,"CreatedDateTime":"2020-07-17T00:03:57Z","PageNum":1,"Articles":[{"CreatedByName":"Yakuzi","CreatedById":85181,"CreatedDateTime":"2020-07-17T00:03:57Z","Content":"\n\u003Cp\u003E\nI spend a lot of time in Kerbin\u0027s atmosphere to get my spaceplanes into orbit. Recently I\u0027ve made the switch from 1.7.3 to 1.10.0 and to my surprise I noticed a substantial increase in the delta-v requirements to get my craft to orbit. Some \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E designs with slim margins in 1.7.3 are now unable to reach orbit at all. Now I know that \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/189064-investigating-significant-drag-and-heating-changes-introduced-in-180/\u0022 rel=\u0022\u0022\u003EKSP 1.8.0 had some issues\u003C/a\u003E with drag cube calculations, but according to \u003Ca href=\u0022https://wiki.kerbalspaceprogram.com/wiki/1.8.1\u0022 rel=\u0022external nofollow\u0022\u003EKSP\u0027s version history\u003C/a\u003E this should\u0027ve been fixed in 1.8.1.\n\u003C/p\u003E\n\u003Cp\u003E\nI performed some basic aerodynamic evaluations to check whether my observations were legitimate or if was losing my mind... or worse, if my spacecraft flying abilities had deteriorated to disgraceful levels. Anyhow, I designed a simple rocket with a bit of fuel and \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E ballast in the nose cone:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ZgILemy.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/ZgILemy.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThen I shot it straight up in KSP versions 1.7.3, 1.8.1, 1.9.1 and 1.10.0 (not 1.10.1, my bad, I\u0027m not from the future) and logged the max altitude (repeated 5x per version, the standard deviation is indicated by the black error bars):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022EUn0TZV.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002259.83\u0022 height=\u0022289\u0022 width=\u0022483\u0022 src=\u0022https://i.imgur.com/EUn0TZV.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAs you can see from the graph, there is a substantial reduction (\u0026gt;5%) in the rocket\u0027s atmospheric performance post KSP 1.7.3. Since this test rocket has few parts, a high \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E and shoots straight up, I can imagine that these effects are exacerbated the longer you spend in the atmosphere and are particularly detrimental for high part-count air-breathing spaceplanes that rely on building up speed in the lower and medium atmosphere.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66485-squad/\u0026amp;do=hovercard\u0022 data-mentionid=\u002266485\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66485-squad/\u0022 rel=\u0022\u0022\u003E@SQUAD\u003C/a\u003E Are you aware of this issue, and if so, are you looking into fixing it? Since the version history documentation doesn\u0027t mention any aerodynamic changes after KSP version 1.7.3, I\u0027m assuming this wasn\u0027t planned. These changes greatly impact my designs so any info would be immensely appreciated!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-17T12:59:39Z\u0022 title=\u002207/17/2020 12:59  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 17, 2020\u003C/time\u003E by Yakuzi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cavscout74","CreatedById":181783,"CreatedDateTime":"2020-07-17T00:53:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223821767\u0022 data-ipsquote-contentid=\u0022195656\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594944237\u0022 data-ipsquote-userid=\u002285181\u0022 data-ipsquote-username=\u0022Yakuzi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, Yakuzi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nnot 1.10.1, my bad, I\u0027m not from the future\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNope, sorry, I don\u0027t believe that.\u00A0 This is some kind of conspiracy!!!\u00A0\u00A0 \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2020-07-17T05:20:09Z","Content":"\n\u003Cp\u003E\nThis kind of thing happens, for very little obvious reason, between versions.\u00A0 \u00A0The drag model introduced in version 1.2 is very very sensitive to small changes in the shapes of parts, and for reasons mysterious to me the computed drag changes slightly when the unity engine changes.\n\u003C/p\u003E\n\u003Cp\u003E\nIn your case, the drag-coefficient for the\u00A0cylindrical sides of the probe core goes from 0.68 in version 1.7, to 0.70 in version 1.10\u00A0(by comparing PartDatabase.cfg between versions).\u00A0 \u00A0You can use a Module Manager patch to copy the old drag cubes into your new installation if you want, and then get the old performance.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E@PART[probeStackSmall] {\n %DRAG_CUBE\t{\n  cube = Default, 0.294,0.6796,0.7279, 0.294,0.6796,0.7279, 1.402,0.9681,0.1515, 1.402,0.9704,0.1515, 0.2854,0.6611,0.7582, 0.2854,0.6625,0.7582, 0,0,0, 1.334,0.22,1.359\n}}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nParts that changed the visual models had a bigger change in performance (\u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/24917\u0022 rel=\u0022external nofollow\u0022\u003Ebug report\u003C/a\u003E).\n\u003C/p\u003E\n\u003Cp\u003E\nYou have to redesign some of your craft when you change KSP versions.\n\u003C/p\u003E\n\u003Cp\u003E\nIf it makes you feel any better, new players have to redesign their craft between the tutorials and the game.\u00A0 Players who try to build the very first craft from the training mission (which uses an old model) in a sandbox game (using a new model) see drastically different performance:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002274133\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed5603181808\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/180460-why-doesnt-the-rocket-in-the-game-perform-the-same-as-the-training-rocket/\u0026amp;do=embed\u0022 style=\u0022height:209px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MechBFP","CreatedById":184845,"CreatedDateTime":"2020-07-18T14:28:51Z","Content":"\n\u003Cp\u003E\nThe drag was changed on purpose. From my understanding there was a bug that was causing the drag cubes to not be calculated correctly.\u00A0\u003Cbr\u003E\nSo the extra drag is actually the result of a bug being fixed.\u00A0\u003Cbr\u003E\nEDIT: Except for engine plates, those have issues with drag currently.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-18T14:34:37Z\u0022 title=\u002207/18/2020 02:34  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 18, 2020\u003C/time\u003E by MechBFP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yakuzi","CreatedById":85181,"CreatedDateTime":"2020-07-20T12:04:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223821883\u0022 data-ipsquote-contentid=\u0022195656\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594963209\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/17/2020 at 7:20 AM, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis kind of thing happens, for very little obvious reason, between versions.\u00A0 \u00A0The drag model introduced in version 1.2 is very very sensitive to small changes in the shapes of parts, and for reasons mysterious to me the computed drag changes slightly when the unity engine changes.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nYou have to redesign some of your craft when you change KSP versions.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo the drag cubes for every part are recalculated between every KSP version? Or are they dynamically calculated every time you start up KSP? Why not calculate them once and keep them consistent between versions? These changes have significant ramifications in craft performance, so I\u0027m very puzzled why they\u0027re being made in the first place. Especially without notifying the player base.\n\u003C/p\u003E\n\u003Cp\u003E\nMy apologies for pinging once again, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114736\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0022 rel=\u0022\u0022\u003E@JPLRepo\u003C/a\u003E \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257838\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0022 rel=\u0022\u0022\u003E@TriggerAu\u003C/a\u003E would either of you be able to explain what\u0027s going on?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223822512\u0022 data-ipsquote-contentid=\u0022195656\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221595082531\u0022 data-ipsquote-userid=\u0022184845\u0022 data-ipsquote-username=\u0022MechBFP\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/18/2020 at 4:28 PM, MechBFP said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe drag was changed on purpose. From my understanding there was a bug that was causing the drag cubes to not be calculated correctly.\u00A0\u003Cbr\u003E\nSo the extra drag is actually the result of a bug being fixed.\u00A0\u003Cbr\u003E\nEDIT: Except for engine plates, those have issues with drag currently.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is news to me. Which version were those changes made? Could you share a link where the devs explained why they changed the drag on purpose?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223821788\u0022 data-ipsquote-contentid=\u0022195656\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221594947227\u0022 data-ipsquote-userid=\u0022181783\u0022 data-ipsquote-username=\u0022Cavscout74\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/17/2020 at 2:53 AM, Cavscout74 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNope, sorry, I don\u0027t believe that.\u00A0 This is some kind of conspiracy!!!\u00A0\u00A0 \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n2020 would not be my first choice for a travel back in time destination... \u003Cspan style=\u0022font-size:9px;\u0022\u003EThen again, maybe I had no choice\u003C/span\u003E \u003Cimg alt=\u0022:ph34r:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_ph34r.png\u0022 title=\u0022:ph34r:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-20T12:07:23Z\u0022 title=\u002207/20/2020 12:07  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 20, 2020\u003C/time\u003E by Yakuzi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2020-07-20T18:25:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223823407\u0022 data-ipsquote-contentid=\u0022195656\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221595246665\u0022 data-ipsquote-userid=\u002285181\u0022 data-ipsquote-username=\u0022Yakuzi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Yakuzi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo the drag cubes for every part are recalculated between every KSP version?\u00A0 every time you start up KSP?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey are calculated on start-up whenever KSP detects a change to the part.\u00A0 They are stored in PartDatabase.cfg which seems an obvious way to avoid recalculating on every start.\n\u003C/p\u003E\n\u003Cp\u003E\nThe part-creator can define the drag values in the .cfg file for the part, and many mod\u00A0authors do so, and where there is such a definition it is used permanently.\n\u003C/p\u003E\n\u003Cp\u003E\nPut that way, it sounds like a wisely-designed system.\u00A0 The trouble is the resulting\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/182616-the-drag-of-parts/\u0022 rel=\u0022\u0022\u003E table of numbers\u003C/a\u003E is not popular with mod authors (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/172232-110-missinghistory-v182-handy-parts-to-complement-making-history/\u0026amp;do=findComment\u0026amp;comment=3321974\u0022 rel=\u0022\u0022\u003Eexample\u003C/a\u003E) and even my faulty sarcasm-detector senses that KSP maintainers are \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/195178-modders-notes-1100/\u0022 rel=\u0022\u0022\u003Efrustrated \u003C/a\u003Ewith drag cubes.\u00A0 \u00A0The mechanism for automatic generation is hidden from users and mod-authors, and when new artists joined KSP about 1/3 of their models had un-physical numbers in the automatically-generated drag cubes.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223823407\u0022 data-ipsquote-contentid=\u0022195656\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221595246665\u0022 data-ipsquote-userid=\u002285181\u0022 data-ipsquote-username=\u0022Yakuzi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Yakuzi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCould you share a link where the devs explained why they changed the drag on purpose?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAll the intentional changes that I noticed\u00A0were for purposes of bug fixing, so on the bug-tracker searching closed items for \u0027drag\u0027.\u00A0 None\u00A0of the on-purpose changes that I know of happens to affect any parts in your example.\u00A0 Simply the original scheme for drag is rather sensitive to how the layers of software, modelling to Unity to KSP, describe the exact shape of parts.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-20T18:30:50Z\u0022 title=\u002207/20/2020 06:30  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 20, 2020\u003C/time\u003E by OHara\u003C/strong\u003E\n\u003C/span\u003E\n"}]}