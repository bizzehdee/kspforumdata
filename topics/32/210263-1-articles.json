{"TopicId":210263,"ForumId":32,"TopicTitle":"Strange behavior of the DTS-M1 antenna","CreatedByName":"Gurkonier","CreatedById":153187,"CreatedDateTime":"2022-10-25T13:39:46Z","PageNum":1,"Articles":[{"CreatedByName":"Gurkonier","CreatedById":153187,"CreatedDateTime":"2022-10-25T13:39:46Z","Content":"\n\u003Cp\u003E\nToday i sent a probe to Duna to perform some science and send it back to Kerbin.\n\u003C/p\u003E\n\u003Cp\u003E\nI had a lot of problems doing this, because i wasn\u0027t able to get it work, even though i had the DTS-M1 antenna with me, a connection was established, had a signal strength of about 70%, and Data TX was there and showed me, that i could transmit science.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter some trial and error and tweaking difficulty settings, i discovered, that if i retracted the antenna and then tried to transmit the science, it actually started working. The antenna extends, transmits, and retracts.\u003Cbr\u003E\nBut if the antenna is already extended, i get the message, that i have no antenna in range.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone experienced the same thing? Is this a bug, or do i miss something obvious?\u003Cbr\u003E\n\u003Cbr\u003E\nEdit: I have no mods installed, which should change the behavior of CommNet e.g. RemoteTech...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-10-25T13:41:37Z\u0022 title=\u002210/25/2022 01:41  PM\u0022 data-short=\u00221 yr\u0022\u003EOctober 25, 2022\u003C/time\u003E by Gurkonier\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mahnarch","CreatedById":114432,"CreatedDateTime":"2022-10-25T21:03:53Z","Content":"\n\u003Cp\u003E\n\u003Cimg alt=\u0022Dts-m1.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002273.47\u0022 height=\u0022360\u0022 width=\u0022490\u0022 src=\u0022https://wiki.kerbalspaceprogram.com/images/8/89/Dts-m1.jpg\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat one?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t say I\u0027ve ever had that issue.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd, I\u0027m assuming it\u0027s not another issue such that you\u0027re running out of battery juice while it\u0027s already extended, or that you have a relay that\u0027s moving in orbit at an inconvenient timing?\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe rotate your lander a scoosh? Half a smidge?\n\u003C/p\u003E\n"},{"CreatedByName":"Gurkonier","CreatedById":153187,"CreatedDateTime":"2022-10-25T22:54:16Z","Content":"\n\u003Cp\u003E\nThanks for your reply.\n\u003C/p\u003E\n\u003Cp\u003E\nYes, that is the antenna i used.\n\u003C/p\u003E\n\u003Cp\u003E\nI had more than enough battery charge and checked multiple times, that my connection was good.\u003Cbr\u003E\nRotating it was one of my last attempts, knowing that shouldn\u0027t change anything.\n\u003C/p\u003E\n\u003Cp\u003E\nI also never experienced that myself. I have more than 1000 hours, so i\u0027m very confident, that i checked everything that possibly could intervene with transmitting my science.\u003Cbr\u003E\nSo i think, that there is a mechanic regarding communication, which i never knew exists, or it\u0027s a bug, which also never occured to me...\n\u003C/p\u003E\n\u003Cp\u003E\nThe one is the actual probe in Duna\u0027s orbit, which had this problem:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022EvrsTLf.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002272.48\u0022 height=\u0022403\u0022 width=\u0022556\u0022 src=\u0022https://i.imgur.com/EvrsTLf.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis one is a test probe, which i cheated into Duna\u0027s Orbit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002236vNz4G.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002263.98\u0022 height=\u0022389\u0022 width=\u0022608\u0022 src=\u0022https://i.imgur.com/36vNz4G.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe were in the orbit at the same time. The first one can only transmit science, when the antenna is retracted. The second one can do this all the time.\u003Cbr\u003E\nFor the second one i also included a hinge, because i thought this could be a problem, but this time it worked.\n\u003C/p\u003E\n\u003Cp\u003E\nBoth have this connection status:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00227zVC6Yt.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002226.40\u0022 height=\u002233\u0022 width=\u0022125\u0022 src=\u0022https://i.imgur.com/7zVC6Yt.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Mahnarch","CreatedById":114432,"CreatedDateTime":"2022-10-25T23:54:29Z","Content":"\n\u003Cp\u003E\nOk. I\u0027d toss it up to a bug.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe the age of your craft in the code has something to do with it?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not a computerologist. I don\u0027t know these things.\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2022-10-26T21:46:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224190844\u0022 data-ipsquote-contentid=\u0022210263\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221666742069\u0022 data-ipsquote-userid=\u0022114432\u0022 data-ipsquote-username=\u0022Mahnarch\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Mahnarch said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe the age of your craft in the code has something to do with it?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnlikely, but any functional component has some state variables. Antenna being retracted or extended being just one of however many the devs thought they needed for the full intended functionality. Depending on the exact implementation, it is possible for these to end up in an inconsistent state, resulting in a bug that persists, but is hard to replicate.\n\u003C/p\u003E\n\u003Cp\u003E\nFor a simple illustration, imagine that you have two light switches controlling two lights in a room. Your intention is to have both lights on or both off, so you flip both light switches at the same time. Now imagine that for some reason, at some point, just one switch got flipped, but you continue flipping both switches when you want to turn the lights on/off. From this state, you\u0027ll always have one light on and one off - a bad state that you can\u0027t exit without a change to the algorithm.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t feel like decompiling the game (again) to take a look at exactly how that part of the code works, but my first guess would be that there\u0027s a flag saying that the antenna\u0027s extended, and a separate one that says it\u0027s ready to transmit, and the two don\u0027t trip at exactly the same time, because animation takes some time to finish, but both are simple toggles. So we\u0027re looking for a possibility that these two flags become inconsistent. If I was trying to reproduce this bug, I would try things that can disrupt the process during the animation. Quick-saving and re-loadng while antenna is extending/retracting, switching vehicles, going into time warp, etc. If that, indeed, reproduces the bug with a newly launched antenna, then repeating the process may fix it. Of course, the bug could be way more convoluted as well, and in either case, the correct fix is going to be in the game\u0027s code.\n\u003C/p\u003E\n"},{"CreatedByName":"Gurkonier","CreatedById":153187,"CreatedDateTime":"2022-10-26T23:12:26Z","Content":"\n\u003Cp\u003E\nThat sounds convincing. Maybe i\u0027ll try to replicate the bug in the future. But i think, if there will ever be another hotfix for KSP 1, this is not important enough to be fixed, nor will it be relevant when KSP 2 releases.\n\u003C/p\u003E\n"}]}