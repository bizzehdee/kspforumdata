{"TopicId":95837,"ForumId":32,"TopicTitle":"Forcing DirectX11: 40% memory reduction!","CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-01-06T15:16:52Z","PageNum":2,"Articles":[{"CreatedByName":"djnattyd","CreatedById":63737,"CreatedDateTime":"2015-01-08T00:11:06Z","Content":"\n\u003Cp\u003EI can\u0027t believe how much smoother KSP is under DX11, shame about the missing shaders but can\u0027t have everything is suppose.\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-01-08T00:31:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DBT85\u0022 data-cite=\u0022DBT85\u0022\u003E\u003Cdiv\u003EBeen using this all day while fiddling with another mod and can report no other issues yet. The craft does go pink under atmospheric stress but goes back to normal again when it\u0027s gone. Not been to Minmas yet to see if it\u0027s wrong.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is just the effects - if you turn them ( atmo ) to minimum you\u0027ll just get a fairly normal looking red glow.\u003C/p\u003E\n"},{"CreatedByName":"KrazyKrl","CreatedById":65849,"CreatedDateTime":"2015-01-08T00:53:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022djnattyd\u0022 data-cite=\u0022djnattyd\u0022\u003E\u003Cdiv\u003EI can\u0027t believe how much smoother KSP is under DX11, shame about the missing shaders but can\u0027t have everything is suppose.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that forcing DirectX11 breaks so many things, that it causes KSP to not load a large chunk of what should be loaded. And inadvertently causes a reduced memory footprint because of the missing files.\u003C/p\u003E\u003Cp\u003EI really doubt DirectX11 has some magical \u0022half memory use\u0022 algorithm. It sounds like something is breaking internally.\u003C/p\u003E\n"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-01-08T00:59:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022djnattyd\u0022 data-cite=\u0022djnattyd\u0022\u003E\u003Cdiv\u003EI can\u0027t believe how much smoother KSP is under DX11, shame about the missing shaders but can\u0027t have everything is suppose.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe quoted post is a testament to why we need Unity 5 STAT! Unity, get the job done, Squad needs it!\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-01-08T01:00:42Z","Content":"\n\u003Cp\u003EIt doesn\u0027t actually break a whole lot; DX11 \u003Cem\u003Eis\u003C/em\u003E more efficient than DX9. A few shaders do get bit broken, but nothing else I\u0027ve found seems to have any issues with it. Certainly not enough to account for any non-negligible portion of the reduced memory footprint.\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-01-08T01:02:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KrazyKrl\u0022 data-cite=\u0022KrazyKrl\u0022\u003E\u003Cdiv\u003EI think that forcing DirectX11 breaks so many things, that it causes KSP to not load a large chunk of what should be loaded. And inadvertently causes a reduced memory footprint because of the missing files.\u003Cp\u003EI really doubt DirectX11 has some magical \u0022half memory use\u0022 algorithm. It sounds like something is breaking internally.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe memory use is similar to OpenGL. It\u0027s DX9 that\u0027s the broken one.\u003C/p\u003E\n"},{"CreatedByName":"j-tk","CreatedById":29598,"CreatedDateTime":"2015-01-08T01:13:56Z","Content":"\n\u003Cp\u003EDX9 just needs to final be put to bed. To bad DX10 was it\u0027s version of Vista, so many developers stayed with DX9 but only used bits of DX10.\u003C/p\u003E\u003Cp\u003EHopefully we\u0027ll see a big leap forward next year to DX11/DX12 use with windows 10\u003C/p\u003E\n"},{"CreatedByName":"longbyte1","CreatedById":17521,"CreatedDateTime":"2015-01-08T02:21:47Z","Content":"\n\u003Cp\u003EDirect3D 11, from a technical standpoint, has a graphics pipeline that is radically different than that of D3D9. (The compatibility is a bit strange though: D3D11 provides a subset of its API for DX9-capable cards, but it appears to me that DX10 cards can also run D3D11 programs. Then again, card manufacturers are advertising new cards that can run at D3D level 11_1. And even Windows 7 doesn\u0027t support 11_1, only 11_0!)\u003C/p\u003E\u003Cp\u003EUsing D3D11 means that the new BC6H and BC7 texture compression formats are being utilized as well as DX10\u0027s ATI1/ATI2/BC4/BC5 formats, instead of DXT which has been used since D3D6... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\u003Cp\u003EObviously, if you are using a (high-end) DX11 card, you will get a good performance boost from utilizing all the new \u0022features\u0022 that D3D11 has to offer.\u003C/p\u003E\n"},{"CreatedByName":"djnattyd","CreatedById":63737,"CreatedDateTime":"2015-01-08T03:04:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Captain Sierra\u0022 data-cite=\u0022Captain Sierra\u0022\u003E\u003Cdiv\u003EThe quoted post is a testament to why we need Unity 5 STAT! Unity, get the job done, Squad needs it!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBest thing is, my GPU apparently only supports up to DX10 so DX11 shouldn\u0027t even be a possibility for me.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KrazyKrl\u0022 data-cite=\u0022KrazyKrl\u0022\u003E\u003Cdiv\u003EI think that forcing DirectX11 breaks so many things, that it causes KSP to not load a large chunk of what should be loaded. And inadvertently causes a reduced memory footprint because of the missing files.\u003Cp\u003EI really doubt DirectX11 has some magical \u0022half memory use\u0022 algorithm. It sounds like something is breaking internally.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe only thing that broke were the reentry and atmo effects. It even fixed my CTDs when switching scenes and I have a crap-ton of mods installed.\u003C/p\u003E\n"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-01-08T03:56:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022djnattyd\u0022 data-cite=\u0022djnattyd\u0022\u003E\u003Cdiv\u003E-snip-\u003Cp\u003EThe only thing that broke were the reentry and atmo effects. It even fixed my CTDs when switching scenes and I have a crap-ton of mods installed.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately, as I have a showcase website (which is shamelessly plugged in my sig, you guys should visit it), I cannot tolerate graphical errors like that not for personal preference, but because my screenshots are published on the web and need to look good. On my desktop, when I\u0027m running KSP on a PowerColor AXR9270 Radeon R9 270 GPU (I\u0027m gonna grab a second one and CrossfireX those bad boys at some point) I can run a 400 part Jool mission with Astronomer\u0027s Visual Pack: Edge of Oblivion, at 60FPS, and that\u0027s purely to show off on the website. Beautiful as it is, I can live without it to save on memory (I am running the AVP install 64 bit)\u003C/p\u003E\n"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-01-08T06:49:36Z","Content":"\n\u003Cp\u003ECreating the shortcut isn\u0027t working for me. Windows 8.1. When I add \u0022-force-d3d11\u0022 it says it cannot locate the target. Solutions anyone?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/X9li7n3.png\u0022 alt=\u0022X9li7n3.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E- When I hit next it says \u0022The file C:Users/----/Desktop/KSP cannot be found\u0022. Replacing the space with an underscore did nothing either... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-08T06:57:42Z\u0022 title=\u002201/08/2015 06:57  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 8, 2015\u003C/time\u003E by Avera9eJoe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-01-08T07:01:05Z","Content":"\n\u003Cp\u003EYou need to add a space before you add the force bit. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"helaeon","CreatedById":101767,"CreatedDateTime":"2015-01-08T12:15:10Z","Content":"\n\u003Cp\u003EI\u0027ve been running OpenGL on a GTX970 with Windows 8.1. It appears for me that DX11 uses more RAM, quite a bit more. 2.6 GB at the space center after loading my MunBase and take a Kerbal on EVA. If I do the same on OpenGL it\u0027s 1.9GB\u003C/p\u003E\u003Cp\u003EI notice though that DX11 seems to run better and it looks better (appears anti-aliasing works), but textures seem to load differently. I don\u0027t know if I\u0027d say better or worse, but the game does look different.\u003C/p\u003E\n"},{"CreatedByName":"DBT85","CreatedById":114980,"CreatedDateTime":"2015-01-08T12:53:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022djnattyd\u0022 data-cite=\u0022djnattyd\u0022\u003E\u003Cdiv\u003EThe only thing that broke were the reentry and atmo effects. It even fixed my CTDs when switching scenes and I have a crap-ton of mods installed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy exact same thoughts. On Tuesday before I tried this I think KSP just crashed to the desktop about 5 times (I was playing all day \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E). \u003C/p\u003E\u003Cp\u003EI didn\u0027t notice anything like that yesterday.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022helaeon\u0022 data-cite=\u0022helaeon\u0022\u003E\u003Cdiv\u003EI\u0027ve been running OpenGL on a GTX970 with Windows 8.1. It appears for me that DX11 uses more RAM, quite a bit more. 2.6 GB at the space center after loading my MunBase and take a Kerbal on EVA. If I do the same on OpenGL it\u0027s 1.9GB\u003Cp\u003EI notice though that DX11 seems to run better and it looks better (appears anti-aliasing works), but textures seem to load differently. I don\u0027t know if I\u0027d say better or worse, but the game does look different.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow many mods are you running that its at 2.6GB in DX11 in that scenario? Having looked at all the numbers myself that looks more like its a stock version rather than correctly with the right command.\u003C/p\u003E\u003Cp\u003ELook at my number a bit further up. In standard mode I\u0027m at about 2.6GB after launching a ship then going back to the KSC. About 22 mods. With the command running correctly that\u0027s down to 1.6GB in the same situation.\u003C/p\u003E\u003Cp\u003EEasiest test. Put an RT-10 SRB under a capsule and launch it. If the ship goes pink once you start getting atmospheric effects then you\u0027re in DX11.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-08T12:57:24Z\u0022 title=\u002201/08/2015 12:57  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 8, 2015\u003C/time\u003E by DBT85\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-01-08T14:03:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022vexx32\u0022 data-cite=\u0022vexx32\u0022\u003E\u003Cdiv\u003EYou need to add a space before you add the force bit. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that fixed it... but...\u003C/p\u003E\u003Cp\u003EHas anyone else gotten this sort of thing? Happened on boot up and I\u0027m not sure if it\u0027s because of my settings or if because of -force-d3d11.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/7vm2th6.jpg\u0022 alt=\u00227vm2th6.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-08T14:07:58Z\u0022 title=\u002201/08/2015 02:07  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 8, 2015\u003C/time\u003E by Avera9eJoe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2015-01-08T15:06:26Z","Content":"\n\u003Cp\u003EInteresting thread... my rig is usually pretty stable, I\u0027ll give it a go later tonight and see what happens \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-01-08T15:13:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Avera9eJoe\u0022 data-cite=\u0022Avera9eJoe\u0022\u003E\u003Cdiv\u003EI think that fixed it... but...\u003Cp\u003EHas anyone else gotten this sort of thing? Happened on boot up and I\u0027m not sure if it\u0027s because of my settings or if because of -force-d3d11.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/7vm2th6.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/7vm2th6.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThats *supposed* to happen.\u003C/p\u003E\u003Cp\u003EI guess thats a pretty relative statement, but that is a known compatibility issue with Unity 4 (which doesn\u0027t have full DX11 support). The lines on the SPH floor, launchpad, and some on the VAB will not load correctly. That is the result.\u003C/p\u003E\u003Cp\u003EThats one of the few graphical glitches that comes with forcing a render API that the engine does not 100% support.\u003C/p\u003E\n"},{"CreatedByName":"DBT85","CreatedById":114980,"CreatedDateTime":"2015-01-08T15:30:18Z","Content":"\n\u003Cp\u003EI wonder if its something to do with the textures used in those instances, because they look like specific textures areas that for whatever reason it can\u0027t render but can on DX9.\u003C/p\u003E\u003Cp\u003ELike on the Launch pad, its the scorch marks and pre baked shaded areas.\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-01-08T15:49:05Z","Content":"\n\u003Cp\u003EI\u0027m suspecting incompatible shaders for those issues, which is why I\u0027m wondering how hard it\u0027d be to replace Minmus with a model using a different shader.\u003C/p\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2015-01-08T15:50:13Z","Content":"\n\u003Cp\u003ETried it some time ago. On my system (i7-980X, 12 Gb RAM, GTX Titan) OpenGL actually saves more RAM on my current mod setup (2.4 in DX11, and 2.1 in OpenGL - note that these numbers are measured right after launching the game and loading my career save). Also, OpenGL seems to work smoother than DX11 (also, no black stripes or other visual bugs).\u003C/p\u003E\n"},{"CreatedByName":"DBT85","CreatedById":114980,"CreatedDateTime":"2015-01-08T15:50:51Z","Content":"\n\u003Cp\u003ENo AA on OpenGL though right?\u003C/p\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2015-01-08T15:58:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DBT85\u0022 data-cite=\u0022DBT85\u0022\u003E\u003Cdiv\u003ENo AA on OpenGL though right?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, there is no AA (although, I didn\u0027t try to force it via NV control panel - that might work).\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-01-08T16:15:56Z","Content":"\n\u003Cp\u003ENo shadows either. OGL had some horrible random slowdowns last time I tried it or I\u0027d probably be using it given how much I like Minmus...\u003C/p\u003E\n"},{"CreatedByName":"DBT85","CreatedById":114980,"CreatedDateTime":"2015-01-08T16:35:21Z","Content":"\n\u003Cp\u003EJust switch to OGL for anything on Minmus. It\u0027s a pain, but I can\u0027t look at a jaggy mess constantly.\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-01-08T16:55:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022biohazard15\u0022 data-cite=\u0022biohazard15\u0022\u003E\u003Cdiv\u003EYeah, there is no AA (although, I didn\u0027t try to force it via NV control panel - that might work).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENV Control panel will not give AA to openGL in my experience.\u003C/p\u003E\n"}]}