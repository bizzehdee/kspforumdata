{"TopicId":23847,"ForumId":32,"TopicTitle":"The trouble with Tribbles ... I mean ... with Mechjeb ... or not","CreatedByName":"Murchadh","CreatedById":57567,"CreatedDateTime":"2013-04-24T11:34:15Z","PageNum":1,"Articles":[{"CreatedByName":"Murchadh","CreatedById":57567,"CreatedDateTime":"2013-04-24T11:34:15Z","Content":"\n\u003Cp\u003ESo I have hit a slight snag and was wondering if I am missing something and would like some help.\u003C/p\u003E\u003Cp\u003EI built a 1200 ton launcher to carry big loads. Problem is that when I attach a load (say 100 tons), everything works fine until Mechjeb reaches Apoapsis. As soon as it starts to circularize the orbit the entire rocket assembly tilts slightly upward (moving away from prograde), then overcorrects downwards, then back up, then back down in ever increasing tilts... which leaves the final orbit (I was aiming for 75km) as something like AP=100\u002B and PE=40 something. (I tried multiple times and these last figures vary a lot). My TWR at Apoapsis is over 2 FYI.\u003C/p\u003E\u003Cp\u003EYesterday I built a somewhat smaller rocket (around 700 tons) to carry the same load (which it could manage) and the same thing happens. Now, my previous launcher could manage something like 70 tons and worked off the same principle (as in, I used the same construction method, only using smaller parts) and I never had this issue before.\u003C/p\u003E\u003Cp\u003EAm I missing something? Anyone experienced something similar? It may after all not be Mechjeb but some glaring error in my construction *shrug*\u003C/p\u003E\u003Cp\u003E(PS. I am using a load of mods, but the only things I used in these builds are Mechjeb, KW Rocketry parts and Quantum Struts I think)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-04-24T11:35:38Z\u0022 title=\u002204/24/2013 11:35  AM\u0022 data-short=\u002211 yr\u0022\u003EApril 24, 2013\u003C/time\u003E by Murchadh\u003C/strong\u003E\n\u003Cbr\u003ESpelling\n\u003C/span\u003E\n"},{"CreatedByName":"SalmonellaDingDong","CreatedById":57168,"CreatedDateTime":"2013-04-24T11:36:19Z","Content":"\n\u003Cp\u003ESo do it by hand?\u003C/p\u003E\n"},{"CreatedByName":"Will_hynes","CreatedById":46304,"CreatedDateTime":"2013-04-24T11:36:48Z","Content":"\n\u003Cp\u003EAll I can say is don\u0027t use mechjeb, doing it yourself is much more satisfactory in my opinion.\u003C/p\u003E\n"},{"CreatedByName":"ComradeGoat","CreatedById":59041,"CreatedDateTime":"2013-04-24T11:46:42Z","Content":"\n\u003Cp\u003EAh, replies to this remind me of that old joke:\u003C/p\u003E\u003Cp\u003E\u0022Doctor! Doctor! It hurts when I do this.\u0022\u003C/p\u003E\u003Cp\u003E\u0022Well don\u0027t do that, then.\u0022\u003C/p\u003E\n"},{"CreatedByName":"magnemoe","CreatedById":57801,"CreatedDateTime":"2013-04-24T12:02:19Z","Content":"\n\u003Cp\u003EYes, mechjeb has issues, her its that it don\u0027t align the ship before doing the circulation burn and a masive ship uses a long time to turn, one way is to use mechjeb for launch but turn off warp, add an node at AP and do the burn, you might use mechjeb circulate to get an rounder orbit then done, works well if the ship is aligned correctly.\u003C/p\u003E\n"},{"CreatedByName":"SunJumper","CreatedById":27062,"CreatedDateTime":"2013-04-24T12:04:18Z","Content":"\n\u003Cp\u003EWhy do you want to send 100 tons to LKO?\u003C/p\u003E\n"},{"CreatedByName":"Zacho","CreatedById":177,"CreatedDateTime":"2013-04-24T12:07:39Z","Content":"\n\u003Cp\u003ETry some fins or RCS and try turning off some of the engine gimbals if you have a lot. Too much control and it over reacts and get into a oscillation, too little control and it can have a hard time pushing it over, or push it over too far and into a spin. These things don\u0027t care if you are flying with MJ or hand, they both can mess up a large launcher.\u003C/p\u003E\n"},{"CreatedByName":"simonh","CreatedById":57952,"CreatedDateTime":"2013-04-24T12:08:59Z","Content":"\n\u003Cp\u003E\u0026gt;Why do you want to send 100 tons to LKO?\u003C/p\u003E\u003Cp\u003EWhy would you not want to send 100 tons to LKO?\u003C/p\u003E\u003Cp\u003ESimon Hibbs\u003C/p\u003E\n"},{"CreatedByName":"rosenkranz","CreatedById":57152,"CreatedDateTime":"2013-04-24T12:10:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SunJumper\u0022 data-cite=\u0022SunJumper\u0022\u003E\u003Cdiv\u003EWhy do you want to send 100 tons to LKO?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, all kinds of reasons. I can\u0027t seem to make anything useful that is under 60t.\u003C/p\u003E\u003Cp\u003ETo the OP, I\u0027d suggest more RCS thrusters and/or better balanced RCS. The problem is that jeb cant get the nose around to the node (and keep it there) in time for the burn so it\u0027s constantly trying to correct.\u003C/p\u003E\n"},{"CreatedByName":"Scotius","CreatedById":57622,"CreatedDateTime":"2013-04-24T12:41:50Z","Content":"\n\u003Cp\u003EIf you have enough fuel try to run your engine(s) at very low thrust, sometimes this additional power helps stabilise huge tilting rockets. Also, how long your craft is? Very long, slim rockets tend to be almost uncontrollable when they start to spin around. You can burn 2\\3 of your monopropellant and hopelessly miss apoapsis before you get such craft under control.\u003C/p\u003E\n"},{"CreatedByName":"HoY","CreatedById":57294,"CreatedDateTime":"2013-04-24T12:53:06Z","Content":"\n\u003Cp\u003EYou people replying saying Jeb is at fault must not have tried the new one. It aligns with its node before it warps to apoapsis now so doesn\u0027t have to chase it when it needs to burn on it. I was having a very similar problem with one of my 170t payloads all day yesterday. The lifting stage worked perfectly but then when I dumped it and tried to burn for my intercept at 500km the ship pulled off in one direction. I figured it out somewhat. I had a 6 nuke stage that Pulled the payload rather than pushed it, and I think I had a ghost part in line with one of the engines on the payload, causing a thrust imbalance. I disabled that engine and its opposite counterpart and the thrust problem was fixed. I still refused to fly it like that so just dumped the payload where it was and de orbited the transfer vehicle. I then did the same thing 4 more times. Once I figure out what the exact problem was ill go pull them all to their destination. May be as simple as just putting the engines slightly farther out from the ship.\u003C/p\u003E\n"},{"CreatedByName":"psuryan","CreatedById":60563,"CreatedDateTime":"2013-04-24T12:53:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zacho\u0022 data-cite=\u0022Zacho\u0022\u003E\u003Cdiv\u003ETry some fins or RCS and try turning off some of the engine gimbals if you have a lot. Too much control and it over reacts and get into a oscillation, too little control and it can have a hard time pushing it over, or push it over too far and into a spin. These things don\u0027t care if you are flying with MJ or hand, they both can mess up a large launcher.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have found that for large craft, the issue is having to many engine gimbles. It just starts the craft swaying back and forth or rolling. For me, disabling all but 1 or 2 mainsail gimbles usually fixes the problem.\u003C/p\u003E\u003Cp\u003EIt also sound like your rocket may need a few extra SAS modules. It may not be turning over fast enough. It has to turn to prograde in 30 seconds if you let mechjeb time warp. \u003C/p\u003E\u003Cp\u003EThe other things is that mechjeb will point it a bit nose down when circularizing the orbit. The pulls the Pe up while keeping the Ap constant. Otherwise, as you pass your Ap point by more than a few seconds, a long burn will also raise the Ap. This down angle keeps moving, making mechjeb do more work, adding more error at times. you can use mechjeb to just keep the craft pointed prograde, and do the burn yourself. you may end up with a small error at the end, say a few km above your desired Ap. Just use the circularize option to fix it this rough orbit, this short burn should not have enough time to cause any errors. \u003C/p\u003E\u003Cp\u003EAnd one last fix. If is starts to wobble way off course, disable mechjeb autopilot, hit the prograde button until you are lined back up, and reengage autopilot. 50/50 shot this will work, I have found sometime mechjeb just needs to get itself reoriented after starting the gravity turn. \u003C/p\u003E\u003Cp\u003EBut yeah, preferably, add more SAS to your lower stages, so you lose the weight when you drop the tanks. Then on launch, disable the gimble on all but 1 or 2 mainsails.\u003C/p\u003E\n"},{"CreatedByName":"magnemoe","CreatedById":57801,"CreatedDateTime":"2013-04-24T13:24:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rosenkranz\u0022 data-cite=\u0022rosenkranz\u0022\u003E\u003Cdiv\u003EOh, all kinds of reasons. I can\u0027t seem to make anything useful that is under 60t.\u003Cp\u003ETo the OP, I\u0027d suggest more RCS thrusters and/or better balanced RCS. The problem is that jeb cant get the nose around to the node (and keep it there) in time for the burn so it\u0027s constantly trying to correct.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyes activating RCS then mechjeb leaves warp and turn it off then its done turning would probably solve this. has this issue myself with an huge rocket who deliver 150 ton spare parts. so I need to turn 270 ton, during circulation I drop the main stage leaving just the 200 ton upper stage.\u003C/p\u003E\n"},{"CreatedByName":"HoY","CreatedById":57294,"CreatedDateTime":"2013-04-24T13:27:07Z","Content":"\n\u003Cp\u003ESAS doesn\u0027t help with torque. It only helps stop your ship from rotating which isn\u0027t the problem here. Also with mechjeb turned on and even with the \u0022use asas if available\u0022 option turned on, it rarely uses it. And SAS modules are only active when toggled.\u003C/p\u003E\n"},{"CreatedByName":"HoY","CreatedById":57294,"CreatedDateTime":"2013-04-24T13:28:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magnemoe\u0022 data-cite=\u0022magnemoe\u0022\u003E\u003Cdiv\u003Eyes activating RCS then mechjeb leaves warp and turn it off then its done turning would probably solve this. has this issue myself with an huge rocket who deliver 150 ton spare parts. so I need to turn 270 ton, during circulation I drop the main stage leaving just the 200 ton upper stage.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAgain, mechjeb aligns Before warp now, not after. It solves 90% of the problem most of you are suggesting.\u003C/p\u003E\n"},{"CreatedByName":"Murchadh","CreatedById":57567,"CreatedDateTime":"2013-04-24T13:54:35Z","Content":"\n\u003Cp\u003EThanks for all the replies.\u003C/p\u003E\u003Cp\u003EYes, why would I like to send 100t into orbit? Lol, as Simon said, why not? There are several reasons, two which are notable. ONE: I am building a very large interplanetary craft that cannot make it into orbit by itself. Hence I built it in three sections, to be assembled in space (docked). The forward module and the engine module is no problem, but I have had big problems getting the fuel module in orbit. The launcher I previously used just did not have enough oomph and when I reconfigured it by adding more boosters I got severely degraded performance due to the part count. Hence I figured I\u0027d build a bigger rocket that could lift the same mass but with fewer parts. TWO: I reconfigured the fuel module for that ship into a self-propelled probe/satellite that has just under 10000 dV. It weighs well over 100t initially but sheds fuel tanks radially during flight.\u003C/p\u003E\u003Cp\u003EI tried several things. More SAS, more RCS, gimballing on/off ... (I manually controlled all these during several stages of flight). I tried the new Mechjeb as well. I even changed the rocket somewhat by shortening the last stage to see if length was the issue. I also tried adding small puller engines forward of the CoM. I am thinking at this point Mechjeb just cannot handle very large rockets...\u003C/p\u003E\u003Cp\u003E...because I CAN do the launch reasonably well myself. I get a smallish error sometimes myself (something like AP=80 and PE=70) which I correct after the initial burn. Like I said, I can do launches pretty well without MJ ...\u003C/p\u003E\u003Cp\u003E...OR (and this might be a distinct possibility) it is not currently possible to move that much mass using a \u0022simple\u0022 single stage because the thrust/mass does not \u0022compute\u0022 with the current crop of engines. On my previous launcher, instead of using the most powerful single engine, I used a whole heap of 1.25m engines placed radially. That worked marvellously (and COULD lift the exact same 100t payload with MJ totally fine), but the part count!!! Actually this gave me an idea... maybe I just need more thrust, i.e. more boosters during the launch phase so that some of the boosters make it to AP.\u003C/p\u003E\u003Cp\u003E@Hoy, Alignment isn\u0027t the problem ... the last iteration of the craft has 3000 units of RCS and 20 RCS Thrusters ... it gets aligned before warp and stays aligned all the way until AP. Unless I am misunderstanding what you mean with \u0022alignment\u0022.\u003C/p\u003E\u003Cp\u003EAgain, thanks for the advice.\u003C/p\u003E\u003Cp\u003EEDIT: Rosenkranz mentioned something ... off to go check if that is my problem (I WAS sure it wasn\u0027t but now I am having second thoughts).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-04-24T13:56:52Z\u0022 title=\u002204/24/2013 01:56  PM\u0022 data-short=\u002211 yr\u0022\u003EApril 24, 2013\u003C/time\u003E by Murchadh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Deadpangod3","CreatedById":58339,"CreatedDateTime":"2013-04-24T14:02:17Z","Content":"\n\u003Cp\u003EMech Jeb botched my mun landing yesterday, I told it to land just to the north of a large crater, so I could see a munar arch, and it decided to time warp all the way around the mun and land WAY off target, like nowhere near the crater, and I noticed after I landed that there was the same target marker That mech jeb uses for landing, on the other side of the mun from where I told it to land, and it was blue, and if I hadn\u0027t taken over the landing, mech Jeb would have taken forever and wasted tons of fuel swinging back and forth doing very short bursts, though it took off from Kerbin perfectly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E scared the heck out of me a few times like when it turned so much I thought it was going outta control, but it was fine XD\u003C/p\u003E\n"},{"CreatedByName":"Tw1","CreatedById":59717,"CreatedDateTime":"2013-04-24T14:26:57Z","Content":"\n\u003Cp\u003EI don\u0027t let Mechjeb handle anything but the vertical accent and most of the gravity turn.\u003C/p\u003E\u003Cp\u003E I take a risk reduction approach and attempt to achieve orbit with the same burn as lift off. \u003C/p\u003E\u003Cp\u003EI\u0027ve lost too many ships because they fell back into the atmosphere before accelerating enough to achieve orbit, when waiting till the apoapsis. \u003C/p\u003E\u003Cp\u003EDoes the problem only happen with the accent autopilot? \u003C/p\u003E\u003Cp\u003ETry using the Smart ASS. If that keeps oscillating, perhaps you could turn it off when the ship\u0027s pointed in the right direction, and use regular ASAS instead. \u003C/p\u003E\u003Cp\u003ESometimes it works better.\u003C/p\u003E\u003Cp\u003EMechjeb makes a good copilot, but I like to leave it at that.\u003C/p\u003E\n"},{"CreatedByName":"SteevyT","CreatedById":6183,"CreatedDateTime":"2013-04-24T14:28:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SunJumper\u0022 data-cite=\u0022SunJumper\u0022\u003E\u003Cdiv\u003EWhy do you want to send 100 tons to LKO?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll have to double check, but I think I have a miner that is over 100 tons when I hit LKO.\u003C/p\u003E\n"},{"CreatedByName":"Deadpangod3","CreatedById":58339,"CreatedDateTime":"2013-04-24T14:31:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tw1\u0022 data-cite=\u0022Tw1\u0022\u003E\u003Cdiv\u003EI don\u0027t let Mechjeb handle anything but the vertical accent and most of the gravity turn.\u003Cp\u003E I take a risk reduction approach and attempt to achieve orbit with the same burn as lift off. \u003C/p\u003E\u003Cp\u003EI\u0027ve lost too many ships because they fell back into the atmosphere before accelerating enough to achieve orbit, when waiting till the apoapsis. \u003C/p\u003E\u003Cp\u003EDoes the problem only happen with the accent autopilot? \u003C/p\u003E\u003Cp\u003ETry using the Smart ASS. If that keeps oscillating, perhaps you could turn it off when the ship\u0027s pointed in the right direction, and use regular ASAS instead. \u003C/p\u003E\u003Cp\u003ESometimes it works better.\u003C/p\u003E\u003Cp\u003EMechjeb makes a good copilot, but I like to leave it at that.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk... I\u0027ll try that, once I figure out how to use it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Spanier","CreatedById":57247,"CreatedDateTime":"2013-04-24T14:36:27Z","Content":"\n\u003Cp\u003EMechJeb is especially useful if you have a very short delta-V contingent.\u003C/p\u003E\u003Cp\u003EFor my upcoming Heimdallr and Loki Programs, I also specify MechJeb ascent values as a point of reference. For instance, the energy cushion of Loki I will amount to to 40 m/s, if your ascent needs more delta-V, you won\u0027t reach the M\u00C3\u0192\u00C2\u00BCn.\u003C/p\u003E\n"},{"CreatedByName":"Deadpangod3","CreatedById":58339,"CreatedDateTime":"2013-04-24T14:43:44Z","Content":"\n\u003Cp\u003EMech Jeb also tried to crash me into the mun\u003C/p\u003E\n"},{"CreatedByName":"Tw1","CreatedById":59717,"CreatedDateTime":"2013-04-24T14:58:30Z","Content":"\n\u003Cp\u003EIt\u0027s Mech\u003Cstrong\u003EJeb\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EReally what should we expect?\u003C/p\u003E\u003Cp\u003ESmart ASS is pretty simple, it steers your ship in a certain direction for you. You can set it to prograde or retrograde, etc, or program in a heading and a pitch for it to point your ship to.\u003C/p\u003E\n"},{"CreatedByName":"Murchadh","CreatedById":57567,"CreatedDateTime":"2013-04-24T15:04:31Z","Content":"\n\u003Cp\u003E@Spanier: Yip, the ascent values occurred to me just minutes ago. I suddenly realized that I have too much to do when getting to AP using the standard trajectory. \u0026lt;---making me feel pretty dumb for not noticing this earlier. Testing different values now.\u003C/p\u003E\n"},{"CreatedByName":"Spanier","CreatedById":57247,"CreatedDateTime":"2013-04-24T15:13:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Deadpangod3\u0022 data-cite=\u0022Deadpangod3\u0022\u003E\u003Cdiv\u003EMech Jeb also tried to crash me into the mun\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s a feature, not a bug.\u003C/p\u003E\n"}]}