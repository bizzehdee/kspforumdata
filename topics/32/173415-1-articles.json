{"TopicId":173415,"ForumId":32,"TopicTitle":"parabolic trajectories in KSP","CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2018-04-03T06:18:07Z","PageNum":1,"Articles":[{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2018-04-03T06:18:07Z","Content":"\n\u003Cp\u003E\nWhy KSP engine doesn\u0027t support\u00A0parabolic trajectories? (You can try to put e = 1 into HyperEdit and see disappearing ship)\n\u003C/p\u003E\n\u003Cp\u003E\nWhat meaning of negative Apoapsis? I understand what it is about\u00A0\u003Cspan style=\u0022background-color:#ffffff;color:#222222;font-size:14px;\u0022\u003Ehyperbolic trajectories, but still, what its physical meaning?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#222222;font-size:14px;\u0022\u003E\u00A0 lim\u00A0 \u00A0\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E = \u002B\u221E\u00A0 \u00A0 \u00A0 \u00A0\u003Cbr\u003E\ne \u2192 1\u207B\u003Cbr\u003E\u003Cbr\u003E\n\u00A0 lim\u00A0 \u00A0\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E = \u2212\u221E\u00A0 \u00A0 \u00A0 \u00A0\u003Cbr\u003E\ne \u2192 1\u207A\u003Cbr\u003E\u003Cbr\u003E\nIt is the reason why you get NaN if you put e = 1, but something wrong there. How it works in big science?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-03T06:26:41Z\u0022 title=\u002204/03/2018 06:26  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 3, 2018\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2018-04-03T15:30:26Z","Content":"\n\u003Cp\u003E\nHyperEdit is not a part of KSP, it\u0027s a mod, with its own limits and behavior.\u003Cbr\u003E\nKSP definitely supports any patched conics orbits, including para- and hyperbolic ones.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat it doesn\u0027t support from box \u2014\u00A0Lagrange points.\n\u003C/p\u003E\n\u003Cp\u003E\nIf \u0022Apoapsis\u0022 value indicates\u00A0altitude, rather than\u00A0radius, then it can be negative (i.e. underground).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-03T15:31:56Z\u0022 title=\u002204/03/2018 03:31  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 3, 2018\u003C/time\u003E by kerbiloid\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-04-03T16:26:55Z","Content":"\n\u003Cp\u003E\nMoving to KSP Discussion.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223343449\u0022 data-ipsquote-contentid=\u0022173415\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522736287\u0022 data-ipsquote-userid=\u0022181486\u0022 data-ipsquote-username=\u0022flart\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, flart said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhy KSP engine doesn\u0027t support\u00A0parabolic trajectories?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe thing to bear in mind about a parabolic trajectory is that, properly speaking, it can only happen if net energy is \u003Cem\u003E\u003Cu\u003Eexactly\u003C/u\u003E\u003C/em\u003E zero.\u00A0 I mean, \u003Cem\u003E\u003Cu\u003Eexactly\u003C/u\u003E\u003C/em\u003E.\u00A0 If it\u0027s even 0.00000000000001 erg negative, then you\u0027ve got a (very eccentric) ellipse.\u00A0 If it\u0027s even 0.00000000000001 erg positive, you\u0027ve got a hyperbola.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, a \u003Cem\u003Eparabolic\u003C/em\u003E trajectory is an interesting mathematical abstraction, but in practice it never comes up.\u00A0 (Especially since \u0022exactly\u0022 is a concept that doesn\u0027t work well on computers, whose representation of floating-point numbers has necessarily finite precision.)\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know how they\u0027ve coded the internals of KSP, but clearly their orbit-calculation-and-drawing code is going to need to have an \u0022inflection point\u0022 in it-- i.e. \u0022below this point it\u0027s an ellipse, above this point it\u0027s a hyperbola\u0022.\u00A0 Those kinds of inflection points often spell trouble for software, because you can end up with weird, buggy-looking behavior when a system is straddling microscopically close to the boundary, with the result that you get weird \u0022flickery\u0022 behavior as the system oscillates between the two.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223343449\u0022 data-ipsquote-contentid=\u0022173415\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522736287\u0022 data-ipsquote-userid=\u0022181486\u0022 data-ipsquote-username=\u0022flart\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, flart said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(You can try to put e = 1 into HyperEdit and see disappearing ship)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhich is a perfect example of software having trouble with boundary conditions.\u00A0 I don\u0027t know anything about how HyperEdit is implemented (or how the KSP code deals with the result), but I wouldn\u0027t be surprised if, by doing that, you end up causing a divide-by-zero error somewhere in the code. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nTherefore, in general the way one handles that sort of thing in code is to put some sort of \u0022safety margin\u0022 around the inflection point, so that the system won\u0027t transition from state A to state B unless/until it goes a smidgeon \u003Cem\u003E\u003Cu\u003Epast\u003C/u\u003E\u003C/em\u003E the boundary-- that way you don\u0027t get flickering if there\u0027s a microscopic oscillation (which there always is).\n\u003C/p\u003E\n\u003Cp\u003E\nLike I said, I don\u0027t know how they \u003Cem\u003E\u003Cu\u003Edid\u003C/u\u003E\u003C/em\u003E code it, but that\u0027s how \u003Cem\u003E\u003Cu\u003EI\u003C/u\u003E\u003C/em\u003E would code it, if I were writing it.\u00A0 And if that\u0027s the case, that would have the deliberate effect of preventing a state that sits perfectly \u003Cem\u003E\u003Cu\u003Eon\u003C/u\u003E\u003C/em\u003E the boundary, in order not to get that buggy-looking behavior.\n\u003C/p\u003E\n\u003Cp\u003E\nIn other words:\u00A0 not only is a perfectly parabolic trajectory never going to come up in practice, but I\u0027d be surprised if the code doesn\u0027t explicitly have some sort of safeguards specifically to \u003Cem\u003E\u003Cu\u003Eprevent\u003C/u\u003E\u003C/em\u003E anything from sitting too close to that boundary.\n\u003C/p\u003E\n"},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2018-04-03T18:12:37Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125662\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0022 rel=\u0022\u0022\u003E@Snark\u003C/a\u003E\u00A0As per your usual, educational as heck. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}