{"TopicId":110315,"ForumId":32,"TopicTitle":"PSA: Solar panels generate less power in atmospheres","CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T00:59:47Z","PageNum":1,"Articles":[{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T00:59:47Z","Content":"I\u0027ve seen some threads talking about how solar panels now obey the inverse power law. I haven\u0027t seen anything about how they now produce less power in an atmosphere.\n\nHere\u0027s a gigantor XL in Kerbin orbit:\n\n![uReTi54.jpg](http://i.imgur.com/uReTi54.jpg)\n\nIt\u0027s aligned as best as possible for the 1.00 sun exposure, and produces 25.94 (whatever units). Here is a gigantor on the runway (forgot to switch off NavHud, ignore the green line down the middle):\n\n![RJtJTmw.jpg](http://i.imgur.com/RJtJTmw.jpg)\n\nIt should be perfectly aligned since I placed the panels East-West. Sun exposure is still 1.00, but produces 21.62 whatevers. But wait, there\u0027s more! Here\u0027s the same craft at sunset:\n\n![VPQMOB6.jpg](http://i.imgur.com/VPQMOB6.jpg)\n\nStill a 1.00 sun exposure, but now only produces 6.14 whatevers. In my 0.90 save the panel generates 18.0 whatevers in all three cases.\n\nThis is how it works in real life too, the air absorbs some of the light energy leaving less energy flux at the surface. At sunrise/sunset the light must travel at a shallower angle through the atmosphere, and therefore takes a longer path. Passing through more air means more is absorbed before it reaches the surface, giving even less flux. Now I know why my Duna lander couldn\u0027t support the Remote Tech uplink on the surface when it was fine in space ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif).\n\nThese screenshots were taken in my modded install, but I\u0027ve confirmed the effect on a pure stock install as well."},{"CreatedByName":"Zyffyr","CreatedById":138032,"CreatedDateTime":"2015-05-22T01:12:45Z","Content":"Nice info/testing."},{"CreatedByName":"DarkGravity","CreatedById":143383,"CreatedDateTime":"2015-05-22T01:17:33Z","Content":"Good to know!"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-05-22T07:38:41Z","Content":"Probably temperature-related. Solar panel power output scales with the panel\u0027s temperature, and the atmosphere at Kerbin sea level at the equator is much warmer than space.\n\nHit Alt\u002BF12 and activate the display of thermal properties in action menus, and then compare?"},{"CreatedByName":"SpaceChipmunk","CreatedById":142023,"CreatedDateTime":"2015-05-22T08:04:11Z","Content":"Could be temperature. Maybe atmospheric scattering??? Bit of a stab in the dark as to whether that is modelled or not?"},{"CreatedByName":"DarkGravity","CreatedById":143383,"CreatedDateTime":"2015-05-22T08:13:26Z","Content":"If it is temperature, see how they perform at night. \n\nIt\u0027s cooler at night."},{"CreatedByName":"SpaceChipmunk","CreatedById":142023,"CreatedDateTime":"2015-05-22T08:16:06Z","Content":"\u003E \n\u003E If it is temperature, see how they perform at night. \n\u003E It\u0027s cooler at night.\n\nIt is also a lot darker from a solar panel point of view. ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)"},{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T13:36:55Z","Content":"\u003E \n\u003E Probably temperature-related. Solar panel power output scales with the panel\u0027s temperature, and the atmosphere at Kerbin sea level at the equator is much warmer than space.\n\n\u003E \n\u003E Could be temperature. Maybe atmospheric scattering??? Bit of a stab in the dark as to whether that is modelled or not?\n\nInteresting, hadn\u0027t considered temperature. Just did a quick test with the temperature showing as well. Fortunately the numbers update in time warp. I used the same craft on the runway.\n\nFirst of all, the temperature variation throughout the day is around 10 degrees, not all that much. In the morning the panels are cool and warming up. As the panels warm the energy flow goes up. About an hour before the sun is straight up the panels start to cool but the energy flow continues to rise. After the sun is directly overhead the energy flow and temperature are both falling until night.\n\nI noticed the temperature jumped a bit when beginning time warp, around 2-3 degrees, so I let it settle to equilibrium at 1x a few times during the day. The same general trend was observed, the energy flow would increase from morning to noon, but the temperature would first rise, then fall. I believe it\u0027s cooling near noon since the central tank is absorbing less heat as the sun hits it directly above, and it\u0027s also shaded on top by the probe core. This gives the heat from the panels somewhere to go. I also paid close attention to the minimum and maximum this time. Just before the sun sets/after it rises the energy flow dips as low as 1.41, while it\u0027s 21.66 at max (sun directly overhead).\n\nSo, it seems the energy flow has more going on than temperature and distance. Plus, I have a hard time believing a change of around 10-15 degrees would change the energy flow by so much. Atmospheric scattering is about all I can think of."},{"CreatedByName":"Korizan","CreatedById":142032,"CreatedDateTime":"2015-05-22T13:49:33Z","Content":"Clouds - I know they are not shown but solar panels do have to deal with them and atmosphere scattering (dust / dirt on the panels and in the atmosphere and the sky is blue after all).\n\nTemperature is should not be an issue on the planet.\n\n**Edited \u003Ctime datetime=\u00222015-05-22T13:57:09Z\u0022 title=\u002205/22/2015 01:57  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 22, 2015\u003C/time\u003E by Korizan**"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-05-22T14:11:06Z","Content":"If it were temperature, you\u0027d expect them to produce less at mid day... but they produce less when the sun is low on the horizon (although I have no idea how well KSPs temperature system models this).\n\nDo the same experiment, but with Eve!\n\nMaybe my electric ducted fan plane won\u0027t fly so well there :/\n\nMore gravity means more power is needed... if the power/gravity ratio is less than for Duna (which the design can barely fly at)... the plane is doomed, and I\u0027ll have to buff my mod-part ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T14:17:46Z","Content":"\u003E \n\u003E Clouds - I know they are not shown but solar panels do have to deal with them and atmosphere scattering (dust / dirt on the panels and in the atmosphere and the sky is blue after all).\n\u003E Temperature is should not be an issue on the planet.\n\nThanks to a mod, I do have clouds ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif). This works in pure stock as well however.\n\nI\u0027m sure you were talking about real life though, in which case you\u0027re absolutely correct. Clouds will of course reduce power, and even a panel that tracks the sun will see a rise and fall of power through the day, depending on the amount of atmosphere the light passes through. Temperature is negligable next to both these effects.\n\nSome numbers from real life, for those interested. In space there is about 1,500 W/m^2 (Watts per meter squared) of sunlight. Where I live, around 45 degrees north latitude, the peak power at the sun\u0027s zenith (in the summer) is just under 1,000 W/m^2. This number would be higher near the equator."},{"CreatedByName":"Tex","CreatedById":75164,"CreatedDateTime":"2015-05-22T14:18:07Z","Content":"Ah, good to know! I never really gave it a thought until now... I love this system!"},{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T14:22:40Z","Content":"\u003E \n\u003E Do the same experiment, but with Eve!\n\u003E Maybe my electric ducted fan plane won\u0027t fly so well there :/\n\nI don\u0027t have time to try this until after work, but I\u0027m curious as well. Eve is also much closer to the sun, so now that the inverse square law is properly modeled you might be okay, it\u0027s hard to say how much different the power output would be. I\u0027d also like to see if this changes with altitude."},{"CreatedByName":"MarkusF","CreatedById":142152,"CreatedDateTime":"2015-05-22T16:15:47Z","Content":"I have an unmanned lander on Eve, so I gave it a try.\n\nWhen the sun comes in vertically (mid-day) the small 1x6 panels bring a power of 0.96 at 0.98 exposure. So it\u0027s safe to safe, they bring 1 when full exposed to the sun.\n\nIn the evening power output went down to 0.06 at 0.87 exposure before the sun had been blocked by Eve.\n\nI don\u0027t have small panels in Eve\u0027s orbit right now, but the gigantor panels have an output of 43 when fully exposed to the sun in orbit."},{"CreatedByName":"bitbucket","CreatedById":6676,"CreatedDateTime":"2015-05-22T17:35:45Z","Content":"For comparison, now we need to run a similar test on a body with no atmosphere (Mun or Minmus should do) and see if the same effect happens."},{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T18:00:41Z","Content":"I have a lander on Ike already, so I checked it out. Unfortunately I botched the landing so it\u0027s on its side and I can\u0027t get good alignment. I found at local \u0022noon\u0022 I got 0.74 energy flow with 1.00 exposure on a 1x6 panel (non-retractable). I next checked when the sun exposure was 0.50, which turned out to be near sunset, and got 0.37 energy flow. If we assume energy flow varies linearly with exposure (seems reasonable) this would indicate no change in power due to the sun being low, as I get half the energy flow at half the exposure."},{"CreatedByName":"Starwhip","CreatedById":83990,"CreatedDateTime":"2015-05-22T18:05:49Z","Content":"\u003E \n\u003E If it is temperature, see how they perform at night. \n\u003E It\u0027s cooler at night.\n\n\u003E \n\u003E It is also a lot darker from a solar panel point of view. ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)\n\n:facepalm:\n\nThis is some interesting info, thanks for sharing!"},{"CreatedByName":"Spatzimaus","CreatedById":57215,"CreatedDateTime":"2015-05-22T19:09:08Z","Content":"\u003E \n\u003E I have an unmanned lander on Eve, so I gave it a try.\n\nSo do I. My little lander (nothing but a probe core, a small parachute, a 0.625m inline battery, four of the lightest legs, a thermometer, and an antenna) has four OX-STATs placed around the sides. Obviously these can\u0027t track the Sun, so they\u0027re not useful for this sort of test, but I was amazed to see how little energy they produced even at the optimum times of day. It took hours to refill the batteries from even a single thermometer reading.\n\n-------------\n\nAs to the astrophysics of this, it\u0027s pretty realistic if you look at total solar energy. On Earth, the Sun produces 1367 W/m^2 of energy. When directly overhead, about 83% gets through the atmosphere. Three hours before or after (45 degrees off-angle) and you\u0027re down to about 80% of THAT amount, i.e. 65ish%. Five hours before or after the peak (75 degrees off, or 15 degrees above the horizon) and you\u0027re down to about 25% of the total amount (30% of the in-atmosphere peak). The Kerbin numbers in the OP match this almost exactly, and it does explain Eve\u0027s horrible surface numbers (very thick atmosphere), which makes yet another reason to ditch solar panels and use RTGs as soon as you can.\n\nThe catch is, solar panels don\u0027t absorb every wavelength of light equally well. Like a lot of other things (mirrors, digital cameras, the human eye, etc.), you\u0027d want something that was optimized for the types of radiation that do get through our atmosphere with less absorption, i.e. visible light, radio waves, and to a lesser extent infrared. So, the amounts might actually go up quite a bit depending on the chemistry involved, especially as you approach sunset. Although, this\u0027d be different for other planets with different atmospheres, so unless we want to assume the panels are \u0022tuned\u0022 for each body\u0027s particular absorption spectrum we should probably just stick with the numbers we have now.\n\nStill, it\u0027s yet another example of how the devs have done their physics homework."},{"CreatedByName":"bitbucket","CreatedById":6676,"CreatedDateTime":"2015-05-22T19:32:18Z","Content":"Took some Gigantor XL panels to the Mun.\n\n![TnFM7Cr.png](http://i.imgur.com/TnFM7Cr.png)\n\nEarly morning landing.\n\n![rJs93Bp.png](http://i.imgur.com/rJs93Bp.png)\n\nMidday high sun.\n\n![NFPwFt7.png](http://i.imgur.com/NFPwFt7.png)\n\nLate evening.\n\n![CRBVxOo.png](http://i.imgur.com/CRBVxOo.png)\n\nThe last glimmers of twilight.\n\n![0prtXT7.png](http://i.imgur.com/0prtXT7.png)\n\nAnd it\u0027s gone.\n\nOutput stayed around 26 right until sunset. I think we can confirm atmospheric extinction is a thing that is."},{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T19:37:56Z","Content":"That looks good bitbucket, and the variations are small enough that they could easily be attributed to temperature."},{"CreatedByName":"vicwarrior","CreatedById":120410,"CreatedDateTime":"2015-05-22T19:39:25Z","Content":"Just to make sure, can someone test if solar panels produce more power if you heat them up, with a lets say, a few nukes?\n\nIt is probably just atmospheric extinction, which is anyways a very nice detail from Squad."},{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T19:41:26Z","Content":"\u003E \n\u003E Still, it\u0027s yet another example of how the devs have done their physics homework.\n\nThis. So much this. When I couldn\u0027t transmit my pile of science from Duna, well, \u0022ragequit\u0022 is the word that comes to mind. After I calmed down and really investigated I was pleased to find this was the reason rather than some bug. Just need to plan accordingly next time."},{"CreatedByName":"Spatzimaus","CreatedById":57215,"CreatedDateTime":"2015-05-22T20:03:08Z","Content":"\u003E \n\u003E That looks good bitbucket, and the variations are small enough that they could easily be attributed to temperature.\n\nMore likely, it\u0027s that the aiming isn\u0027t perfect. To keep the internal simulation running at a reasonable speed, they probably do things like have the solar panels stick to integer numbers of degrees of rotation, and there\u0027s probably some rounding on the solar angles as well. So, even though it says 1.00 Exposure, it might be varying by a percent or so simply based on the fact that internally it\u0027s actually varying from 0.995 to 1.005 (yes, I know it\u0027s physically impossible to go above 1.00, but internal rounding CAN do that). That\u0027d explain the 1% variation seen in those shots."},{"CreatedByName":"Volix","CreatedById":144192,"CreatedDateTime":"2015-05-22T20:09:32Z","Content":"\u003E \n\u003E Just to make sure, can someone test if solar panels produce more power if you heat them up, with a lets say, a few nukes?\n\nWhat kind of scientist would I be if I left a variable unchecked? So another quick test. Of course it takes some time for things to heat up, so the sun has moved from screenshot to screenshot, but not all that much.\n\n![Xr2sORW.jpg](http://i.imgur.com/Xr2sORW.jpg)\n\n![IMjXxhg.jpg](http://i.imgur.com/IMjXxhg.jpg)\n\n![rw8VicL.jpg](http://i.imgur.com/rw8VicL.jpg)\n\n![QShLsd7.jpg](http://i.imgur.com/QShLsd7.jpg)\n\nThe panels clearly lose efficiency as they heat, much more than I expected in fact. However, in my previous test held in thermal equilibrium the temperature never rose above ~320 and I saw the energy flow dip as low as 1.5 right at sunset. The panels would probably blow up before the efficiency dropped to those levels from heat alone.\n\nEDIT: A little off topic, but as a new member to the forum I\u0027ve greatly enjoyed this discussion. I haven\u0027t thought this much about KSP since my time played was in the double digits. Thanks everyone! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-22T20:24:07Z\u0022 title=\u002205/22/2015 08:24  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 22, 2015\u003C/time\u003E by Volix**"},{"CreatedByName":"sj176","CreatedById":138287,"CreatedDateTime":"2015-05-22T22:33:15Z","Content":"Interesting. I\u0027d imagine that\u0027s how it should be."}]}