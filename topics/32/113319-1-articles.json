{"TopicId":113319,"ForumId":32,"TopicTitle":"Converting orbit data formats (peri/aps/inc to sma/ecc/inc/lpe/lan etc)","CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T12:30:22Z","PageNum":1,"Articles":[{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T12:30:22Z","Content":"\n\u003Cp\u003ESo I\u0027ve got a project I\u0027m working on and need some conversion assistance.\u003C/p\u003E\u003Cp\u003ELong story short - custom contracts to put things in specific orbits. In order to get the orbital profiles to show up in the big-picture \u0022M\u0022 view I need to define them in the following format:\u003C/p\u003E\u003Cp\u003E(This is just some example data)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESMA = 1449999.99996286\u003Cbr\u003EECC = 1.07570816555399E-05\u003Cbr\u003EINC = 0\u003Cbr\u003ELPE = 270.690311604893\u003Cbr\u003ELAN = 1.93635924563296\u003Cbr\u003EMNA = 1.55872660382504\u003Cbr\u003EEPH = 31.3999999999994\u003Cbr\u003EREF = 1\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich, I believe, is how the save file stores them?\u003C/p\u003E\u003Cp\u003EWhat I have now for the orbits (which I have on paper) is more basic : \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EApo 200km\u003Cbr\u003EPeri 640km\u003Cbr\u003EIncl 13\u003Cbr\u003EEcc 0.04\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMost of the other values (like where over the body the periaps is, etc) are unimportant for my purposes. \u003C/p\u003E\u003Cp\u003EI\u0027ve had a small amount of luck using hyperedit (as suggested by nightinggale), which can at least print these values out for me on the screen, but I haven\u0027t had a lot of luck figuring out how to plug simple aps/peri/inc/ecc info into hyperedit to throw something into that specific orbit THEN get the more verbose stats. I realize hyperedit might not have that capability. \u003C/p\u003E\u003Cp\u003EAnyone have any advice on the best way to do this sort of conversion?\u003C/p\u003E\n"},{"CreatedByName":"HohmannSponge","CreatedById":146419,"CreatedDateTime":"2015-06-18T12:47:58Z","Content":"\n\u003Cp\u003EIf you put a vessel up into the orbit you want with hyperedit, you will be able to get the verbose info from the save file.\u003C/p\u003E\n"},{"CreatedByName":"Bill Phil","CreatedById":127797,"CreatedDateTime":"2015-06-18T12:57:58Z","Content":"\n\u003Cp\u003EApo and Peri might need to not be above sea level. Unless they aren\u0027t in your data...\u003C/p\u003E\u003Cp\u003ESMA is the average of the two apses from the point mass.\u003C/p\u003E\n"},{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T13:16:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bill Phil\u0022 data-cite=\u0022Bill Phil\u0022\u003E\u003Cdiv\u003EApo and Peri might need to not be above sea level. Unless they aren\u0027t in your data...\u003Cp\u003ESMA is the average of the two apses from the point mass.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe data I have is all ASL as-presented in game/stock currently - but I could convert them to being from Kerbin\u0027s center of mass with basic arithmetic.\u003C/p\u003E\u003Cp\u003EI run into some confusion with the Semi-Major Axis. The explanations I\u0027ve seen on how to calculate it all end up with circular orbits as they only measure one vector to the periaps, so I must be missing something.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAny other mods or add-ons that make this simpler?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-18T13:06:15Z\u0022 title=\u002206/18/2015 01:06  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 18, 2015\u003C/time\u003E by tjsnh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rhomphaia","CreatedById":2440,"CreatedDateTime":"2015-06-18T13:17:34Z","Content":"\n\u003Cp\u003EINC and ECC are just the same.\u003C/p\u003E\u003Cp\u003ESMA would be\u003Cstrong\u003E (Apo \u002B Peri \u002B 1200) * 500 \u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhich accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\u003C/p\u003E\u003Cp\u003ELPE is what the game calls Argument of Periapsis IIRC, so the angle in degrees between the ascending node and the Periapsis.\u003C/p\u003E\u003Cp\u003ELAN is the angle between the Ascending node and some arbitrary celestial reference point (again in degrees), so it is pretty hard to do anything with unless you already know what you want.\u003C/p\u003E\u003Cp\u003EMNA is mean anomaly at epoch, So how far around the orbit you are at a given point in time (defined by EPH), this time it is in Radians. Should not really matter.\u003C/p\u003E\u003Cp\u003EREF is the body you are orbiting.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2015-06-18T13:30:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tjsnh\u0022 data-cite=\u0022tjsnh\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAnyone have any advice on the best way to do this sort of conversion?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETake a look here: \u003Ca href=\u0022https://en.wikipedia.org/?title=Orbital_elements\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/?title=Orbital_elements\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rhomphaia\u0022 data-cite=\u0022Rhomphaia\u0022\u003E\u003Cdiv\u003ESMA would be\u003Cstrong\u003E (Apo \u002B Peri \u002B 1200) * 500 \u003C/strong\u003E\u003Cp\u003EWhich accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat\u0027s 500?\u003C/p\u003E\u003Cp\u003ECorrect formula is this: SMA = (Ap \u002B Pe \u002B 2* RefBodyRadius) / 2. The result will be in same units as input values are.\u003C/p\u003E\n"},{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T13:30:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rhomphaia\u0022 data-cite=\u0022Rhomphaia\u0022\u003E\u003Cdiv\u003EINC and ECC are just the same.\u003Cp\u003ESMA would be\u003Cstrong\u003E (Apo \u002B Peri \u002B 1200) * 500 \u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhich accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\u003C/p\u003E\u003Cp\u003ELPE is what the game calls Argument of Periapsis IIRC, so the angle in degrees between the ascending node and the Periapsis.\u003C/p\u003E\u003Cp\u003ELAN is the angle between the Ascending node and some arbitrary celestial reference point (again in degrees), so it is pretty hard to do anything with unless you already know what you want.\u003C/p\u003E\u003Cp\u003EMNA is mean anomaly at epoch, So how far around the orbit you are at a given point in time (defined by EPH), this time it is in Radians. Should not really matter.\u003C/p\u003E\u003Cp\u003EREF is the body you are orbiting.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you! Great explanation.\u003C/p\u003E\u003Cp\u003ESo for an orbit with Apo 600, peri 200, the SMA will be 1000000 ?\u003C/p\u003E\u003Cp\u003EThere are a lot of values that could add up to an SMA of 1000000, how will the game determine the aps/peri from that? \u003C/p\u003E\u003Cp\u003EOr is that where LPE comes in? (and if so, anyone how to extrapolate it? I\u0027m not scared of the math if needed) \u003C/p\u003E\u003Cp\u003E(LAN, MNA won\u0027t be important)\u003C/p\u003E\u003Cp\u003EHyperedit gives the REF value for the bodies, so that\u0027s easy to extract.\u003C/p\u003E\n"},{"CreatedByName":"Bill Phil","CreatedById":127797,"CreatedDateTime":"2015-06-18T13:35:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rhomphaia\u0022 data-cite=\u0022Rhomphaia\u0022\u003E\u003Cdiv\u003EINC and ECC are just the same.\u003Cp\u003ESMA would be\u003Cstrong\u003E (Apo \u002B Peri \u002B 1200) * 500 \u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhich accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\u003C/p\u003E\u003Cp\u003ELPE is what the game calls Argument of Periapsis IIRC, so the angle in degrees between the ascending node and the Periapsis.\u003C/p\u003E\u003Cp\u003ELAN is the angle between the Ascending node and some arbitrary celestial reference point (again in degrees), so it is pretty hard to do anything with unless you already know what you want.\u003C/p\u003E\u003Cp\u003EMNA is mean anomaly at epoch, So how far around the orbit you are at a given point in time (defined by EPH), this time it is in Radians. Should not really matter.\u003C/p\u003E\u003Cp\u003EREF is the body you are orbiting.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EINC is inclination while ECC appears to be eccentricity. It is useful for acquiring the Apoapsis, Periapsis, and even Semi minor axis from the semi major axis.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tjsnh\u0022 data-cite=\u0022tjsnh\u0022\u003E\u003Cdiv\u003EThank you! Great explanation.\u003Cp\u003ESo for an orbit with Apo 600, peri 200, the SMA will be \u003Ca rel=\u0022external nofollow\u0022\u003E1000000\u003C/a\u003E ?\u003C/p\u003E\u003Cp\u003EThere are a lot of values that could add up to an SMA of \u003Ca rel=\u0022external nofollow\u0022\u003E1000000\u003C/a\u003E, how will the game determine the aps/peri from that? \u003C/p\u003E\u003Cp\u003EOr is that where LPE comes in? (and if so, anyone how to extrapolate it? I\u0027m not scared of the math if needed) \u003C/p\u003E\u003Cp\u003E(LAN, MNA won\u0027t be important)\u003C/p\u003E\u003Cp\u003EHyperedit gives the REF value for the bodies, so that\u0027s easy to extract.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re looking for eccentricity of the orbit.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022asmi\u0022 data-cite=\u0022asmi\u0022\u003E\u003Cdiv\u003ETake a look here: \u003Ca href=\u0022https://en.wikipedia.org/?title=Orbital_elements\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/?title=Orbital_elements\u003C/a\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWhat\u0027s 500?\u003C/p\u003E\u003Cp\u003ECorrect formula is this: SMA = (Ap \u002B Pe \u002B 2* RefBodyRadius) / 2. The result will be in same units as input values are.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s half of 1000. From the conversion to meters.\u003C/p\u003E\n"},{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T13:37:05Z","Content":"\n\u003Cp\u003EGreat, thanks folks. \u003C/p\u003E\u003Cp\u003EThis will give me something to experiment with this evening and see if I can get a process down for doing these conversions (I have several thousand to do - my hope is to make a spreadsheet or code up a simple C app to do the math for me once I have a process sorted out that will give me at least semi-accurate conversions)\u003C/p\u003E\n"},{"CreatedByName":"Rhomphaia","CreatedById":2440,"CreatedDateTime":"2015-06-18T13:38:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tjsnh\u0022 data-cite=\u0022tjsnh\u0022\u003E\u003Cdiv\u003EThank you! Great explanation.\u003Cp\u003ESo for an orbit with Apo 600, peri 200, the SMA will be 1000000 ?\u003C/p\u003E\u003Cp\u003EThere are a lot of values that could add up to an SMA of 1000000, how will the game determine the aps/peri from that? \u003C/p\u003E\u003Cp\u003EOr is that where LPE comes in? (and if so, anyone how to extrapolate it? I\u0027m not scared of the math if needed) \u003C/p\u003E\u003Cp\u003E(LAN, MNA won\u0027t be important)\u003C/p\u003E\u003Cp\u003EHyperedit gives the REF value for the bodies, so that\u0027s easy to extract.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EApoapsis and Periapsis are determined by the Semi-Major Axis and the Eccentricity. Periapsis = (1-e)a, while apoapsis is (1\u002Be)a\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022asmi\u0022 data-cite=\u0022asmi\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhat\u0027s 500?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1000/2\u003C/p\u003E\n"}]}