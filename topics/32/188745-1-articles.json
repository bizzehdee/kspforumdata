{"TopicId":188745,"ForumId":32,"TopicTitle":"Reinforced Learning in KSP(using kRPC, maybe?)","CreatedByName":"DunnoAnyThing","CreatedById":180004,"CreatedDateTime":"2019-10-08T07:43:39Z","PageNum":1,"Articles":[{"CreatedByName":"DunnoAnyThing","CreatedById":180004,"CreatedDateTime":"2019-10-08T07:43:39Z","Content":"\n\u003Cp\u003E\nSorry to ask \u0022Is this mod X supported in game version Y?\u0022 sort of question, but I\u0027ve run out of time, so...unfortunately.\n\u003C/p\u003E\n\u003Cp\u003E\nMy friend wants to practice his \u0027reinforced learning\u0027 techniques on this game(yes, I mean KSP.).\u003Cbr\u003E\nFirst mod that came to mind was kRPC, but I\u0027m not sure if it works well with the current KSP version(no time to check myself).\u003Cbr\u003E\nSo 1). (the \u0027kRPC works on currnet KSP?\u0027) question\n\u003C/p\u003E\n\u003Cp\u003E\n2) I think I\u0027ve come across a post on Red*** about a similar project, but I cannot recall it. Any recommendations for this project(?) is welcome.(especially from those who do RL)\n\u003C/p\u003E\n"},{"CreatedByName":"AHHans","CreatedById":197939,"CreatedDateTime":"2019-10-08T08:11:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223683435\u0022 data-ipsquote-contentid=\u0022188745\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570520619\u0022 data-ipsquote-userid=\u0022180004\u0022 data-ipsquote-username=\u0022DunnoAnyThing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, DunnoAnyThing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo 1). (the \u0027kRPC works on currnet KSP?\u0027) question\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmmm... \u0026lt;copy\u0026gt; \u0026lt;paste\u0026gt; \u0026lt;select \u0022titles only\u0022\u0026gt; \u0026lt;hit search\u0026gt;\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002276528\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed1123846484\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/130742-15x-to-122-krpc-control-the-game-using-c-c-java-lua-python-ruby-haskell-c-arduino-v048-28th-october-2018/\u0026amp;do=embed\u0022 style=\u0022height:214px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nSeems to be \u0022officially\u0022 supported until KSP 1.5. So I guess it will work with KSP 1.7. But you (or your friend) should test it. My guess is that the new features from Breaking Ground may give you problems.\n\u003C/p\u003E\n\u003Cp\u003E\nOr your friend stays with KSP 1.5.\n\u003C/p\u003E\n"},{"CreatedByName":"DunnoAnyThing","CreatedById":180004,"CreatedDateTime":"2019-10-08T09:20:15Z","Content":"\n\u003Cp\u003E\nAt least what my friend is trying to do is Not usable KSP assistance, but RL (preferably on KSP), so gotta try 1.7 then fallback to 1.5 if any problems occur. That\u0027ll do.\n\u003C/p\u003E\n\u003Cp\u003E\nSo on the Reinforced Learning part...Comments are still welcome\n\u003C/p\u003E\n"},{"CreatedByName":"AHHans","CreatedById":197939,"CreatedDateTime":"2019-10-08T09:22:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223683472\u0022 data-ipsquote-contentid=\u0022188745\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570526415\u0022 data-ipsquote-userid=\u0022180004\u0022 data-ipsquote-username=\u0022DunnoAnyThing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, DunnoAnyThing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo on the Reinforced Learning part...Comments are still welcome\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell whom are you planning to force to learn what?\n\u003C/p\u003E\n"},{"CreatedByName":"DunnoAnyThing","CreatedById":180004,"CreatedDateTime":"2019-10-08T09:26:30Z","Content":"\n\u003Cp\u003E\nPlans aren\u0027t yet set up(this wasn\u0027t my idea in the first place), but we\u0027ll probably start with things like \u0022making planes reach a certain altitude and keep cruise height while using the least amount of fuel.\u0022 I\u0027m not quite familiar with RL.(my friend seems to be. probably.)\n\u003C/p\u003E\n"},{"CreatedByName":"Pds314","CreatedById":70014,"CreatedDateTime":"2019-10-20T02:38:41Z","Content":"\n\u003Cp\u003E\nAnother option is KOS, but of course you need to save weights and biases globally since exploration of the configuration space of possible weights and biases for a neural network controlling a rocket or plane or whatnot is most definitely not safe and WILL destroy your vehicle many many times.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m also a bit curious how you plan to train the network seeing as dying can often be a consequence of stuff you did much earlier, so you can\u0027t reliably know where in a run your mistake was.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-20T02:44:06Z\u0022 title=\u002210/20/2019 02:44  AM\u0022 data-short=\u00224 yr\u0022\u003EOctober 20, 2019\u003C/time\u003E by Pds314\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DunnoAnyThing","CreatedById":180004,"CreatedDateTime":"2019-10-23T13:28:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223690743\u0022 data-ipsquote-contentid=\u0022188745\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221571539121\u0022 data-ipsquote-userid=\u002270014\u0022 data-ipsquote-username=\u0022Pds314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/20/2019 at 11:38 AM, Pds314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnother option is KOS, but of course you need to save weights and biases globally since exploration of the configuration space of possible weights and biases for a neural network controlling a rocket or plane or whatnot is most definitely not safe and WILL destroy your vehicle many many times.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m also a bit curious how you plan to train the network seeing as dying can often be a consequence of stuff you did much earlier, so you can\u0027t reliably know where in a run your mistake was.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDying is actually needed. Will just give high reward on flight time, but details may and will vary.\n\u003C/p\u003E\n\u003Cp\u003E\nPlus the \u0027delayed reward\u0027 problem is a classic one in RL, so that won\u0027t be quite a problem.(I hope?)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-23T13:29:03Z\u0022 title=\u002210/23/2019 01:29  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 23, 2019\u003C/time\u003E by DunnoAnyThing\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pds314","CreatedById":70014,"CreatedDateTime":"2019-10-23T22:43:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223693208\u0022 data-ipsquote-contentid=\u0022188745\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221571837290\u0022 data-ipsquote-userid=\u0022180004\u0022 data-ipsquote-username=\u0022DunnoAnyThing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, DunnoAnyThing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDying is actually needed. Will just give high reward on flight time, but details may and will vary.\n\u003C/p\u003E\n\u003Cp\u003E\nPlus the \u0027delayed reward\u0027 problem is a classic one in RL, so that won\u0027t be quite a problem.(I hope?)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt basically means in-flight rewards are hard to do. Your get like 1 useful data point per launch, and simple backpropogation won\u0027t work well because you don\u0027t know the activation state of the network at the point mistakes were made, because you don\u0027t know when mistakes were made.\u00A0You can either punish/reward it for everything it did in the whole flight by logging all of the inputs every frame, or you can use a non-backpropogation algorithm such as, say, genetic evolution. These do work, but are very experiment-hungry ways to train a network. And in the case of genetic evolution, storing 10 or 100 or 1000 slightly-altered copies of the network and testing\u00A0all of them every generation makes for even slower progress.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPunishing it for whatever it did a frame before the crash will probably not be useful though, as most crashes cannot be avoided from one frame away. And same goes for punishing it more for stuff that happened more recently to the crash, as, again, it could have been a mistake very early in the flight.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-23T23:02:13Z\u0022 title=\u002210/23/2019 11:02  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 23, 2019\u003C/time\u003E by Pds314\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DunnoAnyThing","CreatedById":180004,"CreatedDateTime":"2019-10-25T07:56:05Z","Content":"\n\u003Cp\u003E\nQuite right, I guess.\u003Cbr\u003E\nIt seems like first creating a 2-D simplified model of ksp then trying ksp-RL out will be a more feasible approach, since there are many problems like ones you mentioned.\n\u003C/p\u003E\n"},{"CreatedByName":"Pds314","CreatedById":70014,"CreatedDateTime":"2019-10-28T22:17:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223694446\u0022 data-ipsquote-contentid=\u0022188745\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221571990165\u0022 data-ipsquote-userid=\u0022180004\u0022 data-ipsquote-username=\u0022DunnoAnyThing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/25/2019 at 12:56 AM, DunnoAnyThing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nQuite right, I guess.\u003Cbr\u003E\nIt seems like first creating a 2-D simplified model of ksp then trying ksp-RL out will be a more feasible approach, since there are many problems like ones you mentioned.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes. Especially since even a 3D stupidly simple rocket sim where everything is one part would run at \u0026gt;10000x physics warp quite easily. It wouldn\u0027t need to be perfect. You could randomly vary the rocket/plane parameters and you could port the results to KSP and then do slower training after it figured out the basics.\n\u003C/p\u003E\n"},{"CreatedByName":"Igor-cheb","CreatedById":201654,"CreatedDateTime":"2019-12-01T22:28:46Z","Content":"\n\u003Cp\u003E\nHey, perhaps these\u00A0would be a good starting point for you:\u003Cbr\u003E\n-\u00A0\u003Ca href=\u0022https://www.youtube.com/watch?v=09OMoGqHexQ\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.youtube.com/watch?v=09OMoGqHexQ\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n-\u00A0\u003Ca href=\u0022https://gym.openai.com/envs/LunarLander-v2/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gym.openai.com/envs/LunarLander-v2/\u003C/a\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"}]}