{"TopicId":109452,"ForumId":32,"TopicTitle":"Optimal engine charts for 1.0.2","CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-16T03:18:50Z","PageNum":6,"Articles":[{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-06-27T14:21:42Z","Content":"Meithan,\n\n I took the liberty of reviewing the config files for changes in the LF\u0026O engines since the 1.03/1.04 updates. I haven\u0027t looked at the other engine types yet.\n\nUnchanged:\n\n\\*24-77 Twitch\n\n\\*48-7S Spark\n\n\\*LV-1R Spider\n\n\\*LV-909 Terrier\n\n\\*LV-T30 Reliant\n\n\\*LV-T45 Swivel\n\n\\*RE-M3 Mainsail\n\n\\*Mk-55 Thud\n\n\\*RE-I5 Skipper\n\n\\*KR-1x2 Twin-Boar\n\n\\*KS-25x4 Mammoth\n\n\\*LV-N Nerv\n\nChanged:\n\nT-1 Aerospike: Mass reduced to 1t (formerly 1.5)\n\nLV-1 Ant: Sea level Isp reduced to 80sec (formerly 85)\n\nRE-L10 Poodle: Sea level Isp increased to 90sec (formerly 85)\n\nCR-7 RAPIER: Max thrust increased to 180KN (formerly 140)\n\nKR-2L Rhino: Cost increased to $25,000 (formerly 21,000) Mass increased to 9t (formerly 8.5) Sea level Isp increased to 255sec (formerly 170) Atm curve extended to .001 @ 5 Atm (formerly 4)\n\nI haven\u0027t looked at the rest of \u0027em yet.\n\n Best,\n\n-Slashy"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-27T16:45:06Z","Content":"Thanks for the summary of the changes, Slashy, it\u0027ll come in handy.\n\nI just wrote a small python program to read through KSP\u0027s config files and generate the corresponding updated engine stats as JavaScript code for the app. That\u0027ll make it easier to update in the future.\n\nAnd sorry for the lack of activity regarding the app, folks, work\u0027s been consuming. I\u0027ll very soon (this weekend?) release the app officially on the forums. All I\u0027m missing is some info tooltips."},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-06-28T01:11:30Z","Content":"\u003E \n\u003E I just wrote a small python program to read through KSP\u0027s config files and generate the corresponding updated engine stats as JavaScript code for the app. That\u0027ll make it easier to update in the future.\n\nThat\u0027s similar to how I\u0027ve started tracking changes, for purposes of keeping my mods in balance. I wrote Perl scripts that convert the part settings into hierarchical data that can easily be compared with \u0027diff\u0027 in linux."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-30T01:54:12Z","Content":"**Update: the webapp is ready for release!**\n\nCheck it out and tell me what you think:\n\n[http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)\n\nThe functionality is mostly unchanged; I just added info tooltips and help buttons, as well as acknowledgements and a license notice. I also updated the engine stats to 1.0.4 (thanks for the list of changes, Slashy).\n\nI\u0027m preparing a new forum thread in the Tools and Applications subforum. Additional discussion related to the webapp should be directed there. There are still some ideas I\u0027d like to develop (if time permits), such as being able to change the pair of variables that are plotted, and perhaps line plots giving further details for specific points.\n\nThanks to all who helped with testing and provided useful suggestions."},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-06-30T08:09:56Z","Content":"Trying it out on my tablet for the first time ( on holiday away from my PC ) there seems to be issues with page size (chrome on an android if it makes any difference). Sometimes the screen changes size seemingly randomly when entering values and either becomes very large or small and I cannot resize it. I am unable to resize the graph once generated meaning I can\u0027t see all of it, sometimes though it changes and becomes too small to read. Very odd.\n\nThe only way to get back to a normal size is to close the tab and click the link again. \n\nI will try it using Firefox and report back.\n\nEdit : much better, can resize and chart looks right. Seems to be ok with sensible entered numbers. \n\nEntering 50000 into max DV seems to break it causing the graph to vanish. Touching the graph causes entered values to be changed, dV range changed to 63k-\u003E 100 or so and payload values also.\n\nGoing back to the chart tab I thought the screen was blank but then noticed the screen had resized to be extremely tiny. Resizing acted odd with 2 copies of the value boxes, neither of which responded to touch.\n\nApologies for the lateness of this report. Last time I tried it the page worked fine on a normal PC.\n\n**Edited \u003Ctime datetime=\u00222015-06-30T08:34:00Z\u0022 title=\u002206/30/2015 08:34  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 30, 2015\u003C/time\u003E by John FX**"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-30T14:13:22Z","Content":"\u003E \n\u003E Trying it out on my tablet for the first time ( on holiday away from my PC ) there seems to be issues with page size (chrome on an android if it makes any difference). Sometimes the screen changes size seemingly randomly when entering values and either becomes very large or small and I cannot resize it. I am unable to resize the graph once generated meaning I can\u0027t see all of it, sometimes though it changes and becomes too small to read. Very odd.\n\u003E The only way to get back to a normal size is to close the tab and click the link again. \n\u003E \n\u003E I will try it using Firefox and report back.\n\u003E \n\u003E Edit : much better, can resize and chart looks right. Seems to be ok with sensible entered numbers. \n\u003E \n\u003E Entering 50000 into max DV seems to break it causing the graph to vanish. Touching the graph causes entered values to be changed, dV range changed to 63k-\u003E 100 or so and payload values also.\n\u003E \n\u003E Going back to the chart tab I thought the screen was blank but then noticed the screen had resized to be extremely tiny. Resizing acted odd with 2 copies of the value boxes, neither of which responded to touch.\n\u003E \n\u003E Apologies for the lateness of this report. Last time I tried it the page worked fine on a normal PC.\n\nThanks for the report, John. I\u0027ll look into it.\n\nBootstrap is supposed to do \u0022smart\u0022 changes to the page layout to accommodate smaller screens, but I haven\u0027t tested it much. What tablet are you using? What\u0027s the screen resolution?"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-06-30T15:32:47Z","Content":"Its a Samsung Galaxy Tab s 10.5 with a resolution of 2560 X 1600. Firefox seemed to handle it better than Chrome."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-30T20:00:17Z","Content":"\u003E \n\u003E Its a Samsung Galaxy Tab s 10.5 with a resolution of 2560 X 1600. Firefox seemed to handle it better than Chrome.\n\nWeird, at that resolution you should not have any layout problems, it\u0027s higher than my own screen\u0027s! Is it possible for you to post a screenshot?"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-06-30T22:43:20Z","Content":"Just Googled how to do that will post one soon\n\nEDIT : \n\nHere you go. the screenshot with the number enter window is from chrome, the rest from firefox.\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/LGYLg)\n\nthe numbers at the top seem to change by themselves if I touch anywhere inside the chart\n\nlet me know if you need more/different. I have zoomed out as far as I can, sorry for the huge size.\n\n**Edited \u003Ctime datetime=\u00222015-06-30T23:07:13Z\u0022 title=\u002206/30/2015 11:07  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 30, 2015\u003C/time\u003E by John FX**"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-07-01T03:16:13Z","Content":"Thanks a lot John. I\u0027ve seen that happen once before, on a Mac. Let me see what I can do."},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-07-01T05:21:27Z","Content":"Does the tool use 1.0.4 or 1.0.2 engine parameters now?"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-07-01T14:21:07Z","Content":"\u003E \n\u003E Does the tool use 1.0.4 or 1.0.2 engine parameters now?\n\n1.0.4. And I just fixed a typo in the mass of the Twin Boar."},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-07-01T15:11:10Z","Content":"\u003E \n\u003E Thanks a lot John. I\u0027ve seen that happen once before, on a Mac. Let me see what I can do.\n\nThanks. I\u0027ve found the tablet very handy for things like this, also telemachus, jebretary and so forth."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-07-01T15:28:12Z","Content":"\u003E \n\u003E Thanks. I\u0027ve found the tablet very handy for things like this, also telemachus, jebretary and so forth.\n\nOK, try refreshing the page and see if it\u0027s fixed.\n\nAlso, I just realized that some of the chart interactions might not work properly on a tablet or mobile, where there\u0027s no left \u0026 right clicks. How\u0027s dragging the view / locking the details panel working for you?\n\n**Edited \u003Ctime datetime=\u00222015-07-01T15:39:07Z\u0022 title=\u002207/01/2015 03:39  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 1, 2015\u003C/time\u003E by Meithan**"},{"CreatedByName":"GarrisonChisholm","CreatedById":146403,"CreatedDateTime":"2015-07-01T16:43:08Z","Content":"This is amazing data, yet I am saddened by the realization that I - who thought myself a science geek - find this to be quite a bit over my head (yet). ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif) - still, amazing work, Sir. I tip my cap to you. ...back to my \u0022trial-and-error\u0022 rocketry... \\*feels like the Neanderthal going back to his cave painting after stepping inside Hagia Sophia\\*"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-07-01T18:36:41Z","Content":"Oh, you shouldn\u0027t feel like that, I think we all started doing \u0022trial-and-error\u0022 (at least I did; I remember how I failed to reach orbit --because I ran out of fuel-- many times when I started playing). \n\nThere\u0027s just a point when your missions start to get complex enough that you don\u0027t want to get there and realize you don\u0027t have enough fuel (or thrust, or whatever), and for that a little math goes a long way. And it\u0027s not like you need a lot of complicated stuff: computing delta-v\u0027s is pretty much the only really necessary tool in my opinion, and for that I use MechJeb. I can no longer design anything without knowing its delta-v; it\u0027s just such a crucial piece of information. But that\u0027s pretty much it; I still do trial-and-error for most other things.\n\nThese charts are more something done out of geek interest (and, for me, desire to learn HTML5, too) rather than necessity; even I only occasionally use them to get a rough idea of which engines to start trying when designing a new ship. It\u0027s even frequent I will not choose the optimal engine, too, sometimes for practical reasons and sometimes even for aesthetic one (a non-optimal engine just looks cooler)."},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-07-01T19:41:35Z","Content":"Awesome tool...\n\nThere\u0027s just a couplt new features I\u0027d like to see... (if you have the time to implement something similar to even one, that would be awesome)\n\nWhen 1.0 came out, I made some rapier-KR-2L and LVN spaceplanes... I only used the rapiers in airbreathing mode because their Isp wasn\u0027t so great in closed cycle (used rapiers over turbos because of higher airbreathing speed and altitude).\n\nI think I still had 0.90 stats in mind for the KR-2Ls...\n\nAnyway... 1.02 came around, and I realized that I was losing out on all this extra thrust... adding KR-2Ls to get enough thrust when leaving airbreathing mode was sort of wasteful when I had all these rapiers. Adding additional rocket engines increased weight, and increased frontal area/drag...\n\nI ended up having my best results with rapiers \u002B LV-Ns.. rapiers fire to kick apoapsis into space, LV-N fires as a sustainer to counteract drag, and circularize.\n\nI don\u0027t have an exact idea in mind yet... but it could be nice to have a function where rapiers have a \u0022Mass discount\u0022\n\nWhen is it better to add rocket engines with higher Isp, and when is it better to just continue using rapiers.\n\nHow much do I really gain from the extra closed cycle Isp, and how much do I lose due to higher dry mass \u003C- this problem I always find myself faced with, doing crude approximations... made harder by the next point:\n\nTWR requirements may vary significantly over the course of a single stage (particularly if you want to make SSTO craft)\n\nThis chart assumes 1 engine type, and I like to have multiple types on larger crafts... because the TWR that I need to get my apoapsis out of kerbin\u0027s atmosphere is not the same as what I need to circularize, or to perapsis kick, or to do a mun/minmus capture, or docking maneuvers... etc\n\nMaybe my interplanetary stage needs to make a plane change... lets say 500 m/s with a desired acceleration of 0.5 m/s (nodes made in heliocentric orbit give you plenty of time to accelerate), and 500 m/s with a desired acceleration of 5.0 m/s - what is the optimal engine or combination of engines then?\n\nPerhaps you could make an \u0022complex\u0022 mode, where you can specify multiple dV-TWR requirements (ie, 200 m/s @ no TWR restriction, 500 m/s @ 1.0 TWR, 750 m/s between 0.3-0.7 TWT), and get the optimal combination of engines for that?\n\nLastly (and this is a point that isn\u0027t so important now that we have ISRU)... but I used to make an entire craft, and then make graphs showing fuel consumed vs dV for various engine types, to arrive at the \u0022fuel optimal\u0022 engine, rather than mass optimal engine.\n\nThat was so that my landers would use the least fuel per trip, and my orbital fuel depots would need to be refueled as infrequently as possible.\n\nMass-optimal engine charts are great for single use craft.\n\nThey are great for getting to kerbin orbit... but when you re-use a lander or tug or transfer stage over and over again, and launch fuel tankers to refuel them... fuel optimal is what you want.\n\nA fuel optimal chart would look very different (LV-N would dominate, unless you also add in Ions)...\n\nAnd then there\u0027s economics... which uses the least cost of fuel? \n\nXenon gas is ridiculously expensive, and as soon as 1x LV-N isn\u0027t overkill, I give up on th idea of Ion tugs, because if I calculate the amount of LF consumerd for ejection dV, vs the amount of xenon I\u0027d consume, and look at the price... the LV-N wins handily.\n\nEven if I count in the cost of getting that fuel to orbit.\n\nIf you\u0027re reusing things, and trying to look at operating costs, mass optimal is not neccesssarily what you want (somewhat changes with ISRU)"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-07-01T20:04:38Z","Content":"KerikBalm,\n\n I think you can answer that question mathematically. \n\n Assuming that adding engines doesn\u0027t hurt the RAPIER\u0027s performance in atmosphere (which is not true), you\u0027re starting with the same mass and velocity in all cases. \n\n I don\u0027t think you\u0027ll find a solution where adding engine mass at the expense of fuel to get better Isp is going to pay off in higher DV... at least not in typical LKO DV budgets. It could be worth it for very long trips, but SSTOs really aren\u0027t optimal for that sort of thing anyway.\n\n IAC, that\u0027s not the sort of question these charts are designed to answer. They seek a lightest solution for a payload and DV requirement, not a maximum DV from a fixed mass.\n\nBest,\n\n-Slashy"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-07-02T14:45:20Z","Content":"\u003E \n\u003E This chart assumes 1 engine type, and I like to have multiple types on larger crafts... because the TWR that I need to get my apoapsis out of kerbin\u0027s atmosphere is not the same as what I need to circularize, or to perapsis kick, or to do a mun/minmus capture, or docking maneuvers... etc\n\nThese charts are not meant to address combinations of engines because they\u0027re based on analytical mathematical results. Exploring engine combinations would require a trial-and-error iterative approach, or more complex iterative optimization methods. For that, take a look at the [KSP Optimal Rocket Calculator](https://forum.kerbalspaceprogram.com/threads/65011-WEB-1-0-KSP-Optimal-Rocket-Calculator-v1-19).\n\n\u003E \n\u003E Maybe my interplanetary stage needs to make a plane change... lets say 500 m/s with a desired acceleration of 0.5 m/s (nodes made in heliocentric orbit give you plenty of time to accelerate), and 500 m/s with a desired acceleration of 5.0 m/s - what is the optimal engine or combination of engines then? Perhaps you could make an \u0022complex\u0022 mode, where you can specify multiple dV-TWR requirements (ie, 200 m/s @ no TWR restriction, 500 m/s @ 1.0 TWR, 750 m/s between 0.3-0.7 TWT), and get the optimal combination of engines for that?\n\nThis question is already answered by this app if using a single engine type. Just input a delta-v range that includes these values (say, from 100 to 1000 m/s), and compute the chart for various TWR restrictions. Of course, the answer will depend on your payload mass: it will be completely different if it is a small 1 tonne satellite vs. a 20 tonnes Duna lander. If you want the answer to be applicable to a wide range of payload masses, well, enter an appropriate payload mass range.\n\nFor now, minimum TWR is a fixed parameter because only two variables can be plotted in a two-dimensional map. But one of the planned features (perhaps the highest priority one) is being able to change which two variables appear on the plot and which third variable is fixed (out of payload mass, delta-v, TWR restriction).\n\n\u003E \n\u003E Lastly (and this is a point that isn\u0027t so important now that we have ISRU)... but I used to make an entire craft, and then make graphs showing fuel consumed vs dV for various engine types, to arrive at the \u0022fuel optimal\u0022 engine, rather than mass optimal engine.\n\nThe app does tell you the fuel mass of the two top solutions (look in the details on the right panel), so you could use that to get an idea, but it\u0027s a very simple change to have it determine the \u0022fuel optimal\u0022 engine instead. Added to the list of wanted features ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif). I do suspect, as you do, that this will give an extra advantage to the LV-N and thus will dominate even more.\n\n\u003E \n\u003E And then there\u0027s economics... which uses the least cost of fuel?\n\nI\u0027m not sure it would be that useful. Most engines use the same propellant (LFO/LF), so in those cases it would reduce to \u0022fuel mass optimality\u0022. Thus this would become a Dawn vs. everyone else comparison. But it\u0027s also easy to add fuel cost information and make that the parameter to optimize. Added to list of desired features."},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-07-03T19:35:11Z","Content":"\u003E \n\u003E OK, try refreshing the page and see if it\u0027s fixed.\n\u003E Also, I just realized that some of the chart interactions might not work properly on a tablet or mobile, where there\u0027s no left \u0026 right clicks. How\u0027s dragging the view / locking the details panel working for you?\n\nSorry for late reply, I flew back from spain wednesday night and I\u0060m just getting back into the swing of things again.\n\nI\u0060ll go grab my tablet and have a look.\n\nEDIT : chrome still just locks up and the engine analysis details are on top of the chart now. No resize possible.\n\nfirefox starts larger but seems to function OK, pinch and zoom works. I\u0060ve calculated a couple of charts that display OK, can resize etc. No info in the detailed analysis though. single tap in the chart dos nothing, double tap zooms the chart to fullscreen and long press does nothing.\n\nWorks a lot better than before, well enough to use anyway. If I really want the detailed analysis I\u0060ll use my PC.\n\nThanks for having a look at it.\n\n**Edited \u003Ctime datetime=\u00222015-07-03T19:51:18Z\u0022 title=\u002207/03/2015 07:51  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 3, 2015\u003C/time\u003E by John FX**"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-07-03T20:09:07Z","Content":"\u003E \n\u003E Sorry for late reply, I flew back from spain wednesday night and I\u0060m just getting back into the swing of things again.\n\u003E I\u0060ll go grab my tablet and have a look.\n\u003E \n\u003E EDIT : chrome still just locks up and the engine analysis details are on top of the chart now. No resize possible.\n\u003E \n\u003E firefox starts larger but seems to function OK, pinch and zoom works. I\u0060ve calculated a couple of charts that display OK, can resize etc. No info in the detailed analysis though. single tap in the chart dos nothing, double tap zooms the chart to fullscreen and long press does nothing.\n\u003E \n\u003E Works a lot better than before, well enough to use anyway. If I really want the detailed analysis I\u0060ll use my PC.\n\u003E \n\u003E Thanks for having a look at it.\n\nYes, I\u0027m afraid the app is not very touch-device compatible at the moment. The problem is that \u0022traditional\u0022 mouse events don\u0027t work the same way since there\u0027s no mouse. I have to read up on how to make these things touch-device friendly. Thanks for your feedback, and I\u0027ll let you know when I\u0027ve made some progress on this issue."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-07-03T23:58:00Z","Content":"OK, people, release day has arrived! Here\u0027s the release thread:\n\n[http://forum.kerbalspaceprogram.com/threads/127691-WEB-1-0-4-Optimal-Engine-Charts-interactive-webapp](https://forum.kerbalspaceprogram.com/threads/127691-WEB-1-0-4-Optimal-Engine-Charts-interactive-webapp)\n\nPlease direct all further discussion about the app to that thread.\n\nThanks all for the help!"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-07-05T19:59:10Z","Content":"\u003E \n\u003E I\u0027m not sure it would be that useful. Most engines use the same propellant (LFO/LF), so in those cases it would reduce to \u0022fuel mass optimality\u0022. Thus this would become a Dawn vs. everyone else comparison. But it\u0027s also easy to add fuel cost information and make that the parameter to optimize. Added to list of desired features.\n\nWell, its not \\*that\\* simple.\n\nMost engines may use LF/LFO... but LF and LFO is not the same.\n\nLF and O don\u0027t have the same cost\n\nLF is 160 per ton\n\nO is 36 per ton\n\nSo LFO is 0.9/2\\*160\u002B1.1/2\\*36= 91.8 per ton... 160 vs 91.8 can make a difference...\n\nSummary of costs, per ton:\n\nSolid fuel = 80\n\nLiquid Fuel/Oxidizer 0.9/1.1: 91.8\n\nLiquid fuel = 160\n\nMonoPropellant = 300 (as if the monoprop engine were ever in the running for something)\n\nXenonGas = 40,000 !!!!!!\n\n.......\n\nLV-Ns are going to be cheaper than Xenon in pretty much every case I think.... only when you want to single stage near the limit of a LV-Ns dV (ie, around 15 km/s)... might a Xenon stage be cheaper to fuel. (Its one reason I modded a special Xenon ISRU part, that only works on worls with atmospheres... duna is my Xenon fueling station... I figure heavy gases should be enriched in its atmosphere.. in game description even says so)."},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-07-13T10:42:56Z","Content":"Hi, Meithan!\n\nWhat do you think about including the fuel-cell mode for Dawns taking into account the mass of fuel cells and LF/O?"}]}