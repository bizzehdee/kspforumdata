{"TopicId":109452,"ForumId":32,"TopicTitle":"Optimal engine charts for 1.0.2","CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-16T03:18:50Z","PageNum":3,"Articles":[{"CreatedByName":"DancesWithSquirrels","CreatedById":138267,"CreatedDateTime":"2015-05-21T15:01:50Z","Content":"Nice! \n\nOne of the nicest interaction possibilities would be a hover-over that shows the total mass estimate Or perhaps a second 2D chart for a selected engine, dV versus payload with a key for total mass."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-21T15:19:00Z","Content":"\u003E \n\u003E Nice! \n\u003E One of the nicest interaction possibilities would be a hover-over that shows the total mass estimate Or perhaps a second 2D chart for a selected engine, dV versus payload with a key for total mass.\n\nSimilar to what I as thinking: a small tooltip when hovering over the chart showing, say, the top 3 engines for that point and the total masses they yield (sometimes the runner-ups are very close, and may be more practical than the top engine). Then, on clicking on the chart, a second line plot would be generated with the full total mass vs. dv curves for the payload of the clicked point.\n\nI also want to display the mass breakdown (how much is payload, tanks, propellant and engines) for a given solution somewhere."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-24T02:54:22Z","Content":"UPDATE: I just finished the core functionality of the webapp for engine charts (no total mass plots yet). Try it out and tell me what you guys think (bug reports appreciated!):\n\n[http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)\n\nMouse over the chart to see details about that location (below the chart). Currently shows the best and runner-up engines, indicating how many engines are required and the total mass of the ship for each case. Note that this recalculates the mass comparisons for that point, so if you\u0027re plotting the low-resolution chart you\u0027ll still get high-resolution results here.\n\nSince it\u0027s doing the computation for all engines now it\u0027s a bit slower than previously. Still, it\u0027s under a second for me, which I think is not too bad.\n\nTo do:\n\n- Improve how the values for a (payload,dv) pair are shown on mouseover (mouse-following tooltip on top of chart, maybe?)\n- Zoom in/out buttons\n- Click-and-drag zoom in directly on chart\n- Show more detailed info for a (payload,dv) pair, e.g., total mass breakdown (how much is payload, fuel, tanks, engines)\n- Total mass plots (when clicking on chart)\n- Optimize computation"},{"CreatedByName":"Starhawk","CreatedById":131400,"CreatedDateTime":"2015-05-24T03:36:20Z","Content":"\u003E \n\u003E UPDATE: I just finished the core functionality of the webapp for engine charts (no total mass plots yet). Try it out and tell me what you guys think (bug reports appreciated!)\n\nThis is fabulous! Great work and definitely above and beyond the call of duty.\n\nI can\u0027t wait to see the additional features you have planned.\n\nHappy landings!"},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2015-05-24T04:36:26Z","Content":"How many minutes should it take before something appears after you click Calculate (with the default settings)?"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-24T06:46:59Z","Content":"\u003E \n\u003E How many minutes should it take before something appears after you click Calculate (with the default settings)?\n\nMinutes? The chart is computed in about 600 miliseconds on my computer. What are the specs of your computer? OS, browser?"},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2015-05-24T06:57:18Z","Content":"\u003E \n\u003E Minutes? The chart is computed in about 600 miliseconds on my computer. What are the specs of your computer? OS, browser?\n\niMac Quad Core 3.4 GHz Intel Core i7. Mac OSX 10.9.5, Safari browser 7.1.6."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-24T07:09:45Z","Content":"\u003E \n\u003E iMac Quad Core 3.4 GHz Intel Core i7. Mac OSX 10.9.5, Safari browser 7.1.6.\n\nFaster than mine. So the chart never appears?"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-05-24T08:00:34Z","Content":"\u003E \n\u003E How many minutes should it take before something appears after you click Calculate (with the default settings)?\n\nI forgot to put in both minimum and maximum values. You might have done the same."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-24T14:53:07Z","Content":"\u003E \n\u003E I forgot to put in both minimum and maximum values. You might have done the same.\n\nYes, it\u0027s not doing any input checks at the moment, and will simply produce NaNs and show a blank chart if data is missing. Checks and an alert on missing data added to todo list.\n\nYou can also hit \u0022Load defaults\u0022 to set the payload range to 0-20 t and the dv range to 0-5000 m/s, with a min TWR of 0.5."},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-05-24T15:01:38Z","Content":"Meithan,\n\n Looks good from my house. \n\n No weird behavior to report.\n\nBest,\n\n-Slashy"},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2015-05-24T18:46:20Z","Content":"\u003E \n\u003E Faster than mine. So the chart never appears?\n\nCorrect. Load page. Load defaults. Calculate. ...nothing happens.\n\nIt DOES work in the Firefox 37.0.2 browser on my system."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-24T19:22:40Z","Content":"\u003E \n\u003E Meithan,\n\u003E  Looks good from my house. \n\u003E \n\u003E  No weird behavior to report.\n\nFantastic. I\u0027m a little busy right now but I\u0027ll get to those remaining features soon. When I feel it\u0027s ready enough, I\u0027ll release the webapp in the Tools and Applications section of the Add-ons forum (and post a link in this thread and update the OP).\n\nNote that there already exist some tools that provide similar functionality to what I\u0027m doing:\n\n- An [engine comparsion based on cfg file parsing (python)](https://forum.kerbalspaceprogram.com/threads/120423-engine-comparsion-based-on-cfg-file-parsing-%28python%29) Python script that, given dv and TWR requirements, computes the payload fraction for all the engines (under either vacuum or 1 atm conditions). However, the calculation assumes only one engine, and so not all solutions are found.\n- The [Online engine cluster calculator](https://forum.kerbalspaceprogram.com/threads/46569-WEB-Online-engine-cluster-calculator) is used \u0022to work out an engine cluster layout for a center stack and attached booster stacks required for liftoff\u0022, where the booster stacks as asparagus-staged. It\u0027s nice but provides a different kind of funcionality. It hasn\u0027t been updated to 1.0, though.\n- Finally, there\u0027s the [KSP Optimal Rocket Calculator](https://forum.kerbalspaceprogram.com/threads/65011-WEB-1-0-KSP-Optimal-Rocket-Calculator-v1-19), which is a brilliant web tool that actually builds the rocket \u0022on paper\u0022 by searching through many part combinations and finding that which optimizes mass (or cost or part count). The search is multi-stage, so it\u0027ll yield actual practical solutions. While this completely solves the optimal design problem, I feel my tool is still useful in giving a general impression (and does so graphically) of the regions where each engine is optimal or close to optimal, without fully designing the rocket for the player. It\u0027s more of a guideline tool than one that solves the problem for you.\n\n- - - Updated - - -\n\n\u003E \n\u003E Correct. Load page. Load defaults. Calculate. ...nothing happens.\n\u003E It DOES work in the Firefox 37.0.2 browser on my system.\n\nIt seems to be a Safari issue then (it seems to work on Mac using Chrome). \n\nCould you show me the output of the JavaScript console? It seems that option-command-C opens it; [see here](http://wickedlysmart.com/hfjsconsole/). Let\u0027s start with that. If the script runs, it\u0027ll output something like this:\n\n    0 20 0 5000 0.5Array[18]Initializations: 3.670999998576008 msTick calculation: 29.225999998743646 msChart computation: 576.4839999901596 msImage loading and scaling: 17.947000000276603 msSCRIPT DONE\n\n**Edited \u003Ctime datetime=\u00222015-05-24T19:07:35Z\u0022 title=\u002205/24/2015 07:07  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 24, 2015\u003C/time\u003E by Meithan**"},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2015-05-24T20:18:25Z","Content":"\u003E \n\u003E ...It seems to be a Safari issue then (it seems to work on Mac using Chrome). \n\u003E Could you show me the output of the JavaScript console? It seems that option-command-C opens it; [see here](http://wickedlysmart.com/hfjsconsole/). Let\u0027s start with that...\n\nWhen I press Calculate, the Console shows:\n\n[Error] ReferenceError: Can\u0027t find variable: performance\n\n plot\\_chart (engines, line 254)\n\n onclick (engines, line 606)"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-24T20:55:35Z","Content":"\u003E \n\u003E When I press Calculate, the Console shows:\n\u003E [Error] ReferenceError: Can\u0027t find variable: performance\n\u003E \n\u003E  plot\\_chart (engines, line 254)\n\u003E \n\u003E  onclick (engines, line 606)\n\nAh, it seems Safari doesn\u0027t support what I\u0027m using in the script to measure execution time (performance.now()). It\u0027s an easy fix (either use Date.now() instead, since I don\u0027t really need microsecond resolution, or simply disable the timing report for Safari). I\u0027ll get to it when I get back."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-05-24T21:59:51Z","Content":"Great tool for players looking to optimize their rockets, thanks for making and sharing it, Meithan."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-25T05:56:20Z","Content":"\u003E \n\u003E When I press Calculate, the Console shows:\n\u003E [Error] ReferenceError: Can\u0027t find variable: performance\n\u003E \n\u003E  plot\\_chart (engines, line 254)\n\u003E \n\u003E  onclick (engines, line 606)\n\nAlright, it should be fixed. Tell me if it works for you on Safari.\n\n\u003E \n\u003E Great tool for players looking to optimize their rockets, thanks for making and sharing it, Meithan.\n\nIt\u0027s my pleasure! Really, I\u0027m learning a lot doing this."},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2015-05-25T06:31:56Z","Content":"\u003E \n\u003E Alright, it should be fixed. Tell me if it works for you on Safari.\n\nIt now functions in Safari. Good work!"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-05-25T13:08:34Z","Content":"Any chance of adding the ability to make atmospheric charts with the tool? Or am I stupidly not seeing the option?"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-25T16:31:48Z","Content":"\u003E \n\u003E It now functions in Safari. Good work!\n\nGreat to hear that ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif).\n\n\u003E \n\u003E Any chance of adding the ability to make atmospheric charts with the tool? Or am I stupidly not seeing the option?\n\nYour eyesight is fine, it\u0027s not implemented in the webapp yet. I\u0027ll do it soon."},{"CreatedByName":"cybersol","CreatedById":81136,"CreatedDateTime":"2015-05-26T02:17:52Z","Content":"Great work on the site Meithan. It works perfectly so far in Chrome on Linux.\n\n\u003E \n\u003E Any chance of adding the ability to make atmospheric charts with the tool? Or am I stupidly not seeing the option?\n\nHaha, I was wondering this exact same thing, including that I might be missing it."},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-05-26T03:10:06Z","Content":"Nice graphs! Could you please add the new engine nicknames (*Terrier*, *Rhino*, etc) to the legend?\n\n**Edited \u003Ctime datetime=\u00222015-05-26T03:48:05Z\u0022 title=\u002205/26/2015 03:48  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 26, 2015\u003C/time\u003E by Teilnehmer**"},{"CreatedByName":"cybersol","CreatedById":81136,"CreatedDateTime":"2015-05-26T04:01:50Z","Content":"\u003E \n\u003E Nice graphs! Could you please add the new engine nicknames (*Terrier*, *Rhino*, etc) to the legend?\n\nYou should check out his web app beta site, which has those: [http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-26T04:14:39Z","Content":"\u003E \n\u003E You should check out his web app beta site, which has those: [http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)\n\nYep, it\u0027s going to be much better than these static images. I\u0027m working on the atmospheric calculations as we speak."},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-05-26T06:36:10Z","Content":"\u003E \n\u003E Yep, it\u0027s going to be much better than these static images. I\u0027m working on the atmospheric calculations as we speak.\n\nIs it possible to add the choice of graph axes (i.e. not only payload-\u00C3\u017D\u00E2\u20ACv graphs at fixed TWR, but also \u00C3\u017D\u00E2\u20ACv-TWR graphs at fixed payload and TWR-payload graphs at fixed \u00C3\u017D\u00E2\u20ACv)?"}]}