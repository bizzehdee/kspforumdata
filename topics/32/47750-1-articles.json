{"TopicId":47750,"ForumId":32,"TopicTitle":"Is it just me who wants multithreading?","CreatedByName":"Infineon","CreatedById":84814,"CreatedDateTime":"2013-10-08T19:31:21Z","PageNum":1,"Articles":[{"CreatedByName":"Infineon","CreatedById":84814,"CreatedDateTime":"2013-10-08T19:31:21Z","Content":"\n\u003Cp\u003EYes, yes... I know there is entire official post requiring \u0022NOT TO SUGGEST\u0022 multithreading / multicore functionality.\u003C/p\u003E\u003Cp\u003EMy problem is, that in about two days of playing KSP I started building four stage rockets, and my 4GHz CPU core doesn\u0027t cope with launching it.\u003C/p\u003E\u003Cp\u003EWell, if ALL SIX cores of my 4 years old CPU would be allowed to participate, I might even be able to add a stage or two... And fly it with more than 0.5 frames per second...\u003C/p\u003E\u003Cp\u003EI agree that when a small part of customers request some feature - it might be not cost effective to go ahead and implement it.\u003C/p\u003E\u003Cp\u003EBut I believe that majority of KSP gamers have multithreading supported on their computers, or have more than just a single core CPU, and EVERYONE will benefit from additional performance boost.\u003C/p\u003E\u003Cp\u003EOr is it really just me?\u003C/p\u003E\n"},{"CreatedByName":"KasperVld","CreatedById":40700,"CreatedDateTime":"2013-10-08T19:41:40Z","Content":"\n\u003Cp\u003EKSP itself is multithreaded. The part that is not is the Unity game engine which handles things like the physics. \u003Ca href=\u0022http://unity3d.com/\u0022 rel=\u0022external nofollow\u0022\u003Elinky\u003C/a\u003E. The KSP developers can\u0027t really do anything about this unless they spend months or even years writing their own engine.\u003C/p\u003E\n"},{"CreatedByName":"Silverchain","CreatedById":83000,"CreatedDateTime":"2013-10-08T19:48:55Z","Content":"\n\u003Cp\u003EOne can hope that some future version of Unity will support multihreading.\u003C/p\u003E\n"},{"CreatedByName":"Infineon","CreatedById":84814,"CreatedDateTime":"2013-10-08T19:49:11Z","Content":"\n\u003Cp\u003EAm I crazy or is KSP able then to launch multiple instances of Unity engine to work on different pats of flight physics (thrust/weight/gravity/part links/air resistance/etc.) and combine results into a smooth running simulation?\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2013-10-08T19:51:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Infineon\u0022 data-cite=\u0022Infineon\u0022\u003E\u003Cdiv\u003EOr is it really just me?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOf course it\u0027s not just you; \u003Cem\u003Eeveryone\u003C/em\u003E wants performance improvements, it just depends on how much they whine about it.\u003C/p\u003E\n"},{"CreatedByName":"Whackjob","CreatedById":71402,"CreatedDateTime":"2013-10-08T19:53:40Z","Content":"\n\u003Cp\u003EPerhaps I should just show up at the homes of the unity developers and just stare at them for a while.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022http://i301.photobucket.com/albums/nn77/Whackjob_photos/happy-weird-cat.jpg\u0022 alt=\u0022happy-weird-cat.jpg\u0022\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUntil unity update happens.\u003C/p\u003E\n"},{"CreatedByName":"llamatoes","CreatedById":57750,"CreatedDateTime":"2013-10-08T19:56:46Z","Content":"\n\u003Cp\u003EYes. I would have an upgrade if you did that.\u003C/p\u003E\n"},{"CreatedByName":"Infineon","CreatedById":84814,"CreatedDateTime":"2013-10-08T20:27:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KasperVld\u0022 data-cite=\u0022KasperVld\u0022\u003E\u003Cdiv\u003EKSP itself is multithreaded. The part that is not is the Unity game engine which handles things like the physics. \u003Ca href=\u0022http://unity3d.com/\u0022 rel=\u0022external nofollow\u0022\u003Elinky\u003C/a\u003E. The KSP developers can\u0027t really do anything about this unless they spend months or even years writing their own engine.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs it possible then for KSP to launch several Unity instances to work on different physics calculations (weight/thrust/gravity/speed/air resistance/part links/etc.) and get a smooth flight experience?\u003C/p\u003E\n"},{"CreatedByName":"KasperVld","CreatedById":40700,"CreatedDateTime":"2013-10-08T20:55:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Infineon\u0022 data-cite=\u0022Infineon\u0022\u003E\u003Cdiv\u003EIs it possible then for KSP to launch several Unity instances to work on different physics calculations (weight/thrust/gravity/speed/air resistance/part links/etc.) and get a smooth flight experience?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe short answer seems to be no\u003C/p\u003E\n"},{"CreatedByName":"DarthRaptor","CreatedById":79630,"CreatedDateTime":"2013-10-08T21:17:11Z","Content":"\n\u003Cp\u003EEven if unity supported multithreading, it might not work. It might not be possible to multithread the physics calculations, because the calculations of each part of the ship are not independent of each other. However, it should be possible to use GPUs to accelerate the calculations\u003C/p\u003E\n"},{"CreatedByName":"earth","CreatedById":18562,"CreatedDateTime":"2013-10-08T21:39:14Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://bulletphysics.org/wordpress/?p=340\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bulletphysics.org/wordpress/?p=340\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELearn that Unity\u0027s physics engine is years old, can\u0027t do multithreading nor use the GPU. Read this. Cry a lot.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0022Note that the ATI Radeon 7970 can simulate 110k rigidbodies at 30fps\u0022\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E(whats more, bullet engine is free and has integration solutions in unity, afaik)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-08T21:41:16Z\u0022 title=\u002210/08/2013 09:41  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 8, 2013\u003C/time\u003E by earth\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2013-10-08T21:57:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022earth\u0022 data-cite=\u0022earth\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022http://bulletphysics.org/wordpress/?p=340\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bulletphysics.org/wordpress/?p=340\u003C/a\u003E\u003Cp\u003ELearn that Unity\u0027s physics engine is years old, can\u0027t do multithreading nor use the GPU. Read this. Cry a lot.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0022Note that the ATI Radeon 7970 can simulate 110k rigidbodies at 30fps\u0022\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E(whats more, bullet engine is free and has integration solutions in unity, afaik)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI thought that too, however the BULLET plugin project for Unity3D hasn\u0027t been updated since late 2012. I was pretty optimistic when I read about it since it would allow an OpenCL accelerated physics pipeline for Unity but the programmer (chbfiv) working on the project ran out of \u003Ca href=\u0022https://www.facebook.com/unitybulletphysics\u0022 rel=\u0022external nofollow\u0022\u003Efunding/money ~August 2012\u003C/a\u003E and hasn\u0027t been working on it since.\u003C/p\u003E\u003Cp\u003EWhich is really a shame, because that one person managed the whole integration right up to cloth/softbodies in ~4 months, I hope they have a chance to come back and finish it because OpenCL (GPGPU) acceleration would be immensely liberating for the game.\u003C/p\u003E\n"},{"CreatedByName":"Whackjob","CreatedById":71402,"CreatedDateTime":"2013-10-08T21:58:44Z","Content":"\n\u003Cp\u003EFun fact: My beard got six votes in the 2012 presidential elections.\u003C/p\u003E\n"},{"CreatedByName":"TMS","CreatedById":57134,"CreatedDateTime":"2013-10-08T22:02:05Z","Content":"\n\u003Cp\u003EDefeated by a whisker, surely.\u003C/p\u003E\n"},{"CreatedByName":"Whackjob","CreatedById":71402,"CreatedDateTime":"2013-10-08T22:02:58Z","Content":"\n\u003Cp\u003EFind me any whisker that can defeat that beard.\u003C/p\u003E\n"},{"CreatedByName":"earth","CreatedById":18562,"CreatedDateTime":"2013-10-08T22:05:01Z","Content":"\n\u003Cp\u003Eyay. if it aint done in two and a half years, i know what my phd subject is gonna be.\u003C/p\u003E\n"},{"CreatedByName":"Whackjob","CreatedById":71402,"CreatedDateTime":"2013-10-08T23:16:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022earth\u0022 data-cite=\u0022earth\u0022\u003E\u003Cdiv\u003Eyay. if it aint done in two and a half years, i know what my phd subject is gonna be.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBeards? I can give you a data point, but samples ain\u0027t gonna happen.\u003C/p\u003E\n"},{"CreatedByName":"lammatt","CreatedById":21777,"CreatedDateTime":"2013-10-08T23:28:41Z","Content":"\n\u003Cp\u003Ei\u0027hve heard the newer unity is multithreading.\u003C/p\u003E\u003Cp\u003Ebut that SQUAD is probably not migrating to the new engine \u003C/p\u003E\u003Cp\u003Eprobably because it\u0027ll require new licensing (which means $)\u003C/p\u003E\u003Cp\u003Eand revamping the codes (which means a lot of manpower and $$)\u003C/p\u003E\u003Cp\u003Eand it takes time\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2013-10-08T23:41:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lammatt\u0022 data-cite=\u0022lammatt\u0022\u003E\u003Cdiv\u003Ei\u0027hve heard the newer unity is multithreading.\u003Cp\u003Ebut that SQUAD is probably not migrating to the new engine \u003C/p\u003E\u003Cp\u003Eprobably because it\u0027ll require new licensing (which means $)\u003C/p\u003E\u003Cp\u003Eand revamping the codes (which means a lot of manpower and $$)\u003C/p\u003E\u003Cp\u003Eand it takes time\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe 0.22 release is based on the newest iteration of Unity (4.2)\u003C/p\u003E\u003Cp\u003EMulti-threading (which Unity 4\u002B is) is not the same as being threadsafe (where one processing thread can be split across multiple cores).\u003C/p\u003E\n"},{"CreatedByName":"spikeyhat09","CreatedById":39217,"CreatedDateTime":"2013-10-09T02:30:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Infineon\u0022 data-cite=\u0022Infineon\u0022\u003E\u003Cdiv\u003EIs it just me who wants multithreading?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyup. its just you. its not like this has ever been discussed before. I sure as hell do not want a feature that would greatly increase the part limit bottleneck, no that would be totally pointless\u003C/p\u003E\n"},{"CreatedByName":"Stealth2668","CreatedById":57377,"CreatedDateTime":"2013-10-09T02:35:50Z","Content":"\n\u003Cp\u003EI wonder why they went with Unity in the first place if it\u0027s so old and only uses 1 core. These days, no one has a single core computer. Aren\u0027t there better engines they could have used affordably?\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2013-10-09T03:18:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stealth2668\u0022 data-cite=\u0022Stealth2668\u0022\u003E\u003Cdiv\u003EI wonder why they went with Unity in the first place if it\u0027s so old and only uses 1 core. These days, no one has a single core computer. Aren\u0027t there better engines they could have used affordably?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnity can use multiple cores (multi-threading), it just can\u0027t split a thread (i.e physics) between multiple cores (thread-safe).\u003C/p\u003E\u003Cp\u003EUnfortunately nothing in the thread-safing category was announced in the Unity 4.3 feature set at the Unite 2013, making Unity thread-safe is such a huge deal (programmatically) I\u0027m not sure it\u0027s even possible as part of the 4.x series? \u003C/p\u003E\u003Cp\u003EThe GoToState function and blendshape updates to the Mechanim animation system might allow for some neat stuff though\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2013-10-09T03:31:49Z","Content":"\n\u003Cp\u003ESquad mentioned a 30% performance increase with .22 if I remember correctly. That\u0027s pretty significant. Despite unity being out of date there will always be things Squad can do to optimize their own software in the meantime. We may not get much on the end of fps increases, but what I hope is a stability increase. If we only have 3.5gb of ram to work with then it\u0027d be nice if Squad can lower the footprint a bit.\u003C/p\u003E\n"},{"CreatedByName":"csanders","CreatedById":82143,"CreatedDateTime":"2013-10-09T03:39:18Z","Content":"\n\u003Cp\u003ESome things just can\u0027t be multi-threaded.\u003C/p\u003E\u003Cp\u003EHow physical forces traverse through a structure might be one of those things.\u003C/p\u003E\u003Cp\u003ESure, the graphics can be off-threaded, but if that physics problem (not sure if it exists, just suspect it does) can\u0027t be multi-threaded, we\u0027re SOL. Without a lot of work, anyway.\u003C/p\u003E\n"},{"CreatedByName":"lammatt","CreatedById":21777,"CreatedDateTime":"2013-10-09T03:40:30Z","Content":"\n\u003Cp\u003Ei guess SQUAD, being new to the gaming industry when this KSP started, didnt know the importance of choosing a potent engine.\u003C/p\u003E\u003Cp\u003E(i have no idea as i aint in the industry, but i think it\u0027s probably that licensing unity was considerably cheaper than other options)\u003C/p\u003E\n"}]}