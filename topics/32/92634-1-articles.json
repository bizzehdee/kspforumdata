{"TopicId":92634,"ForumId":32,"TopicTitle":"Step-by-Step dV calculation?","CreatedByName":"Vectura","CreatedById":119212,"CreatedDateTime":"2014-12-12T16:18:16Z","PageNum":1,"Articles":[{"CreatedByName":"Vectura","CreatedById":119212,"CreatedDateTime":"2014-12-12T16:18:16Z","Content":"\n\u003Cp\u003EI am trying to make a small utility to calculate dV of a single stage. I just wondered: what variables will it need, and what is the step by step mathematical process to get the final number? Sorry if this is the wrong forum section \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"EtherDragon","CreatedById":82405,"CreatedDateTime":"2014-12-12T16:28:43Z","Content":"\n\u003Cp\u003EYou need to know the following pieces if information:\u003C/p\u003E\u003Cp\u003EThe vessel\u0027s dry mass - that is it\u0027s mass without any fuel loaded.\u003C/p\u003E\u003Cp\u003EThe vessel\u0027s wet mass - that is it\u0027s mass with a full load of fuel.\u003C/p\u003E\u003Cp\u003EThe Isp of the rocket motor.\u003C/p\u003E\u003Cp\u003EWith these infos you can run the numbers through a rather simple equation to find its delta-v.\u003C/p\u003E\u003Cp\u003EThe real difficulty comes down when you have multiple stages. You need to do the same calculation for each stage to determine the vessels total effective delta-v.\u003C/p\u003E\u003Cp\u003EFor reference - here is a \u003Ca href=\u0022https://en.wikipedia.org/wiki/Tsiolkovsky_rocket_equation\u0022 rel=\u0022external nofollow\u0022\u003Elink to Tsiolkovsky\u0027s rocket equation\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Vectura","CreatedById":119212,"CreatedDateTime":"2014-12-12T16:30:16Z","Content":"\n\u003Cp\u003EThanks. I assume that with the calculations for lower stages I should include the wet mass\u002Bpart mass of all the stages above?\u003C/p\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2014-12-12T16:31:58Z","Content":"\n\u003Cp\u003EThat\u0027s really easy. You need the initial and final masses of your rocket (for each stage on a multistage design, of course), and the isp of the engine. Let\u0027s call those Mi, Mf, and Isp. DeltaV (dV) would be:\u003C/p\u003E\u003Cp\u003EdV=9.81*Isp*Ln(Mi/Mf)\u003C/p\u003E\u003Cp\u003EAs simple as that, Ln is the natural logarithm (base e). Any calculator can do that in a second! The only laborious part is adding and subtracting masses around. And of course, Mi and Mf are before and after a rocket burn, you have to consider the whole rocket as it does the burn, upper stages included.\u003C/p\u003E\u003Cp\u003ERune. Shouldn\u0027t be hard... but a bit redundant, given KER and the like.\u003C/p\u003E\n"},{"CreatedByName":"Vectura","CreatedById":119212,"CreatedDateTime":"2014-12-12T16:49:22Z","Content":"\n\u003Cp\u003EThanks! Simpler than I thought\u003C/p\u003E\n"},{"CreatedByName":"EtherDragon","CreatedById":82405,"CreatedDateTime":"2014-12-12T16:58:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vectura\u0022 data-cite=\u0022Vectura\u0022\u003E\u003Cdiv\u003EThanks. I assume that with the calculations for lower stages I should include the wet mass\u002Bpart mass of all the stages above?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHint dropped and picked up, good job! \u003C/p\u003E\u003Cp\u003EYes, you are exactly correct. Given an arbitrary number of stages the dry mass for stage N is always equal the dry mass for stage N plus the total mass of stage N\u002B1.\u003C/p\u003E\u003Cp\u003ESpecific example - a two stage rocket\u003C/p\u003E\u003Cp\u003EStage 1 has 15/10 wet/dry masses (not counting stage 2)\u003C/p\u003E\u003Cp\u003EStage 2 has 10/5 wet/dry masses (not counting stage 1)\u003C/p\u003E\u003Cp\u003EYour delta-v calculation would consider stage 2\u0027s wet mass as part of stage 1\u0027s dry mass, thus the actual values are:\u003C/p\u003E\u003Cp\u003EStage 1 = 25/20 wet/dry* mass (*includes wet mass from stage 2)\u003C/p\u003E\u003Cp\u003EStage 2 = 10/5 wet/dry mass\u003C/p\u003E\u003Cp\u003EThen you calculate each stage based on the Isp for the engine available. For instance Stage 1 might run at 250 Isp, but stage 2 might run at 800 Isp.\u003C/p\u003E\u003Cp\u003ESo you plug those into the rocket equation (thanks Rune for posting it!) and you end up with\u003C/p\u003E\u003Cp\u003EdVs1 = 9.81*250*Ln(25/20)\u003C/p\u003E\u003Cp\u003EdVs2 = 9.81*800*Ln(10/5)\u003C/p\u003E\u003Cp\u003ESince Total dV = dVs1 \u002B dVs2 you end up with\u003C/p\u003E\u003Cp\u003EdVt = 9.81*250*Ln(25/20) \u002B 9.81*800*Ln(10/5)\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-12-12T17:22:00Z","Content":"\n\u003Cp\u003Eg0 is 9.82 in KSP, not 9.81 (or 9.806... IRL).\u003C/p\u003E\n"},{"CreatedByName":"pincushionman","CreatedById":98495,"CreatedDateTime":"2014-12-12T17:23:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vectura\u0022 data-cite=\u0022Vectura\u0022\u003E\u003Cdiv\u003EThanks! Simpler than I thought\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s not very complex, in the strictest sense. The difficulty and complexity come from making sure you correctly account for all your sources of mass and properly carry them through your stages, approptiately identifying your Isp (especially with mixed engine clusters), and the like. THAT part can be tedious and error-prone, and that\u0027s why so many players prefer tools to do the heavy lifting for them.\u003C/p\u003E\u003Cp\u003ESo it\u0027s a really straightforward MATH problem, but it CAN BE a difficult BOOKKEEPING one.\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2014-12-12T17:48:57Z","Content":"\n\u003Cp\u003EIf you\u0027re looking to calculate the DV for one stage, you would only include the wet mass of stages that are being treated as payload.\u003C/p\u003E\u003Cp\u003ESo here\u0027s the process for doing it:\u003C/p\u003E\u003Cp\u003EMp is your payload\u003C/p\u003E\u003Cp\u003EMe is your engine mass\u003C/p\u003E\u003Cp\u003EMt is the mass of your empty fuel tanks\u003C/p\u003E\u003Cp\u003EMf is the mass of your fuel\u003C/p\u003E\u003Cp\u003EMp\u002BMe\u002BMt\u002BMf= Mw; your wet mass\u003C/p\u003E\u003Cp\u003EMw-Mf= Md; your dry mass\u003C/p\u003E\u003Cp\u003EMw/Md= Rm; your mass ratio\u003C/p\u003E\u003Cp\u003ELN(Rm)= Cdv; your delta v coefficient.\u003C/p\u003E\u003Cp\u003EIsp= the specific impulse of your engine.\u003C/p\u003E\u003Cp\u003ECdv*9.82*Isp= DV; the total delta v for that stage.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-12T17:51:07Z\u0022 title=\u002212/12/2014 05:51  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 12, 2014\u003C/time\u003E by GoSlash27\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"justidutch","CreatedById":99185,"CreatedDateTime":"2014-12-12T18:04:37Z","Content":"\n\u003Cp\u003EI gets a little funner if you happen to have a stage with different engines though. Then you have to calculate the weighted average of their ISPs first.\u003C/p\u003E\u003Cp\u003EI too built my own DV calculator - a great little project to do at work instead of working. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"LethalDose","CreatedById":92657,"CreatedDateTime":"2014-12-12T18:19:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GoSlash27\u0022 data-cite=\u0022GoSlash27\u0022\u003E\u003Cdiv\u003EIf you\u0027re looking to calculate the DV for one stage, you would only include the wet mass of stages that are being treated as payload.\u003Cp\u003ESo here\u0027s the process for doing it:\u003C/p\u003E\u003Cp\u003EMp is your payload\u003C/p\u003E\u003Cp\u003EMe is your engine mass\u003C/p\u003E\u003Cp\u003EMt is the mass of your empty fuel tanks\u003C/p\u003E\u003Cp\u003EMf is the mass of your fuel\u003C/p\u003E\u003Cp\u003EMp\u002BMe\u002BMt\u002BMf= Mw; your wet mass\u003C/p\u003E\u003Cp\u003EMw-Mf= Md; your dry mass\u003C/p\u003E\u003Cp\u003EMw/Md= Rm; your mass ratio\u003C/p\u003E\u003Cp\u003ELN(Rm)= Cdv; your delta v coefficient.\u003C/p\u003E\u003Cp\u003EIsp= the specific impulse of your engine.\u003C/p\u003E\u003Cp\u003ECdv*9.82*Isp= DV; the total delta v for that stage.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou go on a tear about how calculating dV isn\u0027t complicated, and then you start inventing superfluous notation to complicate dV calculation... \u003C/p\u003E\u003Cp\u003EIgnore the Cdv and Rm terms above. The notation clarifies nothing and isn\u0027t used anywhere else. Just stick to the equation:\u003C/p\u003E\u003Cp\u003E9.82 * Isp * ln(Mw/Md)\u003C/p\u003E\u003Cp\u003Esince it\u0027s recognizable as the \u003Cem\u003Eactual\u003C/em\u003E equation.\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2014-12-12T18:46:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EYou go on a tear about how calculating dV isn\u0027t complicated, and then you start inventing superfluous notation to complicate dV calculation... \u003Cp\u003EIgnore the Cdv and Rm terms above. The notation clarifies nothing and isn\u0027t used anywhere else. Just stick to the equation:\u003C/p\u003E\u003Cp\u003E9.82 * Isp * ln(Mw/Md)\u003C/p\u003E\u003Cp\u003Esince it\u0027s recognizable as the \u003Cem\u003Eactual\u003C/em\u003E equation.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E Know how I know you didn\u0027t read the actual OP?\u003C/p\u003E\u003Cp\u003E The man asked for a step-by-step process and variable names to use in his utility and this is what I gave him.\u003C/p\u003E\u003Cp\u003E More reading, less being snotty please and thank you.\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2014-12-12T19:19:41Z","Content":"\n\u003Cp\u003EYou have all the information you need, here\u0027s how \u003Ca href=\u0022http://exploration.grc.nasa.gov/education/rocket/rktpow.html\u0022 rel=\u0022external nofollow\u0022\u003ENASA explains it\u003C/a\u003E. There\u0027s a load of interesting stuff on that site, as you\u0027d expect.\u003C/p\u003E\n"},{"CreatedByName":"LethalDose","CreatedById":92657,"CreatedDateTime":"2014-12-12T19:53:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GoSlash27\u0022 data-cite=\u0022GoSlash27\u0022\u003E\u003Cdiv\u003EKnow how I know you didn\u0027t read the actual OP?\u003Cp\u003E The man asked for a step-by-step process and variable names to use in his utility and this is what I gave him.\u003C/p\u003E\u003Cp\u003E More reading, less being snotty please and thank you.\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, I read the OP, the equation should be presented as a one-step process. It\u0027s why I didn\u0027t say anything about the separate mass terms, which are useful.\u003C/p\u003E\u003Cp\u003EPS Learn to take your own advice. Especially before starting threads that insult large swaths of the community.\u003C/p\u003E\n"},{"CreatedByName":"Basketcase","CreatedById":112260,"CreatedDateTime":"2014-12-12T22:01:53Z","Content":"\n\u003Cp\u003EHere, I did this real quick. It should be accurate minus a few absolute value and dot indications.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/uUMPLjF.png\u0022 alt=\u0022uUMPLjF.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2014-12-12T23:44:33Z","Content":"\n\u003Cp\u003EPlease don\u0027t make this personal, folks. Talk about the math and leave each other\u0027s personalities out of it.\u003C/p\u003E\n"}]}