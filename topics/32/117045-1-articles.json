{"TopicId":117045,"ForumId":32,"TopicTitle":"Would these large memory patches work on 32bit KSP?","CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-07-28T07:46:50Z","PageNum":1,"Articles":[{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-07-28T07:46:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThis is an application that assists in making applications large address aware. When a 32-bit application is large address aware, it can access up to 4 GiB on x64 operating systems and all memory that isn\u0027t used by the operating system and other applications on x86. 64-bit versions of Windows require no modifications to the operating system to benefit from this application; however, in 32-bit versions of Windows, you must increase the user memory setting. Instructions how to do this are in spoiler below. It is not advised to use this application if you have less than 3 GiB of RAM.\u003Cp\u003EThis application may not work on older executables (predating 2000).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.techpowerup.com/forums/threads/large-address-aware.112556/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.techpowerup.com/forums/threads/large-address-aware.112556/\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI originally wrote this tool for a friend of mine who needed it. This very little tool patches x86 executables in order to let them have 4GB (instead of only 2) of virtual memory on x64 platforms. This tool comes very handy for applications which need a great amount of virtual memory like games, 3D renderization, multimedia etc. To gain these 2GB, you just have to use this tool to patch the executable (*.exe file) of the software you want to have these additional GBs of virtual memory. It can be used by clicking on it and choosing the file or through command line (e.g.: \u00224gb_patch file.exe\u0022). It automatically creates a backup copy of the original executable.\u003Cp\u003EWhy things are this way on x64 is easy to explain. On x86 applications have 2GB of virtual memory out of 4GB (the other 2GB are reserved for the system). On x64 these two other GB can now be accessed by 32bit applications. In order to achieve this, a flag has to be set in the file\u0027s internal format. This is, of course, very easy for insiders who do it every day with the CFF Explorer. This tool was written because not everybody is an insider, and most probably a lot of people don\u0027t even know that this can be achieved. Even I wouldn\u0027t have written this tool if someone didn\u0027t explicitly ask me to.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.ntcore.com/4gb_patch.php\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.ntcore.com/4gb_patch.php\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Harry Rhodan","CreatedById":119953,"CreatedDateTime":"2015-07-28T07:59:27Z","Content":"\n\u003Cp\u003ENo. KSP can already access 4GB.\u003C/p\u003E\n"},{"CreatedByName":"Xyphos","CreatedById":139010,"CreatedDateTime":"2015-07-28T08:14:15Z","Content":"\n\u003Cp\u003EKSP can already access 4gb, as it is run by a High-Level Managed programming language which handles the memory allocation and garbage collection.\u003C/p\u003E\u003Cp\u003Ethe problem with KSP is the 4gb boundary itself. in order to break the 4gb limit, KSP needs to become natively 64bit.\u003C/p\u003E\u003Cp\u003EI\u0027m not sure as to why KSP isn\u0027t natively 64 bits, but I suspect it\u0027s because of Unity, which raises another question as to why Unity isn\u0027t 64bit\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2015-07-28T08:17:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xyphos\u0022 data-cite=\u0022Xyphos\u0022\u003E\u003Cdiv\u003EI\u0027m not sure as to why KSP isn\u0027t natively 64 bits, but I suspect it\u0027s because on Unity...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKSP uses Unity4 and the Windows x64 Unity build is and always was a disaster. thank god, squad is already working on porting it to Unity5, which should run definitely better (or so we hope at last)\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2015-07-28T08:17:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xyphos\u0022 data-cite=\u0022Xyphos\u0022\u003E\u003Cdiv\u003EI\u0027m not sure as to why KSP isn\u0027t natively 64 bits, but I suspect it\u0027s because on Unity...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnity 4, primarily; seems to have issues with 64 bit that are hard to pinpoint and reproduce. Reached the point where modders started disabling their mods in x64 so\u0027s to stop getting reports about problems that weren\u0027t their fault.\u003C/p\u003E\u003Cp\u003EUnity 5 on the other hand... there will be no excuse, and I deeply hope that all the dev work so far has been done in 64 bit. My game yearns for more visual fancies AND parts packs \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Brofessional","CreatedById":2080,"CreatedDateTime":"2015-07-28T08:35:30Z","Content":"\n\u003Cp\u003EUnity is 64-bit. There\u0027s some incompatibility with Windows 64-bit Unity and KSP that they haven\u0027t been able to solve. \u003C/p\u003E\u003Cp\u003ELinux 64-bit KSP works fine, but the game runs significantly worse on OpenGL.\u003C/p\u003E\u003Cp\u003EIt\u0027s imperative that they get Win x64 working in Unity 5. By this point even the stock game is getting close to the memory limit, and it\u0027s still missing a lot of features.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-28T08:54:57Z\u0022 title=\u002207/28/2015 08:54  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 28, 2015\u003C/time\u003E by Brofessional\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-07-28T09:25:40Z","Content":"\n\u003Cp\u003EYup, all of the above^.\u003C/p\u003E\u003Cp\u003EHere\u0027s hoping they also do something about the lack-luster OpenGL performance and lack of x64 on OSX. \u003C/p\u003E\u003Cp\u003ENot that I\u0027m crazy enough to own a Mac \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E, but everyone deserves a fair go - it\u0027s not all about Windows.\u003C/p\u003E\n"},{"CreatedByName":"Broax","CreatedById":109333,"CreatedDateTime":"2015-07-28T09:49:40Z","Content":"\n\u003Cp\u003EI just upgraded my PC and decided to give the x64 hack a go and, to be honest, I couldn\u0027t be more pleased. Aside from some minor bugs (the buildings sometimes switch between tiers) the game runs at a stable framerate with all settings maxed out (1440x900 which is the native res of my screen) using a couple of visual enhancement mods and while using over 5GB of memory. \u003C/p\u003E\u003Cp\u003EIf I were you I\u0027d give Win64 a try. Some people report a lot of instability but others say it runs smoothly so I guess it depends on luck.\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-07-28T09:52:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Broax\u0022 data-cite=\u0022Broax\u0022\u003E\u003Cdiv\u003ESome people report a lot of instability but others say it runs smoothly so I guess it depends on luck.\u003C/div\u003E\u003C/blockquote\u003ESuch is the crux of the problem, it\u0027s still too unpredictable for an official release. It appears the force is with you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\n"},{"CreatedByName":"luizopiloto","CreatedById":97503,"CreatedDateTime":"2015-07-28T10:13:30Z","Content":"\n\u003Cp\u003Evirtual memory... not RAM... virtual memory reads and writes from HDD cache... \u00C3\u201A\u00C2\u00AC\u00C3\u201A\u00C2\u00AC\u0022\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-07-28T14:05:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022luizopiloto\u0022 data-cite=\u0022luizopiloto\u0022\u003E\u003Cdiv\u003Evirtual memory... not RAM... virtual memory reads and writes from HDD cache... \u00C3\u201A\u00C2\u00AC\u00C3\u201A\u00C2\u00AC\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot in this case. \u0022Virtual memory\u0022 is Windows-speak for \u0022virtual address space\u0022, which is the private addressing each process receives; the OS\u0027s memory manager maps these to physical RAM locations or disk-backed pages. The memory locations the process can access may be backed by RAM or disk, depending on what the OS memory manager is doing. Confusingly though, Windows also calls the pagefile management screen \u0022virtual memory\u0022, which is likely what you are thinking of.\u003C/p\u003E\n"}]}