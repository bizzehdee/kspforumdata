{"TopicId":207543,"ForumId":32,"TopicTitle":"Drag Mechanics","CreatedByName":"arthur106","CreatedById":203096,"CreatedDateTime":"2022-04-04T01:12:34Z","PageNum":1,"Articles":[{"CreatedByName":"arthur106","CreatedById":203096,"CreatedDateTime":"2022-04-04T01:12:34Z","Content":"\n\u003Cp\u003E\nI\u0027ve been out of the game for about 2 years do to work and other obligations but have recently started up again.\u00A0 Before leaving, I was trying to work out drag mechanics so that I could totally nerd out creating Matlab simulations and KOS scripts with a great deal of precision.\u00A0 I never quite figured anything out, so I thought I\u0027d pick up where I left off.\u00A0 I hope this information is not repetitive.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s been mentioned before that the coefficient of drag (Cd) is a function of a pseudo-Reynolds number (Re=rho*v) and of Mach number (M=v/c).\u00A0 I wasn\u0027t sure what exactly to make of this, so I started playing around with Kerbal Wind Tunnel to get more information.\u00A0 I have found so far that the function relating Cd to Re and M [Cd = f(Re,M)] is merely the product of two simpler functions [i.e. f(Re,M) = g(Re)*h(M)].\u00A0 Basically, there are two \u0022drag multipliers\u0022, one based on pseudo-Reynold\u0027s Number, and the other based solely on Mach Number; these multipliers are independent of each other.\u00A0 From my reading on the forums thus far, this fact was not obvious; I had feared that the Cd was a more complex function of both Re and M.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is worth mentioning that when I write Cd, I am actually referring to CdA.\u00A0 The equation for drag is Fd = 1/2*rho*v^2*Cd*A.\u00A0 Since A (surface area) is a constant, it sometimes just gets lumped in with Cd.\n\u003C/p\u003E\n\u003Cp\u003E\nThe benefit of knowing this information is that it is much simpler to \u0022flight test\u0022 a given craft to find the relationship between Cd, Re, and M.\u00A0 The following graph shows what I mean; the values in green were measured using Kerbal Wind Tunnel while the remaining values were calculated using the relationship explained in the second paragraph.\u00A0 Note, the bold values were also measured using KWT merely to confirm this relationship.\u00A0 Using these values of Cd, I was able to make an excel \u0022program\u0022 that can calculate the altitude and velocity of a test rocket up to 70,000m within a few [m] and [m/s] of accuracy.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022MQXfYLy.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002235.00\u0022 height=\u0022287\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/MQXfYLy.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNow this got me thinking...\u0022what if the shape of g(Re) and h(M) were always the same for every craft, and only varied by a constant?\u00A0 Wouldn\u0027t that be convenient?!\u0022\u00A0 (i.e. what if for a given Re, the Cd at Mach 2 was always X times larger than the Cd at Mach 1.5?...or if for a given Mach, the Cd at an Re of 400 was always Y times more than at an Re of 200?).\u00A0 The benefit if that were true would be that you\u0027d only have to obtain one single data point to calculated the entire drag profile of a new craft.\u00A0 I created a second test craft to test this theory and obtained a very similar function g(Re); it was hard to tell if it was actually different, or if I was just seeing rounding errors.\u00A0 Unfortunately, h(M) was entirely different.\n\u003C/p\u003E\n\u003Cp\u003E\nSo for now, the only way I can think of to obtain an entire drag profile for a craft is to use KWT to obtain Cd at several dozen data points and use a simple excel program to fill in the blanks.\u00A0 This is unfortunately a timely process.\u00A0 If only I were more computer savvy, I could maybe get into the API and create a simple C program to run these tests for me and obtain a matrix of data as shown in the figure above.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone have anything to add, or does anyone possibly understand the relationship between Cd and Mach or between Cd and Re better than I?\n\u003C/p\u003E\n"},{"CreatedByName":"xub313","CreatedById":57408,"CreatedDateTime":"2022-04-10T12:22:38Z","Content":"\n\u003Cp\u003E\nI\u0027ve also been getting back into KSP. I even made an Excel \u0022program\u0022 to predict rocket launches too. If you want a thorough breakdown of KSPs drag mechanics, I recommend you read \u003Ca href=\u0022https://github.com/Ren0k/Project-Atmospheric-Drag#Section2\u0022 rel=\u0022external nofollow\u0022\u003Ethis post\u003C/a\u003E\u00A0I found the other day. I haven\u0027t used his KOS script, but his calculations are very close to the game\u0027s debug tooltips.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou\u0027re right that the drag factors from the pseudo-Reynolds number and Mach number are independent. The multipliers for Re and M are defined in KSPs physics.cfg file using splines (DRAG_PSEUDOREYNOLDS and DRAG_MULTIPLIER.) These are the same for every craft, however, these are only applied after KSP calculates the drag for each part, a function\u00A0of its drag cube, heading, and Mach. Mach effects each craft differently, which makes sense, a pointy craft will be less affected by Mach than a blunt one. You can see this in the splines I mentioned where tip drag is heavily emphasized past Mach 1.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you\u0027re interested, I plugged a bunch of the splines from physics.cfg into \u003Ca href=\u0022https://www.desmos.com/calculator/gqgihggatp\u0022 rel=\u0022external nofollow\u0022\u003EDesmos \u003C/a\u003Eto see what they looked like. Here\u0027s a graph of the Cd multiplier indexed by Mach number.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022YmHFRYf.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u0022800\u0022 width=\u0022800\u0022 src=\u0022https://i.imgur.com/YmHFRYf.png\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}