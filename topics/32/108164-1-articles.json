{"TopicId":108164,"ForumId":32,"TopicTitle":"\u0022Mammoth\u0027s\u0022 NOT-SO psychotic gimbal wobble","CreatedByName":"Dire_Squid","CreatedById":111106,"CreatedDateTime":"2015-05-08T05:54:57Z","PageNum":1,"Articles":[{"CreatedByName":"Dire_Squid","CreatedById":111106,"CreatedDateTime":"2015-05-08T05:54:57Z","Content":"I\u0027ve seen that the Mammoth seems to be more powerful now, in 1.0.2 (trying to create a Duna Rover, inside of a fairing, attached to a stack of super-heavy tanks, and two jumbotank \u0022boosters\u0022 (using the Mainsails as engines, gimbal turned off).\n\nHowever, I see that the gimbal for the Mammoth engine eventually begins to wobble, STRONGLY: making the rocket wobble, and I eventually see the rover eventually clip outside of its own fairing (it stops the moment I turn the gimbal off). I haven\u0027t gotten it down to a science, but the wobbly gimbal seems to be a BIT more controllable once I set the gimbal limit to 45, or less. I am unsure how bad the wobbly gimbal acts in a vaccum, atm.\n\n**Edited \u003Ctime datetime=\u00222015-05-09T00:04:12Z\u0022 title=\u002205/09/2015 12:04  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 9, 2015\u003C/time\u003E by Dire\\_Squid**"},{"CreatedByName":"zekes","CreatedById":23840,"CreatedDateTime":"2015-05-08T05:56:08Z","Content":"It\u0027s \u0022zero- BANG- zero- BANG\u0022\n\nBut I\u0027m okay with it...."},{"CreatedByName":"Dire_Squid","CreatedById":111106,"CreatedDateTime":"2015-05-08T06:04:33Z","Content":"\u003E \n\u003E It\u0027s \u0022zero- BANG- zero- BANG\u0022\n\u003E But I\u0027m okay with it....\n\nLiiiiiike setting the Gimbal to 0 and then shooting it up all the way?\n\nA shame because I LOVED using the Mammoths for my \u0022power engines\u0022 for super-heavy craft. Rhinos USED to be good, but now they seem to have become underpowered (took about 20 seconds for the craft to SLOWLY lift... like \u00222 meters a second\u0022 lift. rofl)."},{"CreatedByName":"Reddeyfish","CreatedById":142160,"CreatedDateTime":"2015-05-08T06:08:40Z","Content":"a lot of engines seem to have a wobble problem. Also, \u003EDire\\_squad: the rhino is NOT a lifting engine; it\u0027s an upper stage engine (it has twice as much thrust in orbit as it does on the pad)"},{"CreatedByName":"zekes","CreatedById":23840,"CreatedDateTime":"2015-05-08T06:09:13Z","Content":"\u003E \n\u003E Liiiiiike setting the Gimbal to 0 and then shooting it up all the way?\n\u003E A shame because I LOVED using the Mammoths for my \u0022power engines\u0022 for super-heavy craft. Rhinos USED to be good, but now they seem to have become underpowered (took about 20 seconds for the craft to SLOWLY lift... like \u00222 meters a second\u0022 lift. rofl).\n\nThey\u0027re fine for me - In fact I built a 300-ton-to LKO rocket using just 4 of them (plus some SRBs to help)"},{"CreatedByName":"Dire_Squid","CreatedById":111106,"CreatedDateTime":"2015-05-08T06:21:46Z","Content":"\u003E \n\u003E They\u0027re fine for me - In fact I built a 300-ton-to LKO rocket using just 4 of them (plus some SRBs to help)\n\nWell, I most likely put too many tanks or the Rhino to take, but a good amount for the Mammoth."},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-05-08T07:09:40Z","Content":"You can adjust the gimbal strength - even in flight.\n\nJust turn it down to 20% or so. That should get rid of the overzealous wobble while still letting you steer with it. If it still wobbles... turn it down even further."},{"CreatedByName":"Kuu Lightwing","CreatedById":142724,"CreatedDateTime":"2015-05-08T07:17:58Z","Content":"\u003E \n\u003E Well, I most likely put too many tanks or the Rhino to take, but a good amount for the Mammoth.\n\nrhino is a vacuum engine. It loses half the thrust at ASL"},{"CreatedByName":"Renegrade","CreatedById":96629,"CreatedDateTime":"2015-05-08T08:01:28Z","Content":"\u003E \n\u003E rhino is a vacuum engine. It loses half the thrust at ASL\n\nThe atmosphere effectively ends between 4km and 12km for \u0027vacuum\u0027 engines, FYI. My Terrier-based spaceplane is like 0.1 Isp off of max Isp at 12km when the rockets kick in as an example."},{"CreatedByName":"Jaeleth","CreatedById":136435,"CreatedDateTime":"2015-05-08T08:19:08Z","Content":"Wobbling seems to occur in 2 scenarios:\n\n1. when the vehicle\u0027s ability to correct position is limited, either because is too heavy or because it is too long, i don\u0027t know the precise reason, thus making it respond slowly to the engine\u0027s inputs, thus overcontrolling, due to the PID controller response, and creating a positive feedback which increases the amplitude of the oscillation over time (resonance frequency achieved, in real life you can bring down a bridge with a large number of feet stomping it at an exact frequency), destroying the vessel or simply flippling it over. And the PID in KSP excels at finding that frequency ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n2. When the vehicle is not rigid enough, ending in a situation like 1.\n\nSolutions:\n\n1. The Boeing 737 pilot way: turn it all off and fly it like a man! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) meaning you must turn off KAS and fly manually, it is not that hard with enough flight hours under the hood and on big rockets. It will bump around a bit but you will get it to orbit. (Worked with me)\n\n2. If it is wobbly, add struts, and struts... AND struts... Make sure the struts are separated by stages and the stages are connected with another set of struts, if needed. ( always works, but doesn\u0027t so,ve the whole of the problem)\n\n3. Maybe increase the number of reaction wheels, this will minimize, theoretically, the vessel\u0027s response time to the engine inputs, thus reducing the frequency thus preventing the PID from finding that wretched resonance frequency. (I never verified this one)\n\n4. Lock gimbal on all or some of the bigger engines and add some side stabilization engines if needed (cant remember the name of those, they are the ones who resemble saturn 5 first stage stabilization engines). (Worked with me)\n\n**Edited \u003Ctime datetime=\u00222015-05-08T08:24:55Z\u0022 title=\u002205/08/2015 08:24  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 8, 2015\u003C/time\u003E by Jaeleth**\n  \nMisspelling"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2015-05-08T10:03:21Z","Content":"Makes one wonder why Squad does not use the gimbal response speed parameter that they have created.\n\nIn the mean time i\u0027m using this modulemanager tweak: \n\n    @PART[*]:HAS[@MODULE[ModuleGimbal]]{\t@MODULE[ModuleGimbal]\t{\t useGimbalResponseSpeed = true\t gimbalResponseSpeed = 5\t}}"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-05-08T10:38:27Z","Content":"\u003E \n\u003E Wobbling seems to occur in 2 scenarios:\n\u003E 1. when the vehicle\u0027s ability to correct position is limited, either because is too heavy or because it is too long, i don\u0027t know the precise reason, thus making it respond slowly to the engine\u0027s inputs, thus overcontrolling, due to the PID controller response, and creating a positive feedback which increases the amplitude of the oscillation over time (resonance frequency achieved, in real life you can bring down a bridge with a large number of feet stomping it at an exact frequency), destroying the vessel or simply flippling it over. And the PID in KSP excels at finding that frequency ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E \n\u003E 2. When the vehicle is not rigid enough, ending in a situation like 1.\n\nI would add:\n\n3. You are using SAS in a mode other than stability assist.\n\nSeriously, the other modes look really useful but are close to unusable because every time I activate them the ship starts to oscillate like a bowstring."},{"CreatedByName":"Temeter","CreatedById":58056,"CreatedDateTime":"2015-05-08T10:51:21Z","Content":"\u003E \n\u003E I would add:\n\u003E 3. You are using SAS in a mode other than stability assist.\n\u003E \n\u003E Seriously, the other modes look really useful but are close to unusable because every time I activate them the ship starts to oscillate like a bowstring.\n\nStability assist can get pretty wobbly too, especially if you use an engine like the Mammoth and don\u0027t lower the gimbal."},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-05-08T11:22:01Z","Content":"One potential issue which I raise because A) the OP mentions the lander clipping through the fairing, and ![B)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png) I\u0027ve been bitten by this myself:\n\nFairings don\u0027t stop physics inside. Or even give any physical support.\n\nWe all know by now that floppy rockets don\u0027t fly well, and we use all the usual design techniques to avoid such problems. However, much as I love the fairings, they behave in a way that I find counterintuitive, and would not be surprised to see others have trouble with as well.\n\nThe first issue is that the stuff inside a fairing undergoes full physical simulation, even though you can\u0027t see it. It will wobble. This is made worse by the fact that the fairing doesn\u0027t provide any physical support at all for its contents (which seems wrong to me). When they do start the first subtle swaying, it\u0027s invisible, and you don\u0027t notice until it gets so bad that it makes the whole rocket wobble, at which point it\u0027s easy to misattribute the problem (e.g. \u0022My engine is psychotic\u0022 rather than \u0022My rocket is floppy\u0022).\n\nMaking things still worse: I find that I\u0027m considerably more likely to build a floppy rocket when a fairing is involved. The fairing looks big and solid when it\u0027s not, giving a false sense of security. Also, having the fairing there discourages me from using struts in some of the places I\u0027d normally put them, such as where the strut would penetrate the fairing (the game does let you do that, but the behavior is buggy/inconsistent and it just feels wrong to me).\n\nMoral of the story: Be careful with fairings, and firmly secure their contents.\n\n**Edited \u003Ctime datetime=\u00222015-05-08T11:33:00Z\u0022 title=\u002205/08/2015 11:33  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 8, 2015\u003C/time\u003E by Snark**"},{"CreatedByName":"mikegarrison","CreatedById":137807,"CreatedDateTime":"2015-05-08T11:37:47Z","Content":"\u003E \n\u003E One potential issue which I raise because A) the OP mentions the lander clipping through the fairing, and ![B)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png) I\u0027ve been bitten by this myself:\n\u003E Fairings don\u0027t stop physics inside. Or even give any physical support.\n\u003E \n\u003E We all know by now that floppy rockets don\u0027t fly well, and we use all the usual design techniques to avoid such problems. However, much as I love the fairings, they behave in a way that I find counterintuitive, and would not be surprised to see others have trouble with as well.\n\u003E \n\u003E The first issue is that the stuff inside a fairing undergoes full physical simulation, even though you can\u0027t see it. It will wobble. This is made worse by the fact that the fairing doesn\u0027t provide any physical support at all for its contents (which seems wrong to me). When they do start the first subtle swaying, it\u0027s invisible, and you don\u0027t notice until it gets so bad that it makes the whole rocket wobble, at which point it\u0027s easy to misattribute the problem (e.g. \u0022My engine is psychotic\u0022 rather than \u0022My rocket is floppy\u0022).\n\u003E \n\u003E Making things still worse: I find that I\u0027m considerably more likely to build a floppy rocket when a fairing is involved. The fairing looks big and solid when it\u0027s not, giving a false sense of security. Also, having the fairing there discourages me from using struts in some of the places I\u0027d normally put them, such as where the strut would penetrate the fairing (the game does let you do that, but the behavior is buggy/inconsistent and it just feels wrong to me).\n\u003E \n\u003E Moral of the story: Be careful with fairings, and firmly secure their contents.\n\nYep. My bigger rockets with fairings were behaving exactly this way. So I took a little more care with designing them for stiffness and I added the mod Kerbal Joint Reinforcement. It was like I waved a magic wand, and all that crazy wobbling disappeared.\n\nThe problem is not the engine. The problem is that the SAS is trying to steer at the cockpit, but it does so by using the engines (and/or fins) all the way at the other end of the rocket. So if your rocket isn\u0027t structurally stiff, the SAS gets out of phase with itself and your heading goes divergent."},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-05-08T11:55:46Z","Content":"\u003E \n\u003E ...I added the mod Kerbal Joint Reinforcement. It was like I waved a magic wand, and all that crazy wobbling disappeared.\n\nWhat I\u0027d like would be a KJR that only applies to fairing contents (with reinforcement that disappears when you pop the fairing). Better yet, if stock just behaved that way.\n\nI don\u0027t like to use KJR myself, because I like the design problem of making the rocket stable enough-- it\u0027s fun for me. But fairings are where that particular fun hits its boundary."},{"CreatedByName":"mythbusters844","CreatedById":72313,"CreatedDateTime":"2015-05-08T12:18:01Z","Content":"Everyone\u0027s using these new engine names but I only know the technical names so I\u0027m left in the dark ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif).\n\nEDIT: Seems the wiki has updated the engine pages with the new nicknames. Yay."},{"CreatedByName":"Dire_Squid","CreatedById":111106,"CreatedDateTime":"2015-05-08T23:57:17Z","Content":"\u003E \n\u003E You can adjust the gimbal strength - even in flight.\n\u003E Just turn it down to 20% or so. That should get rid of the overzealous wobble while still letting you steer with it. If it still wobbles... turn it down even further.\n\nWell, that I know. I\u0027ve manually shut the gimbal off, and turned the limiter to about 45%, but you\u0027ve got a more solid point on brining it own to 20%.\n\n\u003E \n\u003E rhino is a vacuum engine. It loses half the thrust at ASL\n\n\u003E \n\u003E The atmosphere effectively ends between 4km and 12km for \u0027vacuum\u0027 engines, FYI. My Terrier-based spaceplane is like 0.1 Isp off of max Isp at 12km when the rockets kick in as an example.\n\nOMG, THESE MAKES ALL THE SENSE!!! I could use it in 0.90 just fine, but now it makes SO MUCH SENSE that this is a vaccuum engine (I know it reads those stats in the VAB/Hangar, but I\u0027ve just gotta get it in my head to intuitively know these things, like how I LOVE how nuclear engines worked excellently on Minmus, in terms of push and fuel efficiency, when getting to that low-grav hunk of mint ice cream).\n\n\u003E \n\u003E Wobbling seems to occur in 2 scenarios:\n\u003E 1. when the vehicle\u0027s ability to correct position is limited, either because is too heavy or because it is too long, i don\u0027t know the precise reason, thus making it respond slowly to the engine\u0027s inputs, thus overcontrolling, due to the PID controller response, and creating a positive feedback which increases the amplitude of the oscillation over time (resonance frequency achieved, in real life you can bring down a bridge with a large number of feet stomping it at an exact frequency), destroying the vessel or simply flippling it over. And the PID in KSP excels at finding that frequency ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E \n\u003E 2. When the vehicle is not rigid enough, ending in a situation like 1.\n\u003E \n\u003E Solutions:\n\u003E \n\u003E 1. The Boeing 737 pilot way: turn it all off and fly it like a man! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) meaning you must turn off KAS and fly manually, it is not that hard with enough flight hours under the hood and on big rockets. It will bump around a bit but you will get it to orbit. (Worked with me)\n\u003E \n\u003E 2. If it is wobbly, add struts, and struts... AND struts... Make sure the struts are separated by stages and the stages are connected with another set of struts, if needed. ( always works, but doesn\u0027t so,ve the whole of the problem)\n\u003E \n\u003E 3. Maybe increase the number of reaction wheels, this will minimize, theoretically, the vessel\u0027s response time to the engine inputs, thus reducing the frequency thus preventing the PID from finding that wretched resonance frequency. (I never verified this one)\n\u003E \n\u003E 4. Lock gimbal on all or some of the bigger engines and add some side stabilization engines if needed (cant remember the name of those, they are the ones who resemble saturn 5 first stage stabilization engines). (Worked with me)\n\nI may need to have to add struts to the rover, inside the fairing. That COULD be my integral issue, because the rest of the rocket is strutted enough where wobble is unseen, otherwise.\n\nPerhaps if I unlock the gimbal of the Mainsail engines attached to the \u0022boosters\u0022, and lock the gimbal of the Mammoth... and then there\u0027s the issue with adding more reaction wheels. I have two Medium-sized wheels on the rover, itself, and one big one located inside of the fairing, underneath a Rockomax decoupler... I know in 0.90, too many reaction wheels would ruin my day because the internal torque would build up and make the ship wobble \u0022internally\u0022 (for those who\u0027ve used Roverdude\u0027s Starlifter reaction wheels... you\u0027d know EXACTLY what I\u0027m talking about).\n\n\u003E \n\u003E One potential issue which I raise because A) the OP mentions the lander clipping through the fairing, and ![B)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png) I\u0027ve been bitten by this myself:\n\u003E  Fairings don\u0027t stop physics inside. Or even give any physical support.\n\u003E \n\u003E  We all know by now that floppy rockets don\u0027t fly well, and we use all the usual design techniques to avoid such problems. However, much as I love the fairings, they behave in a way that I find counterintuitive, and would not be surprised to see others have trouble with as well.\n\u003E \n\u003E  The first issue is that the stuff inside a fairing undergoes full physical simulation, even though you can\u0027t see it. It will wobble. This is made worse by the fact that the fairing doesn\u0027t provide any physical support at all for its contents (which seems wrong to me). When they do start the first subtle swaying, it\u0027s invisible, and you don\u0027t notice until it gets so bad that it makes the whole rocket wobble, at which point it\u0027s easy to misattribute the problem (e.g. \u0022My engine is psychotic\u0022 rather than \u0022My rocket is floppy\u0022).\n\u003E \n\u003E  Making things still worse: I find that I\u0027m considerably more likely to build a floppy rocket when a fairing is involved. The fairing looks big and solid when it\u0027s not, giving a false sense of security. Also, having the fairing there discourages me from using struts in some of the places I\u0027d normally put them, such as where the strut would penetrate the fairing (the game does let you do that, but the behavior is buggy/inconsistent and it just feels wrong to me).\n\u003E \n\u003E  Moral of the story: Be careful with fairings, and firmly secure their contents.\n\n... and then there\u0027s that. I\u0027m thinking the payload MAY be the culprit.\n\n**Edited \u003Ctime datetime=\u00222015-05-09T00:02:15Z\u0022 title=\u002205/09/2015 12:02  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 9, 2015\u003C/time\u003E by Dire\\_Squid**"}]}