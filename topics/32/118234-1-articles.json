{"TopicId":118234,"ForumId":32,"TopicTitle":"On the particulars of drag in 1.0.4","CreatedByName":"Yakuzi","CreatedById":85181,"CreatedDateTime":"2015-08-11T20:13:09Z","PageNum":1,"Articles":[{"CreatedByName":"Yakuzi","CreatedById":85181,"CreatedDateTime":"2015-08-11T20:13:09Z","Content":"Now that the roller-coaster ride that is 1.0.x aerodynamics seems to have come to an end, I though it\u0027d be useful to investigate the intricacies of the stock drag system. Building on [Levelord\u0027s report](https://forum.kerbalspaceprogram.com/threads/122688-Something-doesn-t-seem-right-here?p=1978057\u0026viewfull=1#post1978057) on reducing drag, I\u0027ve run a couple of tests to compare the performance of the various 1.25 m nosecones/intakes in KSP 1.0.4. Note that these results can be used as a **rough guide** for designing atmospheric craft, however, depending on the design/flight profile actual performance gains will vary greatly.\n\n**Comparative Nose Cone Efficiency**\n\nA LV-30 powered rocket was used as reference craft, the various nose cones/air intakes were attached as displayed below:\n\n\u003E ![j0QsmlLh.png](http://i.imgur.com/j0QsmlLh.png)\n\u003E NB: Fuel was removed from the NCS Adapter\n\nThe maximum height\\* (as displayed in the F3 menu) of each configuration was recorded from three separate launches. The average maximum height and standard deviation (black error bars) of the various aerodynamic parts are plotted below:\n\n![91ki9fTh.png](http://i.imgur.com/91ki9fTh.png)\n\nAs expected (post 0.90 that is), nose cones significantly\\*\\* reduce drag (apart from the blunt fairing) and allow the rocket to reach over 2x the maximum height in comparison to the cone-less variant. There is some variation between cone efficiency, the blunt fairing performs worse than a cone-less rocket due to the extra mass, and the small cone provides ~19% height increase over the control. The standard nose cone and medium slanted fairing increase the maximum height by ~64% and ~81% respectively. All remaining cones/intakes provide a \u003E 100% increase in maximum height, the shock intake performs best at a ~122% max height increase. Note that there is no apparent difference between closed/open air intakes, which has been [reported by zakaron previously](https://forum.kerbalspaceprogram.com/threads/122595-Some-rough-test-results-with-different-nosecones?p=1963106\u0026viewfull=1#post1963106) (and raises the question \u0022why have the option to close intakes at all?\u0022). I\u0027ve also tested this with a craft with two symmetrical air intakes and closing one at mach 1 and 4 without ASAS. Nothing happened... whereas you\u0027d expect the craft to spin out of control due to the asymmetric change in drag...\n\n**Comparative Tail Cone Efficiency**\n\nAs mentioned [earlier by Levelord](https://forum.kerbalspaceprogram.com/threads/122688-Something-doesn-t-seem-right-here?p=1978057\u0026viewfull=1#post1978057), every unused node along the longitudinal axis creates significant drag. To evaluate potential performance gains of tail attachments, a RAPIER powered rocket was used as reference craft and tested in closed cycle and air-breathing mode with the various cones/intakes attached as displayed below:\n\n\u003E ![VKLUJndh.png](http://i.imgur.com/VKLUJndh.png)\n\u003E NB: Fuel was removed from the NCS Adapter\n\nThe maximum height and maximum speed (as displayed in the F3 menu) of each configuration were recorded from three separate launches. RAPIERS were spooled up to maximum thrust before launch (TAC Fuel Balancer was used to maintain rocket fuel levels before launch using donor tank transfer). The average maximum height, speed and standard deviation (black error bars) of the various aerodynamic parts are plotted below:\n\n![or3J6toh.png](http://i.imgur.com/or3J6toh.png)\n\n![Lcfp0B6h.png](http://i.imgur.com/Lcfp0B6h.png)\n\nTail cones provide an advantage over craft lacking a tail cone, though not as extreme as nose cones. In closed cycle mode, all attachments tested increased max height/speed, with the shock intake performing best and increasing the max height by ~13% and max speed by ~5%. In air breathing mode, tail attachment based performance increases were more nuanced, and the tail connector performed worse than the cone-less control. The shock intake performed best again, increasing max height by ~9% and max speed by ~6%.\n\nNB: Engine (turbojet/aerospike) tail attachments did not seem to increase nor decrease performance (tested against craft with similar mass). Fairing tail attachments did not work, most probably due to engine occlusion. The ram intake also didn\u0027t function as tail attachment as it seemed to induce asymmetric flight.The results reported here were also observed in all other engines with intrinsic terminal nodes, though not in engines without terminal nodes (jets, aerospikes, etc.)\n\n**Summary (i.e. tl:dr)**\n\n- **Nose cones/intakes greatly reduce drag and improve atmospheric flight performance**\n- **Put cones/intakes on every node along the longitudinal axis (including all engines with a terminal node)**\n- **The shock intake provides the greatest performance boost both as nose and tail attachment**\n- **The optimal cone/intake may vary depending on the craft/flight profile (e.g. low weight for minimal atmospheric flight, low drag for extended atmospheric flight)**\n- **Closing air intakes does NOT reduce drag**\n\n\\*The max speed in the F3 menu maxes out at 750 m/s (Krakens-bane?) even though the craft will accelerate further. Accordingly, the speed graph is not included in the LV-30 nose attachment test.\n\n\\*\\* No, I have not done the stats. I know... I\u0027m going out on a limb here ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nSome pics from the actual testing:\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/FiMVM)\n\n**Edited \u003Ctime datetime=\u00222015-08-11T21:40:19Z\u0022 title=\u002208/11/2015 09:40  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 11, 2015\u003C/time\u003E by Yakuzi**\n  \nSpelling and additional info"},{"CreatedByName":"Fearless Son","CreatedById":133397,"CreatedDateTime":"2015-08-11T20:36:39Z","Content":"Excellent! This information will prove extremely useful, at least at clarifying the specifics of the mechanic."},{"CreatedByName":"_stilgar_","CreatedById":147818,"CreatedDateTime":"2015-08-11T21:18:24Z","Content":"Does shock cone mounted on the engine (backwards) provide air for the engine? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2015-08-11T22:37:46Z","Content":"Yes it does, Red Iron Crown has a screenshot on his Laythe Spaceplane Challenge entry where you can see the extra intake air.\n\n- - - Updated - - -\n\nOne thing I wondered, does wrapping an engine (not working of course, but like a nuke) in a fairing reduce the drag enough to make it worthwhile? Because otherwise it\u0027s hanging in the airstream for the whole atmospheric flight contributing nothing but weight and drag. My testing has been inconclusive so far."},{"CreatedByName":"Agost","CreatedById":126710,"CreatedDateTime":"2015-08-11T23:01:10Z","Content":"\u003E \n\u003E Yes it does, Red Iron Crown has a screenshot on his Laythe Spaceplane Challenge entry where you can see the extra intake air.\n\u003E - - - Updated - - -\n\u003E \n\u003E One thing I wondered, does wrapping an engine (not working of course, but like a nuke) in a fairing reduce the drag enough to make it worthwhile? Because otherwise it\u0027s hanging in the airstream for the whole atmospheric flight contributing nothing but weight and drag. My testing has been inconclusive so far.\n\nCan you make open fairings using the stock ones? I tried and it doesn\u0027t work..."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-11T23:08:08Z","Content":"\u003E \n\u003E Yes it does, Red Iron Crown has a screenshot on his Laythe Spaceplane Challenge entry where you can see the extra intake air.\n\nThat\u0027s just storage, not intake air generation. AoA is a factor in intake air production efficiency, a rear facing intake generates very, very little. The drag reduction is nice though.\n\n\u003E \n\u003E One thing I wondered, does wrapping an engine (not working of course, but like a nuke) in a fairing reduce the drag enough to make it worthwhile? Because otherwise it\u0027s hanging in the airstream for the whole atmospheric flight contributing nothing but weight and drag. My testing has been inconclusive so far.\n\nI did some [testing of exactly this](https://forum.kerbalspaceprogram.com/threads/125544-Anyone-have-data-or-observations-regarding-capping-unused-rocket-engines-on-space-planes?p=2020480\u0026viewfull=1#post2020480), it is worthwhile but you should drop it when the air gets thin for less dry mass. That was in the draggier 1.0.2 though, the slipperier 1.0.4 drag model might not see as much benefit."},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-08-11T23:08:27Z","Content":"\u003E \n\u003E Can you make open fairings using the stock ones? I tried and it doesn\u0027t work...\n\nI assumed he meant a closed fairing, that you ditch once drag\u0027s not an issue.\n\nVery good work there, OP. Have some rep ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"A_name","CreatedById":134040,"CreatedDateTime":"2015-08-11T23:13:56Z","Content":"Nice job OP, very useful info here.\n\nDid you experience any issues with the tail cones blocking the engine thrust? I imagine you used the offset tool to tuck them inside the RAPIERS, is that so? \n\nEdit: Do you guys think a tail cone would work on a non-RAPIER rocket engine? I\u0027m not sure how precisely the thrust is modeled but could the fact that it has 4 small \u0022holes\u0022 (sorry my technical vocabulary is failing me) vs 1 large one affect how it behaves with a cone centered on its backside?\n\n**Edited \u003Ctime datetime=\u00222015-08-11T23:18:38Z\u0022 title=\u002208/11/2015 11:18  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 11, 2015\u003C/time\u003E by A\\_name**"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-11T23:32:22Z","Content":"\u003E \n\u003E Do you guys think a tail cone would work on a non-RAPIER rocket engine? I\u0027m not sure how precisely the thrust is modeled but could the fact that it has 4 small \u0022holes\u0022 (sorry my technical vocabulary is failing me) vs 1 large one affect how it behaves with a cone centered on its backside?\n\nIt works if you clip it into the engine enough not to be struck be the exhaust.\n\nOr for the ultimate in drag reduction, use the rotate gizmo to flip the nosecone around 180 degrees. (May have adverse cosmetic side effects if done at the front of the vessel.)"},{"CreatedByName":"Meecrob","CreatedById":104543,"CreatedDateTime":"2015-08-11T23:40:32Z","Content":"I hope someone can confirm or deny, but my understanding is that KSP parts have a visual and a physical side to them. For instance, an engine will produce x amount of thrust in y direction, independent of if I flip the visual model 180\\* so it appears to be firing in reverse. Or if I could change the visual model to an anvil or something else comical. My interpretation is that the Rapier\u0027s 4 Exhaust nozzles are visual only and behave the same as any engine with one exhaust nozzle as far as the physics of the exhaust plume go."},{"CreatedByName":"moogoob","CreatedById":118251,"CreatedDateTime":"2015-08-11T23:55:06Z","Content":"I\u0027m astounded that the construction and geometry of the fairing has such an impact on drag. Well done whoever programmed that!"},{"CreatedByName":"godefroi","CreatedById":101728,"CreatedDateTime":"2015-08-12T01:25:44Z","Content":"\u003E \n\u003E For instance, an engine will produce x amount of thrust in y direction, independent of if I flip the visual model 180\\* so it appears to be firing in reverse.\n\nExcept the rotate gizmo rotates both the visual and physics model, so it doesn\u0027t actually work that way."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-12T01:35:26Z","Content":"\u003E \n\u003E I hope someone can confirm or deny, but my understanding is that KSP parts have a visual and a physical side to them. For instance, an engine will produce x amount of thrust in y direction, independent of if I flip the visual model 180\\* so it appears to be firing in reverse. Or if I could change the visual model to an anvil or something else comical. My interpretation is that the Rapier\u0027s 4 Exhaust nozzles are visual only and behave the same as any engine with one exhaust nozzle as far as the physics of the exhaust plume go.\n\nThere are four individual nozzles. They are individually gimballed and can provide roll control, which a single nozzle could not.\n\nYou might be thinking of the collision mesh (a simple mesh that is used for attachment and physics) and the visual model, which is what you actually see rendered."},{"CreatedByName":"Mister Dilsby","CreatedById":232743,"CreatedDateTime":"2015-08-12T02:22:13Z","Content":"Always love to see a scholarly article here--now THAT\u0027s \u0027kerbal\u0027 ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"A_name","CreatedById":134040,"CreatedDateTime":"2015-08-12T03:56:05Z","Content":"\u003E \n\u003E There are four individual nozzles. They are individually gimballed and can provide roll control, which a single nozzle could not.\n\u003E You might be thinking of the collision mesh (a simple mesh that is used for attachment and physics) and the visual model, which is what you actually see rendered.\n\nWouldn\u0027t this mean (and also considering that the shape of the fairing maters) that rotating the intake or nosecone like you suggested further up would ruin the aerodynamics of the part? I\u0027m very curious about this."},{"CreatedByName":"samstarman5","CreatedById":12469,"CreatedDateTime":"2015-08-12T04:09:33Z","Content":"Don\u0027t forget the Launch Escape System which makes a difference in aerodynamics.\n\n[http://wiki.kerbalspaceprogram.com/wiki/Launch_Escape_System](http://wiki.kerbalspaceprogram.com/wiki/Launch_Escape_System)"},{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2015-08-12T07:35:17Z","Content":"\u003E \n\u003E Wouldn\u0027t this mean (and also considering that the shape of the fairing maters) that rotating the intake or nosecone like you suggested further up would ruin the aerodynamics of the part? I\u0027m very curious about this.\n\nIn my experience, no. \nDrag is set when you first attach a part. Doesn\u0027t matter if you then offset or rotate it, it will still have the same drag properties. \n\nThrust, balance and air intake are affected though. If you place an engine and then move it then the thrust direction changes. CoM moves as you offset a part. And intakes will almost completely stop working if 180\u00C3\u201A\u00C2\u00B0 out of the direction of travel. \n\nThis works just as well as with the nosecone the right way around...\n\n![RBekmkX.jpg](http://i.imgur.com/RBekmkX.jpg)\n\nMy personal favorite is to put a shockcone intake on the back of a RAPIER, rotate it 180\u00C3\u201A\u00C2\u00B0 and clip it up into the engine. You then have a great inline intake that also significantly reduces the drag at the rear of the craft. Much better than a nacelle or pre-cooler.\n\n**Edited \u003Ctime datetime=\u00222015-08-12T08:00:49Z\u0022 title=\u002208/12/2015 08:00  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 12, 2015\u003C/time\u003E by Foxster**"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-08-12T08:33:41Z","Content":"Hopefully this drag bug will be fixed in a future version."},{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2015-08-12T08:36:54Z","Content":"\u003E \n\u003E Hopefully this drag bug will be fixed in a future version.\n\nMaybe. I suspect though that it is done this way to reduce the on-the-fly processing needed."},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-08-12T09:46:53Z","Content":"\u003E \n\u003E Can you make open fairings using the stock ones? I tried and it doesn\u0027t work...\n\nYou can, but just like with strutting stuff to fairings you need a trick: first close the fairing around a circular element (fuselage), then delete that element."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-12T10:33:54Z","Content":"\u003E \n\u003E Drag is set when you first attach a part. Doesn\u0027t matter if you then offset or rotate it, it will still have the same drag properties.\n\nI don\u0027t believe that is so. Attitude of the part has a significant effect on drag IME. The reversed nosecone in your pic actually has less drag than one the right way around though, because the drag sim sees an attachment to that node, effectively occluding it."},{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2015-08-12T11:21:08Z","Content":"\u003E \n\u003E I don\u0027t believe that is so. Attitude of the part has a significant effect on drag IME. The reversed nosecone in your pic actually has less drag than one the right way around though, because the drag sim sees an attachment to that node, effectively occluding it.\n\nWell, maybe, but there is definitely something counter-intuitive going on. \n\nTake a look at these two craft, the only difference is the inverted nose cone...\n\n![uaTQMJw.png](http://i.imgur.com/uaTQMJw.png)\n\n![lXpP5pA.png](http://i.imgur.com/lXpP5pA.png)\n\nThe occlusion works with both and the reported drag of the inverted nosecone is much less!... and the craft performs better."},{"CreatedByName":"Val","CreatedById":126227,"CreatedDateTime":"2015-08-12T11:25:54Z","Content":"\u003E \n\u003E The occlusion works with both and the reported drag of the inverted nosecone is much less!... and the craft performs better.\n\nThat\u0027s exactly what RIC said. When you turn it around it has effectively been transformed into a tailcone and the aerodynamics treats it as if it was behind a stack, not in front of one, but still treats the rest of the stacks as being behind the nosecone. Super exploity.\n\n**Edited \u003Ctime datetime=\u00222015-08-12T11:29:45Z\u0022 title=\u002208/12/2015 11:29  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 12, 2015\u003C/time\u003E by Val**\n  \nConvoluted sentences"},{"CreatedByName":"drewscriver","CreatedById":77979,"CreatedDateTime":"2015-08-21T11:02:11Z","Content":"If you\u0027re feeling particularly naughty and have the right engine configuration, I think I found a way to get rid of the rear node altogether.\n\n\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/BJDn0HhQiRM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\n**Edited \u003Ctime datetime=\u00222015-08-21T12:20:20Z\u0022 title=\u002208/21/2015 12:20  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 21, 2015\u003C/time\u003E by drewscriver**"},{"CreatedByName":"p1t1o","CreatedById":74091,"CreatedDateTime":"2015-08-21T12:49:00Z","Content":"Can I just clarify? If your engine has a node at the rear, attaching anything here will reduce drag.\n\nI assume this is dependent on said attached item not contributing its own aerodynamic drag (ie: being fully occluded by the rest of the craft).\n\nIs it also dependent on it being positioned so as not to occlude thrust? Or does thrust magically penetrate? Does that part have to be clipped into the engine, behind the origin of thrust?\n\nThanks!"}]}