{"TopicId":158458,"ForumId":32,"TopicTitle":"Reduce RAM usage. Yes, in 1.2.2","CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2017-03-31T01:06:33Z","PageNum":1,"Articles":[{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2017-03-31T01:06:33Z","Content":"\n\u003Cp\u003E\nI\u0027ve (probably temporarily) upgraded my ram memory from 8 to 16, mostly because my somewhat heavily modded KSP installation was getting slow at times, usually when loading a new scene and specially when quitting the game. But I also decided to monitor ram usage, and KSP (and all the mods) is using between 6-7.5 GB of RAM, which is really quite a lot for such a game.\n\u003C/p\u003E\n\u003Cp\u003E\nBefore 1.2 and specially before 64 bits there were several workarounds to reduce memory usage: using opengl and the mods load on demand and later Dynamic Texture Loader, but AFAIK they don\u0027t work in 1.2.2. Is there any current way to reduce RAM usage besides removing mods? 8GB seems a lot and, TBH, KSP is the only application I use which would warrant a ram upgrade, so I may prefer to reduce it\u0027s ram usage if at all possible.\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2017-03-31T01:11:13Z","Content":"\n\u003Cp\u003E\nI\u0027m too lazy to find it, but I do like to point out that when everyone told me that 64 bit would be \u0022unlimited mod\u0022 heaven my reaction was that we would run into people who\u0027d complain that now they\u0027re not running out of memory space, they\u0027re running out of physical memory.\n\u003C/p\u003E\n\u003Cp\u003E\nCan I collect my prize? \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t get me wrong, KSP\u0027s strategy to load\u00A0\u003Cem\u003Eeverything\u003C/em\u003E\u00A0into memory for perceived performance gains was bound to hit a roadbump. I fully agree with you on that.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"jhousen","CreatedById":129754,"CreatedDateTime":"2017-03-31T20:15:42Z","Content":"\n\u003Cp\u003E\none of my friends calls ksp computer abuse, I agree\n\u003C/p\u003E\n\u003Cp\u003E\nI have 32GB of ram and am still running out, if you find a mod that fixes this, let me know.\n\u003C/p\u003E\n"},{"CreatedByName":"aRottenKomquat","CreatedById":176186,"CreatedDateTime":"2017-03-31T21:22:33Z","Content":"\n\u003Cp\u003E\nAre you actually encountering out-of-memory errors? Modern operating systems are extremely lazy about deallocating unused memory if the system is not under memory pressure. Hence, RAM usage can be artificially high because a bunch of it is not actually being used anymore but was never freed because nothing needs it.\n\u003C/p\u003E\n"},{"CreatedByName":"jhousen","CreatedById":129754,"CreatedDateTime":"2017-03-31T21:50:13Z","Content":"\n\u003Cp\u003E\nin my case, yes I\u0027m definately running out of memory.\n\u003C/p\u003E\n\u003Cp\u003E\nand I\u0027ve already killed the usual hogs (glaring at you, superfetch)\n\u003C/p\u003E\n\u003Cp\u003E\ntotal idle usage is about 2gigs with 30 free\n\u003C/p\u003E\n"},{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2017-03-31T23:16:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223004847\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490995353\u0022 data-ipsquote-userid=\u0022176186\u0022 data-ipsquote-username=\u0022aRottenKomquat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, aRottenKomquat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre you actually encountering out-of-memory errors? Modern operating systems are extremely lazy about deallocating unused memory if the system is not under memory pressure. Hence, RAM usage can be artificially high because a bunch of it is not actually being used anymore but was never freed because nothing needs it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nVery, very occasionally, KSP would crash. But with 8GB I\u0027m having system slowness which can be attributed to Windows having to put everything that isn\u0027t KSP in the page file\n\u003C/p\u003E\n"},{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2017-04-01T00:06:55Z","Content":"\n\u003Cp\u003E\nWell, opengl still works. It\u0027s now using 4,5 GB in the launchpad and going into orbit\n\u003C/p\u003E\n"},{"CreatedByName":"A_name","CreatedById":134040,"CreatedDateTime":"2017-04-01T00:19:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223005028\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491005215\u0022 data-ipsquote-userid=\u0022105344\u0022 data-ipsquote-username=\u0022juanml82\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, juanml82 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, opengl still works. It\u0027s now using 4,5 GB in the launchpad and going into orbit\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHow do you do opengl again?\n\u003C/p\u003E\n"},{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2017-04-01T00:54:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223005042\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491005959\u0022 data-ipsquote-userid=\u0022134040\u0022 data-ipsquote-username=\u0022A_name\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, A_name said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow do you do opengl again?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCreate a shortcut to the game executable (well, the 64bits executable), right click the shortcut, go to properties, look for target in the second tab and, at the end of the line add \u00A0\u0022-force-opengl\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nIt should read something like \u0022C:\\Games\\SteamLibrary\\SteamApps\\common\\Kerbal Space Program\\KSP_x64.exe\u0022 \u0022-force-opengl\u0022 depending on where you have it installed\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOh, and \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78303-kerbart/\u0026amp;do=hovercard\u0022 data-mentionid=\u002278303\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78303-kerbart/\u0022 rel=\u0022\u0022\u003E@Kerbart\u003C/a\u003E yep, grab your prize\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"kBob","CreatedById":102132,"CreatedDateTime":"2017-04-01T01:17:11Z","Content":"\n\u003Cp\u003E\nYou can do like often had to be done in the old flight simulator days go in and get rid of every process you don\u0027t need (task manager in Windows) or create a special boot configuration for that, but that seems so early 2000\u0027s late 90\u0027s.\u00A0 Depending on what you have running it may free up some decent amount of RAM, kill everything you don\u0027t need it adds up including things like virus scanners (just be careful to reboot or rerun them afterwards).\u00A0 Of course you\u0027ll still run out eventfully if you keep adding mods but it might free up enough room for that one extra mod you just have to have \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-04-01T01:17:34Z\u0022 title=\u002204/01/2017 01:17  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 1, 2017\u003C/time\u003E by kBob\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jhousen","CreatedById":129754,"CreatedDateTime":"2017-04-02T00:33:33Z","Content":"\n\u003Cp\u003E\nhmmm, unity has an \u0022unloadunusedassets()\u0022 function...I wonder...\n\u003C/p\u003E\n"},{"CreatedByName":"Curveball Anders","CreatedById":107529,"CreatedDateTime":"2017-04-02T10:44:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223004879\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490997013\u0022 data-ipsquote-userid=\u0022129754\u0022 data-ipsquote-username=\u0022jhousen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2017-03-31 at 11:50 PM, jhousen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nin my case, yes I\u0027m definately running out of memory.\n\u003C/p\u003E\n\u003Cp\u003E\nand I\u0027ve already killed the usual hogs (glaring at you, superfetch)\n\u003C/p\u003E\n\u003Cp\u003E\ntotal idle usage is about 2gigs with 30 free\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhile an active process allocating too much memory is a problem, total allocation isn\u0027t\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s rather the other way around.\n\u003C/p\u003E\n\u003Cp\u003E\nUnused ram is a wasted resource.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a perfectly tuned system all available ram is used all the time, if not by active/user processes then by the OS to speed up the overall performance.\n\u003C/p\u003E\n\u003Cp\u003E\nBackground/system processes (like the glaringly obvious superfetch) should use all idle resources, the problem occurs when system designer and user don\u0027t agree on what is \u0027idle resources\u0027 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2017-04-02T20:32:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223004972\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491002164\u0022 data-ipsquote-userid=\u0022105344\u0022 data-ipsquote-username=\u0022juanml82\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/31/2017 at 6:16 PM, juanml82 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nVery, very occasionally, KSP would crash. But with 8GB I\u0027m having system slowness which can be attributed to Windows having to put everything that isn\u0027t KSP in the page file\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAre you sure it\u0027s putting everything that isn\u0027t KSP into swap/page file, and whether those pieces of memory are actually being used? Slowdowns due to memory can be hard to properly diagnose; it can be hard to know whether that 95% memory usage is actually you running out of memory, or just the OS/KSP being lazy about garbage collection. Neither your OS nor KSP will bother to do garbage collection if there\u0027s plenty of memory available.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-04-02T20:32:23Z\u0022 title=\u002204/02/2017 08:32  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 2, 2017\u003C/time\u003E by Starman4308\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2017-04-02T21:58:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223007256\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491165120\u0022 data-ipsquote-userid=\u0022122674\u0022 data-ipsquote-username=\u0022Starman4308\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Starman4308 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre you sure it\u0027s putting everything that isn\u0027t KSP into swap/page file, and whether those pieces of memory are actually being used? Slowdowns due to memory can be hard to properly diagnose; it can be hard to know whether that 95% memory usage is actually you running out of memory, or just the OS/KSP being lazy about garbage collection. Neither your OS nor KSP will bother to do garbage collection if there\u0027s plenty of memory available.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, not \u0022sure, sure\u0022, but if I have 8GB of RAM and KSP is using over 7GB, then there isn\u0027t much room for everything else\n\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2017-04-03T00:19:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223007338\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491170314\u0022 data-ipsquote-userid=\u0022105344\u0022 data-ipsquote-username=\u0022juanml82\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, juanml82 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, not \u0022sure, sure\u0022, but if I have 8GB of RAM and KSP is using over 7GB, then there isn\u0027t much room for everything else\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s entirely plausible that 7 GB of KSP plus 1 GB of everything else is a low-load condition. It is\u00A0\u003Cem\u003Eextremely\u003C/em\u003E\u00A0hard to be certain from what simple tools like Window\u0027s resource monitor tells you, because memory management is a complicated topic, and modern programs are extraordinarily lazy about freeing up unused memory if nothing else needs that memory.\n\u003C/p\u003E\n\u003Cp\u003E\nTo be clear:\n\u003C/p\u003E\n\u003Cp\u003E\n#1: KSP runs on Mono, which is a garbage-collected language. This means that, instead of explicitly allocating and de-allocating memory for objects and arrays like you might in C or Fortran, you just declare the object or array, and trust that Mono will de-allocate that memory when it runs a garbage collection sweep.\n\u003C/p\u003E\n\u003Cp\u003E\n#2: Garbage collection sweeps are when Mono goes through, and finds all variables which can no longer be accessed by any thread. This occurs when something goes out of scope or is de-referenced. For example, in pseudocode:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eint[] someIntegers = { 1, 2, 3, 4, 5};\nif (rocketUnexploded) {\n      List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Part\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E rocketParts = rocketPartTree.getParts().asList();\n      doSomething(rocketParts);\n} // The rocketParts list is now rootless, and subject to garbage collection, as it only lived inside the scope of the now-finished if block.\nsomeIntegers = { 6, 7, 8, 9, 10 }; // The old someIntegers array is now rootless, and subject to garbage collection.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n#3: Any decent garbage-collected language will garbage collect as infrequently as possible. This takes a fair chunk of CPU time, and simple GC implementations generally have to stop the world, halt all program execution while the GC sweeps through.\n\u003C/p\u003E\n\u003Cp\u003E\n#4: As a consequence, if Mono can get away with it, it\u0027ll just allocate loads of memory to itself until the operating system cuts it off, and garbage collect as infrequently as possible.\n\u003C/p\u003E\n\u003Cp\u003E\n#5: The operating system is doing that as well, refusing to clear stuff out of virtual memory or move it to the page file unless it absolutely has to.\n\u003C/p\u003E\n\u003Cp\u003E\n#6: Therefore, \u0022KSP is using 7 GB!\u0022 is a terrible metric of whether KSP is actually stressing your system\u0027s physical memory.\n\u003C/p\u003E\n\u003Cp\u003E\nYou might look into MemGraph to see if there is really any substantial memory problem with your installation; memory is only a problem if you have frequent garbage collection pauses.\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/139128-12x-memgraph-1103-with-stutter-reduction/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"jhousen","CreatedById":129754,"CreatedDateTime":"2017-04-05T07:44:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223006691\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491129846\u0022 data-ipsquote-userid=\u0022107529\u0022 data-ipsquote-username=\u0022Curveball Anders\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn \u200E4\u200E/\u200E2\u200E/\u200E2017 at 3:44 AM, Curveball Anders said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhile an active process allocating too much memory is a problem, total allocation isn\u0027t\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s rather the other way around.\n\u003C/p\u003E\n\u003Cp\u003E\nUnused ram is a wasted resource.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a perfectly tuned system all available ram is used all the time, if not by active/user processes then by the OS to speed up the overall performance.\n\u003C/p\u003E\n\u003Cp\u003E\nBackground/system processes (like the glaringly obvious superfetch) should use all idle resources, the problem occurs when system designer and user don\u0027t agree on what is \u0027idle resources\u0027 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ngiven the massive stutter I get when superfetch decides to...compress unused memory (ie. compress half of ksp, and then not hand it back when needed, causing ksp to crash), I\u0027ll leave it turned off (and wonder who had that bright idea)\n\u003C/p\u003E\n\u003Cp\u003E\nnot as bad as vista and 7 where superfetch would sometimes not hand memory back at all, but still...\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2017-04-05T10:20:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223010122\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491378251\u0022 data-ipsquote-userid=\u0022129754\u0022 data-ipsquote-username=\u0022jhousen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, jhousen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ngiven the massive stutter I get when superfetch decides to...compress unused memory (ie. compress half of ksp, and then not hand it back when needed, causing ksp to crash), I\u0027ll leave it turned off (and wonder who had that bright idea)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCompressing memory sounds like as good an idea as compressing hard disk storage was in 1995... which is to say a really good way to make the machine slow to a crawl. Pretty happy I have never encountered this \u0022superfetch\u0022 thing myself.\u003Cbr\u003E\nThe whole point of RAM is that it is fast working memory, why on earth would you want to make it slower by compressing it? Many applications \u003Cem\u003Edecompress\u003C/em\u003E their data into RAM, compressing it again is madness.\u003Cbr\u003E\nAs for compressing only \u0022unused\u0022 memory, how do you know what\u0027s \u0022unused\u0022? RAM is random access memory - any data in may be accessed any time, in any order.\u003Cbr\u003E\nIf you don\u0027t have enough RAM, get more. RAM is cheap.\n\u003C/p\u003E\n\u003Cp\u003E\nThat said, the real problem is the way KSP loads textures. Never seen Eloo? It\u0027s terrain textures are still consuming memory, even if they\u0027re never rendered. \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223005028\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491005215\u0022 data-ipsquote-userid=\u0022105344\u0022 data-ipsquote-username=\u0022juanml82\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 01/04/2017 at 1:06 PM, juanml82 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, opengl still works.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nObligatory warning: It works for some people, but it\u0027s not officially supported in the Windows player. Problems have been reported.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-04-05T10:23:32Z\u0022 title=\u002204/05/2017 10:23  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 5, 2017\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MaxwellsDemon","CreatedById":147660,"CreatedDateTime":"2017-04-05T12:28:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223010197\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491387602\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat said, the real problem is the way KSP loads textures. Never seen Eloo? It\u0027s terrain textures are still consuming memory, even if they\u0027re never rendered. \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat would explain why OPM bogs me down so much. \u00A0\u00A0\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2017-04-05T14:42:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223010122\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491378251\u0022 data-ipsquote-userid=\u0022129754\u0022 data-ipsquote-username=\u0022jhousen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, jhousen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ngiven the massive stutter I get when superfetch decides to...compress unused memory (ie. compress half of ksp, and then not hand it back when needed, causing ksp to crash), I\u0027ll leave it turned off (and wonder who had that bright idea)\n\u003C/p\u003E\n\u003Cp\u003E\nnot as bad as vista and 7 where superfetch would sometimes not hand memory back at all, but still...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSuperfetch should not be doing that. The point is that virtual memory should always be accessible, even if it has to go to the pagefile, and Superfetch should only be compressing seldom-used items. If your physical memory is under significant load, I wouldn\u0027t be surprised to see half of KSP compressed and/or moved to the pagefile, because the KSP devs had the bright idea to load enormous texture files straight into memory, few of which you will be using at any given moment.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223010197\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491387602\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCompressing memory sounds like as good an idea as compressing hard disk storage was in 1995... which is to say a really good way to make the machine slow to a crawl. Pretty happy I have never encountered this \u0022superfetch\u0022 thing myself.\u003Cbr\u003E\nThe whole point of RAM is that it is fast working memory, why on earth would you want to make it slower by compressing it? Many applications \u003Cem\u003Edecompress\u003C/em\u003E their data into RAM, compressing it again is madness.\u003Cbr\u003E\nAs for compressing only \u0022unused\u0022 memory, how do you know what\u0027s \u0022unused\u0022? RAM is random access memory - any data in may be accessed any time, in any order.\u003Cbr\u003E\nIf you don\u0027t have enough RAM, get more. RAM is cheap.\n\u003C/p\u003E\n\u003Cp\u003E\nThat said, the real problem is the way KSP loads textures. Never seen Eloo? It\u0027s terrain textures are still consuming memory, even if they\u0027re never rendered. \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nObligatory warning: It works for some people, but it\u0027s not officially supported in the Windows player. Problems have been reported.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCompressing memory is a good idea when programs are really sloppy about what they decide to load.\n\u003C/p\u003E\n\u003Cp\u003E\nLet\u0027s say you\u0027re playing KSP, and for the entire session, you never even glance at Eeloo. Your system is under memory pressure from the 127 parts mods you decided to download with max-res textures, and it needs to make some space. It makes sense to the OS to either compress the Eeloo textures or send them to the page file, because they haven\u0027t been accessed in forever, and it\u0027s unlikely they will be needed in the future, so the OS says \u0022I\u0027ll just move these out of the way; the chance it\u0027ll actually be needed and slow down the system is minimal\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nRAM is not truly randomly accessed; there are distinct usage patterns that the OS can take advant\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbal101","CreatedById":157058,"CreatedDateTime":"2017-04-05T15:03:55Z","Content":"\n\u003Cp\u003E\nPlay on Linux. The heaviest base system uses 0.7 GiB (kde5) instead of 1.5 GiB (w10). OpenGL loads textures on demand instead of all-at-once. You can set swappiness value to further prevent OS swap anything until ram is mostly full. It can be installed on any x86 regular machine (and designed to run on those).\n\u003C/p\u003E\n\u003Cp\u003E\nOr upgrade to motherboard, which supports 64\u002B GiB of ram. Fact that Dx loads more into Ram helps it gain fps advantage.\n\u003C/p\u003E\n\u003Cp\u003E\nIts also possible to re-compress textures to smaller size using a tool initially created for Skyrim, but I never used this. It should work, as it can manipulate any raw dds files.\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2017-04-05T15:04:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223007338\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491170314\u0022 data-ipsquote-userid=\u0022105344\u0022 data-ipsquote-username=\u0022juanml82\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/2/2017 at 5:58 PM, juanml82 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, not \u0022sure, sure\u0022, but if I have 8GB of RAM and KSP is using over 7GB, then there isn\u0027t much room for everything else\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n8 - 7 = 1 GB.\n\u003C/p\u003E\n\u003Cp\u003E\nIt all depends on your definition of \u0022much room\u0022 \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nBack when I was a little punk I\u0027d write programs that fit into 500\u00A0\u003Cem\u003Ebytes\u003C/em\u003E. Barefoot. Uphill.\u00A0\u003Cem\u003EAnd I liked it!!\u00A0\u003C/em\u003E\u003Cbr\u003E\n(It\u0027s amazing what you can do with 500 bytes of memory in Z80 assembler)\n\u003C/p\u003E\n"},{"CreatedByName":"Noobton","CreatedById":114094,"CreatedDateTime":"2017-04-05T15:10:48Z","Content":"\n\u003Cp\u003E\nhas anyone tried running KSP with the new windows 10 game mode? is supposed to kill those other pesky processes.\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2017-04-05T15:17:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223010481\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491405048\u0022 data-ipsquote-userid=\u0022114094\u0022 data-ipsquote-username=\u0022Noobton\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Noobton said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhas anyone tried running KSP with the new windows 10 game mode? is supposed to kill those other pesky processes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt is supposedly optimized for UWP (\u0022Universal Windows Platform\u0022, App store) games and Microsoft warns that regular Win32 games as found on Steam will not benefit very much of it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.pcgamer.com/windows-10-game-mode-tested/\u0022 rel=\u0022external nofollow\u0022\u003EThis article\u003C/a\u003E shows a KSP screenshot but doesn\u0027t mention how it fares under Game Mode, but it notes that there\u0027s very little benefit for other games, and mainly on computers that are already pushed to the brink. So if you\u0027re short on memory it\u00A0\u003Cem\u003Emight\u003C/em\u003E\u00A0help.\n\u003C/p\u003E\n"},{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2017-04-05T15:46:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223010471\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491404635\u0022 data-ipsquote-userid=\u0022157058\u0022 data-ipsquote-username=\u0022Kerbal101\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n39 minutes ago, Kerbal101 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPlay on Linux. The heaviest base system uses 0.7 GiB (kde5) instead of 1.5 GiB (w10). OpenGL loads textures on demand instead of all-at-once. You can set swappiness value to further prevent OS swap anything until ram is mostly full. It can be installed on any x86 regular machine (and designed to run on those).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBut if I play it on Linux, I\u0027d need to reboot if I want to play something else. And you can\u0027t easily keep a Windows and a Linux installation syncronized as far as savegames and mods go, if it can be done at all.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOr upgrade to motherboard, which supports 64\u002B GiB of ram. Fact that Dx loads more into Ram helps it gain fps advantage.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI didn\u0027t get this. Do you mean I should upgrade to more than 64GB or RAM to play one single game?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIts also possible to re-compress textures to smaller size using a tool initially created for Skyrim, but I never used this. It should work, as it can manipulate any raw dds files.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUh, that\u0027s interesting, at least for seldom used textures like IVAs, part mods seldom used\u00A0and maybe planets. What\u0027s that tool\u0027s name?\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbal101","CreatedById":157058,"CreatedDateTime":"2017-04-05T16:04:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223010523\u0022 data-ipsquote-contentid=\u0022158458\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491407188\u0022 data-ipsquote-userid=\u0022105344\u0022 data-ipsquote-username=\u0022juanml82\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, juanml82 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut if I play it on Linux, I\u0027d need to reboot if I want to play something else. And you can\u0027t easily keep a Windows and a Linux installation syncronized as far as savegames and mods go, if it can be done at all.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t get this. Do you mean I should upgrade to more than 64GB or RAM to play one single game?\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nUh, that\u0027s interesting, at least for seldom used textures like IVAs, part mods seldom used\u00A0and maybe planets. What\u0027s that tool\u0027s name?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUsually you don\u0027t have to do it, as rarely you will want to play same game on both OSes. And in case you do, it can be done with symlinks, by symlinking the save directory location on Windows partition.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nYou can, not \u0022should\u0022. The memory use of KSP does not come from abstract source, but from mods which you use. As such, if you use many mods, you pay with increased memory usage. Its technically possible to obtain cost-efficient hardware to cover this usage. There are no artificial limits, like which happened on x86_32 binaries/cpu modes.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t remember its name, its a standalone exe that is pretty universal and all-in-one utility.\u003Cbr\u003E\nIt can easily compress 12 GiB of Skyrim mods into 4-5 GiB, although the size or quality of textures will also reduce. I also reduced Stalker(game) textures once and got rid of the out-of-memory errors, as the later is\u00A0x86_32 application.\u003Cbr\u003E\nBut its not an fire-and-forget/foolproof tool as some images like collective single-file UI texture, may not be compressed (in the same Stalker). So this work is manual and needs some time.\n\u003C/p\u003E\n\u003Cp\u003E\nYou could also walk your mods directory with some equivalent of Filelight/Baobab to determine which one drains most of space.\n\u003C/p\u003E\n"}]}