{"TopicId":121031,"ForumId":32,"TopicTitle":"How do I optimize my KSP? ( Stop the damn lag and crash )","CreatedByName":"Pedro_daher","CreatedById":146820,"CreatedDateTime":"2015-09-16T19:15:31Z","PageNum":1,"Articles":[{"CreatedByName":"Pedro_daher","CreatedById":146820,"CreatedDateTime":"2015-09-16T19:15:31Z","Content":"\n\u003Cp\u003ERecently I was having issues with KSP, after installing so many mods, the game started crashing when I started it... So I decided to force the openGL, and it was ok but still lagging, specially at the launch... My hardware actually is kinda good, a GeForce 760, an i3 dual core, and my new RAM which is 16gb with 2400mhz... Still, the game still crashes if it\u0027s not on openGL... And it still lag a lot, so what is the matter? I can run other huge games in 65fps, but KSp is kicking me in the butt, can anyone give me some tips and help?\u003C/p\u003E\n"},{"CreatedByName":"Val","CreatedById":126227,"CreatedDateTime":"2015-09-16T19:33:15Z","Content":"\n\u003Cp\u003EIt\u0027s hard to say. Your RAM and GPU look good, but my guess would be that it\u0027s the CPU. KPS really likes the GHz, because of it\u0027s single thread-ness.\u003C/p\u003E\u003Cp\u003EFor comparison my HW is 16 GB RAM, GTX 980 and a 4 GHz i7. I\u0027m pretty happy with the way KSP runs in 2560x1080 (sometimes 3440x1440), max setting on everything, except re-entry effects.\u003C/p\u003E\u003Cp\u003EI have 34 visual and utility mods, but stock physics and parts only. I can start the game with default dx9, but it won\u0027t run for long. With \u003Cstrong\u003E-force-opengl\u003C/strong\u003E \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Ethe game runs better\u003C/span\u003E and for many hours. Same frame rate, no graphics issues, and less hitching in the editor and elsewhere.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-16T20:52:37Z\u0022 title=\u002209/16/2015 08:52  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 16, 2015\u003C/time\u003E by Val\u003C/strong\u003E\n\u003Cbr\u003EConvoluted syntax and highlighting\n\u003C/span\u003E\n"},{"CreatedByName":"Pedro_daher","CreatedById":146820,"CreatedDateTime":"2015-09-16T19:38:30Z","Content":"\n\u003Cp\u003ESo the only thing I should worry about is the processor and not the RAM? I know its not bc of the graphic card, bc I changed the settings to minimun and then to maximum quality... And the FPS didn\u0027t change at all... Its really frustrating...\u003C/p\u003E\n"},{"CreatedByName":"NielsBohr","CreatedById":132914,"CreatedDateTime":"2015-09-16T19:53:37Z","Content":"\n\u003Cp\u003EPost your crash-log. It is located in the KSP directory. \u003C/p\u003E\u003Cp\u003EHowever, as mentioned the problem is most likely either one of these:\u003C/p\u003E\u003Cp\u003E1) Utilized all available memory which results in a CTD. Remember that KSP runs in 32bit which vastly decreases the memory available to use. It\u0027s around 3.5GB.\u003C/p\u003E\u003Cp\u003E2) Inadequate CPU. Now, this is less likely than the first problem. An inadequate CPU will affect performance since KSP is a very demanding game for the processor, therefore lag and crashes should be expected. KSP is one of the few games where the CPU is as important as the GPU, if not more important. This also explains why you can play demanding games with stable FPS but not KSP, because those demanding games performance usually depends upon the power of the GPU, and your 760 is fine. However, when you play games which are very CPU intensive (KSP) you don\u0027t recieve the same performance because your i3 is inadequate. \u003C/p\u003E\u003Cp\u003EI still believe 1) to be the problem though, the crash-logs will reveal it.\u003C/p\u003E\n"},{"CreatedByName":"Val","CreatedById":126227,"CreatedDateTime":"2015-09-16T19:55:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pedro_daher\u0022 data-cite=\u0022Pedro_daher\u0022\u003E\u003Cdiv\u003ESo the only thing I should worry about is the processor and not the RAM? I know its not bc of the graphic card, bc I changed the settings to minimun and then to maximum quality... And the FPS didn\u0027t change at all... Its really frustrating...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, it is. Hopefully KSP being bound by CPU will become less of a thing with the next patch, 1.1. Updated game engine, that should be able to multi thread better, in theory.\u003C/p\u003E\n"},{"CreatedByName":"Brofessional","CreatedById":2080,"CreatedDateTime":"2015-09-16T20:08:35Z","Content":"\n\u003Cp\u003ECurrently KSP on Windows is 32-bit only, meaning it can only use about 3.5GB of RAM. If it tries to use more than that it crashes. Thus your 16GB of RAM is largely useless for KSP.\u003C/p\u003E\u003Cp\u003EThe game uses less RAM in OpenGL than it does in DirectX, allowing you to cram a few more mods in before hitting the limit. However, OpenGL gives much lower framerates than DirectX.\u003C/p\u003E\u003Cp\u003ECurrently, if you want to play in 64-bit, allowing virtually unlimited amounts of RAM, you have to use Linux. Which also means using OpenGL.\u003C/p\u003E\u003Cp\u003EThe good news is that the upcoming update is upgrading the game to Unity 5.2, which subsequently fixes the 64-bit Windows version. So just be patient and soon you\u0027ll be able to use that full 16GB of RAM.\u003C/p\u003E\n"},{"CreatedByName":"Pedro_daher","CreatedById":146820,"CreatedDateTime":"2015-09-16T20:36:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Brofessional\u0022 data-cite=\u0022Brofessional\u0022\u003E\u003Cdiv\u003ECurrently KSP on Windows is 32-bit only, meaning it can only use about 3.5GB of RAM. If it tries to use more than that it crashes. Thus your 16GB of RAM is largely useless for KSP.\u003Cp\u003EThe game uses less RAM in OpenGL than it does in DirectX, allowing you to cram a few more mods in before hitting the limit. However, OpenGL gives much lower framerates than DirectX.\u003C/p\u003E\u003Cp\u003ECurrently, if you want to play in 64-bit, allowing virtually unlimited amounts of RAM, you have to use Linux. Which also means using OpenGL.\u003C/p\u003E\u003Cp\u003EThe good news is that the upcoming update is upgrading the game to Unity 5.2, which subsequently fixes the 64-bit Windows version. So just be patient and soon you\u0027ll be able to use that full 16GB of RAM.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh ok, so Unity also helps the 64-bits windows? This is very confusing for me, my PC can run Black Ops in a high quality, but the FPS goes down on KSP...\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NielsBohr\u0022 data-cite=\u0022NielsBohr\u0022\u003E\u003Cdiv\u003EPost your crash-log. It is located in the KSP directory. \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs it the output_log? It\u0027s the first time someone asks me to post my crash-log in here...\u003C/p\u003E\n"},{"CreatedByName":"NielsBohr","CreatedById":132914,"CreatedDateTime":"2015-09-16T20:47:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pedro_daher\u0022 data-cite=\u0022Pedro_daher\u0022\u003E\u003Cdiv\u003EOh ok, so Unity also helps the 64-bits windows? This is very confusing for me, my PC can run Black Ops in a high quality, but the FPS goes down on KSP...\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EIs it the output_log? It\u0027s the first time someone asks me to post my crash-log in here...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo the file is named \u0022error\u0022. However, you can verify it yourself. If the file states something along these lines: \u0022\u003Cem\u003Emono.dll caused an Access Violation\u003C/em\u003E\u0022, it is more than likely due to memory usage. \u003C/p\u003E\u003Cp\u003EMr@sal_vager suggests that turning off PPFX edge \u003Cspan style=\u0022color:#333333;\u0022\u003Ehighlighting may improve your performance. link: \u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/121313-Memory-Waste-Problem\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/121313-Memory-Waste-Problem\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EBy the way, in my first post I suggests an answer to your question about performance in KSP versus performance in other games. \u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"DocMoriarty","CreatedById":57433,"CreatedDateTime":"2015-09-16T20:49:57Z","Content":"\n\u003Cp\u003EStay clear of the Claw, lots of weird things happen when you use that and the bugs haven\u0027t been fixed since it\u0027s introduction.\u003C/p\u003E\n"},{"CreatedByName":"Val","CreatedById":126227,"CreatedDateTime":"2015-09-16T21:00:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Brofessional\u0022 data-cite=\u0022Brofessional\u0022\u003E\u003Cdiv\u003E... However, OpenGL gives much lower framerates than DirectX ...\u003C/div\u003E\u003C/blockquote\u003EThat maybe true for some, but I replaced my R9 290X with a GTX 980, because I read on these forums, that newer Nvidia cards (7-, 8-, and 900 series) have no noticeable performance difference with \u003Cstrong\u003E-force-opengl\u003C/strong\u003E. It works for me in KSP and I see the same result with the other Unity 4 game I play, Dreamfall Chapters.\n"},{"CreatedByName":"anarkhon","CreatedById":22469,"CreatedDateTime":"2015-09-17T10:30:47Z","Content":"\n\u003Cp\u003EGrab DDS4KSP,then resize all of the textures in the \\GameData folder to 512x512.\u003C/p\u003E\n"},{"CreatedByName":"Hektos","CreatedById":84721,"CreatedDateTime":"2015-09-17T11:47:59Z","Content":"\n\u003Cp\u003EI\u0027m going to have to agree with most of what the other posters have been saying and say that it is KSP\u0027s RAM limit giving you issues.\u003C/p\u003E\u003Cp\u003ESince KSP crashes at about 3.5GB, having too many mods will have you reaching this limit quickly. This is more likely than not the root of your issues.\u003C/p\u003E\u003Cp\u003EAs someone else state, using the -force-opengl should save quite a bit of memory. Alternatively, and this is what I\u0027ve been using, you can also try -force-d3d11 instead of opengl. Using directX11 has saved me a lot of RAM and still kept my FPS \u0026gt; 40 in most of the average KSP scenes (\u0022mega stations\u0022 are another story though \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\n"},{"CreatedByName":"mythic_fci","CreatedById":58577,"CreatedDateTime":"2015-09-17T12:04:54Z","Content":"\n\u003Cp\u003EIf you haven\u0027t already, remember to set your Physics Delta-Time to 0.03 (all the way to the right). It\u0027s a lifesaver for less powerful computers. Otherwise, try uninstalling a few mods.\u003C/p\u003E\n"},{"CreatedByName":"problemecium","CreatedById":101649,"CreatedDateTime":"2015-09-17T15:34:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pedro_daher\u0022 data-cite=\u0022Pedro_daher\u0022\u003E\u003Cdiv\u003Ean i3 dual core\u003C/div\u003E\u003C/blockquote\u003E\n"}]}