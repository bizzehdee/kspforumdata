{"TopicId":107702,"ForumId":32,"TopicTitle":"Airbreather fuel flow logic","CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-05-05T18:48:19Z","PageNum":1,"Articles":[{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-05-05T18:48:19Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EGenerally quite pleased with 1.0, but we\u0027ve just made an interesting discovery. Airbreathing engines now appear to use the monoprop fuel flow logic. This causes them to drain all \u0022nearby\u0022 fuel tanks equally, to better enable aircraft to maintain balance in flight. Hooray! \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHowever, this also causes them to feed fuel across parts which do not normally permit fuel flow - for example, decouplers with fuel flow turned off. (I haven\u0027t checked, but it presumably would also permit fuel flow across parts where it would be highly implausible). This is not so good; if I turn off fuel flow on a part, I really don\u0027t want fuel to flow through it. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI submit that a third fuel flow logic would make more sense - \u0022like monoprop, but respects crossfeed being disabled\u0022. You could produce the same results if desired by turning on crossfeed, except that you would only be able to do so if the part permitted crossfeed at all. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThe forum keeps turning the paragraphs in my posts into walls-of-text and I don\u0027t know why! Sorry about the listification. \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T18:51:21Z\u0022 title=\u002205/05/2015 06:51  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by damerell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"r_rolo1","CreatedById":26192,"CreatedDateTime":"2015-05-05T18:55:32Z","Content":"\n\u003Cp\u003EKnown issue, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/117983-Aren-t-decouplers-supposed-to-block-fuel-flow\u0022 rel=\u0022external nofollow\u0022\u003Ebug already filed\u003C/a\u003E. No ETA for a fix, if there is a fix at all ...\u003C/p\u003E\u003Cp\u003EAnd yes, it is stupid behaviour ( IMHO, of course ) and at odds with what was promised for the jet engines rebalance ( they would drain equally \u003Cstrong\u003Efrom the tanks in the same level\u003C/strong\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u00B9 IIRC and obviously not from forbidden tanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E ).\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-05-05T18:57:38Z","Content":"\n\u003Cp\u003EI think we might avoid words like \u0022stupid\u0022 but it does seem to be undesirable.\u003C/p\u003E\n"},{"CreatedByName":"Stocchinet","CreatedById":141412,"CreatedDateTime":"2015-05-05T18:58:46Z","Content":"\n\u003Cp\u003EIntresting, but what about intakes? how many do i need in an aircraft with four rapier for example? Air hogging is a thing of the past or slamming a lot of intakes on a craft still works?\u003C/p\u003E\n"},{"CreatedByName":"r_rolo1","CreatedById":26192,"CreatedDateTime":"2015-05-05T19:16:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stocchinet\u0022 data-cite=\u0022Stocchinet\u0022\u003E\u003Cdiv\u003EIntresting, but what about intakes? how many do i need in an aircraft with four rapier for example? Air hogging is a thing of the past or slamming a lot of intakes on a craft still works?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAFAIK intakes work as they always did, that is , as monoprop or electric charge: from source to consumer, disregarding decoupler and toher stuff that doesn\u0027t allow fuel flow. \u003C/p\u003E\u003Cp\u003EOh, and @ damerell ... well, as it is my opinion, I am entitled to use any words I find fancy as long as I don\u0027t break forum rules ( that I didn\u0027t, since I called the behaviour stupid , not who enabled the behaviour \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E ). And IMHO the behaviour is stupid because a) SQUAD made that some parts could not allow fuel flow long long time ago for various and good reasons ( like avoiding unintentional draining of fuel from upper stages ) and \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E this change makes that the UI objectively lies regarding fuel flow rules. For those reasons I believe this behaviour is stupid, but is someone is offended, let us call it counterintuitive and incoherent in game context \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2015-05-05T20:10:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stocchinet\u0022 data-cite=\u0022Stocchinet\u0022\u003E\u003Cdiv\u003EIntresting, but what about intakes? how many do i need in an aircraft with four rapier for example? Air hogging is a thing of the past or slamming a lot of intakes on a craft still works?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI learned a most-valuable thing from a NathanKell post:\u003C/p\u003E\u003Cp\u003EIf your engines ever flameout asymmetrically, then you don\u0027t have enough air intakes. If you do have enough air intakes, your engines will flameout symmetrically when you get too high.\u003C/p\u003E\n"},{"CreatedByName":"arq","CreatedById":71084,"CreatedDateTime":"2015-05-05T20:32:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stocchinet\u0022 data-cite=\u0022Stocchinet\u0022\u003E\u003Cdiv\u003EIntresting, but what about intakes? how many do i need in an aircraft with four rapier for example? Air hogging is a thing of the past or slamming a lot of intakes on a craft still works?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have had zero trouble with 1 intake/jet. At high altitude the thrust drops off faster than the air, so there isn\u0027t a problem.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-05-05T20:36:15Z","Content":"\n\u003Cp\u003EThis is a problem for drop-tank users (well, unless you TACFB or something).\u003C/p\u003E\n"},{"CreatedByName":"Geschosskopf","CreatedById":69507,"CreatedDateTime":"2015-05-05T20:55:27Z","Content":"\n\u003Cp\u003EWhat if you turn off fuel flow on the tanks you won\u0027t want drained instead of the decoupler between them and the rest of the vehicle? Does that stop it?\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-05-05T21:01:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Geschosskopf\u0022 data-cite=\u0022Geschosskopf\u0022\u003E\u003Cdiv\u003EWhat if you turn off fuel flow on the tanks you won\u0027t want drained instead of the decoupler between them and the rest of the vehicle? Does that stop it?\u003C/div\u003E\u003C/blockquote\u003EIt certainly does.\u003Cp\u003EAnd then drop-tank users have to fiddle around with the clumsy right-click fuel interface trying to enable tanks while flying.\u003C/p\u003E\n"},{"CreatedByName":"Colonel_Panic","CreatedById":61997,"CreatedDateTime":"2015-05-05T21:07:42Z","Content":"\n\u003Cp\u003EHmmm, I would suggest a fourth option: treat jet fuel like rocket fuel, however, include a fuel balancer part. Quite simply, a part that, when active, automatically transfers fuel between all tanks which are directly connected via crossfeed to the balancer. That way, you can choose the behavior which best suits your design, be it for balanced weight distribution, drop tanks, etc... tank segments separated by non-crossfeed parts or decouplers would need to have their own balancer. Balancers would be able to manage/reverse the flow of fuel lines when active. As a bonus, we could apply the same logic to xenon and regular rocket fuel. One or two balancer parts could have balancing turned off/on for different fuel types, allowing the default behavior for all fuels to be the same.\u003C/p\u003E\u003Cp\u003EExcept monopropellant. That should still ignore crossfeed rules for the most part, but maybe still only draw from the active stage?\u003C/p\u003E\u003Cp\u003EShouldn\u0027t this really belong on the suggestion forum?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EIt certainly does.\u003Cp\u003EAnd then drop-tank users have to fiddle around with the clumsy right-click fuel interface trying to enable tanks while flying.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFuel tanks and other crossfeed parts should be controllable via action groups.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T21:20:53Z\u0022 title=\u002205/05/2015 09:20  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by Colonel_Panic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-05-05T21:14:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Colonel_Panic\u0022 data-cite=\u0022Colonel_Panic\u0022\u003E\u003Cdiv\u003EFuel tanks and other crossfeed parts should be controllable via action groups.\u003C/div\u003E\u003C/blockquote\u003ENow that would be something nice for stock. In the meantime, you\u0027ve given me an idea.\n"},{"CreatedByName":"Quiana","CreatedById":107476,"CreatedDateTime":"2015-05-05T21:25:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Brotoro\u0022 data-cite=\u0022Brotoro\u0022\u003E\u003Cdiv\u003EI learned a most-valuable thing from a NathanKell post:\u003Cp\u003EIf your engines ever flameout asymmetrically, then you don\u0027t have enough air intakes. If you do have enough air intakes, your engines will flameout symmetrically when you get too high.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnless they\u0027ve changed the behavior for air intakes, this is somewhat correct. I am not sure if the old behavior is still valid, but it would be an artifact of the order of attachment for intakes to engines. The pool of intakes to engines would look like this if you attached two intakes, an engine, another intake, and an engine:\u003C/p\u003E\u003Cp\u003EAIR1 \u0026gt; AIR2 \u0026gt; ENG1 \u0026gt; AIR 3 \u0026gt; ENG2\u003C/p\u003E\u003Cp\u003ESo in effect, air collected by 1/2 intakes is first pushed to ENG1, then past and pools leftover with AIR 3 which goes into ENG2. What would traditionally happen is that as you went higher up, ENG2 would flameout first as AIR3 would be exhausted and only the scraps of AIR1/2 get pushed into ENG two, whereas ENG1 is consuming two intakes entirely by itself. Excess air from AIR3 that ENG2 isn\u0027t using also does wrap around back to AIR1/2 pool.\u003C/p\u003E\u003Cp\u003EA math example of this: (AIR produces, ENG consumes)\u003C/p\u003E\u003Cp\u003EAIR1 - 5\u003C/p\u003E\u003Cp\u003EAIR2 - 5\u003C/p\u003E\u003Cp\u003EENG1 - 3\u003C/p\u003E\u003Cp\u003EAIR3 - 5\u003C/p\u003E\u003Cp\u003EENG2 - 3\u003C/p\u003E\u003Cp\u003E This would result in 10 air going to ENG1 with 7 leftover air going to ENG 2 (total of 8 to ENG 2) leaving a total of 9 air in the pool.\u003C/p\u003E\u003Cp\u003EAs you went up in altitude, the intakes produce less, so the next model:\u003C/p\u003E\u003Cp\u003EAIR1 - 1.5\u003C/p\u003E\u003Cp\u003EAIR2 - 1.5\u003C/p\u003E\u003Cp\u003EENG1 - 3\u003C/p\u003E\u003Cp\u003EAIR3 - 1.5\u003C/p\u003E\u003Cp\u003EENG2 - 3 \u003C/p\u003E\u003Cp\u003EHere we can see that while ENG1 still has just enough to continue to operate, ENG2 is receiving no \u0027spare\u0027 from AIR1/2 and thus ENG2 starves and flames out. In order to balance this, it was always a factor of putting an even number of intakes before each engine to ensure that the pool fed correctly into each engine. Please note my math examples aren\u0027t actual figures, they were made up.\u003C/p\u003E\u003Cp\u003EThe new model does help in terms of starvation, so it\u0027s rare that you will need more than one intake her jet as mentioned by Arq, but these rules still apply if you are using more than one intake. Never place your engines and intakes in symmetry mode on planes without remembering this as it can cause asymmetric flameout.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T21:33:19Z\u0022 title=\u002205/05/2015 09:33  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by Quiana\u003C/strong\u003E\n\u003Cbr\u003EFormatting on my table attempt\n\u003C/span\u003E\n"},{"CreatedByName":"Colonel_Panic","CreatedById":61997,"CreatedDateTime":"2015-05-05T21:28:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Quiana\u0022 data-cite=\u0022Quiana\u0022\u003E\u003Cdiv\u003EUnless they\u0027ve changed the behavior for air intakes, this is somewhat correct. I am not sure if the old behavior is still valid, but it would be an artifact of the order of attachment for intakes to engines. The pool of intakes to engines would look like this if you attached two intakes, an engine, another intake, and an engine:\u003Cp\u003EAIR1 \u0026gt; AIR2 \u0026gt; ENG1 \u0026gt; AIR 3 \u0026gt; ENG2\u003C/p\u003E\u003Cp\u003ESo in effect, air collected by 1/2 intakes is first pushed to ENG1, then past and pools leftover with AIR 3 which goes into ENG2. What would traditionally happen is that as you went higher up, ENG2 would flameout first as AIR3 would be exhausted and only the scraps of AIR1/2 get pushed into ENG two, whereas ENG1 is consuming two intakes entirely by itself. Excess air from AIR3 that ENG2 isn\u0027t using also does wrap around back to AIR1/2 pool.\u003C/p\u003E\u003Cp\u003EA math example of this:\u003C/p\u003E\u003Cp\u003EOrder AIR1 AIR2 ENG1 AIR3 ENG2\u003C/p\u003E\u003Cp\u003EProduces 5 5 5\u003C/p\u003E\u003Cp\u003EConsumes 3 3\u003C/p\u003E\u003Cp\u003EThis would result in 10 air going to ENG1 with 7 leftover air going to ENG 2 (total of 8 to ENG 2) leaving a total of 9 air in the pool.\u003C/p\u003E\u003Cp\u003EAs you went up in altitude, the intakes produce less, so the next model:\u003C/p\u003E\u003Cp\u003EOrder AIR1 AIR2 ENG1 AIR3 ENG2\u003C/p\u003E\u003Cp\u003EProduces 1.5 1.5 1.5\u003C/p\u003E\u003Cp\u003EConsumes 3 3\u003C/p\u003E\u003Cp\u003EHere we can see that while ENG1 still has just enough to continue to operate, ENG2 is receiving no \u0027spare\u0027 from AIR1/2 and thus ENG2 starves and flames out. In order to balance this, it was always a factor of putting an even number of intakes before each engine to ensure that the pool fed correctly into each engine.\u003C/p\u003E\u003Cp\u003EThe new model does help in terms of starvation, so it\u0027s rare that you will need more than one intake her jet as mentioned by Arq, but these rules still apply if you are using more than one intake. Never place your engines and intakes in symmetry mode on planes without remembering this as it can cause asymmetric flameout.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf this is correct, would that mean that you could avoid flameout by always placing all your intakes before placing any of your engines? I\u0027m not sure if I understand what the implication here is.\u003C/p\u003E\n"},{"CreatedByName":"Quiana","CreatedById":107476,"CreatedDateTime":"2015-05-05T21:35:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Colonel_Panic\u0022 data-cite=\u0022Colonel_Panic\u0022\u003E\u003Cdiv\u003EIf this is correct, would that mean that you could avoid flameout by always placing all your intakes before placing any of your engines? I\u0027m not sure if I understand what the implication here is.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIncorrect. If you did that, it would look like this:\u003C/p\u003E\u003Cp\u003EAIR1 - 1\u003C/p\u003E\u003Cp\u003EAIR2 - 1\u003C/p\u003E\u003Cp\u003EAIR3 - 1\u003C/p\u003E\u003Cp\u003EENG1 - 2\u003C/p\u003E\u003Cp\u003EENG2 - 2\u003C/p\u003E\u003Cp\u003EThe air for 1-3 goes into ENG1, pushing the necessary 2 air. The leftover 1 unit of air is pushed into ENG2, which is not enough to sustain it and it flames out.\u003C/p\u003E\u003Cp\u003EAlso check my last post, I edited because the formatting threw it off. order is top down, and it wraps back up to the top at the end of the cycle.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T21:39:28Z\u0022 title=\u002205/05/2015 09:39  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by Quiana\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Colonel_Panic","CreatedById":61997,"CreatedDateTime":"2015-05-05T21:41:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Quiana\u0022 data-cite=\u0022Quiana\u0022\u003E\u003Cdiv\u003EIncorrect. If you did that, it would look like this:\u003Cp\u003EAIR1 - 1\u003C/p\u003E\u003Cp\u003EAIR2 - 1\u003C/p\u003E\u003Cp\u003EAIR3 - 1\u003C/p\u003E\u003Cp\u003EENG1 - 2\u003C/p\u003E\u003Cp\u003EENG2 - 2\u003C/p\u003E\u003Cp\u003EThe air for 1-3 goes into ENG1, pushing the necessary 2 air. The leftover 1 unit of air is pushed into ENG2, which is not enough to sustain it and it flames out.\u003C/p\u003E\u003Cp\u003EAlso check my last post, I edited because the formatting threw it off. order is top down, and it wraps back up to the top at the end of the cycle.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo in that case, how WOULD you prevent asymmetrical flameout?\u003C/p\u003E\n"},{"CreatedByName":"Quiana","CreatedById":107476,"CreatedDateTime":"2015-05-05T21:57:11Z","Content":"\n\u003Cp\u003ESet them up like this, placing in the same order:\u003C/p\u003E\u003Cp\u003EAIR1\u003C/p\u003E\u003Cp\u003EAIR2\u003C/p\u003E\u003Cp\u003EENG1\u003C/p\u003E\u003Cp\u003EAIR3\u003C/p\u003E\u003Cp\u003EAIR4\u003C/p\u003E\u003Cp\u003EENG2\u003C/p\u003E\u003Cp\u003EIf at X height each AIR produces 1 unit, and the ENG consumes 2 units, then they\u0027re evenly matched and you have no \u0027waste\u0027. Beyond X height (which is now the maximum height of flight for this example setup) you\u0027d flame out because both engines would starve within the same second and thrust would be cut evenly.\u003C/p\u003E\u003Cp\u003EThe concept scales up the same way, so if you wanted to have a four-engine you could setup this way and still have symmetric flame-out:\u003C/p\u003E\u003Cp\u003EAIR1\u003C/p\u003E\u003Cp\u003EENG1\u003C/p\u003E\u003Cp\u003EAIR2\u003C/p\u003E\u003Cp\u003EENG2\u003C/p\u003E\u003Cp\u003EAIR3\u003C/p\u003E\u003Cp\u003EENG3\u003C/p\u003E\u003Cp\u003EAIR4\u003C/p\u003E\u003Cp\u003EENG4\u003C/p\u003E\u003Cp\u003ENow as a complex example of four engines, we have this which LOOKS like it would be okay, but doing an example shows the problem:\u003C/p\u003E\u003Cp\u003EAIR1 - 1.5\u003C/p\u003E\u003Cp\u003EAIR2 - 1.5\u003C/p\u003E\u003Cp\u003EENG1 - 2\u003C/p\u003E\u003Cp\u003EENG2 - 2\u003C/p\u003E\u003Cp\u003EAIR3 - 1.5\u003C/p\u003E\u003Cp\u003EAIR4 - 1.5\u003C/p\u003E\u003Cp\u003EENG3 - 2\u003C/p\u003E\u003Cp\u003EENG4 - 2\u003C/p\u003E\u003Cp\u003EThis would be just a bit above X height (maximum sustainable flight) for all engines. ENG2 would immediately flameout, BUT, the leftover 1 air from AIR1/2 would be passed on to AIR3/4 making a total of 4 air, which would leave ENG3/4 running. This would cause asymmetric flameout and rotation.\u003C/p\u003E\n"}]}