{"TopicId":104296,"ForumId":32,"TopicTitle":"N-Body Physics in KSP","CreatedByName":"Sovnheim","CreatedById":104593,"CreatedDateTime":"2015-04-17T02:07:22Z","PageNum":1,"Articles":[{"CreatedByName":"Sovnheim","CreatedById":104593,"CreatedDateTime":"2015-04-17T02:07:22Z","Content":"\n\u003Cp\u003EHi all, \u003C/p\u003E\u003Cp\u003EI seen some threads discussing the implementation of n-body physics (rather the conics-thingy what the system currently uses) to KSP. \u003C/p\u003E\u003Cp\u003EOut of curiosity, I have read part of the official thread for the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68502-WIP-Principia-N-Body-Gravitation-and-Better-Integrators-for-Kerbal-Space-Program\u0022 rel=\u0022external nofollow\u0022\u003EN-Body Gravitation Mod\u003C/a\u003E for KSP, but I have a problem - it often looks like this :\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThe predictions are currently using the same integration method (McLachlan and Atela\u0027s 1992 optimal 5th order method), with the same splitting of the Hamiltonian (kinetic \u002B potential energy), this is somewhat usable but unacceptably slow. I am currently implementing as many symplectic integrators as I can find in order to compare them, and I will also be comparing various splittings (as as nonsymplectic methods in use for computing ephemerides). \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have a degree in literature, not theoretical physics.\u003C/p\u003E\u003Cp\u003EI would be curious to understand the actual benefits in terms of gameplay would such implementation have ?\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-04-17T02:30:21Z","Content":"\n\u003Cp\u003EThe benefit is it\u0027s more realistic.\u003C/p\u003E\u003Cp\u003EThe problems are so many I won\u0027t bother listing them. There are at least as many old threads about this as there are problems with the idea.\u003C/p\u003E\n"},{"CreatedByName":"Xavven","CreatedById":100398,"CreatedDateTime":"2015-04-17T02:55:59Z","Content":"\n\u003Cp\u003EN-body physics would be bad for gaming enjoyment possibly because all of your vessels would be subject to orbital perturbation (\u003Ca href=\u0022https://en.wikipedia.org/wiki/Perturbation_%28astronomy%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/Perturbation_%28astronomy%29\u003C/a\u003E). In short, you could timewarp ahead in what you thought was a stable orbit, only to find you\u0027ve been ejected from the system, or crashed into something else, etc.\u003C/p\u003E\u003Cp\u003ENot to mention Vall becomes a planet in short order:\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/8DF4LgYl5DM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2015-04-17T03:01:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xavven\u0022 data-cite=\u0022Xavven\u0022\u003E\u003Cdiv\u003ENot to mention Vall becomes a planet in short order:\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/8DF4LgYl5DM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOnly if you don\u0027t account for the center of mass of the Joolean moons. If you do that, then the laplace resonance of the moons is stable and Vall doesn\u0027t fly out to infinity.\u003C/p\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2015-04-17T04:47:51Z","Content":"\n\u003Cp\u003EThe benefits: orbits would be more like those in reality rather than the mathematically perfect ones we have in KSP. You could park things at L4/L5, or at L1/L2/L3 if you want to babysit them. Note however, that you can already fake L4 and L5 if you\u0027re precise enough. L1-L3 would mostly just get used to simulate real life missions where you want a satellite in earth\u0027s shadow (telescopes, usually) or never in earth\u0027s shadow (solar observatories, I think). Those Lagrange points aren\u0027t actually stable, so some station keeping would be required.\u003C/p\u003E\u003Cp\u003EWe would get some other interesting things that most players wouldn\u0027t notice, like a planet and moon would rotate around their barycenter rather than the center of the planet.\u003C/p\u003E\u003Cp\u003EThe cost would be a major overhaul of the map mode and maneuver node system, in addition to the work necessary to convert the game over to n-body. Orbits wouldn\u0027t be mathematically precise, so you couldn\u0027t draw an ellipse to represent the orbit you\u0027re currently in on the map, since that orbit wouldn\u0027t be a perfect ellipse and even if it were, would shift over time, something the current map just can\u0027t represent.\u003C/p\u003E\u003Cp\u003EBasically, a lot of work, mostly for things that your average player wouldn\u0027t notice.\u003C/p\u003E\u003Cp\u003EWhich isn\u0027t to say that I\u0027m opposed to it, just that I think there are other things with a better cost/reward ratio.\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2015-04-17T04:56:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sovnheim\u0022 data-cite=\u0022Sovnheim\u0022\u003E\u003Cdiv\u003EI would be curious to understand the actual benefits in terms of gameplay would such implementation have ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is never a dull moment; keeping up with station-keeping will be quite the challenge.\u003C/p\u003E\n"},{"CreatedByName":"samstarman5","CreatedById":12469,"CreatedDateTime":"2015-04-17T05:52:57Z","Content":"\n\u003Cp\u003EI would love when the time comes when a regular CPU can calculate N-body physics to a degree resembling them as we understand them in real life, but it is just not today.\u003C/p\u003E\u003Cp\u003EOf course, about the same time will come the AI capable of handling every vessel you have on mission to keep it in orbit. But, even with that, you will need to keep an eye on them to make sure they have the delta-V to allow for station-keeping. The ISS doesn\u0027t maintain its orbit with just the happy thoughts of the world, after all.\u003C/p\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2015-04-17T05:56:48Z","Content":"\n\u003Cp\u003EOh, and one more thing. There\u0027s no arguing that n-body physics would simulate reality better. However, patched conics approximations are good enough for quite a few things even in reality. In fact, the Apollo program was planned out using patched conics. Basically, unless you\u0027re spending much time away from the gravity wells, patched conics works fine.\u003C/p\u003E\n"},{"CreatedByName":"bakanando","CreatedById":126310,"CreatedDateTime":"2015-04-17T06:11:30Z","Content":"\n\u003Cp\u003EWhat your quote says is basically: we are making it very precise, but at the same time there\u0027s so many calculations that your pc might just spontaneously burst in flames. He wants to make it faster without sacrificing accuracy, but hasn\u0027t finished applying it.\u003C/p\u003E\u003Cp\u003EAlso floating point errors already suck in-game, going n-body would make it even more noticeable.\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2015-04-17T06:22:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022samstarman5\u0022 data-cite=\u0022samstarman5\u0022\u003E\u003Cdiv\u003EI would love when the time comes when a regular CPU can calculate N-body physics to a degree resembling them as we understand them in real life, but it is just not today.\u003Cp\u003EOf course, about the same time will come the AI capable of handling every vessel you have on mission to keep it in orbit. But, even with that, you will need to keep an eye on them to make sure they have the delta-V to allow for station-keeping. The ISS doesn\u0027t maintain its orbit with just the happy thoughts of the world, after all.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E*Spewing nonsense that is somewhat true*\u003C/p\u003E\u003Cp\u003EWell... CPUs are absolutely horrible when it comes to doing anything math related. 64-bit is a pointless \u0022upgrade\u0022 as we do have the technology to go much higher... much much higher... and get crazy benefits from SSE code.\u003C/p\u003E\u003Cp\u003EOf course, the CPU\u0027s main purpose is running small programs and keeping quiet. Number crunching? Nahh... just enough to keep the system running. Now it is the GPU that does that, and does it well...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://cdn.arstechnica.net/wp-content/uploads/2012/12/radeon_city.jpg\u0022 alt=\u0022radeon_city.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou can use a modern CPU, just streamline 25 GPU\u0027s and you can then calculate real time N-Body Physics (maybe) ;p\u003C/p\u003E\n"},{"CreatedByName":"Linear","CreatedById":26619,"CreatedDateTime":"2015-04-17T07:52:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fel\u0022 data-cite=\u0022Fel\u0022\u003E\u003Cdiv\u003E*Spewing nonsense that is somewhat true*\u003Cp\u003EWell... CPUs are absolutely horrible when it comes to doing anything math related. 64-bit is a pointless \u0022upgrade\u0022 as we do have the technology to go much higher... much much higher... and get crazy benefits from SSE code.\u003C/p\u003E\u003Cp\u003EOf course, the CPU\u0027s main purpose is running small programs and keeping quiet. Number crunching? Nahh... just enough to keep the system running. Now it is the GPU that does that, and does it well...\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://cdn.arstechnica.net/wp-content/uploads/2012/12/radeon_city.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://cdn.arstechnica.net/wp-content/uploads/2012/12/radeon_city.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou can use a modern CPU, just streamline 25 GPU\u0027s and you can then calculate real time N-Body Physics (maybe) ;p\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy does everyone think nbody is so intensive?!?!\u003C/p\u003E\n"},{"CreatedByName":"Joonatan1998","CreatedById":97636,"CreatedDateTime":"2015-04-17T08:02:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Linear\u0022 data-cite=\u0022Linear\u0022\u003E\u003Cdiv\u003EWhy does everyone think nbody is so intensive?!?!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt itself isn\u0027t that bad, but at 100000x timewarp, and orbit predictions...\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-04-17T08:03:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Linear\u0022 data-cite=\u0022Linear\u0022\u003E\u003Cdiv\u003EWhy does everyone think nbody is so intensive?!?!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBecause it is. Unless you do it improperly in which case you may as well do patched conics.\u003C/p\u003E\u003Cp\u003EThe total number of interactions is X*(X-1). In the Kerbolar system there are 17 bodies, so just to figure out how gravity affects the PLANETS (before you\u0027ve even launched a single ship) it\u0027d take 272 calculations. Right now, with the planets on rails using patched conics, the total number of calculations is 17.\u003C/p\u003E\u003Cp\u003EBut really for a modern computer that\u0027s not the problem. The problem is it\u0027d be no fun and the planets would eventually pull each other out of their orbits.\u003C/p\u003E\n"}]}