{"TopicId":104296,"ForumId":32,"TopicTitle":"N-Body Physics in KSP","CreatedByName":"Sovnheim","CreatedById":104593,"CreatedDateTime":"2015-04-17T02:07:22Z","PageNum":1,"Articles":[{"CreatedByName":"Sovnheim","CreatedById":104593,"CreatedDateTime":"2015-04-17T02:07:22Z","Content":"Hi all, \n\nI seen some threads discussing the implementation of n-body physics (rather the conics-thingy what the system currently uses) to KSP. \n\nOut of curiosity, I have read part of the official thread for the [N-Body Gravitation Mod](https://forum.kerbalspaceprogram.com/threads/68502-WIP-Principia-N-Body-Gravitation-and-Better-Integrators-for-Kerbal-Space-Program) for KSP, but I have a problem - it often looks like this :\n\n\u003E \n\u003E The predictions are currently using the same integration method (McLachlan and Atela\u0027s 1992 optimal 5th order method), with the same splitting of the Hamiltonian (kinetic \u002B potential energy), this is somewhat usable but unacceptably slow. I am currently implementing as many symplectic integrators as I can find in order to compare them, and I will also be comparing various splittings (as as nonsymplectic methods in use for computing ephemerides).\n\nI have a degree in literature, not theoretical physics.\n\nI would be curious to understand the actual benefits in terms of gameplay would such implementation have ?"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-04-17T02:30:21Z","Content":"The benefit is it\u0027s more realistic.\n\nThe problems are so many I won\u0027t bother listing them. There are at least as many old threads about this as there are problems with the idea."},{"CreatedByName":"Xavven","CreatedById":100398,"CreatedDateTime":"2015-04-17T02:55:59Z","Content":"N-body physics would be bad for gaming enjoyment possibly because all of your vessels would be subject to orbital perturbation ([http://en.wikipedia.org/wiki/Perturbation_%28astronomy%29](https://en.wikipedia.org/wiki/Perturbation_%28astronomy%29)). In short, you could timewarp ahead in what you thought was a stable orbit, only to find you\u0027ve been ejected from the system, or crashed into something else, etc.\n\nNot to mention Vall becomes a planet in short order:\n\n\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/8DF4LgYl5DM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2015-04-17T03:01:06Z","Content":"\u003E \n\u003E Not to mention Vall becomes a planet in short order:\n\u003E \n\u003E \u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/8DF4LgYl5DM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\nOnly if you don\u0027t account for the center of mass of the Joolean moons. If you do that, then the laplace resonance of the moons is stable and Vall doesn\u0027t fly out to infinity."},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2015-04-17T04:47:51Z","Content":"The benefits: orbits would be more like those in reality rather than the mathematically perfect ones we have in KSP. You could park things at L4/L5, or at L1/L2/L3 if you want to babysit them. Note however, that you can already fake L4 and L5 if you\u0027re precise enough. L1-L3 would mostly just get used to simulate real life missions where you want a satellite in earth\u0027s shadow (telescopes, usually) or never in earth\u0027s shadow (solar observatories, I think). Those Lagrange points aren\u0027t actually stable, so some station keeping would be required.\n\nWe would get some other interesting things that most players wouldn\u0027t notice, like a planet and moon would rotate around their barycenter rather than the center of the planet.\n\nThe cost would be a major overhaul of the map mode and maneuver node system, in addition to the work necessary to convert the game over to n-body. Orbits wouldn\u0027t be mathematically precise, so you couldn\u0027t draw an ellipse to represent the orbit you\u0027re currently in on the map, since that orbit wouldn\u0027t be a perfect ellipse and even if it were, would shift over time, something the current map just can\u0027t represent.\n\nBasically, a lot of work, mostly for things that your average player wouldn\u0027t notice.\n\nWhich isn\u0027t to say that I\u0027m opposed to it, just that I think there are other things with a better cost/reward ratio."},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2015-04-17T04:56:12Z","Content":"\u003E \n\u003E I would be curious to understand the actual benefits in terms of gameplay would such implementation have ?\n\nThere is never a dull moment; keeping up with station-keeping will be quite the challenge."},{"CreatedByName":"samstarman5","CreatedById":12469,"CreatedDateTime":"2015-04-17T05:52:57Z","Content":"I would love when the time comes when a regular CPU can calculate N-body physics to a degree resembling them as we understand them in real life, but it is just not today.\n\nOf course, about the same time will come the AI capable of handling every vessel you have on mission to keep it in orbit. But, even with that, you will need to keep an eye on them to make sure they have the delta-V to allow for station-keeping. The ISS doesn\u0027t maintain its orbit with just the happy thoughts of the world, after all."},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2015-04-17T05:56:48Z","Content":"Oh, and one more thing. There\u0027s no arguing that n-body physics would simulate reality better. However, patched conics approximations are good enough for quite a few things even in reality. In fact, the Apollo program was planned out using patched conics. Basically, unless you\u0027re spending much time away from the gravity wells, patched conics works fine."},{"CreatedByName":"bakanando","CreatedById":126310,"CreatedDateTime":"2015-04-17T06:11:30Z","Content":"What your quote says is basically: we are making it very precise, but at the same time there\u0027s so many calculations that your pc might just spontaneously burst in flames. He wants to make it faster without sacrificing accuracy, but hasn\u0027t finished applying it.\n\nAlso floating point errors already suck in-game, going n-body would make it even more noticeable."},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2015-04-17T06:22:00Z","Content":"\u003E \n\u003E I would love when the time comes when a regular CPU can calculate N-body physics to a degree resembling them as we understand them in real life, but it is just not today.\n\u003E Of course, about the same time will come the AI capable of handling every vessel you have on mission to keep it in orbit. But, even with that, you will need to keep an eye on them to make sure they have the delta-V to allow for station-keeping. The ISS doesn\u0027t maintain its orbit with just the happy thoughts of the world, after all.\n\n\\*Spewing nonsense that is somewhat true\\*\n\nWell... CPUs are absolutely horrible when it comes to doing anything math related. 64-bit is a pointless \u0022upgrade\u0022 as we do have the technology to go much higher... much much higher... and get crazy benefits from SSE code.\n\nOf course, the CPU\u0027s main purpose is running small programs and keeping quiet. Number crunching? Nahh... just enough to keep the system running. Now it is the GPU that does that, and does it well...\n\n![radeon_city.jpg](http://cdn.arstechnica.net/wp-content/uploads/2012/12/radeon_city.jpg)\n\n[http://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/](http://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/)\n\nYou can use a modern CPU, just streamline 25 GPU\u0027s and you can then calculate real time N-Body Physics (maybe) ;p"},{"CreatedByName":"Linear","CreatedById":26619,"CreatedDateTime":"2015-04-17T07:52:07Z","Content":"\u003E \n\u003E \\*Spewing nonsense that is somewhat true\\*\n\u003E Well... CPUs are absolutely horrible when it comes to doing anything math related. 64-bit is a pointless \u0022upgrade\u0022 as we do have the technology to go much higher... much much higher... and get crazy benefits from SSE code.\n\u003E \n\u003E Of course, the CPU\u0027s main purpose is running small programs and keeping quiet. Number crunching? Nahh... just enough to keep the system running. Now it is the GPU that does that, and does it well...\n\u003E \n\u003E [http://cdn.arstechnica.net/wp-content/uploads/2012/12/radeon_city.jpg](http://cdn.arstechnica.net/wp-content/uploads/2012/12/radeon_city.jpg)\n\u003E \n\u003E [http://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/](http://arstechnica.com/security/2012/12/25-gpu-cluster-cracks-every-standard-windows-password-in-6-hours/)\n\u003E \n\u003E You can use a modern CPU, just streamline 25 GPU\u0027s and you can then calculate real time N-Body Physics (maybe) ;p\n\nWhy does everyone think nbody is so intensive?!?!"},{"CreatedByName":"Joonatan1998","CreatedById":97636,"CreatedDateTime":"2015-04-17T08:02:28Z","Content":"\u003E \n\u003E Why does everyone think nbody is so intensive?!?!\n\nIt itself isn\u0027t that bad, but at 100000x timewarp, and orbit predictions..."},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-04-17T08:03:32Z","Content":"\u003E \n\u003E Why does everyone think nbody is so intensive?!?!\n\nBecause it is. Unless you do it improperly in which case you may as well do patched conics.\n\nThe total number of interactions is X\\*(X-1). In the Kerbolar system there are 17 bodies, so just to figure out how gravity affects the PLANETS (before you\u0027ve even launched a single ship) it\u0027d take 272 calculations. Right now, with the planets on rails using patched conics, the total number of calculations is 17.\n\nBut really for a modern computer that\u0027s not the problem. The problem is it\u0027d be no fun and the planets would eventually pull each other out of their orbits."}]}