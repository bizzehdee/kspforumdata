{"TopicId":179683,"ForumId":32,"TopicTitle":"How to predict a planet\u0026#039;s distance in the future?","CreatedByName":"Rayder","CreatedById":95226,"CreatedDateTime":"2018-11-10T07:42:25Z","PageNum":1,"Articles":[{"CreatedByName":"Rayder","CreatedById":95226,"CreatedDateTime":"2018-11-10T07:42:25Z","Content":"\n\u003Cp\u003E\nHello all,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been doing some research on how planets move through their orbit and I\u0027ve hit a snag. I\u0027d like to calculate for example, what Duna\u0027s distance to the sun will be at a specific time and date in the future. Such as, what distance will Duna be from the sun at \u0027Time = 2y 120d\u0027.\n\u003C/p\u003E\n\u003Cp\u003E\nSince we have all the orbital parameters available to us, I figured we\u0027d be able to calculate it. Alas, its turning out to be more difficult. I\u0027ve probably stumbled upon the equation somewhere but not realised what I\u0027m reading.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-11-10T08:51:34Z","Content":"\n\u003Cp\u003E\nMy Bible: http\u003Ca href=\u0022http://www.braeunig.us/space/orbmech.htm#position\u0022 rel=\u0022external nofollow\u0022\u003E://www.braeunig.us/space/orbmech.htm#position\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe game data files/wiki should contain each planet\u0027s mean anomaly at game start.\n\u003C/p\u003E\n\u003Cp\u003E\nThe time elapsed divided by the orbit period gives you the number of orbits. Multiply by 2\u03C0 to get that in terms of mean anomaly and add to the first part. (if the answer is over 2\u03C0, keep subtracting 2\u03C0 until it\u0027s in the 0-2\u03C0 range).\n\u003C/p\u003E\n\u003Cp\u003E\nNow convert mean anomaly to true anomaly (via eccentric anomaly). You will need the orbits eccentricity for this (again, this should be available from the wiki or possibly even in-game). Edit: ah, actually it may be that converting mean anomaly to eccentric anomaly and then true anomaly requires iteration (e.g. Newton-Raphson method) rather than a single calculation. I did write a bit of a Java program to work out where all the planets would be given a time point from a save, but that was many months ago and I seem to keep forgetting important details. At least I can link to it:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/ElWanderer/kOS_scripts/blob/MissionBuilder-draft/src/com/elwanderer/missionbuilder/OrbitUtils.java\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ElWanderer/kOS_scripts/blob/MissionBuilder-draft/src/com/elwanderer/missionbuilder/OrbitUtils.java\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you have the true anomaly, you can plug this into an equation that gives the orbital radius at that point, if you already have the semimajor axis and eccentricity (equation 4.43 in the link above).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-11-10T09:48:19Z\u0022 title=\u002211/10/2018 09:48  AM\u0022 data-short=\u00225 yr\u0022\u003ENovember 10, 2018\u003C/time\u003E by ElWanderer\u003C/strong\u003E\n\u003Cbr\u003Emean anomaly to true anomaly may be the complicated way around :(\n\u003C/span\u003E\n"},{"CreatedByName":"pincushionman","CreatedById":98495,"CreatedDateTime":"2018-11-10T14:08:24Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114015\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0022 rel=\u0022\u0022\u003E@ElWanderer\u003C/a\u003E\u00A0is right, the tricky step is the mean anomaly -\u0026gt; eccentric anomaly conversion; everything else is plug-and-chug.\n\u003C/p\u003E\n\u003Cp\u003E\nBut if you have the\u00A0current Excel, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179038-excel-komet-kerbal-orrery-and-maneuver-evaluation-tool/\u0022 rel=\u0022\u0022\u003EI\u2019ve got your back.\u003C/a\u003E\u00A0Just follow these three easy steps:\n\u003C/p\u003E\n\u003Cp\u003E\n1. Use the spreadsheet\n\u003C/p\u003E\n\u003Cp\u003E\n2. \u2026\n\u003C/p\u003E\n\u003Cp\u003E\n3. Profit!\n\u003C/p\u003E\n\u003Cp\u003E\n\u2026Actually, that\u2019s a lie. There\u2019s more than three steps. But you\u2019re a smart dude (I mean, you play KSP, right?) Just read the instructions first so you know how to set the time. You\u2019ll find the anomaly values and radial positions for all the bodies on the \u201CBody Info\u201D tab on row 24.\n\u003C/p\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2018-11-10T15:58:55Z","Content":"\n\u003Cp\u003E\nIsn\u0027t Duna in a perfectly circular obit?\u00A0 If it is then the distance will always be exactly the same so no need to calculate anything at all.\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-11-10T16:45:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223484755\u0022 data-ipsquote-contentid=\u0022179683\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221541865535\u0022 data-ipsquote-userid=\u002296332\u0022 data-ipsquote-username=\u0022Pecan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n36 minutes ago, Pecan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIsn\u0027t Duna in a perfectly circular obit?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://wiki.kerbalspaceprogram.com/wiki/Duna\u0022 rel=\u0022external nofollow\u0022\u003ENope\u003C/a\u003E. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s pretty darn close, though.\u00A0 Orbital eccentricity is only 0.051. So although it\u0027s not perfectly circular,\u00A0 for all practical gameplay purposes it might as well be.\n\u003C/p\u003E\n\u003Cp\u003E\nIn fact, except for Eeloo, all of the planets are close enough to circular that I\u0027ve never had any gameplay reason to need to treat them otherwise. (Yes, even Moho. Its \u003Cu\u003E\u003Cem\u003Einclination\u003C/em\u003E\u003C/u\u003E is an issue, certainly, but in my experience, the eccentricity isn\u0027t.)\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m a little curious what the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u0027s use case is? i.e. given that Duna\u0027s pretty darn close to circular, what\u0027s the situation that requires calculating it exactly? (Or is it just for fun / curiosity?)\n\u003C/p\u003E\n"},{"CreatedByName":"Xurkitree","CreatedById":187694,"CreatedDateTime":"2018-11-10T17:13:44Z","Content":"\n\u003Cp\u003E\nIgnore the above - I have a much better solution!\n\u003C/p\u003E\n\u003Cp\u003E\nStep 1: Open a brand new save\n\u003C/p\u003E\n\u003Cp\u003E\nStep 2: Warp to desired Universal Time\n\u003C/p\u003E\n\u003Cp\u003E\nStep 3: Check Planet distance\n\u003C/p\u003E\n\u003Cp\u003E\nDone!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI hope you found this useful\n\u003C/p\u003E\n"},{"CreatedByName":"Rayder","CreatedById":95226,"CreatedDateTime":"2018-11-12T02:14:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223484782\u0022 data-ipsquote-contentid=\u0022179683\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221541868333\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/11/2018 at 3:45 AM, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n... what\u0027s the situation that requires calculating it exactly? (Or is it just for fun / curiosity?)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIndeed, it is mostly for curiosity / fun.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been messing about with gate orbits and they\u0027re dependent on the excess velocity, which changes depending on the apoapsis of your transfer orbit (ie. the distance the planet will be when you arrive).\n\u003C/p\u003E\n\u003Cp\u003E\nSince the planet will be at a different distance at each transfer window, it was just finding a formula to plug in some numbers and get C3 out. After some investigations yes \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125662\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0022 rel=\u0022\u0022\u003E@Snark\u003C/a\u003E\u00A0is correct: Duna doesn\u0027t change much. The difference is less than ~50dV for the whole ejection and insertion. The bigger differences come into play with Jool and Eeloo, which can be on the order of hundreds of deltaV depending on where they are in the orbit. Duna more or less was just used as an example.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-11-12T02:15:12Z\u0022 title=\u002211/12/2018 02:15  AM\u0022 data-short=\u00225 yr\u0022\u003ENovember 12, 2018\u003C/time\u003E by Rayder\u003C/strong\u003E\n\u003C/span\u003E\n"}]}