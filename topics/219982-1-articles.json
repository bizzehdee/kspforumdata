{"TopicId":219982,"ForumId":69,"TopicTitle":"KSP keeps crashing in VAB/SPH, Linux 64 bit, Steam install, I am pretty sure it\u0026#039;s an issue with Mesa but I don\u0026#039;t know how to fix it","CreatedByName":"anu-x","CreatedById":230937,"CreatedDateTime":"2023-10-18T06:17:34Z","PageNum":1,"Articles":[{"CreatedByName":"anu-x","CreatedById":230937,"CreatedDateTime":"2023-10-18T06:17:34Z","Content":"\n\u003Cp\u003E\nI have a laptop with the processing power of half a brick. I have no GPU and KSP is using the graphics part of my Intel i5 CPU. I have Ubuntu 22.04 and I have what I think is the latest Mesa driver available on Ubuntu. I have 16GB of RAM and 8GB of swap. KSP version is 1.12.5.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I am building in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E or \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E, occasionally, every few minutes, my entire computer freezes for a minute or so. The music keeps playing, and the computer seems to be taking some input, though when I close the lid it doesn\u0027t go into lock mode.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter waiting for the minute or so, one of the following happens:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nIt unfreezes and everything goes back to normal, and I can continue playing the game. When this happens though, it starts freezing more often afterwards.\n\u003C/li\u003E\n\u003Cli\u003E\nKSP crashes.\n\u003C/li\u003E\n\u003Cli\u003E\nDiscord crashes for some reason, and KSP continues playing.\n\u003C/li\u003E\n\u003Cli\u003E\n(rarely) It doesn\u0027t unfreeze for several more minutes, and it breaks a bunch of things in my computer that I have to fix by rebooting.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nI\u0027ve been googling this for a few days now, and after checking my logs and comparing it to things, I am almost certain that the issue is with my Mesa graphics driver, and possibly something about something called DRI3.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I also don\u0027t think downgrading Mesa is an available option for me, as I am not very knowledgeable about computers and a lot of important programs have dependencies on it.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, I tried setting an environment variable on my steam launcher to disable DRI3 so that it would use DRI2 (which people say don\u0027t have that issue) and I checked that steam successfully sets the variable but I am not sure it\u0027s working and also the issue still happens with the variable set.\n\u003C/p\u003E\n\u003Cp\u003E\nI just tried recreating the issue.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E, it froze and unfroze once, and then on the next freeze it crashed.\n\u003C/p\u003E\n\u003Cp\u003E\nI checked the Player.log file, and this is the last few lines:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E[...]\n\nseatExternalCmd added to ship - part count: 8\n(Filename: ./Runtime/Export/Debug/Debug.bindings.h Line: 35)\n\nseatExternalCmd added to ship - part count: 7\n(Filename: ./Runtime/Export/Debug/Debug.bindings.h Line: 35)\n\nseatExternalCmd added to ship - part count: 7\n(Filename: ./Runtime/Export/Debug/Debug.bindings.h Line: 35)\n\nCaught fatal signal - signo:6 code:-6 errno:0 addr:0x3e800031792\nObtained 12 stack frames.\n#0  0x007f91a6442520 in __sigaction\n#1  0x007f91a64969fc in pthread_kill\n#2  0x007f91a6442476 in raise\n#3  0x007f91a64287f3 in abort\n#4  0x007f91a329d86d in (Unknown)\n#5  0x007f91a44160cd in nouveau_drm_screen_create\n#6  0x007f91a384e9f6 in __driDriverGetExtensions_d3d12\n#7  0x007f91a3849612 in __driDriverGetExtensions_d3d12\n#8  0x007f91a32bfbc8 in __driDriverGetExtensions_d3d12\n#9  0x007f91a330f7cb in __driDriverGetExtensions_d3d12\n#10 0x007f91a6494ac3 in pthread_condattr_setpshared\n#11 0x007f91a6526a40 in __xmknodat\u003C/pre\u003E\n\u003Cp\u003E\nI don\u0027t think the rest of the log is relevant, since it happens every single time I\u0027m in the editor doing anything, but if you need it I will post the entire file once requested.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been stumped with this for a long time, and KSP is not very fun when it crashes every time you want to try something new. If anyone could help me with this, I would appreciate it a lot. Thanks!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I have been informed that \u0022nouveau\u0022 (see the line in the log just before it crashes) is some kind of driver for Nvidia GPUs. I don\u0027t have an Nvidia GPU, and I don\u0027t know whether this was installed on Ubuntu by default or if I accidentally installed it trying to install something else (which I don\u0027t think is likely). This might be the cause of the issue, or it might be unrelated.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-10-18T06:56:40Z\u0022 title=\u002210/18/2023 06:56  AM\u0022 data-short=\u0022Oct 18\u0022\u003EOctober 18, 2023\u003C/time\u003E by anu-x\u003C/strong\u003E\n\u003Cbr\u003Eadditional info\n\u003C/span\u003E\n"}]}