{"TopicId":33548,"ForumId":15,"TopicTitle":"[Partially Solved] New Node System - Unable to get it working","CreatedByName":"Pezzhippo","CreatedById":27662,"CreatedDateTime":"2013-06-18T01:11:05Z","PageNum":1,"Articles":[{"CreatedByName":"Pezzhippo","CreatedById":27662,"CreatedDateTime":"2013-06-18T01:11:05Z","Content":"\n\u003Cp\u003EHola folks~ Been cooking up some parts, and had, up until now, been using the tried and trusted method of defining attachment nodes, but with the release of the .20 PartTools, I figured I\u0027d give the new system a shot. To no success.\u003C/p\u003E\u003Cp\u003EAs many of you may have seen, the new system apparently works by adding these lines to the configs:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EATTACH\u003Cbr\u003E{\u003Cbr\u003E   name = top\u003Cbr\u003E   transformName = myTopTransform\u003Cbr\u003E}\u003Cbr\u003EATTACH\u003Cbr\u003E{\u003Cbr\u003E   name = srfAttach\u003Cbr\u003E   transformName = mySrfAttachmentTransform\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd this provides no results at all. A user by the name of Razchek had apparently come across a solution:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Razchek\u0022 data-cite=\u0022Razchek\u0022\u003E\u003Cdiv\u003ETo get the attachment nodes to work you must place them in your config like so:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ENODE\u003Cbr\u003E{\u003Cbr\u003E   name = top\u003Cbr\u003E   transform = topTransform // Or whatever your transform name is.\u003Cbr\u003E   size = 1.0 // Will always be 0 until fixed.\u003Cbr\u003E   method = FIXED_JOINT // will always be FIXED_JOINT until fixed.\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOriginal post suggests:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EATTACH\u003Cbr\u003E{\u003Cbr\u003E   name = top\u003Cbr\u003E   transformName = topTransform\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESize and Method are not being respected, so they will just be place-holders until it\u0027s fixed in the AttachNode class.\u003C/p\u003E\u003Cp\u003EPlace the transform (empty game object) in unity so that the blue arrow is facing away from the point you want to attach to.\u003C/p\u003E\u003Cp\u003EI.e. Have the blue arrow facing down if the node is at the top of your model so that you can stack objects on top of your object.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe key term in the statement above is how the node is instead defined as \u0027NODE\u0027 as opposed to \u0027ATTACH\u0027, so I gave that a whirl instead, and was thus met with KSP hanging on my part during loading. Replacing NODE with ATTACH loaded the part, but not the attachment points it would seem.\u003C/p\u003E\u003Cp\u003ESo my questions to you chaps are:\u003C/p\u003E\u003Cp\u003E-Has anyone gotten this working yet?\u003C/p\u003E\u003Cp\u003E-How did you go about doing so?\u003C/p\u003E\u003Cp\u003EThanks for your time, and any help would be greatly appreciated~ c:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate:\u003C/strong\u003E I\u0027ve gotten Stack Nodes working, turns out I had the transforms in the wrong place in the hierarchy. NODE is in fact the correct statement to use, rather than ATTACH. The only thing I haven\u0027t gotten to work are Surface Attachment Nodes, even using what I assume is the correct syntax, and the correct hierarchy placement, it\u0027s not working. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/34555-Anyone-got-the-new-0-20-attachment-nodes-working-yet\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/34555-Anyone-got-the-new-0-20-attachment-nodes-working-yet\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EGoing by this thread, I\u0027m of the opinion that the new system is a little broken, thus I\u0027m just gonna stick with the older system, which works without a hitch.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-18T02:21:27Z\u0022 title=\u002206/18/2013 02:21  AM\u0022 data-short=\u002211 yr\u0022\u003EJune 18, 2013\u003C/time\u003E by Pezzhippo\u003C/strong\u003E\n\u003Cbr\u003EPartially Solved\n\u003C/span\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2013-06-18T01:23:28Z","Content":"\n\u003Cp\u003EYup I got it to work. Make sure your empty gameobject\u0027s blue arrow point inwards on your part.\u003C/p\u003E\n"},{"CreatedByName":"Devo","CreatedById":22750,"CreatedDateTime":"2013-06-18T01:29:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sirkut\u0022 data-cite=\u0022sirkut\u0022\u003E\u003Cdiv\u003EYup I got it to work. Make sure your empty gameobject\u0027s blue arrow point inwards on your part.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E^This\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Pezzhippo","CreatedById":27662,"CreatedDateTime":"2013-06-18T01:33:25Z","Content":"\n\u003Cp\u003EAye, that\u0027s something I garnered from Razchek\u0027s post, but still no joy even with things properly oriented. My config itself looked like this (NODE and ATTACH are interchangeable, I tried both):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENODE/ATTACH\u003Cbr\u003E{\u003Cbr\u003E   name = top\u003Cbr\u003E   transform = Attach01\u003Cbr\u003E   size = 1.0\u003Cbr\u003E   method = FIXED_JOINT\u003Cbr\u003E}\u003Cbr\u003ENODE/ATTACH\u003Cbr\u003E{\u003Cbr\u003E   name = bottom\u003Cbr\u003E   transform = Attach02\u003Cbr\u003E   size = 1.0\u003Cbr\u003E   method = FIXED_JOINT\u003Cbr\u003E}\u003Cbr\u003ENODE/ATTACH\u003Cbr\u003E{\u003Cbr\u003E   name = srfAttach\u003Cbr\u003E   transform = SrfAttach\u003Cbr\u003E   size = 1.0\u003Cbr\u003E   method = FIXED_JOINT\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI placed these snippets in the config where the old node system used to be located, I\u0027m wondering if that\u0027s an issue.\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2013-06-18T02:20:28Z","Content":"\n\u003Cp\u003EYou can eliminate size and method for the time being as they won\u0027t do anything. try using my example below. Be sure to name your empty game object \u0027bottom\u0027 When I create mine I nest both the model and the empty game object under the same parent.\u003C/p\u003E\u003Cp\u003ENODE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = top\u003C/p\u003E\u003Cp\u003E transform = bottom\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\n"},{"CreatedByName":"Razchek","CreatedById":62645,"CreatedDateTime":"2013-06-18T05:21:44Z","Content":"\n\u003Cp\u003EI should have elaborated a bit more on the new nodes. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENode rules (as of 0.20.2):\u003C/p\u003E\u003Cp\u003E1. The node transform must be in the hierarchy of the PartTools object in Unity (just place it as the child of the part tools game object for simplicity and performance).\u003C/p\u003E\u003Cp\u003E2. \u003Ca href=\u0022http://www.hubs.co.nz/transform.png\u0022 rel=\u0022external nofollow\u0022\u003EThe Z axis (blue arrow) must point inwards to your part.\u003C/a\u003E (much better wording sirkut, thanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E) I.e. away from the planned attach-part.\u003C/p\u003E\u003Cp\u003E3. The size \u0026amp; method fields are not respected and will not be used in 0.20.2 (and size is a whole number (int32); so my bad on putting 1.0 in the post, i\u0027ll fix that lol, should be either 0, 1 or 2 in the future).\u003C/p\u003E\u003Cp\u003E4. The \u0027node\u0027 section title must be \u0022NODE\u0022 and \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Enot\u003C/span\u003E \u0022ATTACH\u0022.\u003C/p\u003E\u003Cp\u003E5. Surface attach nodes may not work (because the joints are forced as FIXED_JOINT when they should be HINGE_JOINT). They will break any existing attach nodes from actually setting the part connected.\u003C/p\u003E\u003Cp\u003EI usually put the NODE{} just above my first MODULE{} or, if no modules, at the bottom of the part config when making config files. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-27T02:29:35Z\u0022 title=\u002206/27/2013 02:29  AM\u0022 data-short=\u002211 yr\u0022\u003EJune 27, 2013\u003C/time\u003E by Razchek\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2013-06-18T05:25:04Z","Content":"\n\u003Cp\u003EOnce you get it working you will NEVER go back. Trust me it\u0027s really nice to pinpoint the attachment nodes.\u003C/p\u003E\n"},{"CreatedByName":"Rivvik","CreatedById":77232,"CreatedDateTime":"2013-08-04T18:38:35Z","Content":"\n\u003Cp\u003EI\u0027m doing this but when it is set to NODE the part and anything after it do not even load.\u003C/p\u003E\u003Cp\u003EHere\u0027s the pertinant code...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ENODE\u003Cbr\u003E{\u003Cbr\u003Ename = top\u003Cbr\u003EtransformName = nodeConnect\u003Cbr\u003Esize = 3\u003Cbr\u003E}\u003Cbr\u003ENODE\u003Cbr\u003E{\u003Cbr\u003Ename = left\u003Cbr\u003EtransformName = nodeWheelLF\u003Cbr\u003Esize = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ENODE\u003Cbr\u003E{\u003Cbr\u003Ename = left01\u003Cbr\u003EtransformName = nodeWheelLR\u003Cbr\u003Esize = 2\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003ENODE\u003Cbr\u003E{\u003Cbr\u003Ename = left02\u003Cbr\u003EtransformName = nodeWinL\u003Cbr\u003Esize = 2\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003ENODE\u003Cbr\u003E{\u003Cbr\u003Ename = right\u003Cbr\u003EtransformName = nodeWheelRF\u003Cbr\u003Esize = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003ENODE\u003Cbr\u003E{\u003Cbr\u003Ename = right01\u003Cbr\u003EtransformName = nodeWheelRR\u003Cbr\u003Esize = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003ENODE\u003Cbr\u003E{\u003Cbr\u003Ename = right02\u003Cbr\u003EtransformName = nodeWingR\u003Cbr\u003Esize = 2\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EATTACH\u003Cbr\u003E{\u003Cbr\u003Ename = srfAttach\u003Cbr\u003EtransformName = nodeConnect2\u003Cbr\u003Esize = 3\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}