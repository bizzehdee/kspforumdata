{"TopicId":132422,"ForumId":44,"TopicTitle":"Rocket math for custom fuel tanks in RSS","CreatedByName":"Halo_003","CreatedById":76050,"CreatedDateTime":"2016-02-18T19:32:04Z","PageNum":1,"Articles":[{"CreatedByName":"Halo_003","CreatedById":76050,"CreatedDateTime":"2016-02-18T19:32:04Z","Content":"\n\u003Cp\u003E\nHi, this may or may not be the right place. I\u0027m making my own fuel tanks for\u00A0use in RSS, just for fun really, but I\u0027m trying to work out the math behind it. So I have it set up in 2 stages, both LH2/LOX fueled, at a 6:1 mixture ratio. I\u0027m assuming 95% of the volume in each stage is available volume for fuel, which is sort of a guess. I\u0027m using 381s ASL, 455s VAC isp.\n\u003C/p\u003E\n\u003Cp\u003E\nSo each tank is a 6\u0027 radius cylinder. Stage 1 is 140\u0027 height, stage 2 is 40\u0027 height. I figured out volumes etc, and worked all of this out in Excel, I just want a math check to see if I\u0027m doing this right.\n\u003C/p\u003E\n\u003Cp\u003E\nAssumptions:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nISP \u003Cspan\u003E@ VAC: 455s\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EISP @ SL: 381s\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E95% volume of each cylinder is available for fuel storage. (referred to in Excel as Efficiency)\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EStage 1 height: 140\u0027\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EStage 2 height: 40\u0027\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EStage radii: 6\u0027 (both)\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EWent from liters to kgs of fuel by multiplying by density of O2 and H2 (1.1417kg/L O2, 0.07078kg/L H2).\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EUsed volume ratio of SS ET to find amount in liters of each fuel per stage. (72.81% volume is H2, 27.19% volume is O2)\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Cspan\u003E\u003Cimg alt=\u0022RjwnskG.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/RjwnskG.jpg\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u002B5000kg, \u002B10000kg, etc relates to payload capacity. Am I on the right track here? To simplify the math some I just used SL ISP for Stage 1, and VAC ISP for Stage 2.\n\u003C/p\u003E\n\u003Cp\u003E\nSo this would result in a maximum payload of less than 10,000kg, or am I missing something? If yes, how could I modify it to reach a 20,000kg payload to LEO?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n*SS kg/L refers to the weight to volume ratio of the space shuttle ET just as a sanity check.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-18T19:33:52Z\u0022 title=\u002202/18/2016 07:33  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 18, 2016\u003C/time\u003E by Halo_003\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"UmbralRaptor","CreatedById":2767,"CreatedDateTime":"2016-02-18T20:59:57Z","Content":"\n\u003Cp\u003E\nWithout direct access to the spreadsheet, it\u0027s difficult to see if there are errors, though the SL Isp for its full burn is rather pessimistic. I\u0027d suggest looking up the \u003Ca href=\u0022http://astronautix.com/lvs/deledium.htm\u0022 rel=\u0022external nofollow\u0022\u003EDelta IV Medium\u003C/a\u003E\u0027s performance for a sanity check if nothing else. (Also in part because it seems to have double the payload fraction?)\n\u003C/p\u003E\n"},{"CreatedByName":"A Fuzzy Velociraptor","CreatedById":158799,"CreatedDateTime":"2016-02-18T21:39:49Z","Content":"\n\u003Cp\u003E\nI can\u0027t say I know what RSS is in this context or at all so some of what I\u0027ll say may not make sense or apply for your application.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, there are a couple issues with your system estimations I can see. I am not sure about the validity of saying that 95% percent of the cylinder available for propellant, though since I don\u0027t think you are trying to actually design something it is probably fine. Also I don\u0027t know where or how you have calculated your structural mass fractions but since your system uses a LH2/LOX you should anticipate your structural mass to be no less than 10% the mass of your system and likely closer to 12-15%.\n\u003C/p\u003E\n\u003Cp\u003E\nAssuming you plugged the stuff into the equation correctly (be sure to take into account the mass of the second stage in your first stage delta V estimation) your delta V estimations should be accurate. So yes, your payload would be less than 10kt. Increasing the payload capacity of your vehicle would actually be fairly easy to do. Vary the ratio of the mass of your lower stage and upper stage until you hit a peak. This can be done pretty easily through creating a plot in excel or running a program through matlab/fortran etc. However, increasing your capacity to 20kt from there may be quite a bit harder than just optimizing your system. You will likely need to increase the mass of your vehicle or the number of stages of your vehicle including adding parallel staging.\n\u003C/p\u003E\n\u003Cp\u003E\n___________________________________\n\u003C/p\u003E\n\u003Cp\u003E\nI went ahead a wrote a quick program for you that will work with matlab at least. By increasing your ratio so that your first stage is about 83% of the total mass of the system not including your payload and your second stage to about 17% the total mass you can get your payload up to 10kt with a total mass of 220kt.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Capture.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://s11.postimg.org/ogpbcsdj7/Capture.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI added in the assumptions of your structural mass being 10% for the first stage and 15% for the second stage. I also added in your ISP values though I accidentally used 386 instead of 381.\n\u003C/p\u003E\n\u003Cp\u003E\nProgram:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003Ex=[1:100];\u003Cbr\u003E\ny=zeros(1,100);\u003Cbr\u003E\nc=1;\u003Cbr\u003E\n% Mass Fractions\u003Cbr\u003E\nnuL=0.1;\u003Cbr\u003E\nnuU=0.15;\u003Cbr\u003E\n% Effective Velocity\u003Cbr\u003E\nEVL=386*9.81;\u003Cbr\u003E\nEVU=455*9.81;\u003Cbr\u003E\n% Total Rocket Mass\u003Cbr\u003E\nMt = 200000;\u003Cbr\u003E\n% Payload Mass\u003Cbr\u003E\nMp = 10000;\u003Cbr\u003E\nfor c=1:100\u003Cbr\u003E\n\u00A0 \u00A0 % Lower Stage Mass\u003Cbr\u003E\n\u00A0 \u00A0 Ml=Mt*x(c)/100;\u003Cbr\u003E\n\u00A0 \u00A0 % Upper Stage Mass\u003Cbr\u003E\n\u00A0 \u00A0 Mu=Mt*(100-x(c))/100;\u003Cbr\u003E\n\u00A0 \u00A0 % Delta U estimation\u003Cbr\u003E\n\u00A0 \u00A0 delU = EVL*log((Ml\u002BMu\u002BMp)/(nuL*Ml\u002BMu\u002BMp))\u002BEVU*log((Mu\u002BMp)/(Mu*nuU\u002BMp));\u003Cbr\u003E\n\u00A0 \u00A0 y(c) = delU;\u003Cbr\u003E\nend\u003Cbr\u003E\nplot(x,y)\u003Cbr\u003E\ntitle(\u0027Delta U Estimation\u0027);\u003Cbr\u003E\nxlabel(\u0027Percentage First Stage of Total Vehicle Mass\u0027);\u003Cbr\u003E\nylabel(\u0027Delta U\u0027)\u003Cbr\u003E\ngrid on\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Halo_003","CreatedById":76050,"CreatedDateTime":"2016-02-18T22:01:38Z","Content":"\n\u003Cp\u003E\nI should have put that in, RSS is Real Solar System for KSP. \u00A0I would have attached the Excel file but I\u0027m not sure how frankly.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222417643\u0022 data-ipsquote-contentid=\u0022132422\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455831589\u0022 data-ipsquote-userid=\u0022158799\u0022 data-ipsquote-username=\u0022A Fuzzy Velociraptor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n25 minutes ago, A Fuzzy Velociraptor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can\u0027t say I know what RSS is in this context or at all so some of what I\u0027ll say may not make sense or apply for your application.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, there are a couple issues with your system estimations I can see. I am not sure about the validity of saying that 95% percent of the cylinder available for propellant, though since I don\u0027t think you are trying to actually design something it is probably fine. Also I don\u0027t know where or how you have calculated your structural mass fractions but since your system uses a LH2/LOX you should anticipate your structural mass to be no less than 10% the mass of your system and likely closer to 12-15%.\n\u003C/p\u003E\n\u003Cp\u003E\nAssuming you plugged the stuff into the equation correctly (be sure to take into account the mass of the second stage in your first stage delta V estimation) your delta V estimations should be accurate. So yes, your payload would be less than 10kt. Increasing the payload capacity of your vehicle would actually be fairly easy to do. Vary the ratio of the mass of your lower stage and upper stage until you hit a peak. This can be done pretty easily through creating a plot in excel or running a program through matlab/fortran etc. However, increasing your capacity to 20kt from there may be quite a bit harder than just optimizing your system. You will likely need to increase the mass of your vehicle or the number of stages of your vehicle including adding parallel staging.\n\u003C/p\u003E\n\u003Cp\u003E\n___________________________________\n\u003C/p\u003E\n\u003Cp\u003E\nI went ahead a wrote a quick program for you that will work with matlab at least. By increasing your ratio so that your first stage is about 83% of the total mass of the system not including your payload and your second stage to about 17% the total mass you can get your payload up to 10kt with a total mass of 220kt.\n\u003C/p\u003E\n\u003Cp\u003E\n*snip*\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nVery interesting! I have a few questions though:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHow would I run the program you made for me?\u00A0(Thank you!) I have Matlab but haven\u0027t ever used it. Or, how would you do it in Excel?\n\u003C/p\u003E\n\u003Cp\u003E\nIf for\u00A0I wanted to compare switching the first stage to run on LOX/Methane, how would I figure out the amount of CH4/LOX? Is there an easy way to do that?\n\u003C/p\u003E\n\u003Cp\u003E\nWhy does changing the mass ratio of the first to second stage affect it so much? Currently 21.3% is assigned to second stage, and the remaining 78.7% is the first stage.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-18T22:05:29Z\u0022 title=\u002202/18/2016 10:05  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 18, 2016\u003C/time\u003E by Halo_003\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"A Fuzzy Velociraptor","CreatedById":158799,"CreatedDateTime":"2016-02-18T22:36:19Z","Content":"\n\u003Cp\u003E\nOpen matlab and you can either just paste it in the\u00A0command window or create a function file, save and hit F5 or the run button. If you wanted it in excel create a column from 1-99 and then another column from 99-1 using a desired starting mass determine the mass of the stages for each case. Add in the other factors like isp and structural mass ratio then just drop in the delU equation (though change variables for the respective excel boxes) and drag it down. Then you can either plot it or search for the highest delta V value.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to determine rough ratios for different propellants try to find the stoichiometric mass ratio. If you want more specific numbers use a program called NASA CEA though it isnt very user friendly if you dont know what youre doing. CEA will also give you your ISP values. Your structural mass ratio will vary as you change in size and as your propellant densities change. Denser propellants will have lower structural mass ratios as will larger vehicles. While it is possible to get your structural mass ratios quite low I would keep them around 10 percent for more things you will be looking at and especially at the level you are looking at.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for why the graph behaves like that I cant say with certainty but some of the difference will be caused by our using different values, especially in the structural mass regime. As the structural mass and payload\u00A0in your upper section increases the graph will tend to shift towards a larger first stage. As your structural mass decreases it will shift towards a larger second stage. The varying ISPs will also affect your system quite a bit. Unfortunatley here there are a lot of variables that all affect how the graph looks that it is sort of hard to give a proper explanation of how exactly it gets that shape.\n\u003C/p\u003E\n"},{"CreatedByName":"A Fuzzy Velociraptor","CreatedById":158799,"CreatedDateTime":"2016-02-18T22:44:48Z","Content":"\n\u003Cp style=\u0022color:rgb(39,42,52);font-size:14px;line-height:22px;background-color:rgb(255,255,255);margin-top:0px;\u0022\u003E\nLooking at your original problem you have about a 12ish percent mass ratio on your first stage and about a 6 percent mass ratio on your second. If you were to plot that you would probably find that your \u00A0graph would be left shifted quite a bit wanting a substantially smaller first stage. A bunch of variables were changed when I wrote the program so a direct comparison isnt particularly valid.\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(39,42,52);font-size:14px;line-height:22px;background-color:rgb(255,255,255);margin-top:0px;\u0022\u003E\nThing wouldn\u0027t let me edit the previous post.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-18T22:45:21Z\u0022 title=\u002202/18/2016 10:45  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 18, 2016\u003C/time\u003E by A Fuzzy Velociraptor\u003C/strong\u003E\n\u003C/span\u003E\n"}]}