{"TopicId":163269,"ForumId":29,"TopicTitle":"[RESOLVED by compromise] Animations and time warp","CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2017-07-15T06:23:31Z","PageNum":1,"Articles":[{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2017-07-15T06:23:31Z","Content":"\n\u003Cp\u003E\nI need to know how to properly manage timing during physics warp and high-speed warp (the non-physics variety).\n\u003C/p\u003E\n\u003Cp\u003E\nTiming is required for my animations. I can use Time.time under normal scale and it works ok, but i need a timing variable / method that reads game time and is affected by both warp types. Note that MET is not acceptable since it does not run while vessel is landed.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-07-15T17:50:44Z\u0022 title=\u002207/15/2017 05:50  PM\u0022 data-short=\u00226 yr\u0022\u003EJuly 15, 2017\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2017-07-15T15:30:51Z","Content":"\n\u003Cp\u003E\nSigh... I\u0027ve come up with this, i just don\u0027t know if Time.time is the correct source (or the ONLY source of timing info, besides MET)\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Epublic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003Efloat\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E scaledTime\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            get \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Ereturn\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003ETime\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Etime \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EMathf\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EMax\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003ETime\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EtimeScale\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan\u003ETimeWarp\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003ECurrentRate\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAfter testing i\u0027ve concluded that Time.timeScale is for physics warp and TimeWarp.CurrentRate is for high-speed physics-less warp. Also note that rate changes between two steps are gradual.\n\u003C/p\u003E\n"},{"CreatedByName":"Aelfhe1m","CreatedById":142910,"CreatedDateTime":"2017-07-15T15:53:50Z","Content":"\n\u003Cp\u003E\nYou could use\u00A0\u00A0Planetarium.GetUniversalTime(). This is the total number of seconds elapsed\u00A0during game time since start of save.\n\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2017-07-15T17:45:57Z","Content":"\n\u003Cp\u003E\nThanks for this, i did more tests and Time.time appears to be affected by physics warp only.\n\u003C/p\u003E\n\u003Cp\u003E\nPlanetarium.GetUniversalTime()\u00A0 does respect both warp modes.\n\u003C/p\u003E\n\u003Cp\u003E\nHmmm... I just tested stock cargo bay. Animation playback speeds are affected by physics warp only. A compromise or a bug, i can\u0027t tell.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother thing about gameplay : when high-speed (on-rails) warp is active, part menu buttons (defined with [KSPEvent] attribute in plugin) are not available, preventing players from activating animations that make parts move in this warp mode.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you imagine a 15 second animation accelerated by 10000x warp ? \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 To me it looks more and more like a compromise. Interestingly, action groups are not affected, so player could still execute them.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-07-15T17:56:17Z\u0022 title=\u002207/15/2017 05:56  PM\u0022 data-short=\u00226 yr\u0022\u003EJuly 15, 2017\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003C/span\u003E\n"}]}