{"TopicId":60163,"ForumId":34,"TopicTitle":"[0.90] Custom Biomes 1.7.0 [17 Dec]","CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-01-16T19:09:54Z","PageNum":8,"Articles":[{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-05-19T08:38:55Z","Content":"\n\u003Cp\u003EOk, so it seems my theory pans out at least to a degree...\u003C/p\u003E\u003Cp\u003ENewest test map:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/LOMgINp.png\u0022 alt=\u0022LOMgINp.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI went through the whole list of biome layers giving them colors equaling 10\u00C3\u201A\u00C2\u00B0 of hue seperation and 100% saturation and value. The game was easily able to differentiate between color differences that were so minute that my eye could only just barely register them at high zooms (e.g. the polar regions and polar craters). The failure arises when a border exists where an intermediate color exists somewhere else on the map. It would seem that the trick is not to increase the contrast as much as possible which is likely to increase errors by introducing a lot of intermediate colors, but to absolutely minimize the number of biome border crossings which have the possibility of intermediate colors.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-19T11:19:41Z\u0022 title=\u002205/19/2014 11:19  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 19, 2014\u003C/time\u003E by SpacedInvader\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-05-20T15:40:49Z","Content":"\n\u003Cp\u003EThat\u0027s pretty impressive work SpacedInvader. I might have to take a look at changing some biome colors, too. Have you tried the low contrast map without ExactMatch yet?\u003C/p\u003E\u003Cp\u003EAs far as the two map option, I would like to reiterate that my intent for having the maps is more so that users can see which biomes are loaded rather than as a significant mapping option. I would still recommend something like SCANsat for actually looking at and locating biomes.\u003C/p\u003E\n"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-05-21T01:10:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trueborn\u0022 data-cite=\u0022Trueborn\u0022\u003E\u003Cdiv\u003EThat\u0027s pretty impressive work SpacedInvader. I might have to take a look at changing some biome colors, too. Have you tried the low contrast map without ExactMatch yet?\u003Cp\u003EAs far as the two map option, I would like to reiterate that my intent for having the maps is more so that users can see which biomes are loaded rather than as a significant mapping option. I would still recommend something like SCANsat for actually looking at and locating biomes.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have, but with so many colors, it is difficult to work. Basically it goes like this:\u003C/p\u003E\u003Cp\u003EGoing from colors A -\u0026gt; B or C -\u0026gt; D where A,B, C, and D are all adjacent on the wheel (Green, Yellow-Green, Yellow, Yellow-Orange) will always return correct results without exact match threshold. The problem is the game will almost always recognize the intermediate colors if they exist, so going from A -\u0026gt; C will produce B along the way. Where it seems to get uncertain is when there are other options, in this case going from A -\u0026gt; D. This seems to be because it could either go through B and C, reporting both, or it could go the other way around and simply report A -\u0026gt; D. So far in my experience there is a 75% percent chance it will go whichever way is closer on the wheel, so in this case it would report B and C more likely than it would omit them. \u003C/p\u003E\u003Cp\u003EBased on this, my recommendation would be that you can avoid using exact match threshold, even on a map with a lot of biomes, if you can ensure that there aren\u0027t ever intermediate colors between neighboring biome colors. Something like an elevation map would work well, as neighboring biomes vary rarely jump multiple colors. On the other hand, even with low contrast, if you can\u0027t ensure that each border only has one possible combination, then the game \u003Cstrong\u003EWILL\u003C/strong\u003E always report the intermediate color, even if only for a moment. In this case it\u0027s best to use exact match threshold as it will save you all of the brain-damage of trying to minimize the number of color variations.\u003C/p\u003E\u003Cp\u003EThis being said, the fatal flaw, both standard biome reporting and that with exact match threshold, seems to be that it has a low sampling resolution which doesn\u0027t vary by altitude. For standard reporting, it means that the area where you would actually get mixed colors is larger than it really should be. For exact match threshold, this means that if an area has enough variation over a short distance, it will never read anything other than the first biome on the list (i.e. the transition biome). Basically, my thinking is that the game detects a 4x4 (at least, though my gut is telling me its larger) pixel square and reports the nearest match to the average color of that square. When crossing biomes that don\u0027t have intermediate colors between them, it simply switches to the next biome when more than 50% of those pixels match the new biome color. However, when crossing a border with several intermediate colors, the game with see one or more of them in the resulting average and report them. With exact match threshold enabled, it removes the ability to report anything but the first biome on the list unless all of the pixels in the search box are the same color. To be perfectly honest, the best possible way to enhance reporting accuracy would be to shrink the search box somehow, maybe even down to a single pixel, so that there would be no averaging of colors, though I\u0027m guessing there is a reason they didn\u0027t do this in the first place...\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-21T03:19:30Z","Content":"\n\u003Cp\u003EMight be worth looking into \u003Ca href=\u0022https://en.wikipedia.org/wiki/S3_Texture_Compression#DXT1\u0022 rel=\u0022external nofollow\u0022\u003Ethe math of DXT1\u003C/a\u003E, how the compression actually works.\u003C/p\u003E\n"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-05-21T22:45:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EMight be worth looking into \u003Ca href=\u0022https://en.wikipedia.org/wiki/S3_Texture_Compression#DXT1\u0022 rel=\u0022external nofollow\u0022\u003Ethe math of DXT1\u003C/a\u003E, how the compression actually works.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUgh... math....\u003C/p\u003E\u003Cp\u003EThat being said, the 4x4 lookup table may be a factor, but I\u0027m not sure how much here. I don\u0027t think the DXT format averages anything in the output, which is what the game \u003Cem\u003Eshould\u003C/em\u003E be using. Maybe as a math type you can give your opinion on this Nathan? I still really think this is a raster math function that is using too large of an input window for some reason.\u003C/p\u003E\n"},{"CreatedByName":"Xiong","CreatedById":107757,"CreatedDateTime":"2014-05-25T08:15:27Z","Content":"\n\u003Cp\u003ERunning KSP 0.23.0 (64-bit version for Linux) with CB 1.5; a career with \u0027Basic\u0027 map set does not load any of the custom biome maps at all; they are visible neither with ScanSat nor directly through the CB toolbar-button window (which itself works fine). The \u0027Basic\u0027 set clearly is set; the three stock bodies\u0027 maps display in living color. All other bodies display a little tab with the text, No map for X. \u003C/p\u003E\u003Cp\u003EHere\u0027s a few lines from KSP.log: \u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.285] AddonLoader: Instantiating addon \u0027CustomBiomes\u0027 from assembly \u0027CustomBiomes\u0027\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.287] Starting Custom Biomes v1.5\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.304] Parsing rect\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.304] Parsing bool\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.304] Parsing rect\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.304] Parsing bool\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.305] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.305] Parsing string\u003C/p\u003E\u003Cp\u003E[LOG 00:07:50.325] Biome replacement complete.\u003C/p\u003E\u003Cp\u003EI have a lot of mods installed but none I think *should* conflict. If I can put together a few hours, I\u0027ll see if I can eliminate possible causes.\u003C/p\u003E\n"},{"CreatedByName":"Xiong","CreatedById":107757,"CreatedDateTime":"2014-05-25T11:58:56Z","Content":"\n\u003Cp\u003EWell that was quick. With nothing at all installed in GameData except CustomBiomes, Squad, and 000_Toolbar; same as before. I sent a command pod to the pad, opened the Toolbar and added the CB button; clicked the button, checked that \u0027Basic\u0027 was set for the new Sandbox, and clicked to Moho. \u0022There is no biome map for Moho.\u0022 -- or for anything except the three stock bodies. \u003C/p\u003E\u003Cp\u003EAs before: \u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.528] AddonLoader: Instantiating addon \u0027CustomBiomes\u0027 from assembly \u0027CustomBiomes\u0027\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.535] Starting Custom Biomes v1.5\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.573] Parsing rect\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.573] Parsing bool\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.573] Parsing rect\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.573] Parsing bool\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.573] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.573] Parsing string\u003C/p\u003E\u003Cp\u003E[LOG 04:34:19.610] Biome replacement complete.\u003C/p\u003E\u003Cp\u003EAs before, KSP.x86_64 (patched as usual), CB 1.5. The biome files are there but they do not load.\u003C/p\u003E\n"},{"CreatedByName":"Xiong","CreatedById":107757,"CreatedDateTime":"2014-05-26T14:35:22Z","Content":"\n\u003Cp\u003EThe above issue with biome maps failing to load is corrected by first cd to the dir enclosing the game executable. (Thanks, taniwha.) Suggest checking your pathfinding code.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-05-27T01:40:58Z","Content":"\n\u003Cp\u003ESorry I didn\u0027t see this earlier, I was enjoying the long weekend. Might I ask what directory structure you are using? I guess I\u0027m not sure where you are CD-ing, and when.\u003C/p\u003E\n"},{"CreatedByName":"Miximix","CreatedById":31835,"CreatedDateTime":"2014-06-06T10:01:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpacedInvader\u0022 data-cite=\u0022SpacedInvader\u0022\u003E\u003Cdiv\u003EOk, so it seems my theory pans out at least to a degree...\u003Cp\u003ENewest test map:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/LOMgINp.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/LOMgINp.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI went through the whole list of biome layers giving them colors equaling 10\u00C3\u201A\u00C2\u00B0 of hue seperation and 100% saturation and value. The game was easily able to differentiate between color differences that were so minute that my eye could only just barely register them at high zooms (e.g. the polar regions and polar craters). The failure arises when a border exists where an intermediate color exists somewhere else on the map. It would seem that the trick is not to increase the contrast as much as possible which is likely to increase errors by introducing a lot of intermediate colors, but to absolutely minimize the number of biome border crossings which have the possibility of intermediate colors.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks very nice! But where can i get .att file for that?\u003C/p\u003E\n"},{"CreatedByName":"Ryusho","CreatedById":7056,"CreatedDateTime":"2014-06-08T03:39:39Z","Content":"\n\u003Cp\u003EGood thing the alternate download was here, I was going to get it and only learned now spaceport is shut down, and well, this doesn\u0027t have a link if it is on Curseforge.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-06-09T02:18:11Z","Content":"\n\u003Cp\u003EI haven\u0027t moved my stuff to Curse yet. I\u0027ll probably do it with the .24 release.\u003C/p\u003E\n"},{"CreatedByName":"dtoxic","CreatedById":103573,"CreatedDateTime":"2014-06-18T18:03:43Z","Content":"\n\u003Cp\u003Ehi...a question\u003C/p\u003E\u003Cp\u003Edoes custom biomes work with other (science) mod\u0027s (fasa aies l-tech etc) or is it just for stock science parts?\u003C/p\u003E\u003Cp\u003Ethx\u003C/p\u003E\n"},{"CreatedByName":"albany_","CreatedById":112259,"CreatedDateTime":"2014-06-18T19:08:52Z","Content":"\n\u003Cp\u003EIt\u0027ll work for other science mods. They probably won\u0027t have biome-specific results, but they will grant science.\u003C/p\u003E\n"},{"CreatedByName":"dtoxic","CreatedById":103573,"CreatedDateTime":"2014-06-18T19:39:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022albany_\u0022 data-cite=\u0022albany_\u0022\u003E\u003Cdiv\u003EIt\u0027ll work for other science mods. They probably won\u0027t have biome-specific results, but they will grant science.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eok thank you\u003C/p\u003E\n"},{"CreatedByName":"Hotblack Desiato","CreatedById":93895,"CreatedDateTime":"2014-06-30T15:14:02Z","Content":"\n\u003Cp\u003Enice mod, a friend of mine and I use it in our standard ksp installation.\u003C/p\u003E\u003Cp\u003Eis there a way that planet factory modder can add biome-maps for their added planets?\u003C/p\u003E\u003Cp\u003Ebecause I\u0027m thinking about adding a few planets to my installation, and it would be nice, if they have additional biomes (and it should be quite easy to add biomes for those modders, since they have access to the height-map files and the textures).\u003C/p\u003E\u003Cp\u003Eregarding the biome-borders: how about this: \u003C/p\u003E\u003Cp\u003Eeach biome has its own color-value, but they differ just by one step. this way, there aren\u0027t any intermediate colors possible.\u003C/p\u003E\u003Cp\u003Efor the biome map, there is some sort of shader, which enhances the differences, or displays just a second map with the same borders.\u003C/p\u003E\n"},{"CreatedByName":"Schmonzo","CreatedById":5728,"CreatedDateTime":"2014-07-06T20:24:06Z","Content":"\n\u003Cp\u003Eso am I correct in assuming that this works in 23.5?\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-07-06T22:54:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Schmonzo\u0022 data-cite=\u0022Schmonzo\u0022\u003E\u003Cdiv\u003Eso am I correct in assuming that this works in 23.5?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI has not been compiled against 23.5, but it does function. Expect a new version when 0.24 releases.\u003C/p\u003E\u003Cp\u003EAnd Hotblack, see the first page of this post for how to create your own biomes.\u003C/p\u003E\n"},{"CreatedByName":"Tyrador","CreatedById":92682,"CreatedDateTime":"2014-07-08T18:01:22Z","Content":"\n\u003Cp\u003ESorry, but how do I disable the map GUI? In config file there is no DisableGUI property.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-07-09T23:36:01Z","Content":"\n\u003Cp\u003EThe property in the config file is GUIEnabled:\u003C/p\u003E\u003Cp\u003E\u0026lt;bool name=\u0022GUIEnabled\u0022\u0026gt;1\u0026lt;/bool\u0026gt;\u003C/p\u003E\u003Cp\u003EChange the 1 to a 0, and you shouldn\u0027t see the button anymore. Alternately, you can hide the button within toolbar itself.\u003C/p\u003E\n"},{"CreatedByName":"jandcando","CreatedById":66121,"CreatedDateTime":"2014-07-13T00:13:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpacedInvader\u0022 data-cite=\u0022SpacedInvader\u0022\u003E\u003Cdiv\u003EOk, so it seems my theory pans out at least to a degree...\u003Cp\u003ENewest test map:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/LOMgINp.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/LOMgINp.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI went through the whole list of biome layers giving them colors equaling 10\u00C3\u201A\u00C2\u00B0 of hue seperation and 100% saturation and value. The game was easily able to differentiate between color differences that were so minute that my eye could only just barely register them at high zooms (e.g. the polar regions and polar craters). The failure arises when a border exists where an intermediate color exists somewhere else on the map. It would seem that the trick is not to increase the contrast as much as possible which is likely to increase errors by introducing a lot of intermediate colors, but to absolutely minimize the number of biome border crossings which have the possibility of intermediate colors.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhere can I get a .att file for this? Do I have to make one myself, or is there one you can point me to?\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-07-14T00:37:16Z","Content":"\n\u003Cp\u003EI don\u0027t think he\u0027s released it yet. You could try sending him a PM. I don\u0027t have it though.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-07-18T02:05:52Z","Content":"\n\u003Cp\u003EFYI, Custom Biomes will automatically disable itself when running under 0.24. I\u0027m doing some testing tonight, and if it works without any changes I\u0027ll release a new version tonight or tomorrow.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-07-18T03:00:04Z","Content":"\n\u003Ca href=\u0022https://onedrive.live.com/redir?resid=131B3D0DB2B5645E!16483\u0026amp;authkey=!AJmKtI1o9brATzw\u0026amp;ithint=file%2C.zip\u0022 rel=\u0022external nofollow\u0022\u003ECustom Biomes 1.6\u003C/a\u003E is now available for download. This is a simple re-compile for 0.24x64, and the new version of compatibility checker. Toolbar is still required, but not included in this download. I haven\u0027t noticed any problems with 0.24, but haven\u0027t had time to extensively test. Please report any issues you find! Thanks.\n"},{"CreatedByName":"aftokinito","CreatedById":66811,"CreatedDateTime":"2014-07-18T03:54:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trueborn\u0022 data-cite=\u0022Trueborn\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://onedrive.live.com/redir?resid=131B3D0DB2B5645E!16483\u0026amp;authkey=!AJmKtI1o9brATzw\u0026amp;ithint=file%2C.zip\u0022 rel=\u0022external nofollow\u0022\u003ECustom Biomes 1.6\u003C/a\u003E is now available for download. This is a simple re-compile for 0.24x64, and the new version of compatibility checker. Toolbar is still required, but not included in this download. I haven\u0027t noticed any problems with 0.24, but haven\u0027t had time to extensively test. Please report any issues you find! Thanks.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EToolbar is indeed included on the download, not sure what version though.\u003C/p\u003E\n"}]}