{"TopicId":91141,"ForumId":29,"TopicTitle":"How to add a new part","CreatedByName":"belpyro","CreatedById":120761,"CreatedDateTime":"2014-11-24T16:14:14Z","PageNum":1,"Articles":[{"CreatedByName":"belpyro","CreatedById":120761,"CreatedDateTime":"2014-11-24T16:14:14Z","Content":"\n\u003Cp\u003EHello!\u003C/p\u003E\u003Cp\u003EAnybody help my with understanding \u0022how can I add a new part from code-behind\u0022?\u003C/p\u003E\u003Cp\u003EI create a new part form PartLoader. After, I set parent for a new part. And I create PartJoint. But I did\u0027t see a new part ((\u003C/p\u003E\u003Cp\u003EDo you have any ideas?\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-11-24T16:54:09Z","Content":"\n\u003Cp\u003ECan you post the exact error?\u003C/p\u003E\u003Cp\u003Emaybe the code that makes the error?\u003C/p\u003E\u003Cp\u003Efrom what you wrote, it\u0027s quite hard to guess where the problem is..\u003C/p\u003E\n"},{"CreatedByName":"belpyro","CreatedById":120761,"CreatedDateTime":"2014-11-24T21:09:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022philotical\u0022 data-cite=\u0022philotical\u0022\u003E\u003Cdiv\u003ECan you post the exact error?\u003Cp\u003Emaybe the code that makes the error?\u003C/p\u003E\u003Cp\u003Efrom what you wrote, it\u0027s quite hard to guess where the problem is..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor example:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[FONT=arial]var my_part =PartLoader.getPartInfoByName(\u0022blablabla\u0022).partPrefab;[/FONT][FONT=arial]           \u003Cbr\u003Evar parent_part = FlightGlobals.ActiveVessel.rootPart;\u003Cbr\u003Emy_part.setParent(parent_part);\u003Cbr\u003Emy_part.attachJoint = PartJoint.Create(my_part, parent_part, my_part.srfAttachNode, null, AttachModes.SRF_ATTACH);\u003Cbr\u003E[/FONT][FONT=arial]FlightGlobals.ActiveVessel.Parts.Add(my_part)[COLOR=#DCDCDC];[/COLOR][/FONT]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs I understood, I get incorrect coordinates for attachJoint.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-24T21:11:27Z\u0022 title=\u002211/24/2014 09:11  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 24, 2014\u003C/time\u003E by belpyro\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-11-24T21:16:07Z","Content":"\n\u003Cp\u003EI have no experiance with adding parts to existing vessels..\u003C/p\u003E\u003Cp\u003EMy project has to do with spawning one-part-vessels..\u003C/p\u003E\u003Cp\u003Ethere I use ship construct..\u003C/p\u003E\u003Cp\u003E ShipConstruct newShip = new ShipConstruct();\u003C/p\u003E\u003Cp\u003E newShip.Add(newPart);\u003C/p\u003E\u003Cp\u003Enot sure if that is relevant for you though.. - if you need the joints, I failed with them myself last time, so I can\u0027t help..\u003C/p\u003E\u003Cp\u003Ehowever - you should take a look at KAS git repo..\u003C/p\u003E\u003Cp\u003EThey do that new-part-on-the-fly thing quite stable..\u003C/p\u003E\u003Cp\u003ELook for the \u0022attach\u0022 code that\u0027s used when you attach a KAS pipe or something..\u003C/p\u003E\n"},{"CreatedByName":"belpyro","CreatedById":120761,"CreatedDateTime":"2014-11-25T07:27:53Z","Content":"\n\u003Cp\u003EYes, I know about shipconstruct, but I don\u0027t need to use it. About KAS, KAS don\u0027t use native mechanics of KSP for adding a new part. I wonna understand how it works. Thanks a lot for help!\u003C/p\u003E\n"},{"CreatedByName":"N3h3mia","CreatedById":103920,"CreatedDateTime":"2015-01-14T13:33:43Z","Content":"\n\u003Cp\u003EHave you found a solution for this? I\u0027m currently try to spawn a part and attach it to a craft.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-14T13:37:35Z\u0022 title=\u002201/14/2015 01:37  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 14, 2015\u003C/time\u003E by N3h3mia\u003C/strong\u003E\n\u003C/span\u003E\n"}]}