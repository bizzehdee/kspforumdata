{"TopicId":115066,"ForumId":34,"TopicTitle":"[1.1.3] RealHeat (Minimalist) v4.3 July 3","CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-04T21:44:57Z","PageNum":2,"Articles":[{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-07-09T13:18:37Z","Content":"Are you telling me that its normal to lose a huge proportion of ablator in the thinnest, coolest part of the re-entry, and only need 1 unit of ablator to get through the thickest, -15g part of the descent? I\u0027ll return with pictures (RSS 10.1 \u002B RealHeat \u002B FAR)."},{"CreatedByName":"LostOblivion","CreatedById":111504,"CreatedDateTime":"2015-07-09T13:46:52Z","Content":"If you listen to the Orion reentry commentary, you\u0027ll notice him calling out maximum heat before maximum gee."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-07-09T14:01:30Z","Content":"\u003E \n\u003E If you listen to the Orion reentry commentary, you\u0027ll notice him calling out maximum heat before maximum gee.\n\nWhat I don\u0027t understand is that I can lose 20\u002B ablator per second going through the 100-90km region of the atmosphere, where the heatshield is only 1500K, while going through the 40-30km region, with the skin temp at 2300K, I only get 0.5 ablator per second being depleted.\n\nI\u0027m preparing screenshots now."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-07-09T14:38:08Z","Content":"\u003E \n\u003E What I don\u0027t understand is that I can lose 20\u002B ablator per second going through the 100-90km region of the atmosphere, where the heatshield is only 1500K, while going through the 40-30km region, with the skin temp at 2300K, I only get 0.5 ablator per second being depleted.\n\u003E I\u0027m preparing screenshots now.\n\nThe problem was physics warp.\n\nI sent a re-entry pod on a 140x140km orbit with a parachute and 968units of ablator, then brought it down to a periapse of 40km. The consumption rates and temperatures were quite normal until I tried physics warping through the exceedingly slow 140-90km descent phase. \n\nTemperatures went bonkers. Ablation rate exploded. The skin temperature of the heatshield descended to 4k, and when I left timewarp at around 20 units remaining, my temperature reading was bonkers (oscillating between 4K and 1600K at about 5 times a second). Ablation rates returned to normal, so I had no ablator from 70km altitude onwards.\n\nDespite having no ablator and still travelling at about 6500m/s, I managed to survive re-entry with a 1200K pod and 2800K heatshield."},{"CreatedByName":"Duck1998","CreatedById":137803,"CreatedDateTime":"2015-07-09T16:03:14Z","Content":"Krakenfour: I managed to reproduce to bug\n\n6.4x Kerbol system, with modified mk1 pod\n\nWith 4x warp the skin temperature is significantly higher than 1x\n\n![qO8IExJ.png](http://i.imgur.com/qO8IExJ.png)\n\n![uOstf7M.png](http://i.imgur.com/uOstf7M.png)"},{"CreatedByName":"Temeter","CreatedById":58056,"CreatedDateTime":"2015-07-09T16:32:31Z","Content":"Yep, can confirm. I had a problematic capsule that survived a lot longer without timewarp.\n\nBtw, out of curiosity: Doesn\u0027t this mod kind of overlap with Deadly Reentry?"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-07-09T16:49:31Z","Content":"\u003E \n\u003E What I don\u0027t understand is that I can lose 20\u002B ablator per second going through the 100-90km region of the atmosphere, where the heatshield is only 1500K, while going through the 40-30km region, with the skin temp at 2300K, I only get 0.5 ablator per second being depleted.\n\u003E I\u0027m preparing screenshots now.\n\nSimple explanation.\n\n1. Ablation loss occurs as a percentage of current ablative resource.\n2. Heat loss is based on the ablation loss in #1 above.\n\nThe reason your temperature is so much higher is BECAUSE your ablative resource level is so low.\n\nThat\u0027s from the stock ablator, not from Real Heat. (note the discussion earlier in the page regarding ablation rates. IMO they should be more linear than they are. Something I might address in Deadly Reentry one of these days but haven\u0027t been able to get around to it)\n\n- - - Updated - - -\n\n\u003E \n\u003E Yep, can confirm. I had a problematic capsule that survived a lot longer without timewarp.\n\u003E Btw, out of curiosity: Doesn\u0027t this mod kind of overlap with Deadly Reentry?\n\nMaybe prior to KSP 1.0.4, but thermodynamics - including reentry heating and recent introduction of the skin concept that was introduced in Deadly Reentry 7.0 - has reached the point that I no longer feel it necessary to implement heating in Deadly Reentry. 7.2.0 (out today) relies on stock heating and only serves to:\n\n- Tweak settings and config files for parts to make for a deadlier experience\n- Implement G-force damage.\n- Re-implement fire damage (when a part heats up too much but not enough to destroy it outright.\n- Maybe other stuff resulting from excessive heating.\n\nSo, Real Heat is replacing/modifying the stock system which carries over to Deadly Reentry but we\u0027re not directly implementing heat anymore so I\u0027d say there\u0027s no real overlap here. I might need to balance DRE for RH. Preliminary testing says that there\u0027s no real issues so far but I might need to do some tweaking.\n\nI think DRE could also benefit from changes to other planet atmospherics - I THINK that a Joolian aerobraking / aerocapture should be survivable with Real Heat installed, if Nathan has already implemented changes to other planets. Currently, just with stock heating \u002B DRE, Jool is plain suicide. (YMMV)"},{"CreatedByName":"Temeter","CreatedById":58056,"CreatedDateTime":"2015-07-09T17:29:30Z","Content":"Nice, sounds like Squad really took some good inspiration. I wonder in what direction RealHeat will move.\n\nAlso yay for jool aerocapture!"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-09T19:12:13Z","Content":"Correct, the temperature curve for a gas giant reentry is very, very lenient."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-07-09T19:52:34Z","Content":"\u003E \n\u003E Krakenfour: I managed to reproduce to bug\n\u003E 6.4x Kerbol system, with modified mk1 pod\n\u003E \n\u003E With 4x warp the skin temperature is significantly higher than 1x\n\u003E \n\u003E [http://i.imgur.com/qO8IExJ.png](http://i.imgur.com/qO8IExJ.png)\n\u003E \n\u003E [http://i.imgur.com/uOstf7M.png](http://i.imgur.com/uOstf7M.png)\n\nI guess the problem is exacerbated at the higher re-entry speeds of RSS.\n\nMy limited knowledge is telling me that there is some sort of calculation going on that decides how much heat to apply to the parts,a nd that physics warping multiplies that amount."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-09T19:58:30Z","Content":"The actual issue, I think, is integration timestep.\n\nTruly accurate thermals would come from an integration timestep that is infinitely small, because radiation, conduction, convection, etc all happen simultaneously. With a discrete integration step, that means that (in KSP\u0027s case), first conduction runs, then convection applies some heat (changing the part temperature) then radiation runs, removing heat based on the temperature and leading to a new temperature. As the integration timestep becomes large, that means that convection is applying a giant lump sum of heat, and then radiation is operating off that sky-high temperature, thus leading to wild swings.\n\n(recall that physical timewarp increases the timestep from 20ms up to 80ms, i.e. from 50/sec to 12.5/sec)."},{"CreatedByName":"gruneisen","CreatedById":119794,"CreatedDateTime":"2015-07-09T23:12:24Z","Content":"\u003E \n\u003E With a discrete integration step, that means that (in KSP\u0027s case), first conduction runs, then convection applies some heat (changing the part temperature) then radiation runs, removing heat based on the temperature and leading to a new temperature.\n\nIck - So KSP doesn\u0027t integrate the differential equations simultaneously based on the total variable values from the previous timestep? It integrates piecwise? Does it do this for all, or just the heat variables?"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-07-10T00:35:50Z","Content":"\u003E \n\u003E The actual issue, I think, is integration timestep.\n\u003E Truly accurate thermals would come from an integration timestep that is infinitely small, because radiation, conduction, convection, etc all happen simultaneously. With a discrete integration step, that means that (in KSP\u0027s case), first conduction runs, then convection applies some heat (changing the part temperature) then radiation runs, removing heat based on the temperature and leading to a new temperature. As the integration timestep becomes large, that means that convection is applying a giant lump sum of heat, and then radiation is operating off that sky-high temperature, thus leading to wild swings.\n\u003E \n\u003E (recall that physical timewarp increases the timestep from 20ms up to 80ms, i.e. from 50/sec to 12.5/sec).\n\nIs this something only squad can change? I don\u0027t remember having these issues running DRE, but I was likely using bettertimewarp at the time and running lossless physics."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-10T05:21:34Z","Content":"gruneisen: I\u0027m...not sure what you mean.\n\nSvm420: Well, prior to 1.0, KSP didn\u0027t really \\_have\\_ thermodynamics. Parts lost (or gained) 12% of the difference between their temperature and the outside world, and then DRE added some temperature back on."},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2015-07-10T12:03:26Z","Content":"\u003E \n\u003E gruneisen: I\u0027m...not sure what you mean.\n\nI think gruneisen means the physics crank should have everyone calculate based on the starting state to find their contributions to the change of state. Otherwise, done in parallel rather than sequentially. Of course, with too great an integration step, either method will break down and calculate things with a significant error.\n\n**Edited \u003Ctime datetime=\u00222015-07-10T23:16:00Z\u0022 title=\u002207/10/2015 11:16  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 10, 2015\u003C/time\u003E by Jacke**"},{"CreatedByName":"gruneisen","CreatedById":119794,"CreatedDateTime":"2015-07-11T21:14:32Z","Content":"Yes - that is what I meant. I\u0027m used to numerical integration of multiple differential equations being done simultaneously - ie the black body radiation rate would be calculated based on the total temperature of the body from the previous timestep. Same with the conduction and convection rates. Then the total net heatflux of all heat transfer modes would be summed and then that total flux integrated WRT time and then the total energy of the body updated and the temperature calculated accordingly. I was interpreting you saying that the first physics tick, the total conductive flux is calculated, integrated, and the body assigned a new temperature. Then, on the subsequent ticks, the total convection flux is calculated from the previous tick (the conduction tick), then integrated, then temperature calculated and the same for BB radiation.\n\nIf this is the case, I can see how wild swings in temperature would occur with large timesteps as only one mode of heat transfer is being considered with each tick.\n\nOn a different note, with respect to the conversation a few days back about the amount of ablative consumed during Apollo re-entries, this NASA publication has some great info on heat shields in general and says that not even 20% of the Apollo ablators were consumed during re-entry!\n\n[https://books.google.com/books?id=7k1sawDR-kEC\u0026lpg=PA79\u0026ots=w6lb7Z7ZtL\u0026dq=apollo%2011%20heat%20shield%20performance%20report\u0026pg=PA74#v=onepage\u0026q=apollo%2011%20heat%20shield%20performance%20report\u0026f=false](https://books.google.com/books?id=7k1sawDR-kEC\u0026lpg=PA79\u0026ots=w6lb7Z7ZtL\u0026dq=apollo%2011%20heat%20shield%20performance%20report\u0026pg=PA74#v=onepage\u0026q=apollo%2011%20heat%20shield%20performance%20report\u0026f=false) \n\nQuoted information is from the bottom of the page the link points to."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-07-12T00:07:23Z","Content":"\u003E \n\u003E On a different note, with respect to the conversation a few days back about the amount of ablative consumed during Apollo re-entries, this NASA publication has some great info on heat shields in general and says that not even 20% of the Apollo ablators were consumed during re-entry!\n\u003E \n\u003E [https://books.google.com/books?id=7k1sawDR-kEC\u0026lpg=PA79\u0026ots=w6lb7Z7ZtL\u0026dq=apollo%2011%20heat%20shield%20performance%20report\u0026pg=PA74#v=onepage\u0026q=apollo%2011%20heat%20shield%20performance%20report\u0026f=false](https://books.google.com/books?id=7k1sawDR-kEC\u0026lpg=PA79\u0026ots=w6lb7Z7ZtL\u0026dq=apollo%2011%20heat%20shield%20performance%20report\u0026pg=PA74#v=onepage\u0026q=apollo%2011%20heat%20shield%20performance%20report\u0026f=false) \n\u003E \n\u003E Quoted information is from the bottom of the page the link points to.\n\nInteresting. Another publication I saw once indicated that the shield was good for one reentry with one skipout and then final reentry. But I dunno, maybe that document was based on information available before the moon missions...\n\nWhich raises the question... Should I make shields last longer then, based on the above? Or would that just be less fun?"},{"CreatedByName":"gruneisen","CreatedById":119794,"CreatedDateTime":"2015-07-12T01:19:29Z","Content":"\u003E \n\u003E Which raises the question... Should I make shields last longer then, based on the above? Or would that just be less fun?\n\nI don\u0027t know if you should make them last longer - I feel like I may have read / watched / heard something along the lines of what you\u0027re saying: that they are good for one re-entry and one skipout, but the reason was they were concerned about the stress (\u0026 strain) cycling of the heat shields due to the rapid heating and relative rapid cooling of the heat shields after they come out of the atmosphere. I could be making this up, but this would make sense - my experience / and recollection of other ablative materials is that they are very brittle and could see concern about the thermal stresses as well as just the re-entry aerodynamic stresses building up and compromising the integrity of the heat shield.\n\nIf this is the case, would it be possible to have two different \u0027criteria\u0027 for heat shields: one being the ablative material and the other being a damage accumulation that is some function of velocity and atmospheric density (so realistically, maybe just drag force) to account for these different performance criteria?"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-07-20T02:22:57Z","Content":"\u003E \n\u003E You need to edit a bunch of Physics.cfg factors if you\u0027re playing with a rescale. I suggest using this:\n\u003E [https://raw.githubusercontent.com/KSP-RO/RealismOverhaul/master/GameData/RealismOverhaul/RO_Physics.cfg](https://raw.githubusercontent.com/KSP-RO/RealismOverhaul/master/GameData/RealismOverhaul/RO_Physics.cfg)\n\u003E \n\u003E It\u0027s for RO (i.e. RSS or 10x) but should work fine for 6.4x too, just make things a bit less hot.\n\nThis should be in the OP of this, Deadly Reentry, and 64k. It\u0027s pretty critical."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-20T19:07:17Z","Content":"Something like it ships by default with RSS now, and RealHeat the plugin does half the work anyway. 64K should probably do the same though ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-07-20T19:34:59Z","Content":"Gonna post that in RH thread. I spent hours trying to find the \u0027bug\u0027"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-07-24T02:11:53Z","Content":"Does this fix stock Spontaneous Overheating Syndrome? Could it? That would be a *blessing*."},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-07-24T18:50:53Z","Content":"\u003E \n\u003E Does this fix stock Spontaneous Overheating Syndrome? Could it? That would be a *blessing*.\n\nI think that has to do with conduction, so I\u0027m guessing no."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-07-24T19:19:15Z","Content":"\u003E \n\u003E Does this fix stock Spontaneous Overheating Syndrome? Could it? That would be a *blessing*.\n\nNo it does not.\n\nIf you want to stop that, go to the thermal settings/debug menu (F12-\u003EPhysics-\u003EThermal) and lower conductivity factor. It defaults to 20. \n\nI don\u0027t see the problem happen with Deadly Reentry installed which sets it to 3.3, so you could try that setting or go all the way to 1. (Note that it does slow down heating processes, which is why it is so high to begin with)"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-07-24T19:23:24Z","Content":"\u003E \n\u003E No it does not.\n\u003E If you want to stop that, go to the thermal settings/debug menu (F12-\u003EPhysics-\u003EThermal) and lower conductivity factor. It defaults to 20. \n\u003E \n\u003E I don\u0027t see the problem happen with Deadly Reentry installed which sets it to 3.3, so you could try that setting or go all the way to 1. (Note that it does slow down heating processes, which is why it is so high to begin with)\n\nGot it, thanks!"}]}