{"TopicId":164699,"ForumId":36,"TopicTitle":"Clarifying Legal Boundaries","CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2017-08-22T21:07:54Z","PageNum":1,"Articles":[{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2017-08-22T21:07:54Z","Content":"\n\u003Cp\u003E\nI\u0027m gearing up to take a crack at the continuous thrust under timewarp problem by re-implementing the Orbit class in certain situations. The methods I see myself needing to override are currently public methods, but they are not declared as virtual. So to override them, I would need to use an IL-editing tool like\u003Ca href=\u0022http://www.bytecodeartist.net/2011/04/intercepting-consolewriteline-and-other.html\u0022 rel=\u0022external nofollow\u0022\u003E LinFu.AOP\u003C/a\u003E. The \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/154851-add-on-posting-rules-march-8-2017/\u0022 rel=\u0022\u0022\u003Eadd-on rules\u003C/a\u003E say under \u0027Legal Boundaries\u0027 that \u0022For assemblies, you may only use exposed public or protected members of classes, and you may not examine the code within any member.\u0022 and so I wanted to check if inserting hooks at runtime to override a non-virtual method would break the \u0027exposed\u0027 part of that. \u003Cu\u003ENote that at no time would I be decompiling the source or otherwise breaking the EULA.\u003C/u\u003E All that I would be doing would be \u003Cem\u003Eintercepting\u003C/em\u003E calls to the base method when called on a derived object.\n\u003C/p\u003E\n\u003Cp\u003E\nI just want to check if it\u0027s okay for me to go down this road before I inadvertently run afoul of the community rules or other legal-ness. I really think that an elegant, near-native solution exists by deriving Orbit objects, but it would be impossible without actually overriding methods. Input from staff and moderators would be very appreciated. If this way falls too far in the grey zone, I\u0027ll try to figure out alternative methods.\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbal01","CreatedById":57322,"CreatedDateTime":"2017-08-23T01:07:35Z","Content":"\n\u003Cp\u003E\nThink this would be better in Addon Discussion.\n\u003C/p\u003E\n"},{"CreatedByName":"Dman979","CreatedById":123837,"CreatedDateTime":"2017-08-23T01:57:29Z","Content":"\n\u003Cp\u003E\nWe\u0027ve notified \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/149302-badie/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022149302\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/149302-badie/\u0022 rel=\u0022\u0022\u003E@Badie\u003C/a\u003E and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167737-uomocapra/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022167737\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167737-uomocapra/\u0022 rel=\u0022\u0022\u003E@UomoCapra\u003C/a\u003E about this, so they can give an official word. Until then, it\u0027s best to hold off so you don\u0027t get in trouble if they decide against it. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2017-08-23T02:19:42Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/123837-dman979/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022123837\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/123837-dman979/\u0022 rel=\u0022\u0022\u003E@Dman979\u003C/a\u003E. Yup, I\u0027m holding off. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I really hope there\u0027s no problem with it. I think I can make a really elegant continuous thrust solution that even has stock maneuver node support for easy flight planning.\n\u003C/p\u003E\n\u003Cp\u003E\nIf they\u0027d like, I can keep the code on a private repository and share it with them before any public release so they can see what I\u0027m doing.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-23T02:23:14Z\u0022 title=\u002208/23/2017 02:23  AM\u0022 data-short=\u00226 yr\u0022\u003EAugust 23, 2017\u003C/time\u003E by Booots\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2017-08-23T14:41:06Z","Content":"\n\u003Cp\u003E\nKSP interstellar extended has a thrust while warping feature so you might want to look at how it does it.\n\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2017-08-23T14:49:05Z","Content":"\n\u003Cp\u003E\nLast time a similar question was asked, the answer was no because making any changes to the game files outside of GameData is a no-no, and a double no because you would need to distribute the patched assembly afterwards. Patch the method itself at runtime instead without making modifications to the file on disk. Of course, I\u0027m not 100% sure that\u0027s technically allowed either...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E8. Legal boundaries\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYou may not decompile, \u003Cstrong\u003Emodify \u003C/strong\u003Eor \u003Cstrong\u003Edistribute \u003C/strong\u003Eany of the .dll files or other files KSP comes with beyond content of the GameData folder. Follow the EULA. For assemblies, you may only use exposed public or protected members of classes, and you may not examine the code within any member.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2017-08-23T15:26:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223155432\u0022 data-ipsquote-contentid=\u0022164699\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221503499745\u0022 data-ipsquote-userid=\u002275857\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n36 minutes ago, xEvilReeperx said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLast time a similar question was asked, the answer was no because making any changes to the game files outside of GameData is a no-no, and a double no because you would need to distribute the patched assembly afterwards. Patch the method itself at runtime instead without making modifications to the file on disk. Of course, I\u0027m not 100% sure that\u0027s technically allowed either...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI am looking to do it with Reflection and Emit hooks at runtime - no modification of assemblies or files. Your last line is why I\u0027m asking. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Darth Badie","CreatedById":149302,"CreatedDateTime":"2017-08-23T20:53:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223154933\u0022 data-ipsquote-contentid=\u0022164699\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221503436074\u0022 data-ipsquote-userid=\u002262446\u0022 data-ipsquote-username=\u0022Booots\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, Booots said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nI\u0027m gearing up to take a crack at the continuous thrust under timewarp problem by re-implementing the Orbit class in certain situations. The methods I see myself needing to override are currently public methods, but they are not declared as virtual. So to override them, I would need to use an IL-editing tool like\u003Ca href=\u0022http://www.bytecodeartist.net/2011/04/intercepting-consolewriteline-and-other.html\u0022 rel=\u0022external nofollow\u0022 target=\u0022_blank\u0022\u003E LinFu.AOP\u003C/a\u003E. The \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/154851-add-on-posting-rules-march-8-2017/\u0022 rel=\u0022\u0022\u003Eadd-on rules\u003C/a\u003E say under \u0027Legal Boundaries\u0027 that \u0022For assemblies, you may only use exposed public or protected members of classes, and you may not examine the code within any member.\u0022 and so I wanted to check if inserting hooks at runtime to override a non-virtual method would break the \u0027exposed\u0027 part of that. \u003Cu\u003ENote that at no time would I be decompiling the source or otherwise breaking the EULA.\u003C/u\u003E All that I would be doing would be \u003Cem\u003Eintercepting\u003C/em\u003E calls to the base method when called on a derived object.\n\u003C/p\u003E\n\u003Cp\u003E\nI just want to check if it\u0027s okay for me to go down this road before I inadvertently run afoul of the community rules or other legal-ness. I really think that an elegant, near-native solution exists by deriving Orbit objects, but it would be impossible without actually overriding methods. Input from staff and moderators would be very appreciated. If this way falls too far in the grey zone, I\u0027ll try to figure out alternative methods.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp style=\u0022color:#272a34\u0022\u003E\nHi! YAs said here:\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022color:#272a34\u0022\u003E\n\u003Cem\u003E\u003Cspan\u003ELegal boundaries\u003C/span\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#272a34\u0022\u003E\n\u003Cem\u003EYou may not decompile, modify or distribute any of the .dll files or other files KSP comes with beyond content of the GameData folder. Follow the EULA. For assemblies, you may only use exposed public or protected members of classes, and you may not examine the code within any member.\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#272a34\u0022\u003E\nIL injection is modifying the .dlll, also you can not touch the content outside the GameData folder, so that\u00B4s why this is not possible.\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022color:#272a34\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022color:#272a34\u0022\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2017-08-23T21:42:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223155664\u0022 data-ipsquote-contentid=\u0022164699\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221503521599\u0022 data-ipsquote-userid=\u0022149302\u0022 data-ipsquote-username=\u0022Badie\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n38 minutes ago, Badie said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIL injection is modifying the .dlll, also you can not touch the content outside the GameData folder, so that\u00B4s why this is not possible.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for getting back to me, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/149302-badie/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022149302\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/149302-badie/\u0022 rel=\u0022\u0022\u003E@Badie\u003C/a\u003E. Do you mind if we have some dialog around this? Because my understanding was that IL injection doesn\u0027t modify the .dll or any file content. As far as I know, it only changes the runtime Type definition at, and only during, runtime. This is why injection and Emit are part of the .Net framework. Just like Reflection, it\u0027s used for meta-programming without changing distributed assemblies.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, feel free to tell me hard no at any point. I\u0027d just like to make sure there\u0027s no misunderstanding of what I\u0027d be doing before I\u0027m told no.\n\u003C/p\u003E\n"},{"CreatedByName":"Darth Badie","CreatedById":149302,"CreatedDateTime":"2017-08-23T21:43:15Z","Content":"\n\u003Cp\u003E\nof course PM \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n"}]}