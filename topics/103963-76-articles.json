{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":76,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-15T20:56:28Z","Content":"\u003E \n\u003E Woohoo! Awesome. Can\u0027t wait to use it. Now I have an added incentive to finish my Eve mission.\n\nLooks like you may have to wait a bit though as my internet is being unbelievably slow.\n\n![HvaR5ma.png](http://i.imgur.com/HvaR5ma.png)"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2015-11-15T21:25:39Z","Content":"Thanks Blackrack. We will all promptly crash Kerbalstuff just as soon as your download posts ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-16T01:29:23Z","Content":"Sorry for the huge delay, it\u0027s up.\n\n**Edited \u003Ctime datetime=\u00222015-11-16T01:53:43Z\u0022 title=\u002211/16/2015 01:53  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 16, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Jim Meillente","CreatedById":125566,"CreatedDateTime":"2015-11-16T02:01:28Z","Content":"[quote name=\u0027blackrack\u0027]Sorry for the huge delay, it\u0027s up.[/QUOTE]  \n\nNo need to apologize, thank you for the update!"},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-11-16T02:26:07Z","Content":"Wait.  \n\nYou\u0027re planning for multiple-star compatibility?  \n\nO.O"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-16T02:30:39Z","Content":"[quote name=\u0027\\_Augustus\\_\u0027]Wait.  \n\nYou\u0027re planning for multiple-star compatibility?  \n\nO.O[/QUOTE]  \n\nIn the distant future.  \n\nEdited: Just uploaded a fixed version that solves the black celestial objects/objects drawing in front of atmo bug.\n\n**Edited \u003Ctime datetime=\u00222015-11-16T14:24:17Z\u0022 title=\u002211/16/2015 02:24  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 16, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"judorange","CreatedById":144469,"CreatedDateTime":"2015-11-16T10:14:39Z","Content":"Hi, Thanks for the update !  \n\nUnfortunately I can\u0027t get Scatterer(with RSS) to work : here is the [URL=\u0022https://www.dropbox.com/s/uaruv8f4j2r7ibd/output\\_log.txt?dl=0\u0022]log[/URL] (dx11 \u002B EVE[1.05] \u002B RSS[latest dev from github \u002B latest dev of Kopernicus]). That\u0027s on my \u0022main\u0022 install so there is a lot of mods.   \n\nAlso, log with [URL=\u0022https://www.dropbox.com/s/ue836hulyyri4g4/eve\\_only.txt?dl=0\u0022]only EVE[/URL] and [URL=\u0022https://www.dropbox.com/s/01amkaqbbrjck90/scatterer\\_only.txt?dl=0\u0022]only Scatterer[/URL].  \n\nThere is a lot of   \n\n[QUOTE]NullReferenceException: Object reference not set to an instance of an object  \n\nat scatterer.Core.Update () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: Line: -1)\u003Cbr\u003E\n[/QUOTE]\u003Cbr\u003E\nAm I missing something?\n\u003C/filename\u003E"},{"CreatedByName":"TonyC","CreatedById":95836,"CreatedDateTime":"2015-11-16T10:45:34Z","Content":"Oh my god. Thanks blackrack. :D"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-16T14:24:49Z","Content":"[quote name=\u0027judorange\u0027]Hi, Thanks for the update !  \n\nUnfortunately I can\u0027t get Scatterer(with RSS) to work : here is the [URL=\u0022https://www.dropbox.com/s/uaruv8f4j2r7ibd/output\\_log.txt?dl=0\u0022]log[/URL] (dx11 \u002B EVE[1.05] \u002B RSS[latest dev from github \u002B latest dev of Kopernicus]). That\u0027s on my \u0022main\u0022 install so there is a lot of mods.   \n\nAlso, log with [URL=\u0022https://www.dropbox.com/s/ue836hulyyri4g4/eve\\_only.txt?dl=0\u0022]only EVE[/URL] and [URL=\u0022https://www.dropbox.com/s/01amkaqbbrjck90/scatterer\\_only.txt?dl=0\u0022]only Scatterer[/URL].  \n\nThere is a lot of   \n\nAm I missing something?[/QUOTE]  \n\nIt\u0027s a known issue, RSS compatbility appears to be broken for most people."},{"CreatedByName":"Jovzin","CreatedById":105152,"CreatedDateTime":"2015-11-16T14:32:07Z","Content":"blackrack great to see you updated scaterrer and did some upgrade to that Skytone mapping.  \n\nI still want to ask and what about tha water you once posted in this thread ?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-16T14:36:05Z","Content":"[quote name=\u0027Jovzin\u0027]blackrack great to see you updated scaterrer and did some upgrade to that Skytone mapping.  \n\nI still want to ask and what about tha water you once posted in this thread ?[/QUOTE]  \n\nI get this question every 2 pages, it\u0027s probably next on my list, if I can fix it I will release it.  \n\nEdited: 500 downloads and no complaints thus far, I\u0027m impressed.\n\n**Edited \u003Ctime datetime=\u00222015-11-16T15:48:57Z\u0022 title=\u002211/16/2015 03:48  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 16, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"TyrannoFan","CreatedById":87395,"CreatedDateTime":"2015-11-16T18:54:37Z","Content":"Is Duna supposed to look like this? I think it looks way too bright especially on the dark side.  \n\n[imgur]dtDTw[/imgur]\n\n**Edited \u003Ctime datetime=\u00222015-11-16T18:57:27Z\u0022 title=\u002211/16/2015 06:57  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 16, 2015\u003C/time\u003E by TyrannoFan**\n  \nImgur Album formatting"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-16T19:02:32Z","Content":"[quote name=\u0027TyrannoFan\u0027]Is Duna supposed to look like this? I think it looks way too bright especially on the dark side.  \n\n[url]http://imgur.com/a/dtDTw[/url][/QUOTE]  \n\nNot sure why It looks like that on the dark side but it does in the current version, also it\u0027s probably too bright because the extinction shader is bugged on Duna. If you think it\u0027s too bright lower the exposure or try to generate a new config with the config tool (not an easy task tbh).\n\n**Edited \u003Ctime datetime=\u00222015-11-16T19:27:53Z\u0022 title=\u002211/16/2015 07:27  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 16, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2015-11-17T00:13:51Z","Content":"Loving the new multi-planet support, I have been playing around with Tekto this evening trying it out using all homemade textures with the new EVE release.  \n\n[imgur]6j1ck[/imgur]"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T00:20:48Z","Content":"[quote name=\u0027Poodmund\u0027]Loving the new multi-planet support, I have been playing around with Tekto this evening trying it out using all homemade textures with the new EVE release.  \n\n[url]http://imgur.com/a/6j1ck[/url][/QUOTE]  \n\nBeautiful, btw if you need to test a new atmo, you don\u0027t need to reload the game, go back to space center view, change the atmo files and then go back to your ship (make sure you go to space center view before changing the config as quitting to space center view automatically saves your settings which overrides the .cfg file)."},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2015-11-17T00:23:32Z","Content":"Ah, good to know! :wink: I\u0027m having a little trouble getting the balance point right between keeping a low exposure in orbital view to keep the effect subtle which retaining a halo ring when viewing the eclipse from behind the planet. I\u0027ll get there! Thanks a million for this, makes it look sooo much better.  \n\nIt took me a while to realise that you had to have an active vessel within Scatterer\u0027s activate range before the effects would load in. Is there a way to force it to activate on the currently focused body in Map Mode?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T00:28:46Z","Content":"[quote name=\u0027Poodmund\u0027]Ah, good to know! :wink: I\u0027m having a little trouble getting the balance point right between keeping a low exposure in orbital view to keep the effect subtle which retaining a halo ring when viewing the eclipse from behind the planet. I\u0027ll get there! Thanks a million for this, makes it look sooo much better.[/QUOTE]  \n\nI\u0027m planning to add different exposure settings for the \u0022halo around the planet\u0022 and the atmosphere that you see directly over terrain so this shouldn\u0027t be a problem in the future.  \n\n[quote name=\u0027Poodmund\u0027]  \n\nIt took me a while to realise that you had to have an active vessel within Scatterer\u0027s activate range before the effects would load in. Is there a way to force it to activate on the currently focused body in Map Mode?[/QUOTE]  \n\nActually I disabled the activation on purpose in map view because it made browsing the map view laggy, might make it togglable later."},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T00:35:47Z","Content":"[quote name=\u0027blackrack\u0027]I\u0027m planning to add different exposure settings for the \u0022halo around the planet\u0022 and the atmosphere that you see directly over terrain so this shouldn\u0027t be a problem in the future.  \n\nActually I disabled the activation on purpose in map view because it made browsing the map view laggy, might make it togglable later.[/QUOTE]  \n\nSo I was actually thinking of providing an option to mostly kill mapview and tracking station graphics to bare-bones... Have any thoughts there?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T00:46:39Z","Content":"[quote name=\u0027rbray89\u0027]So I was actually thinking of providing an option to mostly kill mapview and tracking station graphics to bare-bones... Have any thoughts there?[/QUOTE]  \n\nWell for mapview I just use (MapView.MapIsEnabled) as a condition, for the tracking station (HighLogic.LoadedScene == GameScenes.TRACKSTATION). Will that do? I get the impression you\u0027re asking about something more."},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T00:59:30Z","Content":"[quote name=\u0027blackrack\u0027]Well for mapview I just use (MapView.MapIsEnabled) as a condition, for the tracking station (HighLogic.LoadedScene == GameScenes.TRACKSTATION). Will that do? I get the impression you\u0027re asking about something more.[/QUOTE]  \n\nYeah, I know about those... I was considering something a bit more... eg. exchanging the shaders for something less photo-realistic and/or blurring planets far from Kerbin without craft orbiting/exploring them."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T01:09:31Z","Content":"[quote name=\u0027rbray89\u0027]Yeah, I know about those... I was considering something a bit more... eg. exchanging the shaders for something less photo-realistic and/or blurring planets far from Kerbin without craft orbiting/exploring them.[/QUOTE]  \n\nNot sure what you want to accomplish with this. I just unload planets that are far away because the memory usage of precomputed scattering tables loaded into rendertextures is quite high.  \n\nIf you are trying to optimize the memory usage you could probably load some low res textures or drop the textures on far away planets (still you\u0027d have to benchmark it for different resolutions to see if there is much to gain). For lowering GPU usage I wouldn\u0027t really know, I\u0027m not really up to date with EVE-overhaul and the different shaders you have except for the clouds."},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T01:12:18Z","Content":"[quote name=\u0027blackrack\u0027]Not sure what you want to accomplish with this. I just unload planets that are far away because the memory usage of precomputed scattering tables loaded into rendertextures is quite high.  \n\nIf you are trying to optimize the memory usage you could probably load some low res textures or drop the textures on far away planets (still you\u0027d have to benchmark it for different resolutions to see if there is much to gain). For lowering GPU usage I wouldn\u0027t really know, I\u0027m not really up to date with EVE-overhaul and the different shaders you have except for the clouds.[/QUOTE]  \n\nNah... I was thinking that for a map, it looks too nice :) It should be like a screen you would see at NASA depicting orbits. Not super detailed, and certainly no clouds or atmosphere. And the background shouldn\u0027t be stars, it should be a grid or something like that."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T01:17:19Z","Content":"[quote name=\u0027rbray89\u0027]Nah... I was thinking that for a map, it looks too nice :) It should be like a screen you would see at NASA depicting orbits. Not super detailed, and certainly no clouds or atmosphere. And the background shouldn\u0027t be stars, it should be a grid or something like that.[/QUOTE]  \n\nAh wait, so you\u0027re thinking of making a custom map view basically. Ahh, should have said so at the start.  \n\nWell, the first thing that came to my mind was a high-tech/holographic planet and orbit view with the background being the operations room/control center \u00C3\u0192\u00C2  la XCOM  \n\n[IMG]http://static-3.nexusmods.com/15/mods/151/images/482-1-1400737231.jpg[/IMG]  \n\nProbably not a good idea though as the room is quite detailed :p"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T01:20:29Z","Content":"[quote name=\u0027blackrack\u0027]Ah wait, so you\u0027re thinking of making a custom map view basically. Ahh, should have said so at the start.  \n\nWell, the first thing that came to my mind was a high-tech/holographic planet and orbit view with the background being the operations room/control center \u00C3\u0192\u00C2  la XCOM  \n\n[url]http://static-3.nexusmods.com/15/mods/151/images/482-1-1400737231.jpg[/url]  \n\nProbably not a good idea though as the room is quite detailed :p[/QUOTE]  \n\nBingo. Abstracting things to bare minimum. Pretty views should come from those sending craft to the places :)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T01:25:55Z","Content":"[quote name=\u0027rbray89\u0027]Bingo. Abstracting things to bare minimum. Pretty views should come from those sending craft to the places :)[/QUOTE]  \n\nI get it, but I still think this should grow into it\u0027s own mod. Also, I\u0027d imagine for planets never visited/scanned the map view should just look like an empty sphere or a low-res one or something, and once you scan them you get the continents/topography view and it looks more like this [URL=\u0022http://www.ufopaedia.org/images/e/e5/Control.png\u0022]http://www.ufopaedia.org/images/e/e5/Control.png[/URL]."}]}