{"TopicId":116931,"ForumId":36,"TopicTitle":"The power of Pandoc: a handy tool for publishing on multiple platforms.","CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-07-26T23:37:30Z","PageNum":1,"Articles":[{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-07-26T23:37:30Z","Content":"\n\u003Cp\u003E\nI love Markdown (specifically the \u003Ca href=\u0022https://help.github.com/articles/github-flavored-markdown/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EGitHub-flavored variety\u003C/strong\u003E\u003C/a\u003E). You love Markdown. GitHub, KerbalStuff, and KerbalX love Markdown, but CurseForge and the forums don\u0027t. Since the latter two are official, this leaves us mod makers with the trouble of having to manually shoehorn our README files and such into the forum and CurseForge editors.\n\u003C/p\u003E\n\u003Cp\u003E\nFortunately, there\u0027s a tool called \u003Ca href=\u0022http://pandoc.org/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EPandoc\u003C/strong\u003E\u003C/a\u003E which can convert documents between various markup and markdown formats.\u00A0 Now we can write our README files \u003Cstrong\u003Eonce\u003C/strong\u003E, export them, and then paste them into CurseForge and the forum. For that matter, we can write forum posts in our favorite text editors, and then convert them. \u003Cem\u003EThis very post\u003C/em\u003E was entirely composed in Notepad\u002B\u002B, formatting and all. Empirically, it\u0027s very handy for laying down thoughts and drafting stuff when I\u0027m not able to access the forums, or when I\u0027m working on something too big or in too early a stage to go to the trouble of writing it in the forum editor.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve started putting the following batch file into all of my addon folders, so I don\u0027t have to type out the commands every time. As I get more advanced in my build and publishing automation, it can be called as part of the publishing process.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\npandoc -f markdown_github -t html -o README.html README.md\u003C/pre\u003E\n\u003Cp\u003E\nI can then open the resulting HTML file in my browser and copy it (formatting and all) into the forum or CurseForge editors.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EOutdated information:\u003C/em\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nI love Markdown (specifically the \u003Ca href=\u0022https://help.github.com/articles/github-flavored-markdown/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EGitHub-flavored variety\u003C/strong\u003E\u003C/a\u003E). You love Markdown. GitHub, KerbalStuff, and KerbalX love Markdown, but CurseForge and the forums don\u0027t. Since the latter two are official, this leaves us mod makers with the trouble of having to manually shoehorn our README files and such into HTML and BBCode. There\u0027s a tool called \u003Ca href=\u0022http://pandoc.org/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EPandoc\u003C/strong\u003E\u003C/a\u003E which can convert documents between various markup and markdown formats, but it doesn\u0027t handle BBCode by default. Fortunately, somebody else went to the trouble of making \u003Ca href=\u0022https://github.com/2ion/pandoc-bbcode\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ea BBCode exporter\u003C/strong\u003E\u003C/a\u003E, and I have produced \u003Ca href=\u0022https://github.com/Kerbas-ad-astra/pandoc-bbcode\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ea modified version\u003C/strong\u003E\u003C/a\u003E which works with vBulletin\u0027s flavor of BBCode. (I don\u0027t actually know Lua or pandoc specifically, so please let me know if you find any issues. In particular, I\u0027d like to have a nice way to get the true width of a table, because when pandoc ingests Markdown tables, it doesn\u0027t seem to get any width information, so the resulting BBCode table always defaults to width 500.)\n\u003C/p\u003E\n\u003Cp\u003E\nNow we can write our README files \u003Cstrong\u003Eonce\u003C/strong\u003E, export them, and then paste them into the \u0022source editors\u0022 of CurseForge and the forum. For that matter, we can write forum posts in our favorite text editors, and then convert them to BBCode. \u003Cem\u003EThis very post\u003C/em\u003E was entirely composed in Notepad\u002B\u002B, formatting and all. Empirically, it\u0027s very handy for laying down thoughts and drafting stuff when I\u0027m not able to access the forums, or when I\u0027m working on something too big or in too early a stage to go to the trouble of writing it in the forum editor.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve started putting the following batch file into all of my addon folders, so I don\u0027t have to type out the commands every time. As I get more advanced in my build and publishing automation, it can be called as part of the publishing process. (The BBCode is for the forums, and the HTML is for CurseForge.)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\npandoc -f markdown_github -t \u0022..\\..\\Other source repositories\\pandoc-bbcode\\panbbcodeVBulletin.lua\u0022 -o README.bbcode README.md\npandoc -f markdown_github -t html -o README.html README.md\u003C/pre\u003E\n\u003Cp\u003E\n(I should note, I\u0027ve got my files set up so that, in my main \u0022KSP stuff\u0022 folder, I have an \u0022Addons\u0022 folder which holds all of \u003Cem\u003Emy\u003C/em\u003E addons, and an \u0022Other source repositories\u0022 folder which holds my clones of anyone else\u0027s repositories. That\u0027s where the pandoc-bbcode converter lives. I put this batch folder in e.g. my AntennaRange Relays folder, so it goes up one level to get to \u0022Addons\u0022, another level to get to \u0022KSP stuff\u0022, and then down to where panbbcode.lua lives. Since the batch file is in the top of the addon directory, same as the README files, they don\u0027t need any folder information.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-08T01:19:06Z\u0022 title=\u002212/08/2015 01:19  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 8, 2015\u003C/time\u003E by Kerbas_ad_astra\u003C/strong\u003E\n\u003Cbr\u003ERevised for the new forum.\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-07-26T23:43:43Z","Content":"\n\u003Cp\u003EThis should be helpful. I hate dealing with BBCode, so I\u0027ll have to try that out.\u003C/p\u003E\u003Cp\u003EFor CurseForge, while it might not like raw markdown, it is perfectly happy with parsed markdown. Take the KerbalStuff mod description, the standard info screen, the one that anyone else sees, not the editing screen, copy everything, and paste it into the Curse addon description. It should come out correctly formatted. I\u0027m not sure if it handles GitHub markdown, but it seems fine with standard markdown, I use that method for nearly all of my addons.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-07-26T23:58:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EThis should be helpful. I hate dealing with BBCode, so I\u0027ll have to try that out.\u003Cp\u003EFor CurseForge, while it might not like raw markdown, it is perfectly happy with parsed markdown. Take the KerbalStuff mod description, the standard info screen, the one that anyone else sees, not the editing screen, copy everything, and paste it into the Curse addon description. It should come out correctly formatted. I\u0027m not sure if it handles GitHub markdown, but it seems fine with standard markdown, I use that method for nearly all of my addons.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI suspect your method works because CurseForge works with HTML (that\u0027s what shows up when I edit its stuff in source mode -- and that\u0027s why I include that output mode in my script). Since that\u0027s what KerbalStuff parses the markdown into, that\u0027s what would get copied. We could probably test this by copying and pasting the displayed text from GitHub (or the forums, or any old random text from some other webpage) and seeing what happens.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-08-02T04:19:41Z","Content":"\n\u003Cp\u003EI\u0027ve made a fork of 2ion\u0027s converter that is more fully compatible with vBulletin -- it produces tables and headers, and doesn\u0027t produce any tags that don\u0027t work with the KSP forums, like 2ion\u0027s sometimes did (headers and the \u0022em\u0022 tag instead of \u0022I\u0022 for italics): \u003Ca href=\u0022https://github.com/Kerbas-ad-astra/pandoc-bbcode\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Kerbas-ad-astra/pandoc-bbcode\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-12-08T01:21:51Z","Content":"\n\u003Cp\u003E\nI\u0027ve modified my instructions for the new forum.\u00A0 In particular, there\u0027s no \u0022source mode\u0022, but I\u0027ve found that I can export a Markdown file to HTML, open the resulting page in my browser, and copy the displayed page into the editor -- formatting is preserved.\u00A0 Therefore, I\u0027m tentatively deprecating the BBCode exporter, since it doesn\u0027t seem to be necessary anymore.\u00A0 (I\u0027m leaving up the repository, just taking it out of the main body of the post -- see the \u0022Outdated information\u0022 spoiler for instructions.)\n\u003C/p\u003E\n"}]}