{"TopicId":73961,"ForumId":29,"TopicTitle":"Accessing the WheelCollider of a rover wheel","CreatedByName":"ThermalShark","CreatedById":97607,"CreatedDateTime":"2014-06-03T00:05:51Z","PageNum":1,"Articles":[{"CreatedByName":"ThermalShark","CreatedById":97607,"CreatedDateTime":"2014-06-03T00:05:51Z","Content":"\n\u003Cp\u003EFirst, look at this image:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/XHZoV2G.png\u0022 alt=\u0022XHZoV2G.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI need to access the \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/WheelCollider.html\u0022 rel=\u0022external nofollow\u0022\u003EWheelCollider\u003C/a\u003E of a rover wheel. In the config file there is a field named \u0022wheelColliderName\u0022, and the value is \u0022wheelCollider\u0022 for all stock wheels, but i tried to use \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/Transform.Find.html\u0022 rel=\u0022external nofollow\u0022\u003Etransform.Find()\u003C/a\u003E to search for the \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/GameObject.html\u0022 rel=\u0022external nofollow\u0022\u003EGameObject\u003C/a\u003E named \u0022wheelCollider\u0022 and i found nothing (and the problem was not my plugin, it worked with \u0022Hello World\u0022). But i am not even sure in what GameObject (of the image) my script is attached, so i am probably doing something wrong. Does anyone know how to access the WheelCollider?\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-06-03T01:45:59Z","Content":"\n\u003Cp\u003EThere are a couple ways. It looks like PartTools rearranges the transforms a little, so here\u0027s something of a roadmap of the ingame hierarchy:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[LOG 18:24:33.499]  Transform: roverWheel1\u003Cbr\u003E[LOG 18:24:33.499] ---\u0026gt; Transform: model\u003Cbr\u003E[LOG 18:24:33.500] ------\u0026gt; Transform: roverWheelBig\u003Cbr\u003E[LOG 18:24:33.501] ---------\u0026gt; Transform: base\u003Cbr\u003E[LOG 18:24:33.501] ------------\u0026gt; Transform: susp1-2\u003Cbr\u003E[LOG 18:24:33.502] ------------\u0026gt; Transform: susp2-2\u003Cbr\u003E[LOG 18:24:33.502] ------------\u0026gt; Transform: susp3-2\u003Cbr\u003E[LOG 18:24:33.503] ---------\u0026gt; Transform: suspensionNeutralPoint\u003Cbr\u003E[LOG 18:24:33.504] ------------\u0026gt; Transform: steering\u003Cbr\u003E[LOG 18:24:33.504] ---------------\u0026gt; Transform: wheelCollider\u003Cbr\u003E[LOG 18:24:33.505] ---------\u0026gt; Transform: suspensionTraverse\u003Cbr\u003E[LOG 18:24:33.506] ------------\u0026gt; Transform: bracket\u003Cbr\u003E[LOG 18:24:33.506] ------------\u0026gt; Transform: susp1-1\u003Cbr\u003E[LOG 18:24:33.507] ---------------\u0026gt; Transform: susp3-1\u003Cbr\u003E[LOG 18:24:33.508] ------------\u0026gt; Transform: susp2-1\u003Cbr\u003E[LOG 18:24:33.508] ------------\u0026gt; Transform: trackSteering\u003Cbr\u003E[LOG 18:24:33.509] ---------------\u0026gt; Transform: bustedwheel\u003Cbr\u003E[LOG 18:24:33.510] ------------------\u0026gt; Transform: bustedwheel\u003Cbr\u003E[LOG 18:24:33.510] ------------------\u0026gt; Transform: collisionEnhancer\u003Cbr\u003E[LOG 18:24:33.511] ------------------\u0026gt; Transform: Object01\u003Cbr\u003E[LOG 18:24:33.512] ---------------\u0026gt; Transform: wheelMount\u003Cbr\u003E[LOG 18:24:33.513] ------------------\u0026gt; Transform: wheel\u003Cbr\u003E[LOG 18:24:33.513] ---------------------\u0026gt; Transform: collisionEnhancer\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[LOG 18:24:33.441] roverWheel1 has components:\u003Cbr\u003E[LOG 18:24:33.441] ...c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.442] ...c: Part\u003Cbr\u003E[LOG 18:24:33.443] ...c: ModuleWheel\u003Cbr\u003E[LOG 18:24:33.443] ...c: FXModuleLookAtConstraint\u003Cbr\u003E[LOG 18:24:33.444] ...c: FXModuleConstrainPosition\u003Cbr\u003E[LOG 18:24:33.445] ...c: UnityEngine.AudioSource\u003Cbr\u003E[LOG 18:24:33.445] ...c: UnityEngine.Rigidbody\u003Cbr\u003E[LOG 18:24:33.446] ...c: CollisionEnhancer\u003Cbr\u003E[LOG 18:24:33.446] ...c: PartBuoyancy\u003Cbr\u003E[LOG 18:24:33.447] ---\u0026gt;model has components:\u003Cbr\u003E[LOG 18:24:33.448] ......c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.448] ------\u0026gt;roverWheelBig has components:\u003Cbr\u003E[LOG 18:24:33.449] .........c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.450] ---------\u0026gt;base has components:\u003Cbr\u003E[LOG 18:24:33.450] ............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.451] ............c: UnityEngine.BoxCollider\u003Cbr\u003E[LOG 18:24:33.452] ............c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.452] ............c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.453] ------------\u0026gt;susp1-2 has components:\u003Cbr\u003E[LOG 18:24:33.454] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.454] ...............c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.455] ...............c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.456] ------------\u0026gt;susp2-2 has components:\u003Cbr\u003E[LOG 18:24:33.456] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.457] ...............c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.458] ...............c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.458] ------------\u0026gt;susp3-2 has components:\u003Cbr\u003E[LOG 18:24:33.459] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.460] ...............c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.460] ...............c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.461] ---------\u0026gt;suspensionNeutralPoint has components:\u003Cbr\u003E[LOG 18:24:33.462] ............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.462] ------------\u0026gt;steering has components:\u003Cbr\u003E[LOG 18:24:33.463] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.464] ---------------\u0026gt;wheelCollider has components:\u003Cbr\u003E[LOG 18:24:33.464] ..................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.465] ..................c: UnityEngine.WheelCollider\u003Cbr\u003E[LOG 18:24:33.466] ---------\u0026gt;suspensionTraverse has components:\u003Cbr\u003E[LOG 18:24:33.467] ............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.467] ------------\u0026gt;bracket has components:\u003Cbr\u003E[LOG 18:24:33.468] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.469] ...............c: UnityEngine.BoxCollider\u003Cbr\u003E[LOG 18:24:33.469] ...............c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.470] ...............c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.471] ------------\u0026gt;susp1-1 has components:\u003Cbr\u003E[LOG 18:24:33.471] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.472] ...............c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.473] ...............c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.473] ---------------\u0026gt;susp3-1 has components:\u003Cbr\u003E[LOG 18:24:33.474] ..................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.475] ..................c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.475] ..................c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.476] ------------\u0026gt;susp2-1 has components:\u003Cbr\u003E[LOG 18:24:33.477] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.478] ...............c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.478] ...............c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.479] ------------\u0026gt;trackSteering has components:\u003Cbr\u003E[LOG 18:24:33.480] ...............c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.481] ---------------\u0026gt;bustedwheel has components:\u003Cbr\u003E[LOG 18:24:33.481] ..................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.482] ------------------\u0026gt;bustedwheel has components:\u003Cbr\u003E[LOG 18:24:33.483] .....................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.483] .....................c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.484] .....................c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.485] ------------------\u0026gt;collisionEnhancer has components:\u003Cbr\u003E[LOG 18:24:33.485] .....................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.486] .....................c: UnityEngine.SphereCollider\u003Cbr\u003E[LOG 18:24:33.487] ------------------\u0026gt;Object01 has components:\u003Cbr\u003E[LOG 18:24:33.488] .....................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.488] .....................c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.489] .....................c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.490] ---------------\u0026gt;wheelMount has components:\u003Cbr\u003E[LOG 18:24:33.490] ..................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.491] ..................c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.492] ..................c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.492] ------------------\u0026gt;wheel has components:\u003Cbr\u003E[LOG 18:24:33.493] .....................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.494] .....................c: UnityEngine.MeshFilter\u003Cbr\u003E[LOG 18:24:33.495] .....................c: UnityEngine.MeshRenderer\u003Cbr\u003E[LOG 18:24:33.495] ---------------------\u0026gt;collisionEnhancer has components:\u003Cbr\u003E[LOG 18:24:33.496] ........................c: UnityEngine.Transform\u003Cbr\u003E[LOG 18:24:33.497] ........................c: UnityEngine.SphereCollider\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou can see a transform named \u0022model\u0022 in there where the Unity hierarchy got moved. KSP accesses this portion of the GameObject in a different way; you might\u0027ve come across Part.FindModel* functions. Use those to find stuff you\u0027re looking for that\u0027s underneath the model section of the tree. So if you want to find a transform named \u0022wheelCollider\u0022 you\u0027ll be wanting\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EmyPart.FindModelTransform(\u0022wheelCollider\u0022)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou can use the base transform to do it, but for that you apparently need the whole path:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Etransform.Find(\u0022model/roverWheelBig/suspensionNeutralPoint/steering/wheelCollider\u0022);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou can also look for the component(s) directly, being careful around cases where more than one might exist of course:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Evar wc = part.FindModelComponent\u0026lt;WheelCollider\u0026gt;();\u003Cbr\u003Evar wc2 = part.gameObject.GetComponentInChildren\u0026lt;WheelCollider\u0026gt;();\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"ThermalShark","CreatedById":97607,"CreatedDateTime":"2014-06-03T02:10:00Z","Content":"\n\u003Cp\u003EThanks! I can\u0027t test it now, because i only really have time tomorrow afternoon. If this works, i will release a wheel telemetry mod as soon as i can! Seems to be easy enough to do in 30 minutes...\u003C/p\u003E\n"},{"CreatedByName":"ThermalShark","CreatedById":97607,"CreatedDateTime":"2014-06-03T17:56:06Z","Content":"\n\u003Cp\u003EIt worked very well, and i will release the mod in about 20 minutes... And probably we will get \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68530\u0022 rel=\u0022external nofollow\u0022\u003Etweakable\u003C/a\u003E suspensions and friction too!\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-06-03T20:23:54Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/members/77866-xEvilReeperx\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022color:#417394;\u0022\u003ExEvilReeperx\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022color:#417394;\u0022\u003E just pointed me in this direction (thank you again!). I\u0027ve been working on tweakable suspension over the last couple of days myself! Still a bit flaky.. Will hold off if you\u0027ve got something working, and very interested to see what a fully workable solution looks like \u003C/span\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ThermalShark","CreatedById":97607,"CreatedDateTime":"2014-06-03T20:32:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/members/77866-xEvilReeperx\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022color:#417394;\u0022\u003ExEvilReeperx\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022color:#417394;\u0022\u003E just pointed me in this direction (thank you again!). I\u0027ve been working on tweakable suspension over the last couple of days myself! Still a bit flaky.. Will hold off if you\u0027ve got something working, and very interested to see what a fully workable solution looks like \u003C/span\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am not the creator of TweakableWheels, OrbitusII is.\u003C/p\u003E\n"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2014-06-06T16:25:29Z","Content":"\n\u003Cp\u003EI\u0027m also interested ... for my hydraulics mod I\u0027d love the ability to modify/block the suspension travel.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-06-09T13:54:41Z","Content":"\n\u003Cp\u003EI\u0027ve figured out how to modify settings of the wheelcollider. Very new to writing plugins, so it\u0027s rough but functional.\u003C/p\u003E\u003Cp\u003ESource here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Lo-FiOrbitalScience/KSPWheelPack?files=1\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Lo-FiOrbitalScience/KSPWheelPack?files=1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt doesn\u0027t work very well in realtime, though. Seems to modify the value, then ksp will all of a sudden realise it\u0027s changed a few minutes later! Still can\u0027t figure that out. Be interested to see what you can come up with, give me a shout if I can help at all.\u003C/p\u003E\n"}]}