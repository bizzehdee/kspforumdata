{"TopicId":58235,"ForumId":34,"TopicTitle":"[1.8-1.9] Modular Fuel Tanks v5.13.1","CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-12-30T08:03:39Z","PageNum":5,"Articles":[{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-05-14T14:25:43Z","Content":"\n\u003Cp\u003EThanks, I\u0027ve pushed it to github.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-14T14:27:54Z","Content":"\n\u003Cp\u003EWhy do the tank definitions have what appear to be useless arrays? Like these three for the Fuselage type:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ETANK\u003Cbr\u003E{\u003Cbr\u003Ename = Oxidizer\u003Cbr\u003Eamount = 0.0\u003Cbr\u003EmaxAmount = 0.0\u003Cbr\u003E}\u003Cbr\u003ETANK\u003Cbr\u003E{\u003Cbr\u003Ename = MonoPropellant\u003Cbr\u003Eamount = 0.0\u003Cbr\u003EmaxAmount = 0.0\u003Cbr\u003E}\u003Cbr\u003ETANK\u003Cbr\u003E{\u003Cbr\u003Ename = XenonGas\u003Cbr\u003Eamount = 0.0\u003Cbr\u003EmaxAmount = 0.0\u003Cbr\u003Eutilization = 56.0\u003Cbr\u003Enote = (pressurized)\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThose appear to define fuels, but at the same time limit maxAmount to 0 for them effectively making them unnecessary. Unless I\u0027m missing something here. If I\u0027m right though, then it\u0027s just a lot of extraneous text that doesn\u0027t need to be there and only serves to make the tank definitions harder to read.\u003C/p\u003E\u003Cp\u003EEdit: And a short description of the mod and what it does would be nice in the OP. It actually took me a while to figure-out what it is intended to do.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-14T14:33:32Z\u0022 title=\u002205/14/2014 02:33  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 14, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-05-14T14:49:16Z","Content":"\n\u003Cp\u003EThey\u0027re not useless: you cannot add random resources to a tank (the tank must support the resource). Those maxAmount = 0 entries define the support but set the default amount to 0.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-14T14:51:36Z","Content":"\n\u003Cp\u003EWell \u003Cstrong\u003Ethat\u0027s\u003C/strong\u003E confusing naming. O.o\u003C/p\u003E\n"},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2014-05-14T19:56:23Z","Content":"\n\u003Cp\u003EI don\u0027t know if this has been asked but I couldn\u0027t find an answer.\u003C/p\u003E\u003Cp\u003EIs there a way to define a custom split configuration? For example you have by default the very convenient button that automatically fills Liquid Fuel \u0026amp; Oxidizer 45/55.\u003C/p\u003E\u003Cp\u003EIt would be useful for things like life support or other mods that add alot of extra resources to have set balanced configs. Manually setting up a tank to hold a little bit of each life support resources (6 total for TAC if you want it hold a little of everything and their byproducts) can get a little tedious. Would be nice to be able to hit 1 button and get 16% of all 6 instantly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-15T06:55:12Z","Content":"\n\u003Cp\u003EI\u0027m still confused. A \u0022maxAmount = 0\u0022 line doesn\u0027t lock the maximum amount of the fuel in the tank to 0 units, it actually locks it to 100% but doesn\u0027t start the tank with it. Why isn\u0027t that just controlled by \u0022amount\u0022? Or why don\u0027t those entries I presented before read \u0022maxAmount = 100%\u0022? If I read things correctly, since they come after the Liquid Fuel and Oxidizer arrays the maxAmounts adding to more than 100% gets ignored.\u003C/p\u003E\u003Cp\u003EThis is all still very confuddling. If I understand you right taniwha, that means that when \u0022maxAmount = 0\u0022 it doesn\u0027t actually mean the max amount of that fuel is 0, but 100%. It\u0027s breaking my brain.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-15T07:00:29Z\u0022 title=\u002205/15/2014 07:00  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 15, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-05-15T07:20:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022phoenix_ca\u0022 data-cite=\u0022phoenix_ca\u0022\u003E\u003Cdiv\u003EI\u0027m still confused. A \u0022maxAmount = 0\u0022 line doesn\u0027t lock the maximum amount of the fuel in the tank to 0 units, it actually locks it to 100% but doesn\u0027t start the tank with it. Why isn\u0027t that just controlled by \u0022amount\u0022? Or why don\u0027t those entries I presented before read \u0022maxAmount = 100%\u0022? If I read things correctly, since they come after the Liquid Fuel and Oxidizer arrays the maxAmounts adding to more than 100% gets ignored.\u003Cp\u003EThis is all still very confuddling. If I understand you right taniwha, that means that when \u0022maxAmount = 0\u0022 it doesn\u0027t actually mean the max amount of that fuel is 0, but 100%. It\u0027s breaking my brain.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ETANK_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E    name = Default\u003Cbr\u003E    basemass = 0.000625 * volume\u003Cbr\u003E    TANK\u003Cbr\u003E    {\u003Cbr\u003E        name = LiquidFuel\u003Cbr\u003E        amount = full\u003Cbr\u003E        maxAmount = 45%\u003Cbr\u003E    }\u003Cbr\u003E    TANK\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = LqdMethane\u003Cbr\u003E\t\tamount = 0.0\u003Cbr\u003E\t\tmaxAmount = 0.0\u003Cbr\u003E\t}\u003Cbr\u003E    TANK\u003Cbr\u003E    {\u003Cbr\u003E        name = Oxidizer\u003Cbr\u003E        amount = full\u003Cbr\u003E        maxAmount = 55%\u003Cbr\u003E    }\u003Cbr\u003E//snip...\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen you set the maxAmount to equal something more than 0 than the tank will default to have that amount of fuel. So when you look at the default tank scheme from my tanktypes you will notice that the LiquidFuel and Oxidizer are at a 45% and 55% respectively, this is due to the fact that default tanks will start with a default split of 45%/55%. Basically maxAmount=max Starting Amount. So if I were to say want all my default tank types to start with 10% monopropellant I could change the maxAmount fields on LiquidFuel and Oxidizer to 40%/50% and then change the monopropellant to 10% from the default 0. this will give any tank with the \u0022default\u0022 tank type tab 40%/50%/10% when you put it on your ship in the VAB. So if you think of it as the maxStartingAmount it makes a little more sense I guess, if I am right it also allows those tank types to use that resource type(i.e. add a tank for that resource in the GUI). I see were your getting confused, I had to think about it when I was redoing my tanktypes.cfg to have all the resources from KSPI. Now I don\u0027t know if this is something that is set in the game, or in the mod, I just know how it relates to the parts in game.\u003C/p\u003E\u003Cp\u003EIf I am wrong, I am sure that someone much more knowledgeable than me can correct me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I am still learning a lot about the modding process.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-15T07:23:13Z\u0022 title=\u002205/15/2014 07:23  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 15, 2014\u003C/time\u003E by MrWizerd\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-15T07:25:04Z","Content":"\n\u003Cp\u003EIn a TANK node, amount and maxAmount control, respectively, the default amount and maxAmount of the resource in the tank. They are given as they are to correspond *exactly* with the amount and maxAmount in the RESOURCE node that MFT will create from the TANK entry.\u003C/p\u003E\u003Cp\u003EHowever, so as to support proportional amounts, MFT will allow you to specify a percentage in the maxAmount field. Instead of specifying an maxAmount for that RESOURCE in units, it will specify it as a proportion of the total volume available in the part.\u003C/p\u003E\u003Cp\u003EFurther, due to this added support, amount behaves somewhat differently than in a RESOURCE node. Instead of requiring you to specify exactly the number of units the RESOURCE will have, it instead is read as a portion of maxAmount. amount = 1.0 (or amount = full) means that the RESOURCE\u0027s amount will be set equal to its maxAmount. At 0.5, it will be half full; etc.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-15T09:21:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrWizerd\u0022 data-cite=\u0022MrWizerd\u0022\u003E\u003Cdiv\u003EBasically maxAmount=max Starting Amount.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGoodness! Then why isn\u0027t it called that? Calling the variable startingAmount would be much clearer.\u003C/p\u003E\u003Cp\u003E...or at least that\u0027s what I thought, until Nathan confused me again. O.o Because from what you\u0027re saying, wouldn\u0027t that mean that whenever maxAmount = 0, that resource cannot take any more volume than 0% of the tank\u0027s volume?\u003C/p\u003E\u003Cp\u003EOr am I just confused by my experience with Python where naming variables and functions isn\u0027t nearly this arbitrary? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-15T21:33:22Z","Content":"\n\u003Cp\u003Ephoenix_ca: those are *default values*. Each TANK, because it is essentially a wrapper for a RESOURCE, has an amount and a maxAmount. You know RESOURCE nodes in part cfgs have amount and maxAmount values? Well, so do TANKs, because TANKs are wrappers for RESOURCEs. While the various other values in the TANK are permanent, amount and maxAmount are merely the default values used when converting the TANK to a RESOURCE. You can make them whatever you like ingame.\u003C/p\u003E\u003Cp\u003EI don\u0027t get why you think this is arbitrary: you have to think of a TANK as, essentially, a wrapper for the RESOURCE node in a cfg.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2014-05-16T00:04:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022phoenix_ca\u0022 data-cite=\u0022phoenix_ca\u0022\u003E\u003Cdiv\u003EGoodness! Then why isn\u0027t it called that? Calling the variable startingAmount would be much clearer.\u003Cp\u003E...or at least that\u0027s what I thought, until Nathan confused me again. O.o Because from what you\u0027re saying, wouldn\u0027t that mean that whenever maxAmount = 0, that resource cannot take any more volume than 0% of the tank\u0027s volume?\u003C/p\u003E\u003Cp\u003EOr am I just confused by my experience with Python where naming variables and functions isn\u0027t nearly this arbitrary? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EQuite simply, they\u0027re the resource arrays for each possible resource you can put in them. The presence of the nodes indicates that it\u0027s possible to put that resource in the tank, the maxamount=0 simply means that you haven\u0027t actually added a tank for that resource.\u003C/p\u003E\u003Cp\u003EThe amounts in the .cfg files are the default tank setup. If the ones set to 0 weren\u0027t present, you\u0027d have to somehow add the node in order to change the tank setup. Changing the nodes in the file normally requires a database reload, so it\u0027s probably just a workaround because of the way KSP loads parts.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-16T00:11:38Z\u0022 title=\u002205/16/2014 12:11  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 16, 2014\u003C/time\u003E by Tiron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-16T01:24:53Z","Content":"\n\u003Cp\u003EMy confusion is coming from the entry \u0022maxAmount\u0022 not actually meaning \u0022maximum amount\u0022. In a stock RESOURCE node, the maxAmount value means \u0022maximum number of units of this resource that can be stored\u0022. With MFT, the same maxAmount value means \u0022the default starting amount\u0022. Hence the confusion. It is poorly named. I can appreciate that from a programming standpoint this might make a lot of sense, especially if you have knowledge of the code being used (as you described this as a sort of wrapper), but from a usability standpoint...I\u0027m not seeing it. It\u0027s very, very confusing to have the value be named one thing but mean another.\u003C/p\u003E\u003Cp\u003EIt actually might be worthwhile to add your own values that are clearer about what they actually do, and then handle that in the plugin by renaming them internally if you have to. If only to avoid this sort of confusion between TANK nodes and RESOURCE nodes, which have values that are named exactly the same, but mean something entirely different.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-16T02:16:28Z","Content":"\n\u003Cp\u003ENo, they really don\u0027t mean something entirely different. In fact, they mean the same thing. Let me try again.\u003C/p\u003E\u003Cp\u003EYou get that TANK is a wrapper for RESOURCE, right? It\u0027s like a RESOURCE node with some extra information. If you open a saved craft (or your SFS file) you will see all the various TANKs in your tank part, with \u003Cem\u003Etheir correct amounts and maxAmounts\u003C/em\u003E. When you edit the TANK in a TANK_DEFINITION, however, you are editing the default values. Then, and only then, can amount and maxAmount do some extra helpful things. But then and always, they correspond (\u003Cem\u003Eand thus share the name\u003C/em\u003E) with those in RESOURCE nodes (that are, in fact, \u003Cem\u003Egenerated from\u003C/em\u003E TANK nodes).\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-16T02:29:04Z","Content":"\n\u003Cp\u003EI think I understand what you\u0027re saying (finally), but you still have values that mean two different things depending on the circumstances surrounding them. I find that very confusing. It\u0027s something I\u0027ve always avoided as if it were the black plague in any code I\u0027ve written, because it inevitably leads to confusion.\u003C/p\u003E\u003Cp\u003EUnless because of some weird KSP vagaries it\u0027s impossible to do, I don\u0027t see what would be lost by making that value more specific, so it is clearer about what changing it does.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-16T02:35:50Z\u0022 title=\u002205/16/2014 02:35  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 16, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-05-16T13:43:40Z","Content":"\n\u003Cp\u003Ephoenix_ca: thare are no dual meanings.\u003C/p\u003E\u003Cp\u003E(note, in the following, bold text indicates keywords in the cfg files)\u003C/p\u003E\u003Cp\u003EFor any part that has a \u003Cstrong\u003EModuleFuelTanks\u003C/strong\u003E \u003Cstrong\u003EMODULE\u003C/strong\u003E node, MFT deletes any \u003Cstrong\u003ERESOURCE\u003C/strong\u003E nodes that are present. It then goes through the \u003Cstrong\u003ETANK_DEFINITION\u003C/strong\u003E specified by the \u003Cstrong\u003EMODULE\u003C/strong\u003E node\u0027s type entry, adding any \u003Cstrong\u003ERESOURCE\u003C/strong\u003E nodes for each \u003Cstrong\u003E\u003Cstrong\u003ETANK\u003C/strong\u003E\u003C/strong\u003E with non-zero \u003Cstrong\u003EmaxMamount\u003C/strong\u003E. Those \u003Cstrong\u003ERESOURCE\u003C/strong\u003E nodes have their \u003Cstrong\u003EmaxAmount\u003C/strong\u003E value set to reflect the \u003Cstrong\u003EmaxAmount\u003C/strong\u003E value in the \u003Cstrong\u003ETANK\u003C/strong\u003E node (if %, then percent of total tank volume (as specified in the \u003Cstrong\u003EMODULE\u003C/strong\u003E node), otherwise as-is). MFT then sets the \u003Cstrong\u003ERESOURCE\u003C/strong\u003E\u0027s \u003Cstrong\u003Eamount\u003C/strong\u003E value appropriately for the \u003Cstrong\u003ETANK\u003C/strong\u003E\u0027s \u003Cstrong\u003Eamount\u003C/strong\u003E: % is percentage of \u003Cstrong\u003EmaxAmount\u003C/strong\u003E, \u003Cstrong\u003Efull\u003C/strong\u003E is equivalent to 100%, or an absolute value (bounded to be inclusively between 0 and \u003Cstrong\u003EmaxAmount\u003C/strong\u003E).\u003C/p\u003E\u003Cp\u003ENow, if there is no \u003Cstrong\u003ETANK\u003C/strong\u003E node in the \u003Cstrong\u003ETANK_DEFINITION\u003C/strong\u003E, then MFT does not allow that resource to be added to the tank. So the way to allow optional resources is to provide \u003Cstrong\u003ETANK\u003C/strong\u003E nodes with a \u003Cstrong\u003EmaxAmount\u003C/strong\u003E of 0, as these will not cause \u003Cstrong\u003ERESOURCE\u003C/strong\u003E nodes to be added to the part.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-16T14:03:30Z","Content":"\n\u003Cp\u003EI don\u0027t suppose there\u0027s any chance of explaining this in...any documentation? The readme doesn\u0027t cover it in detail (note the link to the readme in the OP is dead), and Taranis\u0027 post only says what it is, not how it works.\u003C/p\u003E\u003Cp\u003EI\u0027m going to have to draw a flow-chart to get a grasp on this logic though. O.o (Sorry, but I can\u0027t decipher what you\u0027re trying to say. I appreciate you trying though. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-16T14:08:26Z\u0022 title=\u002205/16/2014 02:08  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 16, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PolecatEZ","CreatedById":58008,"CreatedDateTime":"2014-05-16T14:25:40Z","Content":"\n\u003Cp\u003E1. MF parses the PART configs for everything.\u003C/p\u003E\u003Cp\u003E2. If it sees a resource it recognizes (as defined in its own config), it deletes that resource module and uses its own logic.\u003C/p\u003E\u003Cp\u003E3. The MaxAmount of the deleted resource(s) on the part becomes the default MaxAmount \u003Cem\u003Etotal\u003C/em\u003E for any modular resources that can be used. If multiple resources were deleted, these are added up.\u003C/p\u003E\u003Cp\u003E4. Specific Parts can have a config over-ride defined, MF will use those settings instead of the Max Amount it calculated based on the original part\u0027s Max Amount. Often these are the same thing, but can be tweaked. \u003C/p\u003E\u003Cp\u003E5. The override config can also define a Tank type (TANK_DEFINITION), which restricts which fuels can be placed and/or adds multipliers (and/or base additives) to the mass or volume of the fuel when put in that tank...the total of which cannot exceed the \u0022MaxAmount\u0022 as defined or calculated.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2014-05-16T16:09:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022phoenix_ca\u0022 data-cite=\u0022phoenix_ca\u0022\u003E\u003Cdiv\u003EI don\u0027t suppose there\u0027s any chance of explaining this in...any documentation? The readme doesn\u0027t cover it in detail (note the link to the readme in the OP is dead), and Taranis\u0027 post only says what it is, not how it works.\u003Cp\u003EI\u0027m going to have to draw a flow-chart to get a grasp on this logic though. O.o (Sorry, but I can\u0027t decipher what you\u0027re trying to say. I appreciate you trying though. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI see what you\u0027re having trouble with now.\u003C/p\u003E\u003Cp\u003EThe thing you have to remember here is that MFT is a mod, not part of the default game. The reason it\u0027s \u0027maxAmount\u0027 and not something else... is because that\u0027s what it is in the default game, which isn\u0027t designed for modifiable tanks. It\u0027s the maximum storable amount for *that particular resource*, not the tank as a whole. The default game doesn\u0027t even need to *consider* the volume of the tank as a whole, just how much of each particular resource can be held.\u003C/p\u003E\u003Cp\u003EThe key thing you have to remember is that as a general rule, anything within a pair of { } brackets is self-contained. They\u0027re called \u0027modules\u0027 for a reason: they may affect other things, but what goes in the brackets is, as a general rule, its own thing, independent of other modules. The way to read it is as \u0027Tank for Resource \u0026lt;x\u0026gt;, which can hold a maximum of \u0026lt;y\u0026gt; units, and presently holding \u0026lt;z\u0026gt; units.\u0027\u003C/p\u003E\u003Cp\u003EIt may help to think in terms of a real rocket, which inside a given stage has to has a separate tank for each thing it wants to store. They may share a bulkhead to save weight, but they\u0027re independent volumes. In our case it doesn\u0027t help that there\u0027s two different types of \u0027tank\u0027 going on: the structural container around the outside, and the actual storage area inside it are both called \u0027tanks\u0027, which can be a little confusing.\u003C/p\u003E\u003Cp\u003EThe total volume for the outer, structural bit you put the tanks in is defined, rather appropriately, with the \u0027volume = \u0027 line, outside of the TANK{} modules...because it defines how much room there *is* for TANK{} Modules to use in the first place. It\u0027s added to the tanks with a modulemanager config file.\u003C/p\u003E\u003Cp\u003EAs far as documentation goes, keep in mind that Taniwha isn\u0027t the original creator, but in fact the second maintainer *after* the original creator. He\u0027s got a bunch of other mods he works on too, and in the case of this one is mostly just taking care of it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-17T10:42:03Z\u0022 title=\u002205/17/2014 10:42  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 17, 2014\u003C/time\u003E by Tiron\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Aedile","CreatedById":104353,"CreatedDateTime":"2014-05-16T19:42:28Z","Content":"\n\u003Cp\u003EThe big orange KW tank is set as Cryogenic, which does not exist anymore.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2014-05-16T20:43:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Aedile\u0022 data-cite=\u0022Aedile\u0022\u003E\u003Cdiv\u003EThe big orange KW tank is set as Cryogenic, which does not exist anymore.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt actually still does exist...in realfuels. There\u0027s no need for it in MFT because it doesn\u0027t include the cryogenic fuels or boiloff. And checking the CFG shows *two* of the KW tanks are set to Cryogenic.\u003C/p\u003E\u003Cp\u003ETo fix it yourself(and thus not having to wait for Taniwha to do it) just open KW_modularFuelTanks.cfg in your text editor of choice and change \u0027Type = Cryogenic\u0027 to the appropriate tank type (probably \u0027Default\u0027 given they\u0027re set to Cryo.)\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-05-16T22:50:22Z","Content":"\n\u003Cp\u003EIt\u0027s fixed it git. I need to find out MFT\u0027s status (there are a few chefs doing this broth) and do a release.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-17T03:03:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiron\u0022 data-cite=\u0022Tiron\u0022\u003E\u003Cdiv\u003E\u0026lt;words\u0026gt;\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI knew all that already. But I still think my point has merit. It\u0027s a bad idea to have similar (or exactly the same name) variables that mean very different things. Just because it \u003Cstrong\u003Eseems\u003C/strong\u003E clear that it\u0027s different because it\u0027s in an entirely different place doesn\u0027t mean it \u003Cstrong\u003Eis\u003C/strong\u003E clear that that is so. For the purposes of someone trying to edit the tank definitions or add to them, something like defaultTankSize or defaultTankMaxAmount would make much more sense. Then you don\u0027t even have the issue with someone (like me) looking at it and having trouble divorcing maxAmount over *here* from maxAmount over *there*. Just because the value later gets mapped to maxAmount in an in-game resource node doesn\u0027t mean that that confusion should be exposed for people editing the configs to have to deal with.\u003C/p\u003E\u003Cp\u003ENot to be a Python fanboy, but I\u0027ll point you \u003Ca href=\u0022http://legacy.python.org/dev/peps/pep-0020/\u0022 rel=\u0022external nofollow\u0022\u003Eto this\u003C/a\u003E, namely \u0022Explicit is better than implicit.\u0022 What we\u0027ve got here is an implicit meaning for a variable depending on the node its in. It\u0027s not immediately apparent that it will do something very different than a maxAmount in a resource node when its in a tank definition node until you (a) understand this leap of logic that it means very different things depending on which node its in, and (\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E note which node it is a part of every time you look at a maxAmount. Instead, why not use a different variable entirely, one that more clearly in-and-of-itself, without any sort of implicit meaning afforded to it by the array it\u0027s in, relates to what it actually does?\u003C/p\u003E\u003Cp\u003EThe same for could be said for the amount variable. Something like \u0022defaultTankAmount\u0022 or \u0022defaultTankFill\u0022 would be more explicit, and more clearly, in-and-of-itself, relate to the MFT function in-game of changing the tank sizes via the GUI.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-17T03:06:03Z\u0022 title=\u002205/17/2014 03:06  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 17, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-05-17T04:34:53Z","Content":"\n\u003Cp\u003Epheonix_ca: the thing is, the do mean \u003Cem\u003Eexactly\u003C/em\u003E the same thing. \u003Cstrong\u003EmaxAmount\u003C/strong\u003E is the maximum that \u003Cstrong\u003Eamount\u003C/strong\u003E can be.\u003C/p\u003E\n"},{"CreatedByName":"Tiron","CreatedById":51836,"CreatedDateTime":"2014-05-17T10:52:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003Epheonix_ca: the thing is, the do mean \u003Cem\u003Eexactly\u003C/em\u003E the same thing. \u003Cstrong\u003EmaxAmount\u003C/strong\u003E is the maximum that \u003Cstrong\u003Eamount\u003C/strong\u003E can be.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlso, as I said previously, they\u0027re the *stock variables* used by the unmodified game. Nobody in this thread has control over how they\u0027re named. In the unmodified game, they\u0027re not confusing at all because there\u0027s literally nothing else to confuse them with. Only MFT\u0027s addition of the ability to modify tankage on the fly makes them potentially confusing.\u003C/p\u003E\u003Cp\u003EChanging the names of the stock variables, *if even possible*, is NOT a good idea regardless of \u0027best practices\u0027, because you\u0027ll probably break compatibility with anything you don\u0027t personally modify to use whatever you changed it to. You\u0027d have to insure that *every single mod including a fuel tank* was getting updated to the new variable name. In the event you found some way to make it so that the old name still worked, it\u0027d STILL be bad, because anyone that knows the stock variable names is probably just going to use those instead of whatever you changed it to (especially as using the new one would be incompatible with stock!)\u003C/p\u003E\u003Cp\u003EThe simple thing you need to understand here is that \u0027maxAmount\u0027 comes from Squad, who have ZERO reason to change it and every reason not to. MFT is an addon, which has to comply with stock naming conventions and rules, regardless of how confusing that can make things.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-17T11:48:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiron\u0022 data-cite=\u0022Tiron\u0022\u003E\u003Cdiv\u003EChanging the names of the stock variables\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot what I was suggesting (at all; whatever gave you that impression? O.o ). I haven\u0027t read through the entirety of the code, but there\u0027s even suggestion that someone had the forethought to design for this, on lines 275-276 of ModularFuelTanks.cs :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E                amountExpression = node.GetValue(\u0022amount\u0022);\u003Cbr\u003E                maxAmountExpression = node.GetValue(\u0022maxAmount\u0022);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAssuming that does what I think it does.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-17T13:14:37Z\u0022 title=\u002205/17/2014 01:14  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 17, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"}]}