{"TopicId":71385,"ForumId":15,"TopicTitle":"Recoloring stock parts","CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2014-05-04T11:29:03Z","PageNum":1,"Articles":[{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2014-05-04T11:29:03Z","Content":"\n\u003Cp\u003ESo, I am using TAC Life Support, but all of it\u0027s choices for tanks seem terrible to me.\u003C/p\u003E\u003Cp\u003EOn its thread, a user posted his own tanks, which are basically recolors and rescales of the ClairaLyrae\u0027s KSPX 2m half tank.\u003C/p\u003E\u003Cp\u003EHe also used the stock SAS units and recolored them for the purpose of CO2 scrubbers and Water purifiers.\u003C/p\u003E\u003Cp\u003EI liked his idea, since it fits so well with stock. Unfortunately the user does not seem to be active and does not respond to my private messages and also has no other contact details.\u003C/p\u003E\u003Cp\u003EI decided to try and recreate his effort from scratch.\u003C/p\u003E\u003Cp\u003EHowever my skills with Blender are limited, and specifically when it comes to texturing they are basically zero.\u003C/p\u003E\u003Cp\u003EFor reference, here we have the stock tanks the stock tanks(KSPX version used for TAC LS by the user Solestis is the top one):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/UkFOoba.png\u0022 alt=\u0022UkFOoba.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis is the desired effect - what Solestis did:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/4442830/Hosted%20Pictures/LifeSupportRetextured.png\u0022 alt=\u0022LifeSupportRetextured.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow, I found out an addon for Blender, which imports and exports mu files to and from Blender. \u003C/p\u003E\u003Cp\u003EI found the texture, however after looking at tutorials for 2-3 hours I still can\u0027t figure out how to recolor them in Blender.\u003C/p\u003E\u003Cp\u003EExporting them as image would require knowledge in Photoshop for recoloring - since the yellow part itself is a texture that\u0027s wrapped around the cylinders on the model, and has some color that\u0027s gradually getting darker to the sides.\u003C/p\u003E\u003Cp\u003EThis is beyond my capabilities so I decided to ask for either one of the following things:\u003C/p\u003E\u003Cp\u003Ea) Could someone explain step-by-step how to repaint the texture by retaining the original gradient color, map it back just like it is in stock, link it to the model and pack it back in a .mu file. \u003C/p\u003E\u003Cp\u003EOr rather, since this is probably asking too much and I am going to get so many answers of \u0022Check these 1236 tutorials\u0022:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E Since for me it seems like an immense amount of effort, but someone skilled in modelling could probably achieve the desired effects for less than an hour, I am willing to offer a case of beer or the national drink Rakia to anyone who could make it.\u003C/p\u003E\u003Cp\u003EAs far as licensing goes, I know it\u0027s permitted to reverse engineer(as in unpack Squad\u0027s models) and create something for personal use out of them.\u003C/p\u003E\u003Cp\u003EThanks for your time.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-04T13:06:49Z","Content":"\n\u003Cp\u003E1. Open your image in GIMP or PS\u003C/p\u003E\u003Cp\u003E2. Create new empty layer on top. Make it active.\u003C/p\u003E\u003Cp\u003E3. Draw a selection around the coloured part you wish to change.\u003C/p\u003E\u003Cp\u003E4. Drag the colour to the new selection / Bucket fill inside the selection.\u003C/p\u003E\u003Cp\u003E5. Change the layer mode to \u0022Hue\u0022. This will only change the hue though, and that yellow is pastel, so if you use red you\u0027ll get pink.\u003C/p\u003E\u003Cp\u003E6. To change the darkness, duplicate the top layer. \u003C/p\u003E\u003Cp\u003E7. Change the top layer mode to \u0022Darken only\u0022.\u003C/p\u003E\u003Cp\u003E8. Change the opacity to suit your needs. That will change how dark the colour is.\u003C/p\u003E\u003Cp\u003ETo use it you\u0027ll need to create your mod folder, save your texture there, create a new part config, refer to the model in the squad folder, and refer to the local texture you just created.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mu\u0022 data-cite=\u0022Mu\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EMODEL Nodes\u003C/strong\u003E\u003Cp\u003EIn the old system, models were loaded directly from a part config\u0027s directory. This is still the case however can be overridden using MODEL config nodes. \u003C/p\u003E\u003Cp\u003EMODEL nodes can be used to compile parts containing scaled, translated or rotated models. You can define multiple MODEL nodes to compile multiple models into one part. It also allows you to overload textures on the model.\u003C/p\u003E\u003Cp\u003EParts, Props and InternalSpaces can all use MODEL nodes instead of the traditional same-driectory loading system.\u003C/p\u003E\u003Cp\u003EHere is a sample MODEL node showing all valid values\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODEL\u003Cbr\u003E{\u003Cbr\u003E   model = Squad/Parts/Command/cupola/model\u003Cbr\u003E   position = 0.25, 0.5, 1.0\u003Cbr\u003E   scale = 2.0, 2.0, 4.0\u003Cbr\u003E   rotation = 0, 90, 0\u003Cbr\u003E   parent = anotherModelTransform\u003Cbr\u003E   texture = model000 , Squad/Parts/Command/landerCabinSmall/model000\u003Cbr\u003E   texture = oldTextureName , newTextureURL\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-04T13:28:54Z\u0022 title=\u002205/04/2014 01:28  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 4, 2014\u003C/time\u003E by Cpt. Kipard\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2014-05-04T17:34:11Z","Content":"\n\u003Cp\u003EThank you for the directions.\u003C/p\u003E\u003Cp\u003EI managed to export the Advanced SAS texture and I will look into recoloring it later.\u003C/p\u003E\u003Cp\u003EHowever the RCS tank seems to be giving me trouble. Namely - I can\u0027t export it\u0027s whole texture as an image. There is just no way to do it.\u003C/p\u003E\u003Cp\u003EWhen I view the texture file in Blender it shows the whole texture: \u003Ca href=\u0022https://www.dropbox.com/s/f8g72kuy1vv4r6b/Screenshot%202014-05-04%2020.25.37.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/f8g72kuy1vv4r6b/Screenshot%202014-05-04%2020.25.37.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt also shows something else when I switch the options at the bottom: \u003Ca href=\u0022https://www.dropbox.com/s/cr29036nwd7432u/Screenshot%202014-05-04%2020.25.29.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/cr29036nwd7432u/Screenshot%202014-05-04%2020.25.29.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd when I export it, this is what I get: \u003Ca href=\u0022https://www.dropbox.com/s/al4jfdgydsjfa8s/Screenshot%202014-05-04%2020.26.27.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/al4jfdgydsjfa8s/Screenshot%202014-05-04%2020.26.27.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt is as if the texture contains 2 layers, but I don\u0027t know how to make Blender export it with those 2 layers, instead of just exporting one. \u003C/p\u003E\u003Cp\u003EOtherwise, using your guidance I managed to achieve some reasonable greenish color, by just applying Hue on a new layer in GIMP and then merging it with the old layer(I have no idea why, just think less layers = smaller texture size).\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/skikq187mun4zzl/Screenshot%202014-05-04%2020.03.08.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/skikq187mun4zzl/Screenshot%202014-05-04%2020.03.08.png\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-04T18:45:48Z","Content":"\n\u003Cp\u003EYou don\u0027t need (or use!) Blender to retexture things. You need an image editor, not a modeling program.\u003C/p\u003E\u003Cp\u003EUse mbm2png (from spaceport \u003Ca href=\u0022http://kerbalspaceprogram.com/mbm-to-png-file-converter/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/mbm-to-png-file-converter/\u003C/a\u003E ) to convert the mbm to png. Rename it something new. Using the above instructions, make a part that references the old model but points to the new texture. Then edit the new texture in an image editor (GIMP and Paint.Net are both good free tools).\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-04T18:49:49Z","Content":"\n\u003Cp\u003EFile size is largely determined by texture complexity and compression; it has nothing to do with layers. When a file with layers is saved as png the layers are merged.\u003C/p\u003E\u003Cp\u003EWhat tank texture is that. I can\u0027t find it so I can\u0027t experiment.\u003C/p\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2014-05-04T19:10:46Z","Content":"\n\u003Cp\u003EIt\u0027s KSPX\u0027s Large MonoTank \u003Ca href=\u0022https://www.dropbox.com/s/b6ibz6my23bv5z8/large_shortMonoTank.7z\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/b6ibz6my23bv5z8/large_shortMonoTank.7z\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-04T19:18:45Z","Content":"\n\u003Cp\u003EIt loads fine in GIMP.\u003C/p\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2014-05-04T19:43:56Z","Content":"\n\u003Cp\u003EYeah. I managed to export it properly from Blender by disabling something related to Alpha in the export. \u003C/p\u003E\u003Cp\u003ENathan - thank you for this, should make things easier.\u003C/p\u003E\u003Cp\u003EHowever when I export the model000.mbm from this specific part it still gives me only the yellow tube section of the texture.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-04T19:59:46Z\u0022 title=\u002205/04/2014 07:59  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 4, 2014\u003C/time\u003E by smunisto\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-04T19:54:54Z","Content":"\n\u003Cp\u003ECan you rephrase that post? I don\u0027t understand the problem.\u003C/p\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2014-05-04T20:05:18Z","Content":"\n\u003Cp\u003EOops, I am falling asleep. Apologies.\u003C/p\u003E\u003Cp\u003EUm, I mean that I solved my problems regarding the texture export. It has an alpha layer(channel?) which consists only of the yellow part of the texture, as seen \u003Ca href=\u0022https://www.dropbox.com/s/8sx09uoyw4vfmsj/Screenshot%202014-05-04%2023.03.01.png\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. \u003C/p\u003E\u003Cp\u003EI fixed by disabling \u0022Use Alpha\u0022 when exporting it. \u003C/p\u003E\u003Cp\u003EI will now just use the exported texture and try my skills in painting to create tank colors and I will create new parts referencing to the old models and new png textures.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-04T20:10:21Z","Content":"\n\u003Cp\u003EThe transparent parts are probably there to make those parts matte with the specular shader. I suspect that if you remove the alpha channel your part will shine a lot more. If I were you I\u0027d create an alpha mask using the original image and reapply it after you\u0027ve changed the colours.\u003C/p\u003E\n"},{"CreatedByName":"PolecatEZ","CreatedById":58008,"CreatedDateTime":"2014-05-17T03:44:06Z","Content":"\n\u003Cp\u003EAlso, if you want to save space without making a bajillion new textures for just a color, try this:\u003C/p\u003E\u003Cp\u003E1 - Open the texture, also create a blank new texture next to it with whatever software (even ms paint will work, doesn\u0027t matter).\u003C/p\u003E\u003Cp\u003E2 - Cut from the original texture just a small piece of the color you want to change. Paste it into the new texture and blow it up to full size so it covers the board. Try not to disproportion it, if there\u0027s some blank sides, that\u0027s fine but try to cover the whole board.\u003C/p\u003E\u003Cp\u003E3 - Shrink the new texture down to 64x64 or less. If its just a simple color with no shading, shrink it down to 4x4 and save it.\u003C/p\u003E\u003Cp\u003ENow open your Blender (or other mesh editor).\u003C/p\u003E\u003Cp\u003E1 - Import the .mu and use the original texture on it so it looks nice and normal.\u003C/p\u003E\u003Cp\u003E2 - Edit it and select the faces you want to change the color. It should correspond to what you ripped out of the texture when you did the previous step.\u003C/p\u003E\u003Cp\u003E3 - Separate just these faces into their own mesh (\u0022p\u0022 in Blender editing mode), but don\u0027t move it.\u003C/p\u003E\u003Cp\u003E4 - Back in object mode, parent it to the original mesh and give it a simple name, no \u0022_\u0022 or \u0022.\u0022\u003C/p\u003E\u003Cp\u003E5 - Throw the simple color texture onto it (it won\u0027t change - yet).\u003C/p\u003E\u003Cp\u003E6 - Go back into editing mode and change the UV to target the new texture, it should show up on the list. Scale the UV map accordingly.\u003C/p\u003E\u003Cp\u003E7 - Save it.\u003C/p\u003E\u003Cp\u003ENow into Unity\u003C/p\u003E\u003Cp\u003E1 - Nothing special here, just make sure your meshes are still together (will be if you didn\u0027t move it). Make sure each points to the right texture.\u003C/p\u003E\u003Cp\u003E2 - Export!\u003C/p\u003E\u003Cp\u003ENow into the .cfg\u003C/p\u003E\u003Cp\u003E1 - Now make as many copies of the tiny texture file you want. In each, change their colors to what you want and give each one a unique name, like modelBlue, modelPurple.\u003C/p\u003E\u003Cp\u003E2 - Use the FStextureSwitch MODULE in your .cfg and set it to switch between the colors of just the separated mesh.\u003C/p\u003E\u003Cp\u003ENow you can switch between colors for about 1kb per color (and keep a single catalog object) instead of a whole new 1MB\u002B texture OR a 1MB\u002B texture AND a bloaty catalog object.\u003C/p\u003E\u003Cp\u003EThere\u0027s an even less bloatier way to change it using the FSmeshSwitch MODULE, but its slightly more complicated to set up and requires a little unused space on the original texture.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-17T03:50:01Z\u0022 title=\u002205/17/2014 03:50  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 17, 2014\u003C/time\u003E by PolecatEZ\u003C/strong\u003E\n\u003C/span\u003E\n"}]}