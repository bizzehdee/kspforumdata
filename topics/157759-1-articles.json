{"TopicId":157759,"ForumId":39,"TopicTitle":"home made controls Help","CreatedByName":"EccentricTea","CreatedById":167361,"CreatedDateTime":"2017-03-16T00:40:42Z","PageNum":1,"Articles":[{"CreatedByName":"EccentricTea","CreatedById":167361,"CreatedDateTime":"2017-03-16T00:40:42Z","Content":"\n\u003Cp\u003E\nSo I\u0027m working on a project to create a custom home made controller for KSP using an arduino mega but I am very new to using an arduino and with talking to the game so I was wondering if anyone could help me with getting a single switch when flipped to progress to the next stage of a rocket (in my eyes this is on the easier end of controls to figure out but I\u0027m a moron and even from my research I have been getting confused. I think I need to use\u00A0\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);float:none;\u0022\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66393-Hardware-Plugin-Arduino-based-physical-display-serial-port-io-tutorial-%2829-Nov%29\u0022 rel=\u0022\u0022 style=\u0022color:rgb(173,20,87);text-decoration:underline;background-color:rgb(255,255,255);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003Ezitronen\u0027s KSPSerialIO mod\u003C/a\u003E but I\u0027m not sure this is what I need again I\u0027m just looking for help with one switch to change one thing on the game (the switch is a off - momentary on type of switch so a \u0022push button\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nPlease and thank you.\n\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2017-03-16T00:57:47Z","Content":"\n\u003Cp\u003E\nHi EccentricTea and welcome to the forum. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYour thread has been moved to the Fan Works area, where you will find and be found by several other people who have worked on similar projects. Good luck with it.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2017-03-16T08:39:27Z","Content":"\n\u003Cp\u003E\nHi EccentricTea, and welcome to the forum\n\u003C/p\u003E\n\u003Cp\u003E\nA stage button is\u00A0 manageable to do from KSPSerialIO, and a good place to start. I recommend doing it in steps if you are new.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst of all, try to do the \u003Ca href=\u0022https://www.arduino.cc/en/Tutorial/BuiltInExamples\u0022 rel=\u0022external nofollow\u0022\u003Etutorials\u003C/a\u003E on the arduino webpage, section 1 and section 2 until debounce. That will give you the basics of how to connect components and write code for the Arduino. Bookmark the reference section while your at it, you will come to know it intimately over the next period of time if you want to make your own controller.\n\u003C/p\u003E\n\u003Cp\u003E\nSecond, install KSPSerialIO as you would any other mod. The big hitch here is that it only works out of the box on Windows, excluding Windows 10. There is a Mac/Linux port by Stibbons, linked \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/60281-hardware-plugin-arduino-based-physical-display-serial-port-io-tutorial-12-oct/\u0026amp;do=findComment\u0026amp;comment=2975048\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E. Windows 10 is pretty much hit and miss depending on your exact hardware, as the original Arduinos and most copies use a USB chip that does not talk to Unity.\n\u003C/p\u003E\n\u003Cp\u003E\nThirdly, the demo code included has a tab called output. In this file, the function controls() shows how to alter a state from a button:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E    if (digitalRead(SASPIN))  //--------- This is how you do main controls\n      MainControls(\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, HIGH);\n    else\n      MainControls(\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, LOW);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nin the above SASPIN just means 8 and \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E means 7, as zitronen uses defined constants to make things easier to remember. Maincontrols is a function that changes state of the bit you tell it to. You want to change the state of the bit STAGE, so you can pick a digital pin, for example 2 (0 and 1 are reserved) and connect a button. Then change above piece of code to:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E    if (digitalRead(2))  // Read digital pin 2\n      MainControls(STAGE, HIGH);\n    else\n      MainControls(STAGE, LOW);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThen you will stage by pressing a button connected to digital pin 2. Be sure to upload a picture or a small video of it working so we can see it and applaud.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce you are that far, you definitely want to connect a throttle if you have not got one on a joystick. It is the single best improvement in control scheme you can have. Feel free to ask more questions either here or in the KSPSerialIO thread, where people are extremely helpful.\n\u003C/p\u003E\n\u003Cp\u003E\nSlight word of warning though: Controllers can fast become a separate time consuming and quite expensive hobby. I started knowing nothing three years ago, now collecting parts for another major rebuild, an have sunk well over a hundred euro into the project by now because I keep getting new ideas about what could be cool to have. Buy components from China over Ebay to keep the cost down.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-03-17T01:09:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222986995\u0022 data-ipsquote-contentid=\u0022157759\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221489653567\u0022 data-ipsquote-userid=\u0022111048\u0022 data-ipsquote-username=\u0022Freshmeat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Freshmeat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFirst of all, try to do the \u003Ca href=\u0022https://www.arduino.cc/en/Tutorial/BuiltInExamples\u0022 rel=\u0022external nofollow\u0022\u003Etutorials\u003C/a\u003E on the arduino webpage, section 1 and section 2 until debounce. That will give you the basics of how to connect components and write code for the Arduino. Bookmark the reference section while your at it, you will come to know it intimately over the next period of time if you want to make your own controller.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe only addition I could make to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022111048\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0022 rel=\u0022\u0022\u003E@Freshmeat\u003C/a\u003E\u0027s excellent overview is that you\u0027ll also need to be familiar with how the Blink Without Delay example sketch works. You\u0027ll need to be able to do your debouncing and other stuff without using the delay function.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Ooops, looks like blink without delay is already covered before debouncing. I\u0027ll just crawl back in to serial testing cave.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-17T01:10:49Z\u0022 title=\u002203/17/2017 01:10  AM\u0022 data-short=\u00227 yr\u0022\u003EMarch 17, 2017\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"EccentricTea","CreatedById":167361,"CreatedDateTime":"2017-03-19T07:43:26Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022111048\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0022 rel=\u0022\u0022\u003E@Freshmeat\u003C/a\u003E\u00A0and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThank you for the help, you have given me enough information and direction for me to hopefully figure things out now. I\u0027ll definitely keep you guys posted we have the wooden beta version of the control panel pretty much figured out I can get some photos to show you guys once I figure out how to upload photos here if not we have a website (that needs updating) that we try and post statuses up there.\n\u003C/p\u003E\n"}]}