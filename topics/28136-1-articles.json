{"TopicId":28136,"ForumId":36,"TopicTitle":".20 And mods","CreatedByName":"DYJ","CreatedById":8636,"CreatedDateTime":"2013-05-20T00:45:17Z","PageNum":1,"Articles":[{"CreatedByName":"DYJ","CreatedById":8636,"CreatedDateTime":"2013-05-20T00:45:17Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-size:14px\u0022\u003E\u003Cstrong\u003ELegacy\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ELegacy parts go in KSP_OS/Parts\u003C/p\u003E\u003Cp\u003ELegacy plugins go in KSP_OS/Plugins\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px\u0022\u003E\u003Cstrong\u003ENew fancy system\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe new fancy system gives each mod a folder inside GameData with a conventional structure inside, so:\u003C/p\u003E\u003Cp\u003EGameData/YourModFolder/Plugins\u003C/p\u003E\u003Cp\u003E GameData/YourModFolder/Parts\u003C/p\u003E\u003Cp\u003E GameData/YourModFolder/Otherstuff\u003C/p\u003E\u003Cp\u003E And so on\u003C/p\u003E\u003Cp\u003EPlugindata gets generated in the folder the plugin is in.\u003C/p\u003E\u003Cp\u003ELike this:\u003C/p\u003E\u003Cp\u003EdllFolder/PluginData/dllName/\u003C/p\u003E\u003Cp\u003EFor the parser to find parts in the new system the .cfg needs a PART wrapper, like so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003Enormal .cfg stuff\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px\u0022\u003E\u003Cstrong\u003EFlag Images\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EFlags should be a small graphic in .png format. It is recommended to use 256x160 as the image size, although it appears that larger images do load correctly. \u003C/p\u003E\u003Cp\u003EUsers should make a subfolder in the Gamedata folder with your choice of name and put the flag image files inside that. \u003C/p\u003E\u003Cp\u003EExample:\u003C/p\u003E\u003Cp\u003EGamedata/Flags/image.png\u003C/p\u003E\u003Cp\u003EIt is probable that flags bundled with mods will load correctly because of this structure. \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px\u0022\u003ErescaleFactor and attachnodes\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIt appears rescaleFactor no longer scales the position of attachnodes,it seems that setting the scale to 1 scales the nodes 1* rescaleFactor ie correctly.\u003C/p\u003E\u003Cp\u003ErescaleFactor = x\u003C/p\u003E\u003Cp\u003Escale = 1\u003C/p\u003E\u003Cp\u003EThe devs are aware of this so it might be fixed soon.\u003C/p\u003E\u003Cp\u003EOther moderators: Feel free to edit this post as new info emerges.\u003C/p\u003E\u003Cp\u003EEveryone else: Post new/useful information in the thread and it\u0027ll eventually get added to the OP\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-23T09:06:04Z\u0022 title=\u002205/23/2013 09:06  AM\u0022 data-short=\u002211 yr\u0022\u003EMay 23, 2013\u003C/time\u003E by DYJ\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kine","CreatedById":66326,"CreatedDateTime":"2013-05-22T20:53:14Z","Content":"\n\u003Cp\u003EWoot! No more Unit Tests \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lyndonguitar","CreatedById":61194,"CreatedDateTime":"2013-05-22T21:04:31Z","Content":"\n\u003Cp\u003ECan I manually put pre-.20 mods to the new mod folder for organization? or that new file structure has a different system and mods must be updated first?\u003C/p\u003E\n"},{"CreatedByName":"DYJ","CreatedById":8636,"CreatedDateTime":"2013-05-22T21:53:05Z","Content":"\n\u003Cp\u003EYou should just need to add the PART{} wrapper and that should be it.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-22T21:58:10Z","Content":"\n\u003Cp\u003EFresh from #kspmodders:\u003C/p\u003E\u003Cp\u003E[22:48:21] \u0026lt;Taverius\u0026gt; Mu, how does overriding the .cfg of stock parts work in .20?\u003C/p\u003E\u003Cp\u003E[22:48:43] \u0026lt;\u002BMu\u0026gt; blog post on it coming in next day or so\u003C/p\u003E\u003Cp\u003E[22:48:56] \u0026lt;\u002BMu\u0026gt; but basically you need to use the @ symbol\u003C/p\u003E\u003Cp\u003E[22:49:11] \u0026lt;\u002BMu\u0026gt; @someValue = newValue\u003C/p\u003E\u003Cp\u003E[22:49:24] \u0026lt;\u002BMu\u0026gt; @someNode { // newnodedef }\u003C/p\u003E\u003Cp\u003E[22:49:48] \u0026lt;\u002BMu\u0026gt; the node thing is a lil odd tho\u003C/p\u003E\u003Cp\u003E[22:50:00] \u0026lt;\u002BMu\u0026gt; you need to tag the nodes with ids\u003C/p\u003E\u003Cp\u003E[22:50:14] \u0026lt;\u002BMu\u0026gt; MODULE (Engine00) { // enginemodule }\u003C/p\u003E\u003Cp\u003E[22:50:16] \u0026lt;\u002BMu\u0026gt; then\u003C/p\u003E\u003Cp\u003E[22:50:27] \u0026lt;\u002BMu\u0026gt; @Engine00 { }\u003C/p\u003E\u003Cp\u003E[22:50:38] \u0026lt;Taverius\u0026gt; so if the stock .cfg\u003C/p\u003E\u003Cp\u003E[22:50:45] \u0026lt;Taverius\u0026gt; (like all the squad ones ive seen)\u003C/p\u003E\u003Cp\u003E[22:50:48] \u0026lt;Taverius\u0026gt; doesnt number the node\u003C/p\u003E\u003Cp\u003E[22:50:53] \u0026lt;Taverius\u0026gt; then I can\u0027t override?\u003C/p\u003E\u003Cp\u003E[22:51:16] \u0026lt;careo\u0026gt; hehe. then you need to patch the stock config file first so you can avoid having to patch it for an override? \u003C/p\u003E\u003Cp\u003E[22:51:17] \u0026lt;\u002BMu\u0026gt; currently no, they\u0027re in need of redoing :$\u003C/p\u003E\n"},{"CreatedByName":"Gaiabladegold","CreatedById":43730,"CreatedDateTime":"2013-05-22T22:00:39Z","Content":"\n\u003Cp\u003EI actually just dropped the old mod parts into the mod folder like in the older version, didn\u0027t even have to change the .cfg file at all, and it worked like a charm, most parts worked fine... The only exceptions were a few made with the part generator, their connector nodes went wonky, but otherwise great, even mechjeb worked by dropping it in the old way... Haystack and Crew manifest didn\u0027t work, though, not sure what happened there... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-22T22:06:47Z","Content":"\n\u003Cp\u003E[23:02:19] \u0026lt;\u002BMu\u0026gt; also..... big change.....\u003C/p\u003E\u003Cp\u003E[23:02:41] \u0026lt;\u002BMu\u0026gt; if you\u0027re putting part configs in gamedata then they have to be surrounded with PART {} nodes\u003C/p\u003E\u003Cp\u003E[23:02:49] \u0026lt;\u002BMu\u0026gt; cuz gamedata doesnt know whats in there\u003C/p\u003E\u003Cp\u003E[23:02:54] \u0026lt;\u002BMu\u0026gt; but... you dont have to call them part.cfg\u003C/p\u003E\u003Cp\u003E[23:03:05] \u0026lt;\u002BMu\u0026gt; and you can put many configs in the same config file\u003C/p\u003E\u003Cp\u003E[23:03:11] \u0026lt;\u002BMu\u0026gt; parts, resources, internals, etc\u003C/p\u003E\n"},{"CreatedByName":"shadowsutekh","CreatedById":55189,"CreatedDateTime":"2013-05-22T22:39:23Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/30613-New-part-loading-system\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/30613-New-part-loading-system\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E^ That should be helpful I hope.\u003C/p\u003E\n"},{"CreatedByName":"andisheht3","CreatedById":55961,"CreatedDateTime":"2013-05-22T22:52:02Z","Content":"\n\u003Cp\u003EIs the Plugindata folder missing? \u003C/p\u003E\u003Cp\u003EHere\u0027s a screenshot of my directory: \u003Ca href=\u0022http://i.imgur.com/wNjYFdX.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/wNjYFdX.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s not plugindata folder.\u003C/p\u003E\n"},{"CreatedByName":"DYJ","CreatedById":8636,"CreatedDateTime":"2013-05-22T22:53:38Z","Content":"\n\u003Cp\u003EPlugindata gets generated in the folder the plugin is in, you shouldn\u0027t have one from the start.\u003C/p\u003E\u003Cp\u003ELike this:\u003C/p\u003E\u003Cp\u003EdllFolder/Plugindata/dllName/\u003C/p\u003E\n"},{"CreatedByName":"andisheht3","CreatedById":55961,"CreatedDateTime":"2013-05-22T22:58:37Z","Content":"\n\u003Cp\u003EAh ok, so what if I\u0027m installing a legacy plugin, like mechjeb 2?\u003C/p\u003E\n"},{"CreatedByName":"ahappydude","CreatedById":458,"CreatedDateTime":"2013-05-22T23:00:18Z","Content":"\n\u003Cp\u003ECheers for all info dyj, was a bit confused at first haha ^^\u003C/p\u003E\n"},{"CreatedByName":"Snjo","CreatedById":57198,"CreatedDateTime":"2013-05-22T23:00:55Z","Content":"\n\u003Cp\u003ECustom engine sounds don\u0027t play in the new system. What is the proper syntax now?\u003C/p\u003E\u003Cp\u003EIt used to work with the lines:\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E// --- Sound FX definition ---\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Esound_fspropstart.wav = engage\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Esound_fspropidle.wav = power\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Esound_explosion_low = flameout\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EWhere the two first ones are now in the GameData\\Firespitter\\Sounds folder, and the last one is a stock sound.\u003C/p\u003E\u003Cp\u003E(The last one still works, obviously)\u003C/p\u003E\n"},{"CreatedByName":"Gaius","CreatedById":66495,"CreatedDateTime":"2013-05-22T23:06:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DYJ\u0022 data-cite=\u0022DYJ\u0022\u003E\u003Cdiv\u003EPlugindata gets generated in the folder the plugin is in, you shouldn\u0027t have one from the start.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESome mods come with a PluginData folder that needs to go \u003Cem\u003Esomewhere\u003C/em\u003E from the start...\u003C/p\u003E\u003Cp\u003EWhile I\u0027m here, may I direct attention \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/30635-Node-coordinates-change-in-0-20\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E? I may have picked the wrong forum to ask that question, might have been better asked here.\u003C/p\u003E\n"},{"CreatedByName":"Fyrem","CreatedById":57131,"CreatedDateTime":"2013-05-22T23:54:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022andisheht3\u0022 data-cite=\u0022andisheht3\u0022\u003E\u003Cdiv\u003EAh ok, so what if I\u0027m installing a legacy plugin, like mechjeb 2?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E2.0.8 MJ is out, and is fully compatible with KSP 0.20\u003C/p\u003E\n"},{"CreatedByName":"Gaius","CreatedById":66495,"CreatedDateTime":"2013-05-22T23:55:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DYJ\u0022 data-cite=\u0022DYJ\u0022\u003E\u003Cdiv\u003EIt appears rescaleFactor no longer scales the position of attachnodes, fixing this is as easy as adding a scale value matching the rescaleFactor like so:\u003Cp\u003ErescaleFactor = x\u003C/p\u003E\u003Cp\u003Escale = x\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMatching the rescaleFactor value actually doesn\u0027t work. For my parts I needed to set:\u003C/p\u003E\u003Cp\u003Escale = 1.0\u003C/p\u003E\u003Cp\u003ErescaleFactor = 1.25\u003C/p\u003E\u003Cp\u003E... in order to restore 0.19 behavior. Setting scale to 1.25 is what I tried first, but that actually moved the nodes well outside and away from the model.\u003C/p\u003E\n"},{"CreatedByName":"DYJ","CreatedById":8636,"CreatedDateTime":"2013-05-23T00:02:44Z","Content":"\n\u003Cp\u003EYeah you are right, I updated the post.\u003C/p\u003E\n"},{"CreatedByName":"giltirn","CreatedById":66962,"CreatedDateTime":"2013-05-23T00:15:09Z","Content":"\n\u003Cp\u003EGaius asked above, but its worth asking again: how do we deal with mods that come with their own PluginData folder containing misc config files?\u003C/p\u003E\n"},{"CreatedByName":"JDP","CreatedById":30775,"CreatedDateTime":"2013-05-23T02:32:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022giltirn\u0022 data-cite=\u0022giltirn\u0022\u003E\u003Cdiv\u003EGaius asked above, but its worth asking again: how do we deal with mods that come with their own PluginData folder containing misc config files?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethe PluginData folder should be located within the same Plugins folder as the .dll. So it will be GameData/ModName/Plugins/PluginData.\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-05-23T03:03:01Z","Content":"\n\u003Cp\u003EThe new folder structure makes it fairly easy to group SQUADS parts together, but othermods load parts based on their own name... would it cause any problems if I just put parts under squad\u0027s folder so I can have my neat groupings?\u003C/p\u003E\n"},{"CreatedByName":"Greys","CreatedById":57109,"CreatedDateTime":"2013-05-23T04:57:44Z","Content":"\n\u003Cp\u003EIt\u0027s important to note that folder names are case sensitive; /GameData/YourMod/Flags works, Gamedata/YourMod/flags does not\u003C/p\u003E\n"},{"CreatedByName":"Frostiken","CreatedById":1837,"CreatedDateTime":"2013-05-23T06:30:12Z","Content":"\n\u003Cp\u003EI was told you could share one mesh / texture across multiple parts. I don\u0027t know if this was a feature that made it for 0.2 or was a future goal. Any info? My first order of business was rescaling the RGUs up by 1.45 and down by 0.45 so I had a circular probe-sized one and a mammoth one. I\u0027d like to just use the same loaded mesh / texture as the normal RGUs since they\u0027re 8MB apiece.\u003C/p\u003E\n"},{"CreatedByName":"Aeshi","CreatedById":33076,"CreatedDateTime":"2013-05-23T06:45:28Z","Content":"\n\u003Cp\u003EWhy the heck was all this re-formating necessary in the first place? as far as I can tell it\u0027s only reason to exist is to aggravate anyone who used mods. I\u0027ve spent about an hour now trying to get all the mods I normally use to work, with no success whatsoever.\u003C/p\u003E\u003Cp\u003EHeck, if what you say is correct, and all Plugin-related files go in the \u0022GameData\u0022 folder then, \u003Cstrong\u003E\u003Cem\u003Ewhy is there a Plugin folder in the KSP folder?\u003C/em\u003E\u003C/strong\u003E that\u0027s just deliberately misleading.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-23T07:37:44Z\u0022 title=\u002205/23/2013 07:37  AM\u0022 data-short=\u002211 yr\u0022\u003EMay 23, 2013\u003C/time\u003E by Aeshi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"itchyDoggy","CreatedById":45594,"CreatedDateTime":"2013-05-23T07:05:53Z","Content":"\n\u003Cp\u003EWhat about Kethane, where do you put the PluginData? in plugins/PluginData/MMI_Kethane/ ?\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-05-23T09:03:26Z","Content":"\n\u003Cp\u003EThe new way to make Part-less plugins is to use the KSPAddon attribute, like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing System.Threading.Tasks;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003E[KSPAddon(KSPAddon.Startup.EditorAny, false)]\u003Cbr\u003Epublic class Class1 : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E    private float lastUpdate = 0;\u003Cbr\u003E\u003Cbr\u003E    void Awake()\u003Cbr\u003E    {\u003Cbr\u003E        Debug.Log(\u0022TAC [\u0022 \u002B this.GetInstanceID().ToString(\u0022X\u0022) \u002B \u0022][\u0022 \u002B Time.time \u002B \u0022] Awake\u0022);\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    void Update()\u003Cbr\u003E    {\u003Cbr\u003E        float delta = Time.time - lastUpdate;\u003Cbr\u003E        if (delta \u0026gt; 15)\u003Cbr\u003E        {\u003Cbr\u003E            Debug.Log(\u0022TAC [\u0022 \u002B this.GetInstanceID().ToString(\u0022X\u0022) \u002B \u0022][\u0022 \u002B Time.time \u002B \u0022] Update\u0022);\u003Cbr\u003E            lastUpdate = Time.time;\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis class will be loaded every time the scene is changed to the Editor, and Awake will be called. And it will be unloaded when the scene is changed to something else, but until then Update() will be called.\u003C/p\u003E\n"}]}