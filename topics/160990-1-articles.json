{"TopicId":160990,"ForumId":29,"TopicTitle":"Racing Drone Plugin w/ potential ML integration","CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2017-05-24T14:41:42Z","PageNum":1,"Articles":[{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2017-05-24T14:41:42Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to turn this kos racing script into a native c# plugin which I may be able to tune with machine learning/ reinforced learning.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/ODFzVjPOzJQ?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nGot the autopilot up and working, now its just about tuning the pids. I slow down time around the first gate, the fps isn\u0027t dropping.\u00A0I\u0027m begining to look into machine learning to see if i could set up ksp to loop the first gate, while having some kind of library set the pids.\n\u003C/p\u003E\n\u003Cp\u003E\nThe main difference between this and the kos script is that the autopilot is set to close the x \u0026amp; y proximity gap to its target, not point at the target. With the plane rolled the yaw is responsible for for closing the x(formally y) distance, but using yaw for pitch is proving to be difficult.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m thinking about having the pid unroll the plane to control altitude in the turns.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/eawcsv3eOZM?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-09-27T20:47:49Z\u0022 title=\u002209/27/2017 08:47  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 27, 2017\u003C/time\u003E by clown_baby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Aelfhe1m","CreatedById":142910,"CreatedDateTime":"2017-05-24T16:59:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223066207\u0022 data-ipsquote-contentid=\u0022160990\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221495636902\u0022 data-ipsquote-userid=\u002292196\u0022 data-ipsquote-username=\u0022clown_baby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, clown_baby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSystem.Runtime, Version=4.0.20.0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAFAIK KSP pugins need to be compiled as .NET 3.5 libraries.\n\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2017-05-24T17:58:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223066313\u0022 data-ipsquote-contentid=\u0022160990\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221495645199\u0022 data-ipsquote-userid=\u0022142910\u0022 data-ipsquote-username=\u0022Aelfhe1m\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n58 minutes ago, Aelfhe1m said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAFAIK KSP pugins need to be compiled as .NET 3.5 libraries.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks a lot, I could have sworn i selected 3.5 when i made the project. Let me try again\n\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2017-05-24T22:19:36Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223066603\u0022 data-ipsquote-contentid=\u0022160990\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221495664376\u0022 data-ipsquote-userid=\u002292196\u0022 data-ipsquote-username=\u0022clown_baby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, clown_baby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo I made a new project and I\u0027m 100% sure I selected the 3.5 library, but still the same error. Thats super frustrating, I\u0027m gonna have to see if I can find were to change it in project.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cdiv style=\u0022color:#272a34;\u0022\u003E\n\u003Cp\u003E\nSo I made a new project and I\u0027m 100% sure I selected the 3.5 library, but still the same error. Thats super frustrating, I\u0027m gonna have to see if I can find were to change it in project.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-24T22:21:00Z\u0022 title=\u002205/24/2017 10:21  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 24, 2017\u003C/time\u003E by clown_baby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2017-05-25T00:21:09Z","Content":"\n\u003Cp\u003E\nIf you\u0027re using MS Visual Studio 2015 Alt\u002BF7 will get you there. Or under Project | Properties | Application | Target Framework:\n\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2017-05-25T00:31:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223066727\u0022 data-ipsquote-contentid=\u0022160990\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221495671669\u0022 data-ipsquote-userid=\u0022120438\u0022 data-ipsquote-username=\u0022wasml\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, wasml said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you\u0027re using MS Visual Studio 2015 Alt\u002BF7 will get you there. Or under Project | Properties | Application | Target Framework:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks I found that too, for some reason 2017 doesn\u0027t have it.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ovf12wI.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/ovf12wI.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-05-25T07:48:16Z","Content":"\n\u003Cp\u003E\n2017 has it. I guess you chose the wrong project type.\n\u003C/p\u003E\n\u003Cp\u003E\nRecreate your project and this\u00A0time you need to use \u0022Class Library (.NET Framework)\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2017-09-27T20:47:10Z","Content":"\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/eawcsv3eOZM?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nGot the autopilot working, not its just tuning the pids. I\u0027m begining to look into machine learning to see if i could set up ksp to loop the first gate, while having some kind of library set the pids.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe main difference between this and the kos script is that the autopilot is set to close the x \u0026amp; y proximity gap to its target, not point at the target. With the plane rolled the yaw is responsible for for closing the x(formally y) distance, but using yaw for pitch is proving to be difficult.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m thinking about having the pid unroll the plane to control altitude in the turns.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-09-27T20:48:13Z\u0022 title=\u002209/27/2017 08:48  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 27, 2017\u003C/time\u003E by clown_baby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-09-29T21:49:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223181516\u0022 data-ipsquote-contentid=\u0022160990\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506545230\u0022 data-ipsquote-userid=\u002292196\u0022 data-ipsquote-username=\u0022clown_baby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/27/2017 at 9:47 PM, clown_baby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nbut using yaw for pitch is proving to be difficult.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi, it may be of interest that the BD pilot AI (written by Ferram)\u00A0 does not use yaw at all, all direction control and changes are by combination of pitch and roll\n\u003C/p\u003E\n\u003Cp\u003E\nVery interested in seeing where this goes as I\u0027ve a number of (mod custom built) drones now of various sizes,\u00A0 and some other purpose apart from the occasional dogfight or recording GPS co ords\u00A0 would be very welcome.\n\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2017-10-02T16:06:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223183048\u0022 data-ipsquote-contentid=\u0022160990\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506721780\u0022 data-ipsquote-userid=\u002250907\u0022 data-ipsquote-username=\u0022SpannerMonkey(smce)\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/29/2017 at 4:49 PM, SpannerMonkey(smce) said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, it may be of interest that the BD pilot AI (written by Ferram)\u00A0 does not use yaw at all, all direction control and changes are by combination of pitch and roll\n\u003C/p\u003E\n\u003Cp\u003E\nVery interested in seeing where this goes as I\u0027ve a number of (mod custom built) drones now of various sizes,\u00A0 and some other purpose apart from the occasional dogfight or recording GPS co ords\u00A0 would be very welcome.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHey thanks for the info. If I open up the roll to adjust pitch the radius of the turn will vary greatly. I actually have it tuned pretty good right now, and because the yaw only makes small adjustments it seems to work ok. The problem is I have two pids controlling the yaw. One to control the actual input, and one to set the target vector to close the gap. Getting two pids to work together is always difficult, but it seems to be working ok. I used a pid library I found online so I\u0027m not sure if I\u0027m using a good one or not.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso I miss BDArmory, I used to do tons of dogfights with my jet and my gundam. Don\u0027t have much time for ksp anymore and when i do its just this project. I had some older drone kos scripts I would also like to make plugins.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNo video but I had an awesome wingman kos script back in the day.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00220D9abkV.png\u0022 class=\u0022ipsImage\u0022 height=\u0022584\u0022 src=\u0022https://i.imgur.com/0D9abkV.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/rtee9CelAnk?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIR Tracking Cannon, skip to like 3 minutes in.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/oOjbnZRjFDw?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/CeicvT0w7uo?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-02T16:32:31Z\u0022 title=\u002210/02/2017 04:32  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 2, 2017\u003C/time\u003E by clown_baby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ArmandoA","CreatedById":184013,"CreatedDateTime":"2018-01-01T10:36:30Z","Content":"\n\u003Cp\u003E\nHello , Im very interested in this autopilot work, do you think you can explain a little bit how the implementation works? Or maybe where can I read about programming one myself?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n"},{"CreatedByName":"VR_Dev","CreatedById":92196,"CreatedDateTime":"2018-01-15T00:40:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223257347\u0022 data-ipsquote-contentid=\u0022160990\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514802990\u0022 data-ipsquote-userid=\u0022184013\u0022 data-ipsquote-username=\u0022ArmandoA\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/1/2018 at 4:36 AM, ArmandoA said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello , Im very interested in this autopilot work, do you think you can explain a little bit how the implementation works? Or maybe where can I read about programming one myself?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s all about pid loops. That\u0027s how the stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E works, and you can use them to control just about anything. I have them for pitch/yaw/roll, then the rest is just logic to get it to do what you want. Feel free to ask any questions I\u0027ll help explain where I can.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/4Y7zG48uHRo?start=190\u0026amp;feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ArmandoA","CreatedById":184013,"CreatedDateTime":"2018-03-07T01:12:58Z","Content":"\n\u003Cp\u003E\nHello again , thank you for your reply , that video was fascinating to watch\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nnow my doubt is about flight control.. my understanding is that you also need a PID here but for each axis ? also my doubt comes with having a PID associated with with aileron control because the rate of turn is not instantaneous in a plane , I mean you first command an aileron deflection and after a while a turn will be initiated\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ndo you have any thoughts about how aircraft deal with this situation?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthank you again\n\u003C/p\u003E\n"}]}