{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":41,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-08-28T05:28:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223661594\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566963053\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nInjust installed kOS into a new game., using \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E. \u00A0A dialog popped up about terminal fonts.\n\u003C/p\u003E\n\u003Cp\u003E\nIt doesnt go away. \u00A0I have it plastered on the screen. \u00A0It just sits there, clicks go through, etc. \u00A0and when on a new screen, it is still there. \u00A0Clicking the button doesnt do anything\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure what is going on, but its makes the game unplayable\n\u003C/p\u003E\n\u003Cp\u003E\nUpdate: After selecting a font in the flight scene, it went away. IMHO this is terrible. \u00A0Im planning on starting an intense, difficult career, and I shouldnt have to go to the flight scene (which, because of KCT, will take a while) to dismiss\u00A0the dialog\n\u003C/p\u003E\n\u003Cp\u003E\nLog file here:\u00A0\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/lqi789862kqlk0c/kOSissue.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/lqi789862kqlk0c/kOSissue.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re right, you shouldn\u0027t have to.\n\u003C/p\u003E\n\u003Cp\u003E\nBecause it\u0027s not supposed to happen like that.\u00A0 It is supposed to be dismiss-able as soon as it appears.\u00A0 I went through the long output log and couldn\u0027t find kOS throwing any exceptions, although it was hard to tell for sure because kOS is mentioned a zillion times because of module manager, and there\u0027s hundreds of other exceptions from TweakScale, so I may have missed it - but I couldn\u0027t find kOS making any complaints.\u00A0 (The message is supposed to go away after you dismiss it, and the record of the fact that you\u0027ve dismissed it once is saved in kOS\u0027s config file so I was looking for evidence that maybe it didn\u0027t write the config file out, but I saw no such complaints.)\n\u003C/p\u003E\n\u003Cp\u003E\nWere there any other dialog windows open at the time you were trying to click on the kos font warning window?\u00A0 I have seen cases where other mods interfere with the mouseclick events in such a way that kOS can\u0027t see them, when multiple mods pop up initial messages like that.\u00A0 I haven\u0027t seen this happen when kOS is the only mod.\u00A0 I have no idea which other mod it may be clashing with.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT:\u00A0 In retrospect, that window isn\u0027t really needed anymore.\u00A0 It refers to a change kOS went through a few years ago, and was there to inform players about that change who may have last played under an older version, and at this point it shouldn\u0027t matter anymore because that was years ago.\u00A0 It can probably just be totally stripped out.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-08-28T05:31:55Z\u0022 title=\u002208/28/2019 05:31  AM\u0022 data-short=\u00224 yr\u0022\u003EAugust 28, 2019\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-08-28T06:25:01Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E - \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/2606\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/issues/2606\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYou are right that this is annoying, but it doesn\u0027t seem to happen consistently.\u00A0 I can\u0027t get it to recur when I try.\u00A0 But at any rate the dialog box shouldn\u0027t even exist anymore anyway, which is the solution I\u0027m going to go with.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-08-28T15:57:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223661633\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566970103\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWere there any other dialog windows open at the time you were trying to click on the kos font warning window?\u00A0 I have seen cases where other mods interfere with the mouseclick events in such a way that kOS can\u0027t see them, when multiple mods pop up initial messages like that.\u00A0 I haven\u0027t seen this happen when kOS is the only mod.\u00A0 I have no idea which other mod it may be clashing with.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere were a number of other dialogs at the same time,so that was probably the issue.\u00A0 Anyway, removing it should solve the issue permanently.\n\u003C/p\u003E\n"},{"CreatedByName":"Omnipius","CreatedById":173022,"CreatedDateTime":"2019-09-02T05:07:45Z","Content":"\n\u003Cp\u003E\nI\u0027m getting strange behavior from kOS on a simple sounding rocket script for use in \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/RP-1:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nLOCK THROTTLE TO 1.0.\nSTAGE.\nWAIT 1.0.\nSTAGE.\nWAIT 0.7.\nSTAGE.\u003C/pre\u003E\n\u003Cp\u003E\nWhat\u0027s weird is that the throttle appears to unlock and drop back to zero every time the rocket stages. So, the rocket stops flying after the first stage.\u00A0If I comment out the lock and set the throttle manually, everything works out just fine.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny thoughts on what could be causing this and how to fix it? Could it be a bug?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-02T05:08:38Z\u0022 title=\u002209/02/2019 05:08  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 2, 2019\u003C/time\u003E by Omnipius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-09-02T17:03:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223665327\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567400865\u0022 data-ipsquote-userid=\u0022173022\u0022 data-ipsquote-username=\u0022Omnipius\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Omnipius said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m getting strange behavior from kOS on a simple sounding rocket script for use in \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/RP-1:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nLOCK THROTTLE TO 1.0.\nSTAGE.\nWAIT 1.0.\nSTAGE.\nWAIT 0.7.\nSTAGE.\u003C/pre\u003E\n\u003Cp\u003E\nWhat\u0027s weird is that the throttle appears to unlock and drop back to zero every time the rocket stages. So, the rocket stops flying after the first stage.\u00A0If I comment out the lock and set the throttle manually, everything works out just fine.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny thoughts on what could be causing this and how to fix it? Could it be a bug?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf it\u0027s a sounding rocket (as in not good enough avionics to steer) then what\u0027s happening is that RP-1 locks out the gradient throttle, allowing only max/min throttle.\u00A0 But the gradient throttle is how kOS moves the control lever when you LOCK THROTTLE.\u00A0 kOS doesn\u0027t have a special exception to act differently when\u00A0 the value is 1.0 or 0.0.\u00A0 It still uses the gradient throttle lever for those.\u00A0 Until RP-1 added this strange behavior, it was never a problem.\n\u003C/p\u003E\n\u003Cp\u003E\nTo work around it - you can use these:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n// Use these instead when RP-1\u0027s avionics denies control over\n// varying throttle and all it allows is max/min throttle:\n\nset ship:control:pilotmainthrottle to 1. // instead of lock throttle to 1.\nset ship:control:pilotmainthrottle to 0. // instead of lock throttle to 0.\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-02T17:04:30Z\u0022 title=\u002209/02/2019 05:04  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 2, 2019\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"MacLuky","CreatedById":138597,"CreatedDateTime":"2019-09-10T09:53:42Z","Content":"\n\u003Cp\u003E\nPretty amazing mod.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to find out which of my parts is draining so much electricity, but there is not much to go on. I can find what makes electricity, has electricity, but draining is harder. In the KSP API docks I can find that e.g. a light has a usesResources method and variables that indicate how much is \u00A0consumed. iResourceConsumers have a getConsumedResources method, but \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114736\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0022 rel=\u0022\u0022\u003E@JPLRepo\u003C/a\u003E\u00A0was not using it in AmpYear so there is probably a good reason for that.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, any ideas on how I could tackle this using KOS?\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-09-10T16:45:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223669733\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568109222\u0022 data-ipsquote-userid=\u0022138597\u0022 data-ipsquote-username=\u0022MacLuky\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, MacLuky said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPretty amazing mod.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to find out which of my parts is draining so much electricity, but there is not much to go on. I can find what makes electricity, has electricity, but draining is harder. In the KSP API docks I can find that e.g. a light has a usesResources method and variables that indicate how much is \u00A0consumed. iResourceConsumers have a getConsumedResources method, but \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114736\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0022 rel=\u0022\u0022\u003E@JPLRepo\u003C/a\u003E\u00A0was not using it in AmpYear so there is probably a good reason for that.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, any ideas on how I could tackle this using KOS?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSadly, every mod has its own way to drain power.\u00A0 There\u0027s not a universal system for mods to tag their resource usage with ownership.\u00A0 There\u0027s no \u0022I\u0027m the one that consumed this resource\u0022.\u00A0 Each mod, during its Update, tells the KSP system, \u0022I am in this part, and I am consuming X amount of resource foo.\u00A0 Please follow the connection and crossfeed rules to remove that much resource from wherever the rules find it starting the search here.\u0022\u00A0 But no record is kept of WHICH mod asked to do that, once it\u0027s been done.\u00A0 So kOS can\u0027t universally ask \u0022who consumed electriccharge just now, and how much?\u0022 Some mods make an effort to show the user a number about it, but those mods are doing that with their own unique homemade systems.\u00A0 There\u0027s not a universal one for kOS to hook into.\u00A0 At least, I don\u0027t think there is.\u00A0 I\u0027d love to be wrong about that.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-10T21:28:02Z\u0022 title=\u002209/10/2019 09:28  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 10, 2019\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2019-09-25T20:42:36Z","Content":"\n\u003Cp\u003E\nHi foilks.\u00A0 Is there some oddity with the way stage:liquidfuel is calculated when it comes to Nukes or Liquid Fuel only tanks?\n\u003C/p\u003E\n\u003Cp\u003E\nMy staging function fires when\u00A0\u00A0stage:liquidfuel=0 and stage:solidfuel=0 and ship:liquidfuel\u0026gt;0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUp to now this has worked fine for solid and liquid fuelled stages as well as drop tanks.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever I\u0027ve just launched my first ship with Nukes and it\u0027s not working as I expected.\u00A0 The first staging works fine (Liquid/Ox boosters), but the second staging (from Liquid/Ox main engine to Liquid fuel only Nuclear powered upper stage) goes a bit wrong.\u00A0 Even if I put in a 10 second delay after the staging event, it seems to think there\u0027s no liquid fuel present, despite the fact that the nukes are firing so there\u0027s clearly fuel present, so it stages again and then decides there is liquid fuel, despite having just jettisoned the payload and it\u0027s fuel tanks so it\u0027s not gained any fuel anywhere.\n\u003C/p\u003E\n\u003Cp\u003E\nThe below code shows 0 stage fuel for the full 10 seconds, but shows the ship fuel decreasing as the Nukes burn it.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\twhen stage:liquidfuel=0 and stage:solidfuel=0 and ship:liquidfuel\u0026gt;0 then {\n\t\tprint \u0022 pre-StageL: \u0022 \u002B stage:liquidfuel \u002B \u0022  StageS: \u0022 \u002B stage:solidFuel \u002B \u0022  ShipL: \u0022 \u002B ship:liquidfuel.\n\t\tStage.\n\t\tset t to time:seconds.\n\t\tuntil time:seconds\u0026gt;t\u002B10 or stage:liquidfuel\u0026gt;0{\n\t\t\tprint \u0022  time: \u0022 \u002B (time:seconds-t) at (0,20).\n\t\t\tprint \u0022StageL: \u0022\u002B stage:liquidfuel at (0,21).\n\t\t\tprint \u0022 ShipL: \u0022 \u002B ship:liquidfuel at (0,22).\n\t\t}\n\t\tpreserve.\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MacLuky","CreatedById":138597,"CreatedDateTime":"2019-09-26T19:43:28Z","Content":"\n\u003Cp\u003E\nI have a question, while running this script:\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Efunction rcsDV {\n\tlocal amount is ship:monopropellant.\n\tlocal fuelMass is amount * 0.004. // monopropellant density\n\tlocal shipMassWet is ship:mass.\n\tlocal shipMassDry is shipMassWet - fuelMass.\n\tlocal isp is 260.\n\tlocal dv is isp * 9.80665 * ln(shipMassWet / shipMassWet).\n\tlocal x is (shipMassWet / shipMassWet).\n\tprint x.\n\treturn dv.\n}\n\nprint \u0022Estimated dv from monopropellant is \u0022 \u002B rcsDV() \u002B \u0022 m/s\u0022.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nx gets rounded to 1. Where it should be something like 34.4453243/33.011122123 so how do I force a scalar ?\n\u003C/p\u003E\n"},{"CreatedByName":"meyerweb","CreatedById":135212,"CreatedDateTime":"2019-09-26T19:55:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223677815\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569527008\u0022 data-ipsquote-userid=\u0022138597\u0022 data-ipsquote-username=\u0022MacLuky\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, MacLuky said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have a question, while running this script:\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Efunction rcsDV {\n\tlocal amount is ship:monopropellant.\n\tlocal fuelMass is amount * 0.004. // monopropellant density\n\tlocal shipMassWet is ship:mass.\n\tlocal shipMassDry is shipMassWet - fuelMass.\n\tlocal isp is 260.\n\tlocal dv is isp * 9.80665 * ln(shipMassWet / shipMassWet).\n\tlocal x is (shipMassWet / shipMassWet).\n\tprint x.\n\treturn dv.\n}\n\nprint \u0022Estimated dv from monopropellant is \u0022 \u002B rcsDV() \u002B \u0022 m/s\u0022.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nx gets rounded to 1. Where it should be something like 34.4453243/33.011122123 so how do I force a scalar ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt looks like you\u2019re dividing the ship\u2019s wet mass by the ship\u2019s wet mass, so a result of 1 is to be expected.\n\u003C/p\u003E\n"},{"CreatedByName":"MacLuky","CreatedById":138597,"CreatedDateTime":"2019-09-26T20:06:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223677821\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569527746\u0022 data-ipsquote-userid=\u0022135212\u0022 data-ipsquote-username=\u0022meyerweb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, meyerweb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt looks like you\u2019re dividing the ship\u2019s wet mass by the ship\u2019s wet mass, so a result of 1 is to be expected.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI would expect a bit larger than 1\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#3c4043;font-size:32px;text-align:right;\u0022\u003E1.04344602924 to be precise\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSorry for the font size, copy paste on mobile\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-26T20:11:46Z\u0022 title=\u002209/26/2019 08:11  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 26, 2019\u003C/time\u003E by MacLuky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"meyerweb","CreatedById":135212,"CreatedDateTime":"2019-09-26T20:15:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223677827\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569528367\u0022 data-ipsquote-userid=\u0022138597\u0022 data-ipsquote-username=\u0022MacLuky\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, MacLuky said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would expect a bit larger than 1\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis line:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Elocal x is (shipMassWet / shipMassWet).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u2026should always produce 1, should it not?\u00A0 You\u2019re literally dividing a variable by that same variable.\n\u003C/p\u003E\n"},{"CreatedByName":"MacLuky","CreatedById":138597,"CreatedDateTime":"2019-09-26T20:22:58Z","Content":"\n\u003Cp\u003E\n*bangs head on screen* thank you. That should have been dry mass of course.\n\u003C/p\u003E\n"},{"CreatedByName":"fulgur","CreatedById":195204,"CreatedDateTime":"2019-09-28T11:29:42Z","Content":"\n\u003Cp\u003E\nSorry to bother you: I know this thread is for reporting bugs and discussing the development, so is there anywhere on the forums I can ask people how to calculate [insert whatever I\u0027m working on]? Because the only place I could find is Reddit, and I don\u0027t really want to use that.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: thanks kcs123!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-28T12:28:42Z\u0022 title=\u002209/28/2019 12:28  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 28, 2019\u003C/time\u003E by fulgur\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2019-09-28T12:27:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223678544\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569670182\u0022 data-ipsquote-userid=\u0022195204\u0022 data-ipsquote-username=\u0022fulgur\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, fulgur said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry to bother you: I know this thread is for reporting bugs and discussing the development, so is there anywhere on the forums I can ask people how to calculate [insert whatever I\u0027m working on]? Because the only place I could find is Reddit, and I don\u0027t really want to use that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFeel free to ask here. There is not so many people hanging around here like on reddit, but there is still some that are willing to help. IIRC, there is also few threads in craft exchange forum, but not frequently visited as this one.\n\u003C/p\u003E\n"},{"CreatedByName":"fulgur","CreatedById":195204,"CreatedDateTime":"2019-09-29T11:50:27Z","Content":"\n\u003Cp\u003E\nI just found a small bug in kOS. I named a script \u0027executeNode.ks\u0027. It is designed to execute nodes, rather obviously. When I went to run it, it denied that \u0027executenode.ks\u0027 exists. This is because while kOS does not care about case, and presumably makes entries like that lower case, the file system does, and therefore it tried to run \u0027executenode.ks\u0027 while the file was called \u0027executeNode.ks\u0027.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2019-10-02T10:39:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223677393\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221569444156\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/25/2019 at 9:42 PM, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi foilks.\u00A0 Is there some oddity with the way stage:liquidfuel is calculated\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes.\n\u003C/p\u003E\n\u003Cp\u003E\nkOS was changed a fair while ago and this behaviour became really noticeable (reporting 0 fuel, or fuel within SRBs that aren\u0027t firing, for a stage), but my understanding is that it matches the way KSP itself calculates it.\n\u003C/p\u003E\n\u003Cp\u003E\nTrying turning on the resources view in KSP and tick the \u0022stage only\u0022 (from memory) box. See if that reports any fuel at the time kOS says it is zero.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s something to do with confusion as to what is in a stage. I tend to notice it when I have sepratrons that will fire on stage separation, that are attached to the stage that will be discarded.\n\u003C/p\u003E\n"},{"CreatedByName":"Chabadarl","CreatedById":169589,"CreatedDateTime":"2019-10-05T08:55:21Z","Content":"\n\u003Cp\u003E\nI\u0027m testing to improve a trajectory by small step and it\u0027s seems that this does not work for whatever reason and it\u0027s getting me crazy.\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E  local index is 0.\n  local candidates is list().\n\n  until index =data:length {\n    local candidate1 is data. //data is a list.\n    local candidate2 is data.\n\t\t  PRINT \u0022new\u0022.\n          PRINT candidate1[index].\n          PRINT step.\n          PRINT candidate1[index] \u002Bstep. //this works fine.\n    set candidate1[index] to (candidate1[index]\u002Bstep).  //this doesn\u0027t work\n    set candidate2[index] to (candidate2[index]-step).  //this doesn\u0027t work\n          PRINT candidate1[index]. //value has not change\n          PRINT candidate2[index].\n    candidates:add(candidate1).\n    candidates:add(candidate2).\n    set index to index \u002B1.\n  }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m posting here in desesperation. It\u0027s probably a syntax error but I don\u0027t understand why the set to doesn\u0027t work in this case....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-10-05T10:13:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223682064\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570265721\u0022 data-ipsquote-userid=\u0022169589\u0022 data-ipsquote-username=\u0022Chabadarl\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Chabadarl said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m testing to improve a trajectory by small step and it\u0027s seems that this does not work for whatever reason and it\u0027s getting me crazy.\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E  local index is 0.\n  local candidates is list().\n\n  until index =data:length {\n    local candidate1 is data. //data is a list.\n    local candidate2 is data.\n\t\t  PRINT \u0022new\u0022.\n          PRINT candidate1[index].\n          PRINT step.\n          PRINT candidate1[index] \u002Bstep. //this works fine.\n    set candidate1[index] to (candidate1[index]\u002Bstep).  //this doesn\u0027t work\n    set candidate2[index] to (candidate2[index]-step).  //this doesn\u0027t work\n          PRINT candidate1[index]. //value has not change\n          PRINT candidate2[index].\n    candidates:add(candidate1).\n    candidates:add(candidate2).\n    set index to index \u002B1.\n  }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m posting here in desesperation. It\u0027s probably a syntax error but I don\u0027t understand why the set to doesn\u0027t work in this case....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t know what this code is *meant* to do, but what it *does* do is this:\n\u003C/p\u003E\n\u003Cp\u003E\ncandidate1[index] and candidate2[index] are the exact same object.\u00A0 So you are adding \u002Bstep then in the very next line -step, putting it right back where it started, each time.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason they are the same exact object is this part here at the top:\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nlocal candidate1 is data. //data  is a list.\nlocal candidate2 is data.\n\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Chabadarl","CreatedById":169589,"CreatedDateTime":"2019-10-05T10:19:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223682076\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570270389\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t know what this code is *meant* to do, but what it *does* do is this:\n\u003C/p\u003E\n\u003Cp\u003E\ncandidate1[index] and candidate2[index] are the exact same object.\u00A0 So you are adding \u002Bstep then in the very next line -step, putting it right back where it started, each time.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason they are the same exact object is this part here at the top:\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nlocal candidate1 is data. //data  is a list.\nlocal candidate2 is data.\n\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthanks... I knew I forgot something obvious....\n\u003C/p\u003E\n\u003Cp\u003E\nI meant to write...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Elocal candidate1 is data:copy. //data  is a list.\nlocal candidate2 is data:copy.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nthe code is slighty changing data to test for improvement. and hill climbing to the best solution...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-05T10:22:33Z\u0022 title=\u002210/05/2019 10:22  AM\u0022 data-short=\u00224 yr\u0022\u003EOctober 5, 2019\u003C/time\u003E by Chabadarl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"squidgeny","CreatedById":193247,"CreatedDateTime":"2019-10-08T15:10:56Z","Content":"\n\u003Cp\u003E\nHi, wondering if someone could answer a quick question for me. I\u0027m fairly inexperienced\u00A0with KOS.\n\u003C/p\u003E\n\u003Cp\u003E\nI have a probe going to minmus and I won\u0027t be able to communicate with it when it gets there. So I\u0027ve written a simple program to automate its orbital insertion, and intend to run that program just before it goes out of comm range. It\u0027ll get there 7 days later, so the program will be running for 7 days, waiting for the right moment before performing the insertion.\n\u003C/p\u003E\n\u003Cp\u003E\nIn that time window, I intend to switch to other vessels and do other stuff. I\u0027ve read conflicting information around the internet that KOS will and won\u0027t work in such situations. So perhaps you can clarify:\u00A0will my plan work?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n"},{"CreatedByName":"zer0Kerbal","CreatedById":190933,"CreatedDateTime":"2019-10-08T16:04:00Z","Content":"\n\u003Cp\u003E\ndepends upon how it will handle being rebooted. switch\u003Cs\u003Eed\u003C/s\u003Eing vessels and coming back (IIRC) will cause it to reboot the kOS processors.\n\u003C/p\u003E\n\u003Cp\u003E\nRunMode might be one way to handle it - or just make sure you have the right run mode.\n\u003C/p\u003E\n\u003Cp\u003E\nanother way might be to set up a maneuver node, and just use a noderunner.ks program as the bootstrap file to run the maneuver node.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-08T21:21:22Z\u0022 title=\u002210/08/2019 09:21  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 8, 2019\u003C/time\u003E by zer0Kerbal\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-10-08T17:55:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223683586\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221570547456\u0022 data-ipsquote-userid=\u0022193247\u0022 data-ipsquote-username=\u0022squidgeny\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, squidgeny said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn that time window, I intend to switch to other vessels and do other stuff. I\u0027ve read conflicting information around the internet that KOS will and won\u0027t work in such situations. So perhaps you can clarify:\u00A0will my plan work?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nno, but like zer0kerbal said it can work if you do it right. You need to send the craft the instructions, have it store them on the vessel and then run them when it boots up after you switch to it. You can find more about boot files (not bootstrap) in the kOS docs.\n\u003C/p\u003E\n\u003Cp\u003E\nI have a \u003Ca href=\u0022https://github.com/KSAMissionCtrl/AFCS\u0022 rel=\u0022external nofollow\u0022\u003Egeneral-purpose control system\u003C/a\u003E that can do what you want, if you want to use it or just want a practical example\n\u003C/p\u003E\n"},{"CreatedByName":"zer0Kerbal","CreatedById":190933,"CreatedDateTime":"2019-10-09T05:56:59Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS_DOC/tutorials/exenode.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS_DOC/tutorials/exenode.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"squidgeny","CreatedById":193247,"CreatedDateTime":"2019-10-09T15:47:29Z","Content":"\n\u003Cp\u003E\nThanks both! It sounds like a \u0022boot file\u0022 is what I want. I think I\u0027ve found the relevant bit in the docs:\u00A0\u003Ca href=\u0022https://ksp-kos.github.io/KOS_DOC/general/volumes.html#special-handling-of-files-in-the-boot-directory\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS_DOC/general/volumes.html#special-handling-of-files-in-the-boot-directory\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf I understand this correctly (and i probably don\u0027t, because the docs are way beyond my layman knowledge!), I need to do the following:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\ncreate a \u0022boot\u0022 directory on the ship\u0027s CPU volume, and put my program in it\n\u003C/li\u003E\n\u003Cli\u003E\nswitch to the vessel (thus causing the program to begin running immediately) before it reaches the relevant point where a manoeuvre needs to be made\n\u003C/li\u003E\n\u003Cli\u003E\nsit back and wait for the program to execute all its code\n\u003C/li\u003E\n\u003Cli\u003E\nthen I can safely switch out to another vessel / space centre or whatever\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nIf I\u0027ve got that right then that\u0027s more than good enough \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"}]}