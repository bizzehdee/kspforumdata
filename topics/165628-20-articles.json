{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":20,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-07-02T04:52:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223408682\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221530506855\u0022 data-ipsquote-userid=\u0022189863\u0022 data-ipsquote-username=\u0022fitemesquirrel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, fitemesquirrel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAhhhhh. Okay, that makes a lot of sense considering what I was seeing. I didn\u0027t notice anything in the docs saying that so I didn\u0027t realize. I\u0027ll work with the raw and pilot control systems then. Thanks!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe most important command to remember - get used to typing it fast, is this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nset ship:control:neutralize to true.\u003C/pre\u003E\n\u003Cp\u003E\nBecause unlike with lock steering, with raw control the controls don\u0027t unlock when the program ends.\u00A0 If your program crashes, the controls are still set where you left them and it can be hard to recover manually.\u00A0 Typing that line gets you the manual controls back.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"dafidge9898","CreatedById":147547,"CreatedDateTime":"2018-07-03T22:49:09Z","Content":"\n\u003Cp\u003E\nI am trying to write a script for a landing near a target on the ground. I want to make it so the ship changes inclination slightly in order to be (almost) directly over the target when the de-orbit burn starts. To do this in the way I am currently thinking of I would need to use something like positionat(ship,time), but for the target vehicle (because planet rotation). If I replace \u0022ship\u0022 with \u0022target\u0022, it returns a vector consisting of NaN.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, on to the question. Is there something that will let me predict the position of a target vehicle after a certain amount of time? Or am I going to have to do loads of math to figure it out?\n\u003C/p\u003E\n\u003Cp\u003E\nI really don\u0027t want to do any more math because I already did some calculus to derive the altitude for the (almost) perfect suicide burn.\n\u003C/p\u003E\n\u003Cp\u003E\nAny info is appreciated. Thank you!\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Figured something out. Was able to 99% automatically land a ship within 1 km of its target on the Mun. The 1% being actually getting into a munar orbit in the first place! Further testing is required to see how versatile it is, but in theory it should work for any target anywhere on the moon (except if the target is directly on either pole) from any circular orbit that passes over the target with reasonable accuracy (the script fine tunes it) in a total of three burns. Changing some constants should allow it to work on any other non-atmospheric body as well.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-07-04T07:32:45Z\u0022 title=\u002207/04/2018 07:32  AM\u0022 data-short=\u00226 yr\u0022\u003EJuly 4, 2018\u003C/time\u003E by dafidge9898\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"infinite_monkey","CreatedById":185663,"CreatedDateTime":"2018-07-09T17:30:16Z","Content":"\n\u003Cp\u003E\nI\u0027m still trying to optimize my landing script. I want to limit my steering vector angle, so that VANG(vSteering, vRetrograde) is below a certain threshold. How can I achieve that?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2018-07-10T14:08:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223412916\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221531157416\u0022 data-ipsquote-userid=\u0022185663\u0022 data-ipsquote-username=\u0022infinite_monkey\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, infinite_monkey said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m still trying to optimize my landing script. I want to limit my steering vector angle, so that VANG(vSteering, vRetrograde) is below a certain threshold. How can I achieve that?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUse the abs function. Let\u0027s say you want to limit steering angle to (-20 deg, \u002B20 deg). And lets call your steering angle ANG. So,\n\u003C/p\u003E\n\u003Cp\u003E\nif (abs(ANG) \u0026lt; 20) then {steer as per ANG} else {steer with -20 or \u002B20}\n\u003C/p\u003E\n"},{"CreatedByName":"infinite_monkey","CreatedById":185663,"CreatedDateTime":"2018-07-11T13:47:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223413340\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221531231681\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUse the abs function. Let\u0027s say you want to limit steering angle to (-20 deg, \u002B20 deg). And lets call your steering angle ANG. So,\n\u003C/p\u003E\n\u003Cp\u003E\nif (abs(ANG) \u0026lt; 20) then {steer as per ANG} else {steer with -20 or \u002B20}\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, but how do I say \u0022steer x deg from vector va to vector vb\u0022? I guess that\u0027s possible with the rotate functions somehow?\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2018-07-11T17:31:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223413875\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221531316869\u0022 data-ipsquote-userid=\u0022185663\u0022 data-ipsquote-username=\u0022infinite_monkey\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, infinite_monkey said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, but how do I say \u0022steer x deg from vector va to vector vb\u0022? I guess that\u0027s possible with the rotate functions somehow?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo you want to rotate one vector towards another by some angle? Yeah, the rotate functions probably can do it, I personally find them hard to understand sometimes. So you can figure them out for yourself and in the meantime use\u00A0\u003Ca href=\u0022https://en.m.wikipedia.org/wiki/Rodrigues%27_rotation_formula\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.m.wikipedia.org/wiki/Rodrigues\u0027_rotation_formula\u003C/a\u003E\u00A0, which I find easier to use.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-07-11T20:48:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223413875\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221531316869\u0022 data-ipsquote-userid=\u0022185663\u0022 data-ipsquote-username=\u0022infinite_monkey\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, infinite_monkey said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, but how do I say \u0022steer x deg from vector va to vector vb\u0022? I guess that\u0027s possible with the rotate functions somehow?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nA vector cross of the two vectors will give you an axis (as it\u0027ll be at 90 degrees to both input vectors) vector around which you can rotate (ANGLEAXIS function) va by X degrees towards vb. I have an example of this somewhere in my ascent code (to avoid straying too far from surface prograde) if you\u0027d like code to look at. The hard part is working out which way around things are to avoid going the wrong way... partly as KSP/Unity\u0027s coordinates are left-handed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit to add a link: \u003Ca href=\u0022https://github.com/ElWanderer/kOS_scripts/blob/f5e22ce98925976497ee9acc5216c56c4f7d8372/scripts/lib_launch_common.ks#L345\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ElWanderer/kOS_scripts/blob/f5e22ce98925976497ee9acc5216c56c4f7d8372/scripts/lib_launch_common.ks#L345\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-07-11T20:51:08Z\u0022 title=\u002207/11/2018 08:51  PM\u0022 data-short=\u00225 yr\u0022\u003EJuly 11, 2018\u003C/time\u003E by ElWanderer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2018-07-15T23:44:23Z","Content":"\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/JWKBeSm0EGk?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nYep, it\u0027s done!\u003Cbr\u003E\nWell, pretty much. Everything I want the autopilot to be able to do is now working properly. Features right now are:\u003Cbr\u003E\n- Hold altitude, pitch or heading\u003Cbr\u003E\n- land at any given airport, no matter the runways heading\u003Cbr\u003E\n- create and fly custom flight routes with different waypoints\n\u003C/p\u003E\n\u003Cp\u003E\nI might look into creating a custom GUI for it, and I\u0027ll think about releasing the script.\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t know why the sound is offset from the video though \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-07-15T23:46:42Z\u0022 title=\u002207/15/2018 11:46  PM\u0022 data-short=\u00225 yr\u0022\u003EJuly 15, 2018\u003C/time\u003E by Kartoffelkuchen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"fitemesquirrel","CreatedById":189863,"CreatedDateTime":"2018-07-16T02:14:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223416186\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221531698263\u0022 data-ipsquote-userid=\u0022108501\u0022 data-ipsquote-username=\u0022Kartoffelkuchen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kartoffelkuchen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYep, it\u0027s done!\u003Cbr\u003E\nWell, pretty much. Everything I want the autopilot to be able to do is now working properly. Features right now are:\u003Cbr\u003E\n- Hold altitude, pitch or heading\u003Cbr\u003E\n- land at any given airport, no matter the runways heading\u003Cbr\u003E\n- create and fly custom flight routes with different waypoints\n\u003C/p\u003E\n\u003Cp\u003E\nI might look into creating a custom GUI for it, and I\u0027ll think about releasing the script.\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t know why the sound is offset from the video though \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI for one would be interested in seeing this script, for reference on how you did certain things here.\n\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2018-08-02T19:42:35Z","Content":"\n\u003Cp\u003E\nGetting back into kOS after, I dunno maybe 4 years. I\u0027m playing on a 10\u002B year old laptop, and have a 1\u002B y/o daughter now, and on several occasions due to the lag of the laptop and my attention being on my daughter I look back at the laptop to realize my rocket is still going straight up with 2 or 4 empty boosters still attached...lol\n\u003C/p\u003E\n\u003Cp\u003E\nOnce upon a time I had a script that would launch 3 comm sats into orbit while managing throttle to make best use of fuel/oxidizer. I had the script so I could set the desired altitude when I ran the script, the number of paired asparagus\u00A0stages etc and it would calculate the needed PE to get equally spaced sat deployments. I think I had it deploy each sat as the carrier ship came around to the AP each time. Of course the limitation of the game made it so I had to manually switch to the deployed sat and run the circulation program, but other than that it was all automated.\n\u003C/p\u003E\n\u003Cp\u003E\nOf course now I don\u0027t know where that script went. Checked backups on my network drive and found some older, not so useful scripts. It\u00A0may be on my desktop (older linux build, have been to lazy to backup and update it) or maybe on my old\u00A0 laptop hard drive. If i can\u0027t find it I guess I\u0027ll have to start from scratch, which may not be such a bad idea considering the changes since the last time I used it. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E[EDIT]\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPretty sure I found my old scripts, they were for KSP 1.0.4. Just for fun I think I\u0027ll try it out and see if it still works at all. Though I highly doubt it. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAmazingly my old scripts still work. Well, I\u0027ve only tried one that puts things in orbit, not the one for deploying sats equally spaced. It needed a little editing, and its not entirely efficient\u00A0or accurate, but it gets the job done.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-08-03T00:00:11Z\u0022 title=\u002208/03/2018 12:00  AM\u0022 data-short=\u00225 yr\u0022\u003EAugust 3, 2018\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003Cbr\u003EFound my old scripts. :)\n\u003C/span\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2018-08-02T21:08:33Z","Content":"\n\u003Cp\u003E\nHow do I use a quote mark (i.e.\u00A0\u003Cstrong\u003E\u0022\u003C/strong\u003E\u00A0symbol) in a string? I tried escaping it with a backslash or with doubling it, but it doesn\u0027t seem to work.\u00A0I haven\u0027t found it in the documentation.\n\u003C/p\u003E\n"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2018-08-03T01:58:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223426638\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221533238955\u0022 data-ipsquote-userid=\u002267377\u0022 data-ipsquote-username=\u0022Sma\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Sma said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPretty sure I found my old scripts, they were for KSP 1.0.4. Just for fun I think I\u0027ll try it out and see if it still works at all. Though I highly doubt it. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAmazingly my old scripts still work. Well, I\u0027ve only tried one that puts things in orbit, not the one for deploying sats equally spaced. It needed a little editing, and its not entirely efficient\u00A0or accurate, but it gets the job done.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat a great piece of software that changes from time to\u00A0time under the hood, but doesn\u0027t break \u0027saves\u0027 \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EStellar work kOS team.\u00A0 Thank you for your ongoing work!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EPeace.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-08-03T09:11:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223426699\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221533244113\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow do I use a quote mark (i.e.\u00A0\u003Cstrong\u003E\u0022\u003C/strong\u003E\u00A0symbol) in a string? I tried escaping it with a backslash or with doubling it, but it doesn\u0027t seem to work.\u00A0I haven\u0027t found it in the documentation.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCHAR(34), but you\u0027ll need to append it to the string.\n\u003C/p\u003E\n\u003Cp\u003E\ne.g. SET myString to \u0022He said \u0022 \u002B CHAR(34) \u002B \u0022no\u0022 \u002B CHAR(34).\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027ll set myString to \u0027He said \u0022no\u0022\u0027\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2018-08-06T19:37:23Z","Content":"\n\u003Cp\u003E\nOk, I have another question. I\u0027m trying to write a script for docking two kOS-controlled vessels and I need to look at the other vessel\u0027s parts, specifically its docking ports to find eligible one(s).\n\u003C/p\u003E\n\u003Cp\u003E\nI tried this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nLIST DOCKINGPORTS FROM TARGET IN targetPorts.\u003C/pre\u003E\n\u003Cp\u003E\nand this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nLIST TARGET:DOCKINGPORTS IN targetPorts.\u003C/pre\u003E\n\u003Cp\u003E\nBut both cause a syntax error for the FROM keyword (in the first case) or the colon character (in the seconds case). The same statement for the current vessel appears to work ok.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat am I doing wrong and how do I loop through target vessel\u0027s ports?\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-08-06T20:44:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223428932\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221533584243\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n52 minutes ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, I have another question. I\u0027m trying to write a script for docking two kOS-controlled vessels and I need to look at the other vessel\u0027s parts, specifically its docking ports to find eligible one(s).\n\u003C/p\u003E\n\u003Cp\u003E\nI tried this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nLIST DOCKINGPORTS FROM TARGET IN targetPorts.\u003C/pre\u003E\n\u003Cp\u003E\nand this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nLIST TARGET:DOCKINGPORTS IN targetPorts.\u003C/pre\u003E\n\u003Cp\u003E\nBut both cause a syntax error for the FROM keyword (in the first case) or the colon character (in the seconds case). The same statement for the current vessel appears to work ok.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat am I doing wrong and how do I loop through target vessel\u0027s ports?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe LIST ... IN form only works for a few, pre-programmed cases. Any ship object has a DOCKINGPORTS suffix that returns a list of ports. To loop through them, do something like:\n\u003C/p\u003E\n\u003Cp\u003E\nFOR p IN TARGET:DOCKINGPORTS { // do something with each p. }\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2018-08-06T20:50:36Z","Content":"\n\u003Cp\u003E\nGreat, thanks. I had this idea too, but haven\u0027t tested it yet.\n\u003C/p\u003E\n\u003Cp\u003E\nIt looks like the documentation is incorrect on this issue then. \u003Ca href=\u0022https://ksp-kos.github.io/KOS/commands/list.html\u0022 rel=\u0022external nofollow\u0022\u003EThis page\u003C/a\u003E mentions DockingPorts as well as other suffixes as \u0022listable keywords\u0022 that can be used with LIST ... IN command.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-08-07T07:15:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223428984\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221533588636\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGreat, thanks. I had this idea too, but haven\u0027t tested it yet.\n\u003C/p\u003E\n\u003Cp\u003E\nIt looks like the documentation is incorrect on this issue then. \u003Ca href=\u0022https://ksp-kos.github.io/KOS/commands/list.html\u0022 rel=\u0022external nofollow\u0022\u003EThis page\u003C/a\u003E mentions DockingPorts as well as other suffixes as \u0022listable keywords\u0022 that can be used with LIST ... IN command.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDoes LIST DOCKINGPORTS IN someListVariable work? That\u0027s all that page is talking about, I think, and will only get you the ports for the active vessel. To get the ports for another vessel, you can\u0027t use that format.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-08-07T07:41:03Z\u0022 title=\u002208/07/2018 07:41  AM\u0022 data-short=\u00225 yr\u0022\u003EAugust 7, 2018\u003C/time\u003E by ElWanderer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2018-08-12T11:48:53Z","Content":"\n\u003Cp\u003E\nI find the kOS_v.1.1.5.0_for_KSP_1.3.1 didn\u0027t work with InfernalRobotics_3.0.0_beta3_p7_for_KSP_1.3.1.\u003Cbr\u003E\nWhen I check \u003Cstrong\u003EADDONS:IR:AVAILABLE\u003C/strong\u003E, the result is \u003Cstrong\u003EFALSE\u003C/strong\u003E.\u003Cbr\u003E\nHave you the plan to repair this problem in next kOS version?\u003Cbr\u003E\nThanks.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-08-12T17:21:50Z","Content":"\n\u003Cp\u003E\n@Lookersky I started asing about it over in the IR Next thread.\u00A0 I hadn\u0027t noticed the existence of IR Next before now.\n\u003C/p\u003E\n"},{"CreatedByName":"H0FF1","CreatedById":168100,"CreatedDateTime":"2018-08-22T16:28:15Z","Content":"\n\u003Cp\u003E\nCan you update the mod version? kOS is displayed in yellow at KSP-AVC.\n\u003C/p\u003E\n"},{"CreatedByName":"Deimos_F","CreatedById":143276,"CreatedDateTime":"2018-08-31T18:33:13Z","Content":"\n\u003Cp\u003E\nHi.\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure where to post feedback/suggestions, but there\u0027s a really really simple thing that\u0027s bugging me a bit: For calculating certain aspects of spaceflight, most equations are written with \u0022total distance to center of mass\u0022 variables, not \u0022distance to surface\u0022 variables. So for example, if I\u0027m using the Vis-Viva equation to calculate orbital speed at a point in my orbit, one of my variables is going to be the distance between that point and the center of mass/gravity\u0022 of whatever planet I\u0027m orbiting. However there\u0027s no simple method in kOS scripts to invoke this number. For example, if I\u0027m trying to calculate what the vessel speed will be at apoapsis, to obtain the true distance between apoapsis and the center of gravity of what I\u0027m orbiting I need to get body:radius and either ship:apoapsis or orbit:apoapsis, add those two into a new variable, and THEN proceed with the calculations.\n\u003C/p\u003E\n\u003Cp\u003E\nImplementing an item in one of the structures so you could do something like \u0022orbit:trueapoapsis\u0022 to get the true distance from the center of gravity would be a tiny yet very noticeable improvement, allowing koders to save some lines of code and not have to get two values separately and then sum them into a new variable.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere are many possible ways this could be implemented. Off the top of my head I can think of two distinct ones:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n- make it so orbit:apoapsis returns the actual total distance to the center of gravity of the currently orbited body, while ship:apoapsis returns distance from apoapsis to surface. It\u0027s probably the \u0022cleanest\u0022 option but might break a lot of code for a lot of people, which brings me to option 2\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n- make a new suffix under the ORBIT structure called something like \u003Cspan\u003E\u0022trueapoapsis\u0022 or \u0022total apoapsis\u0022, so that the total distance can be gotten directly from it. (I keep mentioning apoapsis, but the implication is that something similar would be done for periapsis)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOther than that, can\u0027t really think of anything else. Loving kOS despite being very new to it. Keep it up!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-08-31T18:34:02Z\u0022 title=\u002208/31/2018 06:34  PM\u0022 data-short=\u00225 yr\u0022\u003EAugust 31, 2018\u003C/time\u003E by Deimos_F\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2018-08-31T19:01:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223442975\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221535740393\u0022 data-ipsquote-userid=\u0022143276\u0022 data-ipsquote-username=\u0022Deimos_F\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, Deimos_F said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u0022total distance to center of mass\u0022\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ebody:position:mag\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOk, it actually would be\u00A0 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E(body:position-ship:position):mag\u003C/span\u003E , but the reference point typically is the active vessel\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-08-31T19:08:53Z\u0022 title=\u002208/31/2018 07:08  PM\u0022 data-short=\u00225 yr\u0022\u003EAugust 31, 2018\u003C/time\u003E by Alchemist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Deimos_F","CreatedById":143276,"CreatedDateTime":"2018-08-31T19:06:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223442986\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221535742096\u0022 data-ipsquote-userid=\u00228825\u0022 data-ipsquote-username=\u0022Alchemist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Alchemist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ebody:position:magnitude\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOk, it actually would be\u00A0 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E(body:position-ship:position):magnitude\u003C/span\u003E , but the reference point typically is the active vessel\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDo you mean body:geoposition? There\u0027s no \u0022position\u0022 suffix for the \u0022body\u0022 structure in the manual.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd either way, this solution still involves invoking two different values and performing an operation to get a third value out of them. Not to mention this only works for the current position, not the more useful Apoapsis or Periapsis positions, frequently used in orbital math.\n\u003C/p\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2018-08-31T19:16:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223442992\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221535742376\u0022 data-ipsquote-userid=\u0022143276\u0022 data-ipsquote-username=\u0022Deimos_F\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Deimos_F said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo you mean body:geoposition? There\u0027s no \u0022position\u0022 suffix for the \u0022body\u0022 structure in the manual.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere is such suffix, it\u0027s inherited from Orbitable. Ant it\u0027s the position of center of mass.\n\u003C/p\u003E\n\u003Cp\u003E\nBut yes, there is no such option for apoapsis or periapsis. So you\u0027ll have to add the radius if you need them this way\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-08-31T19:16:49Z\u0022 title=\u002208/31/2018 07:16  PM\u0022 data-short=\u00225 yr\u0022\u003EAugust 31, 2018\u003C/time\u003E by Alchemist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Deimos_F","CreatedById":143276,"CreatedDateTime":"2018-08-31T19:17:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223442999\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221535742995\u0022 data-ipsquote-userid=\u00228825\u0022 data-ipsquote-username=\u0022Alchemist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Alchemist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut yes, there is no such option for apoapsis or periapsis. So you\u0027ll have to add the radius if you need them this way\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI know, which is why I made this suggestion to begin with.\n\u003C/p\u003E\n"}]}