{"TopicId":100641,"ForumId":29,"TopicTitle":"Click-thru GUI","CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2015-02-24T21:38:11Z","PageNum":1,"Articles":[{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2015-02-24T21:38:11Z","Content":"I have a problem with the GUI for my mod. When I click on a button the click also interferes with whatever is behind the button. This is very annoying. How can I stop this. I imagine it might have something to do with event.current.use() but I am not sure I understand the event model well enough to know what to do with it.\n\nCan someone please explain?"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-02-24T23:10:32Z","Content":"You need to use EditorLogic.fetch.Lock to lock the cursor from interacting with other stuff.\n\nIn Editor : [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L747-L761](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L747-L761)\n\nIn flight : [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L763-L776](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L763-L776)\n\nand \n\n[https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/GuiUtils.cs#L461-L474](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/GuiUtils.cs#L461-L474)"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-02-25T01:03:30Z","Content":"Are you talking about clicking through a Unity GUI into the KSP UI, or clicking through different layers of Unity GUI?\n\nThe EditorLogic stuff works for clicking through to the KSP UI, though there can be some issues with that; in the spacecenter and tracking station it can make timewarp wonky when you try to lock the KSP UI.\n\nI\u0027m not sure if there\u0027s an easy way to lock out different layers of your own UI, other than just disabling them when one window overlaps another (turn a button into a label with the same GUIStyle as the button).\n\nAlso, is there a simple way to lock out things like right-click buttons? The only method I\u0027m aware of is to go through each PartActionWindow and disable it: [https://github.com/DMagic1/KSP_Contract_Window/blob/master/contractsWindow.cs#L169-L182](https://github.com/DMagic1/KSP_Contract_Window/blob/master/contractsWindow.cs#L169-L182)"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2015-02-25T12:52:31Z","Content":"\u003E \n\u003E You need to use EditorLogic.fetch.Lock to lock the cursor from interacting with other stuff.\n\u003E In Editor : [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L747-L761](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L747-L761)\n\u003E \n\u003E In flight : [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L763-L776](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L763-L776)\n\u003E \n\u003E and \n\u003E \n\u003E [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/GuiUtils.cs#L461-L474](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/GuiUtils.cs#L461-L474)\n\nThat looks like what I need. Thanks."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-02-28T13:59:20Z","Content":"\u003E \n\u003E \n\u003E On 2/24/2015 at 6:10 PM, sarbian said:\n\u003E \n\u003E \n\u003E You need to use EditorLogic.fetch.Lock to lock the cursor from interacting with other stuff.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In Editor : [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L747-L761](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L747-L761)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In flight : [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L763-L776](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/MechJebCore.cs#L763-L776)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E and\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/GuiUtils.cs#L461-L474](https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/GuiUtils.cs#L461-L474)\n\u003E \n\n[@sarbian](https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/)\n\nJust came across something as part of debugging my ClickThroughBlocker.\n\nThis code:\n\n[https://github.com/MuMech/MechJeb2/blob/29d9b1ba7e75a325476b9a4f5712d1970c09b840/MechJeb2/MechJebCore.cs#L1136-L1147](https://github.com/MuMech/MechJeb2/blob/29d9b1ba7e75a325476b9a4f5712d1970c09b840/MechJeb2/MechJebCore.cs#L1136-L1147)\n\nworks in the Editor, EXCEPT when Action Groups are selected.  When Action Groups are selected, the mechjeb window doesn\u0027t block clicks from falling through to the parts underneath.\n\nWould you have any ideas how to fix this?\n\nI\u0027ll open an issue on Github, would really like to get this figured out"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2018-02-28T14:17:49Z","Content":"\u003E \n\u003E \n\u003E 16 minutes ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E Would you have any ideas how to fix this?\n\u003E \n\nI guess the stock code do the Action Group does not check the lock state. It feels like a stock bug."}]}