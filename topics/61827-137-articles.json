{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":137,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-08-01T00:18:18Z","Content":"\n\u003Cp\u003EOther Linux users have reported success using this mod:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/108561-0-90-%28Jan25-15%29-Control-Lock-Input-text-into-text-fields-without-issuing-commands-to-your-vessel?highlight=kos\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/108561-0-90-%28Jan25-15%29-Control-Lock-Input-text-into-text-fields-without-issuing-commands-to-your-vessel?highlight=kos\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt basically lets you override how the game is delivering your keypress events to different parts of the game, and force them to go to the window you want. The likely reason you\u0027re having trouble is that the R and E keys are being consumed by some other mod or some part of the stock game before kOS is allowed to even know they exist.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-08-01T18:08:05Z","Content":"\n\u003Cp\u003Ethanks, I was able to get going with that. I don\u0027t have a lot of mods, just the kerbal engineer, planetshine \u0026amp; engine light, and now these (kOS and the control lock mod).\u003C/p\u003E\u003Cp\u003EKOS look like it\u0027s going to be a lot of fun, I managed to get a rocket to orbit already and there are a lot of things that I want to try : ) On my way to ever greater adventures, I have two questions:\u003C/p\u003E\u003Cp\u003Ecan I somehow query the current throttle setting like it was a variable? I couldn\u0027t figure out how to. And is there a simple way to find out twr with current throttle setting? I did a search and found methods calculating it using data from science instruments which seemed a little complicated for my math skills, so I used \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset tlim to 2. //goal twr\u003Cbr\u003Eset twr to ((maxthrust * tset) / (mass*10)). //calculating thrust to mass ratio\u003Cbr\u003Eset tset to tset \u002B ((tlim - twr)*0.1). //adjust tset (which adjusts throttle) \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eto make a twr or rather a thrust to mass limiter, but the value doesn\u0027t really come close to what ker tells me ym twr is like I think it should.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-08-02T01:00:16Z","Content":"\n\u003Cp\u003Ere Question 1:\u003C/p\u003E\u003Cp\u003EMy suggestion:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset mythrot to 0.1.\u003Cbr\u003Elock throttle to mythrot.\u003Cbr\u003E// From now on when you want to change throttle, do it indirectly by chaning mythrot.  When you want to print the throttle, print mythrot instead.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ere Question 2:\u003C/p\u003E\u003Cp\u003EWhy does your code multiply the mass by 10 when calculating TWR? Why not use 9.802?\u003C/p\u003E\u003Cp\u003EWithout quantifying \u0022the value doesn\u0027t really come close\u0022 it\u0027s hard to say anything more than that.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-08-02T07:29:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003Ere Question 1:\u003Cp\u003EMy suggestion:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset mythrot to 0.1.\u003Cbr\u003Elock throttle to mythrot.\u003Cbr\u003E// From now on when you want to change throttle, do it indirectly by chaning mythrot.  When you want to print the throttle, print mythrot instead.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ere Question 2:\u003C/p\u003E\u003Cp\u003EWhy does your code multiply the mass by 10 when calculating TWR? Why not use 9.802?\u003C/p\u003E\u003Cp\u003EWithout quantifying \u0022the value doesn\u0027t really come close\u0022 it\u0027s hard to say anything more than that.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s what I did, \u0022tset\u0022 in my code snippet is locked to throttle, I should have been more clear about what does what in the code I posted. That works, I just felt it would have simplified the program if I could have queried it directly.\u003C/p\u003E\u003Cp\u003EMultiplying by ten is purely a brainfart on my behalf =D Should have used 9.8 like you said. I had the limiter set to 2 and KER told me my twr was going up to 2\u00C3\u201A\u00C2\u00BD before the limiter kicked in, I don\u0027t think an error that large could be from using ten instead of 9.8 as multiplier but using the correct value certainly would be a move in the right direction! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E KER afaik always shows twr pertinent to weight as it changes with elevation which would also contribute to the error, I have to look into using ship:sensors:grav:mag maybe.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-08-02T07:58:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kurja\u0022 data-cite=\u0022kurja\u0022\u003E\u003Cdiv\u003Eusing ship:sensors:grav:mag maybe.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDo you think the difference is entirely due to not being at sea level when you calculate it? I didn\u0027t realize from your original description that you were doing this up in orbit and not down on the launchpad. Yes, that is a definite potential problem - the meaning of TWR changes depending on what W you meant - weight NOW up in orbit or weight later when down on near the ground.\u003C/p\u003E\u003Cp\u003EOf course, you don\u0027t need to actually measure the local gravity with a sensor if you don\u0027t want to - you could just calculate it from your altitude and known data about the SOI body. Some have called this \u0022magic data\u0022 that the craft should\u0027t have access to, but I say any space program sending a probe somewhere is already going to know the mass of the planet from orbital perturbance data observed back home, and presuming you have a means of calculating your altitude you can know your radius from the body\u0027s center. That\u0027s all you need to get a calculated estimate of the local gravity at a given spot in space above the body.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Efunction local_g {\u003Cbr\u003E  parameter ves. // the vessel to calculate local g value for.\u003Cbr\u003E\u003Cbr\u003E  return constant():G * (ves:body:mass/(ves:altitude\u002Bves:body:radius)^2).\u003Cbr\u003E}\u003Cbr\u003E// Now you can replace the \u00229.8\u0022 or the \u002210\u0022 in your code with a call to local_g(ship),\u003Cbr\u003E// like so:\u003Cbr\u003Eset twr to ((maxthrust * tset) / (mass* local_g(ship) )). //calculating thrust to weight ratio\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-08-02T09:09:59Z","Content":"\n\u003Cp\u003EI was doing the calculation continuously for the ascent of my rocket, so yes it did change. Reading sensors:grav seems to work well now that I tried that, the error I had is gone. although it requires that I have the instrument on board, so thanks for posting the formula for local g!\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-08-03T14:55:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kurja\u0022 data-cite=\u0022kurja\u0022\u003E\u003Cdiv\u003Eafter issuing \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eedit hello.\u003C/pre\u003E\u003Cp\u003E some of the keys won\u0027t work; that is I am unable to correctly type the print hello command into the script, I get \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epint \u0022hllo\u0022.\u003C/pre\u003E\u003Cp\u003E instead. Is this a known issue?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs a workaround, I suggest never using the in-game editor; you can edit kOS scripts saved in KSC\u0027s storage with a proper text editor. This is also much easier.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-08-03T17:12:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022damerell\u0022 data-cite=\u0022damerell\u0022\u003E\u003Cdiv\u003EAs a workaround, I suggest never using the in-game editor; you can edit kOS scripts saved in KSC\u0027s storage with a proper text editor. This is also much easier.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, that\u0027s what I do. Being new and figuring out what\u0027s what the in-game editor is an obvious thing to start with but it\u0027s not really useful for anything larger than a couple lines.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-08-03T19:43:51Z","Content":"\n\u003Cp\u003Eoops, double\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-08-04T08:52:36Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ELivestream announcement\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EAnother episode tonight: UTC-5 (U.S. CDT time), Tuesday 7pm-9pm.\u003C/p\u003E\u003Cp\u003EI\u0027m hoping to make this a weekly thing, but I haven\u0027t committed to it yet because I haven\u0027t picked a good day of the week that I can always keep reliably free and available:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/calendar.php?do=getinfo\u0026amp;e=202\u0026amp;day=2015-8-4\u0022 rel=\u0022external nofollow\u0022\u003ELet\u0027s k-OS with a kOS dev. This episode will be: Trying to make landing autopilots, part 2.\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2015-08-05T16:17:36Z","Content":"\n\u003Cp\u003EHow can I get terminal velocity of the vessel in air?\u003C/p\u003E\u003Cp\u003EI find \u0022SHIP:TERMVELOCITY\u0022 at \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EBut it seems to not work in least version.\u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-08-05T17:43:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Lookerksy\u0022 data-cite=\u0022Lookerksy\u0022\u003E\u003Cdiv\u003EHow can I get terminal velocity of the vessel in air?\u003Cp\u003EI find \u0022SHIP:TERMVELOCITY\u0022 at \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EBut it seems to not work in least version.\u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eit returns \u0022as of kos 17.2 termvelocity is obsolete\u0022 so I guess it has been.. obsolited? Can\u0027t it be calculated with available information if you need it?\u003C/p\u003E\u003Cp\u003Eedit - here\u0027s a post about it, the \u0022ksp constants\u0022 probably aren\u0027t valid anymore since recent aero overhauls but it\u0027s a starting point...? \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98184-Wrong-results-calculating-terminal-velocity\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/98184-Wrong-results-calculating-terminal-velocity\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-05T17:48:20Z\u0022 title=\u002208/05/2015 05:48  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 5, 2015\u003C/time\u003E by kurja\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-08-05T20:56:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kurja\u0022 data-cite=\u0022kurja\u0022\u003E\u003Cdiv\u003Eit returns \u0022as of kos 17.2 termvelocity is obsolete\u0022 so I guess it has been.. obsolited? Can\u0027t it be calculated with available information if you need it?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat makes it exceptionally hard to return a simple single number for it is that with the KSP 1.0 aero model, terminal speed is shape and rotation dependant. If your rocket is aimed nose-first like an arrow, it has much higher terminal speed than if it\u0027s pushing sideways through the air. If the rocket is tumbling and rotating, this means it\u0027s going to have a constantly changing terminal speed from one instant to the next depending on its orientation.\u003C/p\u003E\u003Cp\u003EThat\u0027s why it became obsolete in kOS 0.17.2 - because the stock game changed in such a fashion that it\u0027s no longer a simple universal value.\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2015-08-05T21:11:10Z","Content":"\n\u003Cp\u003EIs there some way to determine the total torque a reaction wheel provides, the maximum thrust of an RCS thruster, the maximum gimbal of an engine and the total moment of inertia of the vessel?\u003C/p\u003E\u003Cp\u003EMy steering script in RSS currently needs custom PID parameters per vessel. So I\u0027m trying to build something that automatically tunes the PID. I could probably approximate the moment of inertia in the yaw and pitch direction by playing with the mass and position of each part, but that leaves the roll and it\u0027s not very elegant...\u003C/p\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2015-08-06T00:41:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kurja\u0022 data-cite=\u0022kurja\u0022\u003E\u003Cdiv\u003Eit returns \u0022as of kos 17.2 termvelocity is obsolete\u0022 so I guess it has been.. obsolited? Can\u0027t it be calculated with available information if you need it?\u003Cp\u003Eedit - here\u0027s a post about it, the \u0022ksp constants\u0022 probably aren\u0027t valid anymore since recent aero overhauls but it\u0027s a starting point...? \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98184-Wrong-results-calculating-terminal-velocity\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/98184-Wrong-results-calculating-terminal-velocity\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m slowly working on a script that calculates drag online, which should be enough to compute terminal velocity then. But it\u0027s still an approximation since it depends on a gravity sensor and doesn\u0027t account for motor gimbal (anyone knows how to do that?) \u003C/p\u003E\u003Cp\u003EIt goes slowly because I only work on it when flying my Zz SSTO, and that doesn\u0027t happen often. \u003C/p\u003E\u003Cp\u003ECredit goes to another poster who wrote most of it, and that other guy who put together the math. \u003C/p\u003E\u003Cp\u003EI\u0027d like to have it published on the examples repo, if they agree and still didn\u0027t publish it.\u003C/p\u003E\n"},{"CreatedByName":"TDW","CreatedById":120346,"CreatedDateTime":"2015-08-06T01:30:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Qigon\u0022 data-cite=\u0022Qigon\u0022\u003E\u003Cdiv\u003EI\u0027m slowly working on a script that calculates drag online,\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Qigon\u0022 data-cite=\u0022Qigon\u0022\u003E\u003Cdiv\u003EI\u0027d like to have it published on the examples repo, if they agree and still didn\u0027t publish it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease do submit it. You can create a pull request for it on the ksLib before it\u0027s finished (it can be labelled as \u0022don\u0027t merge yet\u0022 until you are happy with it).\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Qigon\u0022 data-cite=\u0022Qigon\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Ewhat does fuel_flow * vxcl(ship:up:vector,ship:velocity:surface) mean? Should I ditch it considering the last posts? I\u0027ll try plotting it separately anyway.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry I missed this a while back. Yes you should remove that part of the equation.\u003C/p\u003E\u003Cp\u003EAlso worth pointing out that using the accelerometer experiment readings for this means that \u003Cstrong\u003Eany\u003C/strong\u003E unaccounted for forces will be considered to be part of the lift/drag (this includes RCS, Reaction wheels, engine gambol and any phantom forces) which will give odd readings in space. The further the accelerometer is placed from the centre of rotation the larger the false reading will be.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-06T01:50:48Z\u0022 title=\u002208/06/2015 01:50  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 6, 2015\u003C/time\u003E by TDW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2015-08-06T02:50:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TDW\u0022 data-cite=\u0022TDW\u0022\u003E\u003Cdiv\u003EPlease do submit it. You can create a pull request for it on the ksLib before it\u0027s finished (it can be labelled as \u0022don\u0027t merge yet\u0022 until you are happy with it).\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003ESorry I missed this a while back. Yes you should remove that part of the equation.\u003C/p\u003E\u003Cp\u003EAlso worth pointing out that using the accelerometer experiment readings for this means that \u003Cstrong\u003Eany\u003C/strong\u003E unaccounted for forces will be considered to be part of the lift/drag (this includes RCS, Reaction wheels, engine gambol and any phantom forces) which will give odd readings in space. The further the accelerometer is placed from the centre of rotation the larger the false reading will be.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood to know on the don\u0027t merge thing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EMy plan is not relying on the accelerometer, so torque/vibrations won\u0027t play at all. As a plus, you can have it on any ship. The idea is having a global var to hold last velocity and time. Is there something like a namespace for libs, or any global naming conventions if that\u0027s missing? I\u0027m not well versed in kOS. \u003C/p\u003E\u003Cp\u003EAnyway, globals are like kids/f*rts: you can only stand your own. \u003C/p\u003E\u003Cp\u003EI\u0027d also like to integrate drag over time. It can be interesting for checking out the plane \u0027s envelope and climbing rates. \u003C/p\u003E\u003Cp\u003EBTW it\u0027s been fun using it on reentries, you can see lift go around as you roll unbalanced crafts.\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-08-06T10:33:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThat\u0027s why it became obsolete in kOS 0.17.2 - because the stock game changed in such a fashion that it\u0027s no longer a simple universal value.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStupid question, perhaps, but it still seems a meaningful concept; NanoGauges can display it, for example (perhaps only in a FAR world?), and it seems it could be derived from dynamic pressure, surface velocity, mass, and gravity.\u003C/p\u003E\n"},{"CreatedByName":"TDW","CreatedById":120346,"CreatedDateTime":"2015-08-06T13:01:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Qigon\u0022 data-cite=\u0022Qigon\u0022\u003E\u003Cdiv\u003EGood to know on the don\u0027t merge thing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EMy plan is not relying on the accelerometer, so torque/vibrations won\u0027t play at all. As a plus, you can have it on any ship. The idea is having a global var to hold last velocity and time. Is there something like a namespace for libs, or any global naming conventions if that\u0027s missing? I\u0027m not well versed in kOS. \u003C/p\u003E\u003Cp\u003EAnyway, globals are like kids/f*rts: you can only stand your own. \u003C/p\u003E\u003Cp\u003EI\u0027d also like to integrate drag over time. It can be interesting for checking out the plane \u0027s envelope and climbing rates. \u003C/p\u003E\u003Cp\u003EBTW it\u0027s been fun using it on reentries, you can see lift go around as you roll unbalanced crafts.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou might like to take a look at how \u003Ca href=\u0022https://github.com/KSP-KOS/KSLib/blob/master/library/lib_pid.ks\u0022 rel=\u0022external nofollow\u0022\u003Elib_pid.ks\u003C/a\u003E works. It handles both looking at data change over time and preserving the old info between function calls.\u003C/p\u003E\u003Cp\u003ELists and other complex variables are treated as pointers so if you [set foo to list().] then [set bar to foo.] foo and bar are just 2 ways of calling the same object so changes made to the list by [bar:add( ).] will be seen when you call foo.\u003C/p\u003E\u003Cp\u003EThis lets you create an init function that returns a list and have the parent script decide the variable name. Then when you pass the list name to the running function it can make changes to the list held by the script above it.\u003C/p\u003E\u003Cp\u003ESince the variable name is set by the parent script naming conflicts can be avoided without needing to dig into the function and change every use of the variable name to something else.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-06T13:44:47Z\u0022 title=\u002208/06/2015 01:44  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 6, 2015\u003C/time\u003E by TDW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2015-08-08T13:00:42Z","Content":"\n\u003Cp\u003EHow possible would it be for KoS to sort out some sort of gimbal trim with standard gimbal engines? My shuttle is able to get to the SRB cutoff stage, but it\u0027s unable to adjust the shuttle engines for center of mass after SRB sep. \u003C/p\u003E\u003Cp\u003EI miss Gimbal Auto Trim so much!\u003C/p\u003E\n"},{"CreatedByName":"saabstory88","CreatedById":110598,"CreatedDateTime":"2015-08-08T16:09:06Z","Content":"\n\u003Cp\u003EGreetings,\u003C/p\u003E\u003Cp\u003EI am having trouble finding the answer to this. I am working in a Realism Overhaul environment, and do not care to be bothered by disk mass, which is becoming an issue. Is this baked into the code, or is it configurable? If it is baked, how hard would it be to recompile without disk mass?\u003C/p\u003E\u003Cp\u003EAnswer: Hard, but I got it done\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-08T17:56:49Z\u0022 title=\u002208/08/2015 05:56  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 8, 2015\u003C/time\u003E by saabstory88\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Chickenkeeper","CreatedById":19108,"CreatedDateTime":"2015-08-08T16:14:44Z","Content":"\n\u003Cp\u003EI seem to be having problems with throttle commands, all the throttle commands work in the terminal (except for LOCK MAINTHROTTLE etc. which never seems to work at all) but do nothing when running from a script. It\u0027s definitely nothing to do with the script not being updated or saved as I\u0027ve tried making other changes to the script such as modifications to PRINT and STAGE commands, and they work fine. The throttle however remains completely unresponsive. Has anyone else experienced this?\u003C/p\u003E\n"},{"CreatedByName":"Chickenkeeper","CreatedById":19108,"CreatedDateTime":"2015-08-08T20:12:20Z","Content":"\n\u003Cp\u003ENever mind, I was just being a dumb dumb. The throttle wasn\u0027t working because the program was ending as the throttle was being set, so the throttle ended up resetting back to its previous state instantly. I\u0027ve made some modifications and everything works fine now.\u003C/p\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2015-08-09T16:48:28Z","Content":"\n\u003Cp\u003EWhat is the command to unlock the steering? I\u0027m finding that mechjeb\u0027s smart ASS SURF is better for a particular maneuver later on in the ascent profile. What I am doing right now is having my KOS program launch my shuttle, do the roll program and the gravity turn, as well as staging the SRBs. When a certain altitude is reached, the program ends and SURF takes over immediately, putting the shuttle into the non-inverted stage of the ascent.\u003C/p\u003E\u003Cp\u003EWhat I\u0027m wanting to do instead is have the program unlock the steering at this point but maintain control of the throttle so that when 35km Periapsis is achieved, MECO happens.\u003C/p\u003E\u003Cp\u003Ee: Actually, is there a wait until speed command? So I can have the steering unlock at say 2500m/s surface speed?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-09T17:35:29Z\u0022 title=\u002208/09/2015 05:35  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 9, 2015\u003C/time\u003E by falken\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-08-10T09:19:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022falken\u0022 data-cite=\u0022falken\u0022\u003E\u003Cdiv\u003EWhat is the command to unlock the steering?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Euhh... it\u0027s UNLOCK STEERING.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EActually, is there a wait until speed command?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe command\u0027s pattern is WAIT UNTIL \u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003Ewhatever\u003C/em\u003E\u003C/span\u003E.\u003C/p\u003E\u003Cp\u003EWhere \u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003Ewhatever\u003C/em\u003E\u003C/span\u003E is any sort of expression that results in a Boolean true or false.\u003C/p\u003E\u003Cp\u003ESo you could do:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EWAIT UNTIL ship:velocity:surface:mag \u0026gt;= 2500.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIn that case the \u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003Ewhatever\u003C/em\u003E\u003C/span\u003E ended up being \u003Cem\u003Eship:velocity:surface:mag \u0026gt;= 2500\u003C/em\u003E.\u003C/p\u003E\n"}]}