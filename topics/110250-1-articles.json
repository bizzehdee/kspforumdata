{"TopicId":110250,"ForumId":29,"TopicTitle":"ProtoVessel.Parts list empty while recovering","CreatedByName":"Tsynique","CreatedById":100257,"CreatedDateTime":"2015-05-21T15:49:07Z","PageNum":1,"Articles":[{"CreatedByName":"Tsynique","CreatedById":100257,"CreatedDateTime":"2015-05-21T15:49:07Z","Content":"\n\u003Cp\u003EI am dealing with onVesselRecoveryProcessing(ProtoVessel pv, MissionRecoveryDialog dialog, float recoveryFraction) event method.\u003C/p\u003E\u003Cp\u003EWhat I need is a List\u0026lt;\u0026gt; of Parts that the recovered vessel contains. Problem is the pv object which is of type ProtoVessel for some reason doesn\u0027t contain any Parts: all possible lists are empty. ProtoVessel.vesselRef didn\u0027t help either. In the method which is called before this one - OnVesselRecoveryRequested(Vessel v) - Vessel type object AND ProtoVessel type objects cointain Parts normally. However, when recovering from SpaceCenter or TrackingStation that method is not called. \u003C/p\u003E\u003Cp\u003EWhat I managed to do was find the ConfigNode of the VESSEL from FLIGHTSTATE node which contains all the parts. Problem with that is that it contains very different values and converting manually (with a wrapper function) seems rather unreasonable. \u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003ESo\u003C/span\u003E, my question is, is there are a way to sanely (not manually) convert a PART from FLIGHTSTATE to \u0022normal\u0022 PART? I have added a comparison below.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EOR\u003C/span\u003E alternatively is there a way to force the ProtoVessel object or it\u0027s related Vessel object to repopulate their Part Lists\u0026lt;\u0026gt; in the onVesselRecoveryProcessing() method?\u003C/p\u003E\u003Cp\u003EAny help will be very appreciated!\u003C/p\u003E\u003Cp\u003E[table=width: 100%]\u003C/p\u003E\u003Cp\u003E[tr]\u003C/p\u003E\u003Cp\u003E [td]PART saved by editor[/td]\u003C/p\u003E\u003Cp\u003E [td]Same PART from FLIGHTSTATE after flight scene was loaded[/td]\u003C/p\u003E\u003Cp\u003E[/tr]\u003C/p\u003E\u003Cp\u003E[tr]\u003C/p\u003E\u003Cp\u003E [td]\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPART\u003Cbr\u003E{\u003Cbr\u003E\tpart = mk1pod_4294814930\u003Cbr\u003E\tpartName = Part\u003Cbr\u003E\tpos = 0,15,0\u003Cbr\u003E\tattPos = 0,0,0\u003Cbr\u003E\tattPos0 = 0,15,0\u003Cbr\u003E\trot = 0,0,0,1\u003Cbr\u003E\tattRot = 0,0,0,1\u003Cbr\u003E\tattRot0 = 0,0,0,1\u003Cbr\u003E\tmir = 1,1,1\u003Cbr\u003E\tsymMethod = Radial\u003Cbr\u003E\tistg = 0\u003Cbr\u003E\tdstg = 0\u003Cbr\u003E\tsidx = -1\u003Cbr\u003E\tsqor = -1\u003Cbr\u003E\tsepI = 0\u003Cbr\u003E\tattm = 0\u003Cbr\u003E\tmodCost = 0\u003Cbr\u003E\tmodMass = 0\u003Cbr\u003E\tmodSize = (0.0, 0.0, 0.0)\u003C/pre\u003E\u003Cp\u003E[/td]\u003C/p\u003E\u003Cp\u003E [td]\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\t\t\tPART\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tname = mk1pod\u003Cbr\u003E\t\t\t\tcid = 4294814930\u003Cbr\u003E\t\t\t\tuid = 3259493640\u003Cbr\u003E\t\t\t\tmid = 859288275\u003Cbr\u003E\t\t\t\tlaunchID = 50\u003Cbr\u003E\t\t\t\tparent = 0\u003Cbr\u003E\t\t\t\tposition = 0,0,0\u003Cbr\u003E\t\t\t\trotation = 0,0,0,1\u003Cbr\u003E\t\t\t\tmirror = 1,1,1\u003Cbr\u003E\t\t\t\tsymMethod = Radial\u003Cbr\u003E\t\t\t\tistg = 0\u003Cbr\u003E\t\t\t\tdstg = 0\u003Cbr\u003E\t\t\t\tsqor = -1\u003Cbr\u003E\t\t\t\tsepI = 0\u003Cbr\u003E\t\t\t\tsidx = -1\u003Cbr\u003E\t\t\t\tattm = 0\u003Cbr\u003E\t\t\t\tsrfN = None, -1\u003Cbr\u003E\t\t\t\tattN = None, -1\u003Cbr\u003E\t\t\t\tattN = None, -1\u003Cbr\u003E\t\t\t\tmass = 0.8\u003Cbr\u003E\t\t\t\ttemp = 287.799555698255\u003Cbr\u003E\t\t\t\texpt = 0.5\u003Cbr\u003E\t\t\t\tstate = 0\u003Cbr\u003E\t\t\t\tconnected = True\u003Cbr\u003E\t\t\t\tattached = True\u003Cbr\u003E\t\t\t\tflag = Squad/Flags/default\u003Cbr\u003E\t\t\t\trTrf = mk1pod\u003Cbr\u003E\t\t\t\tmodCost = 0\u003Cbr\u003E\t\t\t\tcrew = Jebediah Kerman\u003C/pre\u003E\u003Cp\u003E[/td]\u003C/p\u003E\u003Cp\u003E[/tr]\u003C/p\u003E\u003Cp\u003E[/table]\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-21T15:51:51Z\u0022 title=\u002205/21/2015 03:51  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 21, 2015\u003C/time\u003E by Tsynique\u003C/strong\u003E\n\u003C/span\u003E\n"}]}