{"TopicId":104657,"ForumId":34,"TopicTitle":"Dynamic Deflection v0.5","CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-22T10:31:33Z","PageNum":1,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-22T10:31:33Z","Content":"All my minor mods are going into a single thread post-1.0 release. Please check my signature for the new thread\n\nThe control authority a plane needs from it\u0027s control surfaces may vary over the length of a flight. At low altitude or high speed, the deflection we have may be too high causing excessive G loadings, but we can\u0027t reduce it because at higher altitudes we need all of that deflection to keep the nose pointing forwards. Currently, the tools we have for this problem focus on changing input scale (fine control, FAR\u0027s dynamic control authority (DCA) helper, etc.) which isn\u0027t always what is needed.\n\nDynamic Control Surface Deflection approaches this from a different direction, altering the maximum deflection individual control surfaces can use according to the current dynamic pressure. This deflection scaling can be different for each set of control surfaces (so you can set ailerons to scale differently to elevators, etc.).\n\n[**Download**](https://github.com/Crzyrndm/DynamicControls/releases) **-** [**Source**](https://github.com/Crzyrndm/DynamicControls/)\n\n\u003E \n\u003E \n\u003E [![0w1hsvK.png](http://i.imgur.com/0w1hsvK.png)](https://github.com/Crzyrndm/DynamicControls/)\n\u003E \n\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/5ASoiwt1C48?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\nNOTE: This fixes SAS wobble with much lower complexity than PID tuning and without permanently compromising control output\n\nNOTE2: To open the window, mouse over a control surface and press \u0027K\u0027\n\nLicense is GPLv3\n\n**Edited \u003Ctime datetime=\u00222015-04-26T23:08:21Z\u0022 title=\u002204/26/2015 11:08  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 26, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-04-22T10:45:49Z","Content":"Hmm. Can you get info from FAR to determine what inputs are sent to a control surface? I\u0027m thinking about things like elevons which might want roll scaled differently to pitch, or a control with some AoA input.\n\nAlso this should let you effectively disable a surface in flight, shouldn\u0027t it?"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-22T10:51:49Z","Content":"Maybe (will get it working on the basics first, but probably can), and yes. It also serves as an Auto speed/altitude tuner for PA/SAS ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) (given correct inputs)\n\nEDIT\n\nFlying on Stock SAS (no tweaks at all) @400m/s @ 500m in FAR with no wobble (dyn press \u003E 80kPa). This has definitely the most useful mod I\u0027ve made in a while ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n\u003E ![ymh86vN.png](http://i.imgur.com/ymh86vN.png)\n\n**Edited \u003Ctime datetime=\u00222015-04-23T22:15:31Z\u0022 title=\u002204/23/2015 10:15  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-04-22T15:06:09Z","Content":"@*Crzyrndm*\n\n*Another must have will be watching patiently. Awesome work as always* ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T00:43:30Z","Content":"Git repo: [https://github.com/Crzyrndm/DynamicControls/](https://github.com/Crzyrndm/DynamicControls/)\n\nI wouldn\u0027t recommend anything serious just yet (for one, symmetry isn\u0027t behaving at all), but it\u0027s there if you want to have a look"},{"CreatedByName":"Nothalogh","CreatedById":139345,"CreatedDateTime":"2015-04-23T00:50:38Z","Content":"This is a magnificent idea.\n\nIt\u0027s always been a futile battle between pitch authority for takeoff and trim at hypersonic speeds"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T02:01:51Z","Content":"[**v0.1 release**](https://github.com/Crzyrndm/DynamicControls/releases/tag/0.1)\n\nMouse over a control surface (in editor or flight) and press \u0027K\u0027 to open the editor window for that part and it\u0027s symmetry counterparts (window behaves very similarly to B9 PWings configuration window in this respect)\n\nThe left hand column is the dynamic pressure in kPa (for those using FAR, it doesn\u0027t match ferrams value of Q just yet E: Fixed on git), right is the percentage of deflection angle (that you set as normal in the editor) that it can use at that Q level. Output deflection is clamped between 0 and 89 degrees (you can input values \u003E 100%).\n\nAll symmetry counterparts receive the same settings automatically, and there is a copy to all button for doing a quick setup ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nNow, off to do something about that window... (E: Git version improved)\n\nNOTE: I won\u0027t do another packaged release for ~24 hours, but you can get the latest updates directly from github\n\n**Edited \u003Ctime datetime=\u00222015-04-23T03:13:07Z\u0022 title=\u002204/23/2015 03:13  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"gilflo","CreatedById":62881,"CreatedDateTime":"2015-04-23T03:47:19Z","Content":"Great work, that\u0027s matching the idea i got for use of inner and outer ailerons on roll axis. It\u0027s now possible to use outer ailerons at low speed and low dynamic pressure and inner ailerons (less torque on roll axis) at high dynamic pressure.\n\nLess deflection for yaw at high speed/high dynamic pressure is also very good as it protects tail fin integrity and plane integrity.\n\nCould you give us an idea of dynamic pressure at different speed/ mach and altitude?\n\nThank\u0027s for the work!"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T04:01:53Z","Content":"FAR has a dynamic pressure (Q) readout in it\u0027s data (in Pa, note that settings here are in kPa), and I\u0027ll add one somewhere for tomorrows release ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nThe equation for Q is: density \\* velocity^2^ \\* 0.5 (decreases exponentially with altitude, increases by the square of velocity). Typical takeoff Q is ~10kPa IIRC\n\n- - - Updated - - -\n\nAnd a video\n\n\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/5ASoiwt1C48?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\n**Edited \u003Ctime datetime=\u00222015-04-23T04:09:28Z\u0022 title=\u002204/23/2015 04:09  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-23T08:54:29Z","Content":"That is a great idea ! I\u0027ll have a look ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T10:38:25Z","Content":"v0.2\n\n- A default setup can be created (from file only at the moment) that will be applied to all new parts automatically\n- Dynamic pressure (Q) readout added to flight UI\n- Automatic addition of new entries (no more add button), just keep hitting tab\n- Fixed \u0022Copy to all\u0022 causing all surfaces to always use the same setup (only symmetry relations should copy each other permanently)\n- internal Q now matches FAR Q calculation when using FAR\n- UI cleanup (slightly, it\u0027s never going to be pretty ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif))\n\n**Edited \u003Ctime datetime=\u00222015-04-23T10:42:03Z\u0022 title=\u002204/23/2015 10:42  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T20:43:37Z","Content":"v0.3\n\n- Added buttons to restore defaults and to save as default\n- Fixed text focusing so it doesn\u0027t get stuck after creating a new row (this is why you don\u0027t make releases when dead tired...)\n\nMight look into adding a little graph to better visualise what\u0027s happening, but otherwise this is good for a while.\n\n**Edited \u003Ctime datetime=\u00222015-04-23T20:48:31Z\u0022 title=\u002204/23/2015 08:48  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"DavidBowman","CreatedById":111419,"CreatedDateTime":"2015-04-23T21:21:56Z","Content":"You must spread some Reputation around before giving it to Crzyrndm again.\n\nDang it!"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-04-23T21:48:44Z","Content":"\u003E \n\u003E You must spread some Reputation around before giving it to Crzyrndm again.\n\u003E Dang it!\n\nNo worries I got that for you ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif) awesome work Crzy!"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-04-23T21:53:42Z","Content":"Crzyrndm, I had to remove your download link until you add the license to both the download package and the OP, feel free to put it back once you have done so."},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T21:55:46Z","Content":"Oops, forgot those... (Fixed)\n\n**Edited \u003Ctime datetime=\u00222015-04-23T21:59:22Z\u0022 title=\u002204/23/2015 09:59  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-04-23T22:13:00Z","Content":"Thanks for taking care of it so quickly. Congrats on your release! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T22:38:31Z","Content":"**Major Bug Discovered**\n\nDon\u0027t set the deflection at the lowest Q (ie. the first entry) to anything other than 100%. Reloading craft is causing them to use the last set value and then apply the % again on top of that. Will update as soon as I have a fix\n\n**Edited \u003Ctime datetime=\u00222015-04-23T22:40:50Z\u0022 title=\u002204/23/2015 10:40  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T23:48:17Z","Content":"Urgh, 4 releases in 24 hours just isn\u0027t my style ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif). My apologies to anyone who got caught in the bugs in 0.2/0.3 that I really should have caught\n\nv0.4\n\n- Fixed 100% deflection angle not being saved correctly\n- Fixed loading of config when no config exists\n- Fixed single nullref on closing the window\n\nEdit\n\nMake that 5... (Dang it, It will be right this time \\*shakes fist at PC\\*)\n\nv0.4.1\n\n- Fixed FAR ctrl surface 100% deflection being saved as 0 unless window opened over it in editor\n\n**Edited \u003Ctime datetime=\u00222015-04-24T01:05:16Z\u0022 title=\u002204/24/2015 01:05  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 24, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-24T22:23:53Z","Content":"v0.5\n\n- Added a plot dropdown to better visualise curve shape (little button at the bottom of the window)\n- Few minor fixes"},{"CreatedByName":"DuoDex","CreatedById":107061,"CreatedDateTime":"2015-04-26T23:20:42Z","Content":"Closed by request."}]}