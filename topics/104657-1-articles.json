{"TopicId":104657,"ForumId":34,"TopicTitle":"Dynamic Deflection v0.5","CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-22T10:31:33Z","PageNum":1,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-22T10:31:33Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003EAll my minor mods are going into a single thread post-1.0 release. Please check my signature for the new thread\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe control authority a plane needs from it\u0027s control surfaces may vary over the length of a flight. At low altitude or high speed, the deflection we have may be too high causing excessive G loadings, but we can\u0027t reduce it because at higher altitudes we need all of that deflection to keep the nose pointing forwards. Currently, the tools we have for this problem focus on changing input scale (fine control, FAR\u0027s dynamic control authority (DCA) helper, etc.) which isn\u0027t always what is needed.\u003C/p\u003E\u003Cp\u003EDynamic Control Surface Deflection approaches this from a different direction, altering the maximum deflection individual control surfaces can use according to the current dynamic pressure. This deflection scaling can be different for each set of control surfaces (so you can set ailerons to scale differently to elevators, etc.).\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Crzyrndm/DynamicControls/releases\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EDownload\u003C/span\u003E\u003C/strong\u003E\u003C/a\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E - \u003C/span\u003E\u003C/strong\u003E\u003Ca href=\u0022https://github.com/Crzyrndm/DynamicControls/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003ESource\u003C/span\u003E\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Ca href=\u0022https://github.com/Crzyrndm/DynamicControls/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/0w1hsvK.png\u0022 alt=\u00220w1hsvK.png\u0022\u003E\u003C/a\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/5ASoiwt1C48?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENOTE: This fixes SAS wobble with much lower complexity than PID tuning and without permanently compromising control output\u003C/p\u003E\u003Cp\u003ENOTE2: To open the window, mouse over a control surface and press \u0027K\u0027\u003C/p\u003E\u003Cp\u003ELicense is GPLv3\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-26T23:08:21Z\u0022 title=\u002204/26/2015 11:08  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 26, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-04-22T10:45:49Z","Content":"\n\u003Cp\u003EHmm. Can you get info from FAR to determine what inputs are sent to a control surface? I\u0027m thinking about things like elevons which might want roll scaled differently to pitch, or a control with some AoA input.\u003C/p\u003E\u003Cp\u003EAlso this should let you effectively disable a surface in flight, shouldn\u0027t it?\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-22T10:51:49Z","Content":"\n\u003Cp\u003EMaybe (will get it working on the basics first, but probably can), and yes. It also serves as an Auto speed/altitude tuner for PA/SAS \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E (given correct inputs)\u003C/p\u003E\u003Cp\u003EEDIT\u003C/p\u003E\u003Cp\u003EFlying on Stock SAS (no tweaks at all) @400m/s @ 500m in FAR with no wobble (dyn press \u0026gt; 80kPa). This has definitely the most useful mod I\u0027ve made in a while \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/ymh86vN.png\u0022 alt=\u0022ymh86vN.png\u0022\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T22:15:31Z\u0022 title=\u002204/23/2015 10:15  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-04-22T15:06:09Z","Content":"\n\u003Cp\u003E@\u003Cem\u003E\u003Cspan style=\u0022color:#3e3e3e;\u0022\u003ECrzyrndm\u003C/span\u003E\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#3e3e3e;\u0022\u003EAnother must have will be watching patiently. Awesome work as always \u003C/span\u003E\u003C/em\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T00:43:30Z","Content":"\n\u003Cp\u003EGit repo: \u003Ca href=\u0022https://github.com/Crzyrndm/DynamicControls/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Crzyrndm/DynamicControls/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI wouldn\u0027t recommend anything serious just yet (for one, symmetry isn\u0027t behaving at all), but it\u0027s there if you want to have a look\u003C/p\u003E\n"},{"CreatedByName":"Nothalogh","CreatedById":139345,"CreatedDateTime":"2015-04-23T00:50:38Z","Content":"\n\u003Cp\u003EThis is a magnificent idea.\u003C/p\u003E\u003Cp\u003EIt\u0027s always been a futile battle between pitch authority for takeoff and trim at hypersonic speeds\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T02:01:51Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://github.com/Crzyrndm/DynamicControls/releases/tag/0.1\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003Ev0.1 release\u003C/strong\u003E\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EMouse over a control surface (in editor or flight) and press \u0027K\u0027 to open the editor window for that part and it\u0027s symmetry counterparts (window behaves very similarly to B9 PWings configuration window in this respect)\u003C/p\u003E\u003Cp\u003EThe left hand column is the dynamic pressure in kPa (for those using FAR, it doesn\u0027t match ferrams value of Q just yet E: Fixed on git), right is the percentage of deflection angle (that you set as normal in the editor) that it can use at that Q level. Output deflection is clamped between 0 and 89 degrees (you can input values \u0026gt; 100%).\u003C/p\u003E\u003Cp\u003EAll symmetry counterparts receive the same settings automatically, and there is a copy to all button for doing a quick setup \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow, off to do something about that window... (E: Git version improved)\u003C/p\u003E\u003Cp\u003ENOTE: I won\u0027t do another packaged release for ~24 hours, but you can get the latest updates directly from github\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T03:13:07Z\u0022 title=\u002204/23/2015 03:13  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"gilflo","CreatedById":62881,"CreatedDateTime":"2015-04-23T03:47:19Z","Content":"\n\u003Cp\u003EGreat work, that\u0027s matching the idea i got for use of inner and outer ailerons on roll axis. It\u0027s now possible to use outer ailerons at low speed and low dynamic pressure and inner ailerons (less torque on roll axis) at high dynamic pressure.\u003C/p\u003E\u003Cp\u003ELess deflection for yaw at high speed/high dynamic pressure is also very good as it protects tail fin integrity and plane integrity.\u003C/p\u003E\u003Cp\u003ECould you give us an idea of dynamic pressure at different speed/ mach and altitude?\u003C/p\u003E\u003Cp\u003EThank\u0027s for the work!\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T04:01:53Z","Content":"\n\u003Cp\u003EFAR has a dynamic pressure (Q) readout in it\u0027s data (in Pa, note that settings here are in kPa), and I\u0027ll add one somewhere for tomorrows release \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe equation for Q is: density * velocity\u003Csup\u003E2\u003C/sup\u003E * 0.5 (decreases exponentially with altitude, increases by the square of velocity). Typical takeoff Q is ~10kPa IIRC\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAnd a video\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/5ASoiwt1C48?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T04:09:28Z\u0022 title=\u002204/23/2015 04:09  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-23T08:54:29Z","Content":"\n\u003Cp\u003EThat is a great idea ! I\u0027ll have a look \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T10:38:25Z","Content":"\n\u003Cp\u003Ev0.2\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EA default setup can be created (from file only at the moment) that will be applied to all new parts automatically \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDynamic pressure (Q) readout added to flight UI \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAutomatic addition of new entries (no more add button), just keep hitting tab \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed \u0022Copy to all\u0022 causing all surfaces to always use the same setup (only symmetry relations should copy each other permanently) \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Einternal Q now matches FAR Q calculation when using FAR \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EUI cleanup (slightly, it\u0027s never going to be pretty \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E) \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T10:42:03Z\u0022 title=\u002204/23/2015 10:42  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T20:43:37Z","Content":"\n\u003Cp\u003Ev0.3\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EAdded buttons to restore defaults and to save as default \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed text focusing so it doesn\u0027t get stuck after creating a new row (this is why you don\u0027t make releases when dead tired...) \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMight look into adding a little graph to better visualise what\u0027s happening, but otherwise this is good for a while.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T20:48:31Z\u0022 title=\u002204/23/2015 08:48  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DavidBowman","CreatedById":111419,"CreatedDateTime":"2015-04-23T21:21:56Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EYou must spread some Reputation around before giving it to Crzyrndm again.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EDang it!\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-04-23T21:48:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DavidBowman\u0022 data-cite=\u0022DavidBowman\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EYou must spread some Reputation around before giving it to Crzyrndm again.\u003C/span\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EDang it!\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo worries I got that for you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E awesome work Crzy!\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-04-23T21:53:42Z","Content":"\n\u003Cp\u003ECrzyrndm, I had to remove your download link until you add the license to both the download package and the OP, feel free to put it back once you have done so.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T21:55:46Z","Content":"\n\u003Cp\u003EOops, forgot those... (Fixed)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T21:59:22Z\u0022 title=\u002204/23/2015 09:59  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-04-23T22:13:00Z","Content":"\n\u003Cp\u003EThanks for taking care of it so quickly. Congrats on your release! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T22:38:31Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EMajor Bug Discovered\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDon\u0027t set the deflection at the lowest Q (ie. the first entry) to anything other than 100%. Reloading craft is causing them to use the last set value and then apply the % again on top of that. Will update as soon as I have a fix\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T22:40:50Z\u0022 title=\u002204/23/2015 10:40  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T23:48:17Z","Content":"\n\u003Cp\u003EUrgh, 4 releases in 24 hours just isn\u0027t my style \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E. My apologies to anyone who got caught in the bugs in 0.2/0.3 that I really should have caught\u003C/p\u003E\u003Cp\u003Ev0.4\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFixed 100% deflection angle not being saved correctly \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed loading of config when no config exists \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed single nullref on closing the window \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEdit\u003C/p\u003E\u003Cp\u003EMake that 5... (Dang it, It will be right this time *shakes fist at PC*)\u003C/p\u003E\u003Cp\u003Ev0.4.1\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFixed FAR ctrl surface 100% deflection being saved as 0 unless window opened over it in editor \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-24T01:05:16Z\u0022 title=\u002204/24/2015 01:05  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 24, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-24T22:23:53Z","Content":"\n\u003Cp\u003Ev0.5\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EAdded a plot dropdown to better visualise curve shape (little button at the bottom of the window)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFew minor fixes\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"DuoDex","CreatedById":107061,"CreatedDateTime":"2015-04-26T23:20:42Z","Content":"\n\u003Cp\u003EClosed by request.\u003C/p\u003E\n"}]}