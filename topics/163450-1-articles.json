{"TopicId":163450,"ForumId":29,"TopicTitle":"Engine gimbal only works in 1 direction","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T11:51:17Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T11:51:17Z","Content":"\n\u003Cp\u003E\nI\u0027m working on some engine configs, and found that the gimbaling only works in one direction.\n\u003C/p\u003E\n\u003Cp\u003E\nCode here:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t \tgimbalResponseSpeed = 3 // \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E really hates this, fasten your seatbelt this ship is gonna get FUNKEY\n\t \tuseGimbalResponseSpeed = true\n\t\tname = ModuleGimbal\n\t\tgimbalTransformName = Reactor\n\t\tgimbalRange = 7\n\n\t\t// Added the following to see if it would help, it did not\n\t\tenableYaw = true\n\t\tenablePitch = true\n\t\tenableRoll = true\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNot sure what else to look at any ideas?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m seeing this in multiple engines. \u00A0The models are old, not sure if that would be a factor. \u00A0My understanding was that the ModuleGimbal simply finds the transform and moves it in the appropriate direction.\n\u003C/p\u003E\n"},{"CreatedByName":"steedcrugeon","CreatedById":168050,"CreatedDateTime":"2017-07-19T13:05:32Z","Content":"\n\u003Cp\u003E\nits a bit of a bodge but try:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EgimbalRangeXN = 7\ngimbalRangeXP = 7\ngimbalRangeYN = 7\ngimbalRangeYP = 7\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nin place of\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EgimbalRange = 7\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand see if the problem persists?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T14:40:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125441\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500469532\u0022 data-ipsquote-userid=\u0022168050\u0022 data-ipsquote-username=\u0022steedcrugeon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, steedcrugeon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nits a bit of a bodge but try:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EgimbalRangeXN = 7\ngimbalRangeXP = 7\ngimbalRangeYN = 7\ngimbalRangeYP = 7\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nin place of\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EgimbalRange = 7\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand see if the problem persists?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI did, it still persists.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-07-19T17:24:53Z","Content":"\n\u003Cp\u003E\nIs the gimbal transform orientation setup properly?\u00A0 IIRC in recent versions, they need the same orientation as an engine thrust transform (Z\u002B = exhaust direction).\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T17:54:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125677\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500485093\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs the gimbal transform orientation setup properly?\u00A0 IIRC in recent versions, they need the same orientation as an engine thrust transform (Z\u002B = exhaust direction).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t know, I\u0027ll have to look at it in Blender :-(\n\u003C/p\u003E\n\u003Cp\u003E\nIs it possible in code to change\u00A0the orientation of a transform?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2017-07-19T17:57:01Z","Content":"\n\u003Cp\u003E\nGimbal transform direction is likely the problem. \u00A0It\u0027s unfortunately not possible to change without modifying the model.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T17:57:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125704\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500487021\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGimbal transform direction is likely the problem. \u00A0It\u0027s unfortunately not possible to change without modifying the model.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you think it can be done in Blender? importing and then exporting?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2017-07-19T17:59:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125705\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500487059\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo you think it can be done in Blender? importing and then exporting?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn theory yes. \u00A0I\u0027m not super familiar with the mu export/import plugin though and I\u0027m not sure if anything else would have to be rebuilt.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T18:00:57Z","Content":"\n\u003Cp\u003E\nHmmm. \u00A0Could I add a transform in code to the same location as the bad one? \u00A0If so, then maybe I can do that and have it pointing in the correct direction\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2017-07-19T18:08:52Z","Content":"\n\u003Cp\u003E\nWell you\u0027d need everything parented under the gimbal transform to stay there, otherwise it won\u0027t do anything. \u00A0In theory you could rotate the gimbal transform to the correct orientation then rotate all of its children back, but you\u0027re probably better off trying the import/export thing.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T18:47:50Z","Content":"\n\u003Cp\u003E\ncan \u00A0you remove a transform from an object and then add it to another object?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2017-07-19T19:00:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125747\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500490070\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ncan \u00A0you remove a transform from an object and then add it to another object?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes. \u00A0I\u0027d be cautious of writing code just for this one off though. \u00A0You have to distribute and maintain it. \u00A0Even if re-exporting the model is initially more work it might be worth it.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-19T19:06:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125755\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500490820\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes. \u00A0I\u0027d be cautious of writing code just for this one off though. \u00A0You have to distribute and maintain it. \u00A0Even if re-exporting the model is initially more work it might be worth it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, it\u0027s 4 engines here, and then at least one in KWRocketry which I noticed this morning (maybe more). \u00A0It could be a useful little mod to help adapt old parts\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-07-19T20:52:19Z","Content":"\n\u003Cp\u003E\nI\u0027ve had decent luck importing models into Blender with the .mu import/export plugin.\n\u003C/p\u003E\n\u003Cp\u003E\nA few notes though -- ALL of the transform orientations will be screwed up.\u00A0 You\u0027ll pretty much have to re-rig/re-orient all of the meshes.\u00A0 Something to do with the way the .mu plugin tries to convert and swap Y and Z axis\u0027.\u00A0 (maybe I have an old version of the plugin?)\n\u003C/p\u003E\n\u003Cp\u003E\nSmoothing data will also most likely be lost.\u00A0 Models that I\u0027ve imported into blender had to have their edge smoothing redone entirely.\u00A0 It seems like the .mu import/export tool doesn\u0027t keep split edges/normals.\n\u003C/p\u003E\n\u003Cp\u003E\nParts with animations -- ugg... you\u0027ll have to re-animate them after you fix the transform orientations (the animations will work as-imported; but as soon as you start fixing transform orientations, the animations will go all sorts of sideways).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m with \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119688\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0022 rel=\u0022\u0022\u003E@blowfish\u003C/a\u003E though -- trying to fix them through code is possible, but going a bit overboard.\u00A0 The \u0027proper\u0027 way to fix them is to fix the problem in the model itself (in my opinion of course).\u00A0 And once you have them all fixed up in Blender... you\u0027ve got a nice ready-to-edit/alter model file ready for the future.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-20T15:28:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125829\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500497539\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve had decent luck importing models into Blender with the .mu import/export plugin.\n\u003C/p\u003E\n\u003Cp\u003E\nA few notes though -- ALL of the transform orientations will be screwed up.\u00A0 You\u0027ll pretty much have to re-rig/re-orient all of the meshes.\u00A0 Something to do with the way the .mu plugin tries to convert and swap Y and Z axis\u0027.\u00A0 (maybe I have an old version of the plugin?)\n\u003C/p\u003E\n\u003Cp\u003E\nSmoothing data will also most likely be lost.\u00A0 Models that I\u0027ve imported into blender had to have their edge smoothing redone entirely.\u00A0 It seems like the .mu import/export tool doesn\u0027t keep split edges/normals.\n\u003C/p\u003E\n\u003Cp\u003E\nParts with animations -- ugg... you\u0027ll have to re-animate them after you fix the transform orientations (the animations will work as-imported; but as soon as you start fixing transform orientations, the animations will go all sorts of sideways).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m with \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119688\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0022 rel=\u0022\u0022\u003E@blowfish\u003C/a\u003E though -- trying to fix them through code is possible, but going a bit overboard.\u00A0 The \u0027proper\u0027 way to fix them is to fix the problem in the model itself (in my opinion of course).\u00A0 And once you have them all fixed up in Blender... you\u0027ve got a nice ready-to-edit/alter model file ready for the future.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI do agree, except that I don\u0027t know how to fix it in Blender/unity, etc. \u00A0Code I understand, graphics programs I don\u0027t.\n\u003C/p\u003E\n\u003Cp\u003E\nSo unless someone can help me, I may just have to write a little plugin for this\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-07-24T13:12:10Z","Content":"\n\u003Cp\u003E\nWhile this is going to have to wait until I finish another project, I would envision it to be fairly simple:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nRemove transform from mode\n\u003C/li\u003E\n\u003Cli\u003E\nAdd new transform, use the engine thrust transform (?) to do the proper direction\n\u003C/li\u003E\n\u003Cli\u003E\nAdd transform to new transform.\n\u003C/li\u003E\n\u003Cli\u003E\nUse new transform for gimbaling\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nI know, simple in theory. \u00A0Which is why it will wait a bit\n\u003C/p\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2017-08-02T13:14:15Z","Content":"\n\u003Cp\u003E\nwhat is exactly the part you want?\n\u003C/p\u003E\n\u003Cp\u003E\ni can try it for you (but no promise on the result \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E)\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-08-02T16:25:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223137960\u0022 data-ipsquote-contentid=\u0022163450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501679655\u0022 data-ipsquote-userid=\u0022133496\u0022 data-ipsquote-username=\u0022Skalou\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Skalou said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhat is exactly the part you want?\n\u003C/p\u003E\n\u003Cp\u003E\ni can try it for you (but no promise on the result \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, I\u0027ll get you a file in a bit.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are a few, but right now, one in particular\n\u003C/p\u003E\n"}]}