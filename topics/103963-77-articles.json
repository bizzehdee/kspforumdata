{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":77,"Articles":[{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2015-11-17T06:06:12Z","Content":"\nRbray, if implementing this feature could you make it a togglebale option, I for one enjoy the EVE (and Scatterer when active) working in map view as a significant time is spent in them?\n"},{"CreatedByName":"Elthy","CreatedById":63317,"CreatedDateTime":"2015-11-17T10:20:32Z","Content":"\n[quote name=\u0027blackrack\u0027]I get it, but I still think this should grow into it\u0026#39;s own mod. Also, I\u0026#39;d imagine for planets never visited/scanned the map view should just look like an empty sphere or a low-res one or something, and once you scan them you get the continents/topography view and it looks more like this [URL=\u0022http://www.ufopaedia.org/images/e/e5/Control.png\u0022]http://www.ufopaedia.org/images/e/e5/Control.png[/URL].[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nSuch an awesome idea for a Mod. To bad stock reveals everything (and we know how all the plantes look like), otherwise we could get the same feeling of exploring unseen worlds like when New Horizons send back the first pictures of Pluto...\n"},{"CreatedByName":"Astronomer","CreatedById":18673,"CreatedDateTime":"2015-11-17T16:42:57Z","Content":"\n[quote name=\u0027rbray89\u0027]Bingo. Abstracting things to bare minimum. Pretty views should come from those sending craft to the places :)[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\n[img]http://www.htxt.co.za/wp-content/uploads/2014/06/elite-dangerous.jpg[/img]\u003Cbr\u003E\n\u003Cbr\u003E\n(bottom left?)\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T16:55:40Z","Content":"\n[quote name=\u0027Astronomer\u0027][url]http://www.htxt.co.za/wp-content/uploads/2014/06/elite-dangerous.jpg[/url]\u003Cbr\u003E\n\u003Cbr\u003E\n(bottom left?)[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nYeah... Something with lines of latitude and longitude, where landmasses and oceans have been reduced to lines, as though looking at a map or atlas.\n"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-11-17T17:43:34Z","Content":"\nI\u0026#39;m pretty scared right now, lol... I\u0026#39;ve been thinking precisely in all those things lately, in truly similar ways...\n"},{"CreatedByName":"CaptRobau","CreatedById":41695,"CreatedDateTime":"2015-11-17T17:48:27Z","Content":"\n[quote name=\u0027Poodmund\u0027]Loving the new multi-planet support, I have been playing around with Tekto this evening trying it out using all homemade textures with the new EVE release.\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://imgur.com/a/6j1ck[/url][/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nVery cool!\n"},{"CreatedByName":"Pixely","CreatedById":153366,"CreatedDateTime":"2015-11-17T18:32:53Z","Content":"\n[quote name=\u0027Proot\u0027]I\u0026#39;m pretty scared right now, lol... I\u0026#39;ve been thinking precisely in all those things lately, in truly similar ways...[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nBetter get those tinfoil hats out; Astronomer is the head of the Illuminati after all ;)\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T18:48:43Z","Content":"\nQuick question to whoever would know: Does the water PQS/PQS sphere thing have a different fading altitude than the terrain PQS?\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T19:44:00Z","Content":"\n[quote name=\u0027blackrack\u0027]Quick question to whoever would know: Does the water PQS/PQS sphere thing have a different fading altitude than the terrain PQS?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nDon\u0026#39;t think so.\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T19:56:19Z","Content":"\n[quote name=\u0027rbray89\u0027]Don\u0026#39;t think so.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;m getting the impression they do, will have to check.\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T20:11:54Z","Content":"\n[quote name=\u0027blackrack\u0027]I\u0026#39;m getting the impression they do, will have to check.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nIt should get the same global shader value PlanetOpacity or some such value passed to it.\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T20:55:45Z","Content":"\nFirst, love this work.\u003Cbr\u003E\n\u003Cbr\u003E\nSadly, I encountered a rather strange problem.\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198023[/url]\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198289[/url]\u003Cbr\u003E\n\u003Cbr\u003E\nI haven\u0026#39;t tried scatterer on it\u0026#39;s own but as you can probably tell I am using this with E.V.E and the seperate tone mapper plugin. I\u0026#39;m not sure if the logs will tell you anything but I can upload them if you feel they may show something. What also happens but is hard to capture in a screenshot, when zooming out in the map view I get this strange zooming black area toward the camera. This is 1.0.5 KSP 32 bit on Windows with no launch parameters to alter rendering.\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T20:58:11Z","Content":"\n[quote name=\u0027Manwith Noname\u0027]First, love this work.\u003Cbr\u003E\n\u003Cbr\u003E\nSadly, I encountered a rather strange problem.\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198023[/url]\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198289[/url]\u003Cbr\u003E\n\u003Cbr\u003E\nI haven\u0026#39;t tried scatterer on it\u0026#39;s own but as you can probably tell I am using this with E.V.E and the seperate tone mapper plugin. I\u0026#39;m not sure if the logs will tell you anything but I can upload them if you feel they may show something. What also happens but is hard to capture in a screenshot, when zooming out in the map view I get this strange zooming black area toward the camera. This is 1.0.5 KSP 32 bit on Windows with no launch parameters to alter rendering.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nYou don\u0026#39;t need skytonemapper with the latest version of scatterer. Also, test with scatterer only, we\u0026#39;re not psychics.\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T20:59:07Z","Content":"\n[quote name=\u0027Manwith Noname\u0027]First, love this work.\u003Cbr\u003E\n\u003Cbr\u003E\nSadly, I encountered a rather strange problem.\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198023[/url]\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198289[/url]\u003Cbr\u003E\n\u003Cbr\u003E\nI haven\u0026#39;t tried scatterer on it\u0026#39;s own but as you can probably tell I am using this with E.V.E and the seperate tone mapper plugin. I\u0026#39;m not sure if the logs will tell you anything but I can upload them if you feel they may show something. What also happens but is hard to capture in a screenshot, when zooming out in the map view I get this strange zooming black area toward the camera. This is 1.0.5 KSP 32 bit on Windows with no launch parameters to alter rendering.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nHmmm....\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nBlackrack, does your shader perchance include \u0022IgnoreProjector\u0022=\u0022True\u0022? If it doesn\u0026#39;t, it should :)\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T21:01:34Z","Content":"\nI\u0026#39;ll go and remove everything but scatterer but I only added it in the early hours of this morning and had not encountered this prior...even in older versions of the game with the same group of mods.\u003Cbr\u003E\n\u003Cbr\u003E\nEdit: Right, before going down that route I thought I\u0026#39;d try with just removing the tone mapper. That seems to have resolved it mostly. I\u0026#39;ll do some more testing with just scatterer, then add just E.V.E back and see how it goes. I figure compatibility between these two is important.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-17T21:29:17Z\u0022 title=\u002211/17/2015 09:29  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T21:21:03Z","Content":"\n[quote name=\u0027rbray89\u0027]Hmmm....\u003Cbr\u003E\n\u003Cbr\u003E\nBlackrack, does your shader perchance include \u0022IgnoreProjector\u0022=\u0022True\u0022? If it doesn\u0026#39;t, it should :)[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nIt doesn\u0026#39;t, I\u0026#39;ll add it. I guess it\u0026#39;s time for me to catch up with the new EVE features.\u003Cbr\u003E\n\u003Cbr\u003E\nManwithNoname can you put back EVE and try if this fixes it?\u003Cbr\u003E\n\u003Cbr\u003E\n[URL=\u0022https://mega.nz/#!2ZQgTBxQ!3_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW_Pne2YfxrU\u0022]https://mega.nz/#!2ZQgTBxQ!3_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW_Pne2YfxrU[/URL]\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T21:32:53Z","Content":"\nI\u0026#39;ve grabbed that file and will check it out as I noticed the gap in the atmo appear but it kinda scrolled out of view by itself before I thought about a screenshot but see my edit above, removing tone mapper has made a huge difference.\u003Cbr\u003E\n\u003Cbr\u003E\nEdit: Replacing those files in the scatterer folder brought the zooming box thing back...\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557236976[/url]\u003Cbr\u003E\n\u003Cbr\u003E\nAs I zoom out it starts small and expands out toward the camera. This didn\u0026#39;t occur when I had removed the separate tone mapper plugin but don\u0026#39;t panic yet. I\u0026#39;ll do some proper testing starting from a clean install adding things one at a time as I noticed I am using E.V.E 1.0.5-1, I just downloaded 1.0.5-2. I believe this might resolve something else I noticed when I reverted to hangar from the map view...which kind of killed everything. Had no atmo scatter and I could see the cloud texture that should only appear outside of the atmo. At least I think that\u0026#39;s what it was.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-17T21:55:29Z\u0022 title=\u002211/17/2015 09:55  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T22:09:06Z","Content":"\n[quote name=\u0027blackrack\u0027]It doesn\u0026#39;t, I\u0026#39;ll add it. I guess it\u0026#39;s time for me to catch up with the new EVE features.\u003Cbr\u003E\n\u003Cbr\u003E\nManwithNoname can you put back EVE and try if this fixes it?\u003Cbr\u003E\n\u003Cbr\u003E\n[URL=\u0022https://mega.nz/#!2ZQgTBxQ!3_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW_Pne2YfxrU\u0022]https://mega.nz/#!2ZQgTBxQ!3_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW_Pne2YfxrU[/URL][/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI thought shader tags were case sensitive? Is that not the case?\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T22:36:20Z","Content":"\nOk, progress report.\u003Cbr\u003E\n\u003Cbr\u003E\nClean install just scatterer - No anomalies loading into launch and viewing map. Reverting to hangar from map view kills atmo effects when exiting out to KSC As does simply returning to space center from map view. Entering a hangar and exiting again does not force them to load however, entering the tracking station and exiting out does. As does launching another vessel.\u003Cbr\u003E\n\u003Cbr\u003E\nClean install just scatterer but with replaced files - Same as above, but I\u0026#39;m not surprised as the change in code seems like it would be unrelated to this.\u003Cbr\u003E\n\u003Cbr\u003E\nOff to add the latest E.V.E and see what happens. I\u0026#39;ll also revert Scatterer back to the original download and try with the replacement shaders.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-17T22:48:03Z\u0022 title=\u002211/17/2015 10:48  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-11-17T23:25:48Z","Content":"\nI think I\u0026#39;m experiencing something similar to Manwith Noname... This is using the latest version of EVE (1-05-2) and I tried the default new Scatterer download as well as using the two .shader files you posted above and this happens still. You load the game and the sky goes black, go to a craft, it\u0026#39;s still black, go to map view everything is fine, go back to your craft and scatterer effects are showing but it seems to me it breaks EVE and the clouds stop doing what they are configured to do... if that makes sense... I can provide more details if you need me to :P\u003Cbr\u003E\n[imgur]H38F0[/imgur]\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T23:26:25Z","Content":"\n[quote name=\u0027rbray89\u0027]I thought shader tags were case sensitive? Is that not the case?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI actually didn\u0026#39;t know this, I copied that from another shader so no idea why it\u0026#39;s in caps to begin with.\u003Cbr\u003E\n\u003Cbr\u003E\nBtw is your celestial object shadow shader functional in the newest EVE?\u003Cbr\u003E\n\u003Cbr\u003E\nAnd another question about projectors, how do you geenerate them from the clouds texture for the shadows?\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027Manwith Noname\u0027]Ok, progress report.\u003Cbr\u003E\n\u003Cbr\u003E\nClean install just scatterer - No anomalies loading into launch and viewing map. Reverting to hangar from map view kills atmo effects when exiting out to KSC As does simply returning to space center from map view. Entering a hangar and exiting again does not force them to load however, entering the tracking station and exiting out does. As does launching another vessel.\u003Cbr\u003E\n\u003Cbr\u003E\nClean install just scatterer but with replaced files - Same as above, but I\u0026#39;m not surprised as the change in code seems like it would be unrelated to this.\u003Cbr\u003E\n\u003Cbr\u003E\nOff to add the latest E.V.E and see what happens. I\u0026#39;ll also revert Scatterer back to the original download and try with the replacement shaders.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027Nhawks17\u0027]I think I\u0026#39;m experiencing something similar to Manwith Noname... This is using the latest version of EVE (1-05-2) and I tried the default new Scatterer download as well as using the two .shader files you posted above and this happens still. You load the game and the sky goes black, go to a craft, it\u0026#39;s still black, go to map view everything is fine, go back to your craft and scatterer effects are showing but it seems to me it breaks EVE and the clouds stop doing what they are configured to do... if that makes sense... I can provide more details if you need me to :P\u003Cbr\u003E\n[url]http://imgur.com/a/H38F0[/url][/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nAs rbray said I messed up the tags. Try scatterer again with these files and the latest EVE: [URL=\u0022https://mega.nz/#!CMISkRRA!NLq6s5CIxx2P30XkVq-h3OSDwZZiM0_QUg1_BDuI7Gk\u0022]https://mega.nz/#!CMISkRRA!NLq6s5CIxx2P30XkVq-h3OSDwZZiM0_QUg1_BDuI7Gk[/URL]\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-17T23:29:05Z\u0022 title=\u002211/17/2015 11:29  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T23:31:29Z","Content":"\nI\u0026#39;ll try those new files but I\u0026#39;ll just add...\u003Cbr\u003E\n\u003Cbr\u003E\nLatest EVE and default Scatterer has the weird glitches but when I replaced those shaders with the earlier files the bulk of the problem goes away. Now I get a strange little box that seems to occupy a point in space relative to the camera. I\u0026#39;m trying to set up shadow play to capture it but I\u0026#39;ve never captured video and have no editing software so bear with me.\n"},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-11-17T23:33:41Z","Content":"\nOk... now it\u0026#39;s doing this :P\u003Cbr\u003E\n[imgur]1FvpS[/imgur]\u003Cbr\u003E\nThat third image was taken after I had gone to map view and back again.\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T23:38:06Z","Content":"\n[quote name=\u0027Nhawks17\u0027]Ok... now it\u0026#39;s doing this :P\u003Cbr\u003E\n[url]http://imgur.com/a/1FvpS[/url]\u003Cbr\u003E\nThat third image was taken after I had gone to map view and back again.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027Manwith Noname\u0027]I\u0026#39;ll try those new files but I\u0026#39;ll just add...\u003Cbr\u003E\n\u003Cbr\u003E\nLatest EVE and default Scatterer has the weird glitches but when I replaced those shaders with the earlier files the bulk of the problem goes away. Now I get a strange little box that seems to occupy a point in space relative to the camera. I\u0026#39;m trying to set up shadow play to capture it but I\u0026#39;ve never captured video and have no editing software so bear with me.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nOk wait, give it one last try with this [URL=\u0022https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0\u0022]https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0[/URL]\n"},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-11-17T23:39:51Z","Content":"\n[quote name=\u0027blackrack\u0027]Ok wait, give it one last try with this [URL=\u0022https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0\u0022]https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0[/URL][/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nFixed the black land but the sky is still black :(\n"}]}