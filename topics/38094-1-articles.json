{"TopicId":38094,"ForumId":29,"TopicTitle":"Calculating Burn Time","CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-07-22T02:09:50Z","PageNum":1,"Articles":[{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-07-22T02:09:50Z","Content":"\n\u003Cp\u003EI\u0027ve been working on my Maneuver Node gauge for SteamGauges, and I\u0027m having some trouble calculating how much time the burn will take. If anyone has any insights why neither the full Rocket Equation version or a simple f=m*a calculation aren\u0027t giving me good results, I would appreciate it.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EdeltaV = myNode.DeltaV.magnitude;                               //The burn\u0027s \u00C3\u017D\u00E2\u20ACV\u003Cbr\u003EdeltaVRem = myNode.GetBurnVector(FlightGlobals.ActiveVessel.orbit).magnitude;   //Remaining \u00C3\u017D\u00E2\u20ACV in the burn\u003Cbr\u003Eres r = calculateThrust(FlightGlobals.ActiveVessel);            //Actually calculates thrust, mass, and Isp\u003Cbr\u003Edouble mass = r.mass / Math.Pow(Math.E, (deltaVRem / r.isp));   //Mass after burn\u003Cbr\u003Edouble rate = r.thrust / (r.isp*9.81);                          //Mass flow rate\u003Cbr\u003Edouble burnTime = (r.mass - mass)/rate;                         //Mass to burn over rate should give time, but doesn\u0027t\u003Cbr\u003E//Try the f = m*a method for time computation...\u003Cbr\u003Edouble t2 = deltaVRem / (r.thrust / ((r.mass\u002Bmass)/2));         //Use average mass to get closer?\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m using a custom function that just runs through each part and get\u0027s its .mass and .GetResourceMass(), and then thrust and Isp for active engines. The latter two are spot on, but my mass is always slightly off from, say, Kerbal Engineer. Thanks for the help guys!\u003C/p\u003E\n"},{"CreatedByName":"AncientAstronaut","CreatedById":36093,"CreatedDateTime":"2013-07-22T02:33:21Z","Content":"\n\u003Cp\u003EYou need to know how much delta-v per minute or per second your spacecraft supplies. Then you need to know how much Delta-V the burn requires and then you\u0027ll know how many seconds or minutes the burn will take.\u003C/p\u003E\n"},{"CreatedByName":"Cheebsta","CreatedById":74167,"CreatedDateTime":"2013-07-22T03:56:08Z","Content":"\n\u003Cp\u003EI tried figuring up some total delta V examples on a page on the wiki the other day. I could only get it to work out when I used 9.816 * isp, and reduced ln(tot/dry) to 3 places past the decimal as well, otherwise I was coming up 1 or 2 off.\u003C/p\u003E\u003Cp\u003ENot really sure how that translates to your code though as I am still a noob at this part, lol.\u003C/p\u003E\u003Cp\u003EAnd yes, I know you want time, but just wondering if it\u0027s something similar to this since this was so touchy about decimal places.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-22T03:59:21Z\u0022 title=\u002207/22/2013 03:59  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 22, 2013\u003C/time\u003E by Cheebsta\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-07-22T15:58:42Z","Content":"\n\u003Cp\u003EAny part with physicalSignificance set to NONE is massless for this sort of calculation so it\u0027s mass value should be ignored.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-07-23T07:15:43Z","Content":"\n\u003Cp\u003EThanks, the physicalSignificance got me the right mass. That certainly helps some.\u003C/p\u003E\u003Cp\u003EPlaying around with 9.816 vs 9.82 vs 9.81 I can get kind of close, but nothing there seems to be spot on.\u003C/p\u003E\u003Cp\u003EI\u0027ll try rounding some values I guess...\u003C/p\u003E\n"}]}