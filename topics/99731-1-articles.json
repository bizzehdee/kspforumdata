{"TopicId":99731,"ForumId":20,"TopicTitle":"Plugin for monitoring mechanical stress of parts at attachment nodes in flight scene","CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-02-15T13:13:10Z","PageNum":1,"Articles":[{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-02-15T13:13:10Z","Content":"\n\u003Cp\u003EAs this sounds both obvious in description and somewhat obscure in usability i will elaborate further : I was looking for a way to monitor parts of my craft for any stresses that MAY cause structural failures.\u003C/p\u003E\u003Cp\u003EMy wish is to use for KOS automation to react before unplanned disassemblies happen, but even for usual craft testing this would be a great help (think of trying to minimize strutting). and ofcourse, KOS should be able to read data from this plugin (possible by adding a context menu to part with this data).\u003C/p\u003E\n"},{"CreatedByName":"Axelord FTW","CreatedById":1896,"CreatedDateTime":"2015-02-16T05:53:56Z","Content":"\n\u003Cp\u003EIts a good idea. Maybe something like the AeroViz function out of FAR (which is actually quite close to structural stress readouts in Pontifex now that I think of it). Of course, here, it is the relation between two parts and not the parts themselves (alone).\u003C/p\u003E\u003Cp\u003EIn the meantime, Ferram\u0027s Kerbal Joint Reinforcement might help you make your flying rods harder.\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-02-16T13:17:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Axelord FTW\u0022 data-cite=\u0022Axelord FTW\u0022\u003E\u003Cdiv\u003EIts a good idea. Maybe something like the AeroViz function out of FAR (which is actually quite close to structural stress readouts in Pontifex now that I think of it). Of course, here, it is the relation between two parts and not the parts themselves (alone).\u003Cp\u003EIn the meantime, Ferram\u0027s Kerbal Joint Reinforcement might help you make your flying rods harder.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes i already know about KJR. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I would like to actually READ this data, though.\u003C/p\u003E\u003Cp\u003EHmmm now that (re)think of it... In it\u0027s simplest form it could be just a right-click menu item with labels, like \u0022Stalled\u0022 reading on wings from FAR. For example \u0022NodeA:50%\u0022 , \u0022NodeB:35%\u0022 and \u0022MaxStress:50kN\u0022 or similar (in part cfg there is crash tolerance definition in [m/s] units, but to me it looks weird to measure stress like that). Note that i don\u0027t know about KSP\u0027s physics engine, just a basic understanding of craft tree hierarchy.\u003C/p\u003E\u003Cp\u003EI don\u0027t exactly know how are attachment nodes defined for radially attached parts. Does it make sense to measure stresses at both nodes or just root one ? I guess stress at child node is actually same as stress at root node of child part, so that is kind of same thing repeated twice.\u003C/p\u003E\n"},{"CreatedByName":"Axelord FTW","CreatedById":1896,"CreatedDateTime":"2015-02-17T06:17:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022fatcargo\u0022 data-cite=\u0022fatcargo\u0022\u003E\u003Cdiv\u003EYes i already know about KJR. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I would like to actually READ this data, though.\u003Cp\u003EHmmm now that (re)think of it... In it\u0027s simplest form it could be just a right-click menu item with labels, like \u0022Stalled\u0022 reading on wings from FAR. For example \u0022NodeA:50%\u0022 , \u0022NodeB:35%\u0022 and \u0022MaxStress:50kN\u0022 or similar (in part cfg there is crash tolerance definition in [m/s] units, but to me it looks weird to measure stress like that). Note that i don\u0027t know about KSP\u0027s physics engine, just a basic understanding of craft tree hierarchy.\u003C/p\u003E\u003Cp\u003EI don\u0027t exactly know how are attachment nodes defined for radially attached parts. Does it make sense to measure stresses at both nodes or just root one ? I guess stress at child node is actually same as stress at root node of child part, so that is kind of same thing repeated twice.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think stress is simply measured as a single force between two connections in KSP with breakage being initiated if the force exceed the capability of the nodes. I also think that in-between-part connection strength is based on the node size, or something like that. Parts have a simple crash tolerance thingy, which is valued for the part\u0027s ability to withstand impacts.\u003C/p\u003E\u003Cp\u003EI\u0027D rather have a visual effect (like I said, like FAR\u0027s AeroViz) than only a right-click tell (both are fine).\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-02-17T11:09:41Z","Content":"\n\u003Cp\u003EI agree for both for visual and numerical feedback. You can see what is being strained, and then you can right-click on part and see the exact value if you want to.\u003C/p\u003E\n"},{"CreatedByName":"illectro","CreatedById":763,"CreatedDateTime":"2015-02-17T19:35:57Z","Content":"\n\u003Cp\u003EIndeed, I\u0027ve been asking for this feature for a while, would also like a feature that switches into slow-motion timesteps if there\u0027s a stuctural failure so you can get instant slow mo when things break.\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2015-02-18T02:28:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022illectro\u0022 data-cite=\u0022illectro\u0022\u003E\u003Cdiv\u003EIndeed, I\u0027ve been asking for this feature for a while, would also like a feature that switches into slow-motion timesteps if there\u0027s a stuctural failure so you can get instant slow mo when things break.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI like both these ideas - slow-motion and stress on parts. My thought would be to design and fly a rocket and then check MaxStress afterwards to see if the design was near it\u0027s limits/needed some redesign. While a right click display would be nice, a report would be nice too - could get tedious right clicking all parts on a large design.\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-18T10:02:19Z","Content":"\n\u003Cp\u003EPhysics in KSP work like this (simplified explanation):\u003C/p\u003E\u003Cp\u003EEvery object has a velocity and an angular velocity. Any forces applied to an object are used by the physics engine (PhysX by Nvidia) to recalculate these two values on the next physics update frames.\u003C/p\u003E\u003Cp\u003EAnd the most important fact: PhysX in the Unity Engine seems to keep all the current force numbers and calculations etc. inside it. So far I didn\u0027t find any way to query any of that. It\u0027s a black box.\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-02-18T11:06:10Z","Content":"\n\u003Cp\u003EThank you Aqua for clarifying this. At least we now know where we stand with this.\u003C/p\u003E\n"},{"CreatedByName":"illectro","CreatedById":763,"CreatedDateTime":"2015-02-19T20:17:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022*Aqua*\u0022 data-cite=\u0022*Aqua*\u0022\u003E\u003Cdiv\u003EPhysics in KSP work like this (simplified explanation):\u003Cp\u003EEvery object has a velocity and an angular velocity. Any forces applied to an object are used by the physics engine (PhysX by Nvidia) to recalculate these two values on the next physics update frames.\u003C/p\u003E\u003Cp\u003EAnd the most important fact: PhysX in the Unity Engine seems to keep all the current force numbers and calculations etc. inside it. So far I didn\u0027t find any way to query any of that. It\u0027s a black box.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan\u0027t you just measure an object\u0027s deviation from starting position relative to those object\u0027s it\u0027s joined to?\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-19T20:42:01Z","Content":"\n\u003Cp\u003EIt\u0027s possible. But that doesn\u0027t tell us how much stress there is and when the connection is about to break. That\u0027s calculated in the physics engine and stays in it.\u003C/p\u003E\u003Cp\u003ECalculating this stress or force by a plugin would mean to reverse engineer PhysX (I don\u0027t think that\u0027s legal) and/or implement a programm which imitates the calculation of the physics engine (too much work; computationally intensive).\u003C/p\u003E\u003Cp\u003ESo far I don\u0027t see a way to get to know about forces.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-19T20:44:04Z\u0022 title=\u002202/19/2015 08:44  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 19, 2015\u003C/time\u003E by *Aqua*\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-02-20T00:15:01Z","Content":"\n\u003Cp\u003EHmmm so KSP itself gets from phyiscs engine a stream of data about part flexing and (eventual) breakage event, but nothing in between.\u003C/p\u003E\u003Cp\u003EPart flex (or bend or whatever) is just a spatial value, not a force vector/value ?\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-20T01:10:29Z","Content":"\n\u003Cp\u003EExactly. I pretty sure there\u0027s somewhere a data structure which lists all the forces which are applied to a part. I know that because I found a \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/Rigidbody.html\u0022 rel=\u0022external nofollow\u0022\u003Eway\u003C/a\u003E to add a force vector to a part. But there is no exposed method to query the added forces or the resulting force. It\u0027s not the fault of KSP, instead it\u0027s a limitation of Unity.\u003C/p\u003E\u003Cp\u003EMaybe it has something to do with PhysX licensing or the way the physics engine works (maybe it doesn\u0027t store forces to allow to query them).\u003C/p\u003E\n"}]}