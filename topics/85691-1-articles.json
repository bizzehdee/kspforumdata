{"TopicId":85691,"ForumId":55,"TopicTitle":"Fix Map Node Jitter","CreatedByName":"Rizendell","CreatedById":67958,"CreatedDateTime":"2014-09-29T14:46:15Z","PageNum":1,"Articles":[{"CreatedByName":"Rizendell","CreatedById":67958,"CreatedDateTime":"2014-09-29T14:46:15Z","Content":"\n\u003Cp\u003EThis is a suggestion that you prioritize fixing the map and the node system so that they do not jitter all over the place before adding any more new features.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2014-09-29T17:59:21Z","Content":"\n\u003Cp\u003EYou may have to describe the actual issue a bit more before anyone will comment on it...\u003C/p\u003E\u003Cp\u003EFor example in what way does the map or node system \u0060jitter\u0060 and what do you have to do to get it to jitter?\u003C/p\u003E\u003Cp\u003EWhat parts jitter? the projected path? the node itself? the planets? the position of your craft?\u003C/p\u003E\n"},{"CreatedByName":"Fizban","CreatedById":120998,"CreatedDateTime":"2014-09-29T18:12:15Z","Content":"\n\u003Cp\u003EIt happens to me too if he means what i think he means.\u003C/p\u003E\u003Cp\u003EWhen trying to place a manuver node on your orbit path the \u0022ball\u0022 of the node goes up and down the path.\u003C/p\u003E\n"},{"CreatedByName":"Sirrobert","CreatedById":70591,"CreatedDateTime":"2014-09-29T19:39:26Z","Content":"\n\u003Cp\u003ENot a clue what you\u0027re talking about.\u003C/p\u003E\u003Cp\u003EIf you want your suggestion taken seriously, you\u0027ll need more than \u0027fix this\u0027. Give examples of when and how this is a problem\u003C/p\u003E\n"},{"CreatedByName":"worir4","CreatedById":75980,"CreatedDateTime":"2014-09-29T19:43:15Z","Content":"\n\u003Cp\u003EI think he may mean when the orbit map can\u0027t make up its mind. Such as when you have a near circular orbit and the periapsis and apoapsis keep switching. Also when the game can\u0027t make its mind up if you have an encounter or not. I am not sure this can be fixed by a mod though.\u003C/p\u003E\n"},{"CreatedByName":"Monthar","CreatedById":117764,"CreatedDateTime":"2014-09-29T20:27:10Z","Content":"\n\u003Cp\u003EI think the op is probably taking about the way the maneuver node and flight path will bounce around. Such as when you have a few places on your ship that flex a lot (decoupler/docking port/inline batteries) that causes the whole ship to wobble in a manner similar to the way a snake or worm moves. In other words things that struts can solve or in the case of between docking ports after docking, mods like quantum struts or KAS can be used to add strut connections after docking.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-15T02:20:55Z","Content":"\n\u003Cp\u003EThe map view still needs work. While in map view, the engine sounds are coming and going, making it difficult to know when a stage runs out of fuel. This bug has been around for a long, long time now. The audio is still acting weird during loading screens also.\u003C/p\u003E\u003Cp\u003EAlso, while in map view, the predicted orbital path changes when under warp, making Kerbal Alarm Clock a must have mod so that I don\u0027t overshoot SOI changes. \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EI suspect this is what Rizendell means by \u0022jittery\u0022\u003C/span\u003E. On second thought, after reading the op again, I think Rizendell is talking about node jitter, which is caused by wobbly ships among other things. \u003C/p\u003E\u003Cp\u003EWhile these bugs are like nails on the chalkboard for me, I must say that .25 runs and looks good overall (I play the 32 bit version), perhaps the best of any release yet. The additions to the navball are great also!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-15T02:26:57Z\u0022 title=\u002210/15/2014 02:26  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 15, 2014\u003C/time\u003E by Otis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-10-15T02:55:53Z","Content":"\n\u003Cp\u003EThe jitter is due to rounding errors. Unfortunately, so long as the ship is off rails, it will happen. \u003C/p\u003E\u003Cp\u003EThere are some options to reduce rounding errors, but almost all of them cost processor time. They include the use of a sparse calculation grid for the map, instead of a single floating point grid, the use of less frequent, but higher precision map points, using bezier curves to estimate the points in between. The best option would probably be to use algebraic notation variables for map-prediction math calculations instead of floating point. Unfortunately all these options include much more coding, and significant processor hits. I\u0027m not sure if Squad would see it as a viable option at this point. After all, they would have to research the available advanced math libraries, then decide on one.\u003C/p\u003E\n"},{"CreatedByName":"r4pt0r","CreatedById":90471,"CreatedDateTime":"2014-10-15T03:02:50Z","Content":"\n\u003Cp\u003Esometimes i get a great periapsis on an interplanetary transfer, and after actually entering the SOI, its much different.\u003C/p\u003E\n"},{"CreatedByName":"prophet_01","CreatedById":111502,"CreatedDateTime":"2014-10-15T07:44:06Z","Content":"\n\u003Cp\u003EI totally agree with otis on the sound bug and the soi changes.\u003C/p\u003E\u003Cp\u003EThe thing about map view I never understod is why kerbal alarm clock isn\u0027t a stock feature or at least runs in the backround to make soi transfers smother. We have the altitude limits for time warp (alarm clock works better though). A similar mechanic for soi changes and one of the most anoying issues is gone. \u003C/p\u003E\u003Cp\u003EThe jumping predicted courses and markers can be caused by slingshots and docking in interplanetary space, too. That can be srsly anoying but it\u0027s managable. \u003C/p\u003E\u003Cp\u003EMy mortal enemy is the map view\u0027s issue to sometimes \u0022forgets\u0022 about showing an intercept with a moon. Happened only like 4 times in about 600 hours of gameplay but as it only occured when entering from interplanetary transfers it entirely screwed up my planned courses by slingshoting me away from my pricesly planned aerobreaks :.( in jools soi I have to rely on that predictions, if they fail I am in trouble\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-15T08:37:10Z","Content":"\n\u003Cp\u003EAgree with OP.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-15T11:04:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ruedii\u0022 data-cite=\u0022Ruedii\u0022\u003E\u003Cdiv\u003EThe jitter is due to rounding errors. Unfortunately, so long as the ship is off rails, it will happen. \u003Cp\u003EThere are some options to reduce rounding errors, but almost all of them cost processor time. They include the use of a sparse calculation grid for the map, instead of a single floating point grid, the use of less frequent, but higher precision map points, using bezier curves to estimate the points in between. The best option would probably be to use algebraic notation variables for map-prediction math calculations instead of floating point. Unfortunately all these options include much more coding, and significant processor hits. I\u0027m not sure if Squad would see it as a viable option at this point. After all, they would have to research the available advanced math libraries, then decide on one.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think there are 2 different issues being discussed here :\u003C/p\u003E\u003Cp\u003E1. This is the one that bothers me. After completing my transfer burn to the mun and everything is good to go, I turn up the warp. Everything looks good for about 5 seconds, and then about halfway there, BAM!, out of nowhere, I suddenly have a totally different intercept with a totally different time and predicted orbital path. It will likely change back and then change again a couple more times before I finally reach the mun\u0027s SOI. Now, it almost always enters the Mun\u0027s SOI at the original predicted time, but, while all of this SOI changing stuff is going on, it is practically impossible to exit warp at the right time to make periapsis changes at the most efficient time. And like prophet_01 said, god forbid you are trying to set up complicated manuevers in the jool system, or sensitive aerobraking maneuvers. Rounding errors should have no effect with this. Burns are already complete. Why are changes occurring on rails when I\u0027ve made no changes and everything is done? \u003C/p\u003E\u003Cp\u003E2. Node jitter. While setting up a transfer \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eburns\u003C/span\u003E burn using the node system, I sometimes see node jitter. This usually occurs when I\u0027m using a ship with high part counts. I can see where the physics calculations and rounding errors come into play here. One can also see the node jitter magnify when you are in a nearly perfect circular orbit, which also comes with apoapsis and periapsis jitter. These are real time errors that are probably being caused by floating point errors.\u003C/p\u003E\u003Cp\u003ESummary : I can live with number 2. There are ways around it. Number 1 can and should be fixed. It is a vital part of gameplay. I don\u0027t care what kind of fluff you add to the game. All that fluff is useless if one of the core mechanics of gameplay is broken.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-15T11:13:18Z\u0022 title=\u002210/15/2014 11:13  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 15, 2014\u003C/time\u003E by Otis\u003C/strong\u003E\n\u003Cbr\u003Egrammar\n\u003C/span\u003E\n"},{"CreatedByName":"Aerol","CreatedById":124204,"CreatedDateTime":"2014-10-16T01:04:23Z","Content":"\n\u003Cp\u003EI\u0027m wondering if this is similar to an issue that I\u0027m noticing, I\u0027m in 1x watching a return from Minmus, and I\u0027m seeing my Apoapsis and Periapsis fluctuate upward; in the past 30min my Periapsis has raised nearly 0.6km, and my Apoapsis is up nearly the same.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-16T02:29:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Aerol\u0022 data-cite=\u0022Aerol\u0022\u003E\u003Cdiv\u003EI\u0027m wondering if this is similar to an issue that I\u0027m noticing, I\u0027m in 1x watching a return from Minmus, and I\u0027m seeing my Apoapsis and Periapsis fluctuate upward; in the past 30min my Periapsis has raised nearly 0.6km, and my Apoapsis is up nearly the same.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think that is a related issue. If you have both an AP and PE it means that you are completely within a specific SOI, either Kerbin or Minmus. Changes in AP or PE can occur simply with input from the wasd keys. Also, if you were to build a long ship consisting of fuel tanks on either end of a row of trusses, something that looks like a very long dumb bar, you can transfer yourself right out of Kerbin SOI with nothing more than fuel transfers and good timing. While these types of things wouldn\u0027t occur in real life, they do occur within KSP\u0027s world of physics, but they are not necessarily game bugs, but simply a by product of the way KSP and Unity simulates physics. To make a completely accurate simulation would require insane amounts of computer power, and even then it wouldn\u0027t be perfect, because we still don\u0027t fully understand everything about gravity and/or physics. \u003C/p\u003E\u003Cp\u003ENo, the jittery I\u0027m concerned with is changes in orbital path while under warp or on rails. There shouldn\u0027t be any jumping around while on rails. All the calculations have been done, and I\u0027m simply following a pre-determined path.\u003C/p\u003E\n"},{"CreatedByName":"Aerol","CreatedById":124204,"CreatedDateTime":"2014-10-16T02:36:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Otis\u0022 data-cite=\u0022Otis\u0022\u003E\u003Cdiv\u003EI don\u0027t think that is a related issue. If you have both an AP and PE it means that you are completely within a specific SOI, either Kerbin or Minmus. Changes in AP or PE can occur simply with input from the wasd keys. Also, if you were to build a long ship consisting of fuel tanks on either end of a row of trusses, something that looks like a very long dumb bar, you can transfer yourself right out of Kerbin SOI with nothing more than fuel transfers and good timing. While these types of things wouldn\u0027t occur in real life, they do occur within KSP\u0027s world of physics, but they are not necessarily game bugs, but simply a by product of the way KSP and Unity simulates physics. To make a completely accurate simulation would require insane amounts of computer power, and even then it wouldn\u0027t be perfect, because we still don\u0027t fully understand everything about gravity and/or physics. \u003Cp\u003ENo, the jittery I\u0027m concerned with is changes in orbital path while under warp or on rails. There shouldn\u0027t be any jumping around while on rails. All the calculations have been done, and I\u0027m simply following a pre-determined path.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh ok, I think I tracked down my problem in the meantime, a slight overlap between a radial parachute and my recently reconfigured solar panels is causing a slight jitter on the vehicle.\u003C/p\u003E\n"},{"CreatedByName":"munseeker","CreatedById":110850,"CreatedDateTime":"2014-11-06T16:19:40Z","Content":"\n\u003Cp\u003EI\u0027d like to revive this thread with another report of pretty severe map node jitter. It almost looks like the ship is under small acceleration changes, even with all engines and RCS off. I notice this most prominently in near-circular orbits around the moon with larger ships, so it is probably rounding-error related. \u003C/p\u003E\u003Cp\u003EThing is, very similar ships worked perfectly fine in .24, so pretty sure this is a new issue in .25 - maybe the way all the rounding errors for the many parts add up has changed in this version, but the jitter is really a problem now.\u003C/p\u003E\n"}]}