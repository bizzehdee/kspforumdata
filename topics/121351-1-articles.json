{"TopicId":121351,"ForumId":69,"TopicTitle":"[BUG] Phantom acceleration in orbit","CreatedByName":"Yoobeurt","CreatedById":151405,"CreatedDateTime":"2015-09-21T14:00:06Z","PageNum":1,"Articles":[{"CreatedByName":"Yoobeurt","CreatedById":151405,"CreatedDateTime":"2015-09-21T14:00:06Z","Content":"\n\u003Cp\u003EHi KSP Forum.\u003C/p\u003E\u003Cp\u003EI\u0027ve play this fantastic game for a good year right now, visited a all bunch of planets, moons, asteiroids, and like all of you I\u0027ve killed my kerbals a LOT of time. I\u0027ve enjoy the community of this game from far away til today, day I\u0027ve to do a step forward and introduce myself to you.\u003C/p\u003E\u003Cp\u003EHere\u0027s the trouble: for some reason since a few weeks when I bring a ship to orbit everything get fine til the time to cut the thrust and enjoy the view. In fact a kind of phantom acceleration is applying to my ship. This phantom force makes my apoapsis gain a meter each 5 seconds in a really low orbit around kerbin but as soon as I take speed and rise my orbit by myself, or try to bring myself to another planet or moon, the distance rising up, this little error does the same and the few centimeters by second start to be meters, the hundreds of.\u003C/p\u003E\u003Cp\u003EI let you guess how hard it is to plan any maneuvers with this little snail pushing me all the time.\u003C/p\u003E\u003Cp\u003ESo here I am today in front of you asking for help.\u003C/p\u003E\u003Cp\u003E - I\u0027ve try to uninstall the game several times, delete all the files related, all the mods, nothing seems to works.\u003C/p\u003E\u003Cp\u003E - The clipping is not involved cause even a simple MK1 command pod without any other part attached to seems to be pushed (of course no SAS and no RCS are on).\u003C/p\u003E\u003Cp\u003E - This bug is definitly related to physic cause as soon as I turn the time acceleration it stop.\u003C/p\u003E\u003Cp\u003EI run the game on windows 10 ( I know, I know ), since everything deleted no mod at all, and freshly download files.\u003C/p\u003E\u003Cp\u003EI know that I\u0027m not alone to annoyed by this bug but so far I haven\u0027t found any fix to it.\u003C/p\u003E\u003Cp\u003EIf someone could help me that would be awesome. I\u0027m a freaking fan of this game, and this little bug is just destroying my experience.\u003C/p\u003E\u003Cp\u003EHere is a sad kerbal : \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kobymaru","CreatedById":107372,"CreatedDateTime":"2015-09-24T11:27:45Z","Content":"\n\u003Cp\u003ENo help here, only Sympathy. I know this bug, and I \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/130993-Orbit-decaying-for-no-reason\u0022 rel=\u0022external nofollow\u0022\u003Enoticed \u003C/a\u003Eit first with a single stack separator.\u003C/p\u003E\u003Cp\u003EI recently noticed it again when I was synchronizing communication satellites around Ike: the orbital period was increasing one second every second without thrust or rotation.\u003C/p\u003E\u003Cp\u003ESo it\u0027s definitely real. Unfortunately, in order to fix that, the Devs would have to dig very very deep into the physics code, which traditionally they aren\u0027t inclined to do. So from me just another sad Kerbal: \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yoobeurt\u0022 data-cite=\u0022Yoobeurt\u0022\u003E\u003Cdiv\u003EIf someone could help me that would be awesome. I\u0027m a freaking fan of this game, and this little bug is just destroying my experience.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell I do have workarounds for you though:\u003C/p\u003E\u003Cp\u003E- 1m/5s is not very much. For normal-precision maneuvers such as transfer burns it doesn\u0027t really matter. You could simply ignore it.\u003C/p\u003E\u003Cp\u003E- Someone mentioned that no drift occurs above 100 km Altitude. You could try orbiting above that.\u003C/p\u003E\u003Cp\u003E- Also, the drift only occurs while physics are active. If you are extremely OCD on the zeros of your altitude, you can try lowering the apoapsis under your target altitude, waiting for it to raise up by magic and then go into timewarp, effectively \u0022locking\u0022 the vessel into its current orbit.\u003C/p\u003E\u003Cp\u003EI have to say due to physics inaccuracies, I have used the timewarp-locking technique way too many times.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-24T11:21:32Z\u0022 title=\u002209/24/2015 11:21  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 24, 2015\u003C/time\u003E by Kobymaru\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-09-24T12:14:19Z","Content":"\n\u003Cp\u003ESquad can\u0027t fix \u003Ca href=\u0022https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Efloating point errors\u003C/strong\u003E\u003C/a\u003E I\u0027m afraid, if they could they would win a Nobel prize.\u003C/p\u003E\u003Cp\u003EIt\u0027s important to realize that things like a vessels Apoapsis and Periapsis are not set in stone, they are calculated every physics \u0022tick\u0022 based on the vessels position, direction and speed, and even these are not absolute and have to be calculated from the vector from the scene origin, that vectors magnitude, and the vector and magnitude of the vessel itself, compounded by having a constant acceleration (gravity, and only from one body, it gets harder when you add another) tangent to the velocity and magnitude of the vessel.\u003C/p\u003E\u003Cp\u003EOrbits are big things, and PC\u0027s lose accuracy when working with larger and larger floating point numbers, so from one tick to the next the result from calculating the Apo and Peri is slightly different, and over time this adds up to changes in your orbit.\u003C/p\u003E\u003Cp\u003EAll we can do is take any projected orbit as an \u003Cem\u003Eestimate\u003C/em\u003E, and make corrective manoeuvres later, the estimates will be more accurate as we get closer to them, so getting to other planets isn\u0027t made impossible, but we do have to keep in mind that there is an error.\u003C/p\u003E\u003Cp\u003EPeople will invariably mention 64bit for increased accuracy at this point, but 32bit computers are already able to work with larger numbers by storing them in several 32bit memory locations, such as with the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Double-precision_floating-point_format\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EDouble\u003C/strong\u003E\u003C/a\u003E, which uses two 32bit addresses, and the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Long_double\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003ELong Double\u003C/strong\u003E\u003C/a\u003E which uses \u003Ca href=\u0022https://en.wikipedia.org/wiki/Extended_precision#x86_Extended_Precision_Format\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E80 bit extended precision\u003C/strong\u003E\u003C/a\u003E, if you have a maths coprocessor (and they have been built into CPU\u0027s for a long time) then this is available.\u003C/p\u003E\u003Cp\u003EAs for non-controlled craft on rails, their orbit is calculated once then the vessel is just moved along the \u0022rail\u0022 depending on elapsed time.\u003C/p\u003E\u003Cp\u003ESo there\u0027s no support we can give, sorry, and this isn\u0027t a bug that Squad can solve.\u003C/p\u003E\n"},{"CreatedByName":"cfds","CreatedById":82109,"CreatedDateTime":"2015-09-24T13:55:40Z","Content":"\n\u003Cp\u003EBut they could mitigate it by not moving the centre of mass when no external forces are acting upon the ship. Just keep the ship on the rails until a thruster fires.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-09-24T14:17:00Z","Content":"\n\u003Cp\u003EThere\u0027s no such thing as \u0022just\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe center of mass moves when you are moving or consuming a resource with mass, such as fuel, and if you are burning fuel you are changing your orbit anyway, or when you dock or jettison parts of the vessel, you may be thinking of the changes in orbit based on a vessel rotating, this occurs because your vessels position is calculated from the root part, all other parts are placed relative to the root, this is why craft came apart in older versions of KSP when you were too far from the scene origin, players know this as the Kraken.\u003C/p\u003E\u003Cp\u003EAnd as I said, errors occur in the floating point maths with each physics step, so with your mitigation you would see a sudden change in apoapsis, periapsis and vessel speed every time you tapped a movement key, as the vessel would be repositioned due to the difference between the rails orbit and the orbit calculated based on where it is right now.\u003C/p\u003E\u003Cp\u003EThis also occurs when you load a vessel in flight but players are used to there being a slight delay as the vessel unpacks, you must have noticed the jump when another vessel comes within physics range, it\u0027d do that all the time.\u003C/p\u003E\u003Cp\u003ESo no there\u0027s no quick fix, no easy solution or mitigation here, Squad can\u0027t \u0022just\u0022 do something simple, there\u0027s very big numbers involved and home computers aren\u0027t designed with that level of accuracy in mind.\u003C/p\u003E\n"},{"CreatedByName":"Yoobeurt","CreatedById":151405,"CreatedDateTime":"2015-09-25T08:44:43Z","Content":"\n\u003Cp\u003EI\u0027m not against the idea of Squad winning a nobel prize but til then I\u0027ve fix it with duct tape : I\u0027ve just put a way to do correction burn on every satellite of my humble fleet. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for the replies, even if it\u0027s not fixable.\u003C/p\u003E\u003Cp\u003EThis community rocks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-09-25T16:38:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kobymaru\u0022 data-cite=\u0022Kobymaru\u0022\u003E\u003Cdiv\u003E- Someone mentioned that no drift occurs above 100 km Altitude. You could try orbiting above that.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, there is a physics discontinuity at 100km. Generally speaking, the orbit and vessel attitude are more stable when the vessel is above 100km.\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003E-Claw\u003C/p\u003E\n"},{"CreatedByName":"Mitchz95","CreatedById":82292,"CreatedDateTime":"2016-03-25T05:21:37Z","Content":"\n\u003Cp\u003E\nSorry for the necro, but the same thing is happening to me at Jool. Can somebody tell me how high I have to get before it stops?\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Looks like 1,000 km.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-25T06:04:39Z\u0022 title=\u002203/25/2016 06:04  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 25, 2016\u003C/time\u003E by Mitchz95\u003C/strong\u003E\n\u003C/span\u003E\n"}]}