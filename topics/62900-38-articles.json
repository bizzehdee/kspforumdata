{"TopicId":62900,"ForumId":36,"TopicTitle":"Kerbal Construction Time/StageRecovery Dev Thread","CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2014-02-11T19:11:39Z","PageNum":38,"Articles":[{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-28T19:15:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cheesecake\u0022 data-cite=\u0022Cheesecake\u0022\u003E\u003Cdiv\u003EIs there a Problem with New Horizons?\u003Cp\u003EWhen I launch a Vessel the KSC looks like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry launching a vessel by clicking on the launchpad and selecting one from the list. That\u0027ll use entirely Stock functions to launch a ship (but KCT will think it\u0027s a simulation). If it doesn\u0027t work, then it\u0027s probably an issue with a different mod. If it does work, then it\u0027s probably a KCT issue. Unfortunately the log didn\u0027t report any substantial errors, meaning I\u0027m not sure what\u0027s happening. I can try installing New Horizons and testing it myself later tonight.\u003C/p\u003E\n"},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2015-05-28T19:48:21Z","Content":"\n\u003Cp\u003EI have tested\u003C/p\u003E\u003Cp\u003EWhen i launch the Vessel by clicking the Launch-Button in the VAB everything is OK. The issue happens only when i launch by the KCT-Window in the KSC-Overview.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-28T20:02:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cheesecake\u0022 data-cite=\u0022Cheesecake\u0022\u003E\u003Cdiv\u003EI have tested\u003Cp\u003EWhen i launch the Vessel by clicking the Launch-Button in the VAB everything is OK. The issue happens only when i launch by the KCT-Window in the KSC-Overview.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you, just for me, test by clicking the launchpad and not through the VAB. The functions that are used for those methods are different, but clicking through the launchpad should use the same method as launching through the KCT window.\u003C/p\u003E\n"},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2015-05-29T06:06:04Z","Content":"\n\u003Cp\u003Ewhen I rollout the vessel with KCT i can\u0060t see a vessel standing at the launchpad in the KSC-Overview. when i click at the launch pad it shows a message that i must go to the vab to construct a vessel. i can only sitch to the vessel by KCT.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-29T12:06:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cheesecake\u0022 data-cite=\u0022Cheesecake\u0022\u003E\u003Cdiv\u003Ewhen I rollout the vessel with KCT i can\u0060t see a vessel standing at the launchpad in the KSC-Overview. when i click at the launch pad it shows a message that i must go to the vab to construct a vessel. i can only sitch to the vessel by KCT.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou have to either save a craft in the VAB or be in sandbox mode to launch through the launchpad. It let\u0027s you launch craft that you\u0027ve already constructed and saved. It\u0027s entirely stock functionality that we\u0027re trying to test.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-30T01:14:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cheesecake\u0022 data-cite=\u0022Cheesecake\u0022\u003E\u003Cdiv\u003EIs there a Problem with New Horizons?\u003Cp\u003EWhen I launch a Vessel the KSC looks like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t reproduce this (might have been fixed in the latest version of New Horizons?) Just launched through the launchpad and through the KCT menu without issue.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jigXNaz.png\u0022 alt=\u0022jigXNaz.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/cVcd200.png\u0022 alt=\u0022cVcd200.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs a side note, this planet pack looks really cool and I might play with it now...\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-06-28T21:58:28Z","Content":"\n\u003Cp\u003EHello everyone! KCT\u0027s got a new dev version out (build 121) with the new Presets feature! It needs quite a bit of testing. There were a good number of changes/new features that I haven\u0027t gotten a chance to play with yet (simulations for instance got their costs completely changed).\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThis update is slightly save breaking.\u003C/strong\u003E All of your settings are pretty much invalid now as they\u0027ve been moved into the Preset system. It doesn\u0027t attempt to automatically create a new preset based on your settings, so you\u0027ll need to set them up again if you weren\u0027t using the default. Your old settings \u003Cem\u003Eshouldn\u0027t\u003C/em\u003E get deleted, but no promises (back them up beforehand if you need to reference them later). Setting up new configs is MUCH easier now, and you can have different sets of configs for many different play styles.\u003C/p\u003E\u003Cp\u003EI need to write up some documentation on the \u003Ca href=\u0022https://github.com/magico13/KCT/wiki\u0022 rel=\u0022external nofollow\u0022\u003Ewiki\u003C/a\u003E for Presets (and maybe for KCT in general), but if you have questions please ask them here!\u003C/p\u003E\n"},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2015-06-29T00:27:56Z","Content":"\n\u003Cp\u003ENo worries on setting getting reset, that no biggie. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EOdd GUI think which what looks like a preview of the rollout time when hovering over the button. one gave the display on a different vessel\u0027s line and another was cut off so unreadable. The estimate was also off about a day. Screenshots included \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EFirst shot, I had the pointer on the bottom ship on the list \u0022Mun Lifter - Workshop\u0022\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/f1luuybjsz172eo/pointing%20to%20bottom%20one.png?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/f1luuybjsz172eo/pointing%20to%20bottom%20one.png?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESecond shot, pointing to the middle ship \u0022Eagle Passenger Launcher\u0022\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/46c5jwwdtne1mu8/pointing%20to%20middle.png?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/46c5jwwdtne1mu8/pointing%20to%20middle.png?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELast one, after having clicked the bottom one to initiate rollout\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/dod7zkra1jo6aeg/clicked%20bottom.png?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/dod7zkra1jo6aeg/clicked%20bottom.png?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEDIT: Additional item, upgrade points available seem to reset but the upgrades from previous points spend don\u0027t change. This results in over 300 free upgrade points. Kerbal engineers won the lottery! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Of it could be an exploit for current saves, either way \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-29T03:17:40Z\u0022 title=\u002206/29/2015 03:17  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 29, 2015\u003C/time\u003E by JeffreyCor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-06-29T03:18:35Z","Content":"\n\u003Cp\u003EYeah, definitely doesn\u0027t appear to be working properly with multiple ships. I\u0027ll maybe get a chance to look at that tomorrow. Getting something to happen when hovering over a GUI element isn\u0027t as trivial as I would have hoped :/\u003C/p\u003E\n"},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2015-06-29T16:44:21Z","Content":"\n\u003Cp\u003EPossible issue between RSS and Stage Recovery I didn\u0027t see mentioned (but may have missed). the new version of RSS changes the names so the home planet is now called Earth with it. Doing testing with that SR didn\u0027t give any notices just as if it was on a different SOI. I\u0027m RSS might be confusing SR because of the name change.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-06-29T16:49:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JeffreyCor\u0022 data-cite=\u0022JeffreyCor\u0022\u003E\u003Cdiv\u003EPossible issue between RSS and Stage Recovery I didn\u0027t see mentioned (but may have missed). the new version of RSS changes the names so the home planet is now called Earth with it. Doing testing with that SR didn\u0027t give any notices just as if it was on a different SOI. I\u0027m RSS might be confusing SR because of the name change.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re right about that. StageRecovery specifically looks for \u0022Kerbin\u0022 as the name (not an issue with old RSS), so I\u0027ll need to update that. It broke KCT not too long ago because of that as well.\u003C/p\u003E\u003Cp\u003EEdit: A few issues mentioned on GitHub that I\u0027m linking here as well.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/magico13/KCT/issues/79\u0022 rel=\u0022external nofollow\u0022\u003EFirst, \u003C/a\u003E general settings aren\u0027t being saved properly. It\u0027ll be a simple fix of \u003Cem\u003Eactually saving the settings\u003C/em\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/magico13/KCT/issues/80\u0022 rel=\u0022external nofollow\u0022\u003ESecond,\u003C/a\u003E apparently one of the GUIs is flickering. Probably the code that keeps things centered. Should be easy fix. Edit2: Nope. They\u0027re using the \u003Cem\u003E\u003Cstrong\u003Esame\u003C/strong\u003E\u003C/em\u003E Rect object (I have one that gets tossed around for various minor windows). I\u0027ll just have to give one of them a dedicated Rect.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-29T18:06:37Z\u0022 title=\u002206/29/2015 06:06  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 29, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2015-06-29T18:41:03Z","Content":"\n\u003Cp\u003EI have a set of (cosmetics) observations.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThis is what I did to get to these observations:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI create a new career with a \u0027fresh install\u0027 of KCT#121.\u003C/p\u003E\u003Cp\u003EI select \u00221 - Choose a Preset\u0022 and the default is selected automatically. (cool feature by the way)\u003C/p\u003E\u003Cp\u003EI change \u0022Override Launch Button\u0022 to off and \u0022Debug Logging\u0022 to on.\u003C/p\u003E\u003Cp\u003EI select \u0022Save as New Preset\u0022.\u003C/p\u003E\u003Cp\u003EI enter the VAB, at first everything is normal. Then when I use a command pod (first item placed) the settings are forgotten.\u003C/p\u003E\u003Cp\u003EI exit the VAB and head to the launch pad.\u003C/p\u003E\u003Cp\u003EFinally I install the \u0027Blizzy\u0027 Toolbar mod.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EGlobal settings not saved\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThe global settings aren\u0027t saved, and what is worse is that when I exit the VAB and enter KCT Settings I see that \u0022Override Launch Button\u0022 and \u0022Debug Logging\u0022 have reverted (to on and off respectively).\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECosmetic issue, \u0022Save as New Preset\u0022 name field flickers\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhen filling out Preset name the window flickers while typing.\u003C/p\u003E\u003Cp\u003EIt only flickers at this first occasion, possibly because the \u0022Choose a Preset or Spend Upgrades\u0022 is visible underneath?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECosmetic issue, inconsistent \u0022Upgrades\u0022 and \u0022Settings\u0022 sub-windows for Blizzy Toolbar\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThere is inconsistency to when I chose \u0022Upgrades\u0022 or \u0022Settings\u0022. Usually I should get the main window which says \u0022Build List\u0022 back when I close the \u0022Upgrades\u0022 or \u0022Settings\u0022 pop-up. But in the current configuration that is not necessarily so. I am not sure if it has to do with the toolbar plugin, the new Settings dialog or maybe even both.\u003C/p\u003E\u003Cp\u003EB.t.w. It might work as intended (I was just a bit surprised, that\u0027s all).\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENotice to others, if you already have a simulation length set it is treated as seconds\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIf you use build #123 on an old career the first time you may see the length of the simulation set at \u00220.25\u0022, which used to be 15 minutes, but now is actually indeed taken as one quarter of a second. It is a non-issue though just type in any number of seconds and the next time it will be presented as \u002200:00:01:00:00\u0022 (say if you type 3600) - it does not affect new careers.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECosmetic request, the launch pad warning is difficult to read\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t know if it is an easy change. Currently the otherwise very appropriate warning when going to the launch pad and runway is difficult to read. Is it possible to choose a dialog style with less transparency in the box-background?\u003C/p\u003E\u003Cp\u003EOverall nice features, as witnessed by the fact that my observations are predominantly cosmetic.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-06-29T19:33:25Z","Content":"\n\u003Cp\u003EEven though I addressed some of these above, I\u0027ll address them specifically so that everyone\u0027s all on the same page (and so I can write down my thoughts on what to do to fix them so I don\u0027t forget later \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E )\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EGlobal settings not saved\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ESimple case of not actually telling the settings to be saved on my end. Easily fixed by explicitly saving the settings when clicking \u0022Save\u0022 or trashing them and loading the old ones on \u0022Cancel\u0022. I\u0027ll have it fixed for next update.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECosmetic issue, \u0022Save as New Preset\u0022 name field flickers\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThere are two possibilities here: 1) issues with the window being a Centered Window and being redrawn every frame when it shouldn\u0027t be, or 2) the save window and the first run window use the same Rect object. If it\u0027s the second one (which I believe it is) that\u0027s easily fixed by giving one of those its own Rect object.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECosmetic issue, inconsistent \u0022Upgrades\u0022 and \u0022Settings\u0022 sub-windows for Blizzy Toolbar\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EHa! I didn\u0027t even think about that when I made a recent change. It bugged me that the \u0022highlight\u0022 when using the Stock toolbar wasn\u0027t always synced up properly, so I \u0022fixed\u0022 an occurrence of that by manually calling a button press (opening the build list and highlighting the button). But if you\u0027re using Blizzy\u0027s toolbar that button doesn\u0027t exist, so it doesn\u0027t open the Build List then. Another simple fix for next version.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENotice to others, if you already have a simulation length set it is treated as seconds\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI recently made it so you can use any amount of time for simulations (which you\u0027ve noticed), which had the effect of switching from hours as the default time unit to seconds. I might still change it back to hours since nobody wants a 30 second simulation and you should be able to put in 0.25 for 15 minutes. At the very least, I\u0027ll put a mention of that issue in the release notes, but people will hopefully figure it out pretty quickly.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECosmetic request, the launch pad warning is difficult to read\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s supposed to be using a different background (the same one as all the other windows) but it for some reason has been selecting the HighLogic skin instead of the default Unity skin. I\u0027ll see if I can force it to use the more opaque background. I couldn\u0027t find a way to override the OnClick for the launchpad, unfortunately, as I wanted to try to just have that popup happen instead of the normal launch dialog. I found the class that defines it, but no instance of the class to mess around with. In fact, I couldn\u0027t find a single instance of any of the KSC buildings, so I\u0027m not sure where they\u0027re being kept :/ If I can\u0027t change the background, I can also just move the dialog to the side.\u003C/p\u003E\u003Cp\u003EEdit: Build 122 up to (hopefully) fix most of these issues. I didn\u0027t get a chance to test it myself, sorry, so you\u0027ll be going in blind, but it should mostly be cosmetic changes anyway. I might get some more time to test tomorrow.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-30T03:10:38Z\u0022 title=\u002206/30/2015 03:10  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 30, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2015-06-30T20:58:53Z","Content":"\n\u003Cp\u003EHi. Now that there is an \u0022Save as New Preset\u0022 button, maybe we should have a \u0022delete\u0022 button for presets as well. Or maybe that is too much of a power user feature, as you can potentially brake innocent career saves with such a button. What do you think?\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-06-30T23:02:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rodhern\u0022 data-cite=\u0022Rodhern\u0022\u003E\u003Cdiv\u003EHi. Now that there is an \u0022Save as New Preset\u0022 button, maybe we should have a \u0022delete\u0022 button for presets as well. Or maybe that is too much of a power user feature, as you can potentially brake innocent career saves with such a button. What do you think?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe only way I\u0027d be ok with that is if you could only delete presets you make yourself. I could add a flag that gets set saying it\u0027s user made, then other providers will just set that false and make it not deletable.\u003C/p\u003E\u003Cp\u003EOf course, you can always delete them manually by going into the folder and deleting it.\u003C/p\u003E\u003Cp\u003EDeleting the current preset is actually safe, since it gets saved to the Save folder.\u003C/p\u003E\u003Cp\u003EEdit: I went ahead and added it. There\u0027s a hidden flag inside the Preset files now called \u0022allowDeletion\u0022. If it\u0027s False then there isn\u0027t an option in-game to delete the Preset (but deleting the file outside of KSP will work still). If it\u0027s True then you can delete the preset from in game, after a confirmation window. All Presets made through the Save As New Preset button have it set to True, so user made presets can automatically be deleted. Any Presets shipped by external mods (RP-0, KCT itself) should manually set that to False to prevent them from being deleted on accident.\u003C/p\u003E\u003Cp\u003ESomething I just realized, any Presets shipped in other mod folders can\u0027t be overwritten or deleted in-game (unless they don\u0027t set that flag, in which case they can be deleted but not overwritten), but KCT provided Presets \u003Cem\u003Ecan\u003C/em\u003E be overwritten. I\u0027m not sure how I feel about that. I should probably prevent overwriting any configs that have allowDeletion set to False.\u003C/p\u003E\u003Cp\u003EEdit 2: My wish is my own command, I guess. I went and added that restriction as well. Now if you choose a shortName for a preset that is the same as one that already exists you\u0027ll be warned. If it\u0027s the same as a Preset that has allowDeletion set to False then you cannot save the Preset \u003Cem\u003Eat all\u003C/em\u003E until you give it a new shortName. The Save button just totally vanishes. If you\u0027re allowed to delete the Preset, then you\u0027re allowed to overwrite it as well.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-01T01:51:34Z\u0022 title=\u002207/01/2015 01:51  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 1, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2015-07-02T19:31:15Z","Content":"\n\u003Cp\u003EHi, tried to clear the inventory. The log shows an exception like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[EXC 21:21:32.717] InvalidOperationException: out of sync\u003Cbr\u003E    System.Collections.Generic.Dictionary\u00602\u002BEnumerator[System.String,System.Int32].VerifyState ()\u003Cbr\u003E    System.Collections.Generic.Dictionary\u00602\u002BEnumerator[System.String,System.Int32].MoveNext ()\u003Cbr\u003E    KerbalConstructionTime.KCT_GUI.ClearOutInventory ()\u003Cbr\u003E    DialogOption.OptionSelected ()\u003Cbr\u003E    MultiOptionDialog.drawContent (Int32 id)\u003Cbr\u003E    UnityEngine.GUILayout\u002BLayoutedWindow.DoWindow (Int32 windowID)\u003Cbr\u003E    UnityEngine.GUI.CallWindowDelegate (UnityEngine.WindowFunction func, Int32 id, UnityEngine.GUISkin _skin, Int32 forceRect, Single width, Single height, UnityEngine.GUIStyle style)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI suspect it stems from here:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E            [COLOR=#800000][B]foreach[/B][/COLOR] (KeyValuePair\u0026lt;string, int\u0026gt; kvp in KCT_GameStates.[COLOR=#800000][B]PartInventory[/B][/COLOR])\u003Cbr\u003E            {\u003Cbr\u003E                AvailablePart part = KCT_Utilities.GetAvailablePartByName(kvp.Key);\u003Cbr\u003E                if (part != null)\u003Cbr\u003E                {\u003Cbr\u003E                    if (!KCT_Utilities.PartIsProcedural(part.partPrefab))\u003Cbr\u003E                    {\u003Cbr\u003E                        totalValue \u002B= part.cost * kvp.Value;\u003Cbr\u003E                    }\u003Cbr\u003E                    else\u003Cbr\u003E                    {\u003Cbr\u003E                        totalValue \u002B= kvp.Value / 100.0F;\u003Cbr\u003E                    }\u003Cbr\u003E                    //Remove the parts from the inventory\u003Cbr\u003E                    KCT_GameStates.[B][COLOR=#800000]PartInventory[/COLOR].[COLOR=#800000]Remove[/COLOR][/B](kvp.Key);\u003Cbr\u003E                }\u003Cbr\u003E            }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI guess you don\u0027t need log and save game files for this one :-)\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-07-02T19:49:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rodhern\u0022 data-cite=\u0022Rodhern\u0022\u003E\u003Cdiv\u003EHi, tried to clear the inventory. The log shows an exception like this:\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep. That would do it! Not sure what I was thinking at the time, as you clearly aren\u0027t allowed to loop over a list and remove items from it inside the loop. I\u0027ll get that fixed tonight probably (I\u0027ll just make a list of which parts are cleared to be removed, then loop over that list and remove them from the inventory. No sync issues then). That\u0027s what I get for not testing things \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EOff the top of my head the only other thing I know I need to fix is the issue JeffreyCor reported \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/69310-Kerbal-Construction-Time-StageRecovery-Dev-Thread?p=2048589\u0026amp;viewfull=1#post2048589\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2015-07-02T20:00:56Z","Content":"\n\u003Cp\u003EYou want to clear the entire collection right? Is there no method for that, or is there some other reason the entries must be removed one at a time?\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-07-02T20:39:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rodhern\u0022 data-cite=\u0022Rodhern\u0022\u003E\u003Cdiv\u003EYou want to clear the entire collection right? Is there no method for that, or is there some other reason the entries must be removed one at a time?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey have to be removed one at a time. Since the inventory is just a dictionary of part names and quantities, KCT knows nothing about the parts. To figure out their costs, KCT asks KSP about the default values for each part, but that doesn\u0027t work if the part can\u0027t be found in the game (ie, the mod it\u0027s from got removed or it\u0027s a tweakscaled part). Rather than deleting those things from the inventory and not giving the player anything for them, KCT keeps them in the inventory in case those parts become available again (or, in the case of tweakscale, they\u0027ll still be useable despite the fact that KCT can\u0027t determine cost info for them).\u003C/p\u003E\u003Cp\u003EBasically, KCT plays it safe. If it can\u0027t find the part in question loaded in the game, it doesn\u0027t delete it from the inventory.\u003C/p\u003E\u003Cp\u003EI\u0027ve worked on an alternative inventory system in the past that tracks part costs explicitly, which would alleviate situations like this. It also had support for storing module information. I might end up bringing that out at some point. We\u0027ll see.\u003C/p\u003E\u003Cp\u003EE: BTW, 125 should hopefully fix the inventory clearing and rollout hover bugs. There might still be an issue in that last one after you rollout a vessel. I haven\u0027t gotten around to testing it yet still :/\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-03T14:38:22Z\u0022 title=\u002207/03/2015 02:38  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 3, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2015-07-06T18:07:53Z","Content":"\n\u003Cp\u003EI am creating a preset that I feel is better balanced toward the low-tech end at the start of a new career. The first few missions (launch a vessel, gather some science etc) can be quite difficult to get done in time with the default preset.\u003C/p\u003E\u003Cp\u003EI start with 15 upgrade points; 16 if you count the one I get from the \u0022start\u0022 technology node. After the first four launches I have a total of 25 upgrade points. The nine \u0027extra\u0027 points originate from science reports:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EcrewReport@KerbinSrfLandedLaunchPad \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EevaReport@KerbinSrfLandedLaunchPad \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EcrewReport@KerbinSrfLandedRunway \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EevaReport@KerbinSrfLandedRunway \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EevaReport@KerbinFlyingLowShores \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EmysteryGoo@KerbinSrfLandedRunway \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EcrewReport@KerbinSrfSplashedWater \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EevaReport@KerbinFlyingLowWater \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Erecovery@KerbinFlew \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI notice that the development code have a filter commented out; so my question is, is it working as intended at the moment?\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-07-06T19:08:49Z","Content":"\n\u003Cp\u003EI\u0027m not sure if I\u0027m fully understanding what you\u0027re saying. You\u0027re getting 9 extra upgrade points from somewhere for some reason? They shouldn\u0027t be tied to science reports. The commented out part of the code is because that method of getting the number of unlocked tech nodes only works when the R\u0026amp;D center is open. The way I\u0027m using should work in any scene, but it occurs to me that it might be possible that it\u0027s counting the number of science reports instead of tech nodes... Or it might be counting both...\u003C/p\u003E\u003Cp\u003EI\u0027ll see if I can get that fixed later today. I finally got a chance to play yesterday and noticed it was acting up, but couldn\u0027t figure out why. That\u0027s probably why (for me, it said I had -9 upgrades left). I\u0027m also not sure if simulations around other bodies are working. Trying to select the Mun resulted in a bunch of errors for me.\u003C/p\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2015-07-06T19:19:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EI\u0027m not sure if I\u0027m fully understanding what you\u0027re saying. ... it might be possible that it\u0027s counting the number of science reports instead of tech nodes... Or it might be counting both.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, that is what I am trying to say. In my setup right now it counts both (tech nodes \u002B science reports). Good to know that it is supposed to count only tech nodes; that seems reasonable.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-07-06T19:41:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rodhern\u0022 data-cite=\u0022Rodhern\u0022\u003E\u003Cdiv\u003EYup, that is what I am trying to say. In my setup right now it counts both (tech nodes \u002B science reports). Good to know that it is supposed to count only tech nodes; that seems reasonable.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, what KCT does normally is count tech nodes. With the Presets update I\u0027ve added the ability to turn off getting upgrades from tech nodes to either require purchasing upgrades manually, get them from another mod (when I get the API up and running that is), or to not use them at all (for Presets that define everything based on Stock upgrades). The way of counting the number of unlocked tech nodes that I was using before apparently worked better than the new one I was trying out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Should have the counting issue fixed in the latest update. Also, Kerbin orbital simulations should be using the correct formula now. Previously it was using the \u0022landed at KSC\u0022 formula instead of the more general orbital formula.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-07T01:34:02Z\u0022 title=\u002207/07/2015 01:34  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 7, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2015-07-07T15:03:22Z","Content":"\n\u003Cp\u003EThere is a minor snag. When I select simulate the cost of the simulation is deducted from my funds and the cost of the vessel is (temporarily) added to my funds. If I now get a warning that the launch pad isn\u0027t clear or that the vessel is unmanned and uncontrollable and I choose to heed the warning and cancel the simulation I am almost certainly at a net gain (as the vessel is usually more expensive than the simulation and the KSP vessel expense or simulation revert will never take place).\u003C/p\u003E\u003Cp\u003EI am not sure if it is worth the effort to fix the issue. Then again maybe there is an easy fix.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-07-07T15:20:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rodhern\u0022 data-cite=\u0022Rodhern\u0022\u003E\u003Cdiv\u003EThere is a minor snag. When I select simulate the cost of the simulation is deducted from my funds and the cost of the vessel is (temporarily) added to my funds. If I now get a warning that the launch pad isn\u0027t clear or that the vessel is unmanned and uncontrollable and I choose to heed the warning and cancel the simulation I am almost certainly at a net gain (as the vessel is usually more expensive than the simulation and the KSP vessel expense or simulation revert will never take place).\u003Cp\u003EI am not sure if it is worth the effort to fix the issue. Then again maybe there is an easy fix.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m pretty sure when you switch scenes or try to simulate again you\u0027ll be back at your normal funds level. I vaguely remember implementing that fix a while back, but it doesn\u0027t take the funds back until a scene change. It might not be totally balanced correctly, since it might still be taking the funds for the simulation, so you might actually lose money if it\u0027s working \u0022properly\u0022. I haven\u0027t tested that in a while, so I can\u0027t recall.\u003C/p\u003E\u003Cp\u003EEdit: Checking through the code, it looks like it takes the funds back that it gives for a vessel, but doesn\u0027t return the funds spent on the failed simulation.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-07T15:26:21Z\u0022 title=\u002207/07/2015 03:26  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 7, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"}]}