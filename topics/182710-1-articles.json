{"TopicId":182710,"ForumId":44,"TopicTitle":"How are my calculations wrong?","CreatedByName":"Karol van Kermin","CreatedById":160760,"CreatedDateTime":"2019-03-07T21:56:27Z","PageNum":1,"Articles":[{"CreatedByName":"Karol van Kermin","CreatedById":160760,"CreatedDateTime":"2019-03-07T21:56:27Z","Content":"\n\u003Cp\u003E\nHey there fellow Kerbonauts!\n\u003C/p\u003E\n\u003Cp\u003E\nRecently I have been attempting to find an elegent formula with which I can calculate the apogee of a vertically flying rocket in a simplified system (no aerodynamic resistance and earth acceleration remains constant). I started off by defining the overall force F as the sum of all forces acting upon a vertically flying rocket. F\u003Csub\u003ET\u003C/sub\u003E is the Force exerted by the engine and F\u003Csub\u003EG\u003C/sub\u003E is the gravitational force pulling the rocket downwards (hence the negative sign):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EF = F\u003Csub\u003ET\u003C/sub\u003E - F\u003Csub\u003EG\u003C/sub\u003E\u003C/em\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSince the mass of a rocket is changing over the time I described the mass at a given time t with the following formula, whereas M is the initial mass and m\u0027 is the fuel mass flow rate in kg/s:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Em(t) = M - m\u0027 * t\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDividing the sum of all forces by the current mass gives us the acceleration of the rocket at the time t (F\u003Csub\u003EG\u003C/sub\u003E/m(t) = g, because F\u003Csub\u003EG \u003C/sub\u003E= m(t) * g).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Ea(t) = F/m(t)\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Ea(t) = F\u003Csub\u003ET\u003C/sub\u003E/(M - m\u0027 * t) - g\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBy integrating this formula in the interval [0;t] I get the following formula:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Ev(t) = (F\u003Csub\u003ET\u003C/sub\u003E/m\u0027) * ln[M/(M-m\u0027 * t)] - g * t\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EF\u003Csub\u003ET\u003C/sub\u003E/m\u0027 = I\u003Csub\u003ESP\u003C/sub\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIntergrating the formula for the velocity at the time t should give us the track covered by the rocket after the time t:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Es(t) = I\u003Csub\u003ESP\u003C/sub\u003E * {t * ln(M\u003Csup\u003E2\u003C/sup\u003E - M * m\u0027 * t) \u002B (M/m\u0027) * ln[M/(M - m\u0027 * t)] - t} - g * t\u003Csup\u003E2\u003C/sup\u003E/2\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf I want to calculate the altitude at which the main engine cuts off (MECO), I first need to calculate the burn time:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Et\u003Csub\u003EMECO\u003C/sub\u003E = (M - m\u003Csub\u003E0\u003C/sub\u003E)/m\u0027 = m\u003Csub\u003ET\u003C/sub\u003E/m\u0027\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EM ... total mass of the rocket\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Em\u003Csub\u003E0\u003C/sub\u003E ... mass of the rocket without any fuel\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Em\u003Csub\u003ET\u003C/sub\u003E ... fuel mass\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHaving found the MECO time and thus the altitude and velocity at this given moment, I have to create a parabolic function using the following inputs:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Es(t\u003Csub\u003EMECO\u003C/sub\u003E), v(t\u003Csub\u003EMECO\u003C/sub\u003E), a = - g\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Eh(t) = - g * t\u003Csup\u003E2\u003C/sup\u003E/2 \u002B v(t\u003Csub\u003EMECO\u003C/sub\u003E) * t \u002B s(t\u003Csub\u003EMECO\u003C/sub\u003E)\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nTo test my formula I built a small rocket and calculated that its Apogee should be at around 1017.391km. Because I was ignoring atmospheric drag in my formulas I assumed that the real apogee was going to be lower than the one I calculated. However, the opposite was true: In the demonstration my rocket reached an apogee of roughly 1500km. So I started thinking what could have caused such a miscalculation and I could not find an answer.\n\u003C/p\u003E\n\u003Cp\u003E\nI would love to hear your answers. Thank you very much for taking your time thinking about this issue and I apologize for my possible grammar and math mistakes.\n\u003C/p\u003E\n\u003Cp\u003E\nFly safe! \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ultimate Steve","CreatedById":161505,"CreatedDateTime":"2019-03-07T22:50:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223553821\u0022 data-ipsquote-contentid=\u0022182710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221551995787\u0022 data-ipsquote-userid=\u0022160760\u0022 data-ipsquote-username=\u0022Karol van Kermin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n53 minutes ago, Karol van Kermin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHaving found the MECO time and thus the altitude and velocity at this given moment, I have to create a parabolic function using the following inputs:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Es(t\u003Csub\u003EMECO\u003C/sub\u003E), v(t\u003Csub\u003EMECO\u003C/sub\u003E), a = - g\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003Eh(t) = - g * t\u003Csup\u003E2\u003C/sup\u003E/2 \u002B v(t\u003Csub\u003EMECO\u003C/sub\u003E) * t \u002B s(t\u003Csub\u003EMECO\u003C/sub\u003E)\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nTo test my formula I built a small rocket and calculated that its Apogee should be at around 1017.391km. Because I was ignoring atmospheric drag in my formulas I assumed that the real apogee was going to be lower than the one I calculated. However, the opposite was true: In the demonstration my rocket reached an apogee of roughly 1500km. So I started thinking what could have caused such a miscalculation and I could not find an answer.\n\u003C/p\u003E\n\u003Cp\u003E\nI would love to hear your answers. Thank you very much for taking your time thinking about this issue and I apologize for my possible grammar and math mistakes.\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you\u0027re using KSP or \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, keep in mind that gravity does not remain constant.\n\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2019-03-07T22:58:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223553875\u0022 data-ipsquote-contentid=\u0022182710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221551999030\u0022 data-ipsquote-userid=\u0022161505\u0022 data-ipsquote-username=\u0022Ultimate Steve\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Ultimate Steve said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you\u0027re using KSP or \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, keep in mind that gravity does not remain constant.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ni usually call the saved delta-v \u0027gravy\u0027\n\u003C/p\u003E\n"},{"CreatedByName":"Karol van Kermin","CreatedById":160760,"CreatedDateTime":"2019-03-07T22:59:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223553875\u0022 data-ipsquote-contentid=\u0022182710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221551999030\u0022 data-ipsquote-userid=\u0022161505\u0022 data-ipsquote-username=\u0022Ultimate Steve\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, Ultimate Steve said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you\u0027re using KSP or \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, keep in mind that gravity does not remain constant. \u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo in short: my formulas aren\u0027t useful if I do not take the change of gravity into account?\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Also, does gravity really change that significantly, so that I can miscalculate by about 500km?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-07T23:01:00Z\u0022 title=\u002203/07/2019 11:01  PM\u0022 data-short=\u00225 yr\u0022\u003EMarch 7, 2019\u003C/time\u003E by Karol van Kermin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sevenperforce","CreatedById":157695,"CreatedDateTime":"2019-03-07T23:16:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223553881\u0022 data-ipsquote-contentid=\u0022182710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221551999588\u0022 data-ipsquote-userid=\u0022160760\u0022 data-ipsquote-username=\u0022Karol van Kermin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Karol van Kermin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo in short: my formulas aren\u0027t useful if I do not take the change of gravity into account?\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Also, does gravity really change that significantly, so that I can miscalculate by about 500km?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCorrect, and correct.\n\u003C/p\u003E\n"},{"CreatedByName":"Ultimate Steve","CreatedById":161505,"CreatedDateTime":"2019-03-07T23:18:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223553881\u0022 data-ipsquote-contentid=\u0022182710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221551999588\u0022 data-ipsquote-userid=\u0022160760\u0022 data-ipsquote-username=\u0022Karol van Kermin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Karol van Kermin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo in short: my formulas aren\u0027t useful if I do not take the change of gravity into account?\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Also, does gravity really change that significantly, so that I can miscalculate by about 500km?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you\u0027re using stock KSP for simulations, Kerbin\u0027s radius is 600km. If you flew upwards to 1500km you are almost quadrupling the distance from the core. By my calculations, acceleration due to gravity is 0.8m/s2 at that altitude, 10x less than at the surface.\n\u003C/p\u003E\n"},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2019-03-08T01:27:15Z","Content":"\n\u003Cp\u003E\nI can confirm \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/161505-ultimate-steve/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022161505\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/161505-ultimate-steve/\u0022 rel=\u0022\u0022\u003E@Ultimate Steve\u003C/a\u003E\u2018S calc. Furthermore, your original intuition would be correct on earth, gravity would only be 75% of the surface value at 1500 km.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-08T01:28:20Z\u0022 title=\u002203/08/2019 01:28  AM\u0022 data-short=\u00225 yr\u0022\u003EMarch 8, 2019\u003C/time\u003E by Nightside\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"YNM","CreatedById":98447,"CreatedDateTime":"2019-03-08T07:15:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223553821\u0022 data-ipsquote-contentid=\u0022182710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221551995787\u0022 data-ipsquote-userid=\u0022160760\u0022 data-ipsquote-username=\u0022Karol van Kermin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Karol van Kermin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n... calcula\u003Cspan\u003E\uFEFF\u003C/span\u003Ete\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003C/span\u003E the apogee of a vertically flying rocket in a simplified \u003Cspan\u003E\uFEFF\u003C/span\u003Esystem (no aerodynamic resistance and \u003Cu\u003E\u003Cem\u003Eeart\u003Cspan\u003E\uFEFF\u003C/span\u003Eh\u003C/em\u003E\u003C/u\u003E accelerat\u003Cspan\u003E\uFEFF\u003C/span\u003Eion remains constant\u003Cspan\u003E\uFEFF\u003C/span\u003E)\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF. ...\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\n...\u00A0To\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E test \u003Cspan\u003E\uFEFF\u003C/span\u003Emy formula I \u003Cem\u003Ebuilt a small rocket\u003C/em\u003E\u003Cspan\u003E\uFEFF\u00A0\u003Cspan\u003Eand calculated that its Apogee should be at\u00A0\uFEFFaround\uFEFF\u00A01017.391km\uFEFF\uFEFF. ...\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n1. Kerbin is\u00A0\u003Cstrong\u003Enot\u003C/strong\u003E\u00A0Earth.\n\u003C/p\u003E\n\u003Cp\u003E\n2. You should get more than your calculation\u00A0if it\u0027s on an airless body\u00A0- the lesser gravity makes for a bigger boost because your rocket has to fight less of it.\n\u003C/p\u003E\n"},{"CreatedByName":"Bill Phil","CreatedById":127797,"CreatedDateTime":"2019-03-08T18:54:41Z","Content":"\n\u003Cp\u003E\nYou can use the geopotential energy formula to solve for height once you get velocity.\u00A0It takes into account changing gravity. You\u2019d have to add in the height of MECO though, or take into account somehow.\n\u003C/p\u003E\n\u003Cp\u003E\nThis equation also accounts for Kerbin not being Earth, since one of the terms is the gravitational constant times mass, and Kerbin has a lower mass than Earth.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-08T18:57:05Z\u0022 title=\u002203/08/2019 06:57  PM\u0022 data-short=\u00225 yr\u0022\u003EMarch 8, 2019\u003C/time\u003E by Bill Phil\u003C/strong\u003E\n\u003C/span\u003E\n"}]}