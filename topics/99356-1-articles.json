{"TopicId":99356,"ForumId":29,"TopicTitle":"Fuel Flow Alteration","CreatedByName":"Starwhip","CreatedById":83990,"CreatedDateTime":"2015-02-11T04:17:00Z","PageNum":1,"Articles":[{"CreatedByName":"Starwhip","CreatedById":83990,"CreatedDateTime":"2015-02-11T04:17:00Z","Content":"\n\u003Cp\u003EWhat needs to be done to have a resource flow only through a stack and not through fuel lines? I would assume that you disable fuel line crossfeed, but I do not know where to start.\u003C/p\u003E\n"},{"CreatedByName":"zekes","CreatedById":23840,"CreatedDateTime":"2015-02-11T04:21:01Z","Content":"\n\u003Cp\u003Eplacement of fuel lines is important - fuel flows linearly.\u003C/p\u003E\n"},{"CreatedByName":"Starwhip","CreatedById":83990,"CreatedDateTime":"2015-02-11T04:35:13Z","Content":"\n\u003Cp\u003EI mean disabling it in the code. Trying to make an SRB equivalent with stackable fuel parts, but the fuel can be transferred with the fuel lines. I don\u0027t want this.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/110074-WIP-The-Modular-Booster-System-Version-0-1!?p=1727162\u0022 rel=\u0022external nofollow\u0022\u003EMBS Page\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-02-11T06:30:38Z","Content":"\n\u003Cp\u003EYou can\u0027t, AFAIK.\u003C/p\u003E\u003Cp\u003EFuel crossfeed works by each part having a table of parts it feeds with. Fuel lines add things to that table. It\u0027s not separated out per resource. At best you can just set different flow modes per resource (which really just means \u0022do we ignore the table and flow everywhere (ALL_VESSEL, STAGE_PRIORITY), or do we use the table (STACK_PRIORITY) or do we not flow at all (NO_FLOW) ).\u003C/p\u003E\n"},{"CreatedByName":"Starwhip","CreatedById":83990,"CreatedDateTime":"2015-02-11T13:15:09Z","Content":"\n\u003Cp\u003EDarn.\u003C/p\u003E\u003Cp\u003EOh, well, I suppose users just shouldn\u0027t connect fuel lines...\u003C/p\u003E\u003Cp\u003EOR:\u003C/p\u003E\u003Cp\u003EIs there a way to disable fuel lines from attaching to the surface of a specified part, while still allowing other parts to attach to the surface?\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-11T13:31:26Z","Content":"\n\u003Cp\u003ENo. There is no don\u0027t-attach-to-these-parts list in the editor.\u003C/p\u003E\u003Cp\u003EBut you can check to which part a fuel line is attached to and disable crossfeed on it. But I\u0027m not sure if that\u0027ll work out. The fuel line is a special kind of part.\u003C/p\u003E\n"},{"CreatedByName":"Starwhip","CreatedById":83990,"CreatedDateTime":"2015-02-11T13:32:30Z","Content":"\n\u003Cp\u003EThat\u0027ll do it, now how do you do it? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003ESeems like you can do it like so:\u003C/p\u003E\u003Cp\u003E(This is a mock up structure, with some syntax. I\u0027m trying to find out what you would need in C#)\u003C/p\u003E\u003Cp\u003EIF(Parent = mbs_sfs125 || Parent = mbs_sfs250 || Parent = mbs_sfs0625){\u003C/p\u003E\u003Cp\u003EcloseFuelLine();\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-11T13:44:47Z\u0022 title=\u002202/11/2015 01:44  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 11, 2015\u003C/time\u003E by Starwhip\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-11T13:53:02Z","Content":"\n\u003Cp\u003ECheck if your code runs in the editor. E. g.:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (HighLogic.LoadedSceneIsEditor) ...\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen cycle through the parts list to find all fuel lines. E. g.:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EEditorLogic.fetch.ship.parts.FindAll(IsAFuelLine);\u003Cbr\u003E...\u003Cbr\u003Eprivate bool IsAFuelLine(Part part)\u003Cbr\u003E{\u003Cbr\u003Ereturn part.GetType().Equals(typeof(FuelLine)) == true;\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen check if the fuel line is connected to your part. E. g.:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EEditorLogic.fetch.ship.parts.FindAll(IsAFuelLine).ForEach(DisableCrossFeedIfAttachedToYourPart);\u003Cbr\u003E...\u003Cbr\u003Eprivate void DisableCrossFeedIfAttachedToYourPart(Part part)\u003Cbr\u003E{\u003Cbr\u003EFuelLine fuelLine = part as FuelLine;\u003Cbr\u003E...\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t know how to get the attached parts. I couldn\u0027t find a property or method in the object which immediately sounds like it\u0027ll return the attached parts. That\u0027s your work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso I found several methods and property which sound like they could be used to disable fuel flow. But it has to be tested which one is the correct one. Or look in the source code of other mods.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003EI\u0027m also not sure if the editor saves the disabled crossfeed to the save file. It could be that you\u0027ll also have to disable crossfeed when the flight scene starts up.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-11T13:57:34Z\u0022 title=\u002202/11/2015 01:57  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 11, 2015\u003C/time\u003E by *Aqua*\u003C/strong\u003E\n\u003C/span\u003E\n"}]}