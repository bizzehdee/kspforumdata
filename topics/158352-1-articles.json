{"TopicId":158352,"ForumId":44,"TopicTitle":"Calculating optimal ballistic trajectories","CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-03-28T21:44:47Z","PageNum":1,"Articles":[{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-03-28T21:44:47Z","Content":"\n\u003Cp\u003E\nHey folks, I could use some help/input from anyone who likes a healthy dose of math and physics!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m building a base on the Mun with a lab and mining/\u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E capabilities. The idea is to use a shuttle to hop around and collect science, then bring it back to the lab and fill up the tanks on the shuttle. So a common problem I have is figuring an efficient path from base to destination (and back). Right now I basically just point in whatever feels like the right direction, give myself some altitude, and burn prograde until my trajectory I comes down in the right area. I got curious about the optimal ways to do this, so I posted on Reddit to see if anyone knew of an existing tool/calculator that would be of use. Not learning of one, I thought it might be a fun exercise to give the math a shot myself.\n\u003C/p\u003E\n\u003Cp\u003E\nWe\u0027ve begun with a simplified problem: (1) no drag/atmosphere, (2) perfectly spherical planet, (3) non-rotating planet. I\u0027d like to try tackling 2 and 3 as well (1 is more than I want to bite off), but we\u0027ll see where it goes.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyways, the optimal case seems to be an elliptical orbit with initial and final locations located on the latus rectum of the second focus. This geometry minimizes the semi-major axis and thus orbital energy. I\u0027ve put everything so far in a spreadsheet: \u003Ca href=\u0022https://docs.google.com/spreadsheets/d/1JIUHIAujZuQdvPRIo-FTho82QcEqVLeuRe-lLiM_b-I/edit#gid=0.\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.google.com/spreadsheets/d/1JIUHIAujZuQdvPRIo-FTho82QcEqVLeuRe-lLiM_b-I/edit#gid=0.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe next step I\u0027m trying to solve is how to determine alpha, the pitch angle for the initial burn. We\u0027ve got an equation that solves it for the optimal case, but I\u0027m struggling to work out a general equation for any sma/eccentricity. With that problem solved you\u0027ll be able to input a minimum apoapsis in order to clear terrain/obstacles.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I can get that done, I\u0027ll look next differing elevations and then a rotating body.\n\u003C/p\u003E\n\u003Cp\u003E\nJust a note on terms... I\u0027ve been using \u03B8 to represent the angle between initial/final location (measured from center of planet), and \u03B1 to represent the pitch (flight path) angle for the burn.\n\u003C/p\u003E\n\u003Cp\u003E\nIf anone wants to catch up on the discussion we\u0027ve had so far, here it is: \u003Ca href=\u0022https://www.reddit.com/r/KerbalAcademy/61tm0f\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.reddit.com/r/KerbalAcademy/61tm0f\u003C/a\u003E. I wanted to move the discussion here, partly because a forum format is more useful in this case and partly because I\u0027m hoping to get some new voices involved. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIf you can contribute I\u0027d love the help! Bonus points if you take the end results and turn them into a program or mod. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-28T21:47:32Z\u0022 title=\u002203/28/2017 09:47  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 28, 2017\u003C/time\u003E by jofwu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wumpus","CreatedById":133850,"CreatedDateTime":"2017-03-29T13:30:59Z","Content":"\n\u003Cp\u003E\nWell step one looks like solving the travelling salesman problem, so you will need to substitute \u0022optimal\u0022 for \u0022really good\u0022 after a certain number of landings/biomes (actually I think it is solvable with the number of biomes on any non-kerbin mass.\n\u003C/p\u003E\n\u003Cp\u003E\nFor rotating plantets, I\u0027d check just how long any flight would be on any planet and compare that to the planetary rotation. \u00A0I doubt it would be significant on the Mun, but it might through your initial plots off (which aren\u0027t quite exact anyway thanks to being NP-complete). \u00A0For non-smooth planets, you are stuck increasing your launch angle to miss mountain ranges. \u00A0For everything else, it looks like you have the equations already.\n\u003C/p\u003E\n"},{"CreatedByName":"Armisael","CreatedById":152425,"CreatedDateTime":"2017-03-29T13:57:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223001558\u0022 data-ipsquote-contentid=\u0022158352\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490794259\u0022 data-ipsquote-userid=\u0022133850\u0022 data-ipsquote-username=\u0022wumpus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, wumpus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell step one looks like solving the travelling salesman problem, so you will need to substitute \u0022optimal\u0022 for \u0022really good\u0022 after a certain number of landings/biomes (actually I think it is solvable with the number of biomes on any non-kerbin mass.\n\u003C/p\u003E\n\u003Cp\u003E\nFor rotating plantets, I\u0027d check just how long any flight would be on any planet and compare that to the planetary rotation. \u00A0I doubt it would be significant on the Mun, but it might through your initial plots off (which aren\u0027t quite exact anyway thanks to being NP-complete). \u00A0For non-smooth planets, you are stuck increasing your launch angle to miss mountain ranges. \u00A0For everything else, it looks like you have the equations already.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe assumption is just two sites - a launch site and a landing site. We\u0027ve been looking at figuring out the most \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E-efficient suborbital path between those two points, not pathfinding algorithms.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem with simply figuring out how far the landing site moves mid-flight is that the duration of the flight is a function of the position of the landing site. It seems like it ought to be possible to figure out the motion precisely, though.\n\u003C/p\u003E\n\u003Cp\u003E\nYou might not be going very far on a non-smooth planet - maybe you want to travel 3km and land on top of that mountain.\n\u003C/p\u003E\n"},{"CreatedByName":"wumpus","CreatedById":133850,"CreatedDateTime":"2017-03-29T14:05:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223001585\u0022 data-ipsquote-contentid=\u0022158352\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490795851\u0022 data-ipsquote-userid=\u0022152425\u0022 data-ipsquote-username=\u0022Armisael\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Armisael said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe assumption is just two sites - a launch site and a landing site. We\u0027ve been looking at figuring out the most \u003Cabbr title=\u0022Delta-V\u0022\u003Edv\u003C/abbr\u003E-efficient suborbital path between those two points, not pathfinding algorithms.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem with simply figuring out how far the landing site moves mid-flight is that the duration of the flight is a function of the position of the landing site. It seems like it ought to be possible to figure out the motion precisely, though.\n\u003C/p\u003E\n\u003Cp\u003E\nYou might not be going very far on a non-smooth planet - maybe you want to travel 3km and land on top of that mountain.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you are finding the values with a computer, it might be a lot easier simply to iterate: ignore rotation for your first attempt, then adjust your target by how much you missed. \u00A0You should have an exact value after a small number of iterations (I suspect the rotation speed needed for this algorithm to fail are sufficient to throw you off the moon while landed).\n\u003C/p\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-03-29T14:24:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223001558\u0022 data-ipsquote-contentid=\u0022158352\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490794259\u0022 data-ipsquote-userid=\u0022133850\u0022 data-ipsquote-username=\u0022wumpus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n53 minutes ago, wumpus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ntravelling salesman problem\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/133850-wumpus/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022133850\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/133850-wumpus/\u0022 rel=\u0022\u0022\u003E@wumpus\u003C/a\u003E Yeah, I\u0027m not trying to figure out the minimum delta-v to visit each biome. This is just looking at a single trip. The travelling salesman problem of visiting biomes would be an interesting one, but not important here because I\u0027ll be returning to base and refueling each time. Honestly, looking at early results, efficiency isn\u0027t even that significant. You can add unnecessary additional height for minimal extra \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E cost. But I think this is useful anyways as a \u0022manual maneuver node\u0022 of sorts. Rather than guessing at where to point and how long to burn, you just enter two sets of coordinates, point, and shoot. Then look at the map and make necessary adjustments. Just saves from having to do lots of in-the-moment guesswork for the hop.\n\u003C/p\u003E\n\u003Cp\u003E\nI was thinking the same way for when the time comes to try introducing rotation. I\u0027d calculate the orbit first assuming no rotation to get an estimate for T. Use that T to calculate the final position of the landing site. Re-calculate to this new site and get a new T. Repeat until the difference between two T\u0027s is within some margin of error. I think that would work, and seems very doable. The hard part will be considering initial/final surface velocities and working out how this plays into determining the optimal orbit. If nothing else it makes delta-v for the two burns (launch and landing) asymmetrical.\n\u003C/p\u003E\n\u003Cp\u003E\nBut anyways, for now I think I want to feel good about the simple case, allow for different apoapsis, and then look at different starting/ending elevations.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/152425-armisael/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022152425\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/152425-armisael/\u0022 rel=\u0022\u0022\u003E@Armisael\u003C/a\u003E I had a thought this morning...\n\u003C/p\u003E\n\u003Cp\u003E\nWe have coordinates for the focus of the ellipse (planet center, set to the origin) and the two sites make up two points on the ellipse. There are an infinite number of ellipses to fit these points, but can we use that to calculate eccentricity as a function of semi-major axis? You could then take the derivative with respect to eccentricity to get the minimum sma (and corresponding e). This would help a lot for the non-optimal case and for sites at different elevation.\n\u003C/p\u003E\n\u003Cp\u003E\nI found an answer to the question here (\u003Ca href=\u0022http://math.stackexchange.com/questions/547045/ellipses-given-focus-and-two-points\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://math.stackexchange.com/questions/547045/ellipses-given-focus-and-two-points\u003C/a\u003E), but I don\u0027t quite understand how to derive or apply the solution given.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-29T14:25:05Z\u0022 title=\u002203/29/2017 02:25  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 29, 2017\u003C/time\u003E by jofwu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2017-03-29T15:12:26Z","Content":"\n\u003Cp\u003E\nThe optimal hop is the one that requires less energy. With the hypothesis of perfectly spherical body and no rotation, all energy involved in the hop is the kinetic energy at launch (and conversely, at landing). Kinetic energy is function (given mass of the vessel a constant) of only speed\u003Csup\u003E2\u003C/sup\u003E, so the elliptic trajectory characterized by lower speed at the point of launch is your solution. As shown \u003Ca href=\u0022http://www.bogan.ca/orbits/kepler/orbteqtn.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, at any point in a elliptical trajectory\u00A0 v\u003Csup\u003E2\u003C/sup\u003E = [k/p](1\u002Be\u003Csup\u003E2\u003C/sup\u003E-2 cos(\u03B8)) (k = MG, p = semi-latus rectum, e = eccentricity, \u03B8 = true anomaly)\n\u003C/p\u003E\n"},{"CreatedByName":"Aethon","CreatedById":110755,"CreatedDateTime":"2017-03-29T16:08:01Z","Content":"\n\u003Cp\u003E\nThis may help you.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://hopsblog-hop.blogspot.com/2014/06/travel-on-airless-worlds.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hopsblog-hop.blogspot.com/2014/06/travel-on-airless-worlds.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://hopsblog-hop.blogspot.com/2014/06/travel-on-airless-worlds-part-ii.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hopsblog-hop.blogspot.com/2014/06/travel-on-airless-worlds-part-ii.html\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Armisael","CreatedById":152425,"CreatedDateTime":"2017-03-29T16:24:11Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/94705-jofwu/\u0026amp;do=hovercard\u0022 data-mentionid=\u002294705\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/94705-jofwu/\u0022 rel=\u0022\u0022\u003E@jofwu\u003C/a\u003E\u00A0Yeah, I think you\u0027re right. If you run through r = p/[1 \u002B e cos(\u003Cspan style=\u0022color:#272a34;\u0022\u003E\u03BD)] using both r_Ap (where\u00A0\u03BD = 180\u003C/span\u003E\u003Cspan style=\u0022color:#545454;\u0022\u003E\u00B0) and r_Moon (where\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#272a34;\u0022\u003E\u03BD = 180\u003C/span\u003E\u003Cspan style=\u0022color:#545454;\u0022\u003E\u00B0 -\u00A0\u003C/span\u003E\u03B8/2) you get an eccentricity of [r_Ap - r_Moon]/[r_Ap - r_Moon cos(\u03B8/2)]. From there it\u0027s pretty trivial to calculate the semi-latus rectum and SMA, and then you\u0027re basically done - we have easy expressions for any other interesting quantity\u00A0in terms of those.\n\u003C/p\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-03-29T17:02:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223001759\u0022 data-ipsquote-contentid=\u0022158352\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490804651\u0022 data-ipsquote-userid=\u0022152425\u0022 data-ipsquote-username=\u0022Armisael\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Armisael said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/94705-jofwu/\u0026amp;do=hovercard\u0022 data-mentionid=\u002294705\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/94705-jofwu/\u0022 rel=\u0022\u0022\u003E@jofwu\u003C/a\u003E\u00A0Yeah, I think you\u0027re right. If you run through r = p/[1 \u002B e cos(\u003Cspan style=\u0022color:#272a34;\u0022\u003E\u03BD)] using both r_Ap (where\u00A0\u03BD = 180\u003C/span\u003E\u003Cspan style=\u0022color:#545454;\u0022\u003E\u00B0) and r_Moon (where\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#272a34;\u0022\u003E\u03BD = 180\u003C/span\u003E\u003Cspan style=\u0022color:#545454;\u0022\u003E\u00B0 -\u00A0\u003C/span\u003E\u03B8/2) you get an eccentricity of [r_Ap - r_Moon]/[r_Ap - r_Moon cos(\u03B8/2)]. From there it\u0027s pretty trivial to calculate the semi-latus rectum and SMA, and then you\u0027re basically done - we have easy expressions for any other interesting quantity\u00A0in terms of those.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe problem with this is that for different elevations at each site (r1 != r2) I don\u0027t think you can assume \u03B8/2 is the correct angle. The points would not be mirrored across the SMA, so \u03B8 isn\u0027t perfectly bisected.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Found this: \u003Ca href=\u0022http://sketchexchange.keypress.com/forum/showthread.php?117-How-can-I-construct-an-ellipse-given-one-focus-and-two-points-on-the-ellipse\u0026amp;s=1257b4aa7ad910355cc8a4319036ffd7\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://sketchexchange.keypress.com/forum/showthread.php?117-How-can-I-construct-an-ellipse-given-one-focus-and-two-points-on-the-ellipse\u0026amp;s=1257b4aa7ad910355cc8a4319036ffd7\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHard to say, but it might be useful...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110755-aethon/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110755\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110755-aethon/\u0022 rel=\u0022\u0022\u003E@Aethon\u003C/a\u003E\u003C/span\u003E, didn\u0027t have a chance to see your links right away. This is great, thanks! The second isn\u0027t relevant, but the first explains very well how to come to the optimal solution for the basic case.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-29T17:44:19Z\u0022 title=\u002203/29/2017 05:44  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 29, 2017\u003C/time\u003E by jofwu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-03-29T21:33:49Z","Content":"\n\u003Cp\u003E\nAwesome! I think I\u0027m on the right track for getting the solution for different start/end elevations. The \u003Ca href=\u0022http://sketchexchange.keypress.com/forum/showthread.php?117-How-can-I-construct-an-ellipse-given-one-focus-and-two-points-on-the-ellipse\u0026amp;s=1257b4aa7ad910355cc8a4319036ffd7\u0022 rel=\u0022external nofollow\u0022\u003Elast link\u003C/a\u003E I shared confused me because there should be multiple solutions. I realized that it shows the solution where the second focus, F2, is located directly between the two points, A and B. And as I explored how you\u0027d get other solutions everything clicked into place from what the link before was saying. The set of possible solutions for F2 forms a hyperbola where A and B are the foci.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I worked out the math with an example, to wrap my mind around it\u003Cspan\u003E \u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedOther ipsEmbeddedOther_limited\u0022\u003E\n\u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026amp;module=system\u0026amp;controller=embed\u0026amp;url=http://imgur.com/rek8TLN\u0022 style=\u0022height:30px;\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI drew an ugly looking moon with center of mass F1 and two points on the surface A and B. I conveniently drew them as 3-4-5/6-8-10 triangles so that I could easily locate a second focus, F2o. So the path either way from F1 to F2o is 15 giving a=7.5.\n\u003C/p\u003E\n\u003Cp\u003E\nNext draw a line through A and B (which conveniently has a slope of -2). This is the x\u0027 axis for the hyperbola. The center is located directly between A and B at point M. Then draw a line perpendicular to the last at slope 1/2 through M. This is the y\u0027 axis.\n\u003C/p\u003E\n\u003Cp\u003E\nSince we know the location of F2o we can calculate the hyperbola\u0027s semi-major axis as 1/2 the difference of the distances from there to A and B. You get a=2.5. And the distance from A to B is 2c, so you easily get c=5.59. c\u00B2 = a\u00B2 \u002B b\u00B2 gives you b=5. Now we have the equation for the hyperbola on the x\u0027-y\u0027 axis: x\u0027\u00B2 / 2.5\u00B2 - y\u0027\u00B2 / 5\u00B2 = 1\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to vertex (on the B side of y\u0027) just use y\u0027=0 and you get x\u0027=2.5. I rotated and shifted back to x-y so I could plot the point, called F2v, accurately. I also eyeballed the mirror image of F2o accross the x\u0027 axis. And there\u0027s a hyperbola taking shape!\n\u003C/p\u003E\n\u003Cp\u003E\nThis hyperbola represents all possible solutions for the second focus of an ellipse with known focus at F1 and two points (A \u0026amp; B) on the ellipse. After thinking about it, I\u0027m pretty sure F2v is the optimal solution. The distance from F1 to A and B is fixed for each. As you slide F2 either direction from the vertex the point is going to get further from both. And that means the semi-major axis of our ellipse is getting bigger. So just as with the Ra=Rb=R solution, the optimal orbit happens when the second focus is located between the two points! Pretty cool!\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s what some of those orbits look like for my example:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedOther ipsEmbeddedOther_limited\u0022\u003E\n\u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026amp;module=system\u0026amp;controller=embed\u0026amp;url=http://imgur.com/w8TUM7X\u0022 style=\u0022height:30px;\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nNeed to process the implications of this, but wanted to share...\n\u003C/p\u003E\n\u003Cp\u003E\nEdit for some idle thoughts... It\u0027s neat to see how the orbits for F2o and F21 in that last image have the same energy cost. It\u0027s probably due to the concept that getting into orbit is best done with a Hohmann transfer from the surface. So there\u0027s this natural tendency for me to think that shallow is better than high. But those paths have the same energy and the steeper one sure would be easier to land.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso realizing that if you want to have the option of trying a less than optimal SMA for these conditions, you have to deal with the issue that there\u0027s two solutions for each SMA. (one with a focus on either side of the hyperbola)\n\u003C/p\u003E\n\u003Cp\u003E\nLastly, I wonder if the other side of the parabola (the half on the other side of y\u0027) has any meaning...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-29T21:44:26Z\u0022 title=\u002203/29/2017 09:44  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 29, 2017\u003C/time\u003E by jofwu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-03-30T17:58:57Z","Content":"\n\u003Cp\u003E\nI\u0027ve updated \u003Ca href=\u0022https://docs.google.com/spreadsheets/d/1JIUHIAujZuQdvPRIo-FTho82QcEqVLeuRe-lLiM_b-I/edit#gid=899648552\u0022 rel=\u0022external nofollow\u0022\u003Emy spreadsheet\u003C/a\u003E with what I worked out yesterday. There\u0027s a tab for the super simple case as we had it, for the record, but the main page now handles sites at different altitudes. I\u0027m going to explain it here for the sake of anyone who wants to check it, or for myself if I ever take some time away and need to figure out what I did again. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nTheta and bearing are easy equations to look up. I\u0027ve converted the equation I found for bearing so that it gives degrees as 0 to 360 rather than -180 to 180, so that it\u0027s friendly with the KSP navball.\n\u003C/p\u003E\n\u003Cp\u003E\nNext are some vectors inspired by \u003Ca href=\u0022http://sketchexchange.keypress.com/forum/showthread.php?117-How-can-I-construct-an-ellipse-given-one-focus-and-two-points-on-the-ellipse\u0026amp;s=1257b4aa7ad910355cc8a4319036ffd7\u0022 rel=\u0022external nofollow\u0022\u003Ethis explanation\u003C/a\u003E. Rb is the vector from center of planet to the point at the higher altitude, Ra is the vector to the other point. Rc is the difference between these vectors and Rf is the vector from center of planet to the (optimal) second focus point, which lies along Rc. We use the geometry to work out the point that gives an equal distance (2a) from origin to each site and then to the other focus. Calculate a, c, and apoapsis for the resulting ellipse. Then it\u0027s just a matter of using the vis-viva equation to calculate the velocity at each point. Total delta-v requirement is the sum of these.\n\u003C/p\u003E\n\u003Cp\u003E\nI used the dot products of the vectors above to work out the angles between site locations and the major axis. Phi (formerly alpha) is the pitch angle (more properly, flight path angle). The formula is from here: \u003Ca href=\u0022http://www.bogan.ca/orbits/kepler/orbteqtn.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.bogan.ca/orbits/kepler/orbteqtn.html\u003C/a\u003E. For some reason it\u0027s giving different results compared to what we had before for the simple case (see simple case sheet for comparison). But I\u0027ve looked closely and I definitely think this equation is getting the right results.\n\u003C/p\u003E\n\u003Cp\u003E\nEccentric, mean anomaly, and time equations are from that last link as well. These are all just needed to calculate the travel time between the sites. I had to introduce a few conditions to keep the equations correct for some weird sign flip cases and such. I tried a few other numbers and didn\u0027t see any other problems with the results, but I could still have missed something.\n\u003C/p\u003E\n\u003Cp\u003E\nI started to look at what happens when we allow an optionally higher apoapsis, but it\u0027s not proving simple. I can\u0027t find a sleek way to work out the ellipse given the apoapsis (and other info we have). I started looking at a brute force method, using the hyperbolic equation for foci, but it\u0027s looking like the equation I\u0027m headed towards (that gives the location of the required focus) is a real monster. I\u0027m afraid it won\u0027t have an easy solution.\n\u003C/p\u003E\n\u003Cp\u003E\nApparently Google Sheets now allows you to create functions using JavaScript. So my next attempt I think will be to write a function to guess and check until it finds the answer. I\u0027ll just pick a focus point, see what apoapsis it gives, and then make the next guess higher or lower until I find a solution within a meter of the desired apoapsis.\n\u003C/p\u003E\n\u003Cp\u003E\nThis should be good practice for the next step, of considering surface rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nMy thought here would be to first calculate an orbit assuming the ground is static. I\u0027d use calculated travel time to work out the final position of the target as it rotates. Then recalculate an orbit using the final target position. Compare travel times, adjust the final target position, and repeat. You\u0027re essentially just taking shots, measuring your travel time, and comparing to the target\u0027s movement. Eventually you\u0027ll be within some reasonable margin of error where your ship and target arrive at the same point at the same time.\n\u003C/p\u003E\n\u003Cp\u003E\nThe REAL trick will be accounting for surface velocity. It plays into your orbital velocity and ultimately changes the game of what\u0027s optimal. Consider a hop between two points on the equator. For a non-rotating body, the problem is symmetrical either way. But for a rotating body... If you launch in the direction of rotation, your rotational velocity decreases as you go up higher (you have to travel faster to keep up with the ground) so that the ground is passing beneath you slightly in the wrong direction. This suggests a lower orbit would be more optimal. And you can use that same problem to your advantage if you launch retrograde. You want the ground to pass beneath you and bring the target closer. So a higher hop is better. I\u0027m not even sure what to think yet about north/south components. It\u0027s going to be tricky to see how it plays in.\n\u003C/p\u003E\n"},{"CreatedByName":"Armisael","CreatedById":152425,"CreatedDateTime":"2017-03-31T04:47:08Z","Content":"\n\u003Cp\u003E\nI don\u0027t think you\u0027re calculating the eccentricity correctly for the pitch angle in the sample case - you need to wrap a sqrt around the (1-sin(\u003Cspan style=\u0022color:#272a34;\u0022\u003E\u03B8/2))/(1\u002Bsin(\u03B8/2)).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#272a34;\u0022\u003EThe numbers you have to the right of that definitely aren\u0027t right, since the pitch angle should never go above 45 degrees (not in the simple case, at least).\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-03-31T12:03:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223004018\u0022 data-ipsquote-contentid=\u0022158352\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490935628\u0022 data-ipsquote-userid=\u0022152425\u0022 data-ipsquote-username=\u0022Armisael\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Armisael said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t think you\u0027re calculating the eccentricity correctly for the pitch angle in the sample case - you need to wrap a sqrt around the (1-sin(\u003Cspan style=\u0022color:#272a34;\u0022\u003E\u03B8/2))/(1\u002Bsin(\u03B8/2)).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#272a34;\u0022\u003EThe numbers you have to the right of that definitely aren\u0027t right, since the pitch angle should never go above 45 degrees (not in the simple case, at least).\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for taking a look at that!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u00A0 think I had a slightly different\u00A0 equation for e, but regardless I\u0027ve changed it now to the much simpler c/a. Tried theta for 0, 90, 180, and a few in between and it looks correct now if it wasn\u0027t before.\n\u003C/p\u003E\n\u003Cp\u003E\nI was hoping that would fix my new pitch angle equation, but no. Turns out I should have been using ATAN rather than ATAN2. That change gives good answers. Undefined for 0 theta, limit of 45 as approaching 0 theta, 22.5 for 90 theta, 0 for 180 theta. \u00A0I need to look more closely at how that plays out in my new sheet though...\n\u003C/p\u003E\n\u003Cp\u003E\nThe old equation is giving different results between 0 and 180. I think the new equation is right on those now that I\u0027ve made the tangent fix. And I like how the new one approaches 45 at 0 but is undefined at that exact angle.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-31T12:03:58Z\u0022 title=\u002203/31/2017 12:03  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 31, 2017\u003C/time\u003E by jofwu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Aethon","CreatedById":110755,"CreatedDateTime":"2017-04-01T17:08:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223003132\u0022 data-ipsquote-contentid=\u0022158352\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490896737\u0022 data-ipsquote-userid=\u002294705\u0022 data-ipsquote-username=\u0022jofwu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/30/2017 at 0:58 PM, jofwu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThese are all just needed to calculate the travel time between the sites.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTravel time is more related to the density of the bodies. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMass =\u00A0volume * density.\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022\u003Cspan style=\u0022color:#222222;\u0022\u003EPeriod of a circular orbit (T) is 2\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u00A0* sqrt(r\u003C/span\u003E\u003Csup style=\u0022color:#222222;\u0022\u003E3\u003C/sup\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E/(Gm)) where m is mass of planet.\u003C/span\u003E\u003Cbr style=\u0022color:#222222;\u0022\u003E\u003Cbr style=\u0022color:#222222;\u0022\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003EMass can be expressed as\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C1 * volume where\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C1 is density.\u003C/span\u003E\u003Cbr style=\u0022color:#222222;\u0022\u003E\u003Cbr\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E2\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u00A0* sqrt(r\u003C/span\u003E\u003Csup style=\u0022color:#222222;\u0022\u003E3\u003C/sup\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E/Gm) = 2\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u00A0* sqrt(r\u003C/span\u003E\u003Csup style=\u0022color:#222222;\u0022\u003E3\u003C/sup\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E/(G * 4/3 *\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u00A0* r\u003C/span\u003E\u003Csup style=\u0022color:#222222;\u0022\u003E3 *\u00A0\u003C/sup\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C1\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E).\u003C/span\u003E\u003Cbr style=\u0022color:#222222;\u0022\u003E\u003Cbr style=\u0022color:#222222;\u0022\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003EThe r\u003C/span\u003E\u003Csup style=\u0022color:#222222;\u0022\u003E3\u003C/sup\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u00A0cancels out and we\u0027re left with T = sqrt(\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C0\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E/(G * 4/3 *\u003C/span\u003E\u003Csup style=\u0022color:#222222;\u0022\u003E\u00A0\u003C/sup\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E\u03C1\u003C/span\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003E).\u003C/span\u003E\u003Cbr style=\u0022color:#222222;\u0022\u003E\u003Cbr style=\u0022color:#222222;\u0022\u003E\u003Cspan style=\u0022color:#222222;\u0022\u003EThus trip times for a given separation rely solely on density. Period scales with inverse square root of density.\u0022\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Armisael","CreatedById":152425,"CreatedDateTime":"2017-04-01T20:05:43Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110755-aethon/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110755\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110755-aethon/\u0022 rel=\u0022\u0022\u003E@Aethon\u003C/a\u003E\u00A0That\u0027s only true if your trajectory is always exactly at sea level.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-04-01T20:05:54Z\u0022 title=\u002204/01/2017 08:05  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 1, 2017\u003C/time\u003E by Armisael\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-04-02T00:49:52Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110755-aethon/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110755\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110755-aethon/\u0022 rel=\u0022\u0022\u003E@Aethon\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure I understand what you\u0027re trying to say. You need those equations to calculate the time between two points along an elliptical orbit.\n\u003C/p\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2017-04-04T14:42:58Z","Content":"\n\u003Cp\u003E\nUpdates to spreadsheet.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can now choose a minimum apoapsis (higher than optimal). The second focus falls on a hyperbola with launch/landing sites as the foci (or for same launch/landing altitudes it falls on a line). I wrote a user-defined function that takes the geometry and tries out different options for focus 2 until it narrows down one that gives the desired apoapsis. Seems to work correctly except for a bug that sometimes pops up when starting and final altitudes are the same.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso something\u0027s wrong with the pitch/flight path angle at the landing site. Can\u0027t figure out why, because it looks perfect at launch and it\u0027s the same equation either way. But I don\u0027t see that number as useful anyways. When you want to land you\u0027re just going to burn retrograde.\n\u003C/p\u003E\n\u003Cp\u003E\nNext step I\u0027d like to take it to try out rotation, using the approach described above. But doing that essentially requires performing all of the operations on the spreadsheet repeatedly. That means I either have to pick a set number of iterations or I have to ditch the spreadsheet and program the entire thing. I have the skills to work out the guts of the program, but not to make an executable, build an interface, etc. So I think I\u0027ll cast out a net and see if anyone wants to help with that.\n\u003C/p\u003E\n"},{"CreatedByName":"surge","CreatedById":136150,"CreatedDateTime":"2017-04-21T07:53:55Z","Content":"\n\u003Cp\u003E\nfunction launchangMinE {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0parameter Alt, ra, Rt.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0// Optimal launch angle will vary from 45 (closest) - 0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0// (other side of planet).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local Rr to (Alt \u002BRe)/Rt.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local EminA to arctan(sin(ra)/(Rr -cos(ra)))/2.\u003Cbr\u003E\n\u00A0\u00A0\u00A0 return EminA.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n...in kOS script is minimum energy launch angle, where:\n\u003C/p\u003E\n\u003Cp\u003E\nRe: Radius of body (otherwise known as sealevel)\n\u003C/p\u003E\n\u003Cp\u003E\nAlt = current ship altitude above Re\n\u003C/p\u003E\n\u003Cp\u003E\nRt = Re \u002B targets altitude above Re\n\u003C/p\u003E\n\u003Cp\u003E\nra = range angle, the angle from you through the centre of the body to the target.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only equation I have for range angle is related to geodesic coordinates, and probably useless to you, so you should find another way to calculate it. But just in case, I use this:\n\u003C/p\u003E\n\u003Cp\u003E\nfunction rangeangle {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0parameter from, to. // geopositions\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0local _ra to arccos(sin(from:lat) *sin(to:lat)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u002Bcos(from:lat) *cos(to:lat)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0*cos(to:lng -from:lng)).\u003Cbr\u003E\n\u00A0\u00A0\u00A0 return _ra.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022from\u0022 and \u0022to\u0022 should be obvious.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is minimum energy launch angle (those yanks worked reeeeaaallly hard on this, so it\u0027s very accurate). It can never be more than 45\u00B0, never less than 0\u00B0.\n\u003C/p\u003E\n\u003Cp\u003E\nSpreadsheets are a terrible way to do this, but good luck trying to do the above maths in them.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd most people just launch at 45\u00B0 because you don\u0027t really lose that much energy in a no-atmosphere environment and it\u0027s safer. The only reason I bothered to learn this is because I was trying to emulate ICBMs on Kerbin where pummelling through the atmosphere at demented angles is a big energy loss.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-04-21T08:52:30Z\u0022 title=\u002204/21/2017 08:52  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 21, 2017\u003C/time\u003E by surge\u003C/strong\u003E\n\u003C/span\u003E\n"}]}