{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":86,"Articles":[{"CreatedByName":"c4ooo","CreatedById":168905,"CreatedDateTime":"2019-09-02T01:06:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223663922\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567224228\u0022 data-ipsquote-userid=\u0022138869\u0022 data-ipsquote-username=\u0022tsaven\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/31/2019 at 12:03 AM, tsaven said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there documentation anywhere of how many decimal points are sent for each floating point variable?\u00A0 I\u0027m having a heck of a time getting my Mach readout to work and I think I\u0027ve been formatting it wrong, but it\u0027s hard to tell when I don\u0027t know how big (in terms of characters) the incoming variable is.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would also be useful to have documented somewhere what structure the other variables are sent in, especially the time-related ones.\u00A0 Seconds, minutes, hours, etc?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat floating point data are you talking about to be exact? You might have to convert them to integers or something for them to work correctly with the API for your readout. Otherwise, the formatting of the structures is found in the original post.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-02T01:07:33Z\u0022 title=\u002209/02/2019 01:07  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 2, 2019\u003C/time\u003E by c4ooo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2019-09-02T11:19:23Z","Content":"\n\u003Cp\u003E\nSlowly pecking away at my project. I have two videos for show and tell (both shot in portrait mode sorry)\n\u003C/p\u003E\n\u003Cp\u003E\nThese show\u00A0my very rough\u00A0work in progress KSP controller project. Progress is quite slow and I\u0027ve been on and off at it for years now. It\u0027ll still take a while to get to something more than a breadboard. I\u0027ve had to learn all sorts of things to get this far, but it\u0027s been quite fun \u0027working the problem\u0027.\n\u003C/p\u003E\n\u003Cp\u003E\nStill a long while off, but I figured someone might be interested in the progress so far. The\u00A0last month of my most recent tinkering has rewarded me\u00A0well with these two elements that seem to be\u00A0actually working. Debugging continues.\n\u003C/p\u003E\n\u003Cp\u003E\nVideo 1: External ASET Prop (RPM) CRT display test. With \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/77044-navyfish/\u0026amp;do=hovercard\u0022 data-mentionid=\u002277044\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/77044-navyfish/\u0022 rel=\u0022\u0022\u003E@NavyFish\u003C/a\u003E\u00A0PDAI integration for port renaming / selecting.\n\u003C/p\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 width=\u0022459\u0022 data-embed-src=\u0022https://www.youtube.com/embed/GUcF6g_IrCo?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\nButtons in order: UP, DOWN, ENTER, ESCAPE, SORTMODE\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nVideo 2: ASET Prop (RPM) DSKY software logic test before hardware implementation. Copied the lau script logic from \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0026amp;do=hovercard\u0022 data-mentionid=\u002260950\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0022 rel=\u0022\u0022\u003E@MOARdV\u003C/a\u003E\n\u003C/p\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 width=\u0022459\u0022 data-embed-src=\u0022https://www.youtube.com/embed/GuXZYbc4XGA?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\nButtons implemented:\u003Cbr\u003E\nAP/PE buttons: Orbit, Tgt, Rndz, Mnvr\u003Cbr\u003E\nTime buttons: \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E, \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E, An, Dn, Mnvr, Lnch \u003Cs\u003E(no code for this one as yet)\u003C/s\u003E\u003Cbr\u003E\nDeltaV buttons: Total, Stage, Mnvr,\u00A0Trnf\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nAdditional code snagged from\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78632-alexustas/\u0026amp;do=hovercard\u0022 data-mentionid=\u002278632\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78632-alexustas/\u0022 rel=\u0022\u0022\u003E@alexustas\u003C/a\u003E\u00A0from multiple mods. I\u0027ve managed to get all the Annunciators from the ALCOR lander can working\u00A0(in software) and registered on the Arduino.\u00A0However, I\u00A0still need to create a test page to verify I\u0027ve got all that\u00A0logic straight.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso a big shout out to\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E\u00A0for the Logger mod. It\u0027s an excellent mod to get the data out of KSP/Unity so it\u0027s usable for something other than shoving down the serial line of this mod.\u00A0Allowed me to update a text file as required. This is then\u00A0read by an independent WPF application that watches for file updates. That app just reads the updated file and\u00A0formats the text using the same fonts from the ASET mod pack for the display on a small separate monitor. I\u0027ve got a 800x600 monitor on order that will be it\u0027s proper display. Doesn\u0027t work as well on a widescreen.\n\u003C/p\u003E\n\u003Cp\u003E\nOh - and can\u0027t forget a big thanks to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0026amp;do=hovercard\u0022 data-mentionid=\u002211842\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0022 rel=\u0022\u0022\u003E@zitronen\u003C/a\u003E\u00A0\u00A0for making this mod in the first place. Note: you do NOT want to see what I\u0027ve done to your code to get it to this point. At last count I\u0027m\u00A0pushing about 400\u002B bytes across 5 different structs through my serial connection and the Teensy 3.6 is keeping up fine. It\u0027s split across various timings,\u00A0 some are updated periodically, others are 4 times a second, still others are faster.\n\u003C/p\u003E\n\u003Cp\u003E\nCurrent plan is to have a layout like the Mk1 lander can. I still think I can use\u00A0LGGs custom resolution mod to expand the screen across two monitors, stack those monitors vertically, then add the LGG camera mod,\u00A0which should allow me to have a fwd and down facing \u0027window\u0027 like\u00A0the Mk1 Lander Can.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-03T07:05:46Z\u0022 title=\u002209/03/2019 07:05  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 3, 2019\u003C/time\u003E by cyberKerb\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Torbus","CreatedById":200049,"CreatedDateTime":"2019-09-03T15:57:31Z","Content":"\n\u003Cp\u003E\nHi all,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDue to my own incompetence\u00A0I am currently not even able to get Serial IO working with KSP. I have installed the KSP Serial IO folder\u00A0to the Plugin Data folder as was implied within the github zip file structure. Is this correct? \u00A0From videos I have seen of this mod on youtube upon startup at the launchpad green text should appear confirming connected to com port x or something similar which I do not get so I assume it is not running. In addition when i try to upload a\u00A0sketch to the Uno when it should be connected to KSP it uploads fine implying the serial port was not being used.\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone let me know where to install the current version of KSP Serial IO and what I should expect on startup please.\u00A0 In addition, if I know my Uno always connects on COM3 is this what I should change to within the config file for KSPSerial IO?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMany thanks in advance.\n\u003C/p\u003E\n"},{"CreatedByName":"Torbus","CreatedById":200049,"CreatedDateTime":"2019-09-03T17:07:57Z","Content":"\n\u003Cp\u003E\nI have checked page 2 and understand what to expect during a good startup now.\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nThis is from Mulbin on page 1\u00A0\u00A0\u003Cspan style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\u0022So let me get this straight (I have very limited knowledge of this stuff)... you just drop the KSPSerialIO folder into... gamedata? And then KSP will send all these values to the serial? Just like that??\u0022\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:rgb(255,255,255);\u0022\u003Edoes anyone know if this Is this still the same procedure? Its just having a plugin data folder inside\u00A0I thought it might go there.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2019-09-03T20:10:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223665487\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567423163\u0022 data-ipsquote-userid=\u002228891\u0022 data-ipsquote-username=\u0022cyberKerb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/2/2019 at 12:19 PM, cyberKerb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh - and can\u0027t forget a big thanks to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0026amp;do=hovercard\u0022 data-mentionid=\u002211842\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0022 rel=\u0022\u0022\u003E@zitronen\u003C/a\u003E\u00A0\u00A0for making this mod in the first place. Note: you do NOT want to see what I\u0027ve done to your code to get it to this point. At last count I\u0027m\u00A0pushing about 400\u002B bytes across 5 different structs through my serial connection and the Teensy 3.6 is keeping up fine. It\u0027s split across various timings,\u00A0 some are updated periodically, others are 4 times a second, still others are faster.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHaha nice. This is also why I\u0027m not sharing the code I use for my personal display, it\u0027s a huge mess! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223666186\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567526251\u0022 data-ipsquote-userid=\u0022200049\u0022 data-ipsquote-username=\u0022Torbus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Torbus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi all,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDue to my own incompetence\u00A0I am currently not even able to get Serial IO working with KSP. I have installed the KSP Serial IO folder\u00A0to the Plugin Data folder as was implied within the github zip file structure. Is this correct? \u00A0From videos I have seen of this mod on youtube upon startup at the launchpad green text should appear confirming connected to com port x or something similar which I do not get so I assume it is not running. In addition when i try to upload a\u00A0sketch to the Uno when it should be connected to KSP it uploads fine implying the serial port was not being used.\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone let me know where to install the current version of KSP Serial IO and what I should expect on startup please.\u00A0 In addition, if I know my Uno always connects on COM3 is this what I should change to within the config file for KSPSerial IO?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMany thanks in advance.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo you put the folder in GameData, like all other mods, not in PluginData. You can also use \u003Cspan\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E to install it automatically, since it was \u003C/span\u003Eupdated recently. Also yes you can change the default port in the config file. If the plugin can\u0027t find the default port it will check other available ports on your PC.\n\u003C/p\u003E\n"},{"CreatedByName":"tsaven","CreatedById":138869,"CreatedDateTime":"2019-09-03T23:01:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223664147\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567250409\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/31/2019 at 4:20 AM, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUh.. floats have a variable number of decimal points, that\u0027s why they are called \u0022floating\u0022 point. Mach number is a sent as a float. Arduinos only support 32bit floats, they have about 7 significant digits (M=1.235678, M=12.345678 M=123.45678, etc.), times are always in seconds, but some are signed (int) because they can be negative and some are unsigned (UInt). The only time related variable that is a float is \u0022deltaTime\u0022 which is the time interval in seconds since last serial packet was sent from KSP, used for calculating derivatives.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223665250\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567386386\u0022 data-ipsquote-userid=\u0022168905\u0022 data-ipsquote-username=\u0022c4ooo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/1/2019 at 6:06 PM, c4ooo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat floating point data are you talking about to be exact? You might have to convert them to integers or something for them to work correctly with the API for your readout. Otherwise, the formatting of the structures is found in the original post.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry for phrasing my question so stupidly, but that was the answer I was looking for;\u00A0 exactly how many digits I would need to deal with.\u00A0 In terms of getting the variable displayed on a 7-segment display, I\u0027ve gotten familiar with the \u0022dtostrf\u0022 function and have been using it to great effect.\u00A0 I\u0027ve got my velocity \u0026amp; mach readouts working, including a button to switch the velocity between Orbital, Surface and Target.\n\u003C/p\u003E\n\u003Cp\u003E\nThe time-based items I\u0027m still having a hell of a time with though (such as time-to-AP).\u00A0 About half the time they\u0027ll display properly, but then sometimes they\u0027ll seemingly get stuck for about a minute before starting to update again.\u00A0 My next step is to throw a 4x20 LCD onto the breadboard for troubleshooting, so I can output different variables to it as they\u0027re going through the calculation process to figure out where I\u0027m garbling my data up.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-03T23:01:54Z\u0022 title=\u002209/03/2019 11:01  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 3, 2019\u003C/time\u003E by tsaven\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Torbus","CreatedById":200049,"CreatedDateTime":"2019-09-04T14:12:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223666365\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567541408\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHaha nice. This is also why I\u0027m not sharing the code I use for my personal display, it\u0027s a huge mess! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNo you put the folder in GameData, like all other mods, not in PluginData. You can also use \u003Cspan\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E to install it automatically, since it was \u003C/span\u003Eupdated recently. Also yes you can change the default port in the config file. If the plugin can\u0027t find the default port it will check other available ports on your PC.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the quick reply Zitronen.\u00A0 I now have Demo 4 installed to an Arduino uno and connection to com 3 is confirmed on startup at the launchpad. As i understand it If I connect LEDs to the pins listed as RCSLEDs or SASLEDs\u00A0within the skectch then the LEDs should display the relevant state of either of those systems. Is this correct?\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSorry for the stupid questions and thank you for providing what looks like a fantastic tool (when I eventually get my tiny pea brain around it all).\u00A0\u003Cimg alt=\u002222cdafc0-98d2-11e2-a853-00144feabdc0?fit\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.29\u0022 height=\u0022394\u0022 width=\u0022700\u0022 src=\u0022https://www.ft.com/__origami/service/image/v2/images/raw/http://com.ft.imagepublish.prod.s3.amazonaws.com/22cdafc0-98d2-11e2-a853-00144feabdc0?fit=scale-down\u0026amp;source=next\u0026amp;width=700\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-04T20:05:40Z\u0022 title=\u002209/04/2019 08:05  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 4, 2019\u003C/time\u003E by Torbus\u003C/strong\u003E\n\u003Cbr\u003Eto edit my post\n\u003C/span\u003E\n"},{"CreatedByName":"Torbus","CreatedById":200049,"CreatedDateTime":"2019-09-04T22:29:39Z","Content":"\n\u003Cp\u003E\nNo wait there is no SASLED. what the f am i talking about. That\u0027s in demo 17. If in demo 17 I use your code and amend it to\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E \u00A0 \u00A0 \u00A0if (getSASMode() == SMSAS) { //--------- This is how you read SAS modes\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0digitalWrite (SASLED, HIGH);\n\u00A0 \u00A0 \u00A0 \u00A0}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI should get the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E led turning on when the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E is on right? Everything else in the sketch is as I downloaded it.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-04T22:33:12Z\u0022 title=\u002209/04/2019 10:33  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 4, 2019\u003C/time\u003E by Torbus\u003C/strong\u003E\n\u003Cbr\u003Esolved\n\u003C/span\u003E\n"},{"CreatedByName":"tsaven","CreatedById":138869,"CreatedDateTime":"2019-09-05T06:39:35Z","Content":"\n\u003Cp\u003E\nI figured others here might like to see the slow progress I\u0027m making.\u00A0 I\u0027ve gotten most of the quirks of writing I2C data to all of my 7-segment displays worked out, including how to split the longer numbers over multiple displays.\u00A0 Right now it\u0027s all running on my breadboard, but due to the ease of hooking up dozens of I2C devices it\u0027s going to be easy to have it all working once I figure out a layout and a frame that I like.\n\u003C/p\u003E\n\u003Cp\u003E\nRight now I have the red 7-segments displaying Velocity, and the blue one displaying heading.\u00A0 Halfway through you can see me pressing some buttons that change the Velocity readout; these buttons switch it between displaying Surface, Orbital, and Target relative velocity.\u00A0 The bottom LEDs will eventually be labeled and will indicate exactly which velocity readout is being displayed.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 width=\u0022480\u0022 data-embed-src=\u0022https://www.youtube.com/embed/U-NqxSbo3pM?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n*edit* Come to think of it, maybe I should have taken a video of a rocket launch or a plane that will actually exceed 999m/s to show off the fact that the other red 7-seg display actually works for that...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-05T06:44:04Z\u0022 title=\u002209/05/2019 06:44  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 5, 2019\u003C/time\u003E by tsaven\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sec3","CreatedById":167394,"CreatedDateTime":"2019-09-06T21:40:38Z","Content":"\n\u003Cp\u003E\nwhich library and chipset (max7219 ?) do you use for the 7segments?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nif so, basicly i can do it with an 8x8 matrix displays.\n\u003C/p\u003E\n"},{"CreatedByName":"tsaven","CreatedById":138869,"CreatedDateTime":"2019-09-06T21:53:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223668063\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567806038\u0022 data-ipsquote-userid=\u0022167394\u0022 data-ipsquote-username=\u0022sec3\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, sec3 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhich library and chipset (max7219 ?) do you use for the 7segments?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nif so, basicly i can do it with an 8x8 matrix displays.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey\u0027re the \u003Ca href=\u0022https://www.sparkfun.com/products/11441\u0022 rel=\u0022external nofollow\u0022\u003ESerial 7-Segment Display\u003C/a\u003E from Sparkfun.\u00A0 It\u0027s actually an entire ATMega328 dedicated just to running the 4-charecter display, but because of this it\u0027s got a bunch of other features that make them \u003Cem\u003Eway \u003C/em\u003Eeasier to deal with than having to multiplex and eat up a zillion I/O pins.\u00A0 I\u0027m planning on using ~20 of these 4-charecter 7-segment displays in my final controllor, so being able to use I2C instead of Serial is going to make the wiring way easier and reduce the load on my Arduino(s).\n\u003C/p\u003E\n"},{"CreatedByName":"sec3","CreatedById":167394,"CreatedDateTime":"2019-09-08T13:45:30Z","Content":"\n\u003Cp\u003E\ntnx. wow; for multiplexing \u00A0i didn\u00B4t expect\u00A0 an 328 on there ...\u00A0 \u00A0this one is pre-burned with an RX-Receiver?\u00A0 or do you need to burn initial code on it?\u003Cbr\u003E\nthe sparkfun doc only says another uno or something serial device\u00A0has to communicate. thats really simple; wire.write them...\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ncan you send me via PN some code snippets from your setup to study the code ?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"tsaven","CreatedById":138869,"CreatedDateTime":"2019-09-09T17:13:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223668863\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567950330\u0022 data-ipsquote-userid=\u0022167394\u0022 data-ipsquote-username=\u0022sec3\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/8/2019 at 6:45 AM, sec3 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ntnx. wow; for multiplexing \u00A0i didn\u00B4t expect\u00A0 an 328 on there ...\u00A0 \u00A0this one is pre-burned with an RX-Receiver?\u00A0 or do you need to burn initial code on it?\u003Cbr\u003E\nthe sparkfun doc only says another uno or something serial device\u00A0has to communicate. thats really simple; wire.write them...\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ncan you send me via PN some code snippets from your setup to study the code ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou don\u0027t need to put any code on it; it comes pre-loaded and configured.\u00A0 The only thing you\u0027ll possibly want to do (if you\u0027re using a lot of them via I2C) is to change the address, which is easy with a few commands.\u00A0 Then you can daisy-chain up to 128 of them together and address/control them all just using the SCA/SCL pins on the Arduino.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Sparkfun hookup guide has very detailed instructions on hooking it up and getting it working with whichever communication method you chose, including sample code: \u003Ca href=\u0022https://learn.sparkfun.com/tutorials/using-the-serial-7-segment-display/all\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://learn.sparkfun.com/tutorials/using-the-serial-7-segment-display/all\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Predator32767","CreatedById":92421,"CreatedDateTime":"2019-09-14T15:04:21Z","Content":"\n\u003Cp\u003E\nHello everyone!\n\u003C/p\u003E\n\u003Cp\u003E\nIm struggling with this Mod. I have managed to actualy see the data coming out of the serialport but i dont know how to convert this data so i can use it. I have used a virtual Serialport, a Terminal-program and this debugging tool to just see whats going on. So in the debugging tool i just changed the amount of liquid fuel to 1000 and watched whats happening in the data. So 4 nummbers are changing to \u00227A 44\u0022. Now the question: How on earth do i convert \u00227A 44\u0022 back into 1000? I have tried everything that the windows calculator can give me but ther is no 1000!! The problem is that i dont use Arduino so i cant use the Examples! or even read them. I am desperate. I dont need mutch data and i dont want to control something (i doing it a different way). Would be nice if someone can explain me this. I think i can do everything except this converting stuff. THX\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"c4ooo","CreatedById":168905,"CreatedDateTime":"2019-09-14T19:09:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223672034\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568473461\u0022 data-ipsquote-userid=\u002292421\u0022 data-ipsquote-username=\u0022Predator32767\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Predator32767 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello everyone!\n\u003C/p\u003E\n\u003Cp\u003E\nIm struggling with this Mod. I have managed to actualy see the data coming out of the serialport but i dont know how to convert this data so i can use it. I have used a virtual Serialport, a Terminal-program and this debugging tool to just see whats going on. So in the debugging tool i just changed the amount of liquid fuel to 1000 and watched whats happening in the data. So 4 nummbers are changing to \u00227A 44\u0022. Now the question: How on earth do i convert \u00227A 44\u0022 back into 1000? I have tried everything that the windows calculator can give me but ther is no 1000!! The problem is that i dont use Arduino so i cant use the Examples! or even read them. I am desperate. I dont need mutch data and i dont want to control something (i doing it a different way). Would be nice if someone can explain me this. I think i can do everything except this converting stuff. THX\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFuel data is stored as 32-bit floats. (zitronen why? \u0026gt;_\u0026gt; ) 1000 as a 32-bit float is\u00A00x447a0000, according to \u003Ca href=\u0022https://www.h-schmidt.net/FloatConverter/IEEE754.html\u0022 rel=\u0022external nofollow\u0022\u003Ethis websit\u003C/a\u003Ee, so your value makes perfect\u00A0sense.\n\u003C/p\u003E\n\u003Cp\u003E\nOn an aside, how are you planning on using this mod without an arduino?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Predator32767","CreatedById":92421,"CreatedDateTime":"2019-09-14T21:11:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223672134\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568488196\u0022 data-ipsquote-userid=\u0022168905\u0022 data-ipsquote-username=\u0022c4ooo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, c4ooo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFuel data is stored as 32-bit floats. (zitronen why? \u0026gt;_\u0026gt; ) 1000 as a 32-bit float is\u00A00x447a0000, according to \u003Ca href=\u0022https://www.h-schmidt.net/FloatConverter/IEEE754.html\u0022 rel=\u0022external nofollow\u0022\u003Ethis websit\u003C/a\u003Ee, so your value makes perfect\u00A0sense.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes i already found that calculator but i cant figure it out to do this calculation. My english isnt bad but i am not a mathematician and so it is hard to understand.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: I found a tiny little button to switch to German on this Website so i will read this again step by step tomorrow!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOn an aside, how are you planning on using this mod without an arduino?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell i said this a little bit wrong. I am not using the language that an Arduino uses but the same microprozessor. The language i am working with is Bascom. I found out that a \u0022float\u0022 is called \u0022single\u0022 in Bascom but as i said i dont know how to handle it. I just need some sort of a formula: 0x447a0000 -\u0026gt; 1000.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-14T21:15:35Z\u0022 title=\u002209/14/2019 09:15  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 14, 2019\u003C/time\u003E by Predator32767\u003C/strong\u003E\n\u003Cbr\u003Elittle update\n\u003C/span\u003E\n"},{"CreatedByName":"BamBam","CreatedById":11581,"CreatedDateTime":"2019-09-14T23:48:19Z","Content":"\n\u003Cp\u003E\nIs there a guide somewhere to how to add controls?\u00A0 I am looking to add other stuff over time...\u00A0 3-axis joysticks for rotation and translation, a couple of Nextion displays, etc....\u00A0 I have some sample code from other peoples projects for comparisons, but i dont think i can do much copy and paste without screwing things up....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nbaby steps / walk before you run / that sort of thing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am using the Arduino sketch posted on /r/kerbalcontrollers by a guy who goes by wurmi00 because i want to use the nextion display setup that he did.\u00A0 However, i am not getting any response from the plugin that way.\n\u003C/p\u003E\n\u003Cp\u003E\nI think i need some config help.\u00A0 I may be using a mismatched version of the plugin or something.\u00A0 The arduino lights blink showing that data is tx and rx.\u00A0 but not all that fast,.\u00A0 \u00A0When i run the demo code, things work and that light blinks really rapidly.\u00A0 Any input is welcome.\n\u003C/p\u003E\n\u003Cp\u003E\n.\u003Cimg alt=\u0022jx624va5gom31.jpg?width=576\u0026amp;auto=webp\u0026amp;s=\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022133.33\u0022 height=\u0022768\u0022 width=\u0022576\u0022 src=\u0022https://preview.redd.it/jx624va5gom31.jpg?width=576\u0026amp;auto=webp\u0026amp;s=b943abc6cea39bb10ea8681cf8b100843ea39c9e\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-15T03:44:36Z\u0022 title=\u002209/15/2019 03:44  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 15, 2019\u003C/time\u003E by BamBam\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"c4ooo","CreatedById":168905,"CreatedDateTime":"2019-09-15T01:11:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223672200\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568495491\u0022 data-ipsquote-userid=\u002292421\u0022 data-ipsquote-username=\u0022Predator32767\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Predator32767 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell i said this a little bit wrong. I am not using the language that an Arduino uses but the same microprozessor. The language i am working with is Bascom. I found out that a \u0022float\u0022 is called \u0022single\u0022 in Bascom but as i said i dont know how to handle it. I just need some sort of a formula: 0x447a0000 -\u0026gt; 1000.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUm so... 0x447a0000 *IS* 1000, just in a special format. One thing to understand about low level programming is that data is just raw numbers, and gets its\u00A0meaning from the context it is used in, if that makes sense.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nWhat you are trying to do is convert the float into an\u00A0integer. Almost all languages have a built an\u00A0int()\u00A0function to do this for you. One thing to be aware though is that int() truncates the float, you need to be aware of this if you require the numbers after the decimal.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat being said though, if your language is any good you should be able to do all your calculations using the orignal floating point number, however float math is slower than integer math, especially on old CPU / MCUs.\n\u003C/p\u003E\n"},{"CreatedByName":"Predator32767","CreatedById":92421,"CreatedDateTime":"2019-09-15T11:49:36Z","Content":"\n\u003Cp\u003E\nI can do what i want. It will not work. The only number i became is 1148846080.0 .There is an int() function but this just seems to \u0022delete whats behind the dot\u0022:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe fraction is the right side after the decimal point of a single.\n\u003C/p\u003E\n\u003Cp\u003E\nThe integer is the left side before the decimal point.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut i have another idea: I can use this number to calculate the percentage between Max an Current of the liquid fuel. If this will not work i give up.\n\u003C/p\u003E\n"},{"CreatedByName":"c4ooo","CreatedById":168905,"CreatedDateTime":"2019-09-15T18:13:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223672462\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568548176\u0022 data-ipsquote-userid=\u002292421\u0022 data-ipsquote-username=\u0022Predator32767\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Predator32767 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere is an int() function but this just seems to \u0022delete whats behind the dot\u0022:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIsn\u0027t this what you want? If you want to use an integer but still express some of the values behind the dot, all you have to do is multiply the float by 10^x or 2^x, then convert to int, then remember that your integer is actually 10^x or 2^x times smaller then its raw value.\n\u003C/p\u003E\n"},{"CreatedByName":"Predator32767","CreatedById":92421,"CreatedDateTime":"2019-09-16T07:06:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223672611\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568571235\u0022 data-ipsquote-userid=\u0022168905\u0022 data-ipsquote-username=\u0022c4ooo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E12 hours ago, c4ooo said:\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003EIsn\u0027t this what you want?\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003Eno! as i said 447A 0000 is in decimal 1148846080.0. if i use this int() i become 1148846080 just without the \u0022.0\u0022. But i have wasted the hole Weekend to find out how to calculate from 447A 0000 back to 1000 and it finaly works! Its a gigantic calculation behind this but it works. So i have to go from Hex to Decimal to Binary, Split this in 3 parts and calculate the Sign, the Exponent and the Mantissa in decimal and then i can use this 3 numbers to calculate back to 1000. I try to use some different numbers and it is pricise enough for this. Now i just have to manage the serial communication and the Spliting of the hole Package into single informations so i can use them for my \u0022KSP-control-center\u0022. THX for the help!\u003C/p\u003E\n"},{"CreatedByName":"tsaven","CreatedById":138869,"CreatedDateTime":"2019-09-16T09:20:48Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0026amp;do=hovercard\u0022 data-mentionid=\u002211842\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0022 rel=\u0022\u0022\u003E@zitronen\u003C/a\u003E, I have to give mad props to you for creating and maintaining a mod that has such capabilities.\u00A0 I\u0027m farther along in my controller than I ever expected to be and I\u0027d never have been able to do it if your demo code hadn\u0027t spelled things out so clearly and easily.\u00A0 Thank you, thank you for documenting and commenting the code out as well as you have.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m integrating more and more functions into my controller every day!\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 width=\u0022480\u0022 data-embed-src=\u0022https://www.youtube.com/embed/51skVBlN3Hc?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"c4ooo","CreatedById":168905,"CreatedDateTime":"2019-09-16T17:31:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223672843\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568617560\u0022 data-ipsquote-userid=\u002292421\u0022 data-ipsquote-username=\u0022Predator32767\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Predator32767 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nno! as i said 447A 0000 is in decimal 1148846080.0. if i use this int() i become 1148846080 just without the \u0022.0\u0022. But i have wasted the hole Weekend to find out how to calculate from 447A 0000 back to 1000 and it finaly works! Its a gigantic calculation behind this but it works. So i have to go from Hex to Decimal to Binary, Split this in 3 parts and calculate the Sign, the Exponent and the Mantissa in decimal and then i can use this 3 numbers to calculate back to 1000. I try to use some different numbers and it is pricise enough for this. Now i just have to manage the serial communication and the Spliting of the hole Package into single informations so i can use them for my \u0022KSP-control-center\u0022. THX for the help!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOnce again, if you wanted to preserve the numbers after the decimal, you need to multiply your float by 10 or 100 or 1000, then when you cast it to integer you will still have the numbers after the decimal. However I don\u0027t even see why you need to cast from float to int, any competent programming language will just allow you to use the floats directly.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nGood job reinventing the wheel with your own casting function though\u00A0\u00AF\\_(\u30C4)_/\u00AF\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: it sounds like you are reading the data *as an integer* and casting it to integer, you need to read the data *as a float* and cast it to integer.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-16T17:33:39Z\u0022 title=\u002209/16/2019 05:33  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 16, 2019\u003C/time\u003E by c4ooo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2019-09-17T09:34:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223672263\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568504899\u0022 data-ipsquote-userid=\u002211581\u0022 data-ipsquote-username=\u0022BamBam\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/15/2019 at 1:48 AM, BamBam said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a guide somewhere to how to add controls?\u00A0 I am looking to add other stuff over time...\u00A0 3-axis joysticks for rotation and translation, a couple of Nextion displays, etc....\u00A0 I have some sample code from other peoples projects for comparisons, but i dont think i can do much copy and paste without screwing things up....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nbaby steps / walk before you run / that sort of thing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am using the Arduino sketch posted on /r/kerbalcontrollers by a guy who goes by wurmi00 because i want to use the nextion display setup that he did.\u00A0 However, i am not getting any response from the plugin that way.\n\u003C/p\u003E\n\u003Cp\u003E\nI think i need some config help.\u00A0 I may be using a mismatched version of the plugin or something.\u00A0 The arduino lights blink showing that data is tx and rx.\u00A0 but not all that fast,.\u00A0 \u00A0When i run the demo code, things work and that light blinks really rapidly.\u00A0 Any input is welcome.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFirst of all, welcome around controller building.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is a bit hard for me to understand what your problem is, but if I understand correctly, the demo code runs, but not your own code. To help, we will need to see you own code. Please, do not paste it in a post, but upload it to somewhere we can download and look. I do recall wurmis name, but not any particulars of his project. If it is old, you might have to update the VesselData and ControlPacket structs with the new entries. Also, a sketch is keyed to a specific hardware setup, so unless you have the exact equivalent setup and wiring the sketch will not do anything useful.\n\u003C/p\u003E\n"},{"CreatedByName":"BamBam","CreatedById":11581,"CreatedDateTime":"2019-09-17T12:58:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223673397\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568712884\u0022 data-ipsquote-userid=\u0022111048\u0022 data-ipsquote-username=\u0022Freshmeat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Freshmeat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFirst of all, welcome around controller building.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is a bit hard for me to understand what your problem is, but if I understand correctly, the demo code runs, but not your own code. To help, we will need to see you own code. Please, do not paste it in a post, but upload it to somewhere we can download and look. I do recall wurmis name, but not any particulars of his project. If it is old, you might have to update the VesselData and ControlPacket structs with the new entries. Also, a sketch is keyed to a specific hardware setup, so unless you have the exact equivalent setup and wiring the sketch will not do anything useful.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nok, so i have belatedly come to realize that i cannot simply copy somebody\u0027s code without having their exact setup.\u00A0 So, I will be starting from the Demo17 code.\u00A0 That Demo17 code works just as it should.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere is my rough plan...\u00A0 I have a USB-HID interface board that I will be using for the actual input into the game.\u00A0 that lets me keep the input functionality separate and simple.\u00A0 I plan to use serialIO to drive my indicator LEDs and a set of 7 segment / 8 digit displays to show altitude, apoapsis, periapsis, velocity.\u00A0 and some analog guages to show fuel levels, and atmosphere density.\u00A0 It means that i will have to have two USB cables connected but that is no big deal.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, instead of somebody to solve my problem for me, what i need is a really basic tutorial on how to make the starter code in Demo17 to do what i tell it.\u00A0 My programming skills are all from 1994 when we did Turbo Pascal in High School.\u00A0 Since then i have not done anything more than write batch files and a few really simple if/then operations.\u00A0 So I have basically zero experience with Arduino.\u00A0 My 3D printer ran briefly on Marlin but even that code was already setup and you just had to define a few variables.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDipping into some major wishful thinking here, I saw on this or maybe on the subreddit /r/kerbalcontrollers that somebody had made a sort of DSKY display that used a small LCD panel.\u00A0 That was beautiful, and if I could figure out how that was implemented that would be a major upgrade to my sort of simplistic plan at the moment.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 width=\u0022459\u0022 data-embed-src=\u0022https://www.youtube.com/embed/GuXZYbc4XGA?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-17T15:03:06Z\u0022 title=\u002209/17/2019 03:03  PM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 17, 2019\u003C/time\u003E by BamBam\u003C/strong\u003E\n\u003C/span\u003E\n"}]}