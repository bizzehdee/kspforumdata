{"TopicId":201734,"ForumId":109,"TopicTitle":"What map projection does KSP2 use?","CreatedByName":"Jack Mcslay","CreatedById":208257,"CreatedDateTime":"2021-04-15T11:42:27Z","PageNum":1,"Articles":[{"CreatedByName":"Jack Mcslay","CreatedById":208257,"CreatedDateTime":"2021-04-15T11:42:27Z","Content":"\n\u003Cp\u003E\nThis is more of a technical issue, but one I\u0027m concerned about. KSP1 uses rectangular projection which is pretty bad and causes terrain glitches in a number of bodies at 90\u00B0N and 90\u00B0S latitudes, and the terrain getting increasingly distorted as you approach those points.\n\u003C/p\u003E\n\u003Cp\u003E\nTo illustrate:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022YELKvrc.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002288.31\u0022 height=\u0022612\u0022 width=\u0022693\u0022 src=\u0022https://i.imgur.com/YELKvrc.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou can see that near the equator each face is close to a square and it gets increasingly distorted is it reaches the poles. That makes is so that the west-east mapping becomes much more squeezed such there is much greater resolution in one direction than it does at the other, and at the end it switches from quads to triangles, resulting in even more distortion as it\u0027s difficult to map to a image.\n\u003C/p\u003E\n\u003Cp\u003E\nBut if instead they used a cubic projection:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022border:;white-space:pre;\u0022\u003E\u003Ca href=\u0022https://imgur.com/s4o5onU\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/s4o5onU\u003C/a\u003E\u003C/span\u003E\u003Cimg alt=\u0022s4o5onU.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002294.15\u0022 height=\u0022644\u0022 width=\u0022684\u0022 src=\u0022https://i.imgur.com/s4o5onU.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThey could now just map as if they were making skyboxes, it takes some more effort to implement but the end result is much less distorted\n\u003C/p\u003E\n"},{"CreatedByName":"PlutoISaPlanet","CreatedById":206057,"CreatedDateTime":"2021-04-15T11:49:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223954798\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618486947\u0022 data-ipsquote-userid=\u0022208257\u0022 data-ipsquote-username=\u0022Jack Mcslay\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Jack Mcslay said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is more of a technical issue, but one I\u0027m concerned about. KSP1 uses rectangular projection which is pretty bad and causes terrain glitches in a number of bodies at 90\u00B0N and 90\u00B0S latitudes, and the terrain getting increasingly distorted as you approach those points.\n\u003C/p\u003E\n\u003Cp\u003E\nTo illustrate:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/YELKvrc.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022YELKvrc.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002288.31\u0022 height=\u0022612\u0022 width=\u0022693\u0022 src=\u0022https://i.imgur.com/YELKvrc.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYou can see that near the equator each face is close to a square and it gets increasingly distorted is it reaches the poles. That makes is so that the west-east mapping becomes much more squeezed such there is much greater resolution in one direction than it does at the other, and at the end it switches from quads to triangles, resulting in even more distortion as it\u0027s difficult to map to a image.\n\u003C/p\u003E\n\u003Cp\u003E\nBut if instead they used a cubic projection:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022border:;white-space:pre;\u0022\u003E\u003Ca href=\u0022https://imgur.com/s4o5onU\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/s4o5onU\u003C/a\u003E\u003C/span\u003E\u003Ca href=\u0022https://i.imgur.com/s4o5onU.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022s4o5onU.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002294.15\u0022 height=\u0022644\u0022 width=\u0022684\u0022 src=\u0022https://i.imgur.com/s4o5onU.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThey could now just map as if they were making skyboxes, it takes some more effort to implement but the end result is much less distorted\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI do not know. Their are some images of some KSP 2 planets and moons. To me, they did not look as distorted as ksp 1. Still, I am not sure.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-15T12:49:10Z\u0022 title=\u002204/15/2021 12:49  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 15, 2021\u003C/time\u003E by PlutoISaPlanet\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2021-04-15T12:43:01Z","Content":"\n\u003Cp\u003E\nInteresting idea.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t actually know, but I\u00A0would think that whatever projection method they use (if any) to get the basic landscape they can\u00A0manually edit the \u0027undesirable\u0027 bits.\n\u003C/p\u003E\n\u003Cp\u003E\nLikewise with adding the nice \u0027finishing touches\u0027.\u00A0 The limit, of course, being the amount of time they can allocate to it, and it is doing those\u00A0\u0027little details\u0027 that can easily use a LOT\u00A0of time, if you let it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-15T12:47:48Z\u0022 title=\u002204/15/2021 12:47  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 15, 2021\u003C/time\u003E by pandaman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bej Kerman","CreatedById":182413,"CreatedDateTime":"2021-04-15T12:48:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223954822\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618490581\u0022 data-ipsquote-userid=\u0022130621\u0022 data-ipsquote-username=\u0022pandaman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, pandaman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t actually know, but I\u00A0would think that whatever projection method they use (if any) to get the basic landscape they can\u00A0manually edit the \u0027undesirable\u0027 bits.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUsing cubic projection sounds like a good way to reduce the manual labour of smoothing out the flaws of rectangular projection.\n\u003C/p\u003E\n"},{"CreatedByName":"PlutoISaPlanet","CreatedById":206057,"CreatedDateTime":"2021-04-15T12:49:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223954826\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618490897\u0022 data-ipsquote-userid=\u0022182413\u0022 data-ipsquote-username=\u0022Bej Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Bej Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUsing cubic projection sounds like a good way to reduce the manual labour of smoothing out the flaws of rectangular projection.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI agree\n\u003C/p\u003E\n"},{"CreatedByName":"Jack Mcslay","CreatedById":208257,"CreatedDateTime":"2021-04-15T13:29:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223954822\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618490581\u0022 data-ipsquote-userid=\u0022130621\u0022 data-ipsquote-username=\u0022pandaman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n48 minutes ago, pandaman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nInteresting idea.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t actually know, but I\u00A0would think that whatever projection method they use (if any) to get the basic landscape they can\u00A0manually edit the \u0027undesirable\u0027 bits.\n\u003C/p\u003E\n\u003Cp\u003E\nLikewise with adding the nice \u0027finishing touches\u0027.\u00A0 The limit, of course, being the amount of time they can allocate to it, and it is doing those\u00A0\u0027little details\u0027 that can easily use a LOT\u00A0of time, if you let it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSP has a certain degree of procedural generation; while the primary features (biome locations, major craters, canyons, mountains) are predefined, minor geographic features are procedurally generated in some of the bodies such as small craters hills and such. I suspect that procedural generation is the culprit behind the pattern in bodies such as Duna and Mun having streaked patterns at the poles converging at the 90\u00B0 latitudes creating such erratic terrain that reaching them by rover is difficult to impossible.\n\u003C/p\u003E\n\u003Cp\u003E\nTherefore, assuming KSP2 will implement it too, editing it out is not an option\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-15T13:31:52Z\u0022 title=\u002204/15/2021 01:31  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 15, 2021\u003C/time\u003E by Jack Mcslay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-04-15T19:57:45Z","Content":"\n\u003Cp\u003E\nThe problem with mapping onto a sphere is that a sphere has topological charge of \u002B2, while a flat plane has topological charge 0. That means that no matter what you do, there will be a distortion, and it has to be concentrated somewhere. (Closely related to \u003Ca href=\u0022https://en.wikipedia.org/wiki/Hairy_ball_theorem\u0022 rel=\u0022external nofollow\u0022\u003EHairy Ball Theorem\u003C/a\u003E. [snip]\n\u003C/p\u003E\n\u003Cp\u003E\nWorse, if you are dealing with a mesh, the distortion has to be concentrated in discrete points. And now you are playing a game of balancing it out. The good thing about polar projection is that all of the topological charge is concentrated at the poles at \u002B1 each. That\u0027s a lot of distortion, but it\u0027s all in a place you least care about. Who even wants to go to the poles? There\u0027s nothing there but ice! Of course, in KSP, we have other planets to visit, and they might actually have exciting poles.\n\u003C/p\u003E\n\u003Cp\u003E\nCubic projection has 8 points on which the charge is concentrated. These are your valence 3 verts on a quad mesh. A valence of 3 on a quad mesh always gives you a \u002B1/4 charge, so this adds up to \u002B2 total on the quad sphere. For anyone doing 3D graphics, btw, yes, that will\u00A0\u003Cem\u003Ealways\u003C/em\u003E\u00A0hold if you take a closed shape that can be \u0022inflated\u0022 into a sphere-ish shape. So when you\u0027re making a quad mesh for character, if you take all your valence 3 verts and subtract all your valence 5 verts, you\u0027ll get 8, because that \u002B2 charge has to go somewhere. And it\u0027s always \u002B1/4 for every valence less than 4 and -1/4 for every valence over 4. And that\u0027s why they talk about mesh topology.\n\u003C/p\u003E\n\u003Cp\u003E\nWhich, naturally, brings us to triangular meshes, where neutral valence is 6, and anything with valence 5 gives you \u002B1/6 charge. And, of course, the shape we all know and love with exactly 12 valence 5 vertices - the icosahedron. And just like you can take a cube and inflate it into a cube sphere, you can take an icosahedron and inflate it into an aptly named icosphere.\n\u003C/p\u003E\n\u003Cp\u003E\nThe advantage of icosphere is that it distributes the distortion most evenly. The disadvantage is that the mapping is all over the place and it won\u0027t pack into a rectangular texture very well. You also have the distortions show up in 12 locations total. Two of them are trivially shoved into poles, but that still leaves you with 10 in the subtropics.\n\u003C/p\u003E\n\u003Cp\u003E\nWith the cubic map, there is a\u00A0\u003Cem\u003Elot\u003C/em\u003E\u00A0of distortion around the 8 points, and shoving any 2 into polar regions kind of defeats the simplicity of cubic mapping, so you end up getting stuck with four in each hemisphere, not far enough North not to cause some visual artifacts. But it is way, way easier to implement efficiently than the icosphere, which is why cubic maps show up all over the place. One of the neat examples is Space Engineers. Their voxel planets are cube-mapped. It\u0027s even easier to see that in their Medieval Engineers game which is set on a voxel planet for no reason other than to show off, and you actually get a \u003Ca href=\u0022https://i.ytimg.com/vi/eKnOrnscApA/maxresdefault.jpg\u0022 rel=\u0022external nofollow\u0022\u003Eworld map\u003C/a\u003E, which is broken down into 6 \u0022square\u0022 regions.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the net, I think either a cube sphere or an icosphere would be an improvement, and I guess cube would be easier, as much as I prefer the elegance of icosphere.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-17T18:18:15Z\u0022 title=\u002204/17/2021 06:18  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 17, 2021\u003C/time\u003E by Vanamonde\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dientus","CreatedById":209823,"CreatedDateTime":"2021-04-15T20:50:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223955046\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618516665\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n45 minutes ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWith the cubic map, there is a\u00A0\u003Cem\u003Elot\u003C/em\u003E\u00A0of distortion around the 8 points, and shoving any 2 into polar regions kind of defeats the simplicity of cubic mapping, so you end up getting stuck with four in each hemisphere, not far enough North not to cause some visual artifacts. But it is way, way easier to implement efficiently than the icosphere, which is why cubic maps show up all over the place. One of the neat examples is Space Engineers. Their voxel planets are cube-mapped. It\u0027s even easier to see that in their Medieval Engineers game which is set on a voxel planet for no reason other than to show off, and you actually get a \u003Ca href=\u0022https://i.ytimg.com/vi/eKnOrnscApA/maxresdefault.jpg\u0022 rel=\u0022external nofollow\u0022\u003Eworld map\u003C/a\u003E, which is broken down into 6 \u0022square\u0022 regions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, do you think an icosphere would increase the need for processing power by much? It is using the Unity engine. I don\u0027t KNOW this but I would guess the icosphere would give more maps to render in the same given area where using the cube would be less overall. I do understand the maps in cubic would use more memory, but it would be a one load and done, where triangular maps could potentially load and unload far more often leading to lag.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nJust thinking aloud really, never attempted to use triangular maps beyond simple 3D movie applications and you know that is no benchmark for gaming.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-04-15T21:58:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223955092\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618519831\u0022 data-ipsquote-userid=\u0022209823\u0022 data-ipsquote-username=\u0022Dientus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Dientus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, do you think an icosphere would increase the need for processing power by much? It is using the Unity engine.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nA bit, but most of it is going to be in shader, so it being Unity won\u0027t matter. It\u0027s going to be native code running on the GPU, and as we know with KSP, graphics is where you have some breathing room with these kinds of games.\u00A0You do need to build terrain collision, which does reside in system memory, but I would still advise building the geometry with compute shader and then exporting it from VRAM to system RAM. Since terrain collision generation isn\u0027t done every frame, having to move data from GPU to CPU isn\u0027t going to be a bottleneck even on systems with discrete graphics. And Unity does provide a way to do all of this.\n\u003C/p\u003E\n"},{"CreatedByName":"Jack Mcslay","CreatedById":208257,"CreatedDateTime":"2021-04-15T22:00:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223955046\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618516665\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWho even wants to go to the poles? There\u0027s nothing there but ice!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere\u0027s a number of potential good uses for poles:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThere\u0027s science to be obtained there in most bodies\n\u003C/li\u003E\n\u003Cli\u003E\nIn bodies with sufficient inclination you could position a lander there and get months of perpetual daylight, and move to the other pole for the other half of the year\n\u003C/li\u003E\n\u003Cli\u003E\nIn bodies with very long solar days, a rover could travel relatively short distances at a time and remain under daylight driving near one of the poles\n\u003C/li\u003E\n\u003Cli\u003E\nWe\u0027re now going to be able to build launch sites,\u00A0 as such having some of them in polar locations can be useful\n\u003C/li\u003E\n\u003Cli\u003E\nBodies covered in liquid often have frozen poles, making them massive flats handy for landing\n\u003C/li\u003E\n\u003Cli\u003E\nOr they might be the opposite and create interesting landing challenges, such as Vall\u0027s 7000m peaks at the poles (which are broken due to KSP\u0027s glitchy poles)\n\u003C/li\u003E\n\u003Cli\u003E\nAtmospheric bodies have lower temperatures at the poles, making them useful if you need to dissipate a lot of heat\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Jack Mcslay","CreatedById":208257,"CreatedDateTime":"2021-04-15T22:16:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223955132\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618523939\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA bit, but most of it is going to be in shader, so it being Unity won\u0027t matter. It\u0027s going to be native code running on the GPU, and as we know with KSP, graphics is where you have some breathing room with these kinds of games.\u00A0You do need to build terrain collision, which does reside in system memory, but I would still advise building the geometry with compute shader and then exporting it from VRAM to system RAM. Since terrain collision generation isn\u0027t done every frame, having to move data from GPU to CPU isn\u0027t going to be a bottleneck even on systems with discrete graphics. And Unity does provide a way to do all of this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe way I see it an icosphere would increase performance, first because the heightmaps would necessarily be composed of triangles instead of quads, and triangles deform much smoother than quads do, needing less polygons for the same amount of detail, second by reducing distortion you also reduce the amount of data to be processed at the distorted locations, needing a less robust routine to deal with it or maybe ignore it entirely as the distortion would be small enough it could be ignored.\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-04-15T22:46:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223955145\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618524991\u0022 data-ipsquote-userid=\u0022208257\u0022 data-ipsquote-username=\u0022Jack Mcslay\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, Jack Mcslay said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe way I see it an icosphere would increase performance, first because the heightmaps would necessarily be composed of triangles instead of quads, and triangles deform much smoother than quads do, needing less polygons for the same amount of detail, second by reducing distortion you also reduce the amount of data to be processed at the distorted locations, needing a less robust routine to deal with it or maybe ignore it entirely as the distortion would be small enough it could be ignored.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not all\u00A0\u003Cem\u003Ethat\u003C/em\u003E\u00A0straight forward. The actual terrain you are going to render is going to have sub-meter resolution to look good. Even at Kerbin size, you aren\u0027t going to have a world texture like this. So you are always going to have a texture defining coarse features with some material tiling and possibly procedurals defining local geometry and texturing of terrain. Granted, when rendered from great altitude, an icosphere makes it way, way easier to just have a few subdivisions, slap a texture over it, and have a nice looking planet. But I\u0027d argue that this is also when you care the least both about distortion and about the rendering time. Rendering a planet from high orbit is\u00A0\u003Cem\u003Echeap\u003C/em\u003E. Lighting and atmosphere can get expensive, but that\u0027s all done at pixel stage and, hopefully, entirely deferred. So no connection to the mapping.\n\u003C/p\u003E\n\u003Cp\u003E\nMapping is going to matter primarily when you are on the ground or flying low over terrain. And a quad mesh can actually simplify a lot of that. Yeah, doing a\u00A0\u003Cem\u003Egreat\u003C/em\u003E\u00A0job of fixing up the valence 3 corners is going to be hard, and might create overhead, but if you are ok with them being a little meh, maybe even design your maps to conceal it - like, if it\u0027s oceans at all 8 corners on Kerbin, and maybe some crater features on other planets, then maybe you\u0027re ok with that, and you want to go with a much simpler, more performant approach. On the other hand, yes, icosphere will make things way more uniform, and you won\u0027t have to try and hide the seams. But it will require more complex math for things like LoD tiling and smoothing as well as texture lookups for coarse features.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m with you overall. I do think icosphere gives a more elegant, more consistent solution, and it can be more performant at the\u00A0\u003Cem\u003Esame quality\u003C/em\u003E.\u00A0But I don\u0027t think it\u0027s going to be a performance win if Intercept is happy to hide some seams with creative design. Especially, if they don\u0027t make much improvement on the underlying terrain tech compared to KSP. In the perfect world, it\u0027d be all virtual textures, hardware tessellation, and compute shaders for collisions. In reality, we are probably still going to see just mesh patches both for rendered terrain and collisions. And that\u0027s still a lot easier to do with a square(ish) grid.\n\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2021-04-17T18:18:40Z","Content":"\n\u003Cp\u003E\nKeep it on-topic, please. Some comments removed.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Bej Kerman","CreatedById":182413,"CreatedDateTime":"2021-04-17T18:19:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223955046\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618516665\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/15/2021 at 8:57 PM, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe problem with mapping onto a sphere is that a sphere has topological charge of \u002B2, while a flat plane has topological charge 0. That means that no matter what you do, there will be a distortion, and it has to be concentrated somewhere. (Closely related to \u003Ca href=\u0022https://en.wikipedia.org/wiki/Hairy_ball_theorem\u0022 rel=\u0022external nofollow\u0022\u003EHairy Ball Theorem\u003C/a\u003E. [snip]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhy not just use an unwrapped cube instead of a rectangle for the map?\n\u003C/p\u003E\n"},{"CreatedByName":"MechBFP","CreatedById":184845,"CreatedDateTime":"2021-04-17T19:46:23Z","Content":"\n\u003Cp\u003E\nIs it possible to combine methods? IE use UV for most of the sphere but change to cubic or icosphere for the poles?\n\u003C/p\u003E\n\u003Cp\u003E\nI assume it is possible but I imagine the complexity of making the textures becomes much higher as a result.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-04-18T05:13:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223956296\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618683598\u0022 data-ipsquote-userid=\u0022182413\u0022 data-ipsquote-username=\u0022Bej Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Bej Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhy not just use an unwrapped cube instead of a rectangle for the map?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, it doesn\u0027t matter what shape on 2D you are mapping to - just that it\u0027s a 2D shape. The problem is that to have a nice mapping, you need open sets to map into open sets. It\u0027s possible to show that it\u0027s impossible to do so for a sphere with a single projection. At an absolute best, you can map all but one point with a single mapping.\u00A0An unwrapped cube effectively has 6 different mappings - one for each face. Which is perfectly fine. But it still means you\u0027ll have trouble at points where multiple mappings come together. For a cube, that\u0027s your 8 original vertices of the cube.\n\u003C/p\u003E\n\u003Cp\u003E\nSorry that I\u0027m being a bit hand-wavy about what a \u0022nice mapping\u0022 means and why open sets matter. If you want to chase this down, the relevant topic is differential geometry (or differential topology). You\u0027ll want at least a minimal intro to topology for that, for which you\u0027ll want an intro to real analysis and just a touch of measure theory. And you can probably get through both if you have a solid background in calculus. I\u0027m sorry if it\u0027s coming out as a bit pretentious, but differential geometry is one of these subjects where math gets so abstract that it\u0027s only worth to either just state some results as facts or, if you really want to understand it, to go through and learn the background. If there\u0027s a way to give simplified explanations, I don\u0027t know it. Maybe I\u0027m just not good enough at the subject, but it\u0027s best I can do.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I think I have an illustration for where things go wrong, though. Imagine that you have a sphere. Imagine that you are texturing it by mapping sphere to a cube, then unwrapping the cube to a 2D texture. Now, picture that you started drawing a straight line on a sphere (technically, a great circle). What happens to that line as it crosses from one cube face to another on your texture? Well, the line will probably not look straight, which isn\u0027t a big deal. But when it crosses from one cube face to another, it\u0027s going to get a sharp kink. The orientation of the tangent at that point becomes discontinuous. In general, a smooth curve on a sphere isn\u0027t guaranteed to be a smooth curve on the texture and vice versa. Which isn\u0027t a disaster, but it can lead to artifacts if you aren\u0027t careful. And that\u0027s a big part of why even though you are using a single texture for your unwrapped cube, you really have to treat the 6 regions corresponding to each face as a distinct mapping.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-18T05:19:21Z\u0022 title=\u002204/18/2021 05:19  AM\u0022 data-short=\u00223 yr\u0022\u003EApril 18, 2021\u003C/time\u003E by K^2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"runner78","CreatedById":168980,"CreatedDateTime":"2021-04-22T07:46:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223955092\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618519831\u0022 data-ipsquote-userid=\u0022209823\u0022 data-ipsquote-username=\u0022Dientus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/15/2021 at 10:50 PM, Dientus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, do you think an icosphere would increase the need for processing power by much? It is using the Unity engine\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWith mordern Unity (Jobs \u002B Burst \u002B new Mesh API) shouldn\u0027t be a problem on the CPU either. I saw an example, a coin animation at 60 fps (in the editor)\u00A0when a new mesh was created every frame with over 100,000 quads.\n\u003C/p\u003E\n"},{"CreatedByName":"Overfloater","CreatedById":94031,"CreatedDateTime":"2021-04-22T08:17:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E...a place you least care about. Who even wants to go to the poles?\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot me, because the poles\u00A0look all distorted and icky.\n\u003C/p\u003E\n"},{"CreatedByName":"prestja","CreatedById":200888,"CreatedDateTime":"2021-04-22T15:27:16Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.youtube.com/watch?v=mXTxQko-JH0\u0022 rel=\u0022external nofollow\u0022\u003ETri-Planar Mapping\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"MechBFP","CreatedById":184845,"CreatedDateTime":"2021-04-22T16:31:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223958964\u0022 data-ipsquote-contentid=\u0022201734\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221619105236\u0022 data-ipsquote-userid=\u0022200888\u0022 data-ipsquote-username=\u0022prestja\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, prestja said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.youtube.com/watch?v=mXTxQko-JH0\u0022 rel=\u0022external nofollow\u0022\u003ETri-Planar Mapping\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt goes into detail regarding the planets @ 32:42 for anyone wondering.\n\u003C/p\u003E\n"}]}