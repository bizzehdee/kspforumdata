{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":236,"Articles":[{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-03-18T18:51:21Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Galileo said:\n\u003E \n\u003E \n\u003E Use the config tool linked in the \u003Cabbr title=\u0022Original Post(er). The first post in a thread, or the person who posted it.\u0022\u003EOP\u003C/abbr\u003E.\n\u003E \n\nThank you! I\u0027m blind as usual!"},{"CreatedByName":"FirroSeranel","CreatedById":144343,"CreatedDateTime":"2017-03-19T02:03:00Z","Content":"Hi there!\n\nI love Scatterer! But lately, as talked about in[this thread](https://forum.kerbalspaceprogram.com/index.php?/topic/154587-122-modular-kolonization-system-mks/\u0026page=96#comment-2990226), it seems to be causing huge amounts of lag on and around Mun and Minmus (and possibly other moons). The thing is, I can\u0027t for the life of me see why it would; Scatterer doesn\u0027t do anything unless there\u0027s an atmosphere/water present... does it?"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-03-19T02:15:56Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, FirroSeranel said:\n\u003E \n\u003E \n\u003E Hi there!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I love Scatterer! But lately, as talked about in[this thread](https://forum.kerbalspaceprogram.com/index.php?/topic/154587-122-modular-kolonization-system-mks/\u0026page=96#comment-2990226), it seems to be causing huge amounts of lag on and around Mun and Minmus (and possibly other moons). The thing is, I can\u0027t for the life of me see why it would; Scatterer doesn\u0027t do anything unless there\u0027s an atmosphere/water present... does it?\n\u003E \n\nNope, scatterer doesn\u0027t do anything at all with vacuum bodies. Have you tried running ksp with ONLY scatterer installed? \n\nTry that and see if the issue persists \n\n**Edited \u003Ctime datetime=\u00222017-03-19T02:16:19Z\u0022 title=\u002203/19/2017 02:16  AM\u0022 data-short=\u00227 yr\u0022\u003EMarch 19, 2017\u003C/time\u003E by Galileo**"},{"CreatedByName":"FirroSeranel","CreatedById":144343,"CreatedDateTime":"2017-03-19T02:24:33Z","Content":"\u003E \n\u003E \n\u003E Just now, Galileo said:\n\u003E \n\u003E \n\u003E Nope, scatterer doesn\u0027t do anything at all with vacuum bodies. Have you tried running ksp with ONLY scatterer installed? \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Try that and see if the issue persists\n\u003E \n\u003E \n\u003E \n\u003E \n\nWell, RoverDude says removing RealPlumes, Scatterer, and Distant Object Enhancement, fixed it... I\u0027ll give it a shot though. Well, not \u0022only\u0022 scatterer, but out of my visual mods, I\u0027ll remove everything else."},{"CreatedByName":"FirroSeranel","CreatedById":144343,"CreatedDateTime":"2017-03-19T02:55:28Z","Content":"Well, for me at least, removing all visual mods made no difference whatsoever. I\u0027m not surprised though. I think most people don\u0027t understand what the Physics Max Delta setting actually does. I have it set at 0.02, and I get at least 40 FPS even with full-bore graphics mods installed... just low physics rates in the 60% range."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-03-19T03:29:51Z","Content":"\u003E \n\u003E \n\u003E 33 minutes ago, FirroSeranel said:\n\u003E \n\u003E \n\u003E Well, for me at least, removing all visual mods made no difference whatsoever. I\u0027m not surprised though. I think most people don\u0027t understand what the Physics Max Delta setting actually does. I have it set at 0.02, and I get at least 40 FPS even with full-bore graphics mods installed... just low physics rates in the 60% range.\n\u003E \n\nSo what you are saying is scatterer isn\u0027t the reason for your performance on mun and Minmus?"},{"CreatedByName":"FirroSeranel","CreatedById":144343,"CreatedDateTime":"2017-03-19T04:16:14Z","Content":"\u003E \n\u003E \n\u003E 45 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E So what you are saying is scatterer isn\u0027t the reason for your performance on mun and Minmus?\n\u003E \n\nCorrect. Very tiny effect, maybe when Kerbin is visible, but otherwise it isn\u0027t hurting anything."},{"CreatedByName":"ManuxKerb","CreatedById":139441,"CreatedDateTime":"2017-03-19T07:48:09Z","Content":"\u003E \n\u003E \n\u003E On 3/16/2017 at 6:49 PM, HampstersINspace said:\n\u003E \n\u003E \n\u003E I\u0027m not  on Linux I\u0027m on windows.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E would it be the same thing on windows?\n\u003E \n\nWell I tried to use SVE and SVT and SVE  uses scatter to make foggyness and stuff. There was an Error in SVT but that should be 99% unretated as after fixing those. Clouds where not working and the error i posted made me suspicious because you can see it does not use GameData (link) as it should instead useing the real folder name. That hunch made me remove the symlink to GameDataStock and i tried it and it worked.\n\nI don\u0027t know how links in Windows work, maybe it will help if you use them at all. Also i did not try hardlinking. Also no idea if this is even possible in Windows. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)\n\nHope this helps a bit"},{"CreatedByName":"Gleisix","CreatedById":160639,"CreatedDateTime":"2017-03-20T00:12:51Z","Content":"-{Ignore this}-\n\n**Edited \u003Ctime datetime=\u00222017-03-22T01:08:47Z\u0022 title=\u002203/22/2017 01:08  AM\u0022 data-short=\u00227 yr\u0022\u003EMarch 22, 2017\u003C/time\u003E by Gleisix**"},{"CreatedByName":"stratvox","CreatedById":134498,"CreatedDateTime":"2017-03-21T00:59:50Z","Content":"Hey Blackrack, you did say you liked screen shots. Nicely timed utility launch just as the sun is setting.\n\n![umY0wiU.png](http://i.imgur.com/umY0wiU.png)\n\n![zEBEEFT.png](http://i.imgur.com/zEBEEFT.png)\n\nThank you so much!"},{"CreatedByName":"Gleisix","CreatedById":160639,"CreatedDateTime":"2017-03-22T01:14:05Z","Content":"Does anyone know how to scale down the size of the sun \u0022surface\u0022 with Kopernicus? When Kopernicus is installed the sun\u0027s \u0022surface\u0022 view when the sunflare is blocked by a craft is much bigger than it should be. It is so big I can see it outside of the sunflare, just curious if there is a way to disable this feature or to scale it down.\n\n[Example](http://imgur.com/a/KI8Is)\n\nFixed using SVT sun configs!\n\n**Edited \u003Ctime datetime=\u00222017-03-23T02:43:25Z\u0022 title=\u002203/23/2017 02:43  AM\u0022 data-short=\u00227 yr\u0022\u003EMarch 23, 2017\u003C/time\u003E by Gleisix**\n  \nFixed"},{"CreatedByName":"eberkain","CreatedById":157548,"CreatedDateTime":"2017-03-24T12:10:23Z","Content":"\u003E \n\u003E \n\u003E On 4/12/2015 at 3:37 AM, blackrack said:\n\u003E \n\u003E \n\u003E -\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/rescale mods might not actually work and may have several issues.\n\u003E \n\nThe only issue I am encountering when playing on a 10x rescale of GPP is a strange fuzzy blue line on the horizon when at low altitude, 1-2km, any higher and its completely gone.  Is there any way to adjust the config to fix this?\n\n![b8ECqWd.png](http://i.imgur.com/b8ECqWd.png)"},{"CreatedByName":"Smarti","CreatedById":171326,"CreatedDateTime":"2017-03-24T21:09:47Z","Content":"I have a question.\n\nDoes this mod conflict in any way with Realistic Athmospheres? It changes the height and thickness from atmospheres.\n\nI think that maybe Scatterer shows it\u0060s effects outside of a atmosphere still when it is lowered down by Realistic Atmospheres and things like that.\n\nThanks a lot.\n\n**Edited \u003Ctime datetime=\u00222017-03-24T21:23:54Z\u0022 title=\u002203/24/2017 09:23  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 24, 2017\u003C/time\u003E by Smarti**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-03-24T22:26:18Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Smarti said:\n\u003E \n\u003E \n\u003E I have a question.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Does this mod conflict in any way with Realistic Athmospheres? It changes the height and thickness from atmospheres.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I think that maybe Scatterer shows it\u0060s effects outside of a atmosphere still when it is lowered down by Realistic Atmospheres and things like that.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks a lot.\n\u003E \n\nScatterer provides just aesthetics. It doesn\u0027t change anything with how atmospheres behave. So yes, scatterer will work fine with realistic atmospheres\n\n**Edited \u003Ctime datetime=\u00222017-03-24T22:27:29Z\u0022 title=\u002203/24/2017 10:27  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 24, 2017\u003C/time\u003E by Galileo**"},{"CreatedByName":"Smarti","CreatedById":171326,"CreatedDateTime":"2017-03-24T22:33:56Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E Scatterer provides just aesthetics. It doesn\u0027t change anything with how atmospheres behave. So yes, scatterer will work fine with realistic atmospheres\n\u003E \n\nThanks for the fast answer. I know it\u0060s just aesthetics, but thought that maybe the Scatterer atmospheric visuals are \u0022not in place\u0022 with the changes of Realistic Atmospheres."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-03-24T22:47:23Z","Content":"\u003E \n\u003E \n\u003E Just now, Smarti said:\n\u003E \n\u003E \n\u003E Thanks for the fast answer. I know it\u0060s just aesthetics, but thought that maybe the Scatterer atmospheric visuals are \u0022not in place\u0022 with the changes of Realistic Atmospheres.\n\u003E \n\nOh I see. Yeah the default scatterer cfgs weren\u0027t developed with realistic atmospheres in mind.  You will have to edit the cfgs for them to accurately depict the atmospheres in RA."},{"CreatedByName":"oniontrain","CreatedById":2465,"CreatedDateTime":"2017-03-25T02:27:15Z","Content":"\u003E \n\u003E \n\u003E On 3/18/2017 at 9:03 PM, FirroSeranel said:\n\u003E \n\u003E \n\u003E Hi there!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I love Scatterer! But lately, as talked about in[this thread](https://forum.kerbalspaceprogram.com/index.php?/topic/154587-122-modular-kolonization-system-mks/\u0026page=96#comment-2990226), it seems to be causing huge amounts of lag on and around Mun and Minmus (and possibly other moons). The thing is, I can\u0027t for the life of me see why it would; Scatterer doesn\u0027t do anything unless there\u0027s an atmosphere/water present... does it?\n\u003E \n\nDo you have Kopernicus installed also? Because that\u0027s what was causing a very similar issue for me. Definitely wasn\u0027t scatterer."},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-03-26T12:14:43Z","Content":"I\u0027m getting some issues unique to this planet. I have an inkling it is Scatterer causing this, but I also have \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E.\n\n![7gKje70.jpg](http://i.imgur.com/7gKje70.jpg)\n\nIt\u0027s some sort of white, covering texture - it\u0027s deeply confusing me, since no amount of tinkering, re-making and adjusting of the atmosphere resolves this issue. Then again, I could be overthinking this. It may be a scatterer issue, a config issue, or the planet\u0027s config - I don\u0027t know, there are too many configs!\n\nAny help would be appreciated. If you need configs, just ask and I\u0027ll send the necessary ones."},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-03-26T13:29:45Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Gameslinx said:\n\u003E \n\u003E \n\u003E It\u0027s some sort of white, covering texture\n\u003E \n\nI see clouds, and I see sunlight reflecting off the surface of the planet. I don\u0027t see any abnormal whiteness. It\u0027s probably the sun glint you don\u0027t understand. Not sure if that\u0027s a texture issue or config issue."},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-03-26T13:35:50Z","Content":"\u003E \n\u003E \n\u003E 54 minutes ago, Drew Kerman said:\n\u003E \n\u003E \n\u003E I see clouds, and I see sunlight reflecting off the surface of the planet. I don\u0027t see any abnormal whiteness. It\u0027s probably the sun glint you don\u0027t understand. Not sure if that\u0027s a texture issue or config issue.\n\u003E \n\nI\u0027ve narrowed the search for the issue down a little. After removing the planet from the Scatterer configs, the issue goes away. Although that\u0027s not what I want, this is what the planet should look like:\n\n![ISKmjaV.jpg](http://i.imgur.com/ISKmjaV.jpg)\n\nHowever in the orbital view it\u0027s an entirely different story, which, for some reason, only occurs for this planet in particular.\n\n![DtSYjJQ.jpg](http://i.imgur.com/DtSYjJQ.jpg)\n\nAs you can see, the terrain and oceans are not visible. It\u0027s as if a blanket of white has been layered over the planet. I\u0027ll mess with some of the post-processing and reflectiveness settings, but both this scatterer config and another planets\u0027 config are identical (apart from the atmosphere colour).\n\nEDIT: I managed to resolve this by setting up a config:\n\n    @Body[Niebos]\n        {\n            useOnDemand = false\n        }\n\n**Edited \u003Ctime datetime=\u00222017-03-26T14:17:44Z\u0022 title=\u002203/26/2017 02:17  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 26, 2017\u003C/time\u003E by Gameslinx**"},{"CreatedByName":"NeoFatalis","CreatedById":153893,"CreatedDateTime":"2017-04-01T14:16:15Z","Content":"When I have Kopernicus installed it adds the stock sunflare and it ruins the scatterer one, is there any fix for this? I\u0027ve tried to use sigma dimensions to make the sun smaller but when I zoom out the stock sunflare comes back"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-01T14:17:14Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, NeoFatalis said:\n\u003E \n\u003E \n\u003E When I have Kopernicus installed it adds the stock sunflare and it ruins the scatterer one, is there any fix for this? I\u0027ve tried to use sigma dimensions to make the sun smaller but when I zoom out the stock sunflare comes back\n\u003E \n\nYou can scale the sunflares in the sunflares cfgs for scatterer. Instructions on how to do so are in the cfg\n\n\u003E \n\u003E \n\u003E On 3/26/2017 at 8:35 AM, Gameslinx said:\n\u003E \n\u003E \n\u003E I\u0027ve narrowed the search for the issue down a little. After removing the planet from the Scatterer configs, the issue goes away. Although that\u0027s not what I want, this is what the planet should look like:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![ISKmjaV.jpg](http://i.imgur.com/ISKmjaV.jpg)](http://i.imgur.com/ISKmjaV.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E However in the orbital view it\u0027s an entirely different story, which, for some reason, only occurs for this planet in particular.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![DtSYjJQ.jpg](http://i.imgur.com/DtSYjJQ.jpg)](http://i.imgur.com/DtSYjJQ.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E As you can see, the terrain and oceans are not visible. It\u0027s as if a blanket of white has been layered over the planet. I\u0027ll mess with some of the post-processing and reflectiveness settings, but both this scatterer config and another planets\u0027 config are identical (apart from the atmosphere colour).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E EDIT: I managed to resolve this by setting up a config:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     @Body[Niebos]\n\u003E         {\n\u003E             useOnDemand = false\n\u003E         }\n\u003E \n\nYou can set this up to run on all bodies like this. It\u0027s important to use to make all atmosphere bodies work correctly with scatterer.\n\n@Body,\\*\n\n{useOnDemand = False}\n\n**Edited \u003Ctime datetime=\u00222017-04-01T14:21:46Z\u0022 title=\u002204/01/2017 02:21  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 1, 2017\u003C/time\u003E by Galileo**"},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-04-01T14:24:17Z","Content":"\u003E \n\u003E \n\u003E 14 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E You can scale the sunflares in the sunflares cfgs for scatterer. Instructions on how to do so are in the cfg\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You can set this up to run on all bodies like this. It\u0027s important to use to make all atmosphere bodies work correctly with scatterer.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E @Body,\\*\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E {useOnDemand = False}\n\u003E \n\nThis is the config file:\n\n    @Kopernicus:NEEDS[Scatterer]:AFTER[Kopernicus]\n    {\n        @Body[Niebos]\n        {\tuseOnDemand = false\n        }\n        @Body[Sonus]\n        {\tuseOnDemand = false\n        }\n        @Body[Olu\u0027um]\n        {\tuseOnDemand = false\n        }\n        @Body[Telos]\n        {\tuseOnDemand = false\n        }\n        @Body[Butai]\n        {\tuseOnDemand = false\n        }@Body[Fume]\n        {\tuseOnDemand = false\n        }@Body[Volux]\n        {\tuseOnDemand = false\n        }@Body[Scorch]\n        {\tuseOnDemand = false\n        }\n    }\n\n(Ignore the discolouring, it\u0027s because Olu\u0027um has a \u0022 \u0027 \u0022 in its name)\n\nI think it\u0027s sorted now. Not seen the issue for ages! Thank you ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) \n\n**Edited \u003Ctime datetime=\u00222017-04-01T14:24:41Z\u0022 title=\u002204/01/2017 02:24  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 1, 2017\u003C/time\u003E by Gameslinx**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-04-01T14:26:34Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Gameslinx said:\n\u003E \n\u003E \n\u003E This is the config file:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     @Kopernicus:NEEDS[Scatterer]:AFTER[Kopernicus]\n\u003E     {\n\u003E         @Body[Niebos]\n\u003E         {\tuseOnDemand = false\n\u003E         }\n\u003E         @Body[Sonus]\n\u003E         {\tuseOnDemand = false\n\u003E         }\n\u003E         @Body[Olu\u0027um]\n\u003E         {\tuseOnDemand = false\n\u003E         }\n\u003E         @Body[Telos]\n\u003E         {\tuseOnDemand = false\n\u003E         }\n\u003E         @Body[Butai]\n\u003E         {\tuseOnDemand = false\n\u003E         }@Body[Fume]\n\u003E         {\tuseOnDemand = false\n\u003E         }@Body[Volux]\n\u003E         {\tuseOnDemand = false\n\u003E         }@Body[Scorch]\n\u003E         {\tuseOnDemand = false\n\u003E         }\n\u003E     }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (Ignore the discolouring, it\u0027s because Olu\u0027um has a \u0022 \u0027 \u0022 in its name)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I think it\u0027s sorted now. Not seen the issue for ages! Thank you ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nYou can do it individually like that or you can just cover everything with the small bit of code I posted"},{"CreatedByName":"NeoFatalis","CreatedById":153893,"CreatedDateTime":"2017-04-01T14:53:16Z","Content":"\u003E \n\u003E \n\u003E 26 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E You can scale the sunflares in the sunflares cfgs for scatterer. Instructions on how to do so are in the cfg\n\u003E \n\nI\u0027ve rescaled it up to \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003Erss\u003C/abbr\u003E sized ones and I still have this huge yellow sunflare on top the scatterer one, and when I\u0027m far away from the sun the scatterer one fades (as it should) and the stock remains pretty much the same size which means that any rescale of the flare wouldn\u0027t really help"}]}