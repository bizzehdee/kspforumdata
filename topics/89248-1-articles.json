{"TopicId":89248,"ForumId":16,"TopicTitle":"Generic Spaceplane Ascent: testers needed","CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-02T21:19:28Z","PageNum":1,"Articles":[{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-02T21:19:28Z","Content":"\n\u003Cp\u003EI\u0027m using kOS.\u003C/p\u003E\u003Cp\u003EI\u0027ve been working on a generic spaceplane ascent script pretty much since I found out about spaceplanes. \u0022Generic\u0022 being relative, of course: I still need to declare which action groups to trigger when, for example, and I don\u0027t think I\u0027ll ever come up with a liftoff procedure that\u0027s fit for every plane.\u003C/p\u003E\u003Cp\u003E(EDIT: script available for download \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98980-Generic-Spaceplane-Ascent-revisited?p=1527854\u0026amp;viewfull=1#post1527854\u0022 rel=\u0022external nofollow\u0022\u003E -\u0026gt;here\u0026lt;-\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EAll that convoluted code looking at climb rate, TWR, intake air and whatnot has been made obsolete when I noticed that all good ascents happen to have a very similar pattern for time_to_apoapsis.\u003C/p\u003E\u003Cp\u003EFor a high-TWR plane, time_to_apoapsis hovers around 20 seconds for a good part of the ascent, then increases steadily. For a low-TWR plane, it\u0027s more like 15 seconds and increasing slower. I\u0027ve written a script that just tries to keep a desired time_to_apoapsis (pitch up when too low, pitch down when too high, full throttle all the way) and am getting good results; and a very smooth trajectory too, where my previous script was oscillating quite a bit.\u003C/p\u003E\u003Cp\u003E(I\u0027m also slightly pissed because all the intricacies of climb rate and airspeed and whatnot are all neatly summed up in that single figure for time_to_apoapsis; which makes sense if you think about it, but a) I didn\u0027t think of that, only noticed it by chance, and \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E all the spaceplane smarts that went into previous scripts apparently are for naught).\u003C/p\u003E\u003Cp\u003ENow I wonder whether this is truly generic, or merely because all of my own planes are fundamentally similar in some way. Could you please have a look at time_to_apoapsis during your next flight, and tell me whether you notice a similar pattern?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-07T16:12:46Z\u0022 title=\u002211/07/2014 04:12  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 7, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LethalDose","CreatedById":92657,"CreatedDateTime":"2014-11-02T21:23:00Z","Content":"\n\u003Cp\u003EI\u0027m just curious, are you using time to AP as the parameter of interest for the \u003Cem\u003Eentire\u003C/em\u003E ascent, or only the air-breathing part? Thanks for sharing this!\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-11-02T21:29:16Z","Content":"\n\u003Cp\u003EI also pay close attention to time-to-apoapsis once I\u0027ve leveled off and start accumulating speed. Too high a value and the ship will pass through the prime acceleration altitudes without accumulating enough speed; too low and you run the risk of not being able to bring it up any further when thrust starts falling off. IME, the actual value for tta is less important than how that value is changing; if it is shrinking greater AoA is required, if it is increasing before you are near orbital speed less AoA is required.\u003C/p\u003E\u003Cp\u003EMy typical tta is about 10s when I level off at a bit over 20km. I try to keep it at around 15s through most of the ascent through 30km, after that I\u0027ve usually gotten close to orbital speed and the tta starts growing. By the time my air-breathers flame out my Ap might be 90s away or more.\u003C/p\u003E\u003Cp\u003EDisclaimers: Stock aero, and all my planes are high TWR (1.2 or more).\u003C/p\u003E\u003Cp\u003EEdit: tta works for me, fixed.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-02T22:43:49Z\u0022 title=\u002211/02/2014 10:43  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 2, 2014\u003C/time\u003E by Red Iron Crown\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-02T22:40:05Z","Content":"\n\u003Cp\u003ERed: I\u0027ll stick to tta if you don\u0027t mind -- or is this already taken?\u003C/p\u003E\u003Cp\u003ELethalDose: mostly the airbreathing part, from when the tta first gets high enough (which usually happens around 10km even with runway-TWR=1.1) to when I reach 2000m/s or have the first flameout.\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-11-02T23:32:02Z","Content":"\n\u003Cp\u003EI\u0027ve long done about what Red Iron Crown says, but I\u0027m not convinced it\u0027s optimal. If you level out too soon, you end up using more fuel because you get stuck climbing slowly.\u003C/p\u003E\u003Cp\u003EI suspect what you want is to set things up so that you end up at your top-speed altitude (where you use exactly 100% of your air) with enough time afterwards to get up to speed.\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-11-02T23:35:24Z","Content":"\n\u003Cp\u003EMy advice is not generic, that\u0027s for turbojet. For a basic jet you want to get altitude -- you can easily get over 36 km. You will never build up enough horizontal speed to write home about, so just get altitude and let the rockets get you the next nearly 2km/s horizontal.\u003C/p\u003E\u003Cp\u003EHaven\u0027t tried with the rapier.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-11-02T23:41:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003EI\u0027ve long done about what Red Iron Crown says, but I\u0027m not convinced it\u0027s optimal. If you level out too soon, you end up using more fuel because you get stuck climbing slowly.\u003Cp\u003EI suspect what you want is to set things up so that you end up at your top-speed altitude (where you use exactly 100% of your air) with enough time afterwards to get up to speed.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe over 30,000m ascent path I use depends on TWR.\u003C/p\u003E\u003Cp\u003EOn a low TWR ship (nukes, mostly) I use a very flat ascent that ends up with the plane shutting off thrust while climbing ~50m/s at 50,000m on the way to a 70k apoapsis / 40K periapsis.\u003C/p\u003E\u003Cp\u003EOn a high TWR ship (RAPIERs, Aerospikes) I\u0027ll use a steeper final ascent and a longer circularisation burn. Use the flatter ascent with quick ships like these and you end up losing too much speed to drag after engine shutdown.\u003C/p\u003E\u003Cp\u003EIn either case though, it starts with a jet-powered climb to a minimum of Mach 4.5 / 30,000m. When possible, Mach 5.5 and 40,000m is even better. That\u0027s just the basic starting line for a spaceplane ascent.\u003C/p\u003E\u003Cp\u003EGet to 20,000m however you like, then flatten out and build speed as you slowly climb until you\u0027re approaching Mach 5 and 30,000m. There are several ways to get there (smooth climb, arc and bounce, etc), but the need to build that speed is unavoidable.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-02T23:51:43Z\u0022 title=\u002211/02/2014 11:51  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 2, 2014\u003C/time\u003E by Wanderfound\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-11-03T00:09:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003EI\u0027ve long done about what Red Iron Crown says, but I\u0027m not convinced it\u0027s optimal. If you level out too soon, you end up using more fuel because you get stuck climbing slowly.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am not convinced it\u0027s optimal either. I can reliably get high TWR planes to orbit, but I haven\u0027t had much success with the lower TWR ones others seem to be able to get up there. I\u0027m sure I\u0027m carrying more engine than should be strictly required.\u003C/p\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2014-11-03T00:21:35Z","Content":"\n\u003Cp\u003EThank you for the information. I will try it and see if it takes some of the tedium out of my current spaceplane ascents, which is 20km, then start flattening out, then have a cup of coffee before 50km or so.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-11-03T00:22:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI am not convinced it\u0027s optimal either. I can reliably get high TWR planes to orbit, but I haven\u0027t had much success with the lower TWR ones others seem to be able to get up there. I\u0027m sure I\u0027m carrying more engine than should be strictly required.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou need enough jets to get off the runway and reach Mach 4.5; you need enough oxidising thrust to maintain acceleration above 30,000m. Anything more than that is a luxury.\u003C/p\u003E\u003Cp\u003EOTOH, I like my spaceplanes luxurious a lot of the time.\u003C/p\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2014-11-03T00:25:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wanderfound\u0022 data-cite=\u0022Wanderfound\u0022\u003E\u003Cdiv\u003E...reach Mach 4.5...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou say that so much.\u003C/p\u003E\u003Cp\u003EWhat speed is it? At what altitude?\u003C/p\u003E\u003Cp\u003EI\u0027ll get you at playtime! (eg; PM) *grin*\u003C/p\u003E\u003Cp\u003Em/s is \u0022a thing\u0022 and can be displayed in KSP, Mach X isn\u0027t, and can\u0027t.\u003C/p\u003E\n"},{"CreatedByName":"Nemrav","CreatedById":91029,"CreatedDateTime":"2014-11-03T00:26:52Z","Content":"\n\u003Cp\u003EI actually typically use a 2 rapier config, and level out at 11,000m. I try and gain as much speed as possible from there, keeping prograde marker 5degrees above the level plane. otherwise I find, I flame out too early...\u003C/p\u003E\u003Cp\u003EBut then again I\u0027ve always been horrible at doing space planes, and only recently have I had some success (2-3 ton probe was biggest payload)...\u003C/p\u003E\u003Cp\u003EAfter reading this I will probably reconsider...\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-03T01:39:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI can reliably get high TWR planes to orbit, but I haven\u0027t had much success with the lower TWR ones others seem to be able to get up there. I\u0027m sure I\u0027m carrying more engine than should be strictly required.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that\u0027s a question of having enough intakes.\u003C/p\u003E\u003Cp\u003EIf you don\u0027t need any power for lifting, you can move at sqrt(your_twr)*terminal_velocity. So with TWR=1 you can reach terminal velocity, with TWR=2 you can get up to 1.4 times terminal velocity, TWR=0.5, 70% termvelocity. (In stock atmo, and I\u0027m not sure if that\u0027s 100% correct, but it comes pretty close).\u003C/p\u003E\u003Cp\u003ETermvelocity at 30km is ~2000m; TWR of turbojets at 2000m/s is the same as on the runway. Therefore, if you want to get to 2000m/s@30km, you need a runway-TWR of 1. You\u0027d also need enough intakes so all of your engines would run at full power -- I don\u0027t think anyone really does it this way. However, as you keep climbing, terminal velocity increases faster than SQRT(TWR) is decreasing (due to the power of SQRT, and only until flameouts make your TWR drop sharply).\u003C/p\u003E\u003Cp\u003EThat\u0027s why I think that the trick behind successful low-TWR spaceplanes is having enough intakes to keep going well beyond 30km without flameout. They also require some patience in getting to 12-15km.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI am not convinced it\u0027s optimal either. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI suspect that it can be pretty close to optimal.\u003C/p\u003E\u003Cp\u003EI\u0027ve been doing it the old-fashioned way: watching TWR, terminal velocity, climb rate and airspeed. Actually, the rate at which the airspeed changed -- which is easy to do, you quickly develop a seat-of-you-pants feel for how quickly the numbers are supposed to change. If it doesn\u0027t seem right, you either pitch up (get into thinner air) or down (because you\u0027re already higher than you ought to be and need to catch up on velocity).\u003C/p\u003E\u003Cp\u003ETeaching that to a kOS box was quite a mouthful, and in the end it was climbing stairs: up for a while, forward for a while, then up again.... surprisingly, this looked much more ugly than it actually was. In terms of flight time and fuel used, it was well within the margin of error of my manual flights. So getting it smoothed out was more of a cosmetic thing I didn\u0027t tacle for a long while, but when I did, I noticed the TTA affinity; and now that I\u0027m flying by TTA alone (completely ignoring all other parameters), I\u0027m again getting similar-to-better results.\u003C/p\u003E\u003Cp\u003ENow, maybe it only seems good to me because I\u0027m such a bad pilot; or maybe it only works for the kind of planes I\u0027m building. I\u0027m asking all spaceplane pilots to fly as usual, as they think is best, but to keep an eye on their TTA while doing so, and tell me what it\u0027s doing.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-11-03T02:02:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pecan\u0022 data-cite=\u0022Pecan\u0022\u003E\u003Cdiv\u003EYou say that so much.\u003Cp\u003EWhat speed is it? At what altitude?\u003C/p\u003E\u003Cp\u003EI\u0027ll get you at playtime! (eg; PM) *grin*\u003C/p\u003E\u003Cp\u003Em/s is \u0022a thing\u0022 and can be displayed in KSP, Mach X isn\u0027t, and can\u0027t.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMach 1 equals roughly 350m/s, but, as you know, varies with pressure. Both FAR and Kerbal Flight Data display speed in Mach, and it\u0027s usually FAR flyers that I\u0027m writing for. \u0022Mach 5\u0022 is easier to write and understand than \u0022about 1,700m/s\u0022 for me.\u003C/p\u003E\u003Cp\u003EAnd, for the stock flyers, it doesn\u0027t hurt to encourage them to look up Mach numbers and realise that 400m/s is not as slow as they usually think it is.\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-11-03T02:46:06Z","Content":"\n\u003Cp\u003EI just flew a biggish ship up to orbit. 96 radials \u002B 6 rams -- might be risking a charge of intake spam with this one -- 40t on the deck, three turbojets, liftoff speed about 60 m/s.\u003C/p\u003E\u003Cp\u003ERoll off, maintain 45 degrees until vertical speed hits 200 m/s, then keep the tta steady.\u003C/p\u003E\u003Cp\u003EIt didn\u0027t quite work as planned: I overshot the apoapsis once I ran out of air, fell back down to 33km where I could fire on all three cylinders, and was able to be going fast enough on the second go so that even with vertical speed just 100m/s, tta was increasing.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-11-03T02:54:32Z","Content":"\n\u003Cp\u003EBTW, just as an example of how flat an ascent you can get away with:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i1378.photobucket.com/albums/ah120/craigmotbey/Kerbal/Challenges/Akademy%20Awards/Kerbodyne%20Endeavour/screenshot421_zpsb8dc1392.jpg\u0022 alt=\u0022screenshot421_zpsb8dc1392.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-03T11:11:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pecan\u0022 data-cite=\u0022Pecan\u0022\u003E\u003Cdiv\u003EThank you for the information. I will try it and see if it takes some of the tedium out of my current spaceplane ascents, which is 20km, then start flattening out, then have a cup of coffee before 50km or so.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHold on a second. Following the TTA pattern will not lead to a better/faster/more efficient ascent. At best, it will lead to an ascent that\u0027s just as good, fast and efficient as one where you consider all the flight parameters.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003EI just flew a biggish ship up to orbit. [...] Roll off, maintain 45 degrees until vertical speed hits 200 m/s, then keep the tta steady.\u003Cp\u003EIt didn\u0027t quite work as planned: I overshot the apoapsis once I ran out of air\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you were going up until climb rate was 200, your TTA was already quite high at that point. Maintaining that high TTA can\u0027t end well. \u003C/p\u003E\u003Cp\u003EFor my planes, the TTA pattern can be easily modeled with a simple formula, like \u0022maintain TTA of 14 or (apaopsis/1700) seconds, whichever is higher\u0022. That\u0027s nice and fine for a kOS machine, being able to look at /correct for a single parameter makes the script quite simple, but I don\u0027t know if it\u0027s all that useful for a human pilot.\u003C/p\u003E\u003Cp\u003EThe above formula is a bit simplistic, but usable. It also needs to be different for every plane, but seems to be entirely TWR-dependent. The above figures work (for me!) for a runway-TWR of 1.1; if TWR was 2, the starting value would be 20, the divisor 1000.\u003C/p\u003E\u003Cp\u003EAs said above: right now, I\u0027d be more interested in you flying as you always do, but keeping an eye on TTA and telling me what it does during your ascent. I\u0027m wondering whether this strong-and-simple relation is truly a generic thing, or only a property of my planes.\u003C/p\u003E\u003Cp\u003E\u0022And that\u0027s where you come in\u0022.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-07T16:10:33Z","Content":"\n\u003Cp\u003EAlright, here goes:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIf your plane meets the following conditions, You can run the script \u003C/strong\u003E\u003Cem\u003E\u003Cstrong\u003Eas is\u003C/strong\u003E\u003C/em\u003E\u003Cstrong\u003E and it should take you to orbit without wasting a lot of time or fuel:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E jets toggled on action group #1\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E rockets toggled on action group #2\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E all engines in one stage\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E controllable through Smart A.S.S.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E enough jet power to get to 2000m/s\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E runway TWR \u0026gt; 0.7 (less might still work... it should definitely be able to climb at 25m/s, though)\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf your design uses different action groups, you\u0027ll have to adapt the script accordingly.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ksp.schnobs.de/stuff/ssto.zip\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EDownload Here\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E(requires \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68089-0-25-kOS-Scriptable-Autopilot-System-v0-14-2-2014-10-08\u0022 rel=\u0022external nofollow\u0022\u003EkOS Autopilot\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EStaggered shutdown of several groups of jets is no problem. I haven\u0027t tried hybrid models that use basic jets as well as turbos, but don\u0027t see why they shouldn\u0027t work. The default flight plan is of the \u0022one size fits nobody\u0022 category: it gets the job done reasonably well for every plane I came up with, but that\u0027s it. If you want more than \u0022reasonably well\u0022, you\u0027ll have to modify the flightplan. Which isn\u0027t very difficult. \u003C/p\u003E\u003Cp\u003EJust to give you an idea of what a flight plan looks like, this is the default:\u003C/p\u003E\u003Cp\u003E(See the comments in the script \u0026amp; readme file for a detailed description of everything.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ewhen maxthrust \u0026gt; 0 then {        \u003Cbr\u003E     toggle ag2.\t// rocket off\t\u003Cbr\u003E     set mode_trig to \u0022climbing\u0022.\t\u003Cbr\u003Ewhen alt \u0026gt; 500 and tta \u0026gt; ttta then {\u003Cbr\u003E     set mode_trig to \u0022tta\u0022.\u003Cbr\u003E     set minp to 5.\u003Cbr\u003E     set tmin to 1.\u003Cbr\u003Ewhen v \u0026gt; 1900 then {\u003Cbr\u003E     set mode_trig to \u0022climbing\u0022.\u003Cbr\u003E     set fac to (2000-v)/(55000-alt).\u003Cbr\u003E     set const to v-fac*alt.\u003Cbr\u003E     lock vtgt to  round(max(2000,(alt*fac\u002Bconst))/vter,2).\u003Cbr\u003E     set t to 0.5.\u003Cbr\u003E     set tmin to 0.1.\u003Cbr\u003E     set maxp to 25.\u003Cbr\u003Ewhen flout \u0026gt;=1 then {\u003Cbr\u003E     toggle ag1. //jets off\u003Cbr\u003E     toggle ag2. //rocket on\u003Cbr\u003E     set mode_trig to \u0022tta\u0022.\u003Cbr\u003E     set maxp to 35.\u003Cbr\u003E     lock minp to round(min(maxp,((75000-apo)/2500))).\u003Cbr\u003E     lock tmin to round((40000/apo)^3,2).\u003Cbr\u003E     lock ttta to round(apo/800).\u003Cbr\u003E     set flout to 0.\u003Cbr\u003Ewhen obt:period \u0026gt; 28*60 then {\u003Cbr\u003E     set tmin to 1.\u003Cbr\u003E}}}}}}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe resulting flight path will look somewhat similar to this:\u003C/p\u003E\u003Cp\u003E(note the bumpiness around 32km -- a better flight plan would save time and fuel)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.schnobs.de/stuff/ssto.gif\u0022 alt=\u0022ssto.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EHave fun, and tell me how it works for you -- especially if it doesn\u0027t.\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-11-07T16:41:03Z","Content":"\n\u003Cp\u003EShivers.\u003C/p\u003E\u003Cp\u003EImplementing a hybrid control language was my first job out of college. I haven\u0027t touched that since 2000. And now it\u0027s popping up in the context of a game I play.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-12-02T20:55:59Z","Content":"\n\u003Cp\u003ELaie: do you get a lot of oscillation with the basic steering lock? i would think it would be poorly suited for an ssto. Have you ever used the raw controls?\u003C/p\u003E\u003Cp\u003EUpdate: You should build a landing script \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EUpdate2: good work on this, do you mind if i use it as a test script for kos? we are trying to build a suite of complicated scripts to test for regression.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-02T21:42:45Z\u0022 title=\u002212/02/2014 09:42  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 2, 2014\u003C/time\u003E by erendrake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TMS","CreatedById":57134,"CreatedDateTime":"2014-12-02T21:17:42Z","Content":"\n\u003Cp\u003EMy ascent plan: get above 30,000m ASAP. From there, ascend at sub-50m/s until your AP is over desired altitude.\u003C/p\u003E\u003Cp\u003EBoom. In orbit.\u003C/p\u003E\n"}]}