{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":157,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-20T17:53:15Z","Content":"\n\u003Cp\u003E@B787_300 Try with the dev version. It will not fix all the roll on start but it will fix some.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-20T18:09:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EEach time I had this problem (resulting most of the time in a nice looping) it was not MJ but the rocket design. All MJ did was make the problem more obvious because the transition from straight ascent to gravity turn can be quite step with the default 40% turn =\u0026gt; MJ turn a bit too hard, top heavy rocket do a loop. \u003Cp\u003EHaving FAR without my small extension make thing even worse since MJ think it can\u0027t turn the ship fast and it will push the control to the maximum. \u003C/p\u003E\u003Cp\u003ETry with a different turn shape %.\u003C/p\u003E\u003Cp\u003ENot saying that I am sure there is no bug, but I don\u0027t think there is one.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMJ definitely has issues when it comes to selecting the simplest path to a goal. At the least, in certain circumstances. Given a situation where it is already lined up such that a pitch will be sufficient to orient it 90 degrees to its long axis and then instructed to perform such a maneuver, it should not begin yawing and rolling as well. Or pitching and rolling when a yaw would suffice. I just watched that happen. If there\u0027s logic involved that makes it want to roll to some desired orientation then can\u0027t that wait until the requested orientation is done?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-20T18:15:46Z","Content":"\n\u003Cp\u003EI am aware of that, but it\u0027s not what make rocket go wild on ascent AFAIK, since the unwanted roll is related to large change of attitude.\u003C/p\u003E\n"},{"CreatedByName":"Damaske","CreatedById":60029,"CreatedDateTime":"2013-11-20T19:39:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Damaske\u0022 data-cite=\u0022Damaske\u0022\u003E\u003Cdiv\u003Esnip:. . . and have my rockets attempt to slow down from 1000\u002B M/s when trying to do a no parachute landing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust to clarify what i meant, I am sick of my rockets trying to slow themselves down from 1000m/s in the last 200meters before the ground. Would there be a way to program the auto decent to apply steady thrust from 1000m until targeted landing speed is reached around maybe 200meters and then settle down slowly afterwards? \u003C/p\u003E\u003Cp\u003EIts just i have rather large lander\u0027s and some large VTOL SSTO\u0027s that are crashing because Mechjeb is trying to slow them down in only the last 200meters from 1000m/s. I have even tried to slow em down myself by holding the throttle up and having just a little allowed thrust to happen but that\u0027s not enough.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-20T19:59:10Z","Content":"\n\u003Cp\u003ECan you post some picture of this lander ? In bright light and different angle please. And mod list please\u003C/p\u003E\u003Cp\u003EThe landing AP do that to lower the fuel use. How much it slow down is related to how much MJ think your lander can thrust. If you crash then MJ is overestimating your vessel thrust. \u003C/p\u003E\u003Cp\u003ESo something in your design must disrupt MJ calculation.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-20T20:43:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI am aware of that, but it\u0027s not what make rocket go wild on ascent AFAIK, since the unwanted roll is related to large change of attitude.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo roll was necessary. On manual, just holding down pitch was enough.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-20T21:00:57Z","Content":"\n\u003Cp\u003EIt seems I have a communication problem. I know MJ do a lot of unneeded roll. BUT it\u0027s not related to the \u0022rocket like to do loopings\u0022 bug.\u003C/p\u003E\n"},{"CreatedByName":"Damaske","CreatedById":60029,"CreatedDateTime":"2013-11-20T21:19:27Z","Content":"\n\u003Cp\u003EMy video card fried my power to the motherboard (i think), and the smaller four plug from the power to board has been melted some. I got it working once more for now. But i have been forced to remove the other card and go back to an ATI card that i have had troubles in the past with KSP. Not as smooth ect ect, But i might be forced into getting a new motherboard/psu/cpu/memory combo here as i do not think i can find a comparable board for the cpu i have. So please bear with me. \u003C/p\u003E\u003Cp\u003EThe craft i tried to land vertically I have several different engines on it, Two rockets and a Turbojet. Would the turbojet be causing it to think it has more thrust than it really does? And does MJ count engines that have been shutdown? Also Would there be a way to have a way to switch between it doing a fuel saving burn like it is now, or a longer burn as i have suggested?\u003C/p\u003E\u003Cp\u003EI understand why the change (if it was one) to the last second burn was done now.\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2013-11-20T21:21:53Z","Content":"\n\u003Cp\u003EI\u0027m fairly certain MJ assumes the turbojet gets fixed thrust at a given throttle. This is easily testable with a plane and using the \u0022current thrust\u0022 option. You\u0027ll notice, at low altitudes, MJ\u0027s thrust is way, way off the actual thrust you\u0027re getting.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-20T21:22:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EIt seems I have a communication problem. I know MJ do a lot of unneeded roll. BUT it\u0027s not related to the \u0022rocket like to do loopings\u0022 bug.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot even when that rolling combines with pitching / yawing to throw it off course? \u003C/p\u003E\u003Cp\u003EWhat do you think its response would be there if not to follow up with even more yawing and pitching to try to correct. Now it\u0027s not only pointing the wrong way but the roll it was trying to do also requires corrections. That\u0027s trouble enough in stock, let alone with FAR when you\u0027re climbing out of atmo. Fortunately I was out of atmo when it happened\u003C/p\u003E\u003Cp\u003EIt\u0027s not a communication issue btw, we clearly just don\u0027t agree on the contribution it has to the problem\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-20T21:26:57Z","Content":"\n\u003Cp\u003ETurbojet is the word \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s hard for MJ to know how much a Jetengine can thrust since they take some time to go to full thrust and their thrust change with the air speed. Just try a simple jetengine VTOL with the translatron, you ll understand how bad MJ is with them. There is a patch I need to finish merging that may help, but I am not really confident.\u003C/p\u003E\u003Cp\u003EShutdown engine should be ok (I\u0027ll need to check this one).\u003C/p\u003E\u003Cp\u003EFor now I can\u0027t change how it works easily. I\u0027ll see what I can do when I work again on the landing AP. For now I want to solve the rolling trouble.\u003C/p\u003E\u003Cp\u003E@Starwaster : I get your point, but even if the current rolling trouble contribute to that I don\u0027t think it\u0027s the main culprit. \u003C/p\u003E\u003Cp\u003EI am looking at the attitude code again and I found some problem with it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-20T21:30:17Z\u0022 title=\u002211/20/2013 09:30  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 20, 2013\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Damaske","CreatedById":60029,"CreatedDateTime":"2013-11-20T22:43:17Z","Content":"\n\u003Cp\u003EOk great to hear that might be what is making it go crazy. I\u0027ll have to convert over the lander i had planed, to use the smallest rocket engine for VTOL jets. And glad to hear that it might be a fix coming out here soon\u00C3\u00A2\u00E2\u20AC\u017E\u00C2\u00A2. and yes i understand about the rolling troubles as if you can\u0027t get a rocket up then you should not worry about landing it.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-21T00:46:08Z","Content":"\n\u003Cp\u003EI have just pushed dev #106 that may or may not improve the roll problem (I am tired of seeing vessel turn around). Please give some feedback. Thanks\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2013-11-21T01:03:10Z","Content":"\n\u003Cp\u003EGrabbing #106, will give er a spin....\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2013-11-21T05:54:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Damaske\u0022 data-cite=\u0022Damaske\u0022\u003E\u003Cdiv\u003EJust to clarify what i meant, I am sick of my rockets trying to slow themselves down from 1000m/s in the last 200meters before the ground. Would there be a way to program the auto decent to apply steady thrust from 1000m until targeted landing speed is reached around maybe 200meters and then settle down slowly afterwards? \u003Cp\u003EIts just i have rather large lander\u0027s and some large VTOL SSTO\u0027s that are crashing because Mechjeb is trying to slow them down in only the last 200meters from 1000m/s. I have even tried to slow em down myself by holding the throttle up and having just a little allowed thrust to happen but that\u0027s not enough.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHeh, you\u0027d like how it\u0027s flying my kethane landers at Duna. Slow burn almost all the way down, wasting a huge amount of fuel and taking a longer time to get down when I built them to be able to do a short burn to deorbit then a full throttle braking blast and a gentle touchdown. They never get going fast enough to heat up even a little. MJ 2.0.9 did that on my first Mun landing (which I did from 200KM orbit) and the lander almost didn\u0027t have enough fuel to make even a 10~15KM ascent to orbit.\u003C/p\u003E\u003Cp\u003EA choice between the two methods would be nice to have. Slow Burn or Fast and Blast. Test each of your landing ships in another sandbox game, placing them in orbit with hyperedit, to see which way is the most efficient for each lander. Enough fuel has to be burned with the engines available to 100% counter the vehicle\u0027s velocity by touchdown no matter how the descent is conducted, but there\u0027s no need to burn one drop extra.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EGrabbing #106, will give er a spin....\u003C/div\u003E\u003C/blockquote\u003E But you hope MechJeb doesn\u0027t give your rocket a spin.\u003Cp\u003EAnother option I\u0027d like to see in maneuver planner for going to another planet is one to go NOW instead of waiting for the most efficient time. Is it going for least time or least fuel? Whichever it is, I\u0027ll put together a rocket with enough fuel to make it there, leaving soon as it\u0027s in orbit and the fuel topped off.\u003C/p\u003E\u003Cp\u003EMy kethane landers at Duna have turned out to be terribly inefficient, making barely more fuel than they use. It\u0027s like sending a truck that burns 20 gallons of gas on the trip to bring back one gallon. Make it liters, that\u0027s even worse. I\u0027m filling a swimming pool with two Dixie cups. I need to get something better on its way right away, not half a Kerbin year from now.\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2013-11-21T07:02:14Z","Content":"\n\u003Cp\u003EYou realize you can\u0027t always leave for a planet right? If the planet will be on the other side of its orbit when you get there, you can\u0027t correct that without basically using 10\u0027s of thousands dV.\u003C/p\u003E\n"},{"CreatedByName":"Damaske","CreatedById":60029,"CreatedDateTime":"2013-11-21T08:31:38Z","Content":"\n\u003Cp\u003EDownloaded the newest dev model and thanks to the way it slows late it slammed a smaller ship into my LARGE fueling station that took approximately a week to build it is now broken up and scattered all over the place. This smaller ship is a Craft that has both a turbojet and rockets they are the Rockomax 48-7S\u0027es. This is the second time this has happened but the first time was due to (i think ) the craft running out of Oxidizer thus unable to slow down and slammed into the station. \u003C/p\u003E\u003Cp\u003EJust thought you would like to hear about that NJ MAY not be working with the engines that are shut off thinking that they are on and they are not. Something is happening that is messed up that is for sure.\u003C/p\u003E\n"},{"CreatedByName":"mikeydz","CreatedById":93894,"CreatedDateTime":"2013-11-21T09:49:05Z","Content":"\n\u003Cp\u003EGreetings. \u003C/p\u003E\u003Cp\u003EJust got KSP (SWEET!), and I decided to install MechJeb and check it out, but am having issues. Only other mod I\u0027ve installed is the Kethane mod.\u003C/p\u003E\u003Cp\u003ESo I installed MJ, and went into the VAB, and started building a new rocket, but to MJ tab on the side appeared. Looked around and found out about the AR202 part. Modified the parts file to put in in the first R\u0026amp;D spot, researched it, and was able to now access it. So I slapped the AR202 on my rocket, and now I have access to the MJ tab. Now my problem is when I go to the launchpad and open the tab, the only options I have available is Settings, Delta V, Orbit Info, Surface Info, and Vessel Info. None of the other options are listed (Smart A.S.S, the autopilots, ect). I must be missing something, but what, I don\u0027t know.\u003C/p\u003E\u003Cp\u003EThis is with KSP .22 and MJ 2.1.\u003C/p\u003E\u003Cp\u003EAny help appreciated.\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2013-11-21T10:06:53Z","Content":"\n\u003Cp\u003EI have problem with the landing guidance it wont fire the breaking burn hence slamming into the ground and the little green guys get turned to mush using version 102 if i go back to release works perfectly\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-21T10:30:07Z\u0022 title=\u002211/21/2013 10:30  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 21, 2013\u003C/time\u003E by Virtualgenius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Resender","CreatedById":18274,"CreatedDateTime":"2013-11-21T10:10:09Z","Content":"\n\u003Cp\u003EI\u0027m happy with the changes done to the sas in 0.22,been able to land on M\u00C3\u0192\u00C2\u00BCn \u0026amp; Minmus without using the landing pilot of mechjeb.\u003C/p\u003E\u003Cp\u003ESo I\u0027ve been using it more to plot \u0026amp; execute manouvers\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2013-11-21T12:11:44Z","Content":"\n\u003Cp\u003EMikeydz, autopilot unlocks as you progress in carrer. If you want it instantly play sandbox or mod the cfg file.\u003C/p\u003E\n"},{"CreatedByName":"houlihan","CreatedById":57533,"CreatedDateTime":"2013-11-21T17:15:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Virtualgenius\u0022 data-cite=\u0022Virtualgenius\u0022\u003E\u003Cdiv\u003EI have problem with the landing guidance it wont fire the breaking burn hence slamming into the ground and the little green guys get turned to mush using version 102 if i go back to release works perfectly\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve had the same issue with 102, especially using cbbp\u0027s Dragon capsule. Stock ships seem to work, but the deceleration burn never occurs during landing with this capsule - they \u0022coast\u0022 to an untimely demise. Grabbing 106 now to see if that fixes things and I\u0027ll let you know how that works out.\u003C/p\u003E\n"},{"CreatedByName":"houlihan","CreatedById":57533,"CreatedDateTime":"2013-11-21T18:53:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022houlihan\u0022 data-cite=\u0022houlihan\u0022\u003E\u003Cdiv\u003EGrabbing 106 now to see if that fixes things and I\u0027ll let you know how that works out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly I\u0027m having the same issue with 106. Coasting to untimely demise rather than coasting to deceleration burn.\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2013-11-21T18:56:59Z","Content":"\n\u003Cp\u003ETested 106 as well getting the same result rolled back to the official release problem is gone\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-21T20:41:48Z","Content":"\n\u003Cp\u003E106 testing:\u003C/p\u003E\u003Cp\u003E(done with MJ \u002B KWR)\u003C/p\u003E\u003Cp\u003EOccasionally opens throttle to full after executing a maneuver node.\u003C/p\u003E\u003Cp\u003Elandings: 2 out of 3 successful with stock Kerbal X. Failed attempt it turned 90 degrees (approx \u002BNormal) and executed a continuous burn Until it reached eject velocity out of Kerbin orbit. At this point for ****s and giggles I turned on infinite fuel mode to see if it would ever correct the error. Landing status indicated it was making a course correction. The DV of the course correction continued increasing until I got tired and hit F9 for landing attempt #3\u003C/p\u003E\u003Cp\u003EAll 3 attempts were KSC targeted landings.\u003C/p\u003E\u003Cp\u003EEdit: During landing, when orbit went hyperbolic, an error was generated by OrbitExtensions.NextTimeOfRadius(). The landing AP should trap errors like that and either abort the landing or correct the orbit. Although realistically, by that time it\u0027s probably too late and you\u0027re using F9 to get back to your quick save. This isn\u0027t really a 106 specific problem, not new at all but probably intermittent.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003EMechJeb module MechJebModuleLandingAutopilot threw an exception in Drive: System.ArgumentException: OrbitExtensions.NextTimeOfRadius: given radius of 603783.286865588 is never achieved: o.PeR = 603796.610583531 and o.ApR = 674048.814738914\u003C/p\u003E\u003Cp\u003E at MuMech.OrbitExtensions.NextTimeOfRadius (.Orbit o, Double UT, Double radius) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at MuMech.MechJebModuleLandingAutopilot.ComputeCourseCorrection (Boolean allowPrograde) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at MuMech.MechJebModuleLandingAutopilot.DriveCourseCorrections (.FlightCtrlState s) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at MuMech.MechJebModuleLandingAutopilot.Drive (.FlightCtrlState s) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at MuMech.MechJebCore.Drive (.FlightCtrlState s) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E[/code}\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-21T20:51:27Z\u0022 title=\u002211/21/2013 08:51  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 21, 2013\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"}]}