{"TopicId":196131,"ForumId":55,"TopicTitle":"Faster loading: cache the datastructures to disk in a blob","CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2020-08-06T04:13:43Z","PageNum":1,"Articles":[{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2020-08-06T04:13:43Z","Content":"\n\u003Cp\u003E\nCache the parsed results of all those very fluffy and very wordy text files in GameData and store the resulting data structures as a big blob.\u00A0 If any file are updated, then just parse as is the norm at startup now, otherwise just mmap that blob and go\n\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2020-08-14T02:02:32Z","Content":"\n\u003Cp\u003E\nthat is actually not the reason why KSP loads so slowly - and caching wouldn\u0027t do much to help, I think.\n\u003C/p\u003E\n\u003Cp\u003E\nthe real reason for the long loading times is that KSP has to load\u00A0\u003Cem\u003Eeverything\u00A0\u003C/em\u003Eup front - so even parts you have never used are parsed and loaded along with all their models, textures and whatnot when the game starts up.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve considered making a mod that replaces parts with a fast-loading surrogate of sorts and then replaces them with their full versions only when and if they are actually used.... It\u0027s theoretically possible to pull this off, but not being a rich man, I am unable to spare that much effort into such an endeavor.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis was actually something I made a point of avoiding when I made the part-loading logic for my own MotorWings project - It only loads parts when you pick them up for placement or load an airplane that uses them.\u00A0 It\u0027s startup time from desktop to hangar\u00A0is negligible because of this.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThus I can confidently say that caching those text files would alas, most probably not really help KSP load any much faster...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-14T02:03:41Z\u0022 title=\u002208/14/2020 02:03  AM\u0022 data-short=\u00223 yr\u0022\u003EAugust 14, 2020\u003C/time\u003E by Moach\u003C/strong\u003E\n\u003C/span\u003E\n"}]}