{"TopicId":110998,"ForumId":55,"TopicTitle":"How would DX12 effect Kerbal?","CreatedByName":"sam.johnson841","CreatedById":104846,"CreatedDateTime":"2015-05-27T10:23:18Z","PageNum":1,"Articles":[{"CreatedByName":"sam.johnson841","CreatedById":104846,"CreatedDateTime":"2015-05-27T10:23:18Z","Content":"\n\u003Cp\u003EAs unity 5 will support \u003Ca href=\u0022http://www.develop-online.net/news/unity-directx-12-support-only-logical/0202371\u0022 rel=\u0022external nofollow\u0022\u003EDirectX 12\u003C/a\u003E, I was wondering how you guys think DX12 could effect a CPU bound game like KSP. As far as I know, DX12 reduces strain on the CPU, perhaps helping with physics further, (even more parts!\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E) So, what do you think the likelihood of DX12 coming to KSP is, if at all. And how would it help the game?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003E - Sam\u003C/p\u003E\n"},{"CreatedByName":"Murph","CreatedById":90837,"CreatedDateTime":"2015-05-27T11:25:41Z","Content":"\n\u003Cp\u003EProbably not all that much, although every little bit does help. KSP isn\u0027t actually all that graphically intensive (other than the ridiculous oceans on default configs), so if you have the graphics options tuned downwards appropriately for your system, and have fixed the ocean performance by editing settings.cfg, then you\u0027re likely already mostly bottlenecked on physics and orbital maths. Hopefully Squad will fix the long standing ocean performance bug as part of the porting to U5.\u003C/p\u003E\u003Cp\u003EIf DX12 is a standard part of Unity 5, and doesn\u0027t require special support on the application end, it seems highly likely that it will be used if available. If it requires special support on the application end, then it\u0027s less likely in the short term, as 2/3s of KSP\u0027s platforms (OS X and Linux) use OpenGL, not DirectX.\u003C/p\u003E\n"},{"CreatedByName":"GeneralGuacamole","CreatedById":144627,"CreatedDateTime":"2015-05-27T21:27:24Z","Content":"\n\u003Cp\u003EDX12 Seems like a heaven for my potato.\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2015-05-28T01:42:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Murph\u0022 data-cite=\u0022Murph\u0022\u003E\u003Cdiv\u003Eas 2/3s of KSP\u0027s platforms (OS X and Linux) use OpenGL, not DirectX.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://docs.google.com/document/d/1jZU7bhYy4rumbuXTlYy7yNgS7Xfhs8doiwBQLnR0Lmo/edit\u0022 rel=\u0022external nofollow\u0022\u003EUnity 5.1 will update OpenGL\u003C/a\u003E support from v2.1 (not kidding, the \u003Ca href=\u0022https://en.wikipedia.org/wiki/OpenGL#OpenGL_2.1\u0022 rel=\u0022external nofollow\u0022\u003Efeature set\u003C/a\u003E from \u003Cem\u003E2006\u003C/em\u003E ) to v4.5, so there\u0027s some relief coming for MacOS/*nix users coming.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-05-28T01:56:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NoMrBond\u0022 data-cite=\u0022NoMrBond\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://docs.google.com/document/d/1jZU7bhYy4rumbuXTlYy7yNgS7Xfhs8doiwBQLnR0Lmo/edit\u0022 rel=\u0022external nofollow\u0022\u003EUnity 5.1 will update OpenGL\u003C/a\u003E support from v2.1 (not kidding, the \u003Ca href=\u0022https://en.wikipedia.org/wiki/OpenGL#OpenGL_2.1\u0022 rel=\u0022external nofollow\u0022\u003Efeature set\u003C/a\u003E from \u003Cem\u003E2006\u003C/em\u003E ) to v4.5, so there\u0027s some relief coming for MacOS/*nix users coming.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMac OS X still uses an older OpenGL, due to Mesa and other things not being maintained, so little to no boost there.\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2015-05-28T02:00:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Robotengineer\u0022 data-cite=\u0022Robotengineer\u0022\u003E\u003Cdiv\u003EMac OS X still uses an older OpenGL, due to Mesa and other things not being maintained, so little to no boost there.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell at least MacOS uses 3.3, I guess that would at least give it feature parity with DX9c/10? since the shaders etc are targeted at DX9 should at least help a bit, or at least make the shaders work the same\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-05-28T02:16:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NoMrBond\u0022 data-cite=\u0022NoMrBond\u0022\u003E\u003Cdiv\u003EWell at least MacOS uses 3.3, I guess that would at least give it feature parity with DX9c/10? since the shaders etc are targeted at DX9 should at least help a bit, or at least make the shaders work the same\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know the specifics, I just know that MacOS is behind enough that I couldn\u0027t run SpaceEngine with Wine due to OpenGL being outdated. Hopefully it will provide some relief for the poor fellows who can\u0027t install a dual boot partition of Linux.\u003C/p\u003E\n"},{"CreatedByName":"longbyte1","CreatedById":17521,"CreatedDateTime":"2015-05-28T02:22:14Z","Content":"\n\u003Cp\u003EI don\u0027t think KSP will be affected at all, except ambient lighting being a possibility.\u003C/p\u003E\u003Cp\u003EHowever I will be affected, as those two big companies try to drive me into having to buy some $250 GTX card (My card was pretty good for its time and still is, but it\u0027s OEM, so it never made it into the GTX line and thus unsupported by a majority of card lists \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E)\u003C/p\u003E\n"},{"CreatedByName":"TheShadow1138","CreatedById":53694,"CreatedDateTime":"2015-05-28T05:31:59Z","Content":"\n\u003Cp\u003EI doubt this is particularly relevant, but I thought I\u0027d share. As a Mac OS user I did some research and discovered that practically every Mac made since 2012 supports OpenGL 4.1 while running OS X 10.9 Mavericks, or 10.10 Yosemite. It\u0027s still behind the official OpenGL stable release, but at least it\u0027s not a full major version behind.\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-05-28T07:01:08Z","Content":"\n\u003Cp\u003EI would think that DirectX 12 will not help KSP\u0027s CPU bottleneck at all, except in very rare and extreme circumstances...\u003C/p\u003E\u003Cp\u003EFor starters, KSP isn\u0027t graphically intensive. The thing that DirectX so greatly improves is the number of draw calls, i.e. individual things to draw within a scene. I can\u0027t imagine KSP being very high in the draw call department to start with; in fact I\u0027d peg it at the low end. Planets are just a textured surface with nothing else on them beyond KSC and the rare easter egg; water is just a featureless textured surface too; the number of things visible in the sky is single-digit at any given time. All of this together probably takes less draw calls than a vessel, and the number of draw calls a vessel consumes is directly proportional to its part count. And that, as we all know, runs into a CPU bottleneck in the low hundreds. Draw calls meanwhile don\u0027t become a problem until the thousands.\u003C/p\u003E\u003Cp\u003ESecondly, KSP is not a singlethreaded game. Its physics engine is singlethreaded, and that\u0027s what\u0027s causing the bottleneck. If your CPU has at least two cores (and 99% of all CPUs in use today do), then even if the physics engine bogs down one core completely, the other core is still perfectly able to perform all the other tasks required to run the game, such as graphics overhead. So making that overhead smaller does in no way, shape or form affect the fact that the physics engine is bottlenecked by its single thread.\u003C/p\u003E\u003Cp\u003EI\u0027m not saying that DX12 won\u0027t do anything for KSP... maybe it does, who knows. Microsoft hasn\u0027t even fully finished up the specification yet. But whatever it will end up doing, alleviating CPU issues is not one of those things. The PhysX 3 upgrade coming with Unity 5 is going to help with that instead.\u003C/p\u003E\n"},{"CreatedByName":"etheoma","CreatedById":69258,"CreatedDateTime":"2015-11-11T06:11:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sam.johnson841\u0022 data-cite=\u0022sam.johnson841\u0022\u003E\u003Cdiv\u003EAs unity 5 will support \u003Ca href=\u0022http://www.develop-online.net/news/unity-directx-12-support-only-logical/0202371\u0022 rel=\u0022external nofollow\u0022\u003EDirectX 12\u003C/a\u003E, I was wondering how you guys think DX12 could effect a CPU bound game like KSP. As far as I know, DX12 reduces strain on the CPU, perhaps helping with physics further, (even more parts!\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E) So, what do you think the likelihood of DX12 coming to KSP is, if at all. And how would it help the game?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003Cp\u003E - Sam\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think people are forgetting the multi threaded nature of DX12, which if for example we were to have gotten multi threaded physics in DX11 even on a 4 core machine we would only likely see a 120 150% increase from the single threaded physics where as with DX12 we could see a 350% ish increase over the single threaded phyic\u0027s and on an 8 core machine a 600% increase and so on.\u003C/p\u003E\u003Cp\u003EDepending on how parallel the phyic\u0027s is but considering there porting it to the consoles I believe they will make it very parallel as the consoles have a very very very weak single core performance, that\u0027s even if they don\u0027t utilize asynchronous compute for the physics.\u003C/p\u003E\u003Cp\u003EAnd if they brought that to the PC we are not just talking about a 350% increase in physic\u0027s performance for example the 6600k has ~240GLOPS of performance where as a 270X is 2560 GFLOPS, and yes I know GFLOPS don\u0027t directly translate to performance but given the right workloads it can-ish.\u003C/p\u003E\u003Cp\u003ESo yeah DX12/Unity 5 has the possibility to increase performance significantly, The asynchronous compute obviously wont be coming in 1.1 but maybe after the console version is finished. Because the only way I can see the console version coming anywhere close to the PC version is if asynchronous compute is used as the CPU in even the Xbone which has the stronger CPU is under half as strong as a midrange CPU of today 4690k 6600k FX8350 etc.\u003C/p\u003E\u003Cp\u003ESo yeah the console version as well as giving us multi threaded physics and stable 64 bit it may also give us a async compute and people were complaining about the console port being bad for the PC version.\u003C/p\u003E\u003Cp\u003EAnd yes the only reason squad was able or was willing to update KSP to unity 5 however you want to look at it was because they were porting it to the consoles, I will say this again here, I don\u0027t blame Squad for waiting until they were ready to port to the consoles to update to unity 5 as they can\u0027t work for free and KSP is basically already at saturation in the PC market so yeah obviously they need to be paid for the extra work.\u003C/p\u003E\u003Cp\u003Ealthough its no where near certain whether they could port the physics to be able to be done with Async compute as I would assume it would be a double precision task based on X86 which would mean it would almost certainly use a butt ton of instructions a GPU just simply can\u0027t process, and if it is consumer grade GPU\u0027s don\u0027t have much double precision floating point performance at all never mind the instruction set being completely incompatible.\u003C/p\u003E\u003Cp\u003EIt would mean doing the physic\u0027s from the ground up again.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-11T06:51:49Z\u0022 title=\u002211/11/2015 06:51  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 11, 2015\u003C/time\u003E by etheoma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"322997am","CreatedById":146422,"CreatedDateTime":"2015-11-11T15:22:43Z","Content":"\n\u003Cp\u003EIf they switch to better OpenGl and not directX12 then probably 90% of the posts will be waa waa I hate this game waa waa I have windows and not OS X waa waa. So probably that will happen simultaneously. And I personally despise playing this game on OS X or Linux because I love my windows and I\u0027m not switching. I\u0027ll be very irritated if this game gets a performance update for some os and not others. And also very little Ksp players use Linux and more use Windows than OS X probably we\u0027ll have both.\u003C/p\u003E\n"},{"CreatedByName":"etheoma","CreatedById":69258,"CreatedDateTime":"2015-11-12T05:02:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022322997am\u0022 data-cite=\u0022322997am\u0022\u003E\u003Cdiv\u003EIf they switch to better OpenGl and not directX12 then probably 90% of the posts will be waa waa I hate this game waa waa I have windows and not OS X waa waa. So probably that will happen simultaneously. And I personally despise playing this game on OS X or Linux because I love my windows and I\u0027m not switching. I\u0027ll be very irritated if this game gets a performance update for some os and not others. And also very little Ksp players use Linux and more use Windows than OS X probably we\u0027ll have both.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry bro DX12 is better than OpenGL end of, Vulkan would be a good alternative but OpenGL isn\u0027t even really an option. But at the moment Unity 5 doesn\u0027t support Vulkan but probably it will when Vulkan is released.\u003C/p\u003E\n"},{"CreatedByName":"Murph","CreatedById":90837,"CreatedDateTime":"2015-11-13T18:38:03Z","Content":"\n\u003Cp\u003EThis whole OpenGL vs. DirectX thing is entirely moot and the above responses really make little sense. Unity provides both of them (it has to, as it is multi-platform), and it is Unity that controls if/when either of them are updated to a newer version. Squad\u0027s only real say in it is when they update to a newer Unity version, and the versions of graphics code that ship with the version of Unity they have chosen.\u003C/p\u003E\u003Cp\u003EAs for the magic massive performance improvement theorised above, that\u0027s quite unlikely. Updated OpenGL and DX support will likely provide some improvement, but KSP simply does not push the graphics hard to make the massive improvements theorised likely. KSP performance is mostly limited by physics and simulation computation, not graphics, so updated graphics libraries and drivers are far less likely to deliver a big impact.\u003C/p\u003E\n"}]}