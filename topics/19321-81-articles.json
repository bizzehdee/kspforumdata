{"TopicId":19321,"ForumId":34,"TopicTitle":"[1.3.1] Ferram Aerospace Research: v0.15.9.1 \u0026quot;Liepmann\u0026quot; 4/2/18","CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2012-09-14T23:22:36Z","PageNum":81,"Articles":[{"CreatedByName":"Sokar408","CreatedById":75557,"CreatedDateTime":"2013-11-18T11:42:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerbMav\u0022 data-cite=\u0022KerbMav\u0022\u003E\u003Cdiv\u003EIt does not safe its VAB location, but its inflight one - for me at least.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat seems to reset aswell though not all the times. Isn\u0027t there a file somewhere, where I can set the default location?\u003C/p\u003E\n"},{"CreatedByName":"Wahgineer","CreatedById":59292,"CreatedDateTime":"2013-11-18T15:56:09Z","Content":"\n\u003Cp\u003EUhh... \u003C/p\u003E\u003Cp\u003ESo from what I hear, this plugin should allow me to look at a plane and say: \u0022since it looks a lot like a real plane, it should at least fly like one.\u0022. What I\u0027m trying to say is that if I build an airplane, the more it looks like a real plane, the better it flies; where as with regular KSP aerodynamics, the more it looks like a real plane, the worse it flies. Is this true?\u003C/p\u003E\u003Cp\u003EAlso, would the plugin allow me to build a capsule with a slightly offset CoM so that when I tip it during re-entry, the capsule generates lift?\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-11-18T16:40:56Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Sokar408 \u0026amp; KerbMav: \u003C/strong\u003EGet v0.10. The Editor GUI remembering its location was a feature added in v0.9.7, which was specifically complained about because it allowed people to lose the minimize button behind the craft name field.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@awsumindyman: \u003C/strong\u003EBoth of those are correct. The same will also apply to rockets, where building a gigantic pancake of boosters will fly worse with FAR installed than a tall, slender rocket.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-18T22:15:20Z","Content":"\n\u003Cp\u003EFor those interested I released the first part of the FAR / MJ2 compatibility patch \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/12384-PART-0-22-Anatid-Robotics-MuMech-MechJeb-Autopilot-v2-1?p=788578\u0026amp;viewfull=1#post788578\u0022 rel=\u0022external nofollow\u0022\u003ERead this post\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"rpayne88","CreatedById":58336,"CreatedDateTime":"2013-11-18T22:46:33Z","Content":"\n\u003Cp\u003EHow can I make FAR recognize KW and NP fairings? The parts under them are shielded, although FAR gives the line \u0022is shielded= false.\u0022\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-11-18T23:46:50Z","Content":"\n\u003Cp\u003EIt should automatically detect that the parts are shielded unless you have changed the \u0022title\u0022 field of the fairings so that \u0022payload fairing\u0022 is not in the name. Could you show a picture of the problem craft so that I can figure out what\u0027s going on? Are you using the most recent version of FAR?\u003C/p\u003E\n"},{"CreatedByName":"a.g.","CreatedById":59470,"CreatedDateTime":"2013-11-19T00:33:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EFor those interested I released the first part of the FAR / MJ2 compatibility patch \u003Cp\u003ECode: \u003Ca href=\u0022https://github.com/sarbian/MechJebFARExt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/sarbian/MechJebFARExt\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour code will affect the stall state of the control surface, and the interaction coefficients used for applying actual forces to the surface and the wing it is attached to. Until you do something with ClIncrementFromRear and stall, you cannot call any of that stuff in flight. Also, through that very change in ClIncrementFromRear on the wing, the effect of deflecting the surface is amplified to an extent dependent on the size difference.\u003C/p\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-11-19T03:08:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EFor those interested I released the first part of the FAR / MJ2 compatibility patch \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/12384-PART-0-22-Anatid-Robotics-MuMech-MechJeb-Autopilot-v2-1?p=788578\u0026amp;viewfull=1#post788578\u0022 rel=\u0022external nofollow\u0022\u003ERead this post\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you so much!\u003C/p\u003E\u003Cp\u003EAs a mechjeb dependant(please, don\u0027t start any debate on this) it wi really help me!\u003C/p\u003E\u003Cp\u003EAs soon as I can,I will dowoad this mod.\u003C/p\u003E\u003Cp\u003EPs: this plugin is a lot more complex that I was expecting(more than 8000 lines fo codes)!\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-19T03:19:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022a.g.\u0022 data-cite=\u0022a.g.\u0022\u003E\u003Cdiv\u003EYour code will affect the stall state of the control surface, and the interaction coefficients used for applying actual forces to the surface and the wing it is attached to. Until you do something with ClIncrementFromRear and stall, you cannot call any of that stuff in flight. Also, through that very change in ClIncrementFromRear on the wing, the effect of deflecting the surface is amplified to an extent dependent on the size difference.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell maybe, maybe not. But again you could share the magic patch that you said you have.\u003C/p\u003E\n"},{"CreatedByName":"Frederf","CreatedById":3844,"CreatedDateTime":"2013-11-19T07:00:20Z","Content":"\n\u003Cp\u003ESince FAR can adjust which axes aero control surfaces are assigned to (realtime?) is it possible to have a \u0022disable aero surfaces\u0022 button for FAR so they don\u0027t flap around needlessly in space?\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-11-19T07:03:47Z","Content":"\n\u003Cp\u003EFAR can only assign control surfaces to specific axes in the editor; it can\u0027t do it in flight, at least not right now. I could add a \u0022disable surfaces\u0022 button for each control surface, and make them drain electric charge when the deflect to justify doing that.\u003C/p\u003E\n"},{"CreatedByName":"a.g.","CreatedById":59470,"CreatedDateTime":"2013-11-19T07:10:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EWell maybe, maybe not. But again you could share the magic patch that you said you have.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI said (or meant) that I was doing some patches to fix stuff in editor like CoL and graphs, which was broken in part due to not handling these specific stateful interactions properly, and thus I know what I\u0027m talking about here. Most of the changes are already in v0.10. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EFAR can only assign control surfaces to specific axes in the editor; it can\u0027t do it in flight, at least not right now. I could add a \u0022disable surfaces\u0022 button for each control surface, and make them drain electric charge when the deflect to justify doing that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo me it seems all around simpler if the pitch/yaw/roll surfaces just returned to neutral when atmospheric density dropped to zero and remained there. After all, the whole point is what are they moving for if there is no air. Flaps and spoilers are separately controllable, so they should follow these commands as usual.\u003C/p\u003E\n"},{"CreatedByName":"Sokar408","CreatedById":75557,"CreatedDateTime":"2013-11-19T10:06:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E@Sokar408 \u0026amp; KerbMav: \u003C/strong\u003EGet v0.10. The Editor GUI remembering its location was a feature added in v0.9.7, which was specifically complained about because it allowed people to lose the minimize button behind the craft name field.\u003Cp\u003E\u003Cstrong\u003E@awsumindyman: \u003C/strong\u003EBoth of those are correct. The same will also apply to rockets, where building a gigantic pancake of boosters will fly worse with FAR installed than a tall, slender rocket.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI got 0.10 though, so I assume you mean I should get 0.10 to have it NOT remember its location. I specifically want it to remember. Is there a setting somewhere where I can able it?\u003C/p\u003E\n"},{"CreatedByName":"Tharios","CreatedById":84309,"CreatedDateTime":"2013-11-19T11:15:49Z","Content":"\n\u003Cp\u003EFerram, this isn\u0027t directly related to your mod, though this particular issue does get worse when I use it. Which is unfortunate, because up until this problem began, I was really enjoying your mod, along with B9 and Interstellar.\u003C/p\u003E\u003Cp\u003EAll craft, planes and rockets both, no matter how I arrange the wings or control surfaces (or how many I use or don\u0027t use), roll clockwise, slowly...without ASAS on.\u003C/p\u003E\u003Cp\u003EThe instant I turn it on, it starts to wiggle-roll back and forth, and still slowly rolls clockwise. It\u0027s always clockwise.\u003C/p\u003E\u003Cp\u003EEven the unmodded KSP (completely fresh install, no files or folders preserved at all) does this.\u003C/p\u003E\u003Cp\u003EIt\u0027s pretty much making the game unplayable, because any attempt to correct in-flight causes the craft to lose control...ASAS or not. \u0022Soft\u0022 controls do not seem to make a difference at all.\u003C/p\u003E\u003Cp\u003EAny thoughts on the problem?\u003C/p\u003E\n"},{"CreatedByName":"Snjo","CreatedById":57198,"CreatedDateTime":"2013-11-19T11:21:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tharios\u0022 data-cite=\u0022Tharios\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAll craft, planes and rockets both, no matter how I arrange the wings or control surfaces (or how many I use or don\u0027t use), roll clockwise, slowly...without ASAS on.\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EIt\u0027s pretty much making the game unplayable, because any attempt to correct in-flight causes the craft to lose control...ASAS or not. \u0022Soft\u0022 controls do not seem to make a difference at all.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirespitter has a trim tool you can throw on your plane. It allows for super fine control over trim, with presets. Set up a -0.1 roll trim for instance, and keep flying straight.\u003C/p\u003E\u003Cp\u003EStock roll and roll trim will always be super crazy because of a bug in the range of input that is actually used in roll. Only the first 20% or so is used.\u003C/p\u003E\u003Cp\u003ECan\u0027t say I\u0027ve noticed that problem as consistently as you say though.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-19T12:21:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022a.g.\u0022 data-cite=\u0022a.g.\u0022\u003E\u003Cdiv\u003EI said (or meant) that I was doing some patches to fix stuff in editor like CoL and graphs, which was broken in part due to not handling these specific stateful interactions properly, and thus I know what I\u0027m talking about here. Most of the changes are already in v0.10. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry, I was a bit grumpy when I replied. \u003C/p\u003E\u003Cp\u003EI\u0027ll check again but the value change should not impact the flight model since I change them in onUpdate and they are rebuild in onFixedUpdate. If not then I\u0027ll see what I need to save and restore when running the patch.\u003C/p\u003E\n"},{"CreatedByName":"a.g.","CreatedById":59470,"CreatedDateTime":"2013-11-19T12:34:22Z","Content":"\n\u003Cp\u003EThese values are not \u0027rebuilt\u0027, they carry on between frames and it is critical for correct operation. The stall value is stateful by definition in order to provide the hysteresis property of stall, and the increment variable relies on the adjacent frames being pretty similar to each other to avoid the issue of the undefined order in which the parts are processed. This means however that you must run at least two passes of computation in order to compute the effect of wing interaction correctly (see CoL code), and you also must call computations exactly once per part every pass or you\u0027d effectively apply the interaction effect multiple times. The original code for computing a sample for the graphs in the editor was basically something like:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Efor all parts:\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003Edo 3 times:\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E \u003C/div\u003E\u003Cdiv\u003E\u003Cdiv\u003Ecompute stuff\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich produced completely incorrect (as in completely different from in-flight behavior) Cm graphs when flaps were deployed. All that was needed to fix that particular issue was to change it to:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Edo 3 times:\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003Efor all parts:\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E \u003C/div\u003E\u003Cdiv\u003E\u003Cdiv\u003Ecompute stuff\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"LORDPrometheus","CreatedById":61414,"CreatedDateTime":"2013-11-19T14:29:31Z","Content":"\n\u003Cp\u003EI\u0027ve noticed a bizarre incidence wherein the drag coefficient of parts decides to change mid flight causing immediate rocket disassembly\u003C/p\u003E\u003Cp\u003E* I\u0027ve solved the issue: my modified procedural fairings would cause parts shielded by them to multiply their drag model by a factor of something like a gazillion and basically make the rocket run vertically through them before physics says that\u0027s not right and detonates everything. This kept happening at around 13000m.\u003C/p\u003E\u003Cp\u003EA mod update and an edit or two later and I\u0027m good\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-19T18:08:30Z\u0022 title=\u002211/19/2013 06:08  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 19, 2013\u003C/time\u003E by LORDPrometheus\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"UberFuber","CreatedById":90736,"CreatedDateTime":"2013-11-19T16:31:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LORDPrometheus\u0022 data-cite=\u0022LORDPrometheus\u0022\u003E\u003Cdiv\u003EI\u0027ve noticed a bizarre incidence wherein the drag coefficient of parts decides to change mid flight causing immediate rocket disassembly\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhere do you read those drag coefficients?\u003C/p\u003E\u003Cp\u003EAlso, are you sure you have the right cause and effect? Rocket disassembly could have happened first, causing a change in drag.\u003C/p\u003E\n"},{"CreatedByName":"Dante80","CreatedById":91509,"CreatedDateTime":"2013-11-19T17:07:39Z","Content":"\n\u003Cp\u003EI installed this, and I\u0027m finding getting a certain payload to orbit much easier. \u003C/p\u003E\u003Cp\u003EA question. In stock KSP you needed about 4500dV for a good LKO orbit. How much do you need with FAR?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-19T18:11:31Z","Content":"\n\u003Cp\u003EI\u0027ve done it in 3100dV expended. If you\u0027re just going off vacuum dV, and/or you don\u0027t fly insanely optimized trajetories, assume nominal vac dV to orbit of 3500.\u003C/p\u003E\u003Cp\u003EUnless your rocket is unaerodynamic, of course.\u003C/p\u003E\n"},{"CreatedByName":"Traches","CreatedById":79229,"CreatedDateTime":"2013-11-19T18:12:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dante80\u0022 data-cite=\u0022Dante80\u0022\u003E\u003Cdiv\u003EI installed this, and I\u0027m finding getting a certain payload to orbit much easier. \u003Cp\u003EA question. In stock KSP you needed about 4500dV for a good LKO orbit. How much do you need with FAR?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you fly a good profile with a streamlined rocket, less than 3000 m/s. For planning purposes, I usually give myself 3500 m/s.\u003C/p\u003E\n"},{"CreatedByName":"Dante80","CreatedById":91509,"CreatedDateTime":"2013-11-19T18:40:20Z","Content":"\n\u003Cp\u003EThanks, figured as much. Time to make smaller/slender rockets..C:\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-11-19T19:31:54Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Sokar408: \u003C/strong\u003EThe editor GUI will remember its position in v0.10 \u003Cem\u003Eunless\u003C/em\u003E you\u0027re trying to shift it too high off of the screen where the minimize button will be hidden behind stuff. If you want to manually set it, go into the config.xml in the FerramAerospaceResearch/Plugins/PluginData folder and mess with it there.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Tharios: \u003C/strong\u003EIt\u0027s an issue with the way joints are set up; they don\u0027t have consistent strengths for some reason. Use more struts and that should minimize the issue. However, if small attempts at roll control are causing your plane to lose control then either it is only marginally stable in yaw (add more vertical tail) or you have too many roll control surfaces.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-11-19T22:01:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022a.g.\u0022 data-cite=\u0022a.g.\u0022\u003E\u003Cdiv\u003EUntil you do something with ClIncrementFromRear and stall, you cannot call any of that stuff in flight. Also, through that very change in ClIncrementFromRear on the wing, the effect of deflecting the surface is amplified to an extent dependent on the size difference.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk I made a new version that save the value of stall, cl, cd, ClIncrementFromRear, PartInFrontOf.ClIncrementFromRear and restore them after each of my calls. It should be OK now, but I can\u0027t go thru all FAR code to check for now. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/sarbian/MechJebFARExt/commit/f526058043f7eddf73c24b5648d08adebf5ec939\u0022 rel=\u0022external nofollow\u0022\u003ECommit 1\u003C/a\u003E \u003Ca href=\u0022https://github.com/sarbian/MechJebFARExt/commit/0edb849ad5603da5d89fa6a0bf01c4d2a5e9a36d\u0022 rel=\u0022external nofollow\u0022\u003ECommit 2\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELink is the same.\u003C/p\u003E\n"}]}