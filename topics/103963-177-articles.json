{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":177,"Articles":[{"CreatedByName":"oniontrain","CreatedById":2465,"CreatedDateTime":"2016-05-07T14:04:14Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, RealGecko said:\n\u003E \n\u003E \n\u003E I\u0027ve installed scatterer and found an interesting issue: Kerbin atmosphere lit by Sun was visible through Mun surface.\n\u003E \n\nDid you try rebuilding oceans? That usually fixes things like this for me.\n\nAs an aside, is there a keyboard shortcut to rebuild oceans instead of having to go through the alt-f10 menu every time?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-05-07T14:27:56Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, oniontrain said:\n\u003E \n\u003E \n\u003E As an aside, is there a keyboard shortcut to rebuild oceans instead of having to go through the alt-f10 menu every time?\n\u003E \n\nI\u0027m fixing the issue right now so you won\u0027t have to rebuild the ocean every 5 minutes.\n\nEdited: I\u0027m uploading a new version. Directx 11 is fixed, the ocean issues requiring a rebuild are fixed and the lends flare in OpenGL is fixed.\n\n[@Proot](https://forum.kerbalspaceprogram.com/index.php?/profile/98932-proot/) I added a ghost image and doubled the number of ghost instances per image, I\u0027ve also made the sun flare fade when zooming on the sun and added the \u0022PQS main - extras\u0022 shader to the shaders with fixed render tags. Let me know if something doesn\u0027t work.\n\n**Edited \u003Ctime datetime=\u00222016-05-07T15:55:54Z\u0022 title=\u002205/07/2016 03:55  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 7, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"RealGecko","CreatedById":162682,"CreatedDateTime":"2016-05-07T16:05:48Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Someone else reported this but I couldn\u0027t reproduce it, unless you have some errors in the log or you can come up with reliable reproduction steps, I can\u0027t do anything at the moment.\n\u003E \n\nCrap, I overwrote my quicksave I made before starting this landing. If I encounter the issue once more I\u0027ll make a quicksave and post it here ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"XxhafizzaxX","CreatedById":163734,"CreatedDateTime":"2016-05-07T16:13:40Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Pics?\n\u003E \n\n[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) See video below.\n\n[noparse]\n\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/DnceNbDQPZ8?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\n[/noparse]"},{"CreatedByName":"Leandro Basi","CreatedById":160634,"CreatedDateTime":"2016-05-07T17:19:41Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E I\u0027m fixing the issue right now so you won\u0027t have to rebuild the ocean every 5 minutes.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edited: I\u0027m uploading a new version. Directx 11 is fixed, the ocean issues requiring a rebuild are fixed and the lends flare in OpenGL is fixed.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [@Proot](https://forum.kerbalspaceprogram.com/index.php?/profile/98932-proot/) I added a ghost image and doubled the number of ghost instances per image, I\u0027ve also made the sun flare fade when zooming on the sun and added the \u0022PQS main - extras\u0022 shader to the shaders with fixed render tags. Let me know if something doesn\u0027t work.\n\u003E \n\nThanks! Dx11 is loading, but i have strange issues with atmosphere and pink squares on Sky. When disable alternative dx11 shaders the game crashs and dont load anymore until remove -force-d3d11. I go make any others tests, if dont solved i post logs and pics."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-05-07T18:05:07Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, XxhafizzaxX said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) See video below.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [noparse]\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [/noparse]\n\u003E \n\nI honestly have no idea what this is but it doesn\u0027t seem like a big issue.\n\n\u003E \n\u003E \n\u003E 42 minutes ago, Leandro Basi said:\n\u003E \n\u003E \n\u003E Thanks! Dx11 is loading, but i have strange issues with atmosphere and pink squares on Sky. When disable alternative dx11 shaders the game crashs and dont load anymore until remove -force-d3d11. I go make any others tests, if dont solved i post logs and pics.\n\u003E \n\nYeah, it\u0027s more of a work-around really, any shaders I compile with unity 5 for dx11 cause the game to crash, I included the unity 4 dx11 shaders, which seem to work well in my case, but I expect lots of people will have problems, until I find a better way."},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2016-05-07T18:17:30Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) , great update! All seems to works fine for me under Dx9, even the terrain shadows. But something seems wrong with the new 3\u00BA ghost: I\u0027ve created a new texture for it, but it\u0027s using the 2\u00BA ghost texture always, and does dissapear the first four instances of the 2\u00BA ghost texture. ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-05-07T18:25:33Z","Content":"\u003E \n\u003E \n\u003E 7 minutes ago, Proot said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) , great update! All seems to works fine for me under Dx9, even the terrain shadows. But something seems wrong with the new 3\u00BA ghost: I\u0027ve created a new texture for it, but it\u0027s using the 2\u00BA ghost texture always, and does dissapear the first four instances of the 2\u00BA ghost texture. ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)\n\u003E \n\nFor the 3rd ghost using the 2nd ghost\u0027s image, I just realized I made a typo. I\u0027ll fix that right up. what\u0027s disappearing though? The first 4 instances of ghost 2?"},{"CreatedByName":"Blacks","CreatedById":145137,"CreatedDateTime":"2016-05-07T18:28:59Z","Content":"Quick Test:\n\nD:\\Games\\KSP112\\KSP\\_x64.exe -force-d3d11 -popupwindow  \n\nScatterer-0.0245  \n\nLast Eve release stock one no other visual add) that was release 4 day agow\n\nNoo crash yet, all look fine, there are minor glich but it work, special when it is tabing between window  \n\nWatch out GPU memory it will be use ~70/80% \u003E in my case 2G ram = 1.6 G on runway \u0026 1.7-1.8 G on VAB, SPH, but for get a better result it will require to be done more controlled test ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n**Edited \u003Ctime datetime=\u00222016-05-07T18:38:42Z\u0022 title=\u002205/07/2016 06:38  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 7, 2016\u003C/time\u003E by Blacks**"},{"CreatedByName":"kerbalresearch","CreatedById":163501,"CreatedDateTime":"2016-05-07T18:53:59Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E You mean like this? [http://forum.kerbalspaceprogram.com/index.php?/topic/103963-wip11-scatterer-atmospheric-scattering-v00244-17042016-11-compatible-faster-loading/\u0026do=findComment\u0026comment=2503840](https://forum.kerbalspaceprogram.com/index.php?/topic/103963-wip11-scatterer-atmospheric-scattering-v00244-17042016-11-compatible-faster-loading/\u0026do=findComment\u0026comment=2503840)\n\u003E \n\nAwesome, im looking forward to that. Is each sunset and sunrise going to be the same? Or will they be slightly procedural, sometimes more red, sometimes more yellow. I dont know what causes it but in real life you rarely see two identical sunsets/sunrises."},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2016-05-07T19:07:02Z","Content":"\u003E \n\u003E \n\u003E 37 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E For the 3rd ghost using the 2nd ghost\u0027s image, I just realized I made a typo. I\u0027ll fix that right up. what\u0027s disappearing though? The first 4 instances of ghost 2?\n\u003E \n\nYup, the 3rd ghost appears with the 2nd ghost texture, and the first 4 instances of 2nd ghost dissapears (despite that the secound 4 instances of 2nd ghost seems to be working fine and with the correct texture)."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-05-07T19:13:07Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, Proot said:\n\u003E \n\u003E \n\u003E Yup, the 3rd ghost appears with the 2nd ghost texture, and the first 4 instances of 2nd ghost dissapears (despite that the secound 4 instances of 2nd ghost seems to be working fine and with the correct texture).\n\u003E \n\nFor the first issue, this should do it: [https://mega.nz/#!OYhSyZRR!S5PN_oN1iZ7ea4bcMDrbQfEYABHoqpFTXMqP5J6zoVY](https://mega.nz/#!OYhSyZRR!S5PN_oN1iZ7ea4bcMDrbQfEYABHoqpFTXMqP5J6zoVY)\n\nFor the second issue, can you confirm it also happens in dx11 and OpenGL?\n\n\u003E \n\u003E \n\u003E 17 minutes ago, kerbalresearch said:\n\u003E \n\u003E \n\u003E Awesome, im looking forward to that. Is each sunset and sunrise going to be the same? Or will they be slightly procedural, sometimes more red, sometimes more yellow. I dont know what causes it but in real life you rarely see two identical sunsets/sunrises.\n\u003E \n\nI don\u0027t intend to implement anything like this at the moment."},{"CreatedByName":"kerbalresearch","CreatedById":163501,"CreatedDateTime":"2016-05-07T19:18:52Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, blackrack said:\n\u003E \n\u003E \n\u003E I don\u0027t intend to implement anything like this at the moment.\n\u003E \n\nThats totally fine, ill be happy with it.\n\nWill there be any way to customize it? And will it exist on other atmospheric planets? Sorry for all the questions."},{"CreatedByName":"Thomassino","CreatedById":137899,"CreatedDateTime":"2016-05-07T19:53:51Z","Content":"\u0022Doubled number of sun flare ghost instance slots and added a ghost texture slot\u0022\n\nI love you [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2016-05-07T20:27:06Z","Content":"Anybody has problems with CKAN updating Scatterer? I have this error message, whether I choose scatterer-sunflare or astroniki:\n\nToo many mods provide Scatterer-sunflare:  \n\nScatterer-sunflare 2:v0.0245  \n\n\\* AstronikiSunflareforScatterer 1.0"},{"CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2016-05-07T21:11:25Z","Content":"\u003E \n\u003E \n\u003E 59 minutes ago, garwel said:\n\u003E \n\u003E \n\u003E Anybody has problems with CKAN updating Scatterer? I have this error message, whether I choose scatterer-sunflare or astroniki:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Too many mods provide Scatterer-sunflare:  \n\u003E \n\u003E Scatterer-sunflare 2:v0.0245  \n\u003E \n\u003E \\* AstronikiSunflareforScatterer 1.0\n\u003E \n\n Yeah I\u0027m getting that one too. Wanted to try out Astroniki\u0027s because I thought the sunflare was a bit to strong anyway. But now it seems I can\u0027t install either.\n\n**Edited \u003Ctime datetime=\u00222016-05-07T21:26:14Z\u0022 title=\u002205/07/2016 09:26  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 7, 2016\u003C/time\u003E by Tricky14**"},{"CreatedByName":"Sheppard","CreatedById":93282,"CreatedDateTime":"2016-05-07T22:22:34Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, garwel said:\n\u003E \n\u003E \n\u003E Anybody has problems with CKAN updating Scatterer? I have this error message, whether I choose scatterer-sunflare or astroniki:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Too many mods provide Scatterer-sunflare:  \n\u003E \n\u003E Scatterer-sunflare 2:v0.0245  \n\u003E \n\u003E \\* AstronikiSunflareforScatterer 1.0\n\u003E \n\nSame problem here. Astroniki Sun flare does not work either."},{"CreatedByName":"PortableGoogle","CreatedById":151955,"CreatedDateTime":"2016-05-07T22:40:41Z","Content":"\u003E \n\u003E \n\u003E 17 minutes ago, Sheppard said:\n\u003E \n\u003E \n\u003E Same problem here. Astroniki Sun flare does not work either.\n\u003E \n\nprobably need to bring it up with the ckan people"},{"CreatedByName":"Steveo","CreatedById":145109,"CreatedDateTime":"2016-05-07T23:18:04Z","Content":"I had same issue with those mods and a few others today, just remove the mod and then reinstall the new one. Mine worked fine after doing that using CKAN also. Hope this helps"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2016-05-07T23:29:28Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E For the first issue, this should do it: [https://mega.nz/#!OYhSyZRR!S5PN_oN1iZ7ea4bcMDrbQfEYABHoqpFTXMqP5J6zoVY](https://mega.nz/#!OYhSyZRR!S5PN_oN1iZ7ea4bcMDrbQfEYABHoqpFTXMqP5J6zoVY)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E For the second issue, can you confirm it also happens in dx11 and OpenGL?\n\u003E \n\nFirst issue solved, many thanks!. The second one keeps happening, even under OpenGL and dx11, yes. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2016-05-08T07:25:37Z","Content":"Wow, no words for this.\n\n[sunrise at ksc](https://www.dropbox.com/s/16zxyx6r6se1yps/screenshot0.png?dl=0)\n\nvery WOW.\n\ngreat job for this mod and all other people making stuff like this work.\n\nCheers."},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2016-05-08T07:39:59Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, Steveo said:\n\u003E \n\u003E \n\u003E I had same issue with those mods and a few others today, just remove the mod and then reinstall the new one. Mine worked fine after doing that using CKAN also. Hope this helps\n\u003E \n\nConfirmed. Removing and reinstalling Scatterer fixes the issue."},{"CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2016-05-08T09:37:46Z","Content":"Yeah, triple confirming reinstalling Scatterer gets rid of the CKAN issue."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-05-08T10:06:32Z","Content":"[@Proot](https://forum.kerbalspaceprogram.com/index.php?/profile/98932-proot/) can you pass me the config file that got you the disappearing ghosts? Everything seems fine on my end unless I\u0027m missing something."},{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2016-05-08T10:11:07Z","Content":"Does the -forec-d3d11 thing work for other people in 64 bit KSP 1.1.1? I am finding it crashes immediatly if I try it."}]}