{"TopicId":87405,"ForumId":70,"TopicTitle":"NaN in SH?","CreatedByName":"code99","CreatedById":113538,"CreatedDateTime":"2014-10-15T15:33:00Z","PageNum":1,"Articles":[{"CreatedByName":"code99","CreatedById":113538,"CreatedDateTime":"2014-10-15T15:33:00Z","Content":"\n\u003Cp\u003EI only posted here because i have some mods installed altho the issue im having, i dont think its mod related.\u003C/p\u003E\u003Cp\u003EI was building my first shuttle in the hangar (using B9) and at some point the cost of the craft changed from a number to NaN. I didnt notice at first, after adding some more parts i pressed launch to test the craft out but it said i didnt have enough money (I\u0027ve got 1.3 millions) then i noticed NaN.\u003C/p\u003E\u003Cp\u003EIve tried exiting and re entering the hangar, re loading the game ... Nothing. The shuttle still costs NaN.\u003C/p\u003E\u003Cp\u003EThis happened to an aircraft that i just built, tested and then ive changed the wings position and bam! NaN.\u003C/p\u003E\u003Cp\u003EWat is happening? Did i just lose hours making those things?\u003C/p\u003E\u003Cp\u003EEDIT: oh and i forgot to mention im on 24.2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-15T15:36:41Z\u0022 title=\u002210/15/2014 03:36  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 15, 2014\u003C/time\u003E by code99\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-10-15T15:46:20Z","Content":"\n\u003Cp\u003EPlease follow the instructions in the \u0022How to get support\u0022 sticky thread, especially the bits about a list of your mods and uploading your output_log.txt/player.log file. Also, since the issue is persistent across reloads of KSP it would indicate that there is probably a NaN saved into your craft file so uploading that would probably be useful too...\u003C/p\u003E\n"},{"CreatedByName":"code99","CreatedById":113538,"CreatedDateTime":"2014-10-15T16:29:55Z","Content":"\n\u003Cp\u003EI did read the sticky just forgot to mention im typing from the phone (got no internet for my pc where i live) and thus i can\u0027t upload pics or files. \u003C/p\u003E\u003Cp\u003EAnd this phone is not really compatible with the forum software, i have to try several times to post or open threads here before im able to ... \u003C/p\u003E\u003Cp\u003EAs for what mods i use, its quite a list (should also mention I\u0027ve been playing with these mods for a couple of weeks now and didnt have a single problem or crash, until now):\u003C/p\u003E\u003Cp\u003EToolbar\u003C/p\u003E\u003Cp\u003EATM\u003C/p\u003E\u003Cp\u003EB9\u003C/p\u003E\u003Cp\u003EChatterer\u003C/p\u003E\u003Cp\u003EDeadlyreentry\u003C/p\u003E\u003Cp\u003EDistant Object\u003C/p\u003E\u003Cp\u003EDMagic Orbital Science\u003C/p\u003E\u003Cp\u003EExurgent Engineering (dependency)\u003C/p\u003E\u003Cp\u003EFinePrint\u003C/p\u003E\u003Cp\u003EFirespitter (just the dll, its a dependency)\u003C/p\u003E\u003Cp\u003EKAS\u003C/p\u003E\u003Cp\u003EKerbal Joint Reinforcement\u003C/p\u003E\u003Cp\u003EHyper Edit\u003C/p\u003E\u003Cp\u003EKineTech Animation (not sure what this is, probably dependency)\u003C/p\u003E\u003Cp\u003EKW Rocketry\u003C/p\u003E\u003Cp\u003EInfernal Robotics\u003C/p\u003E\u003Cp\u003EMechJeb2\u003C/p\u003E\u003Cp\u003EMission Controller\u003C/p\u003E\u003Cp\u003EDocking Port Alignment\u003C/p\u003E\u003Cp\u003ENear Future Propulsion\u003C/p\u003E\u003Cp\u003ENova Punch 2\u003C/p\u003E\u003Cp\u003EReal Chute\u003C/p\u003E\u003Cp\u003EStation Science\u003C/p\u003E\u003Cp\u003ETarsier Space Tech\u003C/p\u003E\u003Cp\u003EAlarm Clock\u003C/p\u003E\u003Cp\u003ETweak Scale\u003C/p\u003E\u003Cp\u003EModule Manager\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-10-15T18:06:10Z","Content":"\n\u003Cp\u003EWell, it is going to be rather hard to give you any helpful support but I\u0027ll give it a try...\u003C/p\u003E\u003Cp\u003EThe first thing to do is to open your craft file in a text editor and search it for NaN. Presumably there will be one or more lines that say something like \u0022cost = NaN\u0022. Changing all instances of NaN to a valid number should result in your craft working but the cost will not be accurate. A better solution may be to work out which parts are affected (scroll up from the NaN line until you find the \u0022part = xxxx\u0022 line) and, if there aren\u0027t many of them, then try removing these parts in the SPH and replacing them with new parts. This should result in the cost being correct...\u003C/p\u003E\n"},{"CreatedByName":"code99","CreatedById":113538,"CreatedDateTime":"2014-10-16T05:49:31Z","Content":"\n\u003Cp\u003EWell i found just one NaN in both my ships.\u003C/p\u003E\u003Cp\u003EIts not a part but a module, TweakScale:\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Ename = TweakScale\u003C/p\u003E\u003Cp\u003EisEnabled = True\u003C/p\u003E\u003Cp\u003E... \u003C/p\u003E\u003Cp\u003E... \u003C/p\u003E\u003Cp\u003EEvents\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EActions\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003ERESOURCE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Ename = ElectricCharge\u003C/p\u003E\u003Cp\u003Eamount = NaN\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EThats what I\u0027ve found. I can type the whole thing instead of this short version if need be but it might take a while.\u003C/p\u003E\u003Cp\u003EThe only \u0022cost\u0022 there is here is under TweakScale, called \u0022dryCost = 39000\u0022 but that as you can see has a number. \u003C/p\u003E\u003Cp\u003EI will remove tweakscale, i didnt even use it in my game. Will that fix it? \u003C/p\u003E\u003Cp\u003EOr should i remove both that and the batteries?\u003C/p\u003E\u003Cp\u003EEDIT: now that i think of it, only one of the ships has batteries on them, the shuttle. The aircraft has no batteries installed.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-16T05:53:41Z\u0022 title=\u002210/16/2014 05:53  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 16, 2014\u003C/time\u003E by code99\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-10-16T08:13:36Z","Content":"\n\u003Cp\u003EFirstly, don\u0027t just remove TweakScale as it is probably used by at least one of your other mods (e.g. RealChute). Make sure that you have the correct versions of your mods for KSP 0.24.2 as versions built for 0.25 may not work correctly.\u003C/p\u003E\u003Cp\u003EMost (all?) command pods, cockpits and probe cores have a small battery inside to power the reaction wheel and lots of engines can also hold a small amount of electricity. A PART block (a block is from the { to the matching }) contains a number of MODULE blocks and a number of RESOURCE blocks. Scroll up to find the PART block it is inside.\u003C/p\u003E\u003Cp\u003EFirst, load the craft as it is and try right clicking on the engine or the command pod (depending on which part you found it in). You should find that the electric charge slider (if there is one) is reading NaN. If there is a slider then try dragging the slider and if it changes back to a number (e.g. 0.0) then the cost should start calculating correctly again. If this works then it is caused by the part having a tweakable electric charge with a maxAmount of 0 (this is a known bug in the stock game handling of tweakable resources with maxAmount = 0). Let us know which part it is, it may be that the part is \u0022broken\u0022 in stock or a mod may be breaking it (possibly tweakscale, possibly another).\u003C/p\u003E\u003Cp\u003EIf this doesn\u0027t work (or there is no electric charge slider) then open the craft file in your text editor again and simply change the \u0022amount = \u0022 line to the same number as the \u0022maxAmount = \u0022 line.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-16T10:24:27Z\u0022 title=\u002210/16/2014 10:24  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 16, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"}]}