{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":279,"Articles":[{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2017-10-12T19:25:53Z","Content":"^^i made that same suggestion at the github."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-10-12T19:44:54Z","Content":"That doesn\u0027t count ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)   mwuhahahaha....\n\nAnd I see Mage added the brass/bronze/gold color options ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"The-Doctor","CreatedById":163802,"CreatedDateTime":"2017-10-13T00:00:58Z","Content":"I\u0027m joining in, new solar system, new life support mods, new everything"},{"CreatedByName":"DocRockwell","CreatedById":174979,"CreatedDateTime":"2017-10-13T02:27:44Z","Content":"What are the differences between the various solid rocket booster options?"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2017-10-13T06:57:54Z","Content":"Just a general FYI to any one running SSTU and Texture Replacer, if you are seeing funky texture and shading on any of the capsules add the line\n\nkeepLoaded = ^SSTU/\n\nto your @Default.cfg"},{"CreatedByName":"Theysen","CreatedById":144656,"CreatedDateTime":"2017-10-13T07:07:18Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, DocRockwell said:\n\u003E \n\u003E \n\u003E What are the differences between the various solid rocket booster options?\n\u003E \n\nAFAIK the looks are affected only, for same size and diameter. The deflect slider is to angle the nozzle and this affects the thrust, as well. Otherwise they are just modelled after real life booster variants. \n\nMake sure to play around with the thrust curves as well! (Gradient is awesome, makes the thrust towards the booster\u0027s end fart out and not abrupt like stock \\*shrug\\*)"},{"CreatedByName":"vossiewulf","CreatedById":179033,"CreatedDateTime":"2017-10-13T07:51:35Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, DocRockwell said:\n\u003E \n\u003E \n\u003E What are the differences between the various solid rocket booster options?\n\u003E \n\nThe ones that mean something are reflected in changing thrust and burn time numbers. Also setting positive gimbal angles the nozzles outward, giving up some thrust for rocket stability. There are some functional nose cone options in ones that are designed to be attached to something, otherwise just various aerodynamic options. Nozzle options purely aesthetic but been trying to convince Mage to make them mean something."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-10-13T15:08:16Z","Content":"I think he means the \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E-A and other parts... One is for upper stages and will have fairings at the bottom as well as other nozzle options.\n\nOr maybe he means the A/B/C/D types which have different section bands on the sides (the black stripes)."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-10-13T17:51:02Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, DocRockwell said:\n\u003E \n\u003E \n\u003E What are the differences between the various solid rocket booster options?\n\u003E \n\nAs others have stated -- currently the differences are visual only.\n\nThe various geometries (nozzles / bodies) were modeled after different real-world boosters (SRM, GEM, others), but I didn\u0027t feel like it was worth it to differentiate the stats on them (read: would take a ton of effort for little useful impact except removing options).\n\nIn the near future there will be a part-config-option- to allow for the nozzles to vary the thrust (and potentially \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E?) -- however the default SSTU configs will probably not be using that feature.\n\nIn general development news:\n\nAfter nearly finishing writing my own custom PBR shader for Unity (oh, what a headache, but good to learn), I\u0027ve stumbled upon something that should allow me to use the regular Unity 5 \u0027Standard\u0027 shader from within KSP.\n\nBasically the standard shader \u0027fails\u0027 when it comes to KSP due to reflection probes not handling the strange rendering setup used by KSP (scaled space, scenery space, regular world/object space).  However, I just hit upon a feature that would let me define \u0027custom\u0027 reflection probes that would use pre-rendered cubemaps (either completely pre-rendered, or rendered from in-game) as their reflection source; saving me a ton of effort in rewriting shaders.  (NOTE:  Would have incompatibilities with any other mods that muck with ReflectionProbes -- but as I\u0027m only aware of one other prototype mod that does such, it shouldn\u0027t be too much of a concern).\n\nHopefully I\u0027ll get a chance to experiment on this over the weekend -- lets see if we can get some nice looking parts in KSP finally.  Would still have to adapt the standard shader a bit in order to add the recoloring system support -- but that should be downright simple compared to writing up the lighting functions."},{"CreatedByName":"DocRockwell","CreatedById":174979,"CreatedDateTime":"2017-10-14T00:34:06Z","Content":"Thanks for the info everyone!"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-10-14T02:14:24Z","Content":"Got PBR shaders working -in- KSP (well, mostly; need to render the reflection-map(s), and do some code cleanup/optimizations).  Apparently KSP does not include all of the Standard shader variants (e.g. no normal map support), so I had to get creative.  This is a slightly modified version of the Unity Standard shader, with a few compiler macros thrown in to force-enable some of the features ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022).  Yet to do is to add recoloring support, but that should be comparatively easy (after I figure out the reflections in-game).\n\nThis is using a pure-white skybox and reflection cube-map; with a (little) bit more work, it will look much better.  With a lot more work, it could look stellar.   The white \u0027highlights\u0027 you see on the edges/underside are from the white skybox and reflection map.\n\n![rWUZNaf.png](https://i.imgur.com/rWUZNaf.png)\n\nMy thoughts for a \u0027quick-and-dirty\u0027 setup are to take a camera (in-game/rendering camera), position it at the vessels origin, and render the cubemap from there.  Use layer masks to only render specific features -- e.g. scenery and KSP skybox.  Update every few frames/seconds.  Then all of a sudden KSPs graphics got more visually appealing."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-10-14T02:54:56Z","Content":"Wow... I\u0027m not sure what else can be said.\n\n![wmcKjZV.png](https://i.imgur.com/wmcKjZV.png)\n\nExcept... more wow...\n\n![ZqlrDrc.png](https://i.imgur.com/ZqlrDrc.png)\n\nAnd one more time...\n\n![lg5dpVj.png](https://i.imgur.com/lg5dpVj.png)\n\nSimply jaw dropping.\n\n![mAD0aJR.png](https://i.imgur.com/mAD0aJR.png)\n\n(not sure what the white reflected rectangle is... but as stated... majorly WIP/prototype here)\n\nSo full of awesome.  And I haven\u0027t even fixed the reflected skybox yet (its still white).  Or done anything real with Substance Painter -- only slapped on some materials at their default settings."},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2017-10-14T06:17:30Z","Content":"Wow, that\u0027s neat looking.\n\nI\u0027m not even sure how this can \u0022blend in\u0022 with other mods anymore."},{"CreatedByName":"vossiewulf","CreatedById":179033,"CreatedDateTime":"2017-10-14T07:01:14Z","Content":"Yep, that\u0027s a slight visual upgrade over what we have currently ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) Very nice job.\n\nDefault settings for substance materials are usually very good, if they don\u0027t look right there\u0027s something wrong with the scale of your model. That\u0027s where I was saying to flesh out the material library, because other than color you generally use them as is, only messing around with that which you\u0027re intended to, like thresholds for procedural materials. Or at least beyond that, I found messing with them to being heading down a rabbit hole from which I was unlikely to emerge.\n\nBesides free, check out Pawe\u0142 \u0141yczkowski\u0027s substance material offerings. I\u0027ve used those constantly when working in SP.\n\nFor some reason can\u0027t add the link to his name, so have to paste it raw:  https://gumroad.com/plyczkowski\n\n**Edited \u003Ctime datetime=\u00222017-10-14T07:27:14Z\u0022 title=\u002210/14/2017 07:27  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 14, 2017\u003C/time\u003E by vossiewulf**"},{"CreatedByName":"Theysen","CreatedById":144656,"CreatedDateTime":"2017-10-14T09:19:28Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, T-10a said:\n\u003E \n\u003E \n\u003E Wow, that\u0027s neat looking.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m not even sure how this can \u0022blend in\u0022 with other mods anymore.\n\u003E \n\nThis just entered god tier.   \n  \n[@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) Does this system already work in orbit? I can only imagine the looks of those parts on a station against a black background, thanks for taking a dated looking game to the next level."},{"CreatedByName":"gmiddlemass","CreatedById":111037,"CreatedDateTime":"2017-10-14T11:23:20Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Simply jaw dropping.\n\u003E \n\nThere are no other words to describe it, this mod is truly in a different league to others now and I can\u0027t wait to see these effects in game.\n\nMuch as I\u0027m looking forward to the \u0022Making History\u0022 DLC I\u0027m \u003Cu\u003E\u003Cstrong\u003EWAY\u003C/strong\u003E\u003C/u\u003E more hyped about this mod and the work you are doing.\n\n![:0.0:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif \u0022:0.0:\u0022)"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2017-10-14T13:14:58Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, T-10a said:\n\u003E \n\u003E \n\u003E Wow, that\u0027s neat looking.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m not even sure how this can \u0022blend in\u0022 with other mods anymore.\n\u003E \n\nThere are other mods?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-10-14T16:58:59Z","Content":"Mirror-smooth tank at night, reflecting the galaxy and the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E floodlight, and \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E on the far right:\n\n![usmN8xC.png](https://i.imgur.com/usmN8xC.png)\n\nSunrise from orbit, showing the reflected sun/atmo on left, galaxy on right:  (atmo is a bit off...but working on it still)\n\n![9FMg5nX.png](https://i.imgur.com/9FMg5nX.png)\n\nAnd a dark-side shot, showing just galaxy reflections\n\n![7D1ClAJ.png](https://i.imgur.com/7D1ClAJ.png)\n\nAs a majority of the rendering quality of the shader is due to the reflections, I figured I had better get those working well.  Currently trying to sort out how to properly setup the skybox (unity one, not KSPs), as that drives a lot of the back-end lighting calculations.  Still a big collection of code-side hacks to get these working, and the reflections aren\u0027t real-time yet, and still only include scenery.\n\nEdit:  Fixed up the reflections.... (realtime, skyboxes, layering...still needs cleanup/optimizations)\n\nSunrise from orbit:\n\n![JKVRmBT.png](https://i.imgur.com/JKVRmBT.png)\n\nKerbin reflected:\n\n![7Mv78pR.png](https://i.imgur.com/7Mv78pR.png)\n\n**Edited \u003Ctime datetime=\u00222017-10-14T17:58:09Z\u0022 title=\u002210/14/2017 05:58  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 14, 2017\u003C/time\u003E by Shadowmage**"},{"CreatedByName":"StickyScissors","CreatedById":144204,"CreatedDateTime":"2017-10-14T22:41:56Z","Content":"incredible! Wonder how all this reflection stuff will react to visual mods however... (skyboxes, clouds, scatterer)\n\n**Edited \u003Ctime datetime=\u00222017-10-14T22:42:13Z\u0022 title=\u002210/14/2017 10:42  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 14, 2017\u003C/time\u003E by StickyScissors**"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2017-10-14T23:01:21Z","Content":"Dang."},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2017-10-15T00:57:26Z","Content":"I cannot wait to see this reflection texture to be applied to the Apollo capsules. Something like this:\n\n[http://cdn.gearpatrol.com/wp-content/uploads/2015/03/Apollo-17-Redock-CSM-Gear-Patrol.jpg](http://cdn.gearpatrol.com/wp-content/uploads/2015/03/Apollo-17-Redock-CSM-Gear-Patrol.jpg)\n\nOr this:\n\n[http://www.capcomespace.net/dossiers/espace_US/apollo/vaisseaux/command_service_module/CSM block2 A9.jpg](http://www.capcomespace.net/dossiers/espace_US/apollo/vaisseaux/command_service_module/CSM%20block2%20A9.jpg)\n\n**Edited \u003Ctime datetime=\u00222017-10-15T00:58:11Z\u0022 title=\u002210/15/2017 12:58  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 15, 2017\u003C/time\u003E by T-10a**"},{"CreatedByName":"vossiewulf","CreatedById":179033,"CreatedDateTime":"2017-10-15T04:14:12Z","Content":"Looks like I happened to be at the right place at the right time to say the right thing ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) Really cool that you\u0027ve taken that basic suggestion and turned it into this awesome implementation, as others have noted, with correct environment reflections and a few weeks to noodle around with the materials to exactly nail the surfaces you want to use, this is going to render everything else obsolete from a visuals standpoint. You might start thinking about how you could make this shader and texturing workflow available to other modders, it will be really cool when everyone upgrades to this level, think BDB\u0027s Atlas A with full mirror finish, slightly ripply-surface glossy-painted rocket bodies everywhere, materials being properly shiny or matte with correct specular levels depending on their real characteristics, it\u0027s a brave new Kerbal world ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) \n\nP.S. Understand how much fun you\u0027re having but remember to sleep!\n\n**Edited \u003Ctime datetime=\u00222017-10-15T04:18:58Z\u0022 title=\u002210/15/2017 04:18  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 15, 2017\u003C/time\u003E by vossiewulf**"},{"CreatedByName":"vossiewulf","CreatedById":179033,"CreatedDateTime":"2017-10-15T08:24:01Z","Content":"Oh BTW, once you\u0027re ready to deploy this should rename it SSTU PBR ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-10-15T14:17:47Z","Content":"Holy $h!t, Mage!!!  This looks absolutely amazing!!!!  SSTU version  xxx.145  \u0022It\u0027s full of stars\u0022 edition.\n\nWould it at some point be possible to add this to the recoloring GUI as an option?\n\n**Edited \u003Ctime datetime=\u00222017-10-15T14:19:44Z\u0022 title=\u002210/15/2017 02:19  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 15, 2017\u003C/time\u003E by Jimbodiah**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-10-15T15:23:42Z","Content":"\u003E \n\u003E \n\u003E On 10/14/2017 at 12:17 AM, T-10a said:\n\u003E \n\u003E \n\u003E Wow, that\u0027s neat looking.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m not even sure how this can \u0022blend in\u0022 with other mods anymore.\n\u003E \n\nA valid concern... but one that I can\u0027t do too much about.  My reasons for trying to move over to the PBR based setup are mostly due to time constraints regarding modeling -- if I\u0027m going to continue to make new models and textures, I\u0027ve got to find a faster way to do it.  Spending 20\u002B hours messing around in Gimp creating a single texture set for a model is simply too much; I can probably get that down to 4-5 hours per model using SP and PBR material setups (and that would be including multiple texture sets).\n\nIf I can get it all figured out and working well I\u0027ll see about releasing the shader setup as a stand-alone package that others can include in their mods\u0027.  Nothing stopping them from having nice looking parts as well ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022).\n\n\u003E \n\u003E \n\u003E 16 hours ago, StickyScissors said:\n\u003E \n\u003E \n\u003E incredible! Wonder how all this reflection stuff will react to visual mods however... (skyboxes, clouds, scatterer)\n\u003E \n\nSo far... not very well. \n\n- \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E clouds cause black patches in the reflections, apparently they fully block the sunlight (can probably be solved, might require changes to \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E)\n- Scatterer atmosphere (or is it ocean?) is rendered in every face of the cubemap, in some sort of camera-space positioning.  Again, should be solveable, but might require changes to scatterer.\n- TextureReplacer (visor reflections) - should work fine, I\u0027ve actually used their reflection code as a bit of a reference on how to do the KSP layered rendering.\n- Skyboxes -- custom skyboxes should work fine.  As I\u0027m using a camera rig to capture the reflection textures, it should capture those as well.\n\nScatterer cubemap export, showing... I\u0027m not sure what its showing actually.  This is supposed to be a render of \u0027ScaledSpace\u0027 (planets when viewed from orbit).  Looks like it might be rendering part of an occlusion/depth texture (the white bits), the ocean (behind the white bits), and the scatterer atmosphere (the lower half of the img).\n\n![pRgh8bv.png](https://i.imgur.com/pRgh8bv.png)\n\nThis is actually the next bit I\u0027ll be working on -- as visual mods are always in my \u0027playable\u0027 installs, they pretty much have to be supported.\n\n\u003E \n\u003E \n\u003E 13 hours ago, T-10a said:\n\u003E \n\u003E \n\u003E I cannot wait to see this reflection texture to be applied to the Apollo capsules. Something like this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [http://cdn.gearpatrol.com/wp-content/uploads/2015/03/Apollo-17-Redock-CSM-Gear-Patrol.jpg](http://cdn.gearpatrol.com/wp-content/uploads/2015/03/Apollo-17-Redock-CSM-Gear-Patrol.jpg)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Or this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [http://www.capcomespace.net/dossiers/espace_US/apollo/vaisseaux/command_service_module/CSM block2 A9.jpg](http://www.capcomespace.net/dossiers/espace_US/apollo/vaisseaux/command_service_module/CSM%20block2%20A9.jpg)\n\u003E \n\nYep, should be doable, and should give very authentic look to the parts.  Gotta get it all working and optimized first though (and decide if I\u0027m actually going to go forward with the system).\n\n\u003E \n\u003E \n\u003E 29 minutes ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E Holy $h!t, Mage!!!  This looks absolutely amazing!!!!  SSTU version  xxx.145  \u0022It\u0027s full of stars\u0022 edition.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Would it at some point be possible to add this to the recoloring GUI as an option?\n\u003E \n\nIt will more be a restructuring of the recolor system -- **if** I adopt a new PBR setup, the recoloring system will be reworked accordingly.  Thankfully the textures produced by this workflow should be easy to recolor (as the diffuse/albedo texture is mostly just color; most of the detail goes into the metal/smoothness maps); using the built-in color-tinting on the shader produces decent results from my little bit of testing.\n\n- I have a bit of an idea on how to add \u0027lots\u0027 of recoloring channels per-part/section, rather than just 3.\n    - The # of channels is setup in the texture-set config file\n    - Mask texture is single-channel (grayscale), with each discrete color value representing one recolor channel selection.\n    - In order to pass this information to the shader, it is itself compiled into a texture that can be sampled by the shader and decoded during texture sampling.\n    - This would allow for the more complex parts to allow per-detail recoloring, rather than randomly grouping the geometry together.\n- Specular/shininess control would be removed.  Shininess would be adjusted by changing the texture set/material -- if you want metal, choose a metal material (other options would be paint, foam, foil, rough metal, etc).\n- Textures/sets for nearly all models would have to be redone with the new PBR setup\n\nOne more glamour shot:\n\n![bylxf5K.png](https://i.imgur.com/bylxf5K.png)\n\nNow **that** is what silver tanks should look like ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"}]}