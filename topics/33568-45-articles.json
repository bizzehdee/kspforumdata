{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":45,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-19T06:41:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EAlright, I\u0027m all set up on 0.90 but haven\u0027t had time to test any aerobraking, although I can now view the celestial body catalog with the latest pre-release so that\u0027s a good sign. At the moment I\u0027m flying my 3-day kerbed Mun mission since I\u0027ve been itching to see how this plays out for a few weeks now! So far so good, launched into a good orbit and re-optomized to get myself around Mun, after which I have plenty of coast time to re-sync my orbit to match the rest of the mission plan.\u003Cp\u003EUsed the RMS to get a new intercept with Mun after plugging in my actual orbital data from the game and the search window feature worked great.\u003C/p\u003E\u003Cp\u003EHowever I did want to mention that, when re-optimizing a mission, the optimizer\u0027s Final State window could be extremely confusing to newbies. This is because I\u0027m optimizing for event 5 but the Final State readout is showing me where I\u0027ll be at event 48. It would be nice to see the state of the craft in the event for which I am actually optimizing.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENoted. I\u0027ll think about how that could work, or if I want it to work that way. Yeah, good thought.\u003C/p\u003E\u003Cp\u003ELet me know when you get to the aerobraking stuff.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003EIn other news, some about some low thrust maneuver modeling?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/MQ3DBzw.png\u0022 alt=\u0022MQ3DBzw.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-19T14:12:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EIn other news, some about some low thrust maneuver modeling?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not entirely sure what\u0027s going on here but it appears that the first Dv maneuver is setting the throttle at like 25% and then the coast is modeling the trajectory of your ship as its orbit increases and then the second coast event is cutting the throttle? I\u0027m a little confused as the colors on the orbital plot show more state changes than there are in the list\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI have what is either an issue or me not doing things properly. I used UT to set the point of a burn to Mun, rather than coast to UT and then coast to True Anomaly. So from Initial State I coasted to UT and then have my Dv Maneuver (the UT and Dv values were taken from the RMS, with upper/lower bounds added so I could optimize). I set MA to give me a 941.8966km Pe around Mun and that\u0027s what it tells me I should get for the given UT (blue-boxed values). However when I upload the Dv Maneuver I don\u0027t get a Mun intercept, and I need to tweak the UT back a few seconds to get something close to what I desire (red-boxed values). I tested both with and without RSS to make sure that wasn\u0027t still causing problems.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/m0TqJGB.png\u0022 alt=\u0022m0TqJGB.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.blade-edge.com/misc/MunIII.zip\u0022 rel=\u0022external nofollow\u0022\u003EMission File\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-01-19T14:14:48Z","Content":"\n\u003Cp\u003EWell, to me shows a low-thrust continuous burn, starting at stage 3 but ongoing for all of stage 4 (instead of an almost instant DV change as we had before) and the thrust is then changed to zero at stage 5 (unless stage 5 was just for circularization in a higher orbit). Seems a proof-of-concept for the ongoing thrust during a coast stage. The spiraling effect shown on the graph is nice, useful to make easily out what happens; but continuous-low-thrust is IMHO more important with deep space navigation or with orbital insertion/escape, raising an orbit is just one possibility. If I\u0027m seeing this correctly, this is another of the many wonders KSPTOT MA will allow, looking forward at the possibilities \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-19T14:30:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI have what is either an issue or me not doing things properly. I used UT to set the point of a burn to Mun, rather than coast to UT and then coast to True Anomaly. So from Initial State I coasted to UT and then have my Dv Maneuver (the UT and Dv values were taken from the RMS, with upper/lower bounds added so I could optimize). I set MA to give me a 941.8966km Pe around Mun and that\u0027s what it tells me I should get for the given UT (blue-boxed values). However when I upload the Dv Maneuver I don\u0027t get a Mun intercept, and I need to tweak the UT back a few seconds to get something close to what I desire (red-boxed values). I tested both with and without RSS to make sure that wasn\u0027t still causing problems.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/m0TqJGB.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/m0TqJGB.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.blade-edge.com/misc/MunIII.zip\u0022 rel=\u0022external nofollow\u0022\u003EMission File\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll take a look. I really suspect that I have a problem with the way that I compute the position of bodies compared to KSP. Sometimes it just doesn\u0027t seem like everything is in the place it should be. Out of curiosity, does anyone know if it\u0027s possible to get the position/velocity vectors for the planets and moons? That would be a simple way to check that I\u0027m correct.\u003C/p\u003E\u003Cp\u003EGaiiden, is this problem something you might be able to help me pin down and fix?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EWell, to me shows a low-thrust continuous burn, starting at stage 3 but ongoing for all of stage 4 (instead of an almost instant DV change as we had before) and the thrust is then changed to zero at stage 5 (unless stage 5 was just for circularization in a higher orbit). Seems a proof-of-concept for the ongoing thrust during a coast stage. The spiraling effect shown on the graph is nice, useful to make easily out what happens; but continuous-low-thrust is IMHO more important with deep space navigation or with orbital insertion/escape, raising an orbit is just one possibility. If I\u0027m seeing this correctly, this is another of the many wonders KSPTOT MA will allow, looking forward at the possibilities \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasically correct. The two dv maneuvers are of a new type called \u0022finite duration.\u0022 In this mode, the thrust is modeled as occurring over some finite period and not instantaneously. The first burn is very long, and the second is much shorter. Modeling is done with a numerical integrator and force models. You can use this for any thrust, by the way, it doesn\u0027t need to be \u0022low thrust.\u0022 Any other questions?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-19T15:44:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EGaiiden, is this problem something you might be able to help me pin down and fix?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYea totally. I\u0027ve played a bit more and here\u0027s additional problems on the issue:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/HxXwzMi.png\u0022 alt=\u0022HxXwzMi.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis is after I gave MA the orbital data from an SFS file I saved right after performing my TMI burn, then I coasted to next SOI change (the event that\u0027s shown) and then coasted to Pe. What\u0027s odd is that in testing when I was hunting down the RSS issue I didn\u0027t see anything as off as this once I got things working again:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-1-8-Aerobraking%21?p=1613176\u0026amp;viewfull=1#post1613176\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/d6lNItW.png\u0022 alt=\u0022d6lNItW.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m going to strip down to stock and see what happens\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.blade-edge.com/misc/MunIII.zip\u0022 rel=\u0022external nofollow\u0022\u003EUpdate mission file\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-01-19T16:55:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBasically correct. The two dv maneuvers are of a new type called \u0022finite duration.\u0022 In this mode, the thrust is modeled as occurring over some finite period and not instantaneously. The first burn is very long, and the second is much shorter. Modeling is done with a numerical integrator and force models. You can use this for any thrust, by the way, it doesn\u0027t need to be \u0022low thrust.\u0022 Any other questions?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, more a consideration of mine than a question, but you sure will shed more light about that.\u003C/p\u003E\u003Cp\u003EOne of the more critical low-thrust maneuvers I know is an orbital ejection. As it takes several hundred m/s in DV from a low orbit to eject (about 950 m/s from a 80 km altitude LKO), a craft with only a low-thrust engine may require a longer burn time than the acceptable arc at periapsis is travelled (e.g., in a 80 km circular LKO a craft orbits at 2279 m/s, if the acceptable arc was 20\u00C3\u201A\u00C2\u00B0 it would be travelled in 104 seconds. Let me say that engine provides 1 m/s acceleration, that would require 9 subsequent \u0022finite duration\u0022 thrusts at periapsis to achieve just the escape velocity, and then more for a Hohmann transfer to another planet) (actually more than 9, as the periapsis speed would increase at each orbit).\u003C/p\u003E\u003Cp\u003EI\u0027m looking forward at planning the \u00229 (or more) subsequent finite duration thrusts at periapsis\u0022 and seeing them nicely displayed on the MA graph \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. And, to export those maneuvers in KSP for execution... much easier than done manually.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-19T17:27:25Z","Content":"\n\u003Cp\u003Eok Arrowstar (or anyone else that wants to try) I have identified the issue - I have no clue what it is but I have some reproduction steps for you.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.blade-edge.com/misc/MunIII.zip\u0022 rel=\u0022external nofollow\u0022\u003Erequired files\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EStart KSPTOT \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOpen Mission Architect \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOpen Initial State edit dialog and select to import from SFS \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOpen file \u002203-Coast to Mun.sfs\u0022 \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFirst craft, Mun III, is at the top so just click Use Selected Orbit \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EClick Save \u0026amp; Close \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESelect Coast event to insert \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESet Coast event to Go To Periapsis and select Mun for the Reference Body \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EClick Save \u0026amp; Close \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHover mouse cursor over Final Spacecraft State and note Periapsis Alt. = 941.4571 \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EClick Open \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOpen mission file \u0022Mun III - (2)Coast to Mun.mat\u0022 \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESelect Event 2 and right-click to select View State After Event \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHover mouse cursor over Final Spacecraft State and note Periapsis Alt. = 1391.575 \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESelect New \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERepeat steps 3-9 \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHover mouse cursor over Final Spacecraft State and note Periapsis Alt. = 1391.575 \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EClose MA \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERepeat steps 2-9 \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHover mouse cursor over Final Spacecraft State and note Periapsis Alt. = 941.4571 \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E This is on the latest release version you made available for download.\u003C/p\u003E\u003Cp\u003ESo there\u0027s no error in KSP, there\u0027s \u003Cem\u003Einitially\u003C/em\u003E no error in KSPTOT, but after I\u0027ve loaded up that mission file something goes sideways. I\u0027ve also included the previous step in the mission (1)LKO Orbit. If you open this file, select Event 5 and Advance Script To This Event, then load the orbital data from 03-Coast to Mun.sfs you will end up with what I have in the file (2)Coast to Mun\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-19T17:32:55Z\u0022 title=\u002201/19/2015 05:32  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 19, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-19T18:06:08Z","Content":"\n\u003Cp\u003EGaiiden, can you also describe what\u0027s wrong based on the steps you\u0027ve provided? Where should I be looking for the issue and what does the issue look like?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-19T18:14:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EGaiiden, can you also describe what\u0027s wrong based on the steps you\u0027ve provided? Where should I be looking for the issue and what does the issue look like?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EReference the image in my post prior to the last one. You\u0027ll see that MA is giving me 1391.757km Pe when the game is showing 940.809km Pe. The steps I gave show you how to reproduce the issue and demonstrates that MA initially does give a correct Pe altitude\u003C/p\u003E\u003Cp\u003EOh, and I just realized my initial issue with the UT burn is a separate thing... I haven\u0027t spent any time investigating that yet.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-19T20:57:59Z","Content":"\n\u003Cp\u003EIs it possible to get finer levels of zoom when viewing the orbit display in the popout window? Maybe not as default, but with holding down the Ctrl key. Better for framing things for images\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-20T04:38:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EReference the image in my post prior to the last one. You\u0027ll see that MA is giving me 1391.757km Pe when the game is showing 940.809km Pe. The steps I gave show you how to reproduce the issue and demonstrates that MA initially does give a correct Pe altitude\u003Cp\u003EOh, and I just realized my initial issue with the UT burn is a separate thing... I haven\u0027t spent any time investigating that yet.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI followed your instructions and did see a difference. After some investigation, I found that your celestial body data in the case you sent me (\u0022Mun III - (2)Coast to Mun\u0022) does not match the celestial body data I have on hand for the Mun, Minmus, and Ike. Namely, their mean anomalies appear to be different.\u003C/p\u003E\u003Cp\u003EMun (my data ; your data ; difference)\u003C/p\u003E\u003Cp\u003Emean: 97.4028 ; 115.6227 ; -18.2199\u003C/p\u003E\u003Cp\u003EMinmus (my data ; your data ; difference)\u003C/p\u003E\u003Cp\u003Emean: 89.5662 ; 338.1597 ; -248.5935\u003C/p\u003E\u003Cp\u003EIke(my data ; your data ; difference)\u003C/p\u003E\u003Cp\u003Emean: 97.4028 ; 234.2584 ; -136.8556\u003C/p\u003E\u003Cp\u003EDid you chance a bodies.ini file somewhere? Are your values correct, maybe? These are pretty big differences... I\u0027d like to know where your values come from and if I need to change mine to match. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EIs it possible to get finer levels of zoom when viewing the orbit display in the popout window? Maybe not as default, but with holding down the Ctrl key. Better for framing things for images\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, there\u0027s not much I can do there. That window is a built-in MATLAB figure window I just draw the image to. Can\u0027t adjust much of its underlying properties. Can you try using the little magnifying glasses and clicking-dragging to zoom that way?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EWell, more a consideration of mine than a question, but you sure will shed more light about that.\u003Cp\u003EOne of the more critical low-thrust maneuvers I know is an orbital ejection. As it takes several hundred m/s in DV from a low orbit to eject (about 950 m/s from a 80 km altitude LKO), a craft with only a low-thrust engine may require a longer burn time than the acceptable arc at periapsis is travelled (e.g., in a 80 km circular LKO a craft orbits at 2279 m/s, if the acceptable arc was 20\u00C3\u201A\u00C2\u00B0 it would be travelled in 104 seconds. Let me say that engine provides 1 m/s acceleration, that would require 9 subsequent \u0022finite duration\u0022 thrusts at periapsis to achieve just the escape velocity, and then more for a Hohmann transfer to another planet) (actually more than 9, as the periapsis speed would increase at each orbit).\u003C/p\u003E\u003Cp\u003EI\u0027m looking forward at planning the \u00229 (or more) subsequent finite duration thrusts at periapsis\u0022 and seeing them nicely displayed on the MA graph \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. And, to export those maneuvers in KSP for execution... much easier than done manually.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo I guess I don\u0027t understand your question. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Is there something you\u0027re looking for information about? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-20T07:28:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EI followed your instructions and did see a difference. After some investigation, I found that your celestial body data in the case you sent me (\u0022Mun III - (2)Coast to Mun\u0022) does not match the celestial body data I have on hand for the Mun, Minmus, and Ike.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, derp. I see, I guess it was still using values from the bodies.ini changes I made to compensate for the RSS orbital period differences. I didn\u0027t realize that was all stored inside the .mat file. Ok, no big deal then! I don\u0027t actually need the mission file for the transfer to Mun - that\u0027s a straightforward thing. All the meaty stuff in the mission takes place around Mun and that shouldn\u0027t be affected by any of the changes I made to the bodies.ini file - except for the burn home, but again I can just do that as a separate thing. All good.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EActually, there\u0027s not much I can do there. That window is a built-in MATLAB figure window I just draw the image to. Can\u0027t adjust much of its underlying properties. Can you try using the little magnifying glasses and clicking-dragging to zoom that way?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESon of a... I was trying all kinds of things and I never thought of click dragging. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-01-20T12:10:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESo I guess I don\u0027t understand your question. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Is there something you\u0027re looking for information about? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIndeed, I did not even formulate a question \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. But you\u0027re right, I\u0027m looking for more info about a capability I would like to see with KSPTOT MA.\u003C/p\u003E\u003Cp\u003EActually, what I described is the way I would manually plan a split-burn maneuver. Clearly that is only required for low-thrust continuous burns. It\u0027s a tedious process, though not terribly difficult, to do in KSP. \u003C/p\u003E\u003Cp\u003EHowever, the duration of the whole maneuver can be relatively long (from first to the last of the burns, because those are executed on subsequent enlarging orbits), and therefore this maneuver must be started such amount of time earlier, or the subsequent transfer after escape will bring the craft where the target was that time earlier - probably an error enough to completely miss the intercept. Or, the transfer should account for that delay, therefore aiming since the escape to a different point in space.\u003C/p\u003E\u003Cp\u003ENow, unless I missed something (very possible), I should be able to use MA to plan the single 9 (or more) burns required, tie them with the target intercept, optimize and have a solution ready to be used in KSP. But while MA would allow the precision I need, planning burns that way remains a tedious process. And I\u0027m far from certain that I may be able to optimize the duration of each single burn that way.\u003C/p\u003E\u003Cp\u003ETherefore I\u0027d like if, with the \u0022finite-duration\u0022 burns now possible (allowing to use low-thrust engined crafts), KSPTOT MA would also allow to directly plan the split-burn maneuvers (that said crafts will have to use). Would be nice if the user could just make a single entry in the event list and let MA create the single split burns as needed to achieve the final DV required.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-20T15:51:13Z","Content":"\n\u003Cp\u003Eminor UX beef - importing orbital data (from SFS at least) into the Other Spacecraft dialog does not update the Body selection. It does this with the Initial State box\u003C/p\u003E\u003Cp\u003Eoh and you know how I asked a while ago for the ability to \u0022undo\u0022 changes to the graphical analysis charts? Maybe the program can auto-save the figure chart each time a new one is output, and revert button would just load the last auto-save (no need for a history). When the window is closed the temporary save file is deleted.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-20T16:02:12Z\u0022 title=\u002201/20/2015 04:02  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 20, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-20T18:44:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EOh, derp. I see, I guess it was still using values from the bodies.ini changes I made to compensate for the RSS orbital period differences. I didn\u0027t realize that was all stored inside the .mat file. Ok, no big deal then! I don\u0027t actually need the mission file for the transfer to Mun - that\u0027s a straightforward thing. All the meaty stuff in the mission takes place around Mun and that shouldn\u0027t be affected by any of the changes I made to the bodies.ini file - except for the burn home, but again I can just do that as a separate thing. All good.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI take that back. Having reached Mun SOI and advancing my script to Coast to PE event and resetting the initial state with new orbital data, I find that MA is off from the game still. It gives me a circularize Dv maneuver for 941km but the game says my Ap will be 950 after I upload the maneuver. I also checked and my True Anomaly is nowhere near what the game is telling me.\u003C/p\u003E\u003Cp\u003EIs there a way to reset the bodies data in the .mat file or will I just have to reconstruct the mission?\u003C/p\u003E\n"},{"CreatedByName":"immelman","CreatedById":90345,"CreatedDateTime":"2015-01-20T22:08:03Z","Content":"\n\u003Cp\u003EHi there. I\u0027d like to replicate the Voyager 2 mission in Real Solar System and would like to use KSPTOT to help me plan the burns.\u003C/p\u003E\u003Cp\u003EWould someone have information on the orbital information I need to start on this, it looks like I need a \u0022bodies\u0022 file for the Sol system?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-20T23:16:31Z","Content":"\n\u003Cp\u003Eso the RMS is now capable of giving me burns for intercepting a craft on a similar orbit at the \u003Cem\u003Eexact\u003C/em\u003E Initial Epoch I tell it to:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/0XP09kF.png\u0022 alt=\u00220XP09kF.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis then begs the question - is it possible to further improve upon this ability by giving us the option to have it look ahead within the given Search Window Length for either the most dV efficient transfer or the most time efficient transfer? Maybe also a slider that you move towards one or the other if you\u0027d like to spend a little more dV to get there faster, split it in half, etc. Right now I\u0027m just plugging in different times to see what\u0027s best for either scenario.\u003C/p\u003E\u003Cp\u003EAdditionally, the RMS needs some sanity checking. It just gave me a rendezvous plot that takes me 25km down through Mun \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-21T00:28:54Z\u0022 title=\u002201/21/2015 12:28  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 21, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-01-21T00:03:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022immelman\u0022 data-cite=\u0022immelman\u0022\u003E\u003Cdiv\u003EHi there. I\u0027d like to replicate the Voyager 2 mission in Real Solar System and would like to use KSPTOT to help me plan the burns.\u003Cp\u003EWould someone have information on the orbital information I need to start on this, it looks like I need a \u0022bodies\u0022 file for the Sol system?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi immelman. Yes pretty much you are right, KSPTOT works with any star system but needs the bodies parameters, from a \u0022bodies.ini\u0022 file it has in its root folder. The \u0022bodies.ini\u0022 that comes with the standard KSPTOT distro is about the stock Kerbol system. For any other star system (including RSS) there is a nice utility from KSPTOT main menu/file/\u0022Create New Bodies File From KSP\u0022. You must have KSPTOT Connect correctly installed within the KSP GameData folder, and have that KSP install running for that to work.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-21T02:05:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Eminor UX beef - importing orbital data (from SFS at least) into the Other Spacecraft dialog does not update the Body selection. It does this with the Initial State box\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFixed in the development version. Thanks!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eoh and you know how I asked a while ago for the ability to \u0022undo\u0022 changes to the graphical analysis charts? Maybe the program can auto-save the figure chart each time a new one is output, and revert button would just load the last auto-save (no need for a history). When the window is closed the temporary save file is deleted.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll keep it in mind. This kind of thing is pretty low priority at the moment, I\u0027ll admit (mostly because it would involve during those plots into their own special GUI instead of letting MATLAB handle the plotting internally, which is what it does now and is way easier).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EI take that back. Having reached Mun SOI and advancing my script to Coast to PE event and resetting the initial state with new orbital data, I find that MA is off from the game still. It gives me a circularize Dv maneuver for 941km but the game says my Ap will be 950 after I upload the maneuver. I also checked and my True Anomaly is nowhere near what the game is telling me.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay. Would you be up for helping me investigate why this is happening? It\u0027s seriously the one bug that has existed for some time (that I know of) and I can\u0027t seem to track it down or understand what\u0027s wrong. It must be something in either A) my bodies.ini file for stock KSP or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E an error with the way I\u0027m doing the position/velocity vector conversion to Keplerian elements and back again. Would definitely appreciate help on this one!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIs there a way to reset the bodies data in the .mat file or will I just have to reconstruct the mission?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can do it using MATLAB, but there\u0027s no way for you to do it yourself. I have to edit the save file manually. Or you can just redo the mission, yup.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Eso the RMS is now capable of giving me burns for intercepting a craft on a similar orbit at the \u003Cem\u003Eexact\u003C/em\u003E Initial Epoch I tell it to:\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/0XP09kF.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/0XP09kF.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis then begs the question - is it possible to further improve upon this ability by giving us the option to have it look ahead within the given Search Window Length for either the most dV efficient transfer or the most time efficient transfer? Maybe also a slider that you move towards one or the other if you\u0027d like to spend a little more dV to get there faster, split it in half, etc. Right now I\u0027m just plugging in different times to see what\u0027s best for either scenario.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt could be done. How would you suggest that it gets implemented? In a phrase, how does the slider work?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAdditionally, the RMS needs some sanity checking. It just gave me a rendezvous plot that takes me 25km down through Mun \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve added a simple constraint to make sure that Pe stays above radius \u002B atmo and Ap stays below SoI radius. Good catch.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EIndeed, I did not even formulate a question \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. But you\u0027re right, I\u0027m looking for more info about a capability I would like to see with KSPTOT MA.\u003Cp\u003EActually, what I described is the way I would manually plan a split-burn maneuver. Clearly that is only required for low-thrust continuous burns. It\u0027s a tedious process, though not terribly difficult, to do in KSP. \u003C/p\u003E\u003Cp\u003EHowever, the duration of the whole maneuver can be relatively long (from first to the last of the burns, because those are executed on subsequent enlarging orbits), and therefore this maneuver must be started such amount of time earlier, or the subsequent transfer after escape will bring the craft where the target was that time earlier - probably an error enough to completely miss the intercept. Or, the transfer should account for that delay, therefore aiming since the escape to a different point in space.\u003C/p\u003E\u003Cp\u003ENow, unless I missed something (very possible), I should be able to use MA to plan the single 9 (or more) burns required, tie them with the target intercept, optimize and have a solution ready to be used in KSP. But while MA would allow the precision I need, planning burns that way remains a tedious process. And I\u0027m far from certain that I may be able to optimize the duration of each single burn that way.\u003C/p\u003E\u003Cp\u003ETherefore I\u0027d like if, with the \u0022finite-duration\u0022 burns now possible (allowing to use low-thrust engined crafts), KSPTOT MA would also allow to directly plan the split-burn maneuvers (that said crafts will have to use). Would be nice if the user could just make a single entry in the event list and let MA create the single split burns as needed to achieve the final DV required.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, I think I know what you\u0027re asking. You want to be able to plan N finite maneuvers based on the results of one (probably impulsive) maneuver such that the N finite maneuvers achieve the same result of the one (probably impulsive) maneuver?\u003C/p\u003E\u003Cp\u003EIf that\u0027s the case... boy, that\u0027s hard. Honestly, the only way Mission Architect could pull that off is to do exactly what you\u0027ll have to do already, namely, optimize the nine burns together. In short, there\u0027s no good way apparent to me at the moment to automate this.\u003C/p\u003E\u003Cp\u003EHere\u0027s what I\u0027d recommend doing: instead of trying to optimize the burns all together, just optimize them in sets. Say you know it\u0027ll take ~2000 m/s to leave Kerbin and get to where you\u0027re going. Your first 2 burns can do, say, 800 m/s total (maybe 400 m/s each). Your next two burns can 600 total (say 300 m/s each). Your next two burns can do 400 m/s (200 m/s each). Your last three burns can then take up the last 200 m/s in whatever way works.\u003C/p\u003E\u003Cp\u003EBest way to do this is to only optimize one or two of the burn unit vectors (prograde and normal, probably) and leave the remaining at 0.0. Then just optimize in stages, attempting to maximize distance to Kerbin at apoapsis. \u003C/p\u003E\u003Cp\u003EI haven\u0027t actually run this, but it sounds like a plausible place to start. How does that sound?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022immelman\u0022 data-cite=\u0022immelman\u0022\u003E\u003Cdiv\u003EHi there. I\u0027d like to replicate the Voyager 2 mission in Real Solar System and would like to use KSPTOT to help me plan the burns.\u003Cp\u003EWould someone have information on the orbital information I need to start on this, it looks like I need a \u0022bodies\u0022 file for the Sol system?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECopy the text from here and paste it into a file called bodiesRSS.ini or something:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/k9npkdKz\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/k9npkdKz\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou can call it whatever you want, so long as it ends with *.ini. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EIn other news! \u003Cstrong\u003EThe third pre-release \u003C/strong\u003E\u003Cstrong\u003Eof v1.1.9 \u003C/strong\u003Eis ready to go for your viewing pleasure. See the following link for the ZIP file. As usual, no source code, just EXE, a new KSPTOTConnect.dll file, and the bodies.ini file.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v119_prerelease3.zip\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.1.9 prerelease 3\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-21T03:23:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EI\u0027ll keep it in mind. This kind of thing is pretty low priority at the moment, I\u0027ll admit (mostly because it would involve during those plots into their own special GUI instead of letting MATLAB handle the plotting internally, which is what it does now and is way easier).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo don\u0027t bother making your own GUI. I can save/open the charts already with the current GUI but if you don\u0027t have access to do that via code then just forget about it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EOkay. Would you be up for helping me investigate why this is happening? It\u0027s seriously the one bug that has existed for some time (that I know of) and I can\u0027t seem to track it down or understand what\u0027s wrong. It must be something in either A) my bodies.ini file for stock KSP or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E an error with the way I\u0027m doing the position/velocity vector conversion to Keplerian elements and back again. Would definitely appreciate help on this one!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis isn\u0027t an issue, I was just noting that the problem exists within the .mat file. I\u0027m just rebuilding as I go, I can still use the old mission file to remember the overall plan.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EIt could be done. How would you suggest that it gets implemented? In a phrase, how does the slider work?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBurn Efficiency\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv = you telling the RMS to find you a maneuver that neither takes too long or too much \u00C3\u017D\u00E2\u20ACv (total)\u003C/p\u003E\u003Cp\u003ETime \u0026lt;------------------[]\u0026gt; \u00C3\u017D\u00E2\u20ACv = you telling the RMS you don\u0027t care how long it takes you to get there as long as the total \u00C3\u017D\u00E2\u20ACv is as low as possible\u003C/p\u003E\u003Cp\u003ETime \u0026lt;[]------------------\u0026gt; \u00C3\u017D\u00E2\u20ACv = you telling the RMS you don\u0027t care how much total \u00C3\u017D\u00E2\u20ACv you end up using, you want to get there as fast as possible\u003C/p\u003E\u003Cp\u003EA generic use case for the slider would be\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv (1) default setting\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-------------[]-----\u0026gt; \u00C3\u017D\u00E2\u20ACv (2) after getting a result on the default setting, you decide you want to spend a little less \u00C3\u017D\u00E2\u20ACv to get there\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-----------[]-------\u0026gt; \u00C3\u017D\u00E2\u20ACv (3) oops, now it\u0027s taking a bit too long. This should be good.\u003C/p\u003E\u003Cp\u003Ethe Search Window setting would be used to tweak the granularity of the slider. If you search over a larger period you\u0027re going to get a greater gap between burn results. For example:\u003C/p\u003E\u003Cp\u003ESearch Window 1000s\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv = 1.2km/s 9h:10m\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-------------[]-----\u0026gt; \u00C3\u017D\u00E2\u20ACv = 0.7km/s 10h:44m\u003C/p\u003E\u003Cp\u003ESearch Window 100s\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv = 1.2km/s 9h:10m\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-------------[]-----\u0026gt; \u00C3\u017D\u00E2\u20ACv = 0.9km/s 9h:36m\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-21T03:48:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EThis isn\u0027t an issue, I was just noting that the problem exists within the .mat file. I\u0027m just rebuilding as I go, I can still use the old mission file to remember the overall plan.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay. So in your opinion, the bodies.ini file I have accurately represents the stock KSP solar system?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBurn Efficiency\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv = you telling the RMS to find you a maneuver that neither takes too long or too much \u00C3\u017D\u00E2\u20ACv (total)\u003C/p\u003E\u003Cp\u003ETime \u0026lt;------------------[]\u0026gt; \u00C3\u017D\u00E2\u20ACv = you telling the RMS you don\u0027t care how long it takes you to get there as long as the total \u00C3\u017D\u00E2\u20ACv is as low as possible\u003C/p\u003E\u003Cp\u003ETime \u0026lt;[]------------------\u0026gt; \u00C3\u017D\u00E2\u20ACv = you telling the RMS you don\u0027t care how much total \u00C3\u017D\u00E2\u20ACv you end up using, you want to get there as fast as possible\u003C/p\u003E\u003Cp\u003EA generic use case for the slider would be\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv (1) default setting\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-------------[]-----\u0026gt; \u00C3\u017D\u00E2\u20ACv (2) after getting a result on the default setting, you decide you want to spend a little less \u00C3\u017D\u00E2\u20ACv to get there\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-----------[]-------\u0026gt; \u00C3\u017D\u00E2\u20ACv (3) oops, now it\u0027s taking a bit too long. This should be good.\u003C/p\u003E\u003Cp\u003Ethe Search Window setting would be used to tweak the granularity of the slider. If you search over a larger period you\u0027re going to get a greater gap between burn results. For example:\u003C/p\u003E\u003Cp\u003ESearch Window 1000s\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv = 1.2km/s 9h:10m\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-------------[]-----\u0026gt; \u00C3\u017D\u00E2\u20ACv = 0.7km/s 10h:44m\u003C/p\u003E\u003Cp\u003ESearch Window 100s\u003C/p\u003E\u003Cp\u003ETime \u0026lt;---------[]---------\u0026gt; \u00C3\u017D\u00E2\u20ACv = 1.2km/s 9h:10m\u003C/p\u003E\u003Cp\u003ETime \u0026lt;-------------[]-----\u0026gt; \u00C3\u017D\u00E2\u20ACv = 0.9km/s 9h:36m\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay. So are there two sliders (Burn Efficiency \u0026amp; Search Window) or is it just the one?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-21T05:13:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EOkay. So in your opinion, the bodies.ini file I have accurately represents the stock KSP solar system?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy Mun mission plotting as I progress through it has been fine so long as I don\u0027t ever load that .mat file with the bad bodies info I cooked up when I was hunting down that RSS issue. I can\u0027t speak for the whole Kerbol system.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EOkay. So are there two sliders (Burn Efficiency \u0026amp; Search Window) or is it just the one?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne slider - the Search Window refers to the existing field already in the RMS where you just enter in the seconds to determine the breadth of the search\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-01-21T12:44:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOkay, I think I know what you\u0027re asking. You want to be able to plan N finite maneuvers based on the results of one (probably impulsive) maneuver such that the N finite maneuvers achieve the same result of the one (probably impulsive) maneuver?\u003C/p\u003E\u003Cp\u003EIf that\u0027s the case... boy, that\u0027s hard. Honestly, the only way Mission Architect could pull that off is to do exactly what you\u0027ll have to do already, namely, optimize the nine burns together. In short, there\u0027s no good way apparent to me at the moment to automate this.\u003C/p\u003E\u003Cp\u003EHere\u0027s what I\u0027d recommend doing: instead of trying to optimize the burns all together, just optimize them in sets. Say you know it\u0027ll take ~2000 m/s to leave Kerbin and get to where you\u0027re going. Your first 2 burns can do, say, 800 m/s total (maybe 400 m/s each). Your next two burns can 600 total (say 300 m/s each). Your next two burns can do 400 m/s (200 m/s each). Your last three burns can then take up the last 200 m/s in whatever way works.\u003C/p\u003E\u003Cp\u003EBest way to do this is to only optimize one or two of the burn unit vectors (prograde and normal, probably) and leave the remaining at 0.0. Then just optimize in stages, attempting to maximize distance to Kerbin at apoapsis. \u003C/p\u003E\u003Cp\u003EI haven\u0027t actually run this, but it sounds like a plausible place to start. How does that sound?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure some good advice in that. You got what I mean, N finite maneuvers to provide a total DV as planned for a single impulsive burn. Though, time taken to execute those N maneuvers must be considered, or the resulting trajectory will miss the target.\u003C/p\u003E\u003Cp\u003EOf course I\u0027d much prefer if an automated solution was possible, even if that required optimization in steps. While relatively simple, manual splitting burns requires some computation about the max DV achievable with each burn. That means going in that tedious repetitive process (determine time to travel the elliptical arc at periapsis; determine DV achieved during that finite time; update orbital params; repeat until total achievable DV \u0026gt;= required DV), unless KSPTOT MA optimization is enough to correct wild estimates a user may provide about the DV at each burn. I\u0027ll go with the first approach and a spreadsheet. \u003C/p\u003E\u003Cp\u003EHowever one optimization I see MA should be used for is about the total time required for the maneuver. I mean, if I strive for maximum distance at apoapsis, I\u0027ll just get the burn going for as long as possible within the acceptable arc, can\u0027t see a reason why MA shouldn\u0027t; but it shouldn\u0027t if the result is to bring the craft on a very eccentric orbit at the N-1 burn, and have a long time to travel that orbit just to perform a smaller final burn at the Nth burn: a better solution would be to optimize duration in reverse, applying the longer possible burns at the Nth step and going down, so to result in lower orbits before and a lower total time. \u003C/p\u003E\u003Cp\u003EThen, I think I may have a problem. You made a good example telling total DV for getting in the transfer orbit = 2000 m/s. However, after I burned 950 m/s my craft is already about to leave Kerbin\u0027s SoI, therefore no more periapsis passages. That means my craft will have to keep burning while on the outgoing leg from Kerbin to provide the remaining 1050 m/s. But what direction? For efficiency, I want it already aimed so to only need a prograde burn. And this is where really I need MA to optimize, it should choose the timing of the previous burns so that the ejection vector is aligned for that final burn to get the craft on the transfer route. Now, how better to give conditions to MA for this kind of optimization? The final direction solution reverberates back with all the previous burns until each one timing and vector are optimized, so I can\u0027t think optimizing a single stage at a time could be effective.\u003C/p\u003E\u003Cp\u003EWell, you told something\u0027s hard about this problem. Doesn\u0027t seem to me it belongs to the NP-complete class, however it may require more than the usual computational power to solve, possibly some extensive parallel computing. Doable within the limits of MA routines?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-22T04:01:23Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EThe fourth pre-release \u003C/strong\u003E\u003Cstrong\u003Eof v1.1.9 \u003C/strong\u003Eis ready to go for your viewing pleasure. See the following link for the ZIP file. As usual, no source code, just EXE, a new KSPTOTConnect.dll file, and the bodies.ini file.\u003C/p\u003E\u003Cp\u003ENew features include a delta-v budget tool and a launch window analysis tool in Mission Architect. See the Tools menu in MA. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v119_prerelease4.zip\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.1.9 prerelease 4\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI will get to answering posts above when I can. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-01-22T06:05:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003ESure some good advice in that. You got what I mean, N finite maneuvers to provide a total DV as planned for a single impulsive burn. Though, time taken to execute those N maneuvers must be considered, or the resulting trajectory will miss the target.\u003Cp\u003EOf course I\u0027d much prefer if an automated solution was possible, even if that required optimization in steps. While relatively simple, manual splitting burns requires some computation about the max DV achievable with each burn. That means going in that tedious repetitive process (determine time to travel the elliptical arc at periapsis; determine DV achieved during that finite time; update orbital params; repeat until total achievable DV \u0026gt;= required DV), unless KSPTOT MA optimization is enough to correct wild estimates a user may provide about the DV at each burn. I\u0027ll go with the first approach and a spreadsheet. \u003C/p\u003E\u003Cp\u003EHowever one optimization I see MA should be used for is about the total time required for the maneuver. I mean, if I strive for maximum distance at apoapsis, I\u0027ll just get the burn going for as long as possible within the acceptable arc, can\u0027t see a reason why MA shouldn\u0027t; but it shouldn\u0027t if the result is to bring the craft on a very eccentric orbit at the N-1 burn, and have a long time to travel that orbit just to perform a smaller final burn at the Nth burn: a better solution would be to optimize duration in reverse, applying the longer possible burns at the Nth step and going down, so to result in lower orbits before and a lower total time. \u003C/p\u003E\u003Cp\u003EThen, I think I may have a problem. You made a good example telling total DV for getting in the transfer orbit = 2000 m/s. However, after I burned 950 m/s my craft is already about to leave Kerbin\u0027s SoI, therefore no more periapsis passages. That means my craft will have to keep burning while on the outgoing leg from Kerbin to provide the remaining 1050 m/s. But what direction? For efficiency, I want it already aimed so to only need a prograde burn. And this is where really I need MA to optimize, it should choose the timing of the previous burns so that the ejection vector is aligned for that final burn to get the craft on the transfer route. Now, how better to give conditions to MA for this kind of optimization? The final direction solution reverberates back with all the previous burns until each one timing and vector are optimized, so I can\u0027t think optimizing a single stage at a time could be effective.\u003C/p\u003E\u003Cp\u003EWell, you told something\u0027s hard about this problem. Doesn\u0027t seem to me it belongs to the NP-complete class, however it may require more than the usual computational power to solve, possibly some extensive parallel computing. Doable within the limits of MA routines?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo the new finite duration maneuver has a \u0022steered\u0022 mode which always points in the same prograde-normal-radial direction throughout the burn. It\u0027s called steered because as you burn, the prograde vector is constantly recomputed and the thrust directed along that new vector. Using something like this, you might be able to collapse your 9 burns down into 2 or 3. \u003C/p\u003E\u003Cp\u003EThe problem with nine burns is that it\u0027s genuinely hard to optimize. That\u0027s a lot of variables! You as the analyst need to impose some structure on the problem, which I\u0027ve done in my example (of course, it might not be the best structure, but you get the idea!). Otherwise, free form optimization way not yield very good results.\u003C/p\u003E\u003Cp\u003EBefore we continue on, I\u0027d encourage you to try to model what you\u0027re doing in the latest pre-release and see how well it works. (Btw: the optimizer in MA got an overhaul and I think it performs somewhat better now.) One you\u0027ve tried that, let\u0027s talk about specific things we could do to improve it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EGaiiden: Any luck with trying out aerobraking code? I\u0027m thinking I want to push out v1.1.9 this weekend if possible. No worries if not, I may just leave it until v1.1.10 then. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}