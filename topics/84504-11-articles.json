{"TopicId":84504,"ForumId":34,"TopicTitle":"[old thread] Trajectories : atmospheric predictions","CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-09-13T15:42:57Z","PageNum":11,"Articles":[{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-09-30T23:58:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003EEarth is about 10 times bigger than Kerbin, so you should translate 6km to 60km if it was in real life (to keep proportions with the planet size, but that\u0027s biased since Kerbin\u0027s atmosphere is not to scale). That\u0027s still acceptable compared to your examples though. But they had to deal with real aerodynamics, wind, etc, while FAR is \u0022just\u0022 a \u0022simple\u0022 simulation, of which we even have source code. Also, that\u0027s for forward simple pod entry, but I get awful results for backward entries at this time (35km or more for a simple rocket), something must be wrong somewhere. It gets worse with deadly reentry shields, but I don\u0027t know yet if it\u0027s just the same bug that has exagerated results, or if there is some sort of incompatibility with DR.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think its size necessarily translates linearly, or that Earth was in any of our examples.... (RSS?)\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EAs far as Deadly Reentry, it has no effect on aerodynamics so I\u0027m not sure why it would be affecting your results, unless you were testing non-stock aerodynamics, in which case ablative shielding can lose significant amounts of mass during reentry as the shield boils away. (IRL I think it would lose a lot less since most of it is still there, just charred). Anyway, for non-stock aero, lower mass means lower inertia. That could alter your prediction quite a bit couldn\u0027t it? Did you try it with stock aero?\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EOops I guess I should refresh on a screen that\u0027s been sitting there for a day before I reply, yes?\u003C/p\u003E\n"},{"CreatedByName":"O Nerd","CreatedById":90266,"CreatedDateTime":"2014-10-01T01:20:47Z","Content":"\n\u003Cp\u003EOh, no 0.23.5 support. ;-;\u003C/p\u003E\n"},{"CreatedByName":"TheGamingNoobster","CreatedById":94887,"CreatedDateTime":"2014-10-01T02:25:04Z","Content":"\n\u003Cp\u003EI Found this happening on Minmus\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/F6Fsb#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/F6Fsb#0\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-10-01T03:22:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheGamingNoobster\u0022 data-cite=\u0022TheGamingNoobster\u0022\u003E\u003Cdiv\u003EI Found this happening on Minmus\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/F6Fsb#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/F6Fsb#0\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHoly crap it\u0027s a working Spirograph in KSP!\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-01T09:00:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EHoly crap it\u0027s a working Spirograph in KSP!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, that\u0027s a feature of course, not a bug ;-)\u003C/p\u003E\u003Cp\u003EHmm, ok, it\u0027s just the space orbit display that doesn\u0027t have enough points at this time (so it draws straight lines between points sampled at huge distances on the trajectory). Also, disabling body-fixed mode should help, as it doesn\u0027t make much sense in this situation (it\u0027s mostly useful when on a low orbit, for entry, or when flying in atmosphere)\u003C/p\u003E\n"},{"CreatedByName":"mulldogs","CreatedById":87709,"CreatedDateTime":"2014-10-01T09:46:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAre there particular benefits of integrating in Blizzy toolbar, more than the stock toolbar ? (that\u0027s a real question, I find the stock toolbar works just fine for me, but maybe with lots of plugins or I don\u0027t know whatever reason you could have)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just find Blizzy toolbar is less intrusive and smaller than stock as i like just having my fuel read out on the right and all my mod read outs pop up under the left when needed. Just personal preference but I like the way chatterer has made it easy to use both or either with a simple setting in the GUI\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-01T11:58:31Z","Content":"\n\u003Cp\u003EI think you have an other minor source of error. You don\u0027t check for Part.PhysicalSignificance, so the few part that have the flag report mass while the game does not use it.\u003C/p\u003E\u003Cp\u003EYou should ignore any part with p.physicalSignificance == Part.PhysicalSignificance.NONE for mass and stock drag (you\u0027ll have to look at ferram4 code for FAR/NEAR, I don\u0027t remember how he handles them from memory).\u003C/p\u003E\u003Cp\u003EEdit : and \u002B1 for blizzy toolbar as an alternative. You can use the wrapper to use it without even having to to reference his lib.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-01T12:01:34Z\u0022 title=\u002210/01/2014 12:01  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 1, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-01T18:08:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI think you have an other minor source of error. You don\u0027t check for Part.PhysicalSignificance, so the few part that have the flag report mass while the game does not use it.\u003Cp\u003EYou should ignore any part with p.physicalSignificance == Part.PhysicalSignificance.NONE for mass and stock drag (you\u0027ll have to look at ferram4 code for FAR/NEAR, I don\u0027t remember how he handles them from memory).\u003C/p\u003E\u003Cp\u003EEdit : and \u002B1 for blizzy toolbar as an alternative. You can use the wrapper to use it without even having to to reference his lib.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK, I\u0027ll fix that physicalSignificance thing. Any example of such a part, so that I know if I\u0027ve already encountered the case without knowing ?\u003C/p\u003E\u003Cp\u003EBy the way, don\u0027t know if you\u0027ve seen the TrajectoriesAPI library, don\u0027t hesitate to tell me if you need other things exposed, in case you would want to use it (which applies to everyone of course).\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-01T18:27:15Z","Content":"\n\u003Cp\u003EI\u0027ve added the mod on Kerbal Stuff (exactly the same version as is already available on GitHub of course)\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-01T18:37:19Z","Content":"\n\u003Cp\u003EAny part with a ModuleLandingGear will have the flag outside the VAB launch. And any part with PhysicsSignificance = 1 in their cfg which are mostly small parts like the various structural Strut, the antennae, the O-10 MonoPropellant \u0026amp; Vernor Engine engine and a few other misc part. Most are quite light so the impact is small, but it did improve MJ landing sim by a couple of meters.\u003C/p\u003E\u003Cp\u003EI don\u0027t know if I\u0027ll use the provided API. MJ does have a working drag sim for landing and it also supports parachute and calculate an optimal time to open them and land where we want to. What is missing is the FAR/NEAR stuff, and eventually the stock lift. It also work in a thread, so it can\u0027t really call something not sync with it. \u003C/p\u003E\u003Cp\u003EWhen I have more free time to code I\u0027ll most likely ask if I can borrow some ideas and code to use them in MJ itself. \u003C/p\u003E\u003Cp\u003ESpeaking about stock lift, that reminds me of something. Did you know about ModuleAerodynamicLift \u0026amp; ModuleControlSurface CalculateForce method ? It\u0027s what you need to get stock lift force.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-01T20:13:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EDid you know about ModuleAerodynamicLift \u0026amp; ModuleControlSurface CalculateForce method ? It\u0027s what you need to get stock lift force.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK, didn\u0027t know that, it should help, thanks :-)\u003C/p\u003E\n"},{"CreatedByName":"How2FoldSoup","CreatedById":82003,"CreatedDateTime":"2014-10-02T01:20:42Z","Content":"\n\u003Cp\u003EThis looks awesome! I\u0027m downloading right now...one question though. Is there IVA usability or are there any plans to integrate glideslope infos or some info into an IVA screen via RPM? I think it would be awesome! Especially for b9 cockpits.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-02T16:20:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022How2FoldSoup\u0022 data-cite=\u0022How2FoldSoup\u0022\u003E\u003Cdiv\u003EThis looks awesome! I\u0027m downloading right now...one question though. Is there IVA usability or are there any plans to integrate glideslope infos or some info into an IVA screen via RPM? I think it would be awesome! Especially for b9 cockpits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot at this time, but as it was already requested before, I just added it in the \u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/issues/38\u0022 rel=\u0022external nofollow\u0022\u003Efeature requests\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-10-02T18:25:02Z","Content":"\n\u003Cp\u003EIn the latest version, I noticed 2 things happening: (1) Laggy performance on the Map View and (2) My debug log was getting spammed with orange text messages like \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201C\u003Cem\u003EMesh.vertices is too small. The supplied vertex array has less vertices than are referenced by the triangles array.\u003C/em\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u003C/p\u003E\u003Cp\u003ERemoving the mod appears to make the problem go away, so I\u0027m pretty sure it\u0027s Atmospheric Trajectories at work. Also worth noting, that disabling the trajectory drawing option via the toolbar button didn\u0027t stop the symptoms.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-02T19:20:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Entropius\u0022 data-cite=\u0022Entropius\u0022\u003E\u003Cdiv\u003EIn the latest version, I noticed 2 things happening: (1) Laggy performance on the Map View and (2) My debug log was getting spammed with orange text messages like \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201C\u003Cem\u003EMesh.vertices is too small. The supplied vertex array has less vertices than are referenced by the triangles array.\u003C/em\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u003Cp\u003ERemoving the mod appears to make the problem go away, so I\u0027m pretty sure it\u0027s Atmospheric Trajectories at work. Also worth noting, that disabling the trajectory drawing option via the toolbar button didn\u0027t stop the symptoms.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI already noticed that vertex issue message (I don\u0027t think it\u0027s related to the latest version), but it doesn\u0027t happen all the time, and so far I don\u0027t know when it happens or not. I haven\u0027t investigated further yet. Added on the \u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/issues/39\u0022 rel=\u0022external nofollow\u0022\u003Ebug tracker\u003C/a\u003E, for what it\u0027s worth, as I won\u0027t have time to work on that for a few days.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-10-02T19:57:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003EI already noticed that vertex issue message (I don\u0027t think it\u0027s related to the latest version), but it doesn\u0027t happen all the time, and so far I don\u0027t know when it happens or not. I haven\u0027t investigated further yet. Added on the \u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/issues/39\u0022 rel=\u0022external nofollow\u0022\u003Ebug tracker\u003C/a\u003E, for what it\u0027s worth, as I won\u0027t have time to work on that for a few days.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd here I was blaming KW Rocketry\u0027s engines....\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-05T14:41:35Z","Content":"\n\u003Cp\u003EI\u0027ve updated the first post (shorter description, and user manual). Let me know if something is not clear or missing.\u003C/p\u003E\n"},{"CreatedByName":"LostOblivion","CreatedById":111504,"CreatedDateTime":"2014-10-05T22:17:55Z","Content":"\n\u003Cp\u003EThis rocks!\u003C/p\u003E\u003Cp\u003ERequests: I think you should drop the thick white line until you enter the atmosphere (it should remain blue until then), then it would turn red (like now), and then it would turn white (like now). Also, I think the lines are a bit thick. A thinner line to match the regular orbit lines would be preferable I think.\u003C/p\u003E\u003Cp\u003EAnother thing. I usually reenter using pods and notice the small black circle dot is usually opposite from where it should be to correct the reentry. This is at a 180 AoA.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-06T16:19:14Z","Content":"\n\u003Cp\u003EYes, other people have requested the same thing (not displaying trajectories until it diverge from the stock one), it\u0027s already in the \u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/issues/32\u0022 rel=\u0022external nofollow\u0022\u003Efeature requests\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EI haven\u0027t tested guidance for a 180\u00C3\u201A\u00C2\u00B0 AoA, it may indeed be reversed. Or maybe this comes from the pod shape that doesn\u0027t behave like a wing (positive angle would go down instead of up?). Guidance on the nav ball is mostly targeted as space planes (for which a very small change in AoA results in a big change in landing position). Anyway, that\u0027s now \u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/issues/40\u0022 rel=\u0022external nofollow\u0022\u003Eadded in the bug tracker\u003C/a\u003E (but the rate of bug reports is currently way higher than bug fixes ;-))\u003C/p\u003E\n"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2014-10-06T20:53:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LostOblivion\u0022 data-cite=\u0022LostOblivion\u0022\u003E\u003Cdiv\u003EThis rocks!\u003Cp\u003ERequests: I think you should drop the thick white line until you enter the atmosphere (it should remain blue until then), then it would turn red (like now), and then it would turn white (like now). Also, I think the lines are a bit thick. A thinner line to match the regular orbit lines would be preferable I think.\u003C/p\u003E\u003Cp\u003EAnother thing. I usually reenter using pods and notice the small black circle dot is usually opposite from where it should be to correct the reentry. This is at a 180 AoA.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you make sure to set the AoA to 180 on all the sliders on the GUI in the map screen?\u003C/p\u003E\n"},{"CreatedByName":"LostOblivion","CreatedById":111504,"CreatedDateTime":"2014-10-06T23:50:40Z","Content":"\n\u003Cp\u003EYes, but a simple workaround is to point the nose opposite of the black circle. So if it says 1 % up, you point it 1 % down, etc.\u003C/p\u003E\n"},{"CreatedByName":"Niemand303","CreatedById":119422,"CreatedDateTime":"2014-10-07T21:57:46Z","Content":"\n\u003Cp\u003ESrandart Update Question #1: Any compatibility issues?\u003C/p\u003E\n"},{"CreatedByName":"Crimor","CreatedById":18370,"CreatedDateTime":"2014-10-08T01:56:49Z","Content":"\n\u003Cp\u003EGod damn, why haven\u0027t I seen this before now, keep up the awesome work.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-10-08T11:17:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Niemand303\u0022 data-cite=\u0022Niemand303\u0022\u003E\u003Cdiv\u003ESrandart Update Question #1: Any compatibility issues?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou mean with KSP 0.25 ? I haven\u0027t tested yet, I guess I\u0027ll have to recompile and distribute a separate package (I\u0027ll keep updating bug-fixes for 0.24 for some time too).\u003C/p\u003E\n"},{"CreatedByName":"Smorfty","CreatedById":59234,"CreatedDateTime":"2014-10-08T21:06:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crimor\u0022 data-cite=\u0022Crimor\u0022\u003E\u003Cdiv\u003EGod damn, why haven\u0027t I seen this before now...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ebecause it\u0027s fairly new\u003C/p\u003E\n"}]}