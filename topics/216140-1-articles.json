{"TopicId":216140,"ForumId":15,"TopicTitle":"IVA Prop Rotation Key Explained (cfg ONLY)???","CreatedByName":"KlunkWorks","CreatedById":227815,"CreatedDateTime":"2023-04-01T15:47:11Z","PageNum":1,"Articles":[{"CreatedByName":"KlunkWorks","CreatedById":227815,"CreatedDateTime":"2023-04-01T15:47:11Z","Content":"\n\u003Cp\u003E\nOk, so i\u0027m stumped. For several days I\u0027ve been in the process of building a custom IVA using ASET props, by editing the iva.cfg (exclusively). I suspect that this is probably NOT the most efficient way of building IVA\u0027s, possibly \u00A0Blender/Unity etc? however, for various reasons, I\u0027m trying to stay away from those options at the moment, mainly time. So far things have gone fairly well, a little \u00A0trial and error and things are moving along.... But then..... There are several parts that i\u0027m trying to place in orientations other than flat in front of your face. The position and scale key\u0027s are pretty straight-forward - x/y/x axis. The ROTATION however\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E, like what the actual?!?!? Either i\u0027m crazy or it varies from part to part.\n\u003C/p\u003E\n\u003Cp\u003E\nCan anyone explain what\u0027s going on here? I suspect that the rotation \u0022ZERO\u0022 for each axis may be somehow defined in the model, thus it could vary from prop to prop. There seems to be no consistency between props of different origin that I can discern. I would very much like to be able to simply understand the rotation in order to quickly re orient props in the cfg the way I currently am able for position and scale.\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently, as i\u0027m seeing \u00A0it, the rotation key is as follows: 0,0,0,0 \u00A0and the acceptable inputs are between -1 and \u002B1 \u00A0but for some parts (or perhaps orientations), its as if only 3 of the 4 fields observably effect rotation, but it doesn\u0027t seem to be the same three for each part, yet they all seem to do... something lol\n\u003C/p\u003E\n\u003Cp\u003E\nTo be clear, for many of the parts, ive had no problem, the rotation inputs seem to line up orthogonally, and through a couple rounds of experiments, i can find the appropriate angle, but for others, its as if 3 axis are oriented diagonally, \u00A0plus an extra number for fun, \u00A0or something idk lol.\n\u003C/p\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2023-04-01T16:06:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224267994\u0022 data-ipsquote-contentid=\u0022216140\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680364031\u0022 data-ipsquote-userid=\u0022227815\u0022 data-ipsquote-username=\u0022KlunkWorks\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, KlunkWorks said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, so i\u0027m stumped. For several days I\u0027ve been in the process of building a custom IVA using ASET props, by editing the iva.cfg (exclusively). I suspect that this is probably NOT the most efficient way of building IVA\u0027s, possibly \u00A0Blender/Unity etc? however, for various reasons, I\u0027m trying to stay away from those options at the moment, mainly time. So far things have gone fairly well, a little \u00A0trial and error and things are moving along.... But then..... There are several parts that i\u0027m trying to place in orientations other than flat in front of your face. The position and scale key\u0027s are pretty straight-forward - x/y/x axis. The ROTATION however\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E, like what the actual?!?!? Either i\u0027m crazy or it varies from part to part.\n\u003C/p\u003E\n\u003Cp\u003E\nCan anyone explain what\u0027s going on here? I suspect that the rotation \u0022ZERO\u0022 for each axis may be somehow defined in the model, thus it could vary from prop to prop. There seems to be no consistency between props of different origin that I can discern. I would very much like to be able to simply understand the rotation in order to quickly re orient props in the cfg the way I currently am able for position and scale.\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently, as i\u0027m seeing \u00A0it, the rotation key is as follows: 0,0,0,0 \u00A0and the acceptable inputs are between -1 and \u002B1 \u00A0but for some parts (or perhaps orientations), its as if only 3 of the 4 fields observably effect rotation, but it doesn\u0027t seem to be the same three for each part, yet they all seem to do... something lol\n\u003C/p\u003E\n\u003Cp\u003E\nTo be clear, for many of the parts, ive had no problem, the rotation inputs seem to line up orthogonally, and through a couple rounds of experiments, i can find the appropriate angle, but for others, its as if 3 axis are oriented diagonally, \u00A0plus an extra number for fun, \u00A0or something idk lol.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure, but this might be an insight you are missing if the rotations are \u003Cem\u003E\u003Cstrong\u003Equaternions\u003C/strong\u003E\u003C/em\u003E as in .craft file\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://youtu.be/zjMuIxRvygQ\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://youtu.be/zjMuIxRvygQ\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt is such a good video I almost grasp how to think with them after watching it at least 5 times over the last 5 years.\u00A0 Quaternions don\u0027t mesh well with normal brain wetware 3d rotations and I understand math mostly\u00A0 tactilely and visually which tops out at 3 spatial dimensions unfortunately\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-04-01T16:13:17Z\u0022 title=\u002204/01/2023 04:13  PM\u0022 data-short=\u00221 yr\u0022\u003EApril 1, 2023\u003C/time\u003E by darthgently\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"darthgently","CreatedById":204885,"CreatedDateTime":"2023-04-01T16:25:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224267994\u0022 data-ipsquote-contentid=\u0022216140\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680364031\u0022 data-ipsquote-userid=\u0022227815\u0022 data-ipsquote-username=\u0022KlunkWorks\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, KlunkWorks said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, so i\u0027m stumped. For several days I\u0027ve been in the process of building a custom IVA using ASET props, by editing the iva.cfg (exclusively). I suspect that this is probably NOT the most efficient way of building IVA\u0027s, possibly \u00A0Blender/Unity etc? however, for various reasons, I\u0027m trying to stay away from those options at the moment, mainly time. So far things have gone fairly well, a little \u00A0trial and error and things are moving along.... But then..... There are several parts that i\u0027m trying to place in orientations other than flat in front of your face. The position and scale key\u0027s are pretty straight-forward - x/y/x axis. The ROTATION however\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E, like what the actual?!?!? Either i\u0027m crazy or it varies from part to part.\n\u003C/p\u003E\n\u003Cp\u003E\nCan anyone explain what\u0027s going on here? I suspect that the rotation \u0022ZERO\u0022 for each axis may be somehow defined in the model, thus it could vary from prop to prop. There seems to be no consistency between props of different origin that I can discern. I would very much like to be able to simply understand the rotation in order to quickly re orient props in the cfg the way I currently am able for position and scale.\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently, as i\u0027m seeing \u00A0it, the rotation key is as follows: 0,0,0,0 \u00A0and the acceptable inputs are between -1 and \u002B1 \u00A0but for some parts (or perhaps orientations), its as if only 3 of the 4 fields observably effect rotation, but it doesn\u0027t seem to be the same three for each part, yet they all seem to do... something lol\n\u003C/p\u003E\n\u003Cp\u003E\nTo be clear, for many of the parts, ive had no problem, the rotation inputs seem to line up orthogonally, and through a couple rounds of experiments, i can find the appropriate angle, but for others, its as if 3 axis are oriented diagonally, \u00A0plus an extra number for fun, \u00A0or something idk lol.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat last link is one I\u0027m glad I posted by accident as I decided to watch what I thought was the original vid I had in mind and it helped me a bit as well.\n\u003C/p\u003E\n\u003Cp\u003E\nBut here is the vid I meant to post which is a bit more in depth\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 src=\u0022https://www.youtube-nocookie.com/embed/d4EgbgTm0Bg?start=2\u0026amp;feature=oembed\u0022 title=\u0022Visualizing quaternions (4d numbers) with stereographic projection\u0022 width=\u0022200\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"KlunkWorks","CreatedById":227815,"CreatedDateTime":"2023-04-01T16:28:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224268000\u0022 data-ipsquote-contentid=\u0022216140\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680365168\u0022 data-ipsquote-userid=\u0022204885\u0022 data-ipsquote-username=\u0022darthgently\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 minutes ago, darthgently said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot sure, but this might be an insight you are missing if the rotations are quaternions as in .craft file\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://youtu.be/zjMuIxRvygQ\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://youtu.be/zjMuIxRvygQ\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt is such a good video I almost grasp how to think with them after watching it at least 5 times over the last 5 years.\u00A0 Quaternions don\u0027t mesh well with normal brain wetware 3d rotations and I understand math mostly\u00A0 tactilely and visually which tops out at 3 spatial dimensions unfortunately\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthanks, now i have an entirely new rabbit hole to go down. Also seriously thank you!! lol. I\u0027m watching the video now, didn\u0027t realize I was missing a BIG PICTURE concept lol. It\u0027s funny that you mention it not meshing well with normal brain wetware\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E, so during the process of trial and error up until this point, it had actually occurred to me \u0022gee, is it possible that they\u0027re using some system whereby 3d rotations are described in 4d coordinates?\u0022 but then i was like \u0022no that would be silly, who does that?\u0022 lol Also you should know that i hadn\u0027t heard of quaternions before lol.\u00A0I love that Oliver Heaviside initially said \u0022the quaternion was not only not required but was also a positive evil\u0022 lol!!!\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0Understanding this will no doubt be useful in life.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-04-01T16:29:54Z\u0022 title=\u002204/01/2023 04:29  PM\u0022 data-short=\u00221 yr\u0022\u003EApril 1, 2023\u003C/time\u003E by KlunkWorks\u003C/strong\u003E\n\u003Cbr\u003Espelling/grammar\n\u003C/span\u003E\n"},{"CreatedByName":"ColdJ","CreatedById":211123,"CreatedDateTime":"2023-04-25T03:20:02Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/227815-klunkworks/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022227815\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/227815-klunkworks/\u0022 rel=\u0022\u0022\u003E@KlunkWorks\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSorry, haven\u0027t looked in here for a while. This is the explanation I have on my thread.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:36px;\u0022\u003EQuaternions\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a rotational method used by KSP. It used for animations and for orienting Props in Internal models for IVA.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you start a fresh project in BforArtists/Blender it usually is defaulted to Euler in the Item Transform in the main workspace. (where you see info on location, rotation and scale). Before creating an animation you will want to be sure all your Heirachy parts/meshes are set to Quaterions or else the animation won\u0027t work in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nAs said it is also used for orientation for stock props. Trouble is it is not consistent and some props are set up differently. For things like Atmosphere depth and Speed readout it is \u0022first is second and negative in BFA2(X), last is first (W)\u0022\n\u003C/p\u003E\n\u003Cp\u003E\ne.g\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 PROP\u003Cbr\u003E\n\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ledPanelSpeed\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0position = 0.0,0.07,-1.9813\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0rotation = 0.707,0,0,0.707\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0scale = 1,1,1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\nIn this example the first number 0.707 is in blender in the X rotation box and a negative number. The last number 0.707 is found in the W rotation box and the same positive.\n\u003C/p\u003E\n\u003Cp\u003E\nTook a lot of experimenting to get that worked out. Unfortunately The Throttle and the Nav Ball are different.\n\u003C/p\u003E\n"}]}