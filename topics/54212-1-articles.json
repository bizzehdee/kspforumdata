{"TopicId":54212,"ForumId":15,"TopicTitle":"emissive/specular shader","CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-24T15:29:15Z","PageNum":1,"Articles":[{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-24T15:29:15Z","Content":"\n\u003Cp\u003EI\u0027m having some trouble understanding how to use this shader.\u003C/p\u003E\u003Cp\u003EI\u0027ve read through the \u0022How do textures work in KSP\u0022 guide and it makes sense, but I must be missing something about how to apply what it says. The way I understand it, the specularity is controlled by the alpha channel of the diffuse texture.\u003C/p\u003E\u003Cp\u003EWhen I use this shader, the parts I export from unity appear to be VERY shiny, no matter what I do. I tried setting the transparency of the diffuse texture all the way down to 2% in GIMP and the model still reflects a lot of light. Setting it much higher than that and it gets extremely shiny, blindingly so.\u003C/p\u003E\u003Cp\u003EPlaying with the \u0022specular color\u0022 and \u0022shininess\u0022 settings in unity haven\u0027t revealed much to me.\u003C/p\u003E\u003Cp\u003EAm I understanding things right?\u003C/p\u003E\n"},{"CreatedByName":"Dispatcher","CreatedById":78707,"CreatedDateTime":"2013-11-24T19:00:40Z","Content":"\n\u003Cp\u003EI\u0027m not sure exactly how much shader control one actually has over KSP shaders, other than simply the selection of shader in the first place. I recommend experimenting with the various shaders as well as the tweaking you are attempting within a shader.\u003C/p\u003E\u003Cp\u003EIf you grab my parts (see sig line) and try them out in KSP, you will see that my opaque parts are quite shiny; the shader used for those is Specular. That is after trying to water down the settings. But on these parts I wanted a little contrast to the relatively drab stock parts. I\u0027ve not done much with Emissive so I have no ideas on that.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-24T21:13:36Z","Content":"\n\u003Cp\u003EI used emissive because I wanted an engine heat animation. I also wanted to have a normal map, but to get that you have to chose emissive bumped specular.\u003C/p\u003E\u003Cp\u003EI was looking at one of the engines in the NovaPunch2 pack (the 5m Bearcat x5) and it has 3 textures in its parts folder. One is the diffuse texture, one is the emissive map and one is the bump map. So I am assuming it uses this same shader. I cant see that it does anything different from what I\u0027ve done, but it does not share the awful shininess. I have no idea what the shader settings that were used in unity by that author, though.\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-11-24T21:54:22Z","Content":"\n\u003Cp\u003EIt\u0027s some sort of wizardry by frizzank, and I haven\u0027t figured out how to do it yet.\u003C/p\u003E\u003Cp\u003EFor my own work, when I used the Emissve Bumped Spec shader, it comes out like this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/EYPBlk9.png\u0022 alt=\u0022EYPBlk9.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut it looks more severe in Unity than when rendered in KSP.\u003C/p\u003E\u003Cp\u003EAnd this is the settings on the material itself:\u003C/p\u003E\u003Cp\u003E(thats the nozzle object material, the upper section is regular bumped spec and they look the same)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/xWKMPbq.png\u0022 alt=\u0022xWKMPbq.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo I have the slider set to almost zero to make it tolerable, but I know I am missing something.\u003C/p\u003E\u003Cp\u003EOne thing; you did click on your normal map image and set it to be a normal map and not a texture (and uncheck create from greyscale) - if its not, the shading gets really borked.\u003C/p\u003E\u003Cp\u003EEdit: You can also try saving the diffuse without an Alpha channel at all, that should in theory switch off specularity \u0022augmentation\u0022 from the diffuse and it should be uniform across the model just from the shader/slider. The diffuse for the engine above is a PNG with no Alpha channel\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-24T22:02:22Z\u0022 title=\u002211/24/2013 10:02  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 24, 2013\u003C/time\u003E by Tiberion\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-25T17:10:00Z","Content":"\n\u003Cp\u003EThanks for the info Tiberion. The normal map is marked as such. \u0022Create from Grayscale\u0022 is unchecked.\u003C/p\u003E\u003Cp\u003EMy model is composed of several sub-models (?). I tried setting the top portion that does not need the emissive effect to use the \u0022bumped\u0022 shader, but it still appears the same.\u003C/p\u003E\u003Cp\u003EI\u0027ll try saving the diffuse without an alpha channel.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-25T18:00:14Z","Content":"\n\u003Cp\u003EThat didn\u0027t seem to make any difference. I also tried resetting the shader for every object to simply \u0022diffuse\u0022 and it still looked the same. So now I am thinking I\u0027ve done something fundamentally wrong, somewhere. Or else it in fact looks the way it is supposed to look, given the textures I\u0027ve created. I\u0027ll try getting some screenshots up later.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-25T19:06:00Z","Content":"\n\u003Cp\u003EI went back and examined the textures that were in the NovaPunch pack. I think one thing I have done \u0022wrong\u0022 is use white as the basic color of my part. The colors that appear white on the 5m x 12m fuel tank, for instance are really light gray. Changing my part to use that color helped tone it down some. But it still seems crazy bright.\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-11-25T19:23:21Z","Content":"\n\u003Cp\u003EPost some screenshots, without seeing what you\u0027re seeing I can\u0027t judge what the issue might be.\u003C/p\u003E\u003Cp\u003EIs it way more shiny than the images I posted?\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-26T12:28:14Z","Content":"\n\u003Cp\u003EHere is a picture of my part with the 5m x12m fuel tank stacked on top of it. The brilliant white color shown on my part is actually the exact same color used in the white areas of the texture for the NovaPunch tank.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/95986775/bright_white.png\u0022 alt=\u0022bright_white.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-26T12:29:44Z","Content":"\n\u003Cp\u003EIf I remember right all the way back to yesterday afternoon, this is using only the diffuse shader.\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-11-26T17:43:36Z","Content":"\n\u003Cp\u003EHmm, I think I know your issue. \u003C/p\u003E\u003Cp\u003EWhat program do you model in? It appears that your entire part is in the same smoothing group, and KSP thinks its facing directly up towards the VAB lighting source, which is why its washed out completely.\u003C/p\u003E\u003Cp\u003Eif you use blender, you should do an edge split modifier (On the right side, select the tab with the wrench icon, select edge split. Adjust the angle until all of your hard edges appear shaded properly and then hit apply from Object mode) This actually unlinks the pieces of your mesh into different surfaces so lighting can be applied to them separately. The UVmap is unaffected, but you can reverse the operation by going to Edit mode -\u0026gt; Mesh -\u0026gt; Vertices -\u0026gt; Remove Doubles\u003C/p\u003E\u003Cp\u003EIf you use Max, I can\u0027t be of much help, about all I know is you can add polys to \u0027smoothing groups\u0027 to set up individual shading areas in a similar way.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-11-27T13:53:07Z","Content":"\n\u003Cp\u003EThanks, Tiberion. I do use blender and I seem to remember doing that modifier as I was working through some tutorials a while back. I\u0027m certain I have NOT done it for this model. I\u0027ll give it a shot later today and report back.\u003C/p\u003E\n"},{"CreatedByName":"frizzank","CreatedById":57210,"CreatedDateTime":"2013-11-28T07:04:21Z","Content":"\n\u003Cp\u003EUse the KSP/Emissive/Bumped Specular. \u003C/p\u003E\u003Cp\u003EMake sure your normal map is using Y up. Your normal map should not look like its inverted.\u003C/p\u003E\u003Cp\u003E To test this make a simple black and white height map and select it as the normal map. Then it the height maps texture properties select normal map for the texture type and convert from grey scale. Then click apply.\u003C/p\u003E\u003Cp\u003ESetting the specular color to Black in unity should remove all the specular highlights in the preview window. \u003C/p\u003E\u003Cp\u003EThis is the intensity of your specularity, how bright your hotspot is.\u003C/p\u003E\u003Cp\u003EThe shininess controls the spread of the hotspot. This simulates a shiny surface or a dull one.\u003C/p\u003E\u003Cp\u003EThe alpha channel of the diffuse only controls the intensity of the spec map black is 0 and white is full on bright. The specular color overrides this value.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2013-12-01T14:43:41Z","Content":"\n\u003Cp\u003EThanks to all who helped! I think that splitting the edges was what worked. I say \u0022think\u0022 because I wound up having to start over (long story) and that is what I did different. And then I wound up starting over again. I\u0027ve got new questions but I\u0027ll start another thread.\u003C/p\u003E\n"}]}