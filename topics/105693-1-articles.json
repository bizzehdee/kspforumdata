{"TopicId":105693,"ForumId":15,"TopicTitle":"ModuleAnimationGroup - how to use.","CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-04-28T17:03:42Z","PageNum":1,"Articles":[{"CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-04-28T17:03:42Z","Content":"It is a long waited complex animation module. But there is no any info for us, modders.\n\nMODULE\n\n{\n\n name = ModuleAnimationGroup\n\n deployAnimationName = *Your\\_deploy/retract\\_animation* (as it seems)\n\n activeAnimationName = *Looping\\_animation\\_for\\_active\\_state* (as it seems)\n\n deployActionName = Activate\n\n retractActionName = Deactivate\n\n moduleType = Scanner/Drill/... **What else?**\n\n}\n\n* * *\n\nActually found out.\n\n- moduleType is just a string to be displayed in buttons: \u0022{deployActionName} {moduleType}\u0022 and \u0022{retractActionName} {moduleType}\u0022\n\n- you can skip deployActionName and retractActionName, they default to \u0022Deploy\u0022 and \u0022Retract\u0022.\n\n- activeAnimationName DO start and stop looping animation, which is great. It actually follows the state of ModuleResourceHarvester and ModuleResourceScanner. \n\n- you can skip deployAnimationName to only use looping animation. However not sure if loop can be started/stopped manually.\n\nWhen combining both looping and non-looping animation in editor - ensure that during the wanna-be-looping part of animation everything else is stuck in deployed position. Then just divide your animation in two clips in Unity.\n\nIf you work in Blender and your loop looks weird - go to \u0022File-\u003EUser Preferences-\u003EEditing-\u003ENew F-curve defaults\u0022 and set Interpolation to Linear. Then delete all loop keyframes and make new ones.\n\n**Edited \u003Ctime datetime=\u00222015-04-30T17:25:52Z\u0022 title=\u002204/30/2015 05:25  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 30, 2015\u003C/time\u003E by Dr. Jet**\n  \nFound out how it works."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-04-28T20:40:44Z","Content":"Looping animations are now possible in stock? Yay!\n\nBut yeah, I\u0027m not sure what other options are available for moduleType."},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-04-28T23:34:22Z","Content":"Hmmmm this looks interesting....will have to play with that!"},{"CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-04-30T17:30:31Z","Content":"[Updated](https://forum.kerbalspaceprogram.com/threads/117334-ModuleAnimationGroup-how-to-use?p=1874928\u0026viewfull=1#post1874928)"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-30T22:43:37Z","Content":"There is also the very cool IAnimatedModule associated interface. When you deploy something with ModuleAnimationGroup it searches for all other modules on the same part the implement that interface and activates them (sets the base PartModule\u0027s isEnabled to true, which activates all of the OnUpdate, OnFixedUpdate code). \n\nYou can use this to allow the animation group to trigger functions in other modules. It\u0027s a very simple way of tying together multiple modules instead of trying to group clump everything together."},{"CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-05-01T09:32:29Z","Content":"Can you be more specific, please? And example would be good too."},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-02T20:12:30Z","Content":"It\u0027s not something you would use in a config file, it\u0027s something for new part modules to use.\n\nHere is a very simple example of what I\u0027m using in SCANsat to prevent the use of a scanner until the dish is actually deployed.\n\n[https://github.com/DMagic1/SCANsat/blob/dev/SCANsat/SCANresourceScanner.cs](https://github.com/DMagic1/SCANsat/blob/dev/SCANsat/SCANresourceScanner.cs)\n\nBasically, it only runs the code in OnUpdate once the dish is opened."},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-05-09T22:40:54Z","Content":"\u003E \n\u003E moduleType = Scanner/Drill/... **What else?**\n\nthis can just be anything and the GUI will display \u0022Deploy Scanner\u0022 or \u0022Deploy Drill\u0022 etc (I tried some random words and that was what changed at least) I think maybe it also looks for the module to tie to, since it is in the ISRU as \u0022Converter\u0022 and the moduleresourceconverter doesnt seem to reference it at any point) was hoping it would work with science for something im trying atm but no luck so far.\n\nalso using it without it being referenced by anything and without a loop animation is returning me pretty neverending \u0022[RESOURCES] - ERROR IN OnUpdate of ModuleAnimationGroup\u0022\n\nIt does, however, work alongside a moduleanimategeneric so it allows a way for 2 animations on a part without additional plugins, I just cant get it to work for 2 different science experiments on the same part.\n\n**Edited \u003Ctime datetime=\u00222015-05-09T23:01:58Z\u0022 title=\u002205/09/2015 11:01  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 9, 2015\u003C/time\u003E by Squiggsy**"}]}