{"TopicId":105693,"ForumId":15,"TopicTitle":"ModuleAnimationGroup - how to use.","CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-04-28T17:03:42Z","PageNum":1,"Articles":[{"CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-04-28T17:03:42Z","Content":"\n\u003Cp\u003EIt is a long waited complex animation module. But there is no any info for us, modders.\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleAnimationGroup\u003C/p\u003E\u003Cp\u003E deployAnimationName = \u003Cem\u003EYour_deploy/retract_animation\u003C/em\u003E (as it seems)\u003C/p\u003E\u003Cp\u003E activeAnimationName = \u003Cem\u003ELooping_animation_for_active_state\u003C/em\u003E (as it seems)\u003C/p\u003E\u003Cp\u003E deployActionName = Activate\u003C/p\u003E\u003Cp\u003E retractActionName = Deactivate\u003C/p\u003E\u003Cp\u003E moduleType = Scanner/Drill/... \u003Cstrong\u003EWhat else?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003EActually found out.\u003C/p\u003E\u003Cp\u003E- moduleType is just a string to be displayed in buttons: \u0022{deployActionName} {moduleType}\u0022 and \u0022{retractActionName} {moduleType}\u0022\u003C/p\u003E\u003Cp\u003E- you can skip deployActionName and retractActionName, they default to \u0022Deploy\u0022 and \u0022Retract\u0022.\u003C/p\u003E\u003Cp\u003E- activeAnimationName DO start and stop looping animation, which is great. It actually follows the state of ModuleResourceHarvester and ModuleResourceScanner. \u003C/p\u003E\u003Cp\u003E- you can skip deployAnimationName to only use looping animation. However not sure if loop can be started/stopped manually.\u003C/p\u003E\u003Cp\u003EWhen combining both looping and non-looping animation in editor - ensure that during the wanna-be-looping part of animation everything else is stuck in deployed position. Then just divide your animation in two clips in Unity.\u003C/p\u003E\u003Cp\u003EIf you work in Blender and your loop looks weird - go to \u0022File-\u0026gt;User Preferences-\u0026gt;Editing-\u0026gt;New F-curve defaults\u0022 and set Interpolation to Linear. Then delete all loop keyframes and make new ones.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-30T17:25:52Z\u0022 title=\u002204/30/2015 05:25  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 30, 2015\u003C/time\u003E by Dr. Jet\u003C/strong\u003E\n\u003Cbr\u003EFound out how it works.\n\u003C/span\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-04-28T20:40:44Z","Content":"\n\u003Cp\u003ELooping animations are now possible in stock? Yay!\u003C/p\u003E\u003Cp\u003EBut yeah, I\u0027m not sure what other options are available for moduleType.\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-04-28T23:34:22Z","Content":"\n\u003Cp\u003EHmmmm this looks interesting....will have to play with that!\u003C/p\u003E\n"},{"CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-04-30T17:30:31Z","Content":"\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/117334-ModuleAnimationGroup-how-to-use?p=1874928\u0026amp;viewfull=1#post1874928\u0022 rel=\u0022external nofollow\u0022\u003EUpdated\u003C/a\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-30T22:43:37Z","Content":"\n\u003Cp\u003EThere is also the very cool IAnimatedModule associated interface. When you deploy something with ModuleAnimationGroup it searches for all other modules on the same part the implement that interface and activates them (sets the base PartModule\u0027s isEnabled to true, which activates all of the OnUpdate, OnFixedUpdate code). \u003C/p\u003E\u003Cp\u003EYou can use this to allow the animation group to trigger functions in other modules. It\u0027s a very simple way of tying together multiple modules instead of trying to group clump everything together.\u003C/p\u003E\n"},{"CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-05-01T09:32:29Z","Content":"\n\u003Cp\u003ECan you be more specific, please? And example would be good too.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-02T20:12:30Z","Content":"\n\u003Cp\u003EIt\u0027s not something you would use in a config file, it\u0027s something for new part modules to use.\u003C/p\u003E\u003Cp\u003EHere is a very simple example of what I\u0027m using in SCANsat to prevent the use of a scanner until the dish is actually deployed.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/DMagic1/SCANsat/blob/dev/SCANsat/SCANresourceScanner.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/DMagic1/SCANsat/blob/dev/SCANsat/SCANresourceScanner.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBasically, it only runs the code in OnUpdate once the dish is opened.\u003C/p\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-05-09T22:40:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dr. Jet\u0022 data-cite=\u0022Dr. Jet\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E moduleType = Scanner/Drill/... \u003Cstrong\u003EWhat else?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethis can just be anything and the GUI will display \u0022Deploy Scanner\u0022 or \u0022Deploy Drill\u0022 etc (I tried some random words and that was what changed at least) I think maybe it also looks for the module to tie to, since it is in the ISRU as \u0022Converter\u0022 and the moduleresourceconverter doesnt seem to reference it at any point) was hoping it would work with science for something im trying atm but no luck so far.\u003C/p\u003E\u003Cp\u003Ealso using it without it being referenced by anything and without a loop animation is returning me pretty neverending \u0022[RESOURCES] - ERROR IN OnUpdate of ModuleAnimationGroup\u0022\u003C/p\u003E\u003Cp\u003EIt does, however, work alongside a moduleanimategeneric so it allows a way for 2 animations on a part without additional plugins, I just cant get it to work for 2 different science experiments on the same part.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-09T23:01:58Z\u0022 title=\u002205/09/2015 11:01  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 9, 2015\u003C/time\u003E by Squiggsy\u003C/strong\u003E\n\u003C/span\u003E\n"}]}