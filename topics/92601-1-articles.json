{"TopicId":92601,"ForumId":29,"TopicTitle":"Orbit from ORBIT config node","CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2014-12-12T06:36:53Z","PageNum":1,"Articles":[{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2014-12-12T06:36:53Z","Content":"\n\u003Cp\u003EOkay, I feel like this one should be easier than I\u0027m making it, so going to the forums for some hopefully quick help. I\u0027m trying to load/create an Orbit object from an ORBIT config node such as this one:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EORBIT{\u003Cbr\u003E    SMA = 1449999.99996286\u003Cbr\u003E    ECC = 1.07570816555399E-05\u003Cbr\u003E    INC = 0\u003Cbr\u003E    LPE = 270.690311604893\u003Cbr\u003E    LAN = 1.93635924563296\u003Cbr\u003E    MNA = 1.55872660382504\u003Cbr\u003E    EPH = 31.3999999999994\u003Cbr\u003E    REF = 1\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is the code that I\u0027ve tried:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E        public static Orbit ParseOrbit(ConfigNode configNode, CelestialBody body)\u003Cbr\u003E        {\u003Cbr\u003E            double inc = Convert.ToDouble(configNode.GetValue(\u0022INC\u0022));\u003Cbr\u003E            double e   = Convert.ToDouble(configNode.GetValue(\u0022ECC\u0022));\u003Cbr\u003E            double sma = Convert.ToDouble(configNode.GetValue(\u0022SMA\u0022));\u003Cbr\u003E            double lan = Convert.ToDouble(configNode.GetValue(\u0022LAN\u0022));\u003Cbr\u003E            double w   = Convert.ToDouble(configNode.GetValue(\u0022MNA\u0022));\u003Cbr\u003E            double mEp = Convert.ToDouble(configNode.GetValue(\u0022LPE\u0022));\u003Cbr\u003E            double t   = Convert.ToDouble(configNode.GetValue(\u0022EPH\u0022));\u003Cbr\u003E\u003Cbr\u003E            return new Orbit(inc, e, sma, lan, w, mEp, t, body);\u003Cbr\u003E        }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow, the first 4 parameters are obvious (or at least, I think they are). Based purely on the parameter counts, I\u0027m working on the wild guess that the last 3 just need to be in the right order (vs. representing different things and needing some conversion to get into the right form). Anyway, the code isn\u0027t working - when I instantiate a vessel with this orbit I get the \u0022orbit is NaN\u0022 error in the logs (and just FYI, the orbit is an 850KM circular equatorial orbit).\u003C/p\u003E\u003Cp\u003EAnyway, my questions:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EAm I just getting the mapping/ordering on the last 3 parameters wrong?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIf not, how do I convert MNA/LPE/EPH to w/mEp/t. And what are w/mEp/t? I figured out the others from \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Orbit\u0022 rel=\u0022external nofollow\u0022\u003Ethis page on the wiki\u003C/a\u003E.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIs there a super obvious public class/method in the squad code base that I\u0027m missing. I looked really hard for Orbit.Load() or something that would\u0027ve made my life easy.\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThanks for the help!\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-12-12T07:18:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003E\u003Cul\u003E\u003Cli\u003EIs there a super obvious public class/method in the squad code base that I\u0027m missing. I looked really hard for Orbit.Load() or something that would\u0027ve made my life easy.\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, there is. OrbitSnapshot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2014-12-12T13:48:16Z","Content":"\n\u003Cp\u003EI have no idea how I missed that. Thank you!\u003C/p\u003E\n"}]}