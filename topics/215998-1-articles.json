{"TopicId":215998,"ForumId":119,"TopicTitle":"How will collisions in planet rings work?","CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-03-27T20:58:47Z","PageNum":1,"Articles":[{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-03-27T20:58:47Z","Content":"\n\u003Cp\u003E\nBecause for today in Dres ring are no collisions, I thought, how will they work in the future. There are so many oblects which must be uploaded while you fly in rings, and I think that uploading many data, like updating space rocks which is in craft\u0027s phys range right now, can cause perfomance decrease. Especially if in KSP2 will be gygantic protoplanet disks (I\u0027m sure they will).\u00A0 I believe that rocks, which is not predicted to crash in your craft, won\u0027t be complete game objects with collision mesh in some kind\u003Cbr\u003E\nI\u0027m not unity game programer and my ideas can be wrong. I tried to visualise the concept of collision system for rings and how I understand this:\u003Cbr\u003E\n\u003Cimg alt=\u0022Collisionconceptphot.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002277.58\u0022 height=\u0022436\u0022 width=\u0022562\u0022 src=\u0022https://u.cubeupload.com/Vortygont/Collisionconceptphot.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E you had craft parameters like lenght, width, height, I made a box with them around my craft. I have attached to craft normal vector, which sets orientation of this box. I add vector of craft relative speed, which is relative to speed of ring in its part, where is craft now. Using this vector I create collision space by creating a section of the box perpendicular to the vector of relative velocity, and lengthening it backwards so that the craft is in collision space space, and forwards by the length optimal for the calculation at a given relative speed. Forward lenght can be formula from relative speed or lenght can be equal to\u00A0 phys radius range. If rock enters collision space (like some of its mesh node enters this space or another method) you can make it an complete game object with collision mesh and physics and calculate interations with it\u003Cbr\u003E\nI tried to solve problem to get rid from data of objects, which won\u0027t obviously collide with craft, like objects backwards and on left and right of craft. If you have suggestions or experience in some tech stuff, you can point out my mistakes and/or make a suggestion how to improve collisions in planet rings\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-03-27T21:28:53Z","Content":"\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022210281\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed9562902142\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/203961-developer-insights-10-%E2%80%93-collisions/\u0026amp;do=embed\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nDeep dive into collisions, there\u0027s something that might interest you.\n\u003C/p\u003E\n"},{"CreatedByName":"Strawberry","CreatedById":222150,"CreatedDateTime":"2023-03-27T21:33:03Z","Content":"\n\u003Cp\u003E\nI assume that if youre going at a relative speed to where it cant calculate itll just use rock density to calculate the chance of you \u0022colliding\u0022, and use that chance to dictate if your ship explodes or not\n\u003C/p\u003E\n"},{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-03-28T11:55:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224266335\u0022 data-ipsquote-contentid=\u0022215998\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221679952783\u0022 data-ipsquote-userid=\u0022222150\u0022 data-ipsquote-username=\u0022Strawberry\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Strawberry said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI assume that if youre going at a relative speed to where it cant calculate itll just use rock density to calculate the chance of you \u0022colliding\u0022, and use that chance to dictate if your ship explodes or not\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI see that is similar to my example, but it is not so exactly. There must be honest interactions with object, like if you see a rock and you dodge it, you won\u0027t crash in it, you can avoid rocks if you will\u00A0maneuver correctly in the ring. And if you set a course to collide with certain rock, you will collide with it. If I understand right, problem with chance method is that you need spawn a rock properly to crash in ship, they mustn\u0027t appear from nowhere and you must see how rock fly and crash ship\u003Cbr\u003E\nI think that it will be good to set in rings relative small special \u0022rock\u0022 phys radius around a ship, only in which rock physics will be enabled, rocks outside this space will be just textures with disabled physics. I tried to draft optimal geometry of this space, but maybe it will be easy to make just smaller sphere\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224266333\u0022 data-ipsquote-contentid=\u0022215998\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221679952533\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDeep dive into collisions, there\u0027s something that might interest you.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you for sharing, but there are cases with part-surface and part-part cases. I think that rock collision system will be similar with part-part, but problem that in rings is huge amount of objects and game must do very many calculations in this case. So you can\u0027t store all ring rocks as separate game orbital objects\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-28T12:02:02Z\u0022 title=\u002203/28/2023 12:02  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 28, 2023\u003C/time\u003E by Vortygont\u003C/strong\u003E\n\u003Cbr\u003EEdited answers\n\u003C/span\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-03-28T12:14:05Z","Content":"\n\u003Cp\u003E\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\u003Cp\u003Ewe\u00A0use a continuous collision detection algorithm. Instead of advancing the object forward in time and checking if its mesh\u00A0intersects a collision mesh, we use the object\u2019s current motion\u00A0to predict if and when it will collide.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo check for objects on predicted path, if there\u0027s one, apply collision box.\n\u003C/p\u003E\n\u003Cp\u003E\nPlus there\u0027s the whole physics LOD thing. No point in applying physics for a piece of rock that\u0027s 500 meters away if it\u0027s not going to be affected.\n\u003C/p\u003E\n\u003Cp\u003E\nIn short they\u0027re physicsless until something comes close enough.\n\u003C/p\u003E\n"},{"CreatedByName":"Scarecrow71","CreatedById":210112,"CreatedDateTime":"2023-03-28T15:38:40Z","Content":"\n\u003Cp\u003E\nI think the simplest way to do this would be to simply check whether or not the vessel/probe/Kerbal/whatever is within the space that the entire ring occupies.\u00A0 If so, collision.\u00A0 If not, no collision.\u00A0 Checking this way would eliminate the need to check for individual objects, which would really complicate the performance issues that we are seeing right now.\u00A0 Make the ring one long, continuous object that you simply cannot pass through.\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-03-28T15:48:18Z","Content":"\n\u003Cp\u003E\nMeh, if a space between particles is big enough for a ship to squeeze through.\n\u003C/p\u003E\n"},{"CreatedByName":"Scarecrow71","CreatedById":210112,"CreatedDateTime":"2023-03-28T17:20:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224266620\u0022 data-ipsquote-contentid=\u0022215998\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680018498\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMeh, if a space between particles is big enough for a ship to squeeze through.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t disagree.\u00A0 I\u0027m just saying that at this point, with the performance issues, having the game calculate and track all those objects would be an FPS nightmare.\u00A0 Easier for the time being to just treat the entire ring as 1 object and check for collision with it.\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-03-28T17:26:18Z","Content":"\n\u003Cp\u003E\nWhat all objects? They can track only those that are on the path of the ship. And by the time the ring collision is a thing, the performance should be much better - in fact I bet it isn\u0027t there yet because of that. Same reason why trees and rocks on the surfaces have no collision yet.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, the scale is unknown here but... That doesn\u0027t look like a particularly difficult task to simulate with this level of density\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022C3ArYwk.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/C3ArYwk.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf that stays of course, this is very old footage.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-28T17:28:28Z\u0022 title=\u002203/28/2023 05:28  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 28, 2023\u003C/time\u003E by The Aziz\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sumeee","CreatedById":105622,"CreatedDateTime":"2023-03-28T17:52:54Z","Content":"\n\u003Cp\u003E\nIf I where to guess, they will do no actual collision calculation with the rings, instead I think they will do some sort of a heat mechanic: if the ship is inside the ring it will heat and explode the ship based on the difference in speed and direction of the ship and the ring.\n\u003C/p\u003E\n\u003Cp\u003E\nI think that this approach will better simulate reality because the ship is also interacting with the ring dust, not just the bigger rocks.\n\u003C/p\u003E\n"},{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-03-28T19:13:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224266670\u0022 data-ipsquote-contentid=\u0022215998\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221680025974\u0022 data-ipsquote-userid=\u0022105622\u0022 data-ipsquote-username=\u0022sumeee\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, sumeee said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think that this approach will better simulate reality because the ship is also interacting with the ring dust, not just the bigger rocks.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI would like to add some interaction with ring dust too, because I like feeling and sound of pounding crumbs against your ship, like in this cinematic moment\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://youtu.be/STTTp9nDFOE?t=84\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://youtu.be/STTTp9nDFOE?t=84\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut instead heat, which can be reduced, damage from dust is not reversible, and it will be serious and game change mechanic, and new part characteristics would need to be added. But I like punding, there should be this sound\n\u003C/p\u003E\n"},{"CreatedByName":"Alexoff","CreatedById":145774,"CreatedDateTime":"2023-03-28T21:16:17Z","Content":"\n\u003Cp\u003E\nI saw some video from the rings of Dres, there was a purely visual effect like clouds. Pre-rendered video is not real gameplay! Early access, absolute indulgence\n\u003C/p\u003E\n"},{"CreatedByName":"RocketRockington","CreatedById":223189,"CreatedDateTime":"2023-03-28T21:33:45Z","Content":"\n\u003Cp\u003E\nI\u0027m pretty sure they\u0027ll just leave it up to a modder to do anything realistic, and it will always just be non-collideable particle FX.\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-03-28T21:37:21Z","Content":"\n\u003Cp\u003E\nbusted.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022S6GKm2S.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002248.13\u0022 height=\u0022154\u0022 width=\u0022320\u0022 src=\u0022https://i.imgur.com/S6GKm2S.png\u0022\u003E\n\u003C/p\u003E\n"}]}