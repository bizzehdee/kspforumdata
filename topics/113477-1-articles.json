{"TopicId":113477,"ForumId":29,"TopicTitle":"Detecting UIScrollList changes / when kerbals are added to vehicle crew list?","CreatedByName":"JonDahm","CreatedById":145757,"CreatedDateTime":"2015-06-20T02:18:46Z","PageNum":1,"Articles":[{"CreatedByName":"JonDahm","CreatedById":145757,"CreatedDateTime":"2015-06-20T02:18:46Z","Content":"\n\u003Cp\u003EI\u0027m trying to detect when kerbals are placed in a vehicle in the editors and the Launch Window (the window that pops up when you click on the Launch Pad or the Runway). I\u0027ve been wracking my brain for a few days now, and I can\u0027t find anything. The UIScrollList that the available crew is kept in doesn\u0027t have any hooks for detecting when items are added/removed, and there aren\u0027t any other generic hooks available that I can find -- I tried GameEvents.onKerbalStatusChange(), but the kerbals\u0027 statuses don\u0027t change until you actually launch the vehicle. Does anyone have any insights?\u003C/p\u003E\n"},{"CreatedByName":"JonDahm","CreatedById":145757,"CreatedDateTime":"2015-06-21T21:03:16Z","Content":"\n\u003Cp\u003EBump! I really need some help here!\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-06-21T22:45:33Z","Content":"\n\u003Cp\u003EI\u0027ll look into it if I get some time today but it sounds like you\u0027re on the right track already if you have a hold of the right UIScrollList(s). Try adding delegates for drag and drop and value changed to it (AddDragDropDelegate, AddValueChangedDelegate, \u003Cstrong\u003Enot the Set* ones\u003C/strong\u003E). If that doesn\u0027t work, try adding an input delegate and checking the events yourself.\u003C/p\u003E\u003Cp\u003EThat\u0027s how I\u0027d start. If neither of those work, we\u0027ll dig in further\u003C/p\u003E\n"},{"CreatedByName":"JonDahm","CreatedById":145757,"CreatedDateTime":"2015-06-21T23:06:59Z","Content":"\n\u003Cp\u003EHmmm. I don\u0027t remember if I tried the SetXDelegate or AddXDelegate methods. Whichever one I chose didn\u0027t do anything. I\u0027ll definitely try them again. I\u0027m not actually familiar with how the Input Delegate works, to be honest, but I\u0027ll experiment.\u003C/p\u003E\n"},{"CreatedByName":"JonDahm","CreatedById":145757,"CreatedDateTime":"2015-06-22T00:32:23Z","Content":"\n\u003Cp\u003EAlright, AddValueChangedDelegate gives me a hook into when kerbals are added back into the UIScrollList, \u003Cem\u003Ebut not when they\u0027re taken out\u003C/em\u003E. That\u0027s okay for my application, but I thought I\u0027d warn future readers. Unfortunately, I\u0027ve just discovered that in the Launch Window and the Editor, you can drag and drop kerbals to temporarily swap them or put them into ships. You can also drag them back into the list, but \u003Cstrong\u003Ethis doesn\u0027t trigger the ValueChangedDelegate\u003C/strong\u003E or any of the other publicly available hooks on the UIScrollList. The InputDelegate hook on the list items themselves will tell you when the user is dragging a kerbal, but the other delegates don\u0027t do anything. Damnit. I suppose that\u0027s a start, though...\u003C/p\u003E\n"}]}