{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":191,"Articles":[{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-11T03:22:28Z","Content":"\n\u003Cp\u003E\nafter\u00A0studying\u00A0\u00A0PROFILERESULT(), is gets much clearer. ;-)\u003Cbr\u003E\u003Cbr\u003E\none question left:\u003Cbr\u003E\nhow the reduce power consumtion for user-input ?\u003Cbr\u003E\u003Cbr\u003E\nI run a lot of code but still one \u0022on ag1 {preserve. ...}\u0022 consumes 99% of the energy over time. This seems unbalanced.\u003Cbr\u003E\u003Cbr\u003E\nI can work around it in most cases, but not for userinput (on button1:pressed , on abort , ... )\u003Cbr\u003E\u003Cbr\u003E\n(A weird workaround would be a second core powered down, powered up in the action groups, checking for changes then)\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"EmbersArc","CreatedById":163406,"CreatedDateTime":"2017-01-11T09:09:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222917377\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484084399\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes this reliably happen to you every time? \u00A0I had a similar error one time (but only once) in a convoluted set of steps (dock with station in orbit, transfer to the mun, undock, try to land, crash into the surface destroying the entire lander, revert to launch) so I wasn\u0027t able to reproduce it. \u00A0The method itself that throws the error is actually pretty simple, and I thought it was already null safe. \u00A0I suspect that it is somehow related to docking (since both of our instances involved docking) but I\u0027m not really sure how that\u0027s possible. \u00A0I only see one error in the log you linked, did I miss the first one somewhere, or are you referring to the AGExt error? \u00A0The AGExt error is in a set of error fixes that are pending for the next release (and I really need to finish making the review edits).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes it happens every time when the vessels dock. I\u0027m not exactly sure what I\u0027m referring to either. That\u0027s just the area where docking happens and thighs most likely went wrong. Maybe it\u0027s because of some sort of cyclic docking because there are two ports? If you want I can send you the save and the script to reproduce it.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Turns out all it does is just unlock STEERING and THROTTLE. I have to reassign those after docking but then it continues fine.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-11T14:53:50Z\u0022 title=\u002201/11/2017 02:53  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 11, 2017\u003C/time\u003E by EmbersArc\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-11T16:41:50Z","Content":"\n\u003Cp\u003E\nI would welcome a canvas widget for the gui.\u003Cbr\u003E\u003Cbr\u003E\nto draw gnuplot-like diagrams.\n\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2017-01-11T20:53:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222917647\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484104948\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI run a lot of code but still one \u0022on ag1 {preserve. ...}\u0022 consumes 99% of the energy over time. This seems unbalanced.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not sure what exactly you mean by \u002299%\u0022, do you mean over time it consumes the full storage capacity of the probe or that it consumes 99% of the largest \u0022kOS Average Power\u0022 field?\u00A0 By default the parts that ship with the mod consume 0.000004EC per instruction. \u00A0If you look at the profile of the \u0060on\u0060 trigger, you\u0027ll see that every tick it evaluates the condition. \u00A0I just checked the simple example of \u0060on ag1 { reboot. }\u0060 with no other program running and read an average power of 0.003EC/s. \u00A0If you are still executing logic at the same time, the other instructions will also add up. \u00A0Even if you are not executing any code at all, there is at least one instruction executed every tick (the end of program instruction) so there is no way to reach exactly 0EC/s (though it\u0027s pretty close when not running a program). \u00A0If you have a bunch of other triggers active at the same time as your AG1 trigger, each condition evaluation will consume more power. \u00A0If you\u0027re seeing the EC/s always maxed out (the max should be 0.4EC/s at 2000 IPU and 50FPS) and your program should be idle, we might need to look into potential wasted instructions in the script somewhere.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222917805\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484125755\u0022 data-ipsquote-userid=\u0022163406\u0022 data-ipsquote-username=\u0022EmbersArc\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, EmbersArc said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes it happens every time when the vessels dock. I\u0027m not exactly sure what I\u0027m referring to either. That\u0027s just the area where docking happens and thighs most likely went wrong. Maybe it\u0027s because of some sort of cyclic docking because there are two ports? If you want I can send you the save and the script to reproduce it.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Turns out all it does is just unlock STEERING and THROTTLE. I have to reassign those after docking but then it continues fine.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you mean that by unlocking the two controls you can prevent the error entirely? \u00A0Or do you mean that the effect is that the steering and throttle both get unlocked upon docking? \u00A0This is \u0022more\u0022 possible with throttle than steering, since the two use separate methods to subscribe to \u0022autopilot\u00A0events\u0022 (for now), but may still be possible with both if the previous vessel, the one that had the locks enabled, is not the dominant vessel. \u00A0That is to say if the ship you\u0027re flying technically gets destroyed because it\u0027s merged with the 2nd craft it is possible for the timing to be such that the locks are thrown away.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I\u0027m more curious to see if it removed the error messages\u00A0entirely. \u00A0And if you could clarify: did just the throttle/steering lock issue happen every time, or did the error message happen every time? \u00A0I haven\u0027t tested docking on the ground much, but I have extensive docking tests in orbit and haven\u0027t seen that error message, so I\u0027m curious to see if I need to add a new test case.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s also a chance that the claw is complicating things. \u00A0While it is very similar to a docking port, it isn\u0027t exactly the same. \u00A0I just found out that it doesn\u0027t increase the count of \u0022elements\u0022 on a vessel. \u00A0So it\u0027s possible that it\u0027s \u0022docking\u0022 behavior is enough different that we get unexpected behaviors.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-11T20:57:18Z\u0022 title=\u002201/11/2017 08:57  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 11, 2017\u003C/time\u003E by hvacengi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-11T23:20:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918386\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484167987\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m not sure what exactly you mean by \u002299%\u0022, do you mean over time it consumes the full storage capacity of the probe or that it consumes 99% of the largest \u0022kOS Average Power\u0022 field?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nsimple example:\u00A0\u003Cbr\u003E\nI have a battery with 100 EC\n\u003C/p\u003E\n\u003Cp\u003E\nin a given period of time all the code I run consumes 1 EC, while the ONE trigger that is ALWAYS active on ag1 consumes 99 EC.\u003Cbr\u003E\u003Cbr\u003E\nso all the launch, transfer, landing, deorbit, etc, etc code, consumes 1%, and the one trigger for opening the gui consumes 99%.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nSo most of the battery of the vessel is not there for all the calculations, but just for the one trigger for user interaction.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-11T23:22:28Z\u0022 title=\u002201/11/2017 11:22  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 11, 2017\u003C/time\u003E by sebseb7\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2017-01-12T04:56:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918564\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484176849\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsimple example:\u00A0\u003Cbr\u003E\nI have a battery with 100 EC\n\u003C/p\u003E\n\u003Cp\u003E\nin a given period of time all the code I run consumes 1 EC, while the ONE trigger that is ALWAYS active on ag1 consumes 99 EC.\u003Cbr\u003E\u003Cbr\u003E\nso all the launch, transfer, landing, deorbit, etc, etc code, consumes 1%, and the one trigger for opening the gui consumes 99%.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nSo most of the battery of the vessel is not there for all the calculations, but just for the one trigger for user interaction.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHow do you come by that figure of how much EC is consumed by the various portions of the code? \u00A0Depending on the timing of the mission and how complex your other script logic is, it is very possible that the trigger is executed often enough to be a significant contributor to the total EC usage. \u00A0So my question is: when only\u00A0the \u0060on ag1\u0060 trigger is running, what is the value for \u0022kOS Average Power\u0022 on the right click menu of the cpu part?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to figure out if you are observing higher than expected power consumption, or if you\u0027re just commenting on/observing the intended behavior that an idle waiting processor still consumes power.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the power consumption is higher than expected\u00A0I will want to test the script you are running, preferably with the original craft file and/or a save file. \u00A0If our power consumption is broken, we need to fix it.\n\u003C/p\u003E\n"},{"CreatedByName":"TheRagingIrishman","CreatedById":165004,"CreatedDateTime":"2017-01-12T06:14:25Z","Content":"\n\u003Cp\u003E\nI\u0027m an experienced KSP player and a competent programmer (self-taught Java and a few other languages) and would love to get into KOS. 2 questions I have are\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nis the stuff on\u00A0\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/index.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/index.html\u003C/a\u003E\u00A0up to date?\n\u003C/li\u003E\n\u003Cli\u003E\nwhat IRL language is kerboscript\u00A0most similar to?\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-12T07:37:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918779\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484196972\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow do you come by that figure of how much EC is consumed by the various portions of the code? \u00A0Depending on the timing of the mission and how complex your other script logic is, it is very possible that the trigger is executed often enough to be a significant contributor to the total EC usage. \u00A0So my question is: when only\u00A0the \u0060on ag1\u0060 trigger is running, what is the value for \u0022kOS Average Power\u0022 on the right click menu of the cpu part?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to figure out if you are observing higher than expected power consumption, or if you\u0027re just commenting on/observing the intended behavior that an idle waiting processor still consumes power.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the power consumption is higher than expected\u00A0I will want to test the script you are running, preferably with the original craft file and/or a save file. \u00A0If our power consumption is broken, we need to fix it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nif I let the ship just do its housekeeping task it consumes just 0.1EC per hour. If I also activate a trigger to wait for a single key input it consumes 10EC per hour.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nany active trigger consumes \u0026gt;=\u00A00.001/s \u00A0(depending on the length of the expression), the trigger is never really executed, just the \u0022on ag1\u0022 part.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nI observe totally expected power consumption.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nThe point is: over the long run, is feels unbalanced that waiting for a keypress consumes 99% of the energy.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nsuggestion: events you don\u0027t have to poll. or some kind of powersave mode, where you can \u0022underclock\u0022 the cpu, if you\u0027re just waiting for input.\u003Cbr\u003E\nIf you open a gui window with a lot of \u0022on buttonx:pressed\u0022 triggers, power consumption goes way up, just to watch for the buttons.\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918813\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484201665\u0022 data-ipsquote-userid=\u0022165004\u0022 data-ipsquote-username=\u0022TheRagingIrishman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, TheRagingIrishman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m an experienced KSP player and a competent programmer (self-taught Java and a few other languages) and would love to get into KOS. 2 questions I have are\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nis the stuff on\u00A0\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/index.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/index.html\u003C/a\u003E\u00A0up to date?\n\u003C/li\u003E\n\u003Cli\u003E\nwhat IRL language is kerboscript\u00A0most similar to?\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nis up-to-date. difficult to compare kerboscript. the concept is weird, but fun.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nit feels a little bit like microcontroller software development.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nI started learning kerboscript a few weeks ago and now launch, deorbit/chute\u00A0sequence, land on mun, ascent from mun, node exeution, etc. etc. is working fine already.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nplotting in realtime is also fun:\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022360\u0022 src=\u0022https://player.vimeo.com/video/194263658\u0022 title=\u0022Kerbal Space Programm \u0026amp; kOS \u0026amp; gnuplot\u0022 width=\u0022640\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"EmbersArc","CreatedById":163406,"CreatedDateTime":"2017-01-12T10:36:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918386\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484167987\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOr do you mean that the effect is that the steering and throttle both get unlocked upon docking? \u00A0This is \u0022more\u0022 possible with throttle than steering, since the two use separate methods to subscribe to \u0022autopilot\u00A0events\u0022 (for now), but may still be possible with both if the previous vessel, the one that had the locks enabled, is not the dominant vessel. \u00A0That is to say if the ship you\u0027re flying technically gets destroyed because it\u0027s merged with the 2nd craft it is possible for the timing to be such that the locks are thrown away.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes that\u0027s what I mean. It happens every time the vessels dock and I can confirm that both throttle \u003Cem\u003Eand \u003C/em\u003Esteering get unlocked.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918386\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484167987\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut I\u0027m more curious to see if it removed the error messages\u00A0entirely. \u00A0And if you could clarify: did just the throttle/steering lock issue happen every time, or did the error message happen every time? \u00A0I haven\u0027t tested docking on the ground much, but I have extensive docking tests in orbit and haven\u0027t seen that error message, so I\u0027m curious to see if I need to add a new test case.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe \u0022ADDON BINDER: Cannot resolve assembly: AGExt, Culture=neutral, PublicKeyToken=null\u0022\u003Cspan style=\u0022color:rgb(51,51,51);font-family:Consolas, \u0027Liberation Mono\u0027, Menlo, Courier, monospace;font-size:12px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:pre;word-spacing:0px;background-color:rgb(255,255,255);float:none;\u0022\u003E \u003C/span\u003Emessage seems to disappear when I re-lock throttle and steering.\n\u003C/p\u003E\n\u003Cp\u003E\nThis however is not that big of a problem. More annoying is the first error I described:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022wdbs6j1.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/wdbs6j1.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure if it\u0027s related. That\u0027s the one that pops up about in about 40% of the cases when I launch the script.\n\u003C/p\u003E\n\u003Cp\u003E\nThe log also regularly prints this error: \u00A0\u0022kOS: SteeringManager.Update: Value is \u0026lt;null\u0026gt;\u0022\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-01-12T13:32:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918838\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484206673\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nsuggestion: events you don\u0027t have to poll. or some kind of powersave mode, where you can \u0022underclock\u0022 the cpu, if you\u0027re just waiting for input.\u003Cbr\u003E\nIf you open a gui window with a lot of \u0022on buttonx:pressed\u0022 triggers, power consumption goes way up, just to watch for the buttons.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHold on, this is the first you mentioned that these triggers are for the GUI - I assume you mean \u003Cspan\u003E@Waz \u0027s gui system?\u00A0 Because in current (not-GUI) kOS, an \u0022on\u0022 trigger shouldn\u0027t consume a lot of power.\u00A0 Every tick it wakes up, performs the few instructions that are in your boolean conditions in the triggers, and then goes back to sleep.\u00A0 That should be nowhere near as much electric drain as when you\u0027re just running a busy loop - not even close.\u00A0 Is the GUI system doing something more than that?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-12T13:32:46Z\u0022 title=\u002201/12/2017 01:32  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 12, 2017\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2017-01-12T14:20:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222919066\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484227939\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHold on, this is the first you mentioned that these triggers are for the GUI - I assume you mean \u003Cspan\u003E@Waz \u0027s gui system?\u00A0 Because in current (not-GUI) kOS, an \u0022on\u0022 trigger shouldn\u0027t consume a lot of power.\u00A0 Every tick it wakes up, performs the few instructions that are in your boolean conditions in the triggers, and then goes back to sleep.\u00A0 That should be nowhere near as much electric drain as when you\u0027re just running a busy loop - not even close.\u00A0 Is the GUI system doing something more than that?\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t think that\u0027s what he is saying. \u00A0I think he\u0027s just saying that if you add a bunch of triggers all evaluating simultaneously, their combined power draw can add up very quickly. \u00A0I assume (but would like confirmation) that the EC/s of 10 active button \u0022pressed\u0022 triggers is equal to 10 times the EC/s of a single button \u0022pressed\u0022 trigger. \u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/171651-sebseb7/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022171651\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/171651-sebseb7/\u0022 rel=\u0022\u0022\u003E@sebseb7\u003C/a\u003E\u00A0please correct me if I am incorrect in that assumption.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222918838\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484206673\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nif I let the ship just do its housekeeping task it consumes just 0.1EC per hour. If I also activate a trigger to wait for a single key input it consumes 10EC per hour.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nsuggestion: events you don\u0027t have to poll. or some kind of powersave mode, where you can \u0022underclock\u0022 the cpu, if you\u0027re just waiting for input.\u003Cbr\u003E\nIf you open a gui window with a lot of \u0022on buttonx:pressed\u0022 triggers, power consumption goes way up, just to watch for the buttons.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAgain, I would need to look at your script to be able to comment on the performance. \u00A0If your \u0022house keeping\u0022 uses a lot of \u0022wait\u0022 commands to pause execution, yes it will be more power efficient. \u00A0A straight \u0022wait 1.\u0022 command will consume a total of 2 instructions over the entire 1 second wait period. \u00A0The cpu already \u0022underclocks\u0022, it effectively reduces the clock speed to be exactly the number of instructions that you want to execute that physics tick. \u00A0And \u0022wait\u0022 is the power save mode. \u00A0If you instead poll ag1 from inside your wait loop, you\u0027ll save a large number of instructions. \u00A0If the loop waits only 1s, you should see about 1/50th the EC/s for the polling and there would not be a substantial delay.\n\u003C/p\u003E\n\u003Cp\u003E\nWe have talked about allowing kOS to call user delegates based on certain game conditions similar to events. \u00A0But it requires a change to how instructions are currently executed. \u00A0Given the existing backlog of features and bugs, I don\u0027t know where it falls on the priority list. \u00A0But that\u0027s a discussion best suited for Github, where we can track and assign the issue, as well as keep the conversation around the feature in a single thread.\n\u003C/p\u003E\n\u003Cp\u003E\nYou would have hated the prior EC usage model, which was based solely on the size of the current hard disk. \u00A0It didn\u0027t matter if you used 1 instruction or 2000, the EC/s remained the same.\n\u003C/p\u003E\n"},{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-12T14:34:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222919102\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484230819\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t think that\u0027s what he is saying. \u00A0I think he\u0027s just saying that if you add a bunch of triggers all evaluating simultaneously, their combined power draw can add up very quickly. \u00A0I assume (but would like confirmation) that the EC/s of 10 active button \u0022pressed\u0022 triggers is equal to 10 times the EC/s of a single button \u0022pressed\u0022 trigger. \u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/171651-sebseb7/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022171651\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/171651-sebseb7/\u0022 rel=\u0022\u0022\u003E@sebseb7\u003C/a\u003E\u00A0please correct me if I am incorrect in that assumption.\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, I would need to look at your script to be able to comment on the performance. \u00A0If your \u0022house keeping\u0022 uses a lot of \u0022wait\u0022 commands to pause execution, yes it will be more power efficient. \u00A0A straight \u0022wait 1.\u0022 command will consume a total of 2 instructions over the entire 1 second wait period. \u00A0The cpu already \u0022underclocks\u0022, it effectively reduces the clock speed to be exactly the number of instructions that you want to execute that physics tick. \u00A0And \u0022wait\u0022 is the power save mode. \u00A0If you instead poll ag1 from inside your wait loop, you\u0027ll save a large number of instructions. \u00A0If the loop waits only 1s, you should see about 1/50th the EC/s for the polling and there would not be a substantial delay.\n\u003C/p\u003E\n\u003Cp\u003E\nWe have talked about allowing kOS to call user delegates based on certain game conditions similar to events. \u00A0But it requires a change to how instructions are currently executed. \u00A0Given the existing backlog of features and bugs, I don\u0027t know where it falls on the priority list. \u00A0But that\u0027s a discussion best suited for Github, where we can track and assign the issue, as well as keep the conversation around the feature in a single thread.\n\u003C/p\u003E\n\u003Cp\u003E\nYou would have hated the prior EC usage model, which was based solely on the size of the current hard disk. \u00A0It didn\u0027t matter if you used 1 instruction or 2000, the EC/s remained the same.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nagain. I don\u0027t observe anything incorrect, no need to look at specific code\u00A0\u003Cbr\u003E\u003Cbr\u003E\nIts just that I made my code very power-efficient, and the last remaining big power consumer is: the triggers.\u003Cbr\u003E\u003Cbr\u003E\nOf corse I could\u00A0use my own trigger system, where I have one big loop with a dynamic wait. that sure consumes much less power.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nif all my code would be:\u003Cbr\u003E\non ag1 {stage.}\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthis consumes way too much power compared to other operations (It does\u00A0draw exactly as much has expected). Its just my feeling that this is unbalanced. A\u00A0loop with a wait would be cheaper, but this would be normally the job of the trigger. to deliver a more efficient method than looping.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nthe way it is implemented now leads to a lot of dirty hacks to conserve power. for example:\u00A0\u003Cbr\u003E\non ag1 {stage.}\u003Cbr\u003E\nwould be much cheaper to have just \u0022stage.\u0022 in the boot script and to power up the core using the ag1 action group. This way no power is consumed while waiting for a keypress but still I have my action on ag1.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222919066\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484227939\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHold on, this is the first you mentioned that these triggers are for the GUI - I assume you mean \u003Cspan\u003E@Waz \u0027s gui system?\u00A0 Because in current (not-GUI) kOS, an \u0022on\u0022 trigger shouldn\u0027t consume a lot of power.\u00A0 Every tick it wakes up, performs the few instructions that are in your boolean conditions in the triggers, and then goes back to sleep.\u00A0 That should be nowhere near as much electric drain as when you\u0027re just running a busy loop - not even close.\u00A0 Is the GUI system doing something more than that?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nit had nothing to do with the gui.\n\u003C/p\u003E\n"},{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-12T14:46:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222919123\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484231675\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou would have hated the prior EC usage model,\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nits not that I hate anything. I work with what I am given ;-)\n\u003C/p\u003E\n"},{"CreatedByName":"tseitsei89","CreatedById":162979,"CreatedDateTime":"2017-01-12T23:42:57Z","Content":"\n\u003Cp\u003E\nOk I have now written a script that can get different ships to orbit reasonably effectively and another scipt that can transfer to low mun orbit from \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever when I started to write a script that could land the ship on mun I noticed that alt:radar seems measure altitude to \u0022sea-level\u0022 rather than to the actual ground.\n\u003C/p\u003E\n\u003Cp\u003E\nI couldnt understand why I was hitting the ground so fast every time so I told the script to print alt:radar on every iteration of the loop and it turned out that it printed the same numbers as the big altitude meter in the game shows\u00A0(and that\u00A0measures to \u0022sea-level\u0022). Simultaneously \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E confirmed my results by showing the actual altitude to surface which was almost 3 km less...\n\u003C/p\u003E\n\u003Cp\u003E\nIs alt:radar working properly\u00A0for everyone else?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-12T23:43:59Z\u0022 title=\u002201/12/2017 11:43  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 12, 2017\u003C/time\u003E by tseitsei89\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2017-01-13T02:02:13Z","Content":"\n\u003Ch2 style=\u0022margin-bottom:16px;font-size:1.5em;font-weight:600;line-height:1.25;padding-bottom:.3em;border-bottom:1px solid rgb(238,238,238);color:rgb(51,51,51);font-family:\u0027-apple-system\u0027, BlinkMacSystemFont, \u0027Segoe UI\u0027, Helvetica, Arial, sans-serif, \u0027Apple Color Emoji\u0027, \u0027Segoe UI Emoji\u0027, \u0027Segoe UI Symbol\u0027;font-style:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\nKOS-StockCamera\n\u003C/h2\u003E\n\u003Cp style=\u0022margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:\u0027-apple-system\u0027, BlinkMacSystemFont, \u0027Segoe UI\u0027, Helvetica, Arial, sans-serif, \u0027Apple Color Emoji\u0027, \u0027Segoe UI Emoji\u0027, \u0027Segoe UI Symbol\u0027;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\n\u003Ca href=\u0022https://github.com/hvacengi/KOS-StockCamera/blob/v0.1.0\u0022 style=\u0022background-color:transparent;color:rgb(64,120,192);text-decoration:none;\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022for KSP v1.2.2\u0022 src=\u0022https://camo.githubusercontent.com/751fd45d5d9e748fcc737c9aa73b2783c9d17c40/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f666f722532304b53502d76312e322e322d6f72616e67652e7376673f7374796c653d666c61742d737175617265\u0022 style=\u0022border-style:none;background-color:rgb(255,255,255);\u0022\u003E\u003C/a\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022https://github.com/hvacengi/KOS-StockCamera/blob/v0.1.0\u0022 style=\u0022background-color:transparent;color:rgb(64,120,192);text-decoration:none;\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022for kOS v1.0.3\u0022 src=\u0022https://camo.githubusercontent.com/40151cd3049984655de81f30e5897ee12c21586d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f666f722532306b4f532d76312e302e332d626c75652e7376673f7374796c653d666c61742d737175617265\u0022 style=\u0022border-style:none;background-color:rgb(255,255,255);\u0022\u003E\u003C/a\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022https://github.com/hvacengi/KOS-StockCamera/releases/download/v0.1.0/KOS-StockCamera-v0.1.0.zip\u0022 style=\u0022background-color:transparent;color:rgb(64,120,192);text-decoration:none;\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022Downloads this release\u0022 src=\u0022https://camo.githubusercontent.com/2a1d2498cb38a89c9a620d635d2be8a0cec7e9dd/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f68766163656e67692f4b4f532d53746f636b43616d6572612f76302e312e302f746f74616c2e7376673f7374796c653d666c61742d737175617265\u0022 style=\u0022border-style:none;background-color:rgb(255,255,255);\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:\u0027-apple-system\u0027, BlinkMacSystemFont, \u0027Segoe UI\u0027, Helvetica, Arial, sans-serif, \u0027Apple Color Emoji\u0027, \u0027Segoe UI Emoji\u0027, \u0027Segoe UI Symbol\u0027;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\nA kOS addon for manipulating the camera from inside scripts.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:\u0027-apple-system\u0027, BlinkMacSystemFont, \u0027Segoe UI\u0027, Helvetica, Arial, sans-serif, \u0027Apple Color Emoji\u0027, \u0027Segoe UI Emoji\u0027, \u0027Segoe UI Symbol\u0027;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\nInitial public release.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-top:0px;color:rgb(51,51,51);font-family:\u0027-apple-system\u0027, BlinkMacSystemFont, \u0027Segoe UI\u0027, Helvetica, Arial, sans-serif, \u0027Apple Color Emoji\u0027, \u0027Segoe UI Emoji\u0027, \u0027Segoe UI Symbol\u0027;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\nSee\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022https://github.com/hvacengi/KOS-StockCamera/blob/master/README.md\u0022 style=\u0022background-color:transparent;color:rgb(64,120,192);text-decoration:none;\u0022 rel=\u0022external nofollow\u0022\u003EREADME.md\u003C/a\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Efor documentation.\n\u003C/p\u003E\n\u003Cp\u003E\nDownload:\u00A0\u003Ca href=\u0022https://github.com/hvacengi/KOS-StockCamera/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/hvacengi/KOS-StockCamera/releases\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-01-13T08:41:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222919123\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484231675\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthis consumes way too much power compared to other operations (It does\u00A0draw exactly as much has expected). Its just my feeling that this is unbalanced. A\u00A0loop with a wait would be cheaper.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThese two shouldn\u0027t be significantly different in power draw:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n// trigger way:\non ag0 {\n  print \u0022action group 0 changed its value\u0022.\n}.\nwait until false. // sit forever doing nothing.\n\n// equivalent loop way:\nset prev_ag_val to ag0.\nuntil prev_ag_val \u0026lt;\u0026gt; ag0 {\n  wait 0.\n}.\nprint \u0022action group 0 changed its value\u0022.\u003C/pre\u003E\n\u003Cp\u003E\nBoth wake up once a tick and run the few instructions needed to perform the check.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason it can\u0027t be done as an interrupt is because the \u0060\u0060on\u0060\u0060 trigger works with any generic expression of any sort that returns any value.\u00A0 It keeps a memory of the previous value the expression returned and compares it to the new value it returned this time around.\u00A0 If they are unequal, it fires the trigger off, else it returns and does nothing.\u00A0 Because it works with anything, not just action groups - it has to be designed to run any generic expression you choose to put in there, and that means it has to execute some instructions to push the expression\u0027s return value onto the stack.\u00A0 You could just as easily do something like:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nON x\u002By/3*myfunc()*2 {\n  do_stuff().\n}\u003C/pre\u003E\n\u003Cp\u003E\nWhat I don\u0027t understand from your description is your claim that doing it with \u0022a loop with a wait\u0022 is cheaper.\u00A0 What might be cheaper is implementing a second, new, system of firing off events you can register to, but that\u0027s not \u0022a loop with a wait\u0022 either.\u00A0 The polling is going to be pretty much the same whether done with ON or with your own homemade loop.\u00A0 What\u0027s needed to get rid of that power draw is something that is neither the ON trigger nor a user loop, but an ability to register a user function with kOS and have kOS execute it when it decides to (using its own C# code to make the decision whether its time to invoke the callback, and not running any kerboscript code if the answer is no.)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-13T08:54:16Z\u0022 title=\u002201/13/2017 08:54  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 13, 2017\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-13T16:51:53Z","Content":"\n\u003Cp\u003E\nto conserve power I now do:\u003Cbr\u003E\u003Cbr\u003E\nuntil false {\u003Cbr\u003E\n\u00A0\u00A0 test_for_key().\u003Cbr\u003E\n\u00A0\u00A0 wait\u00A00.5.\u003Cbr\u003E\n}\n\u003C/p\u003E\u003Cp\u003E\non (event) call()\u00A0could be a feature of the architecture, not of the compiler. then it would be \u0022cheaper\u0022.\n\u003C/p\u003E\u003Cp\u003E\nbut in the end this is not really an issue.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-01-13T20:52:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222920343\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484326313\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nto conserve power I now do:\u003Cbr\u003E\u003Cbr\u003E\nuntil false {\u003Cbr\u003E\n\u00A0\u00A0 test_for_key().\u003Cbr\u003E\n\u00A0\u00A0 wait\u00A00.5.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\non (event) call()\u00A0could be a feature of the architecture, not of the compiler. then it would be \u0022cheaper\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nbut in the end this is not really an issue.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAhhh. Now it finally becomes clear.\u00A0 I don\u0027t remember seeing you mention the 0.5 before.\u00A0 In order to do the *same* thing, you\u0027d need that to be a WAIT 0 rather than a WAIT 0.5.\u00A0 (As I was showing in my examples above, and assumed you were doing from your descriptions of the loop being designed to have the \u0022same\u0022 effect.\u00A0 This is not the \u0022same\u0022 effect.\u00A0 With the trigger, the program would respond within about 1/25th of a second.\u00A0 You decided you didn\u0027t need that quick response so you slowed it down.)\n\u003C/p\u003E\n\u003Cp\u003E\nWe could maybe add the ability to pick a \u0022frequency\u0022 to triggers to get the same effect:\n\u003C/p\u003E\n\u003Cp\u003E\nEVERY 0.5 ON AG10 { stuff },\u00A0 or EVERY 0.5 WHEN Foo THEN { stuff }\n\u003C/p\u003E\n"},{"CreatedByName":"sebseb7","CreatedById":171651,"CreatedDateTime":"2017-01-13T22:48:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222920613\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484340777\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAhhh. Now it finally becomes clear.\u00A0 I don\u0027t remember seeing you mention the 0.5 before.\u00A0 In order to do the *same* thing, you\u0027d need that to be a WAIT 0 rather than a WAIT 0.5.\u00A0 (As I was showing in my examples above, and assumed you were doing from your descriptions of the loop being designed to have the \u0022same\u0022 effect.\u00A0 This is not the \u0022same\u0022 effect.\u00A0 With the trigger, the program would respond within about 1/25th of a second.\u00A0 You decided you didn\u0027t need that quick response so you slowed it down.)\n\u003C/p\u003E\n\u003Cp\u003E\nWe could maybe add the ability to pick a \u0022frequency\u0022 to triggers to get the same effect:\n\u003C/p\u003E\n\u003Cp\u003E\nEVERY 0.5 ON AG10 { stuff },\u00A0 or EVERY 0.5 WHEN Foo THEN { stuff }\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nevery microcontroller has a counter that gets decremented by x per cycle and calls a function when reaching zero.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSuch timers allow the dynamic chance of the sleep period (decrements per cylcle).\u003Cbr\u003E\u003Cbr\u003E\nSo something like:\u003Cbr\u003E\u003Cbr\u003E\nset delay to 0.5\u003Cbr\u003E\nevery delay when true then { set delay to new_delay. return true.}\u00A0\u003Cbr\u003E\nwould be nice.\u003Cbr\u003E\u003Cbr\u003E\nusually you have at least 4 registers (the address of the function, the counter, the decrement and the configuration register (on/off,up/down,etc)).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\nfor debugging power consumption a statistic info where I can see all currently active triggers with their expressions would be great.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-13T22:51:05Z\u0022 title=\u002201/13/2017 10:51  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 13, 2017\u003C/time\u003E by sebseb7\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-01-13T22:54:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222920759\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484347710\u0022 data-ipsquote-userid=\u0022171651\u0022 data-ipsquote-username=\u0022sebseb7\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, sebseb7 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nevery microcontroller has a counter that gets decremented by x per cycle and calls a function when reaching zero.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSuch timers allow the dynamic chance of the sleep period.\u003Cbr\u003E\u003Cbr\u003E\nSo something like:\u003Cbr\u003E\u003Cbr\u003E\nset delay to 0.5\u003Cbr\u003E\nevery delay when true then { set delay to new_delay. return true.}\u00A0\u003Cbr\u003E\u003Cbr\u003E\nwould be nice.\u003Cbr\u003E\u003Cbr\u003E\nfor debugging power consumption a statistic info where I can see all currently active triggers with their expressions would be great.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRight now every trigger can return a true or false value for whether or not to preserve the trigger.\n\u003C/p\u003E\n\u003Cp\u003E\nA much simpler looking design would be to just let you return a number, and that\u0027s the number of seconds to wait before checking the trigger again.\n\u003C/p\u003E\n\u003Cp\u003E\nDue to the odd runtime type dynamic nature of kOS, you could even return either a boolean or a number.\u00A0 If its a number we assume you meant \u0022true\u0022 as well as telling us the delay (thus return 0 would be different from return false.\u00A0 return 0 would mean check the trigger again as fast as possible, and return false would mean don\u0027t check the trigger again.)\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-01-14T01:29:46Z","Content":"\n\u003Cp\u003E\nIs there a way to check if a vessel name is valid? I\u0027m trying to write \u0027set Target to Vessel(\u0022name\u0022)\u0027 in a way that does not crash the program if the vessel name does not exist (because it is docked to something larger).\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-01-14T08:17:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222920879\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484357386\u0022 data-ipsquote-userid=\u002285299\u0022 data-ipsquote-username=\u0022pellinor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, pellinor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a way to check if a vessel name is valid? I\u0027m trying to write \u0027set Target to Vessel(\u0022name\u0022)\u0027 in a way that does not crash the program if the vessel name does not exist (because it is docked to something larger).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou could loop through all vessels in the game (LIST TARGETS IN my_list...), comparing their names to the one you\u0027re looking for, until you either find one or finish the list.\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-01-14T11:58:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222921106\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484381860\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou could loop through all vessels in the game (LIST TARGETS IN my_list...), comparing their names to the one you\u0027re looking for, until you either find one or finish the list.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMust have overlooked that. Thanks!\n\u003C/p\u003E\n"},{"CreatedByName":"hypervelocity","CreatedById":136426,"CreatedDateTime":"2017-01-14T17:10:26Z","Content":"\n\u003Cp\u003E\nThis is one of the most awesome mods I have ever tried! The possibilities are endless! I am just new to this so struggling with my first bits of code.\n\u003C/p\u003E\n\u003Cp\u003E\nI know the WHEN/THEN triggers are not specifically for beginners, but I think I understand the logic \u0026amp; syntax behind them so I would like to use them -\u00A0sadly I still cannot make my simple code work.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI want to make a script that turns my Drills ON or OFF depending on the current Electric Charge levels on my ship. I solved this (most surely not the right way, but did it anyways).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEDIT: figured out the script is stuck waiting for WAIT UNTIL SHIP:ELECTRICCHARGE \u0026lt; 100 hence WHEN:SHIPWATER = 144 is never executed. However re-wrote the code and still can\u0027t make it work, details in next posts.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EMy main issue is that I want to set-up a Trigger with WHEN/THEN and PRESERVE it for my program to keep checking whether the condition is met or not as this might happen in the future and not the first time the flow of the code reads the WHEN/THEN statement.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EMy WHEN/THEN statement needs to check whether my Water tanks (resource I am extracting with my Drills) are full or not. If they are, the Drills need to be shut-down.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EThe code I have written is the following:\u003C/s\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nCLEARSCREEN. PRINT \u0022==== EXECUTING DRILLING SCRIPT - DRILLING PROGRAM ACTIVATED\u0022.\n\nWAIT UNTIL SHIP:ELECTRICCHARGE\u0026gt;100.\n {\n  TOGGLE AG2.                                    //Action Group that deploys the Drills\n  PRINT \u0022===== DRILLS ACTIVATED\u0022.\n  SET AG2 TO FALSE.\n }\n\nWAIT UNTIL SHIP:ELECTRICCHARGE\u0026lt;100.\n {\n  TOGGLE AG3.                                    //Action Group that shuts-down the Drills\n  PRINT \u0022===== DRILLS SHUT-DOWN\u0022.\n  SET AG3 TO FALSE.\n }\n\nWHEN SHIP:WATER=144 THEN {                       //Trigger I am having issues with and cannot make it work\n TOGGLE AG3.                                     //Trigger I am having issues with and cannot make it work\n PRINT\u0022===== WATER FULL, DRILLS SHUT-DOWN\u0022.      //Trigger I am having issues with and cannot make it work\n PRESERVE.}.                                     //Trigger I am having issues with and cannot make it work\nRUN DRILLING.                                    //VERY LAME solution for not being able to work the WHEN/THEN statements. \n                                                 //As I don\u0027t know how to make my code to keep checking if EC is \u0026lt; or \u0026gt; than 100, I need to\n                                                 //do this to get the code running again (would love to learn how to avoid this very disgraceful solution)\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cs\u003EI would really love a helping hand from the experts out there!\u00A0\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nKeep in mind -as one can obviously infer from reading my disgusting code- I am an utter beginner. I understand the logic of the operations but still not familiar with the syntax and best-practices.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers and thanks in advance! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-14T23:58:37Z\u0022 title=\u002201/14/2017 11:58  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 14, 2017\u003C/time\u003E by hypervelocity\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"EpicSpaceTroll139","CreatedById":162839,"CreatedDateTime":"2017-01-14T17:21:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222921514\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484413826\u0022 data-ipsquote-userid=\u0022136426\u0022 data-ipsquote-username=\u0022hypervelocity\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, hypervelocity said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u0026lt;snip\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\nI would really love a helping hand from the experts out there!\n\u003C/p\u003E\n\u003Cp\u003E\nCheers and thanks in advance! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not an expert, but from my limited experience I would suggest changing the trigger from \u0022WHEN SHIP:WATER=144 THEN...\u0022 to \u0022WHEN SHIP:WATER\u0026lt;144 THEN...\u0022 (or \u0026gt;, whatever works best for you).\n\u003C/p\u003E\n\u003Cp\u003E\nOr is it throwing some kind of error message? In that case I probably don\u0027t know what to do.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-14T17:21:35Z\u0022 title=\u002201/14/2017 05:21  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 14, 2017\u003C/time\u003E by EpicSpaceTroll139\u003C/strong\u003E\n\u003C/span\u003E\n"}]}