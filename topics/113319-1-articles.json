{"TopicId":113319,"ForumId":32,"TopicTitle":"Converting orbit data formats (peri/aps/inc to sma/ecc/inc/lpe/lan etc)","CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T12:30:22Z","PageNum":1,"Articles":[{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T12:30:22Z","Content":"So I\u0027ve got a project I\u0027m working on and need some conversion assistance.\n\nLong story short - custom contracts to put things in specific orbits. In order to get the orbital profiles to show up in the big-picture \u0022M\u0022 view I need to define them in the following format:\n\n(This is just some example data)\n\n    SMA = 1449999.99996286ECC = 1.07570816555399E-05INC = 0LPE = 270.690311604893LAN = 1.93635924563296MNA = 1.55872660382504EPH = 31.3999999999994REF = 1\n\nWhich, I believe, is how the save file stores them?\n\nWhat I have now for the orbits (which I have on paper) is more basic : \n\n    Apo 200kmPeri 640kmIncl 13Ecc 0.04\n\nMost of the other values (like where over the body the periaps is, etc) are unimportant for my purposes. \n\nI\u0027ve had a small amount of luck using hyperedit (as suggested by nightinggale), which can at least print these values out for me on the screen, but I haven\u0027t had a lot of luck figuring out how to plug simple aps/peri/inc/ecc info into hyperedit to throw something into that specific orbit THEN get the more verbose stats. I realize hyperedit might not have that capability. \n\nAnyone have any advice on the best way to do this sort of conversion?"},{"CreatedByName":"HohmannSponge","CreatedById":146419,"CreatedDateTime":"2015-06-18T12:47:58Z","Content":"If you put a vessel up into the orbit you want with hyperedit, you will be able to get the verbose info from the save file."},{"CreatedByName":"Bill Phil","CreatedById":127797,"CreatedDateTime":"2015-06-18T12:57:58Z","Content":"Apo and Peri might need to not be above sea level. Unless they aren\u0027t in your data...\n\nSMA is the average of the two apses from the point mass."},{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T13:16:31Z","Content":"\u003E \n\u003E Apo and Peri might need to not be above sea level. Unless they aren\u0027t in your data...\n\u003E SMA is the average of the two apses from the point mass.\n\nThe data I have is all ASL as-presented in game/stock currently - but I could convert them to being from Kerbin\u0027s center of mass with basic arithmetic.\n\nI run into some confusion with the Semi-Major Axis. The explanations I\u0027ve seen on how to calculate it all end up with circular orbits as they only measure one vector to the periaps, so I must be missing something.\n\n- - - Updated - - -\n\nAny other mods or add-ons that make this simpler?\n\n**Edited \u003Ctime datetime=\u00222015-06-18T13:06:15Z\u0022 title=\u002206/18/2015 01:06  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 18, 2015\u003C/time\u003E by tjsnh**"},{"CreatedByName":"Rhomphaia","CreatedById":2440,"CreatedDateTime":"2015-06-18T13:17:34Z","Content":"INC and ECC are just the same.\n\nSMA would be **(Apo \u002B Peri \u002B 1200) \\* 500** \n\nWhich accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\n\nLPE is what the game calls Argument of Periapsis IIRC, so the angle in degrees between the ascending node and the Periapsis.\n\nLAN is the angle between the Ascending node and some arbitrary celestial reference point (again in degrees), so it is pretty hard to do anything with unless you already know what you want.\n\nMNA is mean anomaly at epoch, So how far around the orbit you are at a given point in time (defined by EPH), this time it is in Radians. Should not really matter.\n\nREF is the body you are orbiting."},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2015-06-18T13:30:37Z","Content":"\u003E Anyone have any advice on the best way to do this sort of conversion?\n\nTake a look here: [https://en.wikipedia.org/?title=Orbital_elements](https://en.wikipedia.org/?title=Orbital_elements)\n\n- - - Updated - - -\n\n\u003E \n\u003E SMA would be **(Apo \u002B Peri \u002B 1200) \\* 500** \n\u003E Which accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\n\nWhat\u0027s 500?\n\nCorrect formula is this: SMA = (Ap \u002B Pe \u002B 2\\* RefBodyRadius) / 2. The result will be in same units as input values are."},{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T13:30:56Z","Content":"\u003E \n\u003E INC and ECC are just the same.\n\u003E SMA would be **(Apo \u002B Peri \u002B 1200) \\* 500** \n\u003E \n\u003E Which accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\n\u003E \n\u003E LPE is what the game calls Argument of Periapsis IIRC, so the angle in degrees between the ascending node and the Periapsis.\n\u003E \n\u003E LAN is the angle between the Ascending node and some arbitrary celestial reference point (again in degrees), so it is pretty hard to do anything with unless you already know what you want.\n\u003E \n\u003E MNA is mean anomaly at epoch, So how far around the orbit you are at a given point in time (defined by EPH), this time it is in Radians. Should not really matter.\n\u003E \n\u003E REF is the body you are orbiting.\n\nThank you! Great explanation.\n\nSo for an orbit with Apo 600, peri 200, the SMA will be 1000000 ?\n\nThere are a lot of values that could add up to an SMA of 1000000, how will the game determine the aps/peri from that? \n\nOr is that where LPE comes in? (and if so, anyone how to extrapolate it? I\u0027m not scared of the math if needed) \n\n(LAN, MNA won\u0027t be important)\n\nHyperedit gives the REF value for the bodies, so that\u0027s easy to extract."},{"CreatedByName":"Bill Phil","CreatedById":127797,"CreatedDateTime":"2015-06-18T13:35:00Z","Content":"\u003E \n\u003E INC and ECC are just the same.\n\u003E SMA would be **(Apo \u002B Peri \u002B 1200) \\* 500** \n\u003E \n\u003E Which accounts for the fact that yours are ASL values and in KM, where the games values are in meters and from the center.\n\u003E \n\u003E LPE is what the game calls Argument of Periapsis IIRC, so the angle in degrees between the ascending node and the Periapsis.\n\u003E \n\u003E LAN is the angle between the Ascending node and some arbitrary celestial reference point (again in degrees), so it is pretty hard to do anything with unless you already know what you want.\n\u003E \n\u003E MNA is mean anomaly at epoch, So how far around the orbit you are at a given point in time (defined by EPH), this time it is in Radians. Should not really matter.\n\u003E \n\u003E REF is the body you are orbiting.\n\nINC is inclination while ECC appears to be eccentricity. It is useful for acquiring the Apoapsis, Periapsis, and even Semi minor axis from the semi major axis.\n\n- - - Updated - - -\n\n\u003E \n\u003E Thank you! Great explanation.\n\u003E So for an orbit with Apo 600, peri 200, the SMA will be 1000000 ?\n\u003E \n\u003E There are a lot of values that could add up to an SMA of 1000000, how will the game determine the aps/peri from that? \n\u003E \n\u003E Or is that where LPE comes in? (and if so, anyone how to extrapolate it? I\u0027m not scared of the math if needed) \n\u003E \n\u003E (LAN, MNA won\u0027t be important)\n\u003E \n\u003E Hyperedit gives the REF value for the bodies, so that\u0027s easy to extract.\n\nYou\u0027re looking for eccentricity of the orbit.\n\n- - - Updated - - -\n\n\u003E \n\u003E Take a look here: [https://en.wikipedia.org/?title=Orbital_elements](https://en.wikipedia.org/?title=Orbital_elements)\n\u003E - - - Updated - - -\n\u003E \n\u003E What\u0027s 500?\n\u003E \n\u003E Correct formula is this: SMA = (Ap \u002B Pe \u002B 2\\* RefBodyRadius) / 2. The result will be in same units as input values are.\n\nThat\u0027s half of 1000. From the conversion to meters."},{"CreatedByName":"tjsnh","CreatedById":108021,"CreatedDateTime":"2015-06-18T13:37:05Z","Content":"Great, thanks folks. \n\nThis will give me something to experiment with this evening and see if I can get a process down for doing these conversions (I have several thousand to do - my hope is to make a spreadsheet or code up a simple C app to do the math for me once I have a process sorted out that will give me at least semi-accurate conversions)"},{"CreatedByName":"Rhomphaia","CreatedById":2440,"CreatedDateTime":"2015-06-18T13:38:19Z","Content":"\u003E \n\u003E Thank you! Great explanation.\n\u003E So for an orbit with Apo 600, peri 200, the SMA will be 1000000 ?\n\u003E \n\u003E There are a lot of values that could add up to an SMA of 1000000, how will the game determine the aps/peri from that? \n\u003E \n\u003E Or is that where LPE comes in? (and if so, anyone how to extrapolate it? I\u0027m not scared of the math if needed) \n\u003E \n\u003E (LAN, MNA won\u0027t be important)\n\u003E \n\u003E Hyperedit gives the REF value for the bodies, so that\u0027s easy to extract.\n\nApoapsis and Periapsis are determined by the Semi-Major Axis and the Eccentricity. Periapsis = (1-e)a, while apoapsis is (1\u002Be)a\n\n\u003E What\u0027s 500?\n\n1000/2"}]}