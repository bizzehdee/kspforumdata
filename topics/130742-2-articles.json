{"TopicId":130742,"ForumId":34,"TopicTitle":"[1.12.x] kRPC: Control the game using C#, C\u002B\u002B, Java, Lua, Python, Ruby, Haskell, C (Arduino)... (v0.5.4)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-26T08:47:48Z","PageNum":2,"Articles":[{"CreatedByName":"Gouttfi","CreatedById":160527,"CreatedDateTime":"2016-03-23T14:44:12Z","Content":"\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nI started to build a controller for KSP with my Arduino, but\u00A0I am a beginner\u00A0and I have some worries with English (I\u0027m french, sorry for my language \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0)\n\u003C/p\u003E\n\u003Cp\u003E\nAnd so, I have a little trouble to understand the documentation of this wonderful plugin \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u00A0love\u00A0just detect the quantity of liquid fuel in my current stage, and, as soon as the quantity of liquid fuel\u00A0drops below as 10%,\u00A0I am warned by alarm.\n\u003C/p\u003E\n\u003Cp\u003E\nTo summarize :\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EHow to read the amount of fuel present in stage ?\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EHow to read the current stage number ?\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThank you very much \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-03-31T06:50:37Z","Content":"\n\u003Cp\u003E\nHi! Glad you like the mod \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou can get the current stage using \u003Ca href=\u0022http://krpc.github.io/krpc/python/api/space-center/control.html#SpaceCenter.Control.current_stage\u0022 rel=\u0022external nofollow\u0022\u003EControl.current_stage\u003C/a\u003E and use the \u003Ca href=\u0022http://krpc.github.io/krpc/python/api/space-center/resources.html\u0022 rel=\u0022external nofollow\u0022\u003Eresources class\u003C/a\u003E to get the amount of LFO in the current stage. Here\u0027s an example in Python:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eimport krpc\nconn = krpc.connect()\nvessel = conn.space_center.active_vessel\nstage = vessel.control.current_stage\nresources = vessel.resources_in_decouple_stage(stage)\nprint \u0027LFO =\u0027, resources.amount(\u0027LiquidFuel\u0027)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gouttfi","CreatedById":160527,"CreatedDateTime":"2016-03-31T17:04:52Z","Content":"\n\u003Cp\u003E\nHi !\n\u003C/p\u003E\n\u003Cp\u003E\nThank you very much ! Your example work fine !\u00A0I didn\u0027t use it properly ...\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I had\u00A0found alternative solution, but it\u0027s\u00A0not optimized\u00A0and\u00A0wobbly ...\n\u003C/p\u003E\n\u003Cp\u003E\nI have another question : Can you set, in properties of this mod, the possibility for automatically allow the connexion from Python to KSP without th authorisation of the\u00A0user ?\n\u003C/p\u003E\n\u003Cp\u003E\nThank you \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:10px;\u0022\u003E(sorry for my imperfect english)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-31T17:08:37Z\u0022 title=\u002203/31/2016 05:08  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 31, 2016\u003C/time\u003E by Gouttfi\u003C/strong\u003E\n\u003Cbr\u003Eadd question\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-01T15:47:50Z","Content":"\n\u003Cp\u003E\nYep you certainly can! Click the \u0027Advanced Settings\u0027 button in the server window, and then enabled \u0027Auto-accept client connections\u0027.\n\u003C/p\u003E\n"},{"CreatedByName":"Gouttfi","CreatedById":160527,"CreatedDateTime":"2016-04-04T20:45:57Z","Content":"\n\u003Cp\u003E\nThank you ! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kerbal007","CreatedById":92253,"CreatedDateTime":"2016-04-05T15:13:29Z","Content":"\n\u003Cp\u003E\nFirst: Thanks for such an awesome addition to KSP \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Do you take donations?\n\u003C/p\u003E\n\u003Cp\u003E\n2nd: I am learning python, and was wondering how I can get the below snip of code to print to the same line? I have been looking online and there were so many ways that did not make much sense to me.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this even possible?\n\u003C/p\u003E\n\u003Cp\u003E\nThe below is from the first tutorial.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n#Print the altitude out live until speed reaches 0\nwhile vessel.flight(vessel.orbit.body.reference_frame).vertical_speed \u0026lt; -0.1:\n\tprint(\u0027Altitude = %.1f meters\u0027 % vessel.flight().surface_altitude)\ntime.sleep(1)\nprint(\u0027Landed!\u0027)\u003C/pre\u003E\n\u003Cp\u003E\nI apologise in advance for any late reply as it is late and I must be off to bed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nx0x0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nKerbal007\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-06T06:22:32Z","Content":"\n\u003Cp\u003E\nThanks for the offer! I don\u0027t take donations, but if you\u0027d like to donate to the B612 foundation instead that\u0027d be awesome \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003Ca href=\u0022http://b612foundation.org/donate\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://b612foundation.org/donate\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nIt is possible in Python, but it is indeed a bit of a mess... Python\u0027s print function automatically appends a line feed character to anything you pass it, which prevents you from printing over the existing line. Appending a comma to the end of the argument prevents it from doing this. The following example should do what you want. It repeatedly prints out the altitude, followed by a carriage return character (to move the cursor back to the start of the line). It also has to flush the output to standard output (Python buffers its output until the next line feed character, so as we aren\u0027t printing a line feed we need to force the output to flush to the terminal). When the loop finishes it prints a line feed (to go to a new line, and leave the last altitude printed) and then prints the done message.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eimport sys\nwhile vessel.flight(vessel.orbit.body.reference_frame).vertical_speed \u0026lt; -0.1:\n    print(\u0027Altitude = %.1f meters\\r\u0027 % vessel.flight().surface_altitude),\n    sys.stdout.flush()\ntime.sleep(1)\nprint(\u0027\u0027)\nprint(\u0027Landed!\u0027)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbal007","CreatedById":92253,"CreatedDateTime":"2016-04-06T13:59:23Z","Content":"\n\u003Cp\u003E\nThanks so much, I will check them out, not seen that before.\n\u003C/p\u003E\n\u003Cp\u003E\nThe code worked a treat altho in test it spat out\n\u003C/p\u003E\n\u003Cp\u003E\nAltitude = 0.6 meterssers\n\u003C/p\u003E\n\u003Cp\u003E\nat the end which I am not sure why, /r perhaps?\n\u003C/p\u003E\n\u003Cp\u003E\nI have also added the below for a nice little countdown which I came across\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eprint \u0027Countdown to launch\u0027\nfor i in xrange(10,0,-1):\n    time.sleep(1)\n    sys.stdout.write(str(i)\u002B\u0027 \u0027)\n    sys.stdout.flush()\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n#inspired.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-06T18:09:25Z","Content":"\n\u003Cp\u003E\nAha, that\u0027s because you\u0027re overwriting an existing line, and the new line being written is shorter. Maybe try printing a bunch of spaces just before the \\r to overwrite the old line completely.\n\u003C/p\u003E\n\u003Cp\u003E\nBtw a much cleaner (but more involved) way of doing this is to use the curses library.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-06T18:11:20Z\u0022 title=\u002204/06/2016 06:11  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 6, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003Cbr\u003EClarify\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-07T05:29:46Z","Content":"\n\u003Cp\u003E\nkRPC 0.2.3 has been released! Here are the highlights:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nSupport for engines with multiple modes\n\u003C/li\u003E\n\u003Cli\u003E\nSupport for cargo bays, fairings and air intakes\n\u003C/li\u003E\n\u003Cli\u003E\nFixes for 1.0.5 landing gear and radiators\n\u003C/li\u003E\n\u003Cli\u003E\nAll the client libraries are now thread safe\n\u003C/li\u003E\n\u003Cli\u003E\nImproved MSVC support in the C\u002B\u002B client\n\u003C/li\u003E\n\u003Cli\u003E\nJava client now supports JDK 1.7 (as well as 1.8)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nA full change log can be found here: \u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.2.3\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/releases/tag/v0.2.3\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis release is for KSP 1.0.5. A version compatible with the KSP 1.1 pre-release can be downloaded from here: \u003Ca href=\u0022https://krpc.s3.amazonaws.com/deploy/feature/ksp-1.1-pre/302.1/krpc-0.2.3-18-g0eb3274.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://krpc.s3.amazonaws.com/deploy/feature/ksp-1.1-pre/302.1/krpc-0.2.3-18-g0eb3274.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-04-07T12:30:34Z","Content":"\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nFirst and foremost, a big thank you and well done on the mod! Your hard work is very much appreciated.\n\u003C/p\u003E\n\u003Cp\u003E\nI am hoping for a little help with a project where i am planning to build a control panel. In my usual style i have gone totally overboard... a few buttons just wont cut it. The idea is is a complete panel that removes all keyboard input, everything will be switches and indicators around a 10\u0022 display to show flight data.\n\u003C/p\u003E\n\u003Cp\u003E\nI have done proof of concept of the display (streams are awesome!) and of digital and analogue inputs from an arduino. The next step was to map out all the controls i want and find the corresponding interface in KRPC.... and that\u0027s where i got stuck on a few items:\n\u003C/p\u003E\n\u003Cp\u003E\n1. Trim controls and fine control mode\n\u003C/p\u003E\n\u003Cp\u003E\n2. Map view, map focus, cycle active ship, IVA view, camera modes\n\u003C/p\u003E\n\u003Cp\u003E\n3. EVA controls in general (use part, board, headlamps etc) and KAS/KIS controls to grap/attach/equip.\n\u003C/p\u003E\n\u003Cp\u003E\n4. Game controls like quicksave, or pause (for when my wife yells \u0027get off that damn game already!\u0027)\n\u003C/p\u003E\n\u003Cp\u003E\nI am not too worried about the first one as i can offset/scale my analogues to do this, but i am a but stuck on ideas for the rest.\n\u003C/p\u003E\n\u003Cp\u003E\nIs it possible to control these things via KRPC?\n\u003C/p\u003E\n\u003Cp\u003E\nI noted the service API and the potential to extend, however my tech knowledge wasn\u0027t good enough to follow without more example (my coding days are long ago when classes weren\u0027t a thing yet) and the link in the docs more detailed examples throws a 404. So this looks like it might be my way forward but i cant tell for sure.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance for any help!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-07T17:17:27Z","Content":"\n\u003Cp\u003E\nThat sounds like a cool project \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I think all of the features you require sound like reasonable things to either add to kRPC or are doable from client code. Here\u0027s a summary of the current state of things:\n\u003C/p\u003E\n\u003Cp\u003E\n1) Toggling fine controls isn\u0027t currently possible, and I don\u0027t think it\u0027s really needed? You can just scale the control inputs from your client code. And are there trim settings for aero surfaces in KSP? I\u0027m working on adding aero control surfaces (along with a major upgrade of the built-in autopilot so it\u0027s less rubbish) so this should be possible once that\u0027s completed.\n\u003C/p\u003E\n\u003Cp\u003E\n2) Switching map view, map focus, IVA and camera modes also aren\u0027t currently possible. They sound like easy additions though. Changing the active ship can be done by setting conn.space_center.active_vessel = x where x is a vessel object (for example those obtained via conn.space_center.vessels).\n\u003C/p\u003E\n\u003Cp\u003E\n3) I\u0027ve only added functionality with vessels in mind, not EVA kerbals. So unless the headlamps etc. map to the same controls as a vessel these won\u0027t currently work. You can interact with the part modules of arbitrary mods via the Part and Module objects in kPRC, but this probably won\u0027t help with the KAS/KIS EVA options.\n\u003C/p\u003E\n\u003Cp\u003E\n4) Quicksave and pause are also not supported. Quicksave should be an easy addition. Pausing would cause issues... as pausing will stop FixedUpdate from firing and cause the server to hang.\n\u003C/p\u003E\n\u003Cp\u003E\nWhich link is giving you a 404? I just updated the docs for the new 0.2.3 release so maybe it\u0027s been fixed?\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2016-04-07T17:22:11Z","Content":"\n\u003Cp\u003E\nI second the need for map view, moving camera, bringing up the menu, etc. I think you know the project I\u0027m working on and it would help a TON. Also quicksave and quickload.\u003Cbr\u003E\u003Cbr\u003E\nOne problem I notice, that I\u0027m not sure if you\u0027re aware of, is to get target_pitch_and_heading to work, I have to stop and start the server between runs. Say I launch and revert, pretty much everything works except the rocket won\u0027t aim where I want it. Stopping and starting the server seems to fix this.\u003Cbr\u003E\u003Cbr\u003E\nAgain, thanks a ton for such an amazing mod!!! I hope 1.1 doesn\u0027t break it too much \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-07T17:41:23Z","Content":"\n\u003Cp\u003E\nIt actually works fine in 1.1 with minimal changes!! Just got a bunch of features to add for the new wheels.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd yeah I\u0027m aware of that autopilot bug. I\u0027ve held off on making changes to the autopilot code until the rewrite is done - which will do auto tuning of the PID parameters based on moi and torque. I\u0027m close to having it work in python, then I just need to port it over to C#.\n\u003C/p\u003E\n"},{"CreatedByName":"Gouttfi","CreatedById":160527,"CreatedDateTime":"2016-04-07T19:18:37Z","Content":"\n\u003Cp\u003E\nhi !\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s possible to update your documentation, because I\u00A0am beginner in python and your documentation (for my opinion) lack examples.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSorry for my english\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2016-04-07T19:54:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222500697\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460056717\u0022 data-ipsquote-userid=\u0022160527\u0022 data-ipsquote-username=\u0022Gouttfi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n34 minutes ago, Gouttfi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhi !\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s possible to update your documentation, because I\u00A0am beginner in python and your documentation (for my opinion) lack examples.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSorry for my english\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHello \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/160527-gouttfi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022160527\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160527-gouttfi/\u0022\u003E@Gouttfi\u003C/a\u003E, on the very first page of this thread you will actually find some example scripts to:\n\u003C/p\u003E\n\u003Cul style=\u0022color:rgb(39,42,52);font-family:Georgia;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:19.6px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\u003Cli\u003E\n\u003Ca href=\u0022http://krpc.github.io/krpc/tutorials/launch-into-orbit.html\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:rgb(45,79,111);text-decoration:underline;background-color:transparent;\u0022\u003EAutopilot a ship into orbit\u003C/a\u003E,\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022http://krpc.github.io/krpc/tutorials/docking-guidance.html\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:rgb(45,79,111);text-decoration:underline;background-color:transparent;\u0022\u003Edisplay docking guidance information\u003C/a\u003E,\n\u003C/li\u003E\n\u003Cli\u003E\nor\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022http://krpc.github.io/krpc/tutorials/parts.html\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:rgb(45,79,111);text-decoration:underline;background-color:transparent;\u0022\u003Eexamine and manipulate individual parts\u003C/a\u003E.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gouttfi","CreatedById":160527,"CreatedDateTime":"2016-04-07T20:26:21Z","Content":"\n\u003Cp\u003E\nyes of course, but\u00A0when I talk about examples, I think little examples, as one or two lines of code, not necessarily for every commands from your plugin, but some that could be hard to use ...\n\u003C/p\u003E\n\u003Cp\u003E\nexample, from python documentation -\u0026gt; Space Center API -\u0026gt; Control\u00A0:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003Esas\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EThe state of SAS.\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0\u003Cspan style=\u0022color:#A9A9A9;\u0022\u003E Attribute:Can be read or written\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#A9A9A9;\u0022\u003E\u00A0 \u00A0 \u00A0 Return type:bool\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;white-space:pre;margin:0px;padding:12px;line-height:1.5;color:rgb(64,64,64);font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\n\u003Cspan style=\u0022color:#008000;\u0022\u003E\u003Cspan\u003Eexample code :\u003C/span\u003E\u003C/span\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003E \u003Cem\u003Evessel\u003C/em\u003E\u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022font-weight:bold;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003Econtrol\u003C/span\u003E\u003Cspan style=\u0022font-weight:bold;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003Esas\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003E=\u003C/span\u003E \u003Cspan style=\u0022color:rgb(153,153,153);\u0022\u003EFalse\u003C/span\u003E\u003C/em\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-07T20:27:23Z\u0022 title=\u002204/07/2016 08:27  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by Gouttfi\u003C/strong\u003E\n\u003Cbr\u003Esorry for my bad english :-p\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-07T23:17:03Z","Content":"\n\u003Cp\u003E\nIt\u0027s a bit difficult for me to be the judge of which bits of the API are hard to use - as the author it seems obvious to me! If there are particular things that are unclear then please mention them, and I will add a note with an example.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003EFor example, I did this recently with vessel.flight explaining what the default reference frame is as that caused a lot of confusion.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-04-08T03:03:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222500455\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460049447\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n...\u00A0You can just scale the control inputs from your client code. And are there trim settings for aero surfaces in KSP?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep that\u0027s not to hard to do. Moving my 0 point will do trim and scaling the maximum will do fine controls. It wont be linear\u00A0anyway as it will need a dead band. \u00A0However the game does have this built in, trims are MOD \u002B WASDQE and to reset trim is MOD X.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222500455\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460049447\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0Changing the active ship can be done by setting conn.space_center.active_vessel = x where x is a vessel object (for example those obtained via conn.space_center.vessels).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh yes.. there is a pro tip... read the documentation carefully! it does say this property is read and write \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E However when in flight, does conn.space_center.vessels consider physics range? I was hoping\u00A0to replicate the \u0027[\u0027 and \u0027]\u0027 key functions that only operate on nearby vessels. Or does it list all vessels, so matching the list in the tracking center? I will do some experiments on this one.\n\u003C/p\u003E\n\u003Cp\u003E\nEVA controls are a different key binding so this wont work. Same for KAS. They must be actions defined in the EVA kerbal vessel modules though, so I will have a play and see if I can see any of them via the part and module options.\n\u003C/p\u003E\n\u003Cp\u003E\nI see the issue now of the pause, its a game stop rather than a time rate of 0, so this one is out. If I can get quicksave at some point though it would do, as I can save when I get yelled at and reload when I get released \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn the web documentation at \u003Ca href=\u0022http://krpc.github.io/krpc/extending.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/extending.html\u003C/a\u003E\u00A0under further examples there is a link to \u003Ca href=\u0022https://github.com/krpc/krpc/tree/latest-version/src/kRPCSpaceCenter/Services\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/tree/latest-version/src/kRPCSpaceCenter/Services\u003C/a\u003E which gives the 404. Note I cant check the PDF as I am at work and they get narky, but I think its the same.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-08T04:16:34Z","Content":"\n\u003Cp\u003E\nspace_center.vessels will give you all the vessels. There isn\u0027t a way to get a list of vessels in physics range, but a potential workaround would be to filter that list based on distance from the active vessel. For example, the following script will print out all the vessels within 22.5km of the active vessel (which I think is the default physics range):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eimport krpc\nimport math\n\ndef norm(v):\n    return math.sqrt(v[0]*v[0]\u002Bv[1]*v[1]\u002Bv[2]*v[2])\n\nconn = krpc.connect()\nactive_vessel = conn.space_center.active_vessel\nvessels = conn.space_center.vessels\nvessel_distances = [(v, norm(v.position(active_vessel.reference_frame))) for v in vessels]\n\nfor vessel,distance in vessel_distances:\n    if distance \u0026lt; 22500: # 22.5km\n        print vessel.name, \u0027%.1f km\u0027 % (distance/1000)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027ve had a look into adding camera controls, quick save and load. The API is pretty straightforward so will be very easy to add \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I\u0027ve added issues on github to track these changes in case you\u0027re interested: \u003Ca href=\u0022https://github.com/krpc/krpc/issues/246\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/246 \u003C/a\u003E\u003Ca href=\u0022https://github.com/krpc/krpc/issues/247\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/246\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd I\u0027ve fixed that link on the docs site. It should have been: \u003Ca href=\u0022https://github.com/krpc/krpc/tree/latest-version/service/SpaceCenter/src/Services\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/tree/latest-version/service/SpaceCenter/src/Services\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-08T04:17:01Z\u0022 title=\u002204/08/2016 04:17  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 8, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-04-08T13:03:51Z","Content":"\n\u003Cp\u003E\nOk, take a breath, calm down... i think i have just stumbled onto the greatest thing ever.... well, in KSP anyway, which is everything important right? \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nspace_center.draw_line() \u00A0 and by placing a vessel at the threshold of the runway i get its coordinates for the start. Now if i can work out the position of the end of a vector that is 10km long at 3 deg slope heading west... i have LANDING GUIDANCE!!!\n\u003C/p\u003E\n\u003Cp\u003E\nThis could be a couple of lines either side of the runway, or even 4 lines forming a rectangular tube to fly down. And putting one at the other end is just a matter of coordinates.\n\u003C/p\u003E\n\u003Cp\u003E\nNow if only i remembered enough maths to add my 10km vector in the celestial body reference frame to the start point! At 11pm that aint happening.. but tomorrow i will certainly give it a go!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf i manage to get the vectors calculated out i will share them of course!\n\u003C/p\u003E\n\u003Cp\u003E\nThis is so going on my control panel. Runway select to 09, landing guidance to ON...\u00A0\u00A0 ooooooo, aaahhhhh\n\u003C/p\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-04-08T13:08:05Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022\u003E@djungelorm\u003C/a\u003E thanks for the info on vessels, that\u0027s a sweet solution, and also on the add ons! Will keep an eye on github for progress.\n\u003C/p\u003E\n"},{"CreatedByName":"Darkstar One","CreatedById":109604,"CreatedDateTime":"2016-04-08T19:13:49Z","Content":"\n\u003Cp\u003E\nCKAN states it works \u0022only\u0022 up to 1.0.5 - so I can\u0027t install it with CKAN into 1.1\n\u003C/p\u003E\n\u003Cp\u003E\nSome posting above said it works in 1.1 except for some wheel problems.\n\u003C/p\u003E\n\u003Cp\u003E\nShould I start working on something or wait for the definitive 1.1 release of Mod \u0027n Game?\n\u003C/p\u003E\n\u003Cp\u003E\nAnd since I have to sharpen my C\u002B\u002B skills - will support for it be dropped in favor of C# it will both languages stay available?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-08T19:15:30Z\u0022 title=\u002204/08/2016 07:15  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 8, 2016\u003C/time\u003E by Darkstar One\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-04-08T19:21:07Z","Content":"\n\u003Cp\u003E\nThe \u0022pre-release\u0022 of kRPC for 1.1 has to be manually installed, and is available from here:\u00A0\u003Ca href=\u0022https://krpc.s3.amazonaws.com/deploy/feature/ksp-1.1-pre/302.1/krpc-0.2.3-18-g0eb3274.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://krpc.s3.amazonaws.com/deploy/feature/ksp-1.1-pre/302.1/krpc-0.2.3-18-g0eb3274.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve not thoroughly tested it, so there may be bugs, and I still need to add wheel changes (that\u0027s why it\u0027s not on ckan yet).\n\u003C/p\u003E\n\u003Cp\u003E\nAnd all the client languages will be supported for the foreseeable future. I certainly won\u0027t be \u0022replacing\u0022 C\u002B\u002B with C#!!\n\u003C/p\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-04-10T07:22:13Z","Content":"\n\u003Cp\u003E\nSo i made some progress on landing guidance. if anyone else would like it here it is. It sets up lines either side of the runway at 4 (red), 5 (white) and 6 (yellow) deg slope for 20km from runway 09 threshold. 3.5 degrees, as per an airliner, did not seem kerbal enough so i went for a military 5. A shuttle 21 deg approach could be interesting too for an unpowered craft.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only shame is that it is hard coded. I cant find a way to calculate them directly, which would be nice so you can tune slope / distance. I used a test rig comprising a Mk1 cockpit on the front of a T frame of girders with some more girders for legs so i know the rig will sit as flat and straight as possible. This was important as it lets me use the vessels reference frame as a runway reference frame.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI could then define the start and end position for each line in the \u0027runway reference frame\u0027. The starts are simply (\u002B/-30,0,0) and the ends are (\u002B/-30, -\u003Cem\u003Elength\u003C/em\u003E, -tan(\u003Cem\u003Eslope\u003C/em\u003E)*\u003Cem\u003Elength\u003C/em\u003E). Each of these points (2 start, 6 end) are transformed into the kerbin reference frame using space_center.transform_position() and pasted into the code.\n\u003C/p\u003E\n\u003Cp\u003E\nTo get the other end you just need to rinse/repeat with a vessel at the other threshold, but make sure it sits dead flat (pitch and roll).\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eimport krpc\n\nconn = krpc.connect(name=\u0027blah\u0027)\nvessel = conn.space_center.active_vessel\n\nconn.space_center.clear_drawing()\n\nv1_start = (158095.3939033646, -478.99761794020907, -578869.7132278137)\nv2_start = (158094.96184479096, -538.996063121335, -578869.7134211722)\nv1l_end = (139184.84695719907, -342.79930986318584, -585527.6834731719)\nv1m_end = (139278.06869656406, -343.45641409607947, -585866.255670956)\nv1h_end = (139371.60232570115, -344.14248819162003, -586205.9386240399)\nv2l_end = (139184.35853335817, -402.79511157271287, -585527.523517651)\nv2m_end = (139277.66372229127, -403.45750069248425, -585866.328863767)\nv2h_end = (139371.1656752824, -404.1432818151327, -586205.927123417)\n\n\nl_col = (255,0,0)\nm_col = (255,255,255)\nh_col = (255,255,0)\n\nconn.space_center.draw_line(v1_start, v1l_end, vessel.orbit.body.reference_frame, l_col)\nconn.space_center.draw_line(v1_start, v1m_end, vessel.orbit.body.reference_frame, m_col)\nconn.space_center.draw_line(v1_start, v1h_end, vessel.orbit.body.reference_frame, h_col)\nconn.space_center.draw_line(v2_start, v2l_end, vessel.orbit.body.reference_frame, l_col)\nconn.space_center.draw_line(v2_start, v2m_end, vessel.orbit.body.reference_frame, m_col)\nconn.space_center.draw_line(v2_start, v2h_end, vessel.orbit.body.reference_frame, h_col)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}