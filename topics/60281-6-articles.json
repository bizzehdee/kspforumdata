{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":6,"Articles":[{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-23T19:23:08Z","Content":"\n\u003Cp\u003EOk, just tested with a clean ksp install and the plugin now running (probably another mod on my main install messing things up)\u003C/p\u003E\u003Cp\u003EIts not working right though, here is a run-through of how it behaved.\u003C/p\u003E\u003Cp\u003EBefore loading I had my switches set to \u0022off\u0022\u003C/p\u003E\u003Cp\u003EI load the flight scene.\u003C/p\u003E\u003Cp\u003EPlugin detects the com port and states that the SAS and RCS are ON (even though the switches are off...)\u003C/p\u003E\u003Cp\u003ENow when i move the switches to \u0022ON\u0022... it turns the SAS and RCS off, so controls are reversed.\u003C/p\u003E\u003Cp\u003EIt also takes between 8 and 16 seconds for it to respond to the command at all each time.\u003C/p\u003E\u003Cp\u003EI will run a few more tests after I eat! I\u0027ll see what happens if i start with the switches already set to \u0022ON\u0022.. or maybe one set to \u0022ON\u0022 and one set to \u0022OFF\u0022.\u003C/p\u003E\u003Cp\u003EI\u0027ll get a test done with the Mega later too, happy to beta test everything you can throw at us \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E...definitely wired to ground, not 5v\u003C/p\u003E\u003Cp\u003EEDIT - the mod seems to also freeze the game after a while. Did the same thing on my mod install and the clean install.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-23T19:26:39Z\u0022 title=\u002202/23/2014 07:26  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 23, 2014\u003C/time\u003E by Mulbin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-23T19:29:24Z","Content":"\n\u003Cp\u003ESecond test, fresh reload.\u003C/p\u003E\u003Cp\u003E\u0022No display found\u0022\u003C/p\u003E\u003Cp\u003EReverted flight to launch.\u003C/p\u003E\u003Cp\u003E\u0022No Display Found\u0022\u003C/p\u003E\u003Cp\u003EQuit to KSC, reloaded flight\u003C/p\u003E\u003Cp\u003E\u0022No Display Found\u0022\u003C/p\u003E\u003Cp\u003ENote - I have made no changes to hardware.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-23T19:32:12Z\u0022 title=\u002202/23/2014 07:32  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 23, 2014\u003C/time\u003E by Mulbin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-23T19:39:31Z","Content":"\n\u003Cp\u003ETest 3\u003C/p\u003E\u003Cp\u003EThis time I start with the switches already in the \u0022ON\u0022 position.\u003C/p\u003E\u003Cp\u003EI load the flight scene.\u003C/p\u003E\u003Cp\u003EPlugin detects the com port ... but doesnt turn RCS or SAS on\u003C/p\u003E\u003Cp\u003ENow when i move the switches to \u0022OFF\u0022... it turns the SAS and RCS on! So I think you have definitely got your on/off function reversed.\u003C/p\u003E\u003Cp\u003EStill taking between 8 and 16 seconds between moving the switch and KSP actually responding.\u003C/p\u003E\u003Cp\u003E...and once agin, after a couple of minutes, the game freezes up completely and has to be CTRL, ALT DEL to get out.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-23T21:01:49Z\u0022 title=\u002202/23/2014 09:01  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 23, 2014\u003C/time\u003E by Mulbin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-23T20:45:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EEvery time you load a scene it will sync with the arduino at the start,\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E...correct me if I\u0027m wrong but wouldn\u0027t this be insufficient when docking or switching between craft close to each other? Or does it also read the switch states when you jump to another ship or dock with one?\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T00:42:51Z","Content":"\n\u003Cp\u003EOK so how are you defining what is ON state? I am assuming that when the pins are connected to ground things are OFF, when the pins are not connected to ground things are ON. \u003C/p\u003E\u003Cp\u003EIf you switch vessels then things will probably not be in sync right now, but all you have to do is flip the switch that is not synced to sync it (it will not continue to be out of sync like a keyboard emulator). If you start at launch or revert then things will be synced.\u003C/p\u003E\u003Cp\u003EWhen you say it takes 8-16 seconds are you talking about the SAS/RCS lights or the debug messages? The debug messages don\u0027t update in real time. \u003C/p\u003E\u003Cp\u003EMaybe 40Hz is to fast for your computer?\u003C/p\u003E\u003Cp\u003ECan you try changing \u0022#define CONTROLREFRESH 25\u0022 to \u0022#define CONTROLREFRESH 500\u0022 (line 24)\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T01:57:53Z","Content":"\n\u003Cp\u003EI\u0027m using a toggle switch... when it is in the on position (completing the circuit) the plugin tells ksp to turn the sas off. When i turn the switch off (breaking the circuit) the plugin tells ksp to turn sas on.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://web.cecs.pdx.edu/~eas199/B/equipment/pictures/purchases/on-off-toggle-switch.jpg\u0022 alt=\u0022on-off-toggle-switch.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs for the time delay. Its the actual sas, not the debug. I flip the switch... nothing happens. 8-16 seconds later the SAS light turns on.\u003C/p\u003E\u003Cp\u003EI\u0027ll give the code a try in the morning, but my computer is a 6 core running at 4.2ghz with 8gb of ram...\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T01:58:24Z","Content":"\n\u003Cp\u003EWhoops, double post!\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T02:46:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mulbin\u0022 data-cite=\u0022Mulbin\u0022\u003E\u003Cdiv\u003EI\u0027m using a toggle switch... when it is in the on position (completing the circuit) the plugin tells ksp to turn the sas off. When i turn the switch off (breaking the circuit) the plugin tells ksp to turn sas on.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is the correct behaviour. When you turn the switch on, the pin is connected to ground, which is a logic LOW, which I am using as OFF. When you turn the switch off, the pin is internally pulled up to 5V, which is a logic HIGH, which turns things ON. If you don\u0027t want this, you can just flip the switch around physically or reverse the arduino code.\u003C/p\u003E\u003Cp\u003EThe arduino code has the same warning LED displays on pins 5 6 7 as the previous one, check and make sure the green yellow red LEDs are working during launch.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T02:50:43Z","Content":"\n\u003Cp\u003EWait hold on something is definitely not working properly.\u003C/p\u003E\u003Cp\u003EEdit: ok no need to waste more time on this, I found some bugs already. I will upload a new version soon.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-24T03:31:52Z\u0022 title=\u002202/24/2014 03:31  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 24, 2014\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"pantner","CreatedById":83119,"CreatedDateTime":"2014-02-24T07:38:01Z","Content":"\n\u003Cp\u003Ethis looks great, will definitely be giving it a go at home very soon. I have a Arduino Nano (probably 3rd party)\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T09:56:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EIf you don\u0027t want this, you can just flip the switch around physically or reverse the arduino code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll have to see if I can change the code, The switches have \u0022ON\u0022 and \u0022OFF\u0022 written on them! I also use some push buttons and momentary switches for functions that are not suitable to a toggle switch (like firing an action group).... with the current method I would have to sit with a finger holding each push button in until I wanted to use them... then I\u0027d have to release them! Likewise your plugin wont work with a selecter switch... rather than turning on one selection at a time it wil turn on all except the one you want. Just curious, what is the logic of setting it up so all of your commands are backwards? Have I missed something?\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T10:30:41Z","Content":"\n\u003Cp\u003EJust swapped the code round, really easy \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Now the switches work the right way round \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EI also tried that change to the code you suggested... now taking 30 seconds to respond to commands!\u003C/p\u003E\u003Cp\u003EAnyway, just spotted you have found a problem, I\u0027ll leave you to it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T11:06:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mulbin\u0022 data-cite=\u0022Mulbin\u0022\u003E\u003Cdiv\u003EI\u0027ll have to see if I can change the code, The switches have \u0022ON\u0022 and \u0022OFF\u0022 written on them! \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you not just undo the screw and flip the label around? You can do it in hardware or software, whichever is easier.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mulbin\u0022 data-cite=\u0022Mulbin\u0022\u003E\u003Cdiv\u003E I also use some push buttons and momentary switches for functions that are not suitable to a toggle switch (like firing an action group).... with the current method I would have to sit with a finger holding each push button in until I wanted to use them... then I\u0027d have to release them! Likewise your plugin wont work with a selecter switch... rather than turning on one selection at a time it wil turn on all except the one you want. Just curious, what is the logic of setting it up so all of your commands are backwards? Have I missed something? \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is just a simple demo, you will need to write your own code for handling your hardware. This will work just fine for buttons, you will also need to flip the code. How to wire selector switches will depend on the switch, you will again have to come up with some code that works with your hardware. Look at some tutorials on how to wire input to the arduino.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T11:23:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Katamari\u0022 data-cite=\u0022Katamari\u0022\u003E\u003Cdiv\u003EZitronen, I just wanted to say Thank you for making this. I love KSP and enjoy working with Arduinos and I am so glad there is now an easy way to interface between them that is only going to become better.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pantner\u0022 data-cite=\u0022pantner\u0022\u003E\u003Cdiv\u003Ethis looks great, will definitely be giving it a go at home very soon. I have a Arduino Nano (probably 3rd party)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks guys, if you can help with the testing it will be great!\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T11:38:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EThis is just a simple demo, you will need to write your own code for handling your hardware. This will work just fine for buttons, you will also need to flip the code. How to wire selector switches will depend on the switch, you will again have to come up with some code that works with your hardware. Look at some tutorials on how to wire input to the arduino.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, switching the code has fixed it and will make push buttons and selectors work properly too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003ECan you not just undo the screw and flip the label around? You can do it in hardware or software, whichever is easier.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, switches are universally designed to be installed the correct way round. They have a groove on one side so you can\u0027t flip things like \u0022ON/OFF\u0022 label plates or safety covers (they just won\u0027t go on). Its a deliberate design feature of all toggle switches to prevent you wiring them the wrong way.\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T11:57:15Z","Content":"\n\u003Cp\u003EJust ran a quick test on a MEGA... switches don\u0027t do anything at all. I\u0027ll set it up with the LEDs as well later to check they are still working.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T13:51:23Z","Content":"\n\u003Cp\u003EDon\u0027t bother testing the plugin any more. There were so many bugs, I\u0027m surprised it ran at all! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 alt=\u0022:0.0:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI will upload a new version when I get home.\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T14:35:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EDon\u0027t bother testing the plugin any more. There were so many bugs, I\u0027m surprised it ran at all! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 alt=\u0022:0.0:\u0022\u003E\u003Cp\u003EI will upload a new version when I get home.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHa! Ok \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E the important thing is you\u0027ve got the Arduino talking to KSP... even if its talking very slowly with a phrase book \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"pantner","CreatedById":83119,"CreatedDateTime":"2014-02-24T15:10:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mulbin\u0022 data-cite=\u0022Mulbin\u0022\u003E\u003Cdiv\u003EJust curious, what is the logic of setting it up so all of your commands are backwards? Have I missed something?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethat is standard logic for microprocessors.\u003C/p\u003E\u003Cp\u003E@zitronen, I\u0027ll also have a play with the new version when it gets uploaded \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E*edit, just to see what would happen I hooked up my Nano, installed your plugin and uploaded the test code to it but changing the Launch LED to use D13 which is the onboard LED.\u003C/p\u003E\u003Cp\u003Eand yay, it works \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (btw, first ever program with my Arduino...Have had it for a couple of months but never done anything with it, so at-least I know it works \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\u003Cp\u003EAlso ordered a 4x20 LCD panel off ebay, ~$6, which I don\u0027t think is too bad... the description said it was compatible with the Arduino.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-24T15:55:25Z\u0022 title=\u002202/24/2014 03:55  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 24, 2014\u003C/time\u003E by pantner\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T16:26:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pantner\u0022 data-cite=\u0022pantner\u0022\u003E\u003Cdiv\u003Ethat is standard logic for microprocessors.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Elol, weird. Standard logic for brains is that ON=ON OFF=OFF \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-24T16:30:07Z\u0022 title=\u002202/24/2014 04:30  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 24, 2014\u003C/time\u003E by Mulbin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T18:24:47Z","Content":"\n\u003Cp\u003ETry this: \u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPSerialIO_013_1.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPSerialIO_013_1.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe performance problems were caused by issues with event handlers and threading, the delayed response was caused by the build up of a queue of commands in the serial buffer because I was not reading the data frequently enough. There were also null reference bugs cause by me being stupid.\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T19:24:30Z","Content":"\n\u003Cp\u003EThat\u0027s great \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Still getting a slight delay up to 1 second (sometimes only a fraction of a second though) but it is useable!\u003C/p\u003E\u003Cp\u003EHow will action groups work - for instance if I have my solar panels on an action group? Whereas SAS has two states On or Off... an action group is just toggle. I\u0027d like to have an on/off switches connected to solar panels, antenna etc. \u003C/p\u003E\u003Cp\u003ENow if I use a \u0022toggle panel\u0022 action group won\u0027t the plugin just check the switch position and fire the action group if the switch is on? ...which is a problem with a toggle command, It will go out of sync on the first quickload. The switch position wont move but the action group will toggle the opposite way each time it checks.\u003C/p\u003E\u003Cp\u003E I assume the only way would be to have 1 action group for \u0022extend panels\u0022 and one for \u0022retract panels\u0022 so when the plugin checks the switch position it either fires one action group or the other? This of course is another massive problem as you\u0027re suddenly reduced to 5 switches instead of 10 as each one will need two action groups to function... one for \u0022on\u0022 and one for \u0022off\u0022.\u003C/p\u003E\u003Cp\u003EOr are you able to make the plugin extend and retract all solar panels on the ship without using action groups? Or able to toggle the state of an antenna without action groups?\u003C/p\u003E\u003Cp\u003EEDIT - of course this wouldn\u0027t be an issue if someone made a mod that actually gives you more action groups! (amazed that one doesn\u0027t exist).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-24T19:29:04Z\u0022 title=\u002202/24/2014 07:29  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 24, 2014\u003C/time\u003E by Mulbin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Katamari","CreatedById":38096,"CreatedDateTime":"2014-02-24T19:51:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003ETry this: \u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPSerialIO_013_1.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPSerialIO_013_1.zip\u003C/a\u003E\u003Cp\u003EThe performance problems were caused by issues with event handlers and threading, the delayed response was caused by the build up of a queue of commands in the serial buffer because I was not reading the data frequently enough. There were also null reference bugs cause by me being stupid.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI honestly know very little about Unity engine or C#, but my first thought seriously was a buffer buildup when Mulbin said there was a large time delay. Glad to hear that it was fixed. \u003C/p\u003E\u003Cp\u003EI will create a stock version and try this version out tonight if I get a chance. I assume it has all the same functionality so that the previous demo code still applies for data structures and sending/receiving.\u003C/p\u003E\u003Cp\u003EAlso, if my Arduino experience carries over to computers and serial data: for the purposes of the computer reading serial data, do you just have it read the most recent chunk (either counting back so many bytes from the end or else searching for a specific identifier) and then just flush all the rest rather than reading every set? Or have you just increased the checking frequency to higher than the Arduino\u0027s sending frequency? As I said, I only know the Arduino side, so if it is neither of these, then I probably would not understand, but it is just an idea.\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-02-24T20:08:26Z","Content":"\n\u003Cp\u003EIn honour of Zitronen\u0027s breakthrough I labeled the first switches on my control panel \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E (reaction wheels are still controlled by my pulse generator board)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jWiSrKq.jpg\u0022 alt=\u0022jWiSrKq.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-02-24T20:10:04Z","Content":"\n\u003Cp\u003EControl groups will only be momentary button or switch, since you can only turn \u0022ON\u0022 a group so it can\u0027t be a toggle switch. You would have to assign open solar panel and close solar panel to different groups, or assign toggle panel. Although I guess you can implement whatever you want in the arduino code to make toggle switch work.\u003C/p\u003E\u003Cp\u003ECan you test increasing the baud rate to 115200 in both the arduino and plugin? Maybe it will help. There really shouldn\u0027t be any noticeable delay.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Katamari\u0022 data-cite=\u0022Katamari\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI will create a stock version and try this version out tonight if I get a chance. I assume it has all the same functionality so that the previous demo code still applies for data structures and sending/receiving.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah it\u0027s the same.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Katamari\u0022 data-cite=\u0022Katamari\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, if my Arduino experience carries over to computers and serial data: for the purposes of the computer reading serial data, do you just have it read the most recent chunk (either counting back so many bytes from the end or else searching for a specific identifier) and then just flush all the rest rather than reading every set? Or have you just increased the checking frequency to higher than the Arduino\u0027s sending frequency? As I said, I only know the Arduino side, so if it is neither of these, then I probably would not understand, but it is just an idea.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe receiving is done with event handlers which is great but hard to debug. It\u0027s made more difficult by the fact that I am using someone else\u0027s abandoned serial library which is incomplete and poorly documented.\u003C/p\u003E\n"}]}