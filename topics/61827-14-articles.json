{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":14,"Articles":[{"CreatedByName":"aNewHope","CreatedById":76088,"CreatedDateTime":"2014-03-14T15:47:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIn the days before the SQRT operator you had to get a square root by taking something to the power ^0.5 and that worked just fine. Are you sure this doesn\u0027t work?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy bad, I tried to raise a negative number to a non-integer power. Now, that I changed the code, everything works just fine!\u003C/p\u003E\u003Cp\u003EPS.: Right now the launching program works very well. Maybe I\u0027ll post it, when I tweaked it to perfection.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-14T16:01:07Z\u0022 title=\u002203/14/2014 04:01  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 14, 2014\u003C/time\u003E by aNewHope\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-03-14T17:43:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022a5xq\u0022 data-cite=\u0022a5xq\u0022\u003E\u003Cdiv\u003EYou can add IF .. ELSE statement? \u003Cp\u003EWithout it, my script for automatic control capacitors (Near Future Propulsion) very ugly.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is in my (informal) TODO list, you better add an issue in the github tracker (\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/new\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E) so we don\u0027t forget about it.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-03-14T20:01:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022a5xq\u0022 data-cite=\u0022a5xq\u0022\u003E\u003Cdiv\u003EYou can add IF .. ELSE statement? \u003Cp\u003EWithout it, my script for automatic control capacitors (Near Future Propulsion) very ugly.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI second this. The lack of \u0022else\u0022 has made me write some weird code.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-03-14T20:04:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022aNewHope\u0022 data-cite=\u0022aNewHope\u0022\u003E\u003Cdiv\u003EMy bad, I tried to raise a negative number to a non-integer power. Now, that I changed the code, everything works just fine!\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, I see. If that non-integer was less than 1, then yeah kOSscript doesn\u0027t deal with imaginary numbers. Everything must be representable as a Double.\u003C/p\u003E\n"},{"CreatedByName":"brusura","CreatedById":57899,"CreatedDateTime":"2014-03-14T21:29:51Z","Content":"\n\u003Cp\u003EUhm there is no such thing as \u0022lock thrustlimit to 0.5\u0022 right? I want to change thrust limit on multiple engines with one command\u003C/p\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-03-14T22:23:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022brusura\u0022 data-cite=\u0022brusura\u0022\u003E\u003Cdiv\u003EUhm there is no such thing as \u0022lock thrustlimit to 0.5\u0022 right? I want to change thrust limit on multiple engines with one command\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can add the relevant engines to a list and then use the FOR command to iterate over it and set the thrust limit for each one (you don\u0027t need to use LOCK)\u003C/p\u003E\n"},{"CreatedByName":"brusura","CreatedById":57899,"CreatedDateTime":"2014-03-14T22:39:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022marianoapp\u0022 data-cite=\u0022marianoapp\u0022\u003E\u003Cdiv\u003EYou can add the relevant engines to a list and then use the FOR command to iterate over it and set the thrust limit for each one (you don\u0027t need to use LOCK)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI mean in the documentation I do not see an object to change \u0022thrust limiter\u0022 just an object for throttle , you know the slider that you can change from 0 to 100 to limit the power of the engine regardless of the max throttle\u003C/p\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-03-14T23:06:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022brusura\u0022 data-cite=\u0022brusura\u0022\u003E\u003Cdiv\u003EI mean in the documentation I do not see an object to change \u0022thrust limiter\u0022 just an object for throttle , you know the slider that you can change from 0 to 100 to limit the power of the engine regardless of the max throttle\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat was added in the last update (v11.1) so it may no be in the documentation you\u0027re reading (it\u0027s in the release notes \u003Ca href=\u0022https://github.com/erendrake/KOS/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E).\u003C/p\u003E\u003Cp\u003ETo access the thrust limiter you first need to build a list of engines (LIST engines IN [variable name]) and then you can read/write a bunch of parameters of each engine, including the thurst limiter.\u003C/p\u003E\u003Cp\u003EThe now official kOS project location is \u003Ca href=\u0022https://github.com/KSP-KOS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS\u003C/a\u003E and there\u0027s a dedicated documentation project where you can find more info (in this particular case \u003Ca href=\u0022https://github.com/KSP-KOS/KOS_DOC/blob/master/source/structure/engine.md\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E).\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-03-15T00:15:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI second this. The lack of \u0022else\u0022 has made me write some weird code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would say it is the bread and butter of any computer language. I kind of loved the clunky nature of early kOS/KerboScript, but if it is going to be made into a more mature language, it should be included.\u003C/p\u003E\n"},{"CreatedByName":"SBaL","CreatedById":11004,"CreatedDateTime":"2014-03-15T01:07:03Z","Content":"\n\u003Cp\u003EStupid question inbound guys. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEven with my highly noobish coding skillz (outside of Matlab at least), I\u0027ve more or less managed to make a crude, but universal launch script from scratch. Only thing remaining at the moment is some sort of throttle control to keep my rockets from trying to go faster than the terminal velocity at any given altitude.\u003C/p\u003E\u003Cp\u003EAfter a quick look at the table of terminal velocities on Kerbin at various altitudes on the wiki, I\u0027ve found that \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E(altitude/775)^2 \u002B 100)\u003C/pre\u003E\u003Cp\u003E is a decent enough approximation to the terminal velocity through the first 20km of flight, and then \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E(altitude/650)^2 - 180\u003C/pre\u003E\u003Cp\u003E throughout the rest of the atmosphere.\u003C/p\u003E\u003Cp\u003EHowever, I\u0027m not able to transfer the comparison between this approximation and the actual speed into functional throttle commands.\u003C/p\u003E\u003Cp\u003EUsing T to represent the throttle value, V to represent my approximation and S to represent the square root of the surface speed squared \u002B the vertical speed squared (which is what I assume is my true velocity?), and doing something like this \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock V to ((altitude/775)^2) \u002B 100.\u003Cbr\u003Elock S to (((surfacespeed)^2)\u002B((verticalspeed)^2))^(1/2).\u003Cbr\u003Eset T to 1.\u003Cbr\u003E\tif S \u0026gt; V \u002B 5 {\u003Cbr\u003E\t\tset T to T - 0.1.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif S \u0026lt; V - 5 AND T \u0026lt; 1 {\u003Cbr\u003E\t\tset T to T \u002B 0.1.\u003Cbr\u003E\t}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eyet it doesn\u0027t seem to want to do like I want it to. I\u0027ve tried to use \u0022lock T\u0022 instead of \u0022set T\u0022 as well, but it didn\u0027t seem to make much of a difference. I\u0027ve also tried to just look at the numbers during a flight, and both the value of S and V works fine. It\u0027s only T which seems to stay at 1, no matter what. I\u0027m guessing there\u0027s some obvious fault in my thinking here, but I can\u0027t say that I find it. Like I said, my only previous experience with any sort of scripting is with matlab, and I\u0027m fairly sure this would work there, provided the syntax was right.\u003C/p\u003E\u003Cp\u003EYes, I know there\u0027s better ways to do reduce the throttle, and better models to follow, but since I\u0027m still trying to learn my ways around this thing, I figured I wouldn\u0027t bother with \u0022harder\u0022 maths just yet, but keep to approximations and guestimates. The main point for now is to get something that works, and after it does that, I\u0027ll start to refine the mathematics behind it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-15T01:11:10Z\u0022 title=\u002203/15/2014 01:11  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 15, 2014\u003C/time\u003E by SBaL\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Hyperlynx","CreatedById":90829,"CreatedDateTime":"2014-03-15T02:02:50Z","Content":"\n\u003Cp\u003EAny chance of, in future, being able to lock steering to normal or antinormal?\u003C/p\u003E\u003Cp\u003EWe already have prograde, retrograde and up is antiradial. I was going to try doing a cross product of up and prograde or retrograde, which I think would get normal and antinormal, except it turns out the values are in Euler angles, not vectors. My maths-fu isn\u0027t strong enough to figure out how to get the normal and antinormal using Euler angles...\u003C/p\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-03-15T03:43:30Z","Content":"\n\u003Cp\u003E@SBaL: wrap the two IFs with a loop, something like \u0022until false { .... }\u0022. Oh, and add parenthesis to the expressions, they work like they should most of the time but there may be some weird behavior with operator precedence.\u003C/p\u003E\n"},{"CreatedByName":"Jordansinn","CreatedById":75434,"CreatedDateTime":"2014-03-15T05:02:10Z","Content":"\n\u003Cp\u003EIm having trouble with remotech 2. The satellite has a link to KSC but it claims that the Archive volume is out of range.\u003C/p\u003E\n"},{"CreatedByName":"brusura","CreatedById":57899,"CreatedDateTime":"2014-03-15T08:30:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022marianoapp\u0022 data-cite=\u0022marianoapp\u0022\u003E\u003Cdiv\u003EThat was added in the last update (v11.1) so it may no be in the documentation you\u0027re reading (it\u0027s in the release notes \u003Ca href=\u0022https://github.com/erendrake/KOS/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E).\u003Cp\u003ETo access the thrust limiter you first need to build a list of engines (LIST engines IN [variable name]) and then you can read/write a bunch of parameters of each engine, including the thurst limiter.\u003C/p\u003E\u003Cp\u003EThe now official kOS project location is \u003Ca href=\u0022https://github.com/KSP-KOS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS\u003C/a\u003E and there\u0027s a dedicated documentation project where you can find more info (in this particular case \u003Ca href=\u0022https://github.com/KSP-KOS/KOS_DOC/blob/master/source/structure/engine.md\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, you have been very helpful\u003C/p\u003E\u003Cp\u003EAnother question, how do I write \u0022{\u0022 and \u0022}\u0022 on non english keyboard ? Alt 123/125 does not work in KOS console\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-15T09:36:50Z\u0022 title=\u002203/15/2014 09:36  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 15, 2014\u003C/time\u003E by brusura\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"aNewHope","CreatedById":76088,"CreatedDateTime":"2014-03-15T11:09:53Z","Content":"\n\u003Cp\u003E1.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022brusura\u0022 data-cite=\u0022brusura\u0022\u003E\u003Cdiv\u003EAnother question, how do I write \u0022{\u0022 and \u0022}\u0022 on non english keyboard ? Alt 123/125 does not work in KOS console\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf it doesn\u0027t work in your kOS console, try editing the txt-files directly (It\u0027s also much more comfortable IMO.). After you created a program, you can find it in\u003C/p\u003E\u003Cp\u003EKerbal Space Program/Plugins/PluginData/Archive .\u003C/p\u003E\u003Cp\u003E2. I have a question myself:\u003C/p\u003E\u003Cp\u003EWhy the heck does this autostaging - subprogram NOT work (Especially the first half)?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edeclare parameter use.\u003Cbr\u003E\u003Cbr\u003Eif use = 1{\u003Cbr\u003E\tlist engines in engl.\u003Cbr\u003E\tfor eng in engl{ \u003Cbr\u003E\t\tif eng:flameout = true{\u003Cbr\u003E\t\t\tset use to 0.\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Eif use = 0{\u003Cbr\u003E\tstage.\u003Cbr\u003E\tprint round(Missiontime) \u002B \u0022s Stage \u0022 \u002B St at (1,Log).\u003Cbr\u003E\tset Log to Log\u002B1.\u003Cbr\u003E\tset St to St-1.\u003Cbr\u003E\tprint St \u002B \u0022 \u0022 at (Ic2,Il\u002B4).\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhenever I try to read out any info out of the engine-structure kOS just gives me a flagrant error.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-15T12:18:10Z\u0022 title=\u002203/15/2014 12:18  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 15, 2014\u003C/time\u003E by aNewHope\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SBaL","CreatedById":11004,"CreatedDateTime":"2014-03-15T12:11:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022marianoapp\u0022 data-cite=\u0022marianoapp\u0022\u003E\u003Cdiv\u003E@SBaL: wrap the two IFs with a loop, something like \u0022until false { .... }\u0022. Oh, and add parenthesis to the expressions, they work like they should most of the time but there may be some weird behavior with operator precedence.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh yea, all of that is allready inside a loop like \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock S to (((surfacespeed)^2)\u002B((verticalspeed)^2))^0.5.\u003Cbr\u003Elock V to ((altitude/775)^2) \u002B 100.\u003Cbr\u003Eset T to 1.\u003Cbr\u003E\u003Cbr\u003Euntil altitude \u0026gt; 20000 {\u003Cbr\u003E\tif S \u0026gt; V \u002B 5 {\u003Cbr\u003E\t\tset T to T - 0.1.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif S \u0026lt; V - 5 AND T \u0026lt; 1 {\u003Cbr\u003E\t\tset T to T \u002B 0.1.\u003Cbr\u003E\t}.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Elock V to ((altitude/650)^2) - 180.\u003Cbr\u003E\u003Cbr\u003Euntil apoapsis \u0026gt; 60000 {\u003Cbr\u003E\tif S \u0026gt; V \u002B 5 {\u003Cbr\u003E\t\tset T to T - 0.1.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif S \u0026lt; V - 5 AND T \u0026lt; 1 {\u003Cbr\u003E\t\tset T to T \u002B 0.1.\u003Cbr\u003E\t}.\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E Sorry I forgot to mention that. It was kinda late over here when I posted.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-03-15T12:44:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SBaL\u0022 data-cite=\u0022SBaL\u0022\u003E\u003Cdiv\u003EUsing T to represent the throttle value, V to represent my approximation and S to represent the square root of the surface speed squared \u002B the vertical speed squared (which is what I assume is my true velocity?)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat makes sense but you don\u0027t actually have to do that, and it presumes a flat world rather than a spherical one. As you gain altitude, your actual horizontal speed won\u0027t match your surface speed anymore - not exactly - because you\u0027re moving out at a larger radius from the center than the surface is. (But under 70,000 it\u0027s going to be a rather small error).\u003C/p\u003E\u003Cp\u003EYou can just use the surface velocity vector instead:\u003C/p\u003E\u003Cp\u003E velocity:surface\u003C/p\u003E\u003Cp\u003EYou can use the pythagorean theorem yourself to get the magnitude, or just use the MAG suffix like so:\u003C/p\u003E\u003Cp\u003E velocity:surface:mag\u003C/p\u003E\n"},{"CreatedByName":"brusura","CreatedById":57899,"CreatedDateTime":"2014-03-15T13:07:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022aNewHope\u0022 data-cite=\u0022aNewHope\u0022\u003E\u003Cdiv\u003E1.\u003Cp\u003EIf it doesn\u0027t work in your kOS console, try editing the txt-files directly (It\u0027s also much more comfortable IMO.). After you created a program, you can find it in\u003C/p\u003E\u003Cp\u003EKerbal Space Program/Plugins/PluginData/Archive .\u003C/p\u003E\u003Cp\u003E2. I have a question myself:\u003C/p\u003E\u003Cp\u003EWhy the heck does this autostaging - subprogram NOT work (Especially the first half)?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edeclare parameter use.\u003Cbr\u003E\u003Cbr\u003Eif use = 1{\u003Cbr\u003E\tlist engines in engl.\u003Cbr\u003E\tfor eng in engl{ \u003Cbr\u003E\t\tif eng:flameout = true{\u003Cbr\u003E\t\t\tset use to 0.\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Eif use = 0{\u003Cbr\u003E\tstage.\u003Cbr\u003E\tprint round(Missiontime) \u002B \u0022s Stage \u0022 \u002B St at (1,Log).\u003Cbr\u003E\tset Log to Log\u002B1.\u003Cbr\u003E\tset St to St-1.\u003Cbr\u003E\tprint St \u002B \u0022 \u0022 at (Ic2,Il\u002B4).\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhenever I try to read out any info out of the engine-structure kOS just gives me a flagrant error.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks and yes I have the same problem with this, anything after : generate a flagrant error ( error is after first print )\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003E\u003Cbr\u003Elist engines in motori.\u003Cbr\u003E\u003Cbr\u003Efor m in motori\u003Cbr\u003E{ \u003Cbr\u003E print \u0022Engine: \u0022 \u002B m.\u003Cbr\u003E print \u0022Max Thrust: \u0022 \u002B m:maxthrust.\u003Cbr\u003E print \u0022Thrust: \u0022 \u002B m:thrust.\u003Cbr\u003E print \u0022Thrust Limit: \u0022 \u002B m:thrustlimit.\u003Cbr\u003E print \u0022 \u0022.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere is must be a bug with version 0.11.1 because the above code ( removing \u0022thrustlimit\u0022 wich is not yet implemented in 0.11.0 ) run just fine in version 0.11.0\u003C/p\u003E\u003Cp\u003EEDIT: the problem is fixed with release 0.12P1\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-16T14:24:10Z\u0022 title=\u002203/16/2014 02:24  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 16, 2014\u003C/time\u003E by brusura\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SBaL","CreatedById":11004,"CreatedDateTime":"2014-03-15T14:28:32Z","Content":"\n\u003Cp\u003ESeems like I\u0027ve got it working now. Though I can\u0027t really say I fully understand what I\u0027ve done right this time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edeclare T. declare V. declare S.\u003Cbr\u003Elock V to (((altitude/775)^2) \u002B 100).\u003Cbr\u003Elock S to (((surfacespeed)^2)\u002B((verticalspeed)^2))^0.5.\u003Cbr\u003Eset T to 1.\u003Cbr\u003Elock throttle to T.\u003Cbr\u003E\u003Cbr\u003Ewhen altitude \u0026gt; 20000 then {\u003Cbr\u003E\tlock V to (((altitude/650)^2) - 180).\u003Cbr\u003E}.\u003Cbr\u003Ewhen altitude \u0026gt; 60000 then lock throttle to 1.\u003Cbr\u003E\u003Cbr\u003Euntil apoapsis \u0026gt; 60000 {\u003Cbr\u003E\tif S \u0026gt; (V \u002B 1.5) AND T \u0026gt; 0 {\u003Cbr\u003E\t\tset T to T - 0.01.\u003Cbr\u003E\t\twait 0.1.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif S \u0026lt; (V - 1.5) AND T \u0026lt; 1 {\u003Cbr\u003E\t\tset T to T \u002B 0.01.\u003Cbr\u003E\t\twait 0.1.\u003Cbr\u003E\t}.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOh, and this is just a small piece of a larger script I\u0027m working on. Next issue to tackle is the fact that the turn rates always seem to be too slow, causing my trajectory to be way to vertical. Is there any good ways to mitigate this?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-15T14:33:49Z\u0022 title=\u002203/15/2014 02:33  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 15, 2014\u003C/time\u003E by SBaL\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-03-15T19:22:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SBaL\u0022 data-cite=\u0022SBaL\u0022\u003E\u003Cdiv\u003ESeems like I\u0027ve got it working now. Though I can\u0027t really say I fully understand what I\u0027ve done right this time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI bet on the parenthesis \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SBaL\u0022 data-cite=\u0022SBaL\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOh, and this is just a small piece of a larger script I\u0027m working on. Next issue to tackle is the fact that the turn rates always seem to be too slow, causing my trajectory to be way to vertical. Is there any good ways to mitigate this?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou have to adjust the direction all the time either by locking steering to an expression or manually controlling the yaw. Of course if you don\u0027t have enough torque there\u0027s no way to move the rocket.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-15T19:31:54Z\u0022 title=\u002203/15/2014 07:31  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 15, 2014\u003C/time\u003E by marianoapp\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SBaL","CreatedById":11004,"CreatedDateTime":"2014-03-15T21:52:57Z","Content":"\n\u003Cp\u003EI doubt it\u0027s the lack of torque alone, since flying any of my rockets manually gives me no problems what so ever when it comes to steering them.\u003C/p\u003E\u003Cp\u003EAlso, the only crafts kOS seems to be able to steer with any degree of success are small, single stage crafts. Even a simple two stage 1.25m suborbital rocket is too much for it, and it will take too long to steer in any direction.\u003C/p\u003E\u003Cp\u003ETo put my coding \u0022pfails\u0022 short: \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u0026lt;Stuffs\u0026gt;\u003Cbr\u003Elock Y to (((((apoapsis\u002Baltitude)/2)/60000)^(4/3)) * (-90)).\u003Cbr\u003E\u0026lt;Many many codes\u0026gt;\u003Cbr\u003Ewhen altitude \u0026gt; 5000 OR apoapsis \u0026gt; 6500 then {\u003Cbr\u003E\tlock steering to UP \u002B R(0,Y,180).\u003Cbr\u003E\tsas off.\u003Cbr\u003E}.\u003Cbr\u003Ewhen apoapsis \u0026gt; 60000 then {\u003Cbr\u003E\t\u0026lt;Do lots of things\u0026gt;\u003Cbr\u003E\tlock Y to (-90).\u003Cbr\u003E}.\u003Cbr\u003E\u0026lt;Even more codes and loops\u0026gt;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s a loop later on to autostage when ever it\u0027s needed, and to keep the script running through the entire ascent. I\u0027ve done some changes like removing redundant loops and such throughout the script, and use more \u0022when _ then\u0022 statements since they seem to work just as well for my purpose. This change has however of course not changed the steering behaviour. Or, not in any significant way at least.\u003C/p\u003E\u003Cp\u003EWhen I\u0027m looking at the steering control gauge thingies in KSP, it seems like kOS is mostly spazzing (like the old asas did) the controls around their respective centres, and it hardly outputs steering commands of more than 1/3 to 1/2 of what it can in any direction. I\u0027d figured that it was mostly an issue with this \u0022spazzing\u0022 of controls. But I can\u0027t say I\u0027ve come up with any good way to mitigate this.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried to just lock Y to -90 much earlier, but it doesn\u0027t really speed things along.\u003C/p\u003E\u003Cp\u003EOh, and thanks for all your help so far. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-03-16T01:52:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SBaL\u0022 data-cite=\u0022SBaL\u0022\u003E\u003Cdiv\u003EI doubt it\u0027s the lack of torque alone, since flying any of my rockets manually gives me no problems what so ever when it comes to steering them.\u003Cp\u003EAlso, the only crafts kOS seems to be able to steer with any degree of success are small, single stage crafts. Even a simple two stage 1.25m suborbital rocket is too much for it, and it will take too long to steer in any direction.\u003C/p\u003E\u003Cp\u003EOh, and thanks for all your help so far. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eif The normal steering assist doesnt behave like you want. you have direct access to the steering and you can turn it exactly like you would by hand.\u003C/p\u003E\u003Cp\u003EEDIT: By this i mean there is a flight control API for you to set the yaw/pitch/roll directly\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-16T05:15:57Z\u0022 title=\u002203/16/2014 05:15  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 16, 2014\u003C/time\u003E by erendrake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-03-16T06:17:38Z","Content":"\n\u003Cp\u003E\u003Cem\u003ELock steering\u003C/em\u003E can be a bit fickle at times. You need to work with that or replace it with your own implementation per erendrake\u0027s suggestion.\u003C/p\u003E\n"},{"CreatedByName":"Hans Dorn","CreatedById":105419,"CreatedDateTime":"2014-03-16T09:14:51Z","Content":"\n\u003Cp\u003EHi SBal, you can get the current terminal velocity from ship:termvelocity \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI found out after I did the complete math in a script, LOL:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset e to 2.7182818284590452353602874713527.\u003Cbr\u003E\u003Cbr\u003E// Launch\u003Cbr\u003Eset t to 1.\u003Cbr\u003Elock throttle to t.\u003Cbr\u003Esas on.\u003Cbr\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003E\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003Euntil ship:liquidfuel \u0026lt; 0.01 {\u003Cbr\u003E\u003Cbr\u003Eset f to -1 * altitude / 5000.\u003Cbr\u003E\u003Cbr\u003Eset pbaro to body:atm:sealevelpressure * ( e ^ f).\u003Cbr\u003E\u003Cbr\u003E// if pbaro \u0026lt; 0.001 { set pbaro to 0.001. }.\u003Cbr\u003Eprint \u0022pbaro: \u0022 \u002B pbaro at (0,0).\u003Cbr\u003E\u003Cbr\u003Eset rho to 1.2230948554874 * pbaro.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022rho: \u0022 \u002B rho at (0,1).\u003Cbr\u003E\u003Cbr\u003Eset r to altitude \u002B body:radius.\u003Cbr\u003Eset grav to body:mu.\u003Cbr\u003Eset grav to grav / ( r * r).\u003Cbr\u003E\u003Cbr\u003Eprint \u0022grav: \u0022 \u002B grav at (0,2).\u003Cbr\u003E\u003Cbr\u003Eset vesc to 250 * grav.\u003Cbr\u003Eset vesc to vesc / rho.\u003Cbr\u003Eset vesc to vesc / 0.2.\u003Cbr\u003Eset vesc to vesc ^ 0.5.\u003Cbr\u003Eprint \u0022vesc: \u0022 \u002B vesc at (0,3).\u003Cbr\u003E[COLOR=\u0022#FF0000\u0022]print \u0022vt: \u0022 \u002B ship:termvelocity at (0,4).[/COLOR]\u003Cbr\u003Eset v to verticalspeed.\u003Cbr\u003Eset dv to (vesc - v) / 10.\u003Cbr\u003E\u003Cbr\u003Eset t to dv.\u003Cbr\u003E\u003Cbr\u003Eif (t \u0026gt; 1) { set t to 1. }.\u003Cbr\u003Eif (t \u0026lt; 0) { set t to 0. }.\u003Cbr\u003Eprint \u0022t: \u0022 \u002B t at (0,5).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\u003Cp\u003EHans\u003C/p\u003E\u003Cp\u003EP.S: Awesome job with the kOS mod, guys. I like it very much.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-03-16T12:59:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hans Dorn\u0022 data-cite=\u0022Hans Dorn\u0022\u003E\u003Cdiv\u003EHi SBal, you can get the current terminal velocity from ship:termvelocity \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EReally? That\u0027s a bit too ... Mechjeb. I\u0027d rather have the components that go into the calculation than the final result of it. We\u0027re supposed to be writing the autopilot ourselves here.\u003C/p\u003E\n"}]}