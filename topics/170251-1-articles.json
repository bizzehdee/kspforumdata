{"TopicId":170251,"ForumId":36,"TopicTitle":"KRPC Joystick Input RPC/sec","CreatedByName":"tomcunn","CreatedById":184903,"CreatedDateTime":"2018-01-30T04:34:47Z","PageNum":1,"Articles":[{"CreatedByName":"tomcunn","CreatedById":184903,"CreatedDateTime":"2018-01-30T04:34:47Z","Content":"\n\u003Cp\u003E\nI am trying to build an interface to a control panel that uses joysticks to interface to KSP via the KRPC. I have everything working, reading the joystick values into a raspberry pi, and then having the pi connect to the KRPC server. I am trying to achieve a 10Hz or better rate for the controls. For my python code, I execute the calls on a loop.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0 \u00A0 while(True):\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0GetJoyStick()\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0start = time.time()\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0vessel.control.pitch = joystick_pitch\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0vessel.control.yaw \u00A0 = joystick_yaw\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0vessel.control.roll \u00A0= joystick_roll\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0vessel.control.thottle\u00A0 y= 1\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0vessel.control.forward = 0\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0vessel.control.right = 0\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0vessel.control.up = 0\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0end = time.time()\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0print(end-start)\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI played around with some different settings in KRPC advanced settings in the KRPC interface, the best I could get was 45 RPC/sec. Here is a print statement of time for the update to occur as shown in the code above.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nStarting Controls///\u003Cbr\u003E\n0.439182043076\u003Cbr\u003E\n0.435542106628\u003Cbr\u003E\n0.437279939651\u003Cbr\u003E\n0.441950798035\u003Cbr\u003E\n0.443905830383\u003Cbr\u003E\n0.400623083115\u003Cbr\u003E\n0.742579936981\u003Cbr\u003E\n0.438502073288\u003Cbr\u003E\n0.443440198898\u003Cbr\u003E\n0.435302972794\u003Cbr\u003E\n0.439296007156\u003Cbr\u003E\n0.623143196106\u003Cbr\u003E\n0.461045980453\u003Cbr\u003E\n0.442525863647\u003Cbr\u003E\n0.43900513649\u003Cbr\u003E\n0.439331054688\u003Cbr\u003E\n0.47675204277\u003Cbr\u003E\n0.439754962921\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am wondering if this is the best approach that I am taking. For a bank of switches, the rates are fine, but for joystick control, it can be a little laggy.\u00A0 Any help is appreciated.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks,\n\u003C/p\u003E\n\u003Cp\u003E\nTom\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}