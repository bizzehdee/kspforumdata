{"TopicId":151981,"ForumId":20,"TopicTitle":"How do I get a body to orbit another only if a certain mod is installed?","CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2016-11-13T16:37:38Z","PageNum":1,"Articles":[{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2016-11-13T16:37:38Z","Content":"\n\u003Cp\u003E\nSo say for instance my mod moves Ike to Eeloo, but then OPM is installed so I want Ike to go around the Sun. How would I do that?\n\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2016-11-14T08:18:51Z","Content":"\n\u003Cp\u003E\nModule Manager can do conditional patching.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst, you write two patches: one to move Ike around Eeloo, and one to move Ike into a solar orbit. You can even put them in the same file to keep things tidy. Each of them begins the same way:\n\u003C/p\u003E\n\u003Cp\u003E\n@Kopernicus:AFTER[Kopernicus]\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0@Body[Ike]\u003Cbr\u003E\n\u00A0\u00A0\u00A0 {\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 ... ... ...\n\u003C/p\u003E\n\u003Cp\u003E\nNow, for the patch that moves Ike into solar orbit, you insert :NEEDS[OPM] into the first line, so it looks like this:\n\u003C/p\u003E\n\u003Cp\u003E\n@Kopernicus:NEEDS[OPM]:AFTER[Kopernicus]\n\u003C/p\u003E\n\u003Cp\u003E\nThis says: \u0022only run this patch if a folder named OPM is present in GameData\u0022. Which is the folder you get when you install Outer Planets Mod. So Ike is only moved into solar orbit if OPM is present.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThen, you change the patch that moves Ike into orbit around Eeloo in a very similar way, so it looks like this:\n\u003C/p\u003E\n\u003Cp\u003E\n@Kopernicus:NEEDS[!OPM]:AFTER[Kopernicus]\n\u003C/p\u003E\n\u003Cp\u003E\nThat exclamation mark is important. It says \u0022only run this patch if a folder named OPM is \u003Cem\u003Enot\u003C/em\u003E present in GameData\u0022. So Ike is only moved into orbit around Eeloo if OPM is not installed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNow you have a constellation where only one of the two patches fires, depending on whether you have OPM installed or not. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}