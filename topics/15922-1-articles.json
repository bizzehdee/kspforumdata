{"TopicId":15922,"ForumId":29,"TopicTitle":"MunMover problems.","CreatedByName":"Thobewill10","CreatedById":6148,"CreatedDateTime":"2012-08-02T01:23:51Z","PageNum":1,"Articles":[{"CreatedByName":"Thobewill10","CreatedById":6148,"CreatedDateTime":"2012-08-02T01:23:51Z","Content":"\n\u003Cp\u003ESo i\\\u0027ve been trying to update and improve the MunMover plugin to be able to move both the Mun and Minmus and to allow solar orbits. When I load up the flight scene with the part attached, I get several issues, including a non-loading vessel (screen turns sideways, pointed at the air, and velocity and altitude do not load) and a lack of mun-moving power.\u003C/p\u003E\u003Cp\u003EHere is my code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003Epublic class MunMover : Part\u003Cbr\u003E{\u003Cbr\u003E CelestialBody body;\u003Cbr\u003E CelestialBody orbiting;\u003Cbr\u003E CelestialBody kerbin;\u003Cbr\u003E\u003Cbr\u003E Orbit mo;\u003Cbr\u003E Orbit so;\u003Cbr\u003E\u003Cbr\u003E public float SemiMajorAxis;\u003Cbr\u003E public float BodyToMove;\u003Cbr\u003E public float BodyToOrbit;\u003Cbr\u003E public float Inclination;\u003Cbr\u003E public float Eccentricity;\u003Cbr\u003E\u003Cbr\u003E protected override void onPartAwake()\u003Cbr\u003E {\u003Cbr\u003E kerbin = FlightGlobals.Bodies[1];\u003Cbr\u003E body = kerbin.orbitingBodies[(int)BodyToMove];\u003Cbr\u003E orbiting = FlightGlobals.Bodies[(int)BodyToOrbit];\u003Cbr\u003E\u003Cbr\u003E so = orbiting.orbit;\u003Cbr\u003E mo = body.orbit;\u003Cbr\u003E\u003Cbr\u003E if (BodyToOrbit != 0 || BodyToOrbit != 1)\u003Cbr\u003E\u003Cbr\u003E BodyToOrbit = 1; //If invalid BodyToOrbit parameter (i.e. not 0 or 1), set to 1 (Kerbin))\u003Cbr\u003E\u003Cbr\u003E if (SemiMajorAxis == -1 \u0026amp;\u0026amp; BodyToMove == 0 \u0026amp;\u0026amp; BodyToOrbit == 1)\u003Cbr\u003E\u003Cbr\u003E SemiMajorAxis = (float)(orbiting.Radius \u002B 11400000); //If undefinied SemiMajorAxis for Mun (BodyToMove == 0), set to default\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (SemiMajorAxis == -1 \u0026amp;\u0026amp; BodyToMove == 1 \u0026amp;\u0026amp; BodyToOrbit == 1)\u003Cbr\u003E\u003Cbr\u003E SemiMajorAxis = (float)(orbiting.Radius \u002B 4640000); //if undefined SemiMajorAxis for Minmus (1), set to default\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (Inclination == -1 \u0026amp;\u0026amp; BodyToMove == 0) \u003Cbr\u003E\u003Cbr\u003E Inclination = 0; //set inclination to default if no inclination specified\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (Inclination \u0026lt; 0 \u0026amp;\u0026amp; BodyToMove == 1)\u003Cbr\u003E\u003Cbr\u003E Inclination = 6;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (Eccentricity \u0026lt; 0 || Eccentricity \u0026gt;= 1)\u003Cbr\u003E\u003Cbr\u003E Eccentricity = 0;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E base.onPartAwake();\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E protected override void onPartStart()\u003Cbr\u003E {\u003Cbr\u003E // Will probably only work when on or orbiting Kerbin\u003Cbr\u003E\u003Cbr\u003E if (BodyToMove == 0)\u003Cbr\u003E {\u003Cbr\u003E print(\u0027Let\\\u0027s move the Mun!\u0027);\u003Cbr\u003E }\u003Cbr\u003E if (BodyToMove == 1)\u003Cbr\u003E {\u003Cbr\u003E print(\u0027Let\\\u0027s move Minmus!\u0027);\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E mo.semiMajorAxis = SemiMajorAxis;\u003Cbr\u003E mo.inclination = Inclination;\u003Cbr\u003E mo.eccentricity = Eccentricity;\u003Cbr\u003E mo.referenceBody = orbiting;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E }\u003Cbr\u003E}\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eusing System;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMy cfg parameters are as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E// --- munmover parameters---\u003C/p\u003E\u003Cp\u003ESemiMajorAxis = 20301660384\u003C/p\u003E\u003Cp\u003EEccentricity = 0\u003C/p\u003E\u003Cp\u003EInclination = 0\u003C/p\u003E\u003Cp\u003EBodyToMove = 1\u003C/p\u003E\u003Cp\u003EBodyToOrbit = 0\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo what\\\u0027s going on?\u003C/p\u003E\n"}]}