{"TopicId":116818,"ForumId":34,"TopicTitle":"[1.1.3] Orbital Decay v1.5.2 (17/07/2016) - Total Overhaul","CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-07-25T16:14:41Z","PageNum":19,"Articles":[{"CreatedByName":"MaximumThrust","CreatedById":185090,"CreatedDateTime":"2018-04-01T01:00:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223341172\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522543710\u0022 data-ipsquote-userid=\u002238402\u0022 data-ipsquote-username=\u0022ZAJC3W\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, ZAJC3W said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185090-maximumthrust/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022185090\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185090-maximumthrust/\u0022 rel=\u0022\u0022\u003E@MaximumThrust\u003C/a\u003ELan updating to zero seems to be game not returning correct values, same error happens with mass,area and fuel left. it\u0027s beyond my capability to eliminate those. Might be game issue or mod requesting data at the\u00A0wrong moment, no idea.\n\u003C/p\u003E\n\u003Cp\u003E\nI did run 50 debris and 20-ish satelites before it bogged down fx8350\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks!\u003Cbr\u003E\u003Cbr\u003E\nI really wanted to use this mod, but this is a serious problem for me, I do a lot of constellations where half of the vessels have LAN at 0, and half LAN at 180. Sadly I don\u0027t have knowledge to help with this, hope someone can.\u003Cbr\u003E\u003Cbr\u003E\nAnd a suggestions to increase performance is to only apply the mod in vessels until a certain altitude, like only\u00A0below Space High (250 km\u00A0for Kerbin). Anything too high takes a huge amount of time to decay or use all the fuel for station keeping anyway.\n\u003C/p\u003E\n"},{"CreatedByName":"AlliedForth","CreatedById":180369,"CreatedDateTime":"2018-04-08T14:42:59Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185090-maximumthrust/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022185090\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185090-maximumthrust/\u0022 rel=\u0022\u0022\u003E@MaximumThrust\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI dont know if I\u2019m missing something or if its some value related to the mod, but what does LAN stand for in this context?\n\u003C/p\u003E\n\u003Cp\u003E\nThe mod is exactly what i was looking for, just want to know what value is set to 0 sometimes.\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-08T23:12:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223348821\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523198579\u0022 data-ipsquote-userid=\u0022180369\u0022 data-ipsquote-username=\u0022AlliedForth\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, AlliedForth said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185090-maximumthrust/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022185090\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/185090-maximumthrust/\u0022 rel=\u0022\u0022\u003E@MaximumThrust\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI dont know if I\u2019m missing something or if its some value related to the mod, but what does LAN stand for in this context?\n\u003C/p\u003E\n\u003Cp\u003E\nThe mod is exactly what i was looking for, just want to know what value is set to 0 sometimes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLongitude of Ascending Node.\n\u003C/p\u003E\n\u003Cp\u003E\nPretty much what it sounds like, just tells you where the \u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E is located.\n\u003C/p\u003E\n"},{"CreatedByName":"The-Doctor","CreatedById":163802,"CreatedDateTime":"2018-04-09T23:58:34Z","Content":"\n\u003Cp\u003E\nHey can someone link me the latest update of this, can it work with 1.4.2? I wanna have this mod again, to give me a reason to build shuttles and replace satellites or service them etc.\n\u003C/p\u003E\n"},{"CreatedByName":"demibear","CreatedById":148432,"CreatedDateTime":"2018-04-10T11:12:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223341176\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522544425\u0022 data-ipsquote-userid=\u0022185090\u0022 data-ipsquote-username=\u0022MaximumThrust\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/1/2018 at 9:00 AM, MaximumThrust said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks!\u003Cbr\u003E\u003Cbr\u003E\nI really wanted to use this mod, but this is a serious problem for me, I do a lot of constellations where half of the vessels have LAN at 0, and half LAN at 180. Sadly I don\u0027t have knowledge to help with this, hope someone can.\u003Cbr\u003E\u003Cbr\u003E\nAnd a suggestions to increase performance is to only apply the mod in vessels until a certain altitude, like only\u00A0below Space High (250 km\u00A0for Kerbin). Anything too high takes a huge amount of time to decay or use all the fuel for station keeping anyway.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAhhh, so that is why my constellation got out of whack. Had to use hyperedit to fix it.\n\u003C/p\u003E\n"},{"CreatedByName":"Frylovespi","CreatedById":187865,"CreatedDateTime":"2018-04-15T22:42:54Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI may be mistaken but after quickly glancing at the code it seems that the line\u00A0 in Decay Manager\n\u003C/p\u003E\n\u003Cp\u003E\norbit.LAN = VesselData.FetchLAN(vessel);\n\u003C/p\u003E\n\u003Cp\u003E\nshould be\n\u003C/p\u003E\n\u003Cp\u003E\norbit.longitudeOfAscendingNode = VesselData.FetchLAN(vessel);\n\u003C/p\u003E\n\u003Cp\u003E\nThat should get it to fetch the proper LAN I think.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-17T03:29:21Z\u0022 title=\u002204/17/2018 03:29  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 17, 2018\u003C/time\u003E by Frylovespi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2018-04-17T09:37:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223355437\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523832174\u0022 data-ipsquote-userid=\u0022187865\u0022 data-ipsquote-username=\u0022Frylovespi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/15/2018 at 3:42 PM, Frylovespi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI may be mistaken but after quickly glancing at the code it seems that the line\u00A0 in Decay Manager\n\u003C/p\u003E\n\u003Cp\u003E\norbit.LAN = VesselData.FetchLAN(vessel);\n\u003C/p\u003E\n\u003Cp\u003E\nshould be\n\u003C/p\u003E\n\u003Cp\u003E\norbit.longitudeOfAscendingNode = VesselData.FetchLAN(vessel);\n\u003C/p\u003E\n\u003Cp\u003E\nThat should get it to fetch the proper LAN I think.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHave you tried it? Does it work? Please share it!\n\u003C/p\u003E\n"},{"CreatedByName":"Frylovespi","CreatedById":187865,"CreatedDateTime":"2018-04-17T15:33:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223356605\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523957865\u0022 data-ipsquote-userid=\u002210849\u0022 data-ipsquote-username=\u0022White Owl\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, White Owl said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHave you tried it? Does it work? Please share it!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI am not much of a programmer and couldn\u0027t get it to compile. So all it needs is someone to fix the error and to recompile. Easy enough but slightly above my level. I can only do monkey work like program contracts. I\u0027ve managed to re-compile a few mods over the years but tried for 3 hours on this one and just couldn\u0027t get all the references in that were needed. If a .csproj was included in the source, then I would have had better luck figuring it out.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-17T17:05:21Z\u0022 title=\u002204/17/2018 05:05  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 17, 2018\u003C/time\u003E by Frylovespi\u003C/strong\u003E\n\u003Cbr\u003Esp fix\n\u003C/span\u003E\n"},{"CreatedByName":"ZAJC3W","CreatedById":38402,"CreatedDateTime":"2018-04-17T15:38:29Z","Content":"\n\u003Cp\u003E\nIt takes 30 minutes including vs2015 installation to set up everything for KSP mod recompile.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m too busy with life to play games atm, let alone compile mods.\n\u003C/p\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2018-04-17T20:34:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223356840\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523979196\u0022 data-ipsquote-userid=\u0022187865\u0022 data-ipsquote-username=\u0022Frylovespi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Frylovespi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am not much of a programmer and couldn\u0027t get it to compile. So all it needs is someone to fix the error and to recompile. Easy enough but slightly above my level. I can only do monkey work like program contracts. I\u0027ve managed to re-compile a few mods over the years but tried for 3 hours on this one and just couldn\u0027t get all the references in that were needed. If a .csproj was included in the source, then I would have had better luck figuring it out.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m pretty much in the same boat. I can get a simple project done if it comes with step-by-step instructions... looked at this one last night and couldn\u0027t figure it out.\n\u003C/p\u003E\n"},{"CreatedByName":"Maeyanie","CreatedById":81897,"CreatedDateTime":"2018-04-17T22:43:35Z","Content":"\n\u003Cp\u003E\nI\u0027m not really familiar with KSP modding in general, but I\u0027ve at least worked with C# and Mono enough to compile stuff, so gave it a shot.\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately, the result is that change doesn\u0027t even compile:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EDecayManager.cs(547,31): error CS1061: Type \u0060Orbit\u0027 does not contain a definition for \u0060longitudeOfAscendingNode\u0027 and no extension method \u0060longitudeOfAscendingNode\u0027 of type \u0060Orbit\u0027 could be found. Are you missing an assembly reference?\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027ll poke around in the KSP documentation and edit this if I see any obvious fix.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Nope, the Orbit class doesn\u0027t have anything even remotely resembling a \u0022longitudeOfAscendingNode\u0022 member, aside from the \u0022LAN\u0022 it was orignally. Searching the \u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_orbit.html\u0022 rel=\u0022\u0022\u003EOrbit class reference\u003C/a\u003E for the word \u0022longitude\u0022 shows nothing.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-17T22:47:33Z\u0022 title=\u002204/17/2018 10:47  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 17, 2018\u003C/time\u003E by Maeyanie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-18T02:35:32Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187865-frylovespi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187865-frylovespi/\u0022 rel=\u0022\u0022\u003E@Frylovespi\u003C/a\u003E\u00A0Why, exactly, were you thinking that\u00A0\u003Cspan style=\u0022background-color:#fbfbfb;color:#353c41;font-size:14px;\u0022\u003Eorbit.longitudeOfAscendingNode should do anything? It\u0027s not referenced in Orbit class anywhere at all. That will never ever compile.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Frylovespi","CreatedById":187865,"CreatedDateTime":"2018-04-18T02:36:26Z","Content":"\n\u003Cp\u003E\ni honestly have no idea and was just playing around with the code. Could be why it didn\u0027t compile\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-18T02:37:10Z\u0022 title=\u002204/18/2018 02:37  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 18, 2018\u003C/time\u003E by Frylovespi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-18T13:12:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223357305\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524018986\u0022 data-ipsquote-userid=\u0022187865\u0022 data-ipsquote-username=\u0022Frylovespi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Frylovespi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ni honestly have no idea and was just playing around with the code. Could be why it didn\u0027t compile\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s exactly why. If you try to access a field or method or property on a class then it better exist or your code won\u0027t compile. Did you look at the page that \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0026amp;do=hovercard\u0022 data-mentionid=\u002281897\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0022 rel=\u0022\u0022\u003E@Maeyanie\u003C/a\u003E\u00A0linked to? (here it is again:\u00A0\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_orbit.html\u0022 rel=\u0022\u0022\u003Ehttps://kerbalspaceprogram.com/api/class_orbit.html\u003C/a\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nThat website also contains documentation for other KSP classes and their fields and methods.\n\u003C/p\u003E\n\u003Cp\u003E\nLook, the problem with the LAN is either that it\u0027s being updated with bad information or that the lookup (VesselData.FetchLAN) is failing out right. I\u0027m a little skeptical the latter is the cause but if that method ever DOES fail (to find a vessel and return it\u0027s orbital LAN) then the only possible outcome is that it returns a default value of 0 which will then corrupt your orbit\u0027s LAN. Instead of the way it is now, failing to find the vessel\u0027s associated data\u00A0should either be treated as a fatal error or at the very least, the orbit\u0027s LAN should not be updated with that data.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason I\u0027m skeptical of that being the actual cause is because there is a lot of other Fetch* methods that return a vessel\u0027s orbital parameters using that technique so you should be seeing a lot more happening than just the LAN being corrupted. (as near as I can tell it\u0027s storing each vessel\u0027s orbital data in a save file database and retrieving it as needed. I assume it\u0027s done that way because of OD operations being performed on it in the database before actually applying it to the actual vessel\u0027s orbit...)\n\u003C/p\u003E\n\u003Cp\u003E\nIf it were me, just to be on the safe side I\u0027d rewrite all those to either throw an error or return some other value that lets the calling method know that we couldn\u0027t return useful data. (and then THAT method can either just not set the LAN or find another way of computing and setting the data)\n\u003C/p\u003E\n\u003Cp\u003E\nThen I would look at every time that UpdateVesselLAN is called and look at how that value was computed.\n\u003C/p\u003E\n\u003Cp\u003E\nI would also get rid of every line that says\u00A0VesselData.UpdateVesselLAN(vessel, VesselData.FetchLAN(vessel));\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBecause THAT is definitely not doing anything useful. (it\u0027s basically telling VesselData to retrieve the LAN value for that vessel from its database and then write it BACK into the same vessel entry in that database without any modification whatsoever)\n\u003C/p\u003E\n\u003Cp\u003E\n(maybe those lines exist because some value modification was meant to happen later, but as written \u003Cem\u003Enow\u003C/em\u003E, it\u0027s not doing anything)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-18T13:23:06Z\u0022 title=\u002204/18/2018 01:23  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 18, 2018\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Maeyanie","CreatedById":81897,"CreatedDateTime":"2018-04-18T13:39:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223357564\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524057159\u0022 data-ipsquote-userid=\u002271262\u0022 data-ipsquote-username=\u0022Starwaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 minutes ago, Starwaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would also get rid of every line that says\u00A0VesselData.UpdateVesselLAN(vessel, VesselData.FetchLAN(vessel));\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBecause THAT is definitely not doing anything useful. (it\u0027s basically telling VesselData to retrieve the LAN value for that vessel from its database and then write it BACK into the same vessel entry in that database without any modification whatsoever)\n\u003C/p\u003E\n\u003Cp\u003E\n(maybe those lines exist because some value modification was meant to happen later, but as written \u003Cem\u003Enow\u003C/em\u003E, it\u0027s not doing anything)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI did poke through the code a bit to see if there were any obvious things which could cause the LAN thing... but, I don\u0027t know much about KSP mods, and the math involved in all of this is way over my head, so didn\u0027t get too far.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are a few other coding oddities like that I did see, such as\u00A0DecayManager.cs line 534, \u0022 \u003Cspan\u003Eif\u003C/span\u003E (vessel = FlightGlobals.ActiveVessel) \u0022... technically this sets vessel to FlightGlobals.ActiveVessel, and then checks if vessel isn\u0027t null, in a single line. I\u0027m guessing that\u0027s a typo and supposed to be a == (check if the two are equal) instead, but it \u003Cem\u003Ecould \u003C/em\u003Ebe intentional.\n\u003C/p\u003E\n\u003Cp\u003E\nAs much as I love the idea of this mod, I\u0027ve had to stop using it due to running into a wide variety of craft-breaking bugs, so I\u0027m not all that motivated to try to learn enough to fix it.\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-18T14:02:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223357580\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524058790\u0022 data-ipsquote-userid=\u002281897\u0022 data-ipsquote-username=\u0022Maeyanie\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Maeyanie said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI did poke through the code a bit to see if there were any obvious things which could cause the LAN thing... but, I don\u0027t know much about KSP mods, and the math involved in all of this is way over my head, so didn\u0027t get too far.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are a few other coding oddities like that I did see, such as\u00A0DecayManager.cs line 534, \u0022 \u003Cspan\u003Eif\u003C/span\u003E (vessel = FlightGlobals.ActiveVessel) \u0022... technically this sets vessel to FlightGlobals.ActiveVessel, and then checks if vessel isn\u0027t null, in a single line. I\u0027m guessing that\u0027s a typo and supposed to be a == (check if the two are equal) instead, but it \u003Cem\u003Ecould \u003C/em\u003Ebe intentional.\n\u003C/p\u003E\n\u003Cp\u003E\nAs much as I love the idea of this mod, I\u0027ve had to stop using it due to running into a wide variety of craft-breaking bugs, so I\u0027m not all that motivated to try to learn enough to fix it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah I don\u0027t think that line looks right. The method (CatchUpOrbit) containing that line is often\u00A0called from within loops where the list of vessels in ActiveGlobals.Vessels is walked through and CatchUpOrbit is called for that vessel. So basically the only one of those vessels that will ever actually get operated on by CatchUpOrbit is the active one. That can\u0027t be right.\n\u003C/p\u003E\n\u003Cp\u003E\nBTW you can link to a line or group of lines in a Github file by clicking on a line number in that file and then shift-click on the last line you want to include. Grab the resulting link from the page\u0027s URL and then paste:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Whitecat106/OrbitalDecay/blob/6d648de50261a63fb170f9863106f21ba5131542/Source/DecayManager.cs#L92-L100\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Whitecat106/OrbitalDecay/blob/6d648de50261a63fb170f9863106f21ba5131542/Source/DecayManager.cs#L92-L100\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nClick on that and you will see what that looks like\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-18T20:01:43Z","Content":"\n\u003Cp\u003E\nI might be willing to look into the LAN issue but I need to be able to reliably reproduce the problem and I don\u0027t know how.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ZAJC3W","CreatedById":38402,"CreatedDateTime":"2018-04-18T20:08:37Z","Content":"\n\u003Cp\u003E\nIt happens once in a blue moon, good luck with it.\n\u003C/p\u003E\n\u003Cp\u003E\nTry calling for LAN again if it\u0027s returned as zero. By calling for LAN i mean check vessel\u0027s land using KSP engine methods, as they seem to be a bit touch and go.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOr vessel data is being checked at wrong moment.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-18T20:11:48Z\u0022 title=\u002204/18/2018 08:11  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 18, 2018\u003C/time\u003E by ZAJC3W\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-18T20:10:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223357953\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524082117\u0022 data-ipsquote-userid=\u002238402\u0022 data-ipsquote-username=\u0022ZAJC3W\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, ZAJC3W said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt happens once in a blue moon, good luck with it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo in other words, I could do some things that \u003Cem\u003Emight\u003C/em\u003E fix it and there\u0027s no way of knowing\u00A0 until it happens again\n\u003C/p\u003E\n"},{"CreatedByName":"Maeyanie","CreatedById":81897,"CreatedDateTime":"2018-04-18T20:12:07Z","Content":"\n\u003Cp\u003E\nEasier-to-reproduce bugs are having station keeping on, and doing... pretty much any sort of situation change. Suborbital-Orbital, Orbital-Hyperbolic, etc. It tends to crash the game, NaN out the craft, and similarly-bad things.\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-18T23:35:50Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0026amp;do=hovercard\u0022 data-mentionid=\u002281897\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0022 rel=\u0022\u0022\u003E@Maeyanie\u003C/a\u003E\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/38402-zajc3w/\u0026amp;do=hovercard\u0022 data-mentionid=\u002238402\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/38402-zajc3w/\u0022 rel=\u0022\u0022\u003E@ZAJC3W\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nChanging that one line (if (vessel = FlightGlobals.ActiveVessel)) stopped one Kerbal killing bug that I came across...\n\u003C/p\u003E\n"},{"CreatedByName":"Maeyanie","CreatedById":81897,"CreatedDateTime":"2018-04-19T01:29:54Z","Content":"\n\u003Cp\u003E\nI was also thinking about the bugs I\u0027d been running into, and most of them involved leaving station keeping on while something happened... so an easy work-around, add a few lines to turn off SK when the throttle is used.\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure whether you\u0027d like a Github PR for this or what, but I put together \u003Ca href=\u0022https://www.dropbox.com/s/e0cjbrc75xl3i01/AutoDisableSK.7z\u0022 rel=\u0022external nofollow\u0022\u003Ea couple of patches\u003C/a\u003E... one which does the check every OnUpdate(), and one which only does it during the once-per-second check of whether or not the engines have changed. Not sure how much of a performance penalty doing it every frame would have, vs. the chance of messing things up if it only takes a \u0026lt;1 second burn to hit a problem.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Put a compiled .dll in that file too, if anyone wants to try it without going through compiling it... it also contains that = to == change. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-19T01:32:52Z\u0022 title=\u002204/19/2018 01:32  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 19, 2018\u003C/time\u003E by Maeyanie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2018-04-19T09:17:19Z","Content":"\n\u003Cp\u003E\nUsing this mod sets all my crafts\u0027 LAN to zero, 100% of the time. I\u0027m not sure when this started happening, but the mod is now unusable for me. The problem is, I\u0027m not sure how helpful I can be in giving reproduction steps, since I\u0027m still running 1.3.1 in a \u003Cem\u003Eridiculously \u003C/em\u003Eheavily modded install with a lot of custom edits. But I can certainly test anybody\u0027s changes to see if they fix the LAN bug in particular. Testing station keeping though... honestly, I don\u0027t think I\u0027ve ever even tried to use that function, so don\u0027t know what it\u0027s supposed to look like.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0026amp;do=hovercard\u0022 data-mentionid=\u002281897\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0022 rel=\u0022\u0022\u003E@Maeyanie\u003C/a\u003E, At first glance, your changes appear to have slightly increased my framerate, but the LAN=0 bug remains.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-19T09:39:29Z\u0022 title=\u002204/19/2018 09:39  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 19, 2018\u003C/time\u003E by White Owl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-19T10:39:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223358432\u0022 data-ipsquote-contentid=\u0022116818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524129439\u0022 data-ipsquote-userid=\u002210849\u0022 data-ipsquote-username=\u0022White Owl\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, White Owl said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEdit: \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0026amp;do=hovercard\u0022 data-mentionid=\u002281897\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81897-maeyanie/\u0022 rel=\u0022\u0022\u003E@Maeyanie\u003C/a\u003E, At first glance, your changes appear to have slightly increased my framerate, but the LAN=0 bug remains.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou have an ongoing saved game with the LAN = 0 bug? As in you can load that game up right now and can see that it\u0027s happening? If so please put both the save file (either persistent.sfs or quicksave.sfs where it\u0027s been saved while the bug is active) and the VesselData.cfg file from whitecatindustries\\orbitaldecay\\plugins\\ folder somewhere I can download them?\n\u003C/p\u003E\n\u003Cp\u003E\n(as an aside, that game is probably permanently corrupted as in even if the bug gets fixed, you can expect existing vessels to still be bugged)\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-04-19T17:15:12Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/10849-white-owl/\u0026amp;do=hovercard\u0022 data-mentionid=\u002210849\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/10849-white-owl/\u0022 rel=\u0022\u0022\u003E@White Owl\u003C/a\u003E\u00A0hmmm ok so I\u0027m not actually sure what the role is of the VesselData.cfg file or if it matters whether or not it\u0027s present. It was being generated and updated when I first started looking into this but now it\u0027s not and that apparently doesn\u0027t seem to matter so if it\u0027s not there...\n\u003C/p\u003E\n"}]}