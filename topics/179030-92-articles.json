{"TopicId":179030,"ForumId":34,"TopicTitle":"[KSP \u0026gt;= 1.3.0] TweakScale - Under Lisias\u0026#039; Management - 2.4.8.3 - 2024-0525","CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2018-10-16T23:36:49Z","PageNum":92,"Articles":[{"CreatedByName":"bcqJC","CreatedById":191673,"CreatedDateTime":"2021-01-21T17:50:36Z","Content":"\n\u003Cp\u003E\nI was having issues before around launching my OPT Humpback \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E.\u00A0 Those are gone now after I installed TS 2.4.4.5 and the latest version of EasyVesselSwitch.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t really know which one actually fixed the issue or whether both fixed it.\u00A0 Nevertheless, things are working fine now.\u00A0 Thanks!\n\u003C/p\u003E\n"},{"CreatedByName":"eightiesboi","CreatedById":133828,"CreatedDateTime":"2021-01-21T21:35:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223911861\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611113160\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/19/2021 at 7:26 PM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAgain, I can compile a specialised version of TweakScale for you, without any of the peskiness you don\u0027t like as long you agree that I will not provide any kind of support for you.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223912221\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611174181\u0022 data-ipsquote-userid=\u0022151667\u0022 data-ipsquote-username=\u0022Cochise\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/20/2021 at 12:23 PM, Cochise said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThank you for offering to do that, I appreciate it, but it\u0027s not necessary. While I do still disagree with the wording on the buttons themselves, I hear your reasoning and I get it. I\u0027ll be quiet. Thanks for maintaining the mod for us.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry for the momentary derail, but I just have to call this out. The discussion you two just had (and by association, the two of you) are indicative of what is so great about our community. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/151667-cochise/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022151667\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/151667-cochise/\u0022 rel=\u0022\u0022\u003E@Cochise\u003C/a\u003Ebrought up a frustration and explained why it was frustrating. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003Eacknowledged the point that Cochise was making, explained why it had been done, and even offered to go the extra mile to provide a remedy. Cochise acknowledged and declined the offer and thanked Lisias for continuing to maintain a mod that is very widely used.\n\u003C/p\u003E\n\u003Cp\u003E\nI want to thank you both\u00A0for being whatever the opposite of toxic is. I \u0022Liked\u0022 both of your final comments, but what I am really trying to say is that, when so many other spaces are seemingly full of poisonous trolls spewing venom and showing absolutely no appreciation for anything other than their point of view, you both epitomize intelligent and civil conversation, and this deserves to be noted and commended.\n\u003C/p\u003E\n"},{"CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2021-01-25T00:42:42Z","Content":"\n\u003Cp\u003E\nHey,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m having some... unusual issues with rovers, and having done the rounds on parallax, bon voyage and other threads I\u0027ve started to think perhaps tweakscale could be a\u00A0factor.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/a/jkSsH7D\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/jkSsH7D\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot pointing the finger at this mod - it\u0027s more than likely a conflict between parallax, bon voyage, kopernicus etc, but asking the question; Ever seen anything like this?\n\u003C/p\u003E\n\u003Cp\u003E\nIssue occurs on loading a craft.\u00A0It gets a bit... warped and kraken attacks follow. Currently using KSP 1.11 and Tweakscale 2.4.4.3 but I will update as I see there\u0027s a newer one available.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nRemoving parallax didn\u0027t fix it, sadly, and I\u0027m confident that the rovers used are kraken-free minus the tweakscale parts (I\u0027ve used them tons of times in other career games). In terms of \u0027mods that could affect physics\u0027, I don\u0027t have much else - KSPIE, \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E suite and a bunch of QoL mods.\n\u003C/p\u003E\n\u003Cp\u003E\nThoughts?\n\u003C/p\u003E\n\u003Cp\u003E\nP.S: I\u0027d post my logfile but that\u0027s 40Mb due to Parallax nullref spam - that\u0027s another story.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-25T02:05:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914264\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611535362\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m having some... unusual issues with rovers, and having done the rounds on parallax, bon voyage and other threads I\u0027ve started to think perhaps tweakscale could be a\u00A0factor.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/a/jkSsH7D\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/jkSsH7D\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot pointing the finger at this mod - it\u0027s more than likely a conflict between parallax, bon voyage, kopernicus etc, but asking the question; Ever seen anything like this?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLooks like a problem on the colliders.\n\u003C/p\u003E\n\u003Cp\u003E\nI have similar issues using the wheels from Firestpitter, by the way. By some reason, the wheel collider (that it\u0027s embedded with the wheels mesh) is not being recognized, and the tires are so... \u0022etereal\u0022 and it sinks into the ground until some other collider on the mesh is found.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not TweakScale related for sure, I did some tests with and wihout TweakScale and got the same results...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914264\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611535362\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIssue occurs on loading a craft.\u00A0It gets a bit... warped and kraken attacks follow. Currently using KSP 1.11 and Tweakscale 2.4.4.3 but I will update as I see there\u0027s a newer one available.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSounds like something borking in NRE\u0060s, killing the thread and so things that should had ran, was not running....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914264\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611535362\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nRemoving parallax didn\u0027t fix it, sadly, and I\u0027m confident that the rovers used are kraken-free minus the tweakscale parts (I\u0027ve used them tons of times in other career games). In terms of \u0027mods that could affect physics\u0027, I don\u0027t have much else - KSPIE, \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003E\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u003C/abbr\u003E suite and a bunch of QoL mods.\n\u003C/p\u003E\n\u003Cp\u003E\nThoughts?\n\u003C/p\u003E\n\u003Cp\u003E\nP.S: I\u0027d post my logfile but that\u0027s 40Mb due to Parallax nullref spam - that\u0027s another story.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe KSP.log would help. It would pinpoint something borking mentioning TweakScale (and, so, perhaps TweakScale would be involved somehow - but it smells more like a victim than a perpetrator by the way you describes it).\n\u003C/p\u003E\n\u003Cp\u003E\nAre you sure that crafts not using TweakScale does not presents that behaviours you mentioned?\n\u003C/p\u003E\n"},{"CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2021-01-25T02:27:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914286\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611540300\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre you sure that crafts not using TweakScale does not presents that behaviours you mentioned?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell no, all I can say is \u0022they don\u0027t do it when I don\u0027t have all these new mods\u0022 - this is a new issue in this career save. Previous game did not have parallax, kopernicus (GU)\u00A0or tweakscale. Other new mods are things like commnet constellation, Chatterer, scatterer, KSPIE - mostly QoL with the exception of KSPIE, that I don\u0027t suspect are interfering, but who knows.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m working through the delta between this career and the last one, and the only new thing\u00A0\u003Cem\u003Especifically on rovers\u003C/em\u003E\u00A0is tweakscaled parts. But then again... parallax, kopernicus, and god knows what else could be squirrelling away in the background, with parallax throwing an awful lot of \u003Cem\u003Ehighly suspect\u003C/em\u003E\u00A0wheel-based physics exceptions.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I did spot this in the log, so I will post the full log below.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E[LOG 23:52:18.703] [TweakScale] WARNING: No valid member found for diameter in Part for \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;unk\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n[LOG 23:52:18.724] [TweakScale] WARNING: No valid member found for mass in TweakScale for science.module\n[LOG 23:52:18.730] [TweakScale] WARNING: No valid member found for diameter in Part for \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;unk\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n[LOG 23:52:18.750] [TweakScale] WARNING: No valid member found for mass in TweakScale for ScienceBox\n[LOG 23:52:18.754] [MechJeb2] Loading Mechjeb 2.12.0\n[LOG 23:52:18.934] [TweakScale] WARNING: No valid member found for diameter in Part for \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;unk\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n[LOG 23:52:18.954] [TweakScale] WARNING: No valid member found for mass in TweakScale for roverBody.v2\n[LOG 23:52:18.967] [MechJeb2] Loading Mechjeb 2.12.0\n[LOG 23:52:19.152] A wheel is retracted, not starting collisions\n[LOG 23:52:19.152] A wheel is retracted, not starting collisions\n[LOG 23:52:19.153] A wheel is retracted, not starting collisions\n[LOG 23:52:19.153] A wheel is retracted, not starting collisions\n[LOG 23:52:19.153] [Malemute Dropship Ship Rover]: landed - waiting for ground contact to resume physics...\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nLogfile:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1gKAMKTi4BokBVggpXyPsQZlYghlu9jLy/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1gKAMKTi4BokBVggpXyPsQZlYghlu9jLy/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-25T07:50:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914294\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611541648\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m working through the delta between this career and the last one, and the only new thing\u00A0\u003Cem\u003Especifically on rovers\u003C/em\u003E\u00A0is tweakscaled parts. But then again... parallax, kopernicus, and god knows what else could be squirrelling away in the background, with parallax throwing an awful lot of \u003Cem\u003Ehighly suspect\u003C/em\u003E\u00A0wheel-based physics exceptions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, I think this solves the case.\n\u003C/p\u003E\n\u003Cp\u003E\nThings are calculated on KSP more or less as follows:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EDEF main():\n    WHILE NOT quit_flag:\n        threadlist = list()\n        do_something()\n        FOR craft IN World.CraftsUnderPhysicsRange:\n            t = Thread(callable = handle_craft, args = (craft,))\n            t.start()\n            threadlist.append(t)\n        do_something_else()\n        FOR t in threadlist:\n            t.join()\n    RETURN\n\nDEF handle_craft(craft : Craft):\n    FOR part IN craft.part_list\n        FOR module IN part.module_list:\n            module.update()\n    RETURN\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThat\u0027s a python inspired pseudocode.\n\u003C/p\u003E\n\u003Cp\u003E\nYou fire up KSP, it initialised itself, and eventually it enters on the game main loop. While you don\u0027t quit the game, it stays in that loop doing a lot of things, and some of these things involves updating the living crafts. To save time by taking advantage of our modern CPUs with multiple cores, the most threads you are able to fire to paralelnize the job, the \u00A0better.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s the reason I simulated it with that Thread stunt - every craft will be updated using a CPU core, if there\u0027s cores enough.\n\u003C/p\u003E\n\u003Cp\u003E\nThe cannonical way of firing threads is what you see above: we create them, fire them up and added them to a list, and the last thing we do before finishing a cycle (in KSP\u0027s case, a frame on your monitor), is to \u0022join\u0022 all of them on the main thread, i.e., the main thread will \u00A0check if every threat is already finished and the ones that are not, will halt the main thread until they are finished (imagine a multilane road joining the lanes into a single one).\n\u003C/p\u003E\n\u003Cp\u003E\nAnd this is where Exceptions plays havoc with our crafts as\u00A0there\u00A0are many forms of finishing a thread: the desirable one is when the code reaches the RETURN normally, but other ways can happen. If any update of a module module of any of the parts throws up an Exception, the thread is killed on the spot - finishing prematurely and leaving a lot of modules without having their updates called! (i.e., everything that would be updated after the borking module being called).\n\u003C/p\u003E\n\u003Cp\u003E\nAnd then other things that need that\u00A0modules updated will start to throw Exceptions too because data will be inconsistent, and then other threads will die too, on an avalanche of bad news to your gaming.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd this is the reason that Exceptions \u003Cstrong\u003E*MUST BE DIAGNOSED AND FIXED*\u003C/strong\u003E. (a few ones are safe to be ignored, of course, but since we don\u0027t know KSP\u0027s source code in order to determine when an uncaught Exception will doom our game or not, we need to be conservative on our approach!).\n\u003C/p\u003E\n\u003Cp\u003E\nOf course, there\u0027s a thing called TRY CATCH, where you intercept the Exceptions and do something about instead of having the thread killed. For example:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EDEF handle_craft(craft : Craft):\n    FOR part IN craft.part_list\n        FOR module IN part.module_list:\n            TRY\n                module.update()\n            CATCH\n                Log.Error(\u0022Bad doggy {:s}, no donut for you! You screwed up {:s}!\u0022, module.name, craft.name)\n    RETURN\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nSo, if instead of using my previous version of handle_craft, we use this one. If a module\u0027s update borks, instead of killing the thread the code will log something and then will keep running, calling the update of the next module.\n\u003C/p\u003E\n\u003Cp\u003E\nThe borked module will still be doomed, but everything else will keep working - minimizing the chances of something really terrible happening. You will still have a buggy game, but with way less collateral effects.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever....\n\u003C/p\u003E\n\u003Cp\u003E\nEvery time you enter a TRY, the compiler generates a thingy called context on a place called stack, and everytime you leave the TRY CATCH (entering or not the CATCH block), the compiler generates code to clean up the stack. Handling contexts takes time, cpu cycles and a bit of memory and if you\u00A0do it hundreds of times per frame, you ends up with a pretty mediocre frame rate. You can easily waste 10% of your potential framerate due this stunt.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd yeah, KSP in the past was doing something similar to what I described above, and one of the reaons KSP is\u00A0\u003Cstrong\u003Eway\u003C/strong\u003E\u00A0faster nowadays (as long you don\u0027t blow up the GPU\u0027s VRAM) is because Squad are getting rid of TRY CATCHes on what we all \u0022hot code\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nBut without a TRY CATCH, an Exception will potentially kill the whole game!! So, a new revised handle_craft follows:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EDEF handle_craft(craft : Craft):\n    TRY\n        FOR part IN craft.part_list\n            FOR module IN part.module_list:\n                module.update()\n    CATCH\n        Log.Error(\u0022Bad doggy {:s}, no donut for you! You screwed up the {:s}!\u0022, module.name, craft.name)\n    RETURN\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nDoing this we still get\u00A0our craft screwed up by Exceptions, but at least not all of them - most will survive the catastrophe (unless their modules borks too!). We save time and CPU cycles by only creating contexts once per craft, but the price we pay for this extra performance is dooming the craft those parts have a problematic Module.\n\u003C/p\u003E\n\u003Cp\u003E\nThis last version is near what KSP uses nowadays, I think.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, with this wall of text (hopefully) on your head, lets check your log:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[LOG 23:52:18.934] [TweakScale] WARNING: No valid member found for diameter in Part for \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;unk\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n[LOG 23:52:18.954] [TweakScale] WARNING: No valid member found for mass in TweakScale for roverBody.v2\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nTweakScale runs outside what we call \u0022hot code\u0022 - once you fire the craft, all the job is already done (except by some details on unpacking the craft, but they happen only once), so I (and the previous maintainers) shoved safeguards everywhere. You found one of them, when someone tells TweakScale to apply a Scaling Receipt on a Module, but the Module is missing some of the things that receipt is telling TweakScale to do.\n\u003C/p\u003E\n\u003Cp\u003E\nWe have a Part called \u0022\u0026lt;unk\u0026gt;\u0022 - to tell you the true, that part is missing the partName and so TweakScale can\u0027t name it! - missing the diameter attribute. So TweakScale logged the problem and ignored this step of the receipt.\n\u003C/p\u003E\n\u003Cp\u003E\nBut...\u00A0Why we have a Part without a name? What else is missing besides the name? Such missing things are playing havoc on the hot code of some other Module? All of these are questions we need to answer in order to understand why your game is borking.\n\u003C/p\u003E\n\u003Cp\u003E\nThe second line is yet more interesting. The part \u0022roverBody.v2\u0022 is missing the mass! But this part is a stock one, I know it, and this part\u00A0\u003Cstrong\u003Emust have mass\u003C/strong\u003E. Just for the sake of completude, let\u0027s check the \u0022source code\u0022 for this part, it\u0027s on a file called \u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u0026lt;KSP_root\u0026gt;/GameData/Squad/Parts/Command/probeRoverBody_v2/probeRoverBody_v2.cfg\u003C/span\u003E \u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPART\n{\n\tname = roverBody_v2\n\tmodule = Part\n\tauthor = AlexanderM\n\tMODEL {\n\t\tmodel = Squad/Parts/Command/probeRoverBody_v2/probeRoverBody_v2\n\t\ttexture = QBE_New_diffuse, Squad/Parts/Command/probeCoreCube/QBE_New_diffuse\n\t\ttexture = QBE_New_NRM, Squad/Parts/Command/probeCoreCube/QBE_New_NRM\n\t}\n\trescaleFactor = 1\n\tnode_stack_right = 0.510226, 0, 0, 1, 0, 0, 0\n\tnode_stack_left = -0.510226, 0, 0, -1, 0, 0, 0\n\tnode_stack_back = 0, 0, 0.22407, 0, 0, 1, 1\n\tnode_stack_front = 0, 0, -0.22407, 0, 0, -1, 1\n\tnode_stack_bottom = 0.0, -0.746285, 0.0, 0.0, -1.0, 0.0, 0\n\tnode_stack_top = 0.0, 0.746285, 0.0, 0.0, 1.0, 0.0, 0\n\tTechRequired = fieldScience\n\tentryCost = 6200\n\tcost = 800\n\tcategory = Pods\n\tsubcategory = 0\n\ttitle = #autoLOC_500349 //#autoLOC_500349 = Probodobodyne RoveMate\n\tmanufacturer = #autoLOC_501633 //#autoLOC_501633 = Probodobodyne Inc\n\tdescription = #autoLOC_500350 //#autoLOC_500350 = A sturdy housing for a robust probe and battery system - no assembly required! Thought intended as the body for surface rovers, we\u0027ve been told by our most day-dreaming of engineers that the possibilities are endless! While it has a Stability Assistance System, the RoveMate lacks reaction wheels so bring some along if you want to hold that attitude.\n\tattachRules = 1,0,1,1,0\n\tmass = 0.15              // \u0026lt;\u0026lt;\u0026lt;\u0026lt; HERE!!! THE MASS IS HERE!!!!!\n\tdragModelType = default\n\tmaximum_drag = 0.2\n\tminimum_drag = 0.15\n\tangularDrag = 1.5\n\tcrashTolerance = 12\n\tmaxTemp = 1200 // = 1200\n\texplosionPotential = 0\n\tvesselType = Probe\n\tbulkheadProfiles = size1\n\ttags = #autoLOC_500351 //#autoLOC_500351 = command control (core kerbnet probe rover sas space steer\n\n\t\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;yada\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eyada\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eyada\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNope, Squad didn\u0027t messed up the config for this part, the mass\u00A0\u003Cu\u003E\u003Cstrong\u003Eis there\u003C/strong\u003E\u003C/u\u003E. So why TweakScale didn\u0027t found the mass of that part? Who removed it?\u00A0Weird things happens when you have a part with ZERO MASS (this used to crash the game on the past, but nowadays a safeguard was build on KSP to prevent the crash).\n\u003C/p\u003E\n\u003Cp\u003E\nSo we have another thing to diagnose on your rig.\n\u003C/p\u003E\n\u003Cp\u003E\nTweakScale,\u00A0\u003Cstrong\u003Efor sure\u003C/strong\u003E, \u003Cu\u003E\u003Cstrong\u003EDOES NOT\u003C/strong\u003E\u003C/u\u003E removes any attribute from any part. It only removes the whole TweakScale section from a part when it detects well known conditions where TweakScale would behave terribly (as when someone shoves more than one fuel switch on the part, a situation where the fuel switches misbehave and induces TweakScale to bork).\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m pretty confident that it\u0027s a problem on one\u00A0of the other Add\u0027Ons you installed together TweakScale! (perhaps both of them, or perhaps only when these two are installed together, as the fuel switches stunt I mentioned).\n\u003C/p\u003E\n\u003Cp\u003E\nI will check the whole KSP.log by the morning and will get back to you with any findings.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-25T08:02:48Z\u0022 title=\u002201/25/2021 08:02  AM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 25, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EBetter phrasing -- and some tyops!\n\u003C/span\u003E\n"},{"CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2021-01-25T10:22:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914364\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611561022\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E[LOG 23:52:18.934] [TweakScale] WARNING: No valid member found for diameter in Part for \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;unk\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n[LOG 23:52:18.954] [TweakScale] WARNING: No valid member found for mass in TweakScale for roverBody.v2\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nTweakScale runs outside what we call \u0022hot code\u0022 - once you fire the craft, all the job is already done (except by some details on unpacking the craft, but they happen only once), so I (and the previous maintainers) shoved safeguards everywhere. You found one of them, when someone tells TweakScale to apply a Scaling Receipt on a Module, but the Module is missing some of the things that receipt is telling TweakScale to do.\n\u003C/p\u003E\n\u003Cp\u003E\nWe have a Part called \u0022\u0026lt;unk\u0026gt;\u0022 - to tell you the true, that part is missing the partName and so TweakScale can\u0027t name it! - missing the diameter attribute. So TweakScale logged the problem and ignored this step of the receipt.\n\u003C/p\u003E\n\u003Cp\u003E\nBut...\u00A0Why we have a Part without a name? What else is missing besides the name? Such missing things are playing havoc on the hot code of some other Module? All of these are questions we need to answer in order to understand why your game is borking.\n\u003C/p\u003E\n\u003Cp\u003E\nThe second line is yet more interesting. The part \u0022roverBody.v2\u0022 is missing the mass! But this part is a stock one, I know it, and this part\u00A0\u003Cstrong\u003Emust have mass\u003C/strong\u003E. Just for the sake of completude, let\u0027s check the \u0022source code\u0022 for this part, it\u0027s on a file called \u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u0026lt;KSP_root\u0026gt;/GameData/Squad/Parts/Command/probeRoverBody_v2/probeRoverBody_v2.cfg\u003C/span\u003E \u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNope, Squad didn\u0027t messed up the config for this part, the mass\u00A0\u003Cu\u003E\u003Cstrong\u003Eis there\u003C/strong\u003E\u003C/u\u003E. So why TweakScale didn\u0027t found the mass of that part? Who removed it?\u00A0Weird things happens when you have a part with ZERO MASS (this used to crash the game on the past, but nowadays a safeguard was build on KSP to prevent the crash).\n\u003C/p\u003E\n\u003Cp\u003E\nSo we have another thing to diagnose on your rig.\n\u003C/p\u003E\n\u003Cp\u003E\nTweakScale,\u00A0\u003Cstrong\u003Efor sure\u003C/strong\u003E, \u003Cu\u003E\u003Cstrong\u003EDOES NOT\u003C/strong\u003E\u003C/u\u003E removes any attribute from any part. It only removes the whole TweakScale section from a part when it detects well known conditions where TweakScale would behave terribly (as when someone shoves more than one fuel switch on the part, a situation where the fuel switches misbehave and induces TweakScale to bork).\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m pretty confident that it\u0027s a problem on one\u00A0of the other Add\u0027Ons you installed together TweakScale! (perhaps both of them, or perhaps only when these two are installed together, as the fuel switches stunt I mentioned).\n\u003C/p\u003E\n\u003Cp\u003E\nI will check the whole KSP.log by the morning and will get back to you with any findings.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for this refreshingly detailed reply!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll help you out. I checked the .craft file:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\tpart = roverBody.v2_4293569852\n\tpartName = Part\n\tpersistentId = 714040319\n\tpos = -0.406113505,6.02829313,-0.00133180618\n\tattPos = 0,0,0\n\tattPos0 = 0,0.424070358,6.55650922E-07\n\trot = 0.707106888,0,0,0.707106888\n\tattRot = 0,0,0,1\n\tattRot0 = 0.707106829,0,0,0.707106829\n\tmir = 1,1,1\n\tsymMethod = Mirror\n\tautostrutMode = Off\n\trigidAttachment = False\n\tistg = 0\n\tresPri = 0\n\tdstg = 1\n\tsidx = -1\n\tsqor = -1\n\tsepI = 0\n\tattm = 0\n\tsameVesselCollision = False\n\tmodCost = 24498.1445\n\tmodMass = -0.149850011\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThe rover body had been tweakscaled to a very small size. Could this have been rounded to zero somewhere along the way?\n\u003C/p\u003E\n\u003Cp\u003E\nCraft file\u00A0\u003Ca href=\u0022https://drive.google.com/file/d/16nYn_LInbROZI-jlA6wrD_EwiYvEAzaY/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ezipped up here (\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E)\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I\u0027m less sure about is the unknown part names. The .craft file shows 32 instances of \u0022partname = \u0022 but 29 instances of \u0022part = \u0022 - the uncounted parts are stored 1.11 EVA experiment kits, repair kits etc, which might account\u00A0for the unknown parts. Could that be it?\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Even more confused about the missing mass for science.module and scienceBox - these parts have tweakscale modifications assigned\u00A0\u003Cem\u003Ebut clearly have mass in their configurations.\u00A0\u003C/em\u003EThe only way I can see their mass being reduced to zero is if the rounding is being done to ... one decimal place, which doesn\u0027t seem likely. The only other module I see that might\u00A0\u003Cem\u003Epossibly\u003C/em\u003E\u00A0affect it is ModuleCargoPart from KIFA (Kerbal Inventory For All) which allows parts to be stored in cargo.\n\u003C/p\u003E\n\u003Cp\u003E\nDOUBLE EDIT:\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the (only) roverbody.v2 in the save file:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\t\tname = roverBody.v2\n\t\t\t\tcid = 4292952962\n\t\t\t\tuid = 2244727385\n\t\t\t\tmid = 3858713854\n\t\t\t\tpersistentId = 714040319\n\t\t\t\tlaunchID = 33\n\t\t\t\tparent = 15\n\t\t\t\tposition = 0,2.2000007629394531,-0.75191539525985718\n\t\t\t\trotation = 0,0,0,1.00000012\n\t\t\t\tmirror = 1,1,1\n\t\t\t\tsymMethod = Mirror\n\t\t\t\tistg = -1\n\t\t\t\tresPri = 0\n\t\t\t\tdstg = 4\n\t\t\t\tsqor = -1\n\t\t\t\tsepI = -1\n\t\t\t\tsidx = -1\n\t\t\t\tattm = 0\n\t\t\t\tsameVesselCollision = False\n\t\t\t\tsrfN = , -1\n\t\t\t\tattN = right, -1\n\t\t\t\tattN = left, -1\n\t\t\t\tattN = back, 15\n\t\t\t\tattN = front, -1\n\t\t\t\tattN = bottom, -1\n\t\t\t\tattN = top, -1\n\t\t\t\tmass = 0.000149995089\n\t\t\t\tshielded = False\n\t\t\t\ttemp = 263.67236154208973\n\t\t\t\ttempExt = 262.97788840686644\n\t\t\t\ttempExtUnexp = 302.52608556735629\n\t\t\t\tstaticPressureAtm = 0\n\t\t\t\texpt = 0\n\t\t\t\tstate = 0\n\t\t\t\tattached = True\n\t\t\t\tautostrutMode = Off\n\t\t\t\trigidAttachment = False\n\t\t\t\tflag = Squad/Agencies/R\u0026amp;D\n\t\t\t\trTrf = _default\n\t\t\t\tmodCost = 24498.1445\n\t\t\t\tmodMass = -0.149850011\n\t\t\t\tmoduleVariantName = White\n\t\t\t\tmoduleCargoStackableQuantity = 1\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-25T11:33:56Z\u0022 title=\u002201/25/2021 11:33  AM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 25, 2021\u003C/time\u003E by Kielm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"123nick","CreatedById":27488,"CreatedDateTime":"2021-01-25T12:26:09Z","Content":"\n\u003Cp\u003E\nI have a bug, i think its from when i use Tweakscale on a part with B9 partswitch ability, i start getting a NRE and a error whenever i place or rmeove a prt on the vessel. but sometimes i think its just if i have any parts that have b9 part switch and tweakscale on the same vessel, rather than both on the exact same part.\u00A0\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u00222Au62nd.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002231.00\u0022 height=\u0022319\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/2Au62nd.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Hmk8LRv.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002250.98\u0022 height=\u0022235\u0022 width=\u0022461\u0022 src=\u0022https://i.imgur.com/Hmk8LRv.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://gist.github.com/a1da609a4e41b74f518a59b10fa50889\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/a1da609a4e41b74f518a59b10fa50889\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-25T17:46:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914427\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611570140\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks for this refreshingly detailed reply!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll help you out. I checked the .craft file:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0026lt;zipped\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\nThe rover body had been tweakscaled to a very small size. Could this have been rounded to zero somewhere along the way?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot impossible, but unlikely. And even by this happening, the atribute would not had vanished from the Module... I created a new sfs on my test bed and launched something with rovermate (roverBody.v2) attached. This is what I got:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\tPART\n\t\t\t{\n\t\t\t\tname = roverBody.v2\n\t\t\t\tcid = 4294425198\n\t\t\t\tuid = 1796168931\n\t\t\t\tmid = 1153095492\n\t\t\t\tpersistentId = 761111113\n\t\t\t\tlaunchID = 41\n\t\t\t\tparent = 0\n\t\t\t\tposition = 0,1.1615695953369141,-1.3355612615839618E-08\n\t\t\t\trotation = -0.707106829,0,0,-0.707106829\n\t\t\t\tmirror = 1,1,1\n\t\t\t\tsymMethod = Mirror\n\t\t\t\tistg = -1\n\t\t\t\tresPri = 0\n\t\t\t\tdstg = 0\n\t\t\t\tsqor = -1\n\t\t\t\tsepI = -1\n\t\t\t\tsidx = -1\n\t\t\t\tattm = 0\n\t\t\t\tsameVesselCollision = False\n\t\t\t\tsrfN = , -1\n\t\t\t\tattN = right, -1\n\t\t\t\tattN = left, -1\n\t\t\t\tattN = back, 0\n\t\t\t\tattN = front, -1\n\t\t\t\tattN = bottom, -1\n\t\t\t\tattN = top, -1\n\t\t\t\tmass = 0.150000006\t\t\t// HERE!!! \u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNot only I have an attribute called mass (and \u003Cu\u003E\u003Cstrong\u003Enot\u003C/strong\u003E\u003C/u\u003E modmass!!!), but they are positive. TweakScale scales values by\u00A0\u003Cstrong\u003Emultiplying\u003C/strong\u003E\u00A0them to an exponent, that are always positive. There\u0027s no way to have a positive value going to negative by multiplying it with a positive multiplier (unless someone intentionally mangled the scale exponents?? something to be investigated).\n\u003C/p\u003E\n\u003Cp\u003E\nThe scaling attributes are accessed by reflection, and TweakScale does not creates \u0022temp\u0022 or \u0022backup\u0022 attributes on the process.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know how TweakScale could be involved on this mess (except as a screaming victim - TweakScale is pretty vocal when being murdered... \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI also noted that \u0022your\u0022 cost was renamed to modcost on your savefile.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#ecf0f1;\u0022\u003E\u003Cs\u003EOn a personal note, I find these renaming extremely ... less than desirable. It appears that something is\u00A0\u003Cstrong\u003Ereplacing\u003C/strong\u003E\u00A0the stock Modules with derivatives, and these derivatives are \u0022rewriting\u0022 the well known game interfaces to something else.\u00A0I think\u00A0this is somewhat hostile to the Modding Scene - why not moving these new values to a dedicated module, keeping compatibility with everybody else?\u003C/s\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n----- POST EDIT ----\n\u003C/p\u003E\n\u003Cp\u003E\nFound something related \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/164403-modsize-and-modmass-in-craft-file-dont-do-anything/\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, this\u00A0\u003Cstrong\u003Eis not\u003C/strong\u003E\u00A0available on the \u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_part.html\u0022 rel=\u0022external nofollow\u0022\u003EKSP API for the Part\u003C/a\u003E!!! And I didn\u0027t found anything mentioning it on Stock and DLC.\n\u003C/p\u003E\n\u003Cp\u003E\n----- ANOTHER\u00A0POST EDIT ----\n\u003C/p\u003E\n\u003Cp\u003E\nScaled down the roverbody to the minimul the interface allows, 10%. Got this on the SFS:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tmass = 0.000149995089\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nSo I edited the SFS file and manually shoved 1% on TweakScale:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EMODULE\n                {\n                    name = TweakScale\n                    isEnabled = True\n                    currentScale = 1\n                    defaultScale = 100\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nLoaded the game, switched to the crudge on the runway\u00A0and saved the gane again. The poor thing wasn\u0027t even rendered anymore. \u00A0\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Emass = 9.99999975E-05\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EHOWEVER...\u00A0\u003C/strong\u003E\u00A0Yeah, I found modMass and modCost on the thing!\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E                rTrf = _default\n                modCost = 24498.2188\n                modMass = -0.149999857\n                moduleVariantName = White\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWell, I think modCost and modMass are internal data used by the PartModule, and since they are not published on the KSP API, I think these are protected or private atributes from the part.\n\u003C/p\u003E\n\u003Cp\u003E\nSince TweakScale don\u0027t mind these details, as it changes values by Reflection, theoretically it\u0027s possible to mangle these values - as long someone write a Scale Exponent telling TweakScale to do it - but no default patch mention them. So, no, TweakScale must not be mangling on them\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another, the bigger question remains: where is\u00A0\u003Cstrong\u003Emass\u003C/strong\u003E\u00A0on your savegame? Who is removing this atribute from that module?\n\u003C/p\u003E\n\u003Cp\u003E\n-------------------------\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914457\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611577569\u0022 data-ipsquote-userid=\u002227488\u0022 data-ipsquote-username=\u0022123nick\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, 123nick said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have a bug, i think its from when i use Tweakscale on a part with B9 partswitch ability, i start getting a NRE and a error whenever i place or rmeove a prt on the vessel. but sometimes i think its just if i have any parts that have b9 part switch and tweakscale on the same vessel, rather than both on the exact same part.\u00A0\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https://i.imgur.com/2Au62nd.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u00222Au62nd.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002231.00\u0022 height=\u0022319\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/2Au62nd.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://gist.github.com/a1da609a4e41b74f518a59b10fa50889\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/a1da609a4e41b74f518a59b10fa50889\u003C/a\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, it\u0027s a bug. But until the moment, it was not determined to be related to TweakScale - TweakScale appears to be the screaming victim on this mess.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s the same thing as these \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179030-ksp-144-tweakscale-under-lisias-management-2445-2021-0120/\u0026amp;do=findComment\u0026amp;comment=3910170\u0022 rel=\u0022\u0022\u003Etwo\u003C/a\u003E \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179030-ksp-144-tweakscale-under-lisias-management-2445-2021-0120/\u0026amp;do=findComment\u0026amp;comment=3906220\u0022 rel=\u0022\u0022\u003Eproblems\u003C/a\u003E reported earlier - that I didn\u0027t reproduced on my rig, by the way, besides installing B9PS with some other combinations of add\u0027ons (that used to cause problems in the past, but not nowadays).\n\u003C/p\u003E\n\u003Cp\u003E\nSo, until someone manage to build a very straight forward way of forcing this problem (install KSP, TweakScale, B9PW and this add\u0027on), I\u0060m afraid I can\u0060t be of too much help - I just can\u0027t fix what I can see (and it\u0060s on TweakScale), and until the moment, I could not reproduce this on TweakScale (and I tried).\n\u003C/p\u003E\n\u003Cp\u003E\nI will check your KSP.log by night, but I have little to no hope to find something I can fix.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another, TweakScale is deprecating all patches non Stock and non DLC, with third party support being implemented on the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/192216-tweakscale-companion-program-2020-1228/\u0022 rel=\u0022\u0022\u003ETweakScale Companio Program\u003C/a\u003E. Assuming this is not a bug on some third party patch or part config and TweakScale needs to support something new, this something new will be implemented on a Companion.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-25T18:30:17Z\u0022 title=\u002201/25/2021 06:30  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 25, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Emoar post edits\n\u003C/span\u003E\n"},{"CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2021-01-25T21:34:50Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0I think I have enough information for a theory on why this it\u00A0happened.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nmodMass, modCost etc seem to have existed in KSP for some time. But I think the following has only become relevant in KSP 1.11 because of some changes in the way mass is being calculated in stock KSP. Possibly related to this:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u00A0Parts now have a minimum Rigidbody mass minimumRBMass which affects how small the rigidbodies mass can be. Does not affect part.mass - which is whats used to calculate force, etc - but does affect rigidbody collisions.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nSo, back to the rover I created in the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E. The craft file I linked in my previous post contains references to modMass, and you will see for the 3x tweakscaled parts (the roverbody, science module and sciencebox) the modMass is negative. This would indicate that KSP is recording the altered mass value for tweakscaled parts. In fact, every part in my 1.11 save file that has been\u00A0\u003Cem\u003Ereduced\u003C/em\u003E\u00A0in size has a negative value for modMass.\n\u003C/p\u003E\n\u003Cp\u003E\nOther parts use this too. It looks like a value for stock KSP to record modifications in mass vs the recorded value in the configuration file. Some parts with 1.11 inventory (cargo) do as well.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the mass of a SEQ-9 cargo container from stock:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Emass = 0.15\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI made a craft with just the container and\u00A0one\u00A0jetpack inside. Here\u0027s the craft file modmass (the mass isn\u0027t listed in .craft):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EmodMass = 0.0449999981\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nLet\u0027s launch it and quick save, then find the mass and modmass in there:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Emass = 0.195000008\nmodMass = 0.0449999981\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWeird. Let\u0027s take the\u00A0jetpack\u00A0out:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Emass = 0.150000006\nmodMass = 0\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nOh okay. It looks like modMass is an absolute value for the changed mass, versus what\u0027s in the configuration file (I didn\u0027t account for the weight of EVA propellant, which I guess explains why it weighed 0.045).\u00A0Not a ratio or anything - just a straight \u0022add or take away this much to get the\u00A0\u003Cem\u003Ereal\u003C/em\u003E\u00A0mass\u0022. There are some rounding errors there, though.\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914577\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611596774\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn a way or another, the bigger question remains: where is\u00A0\u003Cstrong\u003Emass\u003C/strong\u003E\u00A0on your savegame? Who is removing this atribute from that module?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, some parts don\u0027t have a mass in the craft file, but they do when checking the .sfs:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\t\tname = roverBody.v2\n\t\t\t\tcid = 4292952962\n\t\t\t\tuid = 2244727385\n\t\t\t\tmid = 3858713854\n\t\t\t\tpersistentId = 714040319\n\t\t\t\tlaunchID = 33\n\t\t\t\tparent = 15\n\t\t\t\tposition = 0,2.2000007629394531,-0.75191539525985718\n\t\t\t\trotation = 0,0,0,1.00000012\n\t\t\t\tmirror = 1,1,1\n\t\t\t\tsymMethod = Mirror\n\t\t\t\tistg = -1\n\t\t\t\tresPri = 0\n\t\t\t\tdstg = 4\n\t\t\t\tsqor = -1\n\t\t\t\tsepI = -1\n\t\t\t\tsidx = -1\n\t\t\t\tattm = 0\n\t\t\t\tsameVesselCollision = False\n\t\t\t\tsrfN = , -1\n\t\t\t\tattN = right, -1\n\t\t\t\tattN = left, -1\n\t\t\t\tattN = back, 15\n\t\t\t\tattN = front, -1\n\t\t\t\tattN = bottom, -1\n\t\t\t\tattN = top, -1\n\t\t\t\tmass = 0.000149995089\n\t\t\t\tshielded = False\n\t\t\t\ttemp = 263.67236154208973\n\t\t\t\ttempExt = 262.97788840686644\n\t\t\t\ttempExtUnexp = 302.52608556735629\n\t\t\t\tstaticPressureAtm = 0\n\t\t\t\texpt = 0\n\t\t\t\tstate = 0\n\t\t\t\tattached = True\n\t\t\t\tautostrutMode = Off\n\t\t\t\trigidAttachment = False\n\t\t\t\tflag = Squad/Agencies/R\u0026amp;D\n\t\t\t\trTrf = _default\n\t\t\t\tmodCost = 24498.1445\n\t\t\t\tmodMass = -0.149850011\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nWhat\u0027s strange is that tweakscale either didn\u0027t see the mass, or it wasn\u0027t there when it checked, even though it was small (mass = 0.000149995089). But, we\u0027ve already seen that there are definitely rounding errors in mass calculations, especially when working with small values. The smaller the mass of the part, the more important this error will be. So, the possibilities:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nKSP\u0027s (stock) mass calculations produced a rounding error that was significant enough for the roverbody to be reduced to a mass of zero or less - considering everything else that was happening when this occurred, I think 4 decimal places of error is possible.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nThe mass of the part became too small to be affected by rigidbody collisions, which caused collider problems\n\u003C/li\u003E\n\u003Cli\u003E\nparallax exceptions (possible related to the previous point) interrupted or affected mass calculations or collision calculations\n\u003C/li\u003E\n\u003Cli\u003E\nAll of the above\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nEither way, I\u0027m past the point of confirmation. My current plan:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nRemoved parallax (too many collision-based exceptions)\n\u003C/li\u003E\n\u003Cli\u003E\nAvoid tweakscaling parts down to very small sizes in case I cross some kind of minimum mass threshold that will stop it being treated as a rigidbody and send the collisions wonky OR produce a rounding error that would produce similar problems)\n\u003Cul\u003E\u003Cli\u003E\nOr just avoid tweakscaling smaller entirely\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027ll keep an eye out for it happening again (oh, there will be more rover missions in the future!) and record all the relevant information should tweakscale say that it can\u0027t find the mass again.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks kindly\u00A0for your patience and insight.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-25T23:10:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0I think I have enough information for a theory on why this it\u00A0happened.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nmodMass, modCost etc seem to have existed in KSP for some time. But I think the following has only become relevant in KSP 1.11 because of some changes in the way mass is being calculated in stock KSP.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, I found a post here from \u003Cs\u003E2017\u003C/s\u003E. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/93099-new-attributes-in-craft-files/\u0026amp;do=findComment\u0026amp;comment=1588897\u0022 rel=\u0022\u0022\u003E2014\u003C/a\u003E.\u00A0\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHowever, and this is crucial for this problem :\u00A0\u003Cstrong\u003ETHERE\u0027S NO ATRIBUTE CALLED modMass\u003C/strong\u003E\u00A0on the public class Part (just checked using Assembly Browser on Visual Studio). And, so, it\u0027s\u00A0\u003Cstrong\u003Ebeyound\u00A0\u003C/strong\u003Ethe reach of TweakScale. TweakScale can see it, can\u0027t touch it.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I found is an attribute called moduleMass , but it\u0027s unrelated for sure as this atribute is present only on the KSP 1.11 release of the class Part - not to mention it\u0027s an internal attribute:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Einternal float moduleMass;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhat makes it untouchable by any authors that wants to publish his/her works on Forum:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp style=\u0022color:#2d3134;font-size:15px;\u0022\u003E\n\u003Cspan\u003E8. Legal boundaries\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#2d3134;font-size:15px;\u0022\u003E\nYou may not decompile, modify or distribute any of the .dll files or other files KSP comes with beyond content of the GameData folder. Follow the EULA. \u003Cu\u003E\u003Cstrong\u003EFor assemblies, you may only use exposed public or protected members of classes\u003C/strong\u003E\u003C/u\u003E, and you may not examine the code within any member.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/154851-add-on-posting-rules-november-24-2017/\u0026amp;do=findComment\u0026amp;comment=2918235\u0022 rel=\u0022\u0022\u003ESource\u003C/a\u003E. (emphasis are mine)\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another, since we have posts since \u003Cs\u003E2017\u003C/s\u003E\u00A02014 talking about modMass, I\u0027m pretty confident that the moduleMass stunt is unrelated.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nmodMass, modCost etc seem to have existed in KSP for some time. But I think the following has only become relevant in KSP 1.11 because of some changes in the way mass is being calculated in stock KSP. Possibly related to this:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, but\u00A0\u003Cstrong\u003Ewhere\u003C/strong\u003E\u00A0are them? There\u0027s no mention for ir on the class Part. I think this is something being used on loading time by some other code than the Part class.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u00A0Parts now have a minimum Rigidbody mass minimumRBMass which affects how small the rigidbodies mass can be. Does not affect part.mass - which is whats used to calculate force, etc - but does affect rigidbody collisions.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep. But this is an attribute from the AvailablePart class, not from Part. And there\u0027s no mention of\u00A0minimumRBMass on any config file on the GameData neither. So this is also something beyond the grasp of TweakScale.\n\u003C/p\u003E\n\u003Cp\u003E\nThings are becoming slightly hairy, I think...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh okay. It looks like modMass is an absolute value for the changed mass, versus what\u0027s in the configuration file (I didn\u0027t account for the weight of EVA propellant, which I guess explains why it weighed 0.045).\u00A0Not a ratio or anything - just a straight \u0022add or take away this much to get the\u00A0\u003Cem\u003Ereal\u003C/em\u003E\u00A0mass\u0022. There are some rounding errors there, though.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nInteresting. I remember some settings to give Kerbal some mass since ever (the first time I got someone blindly patched TweakScale on everything and the kitchen\u0027s sink, and then I instrumented TweakScale to remove itself from kerbals, that settings were already there).\n\u003C/p\u003E\n\u003Cp\u003E\nWe are talking things already available since \u003Cs\u003E1.3.1, I think\u003C/s\u003E\u00A0ever\u00A0- I remember tinkering with them on the 1.4.x era (yeah, I toyed with the idea of scaling kerbals!! hehehe).\n\u003C/p\u003E\n\u003Cp\u003E\nSo, and happily, TweakScale don\u0027t need to worry about it.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I think it\u0027s happening is that\u00A0since the beginning the mass of the Part on the config file was the total mass of the thing, resources and Kerbals included - this is the reason TweakScale needs to calculate thingies called DryCost and DryMass at first place, as TweakScale aims to scale the part itself, and not its contents (we don\u0027t scale the fuel, we scale the fuel capacity).\n\u003C/p\u003E\n\u003Cp\u003E\nSo, and I\u0027m speculating now, once you EVA a\u00A0Kerbal, the mass of the resources and equipment he/she tooks with him/her needs to be subtracted from the Part\u0027s mass. The same for the Kerbal him/herself, by the way.\n\u003C/p\u003E\n\u003Cp\u003E\nOn a (another) side note, I think there\u0027re\u00A0better ways to accomplish that. The Part Module has methods called GetModuleCost and GetModuleMass , amd these numbers can be negative (or even zero) without problems. A Module called ModuleCrewRoster or something would keep track of these things, and then would return such mass and cost differences as Kerbals goes EVA and then back. That would save everybody the need to worry about these ghost modMass and modCost stunts... (no to mention the efforts to code and test things that could be implemented by using already existent and tested modules!).\n\u003C/p\u003E\n\u003Cp\u003E\nWell... I digressed. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, some parts don\u0027t have a mass in the craft file, but they do when checking the .sfs:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, and this is the reason TweakScale complaining by not finding the mass is pretty weird, and possibly indicating something extending or changing something on the KSP guts.\n\u003C/p\u003E\n\u003Cp\u003E\nThe values on the config files override the default values you code when you create a Module class. The Config files are, essentially, a user modifiable prefab - you don\u0027t add the value on the config, and\u00A0the Module will use whatever the programmer\u00A0used while initialising the class (usually zero by default).\n\u003C/p\u003E\n\u003Cp\u003E\nSo, the absence of the mass on the config doesn\u0027t means that the object in memory would not have the attribute itself - the reflection will be able to fetch the reference so TweakScale can scale it (even if the value is zero, as scaling zero to anything is... zero.)\n\u003C/p\u003E\n\u003Cp\u003E\nBUT\n\u003C/p\u003E\n\u003Cp\u003E\nSomehow, this is not happening on your rig.\n\u003C/p\u003E\n\u003Cp\u003E\nSince TweakScale is not effectivelly instancing the PartModule, but getting a reference to an Object that descends from PartModule, it\u0027s theoretically possible that something could inject something else called PartModule on the runtime that does not exposes (or just don\u0027t have) an attribute called mass.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s the only explanation I have at this time for this mishap....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat\u0027s strange is that tweakscale either didn\u0027t see the mass, or it wasn\u0027t there when it checked, even though it was small (mass = 0.000149995089). But, we\u0027ve already seen that there are definitely rounding errors in mass calculations, especially when working with small values. The smaller the mass of the part, the more important this error will be. tweakscale say that it can\u0027t find the mass again.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot only strange, but a coding\u00A0aberration . Being zero, Infinity or NaN, the attribute must exist on the object the reflection gives to TweakScale.\n\u003C/p\u003E\n\u003Cp\u003E\nTweakScale don\u0027t scale things on the prefab, it scales thing on the living craft. And living craft are made by a collection of Parts, wheve every part is represented by a PartModule with a lot of attributes, mass being one of them.\n\u003C/p\u003E\n\u003Cp\u003E\nUnderstanding why TweakScale is being given something else instead is the key to find and fix the problem, I think.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cul\u003E\u003Cli\u003E\nKSP\u0027s (stock) mass calculations produced a rounding error that was significant enough for the roverbody to be reduced to a mass of zero or less - considering everything else that was happening when this occurred, I think 4 decimal places of error is possible.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nThe mass of the part became too small to be affected by rigidbody collisions, which caused collider problems\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is the reason the smaller scale you can scale something using the UI is 10% or 0.100 meters (free or stack scalings).\n\u003C/p\u003E\n\u003Cp\u003E\nBut yet, if you are right about it, TweakScale needs to prevent the scaling to reach that collider threshold at runtime, instead of just lock the controls to that minimals I mentioned and hope for the best...\n\u003C/p\u003E\n\u003Cp\u003E\nSomething to think about, no doubt.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914692\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611610490\u0022 data-ipsquote-userid=\u002282247\u0022 data-ipsquote-username=\u0022Kielm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Kielm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cul\u003E\u003Cli\u003E\nAvoid tweakscaling parts down to very small sizes in case I cross some kind of minimum mass threshold that will stop it being treated as a rigidbody and send the collisions wonky OR produce a rounding error that would produce similar problems)\n\u003Cul\u003E\u003Cli\u003E\nOr just avoid tweakscaling smaller entirely\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, I have some good results scaling things down. Including that pesky wheels (with a lot of adjustments, of course).\n\u003C/p\u003E\n\u003Cp\u003E\nMost of them I even managed to be persuaded\u00A0to fly, but the way. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022187168\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7996590277\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179030-ksp-144-tweakscale-under-lisias-management-2445-2021-0120/\u0026amp;do=embed\u0026amp;comment=3835087\u0026amp;embedComment=3835087\u0026amp;embedDo=findComment\u0022 style=\u0022height:272px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nThis does not invalidades your collider thesis, but on the other hand, \u003Cs\u003EI think I would had detect something like what you describes sooner if something too much obvious would be happening.\u003C/s\u003E\u003Cem\u003E\u00A0[uh.. nope! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0}\u003C/span\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n-- -- -- POST EDIT -- -- --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou have a point! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cimg alt=\u00222021-0125_Abusing-TweakScale-again.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022http://ksp.lisias.net/showcase/add-ons/TweakScale/2021-0125_Abusing-TweakScale-again.jpg\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EGithub issue:\u00A0\u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/160\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/TweakScale/issues/160\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-25T23:53:16Z\u0022 title=\u002201/25/2021 11:53  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 25, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EThe guy has a point! - and, boy, so many tyops...\n\u003C/span\u003E\n"},{"CreatedByName":"Kielm","CreatedById":82247,"CreatedDateTime":"2021-01-25T23:35:25Z","Content":"\n\u003Cp\u003E\nYep - I think we\u0027re saying the pretty much the same thing in different ways.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSomething borked, part mass went poof, bad stuff happened and Tweakscale was kind enough to log an error.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNo idea what caused it, or how to reproduce it, but in the \u0022why are my rovers doing this\u0022 saga, I have an idea of what to be looking for! Thanks\n\u003C/p\u003E\n"},{"CreatedByName":"123nick","CreatedById":27488,"CreatedDateTime":"2021-01-26T12:05:41Z","Content":"\n\u003Cp\u003E\nCould the error be related too cryogenic engines by nertea adding b9 part switch options for the vast majority of fuel tanks in ksp?\u00A0 idk why but i just had a hunch that migbt be related. Perhaps its the order the patches apply in?\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-26T12:19:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223914942\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611662741\u0022 data-ipsquote-userid=\u002227488\u0022 data-ipsquote-username=\u0022123nick\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, 123nick said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCould the error be related too cryogenic engines by nertea adding b9 part switch options for the vast majority of fuel tanks in ksp?\u00A0 idk why but i just had a hunch that migbt be related. Perhaps its the order the patches apply in?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan be anything. I\u0027m not B9PS maintainer, this is a question you need to ask him.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I know is that by installing the latest TweakScale, the latest B9PS and KSPIE and OPT the problem doesn\u0027t present itself. So, until further information is given, I can\u0027t say it\u0027s a problem on TweakScale.\n\u003C/p\u003E\n\u003Cp\u003E\nI will install Nertea Mods by the night and see what I get.\n\u003C/p\u003E\n\u003Cp\u003E\n-- -- -- POST EDIT -- -- --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFound some time before lunch, used it to do a quick test.\n\u003C/p\u003E\n\u003Cp\u003E\nI made this craft:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022105848264-7fa66100-5fbd-11eb-9199-75132b\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/105848264-7fa66100-5fbd-11eb-9199-75132b01a7a2.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nUsing Cryogenics Engines, the latest TweakScale and the latest B9PS. Dude, not a single problem on the KSP.log related to TweakScale.\n\u003C/p\u003E\n\u003Cp\u003E\nThe files (craft and log) are on \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/92#issuecomment-767527617\u0022 rel=\u0022external nofollow\u0022\u003Ethis github issue\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, and I\u0027m pretty sure about it, this is not on TweakScale or B9PS. \u00A0It\u0027s something else borking, and playing havoc with TweakScale by collateral damages.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the bright side, now I have 3 different KSP.logs with this problem and I can try to find a correlation. I will keep you informed if I find something.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-27T10:04:25Z\u0022 title=\u002201/27/2021 10:04  AM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 27, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Epost edit\n\u003C/span\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2021-01-26T21:24:18Z","Content":"\n\u003Cp\u003E\nReposting here from Github Issues, in case it\u0027s helpful:\n\u003C/p\u003E\n\u003Cp\u003E\nUnusual behavior to report with parachutes, TweakScale, and symmetry. I discovered this in an install with Stage Recovery, but I don\u0027t *think* StageRecovery is causing it - it does reveal the problem in numerical form, though. I *think* this can be reproduced by the following steps (I am able to reproduce it consistently on an install with a number of mods used for testing, e.g. toolbar, EEX, TweakScale latest, I think, Firespitter dll, etc.):\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nIn \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, create craft, place decouplers in symmetry on the craft, place relatively heavy fuel tanks on the decouplers - I used rockomax jumbos. Using something heavy simply helps the problem become more obvious. Result: a rocket with boosters that will have parachutes on top for recovery, basically.\n\u003C/li\u003E\n\u003Cli\u003E\nPlace any parachute on the boosters, also in symmetry - open StageRecovery window to ensure that the single parachute will result in at least some reduction of reported fall speed, and/or some percent of recovery (either stat will reveal the issue).\n\u003C/li\u003E\n\u003Cli\u003E\nWith StageRecovery window still open, scale up the parachute any amount - the percent recovery and/or fall speed stats in the StageRecovery window will improve (slower fall or higher % recovery).\n\u003C/li\u003E\n\u003Cli\u003E\nClick on the parachute to un-place it, then re-place it on one booster (Booster A) still in symmetry; it will be mirrored onto Booster B. Booster A (where the scaled-up parachute was placed) will report a new fall speed/recovery percent that is close to, but worse than, the stats reported in the SR window before picking the chute up and putting it back down.\n\u003C/li\u003E\n\u003Cli\u003E\nAdditionally, Booster B (the one onto which the parachute got mirrored by symmetry) will now report a much greater percent recovery / much slower fall speed.\n\u003C/li\u003E\n\u003Cli\u003E\nTesting in flight after picking up and re-placing the tweakscaled parachutes, the booster parts with the chutes DO fall at the (different) speeds reported by StageRecovery - so I assume that StageRecovery is not causing the problem, but instead accurately reporting the new effects of the tweakscaled parts.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nLog on Github issue.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-27T11:25:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915221\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611696258\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nReposting here from Github Issues, in case it\u0027s helpful:\n\u003C/p\u003E\n\u003Cp\u003E\nUnusual behavior to report with parachutes, TweakScale, and symmetry. I discovered this in an install with Stage Recovery, but I don\u0027t *think* StageRecovery is causing it - it does reveal the problem in numerical form, though. I *think* this can be reproduced by the following steps (I am able to reproduce it consistently on an install with a number of mods used for testing, e.g. toolbar, EEX, TweakScale latest, I think, Firespitter dll, etc.):\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGot it, it\u0027s the \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/161\u0022 rel=\u0022external nofollow\u0022\u003E#161 issue\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nWell, it\u0027s not TweakScale (as usual \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E), neither an error on StageRecovery. It\u0027s KSP itself - the code that should split the loads between the chutes are flawed (pretty similar on the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179030-ksp-144-tweakscale-under-lisias-management-2445-2021-0120/\u0026amp;do=findComment\u0026amp;comment=3906538\u0022 rel=\u0022\u0022\u003Ewing\u0027s lift\u003C/a\u003E, by the way) - I managed to reproduce the problem on a TweakScale-less KSP instalment.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022105982048-8e504f00-6075-11eb-97d2-8e8ddb\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/105982048-8e504f00-6075-11eb-97d2-8e8ddb5c1451.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a good chance that whatever was messed up on the wings is also affecting the chutes.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2021-01-27T15:55:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915449\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611746711\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGot it, it\u0027s the \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/161\u0022 rel=\u0022external nofollow\u0022\u003E#161 issue\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nWell, it\u0027s not TweakScale (as usual \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E), neither an error on StageRecovery. It\u0027s KSP itself - the code that should split the loads between the chutes are flawed (pretty similar on the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/179030-ksp-144-tweakscale-under-lisias-management-2445-2021-0120/\u0026amp;do=findComment\u0026amp;comment=3906538\u0022 rel=\u0022\u0022\u003Ewing\u0027s lift\u003C/a\u003E, by the way) - I managed to reproduce the problem on a TweakScale-less KSP instalment.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://user-images.githubusercontent.com/64334/105982048-8e504f00-6075-11eb-97d2-8e8ddb5c1451.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022105982048-8e504f00-6075-11eb-97d2-8e8ddb\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/105982048-8e504f00-6075-11eb-97d2-8e8ddb5c1451.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a good chance that whatever was messed up on the wings is also affecting the chutes.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI appreciate the weird behavior of KSP in general, but did you try picking up and re-placing scaled-up parachutes? That\u0027s where the (possible) issue with TweakScale seemed to lie, because re-placing them produced massive and readily apparent differences in editor numbers (shown via StageRecovery) and in flight...\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-27T17:50:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915550\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611762957\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI appreciate the weird behavior of KSP in general, but did you try picking up and re-placing scaled-up parachutes?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, I did. Since TweakScale scale things, and since KSP is somehow unbalancing the Chute effetcs on each side of the craft, so TweakScale is also scaling the unbalanced values.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the github issue #\u003Cs\u003E162\u003C/s\u003E 161, you will note that the angle of the craft after the chutes kick in are approximately\u00A0the same in all tests (and yeah, I deactivated the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E). The only situation in which I would conclude that TweakScale would be making an already misbehaviour worse would be if the angles of the craft while under the effect of the chutes would be changing between scaled and unscaled chutes - not to mention on the rig where TweakScale is not even installed.\n\u003C/p\u003E\n\u003Cp\u003E\nSee:\n\u003C/p\u003E\n\u003Cp\u003E\n1) First try with scaled up Chutes with radial symetry:\u003Cbr\u003E\u003Cimg alt=\u0022105981775-3ca7c480-6075-11eb-83b7-f95016\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/105981775-3ca7c480-6075-11eb-83b7-f95016a364c4.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n2) Same craft, but using mirror symmetry - not sure the the mirror did something different, or I just changed the order in which the chute is calculated by side effect:\u003Cbr\u003E\u003Cimg alt=\u0022105981829-4e896780-6075-11eb-817e-25d0f2\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/105981829-4e896780-6075-11eb-817e-25d0f2bc4120.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n3) A scaled down fuel tank and engine, with a\u00A0\u003Cstrong\u003Eunscaled\u003C/strong\u003E\u00A0chute:\u003Cimg alt=\u0022105981909-64972800-6075-11eb-9483-98e2ae\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/105981909-64972800-6075-11eb-9483-98e2ae02d33c.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n4) A new craft on a rig without TweakScale:\u003Cbr\u003E\u003Cimg alt=\u0022105982048-8e504f00-6075-11eb-97d2-8e8ddb\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002260.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://user-images.githubusercontent.com/64334/105982048-8e504f00-6075-11eb-97d2-8e8ddb5c1451.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou will note a slightly increase on the angle on the last two screenshots, that I credit to the Chutes having to cope with a somewhat less favourable\u00A0weight/drag ratio, and not because TweakScale had any beneficial effect on the problem on the first two screenshots.\n\u003C/p\u003E\n\u003Cp\u003E\nTweakScale can\u0027t fix the Physics Engine behaviour - it only gladly scales whatever the game gives it to scale. It\u0027s really \u00A0a dumb operation : whatever is there at first place, it\u0027s scaled by it using the Receipt and that\u0027s it.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd since the behaviour is consistent between a scaled part, a unscaled part and even with a TweakScale-less installment, I really can\u0027t pinpoint TweakScale being part of the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the mirrored/secondary chute would not be being scaled at all, that would be on TweakScale shoulders. But by then, one of the chutes would not be visibly being scaled (or we would have an Exception inside TweakScale after scaling the mesh and while trying to scale the module values).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915550\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611762957\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s where the (possible) issue with TweakScale seemed to lie, because re-placing them produced massive and readily apparent differences in editor numbers (shown via StageRecovery) and in flight...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNope, because TweakScale can\u0027t \u0022lie\u0022. Or it scaled the thing, or it didn\u0027t (and then we have a beautiful Exception on the KSP.log). And since TweakScale uses the very same Receipt on both the chutes, any weirdness would happen on the source\u0027s\u00A0value - as the multiplier would be the same for both parts.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat you may be experiencing is a mishap on StageRecovery fetching the new numbers from TweakScale. Older versions of TweakScale were failing on sending the OnShipModified event after scaling the parts - \u003Ca href=\u0022https://github.com/net-lisias-ksp/TweakScale/issues/126\u0022 rel=\u0022external nofollow\u0022\u003Eand this were giving me some weird values on the Editor gauges\u003C/a\u003E\u00A0what\u0027s remarkably similarto what you are describing.\n\u003C/p\u003E\n\u003Cp\u003E\nWell, since TweakScale started to emit the OnShipModified event every time a part changes scale, I got no more weird values on the UI, so my best guess is that StageRecovery is not handling the OnShipModified . This can be an explanation by what you are seeing - but I\u0027m guessing.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-27T18:12:07Z\u0022 title=\u002201/27/2021 06:12  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 27, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Etyops!\n\u003C/span\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2021-01-27T17:59:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915601\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611769812\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, I did. Since TweakScale scale things, and since KSP is somehow unbalancing the Chute effetcs on each side of the craft, so TweakScale is also scaling the unbalanced values.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the github issue #162, you will note that the angle of the craft after the chutes kick in are approximately\u00A0the same in all tests (and yeah, I deactivated the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E). The only situation in which I would conclude that TweakScale would be making an already misbehaviour worse would be if the angles of the craft while under the effect of the chutes would be changing between scaled and unscaled chutes - not to mention on the rig where TweakScale is not even installed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHuh, well then ... that\u0027s just bizarre. I wonder why the game is re-calculating WAY different values (or at least seems to) when you pick up a part and put it back down Maybe the values were already there, but re-placing reveals them...? Just bizarre. Thanks, Squad! If you don\u0027t pick it up and put it back down, I *think* it doesn\u0027t make for crazy different fall speeds, but maybe it actually does... I\u0027ll have to test this more too.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNope, because TweakScale can\u0027t \u0022lie\u0022.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u0022Lie\u0022 here is used in the expression \u0022that\u0027s where the problem/issue/etc. lies\u0022 - not in the sense of \u003Cem\u003Etell falsehoods \u003C/em\u003Ebut rather in the sense of \u003Cem\u003Ethe problem resides there / is \u0022lying\u0022 (laying) there, located there\u00A0 \u003C/em\u003E- I wasn\u0027t trying to accuse TweakScale of lying! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Pikapolar","CreatedById":204501,"CreatedDateTime":"2021-01-27T18:14:30Z","Content":"\n\u003Cp\u003E\nDo you need S.A.V.E and KSP Recall for 1.11.x?\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-27T18:26:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915605\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611770354\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHuh, well then ... that\u0027s just bizarre. I wonder why the game is re-calculating WAY different values (or at least seems to) when you pick up a part and put it back down Maybe the values were already there, but re-placing reveals them...? Just bizarre. Thanks, Squad! If you don\u0027t pick it up and put it back down, I *think* it doesn\u0027t make for crazy different fall speeds, but maybe it actually does... I\u0027ll have to test this more too.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, it\u0027s not\u00A0\u003Cstrong\u003Ethat\u003C/strong\u003E\u00A0bizarre as you start to get a grasp on how things work on KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s no parallelism while calculating things on the same craft, so every part is calculated after the other. If you have a mishap on the code that handles symmetry where the first part on a list ends up getting a bigger share of the burden, then parts switching its order on that list will change the previous behaviour.\n\u003C/p\u003E\n\u003Cp\u003E\nI think that the first part you attach to the craft ends up being the first on that list, with the symmetric clones being pushed after it. \u00A0So if detach and reattach a part, all the clones are destroyed and the \u0022surviving\u0022 part became the first part of that list, followed by its clones.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, since we have a unbalanced burden division between the parts, with the first part on the list being biased to be more taxed, the place you put the \u0022original\u0022 part will change the behaviour of the entire craft.\n\u003C/p\u003E\n\u003Cp\u003E\nBesides, what you describe looks like the times in which TweakScale was not firing up the OnShipModified: the cost gauge was always showing the\u00A0\u003Cstrong\u003Eprevious\u003C/strong\u003E\u00A0cost of the craft when I TweakScaled something. I.e., I scale a tank, the cost on the gauge shows the cost of the craft before the scale. I scale another part, then the cost goes to what should be when I scaled the previous part. By Adding or removing a part (any part), someone else would fire the OnShipModified, and then the cost of the craft was correctly updated.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt took me months until I finally realised the problem! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915605\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611770354\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 minutes ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u0022Lie\u0022 here is used in the expression \u0022that\u0027s where the problem/issue/etc. lies\u0022 - not in the sense of \u003Cem\u003Etell falsehoods \u003C/em\u003Ebut rather in the sense of \u003Cem\u003Ethe problem resides there / is \u0022lying\u0022 (laying) there, located there\u00A0 \u003C/em\u003E- I wasn\u0027t trying to accuse TweakScale of lying! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUh.. Ups. \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\u00A0My bad.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, I misunderstood it with \u0022lie\u0022 (from not telling the truth) because of the problem I got on the OnShipModifier stunt. I spent months and months trying to figure out where in hell TweakScale was \u0022lying\u0022 about the cost to the KSP Engine until I realised the pattern I described above, and then the answer hit my dull head with the finesse of a piano falling tom the 13h floor. \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan\u003E\u003Cimg alt=\u0022rsz_116872_4523.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002275.00\u0022 height=\u0022225\u0022 width=\u0022300\u0022 src=\u0022https://static.tvtropes.org/pmwiki/pub/images/rsz_116872_4523.jpg\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan\u003E(it event sounded like one in my head)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915610\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611771270\u0022 data-ipsquote-userid=\u0022204501\u0022 data-ipsquote-username=\u0022Pikapolar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Pikapolar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo you need S.A.V.E and KSP Recall for 1.11.x?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNeed is not he best word - but I recommend using S.A.V.E. all the time. You know, \u003Cem\u003ECheese Happens\u003C/em\u003E. \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOn KSP 1.11, if by any reason your crafts start to blowup on launch, then you will need KSP Recall 0.0.6.0 (BETA at the moment). There\u0027s a bug on KSP where some older parts just blow up on launch due pornographic amounts of heat coming from nowhere. The 0.0.6 \u0022fixes\u0022 it (without installing anything KSP 1.11 doesn\u0027t need, don\u0027t worry).\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2021-01-27T20:54:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915619\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611771977\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, it\u0027s not\u00A0\u003Cstrong\u003Ethat\u003C/strong\u003E\u00A0bizarre as you start to get a grasp on how things work on KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s no parallelism while calculating things on the same craft, so every part is calculated after the other. If you have a mishap on the code that handles symmetry where the first part on a list ends up getting a bigger share of the burden, then parts switching its order on that list will change the previous behaviour.\n\u003C/p\u003E\n\u003Cp\u003E\nI think that the first part you attach to the craft ends up being the first on that list, with the symmetric clones being pushed after it. \u00A0So if detach and reattach a part, all the clones are destroyed and the \u0022surviving\u0022 part became the first part of that list, followed by its clones.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI should have thought to test on stock before, but now that I have - I observe (using the values reported by StageRecovery) the same behavior.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I place a parachute from the parts list only once, and it is replicated via symmetry, all of the parachutes *report* the same effectiveness in the editor.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I pick up the parachute from the craft, then re-place it (therefore re-replicating the parachute via symmetry), the effect of the parachutes on fall speed/drag/whatever are now *reported in the editor to be* different. TS not installed. So I can confirm now (and understand/see) what you mean - TweakScale seems to be picking up on the new value, then working with the new value (as it should!); stock KSP is wrecking something about either the stats of the chutes, the drag cubes, models, or whatever else maybe that affects parachutes\u0027 effectiveness, but that effect is only made visible (via StageRecovery) in the editor when parachutes are picked up and re-placed in symmetry. The effect is not read, or not visible, or what have you, when scaling up a part in the editor - only when picking up and re-placing.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother thing I noticed to confirm what you wrote - although *in the editor* the values for parachutes in symmetry that have *not* been picked up and re-placed are shown as the same (same fall speed via StageRecovery), like you, I also got different effects in the flight scene: the parachute created via symmetry is always more draggy than the \u0027original\u0027, even if they reported the same stats (whatever is getting picked up via StageRecovery) in the editor scene. So maybe something is happening in terms of calculations when the vessel is loaded into the flight scene, which also happens when the parachute is picked up and re-placed in the editor...? Or the editor scene or StageRecovery is just not reporting what\u0027s already there until the part is re-placed, I guess.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-27T21:00:09Z\u0022 title=\u002201/27/2021 09:00  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 27, 2021\u003C/time\u003E by AccidentalDisassembly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-01-28T19:02:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223915712\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611780843\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo maybe something is happening in terms of calculations when the vessel is loaded into the flight scene, which also happens when the parachute is picked up and re-placed in the editor...? Or the editor scene or StageRecovery is just not reporting what\u0027s already there until the part is re-placed, I guess.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes.\n\u003C/p\u003E\n\u003Cp\u003E\nEvery time you load a Craft (or savegame), the part parameters are \u0022defaulted\u0022 by the engine, and so TweakScale needs to \u0022rescale back\u0022 what you did on the Editor. So, if the game\u0027s guts mangles with the data before allowing us (Modules) to get it, TweakScale will scale the thing using the new numbers, and not the ones you got on the Editor. (this happens for sure on Loading because KSP shoves back prefab data into parts on loading from file, apparently as a way to allow you to install new add\u0027ons on the rig without risking blowing up things later, keyword: upgradepipeline).\n\u003C/p\u003E\n\u003Cp\u003E\nAbout the StageRecovery, if it is not handling the OnShipModified event, so it\u0027s for sure suffering\u00A0from the same problem TweakScale did in the past. However, if SR is handling the OnShipModified, then the source of the problems must be something else, not necessarily the Editor. If Modules fails to communicate the Editor about changes on the parts, then obviously the Editor will report wrong values to whoever asks it for them!\n\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2021-01-29T21:49:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223916245\u0022 data-ipsquote-contentid=\u0022179030\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221611860539\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/28/2021 at 1:02 PM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes.\n\u003C/p\u003E\n\u003Cp\u003E\nEvery time you load a Craft (or savegame), the part parameters are \u0022defaulted\u0022 by the engine, and so TweakScale needs to \u0022rescale back\u0022 what you did on the Editor. So, if the game\u0027s guts mangles with the data before allowing us (Modules) to get it, TweakScale will scale the thing using the new numbers, and not the ones you got on the Editor. (this happens for sure on Loading because KSP shoves back prefab data into parts on loading from file, apparently as a way to allow you to install new add\u0027ons on the rig without risking blowing up things later, keyword: upgradepipeline).\n\u003C/p\u003E\n\u003Cp\u003E\nAbout the StageRecovery, if it is not handling the OnShipModified event, so it\u0027s for sure suffering\u00A0from the same problem TweakScale did in the past. However, if SR is handling the OnShipModified, then the source of the problems must be something else, not necessarily the Editor. If Modules fails to communicate the Editor about changes on the parts, then obviously the Editor will report wrong values to whoever asks it for them!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMade an issue here; hopefully explained how to reproduce it well enough that Squad will figure it out: \u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/27176\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bugs.kerbalspaceprogram.com/issues/27176\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-02-01T09:38:41Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#f39c12;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:36px;\u0022\u003EMETAR\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EKSP 1.11.0 introduced a new misbehaviour.\u003C/s\u003E\u00A0\u003Cem\u003E[Nope. This behaviour is there for some time, I detected it on KSP 1.11 by plain luck!]\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSome imported crafts from previous KSP versions are\u00A0\u003Cstrong\u003Eexploding on launch\u003C/strong\u003E. To tell you the true, what\u0027s happening is that some crafts is being spawned at PQS ground level, even when there\u0027s a runway, launchpad or any other static with collider under the wheels - and so everything explodes due collision.\n\u003C/p\u003E\n\u003Cp\u003E\nThe absolute weirdness if that the craft\u00A0\u003Cstrong\u003Emust\u003C/strong\u003E\u00A0be something like what follows:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nThe root part must be a crewed part (command pod, crew cabin, doesn\u0027t matter - what\u0027s important is to be crewable)\n\u003C/li\u003E\n\u003Cli\u003E\nThere must be a SEQ9 (probably\u00A0any part with Storage Support) between the root part and the heaviest part.\n\u003C/li\u003E\n\u003Cli\u003E\nThere must be a Service Bay (probably any part with Cargo support) between the root part and the heaviest part.\n\u003C/li\u003E\n\u003Cli\u003E\nThe craft must be very heavy (130 tons on my tests).\n\u003C/li\u003E\n\u003Cli\u003E\nThe thing must have wheels.\n\u003C/li\u003E\n\u003Cli\u003E\nApparently TweakScale must be involved, but I can\u0027t rule out this happening without it installed - I had read some reports about not being possible to import older savegames into KSP 1.11.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nThere\u0027re solutions, however, and they are somewhat astonishing:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nBuild the craft from scratch on KSP 1.11; or\n\u003Col\u003E\u003Cli\u003E\nBy building the craft entirely on KSP 1.11, the problem does not happens!\n\u003C/li\u003E\n\u003C/ol\u003E\u003C/li\u003E\n\u003Cli\u003E\nReroot the craft so the new root part\u00A0\u003Cstrong\u003Eis not\u003C/strong\u003E\u00A0crewable; or\n\u003C/li\u003E\n\u003Cli\u003E\nMove the SEQ9 or the Sevice Bat or both to be out of the line between the root part and the heaviest part.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Cs\u003EIt sounds like a mishap on the upgradepipeline thingy. \u003C/s\u003ESince I finally have two craft files with the same parts, one working and other not, I can stop chasing ghosts and try to do something about - there\u0027s\u00A0something on the native craft file missing on the imported one, I finding what it\u00A0is, I can cook something on KSP-Recall for it.\n\u003C/p\u003E\n\u003Cp\u003E\nI will keep the issue on TweakScale for while, as I only managed to reproduce the problem using scaled parts until the moment - but I nave good reasons to believe TweakScale is not involved, as my previous attempt to reproduce the issue without TweakScale was made already on the KSP 1.11.1 release, instead of creating the damn thing on KSP 1.10 and then importing it.\n\u003C/p\u003E\n\u003Cp\u003E\nStay tuned, I\u0027m finding my way out of this mess.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-03T16:00:45Z\u0022 title=\u002202/03/2021 04:00  PM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 3, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003ECorrection on the source of the problem\n\u003C/span\u003E\n"}]}