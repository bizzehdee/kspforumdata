{"TopicId":170764,"ForumId":16,"TopicTitle":"kOS - 3 simple questions","CreatedByName":"Whateverest","CreatedById":139871,"CreatedDateTime":"2018-02-11T09:01:03Z","PageNum":1,"Articles":[{"CreatedByName":"Whateverest","CreatedById":139871,"CreatedDateTime":"2018-02-11T09:01:03Z","Content":"\n\u003Cp\u003E\nHey everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nI am using kOS autopilot in \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E and have three little questions, as I have no experience in programming.\n\u003C/p\u003E\n\u003Cp\u003E\n1.:\u00A0Upon Launch I lock my steering to UP. When passing a certain vertical speed, I lock my steering to heading (90:80) - pitching down by 10 degrees. Now I want to wait until the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-prograde-pitch is less than 80\u00B0 and lock my steering to \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E-prograde.\n\u003C/p\u003E\n\u003Cp\u003E\nHow do I express the \u0022\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E prograde pitch\u0022 and \u0022\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E prograde yaw\u0022? Something like:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO HEADING (90:80).\n\u003C/p\u003E\n\u003Cp\u003E\nWHEN \u0022\u003Cspan style=\u0022color:rgb(231,76,60);\u0022\u003ESASprogradepitch\u003C/span\u003E\u0022 is \u0026lt; 80 THEN \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E ON.\n\u003C/p\u003E\n\u003Cp\u003E\nSET SASMODE TO PROGRADE.\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nis what I am looking for.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n2.: Which command toggles the button above the navball - changing the navball reference to surface,orbit or target?\n\u003C/p\u003E\n\u003Cp\u003E\n3.\u00A0Are there acronyms\u00A0for \u0022pitch\u0022 and \u0022yaw\u0022 \u0022pitch/yaw with reference to orbit\u0022 and \u0022pitch/yaw with reference to surface\u0022?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI could not find anything in the manaul.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for your answers\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-02-11T10:52:25Z","Content":"\n\u003Cp\u003E\n(1) - The function call : VANG(ship:up:vector, ship:srfprograde:vector) will give you the angle between straight up and your surface-prograde vector.\u00A0 (I assume you want surface and not orbital here).\u00A0 So, for example, a pitch of 80 would mean there is 10 degrees angle between up and prograde.\u00A0 If you do \u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E90 - VANG(ship:up:vector, ship:srfprograde:vector)\u003C/span\u003E\u003C/span\u003E then you should get the pitch number you are looking for.\n\u003C/p\u003E\n\u003Cp\u003E\n(2) - There is no such thing in kOS.\u00A0 Instead you can explicitly mention which you are interested in because prograde comes in two varieties - surface and orbital.\u00A0 You can say \u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Esrfprograde \u003C/span\u003E\u003C/span\u003Efor surface, or just \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan style=\u0022color:rgb(22,160,133);\u0022\u003Eprograde \u003C/span\u003E\u003C/span\u003Efor orbital.\u00A0 You can say\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan style=\u0022color:rgb(22,160,133);\u0022\u003E ship:velocity:surface\u003C/span\u003E\u003C/span\u003E or \u003Cspan style=\u0022color:#16a085;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eship:velocity:orbit\u003C/span\u003E\u003C/span\u003E to get velocity vectors in the two frames.\u00A0 For target-relative there isn\u0027t a shortcut, but you can always subtract your target\u0027s velocity vector from your velocity vector to get the same thing the navball would have shown you in target mode.\n\u003C/p\u003E\n\u003Cp\u003E\n(3) - Not really.\u00A0 But if you want this kind of information, look at lib/navball in the community library.\u00A0 It\u0027s possible to get this information with a few lines of kOS script code and this example shows how.\u003Cbr\u003E\nThe documentation describing the functions is here: \u003Ca href=\u0022https://github.com/KSP-KOS/KSLib/blob/master/doc/lib_navball.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KSLib/blob/master/doc/lib_navball.md\u003C/a\u003E\u003Cbr\u003E\nThe actual functions themselves are here: \u003Ca href=\u0022https://github.com/KSP-KOS/KSLib/blob/master/library/lib_navball.ks\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KSLib/blob/master/library/lib_navball.ks\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Whateverest","CreatedById":139871,"CreatedDateTime":"2018-02-11T12:35:53Z","Content":"\n\u003Cp\u003E\nWell, how about that...thanks so much, you made my day! All questions answered.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCheers\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}