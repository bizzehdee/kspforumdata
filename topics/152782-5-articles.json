{"TopicId":152782,"ForumId":34,"TopicTitle":"[1.8.x] KSPWheel - Physics Based Alternate Wheel Collider [API Only]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-11-30T18:26:55Z","PageNum":5,"Articles":[{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2017-01-04T04:05:38Z","Content":"\n\u003Cp\u003E\nMany many many thanks for this plugin Shadowmage. You save my wheels mod.\n\u003C/p\u003E\n\u003Cp\u003E\ncouldn\u0027t make it work with stock ones, i read about your dll from a friend, and after some digging in how it work, i manage to put it to function on Omicron.\n\u003C/p\u003E\n\u003Cp\u003E\nSpect release update soon. Will have you mention there as a contributor.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUpdate:\n\u003C/p\u003E\n\u003Cp\u003E\nDone!\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/nodwdvIz9Ws?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-04T07:55:01Z\u0022 title=\u002201/04/2017 07:55  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 4, 2017\u003C/time\u003E by Climberfx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2017-01-05T02:00:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222875159\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480883889\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/4/2016 at 2:38 PM, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTook a look over the Adjustable Landing Gear models and setup yesterday.\u00A0 While I can get the basic functionality working for them (suspension, brakes, wheels spinning), none of the advanced functionality is working as those models were specially constructed with the BD plugins in mind (and/or the plugins were written for the modules).\u00A0 Not even the deploy animations work, as no actual animations exist, the transforms were all driven manually by the plugin.\u00A0 To top it all off, the models are rigged in such a way as to make it very problematic to support the features (such as objects that need to rotate around other objects\u0027 origin points, randomly interspersed with normal-rotation setups).\u00A0 Sad, because they are nice looking models; but I would have to have access to the original modeling files to re-rig them for standard uses / easier coding for support of the intended features, or do some very custom code to support them in their current state.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi, I remember seeing this awhile back and wanted to pop in and say that the animations are being maintained here now and should all be working\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/raidernick/BDAnimationModules\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/raidernick/BDAnimationModules\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI see the wheel colliders seem to be referencing classes here\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/raidernick/BDAnimationModules/tree/master/BDAnimationModules/FSwheel\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/raidernick/BDAnimationModules/tree/master/BDAnimationModules/FSwheel\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure if this helps at all - I can see if the rest of the team knows where the original model files are.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-05T22:04:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222909890\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483502738\u0022 data-ipsquote-userid=\u002257126\u0022 data-ipsquote-username=\u0022Climberfx\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Tuesday, January 03, 2017 at 9:05 PM, Climberfx said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMany many many thanks for this plugin Shadowmage. You save my wheels mod.\n\u003C/p\u003E\n\u003Cp\u003E\ncouldn\u0027t make it work with stock ones, i read about your dll from a friend, and after some digging in how it work, i manage to put it to function on Omicron.\n\u003C/p\u003E\n\u003Cp\u003E\nSpect release update soon. Will have you mention there as a contributor.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUpdate:\n\u003C/p\u003E\n\u003Cp\u003E\nDone!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGlad it is working out for you, even in its currently unpolished state.\n\u003C/p\u003E\n\u003Cp\u003E\nAre you using the included PartModules, or have you written your own to use the new collider?\u00A0 Have you run into any problems with the wheels in standard use, or are they mostly working as you would expect?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso a quick heads up that in the upcoming releases most of the current \u0027example\u0027 PartModules will be changing substantially, so there is potential for craft/part breakage.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222910950\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483581638\u0022 data-ipsquote-userid=\u0022141269\u0022 data-ipsquote-username=\u0022gomker\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, gomker said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, I remember seeing this awhile back and wanted to pop in and say that the animations are being maintained here now and should all be working\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/raidernick/BDAnimationModules\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/raidernick/BDAnimationModules\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI see the wheel colliders seem to be referencing classes here\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/raidernick/BDAnimationModules/tree/master/BDAnimationModules/FSwheel\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/raidernick/BDAnimationModules/tree/master/BDAnimationModules/FSwheel\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure if this helps at all - I can see if the rest of the team knows where the original model files are.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nI\u0027ll take a closer look at the updated animation modules, sadly I don\u0027t think they\u0027ll be workable as from a brief look they still reference the U5 wheel-collider class.\n\u003C/p\u003E\n\u003Cp\u003E\nAdditionally the models and the animation modules driving them are so closely linked together, there is no way to get those parts to be functional without those animation modules; and as the animation modules use the stock-wheel collider (which won\u0027t actually work with those parts the way they are rigged due to limitations/restrictions in the Unity/PhysX code regarding rigidbody\u002Bsuspension orientation), there is zero chance of getting those parts working properly even with the updated animation modules.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the original modeling files for those parts are available somewhere I could (in time... lots of time) re-rig them, write some additional custom part-modules for them, and re-release them under the new KF banner once that end of things is up and running again.\u00A0 (Of course, only with proper permissions and if licensing allows).\n\u003C/p\u003E\n\u003Cp\u003E\nI love the concept of configurable and adjustable landing gear, it is something that KSP aircraft need very badly.\u00A0 So even if the existing \u0027Adjustable Landing Gear\u0027 mod/models aren\u0027t updated, I may introduce something similar in the distant future.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2017-01-05T22:54:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222911792\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483653891\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGlad it is working out for you, even in its currently unpolished state.\n\u003C/p\u003E\n\u003Cp\u003E\nAre you using the included PartModules, or have you written your own to use the new collider?\u00A0 Have you run into any problems with the wheels in standard use, or are they mostly working as you would expect?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso a quick heads up that in the upcoming releases most of the current \u0027example\u0027 PartModules will be changing substantially, so there is potential for craft/part breakage.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, i use the dll inside Unity (copy it into Gamedata of KSP and into Unity project folder Assets/plugins/KSPAssets), then on a game object i put your component, and on the wheel collider i put Ksp wheel collider and a rigid body. So, on\u00A0Kspwheel settings, i link the rigid body, then the wheels, direction and suspension parts to it. And adjust the wheel suspension parameter to match my real model, and wheels diameter, etc. This was Unity part. Then o config,i adapt from your stock models.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://flic.kr/p/QXb3zk\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u002232129491925_33f5252765_o.png\u0022 class=\u0022ipsImage\u0022 src=\u0022https://c2.staticflickr.com/6/5616/32129491925_33f5252765_o.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://flic.kr/p/QXb3LT\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u002232129492595_b9ea337dd4_o.png\u0022 class=\u0022ipsImage\u0022 src=\u0022https://c1.staticflickr.com/1/337/32129492595_b9ea337dd4_o.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.flickr.com/photos/climberfx/31319427643/in/dateposted-public/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022Screen Shot 2017-01-05 at 8.57.32 PM\u0022 class=\u0022ipsImage\u0022 src=\u0022https://farm6.staticflickr.com/5556/31319427643_7deec53506_b.jpg\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-06T00:28:54Z\u0022 title=\u002201/06/2017 12:28  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 6, 2017\u003C/time\u003E by Climberfx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-06T01:35:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222911851\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483656861\u0022 data-ipsquote-userid=\u002257126\u0022 data-ipsquote-username=\u0022Climberfx\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Climberfx said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWheel, i use the dll inside Unity, then on a game object i put your component, and on the wheel collider i put Ksp wheel collider and a rigid body. So, on\u00A0Kspwheel settings, i link the rigid body, then the wheels, direction and suspension parts to it. And adjust the wheel suspension parameter to match my real model, and wheels diameter, etc. This was Unity part. Then o config,i adapt from your stock models.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo save a bit of time in the future you don\u0027t need to do any of the work in Unity.\u00A0 None of those scripts will make it through PartTools exporting, they are all added to the parts by the PartModules (KSPWheelBase, etc) at run-time.\u00A0 As long as things are configured properly in the part .cfg file for the model being used in the part (names, sizes, etc) it should all work.\n\u003C/p\u003E\n\u003Cp\u003E\nThe KSPWheelComponent that you see in UnityEditor is intended to allow for testing of wheel physics while in the editor and is not used in KSP.\u00A0 I should probably move it off into a secondary .dll in the near future that only resides in the repository, it really doesn\u0027t need to be in the .dll used in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOn the development note, I think I have the \u0027easy-mode\u0027 suspension auto-tuning off to a very good start.\n\u003C/p\u003E\n\u003Cp\u003E\nThis testing craft can go from ~5t to ~750t on the same wheels without changing of any spring/damper/etc settings:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00227cGjcFm.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/7cGjcFm.png\u0022 width=\u00221000\u0022\u003E\u003Cbr\u003E\n(poor rover...)\n\u003C/p\u003E\n\u003Cp\u003E\nEven works with tracks:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022e9FWm9L.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/e9FWm9L.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis is accomplished by using using the vessel mass as the primary basis for the spring value and further adjusting it if it leaves a specified \u0027valid\u0027 range, using a both time-and-distance evaluated adjustment curve, that will eventually (~1s) resolve to a stable spring value that results in a compression within the specified valid range.\u00A0 It responds to and corrects both over and under compression, though I\u0027ve still some work to do on the under-compression handling.\u00A0 This should prevent the previous problems of the craft riding on the bump-stop collider when overloaded, and so far has not interfered with dynamic suspension response in any noticeable manner (though it will in theory, depending on craft design).\u00A0 It is not very realistic, but probably very beneficial to general use of the existing PartModules.\n\u003C/p\u003E\n\u003Cp\u003E\nLots more testing and tuning to do on the curves and a bit of cleanup work to do on some of the functions, but it is so far looking to be a quite usable system.\u00A0 No spring configuration necessary, though there are user-adjustable ride-height and damper ratio controls.\u00A0 Auto struts might be beneficial in some craft designs but I did not n\n\u003C/p\u003E\n\u003Cp\u003E\nThis however brings up the questions of balancing for such a large usable range of wheel loadings on a single part -- Should wheels have any sort of specified max load range?\u00A0 What should happen if it exceeds the max?\u00A0 How should this maximum be calculated for a given wheel, at a given scale? (The stock answers are yes, break/explode, and \u0027arbitrarily / by hand\u0027)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nManual load rating (\u0027hard-mode\u0027) suspension turning will still be available if desired.\u00A0 This can currently be enabled through the in-game stock settings/difficulty menu, but I may move it to a per-part toggle.\u00A0 I\u0027ll quite likely also add an over-compression prevention spring adjustment to this suspension mode as well, but it would only kick in when the wheel is near-fully compressed (~90%-95%), being intended solely to prevent dragging the bump-stop colliders on the ground while still giving proper friction/torque.\n\u003C/p\u003E\n\u003Cp\u003E\nWheel UI toggle is also in place and functional; it shows/hides all wheel gui controls and display except for motor EC use.\u00A0 It hides the motor invert/lock/limit, steering invert/lock/limit/bias, and the ride-height/damper-ratio controls.\n\u003C/p\u003E\n\u003Cp\u003E\nSeems likely that I\u0027ll have an updated release this weekend with the initial implementation of suspension auto-tuning.\u00A0 Probably won\u0027t have too many other changes to the modules, but they should be coming in short order now that I\u0027ve cleaned up the suspension code for easier testing (and easier use in general).\u00A0 I will possibly re-add the stock-part patches to the distributions as an optional patch set (config file with a .disabled extension, change extension to enable patches); if so they will be updated to in-place patch the stock parts rather than clone.\n\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2017-01-06T17:26:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222911994\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483666541\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo save a bit of time in the future you don\u0027t need to do any of the work in Unity.\u00A0 None of those scripts will make it through PartTools exporting, they are all added to the parts by the PartModules (KSPWheelBase, etc) at run-time.\u00A0 As long as things are configured properly in the part .cfg file for the model being used in the part (names, sizes, etc) it should all work.\n\u003C/p\u003E\n\u003Cp\u003E\nThe KSPWheelComponent that you see in UnityEditor is intended to allow for testing of wheel physics while in the editor and is not used in KSP.\u00A0 I should probably move it off into a secondary .dll in the near future that only resides in the repository, it really doesn\u0027t need to be in the .dll used in KSP.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOhh man. Ok, now it\u0027s done. Next time i need i will just\u00A0use the config\u0027s\n\u003C/p\u003E\n\u003Cp\u003E\nThanks.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-06T18:18:23Z\u0022 title=\u002201/06/2017 06:18  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 6, 2017\u003C/time\u003E by Climberfx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2017-01-06T20:01:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222911994\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483666541\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nauto-tuning stuff\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh man, that\u0027s so awesome!\n\u003C/p\u003E\n\u003Cp\u003E\nStill busy in RL but will do some wheels testing in February/March when I have more time \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nconcerning the question about overloading:\n\u003C/p\u003E\n\u003Cp\u003E\nFirst option is stock mechanics i.e. wheel is broken when it\u0027s overloaded (or exceeds max speed). So in config one would configure what speed and load would the wheel endure.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother option (enhancement) of that - I think that is closer to RL - is to take into account speed and load where wheel loading is a function of load and wheel speed. I.e. loader trucks move slower when loaded to save tires. so i.e. tire is experiencing higher stress and wear when it\u0027s rotating faster and when it carries heavier load. Potential bugs might be i.e. in situations with jumps, when wheels are temporarily not on the ground and start spinning fast. then during landing combining high spin ratio, high load ratio and relatively slow physics ticks might produce instant broken wheel when it shouldn\u0027t (at least in arcade game mode ;)) But I might be mistaken.\n\u003C/p\u003E\n\u003Cp\u003E\nLast option that comes to my mind is to have something like \u0027wheel condition\u0027 variable that goes from 100 to 0%. In easy mode it only decreases when max load (max speed too?) is exceeded. In harder mode it constantly (albeit slowly) goes down depending on wheel loading (in variant B loading\u002Bspeed function). The nice thing for modders in this option would be to i.e. have 3 wheel models i.e. 1)new, 2) optional worn down and 3) optional broken - 2nd model being new when wheel is under i.e. 20% durability (configurable) - wheel still works ok (or if we want to complicate further have another set of friction and other stats lol) (so player could indicate quickly which wheel is reaching end of life status and needs replacement or repair).\n\u003C/p\u003E\n\u003Cp\u003E\nJust my thoughts on the subject, it might be to time-consuming and inefficient to implement so I would be perfectly happy with stock behavior.\n\u003C/p\u003E\n\u003Cp\u003E\ncheers\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-07T18:29:48Z","Content":"\n\u003Cp\u003E\nUpdated release is available:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/shadowmage45/KSPWheel/releases/tag/0.9.1.7\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/KSPWheel/releases/tag/0.9.1.7\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOnly changes are adding a suspension auto-tuning feature (enabled by default, changeable through in-game settings), and adding one-shot animation support for deployment (e.g. for use on shuttles, landing-legs).\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-08T21:06:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222912826\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483732876\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Friday, January 06, 2017 at 1:01 PM, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh man, that\u0027s so awesome!\n\u003C/p\u003E\n\u003Cp\u003E\nStill busy in RL but will do some wheels testing in February/March when I have more time \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nconcerning the question about overloading:\n\u003C/p\u003E\n\u003Cp\u003E\nFirst option is stock mechanics i.e. wheel is broken when it\u0027s overloaded (or exceeds max speed). So in config one would configure what speed and load would the wheel endure.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother option (enhancement) of that - I think that is closer to RL - is to take into account speed and load where wheel loading is a function of load and wheel speed. I.e. loader trucks move slower when loaded to save tires. so i.e. tire is experiencing higher stress and wear when it\u0027s rotating faster and when it carries heavier load. Potential bugs might be i.e. in situations with jumps, when wheels are temporarily not on the ground and start spinning fast. then during landing combining high spin ratio, high load ratio and relatively slow physics ticks might produce instant broken wheel when it shouldn\u0027t (at least in arcade game mode ;)) But I might be mistaken.\n\u003C/p\u003E\n\u003Cp\u003E\nLast option that comes to my mind is to have something like \u0027wheel condition\u0027 variable that goes from 100 to 0%. In easy mode it only decreases when max load (max speed too?) is exceeded. In harder mode it constantly (albeit slowly) goes down depending on wheel loading (in variant B loading\u002Bspeed function). The nice thing for modders in this option would be to i.e. have 3 wheel models i.e. 1)new, 2) optional worn down and 3) optional broken - 2nd model being new when wheel is under i.e. 20% durability (configurable) - wheel still works ok (or if we want to complicate further have another set of friction and other stats lol) (so player could indicate quickly which wheel is reaching end of life status and needs replacement or repair).\n\u003C/p\u003E\n\u003Cp\u003E\nJust my thoughts on the subject, it might be to time-consuming and inefficient to implement so I would be perfectly happy with stock behavior.\n\u003C/p\u003E\n\u003Cp\u003E\ncheers\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nLeaning on some of what you posted, I\u0027m working towards implementing three different wear scenarios.\u003Cbr\u003E\u003Cstrong\u003ENone\u003C/strong\u003E - No damage from impact or overloading.\u003Cbr\u003E\u003Cstrong\u003ESimple\u003C/strong\u003E - Fairly close to the stock model.\u00A0 Wheels can be damaged by overloading (too much weight for the wheel), and over-stressing (very hard hit / landing); both are accomplished by examining wheel load and compression.\u00A0 Uses a config specified \u0027max load\u0027, which scales with wheel scaling.\u00A0 Implemented and working so far, broken wheels can be repaired by any kerbal.\u00A0 May investigate adding a stress factor for max-speed as well.\u003Cbr\u003E\u003Cstrong\u003EAdvanced\u003C/strong\u003E - Time/duration/load/stress/heat/use based wheel wear.\u00A0 Higher degrees of wear increase the rolling resistance and decrease the safe max speed/etc (thus a worn wheel is easier to \u0027pop\u0027 than a new wheel).\u00A0 Wheels will only be repairable by an engineer, and may require additional resources to do so.\u00A0 Still working through the actual implementation details on how to accumulate wear, and how to track it best (per part, per collider, etc).\u00A0 Will use the wheel loading compared to \u0027max load\u0027, wheel slip amounts and speeds, and monitor impacts and temporary stresses/overloads.\u00A0 Duration and amount of the load/slip/impact will determine how it effects the persistent \u0027wear\u0027 value.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the note of max-loading and allowing for various vehicle designs with a limited number of wheel parts, I\u0027m pretty sure I\u0027m going to implement built-in scaling of the wheels.\u00A0 This will allow for out-of-the-box free-form design and use of the wheels while still allowing for each wheel to have a manually specified max load at default scale/size.\u00A0 Instead of being stuck with wheels that may be too large or too small for the use, you can scale your desired wheel type up/down for whatever use is intended.\u00A0 Moving it to an internal process (rather than using TweakScale) will allow for cleaner integration of the various scaling features and easier use of an event-driven setup.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nHave also just reworked the motor handling mechanics, specifically I\u0027ve implemented a model for DC electric motors.\u00A0 Motors are now specified by four parameters:\u003Cbr\u003E\u003Cstrong\u003EmotorTorque\u003C/strong\u003E - stall torque of the motor.\u00A0 This is the torque output at zero rpm, and tapers towards zero at max rpm.\u003Cbr\u003E\u003Cstrong\u003EmotorMaxRPM\u003C/strong\u003E - zero-load max RPM of the motor, the point at which the torque output is zero.\u003Cbr\u003E\u003Cstrong\u003EmotorPower\u003C/strong\u003E - peak kW output of the motor, attained at ~50% max rpm/torque, determines EC/s use and heat output (heat not-yet-implemented).\u003Cbr\u003E\u003Cstrong\u003EgearRatio\u003C/strong\u003E - starting/default gear ratio for the motor.\u00A0 Determines max driven RPM and max torque output (inversely).\u003Cbr\u003E\u003Cbr\u003E\nGenerally they follow the curves/functions outlined here (\u00A0\u003Ca href=\u0022http://lancet.mit.edu/motors/motors3.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://lancet.mit.edu/motors/motors3.html\u003C/a\u003E ) as it pertains to torque curves and power usage.\u00A0 Gear ratios are now specified in the config files, as well as an option to enable user-configurable gear changes (currently active both in editor and in-flight).\u00A0 Gui will be updated to display the max speed and max output power of the wheels (as m/s and newtons).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nOnce all of these features are complete and working it will be time to figure out the balancing for all of the KF wheels and tracks, and how all of the settings are effected by scaling.\u00A0 From there it should be a short path to setting up a new KF thread and actual releases.\n\u003C/p\u003E\n"},{"CreatedByName":"TiktaalikDreaming","CreatedById":136290,"CreatedDateTime":"2017-01-08T23:13:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222914872\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483909603\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cbr\u003E\u003Cstrong\u003EgearRatio\u003C/strong\u003E - starting/default gear ratio\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAnticipation intensifies ....\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022:0.0:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 title=\u0022:0.0:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-01-08T23:56:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222914872\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483909603\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOn the note of max-loading and allowing for various vehicle designs with a limited number of wheel parts, I\u0027m pretty sure I\u0027m going to implement built-in scaling of the wheels.\u00A0 This will allow for out-of-the-box free-form design and use of the wheels while still allowing for each wheel to have a manually specified max load at default scale/size.\u00A0 Instead of being stuck with wheels that may be too large or too small for the use, you can scale your desired wheel type up/down for whatever use is intended.\u00A0 Moving it to an internal process (rather than using TweakScale) will allow for cleaner integration of the various scaling features and easier use of an event-driven setup.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIts about time somebody did this, it must have bugged every wheel maker ever that scaling with tweakscale is not ideal for wheels and have six exactly the same but unity scaled for various vehicles is pretty annoying. Do you envisage a free scale arrangement with no steps, this would be the most versatile and suit all wheels or a more restrictive stepped scaling arrangement ?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222911994\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483666541\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 06/01/2017 at 1:35 AM, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo save a bit of time in the future you don\u0027t need to do any of the work in Unity.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cs\u003EWould this apply to old wheels as well? given that i know all the transform names etc,\u00A0 is it worth a try setting it with KSPWheel\u00A0 cfg values before getting into the unity dance?\u00A0 Either way works for me now I\u0027m back up to speed on KSP wheels\u00A0 but it would be quite nice if I could avoid the whole imported exported import thing\u003C/s\u003E.Nope as the old colliders don\u0027t have a rigidbody applied in unity and no RB = no WC\n\u003C/p\u003E\n\u003Cp\u003E\nMightily impressed by the load carrying potential mentioned\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-09T06:32:41Z\u0022 title=\u002201/09/2017 06:32  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 9, 2017\u003C/time\u003E by SpannerMonkey(smce)\u003C/strong\u003E\n\u003Cbr\u003Ediscovered that it doesn\u0026#039;t\n\u003C/span\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2017-01-09T00:28:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222914872\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483909603\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGenerally they follow the curves/functions outlined here (\u00A0\u003Ca href=\u0022http://lancet.mit.edu/motors/motors3.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://lancet.mit.edu/motors/motors3.html\u003C/a\u003E ) as it pertains to torque curves and power usage.\u00A0 Gear ratios are now specified in the config files, as well as an option to enable user-configurable gear changes (currently active both in editor and in-flight).\u00A0 Gui will be updated to display the max speed and max output power of the wheels (as m/s and newtons).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI added to the linear relationship there a maximum torque - below the corresponding rotational speed torque does not increase and so power output drops. This seems to be typical in EV applications - presumably there comes a point where putting the motor\u0027s full stall torque into the gearbox will just cause something to break.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-09T16:21:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222914999\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483919814\u0022 data-ipsquote-userid=\u002250907\u0022 data-ipsquote-username=\u0022SpannerMonkey(smce)\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, SpannerMonkey(smce) said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cs\u003EWould this apply to old wheels as well? given that i know all the transform names etc,\u00A0 is it worth a try setting it with KSPWheel\u00A0 cfg values before getting into the unity dance?\u00A0 Either way works for me now I\u0027m back up to speed on KSP wheels\u00A0 but it would be quite nice if I could avoid the whole imported exported import thing\u003C/s\u003E.Nope as the old colliders don\u0027t have a rigidbody applied in unity and no RB = no WC\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou shouldn\u0027t need to add a RigidBody in Unity, as this method uses the rigidbodies of the Part\u0027s in the craft, which are assigned by KSP.\u00A0 The actual WheelCollider components are added at runtime -after- KSP has added rigidbodies to the parts, and uses whatever rigidbody was assigned to the part by ksp.\n\u003C/p\u003E\n\u003Cp\u003E\nSo yes, this will work with old wheels (U4 based).\u00A0 It will also work with new wheels (U5 based rigging), and with models that completely lack wheel colliders.\u00A0 As long as the rest of the rigging is setup properly and transform names are known (and there is a transform for the wheel-collider), the rest of it is handled completely at run-time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222914999\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483919814\u0022 data-ipsquote-userid=\u002250907\u0022 data-ipsquote-username=\u0022SpannerMonkey(smce)\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, SpannerMonkey(smce) said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIts about time somebody did this, it must have bugged every wheel maker ever that scaling with tweakscale is not ideal for wheels and have six exactly the same but unity scaled for various vehicles is pretty annoying. Do you envisage a free scale arrangement with no steps, this would be the most versatile and suit all wheels or a more restrictive stepped scaling arrangement ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure how free-scaling works in TS, so not sure what the analogue will be.\u00A0 It will use the stock UI_ScaleEdit UI control, that has both \u0026lt; and \u0026gt; buttons and a fine-tuning slider.\u00A0 So \u0027free\u0027 scaling I would guess; it won\u0027t be in only discrete steps only, but should be tunable within those steps as well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222915025\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483921728\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI added to the linear relationship there a maximum torque - below the corresponding rotational speed torque does not increase and so power output drops. This seems to be typical in EV applications - presumably there comes a point where putting the motor\u0027s full stall torque into the gearbox will just cause something to break.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you are referring to the initial torque output from the start of application of throttle -- I will be handling it in a different way, by implementing a spool-up time and/or throttle response speed/delay.\u00A0 Either way the throttle won\u0027t be going from 0-1 instantaneously, there will be some spool up time as a delay.\u00A0 So the -effective- torque output curve will go from 0 - ~0.95 within the first bit, and then linear from there down to 0 at max rpm.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, should look about like the img below if it were plotted (though perhaps the left slope would be even steeper):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022fXVb977.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/fXVb977.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-01-09T16:59:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222915690\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483978907\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo yes, this will work with old wheels\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi thanks for that, obviously got an error in my setup then, i\u0027ll investigate. In more positive news I\u0027ve got the twin wheel beam axle and comp truck module working again,\u00A0 still have suspension issues likely due to an error in translation with the constrain FX\u00A0 locking the suspension instead of pining a joint to a position. \u00A0 This is based on work LoFi and i did way back when which ensures that we don\u0027t have that horrible stretchy suspension effect that you see on wheels like the M1 and keeps every joint pinned in place through the full range of movement\n\u003C/p\u003E\n\u003Cp\u003E\nHave you tried a dual wheel steering suspension setup ?\u00A0 As I\u0027m having a problem or two , now the steering works, the brakes and drive works but I can\u0027t disable or invert the steering , i f i can\u0027t do it this way I\u0027ll have to make a version with no steering for the rear and keep the full steering version for the fronts\n\u003C/p\u003E\n\u003Cp\u003E\nFor ref some images,\u00A0 both sides are intended to be fully independent in suspension movement and this was possible in 1.0.5\u00A0 and was the best simulation of an across the frame\u00A0 beam axle ( rather than a cantilever)\u00A0 that doesn\u0027t use IR for the Diff pivot i could get working\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022WolHi3M.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/WolHi3M.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nBelow it\u0027s not supposed to look like this, this is with the bare minimum of unity collider settings and is supposed to have 0.6 suspension travel per side, thats 0.3 each way, obviously it\u0027s extended way past it\u0027s intended position, all cfg offsets targets are zero, as mentioned above i think this is due to the complex constraint system getting messed up when i extended the suspension to the latest KSP position which is fully extended,\u00A0 Do i need to do this though as I see mentioned that you dealt with similar issues when cfg\u0027ing the stock wheels\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ZEnDYXr.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/ZEnDYXr.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-09T17:29:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222915745\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483981161\u0022 data-ipsquote-userid=\u002250907\u0022 data-ipsquote-username=\u0022SpannerMonkey(smce)\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, SpannerMonkey(smce) said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi thanks for that, obviously got an error in my setup then, i\u0027ll investigate. In more positive news I\u0027ve got the twin wheel beam axle and comp truck module working again,\u00A0 still have suspension issues likely due to an error in translation with the constrain FX\u00A0 locking the suspension instead of pining a joint to a position. \u00A0 This is based on work LoFi and i did way back when which ensures that we don\u0027t have that horrible stretchy suspension effect that you see on wheels like the M1 and keeps every joint pinned in place through the full range of movement\n\u003C/p\u003E\n\u003Cp\u003E\nHave you tried a dual wheel steering suspension setup ?\u00A0 As I\u0027m having a problem or two , now the steering works, the brakes and drive works but I can\u0027t disable or invert the steering , i f i can\u0027t do it this way I\u0027ll have to make a version with no steering for the rear and keep the full steering version for the fronts\n\u003C/p\u003E\n\u003Cp\u003E\nFor ref some images,\u00A0 both sides are intended to be fully independent in suspension movement and this was possible in 1.0.5\u00A0 and was the best simulation of an across the frame\u00A0 beam axle ( rather than a cantilever)\u00A0 that doesn\u0027t use IR for the Diff pivot i could get working\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://i.imgur.com/WolHi3M.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022WolHi3M.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/WolHi3M.png\u0022 width=\u00221000\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBelow it\u0027s not supposed to look like this, this is with the bare minimum of unity collider settings and is supposed to have 0.6 suspension travel per side, thats 0.3 each way, obviously it\u0027s extended way past it\u0027s intended position, all cfg offsets targets are zero, as mentioned above i think this is due to the complex constraint system getting messed up when i extended the suspension to the latest KSP position which is fully extended,\u00A0 Do i need to do this though as I see mentioned that you dealt with similar issues when cfg\u0027ing the stock wheels\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://i.imgur.com/ZEnDYXr.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022ZEnDYXr.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/ZEnDYXr.png\u0022 width=\u00221000\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWould you mind posting/PM\u0027ing the .blend and .cfg files of that model so that I could peek at the hierarchy and setup (or alternatively, the .mu and .cfg files)?\u00A0 Seems that it should be doable without too much difficulty.\n\u003C/p\u003E\n\u003Cp\u003E\nSuspension misalignment -- seems that you\u0027ll need a suspension offset specified, the sign and value dependent on how you have your wheels and suspension transforms positioned in the model.\u00A0 For \u0027zero suspension offset\u0027 the wheel collider should be positioned at the top of its travel, as should the suspension transform (both should be in the exported model as if they were fully compressed);\u00A0 if they are positioned in any other way you will need to specify offsets (potentially for both suspension and wheel collider).\n\u003C/p\u003E\n\u003Cp\u003E\nOtherwise, I don\u0027t see any problems with the models that you linked, should be doable with the existing collider and part-modules.\u00A0 Independent suspension -- check (the tracks do this already).\u00A0 Independent steering -- not tested, but should work (and should give steering lock and inverts on a per-wheel).\u00A0 Independent motors -- again not tested, but should work; should be able to have independent L/R wheel motors, with their own controls.\u00A0 (If the controls aren\u0027t showing up, try toggling the \u0027show controls\u0027 button a time or two... I noticed it would occasionally display the wrong state)\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-01-09T17:42:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222915801\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483982958\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor \u0027zero suspension offset\u0027 the wheel collider should be positioned at the top of its travel, as should the suspension transform (both should be in the exported model as if they were fully compressed);\u00A0 i\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood to know as that\u0027s the export condition from 3ds , so I have no need to rotate to full extension\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2017-01-09T18:08:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222915690\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483978907\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAwesome stuff in development\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is going to be great \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E One question, will it be possible to use legacy system for motor power? -\u0026gt; something like torqueCurve similar to pre 1.1 ksp?\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-09T19:05:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222915865\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483985323\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is going to be great \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E One question, will it be possible to use legacy system for motor power? -\u0026gt; something like torqueCurve similar to pre 1.1 ksp?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe torque output graph noted above is already from a torque curve.\u00A0 So yes.\u00A0 The default curve just happens to be linear (only two points) and goes from 1 -\u0026gt; 0.\u00A0 However the system is built around zero torque at max motor RPM, so however you define the curve mid-points, the first point should be \u0026gt;0 (or there will be no torque when starting from a stop), and the last point should be zero (or there will be no limit to acceleration).\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-01-09T21:11:42Z","Content":"\n\u003Cp\u003E\nA short time later and after some tips from the master \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 It lives\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cimg alt=\u0022pTI8d1C.gif\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/pTI8d1C.gif\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd you certainly can\u0027t do this with stock wheel modules, spent a month trying before switching to the Shadowmage API and managing to get it all working in less than a day, one very happy customer Indeed\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/JIgxwubnttU?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPs next\u00A0 restoration is a two part 8 wheeled buggy with 4 built in wheels per half, that should be fun \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-01-09T21:25:06Z","Content":"\n\u003Cp\u003E\nPPs the unit in the video will get longer shocks\u00A0 tomorrow allowing for at least another 200mm of travel, thinking i could\u00A0 add extra colliders in order to make the transition to steep terrain easier , rotated 10deg would do i reckon,\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-10T20:06:36Z","Content":"\n\u003Cp\u003E\nSpent a few hours this morning working on tracks motor/torque/rpm/linear-velocity integration and cleanup.\u00A0 The previous implementation was violating conservation of energy as it was simply averaging the wheel RPM values, ignoring their radius and mass.\u00A0 Some setups would gain energy, some would lose it.\n\u003C/p\u003E\n\u003Cp\u003E\nThe new implementation calculates the total energy of the track system and sets the linear velocity of each wheel appropriate to conserve the total system energy while giving the same linear surface velocity to each \u0027wheel\u0027 in the track.\u00A0 Have put in some equations/calculations below... if anyone else is familiar with the subject matter, please double check my calculations as I pretty much eyeballed the functions...\u00A0 could very well be missing some conversions somewhere...\n\u003C/p\u003E\n\u003Cp\u003E\nTotal system energy = sum of each (wheels angular velocity * moment of inertia) \u00A0\u00A0 (this value is essentially a torque, the total torque of all wheels in the track)\u003Cbr\u003E\nTotal wheel radius = sum of all wheels radius\u00A0 (seems weird to sum the radius, but it works when fed into the below functions)\u003Cbr\u003E\nWheel energy share = (wheel radius / total radius) * total system energy\u00A0\u00A0 (this is the share of total system energy for a given wheel, which should give the same linear surface velocity)\u003Cbr\u003E\nWheel new angular velocity = wheel energy share / wheel moment-of-inertia\u00A0 (this is the part that \u0027averages\u0027 the wheel RPM, converting the \u0027torque\u0027 back into velocity)\u003Cbr\u003E\u003Cbr\u003E\nIn my spreadsheet that I\u0027m using this gives each wheel in a set of wheels the same resultant linear surface velocity while conserving the total energy of the system.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nA similar radius/MOI based system will be used to determine each wheels\u0027 share of the input torque that will result in a constant linear-velocity increase across all of the wheels that make up a track.\u00A0 Looking at the math it is mostly the same functions but arranged slightly differently....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn general development news:\u003Cbr\u003E\u003Cbr\u003E\nScaling is implemented and working.\u00A0 A bit of cleanup to make sure that all features that are supposed to scale actually do (such as load ratings and some GUI min/max values), but was working quite well during testing last night.\u00A0 All of the scaling values are adjustable through the in-game settings menu including:\u00A0 part mass, part cost, wheel mass, wheel max speed, wheel max load, motor torque, motor max rpm, and rolling resistance.\u00A0 Currently they are -all- set to cubic scaling (x * (scale ^ 3)), but as stated, are easily adjustable through the in-game settings menu.\n\u003C/p\u003E\n\u003Cp\u003E\nOne of the next \u0027very important\u0027 things that will need to be worked on (before I can publish the next updated release) is figuring out the initial balance (load rating, motor torque, gearing) for each of the KF wheels/tracks, as well as figuring out the best scaling powers for each of the affected values (default is cubic, some functions may need other scaling).\u00A0 As this is a -highly- subjective subject, I\u0027ll likely post up some details on each wheel and ask for feedback/suggestions as to where to best position each one.\u00A0 Expect something along these lines a bit later this week, probably tomorrow/tomorrow-evening.\n\u003C/p\u003E\n\u003Cp\u003E\nIdeally I\u0027d like to find a decent load rating and motor rating for each wheel as used on a \u0027reference\u0027 craft; this would be a craft that where a specific wheel at its default scale would be seen as \u0027ideal\u0027 for that craft in a normal 4-wheeled (or 2-tracked) scenario, where the wheels both look appropriately sized and have appropriate travel for the intended use.\n\u003C/p\u003E\n\u003Cp\u003E\nI suppose the best place to start on this would be to ask for pics (and mass stats) for a selection of craft from you guys where you would consider the wheels used to be \u0027ideal\u0027 for the particular craft.\u00A0 Anyone have pics of craft using the KF wheels (at default scale) that they wouldn\u0027t mind sharing in the name of helping out development\u00A0 (please note the craft mass as well...)?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(Most of this can be applied to the stock wheels as well, as I would like to finish up/fix up their patches and conversion; they will all need the load and motor stats determined as well).\u003Cbr\u003E\n(If not enough information can be put together through the thread for the initial balancing, I\u0027ll attempt to do some reference craft designs.... but please keep in mind that my craft design techniques are simplistic and spartan, and the resultant balance would reflect that (e.g. load-shares might be far lower than if others had designed the reference craft)).\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-01-10T21:01:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222917264\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484078796\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI suppose the best place to start on this would be to ask for pics (and mass stats) for a selection of craft from you guys where you would consider the wheels used to be \u0027ideal\u0027 for the particular craft.\u00A0 Anyone have pics of craft using the KF wheels (at default scale) that they wouldn\u0027t mind sharing in the name of helping out development\u00A0 (please note the craft mass as well...)?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027d be happy to knock some stuff together with KF wheels, I have a ton of rovers around at the moment from trying the Dakar challenge.\u00A0 Just a matter of swapping wheels and spending some time on setup\u00A0 , no probs\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022xExbfLr.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/xExbfLr.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-10T21:04:07Z\u0022 title=\u002201/10/2017 09:04  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 10, 2017\u003C/time\u003E by SpannerMonkey(smce)\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-11T02:37:33Z","Content":"\n\u003Cp\u003E\nSince I got the tracks torque/speed averaging stuff figured out, I\u0027ve done a bit of work on a feature that I\u0027m sure will make a couple people happy:\u00A0 half-track steering support.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022g8obcqx.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/g8obcqx.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWith \u0027Half-Track Mode\u0027 enabled the tracks work like normal while going \u0027forward\u0027, but will invert their steering when in reverse.\u00A0 Currently only triggered by actual reverse motor input, but will also be setting it up to be triggered by reverse wheel rpm.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nRapidly checking things off of the \u0027todo\u0027 list.\u00A0 Next up will be finding the best method to handle \u0027default\u0027 steering curves.\u00A0 Not too much left to be done before I\u0027ll be ready for an official KF release, possibly even sometime this weekend.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250907\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0022 rel=\u0022\u0022\u003E@SpannerMonkey(smce)\u003C/a\u003E - If you don\u0027t mind sharing -- where did you find that rover test track at, and what all is needed to get it working?\u00A0\u003Cbr\u003E\u003Cbr\u003E\nMy current rover testing is limited to the area around the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E and the bumps on the crawlerway, and the rubble from whatever buildings happen to be destroyed at the moment.\u00A0 Would be nice to have a proper testing area though.\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2017-01-11T03:38:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222915690\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221483978907\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 09/01/2017 at 4:21 PM, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you are referring to the initial torque output from the start of application of throttle -- I will be handling it in a different way, by implementing a spool-up time and/or throttle response speed/delay.\u00A0 Either way the throttle won\u0027t be going from 0-1 instantaneously, there will be some spool up time as a delay.\u00A0 So the -effective- torque output curve will go from 0 - ~0.95 within the first bit, and then linear from there down to 0 at max rpm.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not talking of response time but the relationship between torque and engine RPM. I dug into this a bit more because what you have done is correct based on the actual properties of electric motors, but nearly all EVs have a flat section to the torque curve from 0 RPM up to some point where it transitions to torque inversely proportional to RPM.\n\u003C/p\u003E\n\u003Cp\u003E\nIt turns out this flat section is not an inherent property of the motor but produced in software - there comes a point where the vehicle has too much acceleration (given that an EV designer also knows the mass of the vehicle) either to be safe or simply because if more torque was applied at zero speed the tyres would be badly damaged.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I think what you have is entirely correct - but there may in future be a desire for a user-set torque cap, if it turns out players with on/off throttles are doing wheelies away from a stop (especially in low-g!)\n\u003C/p\u003E\n\u003Cp\u003E\nETA: if it\u0027s already in the current version you may now point and laugh at me.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-11T06:10:42Z\u0022 title=\u002201/11/2017 06:10  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 11, 2017\u003C/time\u003E by damerell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SchwinnTropius","CreatedById":165170,"CreatedDateTime":"2017-01-11T05:17:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222917666\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484105939\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think what you have is entirely correct - but there may in future be a desire for a user-set torque cap, if it turns out players with on/off throttles are doing wheelies away from a stop (especially in low-g!)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBut wheelies are awesome! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}