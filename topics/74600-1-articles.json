{"TopicId":74600,"ForumId":36,"TopicTitle":"Hook into Part.onCopy from PartModule","CreatedByName":"marce","CreatedById":110351,"CreatedDateTime":"2014-06-09T17:56:07Z","PageNum":1,"Articles":[{"CreatedByName":"marce","CreatedById":110351,"CreatedDateTime":"2014-06-09T17:56:07Z","Content":"\n\u003Cp\u003ESecond problem but not related to my other one so I create a second thread \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EQuestion: is it somehow possible to hook into the onCopy method of part from a PartModule?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EBackground: I have to reset attributes of the module when its part is copied. I\u0027d like to avoid subclassing Part itself and stay with a Module.\u003C/p\u003E\u003Cp\u003EI experimented with reset onAttach and other stuff like that but then it did it also when moving the original part etc.\u003C/p\u003E\u003Cp\u003ESo I\u0027d really like to get an info when the part has been cloned (also considering symmetry) in order to clean up.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-06-09T20:23:05Z","Content":"\n\u003Cp\u003EI don\u0027t know if onCopy is setup for a call back, but I do know part.onAttach and part.onDetach are.\u003C/p\u003E\u003Cp\u003EIn your partmodule, if you run this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E{code here to insure this line only runs once}\u003Cbr\u003Epart.onAttach \u002B= OnAttachCode();\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EOnAttachCode()\u003Cbr\u003E{\u003Cbr\u003E--code here to run when the part that the partModule is assigned to gets attached.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EOnDestroy()\u003Cbr\u003E{\u003Cbr\u003Epart.onAttach -= OnAttachCode(); //remove the callback when the part destroyed\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf this works for part.onCopy, it sounds exactly like what you are looking for.\u003C/p\u003E\n"},{"CreatedByName":"marce","CreatedById":110351,"CreatedDateTime":"2014-06-10T05:01:13Z","Content":"\n\u003Cp\u003ESadly this doesn\u0027t work for onCopy.\u003C/p\u003E\u003Cp\u003EI added a workaround consisting of IDs and generating vessel part lists...\u003C/p\u003E\u003Cp\u003EHow easy modding KSP could be without all those silly limitations \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"}]}