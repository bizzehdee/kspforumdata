{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":46,"Articles":[{"CreatedByName":"kungfufishstick","CreatedById":144240,"CreatedDateTime":"2015-07-26T04:45:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EOh, I messed it up yesterday sorry.\u003Cp\u003EIn the function definition for warningSet, the first word defines what that function returns. I accidentally set it to void when it later returns a byte. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003ETry this instead:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ebyte warningSet(byte warnings, byte n, boolean s) {\u003Cbr\u003E  if (s) {\u003Cbr\u003E    warnings |= (1 \u0026lt;\u0026lt; n); // forces nth bit to 1\u003Cbr\u003E  } else {\u003Cbr\u003E    warnings \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit to 0\u003Cbr\u003E  }\u003Cbr\u003E  return warnings;\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(future readers, I totally went back and fixed yesterday\u0027s post too)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd to any future readers that are new, don\u0027t forget to declare byte warnings = 0; \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlright, no errors on compile. I am not getting the LED to come on. Would it be possible that I need to include shift out code?\u003C/p\u003E\u003Cp\u003EEDIT: Adding the shift code was necessary. I have the LED working. Now on the the rest.\u003C/p\u003E\u003Cp\u003EA quick question:\u003C/p\u003E\u003Cp\u003EIf I daisy chain additional shift registers, would the numbering for the pin just continue up with each LED?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-26T04:51:01Z\u0022 title=\u002207/26/2015 04:51  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 26, 2015\u003C/time\u003E by kungfufishstick\u003C/strong\u003E\n\u003Cbr\u003EAdditional info\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-07-26T04:51:15Z","Content":"\n\u003Cp\u003EYou definitely do need to include shift out code. Even if a single bit changes, you\u0027ll have to shift out the entire byte. If you\u0027re setting bits in the Indicators() function, then it makes sense to do the shift out at the end of that.\u003C/p\u003E\n"},{"CreatedByName":"kungfufishstick","CreatedById":144240,"CreatedDateTime":"2015-07-26T05:23:26Z","Content":"\n\u003Cp\u003EI just went ahead and added the shift out code within the byte warningSet. For the first version of my controller, I don\u0027t plan on using shift registers for anything other than LED indications. \u003C/p\u003E\u003Cp\u003EThank you so much for the help. I really appreciate it.\u003C/p\u003E\n"},{"CreatedByName":"Darkblade48","CreatedById":113269,"CreatedDateTime":"2015-07-26T07:28:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003E\u003Cspan\u003EUpdate 0.17.4\u003C/span\u003E\u003Cp\u003EChanged:\u003C/p\u003E\u003Cp\u003EFixed overheating bug caused by 1.0.4 update (Found by Sputnix, thanks!)\u003C/p\u003E\u003Cp\u003EAdded current stage number- byte \u003C/p\u003E\u003Cp\u003EAdded total stages - byte (Thanks Cbrollin)\u003C/p\u003E\u003Cp\u003EPlugin:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPSerialIO_017_4.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPSerialIO_017_4.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EArduino Code:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlugin link does not seem to work\u003C/p\u003E\u003Cp\u003EEdit: Seems to be working now\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-26T13:37:45Z\u0022 title=\u002207/26/2015 01:37  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 26, 2015\u003C/time\u003E by Darkblade48\u003C/strong\u003E\n\u003Cbr\u003EAdditional information\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-07-26T16:35:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sputnix\u0022 data-cite=\u0022Sputnix\u0022\u003E\u003Cdiv\u003EThanks for that! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003Cp\u003ERE: The Arduino code - \u003C/p\u003E\u003Cp\u003EThis is the first update that\u0027s been rolled since I started using the arduino \u002B plugin --\u003C/p\u003E\u003Cp\u003Eis it quicker/easier to copy/paste the relevant updated parts of the various tabs to what we have implemented? \u003C/p\u003E\u003Cp\u003EOr is it better to just transfer our custom code into the updated arduino sketch / tab?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWith this one it\u0027s easier to copy the code over to your own, since only 2 values were added.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHey zitronen, could I bug you to update your git repository again? I\u0027d like to keep marzubus\u0027 cross-platform fork up to date while they\u0027re MIA.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDone\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Darkblade48\u0022 data-cite=\u0022Darkblade48\u0022\u003E\u003Cdiv\u003EPlugin link does not seem to work\u003Cp\u003EEdit: Seems to be working now\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry I had a typo in the file name.\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-07-27T08:17:06Z","Content":"\n\u003Cp\u003EThanks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027ve built a new cross-platform release - \u003Ca href=\u0022https://github.com/phardy/KSPSerialIO/releases/tag/v0.17.4-1\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/phardy/KSPSerialIO/releases/tag/v0.17.4-1\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-27T09:11:29Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EProblems with KSP_Serial_IO\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EOk, so I noticed as I was doing some development near to my current \u0027code point\u0027 that I was getting some drop outs during flights.\u003C/p\u003E\u003Cp\u003EI modified the config.xml so that:\u003C/p\u003E\u003Cp\u003ERefresh is 0.3 (from default 0.2)\u003C/p\u003E\u003Cp\u003EDefault Port is COM3 (from default COM8, since my arduino board is detected as COM3)\u003C/p\u003E\u003Cp\u003EBaudRate ios 115200 instead of default 38400\u003C/p\u003E\u003Cp\u003EI picked up the idea for some of these values from a previous discussion on dropouts.\u003C/p\u003E\u003Cp\u003EThese values seemed to work pretty good with the previous version of KSPSerialIO.\u003C/p\u003E\u003Cp\u003EI was however having issues (on occassion) at launch, where I wasn\u0027t getting data coming through to my controller.\u003C/p\u003E\u003Cp\u003EThis seemed to be tied more to the craft I was using (default, simpler craft seemed ok. My purpose-built more complicated craft seemed to have issues).\u003C/p\u003E\u003Cp\u003EThe new plugin seems to work once every now and then (seriously. It won\u0027t load / display anything on my controller by default. Then, on occasion, it will work).\u003C/p\u003E\u003Cp\u003EI disabled everything (LCD / 7-segment Displays / Annunciator panel) - and only left the bare minimum controls (throttles, Stage / RCS / SAS buttons). Still nothing.\u003C/p\u003E\u003Cp\u003EReverting to the old plugin (including the updated DLL that you sent me Zitronen, when we were trouble-shooting the heat warning issue) everything works fine at launch.\u003C/p\u003E\u003Cp\u003EI suspect there\u0027s some bug somewhere.\u003C/p\u003E\u003Cp\u003EAnd yes, I copied over all the values (from the config file) and ensure everything else was the same (old plugin vs new).\u003C/p\u003E\u003Cp\u003EI even went so far as commenting out the new additions to the data packet. Made no difference.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-27T09:14:07Z\u0022 title=\u002207/27/2015 09:14  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 27, 2015\u003C/time\u003E by Sputnix\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-07-27T12:28:10Z","Content":"\n\u003Cp\u003EDoes it work better if you decrease the baud rate a little? Try 57600 or even 38400.\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-27T12:37:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EDoes it work better if you decrease the baud rate a little? Try 57600 or even 38400.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m using the previous plugin, doing some coding \u002B test flights at the moment.\u003C/p\u003E\u003Cp\u003ENo problems with that baud rate. However, just to humour everyone, I shall try the latest plugin with a lower baud rate. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: No dice; I dropped it to 38400 - no change.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-27T12:47:55Z\u0022 title=\u002207/27/2015 12:47  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 27, 2015\u003C/time\u003E by Sputnix\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-07-27T13:27:14Z","Content":"\n\u003Cp\u003EI don\u0027t have a Windows machine handy, but I did just load up the KSPIODemo13 sketch on a spare Uno and got it syncing on my OS X machine with the plugin release I posted above, at 57600 baud. Not sure yet what could be wrong with your setup. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EStill concerned it\u0027s got something to do with overflowing the serial buffer in the arduino, but it\u0027s a little late for me to logic very good.\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-27T13:46:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EI don\u0027t have a Windows machine handy, but I did just load up the KSPIODemo13 sketch on a spare Uno and got it syncing on my OS X machine with the plugin release I posted above, at 57600 baud. Not sure yet what could be wrong with your setup. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003Cp\u003EStill concerned it\u0027s got something to do with overflowing the serial buffer in the arduino, but it\u0027s a little late for me to logic very good.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo need to logic very good. You could logic very bad. Won\u0027t fix it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EI changed it to what was working for you - 57600; Still no dice. \u003C/p\u003E\u003Cp\u003EI go to launch, it displays \u0022Starting Serial Port Com3\u0022 - I see tx/rx lights flash on arduino board. But no data coming through. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut, as I said - the older plugin (17.3) has been working fine all night.\u003C/p\u003E\u003Cp\u003EI\u0027ve just commented out the two new data sets - byte CurrentStage; \u0026amp; byte TotalStage; \u003C/p\u003E\u003Cp\u003EAnd the code is working fine.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-07-27T13:58:46Z","Content":"\n\u003Cp\u003EHmm... That\u0027s annoying, I can\u0027t reproduce it. Try the demo13 code on its own? Can you post the debug log, and share the craft file you are having problems with?\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-27T14:23:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EHmm... That\u0027s annoying, I can\u0027t reproduce it. Try the demo13 code on its own? Can you post the debug log, and share the craft file you are having problems with?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll have to futz around with the demo to re-assign the various pin numbers in the morning (Midnight here in the Land Downunder \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E ]\u003C/p\u003E\u003Cp\u003EHowever, it seems to do it with all craft. I\u0027m using Stock craft that come with the game for most of my testing.\u003C/p\u003E\u003Cp\u003EThis log is with Kerbal X.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EAs an aside, as I was getting this data, and responding, it suddenly came to life - probably about 00:21:00 (That\u0027s 21 minutes past midnight).\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EThis log was started at 16 minutes past midnight.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003ESo... incredible delay? Or something more obscure? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E[LOG 00:16:00.671] AddonLoader: Instantiating addon \u0027SettingsNStuff\u0027 from assembly \u0027KSPSerialIO\u0027\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.676] KSPSerialIO: Loading settings...\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.742] Parsing double\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.742] Parsing string\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.743] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.743] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.744] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.744] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.744] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.745] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.745] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.746] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.746] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.746] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.747] Parsing int\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.747] Parsing double\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.748] KSPSerialIO: Default Port = COM3\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.748] KSPSerialIO: Refreshrate = 0.3\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.749] KSPSerialIO: BaudRate = 38400\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.749] KSPSerialIO: Handshake Delay = 2500\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.750] KSPSerialIO: Pitch Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.750] KSPSerialIO: Roll Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.751] KSPSerialIO: Yaw Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.751] KSPSerialIO: Translate X Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.752] KSPSerialIO: Translate Y Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.752] KSPSerialIO: Translate Z Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.753] KSPSerialIO: Wheel Steering Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.753] KSPSerialIO: Throttle Enable = 1\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.754] KSPSerialIO: Wheel Throttle Enable = 2\u003C/p\u003E\u003Cp\u003E[LOG 00:16:00.754] KSPSerialIO: SAS Tol = 0.1\u003C/p\u003E\u003Cp\u003E[LOG 00:16:35.760] ExperienceSystem: Found 0 trait types\u003C/p\u003E\u003Cp\u003E[LOG 00:16:35.763] ExperienceSystem: Found 9 effect types\u003C/p\u003E\u003Cp\u003E[LOG 00:16:37.042] ScenarioTypes: List Created 12 scenario types loaded from 3 loaded assemblies.\u003C/p\u003E\u003Cp\u003E[WRN 00:16:37.058] [HighLogic]: =========================== Scene Change : From MAINMENU to SPACECENTER (Async) =====================\u003C/p\u003E\u003Cp\u003E[LOG 00:16:38.626] AddonLoader: Instantiating addon \u0027AddScenarioModules\u0027 from assembly \u0027KSP\u0027\u003C/p\u003E\u003Cp\u003E[LOG 00:16:38.627] AddonLoader: Instantiating addon \u0027ContractDefs\u0027 from assembly \u0027KSP\u0027\u003C/p\u003E\u003Cp\u003E[LOG 00:16:40.569] [scenarioDestructibles]: Loading... 0 objects registered\u003C/p\u003E\u003Cp\u003E[LOG 00:16:40.573] Loading Depletion Nodes\u003C/p\u003E\u003Cp\u003E[LOG 00:16:40.574] DepNodeCount: 0\u003C/p\u003E\u003Cp\u003E[LOG 00:16:40.575] Loading Biome Nodes\u003C/p\u003E\u003Cp\u003E[LOG 00:16:40.575] BiomeNodeCount: 0\u003C/p\u003E\u003Cp\u003E[LOG 00:16:40.576] Loading Planet Nodes\u003C/p\u003E\u003Cp\u003E[LOG 00:16:40.576] PlanetNodeCount: 0\u003C/p\u003E\u003Cp\u003E[LOG 00:16:48.123] Flight State Captured\u003C/p\u003E\u003Cp\u003E[LOG 00:16:48.133] Saving Achievements Tree...\u003C/p\u003E\u003Cp\u003E[LOG 00:16:48.137] Saving Achievements Tree...\u003C/p\u003E\u003Cp\u003E[LOG 00:16:48.137] Saving Achievements Tree...\u003C/p\u003E\u003Cp\u003E[LOG 00:16:48.193] Game State Saved to saves/SANDBOX_KSPIO/persistent\u003C/p\u003E\u003Cp\u003E[WRN 00:16:48.212] [HighLogic]: =========================== Scene Change : From SPACECENTER to FLIGHT (Async) =====================\u003C/p\u003E\u003Cp\u003E[WRN 00:16:50.333] ApplicationLauncher already exist, destroying this instance\u003C/p\u003E\u003Cp\u003E[LOG 00:16:50.340] AddonLoader: Instantiating addon \u0027NavWaypoint\u0027 from assembly \u0027KSP\u0027\u003C/p\u003E\u003Cp\u003E[LOG 00:16:50.344] AddonLoader: Instantiating addon \u0027KSPSerialPort\u0027 from assembly \u0027KSPSerialIO\u0027\u003C/p\u003E\u003Cp\u003E[LOG 00:16:50.347] KSPSerialIO: Version 0.17.4\u003C/p\u003E\u003Cp\u003E[LOG 00:16:50.347] KSPSerialIO: Getting serial ports...\u003C/p\u003E\u003Cp\u003E[LOG 00:16:50.348] KSPSerialIO: Output packet size: 191/255\u003C/p\u003E\u003Cp\u003E[LOG 00:16:50.350] KSPSerialIO: Found 2 serial ports\u003C/p\u003E\u003Cp\u003E[LOG 00:16:50.351] KSPSerialIO: trying default port COM3\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.283] KSPSerialIO: found KSP Display at COM3\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.284] AddonLoader: Instantiating addon \u0027KSPSerialIO\u0027 from assembly \u0027KSPSerialIO\u0027\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.338] ------------------- initializing flight mode... ------------------\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.412] Target vessel index: 8 vessel count: 9\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.414] [FLIGHT GLOBALS]: Switching To Vessel Kerbal X ---------------------- \u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.417] setting new dominant body: Kerbin\u003C/p\u003E\u003Cp\u003EFlightGlobals.mainBody: Kerbin\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.419] Reference Frame: Rotating\u003C/p\u003E\u003Cp\u003E[WRN 00:16:54.444] HighlightingSystem : Multiple Highlighter components on a single GameObject is not allowed! Highlighter has been disabled on a GameObject with name \u0027model\u0027.\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.920] [Kerbal X]: landed - waiting for ground contact to resume physics...\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.925] Camera Mode: AUTO\u003C/p\u003E\u003Cp\u003E[LOG 00:16:54.955] stage manager resuming...\u003C/p\u003E\u003Cp\u003E[LOG 00:16:56.921] all systems started\u003C/p\u003E\u003Cp\u003E[LOG 00:16:59.778] KSPSerialIO: Handshake received - 314\u003C/p\u003E\u003Cp\u003E[LOG 00:17:00.027] [scenarioDestructibles]: Loading... 0 objects registered\u003C/p\u003E\u003Cp\u003E[LOG 00:17:00.029] Loading Depletion Nodes\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-07-27T14:38:42Z","Content":"\n\u003Cp\u003EOk.. so the log looks completely normal. I\u0027ll do some more tests when I get back from work.\u003C/p\u003E\n"},{"CreatedByName":"nicosilverx","CreatedById":148638,"CreatedDateTime":"2015-07-27T21:16:55Z","Content":"\n\u003Cp\u003EI\u0027m having some trouble with a 7 segment 4 digit display using the \u0022SevSeg\u0022 library... How can I send data to the display? I\u0027m trying with this code:\u003C/p\u003E\u003Cp\u003E\u0022\u003C/p\u003E\u003Cp\u003EmyDisplay.setNumber(VData.G,3);\u003C/p\u003E\u003Cp\u003EmyDisplay.refreshDisplay(); \u0022\u003C/p\u003E\u003Cp\u003Ein the loop, but it doesn\u0027t work... someone can help me? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-07-27T21:38:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EOk.. so the log looks completely normal. I\u0027ll do some more tests when I get back from work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk I tested it with both an old arduino 328 and mega, all worked fine no problems at all career mode or sandbox. Maybe you can try increasing or decreasing handshake delay?\u003C/p\u003E\u003Cp\u003EYou can just load demo13 without hooking up anything, it should still connect ok.\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-27T23:57:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EOk I tested it with both an old arduino 328 and mega, all worked fine no problems at all career mode or sandbox. Maybe you can try increasing or decreasing handshake delay?\u003Cp\u003EYou can just load demo13 without hooking up anything, it should still connect ok.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E*sigh* \u003C/p\u003E\u003Cp\u003EThe default worked \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003ESorry for the run around. Doesn\u0027t make a whole lot of sense; \u003C/p\u003E\u003Cp\u003EI\u0027ll review and revise my code and try work out what\u0027s happening.\u003C/p\u003E\u003Cp\u003EThanks for the confirmation. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWith the new code, do I just have to add the two new vessel data variables to the list?\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-28T02:47:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nicosilverx\u0022 data-cite=\u0022nicosilverx\u0022\u003E\u003Cdiv\u003EI\u0027m having some trouble with a 7 segment 4 digit display using the \u0022SevSeg\u0022 library... How can I send data to the display? I\u0027m trying with this code:\u003Cp\u003E\u0022\u003C/p\u003E\u003Cp\u003EmyDisplay.setNumber(VData.G,3);\u003C/p\u003E\u003Cp\u003EmyDisplay.refreshDisplay(); \u0022\u003C/p\u003E\u003Cp\u003Ein the loop, but it doesn\u0027t work... someone can help me? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d suggest using \u003Ca href=\u0022https://www.dropbox.com/s/ud69sks1u6z30kf/Demo_for_7segMAX7219_module_updated.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EAmeilaEatYaHeart\u0027s custom 7-segment display\u003C/a\u003E function / code.\u003C/p\u003E\u003Cp\u003EThat is, assuming the displays use a MAX chip \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"kungfufishstick","CreatedById":144240,"CreatedDateTime":"2015-07-28T07:29:55Z","Content":"\n\u003Cp\u003EAlright, I just want to make sure I have this correct for my shift registers.\u003C/p\u003E\u003Cp\u003EI finally got around to making enough jumpers to accommodate all of the LEDs I plan on using and have all 3 shift registers daisy chained together. \u003C/p\u003E\u003Cp\u003EThere are a couple of things I\u0027m not sure about.\u003C/p\u003E\u003Cp\u003EDo I need a shiftOut line for each shift register?\u003C/p\u003E\u003Cp\u003EDoes the numbering for pins increase as you go up or is there a special numbering after you go through 0-7 pins?\u003C/p\u003E\u003Cp\u003EAfter I got everything hooked up, the lighting has gone crazy. I have 23 LEDs for various indications and there are only 4 that are lighting up when you load into launch from the VAB.\u003C/p\u003E\u003Cp\u003EEDIT: \u003C/p\u003E\u003Cp\u003EWhen the code was working fine with just a single shift register, this was the code.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ebyte warningSet(byte warnings, byte n, boolean s) {\u003Cbr\u003E  if (s) {\u003Cbr\u003E    digitalWrite(LATCHPIN, LOW);\u003Cbr\u003E    warnings |= (1 \u0026lt;\u0026lt; n); // forces nth bit to 1\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings);\u003Cbr\u003E    digitalWrite(LATCHPIN, HIGH);\u003Cbr\u003E  } else {\u003Cbr\u003E    digitalWrite(LATCHPIN, LOW);\u003Cbr\u003E    warnings \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit to 0\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings);\u003Cbr\u003E    digitalWrite(LATCHPIN, HIGH);\u003Cbr\u003E  }\u003Cbr\u003E  return warnings;\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI changed it to this to try and get the LEDs to light up properly. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ebyte warningSet(byte warnings, byte n, boolean s) {\u003Cbr\u003E  if (s) {\u003Cbr\u003E    warnings |= (1 \u0026lt;\u0026lt; n); // forces nth bit to 1\u003Cbr\u003E    digitalWrite(LATCHPIN, LOW);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;8);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;16);\u003Cbr\u003E    digitalWrite(LATCHPIN, HIGH);\u003Cbr\u003E  } else {\u003Cbr\u003E    warnings \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit to 0\u003Cbr\u003E    digitalWrite(LATCHPIN, LOW);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;8);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;16);\u003Cbr\u003E    digitalWrite(LATCHPIN, HIGH);\u003Cbr\u003E  }\u003Cbr\u003E  return warnings;\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFor numbering, it looks something like this for turning the LED on for a given condition.\u003C/p\u003E\u003Cp\u003E(simply taken from void initLEDS() but it is the same in each if statement for warnings and cautions)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ewarnings = warningSet(warnings, 0, true);\u003Cbr\u003E    warnings = warningSet(warnings, 1, true);\u003Cbr\u003E    warnings = warningSet(warnings, 2, true);\u003Cbr\u003E    warnings = warningSet(warnings, 3, true);\u003Cbr\u003E    warnings = warningSet(warnings, 4, true);\u003Cbr\u003E    warnings = warningSet(warnings, 5, true);\u003Cbr\u003E    warnings = warningSet(warnings, 6, true);\u003Cbr\u003E    warnings = warningSet(warnings, 7, true);\u003Cbr\u003E    warnings = warningSet(warnings, 8, true);\u003Cbr\u003E    warnings = warningSet(warnings, 9, true);\u003Cbr\u003E    warnings = warningSet(warnings, 10, true);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-28T08:42:25Z\u0022 title=\u002207/28/2015 08:42  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 28, 2015\u003C/time\u003E by kungfufishstick\u003C/strong\u003E\n\u003Cbr\u003EAdditional information\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-07-28T11:45:23Z","Content":"\n\u003Cp\u003EAll of your current problems are happening because your warnings variable is a byte, only 8 bits long, and you\u0027re trying to read and write more than that. It\u0027s a textbook example of a buffer overflow.\u003C/p\u003E\u003Cp\u003EThere are a couple of approaches you could take to fix this. One is to use three byte variables, one representing the contents of each shift register. You\u0027d then number the bits of each variable 0-7, and just shift each out in turn when you need to. This is the approach I\u0027d take, mostly because associating one shift register with one variable makes sense to me. But I would take it a little bit further by using a single array of byte, like\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ebyte warnings[3];\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(incidentally, the thought of having registers chained together using an array of bytes like this is one reason why I suggested not calling shiftOut in the warningSet function yesterday \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E )\u003C/p\u003E\u003Cp\u003EThere is another option that springs to mind, and your code is almost all of the way towards implementing it. You can use a larger data type for the warnings variable, and then shift out chunks of it at a time. For three shift registers you need 24 bits. There\u0027s no native 24 bit data type, but there are a few that are 32 bits. I would suggest using an unsigned long. I \u003Cem\u003Ethink\u003C/em\u003E just changing the type of warnings like this is enough to get your code working\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eunsigned long warnings;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s worth pointing out, though, that the \u003Ca href=\u0022https://www.arduino.cc/en/Reference/shiftOut\u0022 rel=\u0022external nofollow\u0022\u003EArduino shiftOut docs\u003C/a\u003E shift out in the opposite order to what you\u0027re doing. If you\u0027re still getting unexpected results it might help to switch that around.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-28T11:49:01Z\u0022 title=\u002207/28/2015 11:49  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 28, 2015\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-07-28T15:39:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sputnix\u0022 data-cite=\u0022Sputnix\u0022\u003E\u003Cdiv\u003E*sigh* \u003Cp\u003EThe default worked \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003ESorry for the run around. Doesn\u0027t make a whole lot of sense; \u003C/p\u003E\u003Cp\u003EI\u0027ll review and revise my code and try work out what\u0027s happening.\u003C/p\u003E\u003Cp\u003EThanks for the confirmation. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWith the new code, do I just have to add the two new vessel data variables to the list?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes the only difference is 2 more bytes. Have you tried reducing the refresh rate further?\u003C/p\u003E\n"},{"CreatedByName":"kungfufishstick","CreatedById":144240,"CreatedDateTime":"2015-07-29T04:33:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EAll of your current problems are happening because your warnings variable is a byte, only 8 bits long, and you\u0027re trying to read and write more than that. It\u0027s a textbook example of a buffer overflow.\u003Cp\u003EThere are a couple of approaches you could take to fix this. One is to use three byte variables, one representing the contents of each shift register. You\u0027d then number the bits of each variable 0-7, and just shift each out in turn when you need to. This is the approach I\u0027d take, mostly because associating one shift register with one variable makes sense to me. But I would take it a little bit further by using a single array of byte, like\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ebyte warnings[3];\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(incidentally, the thought of having registers chained together using an array of bytes like this is one reason why I suggested not calling shiftOut in the warningSet function yesterday \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E )\u003C/p\u003E\u003Cp\u003EThere is another option that springs to mind, and your code is almost all of the way towards implementing it. You can use a larger data type for the warnings variable, and then shift out chunks of it at a time. For three shift registers you need 24 bits. There\u0027s no native 24 bit data type, but there are a few that are 32 bits. I would suggest using an unsigned long. I \u003Cem\u003Ethink\u003C/em\u003E just changing the type of warnings like this is enough to get your code working\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eunsigned long warnings;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s worth pointing out, though, that the \u003Ca href=\u0022https://www.arduino.cc/en/Reference/shiftOut\u0022 rel=\u0022external nofollow\u0022\u003EArduino shiftOut docs\u003C/a\u003E shift out in the opposite order to what you\u0027re doing. If you\u0027re still getting unexpected results it might help to switch that around.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m right back into not quite understanding what is going on. \u003C/p\u003E\u003Cp\u003EI gave unsigned long for warnings a shot (I keep trying to figure out array but it is just flying right over my head). I set up warningSet a couple of different ways.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ebyte warningSet(byte warnings, byte n, boolean s) {\u003Cbr\u003E  if (s) {\u003Cbr\u003E    digitalWrite(LATCHPIN, LOW);\u003Cbr\u003E    warnings |= (1 \u0026lt;\u0026lt; n); // forces nth bit to 1\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;8);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;16);\u003Cbr\u003E    digitalWrite(LATCHPIN, HIGH);\u003Cbr\u003E  } else {\u003Cbr\u003E    digitalWrite(LATCHPIN, LOW);\u003Cbr\u003E    warnings \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit to 0\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;8);\u003Cbr\u003E    shiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;16);\u003Cbr\u003E    digitalWrite(LATCHPIN, HIGH);\u003Cbr\u003E  }\u003Cbr\u003E  return warnings;\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI also tried switching the order of the shift out so that it went warnings, warnings\u0026gt;\u0026gt;8, warnings\u0026gt;\u0026gt;16 with no change. \u003C/p\u003E\u003Cp\u003EI did read over what you said, but I am not sure where the shiftout would go within void indicators. \u003C/p\u003E\u003Cp\u003EI am going to go ahead and hope that I don\u0027t have to put a shiftOut function within every if statement. \u003C/p\u003E\u003Cp\u003ESo how would it be able to interact with the warnings within the if statements if it is not within each if statement or within warningSet? \u003C/p\u003E\u003Cp\u003EWould the shiftOut go after all of my if, else statements? This is the only thing I can think of. Since void indicators() will run down each if else statement in turn, and then it can spit out the results when it reaches the shiftout section. \u003C/p\u003E\u003Cp\u003EI have my if statements set up in a pattern like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif (fuelcaution != 0 \u0026amp;\u0026amp; fuelwarning == 0)    \u003Cbr\u003E    warnings = warningSet(warnings, 0, true);\u003Cbr\u003E  else\u003Cbr\u003E    warnings = warningSet(warnings, 0, false);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  if (fuelwarning != 0)                     \u003Cbr\u003E    warnings = warningSet(warnings, 1, true);\u003Cbr\u003E  else\u003Cbr\u003E    warnings = warningSet(warnings, 1, false);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t think I can put the shiftOut before the if, else statements, and it doesn\u0027t make sense to me that it would go after all of them. Each if, else calls on warningSet and it does its thing......unless I just had a light bulb and the result of warningSet running its course for every if, else statement is being held for the duration of void indicators until a shiftOut is reached (before the void cycles through again).\u003C/p\u003E\u003Cp\u003EI will give an array a try. I want to make absolutely sure that I can\u0027t figure it out myself before I take the time to add a bunch of 2s and 3s to set it up so that I have warnings2 and warnings3 to go with new warningSet2 and warningSet3. \u003C/p\u003E\u003Cp\u003EI will do a bunch of trial and error for an array (most likely error unless I get very lucky stumbling through it).\u003C/p\u003E\u003Cp\u003EEDIT: Alright, I put \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EdigitalWrite(LATCHPIN, LOW);\u003Cbr\u003EshiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;16);\u003Cbr\u003EshiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings\u0026gt;\u0026gt;8);\u003Cbr\u003EshiftOut(DATAPIN, CLOCKPIN, MSBFIRST, warnings);\u003Cbr\u003EdigitalWrite(LATCHPIN, HIGH);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAt the end of void indicators(), initLEDS(), and LEDSAllOff(). The good news is that there is no more dim flickering across all the LEDs. The bad news is that only LED 7 for gear works properly.\u003C/p\u003E\u003Cp\u003EEDIT 2: One last update. I did everything I could think of and even tried to adapt things I found in google searches. Nothing got it to function properly when the registers were chained together.\u003C/p\u003E\u003Cp\u003EI threw my hands up in frustration and decided that was a terrible choice as well. I have the shift registers defined separately and and hooked up properly (I think). \u003C/p\u003E\u003Cp\u003ESomething is going wrong. Only the first register is functioning properly. The other two have arbitrary LEDs lighting up and they aren\u0027t changing to reflect a state change.\u003C/p\u003E\u003Cp\u003EAfter getting the shift registers hooked up on their own pins, this is all that I did:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eadded byte declarations for warnings2 = 0, warnings3 = 0;\u003Cbr\u003E\u003Cbr\u003Esplit the 23 LEDs into 3 groups of 8, 8, and 7 bits\u003Cbr\u003E\u003Cbr\u003Ewrote up 2 additional byte warningSet and named them warningSet2 and warningSet3\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E \u003C/p\u003E\u003Cp\u003EEverything is coded the same for warnings2 and warnings3 (same for warningSet2/warningSet3) but changed to work with the right group (warnings2, latchpin2, clockpin2, datapin2). My only guess to the issue is that I used a number in the name for the different declarations, since warnings and warningSet do not have a number in their name. \u003C/p\u003E\u003Cp\u003EI\u0027m tired after fighting with this code all night. It\u0027s bed time. Hopefully someone has an answer, and hopefully not something that I am going to smack myself when I get it for being too stupid to realize it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-29T08:58:49Z\u0022 title=\u002207/29/2015 08:58  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 29, 2015\u003C/time\u003E by kungfufishstick\u003C/strong\u003E\n\u003Cbr\u003EAdditional wording\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-07-30T07:41:44Z","Content":"\n\u003Cp\u003ESorry I wasn\u0027t quite clear before. In theory it would have worked if you changed all the types from byte to long. But that\u0027s probably by the by now.\u003C/p\u003E\u003Cp\u003EI\u0027m not sure what might be going wrong now. Putting numbers in the function and variable names is fine. If you\u0027d like, upload all of the code you\u0027ve written to pastebin or something and I can take a look at it.\u003C/p\u003E\n"},{"CreatedByName":"kungfufishstick","CreatedById":144240,"CreatedDateTime":"2015-07-31T03:31:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003ESorry I wasn\u0027t quite clear before. In theory it would have worked if you changed all the types from byte to long. But that\u0027s probably by the by now.\u003Cp\u003EI\u0027m not sure what might be going wrong now. Putting numbers in the function and variable names is fine. If you\u0027d like, upload all of the code you\u0027ve written to pastebin or something and I can take a look at it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIts alright. I tried my hardest to get it working. I will put the code up somewhere tomorrow after I swap out the jumpers for register 2 with ones that I didn\u0027t make myself to rule that possibility out. Ill also just send you a message, rather than plastering big posts all over zitronen\u0027s post for this plug-in. When this whole mess gets sorted out, I will just put up a link to how it was sorted out. I feel kind of bad about the wall of text from that last post.\u003C/p\u003E\n"},{"CreatedByName":"PyG_","CreatedById":149277,"CreatedDateTime":"2015-08-04T00:03:30Z","Content":"\n\u003Cp\u003EHI ! First think it\u0027s an amazing idea this mod thanks you !\u003C/p\u003E\u003Cp\u003EI\u0027ve test the with the KSPIODemo13 and KSPSerialIO_Mac_Linux_Win_0.17.4-1\u003C/p\u003E\u003Cp\u003EArduino Uno R3. The 3 LEDS works perfectly, input buttons too. RCS/SAS Leds works.\u003C/p\u003E\u003Cp\u003EMy problem it\u0027s when i plug my I2C 20x4 Screen. The 5 leds stop working, LCD get 1 initale data and second line: ovfl\u003C/p\u003E\u003Cp\u003EIt\u0027s supose to do (0,0) RAlt (0.1) Alt.\u003C/p\u003E\u003Cp\u003Eafter nothing work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf i unplug the screen leds restart. \u003C/p\u003E\u003Cp\u003EI2C is pluggued in A4/A5 VCC/GND \u003C/p\u003E\u003Cp\u003EPart of my code: \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E#include \u0026lt;Wire.h\u0026gt;\u003Cp\u003E#include \u0026lt;LiquidCrystal_I2C.h\u0026gt;\u003C/p\u003E\u003Cp\u003E#include \u0026lt;LCD.h\u0026gt;\u003C/p\u003E\u003Cp\u003E#include \u0026lt;SPI.h\u0026gt;\u003C/p\u003E\u003Cp\u003E#define I2C_ADDR 0x27\u003C/p\u003E\u003Cp\u003E#define BACKLIGHT_PIN 3\u003C/p\u003E\u003Cp\u003E#define En_pin 2\u003C/p\u003E\u003Cp\u003E#define Rw_pin 1\u003C/p\u003E\u003Cp\u003E#define Rs_pin 0\u003C/p\u003E\u003Cp\u003E#define D4_pin 4\u003C/p\u003E\u003Cp\u003E#define D5_pin 5\u003C/p\u003E\u003Cp\u003E#define D6_pin 6\u003C/p\u003E\u003Cp\u003E#define D7_pin 7\u003C/p\u003E\u003Cp\u003ELiquidCrystal_I2C lcd(I2C_ADDR, En_pin, Rw_pin, Rs_pin, D4_pin, D5_pin, D6_pin, D7_pin);\u003C/p\u003E\u003Cp\u003E// ... default code ... //\u003C/p\u003E\u003Cp\u003Evoid setup() {\u003C/p\u003E\u003Cp\u003E Serial.begin(115200);\u003C/p\u003E\u003Cp\u003E lcd.begin (20,4);\u003C/p\u003E\u003Cp\u003E lcd.setBacklightPin(BACKLIGHT_PIN,POSITIVE);\u003C/p\u003E\u003Cp\u003E lcd.setBacklight(HIGH);\u003C/p\u003E\u003Cp\u003E lcd.home ();\u003C/p\u003E\u003Cp\u003E initLEDS();\u003C/p\u003E\u003Cp\u003E InitTxPackets();\u003C/p\u003E\u003Cp\u003E controlsInit();\u003C/p\u003E\u003Cp\u003E LEDSAllOff();\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003Evoid loop()\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E input();\u003C/p\u003E\u003Cp\u003E output();\u003C/p\u003E\u003Cp\u003E lcd.setCursor(0,0);\u003C/p\u003E\u003Cp\u003E lcd.print(VData.RAlt, 2);\u003C/p\u003E\u003Cp\u003E lcd.setCursor(0,1);\u003C/p\u003E\u003Cp\u003E lcd.print(VData.Alt, 2);\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENothing else in code change and screen work without trouble in other projets o.O\u003C/p\u003E\u003Cp\u003EThanks for help =)\u003C/p\u003E\n"}]}