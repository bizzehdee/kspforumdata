{"TopicId":24349,"ForumId":35,"TopicTitle":"UJR - Universal Joystick Remapper. Fixes problems with sticks in KSP.","CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-04-27T14:30:05Z","PageNum":1,"Articles":[{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-04-27T14:30:05Z","Content":"\n\u003Cp\u003EI had problems getting KSP to work right with an xbox pad. It did not like the shoulder analogue axis and recognised the dpad as a hat (axis) not buttons.\u003C/p\u003E\u003Cp\u003EAn app I wrote called UJR solved all these problems, so I thought I would link it here in case it helps anyone else.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.autohotkey.com/board/topic/89279-ujr-universal-joystick-remapper-using-vjoy/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.autohotkey.com/board/topic/89279-ujr-universal-joystick-remapper-using-vjoy/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt is also better for deadzones and sensitivity as you can preview the input and output and tweak until it is just as you want it.\u003C/p\u003E\u003Cp\u003EIf KSP recognises the underlying physical stick, go into windowed mode, and use \u0022manual control\u0022 in UJR to bind the virtual stick in KSP without moving the physical stick.\u003C/p\u003E\u003Cp\u003EHowever, this can be used to your advantage - for example in ship mode, I use the dpad to control throttle, and the PHYSICAL hat is bound to throttle axis.\u003C/p\u003E\u003Cp\u003EIn character mode, I use the dpad to walk around, and this is bound to VIRTUAL stick where I remapped the physical dpad to virtual buttons.\u003C/p\u003E\u003Cp\u003ESo, in other words, by remapping your dpad/hat to virtual buttons, you can map the dpad to the physical stick to bind to an axis or virtual stick to bind to a button.\u003C/p\u003E\u003Cp\u003EWARNING: uses vjoy, which has unsigned drivers. Requires test mode in x64 OSes.\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2013-08-19T22:23:02Z","Content":"\n\u003Cp\u003EThank you for this - amazingly helpful.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-23T11:06:37Z","Content":"\n\u003Cp\u003EFYI, there has been a major new release of this app since I last posted.\u003C/p\u003E\u003Cp\u003EIt should now be significantly easier to map the virtual stick to ingame functions - no more tabbing out is required, it can all now be done from ingame.\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2013-11-25T04:24:29Z","Content":"\n\u003Cp\u003EevilC, I\u0027ve already downloaded 5.1 and the new QuickBind is indeed very helpful! Thank you!\u003C/p\u003E\u003Cp\u003EI\u0027m still struggling with merging two racing pedals into a single axis to use as a rudder. Setting it up works perfectly but a glitch develops in the rudder controls. As I\u0027m flying a twitch kicks the rudder full right occasionally. Extremely frustrating as it knocks the flight out of SAS control and can be devastating to your flight or landing. Have you or others experienced this? Any ideas? It doesn\u0027t happen if I map a non-merged axis\u003C/p\u003E\u003Cp\u003EDefinitely a great utility, thank you. I sent you a few pounds in thanks!\u003C/p\u003E\u003Cp\u003E-Talon\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2013-11-25T05:29:46Z","Content":"\n\u003Cp\u003Ethere are several utilities that do this. this one actually looks good. but my ch gear does this for me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"FenrirWolf","CreatedById":72121,"CreatedDateTime":"2013-11-25T06:59:01Z","Content":"\n\u003Cp\u003EThis looks like it could be handy. I might have to take it for a spin.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-25T11:09:25Z","Content":"\n\u003Cp\u003EFirst up, regarding donations, they are especially welcome at the moment because we have a \u003Ca href=\u0022http://vjoystick.sourceforge.net/site/index.php/forum/4-Help/438-shaul-signed-driver-fund\u0022 rel=\u0022external nofollow\u0022\u003Efundraiser going\u003C/a\u003E to pay for signing of the vJoy driver so that Test Mode is no longer required. Black Talon - I will redirect yours to that fund, thank-you.\u003C/p\u003E\u003Cp\u003ENow on to your issue.\u003C/p\u003E\u003Cp\u003EA couple of questions:\u003C/p\u003E\u003Cp\u003E1) When this kick happens, do you see anything in the game controllers window (Start -\u0026gt; joy.cpl, double click vjoy controller). If you cannot normally see it, could you try playing KSP in windowed mode with it (And ideally UJR) visible? What do those apps display during the \u0022kick\u0022?\u003C/p\u003E\u003Cp\u003E2) Are you 100% sure it is not your pedals? I have a cheap stick that does a similar thing, but it is due to dodgy potentiometers.\u003C/p\u003E\u003Cp\u003E3) It does sound like it may well be to do with the axis merging code. To be honest, I have never used it myself much in anger.\u003C/p\u003E\u003Cp\u003EAny info you could give me to help replicate could help. What kind of pedals are they? I have G27 pedals. If different, could you tell me which way they idle (At 0? 100?), do you need to use invert etc?\u003C/p\u003E\u003Cp\u003E4) Finally, I could probably knock up some test code to only handle the pedal merging, which would make debugging much easier.\u003C/p\u003E\u003Cp\u003EDo you know any coding? What UJR is doing is really rather simple - axis are read in as 0-100 values, and are output as 0-32767 values, so a simple in-\u0026gt; out would be multiplying by 327.67.\u003C/p\u003E\u003Cp\u003EIf you are at all comfortable with coding, I could maybe knock up some test code and between us we could hack away at it until it does the job properly.\u003C/p\u003E\u003Cp\u003EHope this helps.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-25T11:40:27Z\u0022 title=\u002211/25/2013 11:40  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 25, 2013\u003C/time\u003E by evilC\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-25T11:26:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nuke\u0022 data-cite=\u0022Nuke\u0022\u003E\u003Cdiv\u003Ethere are several utilities that do this. this one actually looks good. but my ch gear does this for me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere are benefits of using UJR in addition to or instead of the manufacturer\u0027s software.\u003C/p\u003E\u003Cp\u003E1) Your CH software will only let you do stuff with your CH stick. If you want to merge your CH stick with TM pedals into one stick, I doubt it would do that.\u003C/p\u003E\u003Cp\u003E2) Normal windows sticks generally need to be plugged in before a game is started, a virtual stick does not, as the virtual stick is always \u0022plugged in\u0022.\u003C/p\u003E\u003Cp\u003EThis means that if you decide to use a stick with a game, you can just plug it in, (tab out to UJR to config it if you need) and then play. Also, if you decide you do not like that stick for that game, but have another profile in UJR that maps a different physical stick to the same virtual stick, you can swap sticks \u003Cstrong\u003Ewithout having to remap stuff in the game\u003C/strong\u003E!\u003C/p\u003E\u003Cp\u003E3) Functions. Never seen manufacturer software that can merge axes for example. TM TARGET may be able to do it, but I would not be surprised if you needed all TM kit to do it.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-25T12:05:19Z","Content":"\n\u003Cp\u003EBoss called in sick today, so looks like not much for me to do.\u003C/p\u003E\u003Cp\u003EPlugged in my G27, having a play now.\u003C/p\u003E\u003Cp\u003EI think I have replicated the issue, but only very briefly.\u003C/p\u003E\u003Cp\u003EWhatever, looking at the way axis merging is working, I am not happy with it - it is too confusing.\u003C/p\u003E\u003Cp\u003ETo set up axis merging correctly, currently both pedals need to move the slider in the same direction.\u003C/p\u003E\u003Cp\u003EIf you want to invert the result, you need to invert both axes.\u003C/p\u003E\u003Cp\u003EI think it would be better if you set up the left pedal axis to move the slider left (from a resting position of full right), and the right pedal to move it\u0027s slider right.\u003C/p\u003E\u003Cp\u003EOnce you have that set up, set them both to the same virt axis and enable merge, and it should be the right way around.\u003C/p\u003E\u003Cp\u003EI think this will make the maths for merge mode simpler too - if the axes are set up like I mentioned, then you just need to average the two inputs to come up with the output.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-25T12:52:20Z","Content":"\n\u003Cp\u003EHeh, the change I was talking about was indeed way easier.\u003C/p\u003E\u003Cp\u003Emy old code:\u003C/p\u003E\u003Cp\u003Eval := ((val/2)\u002B50) \u002B ((merged_axes[%ax%]/2) * -1)\u003C/p\u003E\u003Cp\u003Enew code:\u003C/p\u003E\u003Cp\u003Eval := (val \u002B merged_axes[%ax%]) / 2\u003C/p\u003E\u003Cp\u003EThe result is a much more intuitive Merge mode\u003C/p\u003E\u003Cp\u003ENow I am not sure about your bug, but I think the smartest thing to do is for you to guinea pig the new code for me and see what it does for you.\u003C/p\u003E\u003Cp\u003EAs I have changed how merge works, if I roll out the code it will break other people\u0027s merge setups. Not a huge deal if the end result is worth it, but if it doesn\u0027t even fix your problem then I probably need to do more work before rolling out a new version.\u003C/p\u003E\u003Cp\u003EHere is a link to the beta test version:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://evilc.com/files/ahk/vjoy/ujr_beta.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://evilc.com/files/ahk/vjoy/ujr_beta.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESimply pop the ujr_beta.exe from that in the same folder as ujr.exe and run the ujr_beta.exe instead.\u003C/p\u003E\u003Cp\u003EYou will have different profiles too, just to be safe, but you can rename stuff as required.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-25T13:43:37Z","Content":"\n\u003Cp\u003EHeh, just as I uploaded that, I had one of those eureka moments.\u003C/p\u003E\u003Cp\u003EThe merge code was assigning the value of the first axis to the merged axis, then later on averaging with the 2nd axis and re-setting the merged axis.\u003C/p\u003E\u003Cp\u003EThis of course could cause a momentary \u0022kick\u0022 in one direction, which would only be aggravated by and momentary delays in the code.\u003C/p\u003E\u003Cp\u003EI have uploaded a new beta - 5.3, same link as in the previous post.\u003C/p\u003E\u003Cp\u003EI am 99% confident that this will solve your problem.\u003C/p\u003E\u003Cp\u003EFurthermore, I have been thinking about the overall structure of the axis processing code, and it could maybe do with a bit more work.\u003C/p\u003E\u003Cp\u003EI have made a \u003Ca href=\u0022http://www.autohotkey.com/board/topic/99258-advice-sought-on-coding-of-high-frequency-100x-sec-app/\u0022 rel=\u0022external nofollow\u0022\u003Epost on the AHK forums\u003C/a\u003E asking for advice as to the best way to go about structuring the code to maximize responsiveness whilst minimizing CPU usage, so we will see what becomes of that.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-25T13:47:49Z\u0022 title=\u002211/25/2013 01:47  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 25, 2013\u003C/time\u003E by evilC\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2013-11-25T15:46:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022evilC\u0022 data-cite=\u0022evilC\u0022\u003E\u003Cdiv\u003EThere are benefits of using UJR in addition to or instead of the manufacturer\u0027s software.\u003Cp\u003E1) Your CH software will only let you do stuff with your CH stick. If you want to merge your CH stick with TM pedals into one stick, I doubt it would do that.\u003C/p\u003E\u003Cp\u003E2) Normal windows sticks generally need to be plugged in before a game is started, a virtual stick does not, as the virtual stick is always \u0022plugged in\u0022.\u003C/p\u003E\u003Cp\u003EThis means that if you decide to use a stick with a game, you can just plug it in, (tab out to UJR to config it if you need) and then play. Also, if you decide you do not like that stick for that game, but have another profile in UJR that maps a different physical stick to the same virtual stick, you can swap sticks \u003Cstrong\u003Ewithout having to remap stuff in the game\u003C/strong\u003E!\u003C/p\u003E\u003Cp\u003E3) Functions. Never seen manufacturer software that can merge axes for example. TM TARGET may be able to do it, but I would not be surprised if you needed all TM kit to do it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethere are some advantages to not being locked into a stick manufacturer. for games though, the ch software is more than sufficient. it can merge axes, it can split axes, it can make fake axes with any number of buttons, its totally scriptable. its probibly the top stock software for any joystick product. only thing that might compete is what comes with a high end thrustmaster (as for saitek, their software is just a keymapper). \u003C/p\u003E\u003Cp\u003Ei do use virtual sticks other than the ch ones. for example i own a trackir and 9 times out of 10 the game i want to use it on doesn\u0027t support it, and i used to go through a virtual driver to make it work. i also do a lot of electronics projects where i need to get data from an arduino into the pc (such as logging imu data), and the joystick virtual interface is perfect for that. up till now i was using ppjoy. but its dated and loaded with bugs (and ive only been able to talk to it from a c application, which made it difficult to slap together an interface).\u003C/p\u003E\u003Cp\u003Enow the vJoy driver that this application is built on can be accessed through a dll. i pretty much just (this very night) wrote a lua interface (through alien) for the driver, so i can now slap together a script to act as a feeder application. talking to arduino can be easily accomplished through ethernet, or serial interfaces. i also accomplished joystick in and freetrack in through lua, so i can script my way to control perfection at this point. it is in my interest that vJoy gets signed though.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-25T15:57:56Z\u0022 title=\u002211/25/2013 03:57  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 25, 2013\u003C/time\u003E by Nuke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-25T17:09:18Z","Content":"\n\u003Cp\u003Eoh really? I didn\u0027t think the CH software was that advanced.\u003C/p\u003E\u003Cp\u003EPretty impressive.\u003C/p\u003E\u003Cp\u003EI own a TrackIR too, been doing anything interesting with it?\u003C/p\u003E\u003Cp\u003EDo any of your sticks have multiple hats? Would you maybe know how to circumvent AHK\u0027s limitation of only being able to read 1 hat?\u003C/p\u003E\u003Cp\u003EI think it is possible via DLL calls and such, but wouldn\u0027t know how to do it. I would probably try to tinker if I had a stick with more than 1 hat.\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2013-11-25T18:18:02Z","Content":"\n\u003Cp\u003Ei was able to transmit the data over a wireless transceiver to control a robot\u0027s camera turret. that was pretty awesome.\u003C/p\u003E\u003Cp\u003Eas for the hats, i have 8 of them. but they all respond as buttons except for the 2 8-way hats (one on each controller). but a device (or virtual controller) can only have one true hat, the rest are treated as buttons. you can map pretty much anything to anything. ultimately you are limited to 8 axes, 32 buttons and a hat, for any virtual controller (or real, but this is a direct input limitation). \u003C/p\u003E\u003Cp\u003Ecms scripting also lets you have 128 buttons and 64 axes. you usually source actual data from a physical control, transform it somehow, and then store it in one of the cms outputs, which can be bound to axes and buttons that the game can see (up to 16 virtual controllers and a virtual mouse). downside is you really have to be able to code to use it. its a custom scripting language and the help files give pretty useful examples. heres a simple axis combining script:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Escript\u003Cbr\u003ECMS.A1 = 128 \u002B (JS3.A2/2) - (JS3.A1/2);\u003Cbr\u003EendScript\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ebut there are lots of features that dont require programming skills. buttons can be mapped to keystrokes, axes can be mapped to a series of keystrokes (old flight sims that use 1-0 as throttle for example). buttons can cycle through lists of keys. you can have keystrokes controlling axes (up down and center commands). really i have barely scratched the surface of what you can do with it.\u003C/p\u003E\u003Cp\u003Eits quite overkill. the only drawback is you cant use the software for non ch stuff, which is quite sad.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-25T18:50:26Z\u0022 title=\u002211/25/2013 06:50  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 25, 2013\u003C/time\u003E by Nuke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-25T19:53:01Z","Content":"\n\u003Cp\u003EWindows does indeed support multiple hats natively.\u003C/p\u003E\u003Cp\u003EThe \u0022hats\u0022 box gets multiple arrows of different colours when you move them.\u003C/p\u003E\u003Cp\u003ELike so (Notice two arrows, one red, one blue):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.imaginaryindustries.com/blog/wp-content/uploads/2012/11/leoJoy-Arduino-1.01.png\u0022 alt=\u0022leoJoy-Arduino-1.01.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn fact, the \u003Ca href=\u0022http://www.imaginaryindustries.com/blog/?p=80\u0022 rel=\u0022external nofollow\u0022\u003Esite\u003C/a\u003E I found that screenshot on is talking about arduinos and stuff. May be of interest.\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2013-11-25T20:55:32Z","Content":"\n\u003Cp\u003Ei didnt know about the multiple hat support. i guess i was basing it on what was on wikipedia. \u003C/p\u003E\u003Cp\u003Ewith reference to the aduino thing, idk why they are using 8 bit axes, the atmega320/atmega32U4 mcu has 10 bit adcs (which i usually supersample to 16-bit with some fixed point magic). i dont have a leo (yet, i ordered one though) so i pretty much use a serial stream at 115200 baud, decode the packet and feed it to ppjoy with a c console application. i was getting decent 10-bit resolution at about 50 updates/sec (i could have gone faster but i ran into latency caused by buffers always being full). using a hardware usb interface would be orders of magnitude better though. in the mean time i expect better results with the lua-\u0026gt;vJoy interface though luacom (serial) or luasocket (tcp/ip) libraries, and i can make it shiny with the iup interface instead of a console.\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2013-11-26T01:42:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022evilC\u0022 data-cite=\u0022evilC\u0022\u003E\u003Cdiv\u003EHeh, just as I uploaded that, I had one of those eureka moments.\u003Cp\u003EThe merge code was assigning the value of the first axis to the merged axis, then later on averaging with the 2nd axis and re-setting the merged axis.\u003C/p\u003E\u003Cp\u003EThis of course could cause a momentary \u0022kick\u0022 in one direction, which would only be aggravated by and momentary delays in the code.\u003C/p\u003E\u003Cp\u003EI have uploaded a new beta - 5.3, same link as in the previous post.\u003C/p\u003E\u003Cp\u003EI am 99% confident that this will solve your problem.\u003C/p\u003E\u003Cp\u003EFurthermore, I have been thinking about the overall structure of the axis processing code, and it could maybe do with a bit more work.\u003C/p\u003E\u003Cp\u003EI have made a \u003Ca href=\u0022http://www.autohotkey.com/board/topic/99258-advice-sought-on-coding-of-high-frequency-100x-sec-app/\u0022 rel=\u0022external nofollow\u0022\u003Epost on the AHK forums\u003C/a\u003E asking for advice as to the best way to go about structuring the code to maximize responsiveness whilst minimizing CPU usage, so we will see what becomes of that.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was all geared up to do some serious debugging and data reporting BUT, far better, the 5.3 beta patch works awesome! I\u0027ll report more as I get using it (a little distracted at the moment) but, extremely grateful for the great utility and extremely responsive fix! Thank you!\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-26T14:03:27Z","Content":"\n\u003Cp\u003EThank you!\u003C/p\u003E\u003Cp\u003E5.3 has been rolled out via the update notification system.\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2013-11-27T03:24:18Z","Content":"\n\u003Cp\u003EEverything is still working wonderfully!\u003C/p\u003E\u003Cp\u003EI am however curious what others have found as their preferred solutions to the Changing Joystick ID issue? \u003C/p\u003E\u003Cp\u003ETo be clear I\u0027m talking about...\u003C/p\u003E\u003Cp\u003E1) KSP/Unity maps an axis by noting it\u0027s Joystick and Axis ID in the config. This would be fine except those Joystick IDs change depending on ... who knows ... but most likely order they were plugged in or initiated in a system boot.\u003C/p\u003E\u003Cp\u003E2) UJR basically does this same thing by keeping note of the Joystick and Axis ID. So when I reboot I have to reconfigure UJR and then KSP before I can play.\u003C/p\u003E\u003Cp\u003EI\u0027ve read a few ways to solve the various problems but thus far have stuck to *trying* to keep vJoy as ID 1 and getting KSP mappings tied to that. Then this makes it easy to just shift things around in UJR and I\u0027m off and running. But it\u0027s pretty frustrating when it gets out of whack.\u003C/p\u003E\u003Cp\u003EI\u0027m currently trying to get a setup working that has anywhere from 3 to 6 joysticks plugged in at any given time. It\u0027s semi-frequent that I\u0027ll unplug one which will throw off UJR.\u003C/p\u003E\u003Cp\u003EThanks for your ideas,\u003C/p\u003E\u003Cp\u003ETalon\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-27T13:27:45Z","Content":"\n\u003Cp\u003EI have experienced weirdness in the past with KSP - as you said, the game seems to decide the virtual joystick is a different ID and such. Also, for me when binding, it always calls stuff \u0022Virtual Joystick\u0022, even if I moved a stick unconnected with the virtual stick.\u003C/p\u003E\u003Cp\u003EAFAIK windows always uses a consistent ID for a given stick - when you have plug it in for the first time, it gets assigned an ID, so if you are saying that the stick IDs change in UJR dependent on what is plugged in, well that is a new one on me.\u003C/p\u003E\u003Cp\u003EGet the JoyIDs utility from \u003Ca href=\u0022http://www.wingmanteam.com/latest_software/gadgets.htm#JoyIDs_Utility:\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003ERun that - the ID listed for each stick should be the same as the ID UJR uses for that stick. I have never seen this change - I can have just one stick plugged in or all my sticks plugged in, and UJR will always use a consistent ID for a given stick.\u003C/p\u003E\u003Cp\u003EHave a play with JoyIDs, see if you can work out any patterns in the behavior, and maybe we can come up with something.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-27T13:29:49Z\u0022 title=\u002211/27/2013 01:29  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 27, 2013\u003C/time\u003E by evilC\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2013-11-27T13:38:36Z","Content":"\n\u003Cp\u003Ea lot of games seem to enumerate joysticks based on their index and use that when they are being bound, or when binds are saved or loaded from a file. i kinda think this is asinine, and just asking for trouble, especially considering that windows no longer lets you change the joystick id on a stick by stick basis (you used to be able to do this, idk why they took it out, you can now only set which stick is the first). what i do in my game engine is get the name string from the joystick, and bind it by name in addition to the index. so even if you plug your joysticks in a different order, you still can retrieve information on the correct joystick even if their indices are scrambled. if for some reason you have two of the same stick, then then index is used to determine which is which.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-27T14:05:08Z","Content":"\n\u003Cp\u003EThe app I linked will let you change IDs around, so no biggie losing it under windows.\u003C/p\u003E\u003Cp\u003EAlso, I think that it is the game engines that are causing the problem.\u003C/p\u003E\u003Cp\u003EMy guess as to what is happening is this:\u003C/p\u003E\u003Cp\u003EWindows is passing an object of available game controllers:\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Eid:1 {name: \u0022Some Joystick\u0022, {...}},\u003C/p\u003E\u003Cp\u003Eid:2 {name: \u0022\u0022, {(Disconnected controller, null object)}},\u003C/p\u003E\u003Cp\u003Eid:3 {name: \u0022Some Joystick\u0022, {...}}\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EThe engine parses this - game stick 1 becomes stick ID 1...\u003C/p\u003E\u003Cp\u003EStick ID 2 is disconnected, so the game skips it\u003C/p\u003E\u003Cp\u003EStick ID 3 is connected, so the game refers to it as stick 2\u003C/p\u003E\u003Cp\u003EThen when it writes the settings file, it saves ID 2, Axis 1\u003C/p\u003E\u003Cp\u003EBut when the settings file is read, it uses the ID of 2 as a *windows* stick ID, which it is not.\u003C/p\u003E\u003Cp\u003EAs I said, to my knowledge, windows does not change the ID of a stick, ever.\u003C/p\u003E\u003Cp\u003EIf you plug in your 5th stick, it will become stick 5, and even if you unplug all other sticks, windows will refer to it as stick ID 5.\u003C/p\u003E\u003Cp\u003ESo if a game does not behave in this way, it is a fault of the game (or the engine it uses).\u003C/p\u003E\u003Cp\u003ESome games manage it fine, so clearly it is possible.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-27T14:07:48Z\u0022 title=\u002211/27/2013 02:07  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 27, 2013\u003C/time\u003E by evilC\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2013-11-27T16:20:57Z","Content":"\n\u003Cp\u003Esdl has a lot of good joystick calls. for example its possible to retrieve a GUID for a joystick, which is guaranteed to be unique (its an ms thing so im sure direct input has a similar function). so that might be better than the name and number approach ive mentioned before. unfortunately as much as ive tried, i havent been able to get sdl to work in lua (that doesnt break luagl), and the approach im using requires using a 3rd party dll for another game engine, and hacking into it with alien, and it doesn\u0027t have a getGuid function. maybe i should work on my dilapidated c\u002B\u002B based game engine instead of the more developed lua version \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Soda Popinski","CreatedById":92416,"CreatedDateTime":"2013-11-28T22:30:52Z","Content":"\n\u003Cp\u003EI\u0027m not having much luck with this. The physical joystick keeps getting chosen. Any suggestions on editing the settings file? \u003C/p\u003E\u003Cp\u003EI tried to follow the directions on the Read Me file to handle the issue, but I\u0027m not clear on the instructions.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-28T22:45:01Z\u0022 title=\u002211/28/2013 10:45  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 28, 2013\u003C/time\u003E by Soda Popinski\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-11-29T13:27:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Soda Popinski\u0022 data-cite=\u0022Soda Popinski\u0022\u003E\u003Cdiv\u003EI\u0027m not having much luck with this. The physical joystick keeps getting chosen. Any suggestions on editing the settings file? \u003Cp\u003EI tried to follow the directions on the Read Me file to handle the issue, but I\u0027m not clear on the instructions.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you say \u0022the physical stick keeps getting chosen\u0022, do you mean you are trying to make game bindings and the physical stick appears in the bindings list?\u003C/p\u003E\u003Cp\u003EAre you using the QuickBind feature to avoid this problem?\u003C/p\u003E\n"}]}