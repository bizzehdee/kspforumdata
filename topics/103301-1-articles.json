{"TopicId":103301,"ForumId":69,"TopicTitle":"Ship was corrupted at test launch, cannot load ship anymore. Game bugs out.","CreatedByName":"bakanando","CreatedById":126310,"CreatedDateTime":"2015-04-03T06:15:53Z","PageNum":1,"Articles":[{"CreatedByName":"bakanando","CreatedById":126310,"CreatedDateTime":"2015-04-03T06:15:53Z","Content":"I was building a circular station for kerbin and when I tried to test launch it the file corrupted. The attached files are a backup I made a day before finishing the build and the second is the station as it was saved just before launching.\n\nBecause it is a station, I attached an orange tank below with 6 launch clamps to it so it wouldn\u0027t fall and be destroyed by the launch logic. When I pressed launch, the ship was nowhere to be found and I couldnt select any ships. IIRC I hit revert but then the ship was broken, but didn\u0027t have either the orange tank or the clamps. The \u0022Vessel Name\u0022 and kerbal flag where there with no way to change it, and the parts where as seen from the pics. \n\nI finally fixed the VAB by hitting twice the new ship button. I have no idea why it recovered, but the ship doesn\u0027t load properly even though everything else loads ok.\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/7fKi6)\n\nFile before crash and after.\n\n    dropbox.com/sh/0jkrojtdguxnpfx/AABsmTggYHZwcRW4r_BEmufXa?dl=0\n\nUpdate: I haven\u0027t played since posting this bug so I haven\u0027t tried anything new yet, but that means I still have the KSP.log from that time and I\u0027ll up it to the link above. Here\u0027s some relevant output though:\n\n    [EXC 13:02:09.606] NullReferenceException: Object reference not set to an instance of an object        ShipConstruct.LoadShip (.ConfigNode root)        ShipConstruction.LoadShip (System.String filePath)        EditorLogic.Start ()[WRN 13:02:11.474] [CompoundPart]: No target found with craftID 4294628988. Attempting to find it at direction [-0.8443883,0.5357298,-0.001358547].[WRN 13:02:11.477] [CompoundPart]: No target found with craftID 4294617010. Attempting to find it at direction [-0.8443883,0.5357298,-0.001358547].[WRN 13:02:11.479] [CompoundPart]: No target found with craftID 4294616946. Attempting to find it at direction [-0.8443883,0.5357298,-0.001358547].[WRN 13:02:11.481] [CompoundPart]: No target found with craftID 4294608848. Attempting to find it at direction [-0.8370461,0.5471233,-0.003139632].[WRN 13:02:11.484] [CompoundPart]: No target found with craftID 4294607778. Attempting to find it at direction [-0.8370461,0.5471233,-0.003139632].[WRN 13:02:11.486] [CompoundPart]: No target found with craftID 4294607714. Attempting to find it at direction [-0.8370461,0.5471233,-0.003139632].[WRN 13:02:11.584] [CompoundPart]: No target found with craftID 4294597734. Attempting to find it at direction [0.02983487,0.9992842,0.02325939].[WRN 13:02:11.586] [CompoundPart]: No target found with craftID 4294616584. Attempting to find it at direction [-0.8393791,0.5435466,0.0001848155].[WRN 13:02:11.663] [CompoundPart]: No target found with craftID 4294597112. Attempting to find it at direction [0.07135057,0.9973986,-0.01025165].[WRN 13:02:11.666] [CompoundPart]: No target found with craftID 4294615632. Attempting to find it at direction [-0.8436791,0.5368479,-1.929765E-05].[WRN 13:02:11.786] [CompoundPart]: No target found with craftID 4294597030. Attempting to find it at direction [0.02983487,0.9992842,0.02325939].[WRN 13:02:11.789] [CompoundPart]: No target found with craftID 4294596966. Attempting to find it at direction [-0.8393791,0.5435466,0.0001848155].[WRN 13:02:11.880] [CompoundPart]: No target found with craftID 4294596758. Attempting to find it at direction [0.07135057,0.9973986,-0.01025165].[WRN 13:02:11.882] [CompoundPart]: No target found with craftID 4294596694. Attempting to find it at direction [-0.8436791,0.5368479,-1.929765E-05].[WRN 13:02:11.987] [CompoundPart]: No target found with craftID 4294596058. Attempting to find it at direction [0.02983487,0.9992842,0.02325939].[WRN 13:02:11.989] [CompoundPart]: No target found with craftID 4294595994. Attempting to find it at direction [-0.8393791,0.5435466,0.0001848155].[WRN 13:02:12.079] [CompoundPart]: No target found with craftID 4294595786. Attempting to find it at direction [0.07135057,0.9973986,-0.01025165].[WRN 13:02:12.081] [CompoundPart]: No target found with craftID 4294595722. Attempting to find it at direction [-0.8436791,0.5368479,-1.929765E-05].\n\n**Edited \u003Ctime datetime=\u00222015-04-06T16:35:54Z\u0022 title=\u002204/06/2015 04:35  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 6, 2015\u003C/time\u003E by bakanando**"},{"CreatedByName":"GiantTank","CreatedById":113180,"CreatedDateTime":"2015-04-05T18:09:26Z","Content":"Idk, happened to me when I was modded. This seems to be a common issue, I have seen it pop up twice on my computer alone. Both times I had to reinstall. However, go to KSP folder-\u003ESaves-\u003ESaveName-\u003EShips-\u003EVAB and see if a craft file is unusually small, like 1kb. If it is, delete it because it is most likely a corrupt craft file. If it doesnt work, or there isnt a craft file like that, you may have to reinstall. Wait a bit first."},{"CreatedByName":"InterCity","CreatedById":98462,"CreatedDateTime":"2015-04-05T19:33:48Z","Content":"Craft file went corrupted. It\u0027s gone forever, no way to recover it. \n\nIf everything else works fine, just get over it. If it doesn\u0027t, reinstall."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-04-05T19:42:07Z","Content":"There are a couple things that can corrupt a .craft file.\n\n- The game crashes when it is trying to save: The file will be truncated and will not contain all the needed info.\n\n- The game experienced a bug before saving, and that interfered with the save process: Again, the file will probably be short.\n\nWith these two cases, it generally leaves KSP unable to open the \u0022Load\u0022 dialog. The remedy for this is to delete the corrupt .craft which, as GiantTank pointed out, is generally small.\n\nHowever, if you are able to actually load the .craft but it\u0027s somehow broken, or only that .craft doesn\u0027t want to load, then it\u0027s possible the file was corrupt another way. Sometimes this happens if you use some excessive clipping techniques, especially if the ALT\u002BF12 menu or UNDO is involved. You can sometimes tell if this is the case, because the .craft file will have an excessive part count (which you can see in the Load dialog). This can cause weird ghost parts or things to disappear.\n\nLooking inside your craft files at the fuel tank, it looks like the fuel tank was somehow connected incorrectly by the game. The links are broken and misreferencing parts. I have a suspicion that perhaps UNDO was used, or that the game failed to connect correctly while symmetry was on. Unfortunately, this means that your corrupt file is probably too much of a mess to manually fix. Or at least, it\u0027s probably not worth the time to fix it. I would say that the corrupt .craft was probably also responsible for the crashing/buggy behavior that you saw when launching.\n\nYour .bak version looks okay, although I didn\u0027t inspect it too deeply. Hopefully that narrows down where your problem might have come from, so that you can avoid it in the future.\n\nCheers,\n\n~Claw"},{"CreatedByName":"bakanando","CreatedById":126310,"CreatedDateTime":"2015-04-06T02:05:03Z","Content":"I\u0027ll just copy the backup version and go from there then. At least I remember how to complete it now, as I already made it once.\n\nI used diff to see between both versions and the first quarter or so doesn\u0027t change that much, but after that whole part sections are different so I gave up tracking the problem. The difference in parts is way too much. It\u0027s good to know it\u0027s actually effed up and not just arbitrarily broken because of a missing part reference or bracket. \n\nThe parts count is consistent to the amount it should have before load, and cost is too. You can actually load it, but it borks your game until you select new craft \\_twice\\_. File size is 180kb, about 40k bigger than the backup (which has less parts).\n\nAt least I learned something, the craft files are very, very long.\n\n**Edited \u003Ctime datetime=\u00222015-04-06T02:15:03Z\u0022 title=\u002204/06/2015 02:15  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 6, 2015\u003C/time\u003E by bakanando**\n  \nremoved the hate"}]}