{"TopicId":191633,"ForumId":29,"TopicTitle":"How to detect change in orbit?","CreatedByName":"Xyphos","CreatedById":139010,"CreatedDateTime":"2020-02-14T12:17:08Z","PageNum":1,"Articles":[{"CreatedByName":"Xyphos","CreatedById":139010,"CreatedDateTime":"2020-02-14T12:17:08Z","Content":"\n\u003Cp\u003E\nI\u0027m working on a partmodule and I want it to detect when the vessel\u0027s orbit changes\n\u003C/p\u003E\n\u003Cp\u003E\neg, \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E/\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E modified, inclination changed, and \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E changed\n\u003C/p\u003E\n\u003Cp\u003E\nnot sure how to implement such a thing\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-02-14T18:48:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223740900\u0022 data-ipsquote-contentid=\u0022191633\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221581682628\u0022 data-ipsquote-userid=\u0022139010\u0022 data-ipsquote-username=\u0022Xyphos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Xyphos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m working on a partmodule and I want it to detect when the vessel\u0027s orbit changes\n\u003C/p\u003E\n\u003Cp\u003E\neg, \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E/\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E modified, inclination changed, and \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E changed\n\u003C/p\u003E\n\u003Cp\u003E\nnot sure how to implement such a thing\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you are looking for an event-driven architecture... start with the GameEvents class and see what it offers.\u00A0 Might well be an easy event you can subscribe to, that will call an event-handler/callback whenever the orbit changes.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are looking for a polling-driven architecture -- simply cache the current values into your partmodule, and examine the values from the vessel every frame/update.\u00A0 When they no longer match, you know the orbit has changed.\u00A0 There are 6 or 7 parameters you\u0027ll need to cache, as every one is used to determine the unique orbit:\u00A0\u003Ca href=\u0022https://en.wikipedia.org/wiki/Orbital_elements\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Orbital_elements\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(might be named slightly different in KSP)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-02-14T18:48:18Z\u0022 title=\u002202/14/2020 06:48  PM\u0022 data-short=\u00224 yr\u0022\u003EFebruary 14, 2020\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Morse","CreatedById":154930,"CreatedDateTime":"2020-04-08T21:58:14Z","Content":"\n\u003Cp\u003E\nThat\u0027s gonna be hard, since while the vessel is off-rails it basically constantly changes its orbit. The \u0022orbit\u0022 itself is just a prediction, which is strictly followed only when the vessel is on-rails. As soon as physics kicks in - all bets are off where exactly the vessel will fly.\n\u003C/p\u003E\n"}]}