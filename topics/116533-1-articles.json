{"TopicId":116533,"ForumId":20,"TopicTitle":"DOE Flare fix?","CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-07-21T23:48:28Z","PageNum":1,"Articles":[{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-07-21T23:48:28Z","Content":"\n\u003Cp\u003EIm surprised to not see more people getting bugged over this. Surely most of us use the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98943\u0022 rel=\u0022external nofollow\u0022\u003EDistant Object Enhancement\u003C/a\u003E mod, yes? Its my favourite mod by far out of all of them. But as Squad would have it the best feature of the mod is mysteriously broken. The vessel flares. They dont appear or when they do there thousands of kilometers off and they seem to accelerate and decelerate ive noticed. The planet flares however work fine. Why post this here?\u003C/p\u003E\u003Cp\u003EBecause I would like to further the interest of those more adept then me into looking into what can be done to fix it. Honestly, lol. And to hope one day Squad makes this very simple, very immersible mod stock. Being able to see your debris, or other vessels zip by in orbit and even go into Kerbin\u0027s shadow just completes the space experience for me. I go out every night I can to watch satellites just after sunset and DOE is spot on. \u003C/p\u003E\u003Cp\u003ESo what can be done if anything? MOARdv has said to me and others that essentially everything looks as if it should work. Something Squad changed possibly in 1.0 has made an effect. What could it be? Ive tried on a fresh install with no mods and the bug persists. The new aero systems, the new heating systems.. what else? I dont think those major features would have an effect on such a thing, but im probably wrong. Any.. ideas?\u003C/p\u003E\n"},{"CreatedByName":"Kaa253","CreatedById":68628,"CreatedDateTime":"2015-07-22T13:11:55Z","Content":"\n\u003Cp\u003EMotokid600 thanks for starting this thread. I \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Eam\u003C/span\u003E seriously bugged over this!\u003C/p\u003E\u003Cp\u003EAll I can add is what i posted in the DOE thread on July 1 ... \u0022\u003Cspan style=\u0022color:#333333;\u0022\u003EI don\u0027t know if it is a clue that helps at all but it seems to me that the vessel name tags and therefore also the mouse ray vector, when you seek and find a vessel (at any range), are indeed pointing to the correct position where the vessel flare should be being drawn. Also, when the camera recedes from a close range vessel showing a flare in the wrong position that when the camera reaches a point sufficiently distant the flare converges on the correct position.\u0022\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003ESo to my install (Linux/OpenGL) it appears that the flare position calculation is from a camera position somehow offset (maybe ~100 km) from the true vessel / camera position. Planet positions may be appearing correct because the parallax baseline between the true camera position and the erroneous camera position is usually going to be fairly short compared to the planet\u0027s distance. \u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-22T13:14:19Z\u0022 title=\u002207/22/2015 01:14  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 22, 2015\u003C/time\u003E by Kaa253\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-07-22T20:49:06Z","Content":"\n\u003Cp\u003EI\u0027m on Linux opengl as well. I\u0027m wondering if that has something to do with it. I may try a fresh ksp install on my other PC with Win32 and see if the bug persists in the same manner. \u003C/p\u003E\u003Cp\u003EAnd then.. what about graphics settings? Particularly driver settings to force AA in opengl. Doubt it..\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2015-07-22T22:39:56Z","Content":"\n\u003Cp\u003EI can assure you it\u0027s not Linux. I\u0027m on Win32 using the default DX9 mode in Unity, and vessel flares are in the wrong place. As Kaa253 said, it looks like the flare position is off due to a positional offset. I am mostly (not completely) sure none of the changes I made would have affected that, but it\u0027s possible that I\u0027ve stared at the code too long and I simply don\u0027t see something big and obvious. My lack of familiarity with the nuances of Unity and KSP\u0027s use of Unity don\u0027t help matters in this respect (I\u0027m a software engineer and shader guy, not a Unity coder).\u003C/p\u003E\n"},{"CreatedByName":"Kaa253","CreatedById":68628,"CreatedDateTime":"2015-07-23T12:21:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003E I\u0027m a software engineer and shader guy, not a Unity coder.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m a physicist so FORTRAN, MATLAB and Python some but Unity looks to me like it is written in Chatterer\u0027s Kerbal. I actually tried looking over the source last week. Still, if I can find time I will look at it again. Maybe I will spot something.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-23T12:26:16Z\u0022 title=\u002207/23/2015 12:26  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 23, 2015\u003C/time\u003E by Kaa253\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2015-07-23T12:27:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kaa253\u0022 data-cite=\u0022Kaa253\u0022\u003E\u003Cdiv\u003EI\u0027m a physicist so FORTRAN, MATLAB and Python some but Unity looks like it is written in Chatterer\u0027s Kerbal. I actually tried looking over the source last week. Still, if I can find time I will look at it again. Maybe I will spot something.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe good news is that I had a work test running late that I had to wait up for, and I was able to spend time looking over the code again. I think I finally spotted the position problem (the code was starting to look like Chatterer\u0027s Kerbal to me, too). Now I need to go back over the code that decides how large and how bright the flares are, so I can make them easier to see.\u003C/p\u003E\n"}]}