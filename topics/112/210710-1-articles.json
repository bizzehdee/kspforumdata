{"TopicId":210710,"ForumId":112,"TopicTitle":"Improve orbital motion when periapsis is in the atmosphere","CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2022-11-20T22:23:29Z","PageNum":1,"Articles":[{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2022-11-20T22:23:29Z","Content":"\n\u003Cp\u003E\nThere is an interesting moment in the game. I watched the spent rocket stages and noticed that although their periapsis is about 30 km, but they do not burn up in the atmosphere, unless you switch to them, or fly close to them. I would add a function so that the game recalculates the orbit for such cases. The game looks at the intersection of the orbit with the atmosphere and decides exactly how to recalculate\n\u003C/p\u003E\n\u003Cp\u003E\nIf you do not observe the device with a periapsis \u0026lt;30~50 km, then for some time the game simply removes it on the first turn. If you suddenly want to look at it, then the game, knowing the parameters of the orbit, approximates the movement in the most rough way and builds the trajectory of re-entry into the atmosphere, without simulating anything in real time. At least you all saw that mechjeb perfectly builds trajectories of re-entry into the atmosphere. The spacecraft in the global map will move along the trajectory until it intersects with the surface\n\u003C/p\u003E\n\u003Cp\u003E\nFor the case when the periapsis is not too low, you can do another. The game calculates a new orbit after passing the atmosphere and the time of exit from the section of the orbit passing in the atmosphere. And when that time has passed, the game simply changes the old orbit to a new one, and the spacecraft finds itself in a new orbit at the exit point from the atmosphere. The case when you observe the passage of the spacecraft in the atmosphere can also be adjusted by approximation, rather than calculating the resistance force in real time\n\u003C/p\u003E\n"},{"CreatedByName":"GoldForest","CreatedById":77770,"CreatedDateTime":"2022-11-21T05:28:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224200897\u0022 data-ipsquote-contentid=\u0022210710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221668983009\u0022 data-ipsquote-userid=\u0022223549\u0022 data-ipsquote-username=\u0022Vortygont\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Vortygont said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere is an interesting moment in the game. I watched the spent rocket stages and noticed that although their periapsis is about 30 km, but they do not burn up in the atmosphere, unless you switch to them, or fly close to them. I would add a function so that the game recalculates the orbit for such cases. The game looks at the intersection of the orbit with the atmosphere and decides exactly how to recalculate\n\u003C/p\u003E\n\u003Cp\u003E\nIf you do not observe the device with a periapsis \u0026lt;30~50 km, then for some time the game simply removes it on the first turn. If you suddenly want to look at it, then the game, knowing the parameters of the orbit, approximates the movement in the most rough way and builds the trajectory of re-entry into the atmosphere, without simulating anything in real time. At least you all saw that mechjeb perfectly builds trajectories of re-entry into the atmosphere. The spacecraft in the global map will move along the trajectory until it intersects with the surface\n\u003C/p\u003E\n\u003Cp\u003E\nFor the case when the periapsis is not too low, you can do another. The game calculates a new orbit after passing the atmosphere and the time of exit from the section of the orbit passing in the atmosphere. And when that time has passed, the game simply changes the old orbit to a new one, and the spacecraft finds itself in a new orbit at the exit point from the atmosphere. The case when you observe the passage of the spacecraft in the atmosphere can also be adjusted by approximation, rather than calculating the resistance force in real time\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe reason objects don\u0027t burn up or change orbit is that they are out of physics range. In order for something\u0027s orbit to change, it has to have physics calculated on it, and that means making it appear in game instead of making it invisible and just tracking its location. Turning on physics for something that is 100km to 1000km away from you is okay if you don\u0027t have a lot of craft or debris in orbit, but it becomes very problematic when you\u0027ve got a whole constellation and a few space stations.\n\u003C/p\u003E\n\u003Cp\u003E\nYour idea for an approximation calculation is a good idea in theory, but I see it not being a good idea for things like aerobraking landers/probes that you aren\u0027t watching. Sometimes unloaded craft doing a perpetual endless atmospheric orbit is a good thing.\n\u003C/p\u003E\n"},{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2022-11-21T09:27:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224200979\u0022 data-ipsquote-contentid=\u0022210710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221669008487\u0022 data-ipsquote-userid=\u002277770\u0022 data-ipsquote-username=\u0022GoldForest\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, GoldForest said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe reason objects don\u0027t burn up or change orbit is that they are out of physics range. In order for something\u0027s orbit to change, it has to have physics calculated on it, and that means making it appear in game instead of making it invisible and just tracking its location. Turning on physics for something that is 100km to 1000km away from you is okay if you don\u0027t have a lot of craft or debris in orbit, but it becomes very problematic when you\u0027ve got a whole constellation and a few space stations.\n\u003C/p\u003E\n\u003Cp\u003E\nYour idea for an approximation calculation is a good idea in theory, but I see it not being a good idea for things like aerobraking landers/probes that you aren\u0027t watching. Sometimes unloaded craft doing a perpetual endless atmospheric orbit is a good thing.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI understand that this function cannot be used for automatic re-entry of the capsule for example. It is clear that even if we spend extra resources on this for calculations in real time, the capsule will not release the parachutes by itself, we will have to control it in any case. \u00A0That is, it will be impossible to land in tracking mode\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding space junk, I\u0027m left with a bunch of stages on takeoff or return to Kerbin, whose periapsis is about 30km. Automatically destroying the stages would be good for reducing the amount of debris and thus flying objects\n\u003C/p\u003E\n\u003Cp\u003E\nI was also wondering why not reduce the time objects disappear into the atmosphere, some of them burn up\n\u003C/p\u003E\n"},{"CreatedByName":"GoldForest","CreatedById":77770,"CreatedDateTime":"2022-11-21T09:43:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224201003\u0022 data-ipsquote-contentid=\u0022210710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221669022860\u0022 data-ipsquote-userid=\u0022223549\u0022 data-ipsquote-username=\u0022Vortygont\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Vortygont said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI understand that this function cannot be used for automatic re-entry of the capsule for example. It is clear that even if we spend extra resources on this for calculations in real time, the capsule will not release the parachutes by itself, we will have to control it in any case. \u00A0That is, it will be impossible to land in tracking mode\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding space junk, I\u0027m left with a bunch of stages on takeoff or return to Kerbin, whose periapsis is about 30km. Automatically destroying the stages would be good for reducing the amount of debris and thus flying objects\n\u003C/p\u003E\n\u003Cp\u003E\nI was also wondering why not reduce the time objects disappear into the atmosphere, some of them burn up\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, but again, it would be a bane for those that leave their craft in a 100km x 30km orbit. The system would detect the craft and go, \u0022Oh, I need to deorbit this\u0022 and then we end up with dead Kerbals and a failed mission.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe best way to deal with debris is to just go to the tracking station and delete it yourself. Some alternatives that are also great are: Putting a probe core and some \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E on every stage so you can deorbit them or making sure your stages stay below 0km \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E/Pg.\n\u003C/p\u003E\n\u003Cp\u003E\nHmmm. I think a better system to your suggestion would be a coded module that you can enable or disable for each part in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E. Something like: \u0022Destroy if below 70KM? [Yes]/[No]\u0022 And so it\u0027s not tedious to go through 100 parts to enable this function, if only one part has the module active, it enables it for all connected modules upon staging.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2022-11-21T10:05:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224201007\u0022 data-ipsquote-contentid=\u0022210710\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221669023832\u0022 data-ipsquote-userid=\u002277770\u0022 data-ipsquote-username=\u0022GoldForest\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, GoldForest said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, but again, it would be a bane for those that leave their craft in a 100km x 30km orbit. The system would detect the craft and go, \u0022Oh, I need to deorbit this\u0022 and then we end up with dead Kerbals and a failed mission.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe best way to deal with debris is to just go to the tracking station and delete it yourself. Some alternatives that are also great are: Putting a probe core and some \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E on every stage so you can deorbit them or making sure your stages stay below 0km \u003Cabbr title=\u0022Periapsis\u0022\u003E\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\u003C/abbr\u003E/Pg.\n\u003C/p\u003E\n\u003Cp\u003E\nHmmm. I think a better system to your suggestion would be a coded module that you can enable or disable for each part in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E. Something like: \u0022Destroy if below 70KM? [Yes]/[No]\u0022 And so it\u0027s not tedious to go through 100 parts to enable this function, if only one part has the module active, it enables it for all connected modules upon staging.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you leave the ship in that orbit and don\u0027t keep track of it, the mission will probably fail anyway. No, I wrote above that the vehicle is removed after a certain amount of time, not immediately. It would be terrible if you switched to another vehicle for a second and the computer would just erase the first vehicle. And of course if the edge of the atmosphere is touched, the orbit evolves instead of removing the spacecraft\n\u003C/p\u003E\n\u003Cp\u003E\nI just thought it would be possible to come up with a system that doesn\u0027t allow impossible orbits that break the logic of the game. And about the above, you could use a timer and a warning that after time X the spacecraft with the kerbals will enter the atmosphere. In my opinion in the KSP1 it stops the acceleration of time and displays a warning. Such a timer would be automatically created for ships with kerbals in dangerous orbits in KSP2. You can disable this feature in the settings if you think you can keep track of it yourself\n\u003C/p\u003E\n"}]}