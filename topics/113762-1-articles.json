{"TopicId":113762,"ForumId":36,"TopicTitle":"[1.0.4] Orbital Decay V0.0.1 (Full Release Version Coming This Week! 05/08/2015)","CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-06-22T22:35:10Z","PageNum":1,"Articles":[{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-06-22T22:35:10Z","Content":"**KSP Orbital Decay**\n\n**Introduction**\n\nHello everyone, Whitecat106 here creator of the [Historic Missions Contract Pack](https://forum.kerbalspaceprogram.com/threads/123453-1-0-2-Contract-Pack-Historic-Missions-V1-2-3-21-06-2015) and I wish to share with you an early version of my new project. I have been working on this for the better part of a month after I finally had a break through in the code - as a result of months of tinkering! Some mods in the past have come so close to this but none actually produced a viable working version... well until now... \n\n**What does it do?** \n\n\\* On rails and off rails orbital decay for any vessel around any celestial body (except Kerbol.. - working on it), this decay is determined by the altitude above the body, the mass of the body and the density of the body atmosphere (if present).\n\n\\* On rails and off rails Station Keeping for any vessel that has a Station Keeping module (currently included in all parts with a command module - Will be changed later). This Station-Keeping is suitable for integration with Remote Tech since it fixes vessels at a certain altitude and prevents floating point drifts over time. \n\n\\* Estimated impact times are given for each vessel. \n\n\\* All of the above work during time-warp! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI can already hear everyone screaming \u0022No this isn\u0027t possible!\u0022, well...this video shows some of the features currently present and some orbital decay in action: \n\n\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/CoeHIbgr-wo?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\n**Planned features:** \n\n\\* Resource handling for On-rails and Off-rails vessels with a Station Keeping module active. - Possibly using Background Processing. \n\n\\* A more realistic decay curve; this version uses a square function of decay mapping rather than an exponential differential function. The current model is equivalent to approximately 2x real life (~4km/month) but this is changeable in the UI. \n\n\\* More accurate decay estimates; this version has a low accuracy due to the previous point, especially due to the differences in how decay is handled On and Off rails (active and non active vessels). \n\n\\* Drag around Kerbol - Only removed due to the extremely small decay values occurring (1\\*10^-60 which even breaks the float container).\n\n\\* Better warnings for decaying vessels \u0026 a better UI altogether (If anyone can help with UI\u0027s drop me a PM ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)).\n\n\\* Possibly a separate mod for Station Keeping more devoted to orbital precision than integration with decay (more useful for Remote Tech users). \n\nYou can check out some of my earlier ideas on my Ksp blog. \n\n**Known Issues:** \n\n\\* The UI button does not display correctly (probably a dds/png issue) again any advice would be really appreciated. \n\n\\* The UI is ugly, especially in the Tracking station scene... \n\n\\* Decay estimates are off, they do not currently factor in the inverse square relationship of altitude to decay therefore they are only point to point estimates, (which are especially broken during high timewarp). \n\n\\* Stationkeeping uses no fuel (see above). \n\n\\* Hitting vessels into planets at super high timewarp and super high speeds (literally 50km/s deltaV) can cause issues (to prevent intense calculations this mod currently only updates decay values per second so if a vessel is traveling fast enough the code sometimes cannot keep up).\n\n**Download:** \n\n**Dropbox: |** [**Release**](https://www.dropbox.com/s/5hg37z3gbqb3rsq/OrbitalDecayRelease.zip?dl=0) **|** [**Source**](https://www.dropbox.com/s/89e4dxlcmxx5seg/OrbitalDecaySource.zip?dl=0) **** **|**\n\n**This mod requires a recent version of Module Manager.** \n\n(I will be moving to KerbalStuff for version 0.1.0)\n\n**Help Wanted:** \n\n**I am, by far, not a programmer and the code as it stands (although working) is very messy...** \n\n**The next big hurdle is resource consumption with background and foreground(active) vessels, one that I am struggling with. I am in the process of integrating Background Processing but if anyone with plugin modding experience could lend a hand It would be greatly appreciated. Especially if you know how to make a nice looking UI and have knowledge coding with mods that involve resource consuption for off rails vessels (Such as TAC, Background processing or Karbonite).** \n\n**If you fit the criteria and wouldn\u0027t mind having a look through the source code and/or giving me some suggestions/modifications to help with the aforementioned features please comment below or send me a PM! Thanks guys!** ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) **** \n\n**License:** \n\nThis code is licensed under the Attribution-NonCommercial-ShareAlike 3.0 (CC BY-NC-SA 3.0) creative commons license. However I will be making this less restrictive as time goes on and this mod develops into a version fit for the main release thread. \n\nEnjoy! Whitecat106 ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n**Edited \u003Ctime datetime=\u00222015-08-04T23:48:29Z\u0022 title=\u002208/04/2015 11:48  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 4, 2015\u003C/time\u003E by Whitecat106**\n  \nUpdate"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2015-06-22T22:55:44Z","Content":"Now that an extra-cool mod!"},{"CreatedByName":"RainDreamer","CreatedById":129077,"CreatedDateTime":"2015-06-22T23:22:15Z","Content":"Ok, now you just need to add a station-keeping feature that cost fuel and this will become a dream mod for a lot of people."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-22T23:49:39Z","Content":"Very cool!"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-06-23T04:44:26Z","Content":"What. SO GREAT!"},{"CreatedByName":"G\u0026#039;th","CreatedById":98595,"CreatedDateTime":"2015-06-23T05:12:15Z","Content":"Oh sweet mother that is glorious."},{"CreatedByName":"Pds314","CreatedById":70014,"CreatedDateTime":"2015-06-23T05:13:42Z","Content":"IMHO, if someone can make something like this that can integrate drag areas into the calculation and estimate atmosphere densities at arbitrary distances from an object, it should be in R.O. I\u0027ve always disliked the fact that I can just keep a pod floating at 150 kilometers for years with no station-keeping whatsoever. (keep in mind that the drag area need only be a good guess, as the Reynold\u0027s number will be tiny)."},{"CreatedByName":"Subcidal","CreatedById":20751,"CreatedDateTime":"2015-06-23T05:43:27Z","Content":"Space station resupply missions inc.\n\nAs soon as fuel works with this it will be glorious. Bravo OP."},{"CreatedByName":"RickKermen","CreatedById":140020,"CreatedDateTime":"2015-06-23T12:32:02Z","Content":"Another awesome mod to realism fans! ty!"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-06-23T13:09:27Z","Content":"Thanks for all the comments guys, development is going well, I am currently working on resource management using Background Processing. If all goes well I will release version 0.1.0 with resource handling (monoprop for the moment) for Station Keeping vessels, and a fixed image for the toolbar button (why did Ksp 1.0 break .png\u0027s with the new .dds so badly? ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)). After this I plan on making the UI all nice and pretty and changing the decay formula to a more realistic one (to be precise this one [here](http://www.ips.gov.au/Category/Educational/Space%20Weather/Space%20Weather%20Effects/SatelliteOrbitalDecayCalculations.pdf)). \n\nEnjoy everyone! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nOh by the way, as for RO/RSS compatibility I have purposely altered the \u0027decay multiplier\u0027 slider in the settings to allow for the decay rates to be reduced. (Reducing this from 1 - Default to 0.1 will make the decay rates more realistic for that RSS feel). \n\nWith the new decay formulas I will release an RSS and a Stock version separately."},{"CreatedByName":"TheRag","CreatedById":144674,"CreatedDateTime":"2015-06-23T13:20:33Z","Content":"Welp that happened. I hope this mod will have long life. Very game changing."},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-06-23T15:31:45Z","Content":"Wow can not wait for this!"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-06-24T13:44:37Z","Content":"Thanks guys I hope for a new update soon! However this update is being delayed by my own coding incompetence so please see the first post if anyone thinks they may be able to help out! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"waerth","CreatedById":57167,"CreatedDateTime":"2015-06-24T22:37:42Z","Content":"Amazing. You will also have resource consumption (like power) being calculated constantly even when vessel is not in use by the player? That would be great! \n\nWalter"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-06-24T23:10:22Z","Content":"\u003E \n\u003E Amazing. You will also have resource consumption (like power) being calculated constantly even when vessel is not in use by the player? That would be great! \n\u003E Walter\n\nThanks! Yes I am working on this now, the next update will include a MonoPropellant drain at a rate proportional to the decay rate for all vessels in the background or active, this has been done before with many Life Support mods so this should not be too tricky to implement ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Temeter","CreatedById":58056,"CreatedDateTime":"2015-06-24T23:31:08Z","Content":"I\u0027m scared. But also curious."},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2015-06-25T00:33:55Z","Content":"Will the future resource consumption be able to be toggled either in game or via config file setting?"},{"CreatedByName":"HoloYolo","CreatedById":138353,"CreatedDateTime":"2015-06-25T01:09:21Z","Content":"If you do solar flares you should make it so that the radiation can kill/injure the kerbals, and then make radiation resistant parts."},{"CreatedByName":"Astrofox","CreatedById":135785,"CreatedDateTime":"2015-06-25T01:43:13Z","Content":"How about very inaccurate N-body physics that don\u0027t do much calculating?\n\nAlso, I remember the Orbital Manipulator mod that HoneyFox made a while back, but it hasn\u0027t been updated in such a long time!\n\nAlso, how about an option on the in-flight/space center menu that disables it so that you can turn it off at free will?\n\nThis sounds like an absolutely awesome mod."},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2015-06-25T07:03:41Z","Content":"You sir, has won the KSP forum!\n\nThe use of this mod makes it practical to do resupply missions and making shure debris will fall down (eventually)."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-06-25T14:06:48Z","Content":"Thanks everyone! I am slowly working through things but I am pretty stumped at the moment ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) If anyone could offer their coding help with this whole resource consumption thing it would be greatly appreciated! Infact if anyone can help I will make sure that they get a mention in a contract in my contract pack! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nBut I seem to be going in circles at the moment, really trying to make this resource handling work but I cant even get past making active vessels consume resources no matter the background ones, I understand that there is a way of doing this with ProtoPartModule snapshots but this is beyond my programming at the moment ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif) So yes.. Help wanted.. Needed.. Begged for! \n\nI plan on making both the resource consumption and the decay its self be toggle-able within the UI. As for N-Body physics I do want to eventually dab into this but at the moment I will finish this mod.. With some help hopefully..\n\nIn the meantime untill I either find a burst of inspiration or someone willing to help out with this resource handling I am playing around with Solar Flares and their effect on vessels (Faulty modules, drained resources, kerbal damage, part damage (extreme cases)). As for Lagrange points, if you see my video on the first thread and look closely at the orbit of Kerbin, you may see three points (L3, L4 and L5) in a nice 60,180,300 resonant position around Kerbin (but this is far from perfect or releasable yet).\n\nSo back to the matter at hand, **anyone interested in helping out?** If so send me a PM and we can sort something out! In the meantime I may release an intermediate version with a fix for the ugly UI buttons. Enjoy! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nEdit: Notice the plea for help theme? ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"PDCWolf","CreatedById":58026,"CreatedDateTime":"2015-06-25T16:31:13Z","Content":"Very good mod, I\u0027m giving you some rep and 5 stars, we do need more mods like these.\n\nI suck at coding more than anyone, but one of the resource mods (OKS was it?) has this kind of resource consumption for active/proto vessels. Specifically there was a small logistic module that simulated a supply run from A to B automatically (it pretty much teleported) and used the resources in it to do so, I\u0027d look there."},{"CreatedByName":"RainDreamer","CreatedById":129077,"CreatedDateTime":"2015-06-25T18:02:17Z","Content":"There is this [background processing](https://kerbalstuff.com/mod/302/BackgroundProcessing) mod which should help you dealing with resource consumption in the background.\n\nAlso, please don\u0027t take this the wrong way, since I really like what you have done, but I think you should limit the scope of your mod if it is overwhelming you. Orbital decay and station keeping seems good enough. Simulating Solar flares and N body seems like daunting tasks to take on. Not stopping you though, and good luck!"},{"CreatedByName":"MarkusA380","CreatedById":45759,"CreatedDateTime":"2015-06-25T18:11:58Z","Content":"I could help a little. Send me a PM if you want. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2015-06-28T00:57:55Z","Content":"Watching this with interest. Couldn\u0027t tell from post #21 if you were adding everything to one mod or not - if so I would echo what RainDreamer said."}]}