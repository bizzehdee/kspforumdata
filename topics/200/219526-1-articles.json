{"TopicId":219526,"ForumId":200,"TopicTitle":"Transferring fuel between tanks leads to duping/voiding","CreatedByName":"Ooferine","CreatedById":229714,"CreatedDateTime":"2023-09-17T05:58:46Z","PageNum":1,"Articles":[{"CreatedByName":"Ooferine","CreatedById":229714,"CreatedDateTime":"2023-09-17T05:58:46Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EReported Version:\u003C/strong\u003E\u00A0v0.1.4 (latest) |\u00A0\u003Cstrong\u003EMods:\u00A0\u003C/strong\u003Enone | \u003Cstrong\u003ECan replicate without mods?\u003C/strong\u003E Yes\u00A0\u003Cbr\u003E\n\u003Cstrong\u003EOS:\u003C/strong\u003E\u00A0Windows 10 | \u003Cstrong\u003ECPU:\u003C/strong\u003E\u00A0Intel(R) Core(TM) i7-8700 CPU @ 3.20GHz | \u003Cstrong\u003EGPU:\u003C/strong\u003E\u00A0NVIDIA GeForce RTX 2070 | \u003Cstrong\u003ERAM\u003Cspan\u003E:\u00A0\u003C/span\u003E\u003C/strong\u003E16.0 GB\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:16px;\u0022\u003E\u003Cstrong\u003ESeverity:\u003C/strong\u003E\u003C/span\u003E\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\u00A0\u003C/span\u003Emed (can lead to unexpectedly running out of fuel/practically infinite fuel)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:16px;\u0022\u003EFrequency:\u00A0\u003C/strong\u003Elow (fairly hard to replicate in controlled environments, but once triggered the effects are obvious)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003EDescription:\u003C/span\u003E\u00A0\u00A0\u003C/strong\u003ETransferring fuel between different fuel tanks on the same craft using the resource manager may result in more/less fuel than you start with, even when no engines are active.\n\u003C/p\u003E\n\u003Cp\u003E\nScreenshots from a controlled test:\u003Cbr\u003E\n\u003Cimg alt=\u0022Desktop_Screenshot_2023.09.17_-_12.52.50\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002258.25\u0022 height=\u0022674\u0022 width=\u00221200\u0022 src=\u0022https://media.discordapp.net/attachments/817952685193429051/1152837836618342490/Desktop_Screenshot_2023.09.17_-_12.52.50.89.png?width=1245\u0026amp;height=700\u0022\u003E\u003Cbr\u003E\nA craft with only X200 tanks, two -32s, one -16 and one -8. Only one of the -32s are full. Engines are only used to drain fuel.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Desktop_Screenshot_2023.09.17_-_13.22.53\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002258.25\u0022 height=\u0022674\u0022 width=\u00221200\u0022 src=\u0022https://media.discordapp.net/attachments/817952685193429051/1152837897096011776/Desktop_Screenshot_2023.09.17_-_13.22.53.57.png?width=1245\u0026amp;height=700\u0022\u003E\u003Cbr\u003E\nAfter a series of random fuel transfers between the tanks, it ended up with more methane and less oxygen than before, all without activating the engines.\n\u003C/p\u003E\n\u003Cp\u003E\nConsistent order of actions that trigger this bug haven\u0027t been found yet, but here are some suspected triggers:\u003Cbr\u003E\n1. Having more than 2 fuel tanks of different sizes present in the transfer tab.\u003Cbr\u003E\n2. Not setting \u003Cstrong\u003Ein\u003C/strong\u003E/\u003Cstrong\u003Eout\u003C/strong\u003E for every one of the fuel tanks, or when the automatic setting doesn\u0027t kick in.\u003Cbr\u003E\n3. Setting \u003Cstrong\u003Ein\u00A0\u003C/strong\u003Efor full tanks and\u00A0\u003Cstrong\u003Eout\u003C/strong\u003E\u00A0for empty tanks.\u003Cbr\u003E\n4. Just using the \u003Cstrong\u003E=\u003C/strong\u003E\u00A0button in general\n\u003C/p\u003E\n\u003Cp\u003E\nTypical symptoms during the occurrence of the bug:\u00A0\u003Cbr\u003E\n1. Tank filling while no other tanks are draining.\u003Cbr\u003E\n2. Tanks that haven\u0027t been set an operation participating in the transfer.\u003Cbr\u003E\n3. Reversed fuel flow, from\u00A0\u003Cstrong\u003Ein\u003C/strong\u003E\u00A0tanks to\u00A0\u003Cstrong\u003Eout\u00A0\u003C/strong\u003Etanks.\u003Cbr\u003E\n4. Fuel level change rate in one tank is bigger than every other, happens often when transferring between different sized tanks.\u003Cbr\u003E\n5. Oxygen tanks draining to fill methane tanks and vice versa.\u00A0\u003Cbr\u003E\n6. Transfer stopping when fuel level equalizes rather than after target tanks are full or source tanks are empty. Basically acting like the\u00A0\u003Cstrong\u003E=\u003C/strong\u003E\u00A0button instead of\u00A0\u003Cstrong\u003Ein\u003C/strong\u003E/\u003Cstrong\u003Eout\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-09-20T19:56:21Z\u0022 title=\u002209/20/2023 07:56  PM\u0022 data-short=\u0022Sep 20\u0022\u003ESeptember 20, 2023\u003C/time\u003E by Anth12\u003C/strong\u003E\n\u003C/span\u003E\n"}]}