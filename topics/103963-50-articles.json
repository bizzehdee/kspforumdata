{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":50,"Articles":[{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-07-25T13:00:44Z","Content":"\n\u003Cp\u003E:drool: That looks simply amazing.\u003C/p\u003E\n"},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-07-25T13:11:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blackrack\u0022 data-cite=\u0022blackrack\u0022\u003E\u003Cdiv\u003EMagic hour on Duna:\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/S0kSC\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/S0kSC\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELots of horizon artifacts to fix.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/9J5qTDl.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/9J5qTDl.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ecompare with a real image:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.jpl.nasa.gov/images/msl/20150508b/pia19400-16.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.jpl.nasa.gov/images/msl/20150508b/pia19400-16.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ERim blend and rim power do control the \u0022edge glow\u0022 effect, they are actually a component of the stock atmosphere shader but I kept it because it looked good with scatterer. If they don\u0027t seem to do anything maybe you have the stock shader completely disabled in RSS.\u003C/p\u003E\u003Cp\u003EUnfortunately the horizon line issue starts arising when you change the atmosphere height too much, I just ran into the same issue with my Duna config and will start looking for a fix soon.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E Wow. I want to test that!\n"},{"CreatedByName":"Yukon0009","CreatedById":109376,"CreatedDateTime":"2015-07-25T14:11:10Z","Content":"\n\u003Cp\u003ENo, that\u0027s an EVE bug with the city lights.\u003C/p\u003E\n"},{"CreatedByName":"makkz","CreatedById":148060,"CreatedDateTime":"2015-07-25T14:17:00Z","Content":"\n\u003Cp\u003EI just realized after trying those again, sorry. Is there a fix?\u003C/p\u003E\u003Cp\u003ESorry about deleting the post, I thought it didn\u0027t have a reply.\u003C/p\u003E\n"},{"CreatedByName":"Yukon0009","CreatedById":109376,"CreatedDateTime":"2015-07-25T14:19:02Z","Content":"\n\u003Cp\u003EReload KSP and hope it goes away, or delete the CityLights folder in BoulderCo.\u003C/p\u003E\n"},{"CreatedByName":"MoeKitsune","CreatedById":127670,"CreatedDateTime":"2015-07-25T16:17:08Z","Content":"\n\u003Cp\u003EI want this. I want magic Duna sunset/sunrise.\u003C/p\u003E\n"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2015-07-26T00:48:58Z","Content":"\n\u003Cp\u003EIt bodes well! It will be awesome!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 alt=\u0022:0.0:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Prasiatko","CreatedById":148247,"CreatedDateTime":"2015-07-26T02:47:21Z","Content":"\n\u003Cp\u003EAny idea what could be causing concentric black circles to be appearing on the water when this is installed? Is not EVE as tried uninstalling that to no effect. I have a Radeon 7950 if it being an ati card makes any difference.\u003C/p\u003E\u003Cp\u003ERunning in Dx11 too.\u003C/p\u003E\u003Cp\u003EEDIT: Nevermind Dx11 was cause, works fine in DX9\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-26T02:52:47Z\u0022 title=\u002207/26/2015 02:52  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 26, 2015\u003C/time\u003E by Prasiatko\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-07-26T03:44:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blackrack\u0022 data-cite=\u0022blackrack\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ERim blend and rim power do control the \u0022edge glow\u0022 effect, they are actually a component of the stock atmosphere shader but I kept it because it looked good with scatterer. If they don\u0027t seem to do anything maybe you have the stock shader completely disabled in RSS.\u003C/p\u003E\u003Cp\u003EUnfortunately the horizon line issue starts arising when you change the atmosphere height too much, I just ran into the same issue with my Duna config and will start looking for a fix soon.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks like an issue with the depth buffer. Is depth data for the terrain being written at all do you know?\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-26T06:10:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003ELooks like an issue with the depth buffer. Is depth data for the terrain being written at all do you know?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure what you mean here but the sky shader does not depend on the depth buffer.\u003C/p\u003E\n"},{"CreatedByName":"JaredTheDragon","CreatedById":137445,"CreatedDateTime":"2015-07-26T07:58:37Z","Content":"\n\u003Cp\u003EAre these the moire patterns? Is there any way to fix this in DX11? GTX660 here, if that makes a difference. The atmosphere otherwise looks just splendid.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/DwTan\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-07-26T08:33:09Z","Content":"\n\u003Cp\u003EI have the same patterns on dx11 and Nvidia 740m. \u003C/p\u003E\u003Cp\u003EBy the way, they aren\u0027t visible when in Space center view.\u003C/p\u003E\n"},{"CreatedByName":"Grach","CreatedById":107422,"CreatedDateTime":"2015-07-26T08:44:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JaredTheDragon\u0022 data-cite=\u0022JaredTheDragon\u0022\u003E\u003Cdiv\u003EAre these the moire patterns? Is there any way to fix this in DX11? GTX660 here, if that makes a difference. The atmosphere otherwise looks just splendid.\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/DwTan\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/DwTan\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sashan\u0022 data-cite=\u0022sashan\u0022\u003E\u003Cdiv\u003EI have the same patterns on dx11 and Nvidia 740m. \u003Cp\u003EBy the way, they aren\u0027t visible when in Space center view.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s already been said that DX11(and OpenGL) causes issues with the mod. However the mod is stable with DX9 so you can use that.\u003C/p\u003E\u003Cp\u003EEDIT: blackrack, I really think you should make a list of known issues on the first page to prevent the same questions being posted.\u003C/p\u003E\n"},{"CreatedByName":"Fl0oo","CreatedById":112121,"CreatedDateTime":"2015-07-26T11:16:08Z","Content":"\n\u003Cp\u003EI need EVE for this? Tnx\u003C/p\u003E\n"},{"CreatedByName":"Prasiatko","CreatedById":148247,"CreatedDateTime":"2015-07-26T14:21:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Grach\u0022 data-cite=\u0022Grach\u0022\u003E\u003Cdiv\u003EIt\u0027s already been said that DX11(and OpenGL) causes issues with the mod. However the mod is stable with DX9 so you can use that.\u003Cp\u003EEDIT: blackrack, I really think you should make a list of known issues on the first page to prevent the same questions being posted.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree i initially dismissed DX11 as cause as there was a configurator for it on the first post.\u003C/p\u003E\n"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2015-07-26T14:56:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fl0oo\u0022 data-cite=\u0022Fl0oo\u0022\u003E\u003Cdiv\u003EI need EVE for this? Tnx\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s not a requirement, just works well with it. I myself use 7-4 but overhaul works well too.\u003C/p\u003E\n"},{"CreatedByName":"FireFaced","CreatedById":141290,"CreatedDateTime":"2015-07-26T16:01:57Z","Content":"\n\u003Cp\u003EDoes anybody know how to make this work with KScale2 or have a config for it?\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-26T16:44:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FireFaced\u0022 data-cite=\u0022FireFaced\u0022\u003E\u003Cdiv\u003EDoes anybody know how to make this work with KScale2 or have a config for it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI saw screens of someone using it with Kscale2 earlier today so I\u0027m assuming it works. it looks quite good too, the new scale goes much better with the scattering effects\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/mTV6x0o.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/mTV6x0o.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/QID25IR.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/QID25IR.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHaven\u0027t tried it myself though. What seems to be the problem?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-26T16:50:47Z\u0022 title=\u002207/26/2015 04:50  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 26, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JaredTheDragon","CreatedById":137445,"CreatedDateTime":"2015-07-26T18:57:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Grach\u0022 data-cite=\u0022Grach\u0022\u003E\u003Cdiv\u003EIt\u0027s already been said that DX11(and OpenGL) causes issues with the mod. However the mod is stable with DX9 so you can use that.\u003Cp\u003EEDIT: blackrack, I really think you should make a list of known issues on the first page to prevent the same questions being posted.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know it\u0027s an issue, and even posted screens of it. My question was how to overcome the issue. DX9 and OGL aren\u0027t an option anymore for my playing style (with tons of mods, in 1.04) and so if nobody\u0027s fixed the moire patterns, I\u0027ll have to wait until someone does. Given the nature of moire patterns, it doesn\u0027t seem impossible to fix, since we fix this all the time in other programs. Could we not exclude the water from Scatterer as a start, somehow?\u003C/p\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-07-26T19:19:27Z","Content":"\n\u003Cp\u003EScatterer with excluded water looks weird an ugly. I\u0027ve captured the moment when Z-fighting was invisible, here it is.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/8oHJRQw.png\u0022 alt=\u00228oHJRQw.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EWould be nice to have a fix tho, I\u0027ve revertet to dx9 so far at a cost of a deleted mod. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-26T19:46:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JaredTheDragon\u0022 data-cite=\u0022JaredTheDragon\u0022\u003E\u003Cdiv\u003EI know it\u0027s an issue, and even posted screens of it. My question was how to overcome the issue. DX9 and OGL aren\u0027t an option anymore for my playing style (with tons of mods, in 1.04) and so if nobody\u0027s fixed the moire patterns, I\u0027ll have to wait until someone does. Given the nature of moire patterns, it doesn\u0027t seem impossible to fix, since we fix this all the time in other programs. Could we not exclude the water from Scatterer as a start, somehow?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI never gave the moire patterns much thougbt since they only appear in dx11 and I\u0027m eventually going to replace the water anyway. I haven\u0027t looked into it but I\u0027m assuming the shader replacement I do to get the water writing to the depth buffer messes something up and I haven\u0027t updated since many KSP versions back. What do you mean exactly by excluding the water from scatterer? Not applying postprocessing to it?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sashan\u0022 data-cite=\u0022sashan\u0022\u003E\u003Cdiv\u003EScatterer with excluded water looks weird an ugly. I\u0027ve captured the moment when Z-fighting was invisible, here it is.\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/8oHJRQw.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/8oHJRQw.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWould be nice to have a fix tho, I\u0027ve revertet to dx9 so far at a cost of a deleted mod. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have literally no idea what is going on in your screenshot, what did you do and why would you want to do that?\u003C/p\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-07-26T20:03:26Z","Content":"\n\u003Cp\u003EI hadn\u0027t done anything, it\u0027s just the problem with Z-fighting or whatever it is on water with dx11 with a screen taken at a right time. Just posted it to illustrate \u0022exclude the water from Scatterer\u0022 idea from the post above.\u003C/p\u003E\n"},{"CreatedByName":"JaredTheDragon","CreatedById":137445,"CreatedDateTime":"2015-07-26T20:12:57Z","Content":"\n\u003Cp\u003EGenerally, moire patterns emerge from a lack of filtering or the wrong level of filtering. I\u0027m talking about in Maya or Blender for example, not sure how that relates to Scatterer or your work here. My guess is that the bump (no displacement in KSP water?) map is freaking out when Scatterer is running in DX11, coughing up absolutes or something as it\u0027s filtered through? I don\u0027t know much about how this works in Unity/KSP, but it\u0027s a one-click fix in Maya for example. I know that is not helpful at all for KSP, but might get you started on a path to a fix, which hopefully wouldn\u0027t be impossible. Either way, great mod - everything else looks just amazing, and there\u0027s no going back. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-07-26T20:13:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sashan\u0022 data-cite=\u0022sashan\u0022\u003E\u003Cdiv\u003EI hadn\u0027t done anything, it\u0027s just the problem with Z-fighting or whatever it is on water with dx11 with a screen taken at a right time. Just posted it to illustrate \u0022exclude the water from Scatterer\u0022 idea from the post above.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUh okay, weird that should be z-fighting since it\u0027s just postprocessing. I\u0027ll look into it.\u003C/p\u003E\n"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-07-27T00:14:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blackrack\u0022 data-cite=\u0022blackrack\u0022\u003E\u003Cdiv\u003EMagic hour on Duna:\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/S0kSC\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/S0kSC\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELots of horizon artifacts to fix.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/9J5qTDl.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/9J5qTDl.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ecompare with a real image:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.jpl.nasa.gov/images/msl/20150508b/pia19400-16.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.jpl.nasa.gov/images/msl/20150508b/pia19400-16.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ERim blend and rim power do control the \u0022edge glow\u0022 effect, they are actually a component of the stock atmosphere shader but I kept it because it looked good with scatterer. If they don\u0027t seem to do anything maybe you have the stock shader completely disabled in RSS.\u003C/p\u003E\u003Cp\u003EUnfortunately the horizon line issue starts arising when you change the atmosphere height too much, I just ran into the same issue with my Duna config and will start looking for a fix soon.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh right, yeah that makes sense, I had the stock atmosphere turned off as it was replaced by the Eve atmo shader. Oh and regarding the atmosphere height I was referring to its entire vertical scale essentially not so much to the altitude of its start point. Maybe it\u0027s something that could be edited in the configuration editor? Or is it hard limited to being proportionate to a planets radius?\u003C/p\u003E\n"}]}