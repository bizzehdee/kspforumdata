{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":16,"Articles":[{"CreatedByName":"TinyPirate","CreatedById":77813,"CreatedDateTime":"2015-04-29T11:46:21Z","Content":"\n\u003Cp\u003EHey! Blackrack! I featured Scatterer in my 2 Minute Mods series. Hope you like the video, and please feel free to share around, use, and so on.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/Pi1ZswcCITU?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2015-04-29T17:37:07Z","Content":"\n\u003Cp\u003ESince this mod is constantly worked on and yet still has to get a version that is stable and or fully working how you implement one of those amazing update check tool into it ... like e.g. CKAN?\u003C/p\u003E\u003Cp\u003EOther than this ... keep up the amazing work .. and thank you for making this mod.\u003C/p\u003E\n"},{"CreatedByName":"Conzolax","CreatedById":62397,"CreatedDateTime":"2015-04-29T17:55:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pac0master\u0022 data-cite=\u0022Pac0master\u0022\u003E\u003Cdiv\u003EI Tried it in 1.0 It works but it has some artefacts. It seems that the atmosphere cut straight to black ( space ) around 30K or a bit higher. The loading is a Pink Square thing. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHavent seen the pink loading thingy myself, but the sky turning black? /check\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i59.tinypic.com/230exf.png\u0022 alt=\u0022230exf.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EMine already starts going black at around 6000m for some reason \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003EBesides that, it looks absolutely gorgeous. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-29T17:58:16Z","Content":"\n\u003Cp\u003ESo apparently, the atmosphere looking too thick from orbit is a bug that found it\u0027s way in (among many other bugs) when I ported the shaders to dx9.\u003C/p\u003E\u003Cp\u003EWe all just dismissed it as the atmosphere being too dense because we thought it made sense.\u003C/p\u003E\u003Cp\u003EThis is how the shader is supposed to look from orbit:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/vNm4ECO.jpg\u0022 alt=\u0022vNm4ECO.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis is how it looks right now:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/KflP0DZ.jpg\u0022 alt=\u0022KflP0DZ.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI haven\u0027t found the cause of it yet but when this is done the view from orbit should be way way better.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TinyPirate\u0022 data-cite=\u0022TinyPirate\u0022\u003E\u003Cdiv\u003EHey! Blackrack! I featured Scatterer in my 2 Minute Mods series. Hope you like the video, and please feel free to share around, use, and so on.\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/Pi1ZswcCITU?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat video, keep it up.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Why485\u0022 data-cite=\u0022Why485\u0022\u003E\u003Cdiv\u003ESome screenshots from tonight. I mostly avoided taking screenshots of areas with high mountains because aside from those it looks fantastic at all altitudes I was playing at tonight. I\u0027m running PlanetShine and a SweetFX config to brighten up the game a bit from its normally strange dark lighting.\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/Yea5d\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/Yea5d\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis is one of my favorite mods in development right now. I can\u0027t give OP enough praise for how much better this makes the game look.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll make a higher atmsphere for the next version, hopefully when/after I fix this bug.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003ESince this mod is constantly worked on and yet still has to get a version that is stable and or fully working how you implement one of those amazing update check tool into it ... like e.g. CKAN?\u003Cp\u003EOther than this ... keep up the amazing work .. and thank you for making this mod.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll look into one of these for the next version.\u003C/p\u003E\n"},{"CreatedByName":"Errol","CreatedById":118622,"CreatedDateTime":"2015-04-29T18:11:55Z","Content":"\n\u003Cp\u003EI would put my vote on AVC if that is on the table.\u003C/p\u003E\n"},{"CreatedByName":"SmallFatFetus","CreatedById":137860,"CreatedDateTime":"2015-04-29T18:23:15Z","Content":"\n\u003Cp\u003EPLEASE post pictures of everything you do. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 alt=\u0022:kiss:\u0022\u003E I check this thread frequently and it\u0027s great to see screenshots of every step of development. \u003C/p\u003E\u003Cp\u003ESmallFatFetus\u003C/p\u003E\n"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-04-29T18:30:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cobbman11\u0022 data-cite=\u0022cobbman11\u0022\u003E\u003Cdiv\u003EFollowing closely. Keep up the amazing work, blackrack! Finally, KSP is starting to resemble the KSP of my daydreams.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESpeaking of this I had a dream a few days ago before 1.0 dropped where I walked up next to the cockpit of a plane. It ended up being the Mk2 inline. As I walked closed I realized that I could see inside the cockpit and then I woke up with the idea that KSP 1.0 had transparent windows that you could see in to from outside... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-04-29T18:42:02Z","Content":"\n\u003Cp\u003Egotta say this is the #1 thread I look forward to checking in on everytime I stop by these days. Keep up the good work and post plenty of pics\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-29T20:54:38Z","Content":"\n\u003Cp\u003ESo, the water almost works.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/0AyPUBJ.jpg\u0022 alt=\u00220AyPUBJ.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut the problem is, it moves up slightly whenever the camera moves up\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/17RFsFx.jpg\u0022 alt=\u002217RFsFx.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt doesn\u0027t follow the camera closely, just nudges slightly up with it but it\u0027s still enough to flood everything and create a jarring effect.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/7t6VJjw.jpg\u0022 alt=\u00227t6VJjw.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m pretty bad at math, so I think the problem lies in this part with all the transformation matrices \u003Ca href=\u0022https://github.com/blackrack/Scatterer/blob/master/scatterer/Ocean/OceanNode.cs#L262\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blackrack/Scatterer/blob/master/scatterer/Ocean/OceanNode.cs#L262\u003C/a\u003E (lines 262-383)\u003C/p\u003E\u003Cp\u003EIf anyone could review the code I\u0027d be grateful, I\u0027ve been stuck on this for a bit. If you want to try compiling/debugging yourself just compile and drop the .dll inside this build, \u003Ca href=\u0022http://wikisend.com/download/915958/scatterer.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wikisend.com/download/915958/scatterer.zip\u003C/a\u003E it has all the ocean shaders and the stuff necessary to run.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-29T21:01:02Z\u0022 title=\u002204/29/2015 09:01  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 29, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-04-29T21:09:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blackrack\u0022 data-cite=\u0022blackrack\u0022\u003E\u003Cdiv\u003ESo, the water almost works.\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/0AyPUBJ.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/0AyPUBJ.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBut the problem is, it moves up slightly whenever the camera moves up\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/17RFsFx.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/17RFsFx.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt doesn\u0027t follow the camera closely, just nudges slightly up with it but it\u0027s still enough to flood everything and create a jarring effect.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/7t6VJjw.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/7t6VJjw.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m pretty bad at math, so I think the problem lies in this part with all the transformation matrices \u003Ca href=\u0022https://github.com/blackrack/Scatterer/blob/master/scatterer/Ocean/OceanNode.cs#L262\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blackrack/Scatterer/blob/master/scatterer/Ocean/OceanNode.cs#L262\u003C/a\u003E (lines 262-383)\u003C/p\u003E\u003Cp\u003EIf anyone could review the code I\u0027d be grateful, I\u0027ve been stuck on this for a bit. If you want to try compiling/debugging yourself just compile and drop the .dll inside this build, \u003Ca href=\u0022http://wikisend.com/download/915958/scatterer.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wikisend.com/download/915958/scatterer.zip\u003C/a\u003E it has all the ocean shaders and the stuff necessary to run.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethis doesn\u0027t seem right: Looks like you need a cameraToLocal or WorldToOcean instead.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E                        // compute ctoo = cameraToOcean transform\u003Cbr\u003E\t\t\t// also should be correct\u003Cbr\u003E\t\t\tMatrix4x4d cameraToOcean = localToOcean * cameraToWorld;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EOh... Once you get everything working, reference shader params by their ID, not their name. Otherwise it has to do string lookups, and can add a good bit of processing time.\u003C/p\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2015-04-29T22:16:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Egotta say this is the #1 thread I look forward to checking in on everytime I stop by these days. Keep up the good work and post plenty of pics\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESame! I always save it for last, because it\u0027s the one that I\u0027m looking forward to the pictures in the most.\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-29T22:27:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003Ethis doesn\u0027t seem right: Looks like you need a cameraToLocal or WorldToOcean instead.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E                        // compute ctoo = cameraToOcean transform\u003Cbr\u003E\t\t\t// also should be correct\u003Cbr\u003E\t\t\tMatrix4x4d cameraToOcean = localToOcean * cameraToWorld;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EOh... Once you get everything working, reference shader params by their ID, not their name. Otherwise it has to do string lookups, and can add a good bit of processing time.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think you\u0027re right (and I hope you are, for my sanity), I\u0027m going to try a using a WorldToOcean now.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-04-29T23:12:50Z","Content":"\n\u003Cp\u003EI hope so too! I really want to see those oceans!\u003C/p\u003E\n"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-04-30T00:25:05Z","Content":"\n\u003Cp\u003EThis thread is so much fun to watch \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. I just wanted to say that. Nothing like two modders working together to get a common collaborative goal.\u003C/p\u003E\n"},{"CreatedByName":"Majorjim!","CreatedById":61954,"CreatedDateTime":"2015-04-30T01:02:56Z","Content":"\n\u003Cp\u003EYou guys rock! I can see this becoming a \u0027necessary\u0027 mod soon. Keep up the great work.\u003C/p\u003E\n"},{"CreatedByName":"BrutalRIP","CreatedById":59065,"CreatedDateTime":"2015-04-30T01:30:36Z","Content":"\n\u003Cp\u003Ejust a heads up \u003Ca href=\u0022http://imgur.com/a/GpfuB\u0022 rel=\u0022external nofollow\u0022\u003Ethese lines\u003C/a\u003E appear when installing \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/107471\u0022 rel=\u0022external nofollow\u0022\u003Etexture replacer \u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ork","CreatedById":139856,"CreatedDateTime":"2015-04-30T01:31:06Z","Content":"\n\u003Cp\u003EFirstly, Proot, you sir are a bad man \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EOnto bus i ness..\u003C/p\u003E\u003Cp\u003ENot sure if this helps or hinders but I was messing around with my son today, I walk away from the computer and my KSP looks like this.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot0_zpsymj3ei2q.png\u0022 alt=\u0022screenshot0_zpsymj3ei2q.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAll kinds of pretty.\u003C/p\u003E\u003Cp\u003EHe takes a screenshot of launch to show me.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot2_zpsz7ncndnk.png\u0022 alt=\u0022screenshot2_zpsz7ncndnk.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAll looks good.\u003C/p\u003E\u003Cp\u003EThen whilst making a cuppa tea he does something and takes a screeny for me.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot3_zpswgmppu8k.png\u0022 alt=\u0022screenshot3_zpswgmppu8k.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EClouds?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot4_zps8dlvbahe.png\u0022 alt=\u0022screenshot4_zps8dlvbahe.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot5_zpskxgepdvl.png\u0022 alt=\u0022screenshot5_zpskxgepdvl.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot6_zpsifthqst4.png\u0022 alt=\u0022screenshot6_zpsifthqst4.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot7_zpsoylpomjw.png\u0022 alt=\u0022screenshot7_zpsoylpomjw.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot1_zpsotjzr5y9.png\u0022 alt=\u0022screenshot1_zpsotjzr5y9.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI have no idea what he did, neither does he.\u003C/p\u003E\u003Cp\u003EI know that they are not perfect but I have never had clouds with Scatterer before.\u003C/p\u003E\n"},{"CreatedByName":"cobbman11","CreatedById":76711,"CreatedDateTime":"2015-04-30T01:33:08Z","Content":"\n\u003Cp\u003EI don\u0027t usually check up on mods every three hours, but I\u0027m incredibly interested in where this is going. Without a doubt, this is the coolest new mod in the works. That water is gorgeous and I can\u0027t wait for the next update!\u003C/p\u003E\n"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-04-30T02:11:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ork\u0022 data-cite=\u0022Ork\u0022\u003E\u003Cdiv\u003EFirstly, Proot, you sir are a bad man \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003Cp\u003EOnto bus i ness..\u003C/p\u003E\u003Cp\u003ENot sure if this helps or hinders but I was messing around with my son today, I walk away from the computer and my KSP looks like this.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot0_zpsymj3ei2q.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot0_zpsymj3ei2q.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAll kinds of pretty.\u003C/p\u003E\u003Cp\u003EHe takes a screenshot of launch to show me.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot2_zpsz7ncndnk.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot2_zpsz7ncndnk.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAll looks good.\u003C/p\u003E\u003Cp\u003EThen whilst making a cuppa tea he does something and takes a screeny for me.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot3_zpswgmppu8k.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot3_zpswgmppu8k.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EClouds?\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot4_zps8dlvbahe.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot4_zps8dlvbahe.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot5_zpskxgepdvl.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot5_zpskxgepdvl.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot6_zpsifthqst4.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot6_zpsifthqst4.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot7_zpsoylpomjw.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot7_zpsoylpomjw.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i8.photobucket.com/albums/a27/OrkHarrid/screenshot1_zpsotjzr5y9.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i8.photobucket.com/albums/a27/OrkHarrid/screenshot1_zpsotjzr5y9.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI have no idea what he did, neither does he.\u003C/p\u003E\u003Cp\u003EI know that they are not perfect but I have never had clouds with Scatterer before.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI got something similar since a little time. If is not a new atmo config (like in my case -these are my latest tests-) your son probably have touched the menu transparency. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EMy test atmo is pretty higher than the default (\u0022finish\u0022 at 15000m limit at 69000m), and still you can see some mountains piercing the sky. I like that effect (pretty realistic for me), but I\u0027m still working to tune it and, of course, to get a much more credible atmo overall. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/xXDO7nM.jpg\u0022 alt=\u0022xXDO7nM.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/NwL4Le2.jpg\u0022 alt=\u0022NwL4Le2.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2015-04-30T02:49:26Z","Content":"\n\u003Cp\u003E...wow. That is beautiful!\u003C/p\u003E\n"},{"CreatedByName":"flightmaster","CreatedById":32617,"CreatedDateTime":"2015-04-30T06:35:35Z","Content":"\n\u003Cp\u003ESubbed \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-30T11:30:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EI hope so too! I really want to see those oceans!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I tried it yesterday and... it didn\u0027t work. Since local space in the context of the shader refers to space relative to the planet, I figured the localToWorld matrix is kerbin\u0027s localToWorld matrix. After that, I just did \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EcamToLocal = cameraToWorld * localToWorld.Inverse();\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI also tried adjusting few other things since that\u0027s bound to throw everything off but couldn\u0027t figure out what\u0027s wrong. I have to admit that when stuff gets too \u0022matrix-y\u0022 I have trouble imagining it and getting an intuitive understanding of it, so I\u0027m not the best guy for the job.\u003C/p\u003E\u003Cp\u003EI\u0027m giving it another try now, I\u0027ll try and re-understand how the whole thing works from the ground up.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Avera9eJoe\u0022 data-cite=\u0022Avera9eJoe\u0022\u003E\u003Cdiv\u003EThis thread is so much fun to watch \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. I just wanted to say that. Nothing like two modders working together to get a common collaborative goal.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cobbman11\u0022 data-cite=\u0022cobbman11\u0022\u003E\u003Cdiv\u003EI don\u0027t usually check up on mods every three hours, but I\u0027m incredibly interested in where this is going. Without a doubt, this is the coolest new mod in the works. That water is gorgeous and I can\u0027t wait for the next update!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m glad you guys are enjoying this. Unfortunately, I have to say that development is going to slow down a LOT, mainly because I\u0027m going to be working a job from 9am to 5pm starting next monday, so I won\u0027t have half as much free time as I used to. That kind of sucks.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Proot\u0022 data-cite=\u0022Proot\u0022\u003E\u003Cdiv\u003EI got something similar since a little time. If is not a new atmo config (like in my case -these are my latest tests-) your son probably have touched the menu transparency. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003EMy test atmo is pretty higher than the default (\u0022finish\u0022 at 15000m limit at 69000m), and still you can see some mountains piercing the sky. I like that effect (pretty realistic for me), but I\u0027m still working to tune it and, of course, to get a much more credible atmo overall. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/xXDO7nM.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/xXDO7nM.jpg\u003C/a\u003E \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/NwL4Le2.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/NwL4Le2.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor a second there I thought I walked into the space engine thread. That image is simply amazing.\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-30T13:08:28Z","Content":"\n\u003Cp\u003ESo it seems I\u0027ve sort of found the issue, debugging the vector from camera to local, it seems it\u0027s magnitude starts at 600 000 (kerbin\u0027s radius) and gets smaller with altitude, which should be the opposite. Curiously, the only way I find to fix it was to inverse the cameraToWorld matrix, but that throws off all of the evctor directions, I remember reading somewhere that cameras have a flipped z axis or soemthing like that, could this have any relation to it?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-04-30T13:18:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blackrack\u0022 data-cite=\u0022blackrack\u0022\u003E\u003Cdiv\u003EWell, I tried it yesterday and... it didn\u0027t work. Since local space in the context of the shader refers to space relative to the planet, I figured the localToWorld matrix is kerbin\u0027s localToWorld matrix. After that, I just did \u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EcamToLocal = cameraToWorld * localToWorld.Inverse();\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDon\u0027t think that works... Pretty sure it should be localToWorld.Inverse()*cameraToWorld. Remember that the order is inverted for matrix multiplication.\u003C/p\u003E\u003Cp\u003EAlso, I\u0027d probably convert the oceanToLocal to oceanToWorld rather than the change the camera matrix so you don\u0027t have to perform an inverse matrix calculation.\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-30T14:00:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EDon\u0027t think that works... Pretty sure it should be localToWorld.Inverse()*cameraToWorld. Remember that the order is inverted for matrix multiplication.\u003Cp\u003EAlso, I\u0027d probably convert the oceanToLocal to oceanToWorld rather than the change the camera matrix so you don\u0027t have to perform an inverse matrix calculation.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell I did that, so first the ocean still flooded in the same way but went black, I figured I had to remove the rotation from the localToWorld matrix I pulled from kerbin, since that\u0027s how it\u0027s done in proland, so I keep only the translation. So now the cameraToLocal should be the same as worldToLocal but translated to be relative to the planet\u0027s origin, I put it back in, the ocean works like it used to (moves up and down with the camera).\u003C/p\u003E\n"}]}