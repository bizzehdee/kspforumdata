{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":6,"Articles":[{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2014-02-08T15:44:44Z","Content":"\n\u003Cp\u003E[begin rant @ turning kOS into a compiler]\u003C/p\u003E\u003Cp\u003EBased on my experience, back in the day, the Commodore Vic 20 and the 64, and I\u0027m sure the 128 did this as well (Never had the pleasure to play with that one), when the BASIC program was running, it was looking at symbolic code to save space. That is why the literal \u0022?\u0022 was PRINT. The question mark was the same BASIC language op-code as the PRINT statement. There were other commands as well, but, its been 20\u002B years since I\u0027ve touched BASIC v2.0. (I think even the comparison functions, like, =, \u0026lt;\u0026gt;, \u0026lt;=, \u0026gt;= were a single symbol) [2]\u003C/p\u003E\u003Cp\u003EThen you have other languages, like Visual Basic, which uses full words, and not symbols to deal with your language construct. The interpreter would read through and figure out what the developer wanted on a word by word basis. Some versions of VB actually sent the code WITH the EXE. No encryption or attempt of hiding the code of any sort. The \u0022Compiler\u0022 would just take the run time engine, put it in the EXE, copied all relevant code directly into the EXE, and off it went.\u003C/p\u003E\u003Cp\u003EBetween C64 BASIC and VB run time constructs, I personally prefer the C64 method of using symbols to deal with a smaller memory footprint. Assemblers convert written word to the lowest level of symbols a PC understands. However, changing the existing code base so that it uses symbols to \u0022count words\u0022 would require(!!!!) to take the existing command set, change them into numeric number and use that as an ID of sorts, then change the interpreter to deal not with words but with the command ID, THEN deal with the instructions as required. Not only is that going to be a PITA to maintain the command ID set, but it is also going to be a nightmare that compounds itself when new commands are added or removed, not to mention you have a HUGE overhead above and beyond with simply \u003C/p\u003E\u003Cp\u003ENow, as we developers (Both in the real world and for kOS both in-game and the development team for it) have our choices to deal with this kind of thing. You have notepad, notepad\u002B\u002B, VIM, EMACs, ECHO \u0022code\u0022 \u0026gt; prog.dat, etc. But more realistically than redirecting your code to a file at a command line, there is a kOS IDE laying around somewhere. It think its mentioned in the first post. Just from observing the IDEs page, as I\u0027ve never used it, the feature list claims (verbatim)\u003C/p\u003E\u003Cp\u003E- it keeps two versions of your script. One is the raw code that you write, the other is comment stripped, line trimmed, excess space removed file that kOS actually uses.\u003C/p\u003E\u003Cp\u003E- code highlighting\u003C/p\u003E\u003Cp\u003E- cross platform compatible\u003C/p\u003E\u003Cp\u003EThe other thing we need to be aware of is that people are running so many mods that every BYTE counts. A 10k hard limit does seems small, considering that the C64 had 38k available for programs[1]. 64k was on board, but the other 32k was for fonts, the screen at its different resolutions, software registers, etc, etc. But then you look at the Vic 20 (Older model) that only had 3k of memory available, worked at 40x23 text mode (It had graphics mode, but I think it was something like 160x200?). People are running MODs that cause KSP to crash and burn due to memory constraints. A few KB here and there, meh, OK, but when you have 10 drones flying around with 10 different kOS scripts actively running, you\u0027re now looking at 100k, and that COULD be the difference between a crash or not. Not to mention the general overhead of running said scripts.\u003C/p\u003E\u003Cp\u003EThe other thing I just thought of is that the 10k limit MIGHT be a limitation of C# holding onto different entities. Perhaps not on the number of bytes used in a string, but perhaps the number of lines of code. There might be something that kOS just can\u0027t handle when things start to get \u0022too big\u0022.\u003C/p\u003E\u003Cp\u003ESo in MY humble opinion, please stop asking for this INTERPRETED language to become a compiler. It just isn\u0027t going to happen with the existing code base. There are other projects around here that do this kind of thing that are more low-level.\u003C/p\u003E\u003Cp\u003E[end rant]\u003C/p\u003E\u003Cp\u003E**\u003C/p\u003E\u003Cp\u003E[1] - \u003Ca href=\u0022https://en.wikipedia.org/wiki/Commodore_64#CPU_and_memory\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/Commodore_64#CPU_and_memory\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E[2] - \u003Ca href=\u0022https://en.wikipedia.org/wiki/Commodore_BASIC#Technical_details\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/Commodore_BASIC#Technical_details\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"mossman","CreatedById":1259,"CreatedDateTime":"2014-02-08T16:34:38Z","Content":"\n\u003Cp\u003EIs it possible to send specific instructions for attitude control (ex. torque p,y,r ) instead of just lock to a heading?\u003C/p\u003E\u003Cp\u003EI\u0027d very much like to write my own steering logic.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-08T17:29:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pontiac\u0022 data-cite=\u0022Pontiac\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESo in MY humble opinion, please stop asking for this INTERPRETED language to become a compiler.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t stop doing that which I never started doing. What I suggested was to count the code limit in a way that simulates the effect compiling would have on the code footprint by using the actual symbolic grammar token count rather than the length of whitespace, comments, and variable names that never would end up on the craft. I\u0027m aware of the existence of external tools to throw comments away and extra whitespace away. I wrote my own in Perl. I\u0027m also aware that they are solving an artificially created unrealistic problem.\u003C/p\u003E\u003Cp\u003ETo use the C64 example - the C64 had a lot of video games for it. They weren\u0027t written in the C64 Basic interpreter that you saw when you played with it at home. They were either written in raw machine language or if they used another language with source code, that source code did NOT have to fit in the 64K of the computer because it was cross-compiled from a more capable computer to a target C64\u0027s executable.\u003C/p\u003E\u003Cp\u003E(And the claim that the C64 had only 38K of ram for programming was false. To make it become a true statement you\u0027d have to insert the caveat \u0022when using it\u0027s built-in BASIC interpreter\u0022. If you didn\u0027t need that interpreter because you were using machine language, or because you were cross-compioling to machine language from another computer, you were allowed to overwrite the BASIC interpreter\u0027s memory locations and use them as just generic RAM. Although the BASIC interpreter was hardcoded on a ROM, the portion of the 64K memory address range that referred to where that ROM was ALSO had RAM at the same memory locations. You could alter a single bit somewhere down in page 0 to flip the meaning of whether those addresses referred to the ROM or whether they referred to the RAM. You could even toggle between them quickly during execution, to give you access to BOTH the BASIC ROM and the RAM in the same location that it masks off, so long as you didn\u0027t need both of them in the same instant.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-08T17:35:10Z\u0022 title=\u002202/08/2014 05:35  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 8, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-08T17:43:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003Eso if I do this:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset c to 310. // compass heading, i.e. 0=north,90=east,180=south,270=west.\u003Cbr\u003Eset p to 20.  // pitch, i.e. -90=down,0=horizon,90=up.\u003Cbr\u003Elock steering to heading c by p.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen my craft will turn as expected. However, if I follow with this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint heading.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI get the value 0. I\u0027m expecting 310 - and the navball in game says 310. What am I not getting?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat the word \u0022heading\u0022 is used in this context, NOT as the name of a variable but as a hardcoded keyword in a syntax expression.\u003C/p\u003E\u003Cp\u003EImagine if you tried to print the value of \u0022when\u0022 or \u0022then\u0022 or \u0022if\u0022 or \u0022until\u0022. That\u0027s sort of what you\u0027re trying to do by printing the value of \u0022heading\u0022 in the expression: \u0022heading c by p\u0022. The keyword \u0022heading\u0022 used there is telling the interpreter to parse the following stuff in the heading format, rather than parse it in the Euler rotation format R(\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6) or in the Vector format V(\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6) and so on.\u003C/p\u003E\u003Cp\u003EYou can try printing the value of \u0022steering\u0022 but then you\u0027ll run into the following problem: In kOS the native form of the steering setting is a Euler Rotation ( R(..) ) rather than a vector or a \u0022heading by\u0022. Whenever you use a vector or a \u0022heading by\u0022 to set it, it gets casted and covered into a Euler rotation when it gets saved as the steering setting. So when you print \u0027steering\u0027 it always comes out in that format - an R() tuple - regardless of how you set it.\u003C/p\u003E\n"},{"CreatedByName":"unWinged","CreatedById":50597,"CreatedDateTime":"2014-02-08T18:36:43Z","Content":"\n\u003Cp\u003EI have problem with code below. It\u0027s simple code for launching suborbital rockets with liquid or hybrid engines. It have to parameters declared on start: heading and target apoapsis.\u003C/p\u003E\u003Cp\u003EIt always returns error, something along lines \u0022error in line 1: syntax error.\u003C/p\u003E\u003Cp\u003EI got three similar codes (for launching diffrent rockets) but only that ones gives error.\u003C/p\u003E\u003Cp\u003EI tried to run it with only one parameter, or without any parameter, but still not working...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edeclare parameter thead.\u003Cbr\u003Edeclare parameter tapo.\u003Cbr\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003Eset hdir to thead.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022launch parametrs:\u0022.\u003Cbr\u003Eprint \u0022target apoapsis: \u0022 \u002B tapo.\u003Cbr\u003Eprint \u0022heading: \u0022 \u002B hdir.\u003Cbr\u003Eprint \u0022----====----\u0022.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Commencing launch sequence!\u0022.\u003Cbr\u003Ewait .5.\u003Cbr\u003Eprint \u00223\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait .5.\u003Cbr\u003Eprint \u00222\u0022.\u003Cbr\u003E\u003Cbr\u003Elock steering to heading 0 by 90.\u003Cbr\u003Eprint \u0022   steering locked\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait .5.\u003Cbr\u003Eprint \u00221\u0022.\u003Cbr\u003E\u003Cbr\u003Elock throttle to (mass*20)/maxthrust.\u003Cbr\u003Eprint \u0022   throttle locked\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait .5.\u003Cbr\u003Eprint \u00220 - LAUNCH!\u0022.\u003Cbr\u003E\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003Ewait until alt:radar \u0026gt; 100.\u003Cbr\u003Elock steering to heading hdir by 90.\u003Cbr\u003Eprint \u0022   LIFT OFF!\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait until verticalspeed \u0026gt; 100.\u003Cbr\u003Elock steering to heading hdir by 80.\u003Cbr\u003Eprint \u0022   starting gravity turn\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 4000.\u003Cbr\u003E\u003Cbr\u003Elock sel to 80*(70000-altitude)/66000.\u003Cbr\u003Elock steering to heading hdir by sel.\u003Cbr\u003Eprint \u0022   gravity turn\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait until apoapsis \u0026gt;= tapo OR stage:oxidizer = 0.\u003Cbr\u003E\u003Cbr\u003Eif stage:oxidizer = 0\u003Cbr\u003E{\u003Cbr\u003E\tprint \u0022!!FUEL DEPLETED!!\u0022.\u003Cbr\u003E\tbreak.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Elock throttle to 0.\u003Cbr\u003Elock steering to prograde.\u003Cbr\u003Eprint round(missiontime) \u002B \u0022   coasting\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt;= 70000.\u003Cbr\u003Eprint round(missiontime) \u002B \u0022   atmosfere cleared\u0022.\u003Cbr\u003E\u003Cbr\u003Etoggle ag1.\u003Cbr\u003E\u003Cbr\u003Eprint vesselname \u002B \u0022 is in space!\u0022.\u003Cbr\u003Eprint\u0022MET:  \u0022 \u002B round(missiontime).\u003Cbr\u003E\u003Cbr\u003Eunlock throttle.\u003Cbr\u003Eunlock steering.\u003Cbr\u003ESAS off.\u003Cbr\u003E\u003Cbr\u003Eprint vesselname \u002B \u0022 is free!\u0022.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf somebode can look at it I will be grateful!\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-08T20:19:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022unWinged\u0022 data-cite=\u0022unWinged\u0022\u003E\u003Cdiv\u003EIf somebode can look at it I will be grateful!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMight the problem be this line?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint\u0022MET:  \u0022 \u002B round(missiontime).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s no space between the PRINT and the opening quote mark. I don\u0027t know if kOS requires it or not, but it looks weird not being there.\u003C/p\u003E\n"},{"CreatedByName":"unWinged","CreatedById":50597,"CreatedDateTime":"2014-02-08T20:54:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EMight the problem be this line?\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint\u0022MET:  \u0022 \u002B round(missiontime).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s no space between the PRINT and the opening quote mark. I don\u0027t know if kOS requires it or not, but it looks weird not being there.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat helped \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E now program starts smoothly.\u003C/p\u003E\u003Cp\u003EThank You!\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2014-02-08T23:15:31Z","Content":"\n\u003Cp\u003EHow do I determine compass heading from eular notation?\u003C/p\u003E\n"},{"CreatedByName":"Panichio","CreatedById":2858,"CreatedDateTime":"2014-02-08T23:47:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003EHow do I determine compass heading from eular notation?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESeconded. Been trying to figure that out myself. \u003C/p\u003E\u003Cp\u003EAlso, is there a way to use \u0022OBT:TRANSITION\u0022 so that when it equals \u0022ENCOUNTER\u0022, throttle is locked to 0?\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2014-02-09T01:26:57Z","Content":"\n\u003Cp\u003EAnother suggestion - make it impossible to delete files from archive. Is there an in-game reason to want to delete from archive? Is that needed for run time script writing/running on the fly?\u003C/p\u003E\u003Cp\u003E(lucky I\u0027ve got backups!!).\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-02-09T04:31:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003EAnother suggestion - make it impossible to delete files from archive. Is there an in-game reason to want to delete from archive? Is that needed for run time script writing/running on the fly?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am not sure that is the best solution to the \u0027problem\u0027 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-09T10:32:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003EHow do I determine compass heading from eular notation?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere\u0027s how I\u0027d try to solve it. (Caveat: I haven\u0027t tested this. This is just how I\u0027d try to solve it if I was trying to):\u003C/p\u003E\u003Cp\u003EStep 1: Get the tfDirtoUnitV and tfXYZtoENU programs \u003Ca href=\u0022http://kos.wikia.com/wiki/Tutorial_-_KOS_0.61_and_above:_Finding_surface_dynamic_information\u0022 rel=\u0022external nofollow\u0022\u003EI put on the Wiki here\u003C/a\u003E. Using tfXYZtoENU (which in turn calls tfDirToUnitV, which is why you need both of them) you can take any arbitrary vector in the underlying KSP\u0027s X,Y,Z axes and get what that vector would be if it was expressed in a frame of reference in which the axes were along your current East, North, and Up directions.\u003C/p\u003E\u003Cp\u003EThus instead of having 3 scalars representing the X component, Y component, and Z component of your vector, you can instead have 3 scalars representing the East component, North component, and Up component.\u003C/p\u003E\u003Cp\u003EStep 2: Use tfXYZtoENU to obtain the East,North,Up of your current SURFACE velocity. (Note, depending on what you\u0027re trying to do with it you might be interested in the ORBITAL velocity instead. But I suspect you\u0027re doing something with the surface velocity if its something where you care about compass heading. The compass heading you get from the surface velocity will be different from the compass heading you get from the orbital velocity in all cases other than exactly 90 degrees (or 270 degrees if going faster than the planet\u0027s rotation. If going slower than the planet rotation then a 270 orbital heading will flip to a 90 surface heading).\u003C/p\u003E\u003Cp\u003EStep 3: If you think about it, a compass heading is a case of doing trigonometry in which North is the X axis and East is the Y axis. (0 = north, 90 degrees = east, 180 degrees = negative north (south) and 270 degrees = negative wast (west). Therefore you can get your compass heading by plugging the North and the East components of your velocity vector into ARCTAN2().\u003C/p\u003E\u003Cp\u003EIf interested, you can do the same sort of thing to get your pitch but first you need the length of the velocity vector projected onto the east/north plane. Use the pathagorean theorem on just the east and north components (without the Up component) to get the length of that projection, then plug it into ARCTAN2() along with the Up component to get the pitch (you are obtaining the angle between the direction you\u0027re actually going with the Up component present versus the direction you would have been going had the Up component been zero.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-09T10:33:33Z\u0022 title=\u002202/09/2014 10:33  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 9, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003Cbr\u003EFixed broken URL tag\n\u003C/span\u003E\n"},{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2014-02-09T16:59:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI can\u0027t stop doing that which I never started doing. What I suggested was to count the code limit in a way that simulates the effect compiling would have on the code footprint by using the actual symbolic grammar token count rather than the length of whitespace, comments, and variable names that never would end up on the craft. I\u0027m aware of the existence of external tools to throw comments away and extra whitespace away. I wrote my own in Perl. I\u0027m also aware that they are solving an artificially created unrealistic problem.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wasn\u0027t pointing a finger any anyone in particular. I can\u0027t and don\u0027t bother to keep track of that kind of stuff, which is why I didn\u0027t bother quoting anyone. I\u0027ve just seen several comments (Both in here, and in the original thread) all lined up about the memory limitations, making something \u0022compiled\u0022, so on and so on.\u003C/p\u003E\u003Cp\u003EWhen requesting the amount of free space in the kOS environment is simple enough to do to get rid of all the excess white space. Loop through, do trimming, chip away at the comments, etc, etc. But that might not solve the underlying problem that there is the hard limit of 10k bytes which is what is stored in memory (Comments and all) because whatever is driving the interpretation may be what the limiting factor is, not the number of bytes the software has available.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ETo use the C64 example - the C64 had a lot of video games for it. They weren\u0027t written in the C64 Basic interpreter that you saw when you played with it at home. They were either written in raw machine language or if they used another language with source code, that source code did NOT have to fit in the 64K of the computer because it was cross-compiled from a more capable computer to a target C64\u0027s executable.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo which I wrote a lot of ASM applications via the monitor/assembler and broke away from the interpreter. I still have that brown ASM book laying around somewhere.\u003C/p\u003E\u003Cp\u003EI don\u0027t doubt better machines were used to develop code, test code, compile code to work with the op-codes on the 64 CPU had. Any machine I developed on had to be bigger and better than the machines I typically distributed to. But the point of the matter is not where the code is written, its what can be actively stored (Comments, spaces, and all) and run on the target platform. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E(And the claim that the C64 had only 38K of ram for programming was false. To make it become a true statement you\u0027d have to insert the caveat \u0022when using it\u0027s built-in BASIC interpreter\u0022. If you didn\u0027t need that interpreter because you were using machine language, or because you were cross-compioling to machine language from another computer, you were allowed to overwrite the BASIC interpreter\u0027s memory locations and use them as just generic RAM. Although the BASIC interpreter was hardcoded on a ROM, the portion of the 64K memory address range that referred to where that ROM was ALSO had RAM at the same memory locations. You could alter a single bit somewhere down in page 0 to flip the meaning of whether those addresses referred to the ROM or whether they referred to the RAM. You could even toggle between them quickly during execution, to give you access to BOTH the BASIC ROM and the RAM in the same location that it masks off, so long as you didn\u0027t need both of them in the same instant.)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI knew about all that. You can replace the entire BASIC interpreter with one of your own making. Although I didn\u0027t write something to do that (I was less than 10 when I had the 64) I did have some Computes Gazettes around, and plugged away in MLX to write code that\u0027d enhance my BASIC programming experience, such as auto-line numbering while coding, renumbering, etc. Eventually I did get into ASM and coded up some stuff that simulated what a TSR was on the PC Clones of the era.\u003C/p\u003E\u003Cp\u003E... man those were the days....\u003C/p\u003E\u003Cp\u003ENostalgia setting in anyone? heh\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-09T21:34:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pontiac\u0022 data-cite=\u0022Pontiac\u0022\u003E\u003Cdiv\u003Ebecause whatever is driving the interpretation may be what the limiting factor is, not the number of bytes the software has available.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIts not. We know because the original author Kevin Laity SAID the limit was picked arbitrarily.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBut the point of the matter is not where the code is written, its what can be actively stored (Comments, spaces, and all) and run on the target platform. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen distributing compiled code instead of source code, the comments, spaces, and long variable names only cost space on the developer\u0027s computer, not the target computer. Which is why \u0022where the code is written\u0022 does matter. A Lot. If a machine language instruction takes 2 bytes for the opcode, followed by a 4 byte 32-bit address for a memory location to operate on, then the mention of that operand costs 4 bytes in the final executable regardless of whether the operand was called \u0022x\u0022 or it was called \u0022myLongVariableName\u0022 in the source code.\u003C/p\u003E\n"},{"CreatedByName":"jcramb","CreatedById":60939,"CreatedDateTime":"2014-02-09T22:17:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pontiac\u0022 data-cite=\u0022Pontiac\u0022\u003E\u003Cdiv\u003EBut that might not solve the underlying problem that there is the hard limit of 10k bytes which is what is stored in memory (Comments and all) because whatever is driving the interpretation may be what the limiting factor is, not the number of bytes the software has available.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pontiac\u0022 data-cite=\u0022Pontiac\u0022\u003E\u003Cdiv\u003EBut the point of the matter is not where the code is written, its what can be actively stored (Comments, spaces, and all) and run on the target platform.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe point I was trying to make is that software being used on spacecraft is most likely going to be in machine code and not interpreted on the fly. In which case the program has been compiled, probably with efforts to optimise and reduce the size of the resulting binary. Due to this it is not realistic to have a byte limit on the source code, but rather it should be a byte limit on the machine code. You would only need the most very basic of parsers to achieve a simulation of this compared to just counting the byte size of the source file.\u003C/p\u003E\u003Cp\u003ECompared to what other mods are computing performance wise, there should be absolutely no reason why kOS should be technically limited regarding speed or RAM usage. At 100k or even 10MB (which is a ridiculous number of programs) it is extremely unlikely to be the mod responsible for ksp hitting the dreaded 3.5GB limit. That is more attributed to textures / models which take up far more space. Concerning performance, well kOS only runs 5 clock cycles a second which even if you considered an overhead of 100,000 actual cpu cycles to compute that one simulated cycle (a generous amount) then even on the very slowest of computers its only using 0.01% of the cpu. \u003C/p\u003E\u003Cp\u003ESo in other words, any limitations on kOS are pretty much by design and not due to any feasible technical limitation on computing power / memory.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-09T22:30:41Z\u0022 title=\u002202/09/2014 10:30  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 9, 2014\u003C/time\u003E by jcramb\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-10T00:27:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jcramb\u0022 data-cite=\u0022jcramb\u0022\u003E\u003Cdiv\u003E [...] has been compiled, probably with efforts to optimise and reduce the size of the resulting binary.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDon\u0027t confuse matters by brining code optimization into it. Even *WITHOUT* any code optimizations in the compiler - even with just a dumb direct \u0022do whatever I was told and don\u0027t second-guess it\u0022 compiler you still don\u0027t pay any cost for comments, whitespace, or long variable names.\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2014-02-10T14:05:33Z","Content":"\n\u003Cp\u003ENext question - random numbers. Is there a genuine random number function and if not, can I make a substitute - like the div/mod of the first decimal point in \u0022seconds\u0022 component of the universal time or some such? I\u0027ve adopted that technique in other languages and that tends to be random enough.\u003C/p\u003E\n"},{"CreatedByName":"erbmur","CreatedById":57112,"CreatedDateTime":"2014-02-10T15:03:00Z","Content":"\n\u003Cp\u003EDoes anybody know of any script that would allow me to calculate phase-angles and/or ejection angles for transfers to other bodies?\u003C/p\u003E\u003Cp\u003EI have been trying different approaches and I just can\u0027t seem to get anything to stick!\u003C/p\u003E\u003Cp\u003EAny help would be much appreciated.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-02-10T15:19:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003ENext question - random numbers. Is there a genuine random number function and if not, can I make a substitute - like the div/mod of the first decimal point in \u0022seconds\u0022 component of the universal time or some such? I\u0027ve adopted that technique in other languages and that tends to be random enough.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust out of curiosity, what are you using random numbers for in kOS?\u003C/p\u003E\n"},{"CreatedByName":"mossman","CreatedById":1259,"CreatedDateTime":"2014-02-10T15:22:50Z","Content":"\n\u003Cp\u003EAsked this already, but it got buried, so I\u0027m re-posting it:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mossman\u0022 data-cite=\u0022mossman\u0022\u003E\u003Cdiv\u003EIs it possible to send specific instructions for attitude control (ex. torque p,y,r ) instead of just lock to a heading?\u003Cp\u003EI\u0027d very much like to write my own steering logic.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-02-10T15:38:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mossman\u0022 data-cite=\u0022mossman\u0022\u003E\u003Cdiv\u003EAsked this already, but it got buried, so I\u0027m re-posting it:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe short answer is \u003Cem\u003Enot yet\u003C/em\u003E. \u003C/p\u003E\u003Cp\u003EIt is being worked on by the author of at least one kOS variety, and probably more. The different versions are making everything a bit cloudy though.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-10T16:07:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EFor what it\u0027s worth, I too vote against replacing the player\u0027s effort in making a PID controller.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you everyone for letting me know \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E that sounds fine to me.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI intend to use the new list iterator to have the script \u0022learn\u0022 the parachutes on the craft and use them in atmo drag calculations. Thanks for adding that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow cool! i am particularly excited to see what people do with Lists.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EBy the way, thank you on the effort on user documentation.\u003C/div\u003E\u003C/blockquote\u003E \u003Cp\u003EYou are welcome. If anyone wants to contribute to that documentation for content or examples. i would be very happy to accept pull requests \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-10T16:08:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erbmur\u0022 data-cite=\u0022erbmur\u0022\u003E\u003Cdiv\u003EI have been testing your .11 pre-release\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you very much for testing!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erbmur\u0022 data-cite=\u0022erbmur\u0022\u003E\u003Cdiv\u003E\u0022signal interrupted. Transmission lost.\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo i assume you are using RemoteTech?\u003C/p\u003E\u003Cp\u003EI Keep forgetting to test manned kOS missions \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere is my proposed compromise:\u003C/p\u003E\u003Cp\u003EIf you dont have a connection through RemoteTech but you have a crew. You can issue local commands and write code locally but you can not copy from the archive?\u003C/p\u003E\n"},{"CreatedByName":"erbmur","CreatedById":57112,"CreatedDateTime":"2014-02-10T16:23:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EHere is my proposed compromise:\u003Cp\u003EIf you dont have a connection through RemoteTech but you have a crew. You can issue local commands and write code locally but you can not copy from the archive?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt was locale code I was attempting to when that error was popping up, but if you are stating your compromise as a bug fix, then I am very much for it!\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-10T16:29:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mossman\u0022 data-cite=\u0022mossman\u0022\u003E\u003Cdiv\u003EIs it possible to send specific instructions for attitude control (ex. torque p,y,r ) instead of just lock to a heading?\u003Cp\u003EI\u0027d very much like to write my own steering logic.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe have an upcoming milestone that will address this exact issue. To allow for docking we will have to add more direct access to the FlightCtrlState API.\u003C/p\u003E\n"}]}