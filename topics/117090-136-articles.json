{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":136,"Articles":[{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-09T17:25:30Z","Content":"\u003E \n\u003E \n\u003E 39 minutes ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E speaking of patches, I could try what you said, cleaning up the modules and re-building them in order to add the SSTU Engine Cluster...  \n\u003E   \n\u003E \n\u003E idk, maybe make a few test patches out of what I already have, and also add a RO patch bundled with them to handle the RO\u002BSSTU integration to these new engines...  \n\u003E   \n\u003E \n\u003E I made some Bobcat soviet engines and Beale\u0027s Taerobee A4 out of that (and for RO), I could try making patches for these engines so SSTU modules are added first, then every additional mod could apply their patch (like RO, RealPlues etc..), then have a :FINAL patch in the same file in order to add specific RO stuff for these engines (to avoid trouble with SSTU RO module engine base patch for example)  \n\u003E   \n\u003E \n\u003E could serve as an example for other mods/mod integration if it works\n\u003E \n\nWould love to be able to make these as simpler patches; e.g. just insert the SSTUModularEngineCluster module at the end and have it all work.\n\nHmm.... will see what I can do about enabling such functionality on the plugin side; I know a bit more about the loading sequence than I did last time I attempted it, so I might be able to figure/work something out.  If I remember right the biggest problem I ran into was making sure that at least -some- model (with the right transform names) was present when the external modules were initialized (engine, gimbal, animations), as they will not load properly if the transforms they expect are not present.\n\nI honestly haven\u0027t tried it since I first started on these parts; it might \u0027just work\u0027 at this point...\n\nPlease let me know what you find out / any problems you run into..."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-09T18:32:34Z","Content":"Testing out various cargo-bay types and deployment mechanisms:\n\n![bbjueME.gif](http://i.imgur.com/bbjueME.gif)\n\nWill likely end up with 3 variants of animated cargo bays; floor-drop (#1), rotate (#2), and fold (#4).  The basic \u0027hinged\u0027 variant (#3) really doesn\u0027t sit well with me; would much rather have the hinge\u002Bfold variant.  The floor-drop variant is also kind of undecided; it won\u0027t work well with \u0027round\u0027 cargo bays without also creating an animated ramp (which is doable I think), and even flat-bottomed bays (as shown) could benefit from said ramp.  Haven\u0027t given any thought yet to the various adapters/nose/tail parts either; the geometry for some of those will be... fun.... to figure out.\n\nAnyhow... still quite a ways out from actually doing anything with these; merely put together some quick example geometry to see how the various animations would look."},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-06-09T22:16:30Z","Content":"If you can\u0027t get the drop ramp to work, people would just use #2, turn it upside down, use decouplers to release the cargo and let gravity to the work. But, having a drop ramp would be pretty cool, though. And it should be do-able since LLL has a drop floor cargo container for those square shaped ship hulls. I\u0027m not sure about a -round- hull, though, but I don\u0027t see why not?"},{"CreatedByName":"rasta013","CreatedById":140002,"CreatedDateTime":"2016-06-09T22:22:21Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, ComatoseJedi said:\n\u003E \n\u003E \n\u003E If you can\u0027t get the drop ramp to work, people would just use #2, turn it upside down, use decouplers to release the cargo and let gravity to the work. But, having a drop ramp would be pretty cool, though. And it should be do-able since LLL has a drop floor cargo container for those square shaped ship hulls. I\u0027m not sure about a -round- hull, though, but I don\u0027t see why not?\n\u003E \n\nNertea pulled off a pretty nice *mostly* round floor ramp for the MKIV Spaceplane.  Looked and worked very similar to the rear ramp of a C5A Galaxy..."},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2016-06-09T23:57:39Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Very nice, welcome to the world of modding ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)  Any plans to work on the other cryo-engines?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m mostly asking as I\u0027ll likely take a look over Cryo-Engines and a few other mods with decent engine models (e.g. no tank-butts) to see about adding built-in support for them before too long.  Would love to expand on engine options without having to do yet-more-modeling.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I also verified that (at least the latest) module manager -does- properly detect and use NEEDS blocks on root-level configs (e.g. using a NEEDS block on a base part definition appears to work properly now); so \u0027patches\u0027 like the one for the cryo-engines can be setup to not bork things when the mod is not present (makes it so that they can be included in the base SSTU install and not require manual installation, etc).  This means I can actually include the NearFuture/Cryo-Tanks based MFT tank and radial tank additions with the next update (after a bit more cleanup).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In general news, I managed to get the cargo bay animation handling all setup and working.  Learned quite a bit more about Unity animations in the process, mostly while trying to figure out how to clamp an animation to a specific max range (for deploy-limiters for the different door animations), and the use of the Sample() method.  The nose, body, and tail can all be animated independently; the animations are defined in the model definition and pulled in dynamically depending upon the current part setup; not all models need to have animations, so the system will still work with non-animated parts just fine (with proper UI handling, disabling animation controls if not present).  Sorry, no pics; the models I was working with for testing this stuff were very crude.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Now I just need to get all the various models/textures done ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  (might take a few weeks for this, as I\u0027m still trying to devote most of my time to wheel stuff).  But the plugin end of things is ready.  Which is now two modules that are ready for use but lacking models;  the \u0027welding docking port\u0027 module has also been done for a few months now but I\u0027ve been unable to find time to figure out and make the models for it.  Ohwell... perhaps I\u0027ll start getting caught up sometime this summer (would be much sooner if I can ever get the wheel stuff figured out).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E May or may not have any MCB prototype parts available with this weekends\u0027 release; if I do it will likely just be the saddle-truss variant; the other variants have not yet been started on the modeling end (aside from the crude prototypes for testing of animation functionality).  We\u0027ll see how much I get done in the next day or two.\n\u003E \n\nMoar cryoengines? If people want. I like the Volcano because it\u0027s a right place/right size hydrolox engine, good for \u0027Mercury\u0027 and \u0027Gemini\u0027 programs."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-06-10T00:10:14Z","Content":"Something between the RL10A and J2 is always welcome.\n\nBTW, Mage...  would something like the Dream Chaser be an option for SSTU?"},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-06-10T01:44:12Z","Content":"For anyone wanting 10 to 19 engine cluster layouts or a max of 20m tanks and procedural parts in general:\n\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/141531-112-sstu-nova-add-on-pack-an-expansion-for-sstu/\u0026do=embed\u0022\u003E\u003C/iframe\u003E\n\nAh, there\u0027s a M-1 in the pack too, it\u0027s a cloned and rescaled J-2  \n\nthis add-on is for stock, not RO (but it also works in RO, I\u0027ll make a patch later on to remove the 18 and 14 engine clusters in RO and hide the M-1 engine if RO is present, as RO has a custom M-1)"},{"CreatedByName":"EleSigma","CreatedById":11215,"CreatedDateTime":"2016-06-10T03:53:13Z","Content":"Will there be a replacement for the Mk. 1-2 pod that is based on the Mercury capsule and early (late 1950\u0027s-early 1960\u0027s) rocketry? Not only would it work for early tech but also offer a cheaper, economic solution for when you want to just put a satellite into low or high Kerbin orbit or do some manned low orbital work."},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2016-06-10T04:37:24Z","Content":"\u003E \n\u003E \n\u003E 39 minutes ago, EleSigma said:\n\u003E \n\u003E \n\u003E Will there be a replacement for the Mk. 1-2 pod that is based on the Mercury capsule and early (late 1950\u0027s-early 1960\u0027s) rocketry? Not only would it work for early tech but also offer a cheaper, economic solution for when you want to just put a satellite into low or high Kerbin orbit or do some manned low orbital work.\n\u003E \n\nMOLE, part of [@Angel-125](%7B___base_url___%7D/index.php?/profile/106975-angel-125/)\u0027s collection contains the Appaloosa, a multipurpose pod that can connect beneath the Mk-1, making a 1 or 2 kerbal craft. It also has the Gemini-analogue Brumby, also in the 1.875m form factor."},{"CreatedByName":"GoldForest","CreatedById":77770,"CreatedDateTime":"2016-06-10T06:15:53Z","Content":"[@Shadowmage](%7B___base_url___%7D/index.php?/profile/138730-shadowmage/) I have a suggestion to make for a part. Resizable probe core. Preferable the Saturn V third stage avionics core as the model.  \n\nAlso, I have played around and found out that Contares does not like your mod. Any idea why? There are no plugins for Contares, or Tantares, that I know of."},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-06-10T06:36:04Z","Content":"[@GoldForest](%7B___base_url___%7D/index.php?/profile/77770-goldforest/) Can you be a bit more specific? I\u0027ve used all these mods in conjunction with one another and haven\u0027t seen any misbehaving. As [@Shadowmage](%7B___base_url___%7D/index.php?/profile/138730-shadowmage/) would say, \u0022I need logs or something other than a vague description\u0022."},{"CreatedByName":"GoldForest","CreatedById":77770,"CreatedDateTime":"2016-06-10T06:44:00Z","Content":"[@ComatoseJedi](%7B___base_url___%7D/index.php?/profile/91567-comatosejedi/) I\u0027ll have to wait till I get home to show it, but as stated in a post a page or two back, the Orion RCS fires and won\u0027t stop firing, the plumes for the engines show up.  \n\nI tracked the problem down to Contares or SSTUL. I only had those two mods installed while trying to confirm the problem. Well, I did have Tantares installed as well, but I tested Tantares with SSTUL alone, no problem. As soon as I load up with SSTUL, Tantares, Tantares LV, and Contares, bam, rcs pushing the craft into an endless turn and the plumes on the RS-68(? The delta heavy engines) were showing full thrust plumes even though they are at zero thrust. They don\u0027t produce thrust, but the plumes are still there."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-06-10T12:09:32Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E \u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/141531-112-sstu-nova-add-on-pack-an-expansion-for-sstu/\u0026do=embed\u0022\u003E\u003C/iframe\u003E\n\u003E \n\nOh, SNAP!!! ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-06-10T15:21:16Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E 3 hours ago, Jimbodiah said:\n\u003E \u003E \n\u003E \u003E \n\u003E \u003E Oh, SNAP!!! ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)\n\u003E \u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/141531-112-sstu-nova-add-on-pack-an-expansion-for-sstu/\u0026do=embed\u0022\u003E\u003C/iframe\u003E\n\u003E \n\n![whaaaat-thumb.jpg](http://www.troll.me/images/lil-jon/whaaaat-thumb.jpg)![55872578.jpg](https://cdn.meme.am/instances/250x250/55872578.jpg)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-10T15:25:52Z","Content":"Heads up, some of you may be interested in this:\n\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/141560-112-ksp-rescue-pod-validator-no-more-kerbals-spawning-in-inflatable-modules/\u0026do=embed\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-06-10T15:31:33Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Heads up, some of you may be interested in this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/141560-112-ksp-rescue-pod-validator-no-more-kerbals-spawning-in-inflatable-modules/\u0026do=embed\u0022\u003E\u003C/iframe\u003E\n\u003E \n\nYeah, I seen that mod. Too bad I don\u0027t do contracts on my career."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-06-10T15:36:56Z","Content":"Euhm, how do you make money then?"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2016-06-10T15:50:51Z","Content":"I\u0027m trying to work up a RO config for the Lander Pods.  I know most of the lander stuff has been removed because of compatibility issues but I really like the models and want to make use of them in my advanced landers in my RO career game.  Anyway, my real question comes down to how does SSTUModelSwitch alter the available volume and is there any way to make it work with Real Fuels ModularFuelTanks module?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-10T15:58:23Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, chrisl said:\n\u003E \n\u003E \n\u003E I\u0027m trying to work up a RO config for the Lander Pods.  I know most of the lander stuff has been removed because of compatibility issues but I really like the models and want to make use of them in my advanced landers in my RO career game.  Anyway, my real question comes down to how does SSTUModelSwitch alter the available volume and is there any way to make it work with Real Fuels ModularFuelTanks module?\n\u003E \n\nA: Very carefully....  ( [https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTUModelSwitch.cs#L242-L261](https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTUModelSwitch.cs#L242-L261) )\n\nB: Simply remove the SSTUVolumeContainer module from the part, and add in the RF-MFT module, and it should \u0027just work\u0027.  Basically if the VolumeContainer is present it will use that first and ignore MFT, elsewise it will -attempt- to use MFT if it present; if neither are present the volume updates/resource changes are ignored.\n\nC: No idea how that will work from a mass and cost adjustment standpoint; I do not use use or offer any support for RealFuels/ModularFuelTanks.  If there are any problems you\u0027ll have to submit a PR with the solutions as I will not be developing them personally."},{"CreatedByName":"Theysen","CreatedById":144656,"CreatedDateTime":"2016-06-10T16:25:13Z","Content":"[@Shadowmage](%7B___base_url___%7D/index.php?/profile/138730-shadowmage/)  \n\n would there be any way to shutdown single engines inside of a cluster? Currently building Saturn\u0027s with SSTU in RO and I wondered if I overlooked something or if this is just not possible. Thanks in advance ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-10T16:42:43Z","Content":"\u003E \n\u003E \n\u003E 12 minutes ago, Theysen said:\n\u003E \n\u003E \n\u003E [@Shadowmage](%7B___base_url___%7D/index.php?/profile/138730-shadowmage/)  \n\u003E \n\u003E  would there be any way to shutdown single engines inside of a cluster? Currently building Saturn\u0027s with SSTU in RO and I wondered if I overlooked something or if this is just not possible. Thanks in advance ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nNope; it is all-or-nothing at this point.\n\nI had considered adding an option for it... but it would require a ton of work in order to implement satisfactorily.  It would need a whole new GUI that could display the layout and let you choose which engines to enable/disable, would require new code to manage dynamically altering the thrust transform layout and thrust for the engine, and a few hacks to workaround the assumptions that stock code makes about such things (e.g. I\u0027m unsure if stock will properly support a thrust transform set to zero thrust, or if it will still display effects for it).  Additionally it would cause major headaches trying to make it function with the existing heat-animation code (as it is currently set to animate the heat for all engine models with no way to tell it to ignore just a specific model/models).\n\nSo... maybe in the distant future, but certainly not anytime soon.\n\nIf you really need to be able to shutoff specific engines, your only option at this time is to build it with multiple individual engine parts using the surface attach functionality and radial symmetry."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-06-10T17:17:16Z","Content":"You could have the circular mount and leave an empty node in the center where the use could add his own extra engine?"},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-06-10T17:23:36Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E You could have the circular mount and leave an empty node in the center where the use could add his own extra engine?\n\u003E \n\nthis should solve your problem  \n\nyou can make a 4 engine cluster, add spacing to them, remove the mount, add a interstage node, and add a new engine in the middle  \n\nI used that method to try out how I could adapt more engines to make new massive engine clusters ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2016-06-10T17:49:39Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E A: Very carefully....  ( [https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTUModelSwitch.cs#L242-L261](https://github.com/shadowmage45/SSTULabs/blob/master/Source/Module/SSTUModelSwitch.cs#L242-L261) )\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E B: Simply remove the SSTUVolumeContainer module from the part, and add in the RF-MFT module, and it should \u0027just work\u0027.  Basically if the VolumeContainer is present it will use that first and ignore MFT, elsewise it will -attempt- to use MFT if it present; if neither are present the volume updates/resource changes are ignored.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E C: No idea how that will work from a mass and cost adjustment standpoint; I do not use use or offer any support for RealFuels/ModularFuelTanks.  If there are any problems you\u0027ll have to submit a PR with the solutions as I will not be developing them personally.\n\u003E \n\nUnfortunately, just looking at the link you post, I can\u0027t really see how the volume calculation is being made.  I can see that if no SSTUVolumeContainer is found, then we call SSTUModInterop.onPartFuelVolumeUpdate.  It looks like that call is passing the current part as one parameter.  As another parameter, you pass a value that appears to be based on the volume of all models associated with the part (modelData*.volume) plus the baseVolume that\u0027s supplied by SSTUModelSwitch, all multiplied by 1000.  I\u0027m just not exactly sure where the modelData* *.volume is coming from (the textures?).  Nor can I see exactly what SSTUModInterop.onPartFuelVolumeUpdate is doing with the information (it\u0027s not part of the link you provided from what I can see).  Of course, my coding skills are limited so I might be misinterpreting what I\u0027m seeing.* \n\n*The in game results are:*  \n*I have the LC2 setup with an MFT module with a volume of 1000.  When I use the LC2 with it\u0027s default \u0022LC2-ASCF\u0022 model active, the available volume is 989000.  If I switch to the \u0022standard\u0022 variant I have an available volume of 215000.  That\u0027s with the existing baseVolume=250 setting.*  \n*If I change to baseVolume=0 then my available volumes become 774000 and 0, respectively.*  \n*If I leave baseVolume=0 and set MFT volume=1, my available volumes remain 774000 and 0, respectively.*  \n*If I change baseVolume=100 and leave MFT volume = 1, my available volumes become 860000 and 86000 respectively.* \n\n*In other words, it really seems like the MFT volume is being ignored and some other value (being pulled from a location I don\u0027t currently understand) is being used.  I\u0027m looking at the source code but I\u0027m not really proficient in coding so I\u0027m not really sure how the new volume is being generated.* \n\nEDIT: I think I see where modelData.volume is coming from.  It\u0027s from the configs found in  /SSTU/Data/ModelData, right?  So for landers, the \u0022LC2-ASCF\u0022 variant has volume=0.9 while the \u0022standard\u0022 variant has volume=0.  So if baseVolume=250, then when calcTotalVolume() is called, it should return a result of 250 for the \u0022standard\u0022 variant and 250.9 for the \u0022LC2-ASCF\u0022 variant.  That returned value is then multiplied by 1000 resulting in either 250900 or 250000.  I\u0027m looking in the source code that\u0027s part of SSTU-0.4.31.115 (the version I currently have installed) and was able to find the SSTUModInterop.onPartFuelVolumeUpdate() function.  Unfortunately, I hit my limit of understanding at about this point because I don\u0027t fully understand what this function is doing.  It\u0027s obviously checking whether we have Real Fuels, MFT or neither installed.  I have Real Fuels so it\u0027s then locating the ModuleFuelTanks module but at that point I\u0027m not sure what it\u0027s doing.\n\n**Edited \u003Ctime datetime=\u00222016-06-10T18:14:09Z\u0022 title=\u002206/10/2016 06:14  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 10, 2016\u003C/time\u003E by chrisl**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-10T19:33:08Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, chrisl said:\n\u003E \n\u003E \n\u003E EDIT: I think I see where modelData.volume is coming from.  It\u0027s from the configs found in  /SSTU/Data/ModelData, right?  So for landers, the \u0022LC2-ASCF\u0022 variant has volume=0.9 while the \u0022standard\u0022 variant has volume=0.  So if baseVolume=250, then when calcTotalVolume() is called, it should return a result of 250 for the \u0022standard\u0022 variant and 250.9 for the \u0022LC2-ASCF\u0022 variant.  That returned value is then multiplied by 1000 resulting in either 250900 or 250000.  I\u0027m looking in the source code that\u0027s part of SSTU-0.4.31.115 (the version I currently have installed) and was able to find the SSTUModInterop.onPartFuelVolumeUpdate() function.  Unfortunately, I hit my limit of understanding at about this point because I don\u0027t fully understand what this function is doing.  It\u0027s obviously checking whether we have Real Fuels, MFT or neither installed.  I have Real Fuels so it\u0027s then locating the ModuleFuelTanks module but at that point I\u0027m not sure what it\u0027s doing.\n\u003E \n\nModelSwitch calculates volume from that specified in the model-definition config files, and then uses that volume to update whatever fuel-switch module is currently on the part (if any).   \n\nIn the SSTUModelSwitch config the \u0027baseVolume\u0027 is in liters, and specifies the volume of the base model, if any.  The \\*1000 multiplier you see is because the model-definition uses cubic-meters, whereas RF-MFT and SSTUVolumeContainer use liters.\n\nSo, the total volume for the current model/variant setup will be baseVolume \u002B ( variantModelDefinitionVolume \\* 1000 ), in liters.  This value is then passed into the RealFuels-MFT module to set the total available volume (no clue if it is pre-tankage loss, or post-tankage loss; I don\u0027t use the mod).  Volume parameters that are specified in the ModuleFuelTanks module are/should be ignored; they are overwritten by the volume value calculated from the models/model-switch module.\n\nSo, as far as I know, the extent of what you should have to do is to write your patch to:  \n\n1.) Remove SSTUVolumeContainer module  \n\n2.) Add the RealFuels ModuleFuelTank module; it really shouldn\u0027t need much/any configuration as all the data is passed in at run-time.\n\nE.g. the body of your patch should basically be:\n\n    \t!MODULE[SSTUResourceBoiloff]{}!MODULE[SSTUVolumeContainer]{}MODULE{\tname = ModuleFuelTanks\tvolume = 2000\ttype = Default\ttypeAvailable = Default\ttypeAvailable = Cryogenic\ttypeAvailable = ServiceModule\ttypeAvailable = Fuselage\ttypeAvailable = Balloon\ttypeAvailable = BalloonCryo\ttypeAvailable = Structural}\n\nThat\u0027s it... if it doesn\u0027t work with that... then someone will have to put together a PR to fix whatever code (or wait until I get around to it, which will likely be a few months)."}]}