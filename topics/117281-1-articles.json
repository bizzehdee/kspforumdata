{"TopicId":117281,"ForumId":29,"TopicTitle":"Part information missing from GameDatabase.Instance.GetConfigNodes(\u0022PART\u0022)","CreatedByName":"Hexicube","CreatedById":109496,"CreatedDateTime":"2015-07-30T22:18:43Z","PageNum":1,"Articles":[{"CreatedByName":"Hexicube","CreatedById":109496,"CreatedDateTime":"2015-07-30T22:18:43Z","Content":"I\u0027m developing a plugin for a part I\u0027m making, and part of that scans all the parts to see if they contain a node. That part of it works fine, however on the actual ConfigNode given by GameDatabase.Instance.GetConfigNodes(\u0022PART\u0022) there\u0027s several things missing. The missing values are: name/author/TechRequired/entryCost/cost/category/title/manufacturer/description/bulkheadProfiles\n\nI specifically need the \u0027name\u0027 value to populate a dictionary of parts that have my custom node, for later use with the plugin. Am I doing something wrong?\n\n[edit] Discovered that I should be using PartLoader.LoadedPartsList instead of directly fetching the part config nodes.\n\n**Edited \u003Ctime datetime=\u00222015-07-30T22:24:52Z\u0022 title=\u002207/30/2015 10:24  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 30, 2015\u003C/time\u003E by Hexicube**"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-30T22:57:25Z","Content":"I have no idea why you\u0027re missing data from the PART nodes (I\u0027ve had no issues retrieving data through the same method), but you can reverse the idea fairly easily\n\n1) Have a partmodule corresponding to your node. It doesn\u0027t need to do anything (empty class inheriting from partmodule)\n\n2) Search Partloader for parts containing that module\n\n    List partsWithModule = PartLoader.Instance.parts.Select(p =\u003E p.Modules.Contains(\u0022MyModule\u0022));\n\nWhy are you loading data this way anyway? It\u0027s fairly unusual to need somehing like this\n\n**Edited \u003Ctime datetime=\u00222015-07-30T22:59:32Z\u0022 title=\u002207/30/2015 10:59  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 30, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Hexicube","CreatedById":109496,"CreatedDateTime":"2015-07-31T03:04:25Z","Content":"\u003E \n\u003E I have no idea why you\u0027re missing data from the PART nodes (I\u0027ve had no issues retrieving data through the same method), but you can reverse the idea fairly easily\n\u003E 1) Have a partmodule corresponding to your node. It doesn\u0027t need to do anything (empty class inheriting from partmodule)\n\u003E \n\u003E 2) Search Partloader for parts containing that module\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     List partsWithModule = PartLoader.Instance.parts.Select(p =\u003E p.Modules.Contains(\u0022MyModule\u0022));\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Why are you loading data this way anyway? It\u0027s fairly unusual to need somehing like this\n\nI explicitly needed the raw name of the part so I knew the type of part loaded, adding a module wouldn\u0027t suffice for this. It\u0027s possible those values were missing due to the fact I scanned for the data way after the game had loaded, I wanted to be 100% sure that my code was ran after all parts were loaded in (and after ModuleManager fiddled with any values).\nIt is a bit unusual, yeah. I\u0027m creating my own version of OSE-Workshop as the dev told me they were currently uninterested in having parts broke down into multiple sub-components as it would be a lot of work to implement such a thing. I\u0027m building a dictionary by raw part name containing the raw components of that part, along with the time it takes, the electric charge cost, and a generated icon from KIS (as I already will be using that for inventories)."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-31T04:28:22Z","Content":"Yep, the PartLoader strips various things from the node on load. It\u0027s annoying."},{"CreatedByName":"Hexicube","CreatedById":109496,"CreatedDateTime":"2015-07-31T08:03:07Z","Content":"\u003E \n\u003E Yep, the PartLoader strips various things from the node on load. It\u0027s annoying.\n\nIt\u0027s not annoying, you just have to find the correct way according to squad\u0027s programming. What it is, though, is weird. Can\u0027t imagine why it would be needed.\nI suppose iterating over the AvailablePart list is faster in the end, too."}]}