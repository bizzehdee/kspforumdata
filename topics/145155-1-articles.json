{"TopicId":145155,"ForumId":29,"TopicTitle":"Can I find out if an action group has actions in flight","CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-07-31T15:30:53Z","PageNum":1,"Articles":[{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-07-31T15:30:53Z","Content":"\n\u003Cp\u003E\nI know about ActionGroupList, but all that exposes is API for toggling / setting / querying action groups. \u00A0What I\u0027d like to do (while in flight) is find out if there is anything attached to an action\u00A0group. \u00A0I don\u0027t care about the contents, all I want to answer is \u0022Is there at least one action in this action group?\u0022. \u00A0I haven\u0027t had much luck with that, and it looks like trying to dig through a vessel ConfigNode file is going to be a serious mess, since the actions are attached to the parts. \u00A0Does anyone know of a simpler way to make that query?\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-08-02T22:36:19Z","Content":"\n\u003Cp\u003E\nAssuming that you are working with a Vessel (such as FlightGlobals.ActiveVessel), you have to cycle every part and check the Part.Actions enum, then cycle every PartModule.Actions on that part to see what you are looking for.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you don\u0027t care about which actiongroup and are just checking if one is assigned,\u00A0 you can do a != KSPactionGroup.None check, but otherwise you have to do bitwise math.\n\u003C/p\u003E\n\u003Cp\u003E\nNote that I\u0027ve never seen an action assigned in the Part.Actions enum and assume it is old code replaced by the PartModule.Actions enum, but I still check it to be safe.\n\u003C/p\u003E\n\u003Cp\u003E\nI make a list of all actions on a vessel here: \u003Ca href=\u0022https://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L3135\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L3135\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThen I check that list against a specific action type (Brakes/Lights/etc.) here: \u003Ca href=\u0022https://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L3170\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L3170\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHope that helps,\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-08-03T12:38:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222702025\u0022 data-ipsquote-contentid=\u0022145155\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221470177379\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHope that helps,\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, that helps. \u00A0Thanks for pointing out where that stuff resides in flight. \u00A0I was hoping I wouldn\u0027t need to iterate over all of everything for that info, but I have to do that anyway for other things, anyway, so oh well.\n\u003C/p\u003E\n\u003Cp\u003E\nAs long as the action groups aren\u0027t changed in flight *ahem* \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I can get away with my current \u0027onVesselChange\u0027 and \u0027onVesselWasModified\u0027 based update strategy.\n\u003C/p\u003E\n"}]}