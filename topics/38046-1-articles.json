{"TopicId":38046,"ForumId":44,"TopicTitle":"Arduino/Android based Tracking solution for Weather Balloon. Transmitter. Part 1.","CreatedByName":"jeremy.jr","CreatedById":75267,"CreatedDateTime":"2013-07-21T19:28:05Z","PageNum":1,"Articles":[{"CreatedByName":"jeremy.jr","CreatedById":75267,"CreatedDateTime":"2013-07-21T19:28:05Z","Content":"\n\u003Cp\u003EThis transmitter setup includes: One \u003Cstrong\u003EArduino Uno\u003C/strong\u003E board, one \u003Cstrong\u003EUblox GPS\u003C/strong\u003E board and one \u003Cstrong\u003E433Mhz FSK transmitter\u003C/strong\u003E board.\u003C/p\u003E\u003Cp\u003EUsing the standard 433mhz license free frequency and Arduino Uno.\u003C/p\u003E\u003Cp\u003EArduino Uno board($15 on Ebay):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ufoflicks.com/wp-content/themes/moviepress/thumbs/arduinouno-300x300.jpg\u0022 alt=\u0022arduinouno-300x300.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E1- \u003Cstrong\u003ETransmitter setup:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EGPS board\u003C/strong\u003E: \u003Cstrong\u003EUblox NEO6MV2 Module\u003C/strong\u003E, this module have been tested to work above the \u003Cstrong\u003E60,000 feet Cocom limit\u003C/strong\u003E. This is a 3.3volts based board. This gps board(gps) have 4 points connections to the \u003Cstrong\u003EArduino Uno\u003C/strong\u003E(au):\u003C/p\u003E\u003Cp\u003E Ground(gps) -\u0026gt; Ground(au).\u003C/p\u003E\u003Cp\u003E 3.3volts(gps) -\u0026gt; 3.3volts(au).\u003C/p\u003E\u003Cp\u003E Tx gps board(gps) -\u0026gt; Digital pin 4(au).\u003C/p\u003E\u003Cp\u003E Rx gps board(gps) -\u0026gt;(voltage divisor) Digital pin 5(au).\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUblox GPS board\u003C/strong\u003E($20 on Ebay):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ufoflicks.com/wp-content/themes/moviepress/thumbs/25249-300x300.jpg\u0022 alt=\u002225249-300x300.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EFor the voltage divisor connect a 10k resistor between ground and Rx in gps board and then a 4.7k( or 5k) resistor between Rx in gps board and digital pin 5 in au. This is to limit to 3.3 volts the voltage that will reach Rx in the gps board, each digital pin in the arduino is 5volts based.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFSK 433MHZ Transmitter Module\u003C/strong\u003E: \u003Cstrong\u003EThis FSK transmitter board\u003C/strong\u003E(tb) have 3 points connections to the \u003Cstrong\u003EArduino Uno\u003C/strong\u003E(au):\u003C/p\u003E\u003Cp\u003E 1- Ground(tb) -\u0026gt; Ground(au).\u003C/p\u003E\u003Cp\u003E 2- 5vols(tb) -\u0026gt; 5volts(au).\u003C/p\u003E\u003Cp\u003E 3- Data(tb) -\u0026gt;Digital pin 12(au).\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFSK Transmitter/Receiver boards\u003C/strong\u003E($10 on Ebay):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ufoflicks.com/wp-content/themes/moviepress/thumbs/fsk.jpg\u0022 alt=\u0022fsk.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EUsing \u003Cstrong\u003EFSK modulation\u003C/strong\u003E is a good way to eliminate noise in weak signals. Even when this is a very weak transmitter: 6dBm, about 4 mW, it have a very good range and is very reliable, you can always boost its output using a Transmitter Amplifier like this one: \u003Ca href=\u0022http://electronics-diy.com/product_details.php?pid=499\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://electronics-diy.com/product_details.php?pid=499\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEmergency Release Commands\u003C/strong\u003E: This Arduino code includes two emergency release modes:\u003C/p\u003E\u003Cp\u003E 1-\u003Cstrong\u003ELimiting Coordinate Rectangle\u003C/strong\u003E: We defined 4 limiting Coordinates values, two latitudes and two longitudes. A MaxLatitude, MinLatitude, MaxLongitude and MinLongitude, this basically define a coordinate rectangle, we assume that the balloon is going to be launched from a point inside this rectangle, if at some point any boundary in this rectangle is reached then Digital pin 6 is set to HIGH. The idea is to use this to trigger a thermal wire and cut the line joining the parachute and balloon. This will allow you to do a emergency release in case that the balloon goes beyond a reasonable landing area.\u003C/p\u003E\u003Cp\u003E 2- \u003Cstrong\u003EPressure Release valve\u003C/strong\u003E: We defined a Maximal allowed Altitude, defined by default to be 27432 meters (90,000 feet), of course that can be changed. If the current altitude goes beyond this MaxAltitude then Digital pin 7 is set to HIGH. This will allow you to connect a trigger to this pin that will open a valve and release pressure from the Balloon, if the Balloon is still inside of the Limiting Coordinate Rectangle then this potentially will extend the time that the balloon will stay afloat without bursting.\u003C/p\u003E\u003Cp\u003EConnecting pins 6 and 7 is optional.\u003C/p\u003E\u003Cp\u003EWorking Source Code for Transmitter:\u003C/p\u003E\u003Cp\u003EThe code is based in the VirtualWire library created by Mike McCauley (\u003Ca href=\u0022/cdn-cgi/l/email-protection\u0022 class=\u0022__cf_email__\u0022 data-cfemail=\u00222a4743414f476a455a4f4404494547044b5f\u0022\u003E[email\u0026#160;protected]\u003C/a\u003E).\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ufoflicks.com/wp-content/themes/moviepress/thumbs/TransmitterGPS.zip\u0022 rel=\u0022external nofollow\u0022\u003ETransmitterGPS Code\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EPossible extensions to this setup:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E 1- Add a \u003Cstrong\u003EBluetooth board\u003C/strong\u003E, similar to the one in the receiver setup, to communicate with another Bluetooth aware component in the payload, like an android phone, this will allow sending GPS updates to the second device and receive commands from that device.\u003C/p\u003E\u003Cp\u003E 2- \u003Cstrong\u003EVideo Overlay:\u003C/strong\u003E If your payload have a setup where you have a video camera and then a separate video recording device you can use a board similar to this one from \u003Ca href=\u0022https://nootropicdesign.com/ve/\u0022 rel=\u0022external nofollow\u0022\u003EVideo Experimenter\u003C/a\u003E to overlay text and/or graphics into the video signal before recording it, or send it. You can also capture low res video frames and maybe you can send that in the signal payload.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://nootropicdesign.com/ve/images/videoExperimenter_01_320x240.jpg\u0022 alt=\u0022videoExperimenter_01_320x240.jpg\u0022\u003E\u003C/p\u003E\n"}]}