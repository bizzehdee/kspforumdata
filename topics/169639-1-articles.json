{"TopicId":169639,"ForumId":55,"TopicTitle":"Parallel to Surface SAS","CreatedByName":"Fearless Son","CreatedById":133397,"CreatedDateTime":"2018-01-16T07:12:59Z","PageNum":1,"Articles":[{"CreatedByName":"Fearless Son","CreatedById":133397,"CreatedDateTime":"2018-01-16T07:12:59Z","Content":"\n\u003Cp\u003E\nSo lately I have taken to the habit of building many of my rovers with reaction wheels, and I set all the electric torque components to \u0022\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E Only\u0022 mode.\u00A0 I find that this helps a lot on flat(ish) terrain, making the rover less likely to flip over when aggressively breaking or making sharp turns, as the torque of the reaction wheels in \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E mode helps cancel out forces that might send the rover spinning.\u00A0 But experience has taught me that on rougher terrain where gravity is lower and changes in elevation more sharp than on much of Kerbin (like, say, the Mun) I have to \u0022pulse\u0022 deactivation of the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E at times to make sure all the wheels return to the ground.\u00A0 If I end up taking a big leap off the terrain, the reaction wheels can be used to help make sure it lands at a good angle, but I have to manually change their mode, which is not easy to do under pressure during an unexpected leap.\u00A0 Basically I want to control the torque fully if the vehicle is off the ground, while keeping the vehicle firmly planted on the surface while grounded.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, to resolve this and make rovers a little more controllable, I would like a \u0022parallel to surface\u0022 mode for the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, which tries to keep the vehicle\u0027s \u0022front\u0022 (as defined by whatever I select \u0022control from here\u0022 from) perpendicular to a normal vector from whatever surface polygon lies directly below it.\u00A0 I would think that this would be pretty simple, as far as engine capability and math goes.\u00A0 Do a ray trace from the center of mass of the vehicle to the center of the stellar object it is in the sphere of influence of, then get the normal vector of the first non-vessel collision polygon it passes through (which would typically be part of a planet\u0027s terrain mesh.)\u00A0 Then we try to have the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E keep the vessel\u0027s forward pointing vector perpendicular to that surface normal vector.\n\u003C/p\u003E\n\u003Cp\u003E\nThe advantage to this is that the vehicle will try to keep itself oriented properly so we do not have it doing bizarre things like trying to maintain a wheely, which reduces driver control.\u00A0 It also means that, should the vehicle launch itself into a parabola, it would try to align itself with whatever it is passing over so it lands on its bottom as evenly as possible.\u00A0 This should help spread out the impact of landing and lead to less damage over all.\u00A0 Heck, if we want to introduce a simpler version of the same thing which can just keep a craft pointed perpendicular to a vector traced down to a stellar object\u0027s center, that would also help as a great aid for flying aircraft while cruising long distances instead of having a make a bunch of minor corrections for the pitch of the nose.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf there is some concern about this making things \u0022too easy\u0022 on the players, it could be restricted to higher level probe cores and experienced pilots, like many of the other \u0022autopilot\u0022 features in the base game.\u00A0 It would also build up player experience in cruder situations in career or science before they unlock the more helpful assist gear.\u00A0 Heck, I would even go with some add-on components like gyroscopes to enable it (similar to the Avionics Hub) if there needs to be some kind of (mass/cost) trade-off for that ability.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat do you think?\n\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2018-01-16T13:00:07Z","Content":"\n\u003Cp\u003E\nSounds like something that could be modded in. Atmosphere Autopilot does something like this -- but probably a good deal more complicated -- for atmospheric flight and it works great.\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure if I\u0027d vote for it as a feature in the base game. It\u0027s a\u00A0niche application where you\u0027re using components for an application they weren\u0027t really intended.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBTW I\u0027ve done reaction-wheel stabilised Mun rovers too. The way I use them, I slave the wheels to an action group, and every time I take off I switch them on, when landing, switch them off again. Mode is normal (pilot and \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E). It\u0027s a lot of fun to zoom across the Munscape in one of those, taking giant leaps and bounds. At least until you go over a particularly high ridge and launch yourself onto a trajectory that ends with a hole in the ground.\n\u003C/p\u003E\n"},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2018-01-16T13:45:01Z","Content":"\n\u003Cp\u003E\nI bound the rover driving keys to IJKL, and I put the camera in locked mode behind the rover, use my left hand for WASD to control the reaction wheels, and thus the rotation of the rover, while my right hand does the actual driving on IJKL. So it\u0027s sort of like having an active suspension you can tweak while you drive.\n\u003C/p\u003E\n\u003Cp\u003E\nOverall it\u0027s not a bad idea, although as pointed out above, the actual use cases are few and far between so perhaps it\u0027s not a priority.\n\u003C/p\u003E\n\u003Cp\u003E\nAs an additional suggestion, I\u0027d personally like it if it the Engineer got that \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E capability instead of the Pilot. Would give them something to do and more of a reason to bring them along. Make them sort of a \u0022rover specialist.\u0022\n\u003C/p\u003E\n"},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2018-01-18T20:53:37Z","Content":"\n\u003Cp\u003E\nThis is why I ONLY drive with MechJeb\u0027s Rover Autopilot, with Stability Assist on. (Well over 5000km worth) There\u0027s a couple of other mods and KOS scripts that do the same thing.\n\u003C/p\u003E\n"},{"CreatedByName":"sevenperforce","CreatedById":157695,"CreatedDateTime":"2018-01-18T21:43:24Z","Content":"\n\u003Cp\u003E\nI usually set up a rover probe core using something like the RoveMax so that \u0022control from here\u0022 points me radial, and then I set \u0022hold radial out\u0022 on \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E and set the reaction wheels to \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E only. Can do it with other probe cores, or with a command seat probe core, using a vertically-oriented docking port.\n\u003C/p\u003E\n\u003Cp\u003E\nDoesn\u0027t hold me exactly parallel to the ground, but it holds me parallel to the sky, which is close enough.\n\u003C/p\u003E\n"},{"CreatedByName":"Corona688","CreatedById":2511,"CreatedDateTime":"2018-01-23T17:13:51Z","Content":"\n\u003Cp\u003E\nThe probe cores have a lot of useful functions which aren\u0027t adequately explained, \u0022radial out\u0022 is one of them.\u00A0 On surface mode it always points directly away from the planet.\n\u003C/p\u003E\n"}]}