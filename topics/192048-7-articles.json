{"TopicId":192048,"ForumId":34,"TopicTitle":"[1.4.3 \u0026lt;= KSP \u0026lt;= 1.12.5] KSP Recall - 0.5.0.2- 2024-0521","CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-03-01T08:43:09Z","PageNum":7,"Articles":[{"CreatedByName":"Gotmachine","CreatedById":163039,"CreatedDateTime":"2021-03-22T09:50:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943446\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616376353\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut they will not work properly, AFAIK, for modules that change things at runtime, as Pay for Play.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes they will. \u003Cspan\u003EProtoPartSnapshot.moduleCosts is recomputed every time the craft is unloaded. It is how recovery costs were computed pre 1.11.\u003Cbr\u003E\nAnd nothing has changed on that side, the KSP 1.11 issue is because when refactoring the recovery code to account for recovery costs of parts stored in inventories, Squad just forgot to apply it.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943446\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616376353\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBecause, potentially, every part have custom modules that calculate the costs differently. Doing this way the Refunding costs will be echoed on the savefile, and where it can be audited and fixed if needed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s my point. Your are reinventing the wheel for nothing. Stock already does it correctly, the result is readily available for you to use in ProtoPartSnapshot.moduleCosts.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943446\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616376353\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo an external and minimally intrusive (from the code point of view) solution is preferable.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s my other point. Your solution is intrusive and messy. I\u0027ve given you a code stub on github that fixes the issue in a much more cleaner way and that doesn\u0027t rely on any reverse engineering or reflection use, I don\u0027t know why you keep insisting on that.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943446\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616376353\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI need to cope with the fact that other people are modding things around here, and sooner or later this solution may stomp on someone\u0027s toes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYour solution has much more potential for side issues and unwanted interactions.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943446\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616376353\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EI DON\u0027T KNOW\u003C/strong\u003E\u00A0what\u0027s happening inside KSP as I didn\u0027t reverse engineered it as requested by Forum Rules.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf that where true, nobody would be able to mod anything. That rule is silly.\u003Cbr\u003E\nWe have almost zero documentation on what the KSP publicly available classes and members are doing.\u003Cbr\u003E\nDoesn\u0027t matter how you do it. Be it by analyzing and experimenting, or by decompiling the KSP assembly, in the end the act is the same \u003Cspan\u003E:\u003C/span\u003E you are figuring out the KSP code inner working, which is an act of reverse engineering.\u003Cbr\u003E\nThis being said, this rule exists for valid legal technicalities, we all understand that, and can be smart about it and do whatever we need to in private to make great mods for our beloved KSP.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-22T12:32:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes they will. \u003Cspan\u003EProtoPartSnapshot.moduleCosts is recomputed every time the craft is unloaded. It is how recovery costs were computed pre 1.11.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAnd how it\u0027s computed on 1.11?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnd nothing has changed on that side, the KSP 1.11 issue is because when refactoring the recovery code to account for recovery costs of parts stored in inventories, Squad just forgot to apply it.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood to know. However, I didn\u0027t knew at that time, and worked with whatever I had on hands relying the less I can on any related internal KSP mechanism that should be considered suspect at that time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s my point. Your are reinventing the wheel for nothing. Stock already does it correctly, the result is readily available for you to use in ProtoPartSnapshot.moduleCosts.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI reinvented the \u0022wheel\u0022 because I didn\u0027t trusted the wheel KSP was giving me. So instead of spending time (what I didn\u0027t had) on acquiring by myself all the details you provided now, I rewrote that part of the \u0022wheel\u0022\u00A0(essentially about 15 to 20 lines of code) and called it a day. All the remaining code was already written on other workarounds, so this was the fastest way out of the mess at that time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s my other point. Your solution is intrusive and messy. I\u0027ve given you a code stub on github that fixes the issue in a much more cleaner way and that doesn\u0027t rely on any reverse engineering or reflection use, I don\u0027t know why you keep insisting on that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMessy, yes. Intrusive? Nope. I added a resource and a module, exactly as every Add\u0027On do to add a feature.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reflection was being applied on\u00A0\u003Cstrong\u003Emy\u003C/strong\u003E\u00A0resource, that resource is not used by anyone else,\u00A0and no code are being injected on any other place.\n\u003C/p\u003E\n\u003Cp\u003E\nDoing it on a Module was the easiest way out of the problem at that time, and probably it still is - that stub you gave me on github need to be coded, tested and checked. The messy code I have now is already coded, tested and checked by the people that reported the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nYou see, there\u0027s a lot of man-hours already spent on the messy solution. I see no reason to throw it away and put a new code on the circuit to be tested again, unless the solution is proven to need more work than the work already spent on it (including testing by third parties).\n\u003C/p\u003E\n\u003Cp\u003E\nUntil the moment, problems are being solved by applying patches instead of publishing new code.\n\u003C/p\u003E\n\u003Cp\u003E\nYou are the one insisting on rewrite a working solution just because you find it \u0022messy\u0022 (not arguing about being messy or not).. Give me a compelling reason to throw away my testers\u0027 time and efforts, and I will code a new solution. But until there, things will stay as it is for while, as I have no enough time to do the other things I have to do, not to mention the people that reported and tested the solution until the moment.\n\u003C/p\u003E\n\u003Cp\u003E\nThat said, I\u0027m not telling you that your solution is not better. It appears to be. It just happens that it\u0027s not proven to be best enough to justify waving some other important things I need to do.\n\u003C/p\u003E\n\u003Cp\u003E\nA good enough solution \u003Cstrong\u003Enow\u003C/strong\u003E is better than an optimum solution next week.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYour solution has much more potential for side issues and unwanted interactions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nProve your point and I will listen. In the mean time, small \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E patches can work around the current ones without the need of new code.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf that where true, nobody would be able to mod anything. That rule is silly.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI agree. \u00A0But it\u0027s the rule, and sillier\u00A0rules was already enforced before - I just don\u0027t wanna take risks on this.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWe have almost zero documentation on what the KSP publicly available classes and members are doing.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI agree.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoesn\u0027t matter how you do it. Be it by analyzing and experimenting, or by decompiling the KSP assembly, in the end the act is the same \u003Cspan\u003E:\u003C/span\u003E you are figuring out the KSP code inner working, which is an act of reverse engineering\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt matters. Not everybody is an North-American living under North-American legal system.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a concept called \u0022clean room design\u0022. This is legal on every country I\u0027m aware of, and it\u0027s what I\u0027m doing for coding my add\u0027ons.\n\u003C/p\u003E\n\u003Cp\u003E\nDecompiling the KSP Assembly it\u0027s\u00A0legal on North-America (as far as I know), but it\u0027s not on some\u00A0other countries. Check about the TRIPS Agreement. So I will not do it\u003Cspan style=\u0022font-size:8px;\u0022\u003E (or admit I did)\u003C/span\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943534\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616406616\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis being said, this rule exists for valid legal technicalities, we all understand that, and can be smart about it and do whatever we need to in private to make great mods for our beloved KSP.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI agree. But different countries have different legal technicalities - so I decided to err to the safest side. Someone decides\u00A0to mess with me on my country, I will spend money defending myself - my country is signatory of the TRIPS Agreement and it trowed my legal system on what we call \u0022juridical insecurity\u0022 (something specially tricky on countries under the Roman Law system).\n\u003C/p\u003E\n\u003Cp\u003E\nI just don\u0027t want to take the risk, even by being pretty small.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-22T12:35:48Z\u0022 title=\u002203/22/2021 12:35  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 22, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003ETyops, as usulla.\n\u003C/span\u003E\n"},{"CreatedByName":"Gotmachine","CreatedById":163039,"CreatedDateTime":"2021-03-22T14:51:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943584\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616416369\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA good enough solution \u003Cstrong\u003Enow\u003C/strong\u003E is better than an optimum solution next week.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere it is, a better solution, \u0022now\u0022, that took me 2 hours to make and doesn\u0027t have any performance impact (contrary to your solution) nor unpredictable side effects \u003Cspan\u003E: \u003C/span\u003E\u003Ca href=\u0022https://gist.github.com/gotmachine/bb8f840eb36809a9f74b626eb8ccbfbb\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/gotmachine/bb8f840eb36809a9f74b626eb8ccbfbb\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the dll download for testing \u003Cspan\u003E: \u003C/span\u003E\u003Ca href=\u0022https://oshi.at/Lfimhc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://oshi.at/Lfimhc\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cimg alt=\u00229vaJuzU.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002269.93\u0022 height=\u0022379\u0022 width=\u0022542\u0022 src=\u0022https://i.imgur.com/9vaJuzU.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022CUOdeXI.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022123.40\u0022 height=\u0022501\u0022 width=\u0022406\u0022 src=\u0022https://i.imgur.com/CUOdeXI.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-22T15:08:25Z\u0022 title=\u002203/22/2021 03:08  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 22, 2021\u003C/time\u003E by Gotmachine\u003C/strong\u003E\n\u003Cbr\u003Eadded dll download\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-22T16:16:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943624\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616424683\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere it is, a better solution, \u0022now\u0022, that took me 2 hours to make and doesn\u0027t have any performance impact (contrary to your solution) nor unpredictable side effects \u003Cspan\u003E: \u003C/span\u003E\u003Ca href=\u0022https://gist.github.com/gotmachine/bb8f840eb36809a9f74b626eb8ccbfbb\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/gotmachine/bb8f840eb36809a9f74b626eb8ccbfbb\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the dll download for testing \u003Cspan\u003E: \u003C/span\u003E\u003Ca href=\u0022https://oshi.at/Lfimhc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://oshi.at/Lfimhc\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood, thank you.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen the people that tested my worse\u00A0solution try it and tell me that yours\u00A0works, then I will switch to your solution.\u00A0 I will reach them in private.\n\u003C/p\u003E\n\u003Cp\u003E\nUntil there, I will stick with what they tested for me until this moment.\n\u003C/p\u003E\n\u003Cp\u003E\n-- -- -- POST EDIT -- -- --\n\u003C/p\u003E\n\u003Cp\u003E\nOne of the beta testers confirmed the fix on a minimal test case of him (the one he cares), and he confirmed that the thing works (unsurprisingly). Also, unsurprisingly, he kinda complained that there\u0027s no visual cues from the fix happening - the Dialog shows the current,\u00A0\u003Cstrong\u003Ewrong\u003C/strong\u003E\u00A0values - the correct value is given back tough.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, your fix is not auditable and does not gives the user a visual cue that it\u0027s working. I think we need to improve that a bit to be a full replacement for the current, \u0022worst and messy\u0022, solution.\n\u003C/p\u003E\n\u003Cp\u003E\nI will give this a shot as RL allows.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-23T11:18:21Z\u0022 title=\u002203/23/2021 11:18  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 23, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Epost edit\n\u003C/span\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2021-03-23T05:30:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943624\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616424683\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere is the dll download for testing \u003Cspan\u003E: \u003C/span\u003E\u003Ca href=\u0022https://oshi.at/Lfimhc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://oshi.at/Lfimhc\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMalwareBytes is blocking this site. Could you mirror it? (Sorry, not going to unblock it)\n\u003C/p\u003E\n"},{"CreatedByName":"DarthPointer","CreatedById":203932,"CreatedDateTime":"2021-03-23T16:22:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223943654\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616429810\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/22/2021 at 7:16 PM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne of the beta testers confirmed the fix on a minimal test case of him (the one he cares), and he confirmed that the thing works (unsurprisingly). Also, unsurprisingly, he kinda complained that there\u0027s no visual cues from the fix happening - the Dialog shows the current,\u00A0\u003Cstrong\u003Ewrong\u003C/strong\u003E\u00A0values - the correct value is given back tough.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo make the things clear: wrong numbers are displayed in the \u0022total vessel cost\u0022 of stock\u0027s recovery report only in case of negative cost change from modules. Have not tested if it is the case if overall change is negative or it gets inconsistent even if only some of the modules bring negative change regardless the sign of sum.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/163039-gotmachine/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022163039\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/163039-gotmachine/\u0022 rel=\u0022\u0022\u003E@Gotmachine\u003C/a\u003E pin-n-ng, I guess I better make sure you are notified.\n\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2021-03-24T03:46:43Z","Content":"\n\u003Cp\u003E\nThink I may have discovered an issue with Recall - it *seems* to be connected to asteroids. Went on an asteroid-grabbing mission, grabbed asteroid, brought it back to Kerbin... can\u0027t revert to the space center. Bunch of exceptions from Recall...\n\u003C/p\u003E\n\u003Cp\u003E\nLog here: \u003Ca href=\u0022https://www.dropbox.com/s/igyykbmx6m8q1dj/KSPlog_recallexceptions.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/igyykbmx6m8q1dj/KSPlog_recallexceptions.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Hohmannson","CreatedById":202712,"CreatedDateTime":"2021-03-24T06:11:47Z","Content":"\n\u003Cp\u003E\nnvm, Lisias did a better one\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-24T06:17:13Z\u0022 title=\u002203/24/2021 06:17  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 24, 2021\u003C/time\u003E by Hohmannson\u003C/strong\u003E\n\u003Cbr\u003Elisias responded with a cleaner solution\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-24T06:13:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223944367\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616557603\u0022 data-ipsquote-userid=\u0022110936\u0022 data-ipsquote-username=\u0022AccidentalDisassembly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, AccidentalDisassembly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThink I may have discovered an issue with Recall - it *seems* to be connected to asteroids. Went on an asteroid-grabbing mission, grabbed asteroid, brought it back to Kerbin... can\u0027t revert to the space center. Bunch of exceptions from Recall...\n\u003C/p\u003E\n\u003Cp\u003E\nLog here: \u003Ca href=\u0022https://www.dropbox.com/s/igyykbmx6m8q1dj/KSPlog_recallexceptions.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/igyykbmx6m8q1dj/KSPlog_recallexceptions.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m far from my development\u00A0computer by now, so I made this kind from heart (I don\u0027t have 1.11 on anything else).\n\u003C/p\u003E\n\u003Cp\u003E\nCheck if it solves the issue, I will double check tomorrow.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[*]:HAS[@MODULE[Refunding],@MODULE[ModuleCargoPart]]\n{\n\t-MODULE[Refunding],* { }\n\t-RESOURCE[RefundingForKSP111x],* { }\n}\n\n@PART[*]:HAS[@MODULE[Refunding],@MODULE[ModuleAsteroid]]\n{\n\t-MODULE[Refunding],* { }\n\t-RESOURCE[RefundingForKSP111x],* { }\n}\n\n@PART[*]:HAS[@MODULE[Refunding],@MODULE[ModuleComet]]\n{\n\t-MODULE[Refunding],* { }\n\t-RESOURCE[RefundingForKSP111x],* { }\n}\n\n@PART[*]:HAS[@MODULE[Refunding],@MODULE[KerbalEVA]]\n{\n\t-MODULE[Refunding],* { }\n\t-RESOURCE[RefundingForKSP111x],* { }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nA new Recall release will be issue before the weekend, I will a fix for this on it (together the Fuel Switches one).\n\u003C/p\u003E\n\u003Cp\u003E\n--- POST EDIT ---\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223944389\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616566307\u0022 data-ipsquote-userid=\u0022202712\u0022 data-ipsquote-username=\u0022Hohmannson\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Hohmannson said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHope it will be that easy.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://getyarn.io/yarn-clip/82b6238b-1556-4398-a10b-5db598900e02\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://getyarn.io/yarn-clip/82b6238b-1556-4398-a10b-5db598900e02\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n-- -- -- POST EDIT -- - --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/202712-hohmannson/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022202712\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/202712-hohmannson/\u0022 rel=\u0022\u0022\u003E@Hohmannson\u003C/a\u003E, you ended up finding a bug... I forgot to correctly implement the deactivation code on Refunding. The present code will prevent it from running until\u00A0he vessel is copied, saved or recovered - situations where I forgot to check if the thing is disabled and prevent the Synchronous Update...\n\u003C/p\u003E\n\u003Cp\u003E\nWell, it will be fixed on the next release. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-24T08:00:40Z\u0022 title=\u002203/24/2021 08:00  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 24, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Epost edit\n\u003C/span\u003E\n"},{"CreatedByName":"Hohmannson","CreatedById":202712,"CreatedDateTime":"2021-03-24T09:39:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223944391\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616566399\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nprevent it from running\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe \u003Cabbr title=\u0022Part Action Window\u0022\u003EPAW\u003C/abbr\u003E button wasn\u0027t working and my \u0022soft\u0022 patch too? Well, then it wasn\u0027t that useless\u00A0\u003Cimg alt=\u0022:cool:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 title=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-27T14:32:30Z","Content":"\n\u003Ch2 style=\u0022background-color:#ffffff;border-bottom-color:#cccccc;border-bottom-style:solid;border-bottom-width:1px;color:#000000;font-size:24px;padding:0px;\u0022\u003E\nANNOUNCE\n\u003C/h2\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\n\u003Cspan\u003E\u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Recall/releases\u0022 rel=\u0022external nofollow\u0022\u003EKSP-Recall 0.0.7.7\u003C/a\u003E\u00A0\u003C/span\u003Eis on the Wild, featuring:\n\u003C/p\u003E\n\u003Cul style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\u003Cli\u003E\nAn improved\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022background-color:#f8f8f8;border:1px solid #eaeaea;padding:0px 5px;\u0022\u003ERefunding\u003C/code\u003E\u00A0 (hopefully) working on Fuel Switches and other add\u0027ons that mangle the resources of a part.\n\u003C/li\u003E\n\u003Cli\u003E\nSome general small fixes and improvements\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\nKnown Issues:\n\u003C/p\u003E\n\u003Cul style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\u003Cli\u003E\nKSP-Recall 0.0.7.7 changed a bit how\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022background-color:#f8f8f8;border:1px solid #eaeaea;padding:0px 5px;\u0022\u003ERefunding\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eworks, and in at least one situation a craft file created with the previous KSP-Recall release was loaded with the wrong prive on the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E, leading to wasting funds no launching it.\n\u003Cul\u003E\u003Cli\u003E\nChanging anything on the craft will trigger a recalculation, and the price will be corrected.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Chr style=\u0022background-color:#ffffff;border:0px none;color:#cccccc;font-size:14px;padding:0px;\u0022\u003E\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\n-- -- --\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\nThis Release will be published using the following Schedule:\n\u003C/p\u003E\n\u003Cul style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\u003Cli\u003E\nGitHub, reaching manual installers and users of KSP-AVC first. Right now.\n\u003C/li\u003E\n\u003Cli\u003E\nCurseForge. (Indefinitely delayed due a problem on uploading)\n\u003C/li\u003E\n\u003Cli\u003E\nSpaceDock (and \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E users). Right now\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\nThe reasoning is to gradually distribute the Release to easily monitor the deployment and cope with eventual mishaps.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-29T17:15:29Z\u0022 title=\u002203/29/2021 05:15  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 29, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003ECureseforge iIndefinitely delayed due a problem on uploading\n\u003C/span\u003E\n"},{"CreatedByName":"Gotmachine","CreatedById":163039,"CreatedDateTime":"2021-03-27T14:53:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223944108\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616516557\u0022 data-ipsquote-userid=\u0022203932\u0022 data-ipsquote-username=\u0022DarthPointer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/23/2021 at 5:22 PM, DarthPointer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo make the things clear: wrong numbers are displayed in the \u0022total vessel cost\u0022 of stock\u0027s recovery report only in case of negative cost change from modules.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMy mistake. In the gist I posted, on line 99, the two \u0022\u0026gt; 0.0\u0022 conditions should be \u0022!= 0.0\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-27T15:52:18Z","Content":"\n\u003Cp\u003E\nIn the mean time, KSP Recall 0.0.7.7 is working fine (hopefully at least!)\u00A0and it\u0027s available on GITHUB for the early adopters.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-27T18:16:11Z\u0022 title=\u002203/27/2021 06:16  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 27, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Ehopefully...\n\u003C/span\u003E\n"},{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2021-03-27T17:58:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223945651\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616855550\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Ch2 style=\u0022background-color:#ffffff;border-bottom-color:#cccccc;border-bottom-style:solid;border-bottom-width:1px;color:#000000;font-size:24px;padding:0px;\u0022\u003E\nANNOUNCE\n\u003C/h2\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\n\u003Cspan\u003E\u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Recall/releases\u0022 rel=\u0022external nofollow\u0022\u003EKSP-Recall 0.0.7.7\u003C/a\u003E\u00A0\u003C/span\u003Eis on the Wild, featuring:\n\u003C/p\u003E\n\u003Cul style=\u0022background-color:#ffffff;color:#000000;font-size:14px;\u0022\u003E\u003Cli\u003E\nAn improved\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022background-color:#f8f8f8;border:1px solid #eaeaea;padding:0px 5px;\u0022\u003ERefunding\u003C/code\u003E\u00A0 (hopefully) working on Fuel Switches and other add\u0027ons that mangle the resources of a part.\n\u003C/li\u003E\n\u003Cli\u003E\nSome general small fixes and improvements\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI had a hilarious moment last where a wing developed a \u0022refunding leak\u0022 with Oh Scrap! \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EYup, not gonna get my deposit back on *that* craft when I return it to the rental agency.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI\u0027ll try this newer version out to see if that\u0027s still a (potential) issue.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-27T18:08:17Z\u0022 title=\u002203/27/2021 06:08  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 27, 2021\u003C/time\u003E by Beetlecat\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2021-03-28T20:10:10Z","Content":"\n\u003Cp\u003E\nJust removed 0.0.7.5 and then loaded a ship in \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E and it\u0027s spamming the KSP log:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nNode \u0027Refunding\u0027 found in loaded data, but \u0027TweakScale\u0027 is defined in prefab.\u003Cbr\u003E\nLooking for Refunding in other indices...\u003Cbr\u003E\n[WRN 12:01:39.524] ...no Refunding module found on part definition. Skipping...\u003Cbr\u003E\n[WRN 12:01:39.525] [Part]: PartModule indexing mismatch at pointyNoseConeA, index 3.\u003Cbr\u003E\nNode \u0027Refunding\u0027 found in loaded data, but \u0027TweakScale\u0027 is defined in prefab.\u003Cbr\u003E\nLooking for Refunding in other indices...\u003Cbr\u003E\n[WRN 12:01:39.525] ...no Refunding module found on part definition. Skipping...\u003Cbr\u003E\n[WRN 12:01:39.525] Could not create PartResource of type \u0027RefundingForKSP111x\u003Cbr\u003E\n[WRN 12:01:39.525] Could not create PartResource of type \u0027RefundingForKSP111x\u003Cbr\u003E\n[WRN 12:01:39.526] [Part]: PartModule Refunding at strutConnector, index 4: index exceeds module count as defined in cfg.\u003Cbr\u003E\nLooking for Refunding in other indices...\u003Cbr\u003E\n[WRN 12:01:39.526] ...no Refunding module found on part definition. Skipping...\u003Cbr\u003E\n[WRN 12:01:39.526] Could not create PartResource of type \u0027RefundingForKSP111x\u003Cbr\u003E\n[WRN 12:01:39.526] Could not create PartResource of type \u0027RefundingForKSP111x\u003Cbr\u003E\n[WRN 12:01:39.528] [Part]: PartModule Refunding at strutConnector, index 4: index exceeds module count as defined in cfg.\u003Cbr\u003E\nLooking for Refunding in other indices...\u003Cbr\u003E\n[WRN 12:01:39.528] ...no Refunding module found on part definition. Skipping...\u003Cbr\u003E\n[WRN 12:01:39.528] Could not create PartResource of type \u0027RefundingForKSP111x\u003Cbr\u003E\n[WRN 12:01:39.528] Could not create PartResource of type \u0027RefundingForKSP111x\u003Cbr\u003E\n[WRN 12:01:39.529] [Part]: PartModule indexing mismatch at basicFin, index 2.\u003Cbr\u003E\nNode \u0027Refunding\u0027 found in loaded data, but \u0027TweakScale\u0027 is defined in prefab.\u003Cbr\u003E\nLooking for Refunding in other indices...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n[ERR 12:02:14.752] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.752] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.901] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.901] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.902] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.902] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.902] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.902] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.902] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 12:02:14.988] [ShipTemplate]: No Resource definition found for RefundingForKSP111x\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI\u0027m manually removing dozens of these in a few recent .craft files:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nMODULE\u003Cbr\u003E\n\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = Refunding\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0isEnabled = True\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0stagingEnabled = True\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0EVENTS\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ACTIONS\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0UPGRADESAPPLIED\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0RESOURCE\u003Cbr\u003E\n\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = RefundingForKSP111x\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0amount = 0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0maxAmount = 1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0flowState = True\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0isTweakable = False\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0hideFlow = True\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0isVisible = True\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0flowMode = Both\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nHope that fixes them.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-28T20:19:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223946142\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616962210\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust removed 0.0.7.5 and then loaded a ship in \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E and it\u0027s spamming the KSP log\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep. Once you install a Add\u0027On (\u003Cstrong\u003Eany\u003C/strong\u003E\u00A0add\u0027on) and create crafts, onde you desinstall the add\u0027on (\u003Cstrong\u003Eany\u003C/strong\u003E\u00A0add\u0027on), you will get exactly this log spam.\n\u003C/p\u003E\n\u003Cp\u003E\nThis happens with\u00A0\u003Cstrong\u003Eall add\u0027ons\u003C/strong\u003E\u00A0on KSP, being KSP-Recall just one of them. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223946142\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616962210\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m manually removing dozens of these in a few recent .craft files:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo need to manually remove them. Loading them and saving\u00A0them will do the same, including on running savegames.\n\u003C/p\u003E\n\u003Cp\u003E\nAs with every other add\u0027on on KSP, by the way. KSP-Recall is not different from anything else. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223946142\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616962210\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHope that fixes them.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo tell you the true, you are breaking them.\n\u003C/p\u003E\n\u003Cp\u003E\nKSP-Recall only install the Modules you need on your installment, so by not using them you are getting back the problems you had before installing it.\n\u003C/p\u003E\n\u003Cp\u003E\nBe sure to do not use any add\u0027on that changes the cost of a part while playing Career.\n\u003C/p\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2021-03-28T20:58:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223946145\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616962750\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n37 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo need to manually remove them. Loading them and saving\u00A0them will do the same, including on running savegames.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s a relief. One craft had \u0022refund\u0022 171 times\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWell, I was having problems with stackable parts not stacking in cargo storage again. I\u0027ll try to see why the patch wasn\u0027t\u00A0working now.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-28T21:11:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223946163\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616965088\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/28/2021 at 5:58 PM, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s a relief. One craft had \u0022refund\u0022 171 times\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou will have one \u003Cstrong\u003ERefund\u003C/strong\u003E Module for each (supported) part. \u003Cstrong\u003ERefund\u003C/strong\u003E works on the part it\u0027s installed, and only on it - so any problem we may get on it will be easily solved on the field by a \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E patch (or by you manually deactivating it on the Editor).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223946163\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616965088\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/28/2021 at 5:58 PM, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, I was having problems with stackable parts not stacking in cargo storage again. I\u0027ll try to see why the patch wasn\u0027t\u00A0working now.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat was a problem on previous Recall releases because Stackable parts can\u0027t have \u0022State\u0022 (ie, something that could make a part different from other of the same type, as fuel: one part may be empty, other may be full), and I didn\u0027t realised that until someone reported the problem. I solved this by preventing Refund to be patched on parts that have \u003Cstrong\u003EModuleCargoPart\u003C/strong\u003E , the stock module that stackable parts should have. This was fixed on 0.0.7.6, IIRC. (I just fired up 1.11.2 with Recall 0.0.7.6 and the stackable parts are being stacked allright)\n\u003C/p\u003E\n\u003Cp\u003E\nIn time....\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u00A0\u003Cs\u003E-- -- -- \u003Cspan style=\u0022font-size:24px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003EMETAR\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E -- -- --\u00A0\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003ECurseforge will not be updated for some time, as I\u0027m facing problems on uploading the release - the site refuses my zip complaining about a \u0022invalid JSON\u0022. I opened a ticked, but until this is solved by Overworlf, KSP-Recall will not be updated on\u00A0Curseforge. \u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/span\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCurseforge problem fixed.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-30T10:31:35Z\u0022 title=\u002203/30/2021 10:31  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 30, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003ECurseforge problem fixed.\n\u003C/span\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2021-03-28T21:30:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223946168\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616965895\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI didn\u0027t realised that until someone reported the problem\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRight - that was me. And the patch you provided was and\u00A0is still working. I figured out the issue I saw - no problem. The long story- I saved a craft with 2 Ant engines in cargo not stacked, then later applied the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch, then reloaded the craft and tried to stack those 2\u00A0Ants... that didn\u0027t work. So I just removed them and replaced with \u0022fresh\u0022 Ants and they do stack.\u00A0 Makes sense now.\n\u003C/p\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2021-03-31T01:13:46Z","Content":"\n\u003Cp\u003E\nSorry, I was lazy and waited for the \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E 0.0.7.7 release. I removed the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E patch for 0.0.7.5 BTW.\u00A0I got about 200 NREs on parts on the first load. I just went to the main menu and exited. Example:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n[LOG 17:09:28.353] PartLoader: Compiling Part \u0027Squad/Parts/Command/mk1pod/mk1Pod/mk1pod\u0027\u003Cbr\u003E\n[ERR 17:09:28.357] Module Refunding threw during OnLoad: System.NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0 at KSP_Recall.Refunds.Refunding.RestoreResource () [0x00057] in \u0026lt;826af266ea6e42c19f19ea13d43542a7\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at KSP_Recall.Refunds.Refunding.OnLoad (ConfigNode node) [0x00066] in \u0026lt;826af266ea6e42c19f19ea13d43542a7\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at PartModule.Load (ConfigNode node) [0x001ab] in \u0026lt;06f13185617646e5bc801baeab53ab75\u0026gt;:0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[LOG 17:09:28.363] PartLoader: Part \u0027Squad/Parts/Command/mk1pod/mk1Pod/mk1pod\u0027 has no database record. Creating.\u003Cbr\u003E\n[LOG 17:09:28.363] [DragCubeSystem]: Drag cubes not found or cannot be read for part Part. Generating New drag cubes.\u003Cbr\u003E\n[LOG 17:09:28.365] DragCubeSystem: Creating drag cubes for part \u0027mk1pod\u0027\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI didn\u0027t see a pattern of why some parts had this error and some did not. I tried again and it did the same thing.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/3m5j8hs2ee1xqon/KSP%20copy%2019.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EKSP log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt passed the sanity check...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n[LOG 17:10:20.284] [KSP_Recall] INFO: SanityCheck Concluded : 492 parts found ; 0 parts using Resourceful ; 0 parts using Driftless ; 0 parts using Attached ; 0 parts using ChillingOut ; 0 show stoppers detected .\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nUPDATE: I just ignored the errors\u00A0and everything seems OK. vOv\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-31T04:12:17Z\u0022 title=\u002203/31/2021 04:12  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 31, 2021\u003C/time\u003E by Krazy1\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dodge","CreatedById":210756,"CreatedDateTime":"2021-03-31T08:43:33Z","Content":"\n\u003Cp\u003E\nJust tested this with 1.11.2, it is working when I recover directly, but when I recover from space center,\u00A0 or using FMRS, the \u0022refund\u0022 part is still 0. I guess I can bypass the space center recovery, but is there a plan to support FMRS somehow?\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-03-31T11:29:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223947235\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617180213\u0022 data-ipsquote-userid=\u0022210756\u0022 data-ipsquote-username=\u0022Dodge\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/31/2021 at 5:43 AM, Dodge said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust tested this with 1.11.2, it is working when I recover directly, but when I recover from space center,\u00A0 or using FMRS, the \u0022refund\u0022 part is still 0.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHumm... I missed the Space Center recovering Use Case. It will probably cover the FMRS Use Case too...\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the report, I will try to get it fixed by the WeekEnd!\n\u003C/p\u003E\n\u003Cp\u003E\n-- -- POST EDIT -- --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYep... The Refunding doesn\u0027t works when the vessel is on Rails. Fix appears to be simple, trying it today. Wish me luck! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n-- -- POST POST EDIT -- --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIncredible - I was typing the last post edit when I got a call with an emergency on a client. Incredible! \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E-- -- POST POST POST EDIT -- --\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThats the thing: the\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGameEvents.OnVesselRecoveryRequested\u003C/span\u003E event is only fired when the craft being recovered has the focus.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EWhen you recover it from the Space Center, from the Tracking Stating and from FMRS, that Event is not called - so my PartModule failed on recalculate the costs.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ESo my clever trick to prevent some spamming had failed, and I really need to spam the Refunding Resource on evert part that appears to need it, as there\u0027s no real standard way to detect when the part is being recovered.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003E\u003Cspan\u003EFortunately, until the moment every time the craft is in the imminence of being recovered, the Save callback is summoned. So I have a pretty \u0026amp; cozy place to shove the Refunding process without having to worry about every single possible way a craft is recovered on the game. What reverted the solution to my initial approach, recalculating\u00A0this thing everywhere instead of trying to being smart and only doing it when the craft was being recovered.\u003C/span\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAs I said before, I\u0027m not the only one modding around here, and one size does not fits all.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nTL;DR: The overall solution is being reworked to be less \u0022smart\u0022. I\u0027m currently tackling down some small glitches (re)introduced by the change, then I will test the thing on FMRS to see what happens.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a good change to have a new Release before the WeekEnd (famous last words...)\n\u003C/p\u003E\n\u003Cp\u003E\n-- -- -- POST POST POST POST EDIT -- -- --\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYeah. \u0022Lucky\u0022. (sigh)\n\u003C/p\u003E\n\u003Cp\u003E\nThat \u0022Save\u0022 I detected was being triggered by FMRS. Without it, recovering vessels from the Space Center or Tracking Station does not triggers a PartModule.Save. So I kinda back to square one on this.\n\u003C/p\u003E\n\u003Cp\u003E\nWell, there\u0027re some more options to explore....\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-01T22:46:20Z\u0022 title=\u002204/01/2021 10:46  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 1, 2021\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Epost post post edit\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-04-02T02:43:18Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cspan style=\u0022color:#16a085;\u0022\u003ENOTAM\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCooked a way to allow correctly recovering of funds when the recovering is made from Space Center or Tracking Station (or anywhere else). The current fix should work with FMRS and Stage Recovery too (still to be tested).\n\u003C/p\u003E\n\u003Cp\u003E\nMy problem now is to overcome the limitation on \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModuleCargoPart\u003C/span\u003E , that doesn\u0027t allows parts with resources to be Stackable.\n\u003C/p\u003E\n\u003Cp\u003E\nThe current workaround is terribly naive, I just don\u0027t Refund on them.\u00A0The second less naive solution would be to avoid patching Refund on parts with ModuleCargoPart and that also have no resources, but that would not improve the situation too much.\n\u003C/p\u003E\n\u003Cp\u003E\nThe ideal solution I\u0027m pursuing now is to try to detect when the part is stored or in the imminence of being stored and then remove the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERefunding\u003C/span\u003E Resource from it, and applying the Resource back when the part is removed from storage: the metadata is stored on the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERefunding\u003C/span\u003E Module and it\u0027s persisted on saving the craft, so we can get rid of the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERefunding\u003C/span\u003E Resource at any time, and then apply it back when needed.\n\u003C/p\u003E\n\u003Cp\u003E\nThis will not solve all use cases (as recovering stacked\u00A0parts with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EIPartCostModifier\u003C/span\u003E modules ), but it will allow these parts\u00A0to be correctly refunded when recovered in use -\u00A0unless, of course, I manage to trick the code to inject a Resource on a stored\u00A0part without screwing up KSP\u0027s guts\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2021-04-02T09:56:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223948032\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617331398\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy problem now is to overcome the limitation on \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModuleCargoPart\u003C/span\u003E , that doesn\u0027t allows parts with resources to be Stackable.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmmm. How about doing oposite ? Allow to parts be stackable only if their resources are completely empty. That way all of allowed stackable parts will be identical and no need to worry about resource costs. Also no need to track down each part exact properties. Only one set of properties would be required, that could improve performace for a bit too.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-04-02T11:02:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223948107\u0022 data-ipsquote-contentid=\u0022192048\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617357393\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n42 minutes ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHmmm. How about doing oposite ? Allow to parts be stackable only if their resources are completely empty. That way all of allowed stackable parts will be identical and no need to worry about resource costs. Also no need to track down each part exact properties. Only one set of properties would be required, that could improve performace for a bit too.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe problem is not resources, but the \u0022Meta Resource\u0022 I use to induce KSP into behaving\u00A0while recovering costs.\n\u003C/p\u003E\n\u003Cp\u003E\nInitially, I thought things would be \u0022easy\u0022 (famous last words) due \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EOnVesselRecoveryRequested\u003C/span\u003E\u00A0 - the perfect solution, the vessel is communicated she is going to be recovered, so this is the perfect point to inject the needed Meta Data on the circuit.\n\u003C/p\u003E\n\u003Cp\u003E\nProblem: it is only\u00A0called on vessels that are unpacked - obviously. (sigh). It\u0027s the reason it was failing when you recover the vessel from Space Center and Tracking Station, everything is packed on these scenes.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I need to be sure to inject the \u0022Meta Resource\u0022 preemptively, so if the worst happens, the \u0022Meta Resource\u0022 is there. But that screwed up the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModuleCargoPart\u003C/span\u003E stackable feature - and with people modding the game and injecting \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModuleCargoPart\u003C/span\u003E on everything, this will be a hell of a problem.\n\u003C/p\u003E\n\u003Cp\u003E\nMy current shot, and I\u0027m going to test this now, is to apply the\u00A0\u0022Meta Resource\u0022 on packing and remove it on unpacking. I hope (Faith Programming, baby!! \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\u00A0Developing on KSP made me a man of Faith!) that whatever check is done while stacking things, it\u0027s done with the part unpacked. Of course this will almost surely prevent the stacked part to be correctly recovered, as the \u0022Meta Resource\u0022 will be probably forgotten on stacking,\u00A0but at least I keep these parts recoverable on every other situation.\n\u003C/p\u003E\n\u003Cp\u003E\nSince we are here, I wonder how Recall is behaving on \u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E (got no time to test it). \u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E way to cope with this is way better, you whitelist a module and \u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E is\u00A0done - it\u0027s up to the whitelisted module to find his way out of the mess. This must cope with Recall pretty well - but, as always, I need to test to confirm.\n\u003C/p\u003E\n"}]}