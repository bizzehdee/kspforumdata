{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":393,"Articles":[{"CreatedByName":"Matteo391","CreatedById":217777,"CreatedDateTime":"2022-02-13T16:59:56Z","Content":"You can send me a link to 0.08x version?"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2022-02-13T19:12:43Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Matteo391 said:\n\u003E \n\u003E \n\u003E You can send me a link to 0.08x version?\n\u003E \n\nIt\u0027s currently removed for a (hopefully temporary) GPL issue, but if you check your PM inbox, you might find some help in the meantime... ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"Stolas","CreatedById":214430,"CreatedDateTime":"2022-02-14T10:55:25Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E I\u0027m not sure what you\u0027re asking exactly, but the simplest way to change brightness is to increase skyExposure and scatteringExposure from the GUI as it says in that page I linked. This works even for old versions. Some example screenshots are right there in that same page.\n\u003E \n\nI mean to reduce the brightness of the Kerbin from orbit so that it would not shine so much"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-02-15T21:30:28Z","Content":"\u003E \n\u003E \n\u003E On 2/14/2022 at 11:55 AM, Stolas said:\n\u003E \n\u003E \n\u003E I mean to reduce the brightness of the Kerbin from orbit so that it would not shine so much\n\u003E \n\nHello Stolas,\n\nYou can take a look at this album to understand how to do you want to do.\n\n[https://imgur.com/gallery/Uz06VHo](https://imgur.com/gallery/Uz06VHo)\n\nBasic scatterer config:\n\nSpoiler\n\n![Z7sdlbj.jpeg](https://i.imgur.com/Z7sdlbj.jpeg)\n\nReduce scatteringExposure:\n\nSpoiler\n\n![Ftr904E.jpeg](https://i.imgur.com/Ftr904E.jpeg)\n\nReduce skyExposure to match with scatteringExposure:\n\nSpoiler\n\n![JBjbVxI.jpeg](https://i.imgur.com/JBjbVxI.jpeg)\n\nYou can also reduce shininess of ocean:\n\nSpoiler\n\n![Tw03pPs.jpeg](https://i.imgur.com/Tw03pPs.jpeg)\n\nDon\u0027t forget to do that at your last config point if you just tweak brightness in space:\n\nSpoiler\n\n![junyAXT.jpeg](https://i.imgur.com/junyAXT.jpeg)\n\n**Edited \u003Ctime datetime=\u00222022-02-15T21:35:03Z\u0022 title=\u002202/15/2022 09:35  PM\u0022 data-short=\u00222 yr\u0022\u003EFebruary 15, 2022\u003C/time\u003E by Vandest**"},{"CreatedByName":"Silvia Dragoness","CreatedById":218990,"CreatedDateTime":"2022-02-15T21:47:06Z","Content":"Here\u0027s an annoying little bug:\n\nOn launch, everything seems fine.  Maybe a little excess brightness/saturation on UI elements, but I suspect that\u0027s Windows being weird.\n\nHowever, if I make just about any change in KSP\u0027s graphics settings, the whole game gets significantly less bright and less saturated, and suddenly my ships become translucent.  See screenshot:\n\nSpoiler\n\n![M3a365v.png](https://i.imgur.com/M3a365v.png)\n\nI thought it might be an issue with Textures Unlimited, but after removing TU (and 3 other mods that depended on it), the problem persisted.  Removed Scatterer, problem disappeared.\n\nKSP.log from a subsequent test run with slightly older version Scatterer (v0.0830, problem returned): [https://www.dropbox.com/s/hs574zsf570sj8k/KSP.log -scatterer transparency bug.txt?dl=0](https://www.dropbox.com/s/hs574zsf570sj8k/KSP.log%20-scatterer%20transparency%20bug.txt?dl=0)"},{"CreatedByName":"AtomicTech","CreatedById":210823,"CreatedDateTime":"2022-02-15T21:49:43Z","Content":"\u003E \n\u003E \n\u003E Just now, Silvia Dragoness said:\n\u003E \n\u003E \n\u003E Here\u0027s an annoying little bug:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E On launch, everything seems fine.  Maybe a little excess brightness/saturation on UI elements, but I suspect that\u0027s Windows being weird.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E However, if I make just about any change in KSP\u0027s graphics settings, the whole game gets significantly less bright and less saturated, and suddenly my ships become translucent.  See screenshot:\n\u003E \n\u003E \n\u003E \n\u003E Hide contents\n\u003E \n\u003E \n\u003E [![M3a365v.png](https://i.imgur.com/M3a365v.png)](https://i.imgur.com/M3a365v.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E I thought it might be an issue with Textures Unlimited, but after removing TU (and 3 other mods that depended on it), the problem persisted.  Removed Scatterer, problem disappeared.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP.log from a subsequent test run with slightly older version Scatterer (v0.0830, problem returned): [https://www.dropbox.com/s/hs574zsf570sj8k/KSP.log -scatterer transparency bug.txt?dl=0](https://www.dropbox.com/s/hs574zsf570sj8k/KSP.log%20-scatterer%20transparency%20bug.txt?dl=0)\n\u003E \n\nIt might not be the best possible result but man! That translucent rocket looks awesome!"},{"CreatedByName":"Silvia Dragoness","CreatedById":218990,"CreatedDateTime":"2022-02-15T22:45:16Z","Content":"\u003E \n\u003E \n\u003E 52 minutes ago, AtomicTech said:\n\u003E \n\u003E \n\u003E It might not be the best possible result but man! That translucent rocket looks awesome!\n\u003E \n\nI\u0027m glad you like it.  Personally, that\u0027s what I\u0027m trying to *stop* from happening."},{"CreatedByName":"Benzo Kerman","CreatedById":218403,"CreatedDateTime":"2022-02-16T02:49:45Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Silvia Dragoness said:\n\u003E \n\u003E \n\u003E However, if I make just about any change in KSP\u0027s graphics settings, the whole game gets significantly less bright and less saturated, and suddenly my ships become translucent.\n\u003E \n\nThis is caused because of the Scatterer depth buffer mode, which is incompatible with the stock anti-aliasing, which is MSAA. Scatterer disables the MSAA on scene change and replaces it with it\u0027s own anti-aliasing. So when you change your settings, you re-apply the MSAA causing the visuals to break. This can be fixed with a scene change, so like a quicksave/quickload, or maybe giong into map veiw and then back. Or you could disable the Scatterer depth-buffer mode in the Scatterer menu, at the cost of having much worse preformance. Hope this works!"},{"CreatedByName":"RyanRising","CreatedById":79932,"CreatedDateTime":"2022-02-16T22:33:52Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, Benzo Kerman said:\n\u003E \n\u003E \n\u003E This is caused because of the Scatterer depth buffer mode, which is incompatible with the stock anti-aliasing, which is MSAA. Scatterer disables the MSAA on scene change and replaces it with it\u0027s own anti-aliasing. So when you change your settings, you re-apply the MSAA causing the visuals to break. This can be fixed with a scene change, so like a quicksave/quickload, or maybe giong into map veiw and then back. Or you could disable the Scatterer depth-buffer mode in the Scatterer menu, at the cost of having much worse preformance. Hope this works!\n\u003E \n\nIt\u2019s no longer possible to disable the depth-buffer mode in the latest versions of Scatterer, is it?"},{"CreatedByName":"Benzo Kerman","CreatedById":218403,"CreatedDateTime":"2022-02-16T23:49:12Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, RyanRising said:\n\u003E \n\u003E \n\u003E It\u2019s no longer possible to disable the depth-buffer mode in the latest versions of Scatterer, is it?\n\u003E \n\nOh yeah, your right. However disabling the \u0022Merge depth pre-pass\u0022 option still allows MSAA to work. But there is still no built in option for it in Scatterer."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-02-17T09:59:01Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, Benzo Kerman said:\n\u003E \n\u003E \n\u003E Oh yeah, your right. However disabling the \u0022Merge depth pre-pass\u0022 option still allows MSAA to work. But there is still no built in option for it in Scatterer.\n\u003E \n\nTo be clear, MSAA being incompatible now doesn\u0027t mean it stops working completely, it still works but you get artifacts and black edges with Scatterer effects (which you can actually see around the horizon in the screenshot posted) so I disable it on scene changes, if you reapply it manually you get those artifacts back. Haven\u0027t see this transparency issue before though.\n\n[@Silvia Dragoness](https://forum.kerbalspaceprogram.com/index.php?/profile/218990-silvia-dragoness/)if you apply the settings it might reapply msaa so set msaa to 0x (and also how often do you need to change your settings in-flight and why?)\n\n**Edited \u003Ctime datetime=\u00222022-02-17T10:15:19Z\u0022 title=\u002202/17/2022 10:15  AM\u0022 data-short=\u00222 yr\u0022\u003EFebruary 17, 2022\u003C/time\u003E by blackrack**"},{"CreatedByName":"Grem","CreatedById":147269,"CreatedDateTime":"2022-02-18T03:41:11Z","Content":"\u003E \n\u003E \n\u003E On 7/12/2021 at 11:21 AM, Diddly Feelerino said:\n\u003E \n\u003E \n\u003E Should clarify; older iterations showed a clear flare over the stock sun (rather than it being front and centre); for example from JadeofMaars mod;  \n\u003E   \n\u003E [https://imgur.com/2U1t1nO](https://imgur.com/2U1t1nO)  \n\u003E   \n\u003E \n\u003E Already tried setting syntax =1 or deleting the line entirely but the central stock sun still ruins the flare. Almost as if it is in \u0022front\u0022 of the flare rather than behind it.....\n\u003E \n\nHave you found a solution to this problem?"},{"CreatedByName":"Benzo Kerman","CreatedById":218403,"CreatedDateTime":"2022-02-18T06:30:28Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Grem said:\n\u003E \n\u003E \n\u003E Have you found a solution to this problem?\n\u003E \n\nI wouldn\u0027t say that this is a problem- I think it\u0027s meant to be that way. If you do want a different sunflare, you could still download Sunflares of Maar. Edit: I see you have posted in the Sunflares of Maar page as well, I can try to help over there.\n\n**Edited \u003Ctime datetime=\u00222022-02-18T06:34:00Z\u0022 title=\u002202/18/2022 06:34  AM\u0022 data-short=\u00222 yr\u0022\u003EFebruary 18, 2022\u003C/time\u003E by Benzo Kerman**"},{"CreatedByName":"Grem","CreatedById":147269,"CreatedDateTime":"2022-02-18T08:12:52Z","Content":"[@Benzo Kerman](https://forum.kerbalspaceprogram.com/index.php?/profile/218403-benzo-kerman/)\n\nThe fact is that I haven\u2019t played for a while, maybe now everything works differently, but earlier I used JadeOfMaar\u2019s solar flares for several years, and they looked great, as in the screenshots in his description:\n\nSpoiler\n\n![1Hx4DXq.jpg](https://i.imgur.com/1Hx4DXq.jpg)\n\nAnd now they don\u0027t work at all. I found a message that after some changes in Scatterer, you need to add a syntax exception to the configuration file:\n\nSpoiler\n\n![GEOli3d.png](https://i.imgur.com/GEOli3d.png)\n\nAfter that, the flashes partially worked, but as reported by many, only part of the effects are visible, the sun itself looks as if it had not changed:\n\n[https://imgur.com/a/DXQN7xd](https://imgur.com/a/DXQN7xd)"},{"CreatedByName":"Benzo Kerman","CreatedById":218403,"CreatedDateTime":"2022-02-18T21:33:39Z","Content":"[@Grem](https://forum.kerbalspaceprogram.com/index.php?/profile/147269-grem/) Yeah, although it looks like its working, it doesn\u0027t look quite right, does it. I use the Ursa Minor flare from Sunflares of Maar, which still looks good in my mind. Maybe see if you like that one?"},{"CreatedByName":"Stolas","CreatedById":214430,"CreatedDateTime":"2022-02-19T14:33:12Z","Content":"so I\u0027ll start with the fact that after downloading the newest version of scatterer for ksp 1.11.2 (not version 0.8\u002B), my game turned into a sea of pixels and older versions do not save settings that are not included in the list of scatterers in the game. what should I do?\n\nI have the highest graphics settings in the game\n\n![screenshot15.png](https://cdn.discordapp.com/attachments/857203221231960066/944601569427587112/screenshot15.png)"},{"CreatedByName":"RyanRising","CreatedById":79932,"CreatedDateTime":"2022-02-19T19:21:18Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Stolas said:\n\u003E \n\u003E \n\u003E so I\u0027ll start with the fact that after downloading the newest version of scatterer for ksp 1.11.2 (not version 0.8\u002B), my game turned into a sea of pixels and older versions do not save settings that are not included in the list of scatterers in the game. what should I do?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have the highest graphics settings in the game\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![screenshot15.png](https://cdn.discordapp.com/attachments/857203221231960066/944601569427587112/screenshot15.png)](https://cdn.discordapp.com/attachments/857203221231960066/944601569427587112/screenshot15.png \u0022Enlarge image\u0022)\n\u003E \n\nYou\u2019re going to have to be a bit more specific, but by \u201Csea of pixels\u201D do you mean the artefacts you can see around edges and find details? If so, that\u2019s caused by the default depth buffer mode, since it disables MSAA by default as mentioned above, and tries to compensate with SMAA. I don\u2019t know what you mean by \u201Csettings that aren\u2019t included in the list of scatterers in the game,\u201D so I can\u2019t offer any insight there."},{"CreatedByName":"Stolas","CreatedById":214430,"CreatedDateTime":"2022-02-20T05:27:59Z","Content":"1) why these settings cannot be changed in the game. after changing them, nothing happens in the game    ![unknown.png](https://cdn.discordapp.com/attachments/857203221231960066/944826498236416041/unknown.png)\n\n2) why do I have 2 different Kerbins? pay attention to the sunset\n\n![unknown.png](https://cdn.discordapp.com/attachments/857203221231960066/944824736091869315/unknown.png)\n\n![unknown.png](https://cdn.discordapp.com/attachments/857203221231960066/944824993274028033/unknown.png)\u0430"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-02-20T07:27:23Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Stolas said:\n\u003E \n\u003E \n\u003E 1) why these settings cannot be changed in the game. after changing them, nothing happens in the game    [![unknown.png](https://cdn.discordapp.com/attachments/857203221231960066/944826498236416041/unknown.png)](https://cdn.discordapp.com/attachments/857203221231960066/944826498236416041/unknown.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 2) why do I have 2 different Kerbins? pay attention to the sunset\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![unknown.png](https://cdn.discordapp.com/attachments/857203221231960066/944824736091869315/unknown.png)](https://cdn.discordapp.com/attachments/857203221231960066/944824736091869315/unknown.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![unknown.png](https://cdn.discordapp.com/attachments/857203221231960066/944824993274028033/unknown.png)](https://cdn.discordapp.com/attachments/857203221231960066/944824993274028033/unknown.png \u0022Enlarge image\u0022)\u0430\n\u003E \n\n1) Change configpoint\n\n2)\n\n![wlud3RT.png](https://i.imgur.com/wlud3RT.png)"},{"CreatedByName":"Stolas","CreatedById":214430,"CreatedDateTime":"2022-02-20T08:35:38Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E 1) Change configpoint\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 2)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![wlud3RT.png](https://i.imgur.com/wlud3RT.png)](https://i.imgur.com/wlud3RT.png \u0022Enlarge image\u0022)\n\u003E \n\nhow can I change configpoint?"},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2022-02-20T09:58:48Z","Content":"Experimentation goes a long way."},{"CreatedByName":"Apollo 13","CreatedById":201614,"CreatedDateTime":"2022-02-20T23:34:42Z","Content":"How do you fix the atmosphere lighting being high up on some planets."},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2022-02-24T15:26:53Z","Content":"Some content has been removed.\n\nPlease remember some aspects of the game are not obvious to everybody.   And also, people here are quite helpful, work with them to help you figure out your issues."},{"CreatedByName":"Flipper028","CreatedById":208053,"CreatedDateTime":"2022-02-27T01:30:14Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)\n\nSo I am getting log spam from scatterer when loading some planet packs. JNSQ and Beyond home work fine and look great, but Galaxies Unbound and Precursors give me game crippling log spam as you can see from the links. Loading into the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E doesnt give any errors but it starts immediately when entering flight mode or the tracking station and persists back at the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E. I assume this is some kind of config issue. Any ideas?\n\n[ksp log](https://www.dropbox.com/s/b63axhgrdgewp3r/KSP.log?dl=0)\n\n[player log](https://www.dropbox.com/s/wha7h7192nchvon/Player.log?dl=0)"},{"CreatedByName":"Invader_guy","CreatedById":137198,"CreatedDateTime":"2022-02-28T21:56:06Z","Content":"Hi Sorry I\u0027m having a bit of a problem where scatterer makes my clouds look all.. colorful, tried to search the thread for a fix but couldn\u0027t really find one\n\n![hZbXtYY.jpg](https://i.imgur.com/hZbXtYY.jpg)![B1PvgOc.jpg](https://i.imgur.com/B1PvgOc.jpg)"}]}