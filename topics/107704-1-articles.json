{"TopicId":107704,"ForumId":29,"TopicTitle":"Manually generating ship thumbnail","CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-05T18:50:18Z","PageNum":1,"Articles":[{"CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-05T18:50:18Z","Content":"Did someone figure out how to manually generate the ship thumbnails? KSP generates these automatically as soon as a ship is saved to file but I want to do it manually.\n\nI came across CraftThumbnail.TakeSnapshop():\n\npublic static void **TakeSnaphot**(ShipConstruct ship, int resolution, string saveFolder, string craftName, float elevation = 45F, float azimuth = 45F, float pitch = 45F, float hdg = 45F, float fovFactor = 1F)\n\n*in class CraftThumbnail*\n\nThis method is almost what I need, but it does not quite work right. The lighting is wrong as it seems to use the current scene, i.e. it changes depending with the sun rotating around Kerbin ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nSome parts also don\u0027t render correctly, especially engine-fairings and fuel-lines, they point in wonky directions. Very wierd.. ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nI guess I\u0027m missing some preparations before taking the snapshop."},{"CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-07T17:02:37Z","Content":"Ok, TakeSnapshot does work when executed while in the editor. I didn\u0027t figure out how to do it outside of the editor, but I don\u0027t need it there so I\u0027ll just accept that."},{"CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-07T17:34:53Z","Content":"If anyone is interesed, these are the parameters used by KSP to build the default thumbnails.\n\n    public static class ThumbnailHelper{    ///     /// Generates a thumbnail exactly like the one KSP generates automatically.    /// Behaves exactly like ShipConstruction.CaptureThumbnail() but allows customizing the resolution.    ///     public static void CaptureThumbnail(ShipConstruct ship, int resolution, string saveFolder, string craftName)    {        if (ship.shipFacility != EditorFacility.VAB)        {            CraftThumbnail.TakeSnaphot(ship, resolution, saveFolder, craftName, 35, 135, 35, 135, 0.9f);        }        else        {            CraftThumbnail.TakeSnaphot(ship, resolution, saveFolder, craftName, 45, 45, 45, 45, 0.9f);        }    }    ///     /// Builds the path to the auto-generated thumbnail for the given ship.    ///     public static string GetCraftThumbnailPath(ShipConstruct ship)    {        return string.Format(\u0022thumbs/{0}_{1}_{2}.png\u0022, HighLogic.SaveFolder, ShipConstruction.GetShipsSubfolderFor(ship.shipFacility), ship.shipName);    }}\n\n**Edited \u003Ctime datetime=\u00222015-05-07T17:42:49Z\u0022 title=\u002205/07/2015 05:42  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by Slother**"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-08-30T19:39:46Z","Content":"Just what I needed, thanks"}]}