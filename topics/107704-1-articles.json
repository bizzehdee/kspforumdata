{"TopicId":107704,"ForumId":29,"TopicTitle":"Manually generating ship thumbnail","CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-05T18:50:18Z","PageNum":1,"Articles":[{"CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-05T18:50:18Z","Content":"\n\u003Cp\u003EDid someone figure out how to manually generate the ship thumbnails? KSP generates these automatically as soon as a ship is saved to file but I want to do it manually.\u003C/p\u003E\u003Cp\u003EI came across CraftThumbnail.TakeSnapshop():\u003C/p\u003E\u003Cp\u003Epublic static void \u003Cstrong\u003ETakeSnaphot\u003C/strong\u003E(ShipConstruct ship, int resolution, string saveFolder, string craftName, float elevation = 45F, float azimuth = 45F, float pitch = 45F, float hdg = 45F, float fovFactor = 1F)\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Ein class CraftThumbnail\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EThis method is almost what I need, but it does not quite work right. The lighting is wrong as it seems to use the current scene, i.e. it changes depending with the sun rotating around Kerbin \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESome parts also don\u0027t render correctly, especially engine-fairings and fuel-lines, they point in wonky directions. Very wierd.. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI guess I\u0027m missing some preparations before taking the snapshop.\u003C/p\u003E\n"},{"CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-07T17:02:37Z","Content":"\n\u003Cp\u003EOk, TakeSnapshot does work when executed while in the editor. I didn\u0027t figure out how to do it outside of the editor, but I don\u0027t need it there so I\u0027ll just accept that.\u003C/p\u003E\n"},{"CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-07T17:34:53Z","Content":"\n\u003Cp\u003EIf anyone is interesed, these are the parameters used by KSP to build the default thumbnails.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic static class ThumbnailHelper\u003Cbr\u003E{\u003Cbr\u003E    /// \u0026lt;summary\u0026gt;\u003Cbr\u003E    /// Generates a thumbnail exactly like the one KSP generates automatically.\u003Cbr\u003E    /// Behaves exactly like ShipConstruction.CaptureThumbnail() but allows customizing the resolution.\u003Cbr\u003E    /// \u0026lt;/summary\u0026gt;\u003Cbr\u003E    public static void CaptureThumbnail(ShipConstruct ship, int resolution, string saveFolder, string craftName)\u003Cbr\u003E    {\u003Cbr\u003E        if (ship.shipFacility != EditorFacility.VAB)\u003Cbr\u003E        {\u003Cbr\u003E            CraftThumbnail.TakeSnaphot(ship, resolution, saveFolder, craftName, 35, 135, 35, 135, 0.9f);\u003Cbr\u003E        }\u003Cbr\u003E        else\u003Cbr\u003E        {\u003Cbr\u003E            CraftThumbnail.TakeSnaphot(ship, resolution, saveFolder, craftName, 45, 45, 45, 45, 0.9f);\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    /// \u0026lt;summary\u0026gt;\u003Cbr\u003E    /// Builds the path to the auto-generated thumbnail for the given ship.\u003Cbr\u003E    /// \u0026lt;/summary\u0026gt;\u003Cbr\u003E    public static string GetCraftThumbnailPath(ShipConstruct ship)\u003Cbr\u003E    {\u003Cbr\u003E        return string.Format(\u0022thumbs/{0}_{1}_{2}.png\u0022, HighLogic.SaveFolder, ShipConstruction.GetShipsSubfolderFor(ship.shipFacility), ship.shipName);\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-07T17:42:49Z\u0022 title=\u002205/07/2015 05:42  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by Slother\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-08-30T19:39:46Z","Content":"\n\u003Cp\u003EJust what I needed, thanks\u003C/p\u003E\n"}]}