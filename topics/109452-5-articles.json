{"TopicId":109452,"ForumId":32,"TopicTitle":"Optimal engine charts for 1.0.2","CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-16T03:18:50Z","PageNum":5,"Articles":[{"CreatedByName":"mueslo","CreatedById":76254,"CreatedDateTime":"2015-05-29T17:55:43Z","Content":"\u003E \n\u003E I was wondering if it would be useful for the sake of comparison to include some electricity-generating mass in the calculations for the Dawn.\n\u003E If the numbers in the Wiki are accurate, the best mass efficiency to power a single Dawn at Kerbin would require 105 kg of solar panels (OXSTAT-4L\u0027s or OXSTAT-4W\u0027s). This is significant, considering that the Dawn only masses 250 kg.\n\u003E \n\u003E Happy landings!\n\nDid you happen to limit the maximum number of engines? I\u0027m getting rather different results for example for the TWR \u003E= 1 example\n\n![optimalengine_Tylo_p%3D0.0_nmax%3Dinf_mintwr%3D1.0.png](https://raw.githubusercontent.com/mueslo/KerbalPlot/master/optimalengine_Tylo_p%3D0.0_nmax%3Dinf_mintwr%3D1.0.png)\n\ncompared to yours:\n\n![wuhjQ6F.png](http://i.imgur.com/wuhjQ6F.png)\n\nYours is usually how my plots look when I limit the maximum number of engines.\n\nEdit: ah, just looked through your physics part, it seems you are respecting that the fuel tanks have mass. I\u0027m not.\n\n**Edited \u003Ctime datetime=\u00222015-05-29T18:04:46Z\u0022 title=\u002205/29/2015 06:04  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 29, 2015\u003C/time\u003E by mueslo**\n  \nrevelation"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-29T18:29:26Z","Content":"\u003E \n\u003E After trying the app can I ask for the engines in the legend that appears next to the chart to have the \u0022LTV-30\u0022 part of the name as well as the nickname please?\n\u003E I have no idea what a rhino or a terrier is. I barely know a swivel and I use it daily. If the name could follow the format of the engine selector that would be great eg : LV-909 \u0022Terrier\u0022. It\u0027s good to have the legacy names as an option but I don\u0027t know them very well either.\n\nSure thing, I\u0027m just worried about fitting some of the longer names. Let me try to squeeze things together.\n\n\u003E \n\u003E Radial engines tend to be a bit worse than the in-line ones, this is compensated in that its easy to add more of them and that the rear of the rocket is free for other uses,\n\nMakes sense. But I wonder why is the atmospheric performance so different?\n\n\u003E \n\u003E I was wondering if it would be useful for the sake of comparison to include some electricity-generating mass in the calculations for the Dawn.\n\u003E If the numbers in the Wiki are accurate, the best mass efficiency to power a single Dawn at Kerbin would require 105 kg of solar panels (OXSTAT-4L\u0027s or OXSTAT-4W\u0027s). This is significant, considering that the Dawn only masses 250 kg.\n\u003E \n\u003E Happy landings!\n\n[One of the charts](http://i.imgur.com/OXHJ2tn.png) in the OP did include the Dawn engine with the weight of panels included (I simply added 100 kg; it\u0027s the one named ION-SPs). Back then I decided not the include the Dawn in the analysis because the electrical demand issue is complex enough (there are now three ways to deal with it: panels, RTG, fuel cells) that it deserves its own separate analysis. However, I *can* add this solar-panels-at-Kerbin version of the Dawn for now.\n\n- - - Updated - - -\n\n\u003E \n\u003E Did you happen to limit the maximum number of engines? I\u0027m getting rather different results for example for the TWR \u003E= 1 example\n\u003E Yours is usually how my plots look when I limit the maximum number of engines.\n\u003E \n\u003E Edit: ah, just looked through your physics part, it seems you are respecting that the fuel tanks have mass. I\u0027m not.\n\nYes, the original charts limit the number of engines to 50 (in the [webapp](http://meithan.x10.mx/KSP/engines) I\u0027m developing, the limits is configurable). And yes, I\u0027m considering the dry mass of the tanks in the calculations. This imposes another restriction on the maximum \u00C3\u017D\u00E2\u20ACv of a ship (the first one being the TWR of the engines, if a TWR restriction is imposed on the ship)."},{"CreatedByName":"cephalo","CreatedById":143148,"CreatedDateTime":"2015-05-29T18:41:01Z","Content":"I\u0027m a little confused by the atmospheric chart. This tells me that if I want a rocket with 3000 dv, at 5 tons I want the LVT-30, for 8 tons I want the skipper, but then for 10 tons I want to go back to the LVT-30? If this chart is made by a function, how is this possible?\n\nEDIT: said LV909 instead of LVT30"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-05-29T18:44:07Z","Content":"\u003E \n\u003E I\u0027m a little confused by the atmospheric chart. This tells me that if I want a rocket with 3000 dv, at 5 tons I want the LV-909, for 8 tons I want the skipper, but then for 10 tons I want to go back to the LV-909? If this chart is made by a function, how is this possible?\n\nBecause it\u0027s a discrete function, you can only add Skippers in 3 ton increments. At 8 tons the Skipper is a good deal, at 10 tons one is not enough but two is too many."},{"CreatedByName":"Starhawk","CreatedById":131400,"CreatedDateTime":"2015-05-29T19:35:03Z","Content":"\u003E \n\u003E [One of the charts](http://i.imgur.com/OXHJ2tn.png) in the OP did include the Dawn engine with the weight of panels included (I simply added 100 kg; it\u0027s the one named ION-SPs). Back then I decided not the include the Dawn in the analysis because the electrical demand issue is complex enough (there are now three ways to deal with it: panels, RTG, fuel cells) that it deserves its own separate analysis. However, I *can* add this solar-panels-at-Kerbin version of the Dawn for now.\n\nThanks Meithan! I had missed the fact that that chart had SP mass added. I think adding 100 kg mass is a very good way to set a baseline for comparison with other engines for small-mass payloads in vacuum.\n\nHappy landings!"},{"CreatedByName":"cephalo","CreatedById":143148,"CreatedDateTime":"2015-05-29T21:02:14Z","Content":"I have one more dumb question, when we talk about TWR in a vacuum, usually in orbit I guess where things are functionally weightless, how is that measured on these charts? \n\nSometimes I\u0027m frustrated with the sluggishness of the LV-N and would rather have a Poodle for more thrust, but I don\u0027t know how to quantify what my desired thrust is. I was thinking of using dV per minute, enough to avoid 8 minute burns to Minmus I guess."},{"CreatedByName":"Concentric","CreatedById":103320,"CreatedDateTime":"2015-05-29T21:17:56Z","Content":"\u003E \n\u003E I have one more dumb question, when we talk about TWR in a vacuum, usually in orbit I guess where things are functionally weightless, how is that measured on these charts? \n\u003E Sometimes I\u0027m frustrated with the sluggishness of the LV-N and would rather have a Poodle for more thrust, but I don\u0027t know how to quantify what my desired thrust is. I was thinking of using dV per minute, enough to avoid 8 minute burns to Minmus I guess.\n\nThat\u0027s what people have brought up an \u0022acceleration ms^-2^\u0022 option for. Just divide the delta-v by the acceleration and you get roughly the length in seconds of the burn. I recently went about doing this manually for a ship: I calculated the post-burn mass from the delta-v, ISP and initial mass, then took the (geometric) mean of the initial and final masses, multiplied by delta-v and divided by total thrust, and ended up with a closer estimate for the burn length than the manuever node gave (once I began to fire). I think those might just use the initial mass, rather than the mean of the masses."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-05-29T21:36:26Z","Content":"\u003E \n\u003E I have one more dumb question, when we talk about TWR in a vacuum, usually in orbit I guess where things are functionally weightless, how is that measured on these charts?\n\nA TWR of 1 basically means the acceleration produced by the engines is equal to 1 g, or about 9.8 m/s\u00C3\u201A\u00C2\u00B2. You can thus think of TWR as a measure of the acceleration that the engines can impart on the ship.\n\nThe standard reference for g is Kerbin\u0027s surface gravity of course, which is what is implied when we just say \u0022*the* TWR is 2\u0022. But it\u0027s also possible to re-define TWR relative to the gravity on any other body. Thus, an \u0022Eve-relative TWR of 2\u0022 means an acceleration of twice the gravitational acceleration *on Eve\u0027s surface*, which is 16.7 m/s\u00C3\u201A\u00C2\u00B2.\n\n\u003E \n\u003E Sometimes I\u0027m frustrated with the sluggishness of the LV-N and would rather have a Poodle for more thrust, but I don\u0027t know how to quantify what my desired thrust is. I was thinking of using dV per minute, enough to avoid 8 minute burns to Minmus I guess.\n\nSince \u0022minimum TWR\u0022 is basically equivalent to \u0022minimum acceleration\u0022, you can use this information to compute approximate burn times. Say I have a ship with a (Kerbin-relative) TWR of 2.0. That means the engines can yield an acceleration of about 2 \\* 9.8 m/s\u00C3\u201A\u00C2\u00B2 = 19.6 m/s\u00C3\u201A\u00C2\u00B2.\n\nHow long will a 1000 m/s burn take? *If* the acceleration remained constant, then you could use the formula burn\\_time = delta-v / acceleration, which would yield\n\nburn\\_time = (1000 m/s) / (19.6 m/s\u00C3\u201A\u00C2\u00B2) = 51 seconds\n\nOn the other hand, the LV-N is too heavy to efficiently provide large TWRs. Say I have an LV-N based ship with a TWR of 0.3. Then the burn time for the same 1000 m/s maneuver would be:\n\nburn\\_time = (1000 m/s) / (0.3\\*9.8 m/s\u00C3\u201A\u00C2\u00B2) = (1000 m/s) / (2.94 m/s\u00C3\u201A\u00C2\u00B2) = 340 seconds = 5 minutes 40 seconds\n\nNote that these are approximations only because the acceleration is *not* constant: as you burn fuel, your mass diminishes but the engines still produce the same thrust, so the acceleration will increase. The real burn times will actually be lower than this, but it\u0027s a simple way to get an idea.\n\nEdit: ninja\u0027d by Concentric ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif). By the way, I will add burn time data to the \u0022details\u0022 panel.\n\n**Edited \u003Ctime datetime=\u00222015-05-29T21:47:28Z\u0022 title=\u002205/29/2015 09:47  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 29, 2015\u003C/time\u003E by Meithan**"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-03T05:14:13Z","Content":"OK people, I just uploaded the latest updated version:\n\n[http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)\n\nI haven\u0027t tested it much so please do try it out and report any errors / weird behavior.\n\nChangelog:\n\n- Zoom capability:  \n\n    - **(1)** you can click and drag to draw a selection box, and the chart will be recalculated for that region\n    - **(2)** you can also click the \u002B and - zoom buttons in the chart\u0027s corner, which will widen or shrink the ranges by 2x\n\n    [\\*] Expanded details area on chart mouseover, showing some provisional details for each of the solutions.\n\n    [\\*] \u0022Full\u0022 engine names (and got rid of \u0022show old names\u0022 checkox)\n\n    [\\*] Added a version of the \u0022Dawn\u0022 engines with 100 kg of \u0022solar panel mass\u0022.\n\nWhat do you think? I\u0027ve considered changing the click-and-drag behaviour to instead let the user pan the chart, and reserve zoom for the buttons. Also: what details of those currently shown do you think are useful? Which would you eliminate? What other details could be displayed there?\n\nThe buttons are lacking some form of feedback when you \u0022click\u0022 them, but I\u0027m working on it.\n\nThe burntimes shown assume starting the burn with the tanks full, when acceleration is smallest.\n\nI\u0027m thinking that with some more polishing this is could be mature enough for release. Additional big features like selecting which variables are plotted or total masss line plots could then be added post-release."},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-06-03T07:12:03Z","Content":"Fascinating!\n\n\u003E I\u0027ve considered changing the click-and-drag behaviour to instead let the user pan the chart, and reserve zoom for the buttons.\n\nThat\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s because of the realization difficulties?\n\nThe click-and-drag frame is nice, but the [\u002B]/[\u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u2122] buttons are sort of useless. I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2d rather have a \u00C3\u00A2\u00E2\u201A\u00AC\u00CB\u0153zoom back\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2 button that sets the previous range values.\n\n\u003E \n\u003E Also: what details of those currently shown do you think are useful? Which would you eliminate? What other details could be displayed there?\n\nThe details area is just great! Now it has everything I thought about to suggest. And even more.\n\nGreat!\n\n- - - Updated - - -\n\nMy suggestion is the ability to freeze the details (e.g. by clicking a point in the graph) so one could move the mouse having the details unchanged."},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-06-03T08:14:41Z","Content":"T-1 Aerospike doesn\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t work for some reason.\n\nUPD:\n\nThe reason found.\n\n    ...\n\nThe input id should be \u0027#chk\u0027\u002BallEngines*.name, i.e. \u0027chkT-1\u0027 instead of \u00C3\u00A2\u00E2\u201A\u00AC\u00CB\u0153chkAerospike\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2.*\n\n**Edited \u003Ctime datetime=\u00222015-06-03T08:31:44Z\u0022 title=\u002206/03/2015 08:31  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 3, 2015\u003C/time\u003E by Teilnehmer**"},{"CreatedByName":"Starhawk","CreatedById":131400,"CreatedDateTime":"2015-06-03T12:34:44Z","Content":"Meithan, there isn\u0027t enough rep on this entire forum (or even the whole internet) to give to you.\n\nI only looked at the new version for a few minutes. It\u0027s wonderful. This has already become an essential tool for me.\n\nThank you.\n\nHappy landings!"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-03T13:04:34Z","Content":"\u003E \n\u003E OK people, I just uploaded the latest updated version:\n\u003E [http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)\n\nAmazing. I love it more and more.\n\nI second the suggestion to freeze the details on clicking a point in the chart. Problem would be how to revert to the original behavior. Maybe it would be better to use the second details window for that purpose instead of a runner-up. One updates as the mouse moves, the other updates when you click(preferably with a marker on the chart showing where that saved point is). After all, if I don\u0027t want to use the 4 LV-N\u0027s that are the best choice for what I want, I can just uncheck that engine to see what\u0027s the next-best option. That gives me a much better visualization of my other options in that area than scrolling around looking at the #2 box, not being able to see all the crossovers underneath.\n\nFor the zooming, perhaps a third \u0027reset\u0027 button that restores the original viewpoint. Especially useful after a click-n-drag zoom, and especially when that zoom isn\u0027t even close to a 1:1 aspect ratio.\n\nTrying to picture what it would be like zooming with the buttons and click-n-drag panning, and I\u0027m thinking that would be even better. You\u0027ll keep the same aspect ratio as you zoom in, and being able to pan would just be really nice in general. It would take a little more work to zoom into a specific area, but I think it\u0027s still better than not being able to pan and needing to manually change the chart properties up top."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-03T14:21:59Z","Content":"\u003E \n\u003E That\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s because of the realization difficulties?\n\u003E The click-and-drag frame is nice, but the [\u002B]/[\u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u2122] buttons are sort of useless. I\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2d rather have a \u00C3\u00A2\u00E2\u201A\u00AC\u00CB\u0153zoom back\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2 button that sets the previous range values.\n\nSo you\u0027d get rid of the zoom buttons? A \u0022go back\u0022 button is completely doable. It could even remember all settings since the last time the ranges were manually set (or, heck, even since page load -- it\u0027s just remembering four numbers per view).\n\n\u003E \n\u003E For the zooming, perhaps a third \u0027reset\u0027 button that restores the original viewpoint. Especially useful after a click-n-drag zoom, and especially when that zoom isn\u0027t even close to a 1:1 aspect ratio.\n\u003E Trying to picture what it would be like zooming with the buttons and click-n-drag panning, and I\u0027m thinking that would be even better. You\u0027ll keep the same aspect ratio as you zoom in, and being able to pan would just be really nice in general. It would take a little more work to zoom into a specific area, but I think it\u0027s still better than not being able to pan and needing to manually change the chart properties up top.\n\nFor the click-and-drag panning I\u0027m thinking something similar to what alexmoon did in his [Launch Window Planner](http://alexmoon.github.io/ksp/). Take a look (much of my UI was inspired by his). It\u0027s not trivial to implement, but I think I can pull it off. Of course, this would mean getting rid of the selection-box zooming.\n\nWhat do others feel about this zoom functionality? What method do you prefer?\n\n\u003E My suggestion is the ability to freeze the details (e.g. by clicking a point in the graph) so one could move the mouse having the details unchanged.\n\n\u003E \n\u003E Amazing. I love it more and more.\n\u003E I second the suggestion to freeze the details on clicking a point in the chart. Problem would be how to revert to the original behavior. Maybe it would be better to use the second details window for that purpose instead of a runner-up. One updates as the mouse moves, the other updates when you click(preferably with a marker on the chart showing where that saved point is). After all, if I don\u0027t want to use the 4 LV-N\u0027s that are the best choice for what I want, I can just uncheck that engine to see what\u0027s the next-best option. That gives me a much better visualization of my other options in that area than scrolling around looking at the #2 box, not being able to see all the crossovers underneath.\n\nFreezing the details is a great idea. I could rig the right-click to \u0022unfreeze\u0022 the details. A crosshair on the chart would indicate what point is currently \u0022frozen in\u0022, and right-clicking would let go of that selection.\n\nLittleBlueGaming\u0027s idea of only freezing one of the details panels is also good, but I\u0027m not sure about some of the aspects of this. I like the idea of being able to see both the optimal and runner-up engines because it quickly gives you an idea of how close the top solutions are to each other. And unselecting an engine to see the other solutions requires recomputation of the whole chart, so I\u0027d rather this be a sort of \u0022last-resort\u0022 channel to get the information you want. But I\u0027m thinking of ways to make this idea (freeze only one panel) work.\n\n\u003E \n\u003E T-1 Aerospike doesn\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t work for some reason.\n\u003E UPD:\n\u003E \n\u003E The reason found.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     ...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The input id should be \u0027#chk\u0027\u002BallEngines*.name, i.e. \u0027chkT-1\u0027 instead of \u00C3\u00A2\u00E2\u201A\u00AC\u00CB\u0153chkAerospike\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2.*\n\n*Great catch, Teilnehmer! Must\u0027ve missed that checkbox id when I changed the names of the engines. It\u0027s fixed now.*\n\n\u003E \n\u003E *Meithan, there isn\u0027t enough rep on this entire forum (or even the whole internet) to give to you.*\n\u003E *I only looked at the new version for a few minutes. It\u0027s wonderful. This has already become an essential tool for me.*\n\n*Thanks, Starhawk!*\n\n*tavert (the author of the original charts posted before 1.0) still feels that what I\u0027m doing isn\u0027t valid for the very low mass payloads, due to tanks being discrete in reality, but I still feel the tool is generally useful in giving an idea of which engine is likely to be optimal for a (payload,dv) combination. I\u0027ll add a disclaimer about this to the final version. I\u0027ve also been discussing with him the possibility of porting his original code to JavaScript and using it instead of mine to drive the calculations behind the webapp. My main concern with this is speed: at some point his code does a bit of trial-and-error exploration, and that could take some time. We\u0027d have to find ways to optimize it.*"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-03T14:29:30Z","Content":"\u003E \n\u003E For the click-and-drag panning I\u0027m thinking something similar to what alexmoon did in his [Launch Window Planner](http://alexmoon.github.io/ksp/). Take a look (much of my UI was inspired by his). It\u0027s not trivial to implement, but I think I can pull it off. Of course, this would mean getting rid of the selection-box zooming.\n\nI would personally prefer that to the selection box zooming. I didn\u0027t even know you could pan that launch window graph ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\n\u003E \n\u003E Freezing the details is a great idea. I could rig the right-click to \u0022unfreeze\u0022 the details. A crosshair on the chart would indicate what point is currently \u0022frozen in\u0022, and right-clicking would let go of that selection.\n\u003E LittleBlueGaming\u0027s idea of only freezing one of the details panels is also good, but I\u0027m not sure about some of the aspects of this. I like the idea of being able to see both the optimal and runner-up engines because it quickly gives you an idea of how close the top solutions are to each other. And unselecting an engine to see the other solutions requires recomputation of the whole chart, so I\u0027d rather this be a sort of \u0022last-resort\u0022 channel to get the information you want. But I\u0027m thinking of ways to make this idea (freeze only one panel) work.\n\nOne option could be to use the second panel to show the frozen point while it\u0027s set, and when it\u0027s not set it shows the runner-up."},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2015-06-03T14:35:40Z","Content":"\u003E tavert (the author of the original charts posted before 1.0) still feels that what I\u0027m doing isn\u0027t valid for the very low mass payloads, due to tanks being discrete in reality, but I still feel the tool is generally useful in giving an idea of which engine is likely to be optimal for a (payload,dv) combination. I\u0027ll add a disclaimer about this to the final version. I\u0027ve also been discussing with him the possibility of porting his original code to JavaScript and using it instead of mine to drive the calculations behind the webapp. My main concern with this is speed: at some point his code does a bit of trial-and-error exploration, and that could take some time. We\u0027d have to find ways to optimize it.\n\nI\u0027m glad you took up the mantle of keeping this maintained, even if the calculations here so far are simplified. Porting it to JavaScript so it can be a web app is another thing I never felt like doing, but obviously makes it easier to use interactively for everyone.\n\nJavaScript JIT compilers are pretty impressively fast and clever these days thanks to constant Chrome-vs-everyone-else competition in web browsers. I don\u0027t think you need to worry too much about speed. If you want to implement the more accurate discrete-tanks version then you can always put the new code behind a checkbox to switch back and forth between discrete and continuous tank results, then we\u0027ll know for sure how much difference it makes in both results and speed. If you put the code up on github I might even send a pull request or two. Feel free to PM me on reddit /u/tavert if I\u0027m offline for a while here, I might not check back all that often."},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-06-03T16:16:09Z","Content":"\u003E \n\u003E Problem would be how to revert to the original behavior. Maybe it would be better to use the second details window for that purpose instead of a runner-up.\n\nSecond click in the graph unfreezes the details. That\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2s how I imagine it. I don\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t think one more details area is a good idea."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-13T16:52:14Z","Content":"Hey guys, sorry for being absent, work has been absorbing. I\u0027ve been progressing with the app and it\u0027s almost ready for the next revision. I think you\u0027ll be pleased with the changes ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif). Hopefully I\u0027ll be able to finish the remaining details and post an update during the weekend.\n\n\u003E \n\u003E JavaScript JIT compilers are pretty impressively fast and clever these days thanks to constant Chrome-vs-everyone-else competition in web browsers. I don\u0027t think you need to worry too much about speed. If you want to implement the more accurate discrete-tanks version then you can always put the new code behind a checkbox to switch back and forth between discrete and continuous tank results, then we\u0027ll know for sure how much difference it makes in both results and speed. If you put the code up on github I might even send a pull request or two. Feel free to PM me on reddit /u/tavert if I\u0027m offline for a while here, I might not check back all that often.\n\nI\u0027m realizing the JS JIT compilers are indeed pretty fast. The JavaScript port of the calculation definitely outperforms the original Python implementation (granted, that\u0027s not saying too much since Python isn\u0027t fast by any measure, but it\u0027s still an interesting observation). Uploading the code to GitHub so other people can work on it is a great idea. I\u0027ll find you on reddit."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-15T06:44:00Z","Content":"Alright, people, it\u0027s here!\n\n[http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)\n\nChangelist:\n\n- **New toolbar**  \n\n    - Shrink or expand the payload or dv ranges (separately) with the zoom buttons (got rid of the old on-chart buttons).\n    - Recall previous views with the arrows (only remembers payload/dv ranges for now; might consider remembering all settings).\n\n    [\\*]**New chart interactivity**\n\n    - Click-and-drag to pan the view! It will limit the pan to prevent negative values.\n    - Alternatively, hold the control key while click-and-dragging to draw a zoom box, as before.\n    - Click on the chart to freeze the details panel on that point; click again to unfreeze.\n\n    [\\*]**Performance upgrade**: I optimized the calculation, it should run 2x-3x faster than before.\n\n    [\\*]Changed how the Dawn is handled: instead of two engines (one with, one without the panel mass), it\u0027s now a modifier on the engine.\n\nI hope you like it, and I\u0027ll be waiting for your bug reports. The panning was kinda acting weird at times, and I\u0027m not sure I\u0027ve completely fixed it. Any suggestions to improve intuitiveness of the controls are greatly appreciated (for instance: do you think the behavior of the \u002B/- signs is intuitive, or are they backwards?)\n\nI think I\u0027m happy with the current set of features and would say the app is ready for release feature-wise (pending more testing to iron out bugs). The only thing left to do is adding some tooltips/instructions/help."},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-15T14:47:24Z","Content":"I definitely notice how much faster it is.\n\nSmall little thing, not sure if there\u0027s even anything you can do about it, but if you drag the chart until the cursor is off the canvas, it won\u0027t receive the mouseup event. Clicking on the canvas will restore the chart to the point it was at when the canvas lost focus. This is most annoying if you start dragging from an edge of the chart.\n\nChart saving works great, zoom/recall work fine, control-zooming works fine, freezing/unfreezing works fine."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-15T15:00:51Z","Content":"Yeah, it seems if the mouse is moving too fast it doesn\u0027t catch the canvas exit event (since there\u0027s nothing outside the canvas to register it). I can work it out.\n\nWhat should the expected behavior be in your opinion? Cancel the current pan when the mouse exits the *chart area* instead of the canvas? Should the current pan be executed instead of cancelled?"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-15T15:22:10Z","Content":"It happens as well when the mouse is moving slowly. I haven\u0027t worked with the canvas element at all, so I haven\u0027t the slightest of its workings. If there is a canvas exit event, it doesn\u0027t appear to be working at all while the mouse button is down.\n\nProbably be better to execute the pan at the moment the mouse exits the chart if you can\u0027t get it to execute when exiting the canvas. Cancelling it would probably be frustrating. \n\nIn that case, it would be nice to also change the cursor when it exits the chart area.\n\n- - - Updated - - -\n\nDo you perhaps need to manually trigger a mouseup event in the canvas exit event?"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-15T15:25:48Z","Content":"You\u0027re right, the onMouseLeave event is disabled. Working on it. I think I can make it execute the last action on canvas leave (catching the event on the html document instead of the canvas object)."},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2015-06-17T18:33:27Z","Content":"Alright, take two:\n\n[http://meithan.x10.mx/KSP/engines/](http://meithan.x10.mx/KSP/engines/)\n\nAfter trying several options I found that the simplest was the best: simply have the document, instead of the chart/canvas, catch the MouseUp event. Pan or zoom selection can only be started by clicking inside the chart area, but the mouse can then wander outside it while holding the button and releasing it anywhere will trigger the pan/zoom. It seems to be working on my end. \n\nWhat do you think?"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-17T19:26:55Z","Content":"Works perfectly for me, I think it\u0027s ready for release."}]}