{"TopicId":10075,"ForumId":34,"TopicTitle":"[0.17] Electrical Energy Plugin | v1.5 (Oct 12)","CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-05-01T17:37:37Z","PageNum":13,"Articles":[{"CreatedByName":"AmpsterMan","CreatedById":32671,"CreatedDateTime":"2012-08-18T20:21:09Z","Content":"So how exactly do I get this to work? I\u0027ve installed Electrical Energy, Deep space and the Dynasat fix but nothing works. I am very confused. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nEdit1: Realised that might be ambiguous and confusing, I meant none of the Ion Engines work. I put the battery then attach some solars, make sure they are being charged and... nothing.\n\nAlso, what is Zoxygen? I can\u0027t place some of those parts...\n\nThanks\n\n**Edited \u003Ctime datetime=\u00222012-08-18T20:25:57Z\u0022 title=\u002208/18/2012 08:25  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 18, 2012\u003C/time\u003E by AmpsterMan**"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-18T20:32:50Z","Content":"Zoxygen is a life support mod, see [this](http://kerbalspaceprogram.com/forum/showthread.php/8949-PLUGIN-PART-0-16-Zoxygene-%28Life-Support%29-mod-v0-6-1-%2812-07-28%29). These parts don\u0027t work together with this plugin at the time, I have to wait for an update there.\n\nDid you copy the Resources folder? The PluginData folder?"},{"CreatedByName":"AmpsterMan","CreatedById":32671,"CreatedDateTime":"2012-08-18T20:34:12Z","Content":"I am using the \u0022Kerbal Space Program: Mod Manager\u0022 to install my mods. I\u0027ll try checking if those files are installed\n\nEdit1: Fixed! So the issue was that The Mod Manager does not automatically install to the resources folder. Thank you very much for your help!\n\n**Edited \u003Ctime datetime=\u00222012-08-18T20:40:50Z\u0022 title=\u002208/18/2012 08:40  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 18, 2012\u003C/time\u003E by AmpsterMan**"},{"CreatedByName":"johnboyrocks","CreatedById":40570,"CreatedDateTime":"2012-08-18T21:25:00Z","Content":"Where do I put the .cs files in the source folder?"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2012-08-18T21:27:34Z","Content":"johnboyrocksm they are just source code, they can stay in the zip if you like ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Captain Kirk","CreatedById":32558,"CreatedDateTime":"2012-08-19T04:10:50Z","Content":"Quick question, if the airfilter part has been removed how can I charge the ZO2, with Electrical Energy, DynaSat and MechJeb installed the tanks dont refill with both solar panels open."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-19T13:14:51Z","Content":"There\u0027s currently no interaction since l00 told me that he\u0027d update EPS for compatibility, then I\u0027ll make it ZO2 compatible again."},{"CreatedByName":"vXSovereignXv","CreatedById":22930,"CreatedDateTime":"2012-08-19T18:46:11Z","Content":"The new generator module is nice. I applied it to Nova\u0027s RTG from the probe pack and it works beautifully. It\u0027s really useful for deep space ion driven probes."},{"CreatedByName":"Serpentine","CreatedById":25422,"CreatedDateTime":"2012-08-19T20:29:41Z","Content":"Yeah, I have no EPS compatibility as well; so ZO2 is useless with it... well... Dynasat is useless with ZO2. You think you could do it, and make the batteries/panels able to recharge ZO2? The community would definitely appreciate it."},{"CreatedByName":"adorboyhun","CreatedById":39283,"CreatedDateTime":"2012-08-19T21:38:16Z","Content":"there is no generator inside the zip!"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-20T11:39:07Z","Content":"I didn\u0027t make a part for it because I suck at modeling, see the \u0022part making\u0022 spoiler how to make any existing part a generator:wink:"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2012-08-20T14:10:26Z","Content":"\u003E \n\u003E Yeah, I have no EPS compatibility as well; so ZO2 is useless with it... well... Dynasat is useless with ZO2. You think you could do it, and make the batteries/panels able to recharge ZO2? The community would definitely appreciate it.\n\nSee PowerTech plugin documentation. There is EPS part type - just change couple lines in part.cfg"},{"CreatedByName":"SasquatchM","CreatedById":11888,"CreatedDateTime":"2012-08-20T15:31:30Z","Content":"I am trying to modify the DamnedAerospace propellers to work with this as a fuel source, however; I can not make them work as anything other than Ion engines, which means they are no MuMechVariableEngines which in turn means they no longer rotate. Any suggestions?"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-20T19:30:06Z","Content":"I removed MuMech-style engines for 1.4, didn\u0027t know anyone uses them... You could take the 1.3 IonEngine.cs, rename the class and compile it with reference to zKreuzung.dll and MuMechLib.dll, I\u0027d do it for you but it\u0027s 21:30 local time, a storm is coming and I\u0027ll be in a train for 10 hours tomorrow, so you\u0027d have to wait 2 days."},{"CreatedByName":"SasquatchM","CreatedById":11888,"CreatedDateTime":"2012-08-20T20:13:07Z","Content":"I can wait."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-22T14:15:06Z","Content":"using System;using System.Collections.Generic;using UnityEngine;public class IonEngine_MuMech : MuMechVariableEngine{    protected override void onPartStart()    {        if (group == \u0022Main engine\u0022)            group = \u0022Ion engine\u0022;        stackIcon.SetIconColor(XKCDColors.Yellow);        base.onPartStart();    }    protected override void onActiveFixedUpdate()    {        if (EL_API.GetVesselEnergy(vessel) == 0)            vessels[vessel].groups[group] = false;        base.onActiveFixedUpdate();    }    public override bool RequestFuel(Part source, float amount, uint reqId)    {        if (source != this)            return false;        fuelLookupTargets.Clear();        if ((fuelConsumption2 \u003E 0) \u0026\u0026 (fuelType2 != \u0022\u0022) \u0026\u0026 !RequestFuelType(fuelType2, amount * (fuelConsumption2 / fuelConsumption), reqId))        {            state = PartStates.DEAD;            return false;        }        return EL_API.Consume(amount, vessel);    }}\n\n[https://dl.dropbox.com/u/82912977/ElEnergy/IonEngine_MuMech.zip](https://dl.dropbox.com/u/82912977/ElEnergy/IonEngine_MuMech.zip)\n\n99% untested.\n\nEdit: Hmm, this takes very long for 4 KB...\n\n**Edited \u003Ctime datetime=\u00222012-08-22T14:20:23Z\u0022 title=\u002208/22/2012 02:20  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 22, 2012\u003C/time\u003E by Kreuzung**"},{"CreatedByName":"Sir Crashalot","CreatedById":30138,"CreatedDateTime":"2012-08-22T17:39:09Z","Content":"Tried your code and it works very well! Thank you very much"},{"CreatedByName":"Serpentine","CreatedById":25422,"CreatedDateTime":"2012-08-22T20:02:52Z","Content":"Thank you, Alchemist, I should have read it.\n\n**Edited \u003Ctime datetime=\u00222012-08-22T21:10:24Z\u0022 title=\u002208/22/2012 09:10  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 22, 2012\u003C/time\u003E by Serpentine**"},{"CreatedByName":"CrashnBurn","CreatedById":32280,"CreatedDateTime":"2012-08-23T01:39:05Z","Content":"It was an easy edit to make the Probodobodyne RTG a real, working generator. Since these are RTGs they work with a nuclear heat source and don\u0027t burn fuel, so I avoided that issue. I did run into a problem with running an Ion engine off the RTGs directly without a battery, it won\u0027t work even if the RTG produces power faster than the engine uses it. But if you put the code for a battery into the RTG part.cfg, as well as the generator code, with a very small battery storage capacity (just has to be more that the engine burn rate) you don\u0027t need any additional batteries. You can run off the RTGs alone, as should be possible.\n\nGreat news for those low-mass probes that need to fly far away from Kerbol, where solar panels don\u0027t do well. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"dishycourier","CreatedById":35171,"CreatedDateTime":"2012-08-23T18:48:54Z","Content":"\u003E \n\u003E It was an easy edit to make the Probodobodyne RTG a real, working generator. Since these are RTGs they work with a nuclear heat source and don\u0027t burn fuel, so I avoided that issue. I did run into a problem with running an Ion engine off the RTGs directly without a battery, it won\u0027t work even if the RTG produces power faster than the engine uses it. But if you put the code for a battery into the RTG part.cfg, as well as the generator code, with a very small battery storage capacity (just has to be more that the engine burn rate) you don\u0027t need any additional batteries. You can run off the RTGs alone, as should be possible.\n\u003E Great news for those low-mass probes that need to fly far away from Kerbol, where solar panels don\u0027t do well. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI\u0027m working on something similar to this, only in a few different sizes. I\u0027ve got this strange issue all of the sudden-- in my live KSP, the one I play. Energy works fine, but in my KSP test (base\u002Bmy parts), even though all of the plugins are the same, the parts are the same, etc -- Energy always shows up as -1. My brain might be fried at this point. Anyone have any suggestions?\n\nComplete fail. /resources/Kreuzung.cfg needs to be there.\n\nI\u0027m going to sleep.\n\n**Edited \u003Ctime datetime=\u00222012-08-23T18:56:30Z\u0022 title=\u002208/23/2012 06:56  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 23, 2012\u003C/time\u003E by dishycourier**"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-23T18:51:30Z","Content":"Probably missing the resources folder.\n\nDidn\u0027t expect it to stay at -1 though.\n\nEdit: Added FAQ with this point, it\u0027s been asked multiple times already.\n\n**Edited \u003Ctime datetime=\u00222012-08-23T18:56:09Z\u0022 title=\u002208/23/2012 06:56  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 23, 2012\u003C/time\u003E by Kreuzung**"},{"CreatedByName":"dishycourier","CreatedById":35171,"CreatedDateTime":"2012-08-23T19:04:45Z","Content":"Yeah. It was the new install. I missed that file. Thank you!"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-23T20:31:24Z","Content":"Quickly looking over the EPS concept and the new code, I managed to get an overview about the compatibilites.\n\nPlugins that use my EL\\_API or similar code like PowerTech does are compatible to EPS, they charge and discharge EPS batteries the same way as they do with my batteries.\n\nOnly batteries using this plugin will not be recognized by EPS!\n\nThat means EPS sources will not recharge my batteries, nor will EPS consumers use them.\n\nI could add full EPS compatibility, but it whould require a dependency on EPS which I don\u0027t want, considering the fact that almost everything in the new EPS version can be done using my plugin and that EPS overcomplicates things in my opinion.\n\nEdit: Applying both the EPS one and my part module to a battery might solve the compatibility problems while keeping the mod usable for users who don\u0027t have EPS (part modules that aren\u0027t found are ignored).\n\n**Edited \u003Ctime datetime=\u00222012-08-23T20:34:07Z\u0022 title=\u002208/23/2012 08:34  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 23, 2012\u003C/time\u003E by Kreuzung**"},{"CreatedByName":"dishycourier","CreatedById":35171,"CreatedDateTime":"2012-08-24T00:19:51Z","Content":"So Kreuzung, I\u0027ve got a working generator going, but I\u0027d like to add a mumechvariable tank with fueltype \u0022U235\u0022, but I can\u0027t get the fuelconsumption to work. I\u0027ve tried a few things and I think I can get it to use liquid fuel (which would be okay in the long run, I guess), but as far as any type of \u0022mystery fuel\u0022 or internal fuel hasn\u0027t worked so far.\n\nIdeally, I\u0027d like to have a supply of fuel inside the generator that depletes when active. Let\u0027s say, for testing purposes, and assuming I\u0027ve done the math for the ratio, I\u0027d like to get the generator to generate X points of energy or half an hour of power generation. Any ideas?"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-24T10:22:25Z","Content":"It doesn\u0027t work with MuMech tanks, but it should work with part resources.\n\nTry putting it in the part itself or the one above it, I dunno if having the resource below a gwnerator placed on top caused my problems while testing.\n\n**Edited \u003Ctime datetime=\u00222012-08-24T10:24:52Z\u0022 title=\u002208/24/2012 10:24  AM\u0022 data-short=\u002211 yr\u0022\u003EAugust 24, 2012\u003C/time\u003E by Kreuzung**"}]}