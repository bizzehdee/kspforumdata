{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":3,"Articles":[{"CreatedByName":"EpicSpaceTroll139","CreatedById":162839,"CreatedDateTime":"2017-10-16T23:14:27Z","Content":"\n\u003Cp\u003E\nOk, so in relation to a shuttle launch script I\u0027ve been working on, I\u0027m trying to create a function that generates the thrust and torque vectors produced by the engines.\n\u003C/p\u003E\n\u003Cp\u003E\nSince engine gimbals moving would obviously change the direction of the thrust vectors, I want to account for that in my equations.\u00A0However I\u0027ve come across something that\u0027s left me scratching my head, that is, what exactly does the \u0022roll\u0022 of the gimbal\u00A0\u003Cem\u003Emean?\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00225apw6Hj.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://imgur.com/5apw6Hj.jpg\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis is a test I ran. I told kOS to display the eng:gimbal:range*eng:gimbal:\u0026lt;insert_axis_here\u0026gt;angle as I figured this would give the angle the engine bell was deflected in each axis. I thought that, since there is only one engine, there should be no roll deflection at all, but apparently the engine somehow has roll gimbal? This would only make sense if there were vanes in the nozzle, or multiple that could add swirl to the exhaust plume, but the engines don\u0027t really act like that. The rapier,\u00A0mammoth, and twin boar\u00A0are\u00A0the only ones with multiple nozzles.\n\u003C/p\u003E\n\u003Cp\u003E\nSo really there is only two axis that the engine deflects in, the pitch and yaw axis. If you have two engines on opposing sides, they can produce torque in the roll axis by deflecting in opposite directions in the pitch axis, but they themselves are not gimbaling in the roll axis.\n\u003C/p\u003E\n\u003Cp\u003E\nSo how do I make mathematical sense out of this? Am I missing something simple that would allow my script to get what it needs?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNot even really sure if this is a kOS question or a KSP question.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-17T00:34:02Z\u0022 title=\u002210/17/2017 12:34  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 17, 2017\u003C/time\u003E by EpicSpaceTroll139\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Krakenator","CreatedById":166283,"CreatedDateTime":"2017-10-18T20:43:10Z","Content":"\n\u003Cp\u003E\nDoes anyone have a guided missile code that works? I just need something nice and simple, no need to account for a moving target. Just double click on a stationary target and have it follow a trajectory to get to that target.\n\u003C/p\u003E\n"},{"CreatedByName":"Redneck","CreatedById":2030,"CreatedDateTime":"2017-10-22T13:51:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223196442\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221508167137\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/16/2017 at 10:18 AM, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s not what I meant.\u00A0 That\u0027s \u003Cstrong\u003Eresetting to the beginning\u003C/strong\u003E of a task.\u00A0 In that context you don\u0027t need to remember any variable values other than just which mode you were in.\u00A0 I was talking about having to pick up right where you left off, and thus needing to remember things like what the value of a loop counter was, what a running total in a variable was, etc.\u00A0 (Basically, like hibernation mode on a PC).\u00A0 Howver, yes, given the tasks these autopilot scripts are doing, it is usually possible to restart at a reasonable point, as CheersKevin\u0027s scripts usually do.\u00A0 It\u0027s a good-enough solution to the problem given the kinds of tasks these programs do.\u00A0 To a large extent it works because all the variables you need to remember can be queried again from the system ( ship position, ship velocity, what planet are we around, etc), instead of *actually* having to save the full memory context.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nso what is needed here is a \u0022quicksave\u0022 vessel state before packing?\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2017-10-25T12:40:12Z","Content":"\n\u003Cp\u003E\nAre the arguments of the R() function actually pitch, yaw and roll values as mentioned in the docs or are those rotations around X, Y and Z axis? If its the former, then there\u0027s something really wrong with my understanding of how rotations work. If it\u0027s the latter, please change the docs to say that. Please clarify the Q() function too. Are the args quaternion components or (x,y,z, rotation angle) where (x,y,z) would give the axis of rotation?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve spent entirely too much time trying to understand how directions and kOS direction operations work and I still don\u0027t think I understand it. In the end I started using cross products on up:vector, ship:velocity:orbit/surface and \u003Ca href=\u0022https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula\u0022 rel=\u0022external nofollow\u0022\u003ERodrigues\u0027 rotation formula\u003C/a\u003E to get things done.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-10-25T20:38:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203073\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221508935212\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre the arguments of the R() function actually pitch, yaw and roll values as mentioned in the docs or are those rotations around X, Y and Z axis? If its the former, then there\u0027s something really wrong with my understanding of how rotations work. If it\u0027s the latter, please change the docs to say that. Please clarify the Q() function too. Are the args quaternion components or (x,y,z, rotation angle) where (x,y,z) would give the axis of rotation?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve spent entirely too much time trying to understand how directions and kOS direction operations work and I still don\u0027t think I understand it. In the end I started using cross products on up:vector, ship:velocity:orbit/surface and \u003Ca href=\u0022https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula\u0022 rel=\u0022external nofollow\u0022\u003ERodrigues\u0027 rotation formula\u003C/a\u003E to get things done.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey are around x, y, and z.\u00A0 The use of the words \u0022pitch\u0022, \u0022yaw\u0022, and \u0022roll\u0022 is quite wrong and date back to the start of the mod under Kevin Laity.\u00A0 I have no idea why he chose those terms\u00A0 The problem is that it has too much legacy to change the terms now.\u00A0 Doing so would break every script anyone has ever wrote.\u00A0 The Q() args are the quaternion components, which for some reason Unity itself calls x,y,z,w even though they\u0027re NOT x,y,z, rotation angle so I don\u0027t know why it used those terms.\n\u003C/p\u003E\n\u003Cp\u003E\nThe fact that pitch/yaw/roll mean rotation around the axes and not around the ship\u0027s orientation is mentioned in several places through the docs, but I guess not right next to where the R() function is defined so it should be mentioned there too.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2017-10-26T04:34:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203411\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221508963936\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoing so would break every script anyone has ever wrote.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t understand.. If the R function does give rotations around the axes and not ship local rotations, why would changing the docs to reflect this fact break scripts? You aren\u0027t changing anything in kOS code itself, just clarifying the real working of the function in the docs. Same about the Q function, I\u0027m just asking for clarity in the docs, not asking to change how kOS works.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBecause at least my method of learning any new programming language is to start with a tutorial, if one is provided, and then to look up any differemt/interesting/difficult things in the docs. I went from kOS tutorial to mathematics -\u0026gt; directions and found out that it doesn\u0027t make any sense, even accounting for the left handed system.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, thanks for the clarification!\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-10-26T04:40:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203679\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221508992471\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t understand.. If the R function does give rotations around the axes and not ship local rotations, why would changing the docs to reflect this fact break scripts?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBecause I wasn\u0027t talking about just changing the docs.\u00A0 I was talking about what it would take to actually fix the real problem, which is that they shouldn\u0027t *be* called \u0022pitch\u0022, \u0022yaw\u0022, and \u0022roll\u0022 in the first place.\u00A0 But changing the suffix names would break scripts.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2017-10-26T06:37:42Z","Content":"\n\u003Cp\u003E\nIs there a way to add delay to terminal commands (using gui:extradelay or otherwise) from another plugin? Maybe I looked in the wrong place, but I haven\u0027t found any public API documentation for kOS.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-10-26T07:30:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203718\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221508999862\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a way to add delay to terminal commands (using gui:extradelay or otherwise) from another plugin? Maybe I looked in the wrong place, but I haven\u0027t found any public API documentation for kOS.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nkOS has extra code in its repository specifically to support Remote Tech\u0027s signal delay.\u00A0 In order to make another delaying mod do something similar would require an additional Addon for that other mod.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou can see examples of how ADDONs for kOS work in the kOS Github under src/kOS/AddOns/\n\u003C/p\u003E\n\u003Cp\u003E\nSpecifically, how we do it for remotetech is that \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EkOS.AddOns.RemoteTech\u003C/span\u003E implements the interface called \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EkOS.Communication.IConnectivityManager.\u003C/span\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E\u00A0 \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EAmong other things, that interface requires implementing these methods:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003EkOS.AddOns.RemoteTech\u003C/span\u003E.GetDelay(Vessel vessel1, Vessel vessel2)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003EkOS.AddOns.RemoteTech\u003C/span\u003E.GetDelayToControl(Vessel vessel)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003EkOS.AddOns.RemoteTech\u003C/span\u003E.GetDelayToHome(Vessel vessel)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat should give you an example to start with, but if you have more questions, feel free to ask.\u00A0 @hvacengi is more of an expert on how this system works than I am.\u00A0 The interface IConnectivityManager has pretty well commented \u0026lt;summary\u0026gt; sections that explain what each of the methods you have to implement are supposed to do.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-26T07:34:07Z\u0022 title=\u002210/26/2017 07:34  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 26, 2017\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2017-10-26T07:34:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203734\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509003022\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nkOS has extra code in its repository specifically to support Remote Tech\u0027s signal delay.\u00A0 In order to make another delaying mod do something similar would require an additional Addon for that other mod.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou can see examples of how ADDONs for kOS work in the kOS Github under src/kOS/AddOns/\n\u003C/p\u003E\n\u003Cp\u003E\nSpecifically, how we do it for remotetech is that \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EkOS.AddOns.RemoteTech\u003C/span\u003E implements the interface called \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EkOS.Communication.IConnectivityManager.\u003C/span\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E\u00A0 \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EAmong other things, that interface requires implementing these methods:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003EkOS.AddOns.RemoteTech\u003C/span\u003E.GetDelay(Vessel vessel1, Vessel vessel2)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003EkOS.AddOns.RemoteTech\u003C/span\u003E.GetDelayToControl(Vessel vessel)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003EkOS.AddOns.RemoteTech\u003C/span\u003E.GetDelayToHome(Vessel vessel)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat should give you an example to start with, but if you have more questions, feel free to ask.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI understand I can\u0027t implement such interaction from within my mod and\u00A0need to make a separate project/DLL? Does it have to reside in kOS folder?\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-10-26T07:44:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203738\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509003271\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI understand I can\u0027t implement such interaction from within my mod and\u00A0need to make a separate project/DLL? Does it have to reside in kOS folder?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAt the moment I don\u0027t think we have any such support.\u00A0 You have to make a pull request against the kOS mod to get us to incorporate changes into kOS itself.\u00A0 I don\u0027t know off the top of my head what it would take to make it possible to make things work from outside kOS\u0027s source tree.\u00A0 It might be a good idea to look into how we could do that.\u00A0 I know it\u0027s a thing we\u0027ve discussed before but never really worked out exactly how we\u0027d do it.\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2017-10-26T07:48:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203682\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221508992847\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBecause I wasn\u0027t talking about just changing the docs.\u00A0 I was talking about what it would take to actually fix the real problem, which is that they shouldn\u0027t *be* called \u0022pitch\u0022, \u0022yaw\u0022, and \u0022roll\u0022 in the first place.\u00A0 But changing the suffix names would break scripts.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, I see. I had somehow totally forgotten/ignored that directions have those suffixes too.. and that makes my original question about the R function stupid too.\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2017-10-26T07:52:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223203744\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509003881\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAt the moment I don\u0027t think we have any such support.\u00A0 You have to make a pull request against the kOS mod to get us to incorporate changes into kOS itself.\u00A0 I don\u0027t know off the top of my head what it would take to make it possible to make things work from outside kOS\u0027s source tree.\u00A0 It might be a good idea to look into how we could do that.\u00A0 I know it\u0027s a thing we\u0027ve discussed before but never really worked out exactly how we\u0027d do it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGot it, thanks. I think it\u0027s too much of a hassle right now to make an addon solely for adding a delay to the terminal. If one day there is a more accessible way to interact with kOS (e.g. feed it a script) from another plugin, I\u0027ll be more than happy.\n\u003C/p\u003E\n"},{"CreatedByName":"windystig","CreatedById":170953,"CreatedDateTime":"2017-10-26T23:10:00Z","Content":"\n\u003Cp\u003E\nHi\n\u003C/p\u003E\n\u003Cp\u003E\nJust looking for a little help with a script. Probably bitten off more than i can chew. I\u0027m a scripting beginner and am trying to write a script for a shuttle launch in \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nSo far i get everything going okay and am getting to about 150000m but now\u00A0want to switch the type of command i\u0027m giving. Up to this point it is fairly simple to just give commands based on waiting for set speeds or altitudes to make pitch adjustments. (it may not be elegant but i\u0027m just learning). But what i want now is instead of it actioning my exact pitch change, i want it to react to external factors, in this case, maintaining\u00A0prograde at about 2 degrees above the horizon while the velocity is increased to close to orbital speeds. The issue i have is that if i set a pitch angle of, for example, 15 degrees, the prograde may be\u00A0X\u00A0degrees above the horizon but slowly dips until i\u0027m losing altitude. I need to know how to instruct kOS to recognise and make changes without me giving specific pitch corrections.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would be almost impossible for me to script exact pitch angles that would guarantee a successful launch based on varying payloads so need kOS to make adjustments on the fly. I\u0027m not looking for someone to write the code for me, just some help in which kerboscript commands i should be using.\n\u003C/p\u003E\n\u003Cp\u003E\nAny help really appreciated.\n\u003C/p\u003E\n\u003Cp\u003E\nDaniel\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Pand5461","CreatedById":172084,"CreatedDateTime":"2017-10-27T08:38:36Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/170953-windystig/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022170953\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/170953-windystig/\u0022 rel=\u0022\u0022\u003E@windystig\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere is a heading(hdg, pitch) command that allows to keep a set angle above horizon.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d recommend you to find the thread about PEGAS which has a link to the real-world terminal guidance algorithm called Unified Powered Flight Guidance.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-10-27T08:53:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223204253\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509059400\u0022 data-ipsquote-userid=\u0022170953\u0022 data-ipsquote-username=\u0022windystig\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, windystig said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nin this case, maintaining\u00A0prograde at about 2 degrees above the horizon while the velocity is increased to close to orbital speeds\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat you\u0027re looking for, in this case, is either a P, a PI, a PD, or a PID controller.\u00A0 (EDIT: if not using PEGAS, as described above by Pand5461, which is a much more intensive (but accurate) approach for a first timer).\n\u003C/p\u003E\n\u003Cp\u003E\nYou want to move the rocket\u0027s pitch angle up if your measured prograde angle above horizion is too small, or move the rocket\u0027s pitch angle down if the prograde angle measured is too big.\n\u003C/p\u003E\n\u003Cp\u003E\nYou want to set up a PIDloop that causes the \u003Cstrong\u003Epitch\u003C/strong\u003E of \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elock steering to heading(compass, pitch)\u003C/span\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E to be adjusted using the angle above horizon of the prograde vector as your proportional output value that seeks a set point.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EYou can calculate angle of prograde vector above horizon with this:\u003C/span\u003E\u003Cbr\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Efunction angle_above_horizon { return 90 - vang(ship:velocity:surface,ship:up:vector). }\u003C/span\u003E\u003Cbr\u003E\nThen you want to tell PIDLoop to target an \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eangle_above_horizion\u003C/span\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E of a few degrees (I don\u0027t know how many you want), with a pitch that is proportional to that.\u003Cbr\u003E\nOne example might be to use these terms:\u003Cbr\u003E\nKp = 2 (for every degree you are off, aim off by two degrees to compensate)\u003Cbr\u003E\nKi = 0.05 (usually want to keep this a small fraction of Kp)\u003Cbr\u003E\nKd = 0.2 (usually want to keep this a bigger fraction of Kp, but still not as big as Kp).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EObviously, you need to test these and play with them to get a good feel.\u00A0 PID loops are too complex a topic to explain in a forum post, but there\u0027s a lot of information about them online, and kOS comes with a built-in PIDloop type that will do all the arithmetic under the hood for you.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-27T08:54:47Z\u0022 title=\u002210/27/2017 08:54  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 27, 2017\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"windystig","CreatedById":170953,"CreatedDateTime":"2017-10-27T13:20:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223204505\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509094409\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat you\u0027re looking for, in this case, is either a P, a PI, a PD, or a PID controller.\u00A0 (EDIT: if not using PEGAS, as described above by Pand5461, which is a much more intensive (but accurate) approach for a first timer).\n\u003C/p\u003E\n\u003Cp\u003E\nYou want to move the rocket\u0027s pitch angle up if your measured prograde angle above horizion is too small, or move the rocket\u0027s pitch angle down if the prograde angle measured is too big.\n\u003C/p\u003E\n\u003Cp\u003E\nYou want to set up a PIDloop that causes the \u003Cstrong\u003Epitch\u003C/strong\u003E of \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elock steering to heading(compass, pitch)\u003C/span\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E to be adjusted using the angle above horizon of the prograde vector as your proportional output value that seeks a set point.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EYou can calculate angle of prograde vector above horizon with this:\u003C/span\u003E\u003Cbr\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Efunction angle_above_horizon { return 90 - vang(ship:velocity:surface,ship:up:vector). }\u003C/span\u003E\u003Cbr\u003E\nThen you want to tell PIDLoop to target an \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eangle_above_horizion\u003C/span\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E of a few degrees (I don\u0027t know how many you want), with a pitch that is proportional to that.\u003Cbr\u003E\nOne example might be to use these terms:\u003Cbr\u003E\nKp = 2 (for every degree you are off, aim off by two degrees to compensate)\u003Cbr\u003E\nKi = 0.05 (usually want to keep this a small fraction of Kp)\u003Cbr\u003E\nKd = 0.2 (usually want to keep this a bigger fraction of Kp, but still not as big as Kp).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EObviously, you need to test these and play with them to get a good feel.\u00A0 PID loops are too complex a topic to explain in a forum post, but there\u0027s a lot of information about them online, and kOS comes with a built-in PIDloop type that will do all the arithmetic under the hood for you.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, i may have been wrong, i do need someone to write the script because this nearly burned my brain out.\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u00A0I sort of get the premise but think i\u0027m in too deep. with no background in developing i think a shuttle launch may be too ambitious but is also all i need kOS for because i\u0027m well into an ISS build that i want to complete.\n\u003C/p\u003E\n\u003Cp\u003E\nI hate to ask but would a framework of the script be possible to get that i can then play around with numbers in? Or would that require seeing all of the script so far and the craft file of the shuttle i\u0027m using?\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2017-10-27T13:27:23Z","Content":"\n\u003Cp\u003E\nHad a question about triggers and preserve.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes a when trigger with preserve persist after the script has ended? If it does how can I get rid of it, apart from toggling power to the CPU?\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2017-10-27T15:32:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223204621\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509110843\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes a when trigger with preserve persist after the script has ended? If it does how can I get rid of it, apart from toggling power to the CPU?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you have \u0022preserve\u0022 keyword inside when command block, block will be executed again when conditions are met. Without \u0022preserve\u0022 keyword it will be executed only once.\u003Cbr\u003E\nIf you want to make trigger toggable without turning off CPU, use more than one variable in condition. For example, set some \u0022allowed\u0022 variable to action group or GUI button to toggle true/false value and other usual condition you already using with \u0022when\u0022 command, for example when craft reached certain altitude or certain speed, whatever you have designed it for.\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2017-10-27T18:57:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223204732\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509118353\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you have \u0022preserve\u0022 keyword inside when command block, block will be executed again when conditions are met. Without \u0022preserve\u0022 keyword it will be executed only once.\u003Cbr\u003E\nIf you want to make trigger toggable without turning off CPU, use more than one variable in condition. For example, set some \u0022allowed\u0022 variable to action group or GUI button to toggle true/false value and other usual condition you already using with \u0022when\u0022 command, for example when craft reached certain altitude or certain speed, whatever you have designed it for.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, so it does persist even after the script has ended. Having another condition would help with it not firing, but it would bog down the CPU if I run multiple scripts one after another in a single session. I guess I\u0027m going to use return statements instead.\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2017-10-28T07:52:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223204941\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509130677\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, so it does persist even after the script has ended. Having another condition would help with it not firing, but it would bog down the CPU if I run multiple scripts one after another in a single session. I guess I\u0027m going to use return statements instead.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm, no. I have assumed that your script run in endless loop, like I usualy design my own scripts. If your script have finished and exited to terminal propmpt then when trigger is unloaded from memory and it is no longer active, regardless of used preserve keyword. When you start new script only new defined triggers are active. I\u0027m not certain what is happening if you have multiple \u0022run\u0022 calls for other scripts within one small script that just have run calls for other scripts in sequence, though. Easiest way to test it is to put writting some debug message on screen or terminal inside when trigger, to know what part of program is triggered.\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2017-11-01T07:29:45Z","Content":"\n\u003Cp\u003E\nIs there a safe way to call Part:GetModule\u00A0when I don\u0027t know if such module exists? I have basically to do this work twice: first to iterate through all the Part:Modules to find the one I need and then to request it via Part:GetModule; otherwise I risk getting an error. I wish there were Part:HasModule command or GetModule returned false or something if nothing was found.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-01T07:30:04Z\u0022 title=\u002211/01/2017 07:30  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 1, 2017\u003C/time\u003E by garwel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-11-01T07:50:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223208428\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509521385\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a safe way to call Part:GetModule\u00A0when I don\u0027t know if such module exists? I have basically to do this work twice: first to iterate through all the Part:Modules to find the one I need and then to request it via Part:GetModule; otherwise I risk getting an error. I wish there were Part:HasModule command or GetModule returned false or something if nothing was found.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs PART:MODULES is a list, you can use CONTAINS() instead of iterating yourself.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 IF p:MODULES:CONTAINS(mn) {\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0 LOCAL m IS p:GETMODULE(mn).\n\u003C/p\u003E\n\u003Cp\u003E\nWhere p is a part and mn is a module name (string).\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: yes a PART:HASMODULE() check would be a bit more obvious and save a few characters...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-01T08:00:21Z\u0022 title=\u002211/01/2017 08:00  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 1, 2017\u003C/time\u003E by ElWanderer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"danielboro","CreatedById":166078,"CreatedDateTime":"2017-11-01T11:48:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223204618\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509110419\u0022 data-ipsquote-userid=\u0022170953\u0022 data-ipsquote-username=\u0022windystig\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 27.10.2017 at 4:20 PM, windystig said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay, i may have been wrong, i do need someone to write the script because this nearly burned my brain out.\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u00A0I sort of get the premise but think i\u0027m in too deep. with no background in developing i think a shuttle launch may be too ambitious but is also all i need kOS for because i\u0027m well into an ISS build that i want to complete.\n\u003C/p\u003E\n\u003Cp\u003E\nI hate to ask but would a framework of the script be possible to get that i can then play around with numbers in? Or would that require seeing all of the script so far and the craft file of the shuttle i\u0027m using?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nignore the experts.\u003Cbr\u003E\nsimple scrips can do the same thing\n\u003C/p\u003E\n\u003Cp\u003E\nyou just need to know wer prograd is =\u00A090 - vang(ship:velocity:surface,ship:up:vector).\u003Cbr\u003E\u003Cspan style=\u0022background-color:#fbfbfb;color:#353c41;font-size:14px;\u0022\u003Edo a lock steering to \u003C/span\u003Eprograd\u002BR(0,pitchup,0).\u003Cbr\u003E\nand chinge\u00A0pitchup to keep prograde wer you want it\u003Cbr\u003E\nthers more then 1 way to do it.\u003Cbr\u003E\nPID is good and not hard but i dont allwise use\u00A0it, simple if\u0060s can do that too\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\np.s.\n\u003C/p\u003E\n\u003Cp\u003E\nthe\u00A0\u003Cspan style=\u0022background-color:rgb(251,251,251);\u0022\u003EPEGAS mentioned by Pand5461 is a KOS script for lunching\u00A0a shutel. you can download it and use that too\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2017-11-01T12:02:23Z","Content":"\n\u003Cp\u003E\nIs this a bug or intended behaviour? The resource values for a stage (STAGE:RESOURCES) are all zero unless the next stage has a decoupler. I\u0027m running into a problem because of this.\n\u003C/p\u003E\n\u003Cp\u003E\nThe context is this: I\u0027m placing a satellite in orbit. The stages are as follows (0 - upper engine, 1 - stack decoupler, 2 - fairings, 3 - lower engine). When I perform a \u0027STAGE\u0027 command on launch pad, the resources in the current stage are detected as zero \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E. And yes, I am waiting a full second before I check for the resource values. My script is basically staging once (current stage 3) and then staging again (current stage 2) because of this.\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone confirm this either as bug or intended (and if its intended, I would appreciate if you tell me the reason too)? Thanks!\n\u003C/p\u003E\n"}]}