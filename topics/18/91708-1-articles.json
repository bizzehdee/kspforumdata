{"TopicId":91708,"ForumId":18,"TopicTitle":"AHCI driver issue (Win7x64) HELP!","CreatedByName":"Yarbrough08","CreatedById":72048,"CreatedDateTime":"2014-12-01T06:07:22Z","PageNum":1,"Articles":[{"CreatedByName":"Yarbrough08","CreatedById":72048,"CreatedDateTime":"2014-12-01T06:07:22Z","Content":"\n\u003Cp\u003EThis past week, my family bought a new motherboard for me (a late veterans\u0027 day present \u002B I\u0027m a CS major). Hardware installation was smooth, of course. When I started the computer up after installing the drivers through Windows repair (in AHCI mode nonetheless), however; Windows Update decided to update the drivers without asking me (I have it configured to ask me instead) and installed the wrong driver for the SATA Controller. Then on restart, BSOD.... \u003C/p\u003E\u003Cp\u003EI reinstalled the driver, but still got a BSOD. The only way I could get it to restart to Windows was to change to IDE mode in the BIOS. I went into REGEDIT and changed the appropriate values (msahci - start = 0, no others apply), and restarted; BSOD.. On all of these restarts I also tried Safe Mode, with no luck (BSOD @ the ahci64 driver). I have even installed the proper AHCI drivers in legacy mode to no avail.\u003C/p\u003E\u003Cp\u003EI really do not want to reinstall windows, I have way too much data on this hard drive to reformat it. I want this to be an absolute last option. I had a HDD fail a year ago (have I learned nothing? lol) and do not have another HDD to back up my data anymore. I also can no longer install some of my programs again.\u003C/p\u003E\u003Cp\u003EDoes anyone know of anything else I can try? I\u0027m not sure where to go from here, I\u0027ve never had problems like this.. (not my first time installing a Mobo, once upon a time I owned my own repair shop - Yarbrough\u0027s Electronic Solutions)\u003C/p\u003E\u003Cp\u003EIf more info is needed by anyone, I\u0027ll be happy to provide it.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EThe new Mobo is awesome btw, up to 64 GB of RAM (hopefully Unity will pull it together and fix the x64 problems).\u003C/span\u003E\u003C/em\u003E\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-01T06:35:25Z","Content":"\n\u003Cp\u003EDid you install the new motherboard without reinstalling Windows? Because that is a recipe for trouble. I would advise a fresh Windows installation with any large system upgrade, but especially with something as far-reaching as your motherboard. But, of course, you figured that out yourself \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EPlease, for the love of Jeb, get your backups in order. Consider this your wake up call for all that \u003Cem\u003E\u0027way too much data\u0027\u003C/em\u003E you could lose any day - and also as a budding professional. The most prudent approach would probably be to get another drive, install Windows on it or make a separate Linux USB drive installation and transfer anything you need to the new drive. Then format the old drive, check its health and set it up as a automatic backup drive. This will fix your current problems and set you up for problems in the future.\u003C/p\u003E\u003Cp\u003EThe messy approach would be to try to access it through another Windows computer or Linux USB drive installation and then try to undo the register edit you did. After that you could try removing the wrong and installing the right drivers. This is a rather contrived procedure, though, and I would not advise this course of action.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-01T06:41:15Z","Content":"\n\u003Cp\u003EI\u0027d also recommend you install the OS on a new disk and take ownership of the old one.\u003C/p\u003E\u003Cp\u003EAre the BSODs always caused by the same driver? Are you sure it\u0027s not a RAM issue?\u003C/p\u003E\n"},{"CreatedByName":"Yarbrough08","CreatedById":72048,"CreatedDateTime":"2014-12-01T07:06:04Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Camacha:\u003C/strong\u003E It is not \u0022messy\u0022 to install a mobo without a fresh install. Actually there are several methods to update the installation after you install major hardware like this. And I even had to reactivate windows afterwards (of course)..\u003C/p\u003E\u003Cp\u003EAnd yeah, it is fairly stupid of me to not have a backup drive. Especially considering I\u0027ve had one HDD fail already, but I was hoping to get a shiny new SSD soon so I was kinda slacking in that department.\u003C/p\u003E\u003Cp\u003EI can undo the regedit at anytime, but that would be counter productive considering that is how you let Windows know your are changing to an AHCI driver. Windows unloads drivers it doesn\u0027t need at install, that regedit tells the OS to change to the AHCI driver on restart. \u003Ca href=\u0022http://support.microsoft.com/kb/922976\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003EThis page\u003C/strong\u003E\u003C/span\u003E\u003C/a\u003E will demo some of what I\u0027m talking about, although There are more registry options for loading drivers than just the two they give in that example; SCSI, RAID, as well as others are available for installing new hardware. \u003C/p\u003E\u003Cp\u003EThis is perhaps the reason why it did not work for me, as the installation was repaired in AHCI mode.\u003C/p\u003E\u003Cp\u003EI can access Windows at any time, I just have to change the drive to IDE in the BIOS. However, I have noticed a fairly descent drop in HDD performance without AHCI. I know it is only suppose to be a slight change in performance unless you are using a SSD, but I have noticed more than just a slight change...\u003C/p\u003E\u003Cp\u003EAlso I did already mention that I reinstalled the driver after windows update messed it up.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Cpt. Kipard:\u003C/strong\u003E Yes, always at the same spot (loading the AHCI driver) Not a RAM issue at all.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-01T07:11:47Z\u0022 title=\u002212/01/2014 07:11  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 1, 2014\u003C/time\u003E by Yarbrough08\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-01T07:22:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yarbrough08\u0022 data-cite=\u0022Yarbrough08\u0022\u003E\u003Cdiv\u003EIt is not \u0022messy\u0022 to install a mobo without a fresh install. [...] Also I did already mention that I reinstalled the driver after windows update messed it up.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t want to start a long argument about this, but I would say the proof is in the pudding. These kinds of problems often occur when making switches like these - for whatever reason it happens to be that specific time. In this case it was apparently an unwarranted update. There\u0027s plenty to go wrong. I feel my initial call was correct - things can go wrong and often do go wrong. A fresh installation prevents any old problem from suddenly rearing its head and restores performance too. Added bonus is that any undetected malware tends to be gone also.\u003C/p\u003E\u003Cp\u003EThe drop in performance is worrying in itself and reason enough to get backups in order and reinstall. Maybe it is a sign of a failing drive, maybe it is a sign of another latent problem. Whichever is the case, the cleanest solution is to raze this installation and start out crispy fresh. In the end it often saves a lot of time too, since all but the smaller problems tend to eat up a lot more time than initially thought.\u003C/p\u003E\n"},{"CreatedByName":"Yarbrough08","CreatedById":72048,"CreatedDateTime":"2014-12-01T07:27:49Z","Content":"\n\u003Cp\u003ENo argument is warranted... (I do apologize if I came across \u003Cstrong\u003Ethat\u003C/strong\u003E way, I just tend to be straight forward sometimes)\u003C/p\u003E\u003Cp\u003EI do realize that a fresh install is always better, but considering I\u0027m only a couple weeks away from finals this semester and this is my only computer atm.............\u003C/p\u003E\u003Cp\u003EThe HDD is less than a year old right now, I hope it is not starting to fail... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Just noticed your sig btw, love it in this situation..\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-01T07:34:53Z\u0022 title=\u002212/01/2014 07:34  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 1, 2014\u003C/time\u003E by Yarbrough08\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-01T08:14:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yarbrough08\u0022 data-cite=\u0022Yarbrough08\u0022\u003E\u003Cdiv\u003EI do realize that a fresh install is always better, but considering I\u0027m only a couple weeks away from finals this semester and this is my only computer atm.............\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat would you ideally achieve right now? Because I think you said you can access Windows? If you can work your way through the problems in IDE mode I would just leave it like that until you have some time to burn to fix it properly. I would consider adding that second disk quickly just in case there is something going awry, then you can fix the functional problems later.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThe HDD is less than a year old right now, I hope it is not starting to fail... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou never know, but if it is going to happen I would rather have it happen under warranty \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Most disks tend to die quickly or late in life, but that does unfortunately not mean they don\u0027t die in between at all.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EEdit: Just noticed your sig btw, love it in this situation..\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is a friendly reminder for the forum folks, but mostly one for myself.\u003C/p\u003E\n"},{"CreatedByName":"Yarbrough08","CreatedById":72048,"CreatedDateTime":"2014-12-01T08:34:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EWhat would you ideally achieve right now? Because I think you said you can access Windows? If you can work your way through the problems in IDE mode I would just leave it like that until you have some time to burn to fix it properly. I would consider adding that second disk quickly just in case there is something going awry, then you can fix the functional problems later.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is probably what I will have to do, I was probing the forums to see if there was something else that I had missed...\u003C/p\u003E\u003Cp\u003ETo me... (and we all know how biased we are about our own opinions) If it worked once, AND it works in IDE mode even though I never repaired the install again after switching; something COULD be done about it. \u003C/p\u003E\u003Cp\u003EOf course it does not always turn out the way we think it will.. (or hope, or want)\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-01T09:07:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yarbrough08\u0022 data-cite=\u0022Yarbrough08\u0022\u003E\u003Cdiv\u003ETo me... (and we all know how biased we are about our own opinions) If it worked once, AND it works in IDE mode even though I never repaired the install again after switching; something COULD be done about it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFair enough. The question is whether you are going to get this done without spending an excessive amount of time on it. I am just asking because I tend to do that - bite into some problem and spend way too much time fixing something because I feel it should be fixable that way. It\u0027s great when it works out, but I can hardly call it a time effective method.\u003C/p\u003E\n"},{"CreatedByName":"Yarbrough08","CreatedById":72048,"CreatedDateTime":"2014-12-01T09:21:17Z","Content":"\n\u003Cp\u003EThat is excellent food for thought as I have also been guilty of this on multiple occasions. (Hopefully it is not stubbornness trying to creep upon us)\u003C/p\u003E\n"}]}