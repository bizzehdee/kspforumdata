{"TopicId":209794,"ForumId":29,"TopicTitle":"Is my simple fix for a complex problem too simple?","CreatedByName":"Pehvbot","CreatedById":182810,"CreatedDateTime":"2022-09-18T16:32:50Z","PageNum":1,"Articles":[{"CreatedByName":"Pehvbot","CreatedById":182810,"CreatedDateTime":"2022-09-18T16:32:50Z","Content":"\n\u003Cp\u003E\nLess of a direct dev questions and more of a design philosophy and good practices question.\u00A0 I\u0027m working on a mod that uses the stock inventory system\u00A0for module management.\u00A0 The goal is to eventually make a much more modular (no pun intended) command part system where pods and probe cores are basically just empty shells you fill out using the inventory system.\u00A0 So far it\u0027s working pretty well.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever by default KSP disables parts with an inventory (ModuleInventoryPart) from being a storable part itself (ModuleCargoPart), so no nested inventory parts.\u00A0 This would be a super useful and likely necessary feature and it can be gotten around.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you create and use a subclass of\u00A0ModuleInventoryPart, the new subclass won\u0027t trigger this restriction so you can in theory store an inventory within an inventory.\u00A0 The stock game will properly keep track of build cost and mass but it won\u0027t see the nested inventory part costs on recovery.\u00A0 The parts are there but you lose the money for any part stored in a stored part.\n\u003C/p\u003E\n\u003Cp\u003E\nRather than dig into the recovery code or mess too much with the ModuleInventoryPart class I was thinking of just adding in a hidden RESOURCE (call it \u0027Components\u0027 or whatever) and simply adjust the amount based on the cost of the stored parts.\u00A0 On recovery this \u0027resource\u0027 gets added back into the recovery cost so in theory it all comes out even.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this too kludgy?\u00A0 I feel like it should work just fine but it seems a bit of a cheat somehow.\u00A0 Any thoughts?\n\u003C/p\u003E\n"}]}