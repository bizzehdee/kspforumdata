{"TopicId":96343,"ForumId":20,"TopicTitle":"Can I make new fuel types? How do I do it?","CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-01-11T10:11:26Z","PageNum":1,"Articles":[{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-01-11T10:11:26Z","Content":"\n\u003Cp\u003EI work with programming a lot. Heck, I programmed Mariyate to work with me. Of course, she created her own extensions to become ever changing, but that\u0027s the thing. There\u0027s always been one file type I\u0027ve never figured out properly. .Dll\u003C/p\u003E\u003Cp\u003EThe question is:\u003Cstrong\u003E Is it possible to introduce new fuel types that work the same way as stock fuels do, but require no additional plugins?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve asked around on Crescendo a bit, but no one seems to know the right answer. Some say it\u0027s possible, some say it isn\u0027t. Anyway, I\u0027ve seen threads about going into the resources folder and modifying some things, but when I start up the game, the resources aren\u0027t present in anything, even after modifying some part files to include them, such as Liquid Hydrogen in place of Liquid Fuel, so that isn\u0027t the case. Anyone know how it\u0027s done?\u003C/p\u003E\u003Cp\u003EI\u0027m gonna say right now, I\u0027m not a pro. I\u0027m not as keen with programming as a lot of people. I\u0027m not even sure if new fuel types require Dlls, and that speaks for itself.\u003C/p\u003E\u003Cp\u003EThat being said, do you perhaps know how a fuel is created? If so, how?\u003C/p\u003E\u003Cp\u003ENOTICE: As you might have guessed, I want to create a fuel mod, and have even started making models for various parts to fit the central purpose. If you can tell me how to make fuels and what is required for it, you will get first access to the mod. Of course, it will be fairly small as it will be my first, but later I could create more.\u003C/p\u003E\u003Cp\u003EEDIT: In case you didn\u0027t exactly get all the information for an answer, just ask me and I can elaborate.\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-11T10:41:28Z","Content":"\n\u003Cp\u003EYes, you can. It doesn\u0027t require a plugin, and it\u0027s not difficult - even Squad\u0027s fuels are just a few lines in a config file.\u003C/p\u003E\u003Cp\u003ELook at: GameData\\Squad\\Resources\\ResourcesGeneric.cfg\u003C/p\u003E\u003Cp\u003EThere you will find the definitions for liquid fuel and oxidizer (and a whole bunch of other stuff):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ERESOURCE_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E  name = LiquidFuel\u003Cbr\u003E  density = 0.005\u003Cbr\u003E  unitCost = 0.8\u003Cbr\u003E  flowMode = STACK_PRIORITY_SEARCH\u003Cbr\u003E  transfer = PUMP\u003Cbr\u003E  isTweakable = true\u003Cbr\u003E}\u003Cbr\u003ERESOURCE_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E  name = Oxidizer\u003Cbr\u003E  density = 0.005\u003Cbr\u003E  unitCost = 0.18\u003Cbr\u003E  flowMode = STACK_PRIORITY_SEARCH\u003Cbr\u003E  transfer = PUMP\u003Cbr\u003E  isTweakable = true\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFollowing that example, you can easily create your own RESOURCE_DEFINITION. Just copy the LiquidFuel one, adjust name, density (weight in metric tonnes of 1 unit ingame) and unitCost to your liking. Write this into a textfile, name it myresources.cfg, and place it into for example /GameData/MyStuff.\u003C/p\u003E\u003Cp\u003ENow you need a tank for your new fuel. Look at GameData\\Squad\\Parts\\FuelTank\\fuelTankT800\\fuelTankT800.cfg\u003C/p\u003E\u003Cp\u003EAt the bottom of the config file, there\u0027s these two nodes:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = LiquidFuel\u003Cbr\u003E amount = 360\u003Cbr\u003E maxAmount = 360\u003Cbr\u003E}\u003Cbr\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxidizer\u003Cbr\u003E amount = 440\u003Cbr\u003E maxAmount = 440\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThose tell the tank what it stores, how much it can store, and how much there is in it by default. You can now copy the entire fuelTankT800 folder from Squad to /GameData/MyStuff. Rename it so you know what it is. Rename the config too. Go into the config, edit the stuff under \u0022editor parameters\u0022 to your liking, change name and author under \u0022general parameters\u0022, and edit the RESOURCE nodes to contain your new fuel instead of the LF/O mix. You\u0027ll probably want one single node with 800 units. Unless you gave your resource a different density, in which case your tank is going to be either lighter or heavier than stock LF/O mix unless you adjust the number of units present.\u003C/p\u003E\u003Cp\u003EYou should now be able to start up KSP and see in the VAB a copy of the FL-T800 fuel tank, except that it carries the name that you gave it, and contains your new fuel.\u003C/p\u003E\u003Cp\u003EFinally you need an engine that consumes the new fuel. Look at an engine config, such as for example GameData\\Squad\\Parts\\Engine\\liquidEngineLV-T30\\liquidEngineLV-T30.cfg\u003C/p\u003E\u003Cp\u003EThere you can see how the engine is told to use resources as propellant:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = ModuleEngines\u003Cbr\u003E\u003Cbr\u003E        (other stuff)\u003Cbr\u003E\u003Cbr\u003E\tPROPELLANT\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = LiquidFuel\u003Cbr\u003E       \t        ratio = 0.9\u003Cbr\u003E\t\tDrawGauge = True\u003Cbr\u003E\t}\u003Cbr\u003E\tPROPELLANT\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = Oxidizer\u003Cbr\u003E\t\tratio = 1.1\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E        (other stuff)\u003Cbr\u003E\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou do the same with this engine as you did with the fuel tank: copy the entire engine folder to /GameData/Mystuff, rename the folder and the config name for convenience, go into the config and change part name, author and editor parameters, and finally make it so that instead of LF/O mix, it uses your new resource.\u003C/p\u003E\u003Cp\u003EIf you start the game now, you should find a copy of the LV-T30 engine that carries your name and uses your fuel. Stick it under your fuel tank, put a capsule on top, and launch! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow, if you want to get deeper into this, you either want to create your own tanks and engines instead of copying Squad\u0027s; or, you want to change certain existing parts to use your new fuel resource instead of what they used before. For the former, you\u0027ll have to learn 3D modeling and texturing; for the latter, look at a mod called ModuleManager which allows you to write simple patches (in a syntax very similar to how the config files work) that will overwrite the base configs at runtime. You can make it change all of Squad\u0027s engines to your new fuel, for example, instead of creating copies of the engines.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-01-11T13:30:14Z","Content":"\n\u003Cp\u003EThis is more of a modding question than a gameplay question, moved to where it will be seen by more modders.\u003C/p\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-01-12T04:17:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Streetwind\u0022 data-cite=\u0022Streetwind\u0022\u003E\u003Cdiv\u003EYes, you can. It doesn\u0027t require a plugin, and it\u0027s not difficult - even Squad\u0027s fuels are just a few lines in a config file.\u003Cp\u003ELook at: GameData\\Squad\\Resources\\ResourcesGeneric.cfg\u003C/p\u003E\u003Cp\u003EThere you will find the definitions for liquid fuel and oxidizer (and a whole bunch of other stuff):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ERESOURCE_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E  name = LiquidFuel\u003Cbr\u003E  density = 0.005\u003Cbr\u003E  unitCost = 0.8\u003Cbr\u003E  flowMode = STACK_PRIORITY_SEARCH\u003Cbr\u003E  transfer = PUMP\u003Cbr\u003E  isTweakable = true\u003Cbr\u003E}\u003Cbr\u003ERESOURCE_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E  name = Oxidizer\u003Cbr\u003E  density = 0.005\u003Cbr\u003E  unitCost = 0.18\u003Cbr\u003E  flowMode = STACK_PRIORITY_SEARCH\u003Cbr\u003E  transfer = PUMP\u003Cbr\u003E  isTweakable = true\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFollowing that example, you can easily create your own RESOURCE_DEFINITION. Just copy the LiquidFuel one, adjust name, density (weight in metric tonnes of 1 unit ingame) and unitCost to your liking. Write this into a textfile, name it myresources.cfg, and place it into for example /GameData/MyStuff.\u003C/p\u003E\u003Cp\u003ENow you need a tank for your new fuel. Look at GameData\\Squad\\Parts\\FuelTank\\fuelTankT800\\fuelTankT800.cfg\u003C/p\u003E\u003Cp\u003EAt the bottom of the config file, there\u0027s these two nodes:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = LiquidFuel\u003Cbr\u003E amount = 360\u003Cbr\u003E maxAmount = 360\u003Cbr\u003E}\u003Cbr\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxidizer\u003Cbr\u003E amount = 440\u003Cbr\u003E maxAmount = 440\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThose tell the tank what it stores, how much it can store, and how much there is in it by default. You can now copy the entire fuelTankT800 folder from Squad to /GameData/MyStuff. Rename it so you know what it is. Rename the config too. Go into the config, edit the stuff under \u0022editor parameters\u0022 to your liking, change name and author under \u0022general parameters\u0022, and edit the RESOURCE nodes to contain your new fuel instead of the LF/O mix. You\u0027ll probably want one single node with 800 units. Unless you gave your resource a different density, in which case your tank is going to be either lighter or heavier than stock LF/O mix unless you adjust the number of units present.\u003C/p\u003E\u003Cp\u003EYou should now be able to start up KSP and see in the VAB a copy of the FL-T800 fuel tank, except that it carries the name that you gave it, and contains your new fuel.\u003C/p\u003E\u003Cp\u003EFinally you need an engine that consumes the new fuel. Look at an engine config, such as for example GameData\\Squad\\Parts\\Engine\\liquidEngineLV-T30\\liquidEngineLV-T30.cfg\u003C/p\u003E\u003Cp\u003EThere you can see how the engine is told to use resources as propellant:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleEngines\u003Cbr\u003E\u003Cbr\u003E        (other stuff)\u003Cbr\u003E\u003Cbr\u003E    PROPELLANT\u003Cbr\u003E    {\u003Cbr\u003E        name = LiquidFuel\u003Cbr\u003E                   ratio = 0.9\u003Cbr\u003E        DrawGauge = True\u003Cbr\u003E    }\u003Cbr\u003E    PROPELLANT\u003Cbr\u003E    {\u003Cbr\u003E        name = Oxidizer\u003Cbr\u003E        ratio = 1.1\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E        (other stuff)\u003Cbr\u003E\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou do the same with this engine as you did with the fuel tank: copy the entire engine folder to /GameData/Mystuff, rename the folder and the config name for convenience, go into the config and change part name, author and editor parameters, and finally make it so that instead of LF/O mix, it uses your new resource.\u003C/p\u003E\u003Cp\u003EIf you start the game now, you should find a copy of the LV-T30 engine that carries your name and uses your fuel. Stick it under your fuel tank, put a capsule on top, and launch! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow, if you want to get deeper into this, you either want to create your own tanks and engines instead of copying Squad\u0027s; or, you want to change certain existing parts to use your new fuel resource instead of what they used before. For the former, you\u0027ll have to learn 3D modeling and texturing; for the latter, look at a mod called ModuleManager which allows you to write simple patches (in a syntax very similar to how the config files work) that will overwrite the base configs at runtime. You can make it change all of Squad\u0027s engines to your new fuel, for example, instead of creating copies of the engines.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell that was a bit easier than I expected. Thank\u0027s for telling me this! Liquid Hydrogen and Liquid Oxygen have been added to the game!\u003C/p\u003E\u003Cp\u003EI am currently in testing for part optimization and pixel measurements for the modelling, so it\u0027ll be quite a bit before I make a release, but when I do, you\u0027ll be the first to be notified!\u003C/p\u003E\u003Cp\u003EBTW, sorry for the very delayed response. I\u0027d gone to sleep last night and only now decided to check my mail.\u003C/p\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-01-14T17:40:47Z","Content":"\n\u003Cp\u003EWell so much for modding. The game wont recognize any textures or colliders I put on the part. It just shows up as a white ghostly object that doesn\u0027t do anything. Look like I can\u0027t make anything with this.\u003C/p\u003E\n"}]}