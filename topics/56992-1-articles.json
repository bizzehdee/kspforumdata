{"TopicId":56992,"ForumId":29,"TopicTitle":"Game data serial output?","CreatedByName":"RPspace","CreatedById":68789,"CreatedDateTime":"2013-12-20T04:02:10Z","PageNum":1,"Articles":[{"CreatedByName":"RPspace","CreatedById":68789,"CreatedDateTime":"2013-12-20T04:02:10Z","Content":"\n\u003Cp\u003EI\u0027m wanting to build an Arduino based flight control panel with buttons for toggling RCS, SAS, gear, ect. That part will be easy. What I need help with is writing a plugin for KSP to output game state data like fuel levels, electric charge, alt, and velocity via serial port. My plan was to have the Arduino buffer this data and then write it to a LCD screen. If someone is interested in helping with this, if it\u0027s even possible, when I have a working prototype I will post details on how to build the flight controller and the Arduino code so anyone who wants to get their hands dirty can have a nerd toy of their own.\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2013-12-20T06:46:24Z","Content":"\n\u003Cp\u003EI\u0027m fairly certain that since they unlocked System.IO a few versions ago you should be able to send data to a serial port. Rich\u0027s Telemachus plugin is probably reading and displaying almost all the data you are looking for, so if you look at that you should be able to tell if it is possible to do, before getting too far along.\u003C/p\u003E\u003Cp\u003EI\u0027ll have to pass on helping directly though at the moment, but will keep an eye on this.\u003C/p\u003E\n"},{"CreatedByName":"KvickFlygarn87","CreatedById":76314,"CreatedDateTime":"2013-12-20T07:06:30Z","Content":"\n\u003Cp\u003EI can help a bit with the Arduino code. I\u0027ve been meaning to get back to that quite some time.\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-12-20T09:38:30Z","Content":"\n\u003Cp\u003EHow\u0027s your C#? What you\u0027re looking to do is achievable (assuming as Trigger Au said that System.Io.Ports is available), and a good way to get started with KSP plugin development. There\u0027s a guide to starting out on the wiki \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Creating_your_first_module\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, and TaranisElsu has put together some example plugins \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/56053-Example-plugin-projects-to-help-you-get-started\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. There is some player-compiled documentation for autocomplete \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/30401-XML-documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003ETalking over a serial COM port is pretty easy in C#. See \u003Ca href=\u0022http://msmvps.com/blogs/coad/archive/2005/03/23/SerialPort-_2800_RS_2D00_232-Serial-COM-Port_2900_-in-C_2300_-.NET.aspx\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E for an example.\u003C/p\u003E\u003Cp\u003ETo get the various values you\u0027re looking to read, have a browse through FlightGlobals.ActiveVessel in your IDE.\u003C/p\u003E\u003Cp\u003EIf you have any questions that you don\u0027t think warrant a thread of their own, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/7544-The-official-unoffical-help-a-fellow-plugin-developer-thread\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E is the place to go.\u003C/p\u003E\u003Cp\u003EGood luck!\u003C/p\u003E\n"},{"CreatedByName":"RPspace","CreatedById":68789,"CreatedDateTime":"2013-12-20T13:31:22Z","Content":"\n\u003Cp\u003EThanks for the input. The last time I wrote in any program language was about ten years ago but I\u0027ll take a look and see what I can do. I did not expect to get info so quickly on this topic so that in itself is encouraging. I will try to post news of my progress here for those who are interested. Thanks again for the breadcrumbs at the start of my trail.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-12-20T15:04:12Z","Content":"\n\u003Cp\u003EI\u0027m not that sure that System.IO.Ports is available. KSP/Unity does not come with the usual full .net runtime. But if stuff is missing, you should be able to replace those components with code from \u003Ca href=\u0022https://github.com/mono/mono/tree/master/mcs/class/System/System.IO.Ports\u0022 rel=\u0022external nofollow\u0022\u003EMono\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"ata","CreatedById":25236,"CreatedDateTime":"2013-12-21T13:16:05Z","Content":"\n\u003Cp\u003EI am also planning to use an Arduino based controller setup with KSP. My first goal is just to add a few frequently used controls, and remap controls of my XBOX 360 controller in flight using the USB Host Shield. So I am definitely interested in this. \u003C/p\u003E\u003Cp\u003ESome of my ideas:\u003C/p\u003E\u003Cp\u003E- deadzone control so no manual deadzone adjustment is necessary\u003C/p\u003E\u003Cp\u003E- use a rotary encoder to adjust controller sensitivity\u003C/p\u003E\u003Cp\u003E- use a motorized pot for throttle (so it can be set to min/max with a button and also controlled from the controller)\u003C/p\u003E\n"},{"CreatedByName":"RPspace","CreatedById":68789,"CreatedDateTime":"2013-12-21T22:32:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ata\u0022 data-cite=\u0022ata\u0022\u003E\u003Cdiv\u003EI am also planning to use an Arduino based controller setup with KSP. My first goal is just to add a few frequently used controls, and remap controls of my XBOX 360 controller in flight using the USB Host Shield. So I am definitely interested in this. \u003Cp\u003ESome of my ideas:\u003C/p\u003E\u003Cp\u003E- deadzone control so no manual deadzone adjustment is necessary\u003C/p\u003E\u003Cp\u003E- use a rotary encoder to adjust controller sensitivity\u003C/p\u003E\u003Cp\u003E- use a motorized pot for throttle (so it can be set to min/max with a button and also controlled from the controller)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy plan was to start with a basic \u0022flight komputer\u0022 and use a USB joystick for flight controls. Then if that went as planned, look at building a new box with integrated flight controls. This weekend I will try to get some EagleCAD proto drawings going and post them. Right now I\u0027m working on getting an IDE setup so I can look into pulling data from the game and output via serial.\u003C/p\u003E\n"}]}