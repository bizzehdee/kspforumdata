{"TopicId":210275,"ForumId":20,"TopicTitle":"Help to make an add-on to add USI Life support Supply resource to crewed parts","CreatedByName":"Chrisomega123","CreatedById":158929,"CreatedDateTime":"2022-10-25T21:57:00Z","PageNum":1,"Articles":[{"CreatedByName":"Chrisomega123","CreatedById":158929,"CreatedDateTime":"2022-10-25T21:57:00Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to make a simple add-on that just adds the supply resource to all crewed parts. OPT spaceplane parts already has this at a certain ratio of the resource to crew capacity in the part. I changed the ratio in the OPT config files to something I felt was more balanced (by default it\u0027s very low), which worked just fine. But for some reason even directly modifying a stock part config such as:\n\u003C/p\u003E\n\u003Cdiv style=\u0022color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas, \u0027Courier New\u0027, monospace;font-weight:normal;font-size:14px;line-height:19px;white-space:pre;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E@\u003C/span\u003E\u003Cspan style=\u0022color:rgb(78,201,176);\u0022\u003EPART\u003C/span\u003E\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E[\u003C/span\u003E\u003Cspan style=\u0022color:rgb(206,145,120);\u0022\u003Emk2LanderCabin_v2\u003C/span\u003E\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E]\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E{\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 \u003C/span\u003E\u003Cspan style=\u0022color:rgb(78,201,176);\u0022\u003EMODULE\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 {\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u003C/span\u003E\u003Cspan style=\u0022color:rgb(156,220,254);\u0022\u003Ename\u003C/span\u003E\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E = \u003C/span\u003E\u003Cspan style=\u0022color:rgb(206,145,120);\u0022\u003EUSI_ModuleResourceWarehouse\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 }\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 \u003C/span\u003E\u003Cspan style=\u0022color:rgb(78,201,176);\u0022\u003ERESOURCE\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 {\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u003C/span\u003E\u003Cspan style=\u0022color:rgb(156,220,254);\u0022\u003Ename\u003C/span\u003E\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E = \u003C/span\u003E\u003Cspan style=\u0022color:rgb(206,145,120);\u0022\u003ESupplies\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u003C/span\u003E\u003Cspan style=\u0022color:rgb(156,220,254);\u0022\u003Eamount\u003C/span\u003E\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E = \u003C/span\u003E\u003Cspan style=\u0022color:rgb(181,206,168);\u0022\u003E100\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u003C/span\u003E\u003Cspan style=\u0022color:rgb(156,220,254);\u0022\u003EmaxAmount\u003C/span\u003E\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E = \u003C/span\u003E\u003Cspan style=\u0022color:rgb(181,206,168);\u0022\u003E100\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E\u00A0 \u00A0 }\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cspan style=\u0022color:rgb(212,212,212);\u0022\u003E}\u003C/span\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nthis doesn\u0027t seem to work. Any help? Ideally I\u0027d like to configure it simply to add 50 supplies per crew spot to all command/crewed parts. But I\u0027m fine with manually configuring every crew part in my game.\n\u003C/p\u003E\n"},{"CreatedByName":"JadeOfMaar","CreatedById":167617,"CreatedDateTime":"2022-10-25T22:20:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224190773\u0022 data-ipsquote-contentid=\u0022210275\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221666735020\u0022 data-ipsquote-userid=\u0022158929\u0022 data-ipsquote-username=\u0022Chrisomega123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, Chrisomega123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n50 supplies per crew spot to all command/crewed parts\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi there. You want something like this. Should work just fine.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\u003Cspan class=\u0022lit\u0022\u003E@PART\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EHAS\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[#\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ECrewCapacity\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]]:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EAFTER\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EUSILifeSupport\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E%\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EMODULE\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EUSI_ModuleResourceWarehouse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E%\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003ERESOURCE\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ESupplies\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E%\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eamount \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E50\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\t\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E@amount\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E#$/CrewCapacity$\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E%\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EmaxAmount \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E50\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\t\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E@maxAmount\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E#$/CrewCapacity$\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nYou need to have a pass modifier to help the patch to know when exactly to be run (that\u0027s the \u003Cspan\u003E:AFTER[ModName] bit). Your patches can be greatly simplified by targeting a key and using \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E math processes on its value or if its value is true: \u0022For every part that has crew capacity \u0026gt; 0, declare Supplies amounts and multiply these by the crew capacity.\u0022 Finally, the % prefix means \u0022If it exists, edit it. If it doesn\u0027t exist, create it. The value within [] there belongs to the \u003Cstrong\u003Ename\u003C/strong\u003E key\u0022\u003C/span\u003E\n\u003C/p\u003E\n"}]}