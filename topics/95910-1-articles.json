{"TopicId":95910,"ForumId":16,"TopicTitle":"Resource Usage of Air-Breathing Engines","CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-07T09:18:03Z","PageNum":1,"Articles":[{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-07T09:18:03Z","Content":"\n\u003Cp\u003EI am trying to wrap my head around how jet engines work... I notice that both the basic jet engine and the turbojet have the same liquid fuel to intake air ratio, 1:15. And I\u0027ve been wondering: if I wanted to make a high altitude engine like the turbojet, would I not have it consume less intake air? So it can go higher?\u003C/p\u003E\u003Cp\u003EAnd then I said: but wait, turbojets do flame out later than basic jet engines already despite having the same ratio... why is that?\u003C/p\u003E\u003Cp\u003EAlso, if I go ahead and change the fuel to air ratio to make the engine use less air, would that mean that it consumes more fuel now, because you still need the same mass flow at any given Isp? Or is liquid fuel the base propellant and its consumption is defined via Isp independent from intake air, while intake air is a secondary propellant that just scales off of however much liquid fuel is currently being consumed? Because that\u0027s how the ion engine works, with only xenon changing with Isp and electric charge scaling exclusively off of xenon...\u003C/p\u003E\u003Cp\u003EWould appreciate if you could add your thoughts here so that I might understand this better \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-01-07T10:23:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Eturbojets do flame out later than basic jet engines already despite having the same ratio... why is that?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA combination of having a higher vacuum ISP, and travelling at greater speeds resulting in more intake air.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Eif I go ahead and change the fuel to air ratio to make the engine use less air, would that mean that it consumes more fuel now, because you still need the same mass flow at any given Isp?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Ewhile intake air is a secondary propellant that just scales off of however much liquid fuel is currently being consumed? Because that\u0027s how the ion engine works, with only xenon changing with Isp and electric charge scaling exclusively off of xenon...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EElectric charge is massless, intake air is not.\u003C/p\u003E\u003Cp\u003EIMO, they should make intake air massless, and then make the jet fuel tanks hold more jet fuel (although the new parts by porkjet have decent capacity, the old ones did not).\u003C/p\u003E\u003Cp\u003EJet engines are roughly 16x as efficient as they should be, because of this...\u003C/p\u003E\u003Cp\u003EAlthough I could see bumping the basic jet\u0027s ISP up to about 6,000 if they made intake air massless. They\u0027d also have to fix aerodynamics so you don\u0027t spend so much fuel fighting drag.\u003C/p\u003E\u003Cp\u003EAnd to prevent premature flameouts, they\u0027d then need to change the jet fuel to intake air ratio to 1:1.\u003C/p\u003E\u003Cp\u003EOf course, one can easily do this - instal NEAR or FAR, change intake air to be massless, change the intake air ratio, and then suddenly you\u0027ll have a lot more realistic jet aircraft.\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-07T10:33:51Z","Content":"\n\u003Cp\u003EWhy would the ratio have to be 1:1? Would it not make more sense to have different ratios for different engines?\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-01-07T11:14:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Streetwind\u0022 data-cite=\u0022Streetwind\u0022\u003E\u003Cdiv\u003EWhy would the ratio have to be 1:1? Would it not make more sense to have different ratios for different engines?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would say so. I imagine a prop engine would use a different amount of intake air to consume the same amount of fuel when compared to a jet or a turbojet or a sabre engine.\u003C/p\u003E\u003Cp\u003EMyself I am looking forward to the time that a stock game acts like a FAR modded game and the engines have had a balancing overhaul so they make sense in relation to each other and the game in general.\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-07T11:35:44Z","Content":"\n\u003Cp\u003EMight be wise to be cautious with your expectations... nothing as of yet indicates that FAR will be stockified. Evidence overwhelmingly points towards Squad going their own way, and it might potentially end up feeling quite different. On that note: Maxmaps did announce an upcoming blog post as soon as Friday in the latest Devnotes, which may or may not shed light on the mystery.\u003C/p\u003E\u003Cp\u003EThe understanding I\u0027m seeking here is more or less independent of the aerodynamic model, though... I want to gain an innate understanding of what exactly happens if I change the intake air ratio to something else than the default 1:15.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-01-07T11:47:02Z","Content":"\n\u003Cp\u003EIf you make the intake air ratio lower, your engines will require fewer intakes to keep lit at a given altitude/speed but will consume more fuel per unit thrust.\u003C/p\u003E\u003Cp\u003EAlso note that the Isp listed in the game is not 100% accurate; it does not take into account the thrust reduction that comes with most speed conditions. I.e. a jet engine at 100% throttle consumes fuel at the same rate whether it is producing 200kN or 50kN. The engine in the second case has 1/4 the Isp of the first at the same altitude.\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-01-07T11:59:34Z","Content":"\n\u003Cp\u003EAir breathing engines have a pair of atmosphere curves in their config files.\u003C/p\u003E\u003Cp\u003E One sets the Isp as a function of pressure (and thus altitude). The other sets the thrust production as a function of speed.\u003C/p\u003E\u003Cp\u003E Basic jets don\u0027t really flame out earlier. They just can\u0027t hit the speed to pack as much air in the intakes, so they run out of air earlier with the same number of intakes. If you intake-spam a basic jet, it can stay lit all the way up to 70km... provided you can get it up there with so little thrust and speed.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-01-07T12:41:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Streetwind\u0022 data-cite=\u0022Streetwind\u0022\u003E\u003Cdiv\u003EWhy would the ratio have to be 1:1? Would it not make more sense to have different ratios for different engines?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, it would, but I\u0027m just proposing a quick \u0022fix\u0022 for the current engines, which have the same ratio.\u003C/p\u003E\u003Cp\u003EMaking intake air massless, and then changing it to a 1:1 ratio would mean that they flame out at the same point as before the change (except now their fuel usage is much higher and closer to real life). You could still adjust it to make them lame out at higher or lower altitudes.\u003C/p\u003E\u003Cp\u003EIn real life, there are different ways to calculate Isp. For chemical rockets, its pretty simple, because fuel and propellant are the same thing, and for NTR or electric propulsions, we ignore the fuel and only consider the propellant, all of which is carried onboard.\u003C/p\u003E\u003Cp\u003EIn these cases, exhaust velocity perfectly correlates with Isp.\u003C/p\u003E\u003Cp\u003EJet engines actually have really low exhaust velocities, but they have really high \u0022effecitve\u0022 Isp\u0027s because they use the air as propellant, and the fuel is used to impart energy to that propellant.\u003C/p\u003E\u003Cp\u003ESo, IRL, when a turbotjet an Isp of 2500, its not that the exhaust velocity is triple that of the NERVA engine - it is actually a really low exhaust velocity, but only the mass of the fuel is being considered, not the mass of most of the propellant, ie, the air.\u003C/p\u003E\u003Cp\u003E-but KSP does factor in the mass of the air, in a ratio of 15:1 to the fuel, resulting in a fuel use that is 1/(15\u002B1) too low for an engine with that Isp (granted, some turbofan enegine get effective Isps of over 6,000) - making a 2,500 Isp engine really a 2,500*16 = 40,000 ISP engine, which is... ridiculous.\u003C/p\u003E\u003Cp\u003EAnother way to \u0022fix\u0022 it is to lower the Isp for the engines to something like 200-300, and then change the intake air ratios as needed to get the proper effective Isp - but this way will dramatically increase the intake air needed, which means you\u0027d then have to modify the amount of intake air the intakes produce... and so on. It would be much easier to make intake air massless, and then change the ratio to 1:1 as a starting point, and then change that as needed.\u003C/p\u003E\u003Cp\u003EBut this is to get realistic Isps... if you are fine with unrealistic Isps, you can just make the Isp higher to have the engine flame out at a higher altitude. Or you can make the intake ratio lower to make it flam out at higher altitudes (at the same time, increasing fuel consumption and giving it a more realistic Isp.\u003C/p\u003E\u003Cp\u003EKSPs jet Isp is even stranger, because the real Isp scales with velocity and air pressure. Resource use changes with air pressure (not true IRL), while thrust changes with velocity. So a turbojet engine really only gets 40,000 Isp when your craft is going 1,000 m/s at 0.3 atmospheres.\u003C/p\u003E\u003Cp\u003EFrom a dead stop at sea level, it gets 0.5 * 800 *16 = 6,400 Isp -\u0026gt; which would be reasonable if this was a high bypass turbofan being used on a subsonic aircraft.\u003C/p\u003E\u003Cp\u003EHovering on jet thrust at 0.3 atmospheres gives 0.5*2500 *16 = 20,000 ISP... ridiculous.\u003C/p\u003E\u003Cp\u003EI\u0027m not sure what equation they use to make the curve, but it produces 100% thrust at 1,000 m/s and declines to 0% thrust at 2,400 m/s, with no change in fuel consumption.\u003C/p\u003E\u003Cp\u003EAssuming you are high enough in the atmosphere that its basically using the vacuum Isp, when you are travelling at 1,000 m/s very high in the atmosphere, your effective Isp is 19,200... ridiculous.\u003C/p\u003E\u003Cp\u003EAssuming the thrust curve is linear (I\u0027m pretty sure it is not), then 2,000 m/s is 1,000 m/s past max thrust, and 1,400 m/s past max thrust is when 0% thrust is reached. Thus we\u0027d expect a linear curve to produce 1,000/1,400 *100% = 71% thrust, and the Isp would be 13,700... ridiculous. Given that 2,000 m/s surface velocity is an even higher orbital velocity (assuming you fly west), the turbojet will basically get you from a standstill to orbit while having unrealistically high Isps the whole way, basically 20,000 or better as soon as you get a few km high.\u003C/p\u003E\u003Cp\u003EThe basic jet is not as bad... the effective Isp drops to ZERO at 1,000 m/s or higher\u003C/p\u003E\u003Cp\u003EFrom sea level, on takeoff, it gets 2000 * 16 = 32,000 effective Isp, but at high altitude, at 850 m/s, it is only 0.2 * 1,000*16=3,200, which is not so far above a realistic value.\u003C/p\u003E\n"},{"CreatedByName":"LordFjord","CreatedById":97341,"CreatedDateTime":"2015-01-07T12:46:38Z","Content":"\n\u003Cp\u003EI\u0027m rather glad that the intake air ratio is the same for all airbreather engines (so far). It made making Intake Build Aid (see sig) a whole lot easier \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs a more serious answer: it would make sense to have some more diversity of airbreather engines and I don\u0027t mean just by giving them different intake air ratio values.\u003C/p\u003E\u003Cp\u003EI\u0027d rather have a higher diversity, one engine for its task, just like with rocket engines where we really have a lot of options - and different sizes.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-01-07T12:49:40Z","Content":"\n\u003Cp\u003EKerikBalm: Great, informative post. I can add that the thrust curve is a Bezier between each pair of points defined in the .cfg. I don\u0027t have the reference handy, but someone looked at the function call in Unity and how it handles functional curves.\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-07T13:22:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerikBalm\u0022 data-cite=\u0022KerikBalm\u0022\u003E\u003Cdiv\u003EWords Words Words\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... okay. So the takeaway is:\u003C/p\u003E\u003Cp\u003E- Changing Isp changes both fuel consumption and flameout altitude\u003C/p\u003E\u003Cp\u003E- Changing the intake air ratio changes both fuel consumption and flameout altitude too\u003C/p\u003E\u003Cp\u003E- If intake air was set to zero mass, you could set fuel consumption with Isp alone and flameout altitude with intake air ratio alone\u003C/p\u003E\u003Cp\u003EIs that a good enough summary?\u003C/p\u003E\u003Cp\u003EThinking about it, I might actually prefer the massless intake air scenario for other reasons as well... for example, user friendliness. Looking at Karbonite\u0027s aircraft engines, for instance, left me utterly confused at the start, because some of the engines which the flavor text claims have great fuel efficiency actually have lower specific impulses than engines which the flavor text calls inefficient. And they do have vastly different air to fuel ratios in their configs. But you can\u0027t clearly see that ingame - only hidden in the maximum volume flow rate readout in the VAB, which only describes a maximum possible value and not a typical operating condition. And even then it\u0027s arcane. It would be a much better idea from a usability standpoint if fuel efficiency could be compared between different airbreathing engines by looking at Isp alone, like it is done for rocket engines. (Yes, I\u0027m intentionally ignoring engine mass influencing fuel economy here.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EAlso note that the Isp listed in the game is not 100% accurate; it does not take into account the thrust reduction that comes with most speed conditions. I.e. a jet engine at 100% throttle consumes fuel at the same rate whether it is producing 200kN or 50kN. The engine in the second case has 1/4 the Isp of the first at the same altitude.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerikBalm\u0022 data-cite=\u0022KerikBalm\u0022\u003E\u003Cdiv\u003EI\u0027m not sure what equation they use to make the curve, but it produces 100% thrust at 1,000 m/s and declines to 0% thrust at 2,400 m/s, with no change in fuel consumption.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh? Is that something that FAR changes, by any chance? I\u0027ve been experimenting with engines yesterday, and my install just so happens to have FAR in it (though I have other saves without it). And I definitely noticed the fuel flow rate going way down as speed increased and the engine lost most of its thrust - even as altitude was increasing and thus Isp was going down.\u003C/p\u003E\u003Cp\u003EI\u0027m going to have to compare stock to FAR behavior more closely, then. I thought it wouldn\u0027t matter, but apparently it does... As if things weren\u0027t complex enough yet \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-07T20:18:17Z","Content":"\n\u003Cp\u003EOkay, so I tested this out (in a stock install) now that I am home.\u003C/p\u003E\u003Cp\u003EA fair bit of what was discussed so far is wrong \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe fuel to air ratio has absolutely no effect on flameout altitude. It purely affects fuel consumption.\u003C/p\u003E\u003Cp\u003EIsp has absolutely no effect on flameout altitude. It purely affects fuel consumption.\u003C/p\u003E\u003Cp\u003ESetting the density of the IntakeAir to zero is not practical, because resource density DOES affect flameout altitude in addition to fuel consumption. The less resource density, the higher you can go. At zero density, IntakeAir is infinite even with a single tiny intake, and air-breathing engines will never flame out. While I didn\u0027t make it into space due to absence of a capable stock spaceplane or HyperEdit, I could not get the resource display to budge in any way even at 44km altitude. All engines are affected equally by this, you cannot set it individually for each engine. In fact I have a feeling that it\u0027s the intakes that are screwing this up, with their math being somehow density dependant and thus generating infinite output when density is zero. I cannot confirm this however, it\u0027s just a wild guess.\u003C/p\u003E\u003Cp\u003EAnd for what it\u0027s worth: my thinking that FAR somehow changes the way fuel consumption is calculated for engines as their thrust drops at high speed? That was also wrong! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E It behaves just like stock, and I simply misremembered.\u003C/p\u003E\u003Cp\u003ESo as it looks like right now, what you basically can do is this: leave IntakeAir density untouched. Set all engines to 1:1 fuel/air ratio. Then adjust fuel usage via Isp to a realistic value. That way you get realistic Isp\u0027s that aren\u0027t artificially inflated by the fuel/air ratio. Of course, it\u0027ll also be a collossal turbojet \u0026amp; rapier nerf. Maybe even to the point of making their intended function (building spaceplanes) prohibitively difficult. I suppose you\u0027d have to test what Isp values would make for good gameplay... or possibly you\u0027d need to up the tank capacities of pure LF tanks.\u003C/p\u003E\u003Cp\u003EIn the meantime, Kerik: you said that in real life, aircraft engine Isp does not change with atmospheric pressure like it does in KSP. Out of curiosity, how \u003Cem\u003Edoes\u003C/em\u003E Isp change for a real aircraft engine? Does it stay constant and only the effective Isp drops as the engine approaches its airspeed limit?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-07T20:30:33Z\u0022 title=\u002201/07/2015 08:30  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 7, 2015\u003C/time\u003E by Streetwind\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-01-08T08:12:32Z","Content":"\n\u003Cp\u003EHmmmmm, strange.... I guess that is a result of how the air intakes work.\u003C/p\u003E\u003Cp\u003EIntake air to fuel ratio determines how much intake air one needs.\u003C/p\u003E\u003Cp\u003EIsp determines how much propellant mass one needs.\u003C/p\u003E\u003Cp\u003EIt would seem to em that decreasing those should result in a higher flameout altitude, but I have not looked at how intake air is prouced by the intakes.... hmmmm\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-08T08:44:29Z","Content":"\n\u003Cp\u003EWhat actually appears to happen ingame is that the IntakeAir consumption is fixed. With standard values, the basic jet engine shows in the VAB that it has something like 0.09 units/sec of fuel and 1.5 units/sec of IntakeAir for maximum possible consumption rates. If I then double the ratio from 1:15 to 1:30, you would think that IntakeAir consumption should increase to 3.0 units/sec... but that\u0027s not what happens. Instead, fuel consumption goes down to 0.045 units/sec while IntakeAir consumption stays fixed at 1.5 units/sec. It\u0027s as if I doubled Isp instead.\u003C/p\u003E\u003Cp\u003EWhen I change the density of IntakeAir, then the consumption rate readout of the basic jet does change (as expected, since the VAB shows a volume flow rate, which factors in density, which was just changed). But this should not really affect flameout altitude... except that it does. Possibly because the intakes do something different when the density changes, who knows.\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-01-08T09:57:25Z","Content":"\n\u003Cp\u003EWell, I think I see what is happening for your changed intake air ratios.\u003C/p\u003E\u003Cp\u003EWhen you set \u0022the density of the IntakeAir to zero\u0022 you went into the ResourceGenerics.cfg file and changed it? I hope you don\u0027t mean that you simple changed the resource consumption in the part .cfg file.\u003C/p\u003E\u003Cp\u003EIf you go to the resource definitions in ResourceGenerics.cfg, and set the intake air density to zero, then it should act like electric charge acts for an Ion engine.\u003C/p\u003E\u003Cp\u003EBut to your other observation: \u003C/p\u003E\u003Cp\u003E\u0022If I then double the ratio from 1:15 to 1:30, you would think that IntakeAir consumption should increase to 3.0 units/sec... but that\u0027s not what happens. Instead, fuel consumption goes down to 0.045 units/sec while IntakeAir consumption stays fixed at 1.5 units/sec. It\u0027s as if I doubled Isp instead.\u0022\u003C/p\u003E\u003Cp\u003ENo, that is not what should happen, at least when intake air has mass. The engine needs a certain amount of mass flow to produce thrust. When 15 units of that come from air, and 1 unit comes from fuel, the air supplies 15/16ths of that reaction mass, or 93.75%. Doubling it to 30:1 means that the intake air supplies 30/31 * 100% = 96.7742% of that reaction mass.\u003C/p\u003E\u003Cp\u003EThe result of the doubling should be that it consumes (30/31)/(15/16) = 1.03226x more intake air... not a huge effect on intake air consumption (large effect on liquid fuel consumption)\u003C/p\u003E\u003Cp\u003EIf the intake ratio was 1:1, then going to 2:1 or 0.5:1 would have a large effect, but when intake air is already supplying 93.75% of the reaction mass, you will run into diminishing returns (for flameouts, as you see, the effective ISP starts going way up) by increasing that ratio. Having it be 10,000,000:1 will only increase your intake air consumption by about 100/93.75 = 1.0667 x...\u003C/p\u003E\u003Cp\u003EYou would only flame out a little bit sooner, but you\u0027d use virtually no liquid fuel.\u003C/p\u003E\u003Cp\u003ESo, coming back to what you said:\u003C/p\u003E\u003Cp\u003E\u0022The fuel to air ratio has absolutely no effect on flameout altitude. It purely affects fuel consumption. Isp has absolutely no effect on flameout altitude. It purely affects fuel consumption.\u0022\u003C/p\u003E\u003Cp\u003EIf you were trying 15:1 vs 30:1, it would not be noticeable.\u003C/p\u003E\u003Cp\u003Egoing from 15:1 to 1:1 should approximately halve your intake air consumption, but going up a mere 5 km results in 1/e (ie 1/2.7182818) less available air.\u003C/p\u003E\u003Cp\u003EGoing to 1:1 intake air ratio won\u0027t even get you another 5km before flameout - but it should affect the flameout altitude, just not that much.\u003C/p\u003E\u003Cp\u003ELikewise, if you increase ISP by 2.718x, it should get you another 5km before flameout.\u003C/p\u003E\u003Cp\u003EPerhaps intakeair speed defines the rate at which it sucks in mass. If intake air is made massless, then it would be sucked in at an infinite rate\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-08T10:27:39Z\u0022 title=\u002201/08/2015 10:27  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 8, 2015\u003C/time\u003E by KerikBalm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-08T11:15:28Z","Content":"\n\u003Cp\u003EI tested 1:30, 1:15 and 1:1, each for a density of 0.005 (default), 0.001 and 0.000. All modifications were done with ModuleManager, changing the basic jet engine\u0027s PROPELLANT[intakeAir] node and the RESOURCE_DEFINITION for IntakeAir.\u003C/p\u003E\u003Cp\u003EAt 1:1 with default density, the VAB shows a maximum volume flow rate of 1.5 liquid fuel, 1.5 intake air. No matter what I set for the ratio, it always showed 1.5 units/sec IntakeAir consumption. The only number that changed was the fuel consumption readout. Go on, try it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EUpon launching the craft (I used the stock Aeris(?) 3A with a single basic jet and a single radial intake for all tests) and ascending to 2500m, I observed an IntakeAir resource reading of 0.60 in the resource panel, the same as at 1:15 or 1:30. Upon ascending to 10000m, I observed 0.16, again completely identical to what I saw at 1:15 or 1:30. However, at 1:1 the fuel usage was so enormous that it took less than three minutes to empty both fuel tanks of the testing craft.\u003C/p\u003E\u003Cp\u003EWhen changing the density to 0.001, IntakeAir read full 1.00 all the way up to some 12km without budging, then only very slowly declined. With zero density, it always remained at 1.00 regardless of altitude or speed or engine throttle.\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-01-08T14:27:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Streetwind\u0022 data-cite=\u0022Streetwind\u0022\u003E\u003Cdiv\u003EAll modifications were done with ModuleManager,\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not familiar with that, but I\u0027ll try some good ol\u0027 .cfg file text editing when I get home\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAt 1:1 with default density, the VAB shows a maximum volume flow rate of 1.5 liquid fuel, 1.5 intake air. No matter what I set for the ratio, it always showed 1.5 units/sec IntakeAir consumption. The only number that changed was the fuel consumption readout. Go on, try it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is mighty strange that the intake air consumption doesn\u0027t change, I will have to confirm this.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EUpon launching the craft (I used the stock Aeris(?) 3A with a single basic jet and a single radial intake for all tests) and ascending to 2500m, I observed an IntakeAir resource reading of 0.60 in the resource panel, the same as at 1:15 or 1:30. Upon ascending to 10000m, I observed 0.16, again completely identical to what I saw at 1:15 or 1:30. However, at 1:1 the fuel usage was so enormous that it took less than three minutes to empty both fuel tanks of the testing craft.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, that may be a result of the way intakes work, if you open an intake in space, the air all goes out, straight away, and has nothing to do with air consumption. You might try looking at the intake air resource at those altitudes and speeds using an engine that doesn\u0027t consume intake air at all.\u003C/p\u003E\u003Cp\u003EOn reentry, when I open air intakes, but my jets are still off, the intake bars never go full. It may simply be at those altitudes, your intake consumption is so low compared to the influx and outflow of the intake.\u003C/p\u003E\u003Cp\u003EI will have to confirm the invariant intake air consumption (I really do not expect it to work like that, I am skeptical), but I\u0027m starting to think that the air intake behavior is dominant here.\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-08T15:11:00Z","Content":"\n\u003Cp\u003EModuleManager is a mod that overwrites configs at runtime. This allows players to make tweaks without changing the stock files, or modders to distribute necessary config patches with their downloads. The game first loads the stock config, then after that, ModuleManager initializes and applies whatever patches it finds queued. For heavily modded instances, you can easily have many hundreds of these patches, because a lot of mods these days are entirely dependant on ModuleManager. Mods like FAR would not exist in the form they do without it, because FAR needs to edit the config properties of every single airplane part in order to work properly.\u003C/p\u003E\u003Cp\u003EUsing this, I can write a small patch file that says \u0022go to the basic jet engine, into its ModuleEngines node, into the Propellant node for IntakeAir, and change the existing variable called \u0027ratio\u0027 to this value\u0022.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[JetEngine]:FINAL\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleEngines]\u003Cbr\u003E    {\u003Cbr\u003E        @PROPELLANT[IntakeAir]\u003Cbr\u003E        {\u003Cbr\u003E            @ratio = 1\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIn the same way, I can patch the RESOURCE_DEFINITION for IntakeAir to have a different density value (though the syntax is slightly more complicated). It\u0027s really darn convenient for someone who does as much testing and tweaking as I do \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-01-08T21:59:58Z","Content":"\n\u003Cp\u003EWell, I did the test with standard .cfg file text editing.\u003C/p\u003E\u003Cp\u003E(duplicatd .cfgs then modded individual files so I could look at them all simultaneously)\u003C/p\u003E\u003Cp\u003ESo for the turbojets\u003C/p\u003E\u003Cp\u003EType _____ Air:fuel ratio ______ ISP (1 atm) _______ consumption rate Air/fuel in units per second.\u003C/p\u003E\u003Cp\u003EUnmodded ___ 15:1 _____800 ___5.37 / 0.358\u003C/p\u003E\u003Cp\u003EMod1____ 0.1:1 _____800______ 0.521 / 5.21\u003C/p\u003E\u003Cp\u003EMod2____ 15:1 _____80,000______0.0537/0.0036\u003C/p\u003E\u003Cp\u003EMod3____0.001:1_____800_____ 0.0057/5.72\u003C/p\u003E\u003Cp\u003EIts behaving as I expected... I don\u0027t know what you did or why you don\u0027t get the same results\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-01-08T22:08:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerikBalm\u0022 data-cite=\u0022KerikBalm\u0022\u003E\u003Cdiv\u003E*snip*\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELet me take the liberty of making that a bit more readable (great empirical data btw):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EType         Air:fuel ratio     ISP (1 atm)     consumption rate Air/fuel  in units per second.\u003Cbr\u003EUnmodded        15:1              800                      5.37 / 0.358\u003Cbr\u003EMod1           0.1:1              800                     0.521 / 5.21\u003Cbr\u003EMod2            15:1            80,000                   0.0537 / 0.0036\u003Cbr\u003EMod3         0.001:1              800                    0.0057 / 5.72\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-09T07:32:18Z","Content":"\n\u003Cp\u003EWell, I used a different engine, for starters \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E Were you testing in 0.90? I\u0027ve been too lazy to download that yet because my main 0.25 save can\u0027t be ported, and I\u0027m still actively playing it... so I\u0027m testing in 0.25 still. Squad didn\u0027t exactly announce that they changed anything under the hood between those two, but who knows...\u003C/p\u003E\u003Cp\u003EI\u0027ll try to confirm your results with your settings sometime this weekend. I\u0027ll also compare ModuleManager vs. straight file editing. I\u0027ve never seen MM produce an inconsistent result, but I\u0027ll check it nevertheless.\u003C/p\u003E\n"},{"CreatedByName":"MarvinKitFox","CreatedById":99545,"CreatedDateTime":"2015-01-09T09:52:42Z","Content":"\n\u003Cp\u003EThe current KSP jet engines have WAY too much thrust per mass, Operate at WAY too high altitudes, Operate at WAAAAAAAY too high speeds, and have a bit less ISP than their Earth counterparts.\u003C/p\u003E\u003Cp\u003EBut as for your question of the fuel-to-air ratio..\u003C/p\u003E\u003Cp\u003EUnless you use some handwaving technobabble, your jet fuel needs a certain constant amount of oxidiser from air to fully burn it.\u003C/p\u003E\u003Cp\u003EThis ratio will not vary unless the oxygen content of the air varies. (as it does on Laythe, for example)\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-01-09T11:22:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MarvinKitFox\u0022 data-cite=\u0022MarvinKitFox\u0022\u003E\u003Cdiv\u003EBut as for your question of the fuel-to-air ratio..\u003Cp\u003EUnless you use some handwaving technobabble, your jet fuel needs a certain constant amount of oxidiser from air to fully burn it.\u003C/p\u003E\u003Cp\u003EThis ratio will not vary unless the oxygen content of the air varies. (as it does on Laythe, for example)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I understand it an atmosphere either has oxygen or doesn\u0027t in KSP, there\u0027s no varying amount of oxygen. The difference with Laythe is its atmo is thinner than Kerbin\u0027s. Have you done any testing that shows the ratio required changes on Laythe versus Kerbin?\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2015-01-09T12:40:22Z","Content":"\n\u003Cp\u003EI think he\u0027s talking about real life.\u003C/p\u003E\u003Cp\u003EIn real life, the atmosphere is roughly 21% oxygen by mass. So you the mass of air you need to ingest to burn your fuel is roughly 5x the mass of the liquid O2 you\u0027d cary to burn it like a rocket.\u003C/p\u003E\u003Cp\u003EBut its not technobabble to have higher Intake Air ratios... You simply don\u0027t use all the oxygen. If you did, then no afterburner would ever work, because there\u0027d be no O2 left to combust with.\u003C/p\u003E\u003Cp\u003EAlso on one of the air augmented rocket threads, there\u0027s the case of fuel mixtures that are fuel rich (noteably a solid fueled ramrocket) - you can just bring some oxidizer of your own if the atmosphere is not supplying enough.\u003C/p\u003E\u003Cp\u003EThe jet engine ISP in KSP is WAAAYYYYY too high, due to the way it is calculated (as detailed in an earlier post), not slightly less than real jets. If intake air were not included in the equation, they\u0027d fall within the range of real jets.\u003C/p\u003E\u003Cp\u003EYes, some real turbofans get \u0026gt;6,000 effective ISP, better than the basic jet\u0027s value, but when looking at an engine like what you find on the SR-71 that operates at mach 3 (considering KSP jets operate at \u0026gt; mach 5, we should be comparing them to ramjets and scramjets), the Isp of KSPs jets is too high, but not ridiculously so (until you could intake air as propellant)\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-01-10T13:59:00Z","Content":"\n\u003Cp\u003EOkay, I finally got around to setting up a 0.90 install, and I re-ran my testing there. Turns out I\u0027m getting completely different numbers than I did when I tried it under 0.25! So either something changed under the hood in the recent update, or something in the (completely stock) install I used to test was borked... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn any case, results:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/44754370/intakeair.png\u0022 alt=\u0022intakeair.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EFor the basic jet, I once again used the Aeris 3A to test how much IntakeAir resource I have available at 10km altitude, level flight, maximum airspeed (since the basic jet has a conveniently low airspeed limit that makes for easy reproduction). As before, resource density is the only thing that alters IntakeAir consumption (and thus flameout altitude) in any measurable way. Even with air draw reduced to less than one tenth, there was no difference visible.\u003C/p\u003E\u003Cp\u003EBonus observations:\u003C/p\u003E\u003Cp\u003E- The radial air intake showed \u0022Flow rate: InfinityU\u0022 when density was set to zero, so our prior speculation was correct.\u003C/p\u003E\u003Cp\u003E- Despite that, when replacing the basic jet with a turbojet, the intake was sucked dry (0.00 resource remaining) on the runway by the turbojet\u0027s gigantic 86 unit/sec air draw. As the plane picked up speed and Isp increased with altitude, the resource recovered. This implies that even at \u0022InfinityU\u0022 output, the air intake has a hard limit of how much it can generate per second. It\u0027s just very high.\u003C/p\u003E\u003Cp\u003EThe takeaway is that you still cannot change the IntakeAir resource density without screwing things up. All other values respond as mathematically expected, but none of them affect flameout altitude from what I can see.\u003C/p\u003E\n"}]}