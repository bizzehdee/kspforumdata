{"TopicId":112401,"ForumId":29,"TopicTitle":"Problem with effect appearing on ground and after splashdown","CreatedByName":"Zbeny","CreatedById":145911,"CreatedDateTime":"2015-06-08T21:52:00Z","PageNum":1,"Articles":[{"CreatedByName":"Zbeny","CreatedById":145911,"CreatedDateTime":"2015-06-08T21:52:00Z","Content":"\n\u003Cp\u003EHi, I am making my first add-on, and I encountered weird problem with smoke effect.\u003C/p\u003E\u003Cp\u003ECan somebody, please, help me find out what\u0027s causing this. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis appear on the ground when the engine is pointing down, even when the engine is turned off:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/RQWMlJW.jpg\u0022 alt=\u0022RQWMlJW.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd the same effect is rendered after splashdown infinitely\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/CpeZvhD.jpg\u0022 alt=\u0022CpeZvhD.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Merill","CreatedById":136069,"CreatedDateTime":"2015-06-09T16:01:49Z","Content":"\n\u003Cp\u003EIt seem you trigger the new \u0022launch smoke effect\u0022.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EI am making my first add-on\u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think the problem is in your plugin code (at the line 42 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E)\u003C/p\u003E\n"},{"CreatedByName":"Zbeny","CreatedById":145911,"CreatedDateTime":"2015-06-09T20:49:10Z","Content":"\n\u003Cp\u003EHere is config file, I forgot to include it in the original post. Mostly it\u0027s copied from stock parts and tweaked.\u003C/p\u003E\u003Cp\u003EBut I don\u0027t think there is error in the FX. Maybe it could be bug initiated by too many functions in one part?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPART{\u003Cbr\u003E\tname = K302\u003Cbr\u003E\tmodule = Part\u003Cbr\u003E\tauthor = Zbeny\u003Cbr\u003E\u003Cbr\u003E\tmesh = X302.mu\u003Cbr\u003E\t//scale = 0.5\u003Cbr\u003E    rescaleFactor = 1\u003Cbr\u003E\tTechRequired = engineering101\u003Cbr\u003E\tcategory = Pods\u003Cbr\u003E\tsubcategory = 0\u003Cbr\u003E\u003Cbr\u003E\tentryCost = 63500\u003Cbr\u003E\tcost = 30000\u003Cbr\u003E\u003Cbr\u003E\ttitle = K-302\u003Cbr\u003E\tmanufacturer = Kerbal Nerd Association\u003Cbr\u003E\tdescription = Super cool spacecraft based on vehicles from Star Gate, Star Wars and of course super cars from 80\u0027s.\u003Cbr\u003E\u003Cbr\u003E\tCoLoffset = 0.0, 1, 0.0\u003Cbr\u003E\u003Cbr\u003E\tnode_stack_bottom01 = 0.510, -2.421692, 0.0, 0.0, -1.0, 0.0\u003Cbr\u003E    node_stack_bottom02 = -0.510, -2.421692, 0.0, 0.0, -1.0, 0.0\u003Cbr\u003E\u003Cbr\u003E\tattachRules = 1,1,1,1,0\u003Cbr\u003E\tmass = 2\u003Cbr\u003E\tdragModelType = none\u003Cbr\u003E\tmaximum_drag = 0.1\u003Cbr\u003E\tminimum_drag = 0.1\u003Cbr\u003E\tangularDrag = 2\u003Cbr\u003E\tcrashTolerance = 45\u003Cbr\u003E\tmaxTemp = 2000 // = 3400\u003Cbr\u003E\tvesselType = Ship\u003Cbr\u003E\tCrewCapacity = 2\u003Cbr\u003E\tfuelCrossFeed = True\u003Cbr\u003E\tbulkheadProfiles = srf\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    INTERNAL\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = X302Internal\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\tRESOURCE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = IntakeAir\u003Cbr\u003E\t\tamount = 1.5\u003Cbr\u003E\t\tmaxAmount = 1.5\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tRESOURCE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ElectricCharge\u003Cbr\u003E\t\tamount = 250\u003Cbr\u003E\t\tmaxAmount = 250\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tRESOURCE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = XenonGas\u003Cbr\u003E\t\tamount = 2100\u003Cbr\u003E\t\tmaxAmount = 2100\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tRESOURCE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = MonoPropellant\u003Cbr\u003E\t\tamount = 50\u003Cbr\u003E\t\tmaxAmount = 50\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\tRESOURCE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = LiquidFuel\u003Cbr\u003E\t\tamount = 50\u003Cbr\u003E\t\tmaxAmount = 50\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleRCS\u003Cbr\u003E\t\tthrusterTransformName = RCS    //This is the name of the transform.\u003Cbr\u003E\t\tthrusterPower = 1    //self explanatory, this is your thrust produced\u003Cbr\u003E\t\tresourceName = MonoPropellant\u003Cbr\u003E\t\tresourceFlowMode = STAGE_PRIORITY_FLOW\u003Cbr\u003E\t\tatmosphereCurve\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t key = 0 260\u003Cbr\u003E\t\t key = 1 100\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleCommand\u003Cbr\u003E\t\tminimumCrew = 1\u003Cbr\u003E\t}\t\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleGenerator\u003Cbr\u003E\t\tisAlwaysActive = true\u003Cbr\u003E\t\tOUTPUT_RESOURCE\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = ElectricCharge\u003Cbr\u003E\t\t\trate = 25\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleResourceIntake\u003Cbr\u003E\t\tresourceName = IntakeAir\u003Cbr\u003E\t\tcheckForOxygen = true\u003Cbr\u003E\t\tarea = 0.012\u003Cbr\u003E\t\tintakeSpeed = 10\u003Cbr\u003E\t\tintakeTransformName = Intake\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleLiftingSurface\u003Cbr\u003E\t\tuseInternalDragModel = True\u003Cbr\u003E\t\tdeflectionLiftCoeff = 0.12\t\t//0.42m^2\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleReactionWheel\u003Cbr\u003E\t\tPitchTorque = 20\u003Cbr\u003E\t\tYawTorque = 20\u003Cbr\u003E\t\tRollTorque = 20\u003Cbr\u003E\t\tRESOURCE\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = ElectricCharge\u003Cbr\u003E\t\t\trate = 0.5\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\t// JET ENGINE //\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleEnginesFX\u003Cbr\u003E\t\tengineID = Cruise\u003Cbr\u003E\t\tthrustVectorTransformName = thrustTransform\u003Cbr\u003E\t\texhaustDamage = True\u003Cbr\u003E\t\tignitionThreshold = 0.1\u003Cbr\u003E\t\tminThrust = 0\u003Cbr\u003E\t\tmaxThrust = 70\u003Cbr\u003E\t\theatProduction = 40\u003Cbr\u003E\t\tuseEngineResponseTime = True\u003Cbr\u003E\t\tengineAccelerationSpeed = 0.12\u003Cbr\u003E\t\tengineDecelerationSpeed = 0.5\u003Cbr\u003E\t\tfxOffset = 0, 0, 0.75\u003Cbr\u003E\t\tflameoutEffectName = flameout\u003Cbr\u003E\t\tpowerEffectName = running_thrust\u003Cbr\u003E\t\tengageEffectName = engage\u003Cbr\u003E\t\tdisengageEffectName = disengage\u003Cbr\u003E\t\tspoolEffectName = running_turbine\u003Cbr\u003E\t\tengineSpoolIdle = 0.05\u003Cbr\u003E\t\tengineSpoolTime = 2.0\u003Cbr\u003E\t\tEngineType = Turbine\u003Cbr\u003E\t\tPROPELLANT\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = LiquidFuel\u003Cbr\u003E\t\t\tresourceFlowMode = STAGE_PRIORITY_FLOW\u003Cbr\u003E\t\t\tratio = 1\u003Cbr\u003E\t\t\tDrawGauge = True\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tPROPELLANT\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = IntakeAir\u003Cbr\u003E\t\t\tignoreForIsp = True\u003Cbr\u003E\t\t\tratio = 23\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tatmosphereCurve\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tkey = 0 19200 0 0\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\t// Jet params\u003Cbr\u003E\t\tatmChangeFlow = True\u003Cbr\u003E\t\tuseVelCurve = True\u003Cbr\u003E\t\tuseAtmCurve = True\u003Cbr\u003E\t\tmachLimit = 0.75\u003Cbr\u003E\t\tmachHeatMult = 3.5\u003Cbr\u003E\t\tvelCurve\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tkey = 0 1 0 -0.125804\u003Cbr\u003E\t\t\tkey = 0.2 0.98 0 0\u003Cbr\u003E\t\t\tkey = 0.6 1 0.2399533 0.2399533\u003Cbr\u003E\t\t\tkey = 1.05 1.167 0.5409369 0.5409369\u003Cbr\u003E\t\t\tkey = 1.67 1.46 0 0\u003Cbr\u003E\t\t\tkey = 2.1 1 -3.49991 -3.49991\u003Cbr\u003E\t\t\tkey = 2.278022 0.496117 -3.164169 -3.164169\u003Cbr\u003E\t\t\tkey = 2.5 0 0.004306508 0\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tatmCurve\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tkey = 0 0 0 0\u003Cbr\u003E\t\t\tkey = 0.15 0.2 2.448394 2.448394\u003Cbr\u003E\t\t\tkey = 0.5 0.6 0.5020669 0.5020669\u003Cbr\u003E\t\t\tkey = 1 1 1.047895 0\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleTestSubject\u003Cbr\u003E\t\tenvironments = 71\u003Cbr\u003E\t\tuseStaging = True\u003Cbr\u003E\t\tuseEvent = True\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleAnimateHeat\u003Cbr\u003E        ThermalAnim = engineEmit\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleSurfaceFX\u003Cbr\u003E\t\tthrustProviderModuleIndex = 0\u003Cbr\u003E\t\tfxMax = 0.5\u003Cbr\u003E\t\tmaxDistance = 20\u003Cbr\u003E\t\tfalloff = 2\u003Cbr\u003E\t\tthrustTransformName = thrustTransform\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleGimbal\u003Cbr\u003E\t\tgimbalTransformName = thrustTransform\u003Cbr\u003E\t\tgimbalRange = 1\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tEFFECTS\u003Cbr\u003E\t{\t\t\u003Cbr\u003E\t\trunning_thrust\u003Cbr\u003E\t\t{\t\t\t\u003Cbr\u003E\t\t\tAUDIO\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tchannel = Ship\u003Cbr\u003E\t\t\t\tclip = sound_jet_deep\u003Cbr\u003E\t\t\t\tvolume = 0.0 0.0\u003Cbr\u003E\t\t\t\tvolume = 0.05 0.4\u003Cbr\u003E\t\t\t\tvolume = 1.0 1.0\u003Cbr\u003E\t\t\t\tpitch = 0.0 0.6\u003Cbr\u003E\t\t\t\tpitch = 1.0 1.0\u003Cbr\u003E\t\t\t\tloop = true\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\tPREFAB_PARTICLE\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tprefabName = fx_smokeTrail_light\u003Cbr\u003E\t\t\t\ttransformName = thrustTransform\u003Cbr\u003E\t\t\t\temission = 0.0 0.0\u003Cbr\u003E\t\t\t\temission = 0.05 0.0\u003Cbr\u003E\t\t\t\temission = 0.075 0.25\u003Cbr\u003E\t\t\t\temission = 1.0 1.25\u003Cbr\u003E\t\t\t\tspeed = 0.0 0.25\u003Cbr\u003E\t\t\t\tspeed = 1.0 1.0\u003Cbr\u003E\t\t\t\tlocalOffset = 0, 0, 1\u003Cbr\u003E\t\t\t\tlocalRotation = 1, 0, 0, -90\u003Cbr\u003E\t\t\t}\t\t\t\t\t\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\trunning_turbine\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tAUDIO\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tchannel = Ship\u003Cbr\u003E\t\t\t\tclip = sound_jet_low\u003Cbr\u003E\t\t\t\tvolume = 0.0 0.0\u003Cbr\u003E\t\t\t\tvolume = 0.05 0.7\u003Cbr\u003E\t\t\t\tvolume = 1.0 1.0\u003Cbr\u003E\t\t\t\tpitch = 0.0 0.4\u003Cbr\u003E\t\t\t\tpitch = 0.05 0.5\u003Cbr\u003E\t\t\t\tpitch = 1.0 1.0\u003Cbr\u003E\t\t\t\tloop = true\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tengage\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tAUDIO\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tchannel = Ship\u003Cbr\u003E\t\t\t\tclip = sound_vent_medium\u003Cbr\u003E\t\t\t\tvolume = 1.0\u003Cbr\u003E\t\t\t\tpitch = 2.0\u003Cbr\u003E\t\t\t\tloop = false\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tdisengage\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tAUDIO\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tchannel = Ship\u003Cbr\u003E\t\t\t\tclip = sound_vent_soft\u003Cbr\u003E\t\t\t\tvolume = 1.0\u003Cbr\u003E\t\t\t\tpitch = 2.0\u003Cbr\u003E\t\t\t\tloop = false\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tflameout\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tPREFAB_PARTICLE\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tprefabName = fx_exhaustSparks_flameout_2\u003Cbr\u003E\t\t\t\ttransformName = thrustTransform\u003Cbr\u003E\t\t\t\toneShot = true\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\tAUDIO\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tchannel = Ship\u003Cbr\u003E\t\t\t\tclip = sound_explosion_low\u003Cbr\u003E\t\t\t\tvolume = 1.0\u003Cbr\u003E\t\t\t\tpitch = 2.0\u003Cbr\u003E\t\t\t\tloop = false\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}