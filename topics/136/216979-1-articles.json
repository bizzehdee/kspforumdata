{"TopicId":216979,"ForumId":136,"TopicTitle":"Private Division Launcher no longer functioning on Valve Proton (Linux-Issue)","CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2023-05-01T18:01:39Z","PageNum":1,"Articles":[{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2023-05-01T18:01:39Z","Content":"\n\u003Cp\u003E\nThe latest version of the launcher shipped by Private division crashes on Linux Steam under proton.\u00A0 This is a BLOCKER for being listed as supporting Steam Deck for KSP2 and all Private Division Titles relying on Proton to run on Steam Deck.\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nIt also is a blocker for many other issues.\u00A0 Here is an upload of my crash logs so far.\u003Cbr\u003E\n\u003Ca href=\u0022https://gist.github.com/Ruedii/84ffdc5e26ade36207ddac433c79b6e7\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/Ruedii/84ffdc5e26ade36207ddac433c79b6e7\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-06-02T01:07:53Z\u0022 title=\u002206/02/2023 01:07  AM\u0022 data-short=\u00221 yr\u0022\u003EJune 2, 2023\u003C/time\u003E by Anth12\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2023-05-01T18:13:38Z","Content":"\n\u003Cp\u003E\nAs a note, I noticed that the launcher is running swiftshader for EGL and Vulkan function.\u00A0 This should be entirely unnecessary.\u00A0\u00A0 Nearly all modern GPU drivers provide EGL and Vulkan support.\u00A0\u00A0 This is possibly causing problems when launching, and likely reducing the performance and bloat of the launcher.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"dr.phees","CreatedById":32383,"CreatedDateTime":"2023-05-01T18:54:52Z","Content":"\n\u003Cp\u003E\nLaunchers really are a cancer to games. I struggle to understand the reasoning behind these pieces of \u003Cs\u003Ejunk\u003C/s\u003E software.\n\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2023-05-03T13:13:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224278803\u0022 data-ipsquote-contentid=\u0022216979\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221682967292\u0022 data-ipsquote-userid=\u002232383\u0022 data-ipsquote-username=\u0022dr.phees\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/1/2023 at 2:54 PM, dr.phees said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLaunchers really are a cancer to games. I struggle to understand the reasoning behind these pieces of \u003Cs\u003Ejunk\u003C/s\u003E software.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI know.\u003Cbr\u003E\n\u003Cbr\u003E\nAnyhow, I manually downloaded the files it was failing to unpack and here are updated debug logs.\u003Cbr\u003E\n\u003Ca href=\u0022https://gist.github.com/Ruedii/4bd8c48d6a983c1d0c09274aabc0a76f\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/Ruedii/4bd8c48d6a983c1d0c09274aabc0a76f\u003C/a\u003E\u003Cbr\u003E\n\u003Cbr\u003E\nI will fetch and give full data on my system and formal bug report information in a bit.\u00A0 (Sorry for not doing this earlier.\u00A0 A little mentally exhausted from trying to sort out the issue myself and find a workaround that did not involve skipping the launcher.)\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nI will also add a Proton debug log then, but I need to adjust the debug log settings so it is not full of log spam.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-05-03T13:14:57Z\u0022 title=\u002205/03/2023 01:14  PM\u0022 data-short=\u00221 yr\u0022\u003EMay 3, 2023\u003C/time\u003E by Ruedii\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2023-05-18T10:35:43Z","Content":"\n\u003Cp\u003E\nFull bug report (sorry it took so long, I was slowly exhausting various methods of trying to get it to work every few days.)\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-align:center;\u0022\u003EKSP Version: KSP2 0.1.2\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-align:center;\u0022\u003EOperating System and version \u00A0(Windows 10, Windows 11): Kubuntu Linux 21.04\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-align:center;\u0022\u003ECPU and GPU models, any other system\u00A0information which could be relevant\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E: Ryzen 5 1500X, AMD RX 5500XT, GPU Driver Mesa 22.2.5.\u00A0 All major Proton versions tested.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EDescription of the bug. \u00A0\u003C/strong\u003E\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EExpected Behavior\u003C/strong\u003E\u003C/span\u003E Be able to play game from launcher\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EObserved Behavior\u003C/strong\u003E\u003C/span\u003E Launcher displays a busy spinner than crash\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003ESteps to Replicate\u003C/strong\u003E\u003C/span\u003E: Launch game on any Linux system via Proton.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EFixes / Workarounds (if known..)\u003C/strong\u003E\u003C/span\u003E:\u00A0 Configure system to skip launcher via replacing the launcher binary with a link to game executable.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EA list of ALL mods. \u00A0If the list is long, please consider using a spoiler window.\u003C/strong\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EOther Notes / Screenshots / Log Files (if possible..)\u003C/strong\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-05-18T14:20:56Z","Content":"\n\u003Cp\u003E\nI first started running into this when Valve released Proton 8.0.\n\u003C/p\u003E\n\u003Cp\u003E\nThe solution below isn\u0027t a true fix but it allows me to run the game.\u00A0 It actually amounts to the game starting quicker because the launcher is skipped\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a number of other solutions on the\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/212306-ksp-2-and-proton/\u0022 rel=\u0022\u0022\u003EKSP 2 and Proton\u003C/a\u003E thread if this doesn\u0027t work for you.\n\u003C/p\u003E\n\u003Cp\u003E\nAdd the following to the game\u0027s launch options:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003Eeval $( echo \u0022%command%\u0022 | sed \u0022s/PDLauncher\\/LauncherPatcher.exe\u0027.*/KSP2_x64.exe\u0027/\u0022 )\u003C/span\u003E\u003C/pre\u003E\n"},{"CreatedByName":"Dakota","CreatedById":225122,"CreatedDateTime":"2023-06-07T17:42:05Z","Content":"\n\u003Cp\u003E\nThis is a bug report specifically for the Private Division launcher and should be directed to \u003Ca href=\u0022https://support.privatedivision.com/hc/en-us\u0022 rel=\u0022external nofollow\u0022\u003EPrivate Division Customer Support.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI will also add that Linux / running the game through translation layers is not officially supported by our development team. Will move this to Technical Support so discussion can continue if needed.\n\u003C/p\u003E\n"},{"CreatedByName":"dr.phees","CreatedById":32383,"CreatedDateTime":"2023-06-08T21:55:10Z","Content":"\n\u003Cp\u003E\n\u0026gt; I will also add that Linux / running the game through translation layers is not officially supported by our development team. Will move this to Technical Support so discussion can continue if needed.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would be nice if some day we not only get a disclaimer but some human thing like \u0022but they really want it to run\u0022 or similar. Well, we can always hope \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Dakota","CreatedById":225122,"CreatedDateTime":"2023-06-09T18:11:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224291481\u0022 data-ipsquote-contentid=\u0022216979\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221686261310\u0022 data-ipsquote-userid=\u002232383\u0022 data-ipsquote-username=\u0022dr.phees\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, dr.phees said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\n\u0026gt; I will also add that Linux / running the game through translation layers is not officially supported by our development team. Will move this to Technical Support so discussion can continue if needed.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would be nice if some day we not only get a disclaimer but some human thing like \u0022but they really want it to run\u0022 or similar. Well, we can always hope \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWe hope to get the game officially supported on Linux someday, but it\u0027s pretty far down our priority list. Translation layers are definitely helping, especially with the work that Valve is doing on Proton and Apple is doing with their own project - but we know it\u0027s still not ideal. Trust me, I too want to play KSP2 on my Steamdeck one day!\n\u003C/p\u003E\n"},{"CreatedByName":"dr.phees","CreatedById":32383,"CreatedDateTime":"2023-06-11T14:46:52Z","Content":"\n\u003Cp\u003E\nThe big question still is why these launchers are being made and why those tend not to run under linux while the game does.\n\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2023-06-21T16:30:12Z","Content":"\n\u003Cp\u003E\nBTW, if I bypass the launcher by launching the KSP2 binary as a non-steam game, the game runs quite well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2023-08-01T23:25:24Z","Content":"\n\u003Cp\u003E\nAs a note, the exact module acting up seems to be CEF.\u00A0 (Chromium embedded framework).\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nWhile there is a minor issue loading the WMF (Window Media Framework) embed for CEF, this doesn\u0027t seem to be the issue.\u00A0 That should just stub out safely.\u00A0 It looks like there is a crash on the attempt to access the SSL/TLS Keystore, however I\u0027m relying on rather unclear debug logs so I don\u0027t know for sure.\u00A0 All I know is that CEF is failing and then there are a series of segfaults.\n\u003C/p\u003E\n"}]}