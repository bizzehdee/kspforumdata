{"TopicId":129562,"ForumId":69,"TopicTitle":"It\u0026#039;s been 6 months since I asked about the stutter","CreatedByName":"SessoSaidSo","CreatedById":111600,"CreatedDateTime":"2016-01-09T05:04:52Z","PageNum":1,"Articles":[{"CreatedByName":"SessoSaidSo","CreatedById":111600,"CreatedDateTime":"2016-01-09T05:04:52Z","Content":"\n\u003Cp\u003E\nHi.\n\u003C/p\u003E\n\u003Cp\u003E\nSo back in July I was pretty upset about the stutter or micro freezing as it may be known. Now it\u0027s been pretty much concluded it is due to the GC of Unity 4.x, and I have been playing 1.0.5 and see it is worse than ever.\n\u003C/p\u003E\n\u003Cp\u003E\nFor reference I play off a custom rig running:\n\u003C/p\u003E\n\u003Cp\u003E\nWindows 10 Home\n\u003C/p\u003E\n\u003Cp\u003E\ni7-5820k\n\u003C/p\u003E\n\u003Cp\u003E\nGTX 980 Ti\n\u003C/p\u003E\n\u003Cp\u003E\n16 GB DDR4\n\u003C/p\u003E\n\u003Cp\u003E\nI generally use a resolution of 2160p or 1440p\n\u003C/p\u003E\n\u003Cp\u003E\nI have run the game from the following 3 drives:\n\u003C/p\u003E\n\u003Cp\u003E\nSM951 256 m.2 SSD\n\u003C/p\u003E\n\u003Cp\u003E\n850 Pro 256 SATA SSD\n\u003C/p\u003E\n\u003Cp\u003E\n840 EVO 512 SATA SSD\n\u003C/p\u003E\n\u003Cp\u003E\nI go back and forth playing the game with DirectX and OpenGL. Problem persists either way, so I generally stick to OpenGL for performance reasons(RAM\u00A0savings are significant).\n\u003C/p\u003E\n\u003Cp\u003E\nNo. I do not spend all my money on computer parts. I work for a large IT vendor.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI believe back in July I came off as a Kerb-Hole, for which I apologize. I am interested in understanding if the GC issue is a currently acknowledged issue from Squad and if the team is aware of its presence (or lack thereof) in Unity 5.x.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTL;DR...too bad. Go Back up and read it.\n\u003C/p\u003E\n"},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2016-01-09T12:18:55Z","Content":"\n\u003Cp\u003E\nI\u0027ve played KSP on 4\u00A0different computers from low end to high end over the years and I\u0027ve never had this problem even on my\u00A010 year old laptop with an integrated card I used to use. Even when playing on lowest settings at barely 30 frames it never micro stuttered or hung up. (And yes I know what that looks like, I\u0027ve had the same problem your describing with other games.)\n\u003C/p\u003E\n\u003Cp\u003E\nMust be specific to certain comps/gfx cards/drivers/etc..., hopefully someone else who has experienced this can help you out. The next major update will see KSP move to the newest version of Unity so possibly that will solve your problem?\n\u003C/p\u003E\n\u003Cp\u003E\nWelcome back and best of luck!\n\u003C/p\u003E\n"},{"CreatedByName":"Speadge","CreatedById":145302,"CreatedDateTime":"2016-01-09T13:51:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222354186\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452315892\u0022 data-ipsquote-userid=\u0022111600\u0022 data-ipsquote-username=\u0022SessoSaidSo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, SessoSaidSo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi.\n\u003C/p\u003E\n\u003Cp\u003E\nSo back in July I was pretty upset about the stutter or micro freezing as it may be known. Now it\u0027s been pretty much concluded it is due to the GC of Unity 4.x, and I have been playing 1.0.5 and see it is worse than ever.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLittle addition for those who are not common with \u0022GC\u0022:\u003Cbr\u003E\n\u0022Garbage-Collection\u0022 is a feature in the engine running every x ticks to cleanup data that is not needed anymore.\n\u003C/p\u003E\n\u003Cp\u003E\nAbout your problem at all: I whink most of us need to understand first if you are having a problem with KSP compared to other users (i.e. extra-freezing) or are you just expecting way to much frames than many others are.There is a mod called \u0022GC-Monitor\u0022 which may help to visualize what you are experiencing. Also a Screen of the \u0022Performance\u0022-Window in flightmode (moderate craft, 0.04 physics delta) would be nice to understand whats going on.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you also compare it to a complete vanilla installation? (You are posting in unmodded, but since you want to save memory in OGL-mode, i dont believe you are running vanilla @ all \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E )\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think with those information we might bring up some better suggestions than \u0022wait for u5\u0022 like some ppl do now...\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"swjr-swis","CreatedById":152460,"CreatedDateTime":"2016-01-09T14:18:55Z","Content":"\n\u003Cp\u003E\nOne thing I\u0027ve noticed caused some noticeable stutter, at least in the VAB/SPH, is the ground crew Kerbals. It removes a little bit of graphics bling, but there\u0027s a setting to disable those, and it would at least help while building.\n\u003C/p\u003E\n\u003Cp\u003E\nScatter is also something that seems to cause fps drops and stutter for some. This is also something you can either turn down or disable entirely in the settings.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the flight scene.. there\u0027s been a recent thread (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/129016-any-way-to-remove-animated-kerbal-portrait/\u0022\u003Ehere\u003C/a\u003E) where some people complained about the animated portraits of Kerbals on a craft (lower right of the screen) causing fps drops for them, which could seem like stutter. A workaround is to remove the INTERNALs of crewed parts, so the portraits don\u0027t show, and it\u0027s been reported to give a slight increase in fps. Again, at the cost of some bling, but if you find fluid graphics more important, it might be an option to consider.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOther than the above: I haven\u0027t seen any specific mention in release notes of a fix for graphics stutter, no. There\u0027s a bug tracker though where people report problems and SQUAD keeps track of issues - if you consider this to be a real issue and can provide a reproducible use case, you would likely get more attention to this if you post it there. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83213-please-read-before-posting-stock-support-bug-reporting-guide/\u0022\u003EThis thread\u003C/a\u003E explains how to best put an issue to the attention of SQUAD, including a link to the bug tracker to check if your isue is already known or even already worked on.\n\u003C/p\u003E\n"},{"CreatedByName":"anarkhon","CreatedById":22469,"CreatedDateTime":"2016-01-09T14:29:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222354186\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452315892\u0022 data-ipsquote-userid=\u0022111600\u0022 data-ipsquote-username=\u0022SessoSaidSo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, SessoSaidSo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi.\n\u003C/p\u003E\n\u003Cp\u003E\nSo back in July I was pretty upset about the stutter or micro freezing as it may be known. Now it\u0027s been pretty much concluded it is due to the GC of Unity 4.x, and I have been playing 1.0.5 and see it is worse than ever.\n\u003C/p\u003E\n\u003Cp\u003E\nFor reference I play off a custom rig running:\n\u003C/p\u003E\n\u003Cp\u003E\nWindows 10 Home\n\u003C/p\u003E\n\u003Cp\u003E\ni7-5820k\n\u003C/p\u003E\n\u003Cp\u003E\nGTX 980 Ti\n\u003C/p\u003E\n\u003Cp\u003E\n16 GB DDR4\n\u003C/p\u003E\n\u003Cp\u003E\nI generally use a resolution of 2160p or 1440p\n\u003C/p\u003E\n\u003Cp\u003E\nI have run the game from the following 3 drives:\n\u003C/p\u003E\n\u003Cp\u003E\nSM951 256 m.2 SSD\n\u003C/p\u003E\n\u003Cp\u003E\n850 Pro 256 SATA SSD\n\u003C/p\u003E\n\u003Cp\u003E\n840 EVO 512 SATA SSD\n\u003C/p\u003E\n\u003Cp\u003E\nI go back and forth playing the game with DirectX and OpenGL. Problem persists either way, so I generally stick to OpenGL for performance reasons(RAM\u00A0savings are significant).\n\u003C/p\u003E\n\u003Cp\u003E\nNo. I do not spend all my money on computer parts. I work for a large IT vendor.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI believe back in July I came off as a Kerb-Hole, for which I apologize. I am interested in understanding if the GC issue is a currently acknowledged issue from Squad and if the team is aware of its presence (or lack thereof) in Unity 5.x.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTL;DR...too bad. Go Back up and read it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi SessiSaidSo!\n\u003C/p\u003E\n\u003Cp\u003E\nThis bug just old like KSP,here is the cure: At the \u0026lt;Nvidia Controll Panel\u0026gt; , set the \u0026lt;Maximum pre-rendered frames\u0026gt; to 1.\n\u003C/p\u003E\n"},{"CreatedByName":"Speadge","CreatedById":145302,"CreatedDateTime":"2016-01-09T14:43:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222354432\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452349741\u0022 data-ipsquote-userid=\u002222469\u0022 data-ipsquote-username=\u0022anarkhon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, anarkhon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis bug just old like KSP,here is the cure: At the \u0026lt;Nvidia Controll Panel\u0026gt; , set the \u0026lt;Maximum pre-rendered frames\u0026gt; to 1.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nplease dont quote _whole_ posts that are so long..\n\u003C/p\u003E\n\u003Cp\u003E\nTo your comment: is there any source where u learned that? Im running fine with \u0026lt;4\u0026gt; on this setting.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-09T14:45:07Z\u0022 title=\u002201/09/2016 02:45  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 9, 2016\u003C/time\u003E by Speadge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SessoSaidSo","CreatedById":111600,"CreatedDateTime":"2016-01-09T20:24:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222354423\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452349135\u0022 data-ipsquote-userid=\u0022152460\u0022 data-ipsquote-username=\u0022swjr-swis\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, swjr-swis said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne thing I\u0027ve noticed caused some noticeable stutter, at least in the VAB/SPH, is the ground crew Kerbals. It removes a little bit of graphics bling, but there\u0027s a setting to disable those, and it would at least help while building.\n\u003C/p\u003E\n\u003Cp\u003E\nScatter is also something that seems to cause fps drops and stutter for some. This is also something you can either turn down or disable entirely in the settings.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the flight scene.. there\u0027s been a recent thread (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/129016-any-way-to-remove-animated-kerbal-portrait/\u0022\u003Ehere\u003C/a\u003E) where some people complained about the animated portraits of Kerbals on a craft (lower right of the screen) causing fps drops for them, which could seem like stutter. A workaround is to remove the INTERNALs of crewed parts, so the portraits don\u0027t show, and it\u0027s been reported to give a slight increase in fps. Again, at the cost of some bling, but if you find fluid graphics more important, it might be an option to consider.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOther than the above: I haven\u0027t seen any specific mention in release notes of a fix for graphics stutter, no. There\u0027s a bug tracker though where people report problems and SQUAD keeps track of issues - if you consider this to be a real issue and can provide a reproducible use case, you would likely get more attention to this if you post it there. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83213-please-read-before-posting-stock-support-bug-reporting-guide/\u0022\u003EThis thread\u003C/a\u003E explains how to best put an issue to the attention of SQUAD, including a link to the bug tracker to check if your isue is already known or even already worked on.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have actually created two prior threads regarding this issue and many have come forward acknowledging they have this same problem. It may very well be that only certain people actually notice this issue as it appears to be fairly good mix of hardware that can reproduce this.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EPlease see this video I posted on Youtube in July:\u00A0\u003Ca href=\u0022https://www.youtube.com/watch?v=fI0Rx6dwJEc\u0026amp;feature=gp-n-y\u0026amp;google_comment_id=z12wt1ehdmvftt33522bijkb0kbgzz3p504\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.youtube.com/watch?v=fI0Rx6dwJEc\u0026amp;feature=gp-n-y\u0026amp;google_comment_id=z12wt1ehdmvftt33522bijkb0kbgzz3p504\u003C/a\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, this is not an FPS issue, this is a literal freezing of the game that occurs in intervals of 2 to 10 seconds. It\u0027s actually incredibly easy to recognize using mechjeb; if you pay attention to your dV stat and watch the numbers change during a burn, you will see the numbers stop for a moment and then resume. DO NOT take this to mean it is a mechjeb issue, I say this to only give an idea of how to spot this issue.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn the past 2 threads created, Squad has never given a response and in fact many posts have tried to flat out deny this problem exists usually blaming my hardware. I upgrade my hardware every 3 or 4 months and I have had this issue for years. Played this game on Win 7, 8 and 10.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SessoSaidSo","CreatedById":111600,"CreatedDateTime":"2016-01-09T20:31:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222354400\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452347509\u0022 data-ipsquote-userid=\u0022145302\u0022 data-ipsquote-username=\u0022Speadge\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Speadge said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCan you also compare it to a complete vanilla installation? (You are posting in unmodded, but since you want to save memory in OGL-mode, i dont believe you are running vanilla @ all \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E )\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAlso note that I said I experience the issue in both DirectX and OpenGL so I primarily just use OpenGL for Ram performance.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs I said before, I believe everyone experiences this, I can see it in so many KSP videos, however, I believe only certain people actually notice it.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Waxing_Kibbous","CreatedById":151611,"CreatedDateTime":"2016-01-09T21:59:28Z","Content":"\n\u003Cp\u003E\nAre there specific repeatable times when these lags occur? The only lag I get is when coming back to Kerbin from a different body, around 160,000m up which I believe is when the higher res textures are loading. Other than that, off the top of my head when rotating the view I will get choppiness on occasion. One of my concerns is the number of graphics options to choose from, and the arcane descriptions of what they do.\n\u003C/p\u003E\n"},{"CreatedByName":"SessoSaidSo","CreatedById":111600,"CreatedDateTime":"2016-01-09T23:17:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222354838\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452376768\u0022 data-ipsquote-userid=\u0022151611\u0022 data-ipsquote-username=\u0022Waxing_Kibbous\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Waxing_Kibbous said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre there specific repeatable times when these lags occur? The only lag I get is when coming back to Kerbin from a different body, around 160,000m up which I believe is when the higher res textures are loading. Other than that, off the top of my head when rotating the view I will get choppiness on occasion. One of my concerns is the number of graphics options to choose from, and the arcane descriptions of what they do.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDid you go look at the video I posted? No? Again, and this is the frustrating part; this is not an FPS issue, this is not a loading issue. I do not understand why these types of questions are asked. This is a well described phenomenon of which I have included a video.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am not looking for community support. I am not looking for someone to say, \u0022oh, ya, the solution is...\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nMy question\u00A0was simple and direct. Is the issue persisting within the KSP versions compiled in Unity 5.x\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a massive bug which I have never seen Squad make mention of and I would like them to work on. I am not a community tester. I do not get paid to fix issues.\n\u003C/p\u003E\n"},{"CreatedByName":"Speadge","CreatedById":145302,"CreatedDateTime":"2016-01-10T00:38:10Z","Content":"\n\u003Cp\u003E\nhi,\n\u003C/p\u003E\n\u003Cp\u003E\nchecked the video and seen, that it is on the 18/19th\u00A0 second most noticeable, not before, not after... Are you sure its the GCs fault? did u try the monitor i suggested?\n\u003C/p\u003E\n\u003Cp\u003E\nP.S.: As u dont want help - im not here to help you, just to understand for myself why i dont have this issue :P)\u003Cbr\u003E\nEdit: ok, tried the VAB-scene. seems to be default that the truck is \u0022hanging\u0022 somehow... never bothered me before \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-10T00:45:19Z\u0022 title=\u002201/10/2016 12:45  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 10, 2016\u003C/time\u003E by Speadge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2016-01-10T02:14:46Z","Content":"\n\u003Cp\u003E\nI\u0027d expect some of this to be fixed in unity 5.\n\u003C/p\u003E\n"},{"CreatedByName":"Waxing_Kibbous","CreatedById":151611,"CreatedDateTime":"2016-01-10T03:57:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222354940\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452381477\u0022 data-ipsquote-userid=\u0022111600\u0022 data-ipsquote-username=\u0022SessoSaidSo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, SessoSaidSo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDid you go look at the video I posted? No? Again, and this is the frustrating part; this is not an FPS issue, this is not a loading issue. I do not understand why these types of questions are asked. This is a well described phenomenon of which I have included a video.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI am not looking for community support. I am not looking for someone to say, \u0022oh, ya, the solution is...\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo, your issue is that the truck stops, then goes again? Seriously? You are right, the issue is neither an FPS issue nor a loading issue.\n\u003C/p\u003E\n\u003Cp\u003E\nI think the well described phenomenon you are referring to is called \u0022animation.\u0022\n\u003C/p\u003E\n"},{"CreatedByName":"SessoSaidSo","CreatedById":111600,"CreatedDateTime":"2016-01-10T04:59:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355208\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452398222\u0022 data-ipsquote-userid=\u0022151611\u0022 data-ipsquote-username=\u0022Waxing_Kibbous\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Waxing_Kibbous said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo, your issue is that the truck stops, then goes again? Seriously? You are right, the issue is neither an FPS issue nor a loading issue.\n\u003C/p\u003E\n\u003Cp\u003E\nI think the well described phenomenon you are referring to is called \u0022animation.\u0022\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo me a favor. Do not post on my thread if you are not going to be contributing productive dialogue.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWatch the video i posted, then you have my permission to return.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2016-01-10T08:17:25Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/111600-sessosaidso/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022111600\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111600-sessosaidso/\u0022\u003E@SessoSaidSo\u003C/a\u003E I take it you are referring to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/116463-serious-answer-to-the-stutter-issue/\u0026amp;page=1\u0022\u003Ethis\u003C/a\u003E thread? If so, I am also waiting for some news. It\u0027s been a long time now with no improvement. \u003Cimg alt=\u0022:mad:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 title=\u0022:mad:\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355208\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452398222\u0022 data-ipsquote-userid=\u0022151611\u0022 data-ipsquote-username=\u0022Waxing_Kibbous\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Waxing_Kibbous said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0think the well described phenomenon you are referring to is called \u0022animation.\u0022\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think you are wrong. Go read the thread I just linked, and try one of the easy tests mentioned there.\n\u003C/p\u003E\n\u003Cp\u003E\n-----\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355098\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452392086\u0022 data-ipsquote-userid=\u0022140061\u0022 data-ipsquote-username=\u0022CliftonM\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, CliftonM said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027d expect some of this to be fixed in unity 5.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf this is, as I suspect, caused by the brain-dead GC code in the ancient version of mono that Unity uses... that has not changed in U5.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EIf\u003C/em\u003E it\u0027s the GC at fault (and I\u0027m pretty sure it is), the only solution short of unity upgrading their mono runtime is to \u003Cem\u003Ecreate less garbage\u003C/em\u003E. This is something Squad could, and should be doing.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-10T08:25:22Z\u0022 title=\u002201/10/2016 08:25  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 10, 2016\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-01-10T13:17:42Z","Content":"\n\u003Cp\u003E\nDemo Unity4 projects also show this stutter\u003Cem\u003E albeit less severe as they have fewer game objects\u003C/em\u003E, so it\u0027s not garbage as actually freeing unused resources is very fast, you just call free() on it and move on.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat makes the Unity version of Monos GC slow is that it walks the entire memory heap looking for something to free\u003Cem\u003E, so the more objects you have the longer it takes\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nLook it up if you like \u003Ca href=\u0022https://en.wikipedia.org/wiki/Mono_%28software%29#Garbage_collector\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, \u003Ca href=\u0022https://en.wikipedia.org/wiki/Boehm_garbage_collector\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, \u003Ca href=\u0022http://www.hboehm.info/gc/\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E and \u003Ca href=\u0022http://www.hboehm.info/gc/complexity.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIt does this automatically and \u003Cs\u003Eperiodically\u003C/s\u003E \u003Cem\u003Ewhen free space is low\u003C/em\u003E, there is no off switch.\n\u003C/p\u003E\n\u003Cp\u003E\nSo it\u0027s not a case of too much garbage, or in fact any garbage, if you actually watch KSP\u0027s memory use while it\u0027s running it\u0027s not fluctuating that much\u003Cem\u003E, there\u0027s not much that isn\u0027t in use for the GC\u003C/em\u003E\u003Cem\u003E to remove\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you have a lot of objects the Boehm\u2013Demers\u2013Weiser garbage collector used by Mono is slow, whether there is anything to free or not \u003Cem\u003Eit\u0027s still going to walk the stack\u003C/em\u003E \u003Cem\u003Elooking for objects to free\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nSo any attempts to reduce garbage by Squad would have \u003Cs\u003Eno\u003C/s\u003E\u003Cem\u003E little\u003C/em\u003E effect on the stutter\u003Cem\u003E, Squad has already optimized several parts of KSP\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs for Unity5, there are benchmarks from other software available to make comparisons, and the inclusion of a newer PhysX \u003Cs\u003Eshould\u003C/s\u003E\u003Cem\u003E might\u003C/em\u003E mean that\u00A0 physics can continue on another core while the GC is collecting, preventing it from blocking the simulation (ie the stutter)\n\u003C/p\u003E\n\u003Cp\u003E\nBut we won\u0027t know until KSP 1.1 is released, or until performance is discussed in the devnotes, so keep an eye on the devnotes for news \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdited based on Padishars comments, added stuff is in italics.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2016-01-10T13:32:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355528\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452431862\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat makes the Unity version of Monos GC slow is that it walks the entire memory heap looking for something to free.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis gells with my own experimental tinkering with Unitys mono build - the \u0027mark\u0027 (heap crawl) phase is the main culprit. Giving it something to collect does however exacerbate the problem.\u003Cbr\u003E\nThe properly frustrating thing is that this has been much improved in upstream mono, and quite some time ago. Unfortunately Unitys build has diverged too far to backport those features, or drop in a more recent runtime.\n\u003C/p\u003E\n\u003Cp\u003E\nAs usual, commercial entity forks open-source code for their own purposes, and promptly makes it incompatible with and inferior to the original project.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-10T13:36:39Z\u0022 title=\u002201/10/2016 01:36  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 10, 2016\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-01-10T14:08:34Z","Content":"\n\u003Cp\u003E\nAbsolutely, and I hear Unity won\u0027t upgrade Mono any further, but the \u003Ca href=\u0022http://blogs.unity3d.com/2014/05/20/the-future-of-scripting-in-unity/\u0022 rel=\u0022external nofollow\u0022\u003Ereplacement\u003C/a\u003E also uses the Boehm\u2013Demers\u2013Weiser garbage collector (libgc).\n\u003C/p\u003E\n\u003Cp\u003E\nInterestingly, \u003Ca href=\u0022http://blogs.unity3d.com/2015/05/13/il2cpp-internals-a-tour-of-generated-code/\u0022 rel=\u0022external nofollow\u0022\u003Eit contains the goto command.\u003C/a\u003E\u003Cspan ipsnoautolink=\u0022true\u0022\u003E \u003C/span\u003Ewhich looks a bit Basic to me.\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-01-10T14:12:27Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/16426-sal_vager/\u0026amp;do=hovercard\u0022 data-mentionid=\u002216426\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/16426-sal_vager/\u0022\u003E@sal_vager\u003C/a\u003E\u00A0While there is an element of truth about the slowness of the GC in your post, the conclusions you come to are way off the mark\n\u003C/p\u003E\n\u003Cp\u003E\nFirstly, yes, the garbage collection does run automatically but describing it as periodic makes it sound like it happens at a fixed interval and this is not the case.\u00A0 Mono has a heap of a certain size and when the amount of free space in the heap drops below a threshold it runs the garbage collector to free up any objects in the heap that are no longer being used.\u00A0 Only if it can\u0027t free up some space does it increase the size of the heap.\u00A0 So, the fact that the memory used by KSP doesn\u0027t fluctuate much doesn\u0027t say anything about how many objects are being allocated and released.\n\u003C/p\u003E\n\u003Cp\u003E\nSecondly,\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355528\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452431862\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n56 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo any attempts to reduce garbage by Squad would have no effect on the stutter.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is so patently untrue that you really should withdraw this statement or you risk looking like a complete idiot.\u00A0 The GCMonitor tool (or just thinking about it for a minute) clearly shows that if some code allocates 1000 objects and discards them immediately and does the same on every frame then the heap will fill up with released but not collected objects much faster and the GC will run much more frequently.\n\u003C/p\u003E\n\u003Cp\u003E\nThirdly,\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355528\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452431862\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n56 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs for Unity5, there are benchmarks from other software available to make comparisons, and the inclusion of a newer PhysX should mean that\u00A0 physics can continue on another core while the GC is collecting, preventing it from blocking the simulation (ie the stutter)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is a rather optimistic conclusion given that, while the GC is running, other threads are not able to allocate any memory on the heap.\u00A0 The PhysX threads may be able to run while the GC does but this won\u0027t affect the stutter as that is a pause in the calls to Update that Unity makes each frame because it is unable to allocate memory.\u00A0 That it why you get a stutter, nothing to do with the PhysX calculations.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-10T14:14:24Z\u0022 title=\u002201/10/2016 02:14  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 10, 2016\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2016-01-10T14:16:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355592\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452434914\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAbsolutely, and I hear Unity won\u0027t upgrade Mono any further, but the \u003Ca href=\u0022http://blogs.unity3d.com/2014/05/20/the-future-of-scripting-in-unity/\u0022 rel=\u0022external nofollow\u0022\u003Ereplacement\u003C/a\u003E also uses the Boehm\u2013Demers\u2013Weiser garbage collector (libgc).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is \u003Cem\u003Enot\u003C/em\u003E what I wanted to hear, but they do mention improvements to the GC problem, so... maybe some optimism?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355592\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452434914\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://blogs.unity3d.com/2015/05/13/il2cpp-internals-a-tour-of-generated-code/\u0022 rel=\u0022external nofollow\u0022\u003Eit contains the goto command.\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOuch, we all know \u003Ca href=\u0022https://xkcd.com/292/\u0022 rel=\u0022external nofollow\u0022\u003Ewhat happens\u003C/a\u003E if you use that. \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-01-10T14:35:39Z","Content":"\n\u003Cp\u003E\nThe 3rd point is optimistic because I\u0027m being optimistic over Unity5\u0027s performance, I\u0027d rather do that than be pessimistic, I\u0027m hoping for the best.\n\u003C/p\u003E\n\u003Cp\u003E\nAs to the second point, please show me where KSP is allocating and removing 1000 objects on every frame as I find that unlikely, you make it sound like KSP is making and removing 1000 Kerbals or 1000 GUI\u0027s, which would have a much larger impact than we actually see.\n\u003C/p\u003E\n\u003Cp\u003E\nUnless you mean it\u0027s updating 1000 objects, which it may be doing with the PQS terrain but also seems a rather high number, and creating temporary variables which are automatically removed when those functions go out of scope is normal, but other objects in use aren\u0027t garbage and won\u0027t be freed.\n\u003C/p\u003E\n\u003Cp\u003E\nThinking about it for a minute doesn\u0027t lead me to your conclusion, sorry.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the first, the stutter is pretty regular, thats periodic enough for me.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2016-01-10T14:48:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355630\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452436539\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThinking about it for a minute doesn\u0027t lead me to your conclusion, sorry.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPerhaps not, but the obvious change in GC frequency when there is much garbage being generated might. \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/5136\u0022 rel=\u0022external nofollow\u0022\u003EExample\u003C/a\u003E.\u003Cbr\u003E\nThis is also an example of Squads code rapidly generating garbage, and reducing such would certainly improve matters, if only in this specific case.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355630\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452436539\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs for the first, the stutter is pretty regular, thats periodic enough for me.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCasual observation does not data make. \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAlso, as Padishar points out, this has nothing to do with PhysX. GC not interrupting the physics thread is irrelevant if no managed code can allocate memory - everything else will still have to stop.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-10T14:53:50Z\u0022 title=\u002201/10/2016 02:53  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 10, 2016\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-01-10T15:17:01Z","Content":"\n\u003Cp\u003E\nI\u0027d have chosen a better example that that, he is after all using \u003Cem\u003E80 \u003C/em\u003Efuel cells, that\u0027s a lot, it doesn\u0027t matter what game it is you\u0027re going to reach its limits at some point unless it caps you, such as the unit limits in RTS games.\n\u003C/p\u003E\n\u003Cp\u003E\nFact is I don\u0027t know what is going on inside KSP, I don\u0027t know if it\u0027s Squad code or Unity that is causing this, and I don\u0027t know if Squad has already added free() to their objects to remove them and it\u0027s being deferred by Unity.\n\u003C/p\u003E\n\u003Cp\u003E\nOnly the developers could tell us that.\n\u003C/p\u003E\n\u003Cp\u003E\nI also don\u0027t know if the GC can run at the same time as PhysX, which is why I said \u0022should\u0022 not \u0022will\u0022, we\u0027ll all have to wait and see just how things improve if at all.\n\u003C/p\u003E\n\u003Cp\u003E\nI expect that performance be better for some, same for others and there\u0027s the chance it\u0027ll be worse for a few, there\u0027s just too much variation in players PC\u0027s to know how it\u0027ll be on any given computer.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I hope it\u0027ll be improved.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2016-01-10T15:23:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355672\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452439021\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027d have chosen a better example that that, he is after all using \u003Cem\u003E80 \u003C/em\u003Efuel cells, that\u0027s a lot, it doesn\u0027t matter what game it is you\u0027re going to reach its limits at some point unless it caps you, such as the unit limits in RTS games.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, the point of that was simply to show that the frequency of GC runs is not static. 80 fuel cells may be a lot, but extreme conditions make for an extreme change in GC behaviour, and therefore a clear example.\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-01-10T15:25:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355630\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452436539\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n57 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe 3rd point is optimistic because I\u0027m being optimistic over Unity5\u0027s performance, I\u0027d rather do that than be pessimistic, I\u0027m hoping for the best.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, you will almost certainly be disappointed (or would be if this issue affected you).\u00A0 I\u0027d rather be pessimistic so at least there\u0027s a small chance of being pleasantly surprised.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355630\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452436539\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n57 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs to the second point, please show me where KSP is allocating and removing 1000 objects on every frame as I find that unlikely, you make it sound like KSP is making and removing 1000 Kerbals or 1000 GUI\u0027s, which would have a much larger impact than we actually see.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNow that you\u0027re Squad staff, ask one of the devs to show you the source of the ResourceConverter and ResourceBroker classes.\u00A0 For a vessel with a reasonable number of parts that hold EC, it only takes a couple of fuel cells to end up with well over 1000 objects (any instance of a C# class allocated with new and also things like adding an item to a full List\u0026lt;T\u0026gt;) being created and deleted each physics frame.\u00A0 This isn\u0027t the only example, there are many other bits of code that create pointless garbage.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you accept that the more garbage the game creates, the more often the GC will run?\u00A0 Logically, it follows that reducing the amount of garbage created will lessen the frequency and, if tackled seriously so that almost no garbage is created during scenes, the GC would almost never need to run and forcing it to run when the user wouldn\u0027t notice a small glitch (e.g. when saving or loading, when bringing up the pause menu, switching to/from map view etc.) could probably eliminate the noticeable stutters completely.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222355630\u0022 data-ipsquote-contentid=\u0022129562\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452436539\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n57 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs for the first, the stutter is pretty regular, thats periodic enough for me.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, periodic it is, but that says nothing about the frequency.\u00A0 If less garbage is created it will run less often.\u00A0 One call per hour would also be periodic but no-one would complain about it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-10T15:34:47Z\u0022 title=\u002201/10/2016 03:34  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 10, 2016\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"}]}