{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":166,"Articles":[{"CreatedByName":"tomek.piotrowski","CreatedById":152887,"CreatedDateTime":"2016-05-16T16:33:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222584899\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463415354\u0022 data-ipsquote-userid=\u0022140837\u0022 data-ipsquote-username=\u0022leviathan01\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, leviathan01 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nis ship to ship\u00A0communication a planned feature that we can look forward to in the (hopefully) near future?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt is done and ready. It\u0027s waiting for the next major release.\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-05-16T20:42:22Z","Content":"\n\u003Cp\u003E\nSo, I\u0027m in the process of writing a code minifier/installer for kOS scripts... in KerbalScript. \u00A0When run against itself, the current build reduces the file size by 40% at maximum settings (and it doesn\u0027t yet alter variable/function names or do other abuses). \u00A0It\u0027s probably wholly unnecessary on anything but the first kOS module, but meh.\n\u003C/p\u003E\n\u003Cp\u003E\n(It also helps grab everything a particular script needs in the transfer process, though I\u0027m still working that out.)\n\u003C/p\u003E\n\u003Cp\u003E\nTL:DR: This is really long. \u00A0Oops.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EDiscoveries:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCompiled code size is partially based on line count. \u00A0The minify step that reduces a file to a single line of code yields significant filesize savings. \u00A0This actually caused me headaches before I discovered it, since I was comparing file sizes as a quick check to ensure the minifier didn\u0027t accidentally alter how kOS interprets things. \u00A0(kOS devs: could the KSM representation be smaller with a single bit indicating \u0022this opcode starts the next line\u0022 and a virtual \u0022seek\u0022 instruction for cases where more than one line is being jumped? \u00A0Or there could be the notion of a separate debugging symbols with no line information in the KSM file, but that\u0027s probably overkill)\n\u003C/p\u003E\n\u003Cp\u003E\nIn any case where a period\u0027s purpose is ambiguous, kOS prefers the option that consumes the most input. \u00A0\u0027print 1.print 2.\u0027 works as expected. \u00A0\u0027print 1.2.3.4.\u0027 is valid code that prints 1.2 and has a \u00273.4.\u0027 instruction that is effectively a noop. \u00A0This applies in other contexts as well, e.g. \u002242foo\u0022 parses as two separate \u0022words\u0022 before it is rejected as invalid syntax.\n\u003C/p\u003E\n\u003Cp\u003E\n\u0027e\u0027 is an operator, not a number format. \u00A0\u00271 e 2\u0027, 1e 2\u0027 and \u00271e2\u0027 are valid. \u00A0\u00271 e2\u0027 looks for something named e2 because it\u0027s a valid variable name. \u00A0\u00271 e\u002B2\u0027 works because variable names can\u0027t contain symbols.\n\u003C/p\u003E\n\u003Cp\u003E\nkOS doesn\u0027t support non-ASCII variable names; anything outside of 0-9 a-z and underscore is not handled by the parser at all. \u00A0I\u0027m thankful for this because I can\u0027t ask if something is a letter within KS, so I see if it\u0027s contained within \u0022abcde...\u0022. \u00A0Non-English speakers are probably less thankful.\n\u003C/p\u003E\n\u003Cp\u003E\nThe colon (as does the deprecated \u0027#\u0027) follows the same whitespace semantics as operators: \u0027ship : orbit\u0027 is legal.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EAnnoyances/Requests/Pie in the Sky Wishlist:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E(With emphasis on \u0022Pie in the Sky\u0022)\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCompilation/parsing time: On my (reasonably old, but handles KSP at max settings) machine, there\u0027s a fairly lengthy ~5 second delay before the install script even starts. \u00A0The script itself is only 20k ish (with lots of comments), so that is a bit surprising. \u00A0I can live with it, but that\u0027s there.\n\u003C/p\u003E\n\u003Cp\u003E\nExceptions: It\u0027d be nice to have some limited exception handling. \u00A0Tokenizing a KS file within kOS is expensive, so I temporarily change config:IPU during execution and revert it back to the previous value after. \u00A0There\u0027s also some temporary file use (e.g. compiling to the archive and copying the complied file rather than requiring the target to have enough space for both source and result). \u00A0If my code aborts for any reason, the revert never happens and temporary files are never cleaned up.\n\u003C/p\u003E\n\u003Cp\u003E\nOther processors: If there was a way for one processor to run code on another, I could work around IPU limitations -- idea being that I could have a literal build bot with multiple kOS cores sitting near the launchpad. \u00A0I could probably rig together a signalling mechanism involving changing ship control states on one core and waiting for them in another, but that\u0027s about as ridiculous as writing a code minifier in KS\u00A0\u003Cimg alt=\u0022:rolleyes:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 title=\u0022:rolleyes:\u0022\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIPU: Being able to exceed 2000 IPU while on the launchpad would be useful -- maybe a \u0022IPU Multiplier\u0022 setting. \u00A0This is assuming that this is actually my limiting factor in speed.\n\u003C/p\u003E\n\u003Cp\u003E\nFile I/O: This gets its own list.\n\u003C/p\u003E\n\u003Cp\u003E\n- There is no built-in way to copy a file to a destination under a new name; it requires reading and rewriting the file in KS. \u00A0There\u0027s also no way to specify both source and destination volumes (meaning a SWITCH TO is required if not doing it within KS). \u00A0Volume:Copy could fix one or both of those issues.\n\u003C/p\u003E\n\u003Cp\u003E\n- There is no way to compile to a volume other than the source, or compile from a string rather than file contents (which would allow a way around the first problem)\n\u003C/p\u003E\n\u003Cp\u003E\n- If you want to overwrite a file that may or may not exist, you need to test for its existence or delete it first. Bug: DELETE fails if the file doesn\u0027t exist, vol:delete does not.\n\u003C/p\u003E\n\u003Cp\u003E\n- There\u0027s no way to check modification times of a file, or get real world time (extension to kuniverse?). \u00A0If there was, my script could use make-like semantics of keeping its output for files that haven\u0027t changed since the last run \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nStrings:\n\u003C/p\u003E\n\u003Cp\u003E\n- WTB regular expressions.\n\u003C/p\u003E\n\u003Cp\u003E\n- WTB string escapes (instead of SET Q TO CHAR(34).\n\u003C/p\u003E\n\u003Cp\u003E\n- Joining a very large list of strings is super slow for some reason, and KSP locks up for the duration.\n\u003C/p\u003E\n\u003Cp\u003E\nTerminal:\n\u003C/p\u003E\n\u003Cp\u003E\n- There is way to control the cursor besides AT. \u00A0There is also no way to get the current cursor context.\n\u003C/p\u003E\n\u003Cp\u003E\n- It\u0027d be nice to have a way to send terminal commands to the actual running program (since the terminal and RUN have separate states.). Right now the workaround is to write the desired command to a file and then run the file.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EGeneral language questions/comments:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n- In terms of both kOS instructions and real overhead, how expensive is LOCK? \u00A0If I\u0027m frequently referring to somelist[ix] where ix is changing, is something like \u0027LOCK cur To somelist[ix]\u0027 worth it to reduce typing/filesize? \u00A0(I\u0027m guessing that it\u0027s a lightweight function, but how light?)\n\u003C/p\u003E\n\u003Cp\u003E\n- Well-behaved libraries shouldn\u0027t pollute the global namespace. \u00A0When I had a group of functions that needed to share some state, I wrapped them in braces to create a local scope and assigned func@ to a global variable to turn them into global functions. \u00A0Declare global function would be nicer \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n- It\u0027d be nice to be able to get a handle to a ON or WHEN construct that can be used to, among things, cancel it. \u00A0The current option is to have the event check for a global cancelled flag and not run/preserve if it is set. \u00A0I have some code that draws prograde/normal/radial vectors that could use this. (ON Time is an easy way to add code that runs every tick ad-hoc)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-16T20:44:09Z\u0022 title=\u002205/16/2016 08:44  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 16, 2016\u003C/time\u003E by dewin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-16T20:57:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222584845\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463413334\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhile we already speaking of MJ, it is integrated quite well in career too. You can\u0027t use some MJ modules (rover controls, docking for example) until you unlock it trough tech tree. It would not be too hard to do same with kOS.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI disagree with this. \u00A0In order to do the kind of career integration that MechJeb does, we would need to compartmentalize portions of kOS so that they A) can be disabled according to the tech tree and B) fail gracefully when you attempt to access a feature that is not yet available. \u00A0I don\u0027t think that would be an easy undertaking, and I think there would be limited utility for doing so. \u00A0We already comply with KSP\u0027s existing career limitations (like maneuver nodes).\n\u003C/p\u003E\n\u003Cp\u003E\nThere are already MM patches available to add kOS to all probes and capsules, however they have complications for balance (see my comments a few days ago in this thread regarding \u0022StockPlugins\u0022). \u00A0Realism Overhaul adds the module to (I think) every control part (probe or pod).\n\u003C/p\u003E\n\u003Cp\u003E\nWe\u0027ll continue to discuss it internally as devs, but I wouldn\u0027t expect us to include kOS in all probe cores as a stock option any time soon.\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-05-16T21:56:59Z","Content":"\n\u003Cp\u003E\nTake your time with this, I know that it won\u0027t be easy to properly fit such idea in stock game and keep gamebalance.\u003Cbr\u003E\nkOS mod itself for people who know how to use it is great balance breaker already. On the other hand, kOS brings a lot to this game, make people more interested to do some math, improve programming skills, introduction to robotics when combined with IR mod and so on. Liminting it too much might kill peoples interest to use kOS in the first place.\n\u003C/p\u003E\n\u003Cp\u003E\nBlocking availability of some commands in kOS language, based on unlocked tech tree level is another idea for gamebalance purpose, but it can also bring more issues than it is worth to go in such aproach. That brings back idea to go with energy consumption based on tech level and storage space for kOS scripts. On higher tech level you can have more storage space and/or less energy consuption to keep gamebalance. Although, if you run scripts from archive drives you don\u0027t need storage space at all.\n\u003C/p\u003E\n\u003Cp\u003E\nIt all comes to personal preference, how someone want to customize KSP with mods, what kind of experience someone expect from this game. If someone want to use kOS integrated in\u00A0 probe cores, he will do it, regardless if it is officialy suported or not from kOS dev team.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other hand, having it integrated with probes though, could make it easier in further development, less thing to worry about whenever SQUAD change something regarding part physic (mass/heating/drag etc.)\n\u003C/p\u003E\n\u003Cp\u003E\nI just throwing ideas here, to recall it when time comes to discuss about it in development. I already appreciate what you have done with kOS so far, probably many other users too.\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-05-17T01:01:15Z","Content":"\n\u003Cp\u003E\nHeh, to clarify, my original response about MM configs for stock probe cores was never intended to be a request for it to be a standard part of the mod -- more my thoughts on implementing it either myself (since I\u0027d already given it some thought) or having someone else who\u0027s interested take a stab at it.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy thoughts were more towards integrating it with probe cores based on their location in the tech tree vs. the currently parts, assuming the current parts follow Moore\u0027s law. \u00A0The only problem is that I don\u0027t think there is much in the way of tiny probe cores near the end of the tree -- so I\u0027m not sure what the stock analog to KAL9000 would be.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s worth noting that kOS already does have some features gated by the tech tree -- e.g. those that require sensors to be installed on your ship. \u00A0That said, I\u0027m against any sort of hard restrictions based on tech tree progression. \u00A0The only two limitations I could imagine that would make sense (and perhaps be reasonable to implement) is having actual speed be part of the progression (e.g. having the earliest processor run at a brisk 10IPU) and memory limits (it doesn\u0027t matter as much if I\u0027m limited to 5k disk if I can fit the entire contents of the archive in memory).\n\u003C/p\u003E\n\u003Cp\u003E\nActually, it\u0027d be neat if all of the storage worked in terms of bytecode (Rather than COMPILE output) size, other than being less than intuitive. \u00A0This probably falls under the realm of gameplay over realism, and I\u0027m fine with that. \u00A0(Though imagine EVAing to a satellite to perform a firmware upgrade and praying you don\u0027t brick it.).\n\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-17T11:18:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585863\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463446875\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s worth noting that kOS already does have some features gated by the tech tree -- e.g. those that require sensors to be installed on your ship. \u00A0That said, I\u0027m against any sort of hard restrictions based on tech tree progression. \u00A0The only two limitations I could imagine that would make sense (and perhaps be reasonable to implement) is having actual speed be part of the progression (e.g. having the earliest processor run at a brisk 10IPU) and memory limits (it doesn\u0027t matter as much if I\u0027m limited to 5k disk if I can fit the entire contents of the archive in memory).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWe have discussed scaling IPU according to tech level, and this probably will come in time. \u00A0I actually already have an implementation that moves the IPU into the part cfg file, but we have to finish up a few other things first (like subdirectory support, and a true 3rd party api). \u00A0It may or may not make the next major release. \u00A0With the advent of the new Unity 5 UI stuff, we\u0027re also looking at a possible progression of terminal windows to go along with career progression. \u00A0Most of the differences there would be cosmetic (better fonts, cleaner display) but there may be a possibility of other advanced UI features.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-17T11:19:03Z\u0022 title=\u002205/17/2016 11:19  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 17, 2016\u003C/time\u003E by hvacengi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"leocrumb","CreatedById":141389,"CreatedDateTime":"2016-05-17T13:59:41Z","Content":"\n\u003Cp\u003E\nIs the new (vessel:controlpart) included in this latest release?\n\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-17T14:18:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222586715\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463493581\u0022 data-ipsquote-userid=\u0022141389\u0022 data-ipsquote-username=\u0022leocrumb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, leocrumb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs the new (vessel:controlpart) included in this latest release?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, it did not qualify as a bug or KSP 1.1.2 adaptation.\n\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-18T21:15:53Z","Content":"\n\u003Cp\u003E\nI can\u0027t respond to all of these comments, due to length. \u00A0We would be happy do discuss any of the items in greater detail on Github where we can track them better and prevent bloating this thread. \u00A0We also gladly accept pull requests, but we prefer you start the discussion before submitting a PR as there are times where we specifically don\u0027t want to include a feature, or where we may have an idea in the works about how to do it.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCompiled code size is partially based on line count. [... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCompiled code is a very complicated beast, and I\u0027m impressed that it hasn\u0027t crashed on you doing this. \u00A0There is an expectation of no more than 256 expressions on any given line, though what exactly qualifies as an expression I\u0027m not sure of.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u0027e\u0027 is an operator, not a number format.\u00A0[... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot entirely true. \u00A0While \u0060e\u0060 accepts white space (like most separators in kOS) it will not accept a variable on either side of the \u0060e\u0060, the left must be a number and the right must be an integer. \u00A0Not only that, as an undocumented behavior there is no guarantee that it will always stay that way.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCompilation/parsing time\u00A0[... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTake this one up with Mono, the underlying framework. \u00A0Their Regex has awful performance.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nExceptions: It\u0027d be nice to have some limited exception handling.\u00A0[... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nExceptions present an issue in kOS\u0027s \u0022there is no null\u0022 paradigm. \u00A0We make our best effort to provide a way to detect cases where exceptions will be thrown.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOther processors: If there was a way for one processor to run code on another, I could work around IPU limitations\u00A0[... snip ...]\n\u003C/p\u003E\n\u003Cp\u003E\nIPU: Being able to exceed 2000 IPU [... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIPU is complicated. \u00A0And I don\u0027t think that it will improve in the way you think it will. \u00A0All instructions are executed in order, and there is no parallel execution or threading. \u00A0If you\u0027re seeing a game pause, the only thing that increasing the IPU will do is decrease the number of KSP physics ticks that pass by during that freeze. \u00A0Increasing the IPU is very possible, most operations don\u0027t consume enough time to truly matter (I have clocked scalar and vector add operations both in the 0.03ms\u00A0range). \u00A0But there are other operations (like string operations, or \u0060positionat\u0060) which consume substantially more time. \u00A0We have toyed with some kind of benchmarking system, but that breaks our focus on making sure scripts will run the same no matter what computer you run them on. \u00A0In addition,\u00A0kOS runs an interpreted language (kerboscript), running on top of an abstracted Just In Time language (C#/CLI), which is executed using Mono (based on the .net framework):\u00A0 It just isn\u0027t going to run very fast (certainly not for a while). \u00A0CPU and vessel communication is in the works, and would enable some level of what you want, but again it would not likely improve performance.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFile I/O: This gets its own list.\u00A0[... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSee github, this is already in the works.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStrings:\u00A0[... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nStrings are expensive. \u00A0Regex is complicated to implement, a pain to write, and a nightmare to support. \u00A0Kerboscript is case insensitive by it\u0027s nature, and reconciling regex matches not working the same as other string operations would complicate issues. \u00A0Any time you work with a string, it\u0027s expensive, both in memory and execution time.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTerminal\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUser input and terminal revisions are on the horizon. \u00A0They are not at the forefront of the priority list however.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222585379\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463431342\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/16/2016 at 4:42 PM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[... snip ...]\u00A0\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003EDeclare global function would be nicer\u003C/span\u003E [... snip ...]\n\u003C/p\u003E\n\u003Cp\u003E\n- In terms of both kOS instructions and real overhead, how expensive is LOCK? \u00A0[... snip ...]\n\u003C/p\u003E\n\u003Cp\u003E\n- It\u0027d be nice to be able to get a handle to a ON or WHEN construct that can be used to, among things, cancel it. \u00A0[... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLocks are not any more expensive than a function (in fact they have a nearly identical implementation in the underlying C#). \u00A0That being said, if you use a lock with an identifier once in a script file, that identifier will always refer to the function even if you unlock and start to refer to the identifier as a variable. \u00A0In that instance, the function defaults to \u0022return the variable with the same identifier\u0022. \u00A0Referencing triggers is something we would like, but initial language decisions prevent us from being able to do anything about it without breaking existing scripts. \u00A0You can use scoping and lexicons to make a \u0022poor man\u0027s\u0022 class/object definition. \u00A0In an upcoming release we will be including anonymous functions, which means you won\u0027t have to \u0022pollute\u0022 the global namespace. \u00A0Just remember that it will still pollute the global code cache, as every unique function is compiled into opcodes, and the opcodes are not cleared until your program context finishes (a \u0022run program\u0022 returning to the terminal, or a reboot for items declared in the terminal).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThanks for the input, and again please feel free to stop by github if you want to discuss these more in depth.\n\u003C/p\u003E\n"},{"CreatedByName":"karamazovnew","CreatedById":63072,"CreatedDateTime":"2016-05-19T08:53:45Z","Content":"\n\u003Cp\u003E\nI seem to have a problem controlling the vessel with any\u00A0\u003Cstrong style=\u0022font-weight:bold;color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003EFAR v0.15.6.5\u003C/strong\u003E \u00A0related control surfaces. I\u0027m trying to use\u00A0LOCK STEERING TO HEADING(x,y) during the ascent.\u00A0If I don\u0027t use any gimbaled engines, the winglets\u00A0twitch on all axis\u00A0very fast, while the craft remains pointing up and \u0022stable\u0022. The vessel ignores any Heading commands, both from the script and the console. With gimbaled engines added, the craft behaves normally on yaw and pitch axis, except for the roll axis which again twitches wildly, but the craft is \u0022stable\u0022 on that axis as well. After removing FAR, everything works normally. Oh and reaction wheels work fine in all cases.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe following log appears in all cases, no errors.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[LOG 11:13:09.577] kOS: FlightControlManager: ToggleFlyByWire: steering True\u003Cbr\u003E\n[LOG 11:13:09.577] kOS: FlightCtrlParam: Enabled: steering False =\u0026gt; True\u003Cbr\u003E\n[LOG 11:13:09.578] kOS: FlightCtrlParam: toggle steering parameter\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-19T09:14:16Z\u0022 title=\u002205/19/2016 09:14  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 19, 2016\u003C/time\u003E by karamazovnew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"leocrumb","CreatedById":141389,"CreatedDateTime":"2016-05-19T10:44:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222586741\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463494701\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/17/2016 at 5:18 PM, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo, it did not qualify as a bug or KSP 1.1.2 adaptation.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou mean there will never be a way to reference the controlled part in a script?\n\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-19T13:03:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222590363\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463654647\u0022 data-ipsquote-userid=\u0022141389\u0022 data-ipsquote-username=\u0022leocrumb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, leocrumb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou mean there will never be a way to reference the controlled part in a script?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, I mean that it isn\u0027t listed on the changelog or included in the v0.20.1 release because that release was strictly a maintenance release to address a few bugs, mostly specific to KSP 1.1.x. \u00A0The pull request including the feature has been merged, and will be included in our next major release.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222590270\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463648025\u0022 data-ipsquote-userid=\u002263072\u0022 data-ipsquote-username=\u0022karamazovnew\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, karamazovnew said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI seem to have a problem controlling the vessel with any\u00A0\u003Cstrong style=\u0022font-weight:bold;color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003EFAR v0.15.6.5\u003C/strong\u003E \u00A0related control surfaces. [... snip ...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFAR changes the aerodynamic properties of the game, and we currently do not directly support FAR. \u00A0All of our steering calculations are based on KSP\u0027s new \u0060ITorqueProvider\u0060 interface, so FAR would need to replace the control surface module with it\u0027s own module providing FAR specific torque calculations in order for kOS to accurately control with it. \u00A0If they already do this, we may need to look into the accuracy of those readings.\n\u003C/p\u003E\n"},{"CreatedByName":"karamazovnew","CreatedById":63072,"CreatedDateTime":"2016-05-20T00:56:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222590562\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463663033\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFAR changes the aerodynamic properties of the game, and we currently do not directly support FAR. \u00A0All of our steering calculations are based on KSP\u0027s new \u0060ITorqueProvider\u0060 interface, so FAR would need to replace the control surface module with it\u0027s own module providing FAR specific torque calculations in order for kOS to accurately control with it. \u00A0If they already do this, we may need to look into the accuracy of those readings.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi there, here\u0027s Ferram\u0027s reply to me:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003EFARControllableSurface has implemented ITorqueProvider and GetPotentialTorque() since FAR v0.15.6.0, and I am now on v0.15.6.5 with no issues there\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo idea what you guys are talking about, but hope this helps. Meanwhile, I\u0027ve kept 2-3 rocket fins from getting FAR and they work great with KOS on their own. Happy camper waiting for a fix \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEDIT: actually to help a bit, almost forgot to mention:\u00A0while messing around with those fins, I turned one of them into a FAR wing with stock\u00A0ModuleControlSurface. kOS worked with it (sort of). So I\u0027m assuming that\u00A0@dragCoeff = 0\u003Cbr\u003E\n@deflectionLiftCoeff = 0 which FAR puts somehow break KOS\u0027s ability to alter course, while still having them try to maintain\u00A0stability. Hope that helps.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-20T01:03:09Z\u0022 title=\u002205/20/2016 01:03  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 20, 2016\u003C/time\u003E by karamazovnew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-05-20T15:41:03Z","Content":"\n\u003Cp\u003E\nFAR put @dragCoeff = 0\u00A0 and @deflectionLiftCoeff = 0\u00A0 for a reason - those are meaningless when you have FAR installed.\u003Cbr\u003E\nFAR use voxelization feature and calculate lift and drag on all parts at the same time. Very rude simplification of this is that FAR use all parts from craft and trough voxelization \u0022change\u0022 it to looks like only one part. Then lift and drag is calculated on craft as a whole, not part by part as stock physic does.\n\u003C/p\u003E\n\u003Cp\u003E\nYour custom MM config only breaks both - stock physics and FAR - neither will work properly.\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t get deep enough with kOS, but based on experience with both, it worked much better for me with custom PID (search for PID library trough kOS documentation) and use raw pilot input control instaed of lock steering command.\n\u003C/p\u003E\n\u003Cp\u003E\nI wanted to create pilot assistance instead of full autopilot with kOS in previous version of KSP and kOS with trim controls.\u003Cbr\u003E\nUnfortunately due to bugs in kOS or KSP, raw input command does not work. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/63481-steven-mading/\u0026amp;do=hovercard\u0022 data-mentionid=\u002263481\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-steven-mading/\u0022 rel=\u0022\u0022\u003E@Steven Mading\u003C/a\u003E have raised issue on github about it, I forget to check current state of it. Probably there is bigger issues to solve first.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still in phase of learning how everything is handled trough kOS, so I can\u0027t help you much, but there is video creted in previous releases where someone created nice autopilot with kOS and FAR, following terrain altitude pretty nice. Flying over mountains, hills and valleys. Nice video, btw.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, it is possible to create kOS scripts that handle FAR crafts in friendly way, but you should know how to create stable crafts/rockets in the first place. Or have to know craft limitations, so you don\u0027t exceed control input over craft limits.\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2016-05-20T16:59:48Z","Content":"\n\u003Cp\u003E\nThis is a new one for me... My code is sitting at 2300 lines at the moment - could this be too long?\n\u003C/p\u003E\n\u003Cp\u003E\nOr maybe I need more KOS disk space?\n\u003C/p\u003E\n\u003Cp\u003E\nI haven\u0027t changed my rocket in any way from a previous working version. Meticulously re-organised the code (block copies) etc... - I\u0027ll check again though.\n\u003C/p\u003E\n\u003Cp\u003E\nKSP1.05, RSS/RealismOverhaul, KOS19.3\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022wdvT3ic.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/wdvT3ic.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-20T17:10:08Z\u0022 title=\u002205/20/2016 05:10  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 20, 2016\u003C/time\u003E by ColKlonk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-20T17:06:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222591694\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463705774\u0022 data-ipsquote-userid=\u002263072\u0022 data-ipsquote-username=\u0022karamazovnew\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, karamazovnew said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo idea what you guys are talking about, but hope this helps. Meanwhile, I\u0027ve kept 2-3 rocket fins from getting FAR and they work great with KOS on their own. Happy camper waiting for a fix \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI wouldn\u0027t count on a fix coming from our end any time soon. \u00A0We have never really supported relying on control surfaces for cooked steering anyways, and we only have decent stock support for it now because Squad provided it in the 1.1.x release.\u00A0 I\u0027ll have to go look at \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/21328-ferram4/\u0026amp;do=hovercard\u0022 data-mentionid=\u002221328\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/21328-ferram4/\u0022 rel=\u0022\u0022\u003E@ferram4\u003C/a\u003E\u0027s code, and then run some debugging tests. \u00A0I don\u0027t use FAR myself, so I\u0027m not really in a place to do any quick testing or analysis. \u00A0\u003Cem\u003EIn theory\u003C/em\u003E\u00A0so long as FAR is giving the \u0022maximum potential torque at full control deflection\u0022 our system should just work. \u00A0But I know that FAR is a lot more complex of a calculation, so FAR\u0027s torque calc may very well not be the problem. \u00A0Variations in torque as the vessel changes it\u0027s orientation and speed are probably a bigger issue than stock calculations. \u00A0Since our steering code attempts to be \u0022smart\u0022 and tune\u0027s the controller parameters based on constant available torque and moment of inertia, having a rapid changes in the torque parameter could invalidate our control loop model. \u00A0I would recommend submitting a kOS github issue, so that there\u0027s a chance for us to remember to come back and look at this in the future.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0I don\u0027t think I\u0027ve seen any reports of major issues with the stock control surfaces.\u00A0 In general people use raw controls for that kind of stuff anyways. \u00A0It could be that there is something wrong in our math that just hasn\u0027t shown itself in other testing.\n\u003C/p\u003E\n\u003Cp\u003E\nHave you tried \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/commands/flight/cooked.html#tuning-cooked-steering\u0022 rel=\u0022external nofollow\u0022\u003Etuning the steering at all?\u003C/a\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592784\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463763588\u0022 data-ipsquote-userid=\u0022137078\u0022 data-ipsquote-username=\u0022ColKlonk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, ColKlonk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is a new one for me... My code is sitting at 2300 lines at the moment - could this be too long?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI doubt the issue is your code length, but without any context the error message doesn\u0027t really tell us anything. \u00A0Please provide a copy of the script, as well as the log file showing the error message.\n\u003C/p\u003E\n\u003Cp\u003E\nNull references are most easily found by looking at the actual C# underlying stack trace, which is visible in the log.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-20T17:07:04Z\u0022 title=\u002205/20/2016 05:07  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 20, 2016\u003C/time\u003E by hvacengi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-20T17:20:52Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cem\u003EThe original post was edited while I was replying:\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592784\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463763588\u0022 data-ipsquote-userid=\u0022137078\u0022 data-ipsquote-username=\u0022ColKlonk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, ColKlonk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKSP1.05, RSS/RealismOverhaul, KOS19.3\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cspan\u003EDepending on what the error is, it may have already been fixed in either a more recent version, or in the pending develop branch. \u00A0You can still post the information (it might still be an issue) but there is a good chance that we will ask you to upgrade and test again.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2016-05-20T17:35:51Z","Content":"\n\u003Cp\u003E\nThis is during compilation phase.. before the program runs.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything worked fine before the current changes, and usually debugging is no problem\n\u003C/p\u003E\n\u003Cp\u003E\nWhere would you find the KOS error message log file ??\n\u003C/p\u003E\n\u003Cp\u003E\nOK.. before I post the code, and waste your time.. let me go through it once more - thanks anyway.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-20T17:42:57Z\u0022 title=\u002205/20/2016 05:42  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 20, 2016\u003C/time\u003E by ColKlonk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-20T17:49:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592847\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463765751\u0022 data-ipsquote-userid=\u0022137078\u0022 data-ipsquote-username=\u0022ColKlonk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, ColKlonk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is during compilation phase.. before the program runs.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything worked fine before the current changes, and usually debugging in no problem\n\u003C/p\u003E\n\u003Cp\u003E\nWhere would you find the KOS error message log file ??\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEven if the error is during compilation, it very well could be related to the content in the file. \u00A0I\u0027d prefer that was made available, but there is a chance we can see what\u0027s going on from just the log file.\n\u003C/p\u003E\n\u003Cp\u003E\nIf things were working, then you refactored and rearranged your code, I would be highly suspect of a formatting issue or name conflict, something that is not run into often in scripts.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can find instructions for the log files under \u0022The Logs\u0022 in this post:\u00A0\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83212-/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2016-05-20T18:20:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592847\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463765751\u0022 data-ipsquote-userid=\u0022137078\u0022 data-ipsquote-username=\u0022ColKlonk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n45 minutes ago, ColKlonk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is during compilation phase.. before the program runs.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything worked fine before the current changes, and usually debugging in no problem\n\u003C/p\u003E\n\u003Cp\u003E\nWhere would you find the KOS error message log file ??\n\u003C/p\u003E\n\u003Cp\u003E\nOK.. before I post the code, and waste your time.. let me go through it once more - thanks anyway.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n(How in the *%\u0026amp;*@#! do you break a quote section into parts to respond to individual lines of it in this awful what-you-see-is-all-you-get-to-have editor on the forum?\u00A0 I\u0027ve tried everything I could think of.)\n\u003C/p\u003E\n\u003Cp\u003E\n(1) You say \u0022everything worked fine before the \u003Cem\u003Ecurrent\u003C/em\u003E changes\u0022.\u00A0 You\u0027re using the word \u003Cem\u003Ecurrent\u003C/em\u003E, but said you\u0027re on version 19.3 (I assume 0.19.3).\u00A0 Current is 0.20.1, so can you provide the two version numbers you mean just to be clear?\u00A0 Which version did it last work on, and which version did it stop working on?\n\u003C/p\u003E\n\u003Cp\u003E\n(2) The log file we\u0027re looking for comes from Unity itself.\u00A0 For some utterly ridiculous reason I don\u0027t understand, Unity decided that despite having the goal of a unified cross-platform development engine, they were going to make the location of this log file differ on every platform.\u00A0 So the answer depends on what platform:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWindows 32-bit: [install_dir]\\KSP_Data\\output_log.txt\n\u003C/li\u003E\n\u003Cli\u003E\nWindows 64-bit: [install_dir]\\KSP_x64_Data\\output_log.txt\n\u003C/li\u003E\n\u003Cli\u003E\nMac OS X: ~/Library/Logs/Unity/Player.log\n\u003C/li\u003E\n\u003Cli\u003E\nLinux: ~/.config/unity3d/Squad/\u201DKerbal Space Program\u201D/Player.log\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-20T18:21:21Z\u0022 title=\u002205/20/2016 06:21  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 20, 2016\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2016-05-20T18:28:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592934\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463768427\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(How in the *%\u0026amp;*@#! do you break a quote section into parts to respond to individual lines of it in this awful what-you-see-is-all-you-get-to-have editor on the forum?\u00A0 I\u0027ve tried everything I could think of.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSelect part of the message. \u0022Quote this\u0022 popup will appear. Click it and you\u0027ll get a partial quote inserted. (Better than quoting entire message several times and then editing those quotes).\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, the more one\u0027s familiar with coding, the less he is content with WYSIWYG, at least when it\u0027s pretending to be smarter than it really is.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2016-05-20T18:35:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592949\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463768901\u0022 data-ipsquote-userid=\u00228825\u0022 data-ipsquote-username=\u0022Alchemist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Alchemist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, the more one\u0027s familiar with coding, the less he is content with WYSIWYG, at least when it\u0027s pretending to be smarter than it really is.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI could live with WYSIWYG if there was an option to also modify the underlying code. \u00A0Unless the software uses a very random undocumented formatting engine, it seems like adding a \u0022Edit raw\u0022 option wouldn\u0027t be so hard.\n\u003C/p\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2016-05-20T18:45:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592962\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463769313\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI could live with WYSIWYG if there was an option to also modify the underlying code\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nExactly. Either ability to access raw code or ability to efficiently manipulate and fine tweak the objects in some other way. When it says \u0022I\u0027ll put it like this and no other way\u0022 - it gets annoying.\n\u003C/p\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2016-05-20T19:22:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222592934\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463768427\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(How in the *%\u0026amp;*@#! do you break a quote section into parts to respond to individual lines of it in this awful what-you-see-is-all-you-get-to-have editor on the forum?\u00A0 I\u0027ve tried everything I could think of.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAnother way to do this.\u00A0 Click just after the last text you want to be before the break (the \u0027)\u0027 above) and type \u0022Enter\u0022 three times.\u00A0 DON\u0027T start typing text yet, or you will encounter the IPS4 (the forum software) backwards typing bug.\n\u003C/p\u003E\n\u003Cp\u003E\nYou should have 2 blank paragraphs between the now-broken quote.\u00A0 Your cursor will be on the 2nd blank paragraph.\u00A0 Click to move the cursor to the 1st blank paragraph and you should be able to enter your comment and do other editing without issue.\u00A0 For example, I deleted the rest of the quote that was below the above quoted text.\n\u003C/p\u003E\n\u003Cp\u003E\nI really, really hate IPS4.\u00A0 That it doesn\u0027t have a proper raw mode is just one of its ills. \u003Cimg alt=\u0022:mad:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 title=\u0022:mad:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MAFman","CreatedById":101780,"CreatedDateTime":"2016-05-21T03:42:31Z","Content":"\n\u003Cp\u003E\nIs it possible to make a kind of Curiosity-like autonav algorithm for rovers? If so, what would be used to measure terrain roughness/height and safety?\n\u003C/p\u003E\n"}]}