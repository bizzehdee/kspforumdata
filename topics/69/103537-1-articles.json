{"TopicId":103537,"ForumId":69,"TopicTitle":"[KSP 1.4.5, 1.4.3, 1.2.2, 1.2.1, 1.2, 1.1.x, 1.0.x, 0.90 windows] true / exclusive fullscreen, shadowplay and gsync solution","CreatedByName":"jazzkutya","CreatedById":140559,"CreatedDateTime":"2015-04-06T17:18:39Z","PageNum":1,"Articles":[{"CreatedByName":"jazzkutya","CreatedById":140559,"CreatedDateTime":"2015-04-06T17:18:39Z","Content":"Related issues:\n\n[http://forum.kerbalspaceprogram.com/threads/104708-Anyone-else-having-issues-that-seem-to-be-related-to-full-screen-%28shadowplay-gsynch%29](https://forum.kerbalspaceprogram.com/threads/104708-Anyone-else-having-issues-that-seem-to-be-related-to-full-screen-%28shadowplay-gsynch%29)\n\n[http://forum.kerbalspaceprogram.com/threads/103535-After-update-shadowplay-does-not-record-the-game-anymore-%28still-works-on-0-25%29](https://forum.kerbalspaceprogram.com/threads/103535-After-update-shadowplay-does-not-record-the-game-anymore-%28still-works-on-0-25%29)\n\nSince 0.90 KSP on windows does not use true (exclusive) fullscreen mode due to changes in unity. This causes screen tearing issues without aero (win7) and some loss of performance.\n\nI have found a way to enable true exclusive fullscreen mode again by modifying the file **KSP\\_Data\\mainData (KSP\\_x64\\_Data\\mainData for 64 bit and KSP\\_x64\\_Data\\globalgamemanagers since 1.2)**  .\n\nDistribution of this file is not permitted, so you have to do this modification yourself with a hex editor **or use my patcher below**:\n\n1. Back up your KSP\\_Data\\mainData\n2. **For KSP 1.0.5, 1.0.4, 1.0.3, 1.0.2, 1.0.1, 1.0.0**: change byte at offset **109C** from 1 to 0.  \n\nFor **KSP 0.90**: change byte at offset **1098** from 1 to 0.  \n\nFor **KSP 1.1.0, 1.1.1** change byte at offset **4044** from 1 to 0. For 64bit the mainData file is in KSP\\_x64\\_Data, not KSP\\_Data.  \n\nFor **KSP 1.1.2, 1.1.3** change byte at offset **3f24** from 1 to 0. For 64bit the mainData file is in KSP\\_x64\\_Data, not KSP\\_Data.  \n\nFor **KSP 1.2, 1.2.1, 1.2.2** change byte at offset 10e0 from 1 to 0 in file **globalgamemanagers**. For 64bit the globalgamemanagers file is in KSP\\_x64\\_Data, not KSP\\_Data.  \n\nFor **KSP 1.4.3**, **1.4.5** change byte at offset 1180 from 1 to 0 in file **globalgamemanagers**. For 64bit the globalgamemanagers file is in KSP\\_x64\\_Data, not KSP\\_Data.  \n\nI gave the offsets (address of byte to change in the file) in hexadecimal..\n\nNOTE: only do this if you know what true/exclusive fullscreen mode is. This may cause issues when using alt-tab.  \n\nSince KSP 1.1.0 I can not alt-tab back into the game on Windows 7 if it\u0027s patched to exclusive fullscreen mode. It seems alt-tab works again since 1.1.1.  \n\n1.2.2 on Win7: minor glitch in main menu: menu text becomes hidden after alt-tabbing and back. Did not try playing actual game.\n\nKSP will not run in the background after the modification.\n\n**\\*\\*\\* The patcher \\*\\*\\***\n\nIf you can not use a hex editor you can use the patcher I made.\n\n**Download ksp-fullscreenfix.exe from GitHub**: [https://github.com/jazzkutya/ksp-fullscreenfix/releases/latest](https://github.com/jazzkutya/ksp-fullscreenfix/releases/latest) \\* updated for 1.4.5 \\*\n\nCopy ksp-fullscreenfix.exe to top folder of your KSP installation (not into GameData), and run it from there.\n\nAlso see the README on GitHub: [https://github.com/jazzkutya/ksp-fullscreenfix](https://github.com/jazzkutya/ksp-fullscreenfix)\n\nThe patcher supports KSP 0.90.0, 1.0.0, 1.0.2, 1.0.4, 1.0.5, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.2.0, 1.2.1, 1.2.2, 1.4.3, 1.4.5\n\nLICENSES\n\nThe patcher is released under the same license as perl 5 itself. Quote:\n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E Copyright 2015-2016 by Karoly Segesdi \u003Cjazzkutya at=\u0022\u0022 gmail=\u0022\u0022\u003E.\n\u003E \u003Cp\u003E\n\u003E This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.\n\u003E \u003C/p\u003E\n\u003E \u003C/jazzkutya\u003E\n\u003E \n\n[https://github.com/jazzkutya/ksp-fullscreenfix/blob/master/LICENSE](https://github.com/jazzkutya/ksp-fullscreenfix/blob/master/LICENSE)\n\nThe patcher includes binary code from Perl 5 and Par-Packer.\n\nPar-Packer and Perl license permit this (quote from Par-Packer documentation):\n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E Copyright 2002-2009 by Audrey Tang \u003C[\\[email protected\\]](/cdn-cgi/l/email-protection)\u003E.\n\u003E \n\u003E \n\u003E Neither this program nor the associated [parl](http://search.cpan.org/~smueller/PAR-Packer-1.003/script/parl.pod) program impose any licensing restrictions on files generated by their execution, in accordance with the 8th article of the Artistic License:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u0022Aggregation of this Package with a commercial distribution is\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E always permitted provided that the use of this Package is embedded;\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E that is, when no overt attempt is made to make this Package\u0027s\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E interfaces visible to the end user of the commercial distribution.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Such use shall not be construed as a distribution of this Package.\u0022 Therefore, you are absolutely free to place any license on the resulting executable, as long as the packed 3rd-party libraries are also available under the Artistic License.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.\n\u003E \n\n**Edited \u003Ctime datetime=\u00222018-09-25T20:16:19Z\u0022 title=\u002209/25/2018 08:16  PM\u0022 data-short=\u00225 yr\u0022\u003ESeptember 25, 2018\u003C/time\u003E by jazzkutya**\n  \nupdated for KSP 1.4.5"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-04-06T17:37:14Z","Content":"Hi jazzkutya, and welcome to the forums!\n\nRedistributing modified files outside of those stored in the GameData folder is not permitted, I\u0027m afraid. Thankfully, it looks like your fix is simple enough that just about anyone could do it.\n\nI know some people have lamented the loss of true fullscreen mode, both for performance reasons and because it interferes with some recording software. Well done and thanks for sharing."},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-06T17:39:22Z","Content":"You have no idea how much that fix helps me.\n\nYou deserve all the reps.\n\nIt works flawlessly, and it also fixes the shadowplay recording issue for laptops (already tested).\n\nYou should add to the OP that it fixes the shadowplay problem, I am sure it will be important for a lot of people.\n\nThanks for sharing this fix.\n\nEdit: by the way, I will be able to help a lot of people due to this fix ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-04-06T17:41:49Z\u0022 title=\u002204/06/2015 05:41  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 6, 2015\u003C/time\u003E by tetryds**"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2015-04-20T23:22:58Z","Content":"Hi, I have the same problem - but I\u0027m not sure what you mean by the 1098h - (no h in haxadecimal?) I\u0027m trying to utilise NotePad\u002B\u002B as my hexeditor. **Can you please point me in the right direction?**\n\nPeace."},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-20T23:25:27Z","Content":"\u003E \n\u003E Hi, I have the same problem - but I\u0027m not sure what you mean by the 1098h - (no h in haxadecimal?) I\u0027m trying to utilise NotePad\u002B\u002B as my hexeditor. **Can you please point me in the right direction?**\n\u003E Peace.\n\nh means dec.\n\nUse a decimal editor, you will have the numbers grouped, and an indicator number on the side.\n\nFind 1090, then count from the left to right.\n\nfirst is zero, second is one, the eight is the one that you want, it should be a \u002201\u0022 (close to it, on the same line, there is a 02, for faster spotting).\n\nReplace it with a \u002200\u0022, and save the file, then run the game."},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2015-04-21T01:41:10Z","Content":"\u003E \n\u003E h means dec... Find 1090, then count from the left to right... first is zero, second is one, the eight is the one that you want, it should be a \u002201\u0022...Replace it with a \u002200\u0022, and save the file, then run the game.\n\nAwesome, that was very helpful! However, Shadowplay is still not recording. It does come up with the frame rate, but no recording icon. It doesn\u0027t save any recording nor seem to use the temp folder either.\n\nDoes anyone have a solution?\n\n**Edited \u003Ctime datetime=\u00222015-04-21T05:26:23Z\u0022 title=\u002204/21/2015 05:26  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 21, 2015\u003C/time\u003E by theJesuit**\n  \nAdded a question"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-21T09:39:25Z","Content":"\u003E \n\u003E Awesome, that was very helpful! However, Shadowplay is still not recording. It does come up with the frame rate, but no recording icon. It doesn\u0027t save any recording nor seem to use the temp folder either.\n\u003E Does anyone have a solution?\n\nMake sure that on the settings you turn on Fullscreen mode.\n\nAlso, only change that with the game closed.\n\nIt\u0027s strange, did you verify if you have real fullscreen now?\n\nYou can record other games using shadowplay, right?\n\nOh, and the value may be on a different place for every KSP version."},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2015-04-23T10:38:07Z","Content":"Thanks tetryds,\n\nYes, I\u0027m in fullscreen (how can you tell if it is real or not?), and I was changing settings with the launcher AND with the hex edit - not in the game, oh and through the NVIDIA optimisation tool.\n\nBut I don\u0027 play other games! Ultimately I upgraded my laptop end of last year. My previous one struggled with frame rate somewhat, which wasn\u0027t conducive when I was doing tests on making a cinematic. I hadn\u0027t gone back to OBS because of the frame rate issue and since I had the option of Shadowplay it seemed like a good idea to use it! I\u0027ve now given up on it and OBS is working sweet anyways. Doing very well. Thank God for the fancy pants laptop!\n\nPeace."},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-23T10:53:12Z","Content":"\u003E \n\u003E Thanks tetryds,\n\u003E Yes, I\u0027m in fullscreen (how can you tell if it is real or not?), and I was changing settings with the launcher AND with the hex edit - not in the game, oh and through the NVIDIA optimisation tool.\n\u003E \n\u003E But I don\u0027 play other games! Ultimately I upgraded my laptop end of last year. My previous one struggled with frame rate somewhat, which wasn\u0027t conducive when I was doing tests on making a cinematic. I hadn\u0027t gone back to OBS because of the frame rate issue and since I had the option of Shadowplay it seemed like a good idea to use it! I\u0027ve now given up on it and OBS is working sweet anyways. Doing very well. Thank God for the fancy pants laptop!\n\u003E \n\u003E Peace.\n\nNonono, you cannot try to force fullscreen by any other means, it\u0027s not going to work, and probably going to reset/ignore your manual input on the Hex.\n\nYou can tell it\u0027s fullscreen or not if shadowplay manages to record the game (don\u0027t set it to OpenGL, btw.).\n\nAnother way to notice if it\u0027s true fullscreen is opening a skype call, if the skype window shows up on the top of the game, it\u0027s not true fullscreen.\n\nYou can also alt\u002Btab and try to notice if the game was frozen and blinks, which it does on true fullscreen.\n\nOn true fullscreen, the game will never run on the background, that is the exact problem this unity wacky workaround was made for.\n\nChanging the Hex value is not a hack or anything, it\u0027s just changing a setting that you are unable to change from inside of the game.\n\nI have already tried forcing fullscreen by any other possible means, but this is the only way which actually worked.\n\nI don\u0027t understand why you can\u0027t toggle the fullscreen on, even if you are not going to use shadowplay it\u0027s very good to do that, it improves framerate a LOT, and fixes a lot of discomforts."},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2015-04-24T06:48:20Z","Content":"I just tried the Skype before I had work away from the laptop. Windows 8 bundled skype wouldnt work anyhow so havent downloaded desktop version.\n\nHowever I do remember the \u0027blink\u0027 from my old laptop. This certainly doesn\u0027t do that, and it may have been KSP.25. I\u0027ve checked the hex editor and still showing up the corrected info. Still no go."},{"CreatedByName":"jazzkutya","CreatedById":140559,"CreatedDateTime":"2015-04-25T14:06:32Z","Content":"\u003E \n\u003E I just tried the Skype before I had work away from the laptop. Windows 8 bundled skype wouldnt work anyhow so havent downloaded desktop version.\n\u003E However I do remember the \u0027blink\u0027 from my old laptop. This certainly doesn\u0027t do that, and it may have been KSP.25. I\u0027ve checked the hex editor and still showing up the corrected info. Still no go.\n\nHi theJesuit,\n\nKSP version is very important. Please check what version you are using and report it here.\n\nIf you are using 0.25 i may help you sometime but we have to conduct a (preferably chat only, no voice) session on skype. But since i am very rarely on skype we should meet in steam chat first (assuming you are also on steam).\n\nSo first report the KSP version, then we will see about a possible help chat session.\n\nWin8 may have something to do with this, i don\u0027t know, i never use and don\u0027t want to use 8. Tetryds, what version of windows are you using?"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-25T16:14:04Z","Content":"0.25 does not have this issue.\n\nI use w8.1 on my laptop\n\nI believe he is only switching the wrong bit or reseti g the config when messing with ingame settings or something like that.\n\nThe fix works flawlesly for me."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-04-29T21:34:19Z","Content":"Here\u0027s a screenshot of the 109C hexadecimal position:\n\n![LM3LW5v.png](http://i.imgur.com/LM3LW5v.png)\n\nAs you can see, it is already 00.\n\nIngame settings have Fullscreen ON and Background processing OFF."},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-29T22:18:05Z","Content":"As I mentioned on the other topic, the value is acually 1098.\n\nAlso, there is no way this value will be 00 by default on any unity game as their license forbids changing it through the game."},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-04-29T22:21:37Z","Content":"\u003E \n\u003E As I mentioned on the other topic, the value is acually 1098.\n\u003E Also, there is no way this value will be 00 by default on any unity game as their license forbids changing it through the game.\n\n1098 in 1.0, right?"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-29T22:31:04Z","Content":"\u003E \n\u003E 1098 in 1.0, right?\n\nYes, It should be 109C but from your picture its clearly 1098.\n\nThat is strange, but just search for a 02 00 00 00 01 right after the Kerbal Space Program string and it will be there, for both."},{"CreatedByName":"Chublord","CreatedById":142358,"CreatedDateTime":"2015-04-30T10:19:54Z","Content":"I am also having the same problem as Krakenfour, I am in Windows 8.1 on a laptop and have KSP 1.0 in Steam. I have tried the original solution, changing 000109C to a 0 from 1. I launched and there was no change (No \u0027blink\u0027 when alt-tabbing and ShadowPlay doesn\u0027t work) I made sure that all my in-game settings were correct, full screen ticked and background processing off. My ShadowPlay FPS counter comes up but when I hit the hotkey but no recording indicator showed up.\n\nThis is the unaltered file:\n\n![8](http://tinypic.com/r/2cqohed/8)\n\nThis is the change I made, the 1 to the 0 at 109C:\n\n![8](http://tinypic.com/r/k1rk8n/8)"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2015-04-30T10:31:55Z","Content":"\u003E \n\u003E I am also having the same problem as Krakenfour, I am in Windows 8.1 on a laptop and have KSP 1.0 in Steam. I have tried the original solution, changing 000109C to a 0 from 1. I launched and there was no change (No \u0027blink\u0027 when alt-tabbing and ShadowPlay doesn\u0027t work) I made sure that all my in-game settings were correct, full screen ticked and background processing off. My ShadowPlay FPS counter comes up but when I hit the hotkey but no recording indicator showed up.\n\u003E This is the unaltered file:\n\u003E \n\u003E [http://tinypic.com/r/2cqohed/8](http://tinypic.com/r/2cqohed/8)\n\u003E \n\u003E This is the change I made, the 1 to the 0 at 109C:\n\u003E \n\u003E [http://tinypic.com/r/k1rk8n/8](http://tinypic.com/r/k1rk8n/8)\n\nYou don\u0027t change anything from 00 to 01, you only change one 01 to 00.\n\nIf 109C is not 01 then you should not switch it, and should look for a 02 00 00 00 01 nearby, then change that 01 to a 00 (if it\u0027s not 109C it\u0027s 1098)."},{"CreatedByName":"jazzkutya","CreatedById":140559,"CreatedDateTime":"2015-04-30T22:29:16Z","Content":"\u003E \n\u003E Here\u0027s a screenshot of the 109C hexadecimal position:\n\u003E As you can see, it is already 00.\n\u003E \n\u003E Ingame settings have Fullscreen ON and Background processing OFF.\n\nThis is strange. KSP 1.0 should have a mainData file of size 91520 bytes and the setting on 109C and 0.90 has a mainData file of size 74904 byes and the setting on 1098."},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2015-05-01T03:18:56Z","Content":"Um ok this would be nice if someone would recommend a safe free hexeditor ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"FenrirWolf","CreatedById":72121,"CreatedDateTime":"2015-05-01T03:32:32Z","Content":"Could always use the ones featured in the screenshots posted to this very thread, such as HxD"},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2015-05-01T03:41:16Z","Content":"Lol ya probably Testing the new file now"},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2015-05-01T05:17:39Z","Content":"Works great Thanks for sharing. You totally need to get a hold of Claw and have him put in this thread.\n\n[http://forum.kerbalspaceprogram.com/threads/97285-KSP-v1-0-Stock-Bug-Fix-Modules-%28Release-v1-0-0-27-Apr-15%29-Misc-Utilities-%2818-Jan-15%29](https://forum.kerbalspaceprogram.com/threads/97285-KSP-v1-0-Stock-Bug-Fix-Modules-%28Release-v1-0-0-27-Apr-15%29-Misc-Utilities-%2818-Jan-15%29)"},{"CreatedByName":"Chublord","CreatedById":142358,"CreatedDateTime":"2015-05-01T09:49:16Z","Content":"Wow I\u0027m sorry, I posted the wrong images.\n\n*This* is the unaltered file:\n\n![2rffsdw.jpg](%5Bimg%5Dhttp%3A//i62.tinypic.com/2rffsdw.jpg)"},{"CreatedByName":"jazzkutya","CreatedById":140559,"CreatedDateTime":"2015-05-01T15:09:29Z","Content":"Everyone having problems editing the file with a hex editor, look at the first post. I have updated it with a patcher I made that does the same as the hexediting i have described in the first post."}]}