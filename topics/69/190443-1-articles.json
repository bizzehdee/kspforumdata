{"TopicId":190443,"ForumId":69,"TopicTitle":"Huge FPS drops when below 8km on Duna","CreatedByName":"Vortexian2","CreatedById":198142,"CreatedDateTime":"2019-12-18T02:52:50Z","PageNum":1,"Articles":[{"CreatedByName":"Vortexian2","CreatedById":198142,"CreatedDateTime":"2019-12-18T02:52:50Z","Content":"\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nFor some reason when as I enter duna\u0027s atmosphere\u00A0with a space plane (any space plane small and large) my fps starts to tank until I reach 8km from the surface then my computer just dies and my fps just drops to almost nothing and makes the game almost unplayable. I have tried this with task manager up and it doesn\u0027t seem to be a hardware problem.\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nI don\u0027t think it is mod related (maybe)\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nAlso I have landed on duna before in this via Apollo style craft and there was no lag it seems to only be caused by vessels with wing parts.\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nAlso this doesn\u0027t happen on kerbin or Laythe or anywhere else. It is just Duna where this happens.\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nPlease help!\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\n(I have posted this in the modded pc support too because I am not sure if this is mod related or not)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-12-18T05:02:52Z\u0022 title=\u002212/18/2019 05:02  AM\u0022 data-short=\u00224 yr\u0022\u003EDecember 18, 2019\u003C/time\u003E by Vortexian2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arco123","CreatedById":201477,"CreatedDateTime":"2019-12-18T13:21:18Z","Content":"\n\u003Cp\u003E\nWe need a log and a mod list. For the bug fixers and stuff. I don\u0027t know how to fix it...\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2019-12-18T13:34:48Z","Content":"\n\u003Cp\u003E\nIt\u0027s a wild guess, but it worths to try.\n\u003C/p\u003E\n\u003Cp\u003E\nWith the revamp of the planet textures, the VRAM usage increased. Since I play on a Potato since 1.4.0 (and now and then I play 1.2 and 1.3), I\u0027m seeing a regular drop out of the FPS on the same scene as KSP versions evolve, and in my rig I confirmed it\u0027s VRAM related - too much textures, and the GPU starts to steal CPU RAM for texture, and now we have both disputing the data bus.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you fly over a planet, KSP optimises the rendering using a thing called PQS. It\u0027s essentially a MIP for objects, telling the 3D engine to use a simpler version of the planet and statics when you are far and using a more.detailed one when you are near.\n\u003C/p\u003E\n\u003Cp\u003E\nSince your problem happens exactly at 8Km, I bet it\u0027s PQS related due the new Duna textures.\n\u003C/p\u003E\n\u003Cp\u003E\nI minimised my problem by lowering the Texture Quality. Set it to the lowest qualify (1/8th) and try it. If the problem disappears, raise the Texture Quality a bit, and try again. Stop when the image is.good enough for you, and rollback one setting if the problem happens again before that.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-12-18T17:16:16Z\u0022 title=\u002212/18/2019 05:16  PM\u0022 data-short=\u00224 yr\u0022\u003EDecember 18, 2019\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EI didn\u0026#039;t wrote that way. I swear! My mobile autocomplete is trolling me!\n\u003C/span\u003E\n"},{"CreatedByName":"Vortexian2","CreatedById":198142,"CreatedDateTime":"2019-12-18T14:31:10Z","Content":"\n\u003Cp\u003E\nI don\u0027t think it is PQS related since I have already set the texture quality to the lowest and it still happened and it happens below 8 km sea level not surface level. I should have said that first.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso the only\u00A0mods I have installed are some visual mods (Scatterer, Chatterer, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, and SVE) and some ease of life mods (mechjeb, Kerbal Engineer,\u00A0Joint Reinforcement, Alarm Clock, and Precise Maneuver Node).\n\u003C/p\u003E\n\u003Cp\u003E\nI have already tried without all visual mods and there was no difference.\n\u003C/p\u003E\n"},{"CreatedByName":"Vortexian2","CreatedById":198142,"CreatedDateTime":"2019-12-18T14:47:49Z","Content":"\n\u003Cp\u003E\nAlso I am in 1.7.3 not 1.8.\n\u003C/p\u003E\n"},{"CreatedByName":"Fraktal","CreatedById":184990,"CreatedDateTime":"2019-12-18T16:26:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223718643\u0022 data-ipsquote-contentid=\u0022190443\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221576680469\u0022 data-ipsquote-userid=\u0022198142\u0022 data-ipsquote-username=\u0022Vortexian2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Vortexian2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso I am in 1.7.3 not 1.8.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou may want to consider upgrading. 1.8 includes some major performance improvements.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2019-12-18T17:25:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223718665\u0022 data-ipsquote-contentid=\u0022190443\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221576686395\u0022 data-ipsquote-userid=\u0022184990\u0022 data-ipsquote-username=\u0022Fraktal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, Fraktal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou may want to consider upgrading. 1.8 includes some major performance improvements.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs well some regressions and performance degradations.\n\u003C/p\u003E\n\u003Cp\u003E\nI have to play using Textures at 1/8th, and this setting makes most icons unreadable. (and even checkboxes! I don\u0027t when a checkbox is checked!!!) Even some startup screens are terribly pixelated on my old rig.\n\u003C/p\u003E\n\u003Cp\u003E\nSome parts are not behaving as I\u0027m used, and so some crafts are not flying anymore. All the performance enhancements (and yes, it\u0027s better on performance!) rendered useless for my current games - I\u0027m waiting 1.8.2 to figure out if I\u0027m stuck on 1.7.3 until I\u0027m bored with my current ganes\u00A0and decide to start new ones. Since I also upgraded my terribly old MacPotato to a slightly less old one, 1.7.3 is now pretty decent\u00A0(and the performance gain was bigger than using 1.8 on the old rig).\n\u003C/p\u003E\n\u003Cp\u003E\nBut, of course, your mileage may vary.\u00A0I suggest to install KSP1.8.1 separately from your main games and give it a try without mods first, to feel the thing.\n\u003C/p\u003E\n"},{"CreatedByName":"Vortexian2","CreatedById":198142,"CreatedDateTime":"2019-12-19T00:19:16Z","Content":"\n\u003Cp\u003E\nI don\u0027t know about Macs but I would think it would be better than 5 fps on duna in 1.7.3 and I am in 1.7.3 still because I am working on a career save and I don\u0027t know if the save would work on 1.8\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2019-12-19T01:26:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223718824\u0022 data-ipsquote-contentid=\u0022190443\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221576714756\u0022 data-ipsquote-userid=\u0022198142\u0022 data-ipsquote-username=\u0022Vortexian2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Vortexian2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t know about Macs but I would think it would be better than 5 fps on duna in 1.7.3 and I am in 1.7.3 still because I am working on a career save and I don\u0027t know if the save would work on 1.8\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBackup everything, update to 1.8 and give it a try without too much expectations There\u0027re a lot of nuisances and only a few really bad bugs, but the performance improvements are real - the weakest feature on that Old Potato is the CPU - it was never that fast, but since the security updates from Apple about that Spectre and Meltdown tragedies, my FPS hit the ground.\n\u003C/p\u003E\n\u003Cp\u003E\nInteresting enough, KSP 1.3 and older still perform the same. My guess is that as KSP started to explore multi threading more aggressively, that patches from Apple started to bite (as they mitigated the problem by hindering the hyper threading, what rendered my machine with half the workings horses).\n\u003C/p\u003E\n\u003Cp\u003E\nThe new Physics engine is saving CPU from other places, giving me back some of the performance I lost on that patches. I think I\u0027m getting 3 or 4 additional frames per second - and since I was getting about 5 FPS too, that effectively almost doubled my FPS! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Eyou may prefer to wait KSP 1.8.2 however, it\u0027s rumoured that Squad will release a new bug fix for 1.8 before going to 1.9.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-12-19T01:30:02Z\u0022 title=\u002212/19/2019 01:30  AM\u0022 data-short=\u00224 yr\u0022\u003EDecember 19, 2019\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EHit \u0026quot;Save\u0026quot; too soon.\n\u003C/span\u003E\n"},{"CreatedByName":"Vortexian2","CreatedById":198142,"CreatedDateTime":"2019-12-19T18:32:02Z","Content":"\n\u003Cp\u003E\nQuick update! I was going to try 1.8 like how Lisias said but I thought I would try something first. Some more information first, this KSP install I am using is a copy of an old 1.7.3 Steam version which after copied I modded. So, I thought I reinstall my non modded\u00A0steam version, roll it back to 1.7.3, copy it, install all of my mods from the other one via \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003Eckan\u003C/abbr\u003E, move the save over, and try it then. Surprise! This somehow fixed the issue but for some reason my about half of my mods, even though installed just decided to not work. Mods like Mechjeb, distant object enhancements, among others. I think it is because of some save specific data the mods save in them selves in the game data folder as I did not copy them from there to my new install I just downloaded them from \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003Eckan\u003C/abbr\u003E again. I will try doing that next but I don\u0027t know if that is the issue if I could get some clarification about this first from you guys it would be great! (you can tell I am excited because of exclamation marks and me writing like some one else)\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo if some one can help me fix my mods or can fix my other install via the new information it would go a long way!\n\u003C/p\u003E\n\u003Cp\u003E\nAlso I still don\u0027t think is mod related since I have already tried uninstalling most of my mods in my original install and I still went down to 5 fps.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think it is install related. If anyone can figure out this problem and can fix it I would give them 20 dollars if I could.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Vortexian2","CreatedById":198142,"CreatedDateTime":"2019-12-19T21:30:37Z","Content":"\n\u003Cp\u003E\nI just did some tests and apparently I forgot to test uninstalling real plume on my old install and apparently that fixed the issue. I would really like to use realplume though and uninstalling it apparently disabled my hotkeys for all engines aside from the rapiers.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, I am taking this discussion to the realplume forum.\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022188015\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7496583347\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/188033-ksp181-realplume-stock-v301-08nov19/page/8/\u0026amp;do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSorry for the inconvenience and thank you for all your help.\n\u003C/p\u003E\n"}]}