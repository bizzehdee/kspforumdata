{"TopicId":126480,"ForumId":69,"TopicTitle":"Run test button a no-op when two contracts for that part are active","CreatedByName":"quyxkh","CreatedById":78547,"CreatedDateTime":"2015-11-26T01:51:19Z","PageNum":1,"Articles":[{"CreatedByName":"quyxkh","CreatedById":78547,"CreatedDateTime":"2015-11-26T01:51:19Z","Content":"\nKSP Version: Kerbal Space Program - 1.0.5.1028 (WindowsPlayer) Steam\u003Cbr\u003E\nWhat Happens: The \u0022Run Test\u0022 button on the heat shield is a no-op\u003Cbr\u003E\nMods / Add-Ons: none\u003Cbr\u003E\n\u003Cbr\u003E\nSteps to Replicate: load the included save. Run test on the heatshield. Quickload. Run test on the heatshield.\u003Cbr\u003E\n\u003Cbr\u003E\nResult: The persistent state works. The quicksaved state doesn\u0026#39;t.\u003Cbr\u003E\n\u003Cbr\u003E\nFixes/Workarounds: Edit out the other contract for heat shield testing.\u003Cbr\u003E\n\u003Cbr\u003E\nOther Notes/Pictures/Log Files: [URL=\u0022https://drive.google.com/file/d/0B3BGQdoSFUWMaUR2YW5PSW1jX0U/view?usp=sharing\u0022]KSP.log, saves/heatshield*/*[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nPaste of output_log.txt:\u003Cbr\u003E\n\u003Cbr\u003E\n[CODE]Initialize engine version: 4.6.4f1 (99f88340878d)\u003Cbr\u003E\nGfxDevice: creating device client; threaded=1\u003Cbr\u003E\nDirect3D:\u003Cbr\u003E\nVersion: Direct3D 9.0c [aticfx32.dll 8.17.10.1404]\u003Cbr\u003E\nRenderer: AMD Radeon HD 6900 Series\u003Cbr\u003E\nVendor: ATI\u003Cbr\u003E\nVRAM: 2032 MB (via DXGI)\u003Cbr\u003E\nCaps: Shader=30 DepthRT=1 NativeDepth=1 NativeShadow=1 DF16=1 INTZ=1 RAWZ=0 NULL=1 RESZ=1 SlowINTZ=1\u003Cbr\u003E\nBegin MonoManager ReloadAssembly\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;UnityEngine.dll (this message is harmless)\u003Cbr\u003E\nLoading E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;UnityEngine.dll into Unity Child Domain\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;Assembly-CSharp-firstpass.dll (this message is harmless)\u003Cbr\u003E\nLoading E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;Assembly-CSharp-firstpass.dll into Unity Child Domain\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;Assembly-CSharp.dll (this message is harmless)\u003Cbr\u003E\nLoading E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;Assembly-CSharp.dll into Unity Child Domain\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;UnityEngine.UI.dll (this message is harmless)\u003Cbr\u003E\nLoading E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;UnityEngine.UI.dll into Unity Child Domain\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;ICSharpCode.SharpZipLib.dll (this message is harmless)\u003Cbr\u003E\nLoading E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;ICSharpCode.SharpZipLib.dll into Unity Child Domain\u003Cbr\u003E\n- Completed reload, in 0.208 seconds\u003Cbr\u003E\n\u0026lt;RI\u0026gt; Initializing input.\u003Cbr\u003E\n\u003Cbr\u003E\n\u0026lt;RI\u0026gt; Input initialized.\u003Cbr\u003E\n\u003Cbr\u003E\ndesktop: 1920x1080 60Hz; virtual: 1920x1080 at 0,0\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;System.Core.dll (this message is harmless)\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;System.dll (this message is harmless)\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;System.Xml.dll (this message is harmless)\u003Cbr\u003E\nPlatform assembly: E:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;Launcher_Data\u0026#092;Managed\u0026#092;Mono.Security.dll (this message is harmless)\u003Cbr\u003E\nLocal BuildID: 1028\u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\n\u003Cbr\u003E\nBackup file overwritten\u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\n\u003Cbr\u003E\nAllowed Start game\u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\n\u003Cbr\u003E\nWindows 8.1 (6.3.10586) 64bit\u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\n\u003Cbr\u003E\nExecPath = E:/Steam/steamapps/common/Kerbal Space Program/Launcher_Data\u0026#092;../KSP.exe\u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\n\u003Cbr\u003E\nLoading Settings...\u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\n\u003Cbr\u003E\nArguments: \u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\n\u003Cbr\u003E\nStats sent. Value: DISABLED\u003Cbr\u003E\n\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)[/CODE]\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-26T02:02:51Z\u0022 title=\u002211/26/2015 02:02  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 26, 2015\u003C/time\u003E by quyxkh\u003C/strong\u003E\n\u003Cbr\u003EAdded output_log.txt paste\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-11-26T17:28:01Z","Content":"\nSorry quyxkh but I cannot reproduce this with the save and steps you provided, the \u0022run test\u0022 button is available again after I quickload.\u003Cbr\u003E\n\u003Cbr\u003E\nAlso, there is only one contract to test the heat shield in the save files.\u003Cbr\u003E\n\u003Cbr\u003E\nMaybe some one else can reproduce this and figure out what you are seeing.\n"},{"CreatedByName":"quyxkh","CreatedById":78547,"CreatedDateTime":"2015-11-27T01:13:25Z","Content":"\nJust to be sure: did you try clicking that button? I start the game, hit fly, hold F9, click the run test button, it stays there and does nothing.\u003Cbr\u003E\n\u003Cbr\u003E\nI just downloaded the archive, extracted it into a completely new install, tried it, it happens.\u003Cbr\u003E\n\u003Cbr\u003E\nI see the two contracts are for different heat shields, but after quickload and recover, they\u0026#39;re both in mission control.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-27T01:15:19Z\u0022 title=\u002211/27/2015 01:15  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 27, 2015\u003C/time\u003E by quyxkh\u003C/strong\u003E\n\u003Cbr\u003Ere two contracts\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-12-02T17:17:11Z","Content":"\n\u003Cp\u003E\nSorry for the delay in answering this, forum move and all that.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYes I clicked the button after saving then again after reloading the quicksave, but I\u0027m not seeing the issue you mention.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I do see is one heatshield contract in the persistent.sfs (the file I first looked at) and two heatshield contracts in the quicksave, one to test a 1.25m heatshield at 43km to 53km and between 1,940m/s and 2,360m/s, the other contract is to test a 2.5m heatshield while landed, this is two different contracts for two different parts.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut you only have a single 1.25m heatshield on your craft.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo running the test on the launchpad will result in no activity because it\u0027s the wrong heatshield.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, your craft is incapable of achieving the required speed and altitude for the 1.25m heatshield contract, so in neither case would I expect the \u0022run test\u0022 button to actually have an effect.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat is interesting here is the lack of a prototype 2.5m heatshield which is usually provided for any test contract when the player doesn\u0027t already have that part, and you have a prototype 1.25m heatshield despite having already researched it, but without knowing more about the history of this save and what occurred when the contracts were accepted there\u0027s not really anything to point to a cause or solution.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nResearching the \u0022Landing\u0022 node to get the 2.5m heatshield allows me to complete that contract, as for the other all I can suggest is moar boosters!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/viHd7/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"quyxkh","CreatedById":78547,"CreatedDateTime":"2015-12-03T20:26:35Z","Content":"\n\u003Cp\u003E\nOkay, thanks loads for the detailed response. \u00A0While trying to understand how I\u0027d missed something _that_ fundamental I discovered that when I launch KSP via Steam, the save doesn\u0027t show up on the resume list. That jogged my memory.\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s what happened the first time,\u00A0and me thinking it was because it was failing some check, I\u0027d noticed I\u0027d deleted the heatshield1 contract and left a heatshield2 contract. . Thinking that was a serial number sequence\u00A0it didn\u0027t like,\u00A0I changed them to ones and relaunched KSP . . . from my desktop KSP.exe icon (I set it to grab\u00A0ctrl-alt-K)\u00A0. \u00A0Now the save showed up, reinforcing my serial-number belief, and I saw the 1.25 contract working in persistent and not working in quicksaved without noticing the conditions had switched.\n\u003C/p\u003E\n\u003Cp\u003E\nWhy Steam won\u0027t show the save I don\u0027t know. \u00A0I tried renaming the directory to have no spaces, and changing the internal title to match, that didn\u0027t do it. \u00A0This steam/.exe difference I don\u0027t care about, I only mention it because of the part it played here. \u00A0Thanks again for the really excellent response.\n\u003C/p\u003E\n"}]}