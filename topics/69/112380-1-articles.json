{"TopicId":112380,"ForumId":69,"TopicTitle":"KSP on Linux Live USB","CreatedByName":"1of6Billion","CreatedById":46191,"CreatedDateTime":"2015-06-08T18:28:28Z","PageNum":1,"Articles":[{"CreatedByName":"1of6Billion","CreatedById":46191,"CreatedDateTime":"2015-06-08T18:28:28Z","Content":"Would it be possible to run (64bit!) KSP off a Live Linux USB?\n\nIf yes, could someone find the time to post (or link me to) a tutorial on \\*how\\* to make one?? ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-06-08T18:33:04Z","Content":"Should be possible but you\u0027d have to roll your own custom distro with the proprietary drivers and a script to detect your card.\n\nAnother option would be to install to a flash drive and update it with the gfx driver.\n\n[**Pendrivelinux**](https://www.pendrivelinux.com/) has a lot of info on setting up Linux on a USB stick, and Ubuntugeek has [**this article**](http://www.ubuntugeek.com/creating-custom-ubuntu-live-cd-with-remastersys.html) on making a custom distro."},{"CreatedByName":"1of6Billion","CreatedById":46191,"CreatedDateTime":"2015-06-08T19:10:19Z","Content":"Thanks for that. However, I am a complete n00b on the Linux front. Tried a few distros, but could not even install a few programs. The links you provided are more or less chinese to me. Sorry. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-06-08T19:16:20Z","Content":"Best thing to do is play with a virtual machine, try installing something and messing with it, see if you can break it and then try fixing it again ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nUbuntu is a good place to start for a Linux beginner, and installing software is not too hard as there\u0027s a built-in software store, though Ubuntu is over the top for a KSP live cd.\n\nThe Xubuntu guys recently released Xubuntu Core, which is just the desktop and no programs, it\u0027s smaller, light on resources and could be loaded with only what KSP needs.\n\nThere\u0027s tons of resources online to help with almost any issue you might run into, usually a google search for whatever you need will turn something up ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"1of6Billion","CreatedById":46191,"CreatedDateTime":"2015-06-09T05:35:36Z","Content":"So, I should get Xubuntu Core, find my Graphics card\u0027s drivers and Linux-KSP and I am good to go? \n\nI\u0027ll give it a try. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2015-06-09T15:12:32Z","Content":"Regarding installation: You should be able to install Linux to a USB drive just the same way as installing it to a HDD. For Linux both are just block devices, and modern BIOS (but not EFI) treats them just as HDDs. So, I\u0027d take two USB drives (or one DVD and one USB drive), where one of them will be made into an installation medium, and the other will be the target of the installation. There are several things to look out for though.\n\n- If your computer is new enough to use EFI firmware, you have to be careful about which firmware mode you\u0027re using, EFI or BIOS. For a bootable USB drive I\u0027d use BIOS mode. The reason is, that for booting in BIOS mode the firmware always reads the drives boot sector and if there is bootable code there, it will allow you to boot from it, while for EFI there exists a list of bootable entries within the firmware\u0027s own storage in addition. While I don\u0027t think that an additional boot entry in EFI would really create troubles, using BIOS mode is the safer solution, as this way the computer\u0027s EFI configuration remains untouched. Otherwise a boot entry for Linux would be added to the EFI configuration, and I\u0027m not certain how well that\u0027d work if your USB drive isn\u0027t plugged. For most Linux installers it depends on the way the installation medium is booted, whether or not it\u0027ll use EFI mode. So, to be on the safe side boot the installer in BIOS/legacy/(anything that isn\u0027t EFI) mode. If your computer no longer supports BIOS mode, you might have to tell the Linux installer to use the main HDD\u0027s EFI partition, but I\u0027m honestly not sure about this.\n- You\u0027ll want full control over partitioning and bootloader installation. There\u0027s nothing worse than accidentally messing up your main HDD because the Ubuntu an oversimplified installer thinks it\u0027s smarter than you. If there still were something as an Alternate installer for Ubuntu I\u0027d advice to use that, but sadly support for it was dropped in 2012, so you\u0027re either stuck with using a distribution not based on Ubuntu, or be **very careful** to select the **manual partitioning** option (\u0022something else\u0022) on [this screen](https://assets.ubuntu.com/sites/ubuntu/latest/u/img/download/desktop/install-ubuntu-desktop/image-installdesktoplongtermsupport-4.jpg), and to select the USB drive for bootloader installation on the [partitioning screen](http://ubuntuhandbook.org/wp-content/uploads/2013/06/Ubuntu-create-partition.png) (which will likely **NOT be sda** if you haven\u0027t unplugged your HDD - on Linux hard drives are nowadays named /dev/sd[letter][number], where [letter] denotes the drive, and [number] denotes partitions.).\n- While partitioning create the required partitions on the USB drive. For a simple setup it\u0027s probably enough to just make one big partition with \u0022/\u0022 as mount point (that\u0027s no way optimal, but read on). I wouldn\u0027t create a swap partition on the USB drive, but rather later place a swap file somewhere on the HDD. If you want to learn about partitioning for Linux, I can recommend [Appendix C](https://www.debian.org/releases/stable/amd64/apc.html) of the [Debian installation guide](https://www.debian.org/releases/stable/installmanual). (Or [Appendix C](https://help.ubuntu.com/lts/installation-guide/amd64/apc.html) of the [Ubuntu installation guide](https://help.ubuntu.com/lts/installation-guide/amd64/index.html), which is obviously exactly the same, except that they replaced the word \u0022Debian\u0022 by \u0022Ubuntu\u0022. Don\u0027t waste time on reading the rest of the Ubuntu installation guide, it\u0027s horribly outdated. For instance the debian-installer has been replaced by ubiquity in 2006 or so...)\n- Before writing your partitions to disk, make sure that they are going to be on the USB drive, and that the bootloader is going to end up in the MBR of the disk containing the /boot partition. So, if your /boot partition is /dev/sdb1, the bootloader should go to the MBR of /dev/sdb. If your /boot partition is going to be /dev/sdc4, then the bootloader should go to /dev/sdc. If you haven\u0027t made a separate /boot partition, but just a / partition which for instance could be named /dev/sdb1, the the bootloader goes to /dev/sdb.\n\nSo, here is what I\u0027d do, step by step. Don\u0027t blame me if anything goes wrong, this is just how I think it\u0027s done, but I haven\u0027t tried this myself.\n\n1. First: Backup all your important data, or do the installation to USB at a computer that doesn\u0027t have anything important on it.\n2. Second: Seriously, create backups. While of course there will be no data lost if the installation is done correctly, it\u0027s always possible that one hits the wrong button and accidentally formats the wrong drive.\n3. Make sure you have a Windows installation medium around. If you accidentally overwrite the bootsector of your HDD or mess up the EFI config it will help you make windows bootable again (although I\u0027ll not be able to help you with this, as I\u0027m no expert on Windows).\n4. Next, get an installation image of the distribution you want to use. [Xubuntu](http://xubuntu.org/getxubuntu/) is a good compromise between speed and usability and it\u0027s easy to install, so let\u0027s get that one. With \\*buntu it\u0027s nearly always the best to use LTS versions, as versions in between just get 9 months of support and are usually less stable, so I\u0027d download Xubuntu 14.04 LTS 64bit.\n5. Burn it to a DVD, if your PC has an optical drive. It\u0027s still the easiest way to use it. If not, create a [bootable installer USB drive](http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-windows).\n6. Consider unplugging your HDD. If it isn\u0027t plugged, it can\u0027t be accidentally formated.\n7. Boot from the just created installation medium. If your computer supports EFI and legacy/BIOS mode isn\u0027t disabled in the EFI config (if it is, enable it...) it should show you two boot entries: One with EFI (or UEFI, or similar), and one without, or one with BIOS, legacy, or similar, and one without anything. In the first case, select the entry that isn\u0027t EFI, in the second, select the BIOS/legacy entry. Boot to the desktop (\u0022Try Xubuntu without installing\u0022).\n8. Now let\u0027s find out the device node for the USB drive. Open a terminal window (there are other ways, but that is probably the most simple)\n9. Plug the target USB drive to a free USB port.\n10. Run \u0022dmesg | tail\u0022. This command will show you the last few lines (tail) of the kernel output (dmesg), the | character means: take output of left command as input for right command.\n11. It should show a line like \u0022[12345.67890] sd 11:0:0:0: [sdb] Attached SCSI removable disk\u0022. You\u0027ll care only about the part where in my example it sais \u0022sdb\u0022. That\u0027s the device node our just plugged USB drive got. We\u0027ll try to only edit this one drive. Of course in your case it can be any other sd\\* name, depending on how many drives are currently connected. (As said, sda is the first HDD, sdb the second, and so on, while sda1 is the first primary partition on sda, sda2 the second primary, sda5 the first logical and so on.)\n12. Now, start the installer (there\u0027s an icon on the desktop).\n13. On the screen that asks about [partitioning](https://assets.ubuntu.com/sites/ubuntu/latest/u/img/download/desktop/install-ubuntu-desktop/image-installdesktoplongtermsupport-4.jpg), select \u0022Something Else\u0022.\n14. You\u0027ll now see a list of all connected drives (which should include usb drives). Only edit partitions on the drive determined in step 11. You can also open the dropdown menu for bootloader installation, which will show you the drive names, just to be sure that you\u0027re editing the right drive. I\u0027d delete all partitions on the USB (there should only be one, or none at all) by selecting them and pressing the minus button. If there are no partitions on it, select the drive and click \u0022New Partition Table\u0022. If it asks you if you wang GPT or MBR **stop**. You\u0027re using EFI, not BIOS mode, if this question pops up. Back to step 7. Or continue, and hope that EFI is smart enough not to break when you remove the USB (it very likely is smart enough, I\u0027m just paranoid.)\n15. Now you should see the drive name, with \u0022free space\u0022 below it. Select the free space.  \nPartitioning depends, whether or not you\u0027re installing to a USB pendrive, or a USB HDD.  \n\n    - On a USB HDD it might make sense to create a swap partition. Think of it as a warranty: If the RAM gets full, this space can be used to remove unneeded data from RAM and store it until it is needed again.  \nAs on HDDs the innermost part is the fastest, and swap should be fast, let\u0027s first create a swap partition by pressing the small plus button. At the \u0022use as\u0022 drop down, choos swap space. Choose to put it at the beginning of the free space. Ask five Linux users for optimal swap partition size, and you\u0027ll get five different answers, but in my opinion twice the size of your RAM is a good number. Still, if that\u0027s too much for your taste, half your RAM should be fine as well.\n    - Pendrives are painfully slow. Putting a swap partition on them will likely have a negative impact on performance. Nevertheless this means that if RAM gets full, programs will be force-closed.\n\nFor this step by step guide we\u0027ll create just one data partition. As written above, [appendix C](https://help.ubuntu.com/lts/installation-guide/amd64/apc.html) of the Debian manual explains partitioning for Linux in more details, but as this is a single purpose KSP stick, separate partitions make little sense. We\u0027ll use all available memory. Create a primary partition in the free space, beginning or end doesn\u0027t matter. As mountpoint select \u0022/\u0022 from the dropdown menu. File system is a good question. Ext2 is faster on USB, but Ext4 gives better data integrity. I\u0027d use Ext4. \n\n[\\*]Check the drop down menu for bootloader installation. You\u0027ll want it in the MBR of the USB drive. So, if it said \u0022sdb\u0022 in step 11, and the dropdown list also sais that sdb is the USB drive, choose \u0022sdb\u0022. Choose the USB drive itself, not the partition just created. \n\n[\\*]When pressing the Install Now button, the installer will complain about the lack of swap space if you didn\u0027t create a swap partition. Let\u0027s ignore this for now. You can still create a Swap file on your HDD later if you want to. \n\n[\\*]The system will now be installed to the USB drive. This will take some time (or, on pendrives a long time, as most pendrives are rather slow when writing). \n\n[\\*]While installing, the installer will ask you to choose the default keyboard layout, your timezone, and will allow you to create a user. \n\n[\\*]When the installation is finished, just reboot. You should now be able to tell your computer to boot off the USB. \n\nRegarding the installation of KSP on Linux, please see the [Linux thread](https://forum.kerbalspaceprogram.com/threads/92231).\n\nAn even safer way to install Linux to a USB drive is to use a virtual machine, as this will not expose your EFI and HDD. I\u0027m currently installing Xubuntu to a USB drive this way, just for fun and to see if it works. For this of course one has to pass through access to the USB device the system should be installed to, and then boot the VM from the installation .iso. As I don\u0027t know how to use any Windows VM software, I sadly cannot give a step by step guide here, but I\u0027m sure you get my point. I\u0027ll report once that\u0027s finished if it worked.\n\nEdit: It indeed works to install Xubuntu to a real USB drive from within a virtual machine, by passing through direct access to the USB device.\n\n**Edited \u003Ctime datetime=\u00222015-06-10T09:33:19Z\u0022 title=\u002206/10/2015 09:33  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 10, 2015\u003C/time\u003E by soulsource**"},{"CreatedByName":"1of6Billion","CreatedById":46191,"CreatedDateTime":"2015-06-10T07:01:54Z","Content":"WOW ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI think I\u0027ll have to take a day off soon. Many thanks.\n\nThere \\*will\\* be questions in a few days ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"}]}