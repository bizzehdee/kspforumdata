{"TopicId":138755,"ForumId":69,"TopicTitle":"How do I debug crashes?","CreatedByName":"dlmarti","CreatedById":70037,"CreatedDateTime":"2016-05-02T15:23:44Z","PageNum":1,"Articles":[{"CreatedByName":"dlmarti","CreatedById":70037,"CreatedDateTime":"2016-05-02T15:23:44Z","Content":"\n\u003Cp\u003E\nI am a long time KSP player, playing exclusively on Linux.\n\u003C/p\u003E\n\u003Cp\u003E\nI have watched other players, on the forums, struggle with crashes. \u00A0I however have never experienced any, not in years of playing. \u00A0At least none do to the game. \u00A0I have had crashes because of mods.\n\u003C/p\u003E\n\u003Cp\u003E\nI am struck with new territory; \u00A0 While I love the new 1.1, I am experiencing a lot of crashes and I am unsure of how to debug/report them.\n\u003C/p\u003E\n\u003Cp\u003E\nAll\u00A0of my crashes occur in the VAB, just leaving the VAB, or at first stage. \u00A0I have experience no other crashes.\n\u003C/p\u003E\n\u003Cp\u003E\nThe crashes either occur with a mem free error (5% of the time), or with no error at all (95% of the time).\n\u003C/p\u003E\n\u003Cp\u003E\nIs there a mode that I could put the game into that would allow me to see the crash errors, so that I can report them?\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2016-05-02T15:45:49Z","Content":"\n\u003Cp\u003E\nMoving to Technical Support.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a log file that gives exactly what you want.\u00A0 It\u0027s called \u003Cstrong\u003Eoutput_log.txt\u003C/strong\u003E, and is located in your KSP_data or KSP_x64_data folder, depending on which KSP flavor you\u0027re running.\u00A0 This will include the crash details.\n\u003C/p\u003E\n\u003Cp\u003E\nAside from that, there\u0027s also another log file that is somewhat less useful (because it generally doesn\u0027t have the crash details), but might be helpful if there are any pre-crash symptoms that could give a clue to the problem.\u00A0 This is the KSP.log file from the main KSP installation directory.\u00A0 When you have an actual game-crash-to-desktop, it typically doesn\u0027t catch the actual crash, but it may have some interesting items leading up to the crash, so it may sometimes be useful.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:10px;\u0022\u003E(The \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83342-105-kerbal-construction-time-132-mar-7-2016-unrapid-planned-assembly/#comment-1370880\u0022 rel=\u0022\u0022\u003Emod thread for Kerbal Construction Time\u003C/a\u003E has a pretty good discussion of crash output and where to find it; skip down to the \u0022Reporting bugs\u0022 section.)\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"dlmarti","CreatedById":70037,"CreatedDateTime":"2016-05-02T15:59:51Z","Content":"\n\u003Cp\u003E\nThere is no\u00A0file called output_log.txt anywhere in my file tree.\n\u003C/p\u003E\n\u003Cp\u003E\nI was already aware of the KSP.log, it does not show the errors.\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-05-02T18:09:46Z","Content":"\n\u003Cp\u003E\nOn linux the file is called player.log and is in an odd place. See the how to get support sticky thread in this subforum for details of where to find it.\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-05-02T18:37:35Z","Content":"\n\u003Cp\u003E\nOn Linux it\u0027s the Player.log, which can be found in the /home/username/.config/unity3d/Squad/Kerbal Space Program/ folder.\n\u003C/p\u003E\n\u003Cp\u003E\nIt often has some extra information such as stack traces when KSP crashes, though these are not usually very useful as they show memory addresses, rather than useful error messages, like this.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nNative stacktrace:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP_Data/Mono/x86_64/libmono.so(\u002B0x91772) [0x7f35981cf772]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP_Data/Mono/x86_64/libmono.so(\u002B0x348a5) [0x7f35981728a5]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/lib/x86_64-linux-gnu/libpthread.so.0(\u002B0x113d0) [0x7f359b35f3d0]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP.x86_64() [0xd2b0d8]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP.x86_64() [0x84b2cf]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP.x86_64() [0x84b069]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP.x86_64() [0x84bb19]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP.x86_64() [0x84bcc8]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP.x86_64() [0x84bde5]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/home/user/Games/Kerbal_Space_Program/ksp/KSP.x86_64() [0x84d983]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/lib/x86_64-linux-gnu/libpthread.so.0(\u002B0x76fa) [0x7f359b3556fa]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/lib/x86_64-linux-gnu/libc.so.6(clone\u002B0x6d) [0x7f3599bdcb5d]\n\u003C/p\u003E\n\u003Cp\u003E\nDebug info from gdb:\n\u003C/p\u003E\n\u003Cp\u003E\nCould not attach to process.\u00A0 If your uid matches the uid of the target\u003Cbr\u003E\nprocess, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try\u003Cbr\u003E\nagain as the root user.\u00A0 For more details, see /etc/sysctl.d/10-ptrace.conf\u003Cbr\u003E\nptrace: Operation not permitted.\u003Cbr\u003E\nNo threads.\n\u003C/p\u003E\n\u003Cp\u003E\n=================================================================\u003Cbr\u003E\nGot a SIGSEGV while executing native code. This usually indicates\u003Cbr\u003E\na fatal error in the mono runtime or one of the native libraries\u003Cbr\u003E\nused by your application.\u003Cbr\u003E\n=================================================================\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nMost of the crashes in Linux, and I suspect on OSX and Windows, seem to be in the custom mono library included with all Unity games, and this is almost always shown as the problem file in the stack trace.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Hodari","CreatedById":157578,"CreatedDateTime":"2016-05-02T21:32:50Z","Content":"\n\u003Cp\u003E\nLooking through my KSP.log file, I noticed these errors:\n\u003C/p\u003E\n\u003Cp\u003E\n[LOG 16:15:10.101] Load(Model): Squad/Parts/Misc/PotatoRoid/PotatoRoid\u003Cbr\u003E\n[ERR 16:15:10.112] ConvexHullBuilder: convex hull has more than 255 polygons!\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 16:15:10.114] Gu::ConvexMesh::loadConvexHull: convex hull init failed! Try to use the PxConvexFlag::eINFLATE_CONVEX flag. (see PxToolkit::createConvexMeshSafe)\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 16:15:10.125] ConvexHullBuilder: convex hull has more than 255 polygons!\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 16:15:10.126] Gu::ConvexMesh::loadConvexHull: convex hull init failed! Try to use the PxConvexFlag::eINFLATE_CONVEX flag. (see PxToolkit::createConvexMeshSafe)\n\u003C/p\u003E\n\u003Cp\u003E\n---\n\u003C/p\u003E\n\u003Cp\u003E\n[LOG 16:15:10.911] Load(Model): Squad/Parts/Utility/landingLegLT-5/model\u003Cbr\u003E\n[ERR 16:15:10.917] WheelCollider requires an attached Rigidbody to function.\n\u003C/p\u003E\n\u003Cp\u003E\n[ERR 16:15:10.918] WheelCollider requires an attached Rigidbody to function.\n\u003C/p\u003E\n\u003Cp\u003E\nand similar ones for all the other wheels and landing legs\u003Cbr\u003E\n---\n\u003C/p\u003E\n\u003Cp\u003E\noutput_log shows this several times:\n\u003C/p\u003E\n\u003Cp\u003E\nThe referenced script on this Behaviour is missing!\u003Cbr\u003E\n\u00A0\u003Cbr\u003E\n(Filename:\u00A0 Line: 1649)\n\u003C/p\u003E\n\u003Cp\u003E\n----------\n\u003C/p\u003E\n\u003Cp\u003E\nNearly all of my crashes have been while in the VAB, when I try to remove a part from my rocket.\u00A0 For mods, I started off using just KER, earlier today I added RSS and SMURFF, then removed KER after noticing it apparently hasn\u0027t been updated for 1.1.2 yet.\u00A0 Had the same issues in 1.1.0 and 1.1.1 as well though and with all of the above combinations of mods.\u00A0 Not sure if any of that helps at all\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-05-02T23:17:45Z","Content":"\n\u003Cp\u003E\nNone of those errors you show are a worry.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\n[ERR 16:15:10.112] ConvexHullBuilder: convex hull has more than 255 polygons!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis one occurs because the roid doesn\u0027t have its own collider, one is made from the roids mesh after loading, but because the roid has more than 255 polygons Unity complains.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\n[ERR 16:15:10.917] WheelCollider requires an attached Rigidbody to function.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUntil you put a wheel on another part it doesn\u0027t have a rigidbody.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nThe referenced script on this Behaviour is missing!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSome scripts aren\u0027t initialized until you\u0027re in the flight scene, so this can be ignored.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBugs were occurring with KER during pre-release, which vanished when KER was removed, I\u0027d be wary of using KER too much.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I\u0027ve had crashes too without KER, sometimes in the VAB/SPH, it can be when placing parts or just idling, but most of my crashes are during scene change, with some in the flight scene.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd every time I get a stack trace.\n\u003C/p\u003E\n"},{"CreatedByName":"Hodari","CreatedById":157578,"CreatedDateTime":"2016-05-03T05:43:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222556966\u0022 data-ipsquote-contentid=\u0022138755\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462231065\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNone of those errors you show are a worry.\n\u003C/p\u003E\n\u003Cp\u003E\nThis one occurs because the roid doesn\u0027t have its own collider, one is made from the roids mesh after loading, but because the roid has more than 255 polygons Unity complains.\n\u003C/p\u003E\n\u003Cp\u003E\nUntil you put a wheel on another part it doesn\u0027t have a rigidbody.\n\u003C/p\u003E\n\u003Cp\u003E\nSome scripts aren\u0027t initialized until you\u0027re in the flight scene, so this can be ignored.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBugs were occurring with KER during pre-release, which vanished when KER was removed, I\u0027d be wary of using KER too much.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I\u0027ve had crashes too without KER, sometimes in the VAB/SPH, it can be when placing parts or just idling, but most of my crashes are during scene change, with some in the flight scene.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd every time I get a stack trace.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, thanks.\u00A0 I\u0027ll try to look at those log files again the next time it crashes and see if I notice any other errors.\u00A0 And guess I\u0027ll have to live without KER, at least until an updated version is released.\u00A0 I\u0027m sure you\u0027ve heard it before, but it\u0027d be really nice if you can at least get the delta-V/TWR info added into the stock game at some point \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 For now, are there any other compatible mods which provide this info?\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-05-03T08:34:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222557689\u0022 data-ipsquote-contentid=\u0022138755\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462254212\u0022 data-ipsquote-userid=\u0022157578\u0022 data-ipsquote-username=\u0022Hodari\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Hodari said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\n\u00A0For now, are there any other compatible mods which provide this info?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMechJeb offers many readouts that can help, and should be working fine in 1.1.2\n\u003C/p\u003E\n"},{"CreatedByName":"dlmarti","CreatedById":70037,"CreatedDateTime":"2016-05-03T14:20:48Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EERROR: ld.so: object \u0027/home/dlmarti/.local/share/Steam/ubuntu12_32/gameoverlayrenderer.so\u0027 from LD_PRELOAD cannot be preloaded (wrong ELF class: ELFCLASS32): ignored.\n\nNative stacktrace:\n\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP_Data/Mono/x86/libmono.so(\u002B0x8960f) [0xf368060f]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP_Data/Mono/x86/libmono.so(\u002B0x21a20) [0xf3618a20]\n        [0xf76ef410]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP.x86() [0x897faa0]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP.x86() [0x848a0c1]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP.x86() [0x8489e4c]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP.x86() [0x848a97b]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP.x86() [0x848ab28]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP.x86() [0x848ac84]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP.x86() [0x848c7c8]\n        /lib/i386-linux-gnu/libpthread.so.0(\u002B0x6f70) [0xf767af70]\n        /lib/i386-linux-gnu/libc.so.6(clone\u002B0x5e) [0xf7210bee]\n\nDebug info from gdb:\n\nERROR: ld.so: object \u0027/home/dlmarti/.local/share/Steam/ubuntu12_32/gameoverlayrenderer.so\u0027 from LD_PRELOAD cannot be preloaded (wrong ELF class: ELFCLASS32): ignored.\nCould not attach to process.  If your uid matches the uid of the target\nprocess, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try\nagain as the root user.  For more details, see /etc/sysctl.d/10-ptrace.conf\nptrace: Operation not permitted.\nNo threads.\n\n=================================================================\nGot a SIGSEGV while executing native code. This usually indicates\na fatal error in the mono runtime or one of the native libraries \nused by your application.\n=================================================================\n\n_float_vertex GL_ARB_imaging GL_ARB_indirect_parameters GL_ARB_instanced_arrays GL_ARB_internalformat_query GL_ARB_internalformat_query2 GL_NV_internalformat_sample_query GL_ARB_invalidate_subdata GL_ARB_map_buffer_alignment GL_ARB_map_buffer_range GL_ARB_multi_bind GL_ARB_multi_draw_indirect GL_ARB_multisample GL_ARB_multitexture GL_ARB_occlusion_query GL_ARB_occlusion_query2 GL_ARB_pipeline_statistics_query GL_ARB_pixel_buffer_object GL_ARB_point_parameters GL_ARB_point_sprite GL_ARB_program_interface_query GL_ARB_provoking_vertex GL_ARB_robust_buffer_access_behavior GL_ARB_robustness GL_ARB_sample_shading GL_ARB_sampler_objects GL_ARB_seamless_cube_map GL_ARB_seamless_cubemap_per_texture GL_ARB_separate_shader_objects GL_ARB_shader_atomic_counters GL_ARB_shader_bit_encoding GL_ARB_shader_draw_parameters GL_ARB_shader_group_vote GL_ARB_shader_image_load_store GL_ARB_shader_image_size GL_ARB_shader_objects GL_ARB_shader_precision GL_ARB_query_buffer_object GL_ARB_shader_storage_buffer_object GL_ARB_shader_subroutine GL_ARB_shader_texture_image_samples GL_ARB_shader_texture_lod GL_ARB_shading_language_100 GL_ARB_shading_language_420pack GL_ARB_shading_language_include GL_ARB_shading_language_packing GL_ARB_shadow GL_ARB_sparse_buffer GL_ARB_sparse_texture GL_ARB_stencil_texturing GL_ARB_sync GL_ARB_tessellation_shader GL_ARB_texture_barrier GL_ARB_texture_border_clamp GL_ARB_texture_buffer_object GL_ARB_texture_buffer_object_rgb32 GL_ARB_texture_buffer_range GL_ARB_texture_compression GL_ARB_texture_compression_bptc GL_ARB_texture_compression_rgtc GL_ARB_texture_cube_map GL_ARB_texture_cube_map_array GL_ARB_texture_env_add GL_ARB_texture_env_combine GL_ARB_texture_env_crossbar GL_ARB_texture_env_dot3 GL_ARB_texture_float GL_ARB_texture_gather GL_ARB_texture_mirror_clamp_to_edge GL_ARB_texture_mirrored_repeat GL_ARB_texture_multisample GL_ARB_texture_non_power_of_two GL_ARB_texture_query_levels GL_ARB_texture_query_lod GL_ARB_texture_rectangle GL_ARB_texture_rg GL_ARB_texture_rgb10_a2ui GL_ARB_texture_stencil8 GL_ARB_texture_storage GL_ARB_texture_storage_multisample GL_ARB_texture_swizzle GL_ARB_texture_view GL_ARB_timer_query GL_ARB_transform_feedback2 GL_ARB_transform_feedback3 GL_ARB_transform_feedback_instanced GL_ARB_transform_feedback_overflow_query GL_ARB_transpose_matrix GL_ARB_uniform_buffer_object GL_ARB_vertex_array_bgra GL_ARB_vertex_array_object GL_ARB_vertex_attrib_64bit GL_ARB_vertex_attrib_binding GL_ARB_vertex_buffer_object GL_ARB_vertex_program GL_ARB_vertex_shader GL_ARB_vertex_type_10f_11f_11f_rev GL_ARB_vertex_type_2_10_10_10_rev GL_ARB_viewport_array GL_ARB_window_pos GL_ATI_draw_buffers GL_ATI_texture_float GL_ATI_texture_mirror_once GL_S3_s3tc GL_EXT_texture_env_add GL_EXT_abgr GL_EXT_bgra GL_EXT_bindable_uniform GL_EXT_blend_color GL_EXT_blend_equation_separate GL_EXT_blend_func_separate GL_EXT_blend_minmax GL_EXT_blend_subtract GL_EXT_compiled_vertex_array GL_EXT_Cg_shader GL_EXT_depth_bounds_test GL_EXT_direct_state_access GL_EXT_draw_buffers2 GL_EXT_draw_instanced GL_EXT_draw_range_elements GL_EXT_fog_coord GL_EXT_framebuffer_blit GL_EXT_framebuffer_multisample GL_EXTX_framebuffer_mixed_formats GL_EXT_framebuffer_multisample_blit_scaled GL_EXT_framebuffer_object GL_EXT_framebuffer_sRGB GL_EXT_geometry_shader4 GL_EXT_gpu_program_parameters GL_EXT_gpu_shader4 GL_EXT_multi_draw_arrays GL_EXT_packed_depth_stencil GL_EXT_packed_float GL_EXT_packed_pixels GL_EXT_pixel_buffer_object GL_EXT_point_parameters GL_EXT_polygon_offset_clamp GL_EXT_post_depth_coverage GL_EXT_provoking_vertex GL_EXT_raster_multisample GL_EXT_rescale_normal GL_EXT_secondary_color GL_EXT_separate_shader_objects GL_EXT_separate_specular_color GL_EXT_shader_image_load_formatted GL_EXT_shader_image_load_store GL_EXT_shader_integer_mix GL_EXT_shadow_funcs GL_EXT_sparse_texture2 GL_EXT_stencil_two_side GL_EXT_stencil_wrap GL_EXT_texture3D GL_EXT_texture_array GL_EXT_texture_buffer_object GL_EXT_texture_compression_dxt1 GL_EXT_texture_compression_latc GL_EXT_texture_compression_rgtc GL_EXT_texture_compression_s3tc GL_EXT_texture_cube_map GL_EXT_texture_edge_clamp GL_EXT_texture_env_combine GL_EXT_texture_env_dot3 GL_EXT_texture_filter_anisotropic GL_EXT_texture_filter_minmax GL_EXT_texture_integer GL_EXT_texture_lod GL_EXT_texture_lod_bias GL_EXT_texture_mirror_clamp GL_EXT_texture_object GL_EXT_texture_shared_exponent GL_EXT_texture_sRGB GL_EXT_texture_sRGB_decode GL_EXT_texture_storage GL_EXT_texture_swizzle GL_EXT_timer_query GL_EXT_transform_feedback2 GL_EXT_vertex_array GL_EXT_vertex_array_bgra GL_EXT_vertex_attrib_64bit GL_EXT_x11_sync_object GL_EXT_import_sync_object GL_IBM_rasterpos_clip GL_IBM_texture_mirrored_repeat GL_KHR_context_flush_control GL_KHR_debug GL_KHR_robust_buffer_access_behavior GL_KHR_robustness GL_KTX_buffer_region GL_NV_bindless_multi_draw_indirect GL_NV_bindless_multi_draw_indirect_count GL_NV_bindless_texture GL_NV_blend_equation_advanced GL_NV_blend_equation_advanced_coherent GL_NV_blend_square GL_NV_command_list GL_NV_compute_program5 GL_NV_conditional_render GL_NV_conservative_raster GL_NV_conservative_raster_dilate GL_NV_copy_depth_to_color GL_NV_copy_image GL_NV_depth_buffer_float GL_NV_depth_clamp GL_NV_draw_texture GL_NV_ES1_1_compatibility GL_NV_ES3_1_compatibility GL_NV_explicit_multisample GL_NV_fence GL_NV_fill_rectangle GL_NV_float_buffer GL_NV_fog_distance GL_NV_fragment_coverage_to_color GL_NV_fragment_program GL_NV_fragment_program_option GL_NV_fragment_program2 GL_NV_fragment_shader_interlock GL_NV_framebuffer_mixed_samples GL_NV_framebuffer_multisample_coverage GL_NV_geometry_shader4 GL_NV_geometry_shader_passthrough GL_NV_gpu_program4 GL_NV_gpu_program4_1 GL_NV_gpu_program5 GL_NV_gpu_program5_mem_extended GL_NV_gpu_program_fp64 GL_NV_gpu_shader5 GL_NV_half_float GL_NV_light_max_exponent GL_NV_multisample_coverage GL_NV_multisample_filter_hint GL_NV_occlusion_query GL_NV_packed_depth_stencil GL_NV_parameter_buffer_object GL_NV_parameter_buffer_object2 GL_NV_path_rendering GL_NV_path_rendering_shared_edge GL_NV_pixel_data_range GL_NV_point_sprite GL_NV_primitive_restart GL_NV_register_combiners GL_NV_register_combiners2 GL_NV_sample_locations GL_NV_sample_mask_override_coverage GL_NV_shader_atomic_counters GL_NV_shader_atomic_float GL_NV_shader_atomic_fp16_vector GL_NV_shader_atomic_int64 GL_NV_shader_buffer_load GL_NV_shader_storage_buffer_object GL_NV_texgen_reflection GL_NV_texture_barrier GL_NV_texture_compression_vtc GL_NV_texture_env_combine4 GL_NV_texture_multisample GL_NV_texture_rectangle GL_NV_texture_shader GL_NV_texture_shader2 GL_NV_texture_shader3 GL_NV_transform_feedback GL_NV_transform_feedback2 GL_NV_uniform_buffer_unified_memory GL_NV_vdpau_interop GL_NV_vertex_array_range GL_NV_vertex_array_range2 GL_NV_vertex_attrib_integer_64bit GL_NV_vertex_buffer_unified_memory GL_NV_vertex_program GL_NV_vertex_program1_1 GL_NV_vertex_program2 GL_NV_vertex_program2_option GL_NV_vertex_program3 GL_NV_viewport_array2 GL_NVX_conditional_render GL_NVX_gpu_memory_info GL_NVX_nvenc_interop GL_NV_shader_thread_group GL_NV_shader_thread_shuffle GL_KHR_blend_equation_advanced GL_KHR_blend_equation_advanced_coherent GL_SGIS_generate_mipmap GL_SGIS_texture_lod GL_SGIX_depth_texture GL_SGIX_shadow GL_SUN_slice_accum \nGLX Extensions: GLX_EXT_visual_info GLX_EXT_visual_rating GLX_SGIX_fbconfig GLX_SGIX_pbuffer GLX_SGI_video_sync GLX_SGI_swap_control GLX_EXT_swap_control GLX_EXT_swap_control_tear GLX_EXT_texture_from_pixmap GLX_EXT_buffer_age GLX_ARB_create_context GLX_ARB_create_context_profile GLX_EXT_create_context_es_profile GLX_EXT_create_context_es2_profile GLX_ARB_create_context_robustness GLX_NV_delay_before_swap GLX_EXT_stereo_tree GLX_ARB_context_flush_control GLX_ARB_multisamp:\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat was my most recent crash, after about 90 seconds of playing.\n\u003C/p\u003E\n\u003Cp\u003E\nexcrements, I used to enjoy KSP, but these crashes are trying to make that not a thing.\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-05-03T21:04:27Z","Content":"\n\u003Cp\u003E\nWell this part is easy.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EERROR: ld.so: object \u0027/home/dlmarti/.local/share/Steam/ubuntu12_32/gameoverlayrenderer.so\u0027 from LD_PRELOAD cannot be preloaded (wrong ELF class: ELFCLASS32): ignored.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThere are two Steam gameoverlayrenderer.so files, one for 32bit and one for 64bit, while one will load the other will fail, because it is the wrong \u003Ca href=\u0022https://en.wikipedia.org/wiki/Executable_and_Linkable_Format\u0022 rel=\u0022external nofollow\u0022\u003Eexecutable linkable format\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThe next part tells us which file generated the error.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ENative stacktrace:\n\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP_Data/Mono/x86/libmono.so(\u002B0x8960f) [0xf368060f]\n        /home/dlmarti/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP_Data/Mono/x86/libmono.so(\u002B0x21a20) [0xf3618a20]\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIn this case it was the libmono.so in Kerbal Space Program/KSP_Data/Mono/x86/\n\u003C/p\u003E\n\u003Cp\u003E\nAfter that there\u0027s memory addresses, then this again.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EERROR: ld.so: object \u0027/home/dlmarti/.local/share/Steam/ubuntu12_32/gameoverlayrenderer.so\u0027 from LD_PRELOAD cannot be preloaded (wrong ELF class: ELFCLASS32): ignored.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, it\u0027s the wrong version for your architecture, from this I can deduce that you are using a 64bit OS if you have not already told me.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2016-05-04T03:35:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222559275\u0022 data-ipsquote-contentid=\u0022138755\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462309467\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNative stacktrace:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have been getting these too. If I go to the effort of providing a bunch of stack traces from a mono built with debugging symbols and complete gdb output, would these be any help?\n\u003C/p\u003E\n\u003Cp\u003E\nIs anyone doing any real investigation into this issue? The hotfixes have changed nothing regarding this crash.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-05-04T10:37:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222559966\u0022 data-ipsquote-contentid=\u0022138755\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462332919\u0022 data-ipsquote-userid=\u002269272\u0022 data-ipsquote-username=\u0022steve_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, steve_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nI have been getting these too. If I go to the effort of providing a bunch of stack traces from a mono built with debugging symbols and complete gdb output, would these be any help?\n\u003C/p\u003E\n\u003Cp\u003E\nIs anyone doing any real investigation into this issue? The hotfixes have changed nothing regarding this crash.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have over 100 so far, I\u0027d have more but I didn\u0027t keep them all. These addresses don\u0027t mean anything to me, and Unity lacks tools to work with memory directly so there seems to be no way to find what\u0027s going on at this level, unless you\u0027re a Unity developer I suppose.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been trying to investigate this, my knowledge of programming is limited so if the below is wrong let me know.\n\u003C/p\u003E\n\u003Cp\u003E\nI think these are linked to the double calls to free(),\u003Ca href=\u0022http://www.cplusplus.com/reference/cstdlib/free/\u0022 rel=\u0022external nofollow\u0022\u003E in c\u002B\u002B\u003C/a\u003E the free() method goes to the area of memory pointed to and deallocates it, but it doesn\u0027t null the pointer, so in c\u002B\u002B (\u003Ca href=\u0022https://msdn.microsoft.com/en-us/library/we1whae7.aspx\u0022 rel=\u0022external nofollow\u0022\u003Eand c#\u003C/a\u003E) you\u0027re able to call free() on the same area twice, and of course if it has been reused you\u0027ve just wrecked whatever was there on the second call, creating lots of \u0022fun\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nSimilarly if the pointer was incorrect you\u0027ve just mangled some perfectly good data, this might be what\u0027s causing the segfaults that don\u0027t show a double free().\n\u003C/p\u003E\n\u003Cp\u003E\nIn Unity you can\u0027t call free() directly nor do you have access to the pointers, it\u0027s all done via the \u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Object.Destroy.html\u0022 rel=\u0022external nofollow\u0022\u003EDestroy() method\u003C/a\u003E\u003Cspan ipsnoautolink=\u0022true\u0022\u003E which is a black box, but if you call Destroy() on an object that doesn\u0027t exist it should return a null reference exception\u003C/span\u003E, just like any other Unity method when used on an object that isn\u0027t there.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone involved with the pre-release or encountering a bug in the release will already have seen the nullrefs that are generated when an object is missing, and these can be dealt with by adding an if() statement to check if the object exists.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is all fine until a valid object has a bad pointer or that pointer points to literally garbage values.\n\u003C/p\u003E\n\u003Cp\u003E\nHow does Unity know the object exists?\u00A0 I don\u0027t know, it\u0027s another black box and it may be using an internal list of object names that reference pointers to memory, there\u0027s probably fancier ways I\u0027m unaware of.\n\u003C/p\u003E\n\u003Cp\u003E\nBut pointers don\u0027t know what should be in the area they point to, corrupted memory looks just as valid as any other, it\u0027s only when a method is invoked that tries to use that memory and finds garbage values that things break down.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I think (I can\u0027t prove) there\u0027s something wrong with how Unity is tracking the pointers, maybe it\u0027s not removing them immediately or the order is getting messed up, either way it\u0027s intermittent as players can play for days with no trouble then bam!, three memory related crashes in a row.\n\u003C/p\u003E\n\u003Cp\u003E\nSo mono is working as expected with the calls to free(), call it on the same pointer and you have fun times, it\u0027s left to the programmer to remove the pointer.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you\u0027re interested you can read the version of mono that Unity uses \u003Ca href=\u0022https://github.com/Unity-Technologies/mono\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nSquad can (and has) added checks to see if objects exist before acting on them, but even where this hasn\u0027t been done the object should nullref, nullrefs will often show \u003Cem\u003Ewhere\u003C/em\u003E the issue is.\n\u003C/p\u003E\n\u003Cp\u003E\nBut that\u0027s not happening, the objects seem to be reporting to Unity that they are present, so if() checks return as true and no nullrefs are generated.\n\u003C/p\u003E\n\u003Cp\u003E\nYou end up trying to process values that are half of one thing and half something else, or the area of memory simply isn\u0027t in use at all at that moment in time.\n\u003C/p\u003E\n\u003Cp\u003E\nSo Unity just dies, says \u0022the memory here is bad\u0022, and you\u0027re left with the unanswered question \u0022Why?\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2016-05-04T13:37:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222560374\u0022 data-ipsquote-contentid=\u0022138755\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462358226\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve been trying to investigate this, my knowledge of programming is limited so if the below is wrong let me know.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSounds about right to me, to the best of my knowledge. (C = some, mono = sweet FA, Unity = Nil) \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI know what the error means in the context of native C/C\u002B\u002B (pretty much exactly what it says, glibc thinks somebody has freed the same block of memory twice, potentially corrupting the heap) If this occurs, by default glibc will abort and output a stack trace on STDERR. This behaviour can be turned off, but it\u0027s not a particularly good idea, for fairly obvious reasons.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222560374\u0022 data-ipsquote-contentid=\u0022138755\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462358226\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think (I can\u0027t prove) there\u0027s something wrong with how Unity is tracking the pointers, maybe it\u0027s not removing them immediately or the order is getting messed up, either way it\u0027s intermittent as players can play for days with no trouble then bam!, three memory related crashes in a row.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf your theory is correct, and the breakdown is in one of Unitys own mystery-meat methods, this may well be impossible to pin down without the Unity sources. The intermittent bit I would expect for this kind of error, as when a double free occurs, the behaviour is undefined. If that pointer is NULL\u00A0at the time, we\u0027re all good. If it\u0027s not, chaos ensues.\u003Cbr\u003E\nThis could also be a thread-safety problem *shudder* which would be even more fun to find. Either way, I\u0027m guessing (I don\u0027t read Windows stack traces \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E) it\u0027s the root cause of crashes on all platforms.\n\u003C/p\u003E\n\u003Cp\u003E\nUse of Electric Fence or Valgrind might be enlightening, but that will require a debug build (of the Unity player too, not just mono), and to be realistic, a copy of the source code to make sense of it. I have neither, hence asking if someone with better skills and tools is looking into this.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222560374\u0022 data-ipsquote-contentid=\u0022138755\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462358226\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n45 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you\u0027re interested you can read the version of mono that Unity uses \u003Ca href=\u0022https://github.com/Unity-Technologies/mono\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIndeed, I already have (several copies of) that repo. I have been mucking about with it, but my foo is limited as is my time, so finding this (if it\u0027s even in mono), without source or a debug build of the rest of Unity is not really going to be a thing for me. I\u0027ll probably waste time on it anyway though.\n\u003C/p\u003E\n"},{"CreatedByName":"dlmarti","CreatedById":70037,"CreatedDateTime":"2016-06-02T18:32:01Z","Content":"\n\u003Cp\u003E\nI started a new issue after capturing the crash on a brand new PC with a clean install.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/9824\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/issues/9824\u003C/a\u003E\n\u003C/p\u003E\n"}]}