{"TopicId":112221,"ForumId":69,"TopicTitle":"game crashes often in space center","CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-07T01:51:56Z","PageNum":1,"Articles":[{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-07T01:51:56Z","Content":"Hi,\n\nI often experience game crashes while switching facilities in the Space center, or when quitting the SC to the game main menu etc. I works after I restart the game, so the crashes are perfectly repeatable.. but happen several times a day and are quite annoying (fortunately game progress is saved correctly). I\u0027ve already tried to set the game process to single CPU core, no help.\n\nCrash report is here: [http://s000.tinyupload.com/index.php?file_id=88913880778850263979](http://s000.tinyupload.com/?file_id=88913880778850263979)\n\n(dump files are 0 length, this is not a mistake).\n\nRegards,\n\nWojtus"},{"CreatedByName":"Carraux","CreatedById":60890,"CreatedDateTime":"2015-06-09T09:41:58Z","Content":"KSP has a memory leak which crashes the game frequently."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-06-09T10:30:55Z","Content":"This was not caused by a memory leak.\n\n\u003E \n\u003E Unity Player [version: Unity 4.6.4f1\\_99f88340878d]\n\u003E mono.dll caused an Access Violation (0xc0000005)\n\u003E \n\u003E  in module mono.dll at 001b:10107259.\n\u003E \n\u003E Error occurred at 2015-06-07\\_032840.\n\u003E \n\u003E F:\\Steam\\steamapps\\common\\Kerbal Space Program\\KSP.exe, run by vvk.\n\u003E \n\u003E 67% memory in use.\n\u003E \n\u003E 3575 MB physical memory [1179 MB free].\n\u003E \n\u003E 3410 MB paging file [1183 MB free].\n\u003E \n\u003E 2048 MB user address space [177 MB free].\n\u003E \n\u003E Write to location 00000000 caused an access violation.\n\nWojtus, please provide your outpt\\_log the next time it crashes."},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-10T15:17:45Z","Content":"Funny, output\\_log is empty! I\u0027ve zeroed it earlier to have a clean log, now after the crash I see it\u0027s still zero length.\n\nFor a change, this time I have a non-zero dump file! I must admit last days I\u0027ve played a bit with graphic settings and gave a try to TextureReplacer mod, but I\u0027ve removed all mod directories to reproduce this crash today for you.\n\nLatest crash dir is here: [http://s000.tinyupload.com/index.php?file_id=01542887099147241980](http://s000.tinyupload.com/index.php?file_id=01542887099147241980)"},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-11T01:18:41Z","Content":"OK, got it repeatable. I\u0027ve reinstalled the game from scratch, only keeping my savegame. Once started, I load my complex (200\u002B parts) ship, go to launchpad, revert to assembly - guaranteed crash. This time output\\_log is nicely populated:\n\n[http://s000.tinyupload.com/index.php?file_id=48667460069726775318](http://s000.tinyupload.com/index.php?file_id=48667460069726775318)"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-06-11T09:34:31Z","Content":"Okay, it\u0027s a memory issue but doesn\u0027t look like it\u0027s the leak as you have plenty of memory available.\n\n    Error occurred at 2015-06-11_031210.F:\\Steam\\steamapps\\common\\Kerbal Space Program\\KSP.exe, run by vvk.62% memory in use.3575 MB physical memory [1324 MB free].3410 MB paging file [1337 MB free].2048 MB user address space [176 MB free].Write to location 00400000 caused an access violation.\n\nBut KSP runs out of memory that it can use for textures.\n\n    DynamicHeapAllocator out of memory - Could not get memory for large allocationCould not allocate memory: System out of memory!Trying to allocate: 16384004B with 32 alignment. MemoryLabel: TextureAllocation happend at: Line:411 in Memory overview[ ALLOC_DEFAULT ] used: 341859459B | peak: 0B | reserved: 377472362B [ ALLOC_GFX ] used: 329496239B | peak: 0B | reserved: 399458082B [ ALLOC_CACHEOBJECTS ] used: 323008B | peak: 0B | reserved: 12582912B [ ALLOC_TYPETREE ] used: 20472B | peak: 0B | reserved: 4194304B [ ALLOC_PROFILER ] used: 291348B | peak: 0B | reserved: 8388608B Could not allocate memory: System out of memory!Trying to allocate: 16384004B with 32 alignment. MemoryLabel: TextureAllocation happend at: Line:411 in Memory overview[ ALLOC_DEFAULT ] used: 341859459B | peak: 0B | reserved: 377472362B [ ALLOC_GFX ] used: 329496239B | peak: 0B | reserved: 399458082B [ ALLOC_CACHEOBJECTS ] used: 323008B | peak: 0B | reserved: 12582912B [ ALLOC_TYPETREE ] used: 20472B | peak: 0B | reserved: 4194304B [ ALLOC_PROFILER ] used: 291348B | peak: 0B | reserved: 8388608B (Filename:  Line: 920)No Texture memory available to upload(Filename:  Line: 585)[PlanetariumCamera]: Focus: Kerbin(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)UnloadTime: 54.410816 msHighlightingSystem : Edge Highlighting requires AA to work!(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)HighlightingSystem : Highlighting System has been disabled due to unsupported Unity features on the current platform!(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)No Input Locks in effect right now(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)Crash!!!\n\nYou mention using a certain savegame and craft, please upload that savegame so I can try it, also upload your dxdiag log."},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-11T11:01:54Z","Content":"\u003E \n\u003E Okay, it\u0027s a memory issue but doesn\u0027t look like it\u0027s the leak as you have plenty of memory available.\n\nI might not. I run 32bit system with physical 4GB installed. So the reports about \u0022free\u0022 memory are not necessarily true, I don\u0027t know if they take inaccessible memory into account.\n\n\u003E You mention using a certain savegame and craft, please upload that savegame so I can try it, also upload your dxdiag log.\n\nHere\u0027s the save:\n\n[http://s000.tinyupload.com/index.php?file_id=81191565136019964278](http://s000.tinyupload.com/index.php?file_id=81191565136019964278)\n\nThe craft I\u0027ve used to reproduce is \u0022Mun Lander 2\u0022, however I\u0027m sure it\u0027s not connected to specific spaceship, rather it\u0027s number of elements (so textures). Dxdiag output is inside."},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-06-11T12:37:17Z","Content":"KSP running on win32 (with no special tweaks) can only use about 1800 meg before it will crash. I suspect that the game not reading the memory status correctly causes unity issues in its low memory handling. I used to run on a win32 laptop with 3 gig and usually ran with reduced texture res and low terrain detail to avoid these sorts of crashes. Have you tried the opengl or dx11 options? They used to reduce memory use quite a lot though I preferred low res textures to the graphical glitches I got with them."},{"CreatedByName":"Wojtus","CreatedById":145802,"CreatedDateTime":"2015-06-13T00:11:25Z","Content":"No help with OpenGL (actually it worked, but similar memory usage and hangs on setting screen). So far I\u0027ve followed \u0022no memory for texture\u0022 trail and reduced their resolution. It helped, but it\u0027s not an ultimate cure. Thanks for help with pinpointing this one!"}]}