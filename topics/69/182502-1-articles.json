{"TopicId":182502,"ForumId":69,"TopicTitle":"KSP will only launch using integrated graphics","CreatedByName":"Dan2298","CreatedById":195789,"CreatedDateTime":"2019-02-27T17:58:41Z","PageNum":1,"Articles":[{"CreatedByName":"Dan2298","CreatedById":195789,"CreatedDateTime":"2019-02-27T17:58:41Z","Content":"\n\u003Cp\u003E\nHello all,\n\u003C/p\u003E\n\u003Cp\u003E\nI am having an issue whereby I am only able to run KSP successfully using the integrated graphics chip on my laptop. When trying to launch using the dedicated graphics, KSP appears on screen but freezes as soon as it attempts to load any asset (EditorLoop1 specifically, however if I delete this file it simply freezes on the next item in the list). I am using a vanilla Steam install of KSP x64, on a 3 week old Windows installation. I have updated my Nvidia driver to the latest one, as well as audio drivers. Windows, Steam and KSP are fully updated.\n\u003C/p\u003E\n\u003Cp\u003E\nSystem specs are:\n\u003C/p\u003E\n\u003Cp\u003E\nIntel i5-6300HQ Processor\u003Cbr\u003E\n16GB RAM\u003Cbr\u003E\nIntel HD530 Integrated Graphics\u003Cbr\u003E\nNvidia GeForce 940M Dedicated Graphics\n\u003C/p\u003E\n\u003Cp\u003E\nLog file located here:\n\u003C/p\u003E\n\u003Cp\u003E\nhttps://pastebin.com/9BCzEpDw\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf anyone has any thoughts or insight I would be very grateful, and please let me know if any additional info is needed. The game is playable on the Intel HD Graphics, but I\u0027d love it to run better on what is a fairly capable laptop.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance,\n\u003C/p\u003E\n\u003Cp\u003E\nDan\n\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2019-02-27T19:01:22Z","Content":"\n\u003Cp\u003E\nFirst off, I wouldnt be deleteing *ANY* KSP files. There is an option somewhere to \u0022verify\u0022 your Steam install, which will replace any missing KSP files. I dont use Steam, so i dont know the specifics.\u003Cbr\u003E\nAfter you re-verify your install, do the following:\u003Cbr\u003E\n(I assume you are running a Windows OS.)\u003Cbr\u003E\u003Cbr\u003E\nTry opening the Nvidia Settings (should have a little green Nvidia icon in your system tray).\u003Cbr\u003E\u003Cbr\u003E\nWhen it opens in a new window, you should see this, after clicking \u0022Manage 3D settings\u0022 in the left pane.\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u0022Sfg6ksf.png\u0022 class=\u0022ipsImage\u0022 height=\u0022759\u0022 src=\u0022https://i.imgur.com/Sfg6ksf.png\u0022 width=\u00221014\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nClick the \u0022Program Settings\u0022 tab.\u003Cbr\u003E\nThen, under the dropdown menu next to number 1, you should see what i have above, the KSP icon and executable. If not, click the \u0022Add\u0022 button, and brose to your KSP install folder, and select the KSP.exe. It should now be added to the list.\u003Cbr\u003E\u003Cbr\u003E\nThen in the dropdown under number 2, select your Nvidia processor.\u003Cbr\u003E\nClick \u0022Apply\u0022, then restart KSP... it should now be using your Nvidia GPU, and *not* the integrated Graphics.\u003Cbr\u003E\u003Cbr\u003E\nAfter starting KSP, you can verify the GPU switch, by opening the KSP.log in a text editor (file is located in the main KSP folder, same place as KSP_64.exe (or KSP_32.exe)). At the very top of the log, it will list which GPU KSP is using.\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-27T19:04:48Z\u0022 title=\u002202/27/2019 07:04  PM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 27, 2019\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dan2298","CreatedById":195789,"CreatedDateTime":"2019-02-27T20:09:35Z","Content":"\n\u003Cp\u003E\nHi Stone Blue,\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for taking the time to read my post :-)\n\u003C/p\u003E\n\u003Cp\u003E\nI have since done an entire uninstall and re-install as a troubleshooting step, so all the files are in place properly.\n\u003C/p\u003E\n\u003Cp\u003E\nI have found the menu you showed\u00A0and am able to select which graphics processor to use. My issue is that the game will freeze on loading if attempting to launch using the Nvidia chip. The log from the crash shows the 940M as the rendering device in use. The game loads up normally if I revert the preference to the integrated chip.\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\nDan\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Curveball Anders","CreatedById":107529,"CreatedDateTime":"2019-02-28T21:53:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223548428\u0022 data-ipsquote-contentid=\u0022182502\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221551298175\u0022 data-ipsquote-userid=\u0022195789\u0022 data-ipsquote-username=\u0022Dan2298\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/27/2019 at 9:09 PM, Dan2298 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi Stone Blue,\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for taking the time to read my post :-)\n\u003C/p\u003E\n\u003Cp\u003E\nI have since done an entire uninstall and re-install as a troubleshooting step, so all the files are in place properly.\n\u003C/p\u003E\n\u003Cp\u003E\nI have found the menu you showed\u00A0and am able to select which graphics processor to use. My issue is that the game will freeze on loading if attempting to launch using the Nvidia chip. The log from the crash shows the 940M as the rendering device in use. The game loads up normally if I revert the preference to the integrated chip.\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\nDan\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSlight shot in the dark (I\u0027ve been weened off Windows for some years).\n\u003C/p\u003E\n\u003Cp\u003E\nUpdated drivers for the Nvidia chip?\n\u003C/p\u003E\n\u003Cp\u003E\nWith dual gfx it\u0027s possible that normal checks and updates doesn\u0027t \u0022see\u0022 the Nvidia one.\n\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2019-02-28T22:45:01Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/195789-dan2298/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022195789\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/195789-dan2298/\u0022 rel=\u0022\u0022\u003E@Dan2298\u003C/a\u003E Well, idk... I assume you didnt change any of the settings under number 3, for KSP, in the Nvidia settings window I showed. I forgot to mention for you to also make sure that on the \u0022Global Settings\u0022 tab, you want \u0022Auto Select\u0022 in the first drop down.\u003Cbr\u003E\u003Cbr\u003E\nBeyond that, I dont have much, since you are running a vanilla install, that eliminates a mod problem \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003Cbr\u003E\nI\u0027m also assuming you are not trying to force DirectX11, or OpenGL... ???\u003Cbr\u003E\u003Cbr\u003E\nTwo other things to consider, as CurveballAnders mentioned, recheck that you have an updated Nvidia driver. I just looked at one of my logs, and I am showing a much newer driver than is shown in your log. I have a 630M, tho. I am on Win8.1, with Nvidia driver v391.35 (In case you dont know, quick way to check version #, is in the Nvidia control panel, very bottom left is a \u0022System Information\u0022 link... clicking that will open a popup with driver version included)\u003Cbr\u003E\nHeres the version my log shows, which matches properly: \u003C/span\u003E23.21.1\u003Cu\u003E\u003Cstrong\u003E3.9135\u003C/strong\u003E\u003C/u\u003E\u003Cspan\u003E ... yours is showing: \u003C/span\u003E [nvldumdx.dll 23.21.1\u003Cu\u003E\u003Cstrong\u003E3.8927\u003C/strong\u003E\u003C/u\u003E] \u003Cspan\u003Ewhich I assume is v389.27... an older driver\u003Cbr\u003E\u003Cbr\u003E\nThe other thing, mebbe, as a stretch, is that since you say you have a pretty new Windows install, mebbe domething is up with the DirectX drivers.\u003Cbr\u003E\u003Cbr\u003E\nI\u0027m heavily leaning toward outdated Nvidia driver tho. I\u0027m on a 7yr old laptop, and the OEM Nvidia driver is waaayyyy out of date, but 90% of the time, when grabbing the current 630M driver straight from the Nvidia site, their drivers work for me...\u003Cbr\u003E\u003Cbr\u003E\nHeres Nvidias driver download site: \u003C/span\u003E\u003Ca href=\u0022https://www.nvidia.com/Download/index.aspx?lang=en-us\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.nvidia.com/Download/index.aspx?lang=en-us\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cspan\u003EOther than all that... idk... vOv\u003Cbr\u003E\u003Cbr\u003E\nEDIT: yeah.. i just checked, and it looks like the current driver for a 940M is v\u003C/span\u003E419.17 ... from just a few days ago vOv\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-28T22:48:44Z\u0022 title=\u002202/28/2019 10:48  PM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 28, 2019\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dan2298","CreatedById":195789,"CreatedDateTime":"2019-03-02T14:01:35Z","Content":"\n\u003Cp\u003E\nThank you both for your answers. I had installed the Nvidia drivers via device manager so a little frustrating for them to be out of date. I have since uninstalled ksp (and purged all files), then the old driver, installed the latest Nvidia driver, newest directx and finally reinstalled KSP. No banana.\n\u003C/p\u003E\n\u003Cp\u003E\nI will have to live with the integrated graphics, I can still maintain a good 35fps on medium settings or 50fps if I turn them down further.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks again for the suggestions!\n\u003C/p\u003E\n\u003Cp\u003E\nDan\n\u003C/p\u003E\n"}]}