{"TopicId":168162,"ForumId":69,"TopicTitle":"Bug - Quick loading in-flight inverts controls and messes up the physics?!","CreatedByName":"Stewcumber","CreatedById":79928,"CreatedDateTime":"2017-12-03T14:36:18Z","PageNum":1,"Articles":[{"CreatedByName":"Stewcumber","CreatedById":79928,"CreatedDateTime":"2017-12-03T14:36:18Z","Content":"\n\u003Cp\u003E\nI am flying to the temple on kerbin and have saved a couple of times on the way. When I quick load my approach to a landing site at 120m/s, 1500m altitude, and my plane will continue \u0022without physics\u0022 for a second or so like normal, and then suddenly nose dive or flip without me pressing anything when the physics load up. If I press pitch up, I will pitch down. Sometimes If I press pitch up, I will yaw right, but even so, the physics seem very odd and it will almost spin on an axis (as if I was in space) rather than \u0022swoop\u0022 like a plane, if you know what I mean!\n\u003C/p\u003E\n\u003Cp\u003E\nMy plane is carrying a rover, which is docking ported to the plane inside the cargo bay. The rover only has a seat however, no remote control.\n\u003C/p\u003E\n\u003Cp\u003E\nMy fix for this is, weirdly, is to open and close the tailgate. When I do this, the plane judders slightly, and proper physics and control is restored.\n\u003C/p\u003E\n\u003Cp\u003E\nMy theory is, that for some reason it only loads up the rover physics, or thinks the rover is a control point or something\u00A0until I \u0027remind\u0027 it that there is plane there!\n\u003C/p\u003E\n\u003Cp\u003E\nI write this as my game has now just crashed when I pressed quick load (which has never happened before).\n\u003C/p\u003E\n\u003Cp\u003E\nI have a stock install of the latest version, and I am running the 32bit version of the game.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is a link to the save file. The craft is the \u0022Desert Explorer\u0022\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/yfekv6jma725y1g/IMP%20Project.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/yfekv6jma725y1g/IMP Project.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-03T14:53:00Z\u0022 title=\u002212/03/2017 02:53  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 3, 2017\u003C/time\u003E by Stewcumber\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"swjr-swis","CreatedById":152460,"CreatedDateTime":"2017-12-03T19:41:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223234194\u0022 data-ipsquote-contentid=\u0022168162\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512311778\u0022 data-ipsquote-userid=\u002279928\u0022 data-ipsquote-username=\u0022Stewcumber\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Stewcumber said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMy theory is, that for some reason it only loads up the rover physics, or thinks the rover is a control point or something\u00A0until I \u0027remind\u0027 it that there is plane there!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI see from the hangar version of your plane that the rover command seat is facing backwards, to the tail of the plane. So it sounds plausible, BUT: it\u0027s not actually the problem of your quicksave.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI loaded the quicksave, and indeed the first thing I notice is that controls seem backwards. Second thing I notice is that the plane is rapidly descending, very close to ground, and throttle is zero (!). So I do a frantic recovery by a quick succession of steps:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u0027Esc\u0027 to pause right after load\n\u003C/li\u003E\n\u003Cli\u003E\nEsc - right-click the cockpit - Esc to pause again\n\u003C/li\u003E\n\u003Cli\u003E\nEsc - click \u0027Control From Here\u0027 - Esc\n\u003C/li\u003E\n\u003Cli\u003E\nEsc - throttle to full and PITCH UP PITCH UP to narrowly miss the ground\n\u003C/li\u003E\n\u003Cli\u003E\nTake a few breaths now\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nWhile pitching up to recover, I notice the control authority of this plane is ... well, not good. it has trouble pitching and set way too strong for roll, making it almost impossible to keep level. So the next thing I did was change those sliders to get back some control.\n\u003C/p\u003E\n\u003Cp\u003E\nNow that I was level and somewhat in control again, came the next surprise: I zoomed into the cargo bay and... there is no rover in the bay (*). The bay is entirely empty, other than the one back-facing Jr docking port from the plane itself, which apparently is what the game picks at loading as its control point in your quicksave. In essence, this gives you the exact same symptoms: reversed controls in two axes. This goes for the control surfaces as well, which means very counter-intuitive flying, and as you are flying very close to ground, almost inevitable disaster.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t even speculate on why opening the ramp automatically returns control to the cockpit, but I can confirm it does. All I can say, report this to the bug tracker, they\u0027ll have a heck of a time figuring this one out. \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway I still wanted to help you, so I made a new named save (\u003Ca href=\u0022https://www.dropbox.com/s/5kwhdtyqnscorgg/IMP%20Project-recovered.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Edownload here\u003C/a\u003E), where I managed to recover and somehow land safely at the pyramids (again *). I had also changed a lot of things on the plane itself to try keep it from self-destructing:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFor better control, I redid the sliders on all the control surfaces, turned some off entirely. Especially roll was set to kill.\n\u003C/li\u003E\n\u003Cli\u003E\nI changed the brake power and friction control settings on the landing gear to help it slow down faster once it touches down.\n\u003C/li\u003E\n\u003Cli\u003E\nI also enabled some autostruts on the wings and the engines, because at landing, even softly, the flexing kept colliding them with each other and blowing up. The autostruts seem to alleviate that, enough to land safely at least the one time I managed.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nThere is still something very wrong with the landing gear, which makes me suspect you edited the spring/damper sliders way off the defaults: it keeps bouncing even on delicate touchdowns, and it bounces the plane almost to destruction when loading the save - something that seems to be prevented by leaving the ramp open. If you want to see the bounce, load up the \u0027gearbounce\u0027 save.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n*: the reason I say \u0027again\u0027, and a possible explanation of where the rover went, is that once I managed to land safely at the pyramids, I see the rover parked right by them, with a kerbal in it. Apparently, you had already landed and unloaded the rover, and must\u0027ve taken off again, before the quicksave. Did you forget you had already landed?\n\u003C/p\u003E\n"},{"CreatedByName":"Stewcumber","CreatedById":79928,"CreatedDateTime":"2017-12-03T23:30:53Z","Content":"\n\u003Cp\u003E\nThanks for looking at this! Yes, I managed to land it and then disembark the rover \u003Cem\u003Eafter\u003C/em\u003E I made my post here. With that done, I thought I\u0027d\u00A0 give it a try without the rover, and it still had the issue so I created the quicksave on approach to land a second time, and added it to my post as an edit, 30 mins after I first made it. I had this issue on the way over the temple as well, I quick saves when cruising at 4000m and it had the same issue.\n\u003C/p\u003E\n\u003Cp\u003E\nI can understand that the game might mistakenly load\u00A0up the docking port as the control point (regardless of whether there is a rover attached or not), and that this could invert the axis as the docking port is facing the wrong way,\u00A0but what I don\u0027t understand is why that messes with the physics- the plane would just dive or climb with no input instead of gently gliding down (even if it gradually nosedived as it went). I know the plane is a bit of brick to handle (especially at 0 thrust) but I don\u0027t think the issues I was having are related to its \u0027lazy\u0027 attitude towards changing direction.\n\u003C/p\u003E\n\u003Cp\u003E\nI have not changed any of the sliders on the wheels, elevators/ailerons from their defaults. It is probably too rolly as it has four ailerons for that (I did at least disable the rear elevators from rolling the plane I think).\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing I did notice was that on the flight over, the first cargo bay was open, but limited to 6% open-ness, so I could barely see it. Not sure if that is related in anyway as I had set it to about 75%\n\u003C/p\u003E\n\u003Cp\u003E\nThanks again for taking the time to have a look!\n\u003C/p\u003E\n"},{"CreatedByName":"swjr-swis","CreatedById":152460,"CreatedDateTime":"2017-12-04T05:08:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223234596\u0022 data-ipsquote-contentid=\u0022168162\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512343853\u0022 data-ipsquote-userid=\u002279928\u0022 data-ipsquote-username=\u0022Stewcumber\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Stewcumber said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne thing I did notice was that on the flight over, the first cargo bay was open, but limited to 6% open-ness, so I could barely see it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe Desert Explorer design you have in the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E in that zipped save also has the forward cargo bay door open to 6%, which would explain that.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I also found what makes the plane so bouncy on touch down: the front gear appear to be doubled with mirror symmetry, but clipped fully into each other so it appears to be just one.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs I can\u0027t help myself, I did some tweaking on your plane in the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E and created an Mk2 version. It resulted in a very nicely controllable craft that lifts off by itself just by applying full throttle, happily cruises at around 500m/s at 9km (oscillating \u002B/- 500m), and lands a lot better and less explosively. It can be flown with \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E off too, with trim/throttle. You can download it from here: \u003Ca href=\u0022https://www.dropbox.com/s/caihx0xsqqwagoj/Desert%20explorer%20Mk2b.craft?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EDesert Explorer Mk2b\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFull disclosure of the changes I made compared to your original:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nClosed the front bay door.\n\u003C/li\u003E\n\u003Cli\u003E\nReattached the engines and the main landing gear to the cargo bay instead of the wings. This helps against the flexing and the random collisions when landing.\n\u003C/li\u003E\n\u003Cli\u003E\nUsed the rotate gizmo in absolute mode to align the engines and main/front gear perfectly prograde. They weren\u0027t in the original.\n\u003C/li\u003E\n\u003Cli\u003E\nSwapped the wing position of engines and gears - just seemed more logical.\n\u003C/li\u003E\n\u003Cli\u003E\nPulled the two front gear separate from each other. I left the pair instead of just one because I favour using two of the medium gear on Mk3 plane noses - it helps them tolerate heavier loads, and minimizes rolling/veering at take off if the plane decides to \u0027wheel-barrow\u0027 with light loads.\n\u003C/li\u003E\n\u003Cli\u003E\nRotated/offset the cockpit ladders to their snap position. Added them to AG0.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded one fine \u0027tick\u0027 of angle of incidence (5 degrees of pitch up compared to the body) to the wings for better lift/drag performance. This also moves the \u003Cabbr title=\u0022Center of Lift\u0022\u003ECoL\u003C/abbr\u003E closer behind the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded one fine tick of dihedral (5 degrees up towards the wing tips) to add some roll stability.\n\u003C/li\u003E\n\u003Cli\u003E\nWith the wings a bit higher, there was room to offset the engines up, bringing the thrust vector closer behind the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E and granting more ground clearance for rougher landings.\n\u003C/li\u003E\n\u003Cli\u003E\nOffset the engines forward to bring the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E closer to the center of the 1.5 cargo bay.\n\u003C/li\u003E\n\u003Cli\u003E\nOffset the wings backwards to align the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E even closer to the bay center, and slightly lower to not clip the bay door hinge.\n\u003C/li\u003E\n\u003Cli\u003E\nEmptied all wing fuel to see how \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E shifted, and adjusted engines and wings in the length direction until the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E stayed centered in the bay regardless of fuel load. Cargo and fuel load won\u0027t matter this way.\n\u003C/li\u003E\n\u003Cli\u003E\nReplaced the large tail rectangle wing sections by smaller triangle ones, as the big tail was dragging the \u003Cabbr title=\u0022Center of Lift\u0022\u003ECoL\u003C/abbr\u003E too far behind.\n\u003C/li\u003E\n\u003Cli\u003E\nGave them 5 degrees of incidence and dihedral as well. This adds to the stability, and helps make pitch control more responsive.\n\u003C/li\u003E\n\u003Cli\u003E\nRe-angled the tail elevators closer to prograde, and disabled yaw/roll - left only pitch control.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a second set of elevators with deploy direction negated, added both sets to brake action group - they double as airbrakes now, helps with managing approach speed.\n\u003C/li\u003E\n\u003Cli\u003E\nMoved both sets of ailerons on the wings inward, angled more prograde. Added both sets to AG1 to serve as flaps.\n\u003C/li\u003E\n\u003Cli\u003E\nDisabled yaw/pitch/roll on the inner aileron pair - too close to the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E anyway to do any good for pitch, and we have way too much roll control as it is. These are dedicated flaps now.\n\u003C/li\u003E\n\u003Cli\u003E\nDisabled yaw/pitch on the outer pair, left only roll on, turned down the slider to 33%. They double as flaps too.\n\u003C/li\u003E\n\u003Cli\u003E\nDisabled pitch/roll on rudder, lowered yaw control to 50%.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded engine thrust reversers to AG2, and toggle on/off on AG3. Goliath thrust reversers are awesome at shortening the braking time.\n\u003C/li\u003E\n\u003Cli\u003E\nAdjusted ramp and bay door sliders, added them to AG9.\n\u003C/li\u003E\n\u003Cli\u003E\nOffset inner Jr docking port a bit backwards to create space for a ladder from the cockpit hatch. Added deployed ladder, added beam to visually \u0027hold\u0027 the docking port.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a second Jr docking port and an octo2 core to the front of the rover. It can redock front and back now, and be remotely controlled to pick up a kerbal.\n\u003C/li\u003E\n\u003Cli\u003E\nAdjusted rover wheels slightly inward and up to lower \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E (less chance of rolling) and fitting a bit better back into the cargo bay.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded airbrake on the cargo bay floor to serve as a deployable ramp/lift to help the rover redock again. (AG8) Adjust the slider as required for the rover/cargo used.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI noticed the Goliaths build up heat and transfer part of it to the cargo bays, wings and main gear after prolonged flight at full throttle, but other than showing a bit of glow nothing became critical. Makes for a nice long-range transport.\n\u003C/p\u003E\n\u003Cp\u003E\nI had fun with this, both recovering from the initial quicksave and tweaking the plane later. Thanks! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-04T05:18:16Z\u0022 title=\u002212/04/2017 05:18  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 4, 2017\u003C/time\u003E by swjr-swis\u003C/strong\u003E\n\u003Cbr\u003Etypos\n\u003C/span\u003E\n"},{"CreatedByName":"Corona688","CreatedById":2511,"CreatedDateTime":"2017-12-07T18:23:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223234596\u0022 data-ipsquote-contentid=\u0022168162\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221512343853\u0022 data-ipsquote-userid=\u002279928\u0022 data-ipsquote-username=\u0022Stewcumber\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/3/2017 at 5:30 PM, Stewcumber said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can understand that the game might mistakenly load\u00A0up the docking port as the control point (regardless of whether there is a rover attached or not), and that this could invert the axis as the docking port is facing the wrong way,\u00A0but what I don\u0027t understand is why that messes with the physics- the plane would just dive or climb with no input instead of gently gliding down (even if it gradually nosedived as it went). I know the plane is a bit of brick to handle (especially at 0 thrust) but I don\u0027t think the issues I was having are related to its \u0027lazy\u0027 attitude towards changing direction.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think it was in a \u003Ca href=\u0022https://en.wikipedia.org/wiki/Stall_(fluid_mechanics)\u0022 rel=\u0022external nofollow\u0022\u003Eaerodynamic stall condition\u003C/a\u003E.\u00A0 When your plane is at a strange angle with respect to its movement, especially when at slow speed, your wings and ailerons may abruptly stop generating lift.\u00A0 Worse yet is when \u003Cstrong\u003Esome but not all\u003C/strong\u003E wings and ailerons stop working, which can generate net forces that twist you around!\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a real thing and has killed many pilots.\u00A0 In some conditions it\u0027s almost impossible to regain control.\u00A0 KSP can cheat a bit with reaction wheels giving you marginal control even when all other control authority is lost.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-07T18:23:38Z\u0022 title=\u002212/07/2017 06:23  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 7, 2017\u003C/time\u003E by Corona688\u003C/strong\u003E\n\u003C/span\u003E\n"}]}