{"TopicId":114651,"ForumId":69,"TopicTitle":"Opening light menu causes huge lag spikes","CreatedByName":"Majorjim!","CreatedById":61954,"CreatedDateTime":"2015-06-30T14:58:47Z","PageNum":1,"Articles":[{"CreatedByName":"Majorjim!","CreatedById":61954,"CreatedDateTime":"2015-06-30T14:58:47Z","Content":"Hi all,\n\n Another day, another bug. \n\nOpening the RGB menu for lights causes huge lag spikes. It\u0027s 100% reproducible, put a light on a craft, open menu, boom."},{"CreatedByName":"Jon144","CreatedById":80626,"CreatedDateTime":"2015-06-30T15:03:29Z","Content":"Yeah I keep getting the same bug. It is amazingly frustrating when trying to tweak the color values. Especially with higher part count designs."},{"CreatedByName":"Majorjim!","CreatedById":61954,"CreatedDateTime":"2015-06-30T15:17:22Z","Content":"\u003E \n\u003E Yeah I keep getting the same bug. It is amazingly frustrating when trying to tweak the color values. Especially with higher part count designs.\n\nYes that\u0027s right.. It\u0027s stil there with just a light and nothing else it\u0027s just very subtle. When it\u0027s on a craft it\u0027s crippling."},{"CreatedByName":"JacobT11","CreatedById":11673,"CreatedDateTime":"2015-06-30T16:31:41Z","Content":"Yep, noticed this on stock and mod installs. It seems any time a right click menu causes visual changes in the VAB/SPH, it induces lag spikes. Such as changing light colors in stock, or adjusting fairings and landing gear via mods."},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-06-30T16:35:16Z","Content":"This appears to be exactly the same problem that occurs with the parachute altitude slider when you set it to some values. There is a bug in the slider code which makes it spam events saying that the vessel has changed. The engineers report runs each time this event is fired which would cause significant slowdown by itself because it creates quite a lot of garbage but there is also a memory leak in the code that updates the UI for the engineers report which causes the memory usage of KSP to rise rapidly (it will eventually crash).\n\nBasically, the RGB sliders show this problem when you set them at a value of 0.45, 0.65 or 0.9.\n\nThe reason it hits harder with a complex craft is simply because the engineers report has more work to do for a larger craft."},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2015-06-30T17:12:12Z","Content":"I\u0027ve found it to be much worse with the spotlight (Mk1) than with the worklight (Mk2) (possibly not even had it at all with the Mk2, but with the Mk1 it\u0027s really bad)\n\nSometimes you don\u0027t notice it too much... and then you try to pan the camera with the light menu open and suddenly find everything is in molasses!\n\nThat\u0027s interesting about the slow down cause being the engineers report Padishar. The slider code spamming vessel-changed events thing, that sounds like something that really should have been caught with good unit testing, not even acceptance/bug testing."},{"CreatedByName":"tutike2000","CreatedById":134359,"CreatedDateTime":"2015-06-30T23:04:43Z","Content":"Is there anything being generated in your logs ?"}]}