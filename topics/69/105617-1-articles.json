{"TopicId":105617,"ForumId":69,"TopicTitle":"1.0 - Settings not persisting across game reloads","CreatedByName":"HenleyRegatta","CreatedById":142002,"CreatedDateTime":"2015-04-28T12:40:49Z","PageNum":1,"Articles":[{"CreatedByName":"HenleyRegatta","CreatedById":142002,"CreatedDateTime":"2015-04-28T12:40:49Z","Content":"Since upgrading to 1.0 last night (via Steam; 32-bit KSP apparently) , I\u0027ve had an issue where whatever I put as Settings persist *during* the game session, but are re-set to defaults when I restart the game. This most obviously manifests as the screen resolution resetting (from my preferred 1920x1080 to the default 1280x720) , but also the Music comes back after being reset to 0% volume, and my Joystick mappings reset to defaults.\n\nIt appears - from looking at the User Directory - the game is correctly writing settings.cfg but, on game start, it\u0027s not reading it and then just writing defaults again.\n\nPossibly related (and possibly not...), occasionally clicking the \u0022Assign Axis\u0022 button in Settings to (re-)set my joystick axis just blanks out all options and doesn\u0027t pop-up the mini-dialog to assign an axis.\n\nI\u0027ve tried deleting the game (Steam\u0027s \u0022Remote Local Content\u0022) and re-installing, I\u0027ve removed the local directory, I\u0027ve tried deleting just settings.cfg.... none of these has made any difference to this behaviour.\n\nI can\u0027t see anything in either KSP.log or [Player.log](https://dl.dropboxusercontent.com/u/2191349/20150428-Player.log) . \n\n[System Specs](https://dl.dropboxusercontent.com/u/2191349/20150428-iGor-the-iMac.spx) also available if required."},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-04-28T13:30:28Z","Content":"It sounds as though some permissions might not be correctly set, though this does appear to be a bit odd. You may want to try the steps listed under the Mac OSX section for setting the permissions in [this post](https://forum.kerbalspaceprogram.com/threads/92228-Known-Issues-Self-Help). ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"HenleyRegatta","CreatedById":142002,"CreatedDateTime":"2015-04-28T15:32:13Z","Content":"For a moment I thought you\u0027d found it, because I followed the instructions and lo and behold, next reload of the game persisted graphics \u0026 sound settings.\n\nBut then I re-added my Joystick mappings, and Boom, restart caused all the settings to be lost. \n\nDid I read in the changelog that the way Joysticks are enumerated has changed in 1.0? I suspect that\u0027s got a relation to this issue: If I don\u0027t add any Joystick Axis bindings to my configuration, my config persists across game reloads. As soon as I add a mapping, the next game restart causes the config to reset to defaults."},{"CreatedByName":"TontonSancho","CreatedById":142036,"CreatedDateTime":"2015-04-28T16:50:39Z","Content":"I was going to create another thread but the title of this post is correct for my case : \u0022settings are not saved across game reload\u0022 ... in fact, not all settings.\n\nOS: Linux \\*ubuntu 14.04 series.\n\nPROBLEM: Some Settings are saved when some other not.\n\nNOT A PROBLEM (my case): log files and other stuff work well and are well stored.\n\nHere is a list of settings that are well stored across game reload:\n\n\u002B Graphics : Render Quality Level\n\n\u002B Input : All (at least keyboard settings, I have no joystick)\n\nAll other settings are not saved.\n\nMore strange stuff:\n\n\u002B Starting popup \u0022KSP Stats Tracking\u0022 settings are always shown.\n\nFile system permission checked recursively on all KSP files: at least r/w for user/group and \u002Bx on directories and binaries.\n\nFinally, I remember this problem was already there in past KSP releases, fixed on 0.90, but I can\u0027t tell on which old release.\n\nRegards.\n\n- - - Updated - - -\n\nUsing LC\\_ALL=C before command solves my problems.\n\nYou may try in Steam, editing the Launch options of KSP game :\n\n- Right-click on KSP game entry\n\n- Properties\n\n- SET LAUNCH OPTIONS... with value: LC\\_ALL=C %command%\n\nMay be ..."},{"CreatedByName":"Andy81le","CreatedById":95393,"CreatedDateTime":"2015-04-28T17:17:25Z","Content":"Same problem on Windows FYI."},{"CreatedByName":"Frankenchokey","CreatedById":32150,"CreatedDateTime":"2015-04-28T18:27:47Z","Content":"\u003E \n\u003E Same problem on Windows FYI.\n\nThe strange thing is, that despite the settings in the menu reverting to their defaults, most of the custom settings seem to load correctly. Keeping the settings.cfg open in Notepad\u002B\u002B, I can see the resolution options change back to 1280x720 when I exit the game, but the game still loads in 1920x1080. \n\nIt\u0027s as though the game is being run for the first time, and the defaults, including the popup asking for anonymous data to be submitted, are attempting to load.\n\n**Edited \u003Ctime datetime=\u00222015-04-28T18:36:15Z\u0022 title=\u002204/28/2015 06:36  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 28, 2015\u003C/time\u003E by Frankenchokey**"},{"CreatedByName":"Andy81le","CreatedById":95393,"CreatedDateTime":"2015-04-28T20:31:25Z","Content":"\u003E \n\u003E I was going to create another thread but the title of this post is correct for my case : \u0022settings are not saved across game reload\u0022 ... in fact, not all settings.\n\u003E OS: Linux \\*ubuntu 14.04 series.\n\u003E \n\u003E PROBLEM: Some Settings are saved when some other not.\n\u003E \n\u003E NOT A PROBLEM (my case): log files and other stuff work well and are well stored.\n\u003E \n\u003E Here is a list of settings that are well stored across game reload:\n\u003E \n\u003E \u002B Graphics : Render Quality Level\n\u003E \n\u003E \u002B Input : All (at least keyboard settings, I have no joystick)\n\u003E \n\u003E All other settings are not saved.\n\u003E \n\u003E More strange stuff:\n\u003E \n\u003E \u002B Starting popup \u0022KSP Stats Tracking\u0022 settings are always shown.\n\u003E \n\u003E File system permission checked recursively on all KSP files: at least r/w for user/group and \u002Bx on directories and binaries.\n\u003E \n\u003E Finally, I remember this problem was already there in past KSP releases, fixed on 0.90, but I can\u0027t tell on which old release.\n\u003E \n\u003E Regards.\n\u003E \n\u003E - - - Updated - - -\n\u003E \n\u003E Using LC\\_ALL=C before command solves my problems.\n\u003E \n\u003E You may try in Steam, editing the Launch options of KSP game :\n\u003E \n\u003E - Right-click on KSP game entry\n\u003E \n\u003E - Properties\n\u003E \n\u003E - SET LAUNCH OPTIONS... with value: LC\\_ALL=C %command%\n\u003E \n\u003E May be ...\n\n\u003E \n\u003E The strange thing is, that despite the settings in the menu reverting to their defaults, most of the custom settings seem to load correctly. Keeping the settings.cfg open in Notepad\u002B\u002B, I can see the resolution options change back to 1280x720 when I exit the game, but the game still loads in 1920x1080. \n\u003E It\u0027s as though the game is being run for the first time, and the defaults, including the popup asking for anonymous data to be submitted, are attempting to load.\n\nI can confirm the symptoms described above to be also present on windows. Setting the launch options did not solve my problem on windows steam, unfortunately."},{"CreatedByName":"quietghost","CreatedById":117566,"CreatedDateTime":"2015-04-28T20:34:40Z","Content":"This is a confirmed bug, so no need for additional reporting. The reason it does this is that the game replaces the current settings file with the default one it keeps stored \\*somewhere\\* but I don\u0027t remember where. My usual hotfix is to edit the settings.cfg file manually but I am unsure if this consistently solves the problem"},{"CreatedByName":"Andy81le","CreatedById":95393,"CreatedDateTime":"2015-04-28T21:09:55Z","Content":"\u003E \n\u003E This is a confirmed bug, so no need for additional reporting. The reason it does this is that the game replaces the current settings file with the default one it keeps stored \\*somewhere\\* but I don\u0027t remember where. My usual hotfix is to edit the settings.cfg file manually but I am unsure if this consistently solves the problem\n\nCould you please be more specific? The only settings.cfg I have found is in my KSP main directory. Does the one you\u0027re refering to have a different name? \n\nAlso, is this bug in the bug tracker? I was looking around for it before posting, but couldn\u0027t find anything about it, hence this reporting here.\n\n- - - Updated - - -\n\nMy temporary solution is to delete settings.cfg from the KSP main folder and let KSP create a new one. I also added a settings.cfg.bak to the launcherdata folder (with my settings; although I am not sure this is part of the solution).\n\n**Edited \u003Ctime datetime=\u00222015-04-28T20:43:58Z\u0022 title=\u002204/28/2015 08:43  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 28, 2015\u003C/time\u003E by Andy81le**"},{"CreatedByName":"quietghost","CreatedById":117566,"CreatedDateTime":"2015-04-28T21:48:11Z","Content":"The settings.cfg.bak file is the file I was talking about. For some reason KSP sometimes reverts to that file even with the settings.cfg defined. The bug has been reported (somewhere on the public tracker probably since this issue has been around for awhile now), but if it is not on the public tracker don\u0027t fret, it has been reported elsewhere."},{"CreatedByName":"HenleyRegatta","CreatedById":142002,"CreatedDateTime":"2015-05-01T16:34:59Z","Content":"Just for clarity: This issue / bug isn\u0027t resolved by the V1.0.1 patch (v1.0.1.840), at least on my system. \n\nThe same behaviour applies:\n\n \\* Configure game settings without joystick mappings -\u003E Settings preserved across game restarts.\n\n \\* Configure game settings **with** joystick mappings -\u003E Settings revert to first-install defaults when the game restarts."},{"CreatedByName":"Frankenchokey","CreatedById":32150,"CreatedDateTime":"2015-05-01T16:52:52Z","Content":"\u003E \n\u003E Just for clarity: This issue / bug isn\u0027t resolved by the V1.0.1 patch (v1.0.1.840), at least on my system. \n\u003E The same behaviour applies:\n\u003E \n\u003E  \\* Configure game settings without joystick mappings -\u003E Settings preserved across game restarts.\n\u003E \n\u003E  \\* Configure game settings **with** joystick mappings -\u003E Settings revert to first-install defaults when the game restarts.\n\nJust curious, what kind of joystick are you (and others) using when encountering this problem? I ask because I am wondering if it has to do with all joystick mapping, or perhaps is somehow connected to sticks/pads that power on/off such as wireless controllers? \n\nMore specifically, I\u0027m wondering if it is the changes in connected and mapped controllers that is causing an issue?"},{"CreatedByName":"HenleyRegatta","CreatedById":142002,"CreatedDateTime":"2015-05-01T17:08:40Z","Content":"\u003E \n\u003E Just curious, what kind of joystick are you (and others) using when encountering this problem? I ask because I am wondering if it has to do with all joystick mapping, or perhaps is somehow connected to sticks/pads that power on/off such as wireless controllers? \n\u003E More specifically, I\u0027m wondering if it is the changes in connected and mapped controllers that is causing an issue?\n\nI\u0027m using a USB connected (=wired) Saitek Cyborg Evo (Or, as OS X and therefore KSP wants to label it, \u0022Saitek Cyborg USB Stick\u0022). That wouldn\u0027t immediately invalidate your hypothesis if I\u0027d unplugged/replugged between launches (I believe there are device numbers that increment on OS X on every plug, reset on reboot).\n\nHowever I\u0027ve exposed this settings-resetting behaviour when relaunching without unplugging/replugging too (so there\u0027s absolutely nothing, from an OS perspective, different in configuration between game launches)."},{"CreatedByName":"Frankenchokey","CreatedById":32150,"CreatedDateTime":"2015-05-01T17:40:38Z","Content":"I did a little bit more experimenting with this, but still can\u0027t quite pinpoint the cause. I had both a logitech F710 and Thrustmaster T16000m attached originally. I removed the F710 from, mapped some axes and buttons to the T16000m. Shutdown KSP and restarted a few times with no issue. \n\nThen reattached the F710 and tried to assign some buttons to it, which mostly worked (had the issue with the accept dialog never appearing on the axis), but buttons worked fine. \n\nRelaunched KSP a few times, no issue with settings reverting to default. T16000m was assigned to Input id =0 and F710 =1.\n\nSo I tried unplugging the T16000m, restarted KSP and got the reset to default issue again. Checking the settings.cfg, the Logitech as again assigned to Input Device 0 and the T16000 was no longer listed. \n\nWhile this reset to default happened right after I changed the devices, it could just be coincidence. Will keep trying to see if I get similar results."},{"CreatedByName":"Trainzack","CreatedById":100807,"CreatedDateTime":"2015-05-03T16:16:53Z","Content":"This bug is happening to me too. I am running windows 7, and use a joystick. The settings keep getting changed back as others have stated."},{"CreatedByName":"salts","CreatedById":142930,"CreatedDateTime":"2015-05-03T19:33:14Z","Content":"Hello all, \n\nI am having the same problem, running Windows 7 with a MS Sidewinder joystick. Even applying the settings without the joystick, then launching without the joystick result in settings, uh, resetting. For example, I launched the game and set the graphics to full screen, then quit and immediately relaunched the game and the settings reset again."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-04T21:29:21Z","Content":"Hi guys, we found what was causing this on Linux, it may help you as well.\n\nThis was affecting players using a non-English operating system language, it can be worked around by using English or forcing the game to use either English or Posix.\n\nOn Linux this is done by starting KSP with \u0022LC\\_ALL=C ./KSP.x86\u0022, OS X may also have the LC command as it\u0027s from Unix, so it\u0027s worth trying.\n\n[http://blog.remibergsma.com/2012/07/10/setting-locales-correctly-on-mac-osx-terminal-application/](http://blog.remibergsma.com/2012/07/10/setting-locales-correctly-on-mac-osx-terminal-application/)\n\nYour current settings.cfg will need to be deleted and you\u0027ll either need to use the above each time, make a script or add \u0022LC\\_ALL=C %command%\u0022 to your Steam properties for KSP."},{"CreatedByName":"H2O.","CreatedById":92782,"CreatedDateTime":"2015-05-05T07:22:09Z","Content":"I confirm that what the OP describes is *exactly* what I experienced on linux.\n\nDo you guys confirm that your OS is not set in english?"},{"CreatedByName":"ShadowElite","CreatedById":131178,"CreatedDateTime":"2015-05-08T12:52:43Z","Content":"guys I am having this exact same issue. I hope they fix this soon ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif)"},{"CreatedByName":"H2O.","CreatedById":92782,"CreatedDateTime":"2015-05-08T20:52:36Z","Content":"Have you tried launching the game with the \u0022C\\_ALL=C %command%\u0022 parameter? It worked for a lot of people."},{"CreatedByName":"Lynx073","CreatedById":143480,"CreatedDateTime":"2015-05-08T22:02:39Z","Content":"\u003E \n\u003E Could you please be more specific? The only settings.cfg I have found is in my KSP main directory. Does the one you\u0027re refering to have a different name? \n\u003E Also, is this bug in the bug tracker? I was looking around for it before posting, but couldn\u0027t find anything about it, hence this reporting here.\n\u003E \n\u003E - - - Updated - - -\n\u003E \n\u003E My temporary solution is to delete settings.cfg from the KSP main folder and let KSP create a new one. I also added a settings.cfg.bak to the launcherdata folder (with my settings; although I am not sure this is part of the solution).\n\nI started having this issue after making controls for Xbox 360 wired controller on Windows 8.1. Switched to Xbox One controller since and copied my settings settings.cfg to the settings.cfg.bak in the launcher\\_data folder and this seems to have fixed it for me as well so thanks for the fix. \n\nNote: I tried with Xbox One controller without the settings.cfg.bak fix and the problem persisted so I think the controller change unrelated to the fix\n\n- - - Updated - - -\n\n\u003E \n\u003E Could you please be more specific? The only settings.cfg I have found is in my KSP main directory. Does the one you\u0027re refering to have a different name? \n\u003E Also, is this bug in the bug tracker? I was looking around for it before posting, but couldn\u0027t find anything about it, hence this reporting here.\n\u003E \n\u003E - - - Updated - - -\n\u003E \n\u003E My temporary solution is to delete settings.cfg from the KSP main folder and let KSP create a new one. I also added a settings.cfg.bak to the launcherdata folder (with my settings; although I am not sure this is part of the solution).\n\nI started getting this issue after setting up controls for my Xbox 360 wired controller on Windows 8.1.\n\nI did more or less the same thing as you for a fix. Copied the text from my settings.cfg to the settings.cfg.bak in the launcher\\_data folder. This seems to have solved the problem for me so thanks for the fix ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"}]}