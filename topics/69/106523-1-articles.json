{"TopicId":106523,"ForumId":69,"TopicTitle":"KSP crashes when taking screen shot","CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-01T09:54:07Z","PageNum":1,"Articles":[{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-01T09:54:07Z","Content":"build id = 00830 2015.04.26 at 19:45:40 CEST Branch: master\n\nObviously, I can\u0027t include a screen-shot of this problem... It\u0027s not specific to any save file or craft. Happens any/every time I press F1. Windows reports KSP has stopped working.\n\n[Link to output_log.txt on Dropbox.](https://www.dropbox.com/s/qbfblyw6w0zh2ao/output_log.txt?dl=0)\n\n[DxDiag.txt on Dropbox.](https://www.dropbox.com/s/mfnf499xo71y0rf/DxDiag.txt?dl=0)\n\nThanks for your time and attention!"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-01T10:41:48Z","Content":"Hi Kurld, please reinstall KSP to C:\\Games, running KSP from the desktop causes issues."},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-01T18:46:40Z","Content":"OK, sure. Let me try that.\n\n- - - Updated - - -\n\nNope, no joy."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-05-02T01:21:37Z","Content":"Make sure that you Copy \u0026 Past (not move), or do a fresh install to somewhere outside of windows protected areas. If you move it, Windows sees what you are doing and continues to \u0022help\u0022 you out.\n\nBeyond that, I\u0027m not sure I\u0027ve seen this problem before......"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-02T14:50:22Z","Content":"Ok... let me make sure I\u0027m following you. I think yesterday I just moved the ksp\\_win folder from my desktop to the root of my c drive. Instead I should have copy-pasted. (I don\u0027t \u0022install\u0022 the game, just unzip the file I get from Squad\u0027s site).\n\nI\u0027ll give it another shot.\n\nThis actually appeared in the beta, but I figured I\u0027d ignore it until the full release came out. I used to play back in .23 (on a different machine) and never had any issues. I will also reinstall it on that box and see what happens on it.\n\nA new gaming rig is on the way soon, so it may be moot. This machine I\u0027m on now is about six years old (hardware-wise) There\u0027s no telling about how compatible to drivers are."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T14:58:22Z","Content":"I better explain the reason for the advice above.\n\nUnless you use Steam or the Squad installer, KSP won\u0027t have a Windows registry entry telling Windows what folders KSP is allowed to write to, this is not only true of KSP but of any software that is just extracted manually from an archive file.\n\nIf such software is extracted to a folder that Windows protects from malicious code, [Data Execution Prevention](https://en.wikipedia.org/wiki/Data_Execution_Prevention) can stop it from writing files or even from working at all.\n\nDEP exists on Linux and OS X as well, but is particularly annoying on Windows.\n\nThe KSP.exe would be flagged as potentially malicious and the files ID logged, so even if it\u0027s moved elsewhere DEP won\u0027t let it run properly.\n\nCopying the game, or re-extracting afresh, gives you new files that are not logged, and as long as these are run from a non-protected Windows folder Windows couldn\u0027t care less if your software hosed your system or turned it into a botnet zombie.\n\nSo the copied KSP should run just fine ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-02T15:10:17Z","Content":"OK, I extracted the game files to my c drive from the zip file. Still crashes.\n\n[I took a screenshot in windows (PrtScn key).](https://www.dropbox.com/s/uug226b1wgwltsr/ksp_crash.jpg?dl=0)\n\nHere is the text that is in the dialog:\n\nProblem signature:\n\n Problem Event Name: APPCRASH\n\n Application Name: KSP.exe\n\n Application Version: 4.6.4.63619\n\n Application Timestamp: 55115266\n\n Fault Module Name: ntdll.dll\n\n Fault Module Version: 6.1.7601.18798\n\n Fault Module Timestamp: 5507b3e0\n\n Exception Code: c0000005\n\n Exception Offset: 000222d2\n\n OS Version: 6.1.7601.2.1.0.256.1\n\n Locale ID: 1033\n\n Additional Information 1: b7be\n\n Additional Information 2: b7beb4baeb9b8a37e91008d4eb17e0e0\n\n Additional Information 3: 2f84\n\n Additional Information 4: 2f8460e7dab64ba52d6cabb526323d4a\n\n- - - Updated - - -\n\nSo, just to be sure, I re-extracted to C:\\KSP. Would that be a good location?"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T15:10:22Z","Content":"Okay this is really really strange, it should be working, can you please post another output\\_log after this occurs."},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-02T15:44:07Z","Content":"Sure, give me a few minutes. Meanwhile, I installed the game on another computer (the one I was using before) and it was happy to take screenshots."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T15:47:43Z","Content":"That suggests something you have installed is causing this, can you also post pics of your task manager showing your running processes to imgur.com ?"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-02T15:54:44Z","Content":"[Here is the output_log file from the install to C:\\KSP.](https://www.dropbox.com/s/tozwbt8zi5ipved/output_log_again.txt?dl=0)\n\n- - - Updated - - -\n\n[And here is a screenshot of running processes.](https://www.dropbox.com/s/q9joz9p9vd8twmy/running.jpg?dl=0) I ticked \u0022show processes from all users\u0022 but I run under the username Geek."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T16:14:01Z","Content":"There\u0027s no hit at all that I can see that might explain this, can you try remapping the screenshot key, you can find it in the settings.cfg\n\nTAKE\\_SCREENSHOT\n\n{\n\n primary = F1\n\n secondary = None\n\n group = 0\n\n modeMask = -1\n\n modeMaskSec = -1\n\n}"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-02T16:23:12Z","Content":"TAKE\\_SCREENSHOT\n\n{\n\n primary = RightShift\n\n secondary = None\n\n group = 0\n\n modeMask = -1\n\n modeMaskSec = -1\n\n}\n\nstill blows up.\n\nOn a lark, I went into services.msc and turned off anything that wasn\u0027t from MS and rebooted. That didn\u0027t help either.\n\nI\u0027ll work on this as long as you want, but like I say, it works fine on another PC and I\u0027m building a new gaming rig very soon, so it\u0027s essentially moot for me at this point (assuming screenshots work on new system, lol) \n\nIf you want me to keep trying different stuff to get to the bottom of things, though, I am willing to help out however I can."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T16:29:43Z","Content":"Nah it\u0027s okay, but if you do figure it out it could help others with the same issue ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-02T17:00:14Z","Content":"On another lark, I tried reducing the resolution to 1600x1200 (instead of 2560x1440) and running the game in a window (instead of full-screen). This actually allowed me to take a screenshot.\n\n- - - Updated - - -\n\nMore info: running in a 2560x1440 *window* (not full screen) causes it to blow up on screenshot.\n\n- - - Updated - - -\n\nRunning it 1920x1080 in full screen also allows a screenshot (sure looks ugly though). So something about 2560x1440 is causing it to blow.\n\n**Edited \u003Ctime datetime=\u00222015-05-03T11:52:37Z\u0022 title=\u002205/03/2015 11:52  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 3, 2015\u003C/time\u003E by Kurld**\n  \nremoved erroneous logic"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-02T17:20:27Z","Content":"Maybe 2560x1440 is just more than it can handle."},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-05-03T11:51:27Z","Content":"What would be the limitation there? Video memory?"},{"CreatedByName":"TheMoonRover","CreatedById":136199,"CreatedDateTime":"2015-05-03T12:13:12Z","Content":"I would say probably, particularly since you\u0027re using an older computer.\n\nThere is an option in the settings.cfg which increases the resolution of screenshots, \u0022SCREENSHOT\\_SUPERSIZE = 0\u0022 but you can\u0027t change it in game. If that is turned up too high, it can cause the game to crash because of the limited video memory, but you would have to have manually edited the file to get that. But the same thing would happen if the screen resolution itself is too high, which looks to be the case."}]}