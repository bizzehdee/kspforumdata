{"TopicId":117081,"ForumId":69,"TopicTitle":"[BUG] Jet engines drawing fuel through decouplers first","CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-07-27T21:22:48Z","PageNum":1,"Articles":[{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-07-27T21:22:48Z","Content":"**Overview:**\n\nAll jet engines, including the RAPIER regardless of mode, draw fuel from across decouplers and, additionally, draw fuel from tanks separated by decouplers **first**.\n\n**Symptoms:**\n\nFuel is drawn from tanks that are segregated by decouplers without the presence of a fuel line. This is highly detrimental to airbreathing SSTO spaceplanes attempting to deliver fuel-containing payloads to orbit. Below is a test craft which represents a cargo-containing SSTO and demonstrates the detriments of this.\n\n**Repro Steps:**\n\n1. Build\n\n\u003E ![bcDiBLi.png](http://i.imgur.com/bcDiBLi.png)  \n\u003E To build:  \n\n1. \n2. Place Mk2 cockpit as root\n3. Add large mk2 cargo bay\n4. Add bicoupler\n5. Add two RAPIER engines on the bicoupler\n6. Place 1.25m stack decoupler inside bay\n7. Place Mk1 jet fuel tank on decoupler\n8. Secure craft with launch clamps\n9. Varify the RAPIERs are in the first stage and everything else is not\n10. ![zWGWK05.png](http://i.imgur.com/zWGWK05.png)\n11. Launch, throttle up, and stage once.\n12. Upon RAPIER flameout, inspect fuel quantities of both tanks. They should look like ![cdcedWJ.png](http://i.imgur.com/cdcedWJ.png)\n\n**Other Applicable Info:**  \nAs evidenced by my UI, I tested this in a heavily modded 1.0.3 version of KSP running on DX11. I received assistance verifying this issue\u0027s continued presence in vanilla 1.0.4 from other forumers in the KSP forum Steam group (shoutout to those guys for that).  \nSpike sent me his screenshot evidence viewable [here](http://images.akamai.steamusercontent.com/ugc/445080091671137701/E64ECCF9CA00FBD80E310CD7735D5E14D089CCBB/).  \n\n* * *\n  \n**Update:**  \nSo apparently not even fuel lines can prevent this issue:  \n![AAC00376D3B40C2AE312A16C62FF080D5677568C](http://images.akamai.steamusercontent.com/ugc/445080091671368215/AAC00376D3B40C2AE312A16C62FF080D5677568C/)  \nImage courtesy of the Steam group guys.  \n\n* * *\n  \n**UPDATE 2:**  \nFollowing thread merge confusion, this thread is now exclusively related to jet engines drawing from decoupler separated tanks **before** others. Fixing other problematic \u0022features\u0022 of this flow mode change is the topic for another thread (which I very much intend to start in Suggestions later). There\u0027s also another thread (that\u0027s somewhat old now) reporting the same problem which you can view [here](https://forum.kerbalspaceprogram.com/threads/117983-Aren-t-decouplers-supposed-to-block-fuel-flow).  \nThis issue specifically appears to be related to how the fuel search is working. Unlike normal liquid engines, the search is done only once and is done relative the root part, not the engine. It targets tanks which will be decoupled first, and tanks that wont be decoupled at all last (this was designed originally for monopropellant). If your root part is not on your payload, the game treats your payload as a drop tank.\n\n It should look like \n\n on the runway.\n\n**Edited \u003Ctime datetime=\u00222015-07-28T18:16:45Z\u0022 title=\u002207/28/2015 06:16  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 28, 2015\u003C/time\u003E by Captain Sierra**\n  \nRebranding to more-correct bug."},{"CreatedByName":"anxcon","CreatedById":148336,"CreatedDateTime":"2015-07-28T01:39:16Z","Content":"if you do normal tank decoupler tank (no cargo bay) does it still do it? makes me wonder if its due to cargo bay working around the normal stack shape\n\nin which case makes me wonder if crossfeed to false on cargo bay fixes it\n\neither case, lock tank contents"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-07-28T03:08:50Z","Content":"\u003E \n\u003E if you do normal tank decoupler tank (no cargo bay) does it still do it? makes me wonder if its due to cargo bay working around the normal stack shape\n\u003E in which case makes me wonder if crossfeed to false on cargo bay fixes it\n\u003E \n\u003E either case, lock tank contents\n\nCargo bays don\u0027t do anything special with the part tree. Unity sees no difference between using the cargo bay or a bicoupler in this scenario (at least thats what my approaching 2000 hours and very limited Unity experience tells me).\n\nYes definitely lock tank contents, but if the scenario is a lander with many tanks buried under other parts, that gets harder. Locking of tank flow should be toggleable via AG."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-07-28T03:44:44Z","Content":"Well, I hate to inform you guys but this is actually by design rather than a bug.\n\nWith 1.0 came a change in the fuel flow mode for jet engines and rapiers (i.e. \u0022air breathers\u0022) in that they basically pull fuel from all over. And a product of that fuel flow method is that, not only do they pull fuel from all over, but fuel attached behind lower stages (i.e. behind a decoupler) is consumed first. That means what you are demonstrating in this thread is the way it\u0027s designed to function (suck fuel from things that are scheduled to be jettisoned).\n\nWhy was this done? Well, it\u0027s part of the master plan to make controlling the Center of Mass easier. Except (in my opinion) it causes way more problems and doesn\u0027t help with CoM control much at all, unless you have a very (very) simple design. In my opinion, one of the most common uses for a space plan (which typically uses jets) is to deliver probes or payloads to space. This fuel flow mode ensures that any payload connected in the bay via a decoupler will be consumed first, which is (in all likely hood) the opposite of what is desired.\n\nSo the problem is that I can build a \u0022fix\u0022 for this, except it\u0027s actually working exactly as designed. It\u0027s actually not the decoupler\u0027s fault, it\u0027s how the fuel flow mode works for the engine. So I\u0027m stuck in sort of an odd spot on this \u0022fix.\u0022\n\nCheers (or not...)\n\n~Claw"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-07-28T04:20:37Z","Content":"\u003E \n\u003E -long quote snip-\n\nI actually knew this going in, but a \u0022feature\u0022 that makes your life harder instead of easier against its design more often than not, to me, is the definition of a bug, intentional or otherwise.\n\nAdditionally, decouplers explicitly state they do not allow fuel crossfeed, but this is not respected. When the game tells you something, then contradicts that, ... you see where I\u0027m going.\n\nLastly, if I wanted fuel to flow across decouplers, I\u0027d use a fuel line. Thats how we did it way back when.\n\nI acknowledge the all-tank fuel draw would be fine if it were per-stage. That part of this new fuel flow mode is not bad, just the lack of respect for decouplers.\n\nAlso I knew going into this I\u0027d have to fight to call this a bug, but I believe I\u0027ve made a solid enough case to document this as a problem, intentional feature or otherwise."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-07-28T06:12:50Z","Content":"Well, please don\u0027t take my posting to mean \u0022don\u0027t bring this up.\u0022\n\nI would say it is working as intended (so not a bug), but it is valid feedback that I happen to agree with. It\u0027s might be working, but isn\u0027t necessarily achieving the most useful results. Simply (as you point out) makes it harder to deal with, and not easier.\n\nCheers,\n\n~Claw"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-07-28T08:28:48Z","Content":"If it\u0027s fuel flow for the engines, is the fix as simple as changing that in the config? I\u0027ll grant you it\u0027s working as intended, but the intention is undesirable. It\u0027s like if they coded vessels to explode once they reached 80 km."},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-07-28T09:44:03Z","Content":"Am I right in thinking that removing \u0022resourceFlowMode = STAGE\\_PRIORITY\\_FLOW\u0022 from the part config will put this back?\n\nJets have it, rockets do not..."},{"CreatedByName":"rtxoff","CreatedById":107622,"CreatedDateTime":"2015-07-28T09:57:09Z","Content":"It will but then it will fall back to the old behavior where fuel is not consumed evenly from all tanks. In my opinion the fuelCrossFeed = False from the stack decouplers should be respected, the radial decouplers don\u0027t have this line anymore so they still would work for mounting drop tanks. Or even better make all the decouplers/pylons switchable for allowing cross feed or not.\n\nIt\u0027s clearly a bug from my point of view because stacked decouplers \u0022fuelCrossFeed = False\u0022 is ignored completely with jet engines."},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-07-28T10:03:01Z","Content":"\u003E \n\u003E It will but then it will fall back to the old behavior where fuel is not consumed evenly from all tanks\n\nGood, that\u0027s what OP (and I) want. It\u0027s easier to manage fuel flow and mass distribution around a vessel when A, you know the cargo isn\u0027t changing weight, B, decouplers and fuel lines are respected and C, you don\u0027t have to fiddle around with every tank to pump fuel around where you want it."},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-07-28T10:20:19Z","Content":"Ya, I too prefer the old (though still not optimal) setup."},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-07-28T10:57:12Z","Content":"This is a very difficult thing for them to improve without making significant changes to the resource flow code. The STACK\\_PRIORITY\\_SEARCH mode makes it necessary to use fuel lines or other tricks to get fuel through (or from) surface attached parts like wings and can drain unevenly but using the existing STAGE\\_PRIORITY\\_FLOW mode used by monoprop and xenon for the jet engines has various issues that don\u0027t appear to have been considered in enough depth before the change (or it, presumably, wouldn\u0027t have been made). What should really have been done is to create a detailed description of a new flow mode for jet engines that completely specifies how it should behave and then implement it. While in the area, the same should also be done for fuel cells (they also draw LF/O using the monoprop flow mode which can cause issues) and ISRU convertors, probably defining several new flow modes that could be selected in the VAB (e.g. just parent part, user specified tank, same stage only, fuel lines only etc.). However, this would be a fairly significant chunk of work and, given that the existing flow modes do generally work pretty well once you understand them (except for some odd effects like asymmetrical flameout due to part placement order), and the amount of other things to be worked on, I can understand why the developers have been reluctant to spend time in this area..."},{"CreatedByName":"Wintersdark","CreatedById":128573,"CreatedDateTime":"2015-07-28T13:53:55Z","Content":"Having fuel be consumed evenly is great, but this should respect the \u0022NO FUEL CROSSFEED\u0022 property of decouplers. Leave it to the player to add a fuel line if they wish to bypass the no crossfeed property; that way, everyone wins. Fuel is consumed evenly, unless you don\u0027t want it to be."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-07-28T15:24:09Z","Content":"\u003E \n\u003E Well, I hate to inform you guys but this is actually by design rather than a bug.\n\u003E With 1.0 came a change in the fuel flow mode for jet engines and rapiers (i.e. \u0022air breathers\u0022) in that they basically pull fuel from all over. And a product of that fuel flow method is that, not only do they pull fuel from all over, **but fuel attached behind lower stages (i.e. behind a decoupler) is consumed first.** That means what you are demonstrating in this thread is the way it\u0027s designed to function (suck fuel from things that are scheduled to be jettisoned).\n\u003E \n\u003E Why was this done? **Well, it\u0027s part of the master plan to make controlling the Center of Mass easier.** Except (in my opinion) it causes way more problems and doesn\u0027t help with CoM control much at all, unless you have a very (very) simple design. In my opinion, one of the most common uses for a space plan (which typically uses jets) is to deliver probes or payloads to space. This fuel flow mode ensures that any payload connected in the bay via a decoupler will be consumed first, which is (in all likely hood) the opposite of what is desired.\n\u003E \n\u003E So the problem is that I can build a \u0022fix\u0022 for this, except it\u0027s actually working exactly as designed. It\u0027s actually not the decoupler\u0027s fault, it\u0027s how the fuel flow mode works for the engine. So I\u0027m stuck in sort of an odd spot on this \u0022fix.\u0022\n\u003E \n\u003E Cheers (or not...)\n\u003E \n\u003E ~Claw\n\nHaving to take issue with the bolded parts of your quoted text.\n\nFirstly, the fuel tank in the OP\u0027s example plane is in FRONT of the decoupler. By your definition it should not be doing what it\u0027s doing. Note my example below. This is basically the same thing except for the arrangement of the stack nodes (the cargo bay having two bottom and top stack nodes because of the way it works). This works correctly and is doing what it is supposed to be doing\n\n[![o8AcIFqh.jpg?1](http://i.imgur.com/o8AcIFqh.jpg?1)](http://imgur.com/o8AcIFq)\n\nAlso, the point isn\u0027t to control center of mass, it\u0027s supposed to ensure that resources are drawn from the current stage first and ONLY look outside the current stage if resources are no longer available in the current stage. That\u0027s the intended behavior and the OP\u0027s example is not behaving according to intended behavior."},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-07-28T15:29:52Z","Content":"\u003E \n\u003E Well, please don\u0027t take my posting to mean \u0022don\u0027t bring this up.\u0022\n\u003E I would say it is working as intended (so not a bug), but it is valid feedback that I happen to agree with. It\u0027s might be working, but isn\u0027t necessarily achieving the most useful results. Simply (as you point out) makes it harder to deal with, and not easier.\n\u003E \n\u003E Cheers,\n\u003E \n\u003E ~Claw\n\nYeah I understand. You\u0027re fully aware its an entirely undesirable mechanic, but hesitant to \u0022fix\u0022 what technically isnt broken, even if it is detrimental. I cant say I know what its like to be in that position, but I can definitely understand your bind.\n\nAlso the part you interpret as \u0022dont bring this up\u0022 was not geared towards you. I fully expected Sal or one of the other game-mechanic-savvy mods to pop in and dismiss this for being not a bug, and in that case I\u0027d defnitely have to fight to keep my bug report.\n\n\u003E \n\u003E If it\u0027s fuel flow for the engines, is the fix as simple as changing that in the config? I\u0027ll grant you it\u0027s working as intended, but the intention is undesirable. It\u0027s like if they coded vessels to explode once they reached 80 km.\n\nIt is as simple as removing that line from the .cfg (which reverts them to standard liquid fuel engine behavior), but a) I want to keep the even tank draining, and ![B)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png) we the players should not have to edit our game files to avoid bad development decisions (this IMHO being a relatively poorly thought through one at best).\n\n\u003E \n\u003E Good, that\u0027s what OP (and I) want. It\u0027s easier to manage fuel flow and mass distribution around a vessel when A, you know the cargo isn\u0027t changing weight, B, decouplers and fuel lines are respected and C, you don\u0027t have to fiddle around with every tank to pump fuel around where you want it.\n\n\u003E \n\u003E Having fuel be consumed evenly is great, but this should respect the \u0022NO FUEL CROSSFEED\u0022 property of decouplers. Leave it to the player to add a fuel line if they wish to bypass the no crossfeed property; that way, everyone wins. Fuel is consumed evenly, unless you don\u0027t want it to be.\n\nTotally agree.\n\n\u003E \n\u003E A software bug is an error, flaw, failure, or fault in a computer program or system that causes it to produce an incorrect or unexpected result, or to behave in unintended ways.\n\nFuel crossfeeding across a part which explicitly states it does not allow certainly seems to match this, though as I understand what\u0027s going on under the hood, there technically isnt any code malfunction here. Whether or not we can declare this a bug is highly dependent on how we frame the issue.\n\n- - - Updated - - -\n\n\u003E \n\u003E Having to take issue with the bolded parts of your quoted text.\n\u003E Firstly, the fuel tank in the OP\u0027s example plane is in FRONT of the decoupler. By your definition it should not be doing what it\u0027s doing. Note my example below. This is basically the same thing except for the arrangement of the stack nodes (the cargo bay having two bottom and top stack nodes because of the way it works). This works correctly and is doing what it is supposed to be doing\n\u003E \n\u003E http://imgur.com/o8AcIFq[http://i.imgur.com/o8AcIFqh.jpg?1](http://i.imgur.com/o8AcIFqh.jpg?1)\n\u003E \n\u003E Also, the point isn\u0027t to control center of mass, it\u0027s supposed to ensure that resources are drawn from the current stage first and ONLY look outside the current stage if resources are no longer available in the current stage. That\u0027s the intended behavior and the OP\u0027s example is not behaving according to intended behavior.\n\nI didnt even catch that in Claw\u0027s post. Yes, you basically hit my point on the head. This is the problem, this is the bug, and this is what needs fixing."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-07-28T15:52:23Z","Content":"\u003E \n\u003E Well, I hate to inform you guys but this is actually by design rather than a bug.\n\nI recommend that anyone unhappy with this feature [**votes for the feedback issue on the bug tracker**](http://bugs.kerbalspaceprogram.com/projects/ksp/issues).\n\nBut as Claw explains this is intentional, and jet engines including the Rapier will draw from all tanks on a stage by stage basis, starting with the lowest stage, just as RCS thrusters will.\n\nAs can be seen here, the fuel flow with a jet matches the drain seen with RCS and monoprop, with the last stage in the construction \u0022tree\u0022 being the first stage that fuel is drawn from.\n\n\u003E [Javascript is disabled. View full album](//imgur.com/a/lGCA5)\n\nAny tanks lower in the tree, such as droptanks or cargo, will be drawn from first, and the only way to prevent this is to use the right click context menu to disable fuel flow from tanks that are intended as payload.\n\nPlease note that if fuel is draining from upper tanks through decoplers first then either something has gone wrong with the build and KSP does not realize there\u0027s a decoupler in the way, KSP has found a path due to other parts or the top of the craft was added to a common booster stage (or it\u0027s the fuel Kraken).\n\nI still think fuel flow should be controllable via action group instead."},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2015-07-28T15:52:51Z","Content":"\u003E \n\u003E Having to take issue with the bolded parts of your quoted text.\n\u003E Firstly, the fuel tank in the OP\u0027s example plane is in FRONT of the decoupler. By your definition it should not be doing what it\u0027s doing. Note my example below. This is basically the same thing except for the arrangement of the stack nodes (the cargo bay having two bottom and top stack nodes because of the way it works). This works correctly and is doing what it is supposed to be doing\n\u003E \n\u003E http://imgur.com/o8AcIFq[http://i.imgur.com/o8AcIFqh.jpg?1](http://i.imgur.com/o8AcIFqh.jpg?1)\n\u003E \n\u003E Also, the point isn\u0027t to control center of mass, it\u0027s supposed to ensure that resources are drawn from the current stage first and ONLY look outside the current stage if resources are no longer available in the current stage. That\u0027s the intended behavior and the OP\u0027s example is not behaving according to intended behavior.\n\nMy post was,when 1.0 came,they changed this behavior with 1.0.3.I still think the \u0022fuelcrossfeed = false\u0022 argument should be respected.Also i tried to use docking port(disabling fuel crossfeed) instead of decoupler,when starting engine uper tank starts immediately losing fuel,fuel is getting consumed even thru engine.And this can\u0027t be right."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-07-28T15:59:58Z","Content":"Experimenting with this more and in greater detail.\n\nI want to further stress what I said earlier: STAGE\\_PRIORITY\\_FLOW draws EVENLY from every possible resource in the *current* stage. By no possible definition can the payload fuel tank be considered the current stage. Even if somehow according to flow rules the resource system thought it WAS in the current stage, it\u0027s drawing ONLY from the payload and is ignoring the bicoupler tank. Think about that a minute\n\nThis only happens to things in the cargo bay btw.\n\nI moved the tank to the top node and it still happened. (not surprised)\n\nIt occurred to me that maybe the top/bottom stack nodes are playing a role here so I played with the part file and arranged it so that the inner stack nodes were top/bottom and outer ones were top2/bottom2. (technically top/top2 and bottom/bottom2 occupy the same space; it\u0027s only their attachment order and order they appear in the part file that govern where things attach)\n\nI arranged it so that the inner top was the NODE\\_STACK\\_TOP and attached the decoupler and tank there. The fuel flow system should have been tricked into thinking that the tank really was part of the next stage and not drawn from it. (bottom of decoupler attached to the top stack node. I even changed the cargo bay inner/outer identifiers to match) And it still draws from that tank first without touching the bicoupler at all. There is something very wrong going on here."},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-07-28T16:03:53Z","Content":"\u003E \n\u003E Firstly, the fuel tank in the OP\u0027s example plane is in FRONT of the decoupler. By your definition it should not be doing what it\u0027s doing. Note my example below. This is basically the same thing except for the arrangement of the stack nodes (the cargo bay having two bottom and top stack nodes because of the way it works). This works correctly and is doing what it is supposed to be doing\n\nThe STAGE\\_PRIORITY\\_FLOW mode is supposed to group tanks according to which stage they are in. This basically comes down to how many decouplers are found when searching up the part tree from the tank to the root part. I suspect the OP has the root part somewhere in his jet stage which will cause the fuel to be drained from the upper stage tank (and only that tank) at first. Simply changing the root part to be the pod at the top should make it behave as expected.\n\n\u003E \n\u003E Also, the point isn\u0027t to control center of mass,\n\nI remember reading posts that explicitly said that the reasons the jet flow mode was changed were to make CoM balancing easier and to allow fuel flow from and through wings, so that is entirely his point.\n\n\u003E \n\u003E it\u0027s supposed to ensure that resources are drawn from the current stage first and ONLY look outside the current stage if resources are no longer available in the current stage. That\u0027s the intended behavior and the OP\u0027s example is not behaving according to intended behavior.\n\nIt is not supposed to ensure that resources are drawn from the \u0022current stage\u0022, it is supposed to draw resources from the tanks that will be decoupled earliest in the staging sequence. If the root part is in a part of the vessel that gets decoupled then the mechanic doesn\u0027t work as expected.\n\nThe code that works out which tanks to draw resources from already uses a significant amount of CPU for large vessels and modifying it to explicitly check for the presence of a decoupler or other \u0022no cross feed\u0022 part between the tank and the part using the resource would make it significantly worse (and would limit the current potential there is for optimisations to the code).\n\nI\u0027m not saying that I agree with jets using this flow mode, I didn\u0027t really have any problems with the original flow (it helps if you completely understand how the flow works) but then I never really built any really large or complex planes. One thing that may be significant now is the extra drag caused by the fuel lines you would need for certain designs."},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2015-07-28T16:30:37Z","Content":"\u003E \n\u003E The STAGE\\_PRIORITY\\_FLOW mode is supposed to group tanks according to which stage they are in. This basically comes down to how many decouplers are found when searching up the part tree from the tank to the root part. I suspect the OP has the root part somewhere in his jet stage which will cause the fuel to be drained from the upper stage tank (and only that tank) at first. Simply changing the root part to be the pod at the top should make it behave as expected.\n\nWell,if you build a house,you build it from bottom up,when you build a rocket in KSP,you build it from top down.My root part in OP is the cockpit!Like i said,they improved the fuell flow with \u0022resourceFlowMode = STAGE\\_PRIORITY\\_FLOW\u0022 in 1.0.3-1.0.4,But still,when the bottom stage runs out of LF it start to drain fuel from upper stage through decoupler and engine attached to upper stage tank."},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-07-28T16:33:28Z","Content":"THe core of the problem is that the search is being run one time based on part tree, not relative the active engine like for standard liquid rockets. if the query was done based on engine position (and possibly if it respected occlusion), it could be made to work (but this is technically a bandaid fix for a poorly planned design decision)."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-07-28T16:40:01Z","Content":"\u003E \n\u003E If it\u0027s fuel flow for the engines, is the fix as simple as changing that in the config?\n\nYes, it\u0027s that simple.\n\nCheers,\n\n-Claw"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-07-28T16:47:27Z","Content":"\u003E \n\u003E Well,if you build a house,you build it from bottom up,when you build a rocket in KSP,you build it from top down.My root part in OP is the cockpit!Like i said,they improved the fuell flow with \u0022resourceFlowMode = STAGE\\_PRIORITY\\_FLOW\u0022 in 1.0.3-1.0.4,But still,when the bottom stage runs out of LF it start to drain fuel from upper stage through decoupler and engine attached to upper stage tank.\n\nI\u0027m not aware of any changes to the fuel flow in 1.0.3/1.0.4. You said in your OP:\n\n\u003E \n\u003E When i launch the craft,engines immediately starts draining fuel from upper stage fuel tank despite there is decoupler between stages.\n\n...but are now saying that this happens after the bottom stage has run out of fuel."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-07-28T16:52:39Z","Content":"\u003E \n\u003E Having to take issue with the bolded parts of your quoted text.\n\u003E Firstly, the fuel tank in the OP\u0027s example plane is in FRONT of the decoupler. By your definition it should not be doing what it\u0027s doing.\n\nMy comment was in regard to another post, but two threads have now been merged. The words I posted are not for the general case, but were specifically addressing the other setup. Sorry for the confusion.\n\nCheers,\n\n-Claw"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-07-28T16:57:12Z","Content":"Whoops, my mistake, threads de-merged, there\u0027s two different issues here."}]}