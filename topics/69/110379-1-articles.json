{"TopicId":110379,"ForumId":69,"TopicTitle":"Editor bug with fairings","CreatedByName":"Vindelle_Sunveam","CreatedById":70755,"CreatedDateTime":"2015-05-22T16:12:21Z","PageNum":1,"Articles":[{"CreatedByName":"Vindelle_Sunveam","CreatedById":70755,"CreatedDateTime":"2015-05-22T16:12:21Z","Content":"Hello, I do not know if this is a known bug, but I\u0027ve been able to reproduce it consistently.\n\nI use a octagonal probe core, put a 1.25m fairing on top of it, upside down, and right click.\n\nThen, I stack a girder segment underneath the probe core (the girder that\u0027s unlocked from the beginning of the game) and strap a mystery goo experiment on the side of it.\n\nAfter that, I place a 1.25m fairing at the base of the contraption, and make the fairing go to the other fairing base (like an interstage).\n\nFrom this point, I just have to grab the girger segment, put it back right where it was, and I cannot move any part in the VAB anymore. I cannot add any from the side menu either, but I can still right click on the objects and animate them, edit and delete fairings.\n\nQuitting and reentering the VAB does not solve the problem.\n\nIn the debug console, there is this message that appears right after the statement of what have been done. \n\n\u003E \n\u003E [Exception]: InvalidOperationException: Operation is not valid due to the current state of the object\n\nIt can appear just after the generation of a fairings drag cube, or just after the update of the part count.\n\n**Edited \u003Ctime datetime=\u00222015-05-27T15:07:20Z\u0022 title=\u002205/27/2015 03:07  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 27, 2015\u003C/time\u003E by Vindelle\\_Sunveam**"},{"CreatedByName":"misterbk","CreatedById":144226,"CreatedDateTime":"2015-05-24T05:40:21Z","Content":"Getting the exact same bug myself, and the exact same InvalidOperationException in KSP.log.\n\n    [LOG 22:00:57.511] ---DockingAsDecoupler  : 2 [LOG 22:01:05.794] fuelTank2-2 added to ship - part count: 104 [EXC 22:01:05.799] InvalidOperationException: Operation is not valid due to the current state of the object         System.Linq.Enumerable.Last[FairingXSection] (IEnumerable\u00601 source)         ModuleProceduralFairing\u002B.MoveNext ()         UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)         ModuleProceduralFairing:scheduleReconnect()         ModuleProceduralFairing:m__19B()         KerbalFSM:RunEvent(KFSMEvent)         ModuleProceduralFairing:onInterstageReattach()         Part:onAttach(Part, Boolean)         EditorLogic:attachPart(Part, )         EditorLogic:m__CD()         KerbalFSM:RunEvent(KFSMEvent)         KerbalFSM:updateFSM(KFSMUpdateMode)         KerbalFSM:UpdateFSM()         EditorLogic:Update()\n\nThis has been happening a lot. I\u0027m having to restart KSP 10 or 20 times to successfully finish any rocket that involves fairings."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-24T07:53:59Z","Content":"You don\u0027t need fairings both ends, just one is enough, it can be closed around some other part such as a decoupler instead."},{"CreatedByName":"Vindelle_Sunveam","CreatedById":70755,"CreatedDateTime":"2015-05-27T15:08:19Z","Content":"Thanks for the answer, flagging as solved until further issues (let\u0027s hope not) ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Gristle","CreatedById":60589,"CreatedDateTime":"2015-06-14T20:17:09Z","Content":"Seeing similar error with same VAB symptoms. Using on fairing and up to LEM. After clicking close cannot select parts either on ship or in toolbox. Has nothing to do with 2 fairings.\n\n    fairingSize1 added to ship - part count: 53(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)InvalidOperationException: Operation is not valid due to the current state of the object  at System.Linq.Enumerable.Last[FairingXSection] (IEnumerable\u00601 source) [0x00000] in :0   at ModuleProceduralFairing\u002B.MoveNext () [0x00000] in :0 UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)ModuleProceduralFairing:scheduleReconnect()ModuleProceduralFairing:m__19B()KerbalFSM:RunEvent(KFSMEvent)ModuleProceduralFairing:onSelfReattach()Part:onAttach(Part, Boolean)EditorLogic:attachPart(Part, )EditorLogic:m__CD()KerbalFSM:RunEvent(KFSMEvent)KerbalFSM:updateFSM(KFSMUpdateMode)KerbalFSM:UpdateFSM()EditorLogic:Update()(Filename:  Line: -1)"},{"CreatedByName":"Theriss","CreatedById":57639,"CreatedDateTime":"2016-01-28T21:50:07Z","Content":"I just today got the nest version (I was still on 0.90) and of course immediately tried using the fairings, and immediately got the same bug. I attached and closed a fairing in the VAB, then I couldn\u0027t edit any parts. I could still flip through the part lists or right click existing parts, but I couldn\u0027t move or place new. Has anyone found a way to fix this?"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-01-29T14:45:32Z","Content":"Hi Theriss, when this happens open the debug window with alt\u002BF2 and check for errors, also, upload the output\\_log.txt from the KSP\\_Data folder somewhere and post the link to it so we can see what\u0027s going on."},{"CreatedByName":"Theriss","CreatedById":57639,"CreatedDateTime":"2016-02-01T17:42:32Z","Content":"Sorry I didn\u0027t include that, but my computer isn\u0027t hooked up to the Internet right now, so I can\u0027t upload a file quite so easily... I\u0027ll copy what I can by hand, but I apologize it\u0027s not ideal. \n\nWhen I hit alt\u002Bf12, the debug says \u0022[Exception] InvalidOperationException: Operation is not valid due to the current state of the object\u0022\n\nIn the output log, I found where it says the same thing, followed by:\n\nat System.Linq.Enumerable.Last[FairingXSection] (IEnumerable\u00601 source) [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\n\u003C/filename\u003E\n\nat ModuleProceduralFairing\u002B|\u25A1.Movement () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\n\u003C/filename\u003E\n\nThe \u0022|\u25A1\u0022 in the second line are symbols I can\u0027t recreate on my phone. First one is a double ended arrow, pointing up and down. \n\nIt bears noting that this happens after grabbing and placing the fairing a couple times. Sometimes after only a couple times, sometimes after several. \n\nLooking again, the section of my output log is exactly the same as in Gristle\u0027s post above, except for slightly different values after \u0022SetupFSM\u0022\n\nAgain, I\u0027m so sorry that I can\u0027t conveniently upload the files for you to look at. I hope this was able to give you enough information anyway."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-02-01T18:34:35Z","Content":"Okay, there is an input lock when building a fairing, and the steps above can cause it to engage but not be cleared.\n\nJust open the debug window with alt and F12, click on the input lock stack and click the button to clear it.\n\nYou\u0027ll be able to pick up parts again after that."}]}