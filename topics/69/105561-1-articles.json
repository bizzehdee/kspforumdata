{"TopicId":105561,"ForumId":69,"TopicTitle":"On pods flipping during re-entry","CreatedByName":"Dizzle","CreatedById":31588,"CreatedDateTime":"2015-04-28T07:51:51Z","PageNum":1,"Articles":[{"CreatedByName":"Dizzle","CreatedById":31588,"CreatedDateTime":"2015-04-28T07:51:51Z","Content":"So I\u0027ve seen a few people talking about this, but the discussion seems kind of scattered, so I was hoping to get a more central thread on the matter.\n\nI\u0027m not really sure what we\u0027re supposed to do about it. It seems that no matter what, at around 1400 m/s a pod will flip, without exception. I tried this while coming in at different altitudes ranging from 26km to 33km. Someone said to rotate the capsule during re-entry, which did nothing. Eventually I edited the CFG so that the physics on the heatshield would be calculated (if I\u0027m understanding it properly). This time, coming in at 30.5km, I was able to keep the pod under control, but just barely. It still tried to flip, and I really had to wrestle the controls to keep it straight-ish. \n\nIs it supposed to be this way? Is it a bug? Is there a better fix? I really hate the idea of putting the heatshield on top, or deploying the chutes at Mach 10.\n\nEdit: The kind-of-fix I used is below.\n\n\u003E \n\u003E If I remember correctly, that\u0027s just due to the way the VAB mass display works. Parts that have physics turned off still add their mass to that display, but don\u0027t actually add mass to a vehicle, thus why the COM isn\u0027t changing.\n\u003E I know this because I implemented a mass display for my mod which DOESN\u0027T include physicsless parts, and it\u0027s always very different values displayed than the stock one.\n\u003E \n\u003E If you look in Kerbal Space Program\\GameData\\Squad\\Parts\\Aero\\HeatShield\\HeatShield1.cfg you\u0027ll see this line:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \tPhysicsSignificance = 1\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Changing that 1 to a zero should turn physics back on for that part. I\u0027m going to give this a try myself right now, as yeah, heatshields seem quite broken right now making reentry with them next to impossible to survive, which is obviously not what one would expect ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-04-28T07:54:16Z\u0022 title=\u002204/28/2015 07:54  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 28, 2015\u003C/time\u003E by Dizzle**"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2015-04-28T08:01:17Z","Content":"My experience up to now is limited, but from what I\u0027ve seen, it depends a lot on how shallow your reentry is. While with steep reentries the pod inevitably flips, with shallow reentries (perihelum above 20 km) it seems to be possible to slow the pod down already at high altitude, before aerodynamic forces get stronger than the reaction wheels. By this one is not only able to keep the heat shield oriented forward, but due to the lowered velocity maintains control even down to the lower atmosphere (last time I opened the parachutes at about 10 km)."},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-04-28T08:03:27Z","Content":"It seems to have been confirmed by Squad as a bug. Until we get an official fix, the above MM config has been working extremely well for me.\n\nActually, no, sorry, the above isn\u0027t the ModuleManger fix, the below is ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nThere you go:\n\n    @PART[HeatShield*]{\t@PhysicsSignificance = 0}\n\nYou will of course need ModuleManager installed for this to work, which can be found here:\n\n[http://forum.kerbalspaceprogram.com/threads/55219](https://forum.kerbalspaceprogram.com/threads/55219)\n\nInstall MM, drop the above into a .cfg file in your GameData directory, and you should be good to go.\n\nDoes the same thing as manually editing the files individually, but is much less of a pain."},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-04-28T08:10:49Z","Content":"When you say \u0022no matter what\u0022 do you mean with SAS off? I just returned from Mun with a mk1 pod with a single radial chute on it (so it wasn\u0027t balanced) and a heat shield. I\u0027ve not done any hacking to add physics to parts. I left SAS on so I could angle it just right so the parachute wouldn\u0027t get heat but neither would the capsule. And I came down with no issues whatsoever.\n\nMy periapsis was right about 20km and my apoapsis started out a bit higher than Mun, as I was coming back from a free return flyby."},{"CreatedByName":"Dizzle","CreatedById":31588,"CreatedDateTime":"2015-04-28T08:12:31Z","Content":"My SAS was on during all tests."},{"CreatedByName":"LostOblivion","CreatedById":111504,"CreatedDateTime":"2015-04-28T08:16:56Z","Content":"Is the bug simply that Squad mistakenly added PhysicsSignificance to heat shields, or is there a deeper issue here?"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-04-28T08:31:18Z","Content":"\u003E \n\u003E Is the bug simply that Squad mistakenly added PhysicsSignificance to heat shields, or is there a deeper issue here?\n\nI think that\u0027s the bug. And I think I didn\u0027t see it because my return craft was 3 parts: Pod, chute, shield. If you have a pod, with a service bay, with a heat shield then the COM is all wonky."},{"CreatedByName":"DunaRocketeer","CreatedById":103193,"CreatedDateTime":"2015-04-28T08:40:49Z","Content":"Unbelievable that this got through QA. I\u0027m not technically minded, but will nevertheless have to learn some sort of module manager plugin just to make the game playable. It\u0027s not my job to do SQUAD\u0027s work for them.\n\nFail."},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-04-28T08:42:53Z","Content":"\u003E \n\u003E I think that\u0027s the bug. And I think I didn\u0027t see it because my return craft was 3 parts: Pod, chute, shield. If you have a pod, with a service bay, with a heat shield then the COM is all wonky.\n\nIt happens without the service bay too. It\u0027s just that if you have enough power for your reaction wheels and SAS enabled, it can overcome how it causes you to veer off course. If you don\u0027t have SAS, you\u0027re going to be fighting it like crazy all the way down, and it\u0027s very easy to flip around in the process. If you don\u0027t have power for your wheels, well, you\u0027re just screwed ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Bill Phil","CreatedById":127797,"CreatedDateTime":"2015-04-28T08:48:21Z","Content":"I only ran into the problem a few times. Putting the science (matlabs and such) above the capsule did the trick."},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-04-28T09:05:23Z","Content":"\u003E \n\u003E It happens without the service bay too. It\u0027s just that if you have enough power for your reaction wheels and SAS enabled, it can overcome how it causes you to veer off course. If you don\u0027t have SAS, you\u0027re going to be fighting it like crazy all the way down, and it\u0027s very easy to flip around in the process. If you don\u0027t have power for your wheels, well, you\u0027re just screwed ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nBut what about...\n\n\u003E \n\u003E My SAS was on during all tests.\n\n?"},{"CreatedByName":"Menecroth","CreatedById":27542,"CreatedDateTime":"2015-04-28T09:05:56Z","Content":"\u003E \n\u003E I only ran into the problem a few times. Putting the science (matlabs and such) above the capsule did the trick.\n\nThanks for the tip. I had a capsule with an equipment bay and a mat lab on the \\*bottom\\* of it come back from a Munar flyby. Took several tries before I realized the only way it would survive re-entry would be to aero-brake using several orbits. I\u0027m also thinking of copying the heat shield part and just increasing it\u0027s weight to act as ballast. For now, though, maybe I\u0027ll just try putting the light stuff on top. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-04-28T09:17:52Z","Content":"Here\u0027s some things to test.\n\nPod only, no SAS, try different orientations.\n\nPod with only a parachute.\n\nPod with only an *inverted* parachute."},{"CreatedByName":"sedativechunk","CreatedById":112761,"CreatedDateTime":"2015-04-28T10:23:33Z","Content":"I\u0027m sorry, but **this is definitely a crappy but that needs fixed**. More than one occasion now, I have had the simple starting command pod with just the heatshield and parachute and it wants to flip uncontrollably during reentry every time without SAS engaged. I\u0027ve tried multiple re-entry speeds and angles as well, I\u0027ve had dozens of orbital flights now including a return from the Mun\u0027s orbit. Everytime the ships want to lose control, whether there is a pilot on board or a non-pilot (I went to the Mun once with Bill Kerman). \n\nIt is unrealistic and annoying to see the pod flip so easily on reentry with the new physics system. That was the whole purpose of the teardrop capsule design during the early space flights of NASA. As a matter of fact, I believe their pods had a slight offset center of mass. I\u0027m disappointed so far with reentry."},{"CreatedByName":"DunaRocketeer","CreatedById":103193,"CreatedDateTime":"2015-04-28T10:52:16Z","Content":"Lots of questions because I\u0027m having some trouble making sense of fixing this stuff:\n\nI\u0027m looking at modulemanager now and find it absolutely bewildering - how does one use it? It\u0027s just a .dll file. Where do you paste the code that changes the physics significance (the code mentioned earlier in the thread)?\n\nCan I just open the heatshield part file in notepad and change the physics significance from there?"},{"CreatedByName":"leopardenthusiast","CreatedById":26084,"CreatedDateTime":"2015-04-28T10:56:47Z","Content":"\u003E \n\u003E Lots of questions because I\u0027m having some trouble making sense of fixing this stuff:\n\u003E I\u0027m looking at modulemanager now and find it absolutely bewildering - how does one use it? It\u0027s just a .dll file. Where do you paste the code that changes the physics significance (the code mentioned earlier in the thread)?\n\u003E \n\u003E Can I just open the heatshield part file in notepad and change the physics significance from there?\n\nPut the .dll file in Gamedata, make a file named something like \u0022heatshieldfix.cfg\u0022 (the important part is that it ends in .cfg, you can call it whatever you want), and paste [this code](https://forum.kerbalspaceprogram.com/threads/117180-On-pods-flipping-during-re-entry?p=1873043\u0026viewfull=1#post1873043) into it."},{"CreatedByName":"DunaRocketeer","CreatedById":103193,"CreatedDateTime":"2015-04-28T10:57:54Z","Content":"Much appreciated!"},{"CreatedByName":"Jovus","CreatedById":117163,"CreatedDateTime":"2015-04-28T11:00:09Z","Content":"Tested with a Mk1-2 pod. When appropriate, used 2.5m heatshield and/or 2.5m parachute. All orbits are from LKO - around 80-90km. Reentry periapsis is about 8-12km, though it doesn\u0027t seem from limited testing to make a difference if you use a more sane periapsis like 30 or 25km.\n\n\u003E \n\u003E Pod only, no SAS, try different orientations.\n\nPod flies fine - orienting blunt-side retrograde - at all orientations except for a fairly narrow angle centered on \u0027pointy end first\u0027. Reaches around 100\u002Bm/s before hitting the ground.\n\n\u003E \n\u003E Pod with only a parachute.\n\nIbid.\n\n\u003E Pod with only an *inverted* parachute.\n\nUntested. How do you invert a parachute? (Just rotate it using the rotation tool?)"},{"CreatedByName":"SilverWarior","CreatedById":80669,"CreatedDateTime":"2015-04-28T11:02:42Z","Content":"Based on infroamtion in this thread \n\n[http://forum.kerbalspaceprogram.com/threads/116839-Heat-shield-seems-to-be-treated-as-having-0-mass](https://forum.kerbalspaceprogram.com/threads/116839-Heat-shield-seems-to-be-treated-as-having-0-mass)\n\nthe heat shield is adding the mass to the parent CoM which then somehow screws evrything up."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-04-28T11:09:21Z","Content":"This issue has nothing to do with thee heat shields by the way, the problem exists with or without them.\n\nInvert your parachute by placing it on the pod upside down, or use the rotation gizmo."},{"CreatedByName":"DunaRocketeer","CreatedById":103193,"CreatedDateTime":"2015-04-28T11:24:56Z","Content":"What has inverting parachutes got to do with it? My understanding of the problem is that the heatshields are physics-less, and are therefore adding mass to the command pod whilst not changing the COM, which leads o the vehicle flipping over. Sounds like a heatshield part problem to me."},{"CreatedByName":"Fearsclave","CreatedById":141993,"CreatedDateTime":"2015-04-28T11:24:58Z","Content":"Killed Val with the same issue last night: pod with service bay and Science Jr flipped ends and exploded.\n\nI\u0027m wondering whether it\u0027s a bug or realism though; I haven\u0027t had the issue with capsules by themselves, and I don\u0027t recall any real life space programs that had long skinny top heavy re-entry vehicles... Vostok, Soyuz, Mercury, Gemini and Apollo all had short squat capsules.\n\nI\u0027m wondering whether it\u0027s a bug or just bad (ie unrealistic) design and re-entry trajectories combined with false expectations created by the old aero system..."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-04-28T11:36:56Z","Content":"Compare the pods (only the pod, no other parts) falling behavior between .25, .90 and 1.0, you\u0027ll be surprised.\n\nThen compare with the parachute fitted."},{"CreatedByName":"DunaRocketeer","CreatedById":103193,"CreatedDateTime":"2015-04-28T11:38:33Z","Content":"^ Fearsclave, I\u0027d agree that it wouldn\u0027t be a bug if it was due to unrealistic vehicle shapes, except for the fact that a parachute-pod-heatshield combo should be passively stable, which is not the case here."},{"CreatedByName":"Dizzle","CreatedById":31588,"CreatedDateTime":"2015-04-28T11:49:28Z","Content":"Yeah, I just tested it in the VAB. A pod\u002Bparachute does put the CoM on the wrong side. Even with heatshield mass enabled, it only helps a little."}]}