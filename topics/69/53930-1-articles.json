{"TopicId":53930,"ForumId":69,"TopicTitle":"Problem with the physicengine, time is not calculated correct. (0.22) (Linux) (Steam)","CreatedByName":"KWorx","CreatedById":93942,"CreatedDateTime":"2013-11-21T21:38:04Z","PageNum":1,"Articles":[{"CreatedByName":"KWorx","CreatedById":93942,"CreatedDateTime":"2013-11-21T21:38:04Z","Content":"\n\u003Cp\u003EHello,\u003C/p\u003E\u003Cp\u003Ei hope my english is understandable... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe problem that i have is that the time that is calculated for other ships and for using the maneuverpoints is different as at my viewpoint. The result is that if i want to make a maneuver the blue marker is moving away on its own and if i encounter the point and touch it the trajector is suddenly completly diffrent than bevore. I can only make an encounter with a planet and a moon manually whithout maneuverpoints because they are useless.\u003C/p\u003E\u003Cp\u003EIf i manage to make an intercept at less then 1km whith a station or an other ship the separation is getting bigger again on its own. But only in normaltime in timewarp it kepps as espected. If i switch to the station it is getting smaler and if i switch back its getting bigger again. Its impossible to reach, even if i manage to make both orbits nearly equal, the other object ist much faster and go away. \u003C/p\u003E\u003Cp\u003EWhat i discovered is that the missiontime ( and the internel gametime in debug stats) runs too fast: 60s are only 38s in real time. But if i make timewarp to 5x: 100s are 20s as espected. Apparently the wrong time is only on the ship that i controll currently.\u003C/p\u003E\u003Cp\u003EI have Gentoo Linux 64 bit, and actual Nvidia-drivers. On a asrock z77 bord with i5 3470 3,2GHz, 8GB RAM, Geforce GTX 560. I use no mods, its a fresh install from steam. The performance of the game is really good even with large ships and high details nearly no loading times and very rarely chrashes.\u003C/p\u003E\u003Cp\u003EI tried the 32bit, the 64bit version with and without Steam, changed physics delta time, simulate in background, launch with LC_ALL=C, checked my kernel config, make my kernel full preemptible, checked dmesg for problems with system timers, changed systemtimer from tsc to hpet, turned acpi off, activated only one cpu in bios.\u003C/p\u003E\u003Cp\u003EI seached for 2 days now with all possible keywords but i found nothing in web. Am i the only one with this problem? I don\u0027t know what to do next \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for any hints to solve this.\u003C/p\u003E\u003Cp\u003Egreetings,\u003C/p\u003E\u003Cp\u003EKumpa\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-22T18:57:50Z\u0022 title=\u002211/22/2013 06:57  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 22, 2013\u003C/time\u003E by KWorx\u003C/strong\u003E\n\u003Cbr\u003ESolved\n\u003C/span\u003E\n"},{"CreatedByName":"SilverWarior","CreatedById":80669,"CreatedDateTime":"2013-11-22T07:46:19Z","Content":"\n\u003Cp\u003EKSP has a special built in system which automatically reduces the calculations precision to avoid posible slowdowns as much as posible. This is usually noticed as \u0022Flight clock\u0022 color changing from green to yelow and back. And when this system could not avoid game slowdowns you can see \u0022Flight time\u0022 color chaning to red.\u003C/p\u003E\u003Cp\u003EUsing of lower calculation precision could lead to considerable changes in your crafts flight path. So yes this could screw up the navigational node prediction system.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2013-11-22T08:41:35Z","Content":"\n\u003Cp\u003EAs far as I know, that is completely incorrect. The colour of the MET clock changes when the game is running at less-than-real-time speed due to it prioritising pushing frames to the graphics card buffer over the physics calculations when there is a bottleneck. There should be (as far as I am aware in so far as the implementation goes) zero precision errors that arise from simply slowing things down. In fact, it really ought to be \u003Cem\u003Emore\u003C/em\u003E precise, if precision changes at all. There are, however, precision errors that arise from other things, like that patched conics and the simple numerical size of variables (floating-point errors). The game does not do this to prevent \u003Cem\u003Eslowdown\u003C/em\u003E so much as it is done to prevent the lag-like \u0022skipping\u0022 effect which can be devastating if it happens too close to a landing or docking (which could then become a simple collision).\u003C/p\u003E\u003Cp\u003EIf you think the MET is running \u003Cem\u003Etoo fast\u003C/em\u003E, on the other hand, I would recommend you check your frame limit settings -- ideally, you want it no higher than your monitor\u0027s refresh rate, which for most modern screens is 60FPS or 60Hz. If that does not sort it out, seek out similar settings in your graphics card\u0027s own settings application.\u003C/p\u003E\u003Cp\u003EHowever, I\u0027m completely unsure as to why the maneuver node is shifting noticeably. Generally speaking, the floating-point precision errors are not so noticeable as that.\u003C/p\u003E\n"},{"CreatedByName":"Kasuha","CreatedById":81781,"CreatedDateTime":"2013-11-22T09:23:31Z","Content":"\n\u003Cp\u003EIt looks like the same problem as reported in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55658-Maneuver-node-does-not-rest-on-the-trajectory\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E. I don\u0027t know if the user resolved the problem.\u003C/p\u003E\n"},{"CreatedByName":"KWorx","CreatedById":93942,"CreatedDateTime":"2013-11-22T14:46:55Z","Content":"\n\u003Cp\u003EThe problem is fixed now, but i\u0027m not sure why.\u003C/p\u003E\u003Cp\u003EI switch switched to window mode at smaller resolution to make screenshots, VBlank and Allow Flippingwas activated in nvidia-settings, in game-settings also VBlank and Framelimit to 60Hz and Delta Time to 0,05. Everything was fine now!\u003C/p\u003E\u003Cp\u003EThen i wanted to reproduce the Bug so i turned VBlank in driver and in game off, put framelimit to default and switch to fullscreen and fullHD. But everything keeps fine: time goes by right now!\u003C/p\u003E\u003Cp\u003EWhat i noticed: UT in flightstats is now a \u003Cstrong\u003Efloatingpoint-variable\u003C/strong\u003E before it was devinitely a big (64bit) \u003Cstrong\u003EInteger\u003C/strong\u003E. I really dont\u0027t know how this is possible!\u003C/p\u003E\u003Cp\u003EHere to prove:\u003C/p\u003E\u003Cp\u003EBefore, only the last digit changed:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/335DyH5.jpg\u0022 alt=\u0022335DyH5.jpg\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/1WFii9v.jpg\u0022 alt=\u00221WFii9v.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd now its a floatingpoint-variable:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/lvbwtRK.jpg\u0022 alt=\u0022lvbwtRK.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI think the guy in the other post had the same problem.\u003C/p\u003E\u003Cp\u003EMaybe a developer read this post and check the programcode for this mysterious bug.\u003C/p\u003E\u003Cp\u003EAnyway, thank you very much for your attention.\u003C/p\u003E\u003Cp\u003Egreetings,\u003C/p\u003E\u003Cp\u003EKumpa\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2013-11-22T16:59:42Z","Content":"\n\u003Cp\u003EO.o that is... that is very odd. Very odd indeed. I\u0027ll pass it along. Maybe someone knows what\u0027s up, ehehe.\u003C/p\u003E\n"},{"CreatedByName":"KWorx","CreatedById":93942,"CreatedDateTime":"2013-11-22T17:37:38Z","Content":"\n\u003Cp\u003EOk, now i found out what was going wrong:\u003C/p\u003E\u003Cp\u003EThe first time i startet the Game i did it without using \u0022LC_ALL=C\u0022. Because of this UT was saved with a comma as decimal separator. Next time i loaded the Savegame, i think it was interpretet as a string-variable and converted to an integer. This is why the time is nearly 150 million years in the future.\u003C/p\u003E\u003Cp\u003EThe solution was easy: I edited my savegame and set \u0022UT\u0022 and of every Vessel \u0022met\u0022 and \u0022lct\u0022 to 1.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003EThank you for reply!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-22T19:01:21Z\u0022 title=\u002211/22/2013 07:01  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 22, 2013\u003C/time\u003E by KWorx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2013-11-22T18:17:51Z","Content":"\n\u003Cp\u003EOooh, I see. Locale and language issues. Damn, those can get ugly. I\u0027ll see if I can get Sal to put a note up in the Linux megathread to be careful of that.\u003C/p\u003E\n"}]}