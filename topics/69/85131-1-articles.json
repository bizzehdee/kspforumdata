{"TopicId":85131,"ForumId":69,"TopicTitle":"Linux Camera Rotation Stutter","CreatedByName":"Mastermind","CreatedById":122886,"CreatedDateTime":"2014-09-21T15:28:41Z","PageNum":1,"Articles":[{"CreatedByName":"Mastermind","CreatedById":122886,"CreatedDateTime":"2014-09-21T15:28:41Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EKSP Version:\u003C/strong\u003E v0.24.2.559 Arch Linux x64 - Steam\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EWhat Happens:\u003C/strong\u003E Game stutters/lags horribly when moving around the camera\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMods / Add-Ons:\u003C/strong\u003E All Stock\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESteps to Replicate:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E1) Move around the camera\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EResult:\u003C/strong\u003E Game stutters/lags horribly\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFixes/Workarounds:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E- None\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EOther Notes/Pictures/Log Files: \u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E- Rest of game runs fine (e.g. launching a rocket) as long as the camera angle is not being adjusted\u003C/p\u003E\u003Cp\u003E- Kernel version 3.16.2\u003C/p\u003E\u003Cp\u003E- HD6950 with open-source Radeon drivers\u003C/p\u003E\u003Cp\u003E- Same issue with catalyst drivers\u003C/p\u003E\u003Cp\u003E- Nothing interesting in Steam console output\u003C/p\u003E\u003Cp\u003E- Player logfile: \u003Ca href=\u0022https://gist.github.com/anonymous/0a4df6c0dbd3dc845ca0\u0022 rel=\u0022external nofollow\u0022\u003E\u003C/a\u003E\u003Ca href=\u0022https://gist.github.com/anonymous/0a4df6c0dbd3dc845ca0\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cem\u003Ehttps://gist.github.com/anonymous/0a4df6c0dbd3dc845ca0\u003C/em\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E- (Quick) Video (keep an eye on the height counter): \u003Cem\u003E\n\u003C/em\u003E\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/NtJnX_pyD24?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EI expirience this issue as game-breaking and find myself unable to play the game.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ELooking forward to replies.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-09-21T16:06:45Z","Content":"\n\u003Cp\u003EHi Mastermind and welcome to the forums \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI have not personally run into this issue but it may be fixed by deleting the settings,cfg file then starting KSP from the terminal with the LC_ALL=C command, like this:\u003C/p\u003E\u003Cp\u003ELC_ALL=C ./KSP.x86_64\u003C/p\u003E\n"},{"CreatedByName":"Mastermind","CreatedById":122886,"CreatedDateTime":"2014-09-21T18:55:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EHi Mastermind and welcome to the forums \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EI have not personally run into this issue but it may be fixed by deleting the settings,cfg file then starting KSP from the terminal with the LC_ALL=C command, like this:\u003C/p\u003E\u003Cp\u003ELC_ALL=C ./KSP.x86_64\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you for the welcome and reply \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ELaunching the game with the provided flag (as is also seen in your Linux thread) does not yield any favorable results. The issue persists.\u003C/p\u003E\u003Cp\u003EHow long a period of time should I allow to pass before creating an issue on the KSP bug tracker?\u003C/p\u003E\u003Cp\u003EBest Regards,\u003C/p\u003E\u003Cp\u003EMastermind\u003C/p\u003E\n"},{"CreatedByName":"SolarSailor","CreatedById":62439,"CreatedDateTime":"2014-09-23T18:32:53Z","Content":"\n\u003Cp\u003EI can confirm this.\u003C/p\u003E\u003Cp\u003EAnd apparently this issue exists everywhere, not only on Linux, but also on Windows with both 32-bit and 64-bit versions. Like many similar issues with KSP, it often makes the game unplayable on Linux, and is just sometimes noticeable on Windows. I\u0027m surprised that this looks to be uncommon and nobody else is reporting that, because all my friends experienced this in KSP (with different OSes and very different hardware setup, multiple vendors, multiple configurations etc).\u003C/p\u003E\u003Cp\u003EThe FPS drop can be seen when you are trying to rotate the camera with mouse quickly. On Windows, even if your time counter is green (\u0022no lag\u0022), it can turn yellow when you are trying this. On linux, it breaks the game completely. When rotating with keyboard or rotating with a mouse slowly, everything is usually OK. (can be dependent on the rotation speed perhaps, keyboard rotation is slow)\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-09-23T20:46:22Z","Content":"\n\u003Cp\u003EThe issue is with the handler of the terrain shader, last I checked. It happens on all platforms.\u003C/p\u003E\u003Cp\u003EIt is worse on the Linux open source drivers. It was so bad on the nVidia open source drivers I had to switch to the proprietary drivers.\u003C/p\u003E\u003Cp\u003EFor now, if you are using something newer than the AMD HD5xxx series you should probably be using the proprietary drivers. The HD6xxx series is almost as fast on Open Source drivers with a handful of games running faster, but the HD7xxx and later all currently perform rather poorly.\u003C/p\u003E\u003Cp\u003EI think this bug has do with latencies in drawing the terrain, and I don\u0027t really think there is much you can do about it short of reducing the terrain detail.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-09-26T21:29:17Z","Content":"\n\u003Cp\u003EI think I saw this before actually, but it was when I had the point light sources turned to max, the lights (and the fire effect) really pan my gfx card :/\u003C/p\u003E\n"},{"CreatedByName":"nalitia","CreatedById":117727,"CreatedDateTime":"2015-01-25T01:44:42Z","Content":"\n\u003Cp\u003EI noticed that camera stuttering was only happening when the UI was enabled. When I\u0027d hit F2 to shut it off for a screenshot, the framerate shot back up. Try cutting back on UI-related mods, and close windows when they aren\u0027t needed. I noticed that Contract Window\u002B being open slows everything to a crawl.\u003C/p\u003E\n"},{"CreatedByName":"lodestar","CreatedById":101720,"CreatedDateTime":"2015-02-20T05:51:40Z","Content":"\n\u003Cp\u003EThis seems to be a bug with the UI used by MechJeb, Scansat and a few other mods. It happens when you hold ANY mouse button and drag around with a MechJeb window visible. The problem doesn\u0027t happen when you move the camera angle with the keyboard or a controller, it doesn\u0027t happen when you drag the mouse around with no MechJeb windows visible. On the other hand, it does happen when drag the mouse around holding the left button anywhere on the screen, even when there\u0027s no window. If I had to guess, I\u0027d say the UI is getting bombarded with movement events as you drag the mouse around.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-02-23T15:18:31Z","Content":"\n\u003Cp\u003EI think you need to try the proprietary driver, the open source driver can be slow for some players \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lodestar","CreatedById":101720,"CreatedDateTime":"2015-02-28T15:50:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EI think you need to try the proprietary driver, the open source driver can be slow for some players \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am using the proprietary driver.\u003C/p\u003E\n"},{"CreatedByName":"D_U","CreatedById":142394,"CreatedDateTime":"2015-05-03T14:22:53Z","Content":"\n\u003Cp\u003EI\u0027ve had exactly the same issue and I found a workaround/fix described in another \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/101374-number-of-issues-running-KSP-on-Linux-Ubuntu?p=1898556\u0026amp;viewfull=1#post1898556\u0022 rel=\u0022external nofollow\u0022\u003Ethread\u003C/a\u003E, I hope that helps. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EJust to be short: In my case it was the (usb-)mouse-polling-rate which caused the cpu and the game to lag whenever I dragged anything with the right mouse button clicked (camera, UI-elements,...). Changing that from 1000Hz in my case to 125Hz completely removed the stutter. My mouse is a Logitech G700s (but that problem would be caused with every mouse which supports higher polling rates).\u003C/p\u003E\u003Cp\u003E(I hope that crossposting is ok since these two threads are dealing with the same issue and the other thread is already crossposting to this one).\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-03T14:26:16Z","Content":"\n\u003Cp\u003EThanks for this D_U \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"jsartisohn","CreatedById":143101,"CreatedDateTime":"2015-05-05T08:45:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022D_U\u0022 data-cite=\u0022D_U\u0022\u003E\u003Cdiv\u003EJust to be short: In my case it was the (usb-)mouse-polling-rate which caused the cpu and the game to lag whenever I dragged anything with the right mouse button clicked (camera, UI-elements,...). Changing that from 1000Hz in my case to 125Hz completely removed the stutter. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou, sir, are my hero of the year.\u003C/p\u003E\u003Cp\u003EThanks you. Thank you! Thank you!!\u003C/p\u003E\u003Cp\u003EThis stuttering was the single reason I always stopped playing after a while, because it became too unbearable. (Switching to Windows didn\u0027t make the experience better as it crashed too often with my mod set).\u003C/p\u003E\u003Cp\u003EI just wanted to confirm that this fix/workaround worked for me and tell you that you\u0027ll be responsible for me playing many many hours of KSP in the future \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Insanitic","CreatedById":121952,"CreatedDateTime":"2015-05-24T18:41:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022D_U\u0022 data-cite=\u0022D_U\u0022\u003E\u003Cdiv\u003EI\u0027ve had exactly the same issue and I found a workaround/fix described in another \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/101374-number-of-issues-running-KSP-on-Linux-Ubuntu?p=1898556\u0026amp;viewfull=1#post1898556\u0022 rel=\u0022external nofollow\u0022\u003Ethread\u003C/a\u003E, I hope that helps. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003EJust to be short: In my case it was the (usb-)mouse-polling-rate which caused the cpu and the game to lag whenever I dragged anything with the right mouse button clicked (camera, UI-elements,...). Changing that from 1000Hz in my case to 125Hz completely removed the stutter. My mouse is a Logitech G700s (but that problem would be caused with every mouse which supports higher polling rates).\u003C/p\u003E\u003Cp\u003E(I hope that crossposting is ok since these two threads are dealing with the same issue and the other thread is already crossposting to this one).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPIN, STICKY, WORSHIP, PRAISE, ADORE THIS POST PLEASE WHATEVER NECESSARY. This post saved me from giving up playing KSP with all my mods in Linux because of the awful stutter. Performance could still be better on linux, but it\u0027s perfectly playable now. A thousand thanks to you D_U.\u003C/p\u003E\n"},{"CreatedByName":"Eleven","CreatedById":60502,"CreatedDateTime":"2015-05-25T01:38:51Z","Content":"\n\u003Cp\u003EI\u0027m glad your issue is solved, but I hate threads like this because I read them and think \u0027Hmm, is this something I need to look at? I wonder what my mouse-polling-rate is and how do I change it?\u0027\u003C/p\u003E\u003Cp\u003EAnd then...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://img4.wikia.nocookie.net/__cb20130713132727/spongebob/images/thumb/b/bb/3_hours_later.jpg/640px-3_hours_later.jpg\u0022 alt=\u0022640px-3_hours_later.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI realize my mouse defaults to 125hz and I didn\u0027t even need to look into this issue \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EGod I love linux!\u003C/p\u003E\n"},{"CreatedByName":"Jason Patterson","CreatedById":44388,"CreatedDateTime":"2015-06-14T03:30:41Z","Content":"\n\u003Cp\u003EI was experiencing this problem on Windows to a level that made the game all but unplayable. I spent ten times longer than necessary building vehicles because I couldn\u0027t rotate my camera properly, couldn\u0027t dock at all, and generally wound up swearing at the game a lot more than normal. I was actually typing up a support thread because Windows\u0027s default polling rate is 125 hz and I hadn\u0027t changed it, so I knew it wasn\u0027t that.\u003C/p\u003E\u003Cp\u003EI found a separate solution to the issue that was unexpected. I replaced my wireless mouse\u0027s batteries. Problem solved immediately. The batteries were at ~30%, but it did the trick.\u003C/p\u003E\n"},{"CreatedByName":"lodestar","CreatedById":101720,"CreatedDateTime":"2015-10-02T23:34:29Z","Content":"\n\u003Cp\u003EChanging the poll rate helps, but it\u0027s a workaround, not a solution.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-10-03T08:57:58Z","Content":"\n\u003Cp\u003EWell no, as the cause is a high polling rate the fix is to change the polling rate, this has to be undertaken by the player as it isn\u0027t possible to change the players mouse poll rate from within KSP.\u003C/p\u003E\u003Cp\u003ECamera movement can be scaled, and this is already possible, but it won\u0027t change the number of mouse events thrown at KSP from the OS.\u003C/p\u003E\u003Cp\u003EClosing as no longer needed \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}