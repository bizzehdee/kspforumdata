{"TopicId":98416,"ForumId":69,"TopicTitle":"Severe FPS issues since returning to KSP 0.90","CreatedByName":"Mental Miggy","CreatedById":116719,"CreatedDateTime":"2015-01-31T23:44:20Z","PageNum":1,"Articles":[{"CreatedByName":"Mental Miggy","CreatedById":116719,"CreatedDateTime":"2015-01-31T23:44:20Z","Content":"\n\u003Cp\u003EHi. I have been away from KSP for a while and recently returned. I have KSP which I have modded but am posting here as I have the same problem with the unmodded KSP which I have installed for testing. I have always had amazing performance using KSP but since returning and using 0.90 my FPS have plummeted drastically. I now only get 20fps at KFC which drops to 9FPS in IVA.\u003C/p\u003E\u003Cp\u003EI have carried out the standard testing. No background processes hogging resources, Free of spyware/Adware etc. All drivers up to date. \u003C/p\u003E\u003Cp\u003EI am using a laptop with both a Dedicated and Integrated graphics card. My system settings are as follows.\u003C/p\u003E\u003Cp\u003EProcessor - Intel\u00AE Core i3-3120m CPU @ 2.50ghz\u003C/p\u003E\u003Cp\u003EInstalled Memory - 4GB\u003C/p\u003E\u003Cp\u003EOperating System - \u0022Windows 8.1 (64 bit)\u003C/p\u003E\u003Cp\u003EGPU -Nvidia 635m (1gb)\u003C/p\u003E\u003Cp\u003EFor some reason, my KSP.Log is listing the GPU as my Intel HD 4000 chip. Though I know that the Nvidia card is active in running KSP because Nvidia inspector is showing it active, as is the Nvidia activity monitor.\u003C/p\u003E\u003Cp\u003EThe log only shows my Geforce Nvidia 635m card if I run KSP in opengl mode which does little to aid performance. I have Nvidia control panel set to use the High performance Nvidia card. Slider settings in game do not appear to benefit framerate at all, so I am here to see if anyone can help me. KSP was handling like a dream last time I played and now it is absolutely unplayable. I appreciate any support offered.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2015-02-01T10:56:56Z","Content":"\n\u003Cp\u003EIt might be worth running KSP with the \u003Cem\u003E-adapter N\u003C/em\u003E command flag (N being 0 or 1; try both). \u003C/p\u003E\u003Cp\u003EIt may also be worth a look at your power management settings -- make sure they\u0027re set to High Performance whilst playing KSP; many laptops will either disable or limit the dedicated graphics card to save power in other modes.\u003C/p\u003E\u003Cp\u003EIf I had to hazard a guess, I\u0027d chalk this up to a Unity bug that\u0027s been causing a bunch of issues in the present version of KSP; the game no longer runs in what the OS would consider \u0027true fullscreen\u0027, but some weird mix between \u0027full-window\u0027 and \u0027fullscreen\u0027 by default, which is likely what\u0027s causing the issue with the game not properly utilising the dedicated GPU. Some laptops are, from memory, configured such that they like to reserve the dedicated graphics card mostly for fullscreen graphics-heavy applications. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"PB666","CreatedById":107380,"CreatedDateTime":"2015-02-01T13:34:02Z","Content":"\n\u003Cp\u003ECouple of issues, on my 0.90 install the program reset my screen resolution to a scale that was distorted, I had to tinker with it to lower the resolution to a scale that optimized performance. \u003C/p\u003E\u003Cp\u003EYour core processor is a bit slow for the physics stuff some folks are having a problem with. \u003C/p\u003E\u003Cp\u003EI heard that 8.1 and 64 bit are problems. Make sure you are running the 32 bit version of the game. \u003C/p\u003E\u003Cp\u003EI have also read but cannot confirm that KSP likes to have its own dedicated processor in multi-core systems. This argues for machines that have higher processor speeds. \u003C/p\u003E\u003Cp\u003EMake sure your modules are all up-to-date, some modules may have problems in 0.90 and need to be shut off.\u003C/p\u003E\n"},{"CreatedByName":"Nitrous Oxide","CreatedById":131998,"CreatedDateTime":"2015-02-01T20:36:54Z","Content":"\n\u003Cp\u003ESimilar situation here, and maybe a potential solution... I was getting pretty bad FPS (\u0026lt;20) on a stock install on the lowest settings with my Catalyst Control Center setting set to \u0022High Performance\u0022 (my Radeon HD 7730M), and I was curious to see what would happen if I switched it to \u0022Power Saving\u0022 (Intel HD 4000, i7 3612QM 2.1GHz)... surprisingly enough, my game had the smoothest FPS I\u0027ve ever had even on the highest graphical settings... the one drawback was AA is messy (text gets aliased as well), but that was easily solved by turning it off in-game and throwing SweetFX into my KSP folder and setting some AA through that instead.\u003C/p\u003E\u003Cp\u003ETo compare further, I tried both GPUs with the Kerbal Weather System mod (huge amounts of processing on clouds)... I was getting ~5 FPS on my dedicated card, and closer to 30 FPS on the integrated card... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027d wager that Unity isn\u0027t working too well with older switchable-GPUs, especially when your manufacturer hasn\u0027t given you a driver since 2012 (my case, anyways)... also, for note, a \u003Cem\u003Elot\u003C/em\u003E of software often lists \u003Cstrong\u003Eboth\u003C/strong\u003E my GPUs as the Intel HD 4000 (Skyrim is a notable offender, I\u0027ve never seen the words \u0022Radeon HD\u0022 in my KSP logs either). Whatever setting in the Nvidia panel is definitely what you should be basing it on, as I\u0027m pretty sure that \u003Cem\u003Eshould\u003C/em\u003E be what decides how your OS uses your hardware. Make sure you have the most recent drivers you can use (from your manufacturer), and try both cards. I was pretty dumbfounded when actually setting it to the integrated card gave me better performance, as it\u0027s usually the opposite... but alas, my dedicated GPU drivers are about to celebrate their 3rd birthday...\u003C/p\u003E\n"},{"CreatedByName":"Mental Miggy","CreatedById":116719,"CreatedDateTime":"2015-02-02T14:51:29Z","Content":"\n\u003Cp\u003EUpdate.\u003C/p\u003E\u003Cp\u003EBeen doing a little more testing and I think Nitrous and Vexx are on to something. Just tried the -adapter 0 command and it hung on the loading screen. When checking log I got this near the end of the log.\u003C/p\u003E\u003Cp\u003E[EXC 14:46:04.390] NullReferenceException: Object reference not set to an instance of an object\u003C/p\u003E\u003Cp\u003E System.Collections.Generic.GenericEqualityComparer\u00601[system.String].GetHashCode (System.String obj)\u003C/p\u003E\u003Cp\u003E System.Collections.Generic.Dictionary\u00602[system.String,System.Int32].TryGetValue (System.String key, System.Int32\u0026amp; value)\u003C/p\u003E\u003Cp\u003E PartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node)\u003C/p\u003E\u003Cp\u003E PartLoader\u002B.MoveNext ()\u003C/p\u003E\u003Cp\u003E[LOG 14:46:39.728] Skipped rendering frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:39.835] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:39.938] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.040] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.141] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.243] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.346] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.447] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.550] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.652] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.755] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.857] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:40.958] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:41.060] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:41.162] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:41.264] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:41.366] Skipped frame because GfxDevice is in invalid state (device lost)\u003C/p\u003E\u003Cp\u003E[LOG 14:46:58.562] [smokeScreen PersistentEmitterManager] : OnDestroy\u003C/p\u003E\u003Cp\u003E[LOG 14:46:58.575] [iR GUI] destroy\u003C/p\u003E\u003Cp\u003E*edit * - Should add that this is specific to KSP and I am not experiencing any other failures of my system to recognize my dedicated graphics adapter.\u003C/p\u003E\u003Cp\u003Ewill keep you guys updated\u003C/p\u003E\n"}]}