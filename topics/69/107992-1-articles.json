{"TopicId":107992,"ForumId":69,"TopicTitle":"How to modify settings.cfg for PPJoy in 1.0.2?","CreatedByName":"taylornate","CreatedById":33202,"CreatedDateTime":"2015-05-07T00:39:12Z","PageNum":1,"Articles":[{"CreatedByName":"taylornate","CreatedById":33202,"CreatedDateTime":"2015-05-07T00:39:12Z","Content":"I\u0027m trying to use PPJoy joystick remixer to force KSP to use a calibrated version of my joystick. I\u0027ve done this long ago in a previous version, and this required editing settings.cfg to manually select the virtual stick. However, settings.cfg now uses a different format than was explained in the original thread on this matter ( [http://forum.kerbalspaceprogram.com/threads/42683-How-to-fix-horribly-calibrated-Joysticks-in-KSP-(Workaround)](https://forum.kerbalspaceprogram.com/threads/42683-How-to-fix-horribly-calibrated-Joysticks-in-KSP-%28Workaround%29) ).\n\nMy settings.cfg now looks like this:\n\n    AXIS_PITCH{\tPRIMARY\t{\t\tname = Logitech Extreme 3D Pro\t\taxis = 1\t\tinv = False\t\tsensitivity = 1\t\tdeadzone = 0.05\t\tscale = 1\t\tgroup = 0\t\tmodeMask = 7\t}\tSECONDARY\t{\t\tname = None\t\taxis = -1\t\tinv = False\t\tsensitivity = 1\t\tdeadzone = 0.05\t\tscale = 1\t\tgroup = 0\t\tmodeMask = -1\t}}\n\nI tried changing \u0022Logitech Extreme 3D Pro\u0022 to \u0022PPJoy Virtual Joystick 1\u0022 to match what it\u0027s called in Windows game controller configuration, but that just caused KSP to hang when I entered the settings page to look at it.\n\nMy settings.cfg from an older version of KSP looks like this:\n\n    AXIS_PITCH{\tname = VirY\tid = joy0.1\tinv = False\tsensitivity = 1\tdeadzone = 0.05\tscale = 1\tgroup = 0\tswitchState = Any}\n\nAs you can see, the joystick selection is done via the id setting, which doesn\u0027t seem to exist in 1.0.2.\n\nAs an aside... Why on Earth does Unity seem indifferent to calibration? To me that seems like a pretty glaring flaw...\n\ne: There is also this, at the beginning of the control settings:\n\n    INPUT_DEVICES{\tLogitech Extreme 3D Pro = 0}\n\nI tried changing two things here. (1) I changed the 0 to a 1. (2) I changed it back to a 0, changed the name here and under the axis to the PPJoy name. Neither of these attempts panned out.\n\n**Edited \u003Ctime datetime=\u00222015-05-07T00:53:22Z\u0022 title=\u002205/07/2015 12:53  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by taylornate**"},{"CreatedByName":"taylornate","CreatedById":33202,"CreatedDateTime":"2015-05-09T23:25:04Z","Content":"To give a bit of background, the problem is that Unity ignores the joystick calibration for some reason, making some joysticks unusable. I can\u0027t be the only one trying to work around it in 1.0. An official work-around would be lovely. It\u0027s really frustrating to not be able to use my joystick."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-11T08:05:36Z","Content":"Sorry I don\u0027t know how to help you with this taylornate."},{"CreatedByName":"hellbender","CreatedById":18199,"CreatedDateTime":"2015-05-11T10:10:08Z","Content":"This is a serious issue with Unity and it makes using certain joysticks a pain. \n\nAlong with proper dual screen support, I feel these are the last two things really holding back KSP.\n\nAnyhow, I personally switched from PPJoy and GlovePIE to using **vJoy** and **FreePIE** for my Microsoft Sidewinder Force Feedback 2 and Saitek X-52 (throttle only).\n\nI also use a small program called **simFFB** to keep my stick centered as there is no centering force present otherwise.\n\nUninstall PPJoy, get vJoy instead (no need to disable driver signing in Windows for vJoy), then create a virtual joystick.\n\nYou can set up your virtual stick with whatever physical input you want in FreePIE (in my case: X-Y-Z axes on the MSFFB2, throttle and small slider on the X-52 throttle) and bind axes directly in the KSP Input screen. \n\nSometimes KSP will pick up the physical axis instead of the virtual axis when you\u0027re binding it (e.g. \u0022Microsoft Sidewinder JoystickAxis 1\u0022 instead of \u0022vJoy Virtual JoystickAxis 1\u0022). \n\nJust keep rebinding till it shows you the virtual axis (shouldn\u0027t take you more than one or two tries, otherwise something is wrong).\n\nAs for joystick buttons and POV hats, try to bind as few of them as possible within KSP. Instead, bind keyboard keys for default functions to buttons directly in FreePIE or some other programming software.\n\nFor example, the big button on my X-52 throttle \u0022**joystick[2].getDown(29)**\u0022 is bound to \u0022**Key.M**\u0022 and brings up map view. Much easier than getting KSP to recognise the joystick button in the Input screen.\n\nThe POV hat on my MSFFB2 directly triggers the up, down, left and right keyboard keys (for changing the camera angle in external views -- I use TrackIR for internal views).\n\n**vjoy**\n\n[http://vjoystick.sourceforge.net/site/](http://vjoystick.sourceforge.net/site/)\n\n**FreePIE**\n\n[http://andersmalmgren.github.io/FreePIE/](http://andersmalmgren.github.io/FreePIE/)\n\n**simFFB** (for those using a stick with Force Feedback)\n\n[http://forums.eagle.ru/showpost.php?p=1394206\u0026postcount=18](http://forums.eagle.ru/showpost.php?p=1394206\u0026postcount=18)\n\nAnd here\u0027s the FreePIE code which I use (joystick[1] is the MSFFB2, joystick[2] is the Saitek X-52):\n\n    # KERBAL virtual joystickfrom System import Int16if starting:\tsystem.setThreadTiming(TimingTypes.HighresSystemTimer)\tsystem.threadExecutionInterval = 5\tjoystick[1].setRange(Int16.MinValue / 2.001, Int16.MaxValue / 2.001)\tjoystick[2].setRange(Int16.MinValue / 2.001, Int16.MaxValue / 2.001)# map analoguevJoy[0].x = joystick[1].xvJoy[0].y = joystick[1].yvJoy[0].z = -1 * joystick[2].zvJoy[0].rz = joystick[1].zRotationvJoy[0].slider = -1 * joystick[1].sliders[0]vJoy[0].dial = joystick[2].sliders[0]# map keys to buttonskeyboard.setKey(Key.NumberPadMinus, joystick[2].getDown(19))keyboard.setKey(Key.NumberPadPlus, joystick[2].getDown(21))keyboard.setKey(Key.M, joystick[2].getDown(29))# map pov hatskeyboard.setKey(Key.UpArrow, joystick[1].pov[0] == 0)keyboard.setKey(Key.RightArrow, joystick[1].pov[0] == 9000)keyboard.setKey(Key.DownArrow, joystick[1].pov[0] == 18000)keyboard.setKey(Key.LeftArrow, joystick[1].pov[0] == 27000)# end of script\n\n**Edited \u003Ctime datetime=\u00222015-05-11T10:16:24Z\u0022 title=\u002205/11/2015 10:16  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 11, 2015\u003C/time\u003E by hellbender**"},{"CreatedByName":"texasflyboy","CreatedById":105498,"CreatedDateTime":"2015-10-07T17:14:48Z","Content":"So for those of us that don\u0027t program regularly or write scripts, would you suggest a tutorial or walk through explaining how to write and implement scripts like this in FreePIE? \n\nI think your example has all I need to map what I need to map (for the X-55) but would also be interested in understanding what syntax etc. this script uses so I can write it properly. \n\nThanks!"}]}