{"TopicId":198362,"ForumId":69,"TopicTitle":"[SOLVED - OpenGL update needed] Game fails at start - screen changes to bare background briefly, then game fails","CreatedByName":"Redchrome","CreatedById":132090,"CreatedDateTime":"2020-11-26T23:17:15Z","PageNum":1,"Articles":[{"CreatedByName":"Redchrome","CreatedById":132090,"CreatedDateTime":"2020-11-26T23:17:15Z","Content":"\n\u003Cp\u003E\nHi there,\n\u003C/p\u003E\n\u003Cp\u003E\nAfter several months hiatus while working hard at a new job, I\u0027m trying to launch KSP again. Unfortunately, when I try to launch it (from Steam, \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E, or the Linux command line) I see a bare wallpaper image\u00A0 ever so briefly (as if the game is trying to set the graphics mode) and then I\u0027m back to my usual desktop and the game isn\u0027t running.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m on Ubuntu 18.04, a GTX750 Strix video card, and 20GB RAM.\n\u003C/p\u003E\n\u003Cp\u003E\nDirect rendering is working.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E$ glxinfo |grep \u0027direct rendering\u0027\ndirect rendering: Yes\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nI tried completely removing my KSP instance by renaming\u00A0 \u003Cspan style=\u0022font-family:monospace;\u0022\u003E\u003Cspan style=\u0022color:#000000;background-color:#ffffff;\u0022\u003E~/.local/share/Steam/steamapps/common/Kerbal Space Program\u003C/span\u003E\u003C/span\u003E\u003Cbr\u003E\nand letting Steam re-install it. So I believe I have a completely stock instance now, and it still crashes.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t see any logs generated, and I tried looking (unsuccessfully) for .dmp files.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried looking at the troubleshooting hints pinned in this subsection of the forum and didn\u0027t have any luck adding options to the launcher (hopefully I\u0027m correctly guessing at what to do here). This is the most debugging output I\u0027ve been able to get. Please tell me if there are any additional debugging steps I can do:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Echrome@steel:~/.local/share/Steam/steamapps/common/Kerbal Space Program$ ./KSPLauncher.x86_64 -disable-gpu-skinning -force-gfx-direct\nSet current directory to /home/chrome/.local/share/Steam/steamapps/common/Kerbal Space Program\nFound path: /home/chrome/.local/share/Steam/steamapps/common/Kerbal Space Program/KSPLauncher.x86_64\nINTEL-MESA: warning: Ivy Bridge Vulkan support is incomplete\nINTEL-MESA: warning: Ivy Bridge Vulkan support is incomplete\nXIO:  fatal IO error 0 (Success) on X server \u0022:0\u0022\n      after 288 requests (286 known processed) with 26 events remaining.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat\u0027s the next thing I should try to debug this?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-11-27T22:22:01Z\u0022 title=\u002211/27/2020 10:22  PM\u0022 data-short=\u00223 yr\u0022\u003ENovember 27, 2020\u003C/time\u003E by Redchrome\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Redchrome","CreatedById":132090,"CreatedDateTime":"2020-11-27T22:21:26Z","Content":"\n\u003Cp\u003E\nSolved it!\n\u003C/p\u003E\n\u003Cp\u003E\nTL,DR: I needed to upgrade my graphics drivers.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks to the *other* troubleshooting guide in this forum, I found the Player.log file.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ecat ~/.config/unity3d/Squad/Kerbal\\ Space\\ Program/Player.log\nMono path[0] = \u0027/home/chrome/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP_Data/Managed\u0027\nMono config path = \u0027/home/chrome/.local/share/Steam/steamapps/common/Kerbal Space Program/KSP_Data/MonoBleedingEdge/etc\u0027\nPreloaded \u0027libkeyboard.so\u0027\nPreloaded \u0027liblingoona.grammar.kerbal.so\u0027\nPreloaded \u0027libsteam_api.so\u0027\nPreloaded \u0027ScreenSelector.so\u0027\nDisplay 0 \u0027KJTHDMI2.0 32\u0022\u0027: 3840x2160 (primary device).\nDesktop is 3840 x 2160 @ 60 Hz\nUnable to find a supported OpenGL core profile\nFailed to create valid graphics context: please ensure you meet the minimum requirements\nE.g. OpenGL core profile 3.2 or later for OpenGL Core renderer\nNo supported renderers found, exiting\n \n(Filename: ./PlatformDependent/LinuxStandalone/main.cpp Line: 611)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nHowever, it looked like my \u0027OpenGL core profile version\u0027 should be sufficient.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E$ glxinfo |grep -i version\nserver glx version string: 1.4\nclient glx version string: 1.4\nGLX version: 1.4\n    Version: 19.2.8\n    Max core profile version: 3.3\n    Max compat profile version: 3.1\n    Max GLES1 profile version: 1.1\n    Max GLES[23] profile version: 3.0\nOpenGL core profile version string: 3.3 (Core Profile) Mesa 19.2.8\nOpenGL core profile shading language version string: 3.30\nOpenGL version string: 3.1 Mesa 19.2.8\nOpenGL shading language version string: 1.40\nOpenGL ES profile version string: OpenGL ES 3.0 Mesa 19.2.8\nOpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.00\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nObviously it wasn\u0027t tho.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo I spent several hours wrestling with getting my nVidia driver updated, kernel updated (turns out upgrading from 4.15 to 5.4 is not quite trivial), and getting all the driver versions to match. I haven\u0027t updated my kernel and drivers for some time because my last attempt resulted in crashes once a day.\n\u003C/p\u003E\n\u003Cp\u003E\nIn retrospect, I should have just made sure I had this Ubuntu PPA installed:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://launchpad.net/~graphics-drivers/\u002Barchive/ubuntu/ppa\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://launchpad.net/~graphics-drivers/\u002Barchive/ubuntu/ppa\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nremove the nVidia .run package I had installed,\n\u003C/p\u003E\n\u003Cp\u003E\nthen run:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eapt-get install nvidia-driver-455\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbut it took me a while to catch on to exactly what I needed to do. If I\u0027d just been a user who installs the system and never does anything funky other than the occasional \u0027do-release-upgrade\u0027 I probably would have been fine.\n\u003C/p\u003E\n"}]}