{"TopicId":108146,"ForumId":69,"TopicTitle":"Bug where ship becomes un-editable in VAB","CreatedByName":"lewisd","CreatedById":66947,"CreatedDateTime":"2015-05-08T02:03:40Z","PageNum":1,"Articles":[{"CreatedByName":"lewisd","CreatedById":66947,"CreatedDateTime":"2015-05-08T02:03:40Z","Content":"I\u0027ve had this happen with a few ships. When I detach certain parts of it, and reattach them, it becomes uneditable. I can save, and if I exit the game and reload it, everything is fine, but if I follow the same steps again, it becomes uneditable again.\n\nRight-click menus on the ship parts still work, but the parts in the bins on the left no longer show tooltips, and right clicking there for expanded tooltips doesn\u0027t do anything.\n\nI\u0027ve attached the ship I\u0027ve most recently had this problem with. Detach the lowest fuel tank (a Rockomax X200-8), an reattach it. It doesn\u0027t matter if you \u0022put down\u0022 the parts first, and then pick them back up to reattach them, or not.\n\nThe section being detached has a fairing base in it. This seems to be what\u0027s causing the problem. If I take the fairing base out, this problem doesn\u0027t occur.\n\nIt shows this in the output.log:\n\n    Duna Mission 1 loaded!(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)Autogen thumbnail for C:/Games/Steam/steamapps/common/Kerbal Space Program/KSP_Data/../thumbs/Xenoc Sandbox_VAB_Duna Mission 1.png from C:\\Games\\Steam\\steamapps\\common\\Kerbal Space Program\\saves\\Xenoc Sandbox\\Ships\\VAB\\Duna Mission 1.craft(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)fuelTank4-2 added to ship - part count: 66(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)InvalidOperationException: Operation is not valid due to the current state of the object  at System.Linq.Enumerable.Last[FairingXSection] (IEnumerable\u00601 source) [0x00000] in :0   at ModuleProceduralFairing\u002B.MoveNext () [0x00000] in :0 UnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)ModuleProceduralFairing:scheduleReconnect()ModuleProceduralFairing:m__19B()KerbalFSM:RunEvent(KFSMEvent)ModuleProceduralFairing:onSelfReattach()Part:onAttach(Part, Boolean)Part:onAttach(Part, Boolean)Part:onAttach(Part, Boolean)Part:onAttach(Part, Boolean)EditorLogic:attachPart(Part, )EditorLogic:m__CD()KerbalFSM:RunEvent(KFSMEvent)KerbalFSM:updateFSM(KFSMUpdateMode)KerbalFSM:UpdateFSM()EditorLogic:Update()(Filename:  Line: -1)\n\nI encountered this in a (lightly) modded install originally. I copied the ship over to my clean unmodded Steam install, and it still occurs."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-08T10:51:19Z","Content":"Hi lewisd, your craft file failed to attach, please use a file sharing service such as dropbox."},{"CreatedByName":"lewisd","CreatedById":66947,"CreatedDateTime":"2015-05-11T21:11:18Z","Content":"Whoops, totally forgot to attach it, actually. In the meantime though, I was able to come up with minimal steps to reproduce the bug, so the craft file isn\u0027t really necessary. (Unless it is?)\n\n0. Start a new ship\n\n1. Add capsule (Mk1 Command Pod)\n\n2. Add fuel tank (FL-T200)\n\n3. Add fairing (1.25\u0022)\n\n4. Build fairing (actually finish building it, either over the command pod, or closed on the fuel tank)\n\n5. Delete fairing (right-click, choose \u0022delete fairing\u0022, don\u0027t delete the actual part)\n\n6. Move fuel tank\n\nFrom this point on, the game is broke, and you have to exit KSP to fix it."},{"CreatedByName":"Thiagobs","CreatedById":76021,"CreatedDateTime":"2015-05-11T22:28:48Z","Content":"I\u0027ve attempted those steps on a fresh, unmmoded install and had no issues...\n\nHowever, changing the steps a bit, I\u0027ve encountered the same issue as lewisd\n\nHere\u0027s my changed steps:\n\n0. Start a new ship\n\n1. Add capsule (Mk1 Command Pod)\n\n2. Add fuel tank (FL-T200)\n\n3. Add fairing (1.25\u0022)\n\n4. Build fairing (closed on the fuel tank)\n\n5. Attempt to move the fuel tank without deleting the fairings\n\nFrom now on, only right click works, and even deleting the fairing through the right-click tweakable doesn\u0027t \u0027free\u0027 left-clicking"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-11T22:29:09Z","Content":"I\u0027m really going to need your logs for this one Lewis, [**I can\u0027t reproduce it,**](http://i.imgur.com/usQNrdW.png) KSP replaces the logs each time you start so you\u0027ll need to get then immediately after this issue occurs."},{"CreatedByName":"Thiagobs","CreatedById":76021,"CreatedDateTime":"2015-05-11T22:50:54Z","Content":"Hmmm, I\u0027ve attempted to replicate the bug once again, but this time it took several attempts to get the left-clicking issue.. \n\nAnyway, I\u0027ve uploaded my output\\_log here:\n\n[https://www.dropbox.com/s/exvlswqckr3n5wb/output_log.txt?dl=0](https://www.dropbox.com/s/exvlswqckr3n5wb/output_log.txt?dl=0)\n\nKerbal Space Program - 1.0.2.842 (WindowsPlayer)\n\nOS: Windows 8.1 (6.3.9600) 64bit\n\nCPU: Intel\u00AE Core i7 CPU 950 @ 3.07GHz (8)\n\nRAM: 6136\n\nGPU: NVIDIA GeForce GTX 760 (1987MB)"},{"CreatedByName":"lewisd","CreatedById":66947,"CreatedDateTime":"2015-05-11T23:20:12Z","Content":"\u003E \n\u003E I\u0027m really going to need your logs for this one Lewis, [**I can\u0027t reproduce it,**](http://i.imgur.com/usQNrdW.png) KSP replaces the logs each time you start so you\u0027ll need to get then immediately after this issue occurs.\n\nWere the logs I posted not enough? I can reproduce it easily enough, so I\u0027ll get what I can.\n\n- - - Updated - - -\n\nI did a short video of reproducing it:\n\n[https://youtu.be/U-DtE9yJPew](https://youtu.be/U-DtE9yJPew)\n\nI follow the steps Thiagobs mentioned, and also my original steps. As you can see, Thiagobs\u0027s steps don\u0027t cause the bug for me.\n\nHere is the log from that video:\n\n[https://www.dropbox.com/s/wqxc57zrt71klec/2015-05-11-1607-output_log.txt?dl=0](https://www.dropbox.com/s/wqxc57zrt71klec/2015-05-11-1607-output_log.txt?dl=0)\n\n**Edited \u003Ctime datetime=\u00222015-05-12T21:06:39Z\u0022 title=\u002205/12/2015 09:06  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 12, 2015\u003C/time\u003E by lewisd**"},{"CreatedByName":"WOODY01","CreatedById":129358,"CreatedDateTime":"2015-05-12T04:22:34Z","Content":"I have had this problem and it always seems to be after I attach fairings to something remove a part or two and then I need to exit the VAB and return. Then every thing works fine. Does not happen all the time for me but it does seem to only happen when I attached fairings.\n\nNext time it happens I\u0027ll post my log and what I was doing when it happened."},{"CreatedByName":"misterbk","CreatedById":144226,"CreatedDateTime":"2015-05-24T05:09:53Z","Content":"I\u0027m having this same problem. Now that I think about it, it started happening when I started trying to use fairings."},{"CreatedByName":"misterbk","CreatedById":144226,"CreatedDateTime":"2015-05-24T05:26:29Z","Content":"Sorry for the double reply. I found something in the logs and wanted to edit it in, but I\u0027m still waiting for moderators to approve my other comment.\n\nThe error itself is at the very end of KSP.log. It\u0027s definitely related to fairings:\n\n    [LOG 22:00:57.511] ---DockingAsDecoupler  : 2[LOG 22:01:05.794] fuelTank2-2 added to ship - part count: 104[EXC 22:01:05.799] InvalidOperationException: Operation is not valid due to the current state of the object    System.Linq.Enumerable.Last[FairingXSection] (IEnumerable\u00601 source)    ModuleProceduralFairing\u002B.MoveNext ()    UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)    ModuleProceduralFairing:scheduleReconnect()    ModuleProceduralFairing:m__19B()    KerbalFSM:RunEvent(KFSMEvent)    ModuleProceduralFairing:onInterstageReattach()    Part:onAttach(Part, Boolean)    EditorLogic:attachPart(Part, )    EditorLogic:m__CD()    KerbalFSM:RunEvent(KFSMEvent)    KerbalFSM:updateFSM(KFSMUpdateMode)    KerbalFSM:UpdateFSM()    EditorLogic:Update()\n\n[The full KSP.log](http://pastebin.com/ij2tne9d)"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-24T07:56:06Z","Content":"I can\u0027t reproduce it because it does not break on my KSP install, so I don\u0027t know what\u0027s happening here sorry.\n\nAre you trying to make interstages with two fairing bases?, it\u0027s not required to use two, maybe that\u0027s what is causing the issue here."},{"CreatedByName":"misterbk","CreatedById":144226,"CreatedDateTime":"2015-05-26T08:43:19Z","Content":"I am attempting to send a Mun lander pod up along with a rover. The idea is to achieve Mun orbit, detach rover/lander stage (rover / separator / fuel tank / radial rockets and lander pod), Mun entry, hover close to surface and release rover, then land the pod. Then the rover can run around and collect stuff, deliver to lander, which takes it back to orbital lab.\n\nIn my construction, it goes fairing base \u003E girder \u003E mini separator \u003E rover probe core \u003E large circular battery \u003E mini separator \u003E fuel tank \u003E lander pod. The fairing is supposed to extend up as a straight cylinder and attach to the bottom of the fuel tank, to support and protect the rover parts during liftoff. The game supports this, recognizes touching the fuel tank as a condition to complete the fairing. The vehicle root is below the fairing base. If I detach or attach just about anything above the fairing base, I get the bug and can no longer click on things. VAB is then permanently broken until I exit the game. At least, I can\u0027t find any in-game action that resets it, including quitting to the main menu and reloading the save.\n\nI\u0027ve also had this glitch happen several times when the fairing was the topmost cone of the ship, with an orbital survey probe inside."},{"CreatedByName":"MooMin","CreatedById":148823,"CreatedDateTime":"2015-07-26T17:12:12Z","Content":"Anyone managed to find the exact cause and perhaps a solution?\n\nI\u0027ve looked up and found another thread ([http://forum.kerbalspaceprogram.com/threads/122586-Editor-bug-with-fairings](https://forum.kerbalspaceprogram.com/threads/122586-Editor-bug-with-fairings?highlight=can%27t\u002Bclick)) talking about the exact same problem only the solution they gave him there was pretty much to be more careful with the fairings.\n\nLooks to me like the connecting the fairings unwisely causes some kind of error with handling the parts and makes the game think that the user is still holding a part or something, thus he is unable to click any other parts.\n\nAnyone who has more experience can try and verify my suspicions?"},{"CreatedByName":"Enorats","CreatedById":141841,"CreatedDateTime":"2016-03-29T02:09:41Z","Content":"This is a rather old thread, but upon searching the forums I came across it. Having this identical issue right now. I cannot use left click to interact with parts in any way in the VAB. Can\u0027t add new ones, can\u0027t move old ones. Nothing. This occurred immediately after I added a fairing, it popped up to ask me to build it, I right clicked to dismiss it as I wasn\u0027t ready to build it.. and voila.. no more part clicky. The fairing I added wasn\u0027t anything weird, just a small duna lander followed by a decoupler, followed by a fuel tank, followed by an engine, followed by a decoupler, followed by a fairing. The fairing was going to cover everything from the base up to the bottom of the mk 1-2 command pod on the lander\u0027s ascent stage, but I never even did anything with it.  \n\nEdit: After checking out the thread mentioned by the guy above me I found a way to fix it at the bottom of that thread - alt \u002B f12 to clear the input lock stack (at the top of the \u0022cheats\u0022 menu after you hit the show input lock stack button. Now I can pick things up again. Apparently right clicking to dismiss that fairing locked my ability to pick up parts but never cleared it.\n\n**Edited \u003Ctime datetime=\u00222016-03-29T02:13:56Z\u0022 title=\u002203/29/2016 02:13  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 29, 2016\u003C/time\u003E by Enorats**"}]}