{"TopicId":22561,"ForumId":69,"TopicTitle":"The Linux compatibility thread!","CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2013-04-18T21:29:24Z","PageNum":30,"Articles":[{"CreatedByName":"Garek","CreatedById":73214,"CreatedDateTime":"2014-04-24T17:42:52Z","Content":"\n\u003Cp\u003EJust got Manjaro up and running, and thanks to this thread, I got 64Bit KSP running without a problem. Thank you!\u003C/p\u003E\u003Cp\u003EIn fact, the longest part was finding out where to get xxd. In case another Arch Linux or Manjaro user out there doesn\u0027t know yet: there is a xxd package in the AUR, and apparently it\u0027s also contained in vim and gvim. Maybe I was just a bit dumb at searching for it.\u003C/p\u003E\u003Cp\u003ENow get all the mods! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2014-04-26T21:16:47Z","Content":"\n\u003Cp\u003EThe patcher isn\u0027t working for me, and I just noticed that when I run it it displays \u0022Using rsync-2.0.9\u0022 - I have rsync 3.1.0?? Does the patcher say 2.0.9 for everyone else too?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-04-26T23:39:44Z","Content":"\n\u003Cp\u003EMake sure your patcher is up to date, or just forget it and get the full copy from the store, the patcher \u003Cem\u003Eshould\u003C/em\u003E work but so many things go wrong.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2014-04-27T08:56:52Z","Content":"\n\u003Cp\u003EWhen I last ran the launcher, it said \u0022downloading patcher\u0022 and seemed to download a new version of it, so I can only suppose that it is up to date. On it\u0027s store login window it says it\u0027s version to be 2.0.0.200.\u003C/p\u003E\u003Cp\u003ENow I downloaded again from store, start menu screen says version to be .23.5.0 and buildID.txt contains \u0022build id = 464 2014-04-01_17-04-22 Branch: master\u0022. Shouldn\u0027t there be a later version?!? Running the patcher behaves as before; pastebin of sync messages: \u003Ca href=\u0022http://pastebin.com/WU2DZasE\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/WU2DZasE\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBTW when the patcher is downloaded, it comes without the \u002Bx mode flag so won\u0027t run until I chmod it.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-04-27T09:04:33Z","Content":"\n\u003Cp\u003EYeah the flag issue is a pain but it\u0027s not a major hassle, and build 464 is the current release, running the patcher won\u0027t get you any further at this time, sorry.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2014-04-27T09:20:13Z","Content":"\n\u003Cp\u003EHm. I thought there had been a couple fixes to the 23.5 release, like the eva ragdoll issue? According to file attributes of what I downloaded from the store moments ago, nothing has been modified since release date.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-04-27T09:22:18Z","Content":"\n\u003Cp\u003EThere were fixes, they came out quite soon after the release, the current version is build id 464 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Ebuild id = 464\u003Cp\u003E2014-04-01_17-04-22\u003C/p\u003E\u003Cp\u003EBranch: master\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2014-04-27T09:25:22Z","Content":"\n\u003Cp\u003EOh, okay. Thanks for clearing that up. I saw references to version numbers \u0026gt;.23.5.0 in some threads around here, like this one \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/75586-Master-Thread-Unresponsive-Kerbals-in-EVA?highlight=ragdoll\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/75586-Master-Thread-Unresponsive-Kerbals-in-EVA?highlight=ragdoll\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EDo I need to check the correct version number in debug console or something?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-04-27T09:31:14Z","Content":"\n\u003Cp\u003EThe correct version number will be in the buildId.txt, this was found to be an easier way of updating the build Id instead of changing the number in-game or rewriting the readme every time.\u003C/p\u003E\u003Cp\u003EAs you can no doubt imagine, if we\u0027re on 464 now and 0.23 was build 395, there are a \u003Cem\u003Elot\u003C/em\u003E of builds between updates \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2014-04-27T09:34:52Z","Content":"\n\u003Cp\u003EOoh right! Makes sense now =) It was the \u003Cstrong\u003E.0\u003C/strong\u003E at menu screen that was confusing me.\u003C/p\u003E\n"},{"CreatedByName":"humptydump","CreatedById":107258,"CreatedDateTime":"2014-04-28T08:50:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EYou can force it via the driver itself, and set up a profile for KSP in your graphics cards own software but it won\u0027t work out of the box as far as I know.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry the environment variable. Should work with the free NVIDIA drivers as well, as they are also based on the Gallium renderer.\u003C/p\u003E\u003Cp\u003E\u0026gt; GALLIUM_MSAA=8 ./KSP.bla\u003C/p\u003E\n"},{"CreatedByName":"miceliux","CreatedById":72239,"CreatedDateTime":"2014-04-28T13:42:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022humptydump\u0022 data-cite=\u0022humptydump\u0022\u003E\u003Cdiv\u003ETry the environment variable. Should work with the free NVIDIA drivers as well, as they are also based on the Gallium renderer.\u003Cp\u003E\u0026gt; GALLIUM_MSAA=8 ./KSP.bla\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you! It works for me with a Radeon card.\u003C/p\u003E\n"},{"CreatedByName":"brickmack","CreatedById":92193,"CreatedDateTime":"2014-04-28T22:34:57Z","Content":"\n\u003Cp\u003EI\u0027m having an issue with the game crashing in the VAB. As soon as I place any parts, or if I pull up the debug screen, my whole computer freezes. No input is accepted from mouse or keyboard, and it doesnt unfreeze by itself. Only way to fix it is the hold down the power button. I\u0027m not seeing anything that looks relevant in the ksp.log file. This seems to be a new issue with Ubuntu 14.04, as I had the ARM update working fine on 13.10. I did the memory address patch for 64 bit ksp, but that didnt help (and the game ran fine on 13.10 without the patch, so I dont think its a memory issue anyway). Ive looked through the last few pages of this and didnt see anything, anyone got any ideas?\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2014-04-28T23:31:26Z","Content":"\n\u003Cp\u003ETo narrow down the problem a bit, have you tried:\u003C/p\u003E\u003Cp\u003ECtrl\u002BAlt\u002BF1? Give it a few minutes if need be, that should switch you to a text console. If it does, the problem is likely KSP hogging RAM or CPU.\u003C/p\u003E\u003Cp\u003EHold Alt\u002BSysRq/Print Screen, hit R, E, I, S, U, B giving a few seconds between each key. That will reboot your computer in a somewhat more orderly fashion than hitting the power switch. If nothing else it\u0027ll help when you\u0027re troubleshooting this issue. If this doesn\u0027t work I believe the problem is probably down to your graphics drivers, consider changing them to a different version. Alternatively the Alt\u002BSysRQ combinations may have been disabled, I don\u0027t recall Ubuntu doing that but it\u0027s worth checking.\u003C/p\u003E\u003Cp\u003E(The commands are take \u003Cstrong\u003ER\u003C/strong\u003Eaw keyboard control, t\u003Cstrong\u003Ee\u003C/strong\u003Erminate all processes nicely, k\u003Cstrong\u003Ei\u003C/strong\u003Ell all processes without prejudice, \u003Cstrong\u003Es\u003C/strong\u003Eync the disk caches to the disks so you don\u0027t get filesystem corruption, \u003Cstrong\u003Eu\u003C/strong\u003Enmount the disks, and re\u003Cstrong\u003Eb\u003C/strong\u003Eoot the computer.)\u003C/p\u003E\n"},{"CreatedByName":"brickmack","CreatedById":92193,"CreatedDateTime":"2014-04-28T23:51:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cantab\u0022 data-cite=\u0022cantab\u0022\u003E\u003Cdiv\u003ETo narrow down the problem a bit, have you tried:\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIve tried all of those with no success, except the graphics drivers. I will try that later tonight\u003C/p\u003E\n"},{"CreatedByName":"brickmack","CreatedById":92193,"CreatedDateTime":"2014-04-29T10:31:24Z","Content":"\n\u003Cp\u003EOK it seems to have been a problem with the fglrx drivers, ive reverted to the standard xorg one. Not seeing any crashes so far\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-05-01T18:54:32Z","Content":"\n\u003Cp\u003EI wish AMD would fix their driver :/\u003C/p\u003E\n"},{"CreatedByName":"paulkoan","CreatedById":110026,"CreatedDateTime":"2014-05-02T12:20:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022brickmack\u0022 data-cite=\u0022brickmack\u0022\u003E\u003Cdiv\u003EI\u0027m having an issue with the game crashing in the VAB. As soon as I place any parts, or if I pull up the debug screen, my whole computer freezes. No input is accepted from mouse or keyboard, and it doesnt unfreeze by itself. Only way to fix it is the hold down the power button.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had this exact issue with Gentoo \u002B 64Bit KSP. If I kept things simple I could get as far as a launch, but it would always freeze at some point.\u003C/p\u003E\u003Cp\u003EHowever, I was able to log in using ssh from another machine - have you tried this? When I did, and checked dmesg, messages, KSP.log, Player.log, Xorg.0.log nothing had any indication there was an issue.\u003C/p\u003E\u003Cp\u003EHowever, if I tried to restart X (in my case, by restarting kdm) it would eventually lead to an \u0022ASIC hung happened\u0022 error in dmesg. Not straight way, but after a minute or so. Then rebooting was still the only way to get it back up and running.\u003C/p\u003E\u003Cp\u003EEventually I realised that I had installed the 14.x beta drivers. Once I reverted to 13.2 drivers, everything worked. I suspect at 13.2 ati drivers are the only ones that work.\u003C/p\u003E\n"},{"CreatedByName":"paulkoan","CreatedById":110026,"CreatedDateTime":"2014-05-02T12:24:22Z","Content":"\n\u003Cp\u003EI am using KSP 64bit under gentoo with 13.2 ati-drivers.\u003C/p\u003E\u003Cp\u003EThis works well, I haven\u0027t hit any issues. Very smooth, audio works.\u003C/p\u003E\u003Cp\u003EThe only thing that isn\u0027t quite right is when re-entry atmospheric effects kick in, the frame rate drops dramatically. It picks up once the flames subside.\u003C/p\u003E\u003Cp\u003EIs this common to ati-drivers or just me? I am running a recent Core i5 with 16GB ram. The CPU doesn\u0027t get particularly taxed.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-05-02T17:39:10Z","Content":"\n\u003Cp\u003EThe point light sources and shadow cascades can seriously impact performance during re-entry, so try reducing them \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Yoha","CreatedById":108392,"CreatedDateTime":"2014-05-02T19:09:35Z","Content":"\n\u003Cp\u003EI think it would be informative to run a poll of AMD/ATI vs Nvidia amongst users encountering bugs. I feel like ATI is really painful to work with on Linux.\u003C/p\u003E\n"},{"CreatedByName":"lambdafu","CreatedById":110167,"CreatedDateTime":"2014-05-03T00:37:28Z","Content":"\n\u003Cp\u003EKSP crashes reproducibly for me when launching ships and crossing 2.8km height on Intel HD4000 GPU under GNU/Linux (in my case: Fedora20 with stock or latest Intel drivers). I could work around it by setting aerodynamic effects to \u0022minimal\u0022. I could also work around it by hacking the binary to re-enable shadow support on Intel cards, even if \u0022aerodynamic effects\u0022 is not \u0022minimal\u0022, but at highest setting. So I can confirm the following report:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tgvaughan\u0022 data-cite=\u0022tgvaughan\u0022\u003E\u003Cdiv\u003EIn my case, this problem was fixed by the following the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/49817-How-to-enable-shadows-on-Linux-for-Intel-Ivy-Bridge-graphics?p=929000\u0026amp;viewfull=1#post929000\u0022 rel=\u0022external nofollow\u0022\u003Einstructions\u003C/a\u003E for enabling (or rather preventing the disabling of) shadows under Intel graphics cards. This fixed the crashes in both the 64 bit and 32 bit binaries. I noticed some other posts mentioning that this fixed crashes for other people with these cards. Perhaps the OP could be changed to note that this fixes more than just shadows?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy Laptop is a Thinkpad T430s with:\u003C/p\u003E\u003Cp\u003E00:02.0 VGA compatible controller: Intel Corporation 3rd Gen Core processor Graphics Controller (rev 09) (prog-if 00 [VGA controller])\u003C/p\u003E\u003Cp\u003E Subsystem: Lenovo Device 21fb\u003C/p\u003E\u003Cp\u003E Flags: bus master, fast devsel, latency 0, IRQ 42\u003C/p\u003E\u003Cp\u003E Memory at d0000000 (64-bit, non-prefetchable) \u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E Memory at c0000000 (64-bit, prefetchable) \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E I/O ports at 5000 \u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E Expansion ROM at \u0026lt;unassigned\u0026gt; [disabled]\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E Capabilities: \u0026lt;access denied\u0026gt;\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E Kernel driver in use: i915\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E Kernel modules: i915\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003Exorg-x11-drv-intel: 2.99.907 Release 2.7\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EMesa: 10.1 Release 6.20140305.fc20\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"paulkoan","CreatedById":110026,"CreatedDateTime":"2014-05-03T01:12:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EThe point light sources and shadow cascades can seriously impact performance during re-entry, so try reducing them \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhere do you think this impact is coming from? Mono or ATI drivers? The same setup under Windows 7 works fine, no perceivable performance change during re-entry.\u003C/p\u003E\n"},{"CreatedByName":"Vulkan","CreatedById":83177,"CreatedDateTime":"2014-05-03T13:51:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022paulkoan\u0022 data-cite=\u0022paulkoan\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIs this common to ati-drivers or just me? I am running a recent Core i5 with 16GB ram. The CPU doesn\u0027t get particularly taxed.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve hit driver problems as well since upgrading ubuntu 13.10-\u0026gt;14.04. I was using the fglrx-updates driver and all was well. Since 14.04 that now causes the freezing described by brickmack. Tried the X.Org driver and KSP runs without crashing but the lag/framerate is hideous, about 6fps on the titlescreen and worse in flight. With the other fglrx driver KSP doesn\u0027t start at all and spits something about mono paths to the terminal, so no KSP for me until somehing gets fixed.\u003C/p\u003E\u003Cp\u003EHardware is i5 and Radeon 7870 with 8G ram, so not limiting. I had a large number of mods without too many issues before the ubuntu update.\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-04T09:55:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EI wish AMD would fix their driver :/\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat\u0027s wrong with it?\u003C/p\u003E\u003Cp\u003EI\u0027m running Ubuntu 14.04 on an \u003Ca href=\u0022http://www.everymac.com/systems/apple/imac/specs/imac-core-i7-3.4-27-inch-aluminum-mid-2011-thunderbolt-specs.html\u0022 rel=\u0022external nofollow\u0022\u003EiMac 12,2\u003C/a\u003E (Mid 2011, i7, AMD Radeon HD 6970M 1GB), with Catalyst Control Center 14.4 for linux, and it works wonderfully. Force Adaptive MSAA in the 3D settings (sudo amdcccle is enough to get by; I should probably use gksu but I couldn\u0027t get that working properly and sudo did launch CCC just fine), and you\u0027re golden. Might need to finagle the settings.cfg yourself but still.\u003C/p\u003E\u003Cp\u003EEdit: To be fair, even if AMD drivers on Linux get crap performance vs Windows, it\u0027s the only way to run KSP without the 3.4GB limit in Windows. So, meh. Still the best way to play modded.\u003C/p\u003E\u003Cp\u003EI will say this much though: Given the choice, I would never use an AMD GPU again. Not until they get their damn act together. Their drivers and software support are terrible all-around, not just on Linux, to say nothing of upcoming tech like G-SYNC. All they really have going for them is cryptocurrancy mining, not gaming.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003ETextureReplacer seems to be crashing my install of KSP though, for some damn reason. Need to poke that some more.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EEdit: Something else is going on. Time to go diving through my GameData folder. *curses profusely*\u003C/p\u003E\u003Cp\u003EEdit 2: Does anyone know how to invoke the equivalent of the -popupwindow argument on Windows KSP under Linux? I\u0027m having trouble finagling that into existence. It\u0027d be nice to have a borderless window so I don\u0027t have to use my laptop for everything else while playing. \u0026gt;.\u0026gt;\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-04T12:00:25Z\u0022 title=\u002205/04/2014 12:00  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 4, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"}]}