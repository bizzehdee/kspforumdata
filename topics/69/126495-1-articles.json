{"TopicId":126495,"ForumId":69,"TopicTitle":"Can\u0026#039;t progress due to crashes.","CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2015-11-26T08:45:26Z","PageNum":1,"Articles":[{"CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2015-11-26T08:45:26Z","Content":"\nSo I\u0026#39;ve been driving around Kerbin a bit hoping to place a vehicle on on the North Pole. I did this once before with little trouble and now I\u0026#39;m doing it again in a bigger rover of roughly 130 parts. I had no FPS problems at first and no kraken encounters until this happened. I build it to be quite physically stable. However, a short while ago I noticed small lag spikes from green to red that dramatically increased in frequency with time dialation enabled. I ignored them and kept on driving for something to the order of an entire game day.\u003Cbr\u003E\n\u003Cbr\u003E\nThen the game suddenly CTD\u0026#39;ed with no warning or error message. I\u0026#39;m starting to suspect a memory issue. I reloaded it six times and the game reliably crashed every time I passed a large hill. Having passed 2/3rd of the road to the North Pole, I got a bit frustrated and tried different tricks like turning down my graphics settings or looking straight down at the ground while driving. It made little to no difference, the game has decided to want to crash at that point. The game also crashes if I try to save, zoom out very far or go to the space center.\u003Cbr\u003E\n\u003Cbr\u003E\nLatest KSP version.\u003Cbr\u003E\n\u003Cbr\u003E\nWindows 10 Pro, 64 bit\u003Cbr\u003E\n8 GB of RAM\u003Cbr\u003E\nIntel i7-4820 3.7 GHz\u003Cbr\u003E\nGainward Geforce 770, 2 GB VRAM edition\u003Cbr\u003E\nSSD only system\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nError logs and save: [URL]http://www.filedropper.com/ksperror[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nIs it possible to recover this save? I would like to complete that journey a lot.\u003Cbr\u003E\n\u003Cbr\u003E\n[IMG]http://i.imgur.com/uIH9sxl.jpg[/IMG]\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-26T08:54:11Z\u0022 title=\u002211/26/2015 08:54  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 26, 2015\u003C/time\u003E by Tricky14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-11-26T15:30:58Z","Content":"\nHi Tricky14.\u003Cbr\u003E\n\u003Cbr\u003E\nYour save seems to be fine, there is nothing wrong with it causing this issue, but your suspicions are correct and this is a memory issue, the error was written to the log but there is no in-game warning, the only method of monitoring memory use in-game is to keep the debug window open on the performance tab, otherwise you can monitor the memory with task manager.\u003Cbr\u003E\n\u003Cbr\u003E\nHere\u0026#39;s KSP running out of RAM in the error.log\u003Cbr\u003E\n[code=]KSP.exe caused an Access Violation (0xc0000005)\u003Cbr\u003E\nin module KSP.exe at 0023:00481502.\u003Cbr\u003E\n\u003Cbr\u003E\nError occurred at 2015-11-26_092252.\u003Cbr\u003E\nC:\u0026#092;Steam\u0026#092;steamapps\u0026#092;common\u0026#092;Kerbal Space Program\u0026#092;KSP.exe, run by yours truly.\u003Cbr\u003E\n67% memory in use.\u003Cbr\u003E\n0 MB physical memory [2650 MB free].\u003Cbr\u003E\n0 MB paging file [1820 MB free].\u003Cbr\u003E\n0 MB user address space [67 MB free].\u003Cbr\u003E\nWrite to location 00000000 caused an access violation.[/code]\u003Cbr\u003E\n\u003Cbr\u003E\nAnd here\u0026#39;s the output_log.txt\u0026#39;s entry.\u003Cbr\u003E\n[code]DynamicHeapAllocator out of memory - Could not get memory for large allocationCould not allocate memory: System out of memory!\u003Cbr\u003E\nTrying to allocate: 963216B with 32 alignment. MemoryLabel: VertexData\u003Cbr\u003E\nAllocation happend at: Line:489 in \u003Cbr\u003E\nMemory overview\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n[ ALLOC_DEFAULT ] used: 356480013B | peak: 0B | reserved: 384213669B \u003Cbr\u003E\n\u003Cbr\u003E\n[ ALLOC_GFX ] used: 1013503461B | peak: 0B | reserved: 1158196264B \u003Cbr\u003E\n\u003Cbr\u003E\n[ ALLOC_CACHEOBJECTS ] used: 66924B | peak: 0B | reserved: 12582912B \u003Cbr\u003E\n\u003Cbr\u003E\n[ ALLOC_TYPETREE ] used: 7300B | peak: 0B | reserved: 4194304B \u003Cbr\u003E\n\u003Cbr\u003E\n[ ALLOC_PROFILER ] used: 485928B | peak: 0B | reserved: 8388608B \u003Cbr\u003E\nCould not allocate memory: System out of memory!\u003Cbr\u003E\nTrying to allocate: 963216B with 32 alignment. MemoryLabel: VertexData\u003Cbr\u003E\nAllocation happend at: Line:489 in[/code]\u003Cbr\u003E\n\u003Cbr\u003E\nThis occurred because the PQS terrain cache will grow and shrink as you cover ground on a planet or moon, and at the point of the crash it needed to grow but no memory was available, being a 32bit application KSP is limited to a 32bit address space.\u003Cbr\u003E\n\u003Cbr\u003E\nI can drive your craft without it crashing but I don\u0026#39;t have much RAM left, with my gfx settings on maximum except for half res textures and in a window (1024x768) KSP used around 2800 to 2900 megabytes, after lowering the terrain detail, scatters and render quality to half KSP uses about 1900 to 2100 megabytes.\u003Cbr\u003E\n\u003Cbr\u003E\nYour lag is also being caused by reaching the memory limit, as KSP is caching stuff to the page file.\u003Cbr\u003E\n\u003Cbr\u003E\nAll I can suggest here is that you turn down your graphics further, try windowed mode, try a lower resolution and reduce the number of other programs running that might be using the page file.\u003Cbr\u003E\n\u003Cbr\u003E\nAlso, exiting to the main menu will clear the PQS cache completely.\u003Cbr\u003E\n\u003Cbr\u003E\n[U][URL=\u0022https://www.dropbox.com/s/fbl72szga3hpvs4/tricky14.zip?dl=0\u0022]Here\u0026#39;s your craft past the hil[/URL][/U]l, you are a far more patient driver than I am.\n"},{"CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2015-11-26T17:51:58Z","Content":"\nThank you! I just like the early exploration part as much as the space exploration part. There is so much to do on Kerbin and driving is a hoot! I just wish there were better wheels earlier in career mode, so every now and then I do something like this in sandbox mode. I just set some kind of goal and go for it. :)\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;ll try to get to the main menu next time it happens, although I wonder if it will just crash again.\n"},{"CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2015-11-26T22:05:04Z","Content":"\nIt\u0026#39;s still happening every 20 minutes or so in spite of employing that trick, but the end is in sight and I can probably manage now that I know what to do. Will start a new game after. Thanks again.\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-11-26T22:11:22Z","Content":"\nOkay there\u0026#39;s another trick you could try, I can\u0026#39;t guarantee it\u0026#39;ll help though, as these are [U][URL=\u0022http://docs.unity3d.com/Manual/CommandLineArguments.html\u0022]Unity engine commands[/URL][/U], not coded in by Squad.\u003Cbr\u003E\n\u003Cbr\u003E\nIf you start KSP via a shortcut, in the target box add one of these (and only one) after KSP.exe\u003Cbr\u003E\n\u003Cbr\u003E\n\u0022 -force-opengl\u0022\u003Cbr\u003E\n\u003Cbr\u003E\n\u0022 -force-d3d11\u0022\u003Cbr\u003E\n\u003Cbr\u003E\nYes there\u0026#39;s a space in front of them, and they may break completely if you\u0026#39;re fullscreen, also they can mess up various graphics in KSP (editor, text).\u003Cbr\u003E\n\u003Cbr\u003E\nBut they may help you reach the pole as they both use memory more efficiently than D3d9 (the default).\n"},{"CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2015-11-26T23:14:44Z","Content":"\nIt\u0026#39;s just another hour or so on time dialation. If I\u0026#39;m lucky the game won\u0026#39;t crash at all now that I switch back to the menu. I\u0026#39;ll bite through it. ;)\n"}]}