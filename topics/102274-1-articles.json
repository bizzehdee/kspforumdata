{"TopicId":102274,"ForumId":29,"TopicTitle":"Displaying a window in the RnD interface","CreatedByName":"johnqevil","CreatedById":119237,"CreatedDateTime":"2015-03-19T20:58:44Z","PageNum":1,"Articles":[{"CreatedByName":"johnqevil","CreatedById":119237,"CreatedDateTime":"2015-03-19T20:58:44Z","Content":"\n\u003Cp\u003EHere\u0027s a shot of something from stock that I\u0027d like to do:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/pySheAx.png\u0022 alt=\u0022pySheAx.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m trying to call a window when a tech is researched. I can get the code to display basic text, but nothing else. It just seems to ignore the window call.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[KSPAddon(KSPAddon.Startup.EveryScene, false)]\u003Cbr\u003Epublic class TestingMain : MonoBehaviour\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ERect windowRect = new Rect(400, 0, 150, 150);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Epublic void Start()\u003Cbr\u003E{          \u003Cbr\u003E\tGameEvents.OnTechnologyResearched.Add(DrawWind);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Epublic void DrawCall(GameEvents.HostTargetAction\u0026lt;RDTech, RDTech.OperationResult\u0026gt; ev)\u003Cbr\u003E{\u003Cbr\u003E\t//ScreenMessages.PostScreenMessage(\u0022KHAAAAAAN!!!\u0022, 4.0f, ScreenMessageStyle.UPPER_LEFT);\u003Cbr\u003E\twindowRect = GUILayout.Window(50, windowRect, DrawWindow, \u0022Steeeeve\u0022, HighLogic.Skin.window);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid DrawWindow(Int32 id)\u003Cbr\u003E{\u003Cbr\u003E\tGUILayout.BeginVertical();\u003Cbr\u003E\tGUILayout.Label(\u0022HEy-ooo!\u0022);\u003Cbr\u003E\tGUILayout.EndVertical();\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen I uncomment the ScreenMessages line and comment out the window call, it displays the text when a tech is researched just fine. The problem is that I\u0027d like to interrupt the process with an additional dialog box.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-03-19T21:54:18Z","Content":"\n\u003Cp\u003EThat window is only going to display for a single frame (or maybe not even that since the event probably doesn\u0027t count as a GUI function). You need to set a flag in the event handler and display your window based on the flag state\u003C/p\u003E\u003Cp\u003EEDIT\u003C/p\u003E\u003Cp\u003EDon\u0027t know if you can interrupt the stock window.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-19T22:09:19Z\u0022 title=\u002203/19/2015 10:09  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 19, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"}]}