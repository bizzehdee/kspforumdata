{"TopicId":5286,"ForumId":15,"TopicTitle":"Quick Question regarding...well just about everything it seems now :-)","CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-09T17:51:15Z","PageNum":1,"Articles":[{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-09T17:51:15Z","Content":"\n\u003Cp\u003EHello Everyone,\u003C/p\u003E\u003Cp\u003E I am just getting started diving into the modelling and texturing of parts for KSP. I have dl\\\u0027d and installed blender 2.6 and started goofing around with it.\u003C/p\u003E\u003Cp\u003EI made a part and was able to build the collision mesh, add materials, and sort of shape my part, but when it came to the config I noticed that the stack/attach nodes are added via coordinates. I have read in other threads that these coordinates need to be exact as possible to help reduce wobble and such, is there a way that blender can help you find the coordinates you would need to put into your cfg file?\u003C/p\u003E\u003Cp\u003EThanks for the help in advance :-)\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2012-01-09T18:21:47Z","Content":"\n\u003Cp\u003EAlas, no. The script included in the KSP SDK is for 3DS Max. No one has created a python script for Blender to do the same, so you have to do it by hand and trial and error.\u003C/p\u003E\u003Cp\u003EThe biggest help is knowing exactly how tall your collider mesh is, by default blender works in meters (which means you set the scale to 1.0 in the config file) and you can use the properties options to turn on the edge lengths to see how tall or wide each \u0027face\u0027 of your part is.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/RTzbE.png\u0022 alt=\u0022RTzbE.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI added the yellow arrow to the option (to bring up the properties menu, hit N while in Edit mode (it toggles it back off too)\u003C/p\u003E\u003Cp\u003EAs you can see, the side edges of the tank are \u00272 meters\u0027 long, and the radius of the top circle is 1 meter. Since I know the origin of the part is in the dead center of the mesh, I now know the top and bottom nodes will be 1m from the origin, and the artificial attachment surface will also be set as 1 meter from the center of the part.\u003C/p\u003E\u003Cp\u003EWhich is done like so:\u003C/p\u003E\u003Cp\u003Enode_stack_top = 0,1,0,0,1,0\u003C/p\u003E\u003Cp\u003Enode_stack_bottom = 0,-1,0,0,1,0\u003C/p\u003E\u003Cp\u003Enode_attach =1,0,0,1,0,0\u003C/p\u003E\u003Cp\u003EDo remember that KSP uses Y as the vertical axis, but Blender uses Z, so remember to transpose those in your mind (the DAE exporter does it automatically for the game, no need to worry about changing things in blender)\u003C/p\u003E\u003Cp\u003EAlso, depending on what you\\\u0027re attaching to, you might still need to adjust the nodes in or out some for a perfect attachment with no gaps - there are a lot of sloppy collides out there (including some of mine, I am sure) so you sort of have to compensate for them. So you\\\u0027d just add some small adjustments so the positions:\u003C/p\u003E\u003Cp\u003Enode_stack_top = 0, 1.05, 0, 0, 1, 0\u003C/p\u003E\u003Cp\u003ENow, if your collider isn\\\u0027t a cylinder or cube, you\\\u0027re going to have to resort to even more manual methods, where you\\\u0027ll start the node as a \u0027best guess\u0027 and then tweak it until it attaches as snugly as you can before it fails to attach at all.\u003C/p\u003E\u003Cp\u003EHope that helps.\u003C/p\u003E\u003Cp\u003E(side note: there are some other useful tools in that properties menu, including the angle measurements of the faces/polys and the options to turn on the visible \u0027normal\u0027 lines that dictate which face of your poly is \u0027visible\u0027 - If you ever have part of your mesh thats invisible in game, you\\\u0027ll need to turn on normals to find which faces have theirs pointing in the wrong direction, highlight them and \u0027flip normals\u0027 from the edit mode menu.)\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-10T00:03:41Z","Content":"\n\u003Cp\u003EAwesome, thank you for the info, I have it setup as a trial and error sort of thing now, I wish the KSP partlab showed mount points so you could trial and error without going in and out of the game.\u003C/p\u003E\u003Cp\u003EMy problem now is my fail texture isn\\\u0027t loading...so I am messing with that :-)\u003C/p\u003E\n"},{"CreatedByName":"sarkun","CreatedById":10559,"CreatedDateTime":"2012-01-10T16:56:26Z","Content":"\n\u003Cp\u003EThe method that works for me, is that I move my part to the center of the scene, then just select a vertex that\\\u0027s closest (or selection, etc) to the point I want a part to have a connection node, do mesh\u0026gt;snap\u0026gt;cursor to selection and then look at the coordinates of the 3d cursor. Oftentimes the values there can be put into .cfg straight away and work perfectly. Sometimes a bit of fiddling is required, and on some parts I can\\\u0027t make it work perfectly even after weeks of trying \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-11T14:49:38Z","Content":"\n\u003Cp\u003EAwesome tip Sarkun, I will remember that. My biggest problem right now is my model is clipping in partlab, like I left some faces untextured or something or it is using the UV map from the collider node, its quite frustrating, I will keep at it till I get it though :-)\u003C/p\u003E\u003Cp\u003EI do have a question about the models in blender though, when I do the collision mesh, is it better to fit it to the part or can you use a generic shape like a cylinder or box? Just curious.\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2012-01-11T18:28:51Z","Content":"\n\u003Cp\u003EYou can do both, depending on attachment requirements - engines usually don\\\u0027t have anything surface attached to them, so their colliders work fine as a simple cylinder to describe the space that inhabit - things like winglets and such typically have a collider that mirrors their shape pretty closely, and stuff like payload fairings only have colliders in the base or centerline where they attach.\u003C/p\u003E\u003Cp\u003EThe main thing to worry about is ensuring your don\\\u0027t create shapes with concave faces - the engine won\\\u0027t handle that properly \u003C/p\u003E\u003Cp\u003EAs an example.. you could create a 5 sided pentagon, but shaping it like a \u0027star\u0027 with peaks and valleys would not work.\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-12T01:08:22Z","Content":"\n\u003Cp\u003EAh, makes sense to me, the model I have right now actually started working, it seems a played with the top and bottom mount points and magically my temp texture loaded and everything was right with the world. As far as handling, I am not sure how it will handle, it seems to be stable in the test flights, I just need to texture it better.\u003C/p\u003E\u003Cp\u003EHave you guys had an issue where faces seem to be missing? I have put a material on every surface but it still seems to be missing.\u003C/p\u003E\u003Cp\u003EI am going to load up the part that I currently have if anyone wants to take a look at it and give some pointers to a noob :-)\u003C/p\u003E\u003Cp\u003EI present Kerbanigans Incorporated first liquid fuel engine (WIP), the KILFE.\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-12T12:33:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiberion\u0022 data-cite=\u0022Tiberion\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYou can do both, depending on attachment requirements - engines usually don\\\u0027t have anything surface attached to them, so their colliders work fine as a simple cylinder to describe the space that inhabit - things like winglets and such typically have a collider that mirrors their shape pretty closely, and stuff like payload fairings only have colliders in the base or centerline where they attach.\u003C/p\u003E\u003Cp\u003EThe main thing to worry about is ensuring your don\\\u0027t create shapes with concave faces - the engine won\\\u0027t handle that properly \u003C/p\u003E\u003Cp\u003EAs an example.. you could create a 5 sided pentagon, but shaping it like a \u0027star\u0027 with peaks and valleys would not work.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELOL, after a gratuitous amount of coffee it finally clicked what you were saying there...my engine has concave faces on it :-P Good to know, I am going to start working on cooking up another model, need the practice anyway :-)\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2012-01-12T16:19:19Z","Content":"\n\u003Cp\u003EOkay loaded up your blend file - you don\\\u0027t need that complex collider at all - I put an example of what it should be in the screenshot, lower left. Just needs to be moved down to cover the model (keep in mind colliders are invisible in game, and just need a simple material due to exporter limitations, but don\\\u0027t need textures or mapping.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/u0oip.png\u0022 alt=\u0022u0oip.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso, I checked out the main engine object to see why you might have transparent faces - I bet there were on the bottom in the area shown in the screenshot?\u003C/p\u003E\u003Cp\u003EThere are some flipped normals. I hit N to get properties, and turned on Normals, Face. It turns on those blue lines showing which side of each face will reflect lighting, the side that doesnt reflect will be transparent (and is usually on the inside of a model, of course)\u003C/p\u003E\u003Cp\u003ETo easily find which need flipped, hit A to highlight all faces (in edit mode) and then on the Edit menu (left column) hit Flip normals - that swaps which side has the line, all the \u0027correct ones\u0027 will then be inside and those that were in error will have their line showing now. Then you can highlight the troubled ones, hit Flip again and then once again highlight All and flip them all back to the outside.\u003C/p\u003E\u003Cp\u003EShould solve your transparency.\u003C/p\u003E\u003Cp\u003E(note, not all of those visible in the screenshot are \u0027wrong\u0027 - some are just poking through even though they\\\u0027re reversed \u0027inside\u0027 for the test, due to the angle of the face. Only those that are \u0027full length\u0027 and obviously emerging from the exposed face are broken.)\u003C/p\u003E\u003Cp\u003EThe other possibility is that you UVMapped the faces but left them untextured in the PNG file, so they\\\u0027re sitting in the Alpha transparency area.\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-12T16:58:53Z","Content":"\n\u003Cp\u003EExcellent, thank you for your input, I will work on getting those fixed up. As far as the model itself goes, any pointers? I know I need to texture it, did you try it out in game? Thanks again for all the help :-)\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-13T13:52:11Z","Content":"\n\u003Cp\u003EAnother quick question, is there a polygon limit for the parts? Obviously the more poly\\\u0027s the longer it takes to load/more it can slow the game down, but I was just curious :-)\u003C/p\u003E\n"},{"CreatedByName":"Gojira","CreatedById":10884,"CreatedDateTime":"2012-01-13T15:02:47Z","Content":"\n\u003Cp\u003E120,000 or so polygons.\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-13T20:30:34Z","Content":"\n\u003Cp\u003EThank you, my part was pretty close, the one I just modeled and then deleted because it wouldn\\\u0027t work properly :-P It would have been a nice model too :-( had 118k polygons or so. For some reason it kept applying the texture to the collision mesh so it looked like a big cylinder with some whacked out texture LOL.\u003C/p\u003E\n"},{"CreatedByName":"GoDamitt","CreatedById":11604,"CreatedDateTime":"2012-01-19T22:58:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gojira\u0022 data-cite=\u0022Gojira\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E120,000 or so polygons.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcuse me?\u003C/p\u003E\u003Cp\u003E2000 tri polys is getting up there for any single part.\u003C/p\u003E\n"},{"CreatedByName":"Killerhurtz","CreatedById":320,"CreatedDateTime":"2012-01-19T23:41:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GoDamitt\u0022 data-cite=\u0022GoDamitt\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EExcuse me?\u003C/p\u003E\u003Cp\u003E2000 tri polys is getting up there for any single part.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\\\u0027s the soft limit, what is considered acceptable and non-laggy for the majority. He\\\u0027s talking the hard limit, the \u0027Try to load this and the engine is going to crash\u0027 limit.\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-20T21:20:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Killerhurtz\u0022 data-cite=\u0022Killerhurtz\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThat\\\u0027s the soft limit, what is considered acceptable and non-laggy for the majority. He\\\u0027s talking the hard limit, the \u0027Try to load this and the engine is going to crash\u0027 limit.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELOL, that\\\u0027s a good tidbit to know, that part would have taken, close to literally, forever :-) Luckily I accidently messed up the model and deleted it all so I could start over....I really need to stop doing that.\u003C/p\u003E\n"},{"CreatedByName":"Phoxtane","CreatedById":6626,"CreatedDateTime":"2012-01-23T05:15:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Th3Cap3\u0022 data-cite=\u0022Th3Cap3\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ELOL, that\\\u0027s a good tidbit to know, that part would have taken, close to literally, forever :-) Luckily I accidently messed up the model and deleted it all so I could start over....I really need to stop doing that.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDrawing from my vast experience of \u003Cem\u003Etwo\u003C/em\u003E models under my belt, I can say that removing any faces that will be unseen (i.e. inside the model) can cut around fifty-ish polygons on average*.\u003C/p\u003E\u003Cp\u003E*I dunno, it sounds right.\u003C/p\u003E\n"},{"CreatedByName":"Th3Cap3","CreatedById":11274,"CreatedDateTime":"2012-01-23T12:58:19Z","Content":"\n\u003Cp\u003EThats an interesting idea, I will have to give it a go next time I am modelling...work and school have been crazy recently....and then there\\\u0027s the wife :-P\u003C/p\u003E\n"},{"CreatedByName":"Killerhurtz","CreatedById":320,"CreatedDateTime":"2012-01-23T19:57:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Phoxtane\u0022 data-cite=\u0022Phoxtane\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EDrawing from my vast experience of \u003Cem\u003Etwo\u003C/em\u003E models under my belt, I can say that removing any faces that will be unseen (i.e. inside the model) can cut around fifty-ish polygons on average*.\u003C/p\u003E\u003Cp\u003E*I dunno, it sounds right.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\\\u0027s entirely right. \u003C/p\u003E\n"}]}