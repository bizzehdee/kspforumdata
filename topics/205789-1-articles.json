{"TopicId":205789,"ForumId":109,"TopicTitle":"Integrating Trajectories for Low-Thrust, Long-Duration Burns","CreatedByName":"sciencecompliance","CreatedById":216853,"CreatedDateTime":"2021-11-29T21:32:29Z","PageNum":1,"Articles":[{"CreatedByName":"sciencecompliance","CreatedById":216853,"CreatedDateTime":"2021-11-29T21:32:29Z","Content":"\n\u003Cp\u003E\nI have recently gotten fairly deep into KSP\u00A0\u003Cem\u003E1\u003C/em\u003E\u00A0and built a couple of ion (DAWN) engine-powered test probes to determine the viability of using ion engines in-game.\u00A0 I avoided using the ion engines for a while because I saw how little thrust they produce and just knew it would be tedious as hell to do long-duration burns before being able to time warp to the next maneuver / sphere of influence.\u00A0 Well, lo and behold, I was right.\u00A0 Ion enignes are virtually unplayable with the way KSP 1\u0027s game mechanics work.\n\u003C/p\u003E\n\u003Cp\u003E\nIt got me thinking, though:\u00A0 why couldn\u0027t you just do a time warp with a trajectory that is integrated over the time of the burn or uses some discretized approximation so that a player doesn\u0027t have to be limited to the 4x physics warp and could actually let the player plan out a trajectory with a constant, low-thrust burn rather than winging it or waiting for a very long time for a burn to complete?\u00A0 Obviously, the game engine would have to be able to determine whether you would have enough electrical power and whether the solar panels would be occluded at any point in the trajectory.\u00A0 But, taking into account these considerations, I feel like there is a way that such maneuvers could be implemented that would be true to the real technology (and even more so than the current ion engines in KSP) and make them fun to play with rather than a tedious bore.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone have any thoughts?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E(Image included as an example of what a trajectory for such a transfer orbit would look like)\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022LowThrustOrbitTransfer.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002280.00\u0022 height=\u0022900\u0022 width=\u00221200\u0022 src=\u0022https://istellartech.github.io/OpenGoddard/_images/LowThrustOrbitTransfer.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2021-11-30T07:45:42Z","Content":"\n\u003Cp\u003E\nWarp under thrust will be possible.\n\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2021-11-30T07:56:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224060449\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638258342\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWarp under thrust will be possible.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHave they said if/how they will handle direction of the burn in warp?\n\u003C/p\u003E\n\u003Cp\u003E\nWill the ship only thrust in the direction it was facing when warp started? Will it follow prograde/retrograde/etc if you have the ship locked to that?\n\u003C/p\u003E\n\u003Cp\u003E\nFor the diagrammed orbit change maneuver, you\u0027d need to continuously thrust prograde for multiple orbits, for example. It also won\u0027t be obvious (unless we are given those tools in-game) at the point of starting the maneuver how long it would take to complete.\n\u003C/p\u003E\n"},{"CreatedByName":"shdwlrd","CreatedById":113880,"CreatedDateTime":"2021-11-30T13:39:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224060453\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638259014\u0022 data-ipsquote-userid=\u002273725\u0022 data-ipsquote-username=\u0022Superfluous J\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Superfluous J said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHave they said if/how they will handle direction of the burn in warp?\n\u003C/p\u003E\n\u003Cp\u003E\nWill the ship only thrust in the direction it was facing when warp started? Will it follow prograde/retrograde/etc if you have the ship locked to that?\n\u003C/p\u003E\n\u003Cp\u003E\nFor the diagrammed orbit change maneuver, you\u0027d need to continuously thrust prograde for multiple orbits, for example. It also won\u0027t be obvious (unless we are given those tools in-game) at the point of starting the maneuver how long it would take to complete.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI forget where this is mentioned, but persistent rotation will be a thing in KSP2. It will be necessary for the whole thrust on rails thing.\n\u003C/p\u003E\n"},{"CreatedByName":"TheOrbitalMechanic","CreatedById":216179,"CreatedDateTime":"2021-11-30T22:23:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224060490\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638279549\u0022 data-ipsquote-userid=\u0022113880\u0022 data-ipsquote-username=\u0022shdwlrd\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, shdwlrd said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI forget where this is mentioned, but persistent rotation will be a thing in KSP2. It will be necessary for the whole thrust on rails thing.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 width=\u0022200\u0022 data-embed-src=\u0022https://www.youtube.com/embed/OUnOyY0bJk0?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s footage in this video (around 3:10) of a ship that seems to be timewarping and maintaining its same orientation relative to the planet.\n\u003C/p\u003E\n\u003Cp\u003E\nR.I.P. killing rotation with timewarp, probably\u00A0\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2021-12-01T01:51:40Z","Content":"\n\u003Cp\u003E\nNow all we need is confirmation that this will all work while we\u0027re not in the immediate area of the vessel, so I can do other missions while my xenon probe is slowly spiraling its way to high orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd if there\u0027s some sort of way we can auto cut thrust and/or set an alarm when the vessel or Apogee reaches a certain altitude, because I don\u0027t think this will be doable with maneuver nodes \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-12-01T01:52:51Z\u0022 title=\u002212/01/2021 01:52  AM\u0022 data-short=\u00222 yr\u0022\u003EDecember 1, 2021\u003C/time\u003E by Superfluous J\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2021-12-01T07:10:46Z","Content":"\n\u003Cp\u003E\nOkay, why would this be any different for conventional means of propulsion if interstellar mission will have that? You don\u0027t expect to watch your Untitled Space Craft go all the way to another system, even under timewarp, do you?\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-12-01T07:24:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224060327\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638221549\u0022 data-ipsquote-userid=\u0022216853\u0022 data-ipsquote-username=\u0022sciencecompliance\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/29/2021 at 1:32 PM, sciencecompliance said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt got me thinking, though:\u00A0 why couldn\u0027t you just do a time warp with a trajectory that is integrated over the time of the burn or uses some discretized approximation so that a player doesn\u0027t have to be limited to the 4x physics warp and could actually let the player plan out a trajectory with a constant, low-thrust burn rather than winging it or waiting for a very long time for a burn to complete?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs pointed out, that\u0027s the plan, but I also wanted to chime in to mention that this is actually a very hard problem, which is part of why KSP limited physics warp so drastically.\n\u003C/p\u003E\n\u003Cp\u003E\nTo start with, each craft is a simulated object. Applying thrust can cause parts to flex, changing orientation of the engines, potentially, altering the net force if there are multiple engines working in concert. Even with a good simulation and optimizations, running this at 100,000x might be problematic to put it mildly. If the simulation still runs on PhysX, it\u0027s flat impossible. Of course, there are ways to work around that. Likely we\u0027ll see craft simulation \u0022frozen\u0022 once it settles down and you can then increase the warp to a high factor.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a similar vein, orientation of the craft matters. If your craft is tumbling at a few revolutions per minute, well, your effective time step can\u0027t be larger than a few seconds. Again, if you\u0027re trying to run simulation at 100,000x for long transfers, this will be a problem. This is another place where we\u0027ll probably see orientation frozen, just like it gets frozen under time warp in KSP. Will this lead to players cheating and time-warping ships with unbalanced thrust? Maybe. Though, perhaps, a similar solution will be employed where your ship has to remain in fixed orientation for a bit before you can warp.\n\u003C/p\u003E\n\u003Cp\u003E\nThen we get into problems that are harder to work around. First, gravity is inherently a hard problem to integrate. Standard methods, even ones that are a touch fancy, like RK4, introduce fairly large integration errors. Even without thrust, an object you are simply integrating as it orbits a planet will be gaining energy. There are very clever methods, like ones used by JPL in their Solar System simulations, that do much better, but it gets computationally heavy and complex. For a game, you can get away with just making sure your time steps aren\u0027t too large. And it helps that this is more of a problem when you\u0027re close to a massive body, where you usually have a lower warp.\n\u003C/p\u003E\n\u003Cp\u003E\nNext we have \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions. This one\u0027s a bit of a nightmare, as a glancing pass through one can give you wildly different results depending on where exactly you entered the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E, and if your integration step was too large, you\u0027re going to miss it. Worse, as your integration step changes as you adjust warp, your predicted trajectory will jump. It also means that \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E checks are part of your integration routine, and while not terribly expensive, it\u0027s significantly more math than each integration step would have been otherwise. So it\u0027s going to be a significant CPU hit both in terms of computation complexity and reduced time step to preserve accuracy.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, the part that wouldn\u0027t be so bad on its own, but which can be a huge pain in the rear if you take all of the above into consideration. What happens if you are flying multiple missions in warp? Even in single player, ability to switch between several probes that are accelerating under thrust would be desirable, so you want to be able to time-warp multiple ships at once. In multiplayer this is absolutely a must. But does that mean you can\u0027t go to higher warp on your current probe if another is flying too close to a planet? What if the one you\u0027re currently piloting gets very close to something causing everything to drop out of warp entirely? What happens to all the other probes currently under thrust? Does their physics simulation remain frozen? If not, how do you fix any that might become unstable?\n\u003C/p\u003E\n\u003Cp\u003E\nThis is one of these problems that becomes more complex the more detail you consider. And it has to be solved right in order for the game to be playable. So we\u0027ll just have to see what happens with all of this. I suspect, we\u0027ll have some hilariously broken exploits at the release that will get patched out as the game matures. Hopefully, nothing that will prevent people from having a good time with the game from the start, though.\n\u003C/p\u003E\n"},{"CreatedByName":"Pthigrivi","CreatedById":105624,"CreatedDateTime":"2021-12-01T15:12:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224060779\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638343473\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs pointed out, that\u0027s the plan, but I also wanted to chime in to mention that this is actually a very hard problem, which is part of why KSP limited physics warp so drastically.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for this (slightly scary) breakdown. Just from a gameplay perspective I feel like the priority would be making sure you can warp at fairly high speeds with as little error as possible. Freezing part flex and rotation seems fine, even if it causes exploits. After all we\u0027ve all been using timewarp to halt rotation for years now. I can\u0027t think of a reason you\u0027d want to time warp with a craft rotating rapidly but it would be nice to timewarp while locked on prograde or retrograde, which changes your vector over time. Do you see a reason this would be a big problem?\u003Cbr\u003E\u003Cbr\u003E\nAnd yeah... over the course of a long save I could foresee dozens of craft simultaneously thrusting under warp. Makes me think if they are integrating automated milkruns it\u0027s probably best to simulate them in the least expensive way possible.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-12-01T15:14:52Z\u0022 title=\u002212/01/2021 03:14  PM\u0022 data-short=\u00222 yr\u0022\u003EDecember 1, 2021\u003C/time\u003E by Pthigrivi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sciencecompliance","CreatedById":216853,"CreatedDateTime":"2021-12-01T19:32:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224060779\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638343473\u0022 data-ipsquote-userid=\u002257710\u0022 data-ipsquote-username=\u0022K^2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, K^2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is one of these problems that becomes more complex the more detail you consider. And it has to be solved right in order for the game to be playable. So we\u0027ll just have to see what happens with all of this. I suspect, we\u0027ll have some hilariously broken exploits at the release that will get patched out as the game matures. Hopefully, nothing that will prevent people from having a good time with the game from the start, though.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf this were to be done right, I\u0027d think there\u0027d have to certain conditions that would have to be met for this to be possible, both to avoid coding in ridiculous exploits and having stable solutions that aren\u0027t too computationally intensive.\u00A0 I kind of alluded to this in my original post where if you were to do this with ion engines, you would have to make sure that you had enough electrical power over the entire trajectory to maintain a certain level of thrust.\u00A0 If not, you would only be able to warp under thrust to the point at which the requisite conditions weren\u0027t met.\u00A0 You could also do this with the ship\u0027s dynamics under thrust to make sure that it didn\u0027t have some divergent control condition.\u00A0 Shouldn\u0027t be\u00A0\u003Cem\u003Etoo\u003C/em\u003E\u00A0difficult to determine whether a craft has enough attitude control authority to be dynamically stable and maintain a specified heading.\u00A0 I\u0027m not saying this won\u0027t make the development more difficult--it certainly will--but it won\u0027t be so difficult as to make this problem someone\u0027s Ph.D. thesis.\u00A0 As long as you can maintain thrust along one of the cardinal directions (prograde, retrograde, radial out, radial in, normal, anti-normal), that would be enough for me.\u00A0 I just want to see technology like ion engines included in the game in a way that is both (relatively) true to reality and fun to play around with.\u00A0 As it currently stands in KSP 1, ion engines both have a lot more thrust than they do in reality and a lot less thrust than is necessary to make them fun.\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2021-12-02T00:00:41Z","Content":"\n\u003Cp\u003E\nThe plan in 2019 was to integrate thrust (under \u0022automation\u0022) and continue rotation (\u0022persistent rotation\u0022)\u00A0during time-warp and when focused on another craft:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022125662\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed8750940461\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/187832-i-get-to-interview-star-theory-tomorrow-give-me-your-questions/page/6/\u0026amp;tab=comments\u0026amp;do=embed\u0026amp;comment=3663904\u0026amp;embedComment=3663904\u0026amp;embedDo=findComment#comment-3663904\u0022 style=\u0022height:294px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe realistic possibility of thrusting while rotating would, I think, frustrate new players so much that I doubt KSP2 implements that.\u00A0 I guess they will implement at least a constant thrust holding a constant direction.\u00A0 Maybe they will implement thrust while holding prograde, although in this case they might need to auto-zero the thrust upon \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E changes.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t want to worry in advance about exploits, like tricking KSP2 to hold prograde during time-warp on a craft with insufficient control authority, because now is the time for the KSP2 developers to handle those worries.\n\u003C/p\u003E\n\u003Cp\u003E\nThe way time-warp freezes rotation in KSP1 is a little un-fun. When I was a new player it was very difficult to stop rotation in early career without \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, so a quick time-warp is a tempting cheat that makes the player feel guilty.\u00A0 Better to have rotation-damping \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E come earlier in the game, I think.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMore complicated loopholes, like maybe holding thrust orientation despite insufficient battery power, might not be worth preventing.\u00A0 When KSP1 tries to enforce rules about sufficient power and cooling for its \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E systems, I suspect it does so wrongly, or maybe I don\u0027t understand the rules, resulting in my simply cheating my ore tanks full because the \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E maintenance mini-game is no fun for me.\n\u003C/p\u003E\n"},{"CreatedByName":"shdwlrd","CreatedById":113880,"CreatedDateTime":"2021-12-02T02:36:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061071\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638403241\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe plan in 2019 was to integrate thrust (under \u0022automation\u0022) and continue rotation (\u0022persistent rotation\u0022)\u00A0during time-warp and when focused on another craft:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022125662\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed3283870054\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/187832-i-get-to-interview-star-theory-tomorrow-give-me-your-questions/page/6/\u0026amp;tab=comments\u0026amp;do=embed\u0026amp;comment=3663904\u0026amp;embedComment=3663904\u0026amp;embedDo=findComment#comment-3663904\u0022 style=\u0022height:327px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe realistic possibility of thrusting while rotating would, I think, frustrate new players so much that I doubt KSP2 implements that.\u00A0 I guess they will implement at least a constant thrust holding a constant direction.\u00A0 Maybe they will implement thrust while holding prograde, although in this case they might need to auto-zero the thrust upon \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\u003C/abbr\u003E changes.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t want to worry in advance about exploits, like tricking KSP2 to hold prograde during time-warp on a craft with insufficient control authority, because now is the time for the KSP2 developers to handle those worries.\n\u003C/p\u003E\n\u003Cp\u003E\nThe way time-warp freezes rotation in KSP1 is a little un-fun. When I was a new player it was very difficult to stop rotation in early career without \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E, so a quick time-warp is a tempting cheat that makes the player feel guilty.\u00A0 Better to have rotation-damping \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E come earlier in the game, I think.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMore complicated loopholes, like maybe holding thrust orientation despite insufficient battery power, might not be worth preventing.\u00A0 When KSP1 tries to enforce rules about sufficient power and cooling for its \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003E\u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E\u003C/abbr\u003E systems, I suspect it does so wrongly, or maybe I don\u0027t understand the rules, resulting in my simply cheating my ore tanks full because the \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003E\u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E\u003C/abbr\u003E maintenance mini-game is no fun for me.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for finding that interview.\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYes, the frustration in arresting the rotation of an out of control craft is real, but not only for new players. Anyone who has built large stations knows about that pain too. The availability of the right parts and better \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E in the beginning would help avoid that situation for beginners. Better physics and joint behaviors would help with the giant crafts and stations that you will need to build.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve never played with the persistent rotation mod. But if it works as advertised, I don\u0027t see how you can use that and thrusting on rails as an exploit. The only thing I can see happening is spinning fast enough to tear the ship apart. With the advanced collision detection that was featured a little while ago, I can\u0027t imagine many exploits coming from this specific topic.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nManually controlling a craft under warp, I don\u0027t see that happening. I think you will need a flight plan or maneuver setup for thrusting in time warp to actually see a controlled flight. If there isn\u0027t anything setup, you\u0027re at the whims of the physics engine and whatever comes from that. (Errors and all.)\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-12-02T05:02:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224060876\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638371527\u0022 data-ipsquote-userid=\u0022105624\u0022 data-ipsquote-username=\u0022Pthigrivi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Pthigrivi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can\u0027t think of a reason you\u0027d want to time warp with a craft rotating rapidly but it would be nice to timewarp while locked on prograde or retrograde, which changes your vector over time. Do you see a reason this would be a big problem?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe only reason I can think of that this might be slightly problematic is if you want to start keeping track of resources required to adjust orientation. If we are happy with a fiat that the ship at this point has enough authority to adjust and maintain orientation with vectored thrust or what have you, then it\u0027s no harder to integrate e.g. prograde hold than a fixed orientation. So long as the direction of acceleration doesn\u0027t change much from one time step to another, it\u0027s fine.\n\u003C/p\u003E\n"},{"CreatedByName":"Bej Kerman","CreatedById":182413,"CreatedDateTime":"2021-12-02T16:37:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061071\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638403241\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe realistic possibility of thrusting while rotating would, I think, frustrate new players so much that I doubt KSP2 implements that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think that keeping craft rotation under control is a challenge that shouldn\u0027t be zapped away using timewarp. There\u0027s challenges all over KSP 1 like this that, now we\u0027ve gotten accustomed to overcoming them and coming up with small cheats (like this one), the prospect of having to actually deal with things like this in KSP 2 looks scary. I don\u0027t believe it\u0027s scary - if the prospect of having to deal with rotation properly is scary, you\u0027d better start coming up with solutions soon. I, for one, welcome these new challenges such as landing near bases propulsively and doing interstellar burns. I don\u0027t think these things should be worried about.\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-12-02T21:19:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061256\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638463078\u0022 data-ipsquote-userid=\u0022182413\u0022 data-ipsquote-username=\u0022Bej Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Bej Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nif the prospect of having to deal with rotation properly is scary, you\u0027d better start coming up with solutions soon\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHonestly, I\u0027m more worried about the game handling it than players. Rotation is inherently non-linear and does bad things to numerical integration. It\u0027s fine when your simulation runs at a framerate much higher than the rotation rate, but for long voyages under warp, that just isn\u0027t an option.\n\u003C/p\u003E\n\u003Cp\u003E\nOn a related sort of note, I do hope we\u0027ll eventually get some programmable parts. Building custom scripts to help with some navigation and control problems could be an interesting challenge for some. Though, that\u0027s another thing that I don\u0027t think will be available under warp as fun as it would be.\n\u003C/p\u003E\n"},{"CreatedByName":"t_v","CreatedById":213541,"CreatedDateTime":"2021-12-03T00:09:47Z","Content":"\n\u003Cp\u003E\nYeah, rotation seems like a nightmare, but going back to the problem of stuff like \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E changes, I\u2019m optimistic because we\u2019ve seen that the devs have already implemented systems that do better than simple steps in the form of collision detection. As \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57710-k2/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257710\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57710-k2/\u0022 rel=\u0022\u0022\u003E@K^2\u003C/a\u003E\u00A0has pointed out, there are many problems with managing short-time events at high warp, because depending on the step size, the events will play out differently. To fix this, an algorithm can be run to detect the times at which the time step needs to be reduced, such as when flying through a ring or entering an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E. As people pointed out, an algorithm like this is computationally expensive, but I think that can be countered by the fact that it only has to be run when changing parameters, and not throughout the course of the trajectory. So overall, I think that attaining realism doesn\u2019t require a smaller time step all the time, just a one-time-run function that will determine when to apply those smaller time steps.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnother thing that I want to bring to the discussion is UI. I don\u2019t want to see my trajectory for if I continually thrusted for most craft, only the current trajectory so that I can cut off thrust at the correct moment, but for really weak ion engines I would appreciate it. So how to differentiate it? First, I don\u2019t want two trajectory lines at once, because that would be really annoying and all the nodes would clog the screen. Second, I don\u2019t want engines to be preset one way or the other. Maybe I want to use my Daedalus as a landing engine and want to see my landing trajectory without having to contantly cut the engine to check it. So I think there should be a key bindable toggle to switch the trajectory mode. It is really not a perfect solution and adds to the mass of functions that have to be memorized because they ate bound to keys, but the point of this is to start a discussion on how to best handle trajectories in the UI\n\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-12-03T07:05:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061428\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638490187\u0022 data-ipsquote-userid=\u0022213541\u0022 data-ipsquote-username=\u0022t_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, t_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo fix this, an algorithm can be run to detect the times at which the time step needs to be reduced, such as when flying through a ring or entering an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMhm. The unfortunate consequence is that as time step goes down, at some point, you\u0027ll have to start reducing warp factor as well if you want CPU to keep up. Which means that if you are flying multiple missions, a probe that\u0027s doing a slow burn to raise it\u0027s orbit in the home system could be limiting maximum warp of your interstellar mission. But this might be something we just have to live with, and you\u0027d have to plan your missions accordingly. Or there could be some other workaround that I\u0027m not thinking of. *shrug*\n\u003C/p\u003E\n"},{"CreatedByName":"t_v","CreatedById":213541,"CreatedDateTime":"2021-12-03T12:16:01Z","Content":"\n\u003Cp\u003E\nWell, as long as that probe is burning at a constant thrust, it\u2019s trajectory would be set (as in you could see the trajectory spiral that the initial post was proposing, and that spiral is not changing) and the times it would need to slow down warp would be already calculated and stored, so likely the worst interruption to your interstellar mission is a probe that is slowly spiraling from a ringed planet and passes through the rings, slowing the warp, although this interruption probably wouldn\u2019t last more than one pass through said rings. Other than that, most missions can simply follow their pre calculated trajectories without worrying about time step, similar to how it is done in the current game. Essentially, thrust under time warp will work just like regular time warp but with a different looking trajectory, and in some rare cases will just end up slowing your time warp down for a few moments.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: for the UI, a simple toggle probably wouldn\u2019t work. One user story that I want to submit to the devs is \u201CI want to be able to rendezvous my (normal?) craft with one that is under constant thrust\u201D which means that I need to see on my map screen both a normal orbit and the constant thrust orbit, so it cannot be a toggle. Either there needs to be an automatic way to identify a craft as constant thrust, or there needs to be a way to set it on a craft-by-craft basis.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-12-03T12:25:49Z\u0022 title=\u002212/03/2021 12:25  PM\u0022 data-short=\u00222 yr\u0022\u003EDecember 3, 2021\u003C/time\u003E by t_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bej Kerman","CreatedById":182413,"CreatedDateTime":"2021-12-03T14:27:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061530\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638533761\u0022 data-ipsquote-userid=\u0022213541\u0022 data-ipsquote-username=\u0022t_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, t_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u201CI want to be able to rendezvous my (normal?) craft with one that is under constant thrust\u201D\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot an ideal situation for a rendezvous scenario\n\u003C/p\u003E\n"},{"CreatedByName":"t_v","CreatedById":213541,"CreatedDateTime":"2021-12-03T16:27:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061558\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638541672\u0022 data-ipsquote-userid=\u0022182413\u0022 data-ipsquote-username=\u0022Bej Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Bej Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot an ideal situation for a rendezvous scenario\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDecidedly not, but say I had a large craft spiraling through the system, I would want to be able to take my depleted craft and hitch a ride towards a planet, and I could turn off the thrust for a few hours while I get around to docking\n\u003C/p\u003E\n"},{"CreatedByName":"SciMan","CreatedById":12748,"CreatedDateTime":"2021-12-03T18:25:12Z","Content":"\n\u003Cp\u003E\nI have a feeling that a lot of this will be helped immensely by the fact that they\u0027re still largely using only patched conics for simulating orbits, and when it\u0027s not that, it\u0027s the \u0022restricted N-body\u0022 problem where you fix the orbits of the planets and let the sole independent variables be linked to just the vessel itself.\n\u003C/p\u003E\n\u003Cp\u003E\nThis (restricted N-body) is the method that Orbiter Space Flight Simulator used (Hail Probe!), and that was sophisticated enough to let you have many many vessels in orbit of any combination of the planets of the IRL solar system, and it had options to use the RK8 integration method, as well as accounting for non-spherical gravity sources and gravity-gradient torque (making orbital plane precession manifest itself naturally, as well as allowing passive gravity gradient stabilization of something like a space station).\u003Cbr\u003E\nReally, it was quite amazing just how well it ran considering the complexity of the math it was doing regarding vessels traveling along their orbits.\u003Cbr\u003E\nTime warp in Orbiter worked at up to 1 million or 10 million times faster than real time (been a long time since I played it), and back when I was playing it (around 2008) even on the computers of the time I was getting 600 FPS with absolutely no problem whatsoever, with the FPS only dropping slightly at the absolute highest time warp levels.\u003Cbr\u003E\nOh and there was no such thing as \u0022on rails\u0022 or \u0022physics\u0022 warp, you could fire your thrusters at any time (even during time warp) and even do things like adjusting what attitude you are in and what thrust level your engines are operating at, all while constantly changing the speed of time passing, and the game didn\u0027t so much as bat an eye at it.\n\u003C/p\u003E\n\u003Cp\u003E\nReally the only thing that would make the physics reliably mess up in Orbiter was flying too close to the sun, which would cause the physics to mess up because of floating point rollover and/or roll-under effects (apparently those variables weren\u0027t clamped to keep them at sane values, so you could \u0022bounce\u0022 off the sun and get sent at like 500x the speed of light out of the solar system).\n\u003C/p\u003E\n\u003Cp\u003E\nMind you, that was with a PC that had (I think) like a Core 2 Duo CPU in it, and Orbiter had NO facilities for optimization against multi-core CPUs. Graphics cards also weren\u0027t particularly capable either back then, yet like I said, it was managing 600FPS EASILY (I had VSync turned off).\n\u003C/p\u003E\n\u003Cp\u003E\nI guess what I\u0027m trying to say is that if Intercept has problems implementing the physics and thrust-on-rails, they have a good example waiting for them in Orbiter.\u003Cbr\u003E\nHeck back when I was playing it it even ran fantastically (maybe not 600fps which was apparently the fastest it could possibly run, but it wasn\u0027t bad at all) on a school laptop, which didn\u0027t even really have a dedicated GPU in it, and I think my current tablet has a better CPU and more RAM and a better GPU than those old 2005-6-7 era school laptops (Dell brand I think). What I\u0027m trying to say is that these days it would run nicely on a potato computer, heck I don\u0027t doubt that it would have no issues running on a Surface Pro \u0022tablet PC\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nOh and I forgot to mention, since this is probably important. Orbiter was made by a college professor, and was released with as open source of a license as possible. It\u0027s so old that it even started out as a DX7 game (tho a DX9 rendering pipeline is available for it, which is what I always used).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT:\u003Cbr\u003E\nOn a totally unrelated note, I do hope that they\u0027ll have features available to allow \u0022burn splitting\u0022 for things like Hohmann transfer ejection burns and when you want to save propellant doing a plane change by raising your Apoapsis at \u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E/\u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E first, basically instead of doing the whole burn right when you need to do it, you split it up into several burns so that only the last burn is the one that sets you on your interplanetary trajectory. This is a good thing because it lets you take more advantage of the Oberth effect, while still having a vessel with a somewhat low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E (not as low as a craft with an ion engine, this would be best for things using vacuum-rated Hydrolox engines, or nuclear thermal rockets).\n\u003C/p\u003E\n\u003Cp\u003E\nThe complex part of getting this to work is the math that works things out so that you still arrive at your orbital periapsis right when you had the maneuver scheduled originally (when you initially created the maneuver as a default \u0022single-impulse\u0022 maneuver).\u003Cbr\u003E\nI know there is at least one mod for KSP 1 that helps with this, and I did have that installed at one point, but I never really got around to using it so I\u0027m not sure just how well that actually ended up working out. But the presence of that mod means that someone\u0027s already worked out the big problems of how to implement this before, so it shouldn\u0027t be too hard for Intercept to do that either.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-12-03T18:35:17Z\u0022 title=\u002212/03/2021 06:35  PM\u0022 data-short=\u00222 yr\u0022\u003EDecember 3, 2021\u003C/time\u003E by SciMan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2021-12-04T10:47:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061633\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638555912\u0022 data-ipsquote-userid=\u002212748\u0022 data-ipsquote-username=\u0022SciMan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, SciMan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have a feeling that a lot of this will be helped immensely by the fact that they\u0027re still largely using only patched conics for simulating orbits, and when it\u0027s not that, it\u0027s the \u0022restricted N-body\u0022 problem where you fix the orbits of the planets and let the sole independent variables be linked to just the vessel itself.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSurprisingly, no. Well, a little, but it depends. So if you want to get really technical, there is an entire branch of physics called perturbation theory.\u00A0 This is how you compute, for example, precessions of orbits. Things like \u003Ca href=\u0022https://en.wikipedia.org/wiki/Molniya_orbit\u0022 rel=\u0022external nofollow\u0022\u003EMonlniya orbit\u003C/a\u003E are solvable and computable because we have perturbation theory. It usually deals with periodic perturbations that cause periodic motion to drift predictably, again, such as the precession of orbits, but it can also be applied to non-periodic input. Specifically, we\u0027d be talking about \u003Ca href=\u0022https://en.wikipedia.org/wiki/Hamilton%E2%80%93Jacobi_equation\u0022 rel=\u0022external nofollow\u0022\u003EHamilton-Jacobi Equations\u003C/a\u003E. Math, loads and loads of math, but the bottom line is that instead of integrating forces applied to a craft in orbit, you can integrate the change to orbital elements directly based on engine thrust only. The advantage is if applied force is small, or at least comparable to the gravitational forces, the error is much less than if you integrated directly.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the math, Thor Odinson on a pogo stick, the math! In practice, it works out that you are better of using your basic Newtonian mechanics and a fancier integration method on a finer time step to get the same precision with less computation. Unless, of course, you have some special advantage of going with perturbations, like the periodic case mentioned earlier. So in practice, for what we\u0027re dealing with in KSP2, the fact that without engine thrust you\u0027re just flying a patched conic doesn\u0027t really help you get better results when engine thrust is applied. The advantages of going to a fancy method where that matters are outweighed by increased complexity of computations you have to perform for every step. So you just do the math, applying engine thrust and gravity forces to the craft, and in grand scheme of things, whether you have just one source of gravity or a whole bunch doesn\u0027t really matter.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason why I think Intercept still wants to keep patched conics rather than just go N-body is because while it makes no difference to the craft flying under thrust, majority of objects that the game tracks are going to be passively orbiting, and for these objects, of course, the fact that you\u0027re on patched conics means you can just keep them on rails. That is, you still have to do \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E checks, but within a particular \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E, you just update the anomaly and keep all other orbital elements fixed.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224061530\u0022 data-ipsquote-contentid=\u0022205789\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221638533761\u0022 data-ipsquote-userid=\u0022213541\u0022 data-ipsquote-username=\u0022t_v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, t_v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, as long as that probe is burning at a constant thrust, it\u2019s trajectory would be set (as in you could see the trajectory spiral that the initial post was proposing, and that spiral is not changing) and the times it would need to slow down warp would be already calculated and stored, so likely the worst interruption to your interstellar mission is a probe that is slowly spiraling from a ringed planet and passes through the rings, slowing the warp, although this interruption probably wouldn\u2019t last more than one pass through said rings.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo while I think caching can, in general, be used to improve the performance a whole lot here, trying to compute the entire trajectory upfront seems impractical. I haven\u0027t tried writing an implementation for this, so I might be entirely off base, but going off the fact that KSP absolutely struggles to keep up with updating positions of on-rails craft at 100k time warp as is, simply because of \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E and planetary collision checks, even if we pin a lot of it to bad optimization, the idea that you\u0027ll perform the much harder computations of integrating trajectories several minutes ahead effectively instantly seems like a bit too much.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, obviously, some sort of trajectory has to be projected forward, but I have a feeling this is another place where corners will get cut, and the future trajectory is going to be a very rough estimate for cases where you have the thrust on. I\u0027m sure it will end up very close if there are no \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E encounters along the way, but it\u0027s these exact edge cases that make me worried and the reason I don\u0027t think simply storing this loose trajectory is going to cut it. You are going to have to recompute the integration in real time.\u00A0 Which is exactly where problems with flying multiple missions at the same time are likely to arise.\n\u003C/p\u003E\n\u003Cp\u003E\nOf course, I am making certain assumptions here about what is and isn\u0027t deemed as acceptable precision. Intercept might view this entire problem in a completely different light, and be perfectly happy with integrating trajectories ahead of time at whatever precision allows it to be feasible and simply storing the results for time warp. It\u0027s not how I would solve it, but I\u0027m not the one making this game.\n\u003C/p\u003E\n"},{"CreatedByName":"SciMan","CreatedById":12748,"CreatedDateTime":"2021-12-06T13:19:40Z","Content":"\n\u003Cp\u003E\nPerhaps they can improve how they do the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E checking, at least for vessels not under thrust orbiting around bodies where restricted-N-body is not being used?\u003Cbr\u003E\nMy first idea is that when you\u0027re orbiting a body that has no natural satellites (ie a moon, or something like Dres which is a planet that just doesn\u0027t have any moons) then you can just do \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E checking based solely on orbital eccentricity. If it\u0027s below 1.0 (maybe with a tiny fudge factor to handle potential integration errors), your orbital elements are gonna stay where they are forever, so you can cache that result until the player pays attention to that vessel in some way again.\u003Cbr\u003E\nIf the body you\u0027re orbiting DOES have natural satellites, all you need to do is cross reference the orbital elements of the vessel with the orbital elements of the natural satellites (plus or minus the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E radius for those natural satellites), and then you can easily rule out any chance of the vessel ever encountering the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E of those natural satellites, and (yet again) cache that result until the player interacts with that vessel in some way again (be that docking something else to it or just piloting).\n\u003C/p\u003E\n\u003Cp\u003E\nSeeing as (at least in my playing of KSP 1) the majority of vessels that I need to have in orbit are simple communication relay satellites that once I place where I want them I never pay attention to them again, it seems to me that this would simplify the math the game has to do by vastly reducing the number of sphere of influence checks the game needs to do (since it can pre-cache results for everything that\u0027s never going to be on an intercept trajectory).\n\u003C/p\u003E\n\u003Cp\u003E\nThis would also allow for a lot more asteroids to be in the asteroid belt, since they have no gravity of their own and are counted by the game as a single-part \u0022vessel\u0022, and often don\u0027t have a trajectory that intersects anything, while still allowing the player to go out and harvest them for resources and/or scientific results if they so desire.\n\u003C/p\u003E\n"}]}