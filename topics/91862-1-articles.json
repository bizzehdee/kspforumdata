{"TopicId":91862,"ForumId":20,"TopicTitle":"Texture Animation","CreatedByName":"noonespecial","CreatedById":81942,"CreatedDateTime":"2014-12-03T05:53:38Z","PageNum":1,"Articles":[{"CreatedByName":"noonespecial","CreatedById":81942,"CreatedDateTime":"2014-12-03T05:53:38Z","Content":"\n\u003Cp\u003EYANFRET and I were talking recently, discussing texture I\u0027ve made for my new Orion MPCV pod and YANFRET had an idea. I have two textures for the pod:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/AdR5uWc.png?1\u0022 alt=\u0022AdR5uWc.png?1\u0022\u003E\u003C/p\u003E\u003Cp\u003Eand\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/GtpyrLq.png?1\u0022 alt=\u0022GtpyrLq.png?1\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe idea is simple. To be able to animate the texture so that the later texture is showing after re-entry. Since we\u0027re using DRE, which has heat shielding as a depleteable resource, perhaps the animation could be bound to the usage of resource. Or... something else. Neither of us are programmers, so we\u0027re only guessing.\u003C/p\u003E\u003Cp\u003EWould anyone care to take a shot at righting a plugin to accomplish this?\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-03T08:29:43Z","Content":"\n\u003Cp\u003EYou should bug lo-fi about this. He has some experience with \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/97751\u0022 rel=\u0022external nofollow\u0022\u003Etexture programming already\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-12-03T09:04:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022noonespecial\u0022 data-cite=\u0022noonespecial\u0022\u003E\u003Cdiv\u003EYANFRET and I were talking recently, discussing texture I\u0027ve made for my new Orion MPCV pod and YANFRET had an idea. I have two textures for the pod:\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/AdR5uWc.png?1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/AdR5uWc.png?1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eand\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/GtpyrLq.png?1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/GtpyrLq.png?1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe idea is simple. To be able to animate the texture so that the later texture is showing after re-entry. Since we\u0027re using DRE, which has heat shielding as a depleteable resource, perhaps the animation could be bound to the usage of resource. Or... something else. Neither of us are programmers, so we\u0027re only guessing.\u003C/p\u003E\u003Cp\u003EWould anyone care to take a shot at righting a plugin to accomplish this?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is actually really really easy, RealChute does exactly this to change part textures in the editor. You just need to loop through the part renderers, and change the material\u0027s texture. I say you should try it yourself, C# is pretty easy to learn and that particular job is not all that hard \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-03T09:22:42Z","Content":"\n\u003Cp\u003EIs blending the textures also as easy?\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2014-12-03T09:58:07Z","Content":"\n\u003Cp\u003EI really like this idea, it would allow damage to be shown on the craft and aging, both of which would be a bit nice to have.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-12-03T12:37:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EIs blending the textures also as easy?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes this is equally as easy, it\u0027s a simple linear interpolation between the pixels of each textures \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"noonespecial","CreatedById":81942,"CreatedDateTime":"2014-12-03T13:28:55Z","Content":"\n\u003Cp\u003EEr.... um.... easy you say? I have no idea how to write a plugin, but I guess I\u0027ll look into it.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-12-03T14:21:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022noonespecial\u0022 data-cite=\u0022noonespecial\u0022\u003E\u003Cdiv\u003EEr.... um.... easy you say? I have no idea how to write a plugin, but I guess I\u0027ll look into it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I said, it\u0027s easy! C# itself is a simple language, and the forums is full of resources to get you started to mod KSP. I\u0027d like to propose my help, but it\u0027s finals period and I really don\u0027t have any time to allocate to this until the few first weeks of January\u003C/p\u003E\n"},{"CreatedByName":"noonespecial","CreatedById":81942,"CreatedDateTime":"2014-12-03T14:52:54Z","Content":"\n\u003Cp\u003EI have a little (read: very little) experience with C#, I\u0027m more familiar C\u002B\u002B. I\u0027m not familiar with the KSP/Unity APIs though. I\u0027ll have to look them up. I\u0027ve glanced at them a few times here on the forum. I\u0027ll see if I can figure out, if not, I\u0027ll ask some questions. Good luck with your finals \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-03T15:22:10Z","Content":"\n\u003Cp\u003EWhat would be really great is being able to blend between arbitrary images; you could blend between the original texture and a second one, then between second and third. It would allow progressively more damage, without it being too obvious that you\u0027re just blending.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-12-03T16:26:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EWhat would be really great is being able to blend between arbitrary images; you could blend between the original texture and a second one, then between second and third. It would allow progressively more damage, without it being too obvious that you\u0027re just blending.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s just as easy as blending from a first one to a second one.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-12-03T17:07:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stupid_chris\u0022 data-cite=\u0022stupid_chris\u0022\u003E\u003Cdiv\u003EThat\u0027s just as easy as blending from a first one to a second one.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewhich realchute module does this? so I can look at the source? right now I\u0027m blindly looking at the different parachute related ones on github\u003C/p\u003E\n"},{"CreatedByName":"CmdrThyte","CreatedById":128994,"CreatedDateTime":"2014-12-03T19:54:06Z","Content":"\n\u003Cp\u003EWhen dealing with textures at run time ksp adds an extra hurdle in that many textures can not be read from (or written to), ie you can\u0027t read the individual pixel values. Textures loaded from mbm and tga files behave like this, textures loaded from png files are readable, at least in win32 and 64 bit ubuntu.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-03T22:16:04Z","Content":"\n\u003Cp\u003EAnother thing that just occured to me is a greyscale blending mask that changes the interpolation speed or length. it you would allow per-pixel control over the blending so you could have some parts of the texture look like flakes of paint are disappearing.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-12-05T16:51:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Ewhich realchute module does this? so I can look at the source? right now I\u0027m blindly looking at the different parachute related ones on github\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt doesn\u0027t happen directly in any part module, but in the ProceduralChute object, \u003Ca href=\u0022https://github.com/StupidChris/RealChute/blob/master/RealChute/ProceduralChute.cs#L321\u0022 rel=\u0022external nofollow\u0022\u003Eright here\u003C/a\u003E. Also, Realchute does jot blend textures, but it switches between different textures. Blending is simply a matter of interpolating each pixel value between one another.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-05T17:05:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CmdrThyte\u0022 data-cite=\u0022CmdrThyte\u0022\u003E\u003Cdiv\u003EWhen dealing with textures at run time ksp adds an extra hurdle in that many textures can not be read from (or written to), ie you can\u0027t read the individual pixel values. Textures loaded from mbm and tga files behave like this, textures loaded from png files are readable, at least in win32 and 64 bit ubuntu.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs this true?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-12-05T17:52:21Z","Content":"\n\u003Cp\u003ESomeone else recently requested exactly this feature and was asking if my texture animator could be used; not really for this, sadly. However, blending textures.... That sounds promising! You can only apply one shader per object in KSP afaik, so I assume you mean blend at diffuse level within the shader, stupid_chris? I\u0027ll see what I can dig up in Unity docs.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-05T18:21:05Z","Content":"\n\u003Cp\u003EMaybe even normal maps too, and with a specular shader include the alpha channel for specularity blending. You could make parts which become dirty become less shiny.\u003C/p\u003E\n"},{"CreatedByName":"RobotsAndSpaceships","CreatedById":122975,"CreatedDateTime":"2014-12-05T18:41:27Z","Content":"\n\u003Cp\u003EThis would be really sweet.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-12-05T18:48:25Z","Content":"\n\u003Cp\u003EIf it is indeed possible, that shouldn\u0027t be a problem \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027m involved in a little plugin side project with nli2work at the moment, which I\u0027m quite excited about - this goes on the top of the \u0027to do next pile\u0027. This is going to be an interesting one to code, as it has far wider applications than just reacting to re-entry heat. With the blending mechanic working, you could weather stuff that\u0027s been out on long missions, add micro-meteorite marks.... an almost endless list of things which will enhance the look and feel of KSP. I really hope it\u0027s possible to do in KSP!\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-12-05T19:23:51Z","Content":"\n\u003Cp\u003EAs long as the plugin is manipulating a channel that is in the shader it is less hard. RPM does it with the MFD screen, you can set the screen to use Emissive or MainTex depending on the shader you assigned to the screen object. FStextureSwitch2 can independently change MainTex and Bump channels.\u003C/p\u003E\u003Cp\u003EHard part is getting a shader that has the proper channels to handle all the visual aspects you want to display. the current best option is Bump/Translucent/Specular; which gives you Normal Map; Diffuse; and Alpha channels; plus uniform Specular setting. KSP Emissive shaders don\u0027t use Alpha channel for transparency. rbray or Shaw would know more specifics and what is and isn\u0027t possible to extend the KSP shaders. Another option is use one of the Unity shaders; a bit of hit and miss from my previous attempts.\u003C/p\u003E\u003Cp\u003Eof course we can hack around the limited shaders by stacking layers of mesh each using different existing shaders, works pretty well, if not the most elegant solution. the orbital tug pod has 3 window glass layers for example spaced 0.001 apart. JSISelectableFlag swaps any PNG in GameData/Flag or /Agencies, on 2 of those layers for pretty wide variety of effects.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-05T19:44:01Z\u0022 title=\u002212/05/2014 07:44  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 5, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-12-05T20:08:13Z","Content":"\n\u003Cp\u003EWith respect; while blending per-pixel transparency would be nice, I don\u0027t think it\u0027s nearly as useful as blending per-pixel specularity. If you can only deal with one shader I would choose KSP Bumped Specular for this.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-12-05T20:35:09Z","Content":"\n\u003Cp\u003Eas long as the shader has enough texture channels, they can be set to control different surface properties, direct swap or gradual blend is different ways to get to the same point. The current shaders are limited is because they are pre-compiled, you can\u0027t change what the texture channels control (Spec, Diffuse, AO, etc), and you can\u0027t add or remove texture channels if you need or don\u0027t need them. Empty texture channels are problematic often times during part compile. You have to write and compile a new shader if you wanted separate texture channels to control Transparency and Specular.\u003C/p\u003E\u003Cp\u003EThis is main reason I\u0027m looking forward to Unity 5 shaders; they work much more like material editor in a 3d app, and the in-game shader is compiled during game build. I expect PartTools will need an update to support Unity 5 shaders.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-05T22:44:44Z\u0022 title=\u002212/05/2014 10:44  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 5, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Helix935","CreatedById":71312,"CreatedDateTime":"2014-12-05T21:06:43Z","Content":"\n\u003Cp\u003Ehave you tried contacting Starwaster for any way to have the textures trigger on reentry as he is doing work for DRE...\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-12-05T21:13:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Helix935\u0022 data-cite=\u0022Helix935\u0022\u003E\u003Cdiv\u003Ehave you tried contacting Starwaster for any way to have the textures trigger on reentry as he is doing work for DRE...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh yea? which parts? the heatshields? *stupid me... of course the heat shields. LOL\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-05T21:17:04Z\u0022 title=\u002212/05/2014 09:17  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 5, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"}]}