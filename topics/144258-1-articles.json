{"TopicId":144258,"ForumId":15,"TopicTitle":"[Solved] Unity 5.3 animation transform rotations bugged","CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-07-21T08:43:33Z","PageNum":1,"Articles":[{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-07-21T08:43:33Z","Content":"\n\u003Cp\u003E\nOk, I\u0027ve created numerous animations in Unity. \u00A0So it\u0027s not like I\u0027m a complete noob at this. But for the life of me I can\u0027t figure out why one part I\u0027m working on simply will NOT animate.\n\u003C/p\u003E\n\u003Cp\u003E\nIt works in Unity, just fine. \u00A0I have it set to legacy.\n\u003C/p\u003E\n\u003Cp\u003E\nThe .cfg looks like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E                MODULE\n                {\n                 name = ModuleAnimateGeneric\n                 animationName = fishAnim\n                 startEventGUIName = Lower\n                 endEventGUIName = Raise\n\t             allowDeployLimit = true\t\n\t             revClampSpeed = false\n\t             revClampPercent =   true\n                }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe GUI comes up, the button is there, the slider is there and when I click on the button it says it\u0027s moving. \u00A0The part doesn\u0027t do crap. I slide the deploy limit and it moves... and the part does nothing, in or out of the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003Esph\u003C/abbr\u003E\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve completely rebuilt the part in unity twice now, I\u0027ve redone the animation at least 4 times, from scratch. \u00A0I\u0027ve tried different parenting, etc.\n\u003C/p\u003E\n\u003Cp\u003E\nI have the animation in the right place, it\u0027s on the parent object of the parts being animated. The animator is even deleted just to make sure.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m at wits end with this one. \u00A0I\u0027m doing everything the exact same way I\u0027ve done every other animated part and this one refuses to move.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd the log file has nothing. \u00A0No errors relating to the part, nada.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-21T22:52:14Z\u0022 title=\u002207/21/2016 10:52  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 21, 2016\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-07-21T15:41:22Z","Content":"\n\u003Cp\u003E\nany errors during export?\u00A0it\u0027s the only animation on the part?\n\u003C/p\u003E\n\u003Cp\u003E\ntry it without the DeployLimit parameters?\u00A0if it works then, add the DeployLimit parameters and test them 1 at a time till you get the effect you want.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-07-21T16:10:49Z","Content":"\n\u003Cp\u003E\nNo, no errors, nothing. \u00A0Everything appeared to be working except the part simply wouldn\u0027t move. \u00A0I stripped it down to two game objects and still... wouldn\u0027t move.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd\u00A0I just now figured it out and this is about as STUPID as the drag cube issue.\n\u003C/p\u003E\n\u003Cp\u003E\nI wanted to rotate a part 40 degrees. That\u0027s all.\n\u003C/p\u003E\n\u003Cp\u003E\nI just went through so much bull---crap, to the point I was deleting other mods from my install, re-exporting the .obj file, rotating the parts in my modeler, rewriting the .cfg file... \u00A0Just an insane amount of face-desking trying to figure out why this part wouldn\u0027t rotate in KSP but looked perfect in Unity...\n\u003C/p\u003E\n\u003Cp\u003E\nI even animated other parts to make sure I hadn\u0027t had a stupid attack and forgot how to animate. \u00A0They worked fine.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the stupidity...\n\u003C/p\u003E\n\u003Cp\u003E\nIn the animation I had the transform rotation. \u00A0That\u0027s not good enough for KSP. \u00A0I had to add in the transform LOCATION, even though it\u0027s completely unchanged throughout the animation. \u00A0The start value and the stop value are exactly the same.\n\u003C/p\u003E\n\u003Cp\u003E\nBut without it, the part wouldn\u0027t budge.\n\u003C/p\u003E\n\u003Cp\u003E\nAs soon as I added the location, the part rotated.\n\u003C/p\u003E\n\u003Cp\u003E\nUnbelievable.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106805-nli2work/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022106805\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/106805-nli2work/\u0022 rel=\u0022\u0022\u003E@nli2work\u003C/a\u003E. \u00A0I appreciate your help but short of a Unity screenshot I\u0027m not sure anyone would have guessed that.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-21T16:11:15Z\u0022 title=\u002207/21/2016 04:11  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 21, 2016\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-07-21T16:22:10Z","Content":"\n\u003Cp\u003E\nhuh, that\u0027s interesting, never would have guessed that in a hundred years even with screen shots. This should be filed under double secret trivia questions for Alex Trebek.\n\u003C/p\u003E\n\u003Cp\u003E\nwhat made you remove the translate curves on this one? 3D apps typically keys Translate/Rotate/Scale by default. Unity does as well.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-07-21T16:43:14Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106805-nli2work/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022106805\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/106805-nli2work/\u0022 rel=\u0022\u0022\u003E@nli2work\u003C/a\u003E\u00A0I never added any. \u00A0I do all my modelling in Wings 3D which doesn\u0027t do animations. \u00A0I import the parts into Unity and use it to create the animations. \u00A0I select the parent object of the parts I want animated, click on the Animation tab, create the animation then add what I want animated. \u00A0In this case, a transform rotation. \u00A0I doesn\u0027t automatically add in the transform position so there was no deleting to do.\n\u003C/p\u003E\n\u003Cp\u003E\nNormally, my animations are position changes, not rotations so this little tidbit never occurred to me until I decided to try to move the part AND rotate it to see if I had a buggy .obj imported into Unity. \u00A0That\u0027s when the part moved AND rotated.\n\u003C/p\u003E\n\u003Cp\u003E\nThe last rotation I did was ages ago and I actually used Daz to do that then imported it into Unity and NOTHING I\u0027ve ever read about creating animations in Unity said a transform\u00A0position was required to do a rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nYea. \u00A0I\u0027ve just spent hours uttering all sorts of monosyllabic words over this fubar.\n\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-07-21T17:05:09Z","Content":"\n\u003Cp\u003E\nHm, very strange. can you send me the part\u00A0with the broken setup?\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-07-21T17:14:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222685730\u0022 data-ipsquote-contentid=\u0022144258\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221469120709\u0022 data-ipsquote-userid=\u0022106805\u0022 data-ipsquote-username=\u0022nli2work\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, nli2work said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHm, very strange. can you send me the part\u00A0with the broken setup?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not sure what you\u0027re wanting. \u00A0The Unity assets?\n\u003C/p\u003E\n\u003Cp\u003E\nIt should be easy to duplicate this problem. \u00A0Take 2 game objects, make one the child. \u00A0Select the parent, click the animation tab and create animation. \u00A0Add in the transform rotation for the child. \u00A0Set the animation timer to 1 second, make sure the record button is pushed and rotate the child part. \u00A0When you play it, you should see the part rotate.\n\u003C/p\u003E\n\u003Cp\u003E\nRemove the animator, change the animation to legacy and drag the animation to the parent object.\n\u003C/p\u003E\n\u003Cp\u003E\nExport the part.\n\u003C/p\u003E\n\u003Cp\u003E\nThe part.cfg, I just used an animate generic to test it. \u00A0The GUI button comes up, even the slider and it even says it\u0027s moving the part. \u00A0But it sure doesn\u0027t move.\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s basically what I did.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-07-21T18:08:49Z","Content":"\n\u003Cp\u003E\nok, I\u0027ll give that a go.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-07-21T22:34:05Z","Content":"\n\u003Cp\u003E\nUnbelievable. I know why this all happened. \u00A0I\u0027ve been beating my brains in for the past 24 hours with rotating animations and now I know why they don\u0027t work.\n\u003C/p\u003E\n\u003Cp\u003E\nUnity 5.3\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://answers.unity3d.com/questions/1120170/cant-rotate-gameobject-with-animation-in-unity-53.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://answers.unity3d.com/questions/1120170/cant-rotate-gameobject-with-animation-in-unity-53.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n6 months\u00A0this has been busted and it\u0027s still busted.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s how you know you have the problem. \u00A0If you add a transform rotation to the animation timeline, then you click the add property button and that transform rotation is still listed as available, it\u0027s bugged. \u00A0It should disappear from the list of properties available to animate. \u00A0In my case, it doesn\u0027t.\n\u003C/p\u003E\n\u003Cp\u003E\nEven though everything looks perfect, your animation looks great in Unity,\u00A0it simply won\u0027t export the rotation. \u00A0Position seems to be fine, it exports it just dandy.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, the solution:\n\u003C/p\u003E\n\u003Cp\u003E\nRight click the transform rotation on the animation timeline and change the interpolation to\u00A0Eular Angles(Quaternion Approximation). \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt instantly worked.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106805-nli2work/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022106805\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/106805-nli2work/\u0022 rel=\u0022\u0022\u003E@nli2work\u003C/a\u003E, how\u0027s that for some obscure trivia for ya. \u00A0Cost me another year off my life.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-21T22:55:38Z\u0022 title=\u002207/21/2016 10:55  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 21, 2016\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-07-22T01:48:16Z","Content":"\n\u003Cp\u003E\nAhaha, damn. it was Unity\u0027s fault all along!\u00A0Great sleuthing work though! I wouldn\u0027t have been able to replicate your problem since I\u0027m not on Unity 5.3\n\u003C/p\u003E\n\u003Cp\u003E\n5.2.4f1 is the one to stick with till Squad builds with newer version of Unity.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-22T01:49:17Z\u0022 title=\u002207/22/2016 01:49  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 22, 2016\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-07-22T03:54:11Z","Content":"\n\u003Cp\u003E\nYea, seems like getting the latest Unity is always a bad idea.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks again for jumping in to help. Next time (which probably won\u0027t be long from now) I\u0027ll try to make my problems less... obscure.\n\u003C/p\u003E\n"}]}