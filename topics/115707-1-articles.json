{"TopicId":115707,"ForumId":29,"TopicTitle":"Need some help with key binding for new modder","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-12T12:59:00Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-12T12:59:00Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EWhile I would appreciate some help with the actual answer for the following questions, I would also appreciate pointers on where to find the answers myself:\u003C/p\u003E\u003Cp\u003EI\u0027m using Xamarin Studio on Windows 7, if that is relevant.\u003C/p\u003E\u003Cp\u003EI am trying to write a mod which will take screenshots at specific events during a game. I am trying to find out the following:\u003C/p\u003E\u003Cp\u003E1. I have looked in the references for UnityEngine, and while I found a Screen class, I don\u0027t see anything which would be something like screenshot, screencapture, etc.\u003C/p\u003E\u003Cp\u003E2. Alternatively, I am also looking if there is a way to inject a keystroke into the stream. \u003C/p\u003E\u003Cp\u003EI\u0027d prefer #1, since there are a number of things which I\u0027d like to do and that is a better way.\u003C/p\u003E\u003Cp\u003EThanks in advance\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-07-12T14:04:53Z","Content":"\n\u003Cp\u003EWhile I don\u0027t know how to trigger a screenshot, I can confirm that injecting a keystroke via code is a no-go.\u003C/p\u003E\u003Cp\u003EI looked for this myself a while back and my best guess is that Unity only accepts keystrokes from the hardware input layer and has no way of writing to that function itself.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003Cp\u003Eedit: bah, ninja!\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-12T14:09:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Thomas P.\u0022 data-cite=\u0022Thomas P.\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EApplication.CaptureScreenshot(string filename);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eis what you are looking for. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETHANK YOU!\u003C/p\u003E\u003Cp\u003EI didn\u0027t think the injecting was the right way to go, but had to ask.\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-15T02:32:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Thomas P.\u0022 data-cite=\u0022Thomas P.\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EApplication.CaptureScreenshot(string filename);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eis what you are looking for. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs this done asynchronously? I\u0027m asking because I first call it, and then the next line I try to convert it to a jpg, and I\u0027m getting an error that the file doesn\u0027t exist.\u003C/p\u003E\u003Cp\u003EThanks\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-07-15T03:29:11Z","Content":"\n\u003Cp\u003EDoes the file exist by the time you can move to the folder and check?\u003C/p\u003E\u003Cp\u003EIf this is on the same \u0022update frame\u0022, the next line of code pretty much runs instantly and while making a screenshot is fast, it\u0027s not that fast. (a.k.a. runs asynchronously)\u003C/p\u003E\u003Cp\u003EIf this is the case you\u0027ll have to delay until the file exists some how.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-15T08:50:24Z","Content":"\n\u003Cp\u003EStart a coroutine to wait a few frames, then try the conversion? Shout if you need some pointers.\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-15T10:39:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EDoes the file exist by the time you can move to the folder and check?\u003Cp\u003EIf this is on the same \u0022update frame\u0022, the next line of code pretty much runs instantly and while making a screenshot is fast, it\u0027s not that fast. (a.k.a. runs asynchronously)\u003C/p\u003E\u003Cp\u003EIf this is the case you\u0027ll have to delay until the file exists some how.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s what I thought. Thanks.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EStart a coroutine to wait a few frames, then try the conversion? Shout if you need some pointers.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you could point me to an example, that would be a big help. I\u0027m just getting started in this kind of programming, and, while I know threading very well, i don\u0027t know how to do it in Unity yet.\u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-15T10:59:36Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://docs.unity3d.com/Manual/Coroutines.html\u0022 rel=\u0022external nofollow\u0022\u003EDocumentation\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESimple wait while null function\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic System.Collections.IEnumerator waitWhileNull()\u003Cbr\u003E{\u003Cbr\u003E    while(image == null)\u003Cbr\u003E        yield return null; // null == wait till the next Update cycle, new WaitForFixedUpdate() == wait till next FixedUpdate cycle, break == exit this coroutine instance here, new WaitForSeconds(1) == Wait till one second has passed\u003Cbr\u003E    // do something\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Crzyrndm/FilterExtension/blob/master/FilterExtension/Editor.cs#L23\u0022 rel=\u0022external nofollow\u0022\u003E KSP usage\u003C/a\u003E (two stages of waiting for a certain value, and three stages where it\u0027s just waiting a set number of frames)\u003C/p\u003E\u003Cp\u003ECoroutines let you execute a single function with all its local variables through multiple timesteps\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-15T11:04:05Z\u0022 title=\u002207/15/2015 11:04  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 15, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"}]}