{"TopicId":22561,"ForumId":69,"TopicTitle":"The Linux compatibility thread!","CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2013-04-18T21:29:24Z","PageNum":22,"Articles":[{"CreatedByName":"meeki","CreatedById":62356,"CreatedDateTime":"2014-02-16T00:58:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hounddowg1\u0022 data-cite=\u0022hounddowg1\u0022\u003E\u003Cdiv\u003ESo, I will be trying an experiment: Run KSP on an Ubuntu Kerrighed cluster.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve been watching this from 2008 - current\u003C/p\u003E\u003Cp\u003EHere is a good build link \u003Ca href=\u0022http://www.stevekelly.eu/cluster.shtml\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.stevekelly.eu/cluster.shtml\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIve stayed away from it due to the network speed requirements. 100 meg network card and switch are not going to cut it.\u003C/p\u003E\u003Cp\u003EAlso Its meant to run with Threaded applications or parallel!\u003C/p\u003E\u003Cp\u003ESo here is what might happen.\u003C/p\u003E\u003Cp\u003EKerbal main process opens on one of your clusters eating 3% of its CPU\u003C/p\u003E\u003Cp\u003EThe physics process opens on another cluster and eats 100% of its CPU\u003C/p\u003E\u003Cp\u003EAnother kebal process opens on the third cluster eats 2% of your CPU\u003C/p\u003E\u003Cp\u003EGain in processing power is 5% ( not counting overhead and lag)\u003C/p\u003E\u003Cp\u003ENow if someday Kerbal becomes multi-threaded in the physics department you still have to deal with overhead. Lag, throughput, loss cramming it all in the IP layer and then putting it all back together.\u003C/p\u003E\u003Cp\u003EIP traffic is not loss less and has to attach a number to each packet. It does not care what order the data is sent in so when it arrives back and forth there is overhead putting all them bytes back together.\u003C/p\u003E\u003Cp\u003EWhats supper cool about this cluster setup is you have a main machine. And then if you need more processes you just add another node (computer). So if your hosting a web server and you get too many clients and need more threads to serve then you just add another node. For now Ive got away with just using a reverse proxy and a ton of ram.\u003C/p\u003E\u003Cp\u003E I\u0027m not saying don\u0027t do it. Just that you may not see much of a speed boost \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"meeki","CreatedById":62356,"CreatedDateTime":"2014-02-16T01:26:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022flashcactus\u0022 data-cite=\u0022flashcactus\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI also have another issue with a fresh stock .23 install on a laptop running i686 Arch Linux. This one has no problems at all with the mod key, but has the \u0022no text shown\u0022 thing, which AFAIK should indicate the lack of Arial and ArialBold fonts, but trying every way known to me of installing them and following the advice in this thread didn\u0027t help in any way.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry my font script \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/24529-The-Linux-compatibility-thread%21?p=855124\u0026amp;viewfull=1#post855124\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/24529-The-Linux-compatibility-thread%21?p=855124\u0026amp;viewfull=1#post855124\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIve only used it in DEB based systems. Might work on arch. I doubt it will break arch. Worse case is it will install them .ttf files but it will not be detected.\u003C/p\u003E\n"},{"CreatedByName":"flashcactus","CreatedById":103335,"CreatedDateTime":"2014-02-16T12:13:01Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003Esal_vager\u003C/strong\u003E, Thanks for the advice, but installing the fonts from the OPpost is actually the first thing I\u0027ve tried. I just have a habit of not asking for a way to do something unless I have tried at least once to follow all relevant advice available. Anyway, regarding the modifier key problem, I did look into the settings.cfg file on that computer and it appears to be mapped to the \u003Cem\u003EAlt\u003C/em\u003E keys, but they do not act as such while the \u003Cem\u003EWin\u003C/em\u003E and \u003Cem\u003ERShift\u003C/em\u003E keys do (sometimes, as stated in my previous post), so I assumed that this entry did not affect the actual keymap for some reason. Now, though, I found that on the laptop which doesn\u0027t have this problem, it is actually mapped to the default \u003Cem\u003EWin\u003C/em\u003E/\u003Cem\u003ERShift\u003C/em\u003E pair. So I guess I\u0027ll try to edit the config when I get back to the other computer and see what happens.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-16T15:17:21Z","Content":"\n\u003Cp\u003EOkay flashcactus, not sure what\u0027s up with your text then, it may be a different issue.\u003C/p\u003E\u003Cp\u003EAny chance of a pic of your missing text just in case there\u0027s differences? Is there text anywhere at all?\u003C/p\u003E\n"},{"CreatedByName":"flashcactus","CreatedById":103335,"CreatedDateTime":"2014-02-16T18:35:05Z","Content":"\n\u003Cp\u003EI\u0027ve just fixed the no-text problem. It was indeed the lack of fonts. Renaming ArialBd.ttf to ArialBold.ttf and copying it over to /usr/share/fonts did the trick (not sure which one of those actions solved the problem, though). And remapping the modifier key in settings.cfg enabled it on the other install, so thanks for the advice. \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Emeeki\u003C/strong\u003E, I did try your script among the other methods and it didn\u0027t help, so you might consider modifying it to add a copy/symlink with the aforementioned name (and probably a prompt to copy the fonts to /usr/share/fonts if user is not root?). \u003C/p\u003E\u003Cp\u003EThanks again.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-16T18:45:51Z","Content":"\n\u003Cp\u003EGlad it\u0027s working for you now flashcactus, did you need to restart for the fonts to be found?\u003C/p\u003E\n"},{"CreatedByName":"flashcactus","CreatedById":103335,"CreatedDateTime":"2014-02-16T19:14:29Z","Content":"\n\u003Cp\u003ENo, I started the game immediately after running \u003Cspan style=\u0022font-family:monospace;\u0022\u003Efc-cache\u003C/span\u003E.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-17T03:35:04Z\u0022 title=\u002202/17/2014 03:35  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 17, 2014\u003C/time\u003E by flashcactus\u003C/strong\u003E\n\u003Cbr\u003Ereplaced [code] with monospace font.\n\u003C/span\u003E\n"},{"CreatedByName":"shrub","CreatedById":93190,"CreatedDateTime":"2014-02-17T18:56:28Z","Content":"\n\u003Cp\u003ERunning into a problem with the 64bit version\u003C/p\u003E\u003Cp\u003EThe 32bit version runs beautifully\u003C/p\u003E\u003Cp\u003EWhen I run the 64bit it crashes during the loading screen:\u003C/p\u003E\u003Cp\u003ESet current directory to /home/rishub/.local/share/Steam/SteamApps/common/Kerbal Space Program\u003C/p\u003E\u003Cp\u003EFound path: /home/rishub/.local/share/Steam/SteamApps/common/Kerbal Space Program/KSP.x86_64\u003C/p\u003E\u003Cp\u003EMono path[0] = \u0027/home/rishub/.local/share/Steam/SteamApps/common/Kerbal Space Program/KSP_Data/Managed\u0027\u003C/p\u003E\u003Cp\u003EMono path[1] = \u0027/home/rishub/.local/share/Steam/SteamApps/common/Kerbal Space Program/KSP_Data/Mono\u0027\u003C/p\u003E\u003Cp\u003EMono config path = \u0027/home/rishub/.local/share/Steam/SteamApps/common/Kerbal Space Program/KSP_Data/Mono/etc\u0027\u003C/p\u003E\u003Cp\u003EAborted\u003C/p\u003E\u003Cp\u003Eanyway to fix this? I am at a loss\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-17T18:57:51Z","Content":"\n\u003Cp\u003EAnything else in the logs that may be a clue? Also don\u0027t forget 64bit is experimental still.\u003C/p\u003E\u003Cp\u003EMaybe you need mono installed on the system \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"shrub","CreatedById":93190,"CreatedDateTime":"2014-02-17T19:31:33Z","Content":"\n\u003Cp\u003EThe Logs don\u0027t seem to hold anything useful\u003C/p\u003E\u003Cp\u003EAm I looking for something specific? \u003C/p\u003E\u003Cp\u003EI installed mono-complete (I\u0027m running debian) \u003C/p\u003E\u003Cp\u003Estill crashes, still get the same error\u003C/p\u003E\u003Cp\u003EAlso, what should I set in my launch options in steam?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-17T19:35:37Z","Content":"\n\u003Cp\u003EHmm, it\u0027d be good to see the logs, can you upload them somewhere?\u003C/p\u003E\u003Cp\u003ELC_ALL=C %command%_64 is what you need for the launch option so Steam starts the 64bit binary, but you can also try just clicking on the file to see if that works.\u003C/p\u003E\n"},{"CreatedByName":"shrub","CreatedById":93190,"CreatedDateTime":"2014-02-17T19:40:17Z","Content":"\n\u003Cp\u003EWhere do I place LD_PRELOAD and __GL_THREADED_OPTIMIZATIONS then?\u003C/p\u003E\u003Cp\u003EI ran the game by double clicking on the x86_64 binary\u003C/p\u003E\u003Cp\u003EHere are the logs\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/2nneU7JM\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/2nneU7JM\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"shrub","CreatedById":93190,"CreatedDateTime":"2014-02-17T19:44:27Z","Content":"\n\u003Cp\u003EWhen I launch it using steam with the LC_ALL=C %command%_64 command, it loads up fine, no error.\u003C/p\u003E\u003Cp\u003EStrange\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-17T19:47:30Z","Content":"\n\u003Cp\u003EMaybe that you need LC_ALL=C depending on your localisation, can you try \u0022LC_ALL=C ./KSP.x86_64\u0022 in a terminal? (you need to be in the KSP directory)\u003C/p\u003E\u003Cp\u003EI think those other commands can also go there, but LC_ALL=C is the most important \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"shrub","CreatedById":93190,"CreatedDateTime":"2014-02-17T20:10:32Z","Content":"\n\u003Cp\u003Ecrashes instantly, same error \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"kelmv","CreatedById":90534,"CreatedDateTime":"2014-02-17T22:52:31Z","Content":"\n\u003Cp\u003ERan into an interesting issue; upgraded my GPU and KSP no longer worked (only displaying a black screen). I wiped out my saves and settings.cfg, and things worked once more. I\u0027ll be migrating my saves over from my laptop back over to my desktop to make sure that it wasn\u0027t an issue with the saves.\u003C/p\u003E\n"},{"CreatedByName":"shrub","CreatedById":93190,"CreatedDateTime":"2014-02-18T00:23:26Z","Content":"\n\u003Cp\u003E@sal_vager\u003C/p\u003E\u003Cp\u003EFixed the issue! I ran the segfault patch posted in the OP\u003C/p\u003E\u003Cp\u003ERuns fine, and works with mods too! \u003C/p\u003E\u003Cp\u003EHope I can run all the mods I want without memory issues.\u003C/p\u003E\n"},{"CreatedByName":"Ph34rb0t","CreatedById":4291,"CreatedDateTime":"2014-02-22T19:01:23Z","Content":"\n\u003Cp\u003EArch x64, latest Wine, NVidia card with proprietary drivers: \u003C/p\u003E\u003Cp\u003EKSP loads and runs, but shadows are a friggin\u0027 mess, as expected. KSP \u0022feels\u0022 snappier than on Windows though.\u003C/p\u003E\u003Cp\u003EAnd me idiot was about to spend hours mucking around with KSP\u0027s native Linux build and trying to symlink all relevant folders to the ones on my Windows drive. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-22T19:09:15Z","Content":"\n\u003Cp\u003ETry lowering the render quality, it has a big effect on the shadows \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sigmundr","CreatedById":72421,"CreatedDateTime":"2014-02-22T19:12:00Z","Content":"\n\u003Cp\u003EHi all, apologies if this has already been posted (couldn\u0027t see it), but with the newest ATI linux beta drivers (14.1), I was able to get anti-aliasing to work on KSP via the catalyst control center settings despite it still not working with the ingame, unity, settings.\u003C/p\u003E\u003Cp\u003EJust thought it may be worth knowing you Kerbals dont have to worry as much about hurting themselves on all those jagged edges!\u003C/p\u003E\n"},{"CreatedByName":"shrub","CreatedById":93190,"CreatedDateTime":"2014-02-23T02:37:27Z","Content":"\n\u003Cp\u003EMy physics timer flashes green/yellow on Kerbin. Is this a known problem or should I adjust the graphics settings?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-23T17:18:59Z","Content":"\n\u003Cp\u003EMine does that, there\u0027s a lot to render on Kerbin, you can try reducing the maxSubdivision value for the oceans on each graphics setting.\u003C/p\u003E\u003Cp\u003EPoke around the settings.cfg, you\u0027re looking for this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E PLANET\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = KerbinOcean\u003C/p\u003E\u003Cp\u003E minDistance = 4\u003C/p\u003E\u003Cp\u003E minSubdivision = 1\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003EmaxSubdivision = 6\u003C/strong\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Ph34rb0t","CreatedById":4291,"CreatedDateTime":"2014-02-23T23:26:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003ETry lowering the render quality, it has a big effect on the shadows \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPunch a toaster and call me Shirley, that really worked!\u003C/p\u003E\u003Cp\u003E(\u0022Fantastic\u0022 -\u0026gt; \u0022Beautiful\u0022)\u003C/p\u003E\n"},{"CreatedByName":"FuzzyLlama","CreatedById":78415,"CreatedDateTime":"2014-02-27T04:32:51Z","Content":"\n\u003Cp\u003EThanks for the tips, sal_vager! But... I\u0027m not satisfied. (Trying the x86_64 version) I can only seem to get a decent framerate looking at the spaceport in a fresh install if I turn off the fluffy graphics settings, turn rendering quality down to good, launch the game with nVidia threaded optimizations. On the same machine in Win8.1, Kerbal flies at high settings with 8x AA. For reference, the machine is an ASUS G705JW, Core i7 quad @ 3.2 GHz, 16Gb RAM, GeForce GTX 765M.\u003C/p\u003E\u003Cp\u003EI just want to get performance in Linux (my flavor is Gentoo. woo.) close to what I\u0027d see in Windows... but if just looking around at the spaceport is choppy and gross, I won\u0027t bother with the linux client! And that would be very very sad.\u003C/p\u003E\u003Cp\u003EEDIT: Thought I should mention I\u0027m running nvidia-334.16 beta drivers.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-27T16:33:19Z\u0022 title=\u002202/27/2014 04:33  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 27, 2014\u003C/time\u003E by FuzzyLlama\u003C/strong\u003E\n\u003Cbr\u003Evideo drivers\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-27T20:27:06Z","Content":"\n\u003Cp\u003EShouldn\u0027t be that sluggish, though I admit KSP in Linux is not as fast as in Windows.\u003C/p\u003E\u003Cp\u003EI\u0027m running the 319 driver (it\u0027s old, I know) and don\u0027t have too many speed issues, certainly not when looking at the oceans and stuff anyway.\u003C/p\u003E\u003Cp\u003EThis is a hard one to answer to be honest, but the memory fix in the opening post may help, I\u0027m just glad KSP works for us at all.\u003C/p\u003E\u003Cp\u003EBut yeah you should get better performance than that, one thing that does slow KSP down is the shadows and light sources, make sure they are default.\u003C/p\u003E\n"}]}