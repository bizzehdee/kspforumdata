{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":248,"Articles":[{"CreatedByName":"cratercracker","CreatedById":171449,"CreatedDateTime":"2017-06-01T12:56:22Z","Content":"Despite hundreds of bug reports, weird things and even more weird puns.\n\nI just want to say..\n\nThank you! You did so much for me and thousands of other people who use this mod to make the game look absolutely amazing. The work you did is astounding, stunning. It is really great that you share it, without thinking of the non-existent gain. \n\nReminder: You are awesome."},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-06-01T19:34:43Z","Content":"Hey! I have a suggestion. Myself and [@Avera9eJoe](https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/) have been talking, and we feel as if disabling Scatterer\u0027s \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration is a massive blow to the quality of planets when both mods are used in conjunction. \n\nThe problem (isn\u0027t a bug), is that we like to use \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E cloud layers as glows for non-atmospheric planets, such as this:\n\n![TWRCv7X.png](http://i.imgur.com/TWRCv7X.png)\n\nHowever we can\u0027t do this if Scatterer\u0027s \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration is enabled, as it destroys the daylight side of the planet (the glow only appears at night where scatterer is \u0022least active\u0022)\n\nI\u0027m suggesting that in the planetsList config file, we can specify whether the integration is enabled for each individual planet. For example:\n\n    scattererCelestialBodies{\tItem\t{\t\tcelestialBodyName = Gaia\t\ttransformName = Gaia\t\t\t[...]\t\t{\t\t\t[...]\t\t}\tEVEIntegration = FALSE // \u003C-------\t}\n\nAnd then we can use modulemanager configs to do this (this is pseudocode):\n\n    @Scatterer:NEEDS[EVE]\n    {@Scatterer[Scatterer_planetsList]\t{\t\t@scattererCelestialBodies\t\t{\t\t\t@celestialBodyName [Gaia]\t\t\t\t{\t\t\t\t\tIntegrateWithEVEClouds = false\t\t\t\t}\t\t}\t}\n    }"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-06-01T19:42:05Z","Content":"Though I still wouldn\u0027t be able to add multi-colored atmospheres to [Eve](http://i.imgur.com/xWxMu2a.jpg) or [Duna](http://i.imgur.com/fdfVfRC.jpg) if I can\u0027t have Layer2D run alongside Scatterer ![;.;](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif \u0022;.;\u0022) It would be a nice fix for non-atmospheric bodies though\n\n**Edited \u003Ctime datetime=\u00222017-06-01T19:44:01Z\u0022 title=\u002206/01/2017 07:44  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 1, 2017\u003C/time\u003E by Avera9eJoe**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-06-01T19:59:55Z","Content":"\u003E \n\u003E \n\u003E 20 minutes ago, Gameslinx said:\n\u003E \n\u003E \n\u003E Hey! I have a suggestion. Myself and [@Avera9eJoe](https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/) have been talking, and we feel as if disabling Scatterer\u0027s \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration is a massive blow to the quality of planets when both mods are used in conjunction. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The problem (isn\u0027t a bug), is that we like to use \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E cloud layers as glows for non-atmospheric planets, such as this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E However we can\u0027t do this if Scatterer\u0027s \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration is enabled, as it destroys the daylight side of the planet (the glow only appears at night where scatterer is \u0022least active\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m suggesting that in the planetsList config file, we can specify whether the integration is enabled for each individual planet. For example:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And then we can use modulemanager configs to do this (this is pseudocode):\n\u003E \n\nPer-planet \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration has already been suggested by [@Galileo](https://forum.kerbalspaceprogram.com/index.php?/profile/150430-galileo/), and in fact I\u0027ve implemented it 4 days ago: [https://github.com/LGhassen/Scatterer/commit/8718f61876ef5db4ac3f8a08a98fe74d4bb86bab](https://github.com/LGhassen/Scatterer/commit/8718f61876ef5db4ac3f8a08a98fe74d4bb86bab)\n\nit will be in the next release.\n\n\u003E \n\u003E \n\u003E 15 minutes ago, Avera9eJoe said:\n\u003E \n\u003E \n\u003E Though I still wouldn\u0027t be able to add multi-colored atmospheres to [Eve](http://i.imgur.com/xWxMu2a.jpg) or [Duna](http://i.imgur.com/fdfVfRC.jpg) if I can\u0027t have Layer2D run alongside Scatterer ![;.;](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif \u0022;.;\u0022) It would be a nice fix for non-atmospheric bodies though\n\u003E \n\nWait, could you elaborate on this? Whi would this mess up multi-colored atmospheres?\n\n\u003E \n\u003E \n\u003E 7 hours ago, cratercracker said:\n\u003E \n\u003E \n\u003E Despite hundreds of bug reports, weird things and even more weird puns.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I just want to say..\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thank you! You did so much for me and thousands of other people who use this mod to make the game look absolutely amazing. The work you did is astounding, stunning. It is really great that you share it, without thinking of the non-existent gain. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Reminder: You are awesome.\n\u003E \n\n\u003E \n\u003E \n\u003E 7 hours ago, Dafni said:\n\u003E \n\u003E \n\u003E Roger that. Just saw your SSRSS post too now. We must have posted at almost the same time.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Anyway, lets hope this info helps blackrack to track down the issue.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And to Blackrack himself a huge Thank You for this lovely mod and all the work to maintain it. You make the KSP experience a lot more beautiful.\n\u003E \n\nThanks, and thank you all for supporting me since the beginning.\n\n[@cratercracker](https://forum.kerbalspaceprogram.com/index.php?/profile/171449-cratercracker/) I added your fanart to the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E, thanks a lot ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-06-01T20:44:14Z","Content":"\u003E \n\u003E \n\u003E 44 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Wait, could you elaborate on this? Whi would this mess up multi-colored atmospheres?\n\u003E \n\nI believe he means having the Layer2D and scatterer atmospheric integration work together on one planet. The thing is, turning on integration will remove the effect of the Layer2D glow and bring back the terminator dawn/dusk lines on the planet. Turning it off removes the terminators and gives back the glow.\n\nThat might he hard to integrate, though, but I would also love this."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-06-01T20:44:27Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E Wait, could you elaborate on this? Whi would this mess up multi-colored atmospheres?\n\u003E \n\nAye I wrote that pretty fast sorry ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\n   In a nutshell, I use Scatterer to give planets their realistic haze and atmosphere, but I use \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u0027s Layer2D glow to add accent colors. If you take a peek at Laythe or Duna in my current release of Spectra, you\u0027ll notice that I added a feint color shift with Layer2D at the edge of their atmospheres. Duna has a blue glow and Laythe green. Likewise on Kerbin and Eve though unfinished. If \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E-Scatterer integration is off then both effects stack nicely to give the planet a scifi-esque, oldschool glow. However when \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E-Scatterer integration is on, the Layer2D effects break something and turn all cloud layers black, and kill all Layer2D and Scatterer effects.\n\nThe takeaway is that disabling Eve-Scatterer integration on a planet by planet basis wouldn\u0027t help me because I have to use both Scatterer and Layer2D on the same planet to create multicolored atmospheres. The godsend would be to somehow get them to both work alongside each other and still have \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E-Scatterer integration enabled... though I haven\u0027t a clue if that\u0027s possible. Perhaps disabling Scatterer-\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E integration on Layer2D would fix it? I\u0027m just grasping at straws ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\n   There\u0027s also an unrelated \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E-Scatterer integration bug I found were cloud layers and terminators change color correctly but the volumetric particles stay solid white but that\u0027s not related to Layer2D so I\u0027ll chat about that later on I think\n\nEDIT: I made a lot of changes to this message after posting this... sorry ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022) I probably added more if you read it before the edit time v\n\n**Edited \u003Ctime datetime=\u00222017-06-01T21:12:31Z\u0022 title=\u002206/01/2017 09:12  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 1, 2017\u003C/time\u003E by Avera9eJoe**"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-06-01T21:32:26Z","Content":"With that all said though I\u0027ll probably remove my multicolored glows and turn on integration for the time being... ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022) - people are more used to the beautiful terminators and to quote [@million_lights](https://forum.kerbalspaceprogram.com/index.php?/profile/104779-million_lights/) on this topic, *\u0022It\u0027s better to steal a kids present that he doesn\u0027t know about than steal one he\u0027s already got!\u0022*\n\nBut Vall though...\n\n![R77svk6.png](http://i.imgur.com/R77svk6.png)\n\n It won\u0027t have a shift to teal until Layer2D is re-added ![;.;](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif \u0022;.;\u0022)\n\n**Edited \u003Ctime datetime=\u00222017-06-01T21:36:55Z\u0022 title=\u002206/01/2017 09:36  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 1, 2017\u003C/time\u003E by Avera9eJoe**"},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-06-01T21:39:24Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) another very minor thing could be to add comparability with [@Artyomka15](https://forum.kerbalspaceprogram.com/index.php?/profile/130209-artyomka15/)\u0027s Instantiator plugin. I see a few more planet packs are using it, but scatterer doesn\u0027t draw over the top of it. Perhaps there\u0027s a way to force scatterer to load after Instantiator? (It\u0027s a special kind of ring which I imagine takes after the Kopernicus rings)"},{"CreatedByName":"Bersaelor","CreatedById":178171,"CreatedDateTime":"2017-06-02T18:06:33Z","Content":"\u003E \n\u003E \n\u003E On 5/29/2017 at 1:27 AM, Bombaatu said:\n\u003E \n\u003E \n\u003E Sorry if I wasn\u0027t clear.  What you need is on the screen where you can go to Start New Game or Settings; right after the game finishes loading completely (when you first here the music), but before you select which save you\u0027re going to play. there should be a Scatterer settings panel overlaid on the upper left - if not, hit alt-f10 or alt-f11. The setting you are looking for is \u0022Alternate SQRT in shader\u0022 (3rd radio button from the bottom):\n\u003E \n\nThat worked, thank you!  \n\nSadly it does affect my framerate a lot too. But looks really pretty!. So I might still use it for a Screenshot when FPS isn\u0027t important ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  \n\n(GPU used is a AMD Radeon R9 M395X 4096 MB )\n\n**Edited \u003Ctime datetime=\u00222017-06-02T18:08:05Z\u0022 title=\u002206/02/2017 06:08  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 2, 2017\u003C/time\u003E by Bersaelor**\n  \ntypos"},{"CreatedByName":"Aleksey Pschenichnikov","CreatedById":165334,"CreatedDateTime":"2017-06-03T04:27:41Z","Content":"I\u0027m sorry i\u0027m too lazy to watch comments, but will it ever be updated to 1.3? Or does it work on 1.3?"},{"CreatedByName":"Iamsodarncool","CreatedById":138967,"CreatedDateTime":"2017-06-03T04:55:30Z","Content":"[@Aleksey Pschenichnikov](https://forum.kerbalspaceprogram.com/index.php?/profile/165334-aleksey-pschenichnikov/) it works but causes this terrifying bug: \n\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/l0Kc7G-gecc?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\nAnd yes, it will be updated to 1.3 in the future."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-06-03T05:13:18Z","Content":"\u003E \n\u003E \n\u003E 45 minutes ago, Aleksey Pschenichnikov said:\n\u003E \n\u003E \n\u003E I\u0027m sorry i\u0027m too lazy to watch comments, but will it ever be updated to 1.3? Or does it work on 1.3?\n\u003E \n\nThis doesn\u0027t deserve an answer."},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2017-06-03T06:41:24Z","Content":"\u003E \n\u003E \n\u003E On 4/22/2017 at 1:32 PM, blackrack said:\n\u003E \n\u003E \n\u003E How does this look?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026module=system\u0026controller=embed\u0026url=http://imgur.com/a/iMkkh\u0022 style=\u0022height:452px;\u0022\u003E\u003C/iframe\u003E\n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Ok, no problem.\n\u003E \n\n\\*GASP!\\* Yes, please!"},{"CreatedByName":"AdmiralTigerclaw","CreatedById":92104,"CreatedDateTime":"2017-06-03T08:01:06Z","Content":"Hey, question for anyone who does long aircraft missions.\n\nIs there anyone getting a gradual slowdown from extended time (several hours) spent in a single scene instance?\n\nFor example, I long-haul turboprops for survey missions, and the missions take upwards of four hours.  I take off and get going with almost perfect smooth framerate, but over the course of the flight, it gradually slows down until my time ratio is 33 percent of realtime.\n\nI thought it might have been related to physics, but I left my program on in the space center while I slept, and came back to it being jittery and slow as well.  Of the two solid instances, I can see the following behavior.\n\n1: In a long haul flight, especially if it goes through a Kerbin \u0027night\u0027, in an atmosphere, it slows to a crawl.  If I swap to map view, it\u0027s smooth and fast, but reduces to a crawl when I swap back.  Completing the flight and RTBing, then returning to the space center smoothed it up.\n\n2: Left the space center in view for eight hours while I slept.  Woke up to it being a crawl.  Switching to a flight and recovering the flight smoothed it out both at flight start, and after returning to the space center.\n\nI\u0027m thinking that because this seems to occur without regard to a physics condition, that it\u0027s a problem with a graphics thread over long operational periods without a \u0027reset\u0027.  That put scatterer in as a potential contender.  So I\u0027d like to check if anyone is seeing this behavior, or may now know to set up and test for said behavior."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2017-06-03T08:43:35Z","Content":"[@AdmiralTigerclaw](https://forum.kerbalspaceprogram.com/index.php?/profile/92104-admiraltigerclaw/) I have heard of the same issue only once in the past, but I am not sure many people leave their games on overnight, and thus, never experience the problem. My only suggestion is to turn off KSP if you aren\u0027t playing it.\n\nThis is an issue that takes particular circumstances to happen, so I wouldn\u0027t call it a memory leak or a bug. \n\nIt\u0027s like when you have a bruise on your arm, you poke it, and say \u0022it hurts when I do that\u0022 well, don\u0027t do it then! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) for you it\u0027s \u0022the game slows to a crawl when I leave it on for many hours at a time\u0022 Well, don\u0027t do that then! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) \n\n**Edited \u003Ctime datetime=\u00222017-06-03T08:44:09Z\u0022 title=\u002206/03/2017 08:44  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 3, 2017\u003C/time\u003E by Galileo**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-06-03T09:22:57Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, AdmiralTigerclaw said:\n\u003E \n\u003E \n\u003E Hey, question for anyone who does long aircraft missions.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Is there anyone getting a gradual slowdown from extended time (several hours) spent in a single scene instance?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E For example, I long-haul turboprops for survey missions, and the missions take upwards of four hours.  I take off and get going with almost perfect smooth framerate, but over the course of the flight, it gradually slows down until my time ratio is 33 percent of realtime.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I thought it might have been related to physics, but I left my program on in the space center while I slept, and came back to it being jittery and slow as well.  Of the two solid instances, I can see the following behavior.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 1: In a long haul flight, especially if it goes through a Kerbin \u0027night\u0027, in an atmosphere, it slows to a crawl.  If I swap to map view, it\u0027s smooth and fast, but reduces to a crawl when I swap back.  Completing the flight and RTBing, then returning to the space center smoothed it up.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 2: Left the space center in view for eight hours while I slept.  Woke up to it being a crawl.  Switching to a flight and recovering the flight smoothed it out both at flight start, and after returning to the space center.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m thinking that because this seems to occur without regard to a physics condition, that it\u0027s a problem with a graphics thread over long operational periods without a \u0027reset\u0027.  That put scatterer in as a potential contender.  So I\u0027d like to check if anyone is seeing this behavior, or may now know to set up and test for said behavior.\n\u003E \n\nI sometimes leave the same scene instance running in the background while I change things around in the shaders and load them back in the game without restarting. When I did this, I noticed that the game slowed down over a few hours but always assumed it was related to swapping shaders around.\n\nIn any case, one way to test your theory would be to run the same test with and without scatterer, to be sure."},{"CreatedByName":"AdmiralTigerclaw","CreatedById":92104,"CreatedDateTime":"2017-06-03T09:23:09Z","Content":"\u003E \n\u003E \n\u003E 41 minutes ago, Galileo said:\n\u003E \n\u003E \n\u003E [@AdmiralTigerclaw](https://forum.kerbalspaceprogram.com/index.php?/profile/92104-admiraltigerclaw/) I have heard of the same issue only once in the past, but I am not sure many people leave their games on overnight, and thus, never experience the problem. My only suggestion is to turn off KSP if you aren\u0027t playing it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This is an issue that takes particular circumstances to happen, so I wouldn\u0027t call it a memory leak or a bug. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It\u0027s like when you have a bruise on your arm, you poke it, and say \u0022it hurts when I do that\u0022 well, don\u0027t do it then! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) for you it\u0027s \u0022the game slows to a crawl when I leave it on for many hours at a time\u0022 Well, don\u0027t do that then! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\u003E \n\nNo, what you do when you have a bruise, is get rid of what\u0027s causing the bruise in the first place.  Solve the cause, not the symptom.  Also, an issue like this is something most programmers would WANT.  Because I\u0027m giving you outlier performance data you wouldn\u0027t otherwise get (long periods of time in a scene).\n\nThat being said, this doesn\u0027t seem like a memory leak.  I checked the ram for change in commit size, and I was running steady on what my program hoards for the mod count.  (112\u002B, in case you\u0027re wondering.)\n\nEither way, the problem may be a mod, it may be my drivers (just ran an update on my NVIDIA before this post).  Could be unity doesn\u0027t like running one scene a really long time.\n\nEither way, I\u0027m asking if anyone here has witnessed a problem of my description before, so I can help narrow down what actually causes it.  Then we can fix it instead of asking mom to kiss the owie every time.  I\u0027m a data point.  I\u0027m checking for additional data points from scatterer users.\n\nAnd, also, unfortunately, I can\u0027t just turn KSP off in the middle of a 4 hour long flight that turns into a 7 hour long flight 2 hours in because of some unknown thing causing a slowdown.\n\nEDIT: @blackrack\n\nWould the shaders get modified in-flight from say, a day/night transition?  The problem only really seemed to start sliding into place after my flight passed the sunset terminator.\n\n**Edited \u003Ctime datetime=\u00222017-06-03T09:26:12Z\u0022 title=\u002206/03/2017 09:26  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 3, 2017\u003C/time\u003E by AdmiralTigerclaw**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2017-06-03T09:30:53Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, AdmiralTigerclaw said:\n\u003E \n\u003E \n\u003E EDIT: @blackrack\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Would the shaders get modified in-flight from say, a day/night transition?  The problem only really seemed to start sliding into place after my flight passed the sunset terminator.\n\u003E \n\nNo they don\u0027t get changed. What could also help is to note the GPU usage and the CPU usage when this happens and compare it to when you just launched."},{"CreatedByName":"SkyKaptn","CreatedById":153990,"CreatedDateTime":"2017-06-03T11:24:39Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, AdmiralTigerclaw said:\n\u003E \n\u003E \n\u003E Is there anyone getting a gradual slowdown from extended time (several hours) spent in a single scene instance?\n\u003E \n\nYes, I reported this earlier. I narrowed it down to scatterer. However, I have not tried this in 0.0300. My findings were done with 1.2.2 and scatterer 0.0256 (I believe...newest stable anyway) being the *only mod installed*. The gradual slowdown started to appear after just 15-20 minutes. After a circumnavigation things were a slideshow on a 120fps capable rig. This being said, I know others who were not affected.   \n\n-Running DX9, 16GB RAM, GTX1080, i7. My CPU and GPU usage were pretty much just idle at 25% ish and nothing noticeable in logs."},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2017-06-03T13:13:05Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, AdmiralTigerclaw said:\n\u003E \n\u003E \n\u003E Either way, I\u0027m asking if anyone here has witnessed a problem of my description before, so I can help narrow down what actually causes it.  Then we can fix it instead of asking mom to kiss the owie every time.  I\u0027m a data point.  I\u0027m checking for additional data points from scatterer users.\n\u003E \n\nI just had this happen to me for the first time the other day, but it happened on a mission that lasted no longer than others I\u0027ve flown in my Cessna-like aircraft. By the end of a flight just ~1.5hrs in length my clock was down to like 4s real time for every 1s game time. No obvious issues in the log. The flight prior to that I had nearly 3hrs on the mission clock but performance was just as good as when I started and it also was flown around \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E the same way this slowdown flight was flown. The only thing I changed since then was to install the back-ported newest version of Kopernicus. I also have an issue where when I save a named quicksave (Alt\u002BF5) the camera switches to a hullcam view and if I Backspace out sometimes the camera gets screwed up and I can\u0027t zoom anymore in the regular view, or this time when I switched back to the hullcam views I was looking inside my aircraft parts.\n\nSo yea, that\u0027s all the data I have myself on an issue that sounds similar to yours. I did not have Scatterer installed during either of these flights"},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-06-03T15:07:29Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, SkyKaptn said:\n\u003E \n\u003E \n\u003E Yes, I reported this earlier. I narrowed it down to scatterer. However, I have not tried this in 0.0300. My findings were done with 1.2.2 and scatterer 0.0256 (I believe...newest stable anyway) being the *only mod installed*. The gradual slowdown started to appear after just 15-20 minutes. After a circumnavigation things were a slideshow on a 120fps capable rig. This being said, I know others who were not affected.   \n\u003E \n\u003E -Running DX9, 16GB RAM, GTX1080, i7. My CPU and GPU usage were pretty much just idle at 25% ish and nothing noticeable in logs.\n\u003E \n\nHappens to me. I just got home after a day out to find KSP still open at \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E and running at a noticeably lower speed.\n\nI7 4790k 4.0GHz\n\nAsus 1080 Strix (GTX 1080) GPU\n\n16GB ram\n\nHowever some streamers I watch have also noticed this slowdown, as they usually restart ksp halfway through.\n\n**Edited \u003Ctime datetime=\u00222017-06-03T15:08:08Z\u0022 title=\u002206/03/2017 03:08  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 3, 2017\u003C/time\u003E by Gameslinx**"},{"CreatedByName":"AdmiralTigerclaw","CreatedById":92104,"CreatedDateTime":"2017-06-03T15:14:26Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, SkyKaptn said:\n\u003E \n\u003E \n\u003E Yes, I reported this earlier. I narrowed it down to scatterer. However, I have not tried this in 0.0300. My findings were done with 1.2.2 and scatterer 0.0256 (I believe...newest stable anyway) being the *only mod installed*. The gradual slowdown started to appear after just 15-20 minutes. After a circumnavigation things were a slideshow on a 120fps capable rig. This being said, I know others who were not affected.   \n\u003E \n\u003E -Running DX9, 16GB RAM, GTX1080, i7. My CPU and GPU usage were pretty much just idle at 25% ish and nothing noticeable in logs.\n\u003E \n\nHmmm....  I wonder if something in the NVIDIA drivers doesn\u0027t like Scatterer.  I\u0027m running a much older GEForce 780, but it runs smooth for most everything.\n\nI\u0027ve got a log for my GFX card now after running a test for four hours idling in the space center.  I have a noticeable slowdown that cleared up when I loaded a vehicle, but looking through the logs, I spot nothing unusual in terms of expecting it to get cluttered over time.  If anything, the video card spun down into more of an idle state over time.\n\nAlmost makes me wonder if the problem is the card is somehow thinking its idle and spooling down, and the slowdown is the card processing the video data in an idle state.  With the scene loaded and on screen, I see no reason for it to just... stop.\n\nEDIT: I just went into my NVIDIA settings and found \u0027Power Management Mode\u0027 which was set to \u0027optimal power\u0027.  I\u0027m going to run a test with that set to \u0027Prefer Maximum Performance\u0027 and see if that stays running smooth after a few hours.\n\n**Edited \u003Ctime datetime=\u00222017-06-03T15:22:28Z\u0022 title=\u002206/03/2017 03:22  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 3, 2017\u003C/time\u003E by AdmiralTigerclaw**\n  \nThought."},{"CreatedByName":"Gameslinx","CreatedById":144828,"CreatedDateTime":"2017-06-03T16:38:54Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, AdmiralTigerclaw said:\n\u003E \n\u003E \n\u003E I\u0027m going to run a test with that set to \u0027Prefer Maximum Performance\u0027 and see if that stays running smooth after a few hours.\n\u003E \n\nDoesn\u0027t seem to make a difference for me, it\u0027s always been on PMP in my driver manager"},{"CreatedByName":"AdmiralTigerclaw","CreatedById":92104,"CreatedDateTime":"2017-06-03T17:29:31Z","Content":"\u003E \n\u003E \n\u003E 36 minutes ago, Gameslinx said:\n\u003E \n\u003E \n\u003E Doesn\u0027t seem to make a difference for me, it\u0027s always been on PMP in my driver manager\n\u003E \n\nI went a ahead and concluded my test over here.  I started to notice the slowdown kicking in, so that verifies it\u0027s not simply the settings on the card from at least two points now.\n\nI\u0027m running another test, having pulled \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E and Scatterer out.  I still have Kopernicus installed (I have it plugged in so I can set Kerbin\u0027s Atmosphere to an earthlike altitude scale.  Makes aircraft altitude performance easier to track).  So far, the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E scene is still going smooth.  Even if midday is stuck as black as night.  (Probably my rescale dicking with things)."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2017-06-03T19:39:58Z","Content":"\u003E \n\u003E \n\u003E On 6/1/2017 at 1:44 PM, Avera9eJoe said:\n\u003E \n\u003E \n\u003E There\u0027s also an unrelated \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E-Scatterer integration bug I found were cloud layers and terminators change color correctly but the volumetric particles stay solid white but that\u0027s not related to Layer2D so I\u0027ll chat about that later on I think\n\u003E \n\nI found out what this is - I was using your improved water pre-release and it seems that volumetric particles don\u0027t shift color at the terminators in the pre-release. The cloud texture does but not the volumetric particles. I don\u0027t know if you\u0027re aware or not but I thought it was worth a mention - \n\n\u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026module=system\u0026controller=embed\u0026url=http://imgur.com/a/4SB9o\u0022 style=\u0022height:482px;\u0022\u003E\u003C/iframe\u003E"}]}