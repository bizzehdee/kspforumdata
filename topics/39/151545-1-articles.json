{"TopicId":151545,"ForumId":39,"TopicTitle":"Control panel, ALT combination keys","CreatedByName":"Mopikel","CreatedById":171235,"CreatedDateTime":"2016-11-05T11:02:28Z","PageNum":1,"Articles":[{"CreatedByName":"Mopikel","CreatedById":171235,"CreatedDateTime":"2016-11-05T11:02:28Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nYesterday, I have just finished programming my Arduino Leonardo card to make my control panel\u00A0send ALT combination\u00A0keys to make it easier to avoid conflicts with other keys. Unfortunately, it doesn\u0027t work on KSP. It detects \u0022left alt\u0022 then \u0022numpad [number]\u0022 and once again \u0022left alt\u0022.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, I just wanted to know if there is a trick or an add-on that make KSP able to get ALT combinations.\n\u003C/p\u003E\n\u003Cp\u003E\nRegards,\n\u003C/p\u003E\n\u003Cp\u003E\nMopikel\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.noelshack.com/2016-44-1478343467-20161105-114444.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u00221478343467-20161105-114444.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://image.noelshack.com/minis/2016/44/1478343467-20161105-114444.png\u0022\u003E\u003C/a\u003E\u003Ca href=\u0022http://www.noelshack.com/2016-44-1478343468-20161105-114502.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u00A0\u00A0 \u00A0 \u00A0 \u00A0\u003Cimg alt=\u00221478343468-20161105-114502.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://image.noelshack.com/minis/2016/44/1478343468-20161105-114502.png\u0022\u003E\u003C/a\u003E\u003Ca href=\u0022http://www.noelshack.com/2016-44-1478343464-program.png\u0022 rel=\u0022external nofollow\u0022\u003E \u00A0 \u00A0 \u00A0\u00A0\u003Cimg alt=\u00221478343464-program.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://image.noelshack.com/minis/2016/44/1478343464-program.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-05T11:05:56Z\u0022 title=\u002211/05/2016 11:05  AM\u0022 data-short=\u00227 yr\u0022\u003ENovember 5, 2016\u003C/time\u003E by Mopikel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2016-11-06T11:23:16Z","Content":"\n\u003Cp\u003E\nHi, and welcome to the forum.\n\u003C/p\u003E\n\u003Cp\u003E\nWe\u0027d love to hear more about your panel, there is a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/60620-custom-hardware-simpit-repository-for-people-who-take-ksp-a-little-too-far/\u0022 rel=\u0022\u0022\u003Ethread\u003C/a\u003E in the Fan Works section (or make your own dedicated thread). Secondly, are you sure it is a KSP problem? Do you use code like the one mentioned \u003Ca href=\u0022https://www.arduino.cc/en/Reference/KeyboardPress\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E to send a combination of keypresses? I do not use keypress emulation myself, but I think that you send the keys separately with your individual Keyboard.release instead of the final Keyboard.releaseAll(). If that did not help, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022108057\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0022 rel=\u0022\u0022\u003E@Antipaten\u003C/a\u003E use a Leonardos as well, and might know a solution to the issue.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-06T11:27:24Z\u0022 title=\u002211/06/2016 11:27  AM\u0022 data-short=\u00227 yr\u0022\u003ENovember 6, 2016\u003C/time\u003E by Freshmeat\u003C/strong\u003E\n\u003Cbr\u003EDiscovered the code in pic 3.\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2016-11-06T12:41:57Z","Content":"\n\u003Cp\u003E\nAt a glance, your Arduino code seems to be doing what you expect. But have you confirmed that it\u0027s sending working alt-codes by testing it in a text editor or similar?\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t play KSP in Windows, so don\u0027t really have much helpful advice. But is Unity even able to use an alt-code combo as a keypress? My gut feeling is that it just plain won\u0027t work (and can\u0027t work). But I\u0027d love to be proven wrong - what happens when you try to map a command to an alt-code?\n\u003C/p\u003E\n"},{"CreatedByName":"Antipaten","CreatedById":108057,"CreatedDateTime":"2016-11-06T12:56:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222840578\u0022 data-ipsquote-contentid=\u0022151545\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478431396\u0022 data-ipsquote-userid=\u0022111048\u0022 data-ipsquote-username=\u0022Freshmeat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Freshmeat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, and welcome to the forum.\n\u003C/p\u003E\n\u003Cp\u003E\nWe\u0027d love to hear more about your panel, there is a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/60620-custom-hardware-simpit-repository-for-people-who-take-ksp-a-little-too-far/\u0022 rel=\u0022\u0022\u003Ethread\u003C/a\u003E in the Fan Works section (or make your own dedicated thread). Secondly, are you sure it is a KSP problem? Do you use code like the one mentioned \u003Ca href=\u0022https://www.arduino.cc/en/Reference/KeyboardPress\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E to send a combination of keypresses? I do not use keypress emulation myself, but I think that you send the keys separately with your individual Keyboard.release instead of the final Keyboard.releaseAll(). If that did not help, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022108057\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0022 rel=\u0022\u0022\u003E@Antipaten\u003C/a\u003E use a Leonardos as well, and might know a solution to the issue.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSP is problematic in that way. After days of trying to get it to accept different combinations of ctrl, alt and shift modifiers I finally gave up on trying to use keyboard commands. The approach also added the problem of my controller sending commands that other programs would try to interpret if they inadvertently was in focus when I threw a switch.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I finally did was to emulate a joystick with 7 axes and 32 buttons and map most of the controls to a joystick button or axis. It looks like the most promising solution so far. For everything that cannot be mapped to a joystick i plan to use the kRPC mod. I tried using the Action Groups Extended mod for a while, but it drove me crazy having to map all those action groups, not only every time I built a new roscket, but every time Windows decided it would re-enumerate my joystick to a new ID (which happens fairly often after recompiling the Arduino software and every time I make changes to the USB HID definition).\n\u003C/p\u003E\n"},{"CreatedByName":"Mopikel","CreatedById":171235,"CreatedDateTime":"2016-11-06T14:12:39Z","Content":"\n\u003Cp\u003E\nHi everyone, thanks for answering.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried on a text editor and it\u0027s works. KSP doesn\u0027t get key sequences, like I said, when I try to map a key, it detects the alt key, then the numpad key, and once again the alt key. I\u0027ll try with scan codes, maybe it will work.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd could I or someone move this topic to the Fan Work section?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-06T14:45:36Z\u0022 title=\u002211/06/2016 02:45  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 6, 2016\u003C/time\u003E by Mopikel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-11-06T16:13:49Z","Content":"\n\u003Cp\u003E\nMoved as requested \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mopikel","CreatedById":171235,"CreatedDateTime":"2016-11-06T22:37:29Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/16426-sal_vager/\u0026amp;do=hovercard\u0022 data-mentionid=\u002216426\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/16426-sal_vager/\u0022 rel=\u0022\u0022\u003E@sal_vager\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Mopikel","CreatedById":171235,"CreatedDateTime":"2016-11-11T23:15:00Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nAfter some tests, I FINALLY \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E discovered that ksp doesn\u0027t know keys that aren\u0027t on a classical keyboard like F24. I searched for a file that lists all the KSP-known keyboard keys but I can\u0027t find it. Maybe it doesn\u0027t exist. I hope that one of our great member like \u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022111048\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0022 rel=\u0022\u0022\u003E@Freshmeat\u003C/a\u003E\u00A0 , \u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003Eor \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022108057\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0022 rel=\u0022\u0022\u003E@Antipaten\u003C/a\u003E\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E could help me because I have 42 switches (OMG 42, THE ANSWER TO THE LIFE ANS THE UNIVERSE xD) on my panel but I don\u0027t have 42 free keys on my keyboard.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Antipaten","CreatedById":108057,"CreatedDateTime":"2016-11-11T23:40:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222847452\u0022 data-ipsquote-contentid=\u0022151545\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478906100\u0022 data-ipsquote-userid=\u0022171235\u0022 data-ipsquote-username=\u0022Mopikel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, Mopikel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nAfter some tests, I FINALLY \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E discovered that ksp doesn\u0027t know keys that aren\u0027t on a classical keyboard like F24. I searched for a file that lists all the KSP-known keyboard keys but I can\u0027t find it. Maybe it doesn\u0027t exist. I hope that one of our great member like \u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022111048\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/111048-freshmeat/\u0022 rel=\u0022\u0022\u003E@Freshmeat\u003C/a\u003E\u00A0 , \u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003Eor \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022108057\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0022 rel=\u0022\u0022\u003E@Antipaten\u003C/a\u003E\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E could help me because I have 42 switches (OMG 42, THE ANSWER TO THE LIFE ANS THE UNIVERSE xD) on my panel but I don\u0027t have 42 free keys on my keyboard.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI had the same problem which is why I decided to go for joystick emulation on the Arduino instead. That way I can emulate 32 buttons using this Joystick library: \u003Ca href=\u0022https://github.com/MHeironimus/ArduinoJoystickLibrary\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MHeironimus/ArduinoJoystickLibrary\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you need more buttons, you may add another joystick device to the Arduino USB HID definition, which has proven to be a bit flaky, or you add another arduino and let it emulate another joystick, which work like a charm. Just map the joystick buttons instead of keyboard keys and it works like a charm. A note however is that if you use AGextended you can only map 20 buttons (if I remember correctly) from each joystick so in order to map 42 keys you may have to add a third Arduino.\n\u003C/p\u003E\n"},{"CreatedByName":"Mopikel","CreatedById":171235,"CreatedDateTime":"2016-11-12T13:10:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222847485\u0022 data-ipsquote-contentid=\u0022151545\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478907645\u0022 data-ipsquote-userid=\u0022108057\u0022 data-ipsquote-username=\u0022Antipaten\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Antipaten said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI had the same problem which is why I decided to go for joystick emulation on the Arduino instead. That way I can emulate 32 buttons using this Joystick library: \u003Ca href=\u0022https://github.com/MHeironimus/ArduinoJoystickLibrary\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MHeironimus/ArduinoJoystickLibrary\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you need more buttons, you may add another joystick device to the Arduino USB HID definition, which has proven to be a bit flaky, or you add another arduino and let it emulate another joystick, which work like a charm. Just map the joystick buttons instead of keyboard keys and it works like a charm. A note however is that if you use AGextended you can only map 20 buttons (if I remember correctly) from each joystick so in order to map 42 keys you may have to add a third Arduino.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere\u0027s a way to emulate 48 buttons : I\u0027m using\u00A0the Joystick 3 library from the github link. This library can emulate 3 joysticks with X and Y axis and 16 buttons!\n\u003C/p\u003E\n\u003Cp\u003E\nThanks at all for The link \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mopikel","CreatedById":171235,"CreatedDateTime":"2016-11-12T16:38:42Z","Content":"\n\u003Cp\u003E\nHi again!\n\u003C/p\u003E\n\u003Cp\u003E\nAfter some successful flights, I\u0027m happy to introduce you to my control panel!!! \u003Ca href=\u0022http://www.noelshack.com/2016-45-1478967893-20161112-172322-1.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://image.noelshack.com/minis/2016/45/1478967893-20161112-172322-1.png\u0022 class=\u0022ipsImage\u0022 alt=\u00221478967893-20161112-172322-1.png\u0022\u003E\u003C/a\u003E I just finished the code and it\u0027s working very well. Later, I think I\u0027ll try\u00A0to add a potentiometer to control the thrust and a joystick for docking maneuvers\u00A0but for now, I very happy. I think I will also make a video of it for my YouTube channel ( \u003Ca href=\u0022https://www.youtube.com/channel/UChQUpu4H-LYlCX25abffzXw\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.youtube.com/channel/UChQUpu4H-LYlCX25abffzXw\u003C/a\u003E\u00A0in French \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E) and try to continue a KSP series with it.\n\u003C/p\u003E\n"}]}