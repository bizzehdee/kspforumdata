{"TopicId":109163,"ForumId":39,"TopicTitle":"Arduino \u002B KSP_Serial_IO : \u0022Odysseus\u0022","CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-14T08:21:07Z","PageNum":1,"Articles":[{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-14T08:21:07Z","Content":"**Current Progress Shot**\n\n![Label-Full.png](http://pfpfree.net/images/ksp/july/Label-Full.png)\n\n**List of posted updates and developments**\n\n- [Mid-May (2015) update - Annunciator Panel mount, Shift-register board, and dual-coloured LED panel mounting](https://forum.kerbalspaceprogram.com/index.php?/topic/109163-arduino-ksp_serial_io-odysseus/\u0026do=findComment\u0026comment=1940850)\n\n- [Mid-June (2015) update - Completed 3D printing upper panels with black spool](https://forum.kerbalspaceprogram.com/index.php?/topic/109163-arduino-ksp_serial_io-odysseus/\u0026do=findComment\u0026comment=2013764)\n\n- [Late June / Early July (2015) update - completed testing of LCD \u002B 7 Segment displays, finished wiring, began writing the code / testing \\[lots of internals stuff, SPI issues\\]](https://forum.kerbalspaceprogram.com/index.php?/topic/109163-arduino-ksp_serial_io-odysseus/\u0026do=findComment\u0026comment=2052789)\n\n- [Mid July (2015) update - Labeling the panel \u002B Annunciator](https://forum.kerbalspaceprogram.com/index.php?/topic/109163-arduino-ksp_serial_io-odysseus/\u0026do=findComment\u0026comment=2065006)\n\n- [Mid July (2015) update #2 - Master Alarm system](https://forum.kerbalspaceprogram.com/index.php?/topic/109163-arduino-ksp_serial_io-odysseus/\u0026do=findComment\u0026comment=2065082)\n\n**Arduino Code / sketch samples**\n\nHere you will find some sample code that will hopefully help others out with problems they\u0027re having, or implementing certain features without getting to the point of wanting to put your head through a wall ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\n**Previous Development Photos**\n\n\u003E \n\u003E \n\u003E ![console_black_printed.png](http://pfpfree.net/images/ksp/console_black_printed.png)\n\u003E \n\u003E \n\u003E \n\u003E ![console_current_may.jpg](http://pfpfree.net/images/ksp/console_current_may.jpg)\n\u003E \n\u003E \n\u003E \n\u003E ![Lower_panel.png](http://pfpfree.net/images/ksp/Lower_panel.png)\n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\n**Credit**\n\nI have to give much credit to\n\n[zitronen](https://forum.kerbalspaceprogram.com/members/11850-zitronen)- For the work he\u0027s put into creating the plugin that many of us are using to create these controllers, and the support given not just to the plugin, but also with general arduino problems / queries! Thank you!\n\n[T.A.P.O.R](https://forum.kerbalspaceprogram.com/members/141261-T-A-P-O-R), who personally helped me to get my head around the 7-segment LED screens, along with some additional insights shared. Thanks heaps!\n\n[Freshmeat](https://forum.kerbalspaceprogram.com/members/114111-Freshmeat), \u0026 [stibbons](https://forum.kerbalspaceprogram.com/members/59577-stibbons), who often (and regularly) have something incredibly useful to add - or assist when the going gets tough, and nothing on google makes sense -- Thank you! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nAlso, credit to [AmeliaEatyaHeart](https://forum.kerbalspaceprogram.com/members/118857-AmeliaEatyaheart) for creating the LedControlFunctions \u0027function\u0027, and for various insights shared in a variety of threads; thank you.\n\n[Mulbin](https://forum.kerbalspaceprogram.com/members/57125-Mulbin) \u0026 [Marzubus](https://forum.kerbalspaceprogram.com/members/69812-marzubus) - whose own hardware projects inspired me to start my own.\n\nOutside of these two, every other hardware project has provided guidance / inspiration / ideas of some kind. So thank you to everyone in this community sharing their own ideas, interpretations, and struggles. We all benefit from them! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Specific Feature Credit**\n\nWhilst reading different forum threads, various members have commented or made suggestions of elements / features that they want to include in their own projects; some of these I quite like, and wish to incorporate too. I shall provide credit here - with a link to the post - in acknowledgement.\n\nMulbin - [dual-coloured LEDs to display more information about the state of the craft](https://forum.kerbalspaceprogram.com/threads/66742-Custom-hardware-control-switch-panel-simpit-WIP?p=1707362\u0026viewfull=1#post1707362).\n\nAmeliaEatyaHeart - [Flickering panel lights when low power](https://forum.kerbalspaceprogram.com/threads/66763-Custom-hardware-simpit-repository-For-people-who-take-KSP-a-little-too-far?p=1539529\u0026viewfull=1#post1539529)\n\n\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n\n**Background \u0026 Long-term project**\n\nI would love to eventually create a fully immersive simulator, which would have two components: A mission Control, with projector and a few consoles, and a \u0027shuttle\u0027 / cockpit.\n\nThe two would be separated by a wall, of some kind - and then there would be communication with headsets, which would increase delay to simulate real-life distance delay.\n\n![layout.png](http://pfpfree.net/images/ksp/layout.png)\n\nNo idea if I\u0027ll ever get there, but a guy can dream ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nSo in the mean time, I will work on a smaller-scale personal physical console for use whilst playing KSP.\n\nI\u0027m still debating creating joysticks - as my Logitech proves to be ridiculously useful for that stuff; so why re-invent the wheel?\n\n**Build, Parts, Plans \u0026 Ideas**\n\n\u003E \n\u003E \n\u003E \n\u003E I originally wanted to go down the route of Marzubus - with the pre-formed console; and I picked up a couple boxes from an electronic surplus supplier (Anyone in Melbourne, Australia - hit me up if you want their details, they have heaps of awesome stuff ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) )\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And I was going to put a few of these boxes \u0027together\u0027 --\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![original_case.jpg](http://pfpfree.net/images/ksp/original_case.jpg)\n\u003E \n\u003E \n\u003E \n\u003E But then I found the same Retex box that Marzubus used, and I figured this would be neater. I also plan on having a secondary \u0027panel\u0027 with various displays of data / information that doesn\u0027t fit on this panel.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I also looked into a few switch-guard options.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![handle.jpg](http://pfpfree.net/images/ksp/handle.jpg)\n\u003E \n\u003E \n\u003E \n\u003E The two \u0027NASA style\u0027 switch guards are from a USA-based seller, not the cheapest, but I have plans to try create something similar using a 3D printer.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Next is a 2RU rack handle from some servers I acquired via ebay. The last is chrome handles for a kitchen. I\u0027ll probably use that for the full-sized console.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E One of the things I really wanted to have is a \u0027Master Alarm\u0027 button / light / tone.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![Master_alarm.jpg](http://pfpfree.net/images/ksp/Master_alarm.jpg)![abort.jpg](http://pfpfree.net/images/ksp/abort.jpg)\n\u003E \n\u003E \n\u003E \n\u003E I already have the arduino code worked out for the right \u0027tone\u0027 of the alarm (going from Apollo 13 film); though if you change speakers from the little piezo speakers you get in most arduino kit, the tone changes.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The \u0027abort\u0027 button has a flip-up cover on it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E One of the other things I really wanted was an \u0027[Annunciator Pane](https://en.wikipedia.org/wiki/Annunciator_panel)l\u0027 - which was used in the Apollo Command Module -\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![apollo13_annunciator_panel.png](http://pfpfree.net/images/ksp/apollo13_annunciator_panel.png)\n\u003E \n\u003E \n\u003E \n\u003E [image from *Apollo 13*, \u00A91995 Universal Pictures]\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I found these little lights in the electronics surplus store, and you can also find them on ebay [see link below for parts link]\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E They allow the front to come off, so you can place some label between.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![annunciator_lights.jpg](http://pfpfree.net/images/ksp/annunciator_lights.jpg)\n\u003E \n\u003E \n\u003E \n\u003E And lit up --\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![annunciator_lights_on.jpg](http://pfpfree.net/images/ksp/annunciator_lights_on.jpg)\n\u003E \n\u003E \n\u003E \n\u003E I will create decals and label them accordingly - once I\u0027ve worked out what I want them to be triggered by ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\u003E \n\u003E \n\u003E \n\u003E I plan on placing them on the top panel, to the right, (similar to where it is sitting in the shot below) :\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![front_on.jpg](http://pfpfree.net/images/ksp/front_on.jpg)\n\u003E \n\u003E \n\u003E \n\u003E As for the handles, I will probably follow a layout similar to this initial plan:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![handle_placement.jpg](http://pfpfree.net/images/ksp/handle_placement.jpg)\n\u003E\n\n**eBay Parts list**\n\nMost of the parts I got from ebay - so here\u0027s a link to the different parts in case people want any:\n\n*I tend to find the cheapest version of any particular part; but sellers fluctuate their price, so be sure to \u0027shop around\u0027 on ebay* ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nFlat-splayed toggle switch - [Link](http://www.ebay.com.au/itm/301413239491?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nLED Panel-mount / bezel - [Link](http://www.ebay.com.au/itm/281368397191?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nAnnunciator LED lights - Link\n\nToggle-switch Guards - [Type 1 (1/4\u0022 bushing) Link](http://www.ebay.com.au/itm/180639619549?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT) **|** [Type 2 (15/32\u0022 / 12mm bushing) Link](http://www.ebay.com.au/itm/180691383314?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nSainSmart Slider - [Link](http://www.ebay.com.au/itm/380946421558?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nMomentary round push-button switch - [Link](http://www.ebay.com.au/itm/301416922498?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nDual-colour LED\u0027s (Red / Green) - [Link](http://www.ebay.com.au/itm/301433820488?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\n8-Digit, 7 segment display - [Link](http://www.ebay.com.au/itm/221359928644?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nYellow/Blue oLED displays (0.96 inch, 128x64) - [Link](http://www.ebay.com.au/itm/371272076651?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nTFT LCD displays (1.8 inch, 128x160) - [Link](http://www.ebay.com.au/itm/311276379307?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT)\n\nAnnunciator Panel LEDs (Yellow) - [Link](http://www.ebay.com.au/itm/1-LED-Light-Yellow-Chip-4-Pin-Socket-Square-Lamp-Bright-Clear-Light-ROHM-/190983665212?\u0026_trksid=p2056016.l4276)\n\n**Edited \u003Ctime datetime=\u00222016-04-22T22:14:14Z\u0022 title=\u002204/22/2016 10:14  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 22, 2016\u003C/time\u003E by Sputnix**"},{"CreatedByName":"lawnmowerlatte","CreatedById":112768,"CreatedDateTime":"2015-05-14T13:42:56Z","Content":"Looks great, can\u0027t wait to see more."},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-15T03:44:21Z","Content":"\u003E \n\u003E Looks great, can\u0027t wait to see more.\n\nThanks! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI\u0027ve just received some more of the parts from ebay (dual LEDs and the 7-segment displays) - just waiting on the two oLED displays;\n\nI\u0027ve got to try work out how I\u0027m going to put all these into this enclosure - along with how I want to use them.\n\nIt\u0027s a constant thought / evaluation process. Because I\u0027m limited with the fact that I can only \u0027cut once\u0027, I really have to consider what I want to do.\n\n[Although, I could probably replace the aluminium with a 3mm piece of ply or mdf, but it wouldn\u0027t look quite as nice - even if I painted it. \n\nThat was the original plans with the console boxes I got that didn\u0027t have a cover-plate]"},{"CreatedByName":"lawnmowerlatte","CreatedById":112768,"CreatedDateTime":"2015-05-15T13:05:18Z","Content":"\u003E \n\u003E Because I\u0027m limited with the fact that I can only \u0027cut once\u0027, I really have to consider what I want to do.\n\u003E [Although, I could probably replace the aluminium with a 3mm piece of ply or mdf, but it wouldn\u0027t look quite as nice - even if I painted it. \n\u003E \n\u003E That was the original plans with the console boxes I got that didn\u0027t have a cover-plate]\n\nWhy not use ply or MDF as a placeholder. That way you can experiment with placement and such before committing to the aluminum."},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-16T11:49:06Z","Content":"\u003E \n\u003E Why not use ply or MDF as a placeholder. That way you can experiment with placement and such before committing to the aluminum.\n\nPrimarily because I think and over-think.\n\nThis way I make a decision, run with it, and it\u0027s done! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI\u0027ll most likely have to change the top panel to mdf / ply - because the little rotating blade tool I have barely worked for the slider cut-out.\n\nIt will be easier to use more traditional wood-work tools for the annunciator panel and the 8-digit 7 segment displays."},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-05-17T17:16:32Z","Content":"That is a sweet console you have there. Very well thought out aesthetically. I look forward to see how you progress."},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-18T05:36:38Z","Content":"\u003E \n\u003E That is a sweet console you have there. Very well thought out aesthetically. I look forward to see how you progress.\n\nThank you ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI was very mindful of adding a \u0027design\u0027 element to it - both to keep it neat and organised, as well as making it look nicer.\n\nPlacing everything within the predefined grid helped that."},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-05-18T07:17:26Z","Content":"Oh yay, a new controller! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Looking great so far."},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-19T08:12:08Z","Content":"\u003E \n\u003E Oh yay, a new controller! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Looking great so far.\n\nThanks ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI\u0027m waiting on an ebay purchase of a few shift-registers which I\u0027ll use to control the lights, and also working out how to create a support for the annunciator panel.\n\nI have access to a 3D printer, so I\u0027m thinking replacing the top Aluminium panel, and doing similar to what [Marzubus did with his joystick / simpit](https://forum.kerbalspaceprogram.com/threads/111724-Psimax-CS40-Telemetric-Joystick).\n\nWould make it a lot quicker, easier, and cleaner. Would still need to paint it - but that\u0027s still better than dealing with cutting out a whole heap of small rectangular cut-outs."},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-05-19T09:30:50Z","Content":"More pics!\n\nNice use of door handles, wish I\u0027d thought of that.\n\nThat supplier of yours wouldn\u0027t be out in Clayton by any chance?\n\n**Edited \u003Ctime datetime=\u00222015-05-19T10:33:07Z\u0022 title=\u002205/19/2015 10:33  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 19, 2015\u003C/time\u003E by T.A.P.O.R.**"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-19T12:16:34Z","Content":"\u003E \n\u003E More pics!\n\u003E Nice use of door handles, wish I\u0027d thought of that.\n\u003E \n\u003E That supplier of yours wouldn\u0027t be out in Clayton by any chance?\n\nI\u0027m actually using the 2RU server handles on the project itself ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) - But thank you!\n\nDoor handles are for a future \u0027console\u0027 project - [much like they used here](http://cache.boston.com/resize/bonzai-fba/Globe_Photo/2009/06/02/1243997505_3859/539w.jpg), on the sides of the consoles (mostly the CRT tubes, no doubt to easily place and remove as necessary).\n\nI spent probably about a month researching and looking into how I can use alternate gear to replicate / mimic period-stylings.\n\nAs for the supplier - yes, out in Clayton ; [Rockby Electronics](https://www.rockby.com.au/Index2012.cfm). They have a \u0027surplus\u0027 type store, and a proper electronic front too - so they usually have what you need.\n\nThey had the Retex boxes in the main show-room, in a corner. Almost missed it completely.\n\nHard to find places like them these days. Still got one out in Bayswater - [Truscotts Electronic World](http://www.electronicworld.com.au/); but I find Rockby is better laid out, and has better stuff.\n\nHowever, you will find more older / vintage stuff you can strip for parts (or even just boxes of old stuff) at Truscotts. It just depends what you\u0027re after ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nYou know of any other places for parts?\n\n**Edited \u003Ctime datetime=\u00222015-05-19T12:21:29Z\u0022 title=\u002205/19/2015 12:21  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 19, 2015\u003C/time\u003E by Sputnix**"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-05-19T21:00:50Z","Content":"\u003E \n\u003E I\u0027m actually using the 2RU server handles on the project itself ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) - But thank you!\n\u003E Door handles are for a future \u0027console\u0027 project - [much like they used here](http://cache.boston.com/resize/bonzai-fba/Globe_Photo/2009/06/02/1243997505_3859/539w.jpg), on the sides of the consoles (mostly the CRT tubes, no doubt to easily place and remove as necessary).\n\u003E \n\u003E I spent probably about a month researching and looking into how I can use alternate gear to replicate / mimic period-stylings.\n\u003E \n\u003E As for the supplier - yes, out in Clayton ; [Rockby Electronics](https://www.rockby.com.au/Index2012.cfm). They have a \u0027surplus\u0027 type store, and a proper electronic front too - so they usually have what you need.\n\u003E \n\u003E They had the Retex boxes in the main show-room, in a corner. Almost missed it completely.\n\u003E \n\u003E Hard to find places like them these days. Still got one out in Bayswater - [Truscotts Electronic World](http://www.electronicworld.com.au/); but I find Rockby is better laid out, and has better stuff.\n\u003E \n\u003E However, you will find more older / vintage stuff you can strip for parts (or even just boxes of old stuff) at Truscotts. It just depends what you\u0027re after ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E \n\u003E You know of any other places for parts?\n\nCool, I\u0027d thought that it was Rockby, just because you had so many consoles and at other places I\u0027ve seen them, they\u0027re about 3 x as expensive minimum.\n\nI\u0027ve never been out there though. I really should make the trip some time!\n\nThanks for the tip on Truscotts too ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nAll the other stores that I know of suffer the Australia tax pretty severely."},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-05-20T10:41:21Z","Content":"Tapor demanded an update - so here you are! ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nThere have been two main updates to the project --\n\n**1. Annunciator Panel**\n\nSo I\u0027d been dreading the idea of cutting out 9x rectangles for the annunciator light panel.\n\nWhich is perfect that I recently had access to a 3D printer! [i seriously gotta buy me one of these things!!]\n\nIt took 2x single-cell tests to confirm cut-out and mount size, and then a final print [which worked perfectly first go!].\n\n\u003E \n\u003E Left - cutout was too small; Right - perfect; just had to move the cavity that holds the lamps over a bit to make it more central.\n\u003E \n\u003E ![trial_and_error.jpg](http://pfpfree.net/images/ksp/may/trial_and_error.jpg)![Anunnciator-3dprint_underside.jpg](http://pfpfree.net/images/ksp/may/Anunnciator-3dprint_underside.jpg)![Anunnciator-top.jpg](http://pfpfree.net/images/ksp/may/Anunnciator-top.jpg)![Anunnciator-place.jpg](http://pfpfree.net/images/ksp/may/Anunnciator-place.jpg)\n\u003E \n\u003E Rough placement (with lights being held in place by tape). It will be held there by a prototype / vero board, which will be attached via metal stand-offs to the back of the 3D printed panel.\n\u003E \n\u003E This means I will be following Marzubus\u0027 example of 3D printing panel-mounts (only for the top part, however).\n\u003E \n\u003E \n\n**2. Shift Register Board**\n\nWhile I wait for my shift-register chips to make their way from sunny China to me, I started working on the board that will be controlling it all.\n\nThis will be used to control \\*all\\* the LED lights. Each panel-mounted LED has two \u0027inputs\u0027 (a red and a green, owing to the fact that they\u0027re dual-coloured LEDs).\n\nThen there are 9 Annunciator lights. A master alarm, and an Abort light. Needless to say, I\u0027ve pretty much used all there is from this array of shift-registers ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\n\u003E \n\u003E ![shift_register_board.jpg](http://pfpfree.net/images/ksp/may/shift_register_board.jpg)\n\u003E \n\u003E \n\n**3. Dual-coloured LED housing / panel mount**\n\nMulbin made a [mention of using dual-coloured LEDs](https://forum.kerbalspaceprogram.com/threads/66742-Custom-hardware-control-switch-panel-simpit-WIP?p=1707362\u0026viewfull=1#post1707362) for enhanced lighting / information. I really liked this idea (as well as his suggested use-case) so I\u0027m following it ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nHowever, these LEDs have 3x legs (1x cathode, 2x anodes) [i think I got that in the right order].\n\nBasically a common \u0027ground\u0027 / \u0027negative\u0027 that sits in the middle, and then each colours respective \u0027positive\u0027 leg.\n\nMost panel-mounts for LEDs only have 2x holes, so I had to modify the ones I got on ebay to suit.\n\n\u003E \n\u003E ![LED-3.jpg](http://pfpfree.net/images/ksp/may/LED-3.jpg)![LED-1.jpg](http://pfpfree.net/images/ksp/may/LED-1.jpg)![LED-2.jpg](http://pfpfree.net/images/ksp/may/LED-2.jpg)![LED-4.jpg](http://pfpfree.net/images/ksp/may/LED-4.jpg)\n\u003E \n\u003E And the underside (which I\u0027m still working out how to wire up **neatly**) \n\u003E \n\u003E ![LED-Underside.jpg](http://pfpfree.net/images/ksp/may/LED-Underside.jpg)\n\u003E \n\u003E \n\nHopefully I\u0027ll be able to share some more soon! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-20T11:30:07Z\u0022 title=\u002205/20/2015 11:30  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 20, 2015\u003C/time\u003E by Sputnix**"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-06-19T13:46:25Z","Content":"Just a small update.\n\nI had some extended time with the 3D printer, and some black spool -- so I thought I\u0027d make the most of it, and print out all the top panel in black.\n\nThe ultimate goal is to prime it (so as to fill up the little spool-grooves) and then spray it a grey-blue colour, similar to what they had in the Apollo ....-pits. I believe it was an insulation coating on the metal surface to prevent shorting. Either case, that\u0027s one of those \u0027nice to have\u0027 features (when / if I get around to it).\n\nI\u0027ve just got to finish running wires to the different parts of the panels, and then start working on the coding; once I\u0027ve worked the code out, working with KSP\\_serial\\_IO, I will post the results here so that anybody else can basically use it for their own endeavours. \n\n![console_black_printed.png](http://pfpfree.net/images/ksp/console_black_printed.png)"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-06-20T07:30:18Z","Content":"Finished the Lower Panel today.\n\nI sanded out some of the damage I inflicted around the slider -- and in the process gave the whole panel a \u0027brushed aluminium\u0027 look.\n\nI\u0027m pretty happy with the look ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Also means it should be better to adhere decal labels to.\n\n![Lower_panel.png](http://pfpfree.net/images/ksp/Lower_panel.png)\n\nThe 8 buttons are for - you guessed it - action groups. This is why the Abort is in the same \u0027locality\u0027 - since it\u0027s technically a dedicated \u0027action\u0027.\n\nFlight control switches to the right (SAS / RCS / Stage)\n\nWith miscellaneous switches underneath (Lights / Gear / Brakes) \n\nThrottle slider far right.\n\n**Edited \u003Ctime datetime=\u00222015-06-20T07:33:41Z\u0022 title=\u002206/20/2015 07:33  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 20, 2015\u003C/time\u003E by Sputnix**"},{"CreatedByName":"lawnmowerlatte","CreatedById":112768,"CreatedDateTime":"2015-06-22T01:11:26Z","Content":"Wow, looking very nice!"},{"CreatedByName":"T.A.P.O.R.","CreatedById":137748,"CreatedDateTime":"2015-06-25T09:54:17Z","Content":"Hey, nice progress!\n\nWish I had time to play :\u0027("},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-06-29T11:37:20Z","Content":"\u003E \n\u003E Wow, looking very nice!\n\n\u003E \n\u003E Hey, nice progress!\n\u003E Wish I had time to play :\u0027(\n\nThanks guys ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI\u0027m in the (un)fortunate position where I\u0027ve currently more free time than I\u0027d like.\n\nSo I\u0027m trying to burn through and get it done while I do have the time / opportunity. \n\nAlso, I\u0027d like to finish it so I can start programming it - and actually using it to \\*play\\* KSP! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Cbrollin","CreatedById":147536,"CreatedDateTime":"2015-07-09T00:31:32Z","Content":"Man. I love your setup. Very cleanly done. I love the handles. I guess I need to make a trip to the hardware store to look at handles and see if I can find something that will work for my setup."},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-09T07:16:09Z","Content":"\u003E \n\u003E Man. I love your setup. Very cleanly done. I love the handles. I guess I need to make a trip to the hardware store to look at handles and see if I can find something that will work for my setup.\n\nThank you ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nYou might be able to salvage around parts from wreckers, junk dealers, or surplus electronics stores.\n\nI found that buying new can be expensive (as it is, I didn\u0027t use my first set of handles - but it did give me some ideas)."},{"CreatedByName":"ThereIs0nly0ne","CreatedById":131703,"CreatedDateTime":"2015-07-09T13:15:40Z","Content":"This looks great! Excellent job."},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-09T13:41:51Z","Content":"It\u0027s been a bit of time since my last update - but it\u0027s been a lot of little, fiddly work.\n\nOne of the main things I was conscious of was trying to keep everything \u0027modular\u0027 - allowing for the whole thing to be taken apart either to do repairs, or \u0027finishing touches\u0027 (such as labels on the lower panel aluminium). So I tried to use header pins, and connectors where possible to allow for this.\n\n\u003E \n\u003E I\u0027ve wired it all up, and the next thing to do is confirm that everything has been wired up properly and communicating with the Arduino as needed.\n\u003E \n\u003E I also solved some SPI problems with 7-segment displays I was having. \n\u003E \n\u003E So, if you\u0027re having SPI issues - try twisting (like they do with twisted pair cable - Cat5e, or telephone cable) the clock and data lines together to eliminate interference / cross talk.\n\u003E \n\u003E \n\n\u003E \n\u003E Although I had started planning and thinking about how to wire up various parts of the board (and in fact, had already mounted most of the switches) I had to mount the Arduino board properly so I could start measuring wire accurately. The side was the easiest - in that the side of the box is straight. Originally I was looking to mount it at the back - but the angle would have been annoying, and wouldn\u0027t have given as nice a finish as I\u0027d like.\n\u003E \n\u003E I also ensured the DC Jack could be accessed, and allow for a variety of sized plugs (different plugs have different sized moulding):\n\u003E \n\u003E ![board_mount.png](http://pfpfree.net/images/ksp/july/board_mount.png)\n\u003E \n\u003E And for reference - the lower aluminium panel, reverse side, with the switches and LEDs mounted --\n\u003E \n\u003E ![rear_board.png](http://pfpfree.net/images/ksp/july/rear_board.png)\n\u003E \n\u003E \n\n\u003E \n\u003E Due to the desire to wire things \u0027modularly\u0027, many of the switches / buttons would work best with spade-plugs. So I got to soldering and crimping (and man is that a tedious task!).\n\u003E \n\u003E I linked all grounds with all sections, so as to *try* minimise the number of cables running around (more on that later) --\n\u003E \n\u003E ![Ground_link.png](http://pfpfree.net/images/ksp/july/Ground_link.png)\n\u003E \n\u003E I got pretty close to hitting the base of the box (due to its slope) -- but I still had a few millimetres of clearance (phew!)\n\u003E \n\u003E ![AG_Btn_clearance.png](http://pfpfree.net/images/ksp/july/AG_Btn_clearance.png)\n\u003E \n\u003E Though this was only really an issue with the Action Group buttons...\n\u003E \n\u003E To try minimise the crazy wires running to the board, I got some \u0027test equipment\u0027 wiring lugs. These would carry the 3.3v rail, 5volt rail, and the ground.\n\u003E \n\u003E They sit at the back of everything - with a single wire going to a pin to connect to the arduino board.\n\u003E \n\u003E ![power_stands.png](http://pfpfree.net/images/ksp/july/power_stands.png)\n\u003E \n\u003E *Sorry for crappy photo. This should give an idea of how the wiring for power works. As well some insight to the rats nest that this is* ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\u003E \n\u003E To try things consistent and easily identifiable, I kept all powered cables the same colour - Green for 3.3v, Yellow for 5v, and Black for Ground.\n\u003E \n\u003E In order to try minimise the \u0027craziness\u0027 going to the Arduino, I employed the wonders of Flex cable. I\u0027m hoping it will be ok - in terms of thickness for sending power to the LEDs. I didn\u0027t do the maths - I just prayed to the gods of electronics: Ohm, Coulomb, and Tesla - that all will be well ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif). I re-purposed one (of my many) floppy-cables, since they are 40 pin, and I had 38 GPIO connectors usable [Pins 22 - 53, with 50 - 53 being used for hardware SPI which I used on the LCD]. I attached a double-strip of header pins to my [Arduino \u0027prototyping shield\u0027](http://www.ebay.com.au/itm/New-MEGA-ProtoShield-Prototype-Shield-V3-Mini-Bread-Board-For-Arduino-/190866411694?pt=LH_DefaultDomain_15\u0026hash=item2c708650ae) that came with my [clone-duino kit](http://www.ebay.com.au/itm/171274068506?_trksid=p2060353.m2749.l2649\u0026ssPageName=STRK%3AMEBIDX%3AIT). Pins PWM 2 - 11 are used to control the lower panel green/red LEDs.\n\u003E \n\u003E Because of the dual-nature of the lower panel LEDs, I put the resistor on the ground [which apparently is the correct way of wiring them]. \n\u003E \n\u003E ![Arduino_board_flex_cable.png](http://pfpfree.net/images/ksp/july/Arduino_board_flex_cable.png)\n\u003E \n\u003E Further to the modular design, I wanted to minimise the cables cluttering up the internal space (haha. I crack myself up! ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif))\n\u003E \n\u003E So I put a small very board in the middle of the lower aluminium panel to wire all things from the aforementioned panel to it, and then have the various flex-cable wires connected to that -\n\u003E \n\u003E ![sub-board.png](http://pfpfree.net/images/ksp/july/sub-board.png)\n\u003E \n\u003E *You can see it in the midst of the mini rat-nest!*\n\u003E \n\u003E \n\n\u003E \n\u003E As the saying goes, \u0022the best laid plans of mice and men often go awry\u0022 - my attempts to keep this thing as neat as possible has basically failed. How apt that the quote involves rodents!\n\u003E \n\u003E [i saw a post today of someone who did similar - using ribbon cable, and of course, I can\u0027t find it now -- anyway, their implementation was much cleaner / neater].\n\u003E \n\u003E Anyway -- here\u0027s the rats nest from various angles --\n\u003E \n\u003E ![rats_nest.png](http://pfpfree.net/images/ksp/july/rats_nest.png)\n\u003E \n\u003E *Upper panel lifted up*\n\u003E \n\u003E ![side_view.png](http://pfpfree.net/images/ksp/july/side_view.png)\n\u003E \n\u003E *Lower aluminium panel separated to see \u0027cable squish\u0027*\n\u003E \n\u003E \n\n\u003E \n\u003E The 7-segment displays I have had header-pins to daisy-chain \u0027easily\u0027. However, because of how I created the mount / brackets, I couldn\u0027t use them the conventional way. I soldered wires to the back of the header-pins solder points.\n\u003E \n\u003E ![7-seg_daisy.png](http://pfpfree.net/images/ksp/july/7-seg_daisy.png)\n\u003E \n\u003E I also created a right-angle type connector the first 7-segment display; This would allow me to connector a cable easier - as the depth of the top of the case would be coming too close, and I didn\u0027t want to put stress on the cables by having them being jammed / crinked against the metal:\n\u003E \n\u003E ![7-seg_connector_1.png](http://pfpfree.net/images/ksp/july/7-seg_connector_1.png)\n\u003E \n\u003E ![7-seg_connector.png](http://pfpfree.net/images/ksp/july/7-seg_connector.png)\n\u003E \n\u003E ![7-seg_on.png](http://pfpfree.net/images/ksp/july/7-seg_on.png)\n\u003E \n\u003E \n\n\u003E \n\u003E Each of these panel lights has 2x LEDs inside - and each one requires its own resistor. I used [a resistor calculator](http://led.linear1.org/1led.wiz) and the datasheet for these lights to determine the value of the resistor to use on each LED.\n\u003E \n\u003E Each pair of LEDs were wired to a single cable, which terminated at a point on the header strip I had placed on the vero board. 9 lights = 9 wires = 9 header pins ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E \n\u003E ![Anunn_back.png](http://pfpfree.net/images/ksp/july/Anunn_back.png)\n\u003E \n\u003E *You\u0027ll see my table marking out the Arduino Pins and their respective connections in the background.*\n\u003E \n\u003E *FYI, SS and SCK are around the wrong way* ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) \n\u003E \n\u003E I used super-glue to attach some little stand-offs to the back of the 3D printed bezel, and then some fiber-washers to hold the board in place. There\u0027s a slight gap - so it\u0027s not a perfect \u0027snug\u0027 fit - but then, I haven\u0027t replaced the covers on the panel lights yet (Because I still have to create the labels that sit between the lights and the covers)\n\u003E \n\u003E ![Anunn_side.png](http://pfpfree.net/images/ksp/july/Anunn_side.png)\n\u003E \n\u003E I checked to make sure all the lights were working as needed - which they were (hooray! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) )\n\u003E \n\u003E ![Anunn_Not_Bezel.png](http://pfpfree.net/images/ksp/july/Anunn_Not_Bezel.png)\n\u003E \n\u003E Without the front bezel attached\n\u003E \n\u003E ![Anunn_Front_Bezel.png](http://pfpfree.net/images/ksp/july/Anunn_Front_Bezel.png)\n\u003E \n\u003E With the front bezel attached\n\u003E \n\u003E I attached all the upper bezels using a \u0027permanent double-sided tape\u0027 from Aldi. We\u0027ll see how permanent it is - but I figured it will be strong enough for the job:\n\u003E \n\u003E ![double_tape.png](http://pfpfree.net/images/ksp/july/double_tape.png)\n\u003E \n\u003E \n\n\u003E \n\u003E The last bit of information that might be of use to someone is the problems I was having with the SPI communication during testing.\n\u003E \n\u003E I wired up my 7-segment displays, and tested them - and they were working fine with the direct connection to the board I had.\n\u003E \n\u003E I then wired up my LCD screen, but had to extend the 7-segment wires to reach the arduino (since things were still very much in test mode, the cable couldn\u0027t reach).\n\u003E \n\u003E I was then noticing that half my 7-segment displays weren\u0027t working:\n\u003E \n\u003E ![spi_issues.png](http://pfpfree.net/images/ksp/july/spi_issues.png)\n\u003E \n\u003E *You can see the extension lead (partially cropped) going from the bottom left, to the middle - up to the Arduino board.*\n\u003E \n\u003E I was freaking out. *Did a wire short? Was I trying to push my Arduino too far?* \n\u003E \n\u003E I even started writing a query to the forums to see if others had seen this.\n\u003E \n\u003E I then had a random thought (which I was annoyed that I hadn\u0027t considered early): I had made a change, by putting an extension lead in.\n\u003E \n\u003E I removed the extension lead, and sure enough - everything was working. This was fine for testing - but I needed to make sure everything would work, as expected, in the final. I wasn\u0027t sure if I would have a \u0027short enough\u0027 lead to the 7-segment displays.\n\u003E \n\u003E Doing a bit more research, [I stumbled upon a blog-post](https://fabienroyer.wordpress.com/2011/03/13/using-a-max7219max7221-led-display-driver-with-a-netduino/).\n\u003E \n\u003E There was discussions about SPI and data lengths. These people were trying to run SPI lengths of like 30 feet, or something silly.\n\u003E \n\u003E Anyway - one commenter mentioned that they twisted the clock and data lines together to eliminate interference.\n\u003E \n\u003E I figured I\u0027d do a test-try to see if this would work. I twisted the cables of both the lines from the 7-segment, and the respective lines from the flex cable - and it works!\n\u003E \n\u003E Keep this in mind if you\u0027re having any issues with GPIO assigned SPI devices! \n\u003E \n\u003E \n\nHope you guys have enjoyed this update! Let me know if there\u0027s anything specific I missed, or you would like to know about. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nThanks for reading!\n\n- - - Updated - - -\n\n\u003E \n\u003E This looks great! Excellent job.\n\nThank you! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-07-10T10:42:33Z\u0022 title=\u002207/10/2015 10:42  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 10, 2015\u003C/time\u003E by Sputnix**"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-07-09T17:34:51Z","Content":"Your rats nest looks strangely familiar. Looks good, nice tip about the twisting the cable. I might need that later on. Good luck on programming it."},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-07-12T17:26:37Z","Content":"Ah, rats nest, my old friend... \n\nI am studying wire lacing... As in old school cord lacing...\n\nI hope it is a skill I can master, so I can bid adieu to my old nemesis \u0022rat\u0027s nest\u0022! ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-07-13T03:50:01Z","Content":"\u003E \n\u003E Ah, rats nest, my old friend... \n\u003E I am studying wire lacing... As in old school cord lacing...\n\u003E \n\u003E I hope it is a skill I can master, so I can bid adieu to my old nemesis \u0022rat\u0027s nest\u0022! ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)\n\nThere\u0027s some really neat stuff out there (I really like looking at the Apollo CM and seeing how nicely they ran the cables behind all the panels).\n\nI look forward to seeing your final results, richfiles ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nI think if I was to re-do mine, I\u0027d pay more attention to the cable routing.\n\nBut I would also probably change the way I interconnected different parts of the system. Probably even look into PCB.\n\nOne reason I didn\u0027t was because I wanted to get onto programming the arduino, and using the darn thing ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nFurther, I wanted to allow it to be \u0027taken apart\u0027 for upgrades / repairs, and finishing touches (which will come later on)."}]}