{"TopicId":70588,"ForumId":39,"TopicTitle":"Custom Control and Display","CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-04-26T11:18:31Z","PageNum":1,"Articles":[{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-04-26T11:18:31Z","Content":"\n\u003Cp\u003EHello KSP community,\u003C/p\u003E\u003Cp\u003EI decided to move my thread here as it is not about plug-in development anymore.\u003C/p\u003E\u003Cp\u003EAfter christmas 2013 I started my own hardware project. I began with thoughts about using a USB interface board to connect my own buttons and gauges to the game. \u003C/p\u003E\u003Cp\u003EThen I realized I can do bigger. In this forum thread I would like to share the history, accomplishments and failiures of this project.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EProject overview\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ll keep this overview updated, although I\u0027m not sure wether I should write all updates in the title post. Nevertheless, here is what I\u0027m working on.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EI\u0027m building my own cockpit with custom controls and displays.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe cockpit consists of two parts, which I call the control panel and the console. It can be operated by a crew of two or a single pilot. The control panel houses buttons, switches and in the future a single LCD. The console part has a X-52 flight joystick and throttle, translation joysticks, keyboard, a trackball (to be added) and several switches, buttons, gauges and displays - LCD and 7-Segment.\u003C/p\u003E\u003Cp\u003EThe digital backbone and design requirement is a single USB connection to the PC. Logic units inside (apart from the obvious USB devices) a USB keyboard controller managing the buttons and switches (via another microcontroller) acting directly on action groups or KSP keyboard controls, an Arduino Mega for managing the displays (which I call luminous) and a second Arduino Mega called colossus for entering command codes remotely similar to the DSKY unit in Apollo spacecraft but acting on MechJeb.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMay 5th, 2015\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI continued my work through the winter, but only recently I achieved some serious progress. As described before I switched to Polystyrene modular panels. Now I can work on individual modules or the whole console just like I want. \u003C/p\u003E\u003Cp\u003EQuick overview of improvements: New instrument panels, way more switches, new power supply with contrast and brightness for all instruments and LCDs.\u003C/p\u003E\u003Cp\u003EJump to the end of this thread for detailed progress description.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/o5MjOxF.jpg\u0022 alt=\u0022o5MjOxF.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENovember 25th, 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWell I did probably almost nothing all Summer long. But I picked up my work and reworked the hardware side. I ripped away the dashboard and the wooden structure on the back, which became too heavy. I rebuilt the dashboard support structure from riveted aluminum profiles, and all the dashboard instruments and switch units will be mounted on modular panels so they can be modified or moved. I abandoned the principle of using a single-piece dashboard, because I simply had one chance to cut the matching hole for one instrument, and if I made a mistake I had to start over. There will be pictures soon.\u003C/p\u003E\u003Cp\u003EJust take a look at the picture. I waste several centimeters on each side of the panel. Can\u0027t wait to fit some instruments to the new structure.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMay 16th, 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m proud as a duck because I reached a major milestone today. For the first time ever I was able to display real-time vessel data from KSP. This would not have been possible without the plug-in from Zitronen, which at the moment I use without changes on the KSP side. The arduino software incorporates Zitronens example code.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/VNHCOKnl.jpg\u0022 alt=\u0022VNHCOKnl.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMay 9th, 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI was able to repeat yesterdays success. For the last two weeks I\u0027ve been working occasionally on the colossus hardware, but the software was not really functional. Today I finished the primary loops. Now it can ask the pilot for the next command, look up how many arguments the command needs and send all this information on a serial line.\u003C/p\u003E\u003Cp\u003EHave a look at the colossus setup while running. All inputs are numerical and entered with the # key, whereas * acts as decimal point. Nothing spectacular, but I\u0027m proud of it. The array of 10k pull-down resistors is present because I only recently realised I could have used INPUT_PULLUP instead.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jNMEajKl.jpg\u0022 alt=\u0022jNMEajKl.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe LCD is not the final one, which will be 16x2 as well but white on blue like luminous. I also intend to use a single potentiometer like the one shown for adjusting all LCD contrast voltages at once (and a second one for brightness). Of course that means the LCDs have to be identical.\u003C/p\u003E\u003Cp\u003EOn the luminous side I also made progress. Alarms are triggered properly now. If any value triggers a master alarm, the master alarm and buzzer will definitely tell you. Also each alarm (like monopropellant or battery level has its own dedicated LED. You can then quit master alarm with the right button, but the individual alarm LED remains illuminated as long as the alarm condition persists. During that time no master alarm can be triggered by the same alarm. Only when a value returns to normal and then back to alarm level it can trigger another master alarm. The master alarm buzzer happens to be cheap and sounds pleasantly unpleasant. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMay 8th, 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThe past two weeks have brought progress in several field. I split software development into three different projects. The actual KSP plugin, arduino software for display and for data input.\u003C/p\u003E\u003Cp\u003EI suspended my work on the plugin (I actually havent\u0027t played KSP in weeks, all my free time for KSP goes into the project), but I intend to modify zitronens plug-in. I need communication with my display system on one serial port, and command interpretation on a second. Maybe I can extend zitronens plug-in to support two open connections and MechJeb commands.\u003C/p\u003E\u003Cp\u003EIn all due decency I named the software part for displays \u0022luminous\u0022 and the one for data input and command interpretation \u0022colossus\u0022.\u003C/p\u003E\u003Cp\u003EHere I have a quick pic of the current luminous setup in running state.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/lDrxFaYl.jpg\u0022 alt=\u0022lDrxFaYl.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt shows two LCDs with various information, the flight mode switch, voltmeter for battery level and an LED column. At the moment I\u0027m working on proper master alarm detection and the warning LEDs. I want a useful logic which allows the pilot to quit a master alarm and the same source of alarm can only trigger the alarm again after it has returned to normal condition.\u003C/p\u003E\u003Cp\u003EThat means you would get a master alarm for low battery level and quit it. The master alarm would only be triggered again after battery level has returned to normal and then to low again.\u003C/p\u003E\u003Cp\u003ENext update will probably be about the colossus part.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EApril 24th, 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m actually making huge progress in the last days. I owe that to my lack of work at work and the incredible support of my wife, who treats this project as if it were her own.\u003C/p\u003E\u003Cp\u003EI decided on ordering a second Mega \u00C3\u201A\u00C2\u00B5C, this one being a clone from SaintSmart.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/kVpsbgD.jpg\u0022 alt=\u0022kVpsbgD.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E This pic shows the current state. I\u0027m working on several things currently. This time I focus on the instrument panel alone. That is the angled board with the lcd and the meter etc.\u003C/p\u003E\u003Cp\u003E Best is to describe it from left to right.\u003C/p\u003E\u003Cp\u003E The LCD to the left will be the consumables and EECOM display. It is currently connected directly to Mega#1 for test purposes. Later it will be driven by its own RS232 controller, which I still try to build myself. If that doesn\u0027t work all LCDs will be wired to the Mega with I2C LCD drivers. But I intend to reduce workload on Mega#1. \u003C/p\u003E\u003Cp\u003E Below a group of LCDs will indicate alarms, warnings and status. The master alarm LED will be joined by an ugly-sounding beeper which came in the mail yesterday. \u003C/p\u003E\u003Cp\u003E Next is a voltmeter, connected to Mega#1 for monitoring battery level in %. The scale is already adjusted, meaning 1mV equals 1% batt level.\u003C/p\u003E\u003Cp\u003E The little black joysticks have been discussed on reddit and are described in my imgur gallery. If you don\u0027t know either of them, here are the links:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.reddit.com/u/cm2227\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.reddit.com/u/cm2227\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://cm2227.imgur.com\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://cm2227.imgur.com\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E Newest addition to the panel is the numeric display. Three 8-digit and four 4-digit seven segment displays will show various figures depending on display mode.\u003C/p\u003E\u003Cp\u003E There will be a selector switch for lift-off, flight and descent mode, each having its own set of display modes and alarm conditions.\u003C/p\u003E\u003Cp\u003E For example flight mode will show apoapsis and periapsis on 8-digit displays, which is pretty much useless during powered or unpowered descent.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EApril 17th, 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EAfter I gave up entirely on USB LCD controllers I also suspended my work on RS232 LCD controllers. I made my own circuit boards (layout and etching) but I just couldn\u0027t get them to work properly.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/u5cEOj0l.jpg\u0022 alt=\u0022u5cEOj0l.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/UtZYQgdl.jpg\u0022 alt=\u0022UtZYQgdl.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMarch 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI gradually expanded the wooden structure to house more parts and circuitry.This state shows the instrument panel installed, and also a wooden structure behind it to support power supply and future PCBs. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/tbs3pRrl.jpg\u0022 alt=\u0022tbs3pRrl.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMid-February 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI threw away the first button assembly and started over. A wooden case houses 20 buttons and 6 switches. The hole is for a LCD to be added.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/V0xtAaNl.jpg\u0022 alt=\u0022V0xtAaNl.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EInside, a PIC microcontroller converts the switch states to key strokes.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/meyO226l.jpg\u0022 alt=\u0022meyO226l.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ETogether with the console it looks like this.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/yPk2jyol.jpg\u0022 alt=\u0022yPk2jyol.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ENot much circuitry is installed yet, apart from a USB hub and a prototype USB LCD controller, which I discontinued after finding out that the corresponding USB library only supports one device. I was not yet into Arduino or similar microcontrollers and actualle tried to avoid them. The coordinate switches for translation control are just standing there unconnected to check their placement.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EJanuary 9th, 2014\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis is where I started. A USB keyboard controller and some buttons. The USB interface I bought never got to use.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/SWD9040l.jpg\u0022 alt=\u0022SWD9040l.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd I put some joysticks on a board.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/sQDh5x4l.jpg\u0022 alt=\u0022sQDh5x4l.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-05T14:15:20Z\u0022 title=\u002205/05/2015 02:15  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 5, 2015\u003C/time\u003E by cm2227\u003C/strong\u003E\n\u003Cbr\u003Eprogress update\n\u003C/span\u003E\n"},{"CreatedByName":"Dodgey","CreatedById":89577,"CreatedDateTime":"2014-04-26T11:29:12Z","Content":"\n\u003Cp\u003ELooking good, I think that you would be interested in this thread.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66763-Custom-hardware-simpit-repository-For-people-who-take-KSP-a-little-too-far\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/66763-Custom-hardware-simpit-repository-For-people-who-take-KSP-a-little-too-far\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s basically what you are doing.\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-04-26T12:06:09Z","Content":"\n\u003Cp\u003EFurther not yet visible plans are:\u003C/p\u003E\u003Cp\u003EAdding 5 MAX7219 ICs to control the 7-segment displays\u003C/p\u003E\u003Cp\u003E Second LCD right of the center line (centered on the cross indicated with pencil right to the numeric displays)\u003C/p\u003E\u003Cp\u003E Second Mega handling non time-critical tasks, i.e. not updating any displays based on serial communications\u003C/p\u003E\u003Cp\u003E Second Mega receiving own 2x16 display and acting as input system similar to DSKY with its own keypad\u003C/p\u003E\u003Cp\u003E Additional switches for flight modes, power supply and test circuits\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-04-26T12:08:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dodgey\u0022 data-cite=\u0022Dodgey\u0022\u003E\u003Cdiv\u003ELooking good, I think that you would be interested in this thread.\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66763-Custom-hardware-simpit-repository-For-people-who-take-KSP-a-little-too-far\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/66763-Custom-hardware-simpit-repository-For-people-who-take-KSP-a-little-too-far\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s basically what you are doing.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou will see my project is the third in the thread you linked \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWhat I want to accomplish in the near future is controlling MechJeb in DSKY-style (not NOUN and VERB based, but similar). I already assembled a field of 12 buttons for direct mechjeb Smart-A.S.S. commands like PRO, RETRO, TARGET\u002B etc. that don\u0027t require numeric input. But I dream of a sequence like this:\u003C/p\u003E\u003Cp\u003E The LCD reads \u0022Ready for input. Enter command:\u0022\u003C/p\u003E\u003Cp\u003E You press *11# on the keypad like your cue card told you to load MechJeb ascent guidance.\u003C/p\u003E\u003Cp\u003E The LCD reads \u0022Ascent guidance was requested. Please provide desired orbit altitude in km: \u0022\u003C/p\u003E\u003Cp\u003E You press 125# on the keypad\u003C/p\u003E\u003Cp\u003E This goes on for inclination and other details (auto-staging has its own switch)\u003C/p\u003E\u003Cp\u003E Finally the LCD reports \u0022Ascent guidance active and ready for lift-off. Press * any time for disengage.\u0022\u003C/p\u003E\u003Cp\u003E Automated landing would work similar. Interplanetary transfer is more complex, but feasible.\u003C/p\u003E\u003Cp\u003E I guess the C# coding for the KSP plugin interacting with MechJeb poses the largest obstacle to me.\u003C/p\u003E\n"},{"CreatedByName":"Dodgey","CreatedById":89577,"CreatedDateTime":"2014-04-26T12:14:37Z","Content":"\n\u003Cp\u003EOh whoops I missed that. Silly brain why do you require sleep. I had a scan over the page before posting, obviously didn\u0027t look hard enough.\u003C/p\u003E\n"},{"CreatedByName":"Cmdr. Arn1e","CreatedById":105775,"CreatedDateTime":"2014-04-28T22:07:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cm2227\u0022 data-cite=\u0022cm2227\u0022\u003E\u003Cdiv\u003EI guess the C# coding for the KSP plugin interacting with MechJeb poses the largest obstacle to me.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm, maybe ask one of the MJ coders for advice on that? sure they have a thread somewhere around here \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003EAwesome work though, I plan on maybe building something similar (but different) at some point...\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-05-08T18:24:56Z","Content":"\n\u003Cp\u003EIs anybody willing to actually help me with coding? Not only the MechJeb stuff, also general things.\u003C/p\u003E\n"},{"CreatedByName":"InterCity","CreatedById":98462,"CreatedDateTime":"2014-05-08T18:48:19Z","Content":"\n\u003Cp\u003EAs a fan of robotics, I can say that the electronic part of it is very good. But visual part needs some tweaks, the plywood is just odd.\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-05-08T19:18:54Z","Content":"\n\u003Cp\u003EI already bought a can of sixties-style cream colored paint.\u003C/p\u003E\n"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2014-05-08T20:23:06Z","Content":"\n\u003Cp\u003EShould go for broke and make a full command module simulator. That looks awesome.\u003C/p\u003E\u003Cp\u003EWhat era of paneling are you going for? If its 60s make sure you get the right looking sans serif font and one of those punch label makers.\u003C/p\u003E\n"},{"CreatedByName":"tstehler1","CreatedById":61706,"CreatedDateTime":"2014-05-08T20:35:19Z","Content":"\n\u003Cp\u003EIgnore this if you like, but I must caution you. That\u0027s a beautiful X52 throttle you\u0027ve got there. I have the X52 Pro, which is essentially the same thing, but black.\u003C/p\u003E\u003Cp\u003EAnd it does NOT function as intended.\u003C/p\u003E\u003Cp\u003EThe throttle curve is really messed up in KSP for this particular device. No one seems to know why. Just thought I\u0027d give you a heads-up in case you didn\u0027t know.\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-05-08T20:43:38Z","Content":"\n\u003Cp\u003EThanks for the advices. Yes, I intend to use a font without serifs, like on the Apollo CSM panel. And I haven\u0027t played much with the X-52 throttle yet. But I will watch closely for irregularities in the throttle curve.\u003C/p\u003E\n"},{"CreatedByName":"Magnet_man16","CreatedById":74085,"CreatedDateTime":"2014-05-08T20:55:37Z","Content":"\n\u003Cp\u003ECool. Looks interesting!\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-05-09T09:00:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022michaelhester07\u0022 data-cite=\u0022michaelhester07\u0022\u003E\u003Cdiv\u003EShould go for broke and make a full command module simulator. That looks awesome.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDon\u0027t tempt me. I\u0027d love to build a Gemini Simulator or something.\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-05-23T09:33:26Z","Content":"\n\u003Cp\u003EGuys, just a quick heads-up from me. I\u0027m currently working on the seven segment displays, and I\u0027m pretty sure I\u0027ll accomplish what I\u0027ve planned. And there are people out there who don\u0027t know much about digital electronics. Yes, it is definitely possible to use a Max 7219 IC with common anode displays.\u003C/p\u003E\n"},{"CreatedByName":"Swonely","CreatedById":125359,"CreatedDateTime":"2014-10-15T17:22:05Z","Content":"\n\u003Cp\u003ESo, how goes the project? I recently started work on my own controller, but have run into issues using LCD displays to output the data from Zitronen\u0027s Plugin. Could I see a working version of the code you used? An example would make things far easier. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-11-25T15:33:57Z","Content":"\n\u003Cp\u003EOh, I only now realized you replied to that thread.\u003C/p\u003E\u003Cp\u003EWell, there you go. The Arduino software version running on the photos is luminous04a. See \u003Ca href=\u0022https://github.com/cm2227/Arduino/tree/master/luminous04a\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/cm2227/Arduino/tree/master/luminous04a\u003C/a\u003E for source code.\u003C/p\u003E\u003Cp\u003EJust a little bit of explanation on the code. It does much more than just display some numbers on an LCD. It reads switches and controls some status LEDs, as well as an analog output.\u003C/p\u003E\u003Cp\u003EBasically you can just run take Zitronens code \u003Ca href=\u0022https://github.com/zitron-git/KSPSerialIO\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/zitron-git/KSPSerialIO\u003C/a\u003E and add the LCD Library.\u003C/p\u003E\u003Cp\u003EIn the header of my main file I include the LiquidCrystal library and initialize 2 LCDs (eecom and pilot) in 4bit mode:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// include the library code:\u003Cbr\u003E#include \u0026lt;LiquidCrystal.h\u0026gt;\u003Cbr\u003E// initialize the library with the numbers of the interface pins\u003Cbr\u003ELiquidCrystal eecom(23, 25, 27, 29, 31, 33);\u003Cbr\u003ELiquidCrystal pilot(22, 24, 26, 28, 30, 32);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow some lines from my void setup(), I left out some less important lines. It sets up the serial connection and starts to write a Title, Monopropellant and electric charge as static text to the EECOM LCD.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003Evoid setup(){\u003Cbr\u003ESerial.begin(9600);\u003Cbr\u003E\u003Cbr\u003E// set up the LCD\u0027s number of columns and rows:\u003Cbr\u003Eeecom.begin(20, 4);\u003Cbr\u003E// Print a message to the LCD.\u003Cbr\u003Eeecom.setCursor(0,0);\u003Cbr\u003Eeecom.print(\u0022Luminous04a EECOM\u0022);\u003Cbr\u003E\u003Cbr\u003Eeecom.setCursor(0,1);\u003Cbr\u003Eeecom.print(\u0022ECharge \u0022);\u003Cbr\u003Eeecom.setCursor(0,2);\u003Cbr\u003Eeecom.print(\u0022MProp \u0022);\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIn the loop() section I show you as an example how I update the EECOM LCD in every cycle:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E // update EECOM display\u003Cbr\u003Eeecom.setCursor(8,1);\u003Cbr\u003Eeecom.print(VData.ECharge);\u003Cbr\u003Eeecom.print(\u0022/\u0022);\u003Cbr\u003Eeecom.print(VData.EChargeTot,0);\u003Cbr\u003Eeecom.setCursor(6,2);\u003Cbr\u003Eeecom.print(VData.MonoProp);\u003Cbr\u003Eeecom.print(\u0022/\u0022);\u003Cbr\u003Eeecom.print(VData.MonoPropTot,0);\u003Cbr\u003E\u003Cbr\u003Eeecom.setCursor(0, 3);\u003Cbr\u003Eeecom.print(\u0022MET: \u0022);\u003Cbr\u003Eeecom.print(VData.MissionTime,0);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd yes, the \u0022MET:\u0022 text can be moved to the static text in the setup() routine, as it doesnt\u0027t have to be refreshed but stays the same throughout the mission.\u003C/p\u003E\u003Cp\u003EFor the pilot LCD I have different routines, where the displayed information depends on switch states where the pilot selects between different sets of data.\u003C/p\u003E\u003Cp\u003EDoes this help?\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-11-25T15:58:14Z","Content":"\n\u003Cp\u003EAnd regarding my project, I\u0027ll do an update soon.\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2015-05-05T14:21:52Z","Content":"\n\u003Cp\u003ESo, here\u0027s my update \u0022soon\u0022 - five months later.\u003C/p\u003E\u003Cp\u003EI made a new EECOM panel with consumables LCD, switches and voltmeter as battery and generation/drain gauge.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/BtqrEBa.jpg\u0022 alt=\u0022BtqrEBa.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe right most switch will toggle between battery level and power generation or drain.\u003C/p\u003E\n"},{"CreatedByName":"puryearn","CreatedById":143693,"CreatedDateTime":"2015-05-10T22:38:47Z","Content":"\n\u003Cp\u003EI really love what you are doing!\u003C/p\u003E\u003Cp\u003EI also have the same X52 controller, and I am planning on creating a similar setup to yours. Although, I have a raspberry pi that I\u0027d like to incorporate somehow.\u003C/p\u003E\u003Cp\u003EMinus the cost of the X52, how much money would you say you have put into this project?\u003C/p\u003E\u003Cp\u003EAny thoughts of disassembling the X52 to make a sleeker setup? I do like the fact that Saitek put through holes that you can use to mount the joystick/throttle; however, I wonder how difficult it would be to disassemble it without breaking anything...\u003C/p\u003E\u003Cp\u003EAlso, have you found a way to incorporate the MFD on the throttle controller to display KSP related data? I haven\u0027t found any great documentation that describes how to modify the MFD to output whatever you want, but I am sure it can be done.\u003C/p\u003E\u003Cp\u003EKeep up the good work!\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2015-05-11T08:01:30Z","Content":"\n\u003Cp\u003EThank you for the compliment.\u003C/p\u003E\u003Cp\u003EI thought about disassembling the X-52 but I probably won\u0027t do it. You see, I started this project without a plan. I just but my joysticks on a board, and I left the joysticks intact because I didn\u0027t know how it would turn out - I expected me to take it apart after a few days. No its been 18 months that I\u0027m working on this console, and my plans and specifications still change every time I lay my hands on the project.\u003C/p\u003E\u003Cp\u003EI didn\u0027t even find out about the holes for mounting the joystick until after I encased them in wood.\u003C/p\u003E\u003Cp\u003EAnd I don\u0027t see much potential for a sleeker setup. I could gain area or depth, if you know what I mean. Area doesn\u0027t help me much, as I still have space free on the level part of the panel. More switches there would take up arm rest space. And I don\u0027t think I could gain more than a few millimeters of installation depth, and then? The distance between the base board and the wooden panel is already fixed.\u003C/p\u003E\u003Cp\u003EHardware cost is not that much, I\u0027d say 150\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC without the X-52. Of course I spent more on materials wasted, tools and components never installed. I bought extensive collections of resistors, capacitors and other components because I need the variety.\u003C/p\u003E\u003Cp\u003EOh and for the MFD, that only works with the X-52 pro which I don\u0027t own. So it\u0027s just a clock and a stopwatch. But a good pilot needs a stopwatch and track of time on his home planet \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2016-04-14T09:28:21Z","Content":"\n\u003Cp\u003E\nApril 14th, 2016\n\u003C/p\u003E\n\u003Cp\u003E\nAs I\u0027m a Dad since November I have even less time for my project. Still I managed to do some progress, which I\u0027d like to show you.\n\u003C/p\u003E\n\u003Cp\u003E\nLast Summer I got my hands on a collection of different analog gauges, mostly ampmeters for 0-20mA signals but also some voltmeters. So I had to find a way to add a lot of gauges to my console, because I just love gauges! My solution was to build a separate enclosure which can be placed anywhere near or on top of the main console. My cockpit is supposed to be suitable for one or two pilots - some time when it\u0027s finished.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway take a look at the progress pics and feel free to ask if you have questions.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/MeGHw/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOf course I will add a faceplate with labels and stuff, the massive board is for stability reasons only. Next update will be soon I hope. I\u0027m working on my 16 LED caution \u0026amp; warning display. My next goal is having a few basic functions (gauges, LEDs, switches, Joysticks) ready to actually fly a mission with this thing.\n\u003C/p\u003E\n"},{"CreatedByName":"Mattew","CreatedById":144806,"CreatedDateTime":"2016-05-05T12:42:08Z","Content":"\n\u003Cp\u003E\nNice project! Keep that up. Have you any progress on DSKY-MechJeb interface or\u00A0you abadon that idea completly? \u00A0Just wondering, since I got exactly same idea to make that in my project too, not while ago \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2016-05-07T16:58:57Z","Content":"\n\u003Cp\u003E\nThis one flew under my radar. Grats on the child, enjoy it with all your heart. The meters are nice, do you have an idea what to show?\n\u003C/p\u003E\n"}]}