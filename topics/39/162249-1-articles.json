{"TopicId":162249,"ForumId":39,"TopicTitle":"Analog gauges and ground tracks","CreatedByName":"keb","CreatedById":172784,"CreatedDateTime":"2017-06-18T10:54:07Z","PageNum":1,"Articles":[{"CreatedByName":"keb","CreatedById":172784,"CreatedDateTime":"2017-06-18T10:54:07Z","Content":"\n\u003Cp\u003E\nI have been working for the past couple of years on a project to create analog gauges that could display some of the game information.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, I also developed a program to display the ground tracks and flight profile.\n\u003C/p\u003E\n\u003Cp\u003E\nBoth rely on the mod telemachus and its http server to get the necessary data.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the final result. I didn\u0027t spend much time on the board itself, as I wanted it to work properly first.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u003Cimg alt=\u0022pGrw95W.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/pGrw95W.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe gauges display most ressources of the game (liquid fuel, oxidizer, monopropellant, etc...) and three other parameters: Gs, vertical speed and atmospheric density.\n\u003C/p\u003E\n\u003Cp\u003E\nI also used two 8 digits 7-segments display for altitude and speed since both these values can vary a lot in the game, it didn\u0027t seem appropiate to use the analogue gauges.\n\u003C/p\u003E\n\u003Cp\u003E\nI recuperated the screen from an old laptop to diplay ground tracks or flight profile.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1) Gauges\n\u003C/p\u003E\n\u003Cp\u003E\nThe core of the gauges is a micro stepper motor X27-168. They are sold as automotive spare parts, mostly for US brands, and quite easy to find.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are quite a lot information about them, especially on Guy Carpenter blog\u00A0\u003Ca href=\u0022http://guy.carpenter.id.au/gaugette/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://guy.carpenter.id.au/gaugette/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe plastic support is 3D printed\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022qG0mQHg.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/qG0mQHg.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn order to control the motor, I am using an arduino Uno and the motor driver vid6606. Through my various trials these came to be the best solution.\n\u003C/p\u003E\n\u003Cp\u003E\nIt gives smooth needle movement and is a very flexible solution to add/remove gauges.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022FLtyh0l.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/FLtyh0l.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEach one of those can control 4 motors.\n\u003C/p\u003E\n\u003Cp\u003E\nThe arduino itself is connected by USB to a raspberry pi that sends the http request and calculate the required position for each motor.\n\u003C/p\u003E\n\u003Cp\u003E\nI had initially tried to control all motors directly via the raspberry pi, but the result wasn\u0027t as good: when all values were updated simultaneously, some lag and stutter\u00A0could appear on the gauges.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n2) Ground tracks and flight profile\n\u003C/p\u003E\n\u003Cp\u003E\nI thought it could be cool to have be able to visualize the ground tracks of a vessel in orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nAgain this is using data pulled from telemachus.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022WekfIRN.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/WekfIRN.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSome settings available:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Ix580pO.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/Ix580pO.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHowever, this is only good in orbit, so I\u00A0was also inspired by the mod Houston and made a mode to display the flight profile when not in orbit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022lLxOuqF.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/lLxOuqF.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI initially wanted this to be also diplayed by the rapberry pi, but it wasn\u0027t as smooth as when using my laptop, so I finally gave up on that.\n\u003C/p\u003E\n\u003Cp\u003E\nIt was the first time for me to code and I\u0027m sure it could be made much lighter to work well with the rapberry pi though.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI had a great time creating all this (more maybe than using it...), I hope you like it too.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know what you think!\n\u003C/p\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2017-06-19T09:22:35Z","Content":"\n\u003Cp\u003E\nLove the Telemachus integration! It looks GREAT! The gauges are really nice too! I Like!\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"keb","CreatedById":172784,"CreatedDateTime":"2017-06-24T10:32:00Z","Content":"\n\u003Cp\u003E\nThanks for the comment!\n\u003C/p\u003E\n\u003Cp\u003E\nI have created a small video showing the gauges in action.\n\u003C/p\u003E\n\u003Cp\u003E\nIt shows only G-forces and vertical speed as they are the parameters that require the most reactivity.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can compare the result with the gauges in the game.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/5w2B5s3XXXQ?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2017-06-25T17:01:46Z","Content":"\n\u003Cp\u003E\nThat is an extremely nice piece of work you got there. Most people around use digital displays, as they are a lot cheaper, but the gauges are so much easier to read.\n\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2017-06-28T23:25:12Z","Content":"\n\u003Cp\u003E\nI certainly am interested in the ground track and other \u0027telemachus\u0027 type info.\n\u003C/p\u003E\n\u003Cp\u003E\nI would like to know how to implement this.\n\u003C/p\u003E\n\u003Cp\u003E\nthanks for your work.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers.\n\u003C/p\u003E\n"},{"CreatedByName":"keb","CreatedById":172784,"CreatedDateTime":"2017-06-30T20:31:08Z","Content":"\n\u003Cp\u003E\nThanks for the comments, I\u0027m glad you like it.\n\u003C/p\u003E\n\u003Cp\u003E\nThe gauges are making the readings very easy indeed, that is also why I didn\u0027t make them too small. They are 60mm in diam.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI could share the current version of the ground tracks display.\u00A0There are still a few bugs at the moment but they can be solved by refreshing the web page.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI would need to put together some quick installation instructions. It\u0027s quite heavy though due to the maps (~100Mo). I could resize them but the quality won\u0027t be as good.\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure what\u0027s the best way to share the files...\n\u003C/p\u003E\n"},{"CreatedByName":"keb","CreatedById":172784,"CreatedDateTime":"2017-07-01T11:29:08Z","Content":"\n\u003Cp\u003E\nHere it is:\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDownload:\u00A0\u003Ca href=\u0022https://github.com/Keb72/GroundControl/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Keb72/GroundControl/releases\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nInstallation instructions:\u00A0\u003Ca href=\u0022https://github.com/Keb72/GroundControl/blob/master/README.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Keb72/GroundControl/blob/master/README.md\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEnjoy and let me know!\n\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2017-07-01T16:33:12Z","Content":"\n\u003Cp\u003E\nOk,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNot working, yet.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0There is the \u0027main\u0027 dir ground_control which under plugin has dir groundcontrol\n\u003C/p\u003E\n\u003Cp\u003E\nwhere does ground_control go and\n\u003C/p\u003E\n\u003Cp\u003E\nwhere does groundcontrol go. \u00A0sorry but a little confusing to me ...\n\u003C/p\u003E\n\u003Cp\u003E\nnext where do i \u00A0put the font, or does it stay where it is?\n\u003C/p\u003E\n\u003Cp\u003E\nmy \u0027current\u0027 setup is E:\\Kerbal_Space_Program\\ksp_win64_130\\01a_KSP_win64 -minKopernicus\\GameData\\Telemachus\\Plugins\\PluginData\\Telemachus\n\u003C/p\u003E\n\u003Cp\u003E\nfor telemachus...\n\u003C/p\u003E\n\u003Cp\u003E\nI also have the new leafletksp.js with the new temporary site for the maps, but if your version uses maps from scansat i like that better.\n\u003C/p\u003E\n\u003Cp\u003E\nsorry for being a pain, and i do appreciate your help.\n\u003C/p\u003E\n\u003Cp\u003E\nCheer,\n\u003C/p\u003E\n\u003Cp\u003E\nTed.\n\u003C/p\u003E\n"},{"CreatedByName":"keb","CreatedById":172784,"CreatedDateTime":"2017-07-01T16:43:01Z","Content":"\n\u003Cp\u003E\nSorry for the confusion.\n\u003C/p\u003E\n\u003Cp\u003E\n1. you need to copy the dir groundcontrol that is under plugin into your existing directory ...\\PluginData\\Telemachus.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n2. The font you simply copy the .ttf file in your font management folder in control panel\n\u003C/p\u003E\n\u003Cp\u003E\nFor the maps you don\u0027t have to worry since they are all part of the release.\n\u003C/p\u003E\n\u003Cp\u003E\nI hope it is more clear\n\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2017-07-01T19:39:35Z","Content":"\n\u003Cp\u003E\nmany thanks for the extra info.\n\u003C/p\u003E\n\u003Cp\u003E\nwill give that a go.\n\u003C/p\u003E\n\u003Cp\u003E\nI never get that stuff right..\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt is working !!!!!!\n\u003C/p\u003E\n\u003Cp\u003E\nGreat stuff.\n\u003C/p\u003E\n\u003Cp\u003E\nMANY thanks.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-07-01T20:08:40Z\u0022 title=\u002207/01/2017 08:08  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 1, 2017\u003C/time\u003E by drtedastro\u003C/strong\u003E\n\u003Cbr\u003Emore info\n\u003C/span\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2017-07-08T01:45:08Z","Content":"\n\u003Cp\u003E\nKeb,\n\u003C/p\u003E\n\u003Cp\u003E\nDo you think that you will be working on this so that it will be able to work with other planet systems some time in the future?\n\u003C/p\u003E\n\u003Cp\u003E\nThings like \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, New Horizons, etc??\n\u003C/p\u003E\n\u003Cp\u003E\nJust wondering, \u00A0 and of course hoping.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"keb","CreatedById":172784,"CreatedDateTime":"2017-07-09T11:52:34Z","Content":"\n\u003Cp\u003E\nMaking the ground tracks compatible isn\u0027t a problem. The biggest difficulty is to have reliable maps to use for the background.\n\u003C/p\u003E\n\u003Cp\u003E\nI have made a quick release that should work, but will see that the vessel location on map isn\u0027t quite right.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Keb72/GroundControl/releases/tag/0.11\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Keb72/GroundControl/releases/tag/0.11\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI used the texture from \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E and New horizon to create quick maps but they are not correctly centered.\n\u003C/p\u003E\n\u003Cp\u003E\nFor many planets, it\u0027s not very not very noticeable, however when there are very specific features (like earth) it\u0027s quite obvious.\n\u003C/p\u003E\n\u003Cp\u003E\nMaps from SCANsat could work for some types like heights, but it will requires time to create them. Not sure what\u0027s the best way to make nice, colorful maps...\n\u003C/p\u003E\n"}]}