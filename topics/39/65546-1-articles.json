{"TopicId":65546,"ForumId":39,"TopicTitle":"K.E.E.B - I\u0026#039;m finally prepared to show my hardware mod","CreatedByName":"Luis","CreatedById":55075,"CreatedDateTime":"2014-03-12T12:45:16Z","PageNum":1,"Articles":[{"CreatedByName":"Luis","CreatedById":55075,"CreatedDateTime":"2014-03-12T12:45:16Z","Content":"\n\u003Cp\u003EHaving worked on this for almost a year, I think I\u0027m finally ready to go public. This is my attempt at a hardware mod, inspired by the many others in this forum.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/Vx7Oa\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003EFeatures:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EThrottle can be smoothly controlled using a rotary dial, but it also has buttons that will jump immediately to full throttle, 80%, 20% and off. The LED readout shows the current throttle setting.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Abort action group triggered by a flashing illuminated button. This must be armed using the switch, which is itself protected by a switch guard.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Switches for the RCS, SAS, landing gear, lights and brakes. Each one has an LED to indicate its current state. The brake function can be activated using the momentary push button, or by flicking the switch to activate the parking brake.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Numeric buttons for action groups and data entry.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Program mode. This allows activation of DSKY-style stored programs and manoeuvres.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E IVA switch to flip between internal and external views.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Twin digital joysticks can be remapped to different keys, to change between flight and docking modes etc.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E LCD display shows basic orbital/ surface/ docking/ EVA information.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Flight mode selector. A rotary switch to change between flight, docking, landing and EVA modes. This remaps the joystick keys and changes the information that appears on the LCD.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Battery indicator. 3 LEDs show current battery status and whether it is charging/discharging\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Staging activated by a flashing illuminated button that is protected by an arming switch.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Alarm conditions indicated by a flashing button, buzzer and LCD display message. Press the button to acknowledge the current alarm and silence the buzzer or use the override switch to disable all alarms.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Map switch\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Attitude control system. If MechJeb is fitted on a ship, the attitude-mode rotary switch, and control buttons can be used to automatically orient the ship prograde/retrograde, normal/anti-normal etc.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe KEEB (which stands for Kerbal Etc Etc Board) communicates with the game via a plug-in, based on the KSPSerialIO mod by Zitronen. This gives it live updates of the ship\u0027s apoapsis, periapsis, speed and so on, as well as the current state of all the controls so the hardware doesn\u0027t get out of sync with the game.\u003C/p\u003E\u003Cp\u003EThe electronics is built around an Arduino Leonardo and four SX1509 I/O expander boards. Power is supplied by an external 5v supply module. The case is made from an MDF shell with 3mm aluminium sheet for the exterior.\u003C/p\u003E\u003Cp\u003EThere are still a few loose ends to tidy up, like better panel decals and some extra software features, but I will be demonstrating the KEEB in action at the \u003Ca href=\u0022https://www.scifiweekender.com\u0022 rel=\u0022external nofollow\u0022\u003ESci-Fi Weekender\u003C/a\u003E in North Wales, on Saturday 22nd March. A 6-page article with some of the details of the build will also appear in Build Your Own PC magazine on 27th March and then in \u003Ca href=\u0022http://www.techradar.com/news/computing/pc/pc-format-magazine-1152231\u0022 rel=\u0022external nofollow\u0022\u003EPC Format\u003C/a\u003E magazine on 10th May.\u003C/p\u003E\n"},{"CreatedByName":"NotEmoHawk","CreatedById":91626,"CreatedDateTime":"2014-03-12T12:50:56Z","Content":"\n\u003Cp\u003EI tip my hat to you, what a fantastic mod!\u003C/p\u003E\n"},{"CreatedByName":"Castille7","CreatedById":101668,"CreatedDateTime":"2014-03-12T13:03:48Z","Content":"\n\u003Cp\u003EToo sweet! I\u0027d buy one!....lol\u003C/p\u003E\n"},{"CreatedByName":"DonLorenzo","CreatedById":13642,"CreatedDateTime":"2014-03-12T13:12:43Z","Content":"\n\u003Cp\u003EPretty cool! I especially like the handwritten labels, nice touch \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-03-12T13:23:16Z","Content":"\n\u003Cp\u003EWow, really nice work! I\u0027ll add a link to my thread \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Soon there will be a whole fleet of ksp simpits!\u003C/p\u003E\u003Cp\u003EIf you decide to make any more panels then you might be interested in this mod currently in development, it increases the number of action groups available from 10 to 260... time to bulk but those switches!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/71631-Additional-Action-Groups-Development-Thread\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/71631-Additional-Action-Groups-Development-Thread\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"SpaceSphereOfDeath","CreatedById":69754,"CreatedDateTime":"2014-03-12T17:08:13Z","Content":"\n\u003Cp\u003EI\u0027ll buy one, is it comparable with all OSs?\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2014-03-12T19:38:34Z","Content":"\n\u003Cp\u003EThat\u0027s awesome! I love it!\u003C/p\u003E\n"},{"CreatedByName":"Javster","CreatedById":74613,"CreatedDateTime":"2014-03-12T20:05:20Z","Content":"\n\u003Cp\u003EWOW!! I love the numbers!\u003C/p\u003E\n"},{"CreatedByName":"Bluntie","CreatedById":91416,"CreatedDateTime":"2014-03-12T21:42:54Z","Content":"\n\u003Cp\u003EMerciful Jebus, I am so jealous. That thing is awesome, and so are you. The biggest of kudos to you, man.\u003C/p\u003E\n"},{"CreatedByName":"Thomas988","CreatedById":92699,"CreatedDateTime":"2014-03-12T21:49:40Z","Content":"\n\u003Cp\u003EAwesome! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"spudcosmic","CreatedById":64598,"CreatedDateTime":"2014-03-12T21:54:58Z","Content":"\n\u003Cp\u003EAwesome! You know, if someone were to make a kit to build something like this and sell it online, they could make a bit of money. Just putting that out there.\u003C/p\u003E\n"},{"CreatedByName":"Seshins","CreatedById":71258,"CreatedDateTime":"2014-03-12T22:39:38Z","Content":"\n\u003Cp\u003E^ this - id buy it for sure.\u003C/p\u003E\u003Cp\u003Eawesome work man!\u003C/p\u003E\n"},{"CreatedByName":"MalfunctionM1Ke","CreatedById":71626,"CreatedDateTime":"2014-03-12T22:46:41Z","Content":"\n\u003Cp\u003ELuis... you are crazy... and a very very talented craftsman! \u003C/p\u003E\u003Cp\u003EI am very impressed by this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Scotius","CreatedById":57622,"CreatedDateTime":"2014-03-12T22:46:57Z","Content":"\n\u003Cp\u003EFreakishly amazing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E I can only imagine how much fun is to fly a rocket with this.\u003C/p\u003E\u003Cp\u003EP.S. It needs one more button: \u0022Snack dispenser\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kruleworld","CreatedById":69697,"CreatedDateTime":"2014-03-12T23:26:44Z","Content":"\n\u003Cp\u003EFar out. that\u0027s a pretty extreme bit of kit for a game that isn\u0027t even finished yet. sure beats the keyboard.\u003C/p\u003E\u003Cp\u003EHave you looked into repurposing/reconfiguring it for flight sims? (to make it useful for other games or gamers)\u003C/p\u003E\n"},{"CreatedByName":"Dirty Bob","CreatedById":59885,"CreatedDateTime":"2014-03-13T01:17:56Z","Content":"\n\u003Cp\u003EThat\u0027s a real nice piece of hardware.\u003C/p\u003E\n"},{"CreatedByName":"davros","CreatedById":59654,"CreatedDateTime":"2014-03-13T03:27:40Z","Content":"\n\u003Cp\u003ENice very nice \u003C/p\u003E\u003Cp\u003E as soon a i looked at the pictures i thought ah \u0022Arduino\u0022 that would be perfect for that\u003C/p\u003E\u003Cp\u003Eand after reading your post yep \u003C/p\u003E\u003Cp\u003Eare you willing to post your sketch or at least parts of it \u003C/p\u003E\u003Cp\u003Ei would love to see how you impmented it \u003C/p\u003E\u003Cp\u003Ejust a learner with Arduino myself just about have my first 2 wheel robot car with sonar ready to go\u003C/p\u003E\n"},{"CreatedByName":"Luis","CreatedById":55075,"CreatedDateTime":"2014-03-13T08:34:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022davros\u0022 data-cite=\u0022davros\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E as soon a i looked at the pictures i thought ah \u0022Arduino\u0022 that would be perfect for that\u003C/p\u003E\u003Cp\u003Eand after reading your post yep \u003C/p\u003E\u003Cp\u003Eare you willing to post your sketch or at least parts of it \u003C/p\u003E\u003Cp\u003Ei would love to see how you impmented it \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll put the code on GitHub when I get a second. There\u0027s nothing especially fancy about the sketch, but there are a lot of separate things to control so I\u0027m bumping right up against the Arduino Leonardo\u0027s memory limit. Some of the functions, like the messages that appear on the LCD screen are handled by the mod in KSP and then passed back to the KEEB, as a way of saving space.\u003C/p\u003E\n"},{"CreatedByName":"Johno","CreatedById":1491,"CreatedDateTime":"2014-03-13T08:50:03Z","Content":"\n\u003Cp\u003EShut up and take my money!!!!!\u003C/p\u003E\u003Cp\u003E(Metaphorically speaking - I don\u0027t think I could justify paying as much as it looks like that would cost for a game controller. But it\u0027s very nice all the same! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\n"},{"CreatedByName":"Frank_G","CreatedById":100000,"CreatedDateTime":"2014-03-13T09:01:14Z","Content":"\n\u003Cp\u003EA work of art and skill... And KSP is a game that really deserves this kind of attention \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mulbin","CreatedById":55562,"CreatedDateTime":"2014-03-13T16:35:12Z","Content":"\n\u003Cp\u003EQuestions!\u003C/p\u003E\u003Cp\u003EDo you use Zitronen\u0027s KSP serial plugin to link it to ksp? Or your own code?\u003C/p\u003E\u003Cp\u003EAlso how does your DSKY work... I\u0027m taking a guess that maybe the \u0022prog\u0022 switch opens KOS? and then the number keys use the arduino to send load/run commands? - complete guess though you might have done it completely differently!\u003C/p\u003E\u003Cp\u003EAlso... how do your switches interface with mechjeb? - I didn\u0027t think mechjeb had keybindings (I could be wrong). Are you sending them via something like telemachus?\u003C/p\u003E\u003Cp\u003EI added a link to your thread on my simpit repository, let me know if you want a different pic.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66763-Custom-hardware-simpit-repository-For-people-who-take-KSP-a-little-too-far\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/66763-Custom-hardware-simpit-repository-For-people-who-take-KSP-a-little-too-far\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Luis","CreatedById":55075,"CreatedDateTime":"2014-03-14T07:31:58Z","Content":"\n\u003Cp\u003EThe serial communications is indeed heavily based on Zitronen\u0027s plugin. Receiving works almost exactly the same, but I started doing the transmit function before it had been added to KSPSerialIO so my version is a bit different there (and probably less elegant).\u003C/p\u003E\u003Cp\u003EDSKY functions aren\u0027t actually implemented yet but it will use the prog switch to change the numeric buttons from controlling action groups, to being used for data entry. With the prog switch on, you punch in a two-digit program code. If it requires further parameters, you\u0027ll then be prompted to enter them, using the OK or Cancel buttons after each one. The actual programs will be fairly simple, because I don\u0027t want completely automated missions. It\u0027s just intended to remove some of the jobs I find tedious. I\u0027m planning to have a gravity turn program, and programs for changing the apoapsis and periapsis but I haven\u0027t decided yet what else to include. It\u0027s really there to provide room for expansion. It may open KOS, but it\u0027s possible that MechJeb will have the everything I need, and I\u0027m already linking to that.\u003C/p\u003E\u003Cp\u003EThe MechJeb interface isn\u0027t done via keybinds (since there aren\u0027t any, as you say). The attitude control functions on the KEEB simply send a command request in the serial packet to the game mod and then this calls the MechJeb API directly. This turned out to be a good deal less difficult than I feared.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-15T09:47:34Z\u0022 title=\u002203/15/2014 09:47  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 15, 2014\u003C/time\u003E by Luis\u003C/strong\u003E\n\u003Cbr\u003Etypos\n\u003C/span\u003E\n"},{"CreatedByName":"User Unrelated","CreatedById":74021,"CreatedDateTime":"2014-03-14T18:24:34Z","Content":"\n\u003Cp\u003EAs soon as I get out of college (NEXT SEMESTER WOOO) and get some career-cash-flow, I am SO making one of these... I have always wanted a panel like that.\u003C/p\u003E\u003Cp\u003ELooks great! Love the aesthetics of the LED indicators \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"SpacedCowboy","CreatedById":92106,"CreatedDateTime":"2014-03-14T19:02:42Z","Content":"\n\u003Cp\u003EWhat?, no AM/FM stereo!? Just kidding, I started drooling when I saw it!\u003C/p\u003E\n"},{"CreatedByName":"Captain_Brian","CreatedById":114608,"CreatedDateTime":"2014-07-14T20:58:01Z","Content":"\n\u003Cp\u003EI\u0027m finding the Arduino Leonardo out of stock, but they do have a \u003Ca href=\u0022http://store.arduino.cc/product/K000007\u0022 rel=\u0022external nofollow\u0022\u003EArduino UNO starter kit\u003C/a\u003E that includes USB, does this look like it will work or be worth the cost ($80)? Likewise, should I get \u003Ca href=\u0022http://store.arduino.cc/product/B000001\u0022 rel=\u0022external nofollow\u0022\u003Ethis book\u003C/a\u003E?\u003C/p\u003E\n"}]}