{"TopicId":101250,"ForumId":55,"TopicTitle":"Developer-Placed Cities on Kerbin - Possible Solution","CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-04T21:01:16Z","PageNum":1,"Articles":[{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-04T21:01:16Z","Content":"\u003E [Javascript is disabled. View full album](//imgur.com/a/b2Rd6#0)\n\n1. This is the house. Nothing special. No complicated geometry for collision boxes to calculate, just a simple UV-map with \u0022Bump\u0022 would do, a good idea would be not to make something we as humans live in - something like I quickly put together in a matter of 2 minutes but looks original, maybe a bit more kerbal for the final version.\n\n2. This is what comes in the middle - a [Solar Tower of Power](https://en.wikipedia.org/wiki/Solar_power_tower), an idea that is soon to be used for city needs.\n\n3. During the night, we could have 4 directional lights [just like the one beside the launchpad](http://wiki.kerbalspaceprogram.com/wiki/File:LP1.png), but instead coming from the Tower of Power.\n\n3.5. Each city has a different flag - I can imagine them being not very common, so I don\u0027t think that poses as a problem.\n\n4. I think using the American road system for the cities would be a good idea. How to cross the road from the garage? I don\u0027t know. Let the devs sort this thing out. I\u0027m just giving an idea that I put together in a couple minutes.. let me live pls.\n\n5. A simple tunnel from which the kerbals can enter/exit the city would be satisfying. No need to go all out and actually do a small portion of the underground road system or anything like that. I don\u0027t think that it\u0027s currently possible at all.\n\n6. Overview.\n\n7. Size. Everything fits within a small area.\n\nThis is my proposal. I imagine these could be placed in manually by the devs, which can locate them wherever they decide, put in the flags which the players can customize via config file, etc. Or maybe not, maybe you won\u0027t be able to customize them and they will just be there as \u0022easter eggs\u0022 or whatever. They can be bigger, with multiple rings and crossings in between, or some other system of energy generating like solar panels. Maybe even add stores or something like that. But the key thing is, during the night we would finally be able to see the yellow dots, wherever the cities would be located. That would just be neat, and finally the green planet we all call home will become habitable.\n\nWhat do you think, guys? Can this possibly be implemented?\n\n**Edited \u003Ctime datetime=\u00222015-03-04T21:06:43Z\u0022 title=\u002203/04/2015 09:06  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 4, 2015\u003C/time\u003E by 2001kraft**"},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-05T20:29:51Z","Content":"What do you people think of this idea?\n\n**Edited \u003Ctime datetime=\u00222015-03-05T23:23:47Z\u0022 title=\u002203/05/2015 11:23  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 5, 2015\u003C/time\u003E by 2001kraft**\n  \ngrammar much?"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2015-03-05T21:30:26Z","Content":"\u003E \n\u003E What do you people think about this idea?\n\nInteresting."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-05T21:54:22Z","Content":"Personally, I would prefer procedurally-generated farms, towns, villages and cities, which would be dynamically placed in-game using an algorithim very loosely inspired by the crater generation system:\n\n - There would be a small selection of base assets for houses, shops, malls, emergency services, community centers and skyscrapers that would be reused on a large scale\n\n - City centers would ideally be located near coast lines (complete with ports and harbors), surrounded by suburbs, farms, heavy industry and power stations further out.\n\n - Variations in the architectural style of building in different regions (e.g. oriental / middle eastern-style cities in certain areas, western-style cities in others)\n\n - Unique landmarks and buildings (e.g. government buildings) would be one-off assets similar to anomalies\n\n - Simple building colliders and no walk-through capability\n\n - Optionally, collider-less traffic and pederstrians wandering through the streets\n\n - Destructable cities would probably be a bit too much; instead, one would lose reputation if a craft lands/crashes in a populated area\n\n - The oceans could similarly have offshore platforms, commercial shipping and fishing boats (again, non-interactable)"},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-05T23:21:54Z","Content":"\u003E \n\u003E - City centers would ideally be located near coast lines (complete with ports and harbors), surrounded by suburbs, farms, heavy industry and power stations further out.\n\u003E \n\u003E - Simple building colliders and no walk-through capability\n\u003E \n\u003E  - Optionally, collider-less traffic and pederstrians wandering through the streets\n\nProblem A: lag. If you have too many buildings around you, you will create massive amounts of lag. My solution proposes a mostly lag-free environment, similar to the one near the space center.\n\nArgument A: Kerbin City does not create lag.\n\nCounter-Argument A: Kerbin City is not yet complete and it doesn\u0027t have many more buildings and/or assets than the KSC.\n\nProblem B: Traffic/pedestrians would most definitely create lag, and possibly would be too difficult to animate.\n\nArgument B: you could have it procedurally generate, let\u0027s say a region would be generating them but everything else would stay as is.\n\nCounter-Argument B: Ok, that\u0027ll help. But it\u0027s definitely weird to have traffic go through you, do you not think?\n\nCounter-counter argument B: That\u0027s the price you pay.\n\nCounter-counter-counter argument B: That\u0027s not what Squad wants to be considered a \u0022complete game\u0022, it would surely feel weird.\n\nWhat my solution presents is a circular road which cannot really fit that much traffic, so we can have an occasional car or 2 with actual collision mesh, but definitely no Kerbals since that\u0027s just a bit too much. Lag will kill.\n\nArgument C: most city buildings that are not the same require complicated collision meshes. You would have to go full steam ahead minimalistic. Not necessarily an issue, but definitely something to consider.\n\nMy solution presents only a couple different types of buildings put around a disc, they will all be the same and can maintain a complicated collision mesh if required, because there are not too many of them.\n\n**Edited \u003Ctime datetime=\u00222015-03-05T23:26:15Z\u0022 title=\u002203/05/2015 11:26  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 5, 2015\u003C/time\u003E by 2001kraft**\n  \nquote derp"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-06T01:40:05Z","Content":"\u003E \n\u003E Problem A: lag. If you have too many buildings around you, you will create massive amounts of lag. My solution proposes a mostly lag-free environment, similar to the one near the space center.\n\u003E Argument A: Kerbin City does not create lag.\n\u003E \n\u003E Counter-Argument A: Kerbin City is not yet complete and it doesn\u0027t have many more buildings and/or assets than the KSC.\n\nThe main cause of lag in KSP is due to physics.\n\nHaving a large number of buildings with no colliders (or very simple box / cylinder colliders) won\u0027t have as much lag as a handful of buildings with complex colliders. Furthermore, the buildings I describe in my counterproposal won\u0027t have complex features like climbable fire escapes, balconies, floors or anything.\n\nFurthermore, it may be possible to simplify collider regions further by having entire city blocks (assuming uniform height and dimensions) to have one large unified box collider, with the acceptable trade-off that Kerbals and small ground vehicles will not be able to enter side streets.\n\n\u003E \n\u003E Problem B: Traffic/pedestrians would most definitely create lag, and possibly would be too difficult to animate.\n\u003E Argument B: you could have it procedurally generate, let\u0027s say a region would be generating them but everything else would stay as is.\n\u003E \n\u003E Counter-Argument B: Ok, that\u0027ll help. But it\u0027s definitely weird to have traffic go through you, do you not think?\n\u003E \n\u003E Counter-counter argument B: That\u0027s the price you pay.\n\u003E \n\u003E Counter-counter-counter argument B: That\u0027s not what Squad wants to be considered a \u0022complete game\u0022, it would surely feel weird.\n\u003E \n\u003E What my solution presents is a circular road which cannot really fit that much traffic, so we can have an occasional car or 2 with actual collision mesh, but definitely no Kerbals since that\u0027s just a bit too much. Lag will kill.\n\nThe pedestrians and traffic in my counterproposal will only have mesh renders but no physics colliders - Kerbalnauts and landed vessels will simply pass through them. Again, the lack of physics colliders means little to no impact on performance.\n\n\u003E \n\u003E Argument C: most city buildings that are not the same require complicated collision meshes. You would have to go full steam ahead minimalistic. Not necessarily an issue, but definitely something to consider.\n\nUntrue.\n\nSkyscrapers with complex visual meshes only require a handful for box or cylinder colliders, with little impact on physics.\n\n\u003E \n\u003E My solution presents only a couple different types of buildings put around a disc, they will all be the same and can maintain a complicated collision mesh if required, because there are not too many of them.\n\nYour \u0022city\u0022 would probably be more accurately be described as a small cul-de-sac or a street, and while each cul-de-sac may be small enough, an actual city would require a large collection of such cul-de-sacs to sustain a viable population, which ends up being essentially equivalent to my counterproposal (albeit with less visual variety)\n\nAll in all, your concern for lag is admirable but ultimately unfounded, as detailed and varied visual-only meshes have no impact on physics."},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2015-03-06T04:21:05Z","Content":"Couldn\u0027t \u0022cities\u0022 be accomplished using a particularly refined form of ground scatter? If you drop a booster down in the middle of one, it wouldn\u0027t be too hard to make the scatter elements within the blast radius disappear (impacting funds and reputation accordingly)."},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-06T05:25:41Z","Content":"\u003E \n\u003E All in all, your concern for lag is admirable but ultimately unfounded, as detailed and varied visual-only meshes have no impact on physics.\n\nYou ignored counter-counter-counter-argument B, which states that the game would not be complete with derp traffic without a collision mesh, it is unrealistic and does not seem complete.\n\nBesides that you ignored the texture factor, which definitely plays a role. If you have a huge amount of buildings, you would get lag due to textures \u002B collision meshes.\n\n\u003E \n\u003E Your \u0022city\u0022 would probably be more accurately be described as a small cul-de-sac or a street, and while each cul-de-sac may be small enough, an actual city would require a large collection of such cul-de-sacs to sustain a viable population, which ends up being essentially equivalent to my counterproposal (albeit with less visual variety)\n\nThat\u0027s the plan. Have a couple more small rings containing a small amount of buildings. That\u0027s to solve the lag problem which the devs seem to be pushing in against cities.\n\n\u003E \n\u003E Couldn\u0027t \u0022cities\u0022 be accomplished using a particularly refined form of ground scatter? If you drop a booster down in the middle of one, it wouldn\u0027t be too hard to make the scatter elements within the blast radius disappear (impacting funds and reputation accordingly).\n\nPossible, but definitely not as organized as dev-placed cities and probably without collision meshes."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-06T07:08:18Z","Content":"\u003E \n\u003E You ignored counter-counter-counter-argument B, which states that the game would not be complete with derp traffic without a collision mesh, it is unrealistic and does not seem complete.\n\nThe illusion of traffic, even if they lack colliders, is a good compromise.\n\n\u003E \n\u003E Besides that you ignored the texture factor, which definitely plays a role. If you have a huge amount of buildings, you would get lag due to textures \u002B collision meshes.\n\nAs I mentioned, many of the buildings (within the same cultural region) would share the same texture atlas, reducing draw calls greatly. More textures =/= more lag.\n\nI\u0027ll also reiterate that simple box colliders for complex-looking houses will suffice.\n\n\u003E \n\u003E That\u0027s the plan. Have a couple more small rings containing a small amount of buildings. That\u0027s to solve the lag problem which the devs seem to be pushing in against cities.\n\nA couple more small rings = still much much smaller than a hamlet, which in turn is a drop in the ocean compared to the \u0022city\u0022 you\u0027re claiming they are.\n\n\u003E \n\u003E Couldn\u0027t \u0022cities\u0022 be accomplished using a particularly refined form of ground scatter? If you drop a booster down in the middle of one, it wouldn\u0027t be too hard to make the scatter elements within the blast radius disappear (impacting funds and reputation accordingly).\n\n\u003E \n\u003E Possible, but definitely not as organized as dev-placed cities and probably without collision meshes.\n\ntntristan12, my proposal is essentially a combination of the old ground scatter, the new voronoi-field driven procedural crater generation, and a small (but varied) library of common assets that can be duplicated en masse to create realistic-looking cities, instead having developers manually and laboriously place cities.\n\nOP, I think you have a consistent misconception of the actual source of in-game lag - it is from having to constantly calculate the physical interactions between parts on an active vessel, since they are often under stress due to aerodynamic and thrust forces. On the other hand, buildings and houses sit on the ground without flexing around like parts in a vessel, so the vast majority of the lag issue is already mitigated. This plus the use of very simple box/cylinder colliders further makes lag from procedural population centers less relevant."},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-06T18:48:37Z","Content":"I see what you\u0027re trying to say, sumghai. And only now I noticed that you\u0027re a mod xD\n\nYou mentioned \u0022ports and docks\u0022. How are **those** going to spawn procedurally if the terrain does not play a role in procedural generation? Or is it the same as the crater generation algorithm?"},{"CreatedByName":"comham","CreatedById":43245,"CreatedDateTime":"2015-03-06T19:41:46Z","Content":"Kerbal konstructs already exists! Just send these to alphaash and he\u0027ll add them to Kerbin Side, if they meet his standards, and if not, make your own asset pack.\n\nLike any mod, you\u0027ll have to optimise it for memory usage."},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-06T20:41:36Z","Content":"\u003E \n\u003E **Like any mod**, you\u0027ll have to ...\n\nThat\u0027s the problem. Like any **mod**. We want cities in stock KSP for city lights, clouds, and game completion."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-06T21:28:12Z","Content":"\u003E \n\u003E You mentioned \u0022ports and docks\u0022. How are **those** going to spawn procedurally if the terrain does not play a role in procedural generation? Or is it the same as the crater generation algorithm?\n\nOn the contrary, terrain and biome data will play a key part in placement of procedural cities in my counterproposal:\n\n - The first thing to note is that procedural =/= random. Procedural means that the content is generated using an algorithim, so that given a small set of constraints / input variables, the resulting content is the same every single time. This is a more compact representation compared to manually maintaining a giant list of XYZ coordinates where each cul-de-sac is located.\n\n - Cities are generally located on flat plains or near rivers/coasts to facilitate growth/trade; one seldom sees major settlements in mountainous / desert regions.\n\n - The transition between the coastal and sea biomes are where ports and docks accompanying cities will be located.\n\n - Changes in biomes throughout Kerbin will also determine the flavour of buildings used for each procedural city (e.g. in northern areas, western european architecture will be prevalent; near the equator tropical designs are seen; on the boundary between desert and grasslands there may be oriental or middle-easten style structures)"},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-06T21:48:30Z","Content":"Sounds good. But why did the devs never release it?"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-03-06T21:52:37Z","Content":"\u003E \n\u003E Sounds good. But why did the devs never release it?\n\nSQUAD\u0027s focus is on getting the basic gameplay elements in their original vision of the game implemented for 1.0; tweaks, optimizations, re-balancing and minor enhancements come later.\n\nTo use an analogy, one does not build a house by worrying about what colored tiles to use for the bathroom when the building isn\u0027t weathertight yet."},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-03-06T23:03:52Z","Content":"I see."},{"CreatedByName":"mattinoz","CreatedById":118580,"CreatedDateTime":"2015-03-06T23:09:06Z","Content":"\u003E \n\u003E SQUAD\u0027s focus is on getting the basic gameplay elements in their original vision of the game implemented for 1.0; tweaks, optimizations, re-balancing and minor enhancements come later.\n\u003E To use an analogy, one does not build a house by worrying about what colored tiles to use for the bathroom when the building isn\u0027t weathertight yet.\n\nthe lead time on bathroom tiles can be very long so at times you do build a house by worrying about bathroom tiles before you even break ground. Still....\n\nTo to me cities and development are an important way to build the back story of kerbals. I mean the whole of human history is laid out in Google earth. Kerbin is a blank slate with a space centre dropped unceremoniously on an equatorial shoreline. not that it has to mirror human development but it should build a story. \n\nSo I can see why squad would wait till after 1.0."},{"CreatedByName":"TheGamingNoobster","CreatedById":94887,"CreatedDateTime":"2015-03-07T06:56:17Z","Content":"\u003E \n\u003E the lead time on bathroom tiles can be very long so at times you do build a house by worrying about bathroom tiles before you even break ground. Still....\n\u003E To to me cities and development are an important way to build the back story of kerbals. I mean the whole of human history is laid out in Google earth. Kerbin is a blank slate with a space centre dropped unceremoniously on an equatorial shoreline. not that it has to mirror human development but it should build a story. \n\u003E \n\u003E So I can see why squad would wait till after 1.0.\n\nAh, my friend, Kerbal does not appear to be a game that requires a backstory other then \u0027some green men (and soon, women) looked to the stars and thought \u0022I\u0027d like to go there\u0022\u0027 How the KSC got there? Maybe that is how it was when their universe was created. Who knows, Last Thursdayism may be true for the kerbals (Or Last Update-ism)."}]}