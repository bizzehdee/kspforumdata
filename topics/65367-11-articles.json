{"TopicId":65367,"ForumId":36,"TopicTitle":"Test of continuing KER developments [0.24.2]","CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-03-10T11:31:34Z","PageNum":11,"Articles":[{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-16T18:18:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerbMav\u0022 data-cite=\u0022KerbMav\u0022\u003E\u003Cdiv\u003EShould we give up hope then? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, never give up hope... I\u0027ve just not had any decently long bits of time to do any decent testing of the new staging simulation. What little bits of spare time I\u0027ve had have mostly been spent on tweaking my Part Angle Display mod...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerbMav\u0022 data-cite=\u0022KerbMav\u0022\u003E\u003Cdiv\u003EOr is the silence a sign of you getting a .24 already to update KER properly for the new version? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 alt=\u0022:sealed:\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHehe, I wish... No, I\u0027ve not got 0.24 yet, but don\u0027t worry, I\u0027ll do everything I can to fix any serious issues with KER as soon as possible after I get it...\u003C/p\u003E\n"},{"CreatedByName":"Deejay2000","CreatedById":73422,"CreatedDateTime":"2014-07-17T23:17:04Z","Content":"\n\u003Cp\u003EThanks for updating mate!\u003C/p\u003E\u003Cp\u003EAppreciate it!\u003C/p\u003E\u003Cp\u003E(Got it on the minute) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-17T23:17:57Z","Content":"\n\u003Cp\u003EI have just updated the zip linked in the first post for 0.24 compatibility. The only thing that appears to have required an urgent fix is that the part costs have changed from integers to floating point values.\u003C/p\u003E\u003Cp\u003EI hope to get the changes to the staging logic finished sometime over the weekend (assuming I don\u0027t get distracted into starting a new career mode save \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-17T23:25:37Z","Content":"\n\u003Cp\u003EI assume the proper install is get the old version, and then apply the dev DLLs?\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-17T23:27:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Agathorn\u0022 data-cite=\u0022Agathorn\u0022\u003E\u003Cdiv\u003EI assume the proper install is get the old version, and then apply the dev DLLs?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that\u0027s what it says in the first post... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-17T23:50:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EYes, that\u0027s what it says in the first post... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry I knew that. I wasn\u0027t clear but I was simply trying to verify that was STILL the case with the 0.24 update.\u003C/p\u003E\n"},{"CreatedByName":"Traches","CreatedById":79229,"CreatedDateTime":"2014-07-18T00:51:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EI have just updated the zip linked in the first post for 0.24 compatibility. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the super quick fix! I\u0027m useless without KER it seems.\u003C/p\u003E\n"},{"CreatedByName":"sciguyCO","CreatedById":100264,"CreatedDateTime":"2014-07-18T14:15:28Z","Content":"\n\u003Cp\u003EAh, sweet relief of viewable data. When I saw the KER display erorring out after updating the 0.24 I started to twitch.\u003C/p\u003E\u003Cp\u003EBUG REPORT (minor):\u003C/p\u003E\u003Cp\u003EIn the VAB, the \u0022COST\u0022 column does not take into account tweaking the amount of monoprop, liquid fuel, or oxidizer. KER\u0027s display always shows the \u0022full up\u0022 cost, even if you reduce resources stored in parts. \u003C/p\u003E\u003Cp\u003EIn case they\u0027re not available as constants in the KSP API, here are the per-unit costs I found:\u003C/p\u003E\u003Cp\u003E* Monopropellant: 1.2 \u003C/p\u003E\u003Cp\u003E* Liquid Fuel: 0.8\u003C/p\u003E\u003Cp\u003E* Oxidizer: 0.18\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-18T17:11:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sciguyCO\u0022 data-cite=\u0022sciguyCO\u0022\u003E\u003Cdiv\u003EAh, sweet relief of viewable data. When I saw the KER display erorring out after updating the 0.24 I started to twitch.\u003Cp\u003EBUG REPORT (minor):\u003C/p\u003E\u003Cp\u003EIn the VAB, the \u0022COST\u0022 column does not take into account tweaking the amount of monoprop, liquid fuel, or oxidizer. KER\u0027s display always shows the \u0022full up\u0022 cost, even if you reduce resources stored in parts. \u003C/p\u003E\u003Cp\u003EIn case they\u0027re not available as constants in the KSP API, here are the per-unit costs I found:\u003C/p\u003E\u003Cp\u003E* Monopropellant: 1.2 \u003C/p\u003E\u003Cp\u003E* Liquid Fuel: 0.8\u003C/p\u003E\u003Cp\u003E* Oxidizer: 0.18\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECybutek has now released a new official version 0.6.2.5 of KER that fixes this issue. It uses the latest simulation code from my development version but doesn\u0027t include the slope and biome displays in the flight engineer or the new tweakable controls...\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-18T18:00:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003ECybutek has now released a new official version 0.6.2.5 of KER that fixes this issue. It uses the latest simulation code from my development version but doesn\u0027t include the slope and biome displays in the flight engineer or the new tweakable controls...\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-18T19:44:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EI have now merged the official 0.6.2.5 changes into my build and released a new version of the zip linked in the first post\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you sure about that? It links to one updated 20 hours ago, not 2. That and the red text says updated yesterday, not today.. I is confuzzled.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-18T19:49:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EAre you sure about that? It links to one updated 20 hours ago, not 2. That and the red text says updated yesterday, not today.. I is confuzzled.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOops, forgot to actually copy the new zip into my dropbox folder (and edit the date on the download line)... duh!\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-18T19:53:41Z","Content":"\n\u003Cp\u003EAhh, no worries. Thanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-19T14:34:12Z","Content":"\n\u003Cp\u003EI have just updated the zip in the first post. Now based on version 0.6.2.6 of KER that includes my biome and slope displays. There isn\u0027t a lot of point anyone installing this for the moment as I think it is pretty much identical to the official release. This will change \u0022soon\u0022 when I fix the issues with the staging simulation...\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-19T21:13:59Z","Content":"\n\u003Cp\u003EI have now updated my version to based on KER 0.6.2.7 and fixed the problem that has with the toolbar buttons not appearing in the SPH...\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-19T23:37:17Z","Content":"\n\u003Cp\u003EAdmittadly I haven\u0027t updated, but does that fix the fact the KER toolbar icon persists in the KSC scene? \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/voOMEfI.png\u0022 alt=\u0022voOMEfI.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhat I did: stock parts fulfilling various contracts landed at Kerbin, KER added to all pods with MM, once contracts complete, recover vessel and then the above screen.\u003C/p\u003E\n"},{"CreatedByName":"Boomerang","CreatedById":92198,"CreatedDateTime":"2014-07-20T05:12:11Z","Content":"\n\u003Cp\u003EI\u0027ll post this here, rather than in the main KER thread since I\u0027ve just started using the most recent (19/07/2014 21:06 GMT) version from this thread, and also because it seems like more of a technical thread.\u003C/p\u003E\u003Cp\u003EFirst off, that patch did fix my problem of the KER icon not being available via Blizzy\u0027s toolbar in the SPH, so thanks for that!\u003C/p\u003E\u003Cp\u003ESecond, this is a problem that I had with the standard .24 Toolbar, as well as the patch from this thread. When I first launch a vessel, the KER menu displays fine, either with any of the tabs open if they\u0027ve been left that way, or with all the tabs collasped, as they would be otherwise. Perfectly standard, looking the way I would expect them to from all my previous uses of KER. \u003C/p\u003E\u003Cp\u003EHowever, once physics loads, if any of the KER tabs are expanded, they disappear, as do the buttons for the tabs themselves, leaving only a strange and useless grey bar. If all of the KER tabs are collapsed upon physics load, then it looks fine until you click on one of them, then you get the above problem. I\u0027ll post pictures below.\u003C/p\u003E\u003Cp\u003EI am running quite a few mods, but nothing I haven\u0027t run with KER before and nothing that isn\u0027t updated or compatible with .24. Running OSX, if that helps. And any help with regards to this problem would be much appreciated. Thanks!\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EEdit\u003C/span\u003E: After more playing around with it, this only happens with the \u0027Surface\u0027 menu, the other three seem to work fine. And once the bug with the surface menu happens, it heavily spams my debug menu with:\u003C/p\u003E\u003Cp\u003E[Exception]: ArgumentException: GUILayout: Mismatched LayoutGroup.Repaint\u003C/p\u003E\u003Cp\u003E[Exception]: IndexOutOfRangeException: Array index is out of range.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/LTcjnFi.png\u0022 alt=\u0022LTcjnFi.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EPre-physics load\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/qosazLA.png\u0022 alt=\u0022qosazLA.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EPost-physics load\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/z8sGxda.png\u0022 alt=\u0022z8sGxda.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe result of clicking the seemingly functional buttons if the menus are all collapsed upon physics load.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-20T05:26:40Z\u0022 title=\u002207/20/2014 05:26  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 20, 2014\u003C/time\u003E by Boomerang\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-20T07:10:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boomerang\u0022 data-cite=\u0022Boomerang\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EEdit\u003C/span\u003E: After more playing around with it, this only happens with the \u0027Surface\u0027 menu, the other three seem to work fine. And once the bug with the surface menu happens, it heavily spams my debug menu with:\u003Cp\u003E[Exception]: ArgumentException: GUILayout: Mismatched LayoutGroup.Repaint\u003C/p\u003E\u003Cp\u003E[Exception]: IndexOutOfRangeException: Array index is out of range.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm, yes, it looks like the tweaks done to make the window correctly resize when fields appear and disappear has a problem. I\u0027m going to be a bit busy today but I\u0027ll try to get it fixed...\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-20T10:59:30Z","Content":"\n\u003Cp\u003EI\u0027ve posted another small tweak to the button handling. I haven\u0027t been able to repeat the issue with the surface tab but if you still get it then please upload your output_log.txt and I\u0027ll take a deeper look...\u003C/p\u003E\n"},{"CreatedByName":"Boomerang","CreatedById":92198,"CreatedDateTime":"2014-07-20T15:53:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EI\u0027ve posted another small tweak to the button handling. I haven\u0027t been able to repeat the issue with the surface tab but if you still get it then please upload your output_log.txt and I\u0027ll take a deeper look...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere you go: \u003Ca href=\u0022https://justpaste.it/gb28\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://justpaste.it/gb28\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EStill had the same problem with the latest update. Thanks for the time taken to troubleshoot though. I\u0027ll keep playing around to see if I can figure out if it\u0027s a particular conflict on my end.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-20T17:37:45Z","Content":"\n\u003Cp\u003ERight, this is a bug in FormatSI when the number is larger than can be handled. I\u0027ll sort out a fix in an hour or two...\u003C/p\u003E\u003Cp\u003EIf I had to guess I would say that one of the mods you have installed is causing one of the KER surface calculations to come out wrong (either a very big number or possibly Infinity). I will actually add some logging so that the actual value and unit requested is dumped out which may point the finger at which display, and hence which other mod, is having the problem...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-20T17:42:47Z\u0022 title=\u002207/20/2014 05:42  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 20, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-20T19:46:34Z","Content":"\n\u003Cp\u003EFixed issue in FormatSI with very large (or infinite) numbers. Now should display \u0022-OVF-\u0022 for such fields rather than repeated exceptions leading to a crash.\u003C/p\u003E\u003Cp\u003EIf anyone does see any value as -OVF- then please report it. It is most likely to be caused by another mod so please include the full output_log.txt and a screenshot of all the readings that show -OVF-.\u003C/p\u003E\n"},{"CreatedByName":"Creat","CreatedById":27315,"CreatedDateTime":"2014-07-20T20:53:22Z","Content":"\n\u003Cp\u003EJust wanted add my \u002B1 to the issue \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72062-Test-of-continuing-KER-developments-0-24?p=1285635\u0026amp;viewfull=1#post1285635\u0022 rel=\u0022external nofollow\u0022\u003EBoomerang is having\u003C/a\u003E, even though I\u0027m actually using cybuteks version at the moment.\u003C/p\u003E\u003Cp\u003EOtherwise, I have a question about the interface. All those flight-parameters you\u0027ve added to be able to accurately simulate air-breathing engines, switching thrust to a more realistic model and so on. Would there be a way to usually hide them, or put them in the actual GUI and not the context menu, possibly even adding a dedicated dialog for them? After all, you\u0027re not trying to tune parts of a rocket/ship but the simulation of parameters. I ask because I add KER to my pods/probes, so their context menu becomes quite cluttered, and most of the time I don\u0027t actually need the options (while I\u0027m glad that they\u0027re there when I do). As a simple solution, if that\u0027s even possible, it would be fine to just have a single context-menu-entry \u0027Show advanced\u0027, which then adds the other entries, but I do think that an actual GUI window would be better (or something that extends the existing windows).\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-07-20T21:18:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Creat\u0022 data-cite=\u0022Creat\u0022\u003E\u003Cdiv\u003EJust wanted add my \u002B1 to the issue \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72062-Test-of-continuing-KER-developments-0-24?p=1285635\u0026amp;viewfull=1#post1285635\u0022 rel=\u0022external nofollow\u0022\u003EBoomerang is having\u003C/a\u003E, even though I\u0027m actually using cybuteks version at the moment.\u003Cp\u003EOtherwise, I have a question about the interface. All those flight-parameters you\u0027ve added to be able to accurately simulate air-breathing engines, switching thrust to a more realistic model and so on. Would there be a way to usually hide them, or put them in the actual GUI and not the context menu, possibly even adding a dedicated dialog for them? After all, you\u0027re not trying to tune parts of a rocket/ship but the simulation of parameters. I ask because I add KER to my pods/probes, so their context menu becomes quite cluttered, and most of the time I don\u0027t actually need the options (while I\u0027m glad that they\u0027re there when I do). As a simple solution, if that\u0027s even possible, it would be fine to just have a single context-menu-entry \u0027Show advanced\u0027, which then adds the other entries, but I do think that an actual GUI window would be better (or something that extends the existing windows).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you see the same thing as Boomerang then please do try the latest version from this thread as it should stop the crashes and indicate which field of the surface tab is actually having a problem.\u003C/p\u003E\u003Cp\u003EAs for making the more advanced/debugging tweakable controls conditional in some way, yes this was considered but Cybutek is working on a new version with a complete UI overhaul that does have some controls in a different place (e.g. the atmospheric pressure slider is in the main build engineer window). I added the controls as tweakables because my main focus was on improving the simulation code and this was the easiest way to hook controls up to the various parameters of the simulation.\u003C/p\u003E\n"},{"CreatedByName":"Boomerang","CreatedById":92198,"CreatedDateTime":"2014-07-20T21:40:37Z","Content":"\n\u003Cp\u003ETesting now, I\u0027ll update with any changes or at least a new log in a few minutes.\u003C/p\u003E\u003Cp\u003EEdit: No change in behavior and physics loading took long enough that I was able to scan the \u0027Surface\u0027 tab and everything looked the way it ought to and certainly no \u0022-OVF-\u0022. Here\u0027s the latest log: \u003Ca href=\u0022https://justpaste.it/gb6c\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://justpaste.it/gb6c\u003C/a\u003E\u003C/p\u003E\n"}]}