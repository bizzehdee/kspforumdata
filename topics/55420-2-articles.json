{"TopicId":55420,"ForumId":34,"TopicTitle":"[1.2.0] Toolbar 1.7.13 - Common API for draggable/resizable buttons toolbar","CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-07T01:17:23Z","PageNum":2,"Articles":[{"CreatedByName":"C4pt.Miles","CreatedById":57863,"CreatedDateTime":"2013-12-18T15:31:52Z","Content":"\n\u003Cp\u003EDamn, me and my bad english...\u003C/p\u003E\u003Cp\u003ESorry, for the troubles.\u003C/p\u003E\u003Cp\u003ENow I go and suggest it to them...^^\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-18T15:37:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022C4pt.Miles\u0022 data-cite=\u0022C4pt.Miles\u0022\u003E\u003Cdiv\u003ENow I go and suggest it to them...^^\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease do, thanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2013-12-18T19:39:40Z","Content":"\n\u003Cp\u003EKerbal Alarm Clock and KSP ARP have the code in place now, I just need the time to build them against 0.23 and package up the dlls. Looking to do that after work today (tis morning here now)\u003C/p\u003E\n"},{"CreatedByName":"NavyFish","CreatedById":77044,"CreatedDateTime":"2013-12-18T21:58:48Z","Content":"\n\u003Cp\u003EDocking Port Alignment Indicator v3.0 now uses the Toolbar Plugin. Thanks, blizzy!\u003C/p\u003E\n"},{"CreatedByName":"Amazingteknique","CreatedById":89361,"CreatedDateTime":"2013-12-19T00:00:32Z","Content":"\n\u003Cp\u003EI always see a \u0022ghost\u0022 image of the toolbar briefly in loading screens. Honestly wish that I could just have my old icons back for all the mods that have started using this in .23\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-19T00:02:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Amazingteknique\u0022 data-cite=\u0022Amazingteknique\u0022\u003E\u003Cdiv\u003EI always see a \u0022ghost\u0022 image of the toolbar briefly in loading screens.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight, I find it annoying, too. I\u0027ll see if I can make that go away.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-19T00:03:14Z","Content":"\n\u003Cp\u003EI\u0027ve edited the OP to add a list of mods that are currently using the Toolbar Plugin. I hope I didn\u0027t forget any.\u003C/p\u003E\n"},{"CreatedByName":"TNM","CreatedById":87785,"CreatedDateTime":"2013-12-19T12:30:50Z","Content":"\n\u003Cp\u003EIs there an installation order to follow? I just installed Crew Manifest and Ship Manifest, then the Toolbar (JSGME Modmanager) and it told me it had to overwrite stuff. As suspected nothing shows up ingame.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-19T12:50:39Z","Content":"\n\u003Cp\u003EIf you install the Toolbar Plugin by itself (thus using the absolute latest version), you can simply delete the 000_Toolbar\\ folder from your GameData\\ folder, then copy the 000_Toolbar\\ folder from the download into your GameData\\ folder. (It is backwards compatible.)\u003C/p\u003E\u003Cp\u003EPlease note that third-party plugin authors are advised to include the Toolbar Plugin into their downloads to provide a seamless experience, but of course that may be an earlier version. So overwriting that version manually by installing the latest version is indeed the best option for players who want the latest version.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2013-12-19T13:11:26Z","Content":"\n\u003Cp\u003E@ TNM: while I know and use JSGME in other games (Silent Hunter series), that\u0027s not what I do with KSP. To me, just copying mods within KSP/GameData always works. Those mods you mentioned work just fine for me.\u003C/p\u003E\u003Cp\u003E I have a suspect: if I\u0027m correct, JSGME preserves the structure with each single mod loaded in its directory, and tries to apply that same structure when those mods are activated. But some of the mods in KSP are built with the knowledge they will be put in GameData anyways, and won\u0027t work correctly otherwise. There are a few \u0022common\u0022 plugins, such as ModuleManager, that only need to exist in one place within Gamedata, and if multiple ones are found they need to check to exclude copies of themselves from running. But JSGME will not make for a single such plugin, if the same is embedded in the directory of more than one mod. I don\u0027t know if Toolbar_plugin has an exclusion method, if not and other copies are found and run, it may bring to unexpected results.\u003C/p\u003E\u003Cp\u003ETherefore, I would strip any other mod of those \u0022common plugins\u0022 when loading them to JSGME.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-19T13:28:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EI don\u0027t know if Toolbar_plugin has an exclusion method, if not and other copies are found and run, it may bring to unexpected results.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt does not, because it is expected that there is exactly one copy that lives in GameData\\000_Toolbar\\\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003ETherefore, I would strip any other mod of those \u0022common plugins\u0022 when loading them to JSGME.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight, and add the Toolbar Plugin itself so that the dependency is met.\u003C/p\u003E\n"},{"CreatedByName":"Blu_C","CreatedById":39941,"CreatedDateTime":"2013-12-19T14:10:39Z","Content":"\n\u003Cp\u003EThis is probably an obvious question, but after the button tool bar has been set to auto-hide how do you make it visible again? I ask because there isn\u0027t anything obvious stated, either in this thread or in the documentation provided (it appears that all that is mentioned is that auto-hide is available). Is it a permanent thing at this moment?\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-19T14:12:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Blu_C\u0022 data-cite=\u0022Blu_C\u0022\u003E\u003Cdiv\u003EThis is probably an obvious question, but after the button tool bar has been set to auto-hide how do you make it visible again? I ask because there isn\u0027t anything obvious stated, either in this thread or in the documentation provided (it appears that all that is mentioned is that auto-hide is available). Is it a permanent thing at this moment?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo temporarily make it visible, just hover over the toolbar at the screen edge. To make it permanently visible again, click the little triangle arrow again, then select \u0022Deactivate Auto-Hide.\u0022 (an example of doing that can be seen in the video in the OP)\u003C/p\u003E\n"},{"CreatedByName":"Blu_C","CreatedById":39941,"CreatedDateTime":"2013-12-19T14:20:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003ETo temporarily make it visible, just hover over the toolbar at the screen edge. To make it permanently visible again, click the little triangle arrow again, then select \u0022Deactivate Auto-Hide.\u0022 (an example of doing that can be seen in the video in the OP)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, you have to move your mouse right to the very edge of the screen, not just to where the button had been previously like I was trying. Thanks, that\u0027s all I needed.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-19T14:23:10Z","Content":"\n\u003Cp\u003ERight. If you look closely, there should be a little nudge indicating where the toolbar sits. (It\u0027s only 3 pixels wide/tall, though.)\u003C/p\u003E\n"},{"CreatedByName":"Hyomoto","CreatedById":64780,"CreatedDateTime":"2013-12-19T17:01:26Z","Content":"\n\u003Cp\u003EI really like what you\u0027ve done here, and for the Alternate Resource Panel, apparently he coded his to basically detect whether or not the toolbar exists which might be a good tutorial. I really hope this picks up steam, I don\u0027t mind various config panels, but I do hate my screen being littered with buttons.\u003C/p\u003E\n"},{"CreatedByName":"Blu_C","CreatedById":39941,"CreatedDateTime":"2013-12-19T17:03:31Z","Content":"\n\u003Cp\u003ENow that I\u0027ve gotten to play around with things a bit I have another question. What determines the order of the buttons? I presume it is the order in which the mods were installed?\u003C/p\u003E\u003Cp\u003EOne potentially good feature for the future could be the ability to re-arrange the button order. It isn\u0027t too huge of a deal currently, but this was a mod that was desperately needed and I expect a lot of mods that add buttons to the UI will make use of this sooner or later. I could see the the ability to re-arrange the buttons becoming quite useful once the toolbar has more than 3 or 4 on it.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-19T17:56:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Blu_C\u0022 data-cite=\u0022Blu_C\u0022\u003E\u003Cdiv\u003EWhat determines the order of the buttons? I presume it is the order in which the mods were installed?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo. Each third-party plugin that is adding a button needs to specify some sort of internal \u0022ID\u0022 for that button. Buttons are then sorted by those IDs.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Blu_C\u0022 data-cite=\u0022Blu_C\u0022\u003E\u003Cdiv\u003EOne potentially good feature for the future could be the ability to re-arrange the button order.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight, this is still on my list of things to do: \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/issues/2\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blizzy78/ksp_toolbar/issues/2\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Hyomoto","CreatedById":64780,"CreatedDateTime":"2013-12-19T19:51:17Z","Content":"\n\u003Cp\u003EWell, me and my big mouth. I say something nice and along comes a bug. The toolbar disappeared during the mission scene, and I don\u0027t mean auto-hide disappeared unless auto-hide is permanent. I tried changing scenes (during which it DOES show up in, for instance, the VAB) and then switching back, no luck. I tried going back to the main menu and again, no luck. Tried deleting the .dat file. Guess how that turned out. Tried restarting Kerbal Space Program. Nope.\u003C/p\u003E\u003Cp\u003EI think I figured out what caused it, the x value was set to 1280 which is off-screen for the toolbar (I guess, my screen size is 1280 but setting it there again gives 1102 as a value). Which highlights a sort of issue, the toolbar doesn\u0027t seem to be reading from the file but it\u0027s definitely writing to it. You can\u0027t make changes to the file and have them reflected in game (I would assume to be the case when switching scenes, but nope). Also it saves the entire file each time, which I thought might be overwriting my changes but I\u0027m pretty sure it just doesn\u0027t load from the file except on startup.\u003C/p\u003E\u003Cp\u003EIf I may make a suggestion, you may want to save \u003Cem\u003Eand\u003C/em\u003E load the \u003Cstrong\u003Erelevant\u003C/strong\u003E parts during scene transition in case a bug like this comes up it might be easy enough to just fix in game. Right now you can\u0027t even delete the .dat file, it just recreates it as it was. You have to quit KSP, delete the file, then start it again, which is a bit of a pain to fix something that is meant to be a convenience feature.\u003C/p\u003E\u003Cp\u003EEDIT; Hah! Did it again, it just arbitrarily decided my position was 1280 when changing scenes. I kept the file open in Notepad\u002B\u002B and upon clicking the launch pad from the space center it wigged out again. Yeah, hope you can get this one patched up quickly. I\u0027m going to do one more test and the other edges and see if it messes up there. I suspect maybe when it auto-hides it thinks the position is different?\u003C/p\u003E\u003Cp\u003EEDIT2: Doesn\u0027t seem affected on the other sides. Only seems to be a problem on the right side of the window. I guess the fix is to not place the elements on the right side for now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-19T20:02:13Z\u0022 title=\u002212/19/2013 08:02  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 19, 2013\u003C/time\u003E by Hyomoto\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"therealcrow999","CreatedById":19331,"CreatedDateTime":"2013-12-20T01:21:37Z","Content":"\n\u003Cp\u003EYeah I am having that problem again with the toolbar disappearing if put on right side of screen, I had it auto hid. It works now once, I deleted toolbar-settings.dat in GameData folder.\u003C/p\u003E\u003Cp\u003EWhen It was disappeard, toolbar would still show up in Space Center view, VAB and SPH. It\u0027s just not there in flight scene.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-20T01:24:28Z","Content":"\n\u003Cp\u003EThat\u0027s odd, it works for me when set up like this:\u003C/p\u003E\u003Cp\u003E- Top edge of the screen (no auto-hide) in tracking station\u003C/p\u003E\u003Cp\u003E- Bottom edge of the screen (auto-hide) in VAB\u003C/p\u003E\u003Cp\u003E- Right edge of the screen (auto-hide) in flight\u003C/p\u003E\u003Cp\u003EBut I\u0027ll see what I can find.\u003C/p\u003E\n"},{"CreatedByName":"therealcrow999","CreatedById":19331,"CreatedDateTime":"2013-12-20T01:39:23Z","Content":"\n\u003Cp\u003EI don\u0027t know if this helps, but I think it happened right after I updated AGM 1.3 for AGM 1.2. I deleted the AGM folder and put in the new one. \u003C/p\u003E\u003Cp\u003EI am using these toolbar intergraded mods, they are all the latest:\u003C/p\u003E\u003Cp\u003EMJ\u003C/p\u003E\u003Cp\u003EKerbal Alarm Clock\u003C/p\u003E\u003Cp\u003ECrew Manifest\u003C/p\u003E\u003Cp\u003EAlternative Resource Panel\u003C/p\u003E\u003Cp\u003EAGM\u003C/p\u003E\u003Cp\u003EEngineer Redux\u003C/p\u003E\u003Cp\u003EToolbar stays there awhile, something happens later on that causes it do disappear.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EThat\u0027s odd, it works for me when set up like this:\u003Cp\u003E- Top edge of the screen (no auto-hide) in tracking station\u003C/p\u003E\u003Cp\u003E- Bottom edge of the screen (auto-hide) in VAB\u003C/p\u003E\u003Cp\u003E- Right edge of the screen (auto-hide) in flight\u003C/p\u003E\u003Cp\u003EBut I\u0027ll see what I can find.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-20T01:41:26Z\u0022 title=\u002212/20/2013 01:41  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 20, 2013\u003C/time\u003E by therealcrow999\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-20T01:42:01Z","Content":"\n\u003Cp\u003EDo you remember the exact sequence of steps you took that made the toolbar go invisible completely, by any chance? That would help a tremendous amount.\u003C/p\u003E\n"},{"CreatedByName":"therealcrow999","CreatedById":19331,"CreatedDateTime":"2013-12-20T01:47:49Z","Content":"\n\u003Cp\u003EI don\u0027t think it happened while game was running for me. Last time I remembered, I had toolbar on bottom right and then I moved it to the right side screen. Of course I always auto hide it. I think I was testing out some other mods, so I test them on launch pad. I revert flight when I got back to VAB. I\u0027m sure I turned off KSP a few times and restarted and it was there. \u003C/p\u003E\u003Cp\u003EI updated AGM to 1.3 deleted old folder and put new one. When I came in game, I went to VAB to load my craft, then I went to launch pad. AGM main GUI came up and I closed it out. I checked toolbar and it wasn\u0027t there. \u003C/p\u003E\u003Cp\u003EI feel like this happened last time I upgrade AGM, same exact steps happened. AGM menu was open in flight scene when start and I clicked it off again. I really can\u0027t pin point it.\u003C/p\u003E\u003Cp\u003EHope this helps.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EDo you remember the exact sequence of steps you took that made the toolbar go invisible completely, by any chance? That would help a tremendous amount.\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"therealcrow999","CreatedById":19331,"CreatedDateTime":"2013-12-20T01:59:39Z","Content":"\n\u003Cp\u003EJust did it live in game. \u003C/p\u003E\u003Cp\u003ERight when I got to launch pad I put mouse over bottom left to bring up toolbar. I then used option to move. \u003C/p\u003E\u003Cp\u003EBefore I moved it to right screen, I use the drag to reshape the GUI, so the column of icons would fit on the right had screen. I recovered vessel, then in VAB relaunched rocket. Now its not there.\u003C/p\u003E\n"}]}