{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":64,"Articles":[{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-09-21T18:28:26Z","Content":"\u003E \n\u003E Red Iron Crown, that was true in .90 but in 1.0x thanks to some de-hardcoding from Mu RSS now does have correct planet names. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nAh thank you for the clarification."},{"CreatedByName":"sDaZe","CreatedById":111181,"CreatedDateTime":"2015-09-21T23:51:16Z","Content":"Scatterer \u002B EVE \u002B Astronomers Visual Enhancement = Truely a beautiful game \u003C3 \n\n![B7A80F0AF180F1519FE4FBC4E7FC3BF11B853E09](http://images.akamai.steamusercontent.com/ugc/683775440094084595/B7A80F0AF180F1519FE4FBC4E7FC3BF11B853E09/)![584FC6800086DF2B136177E3642EF460EA116F1E](http://images.akamai.steamusercontent.com/ugc/683775440094085262/584FC6800086DF2B136177E3642EF460EA116F1E/)![7C70A9DAB7FA880ECBB2B1E11382317DC06B792C](http://images.akamai.steamusercontent.com/ugc/683775440094102475/7C70A9DAB7FA880ECBB2B1E11382317DC06B792C/)![B800FAF3CCD70CABF1D846C72581A126C91ECE9D](http://images.akamai.steamusercontent.com/ugc/683775440094266203/B800FAF3CCD70CABF1D846C72581A126C91ECE9D/)![EAE6E707F058B03B88C311DB150CDC1D6BFED069](http://images.akamai.steamusercontent.com/ugc/683775440094265901/EAE6E707F058B03B88C311DB150CDC1D6BFED069/)\n\n**Edited \u003Ctime datetime=\u00222015-09-22T00:56:43Z\u0022 title=\u002209/22/2015 12:56  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 22, 2015\u003C/time\u003E by DaZeInBok**"},{"CreatedByName":"Z3R0_0NL1N3","CreatedById":60881,"CreatedDateTime":"2015-09-22T05:34:07Z","Content":"\u003E \n\u003E Scatterer \u002B EVE \u002B Astronomers Visual Enhancement = Truely a beautiful game \u003C3\n\nI remembered this mod not being compatable with EVE. Or... it was in the process of being fixed to work together, I remembered hearing. Anyway, could someone please help me out with what the situation is on these?"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-09-22T08:01:55Z","Content":"It\u0027s compatible now."},{"CreatedByName":"pochesams","CreatedById":150870,"CreatedDateTime":"2015-09-22T08:44:31Z","Content":"Guys, what happened with mod? I just update new version. Is this annoyed window appear only on me? Each new screen I have to hide the scatterer settings window. It\u0027s VERY annoyed."},{"CreatedByName":"BrutalRIP","CreatedById":59065,"CreatedDateTime":"2015-09-22T10:03:42Z","Content":"@ blackrack just a heads up the settings menu opens back up every scene change..i have to hide it every time i change ship or anything which quickly gets annoying"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-09-22T10:55:31Z","Content":"\u003E \n\u003E @ blackrack just a heads up the settings menu opens back up every scene change..i have to hide it every time i change ship or anything which quickly gets annoying\n\n\u003E \n\u003E Guys, what happened with mod? I just update new version. Is this annoyed window appear only on me? Each new screen I have to hide the scatterer settings window. It\u0027s VERY annoyed.\n\nSorry about that, uploading a fixed version as we speak."},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-09-22T15:58:12Z","Content":"Scatterer, with tint feature, in RSS and with RVE ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n![nwqVW5e.png](http://i.imgur.com/nwqVW5e.png)"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-09-22T16:34:30Z","Content":"\u003E \n\u003E Sorry about that, uploading a fixed version as we speak.\n\nHuh? thanks! I had thought this might be a fight club moment where we weren\u0027t supposed to mention it lol"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-09-22T16:57:22Z","Content":"\u003E \n\u003E Scatterer, with tint feature, in RSS and with RVE ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\u003E [http://i.imgur.com/nwqVW5e.png](http://i.imgur.com/nwqVW5e.png)\n\nPatiently waiting for another one of your albums"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-09-22T17:11:13Z","Content":"\u003E \n\u003E Patiently waiting for another one of your albums\n\nheh heh I\u0027m workin\u0027 on it ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) I was tryna use a custom made atmo shader from poland with the latest version, but on launching a vehicle the game crashed corrupting the save, not entirely sure what happened there. Weirdly on placing back the original shaders shipped with scatterer the missing land bodies glitch returned? really weird"},{"CreatedByName":"cobbman11","CreatedById":76711,"CreatedDateTime":"2015-09-22T17:24:25Z","Content":"Feeling small. I\u0027m absolutely loving the new shader!\n\n![nLvobHM.png](http://i.imgur.com/nLvobHM.png)\n\n\u003E \n\u003E Scatterer, with tint feature, in RSS and with RVE ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\u003E [http://i.imgur.com/nwqVW5e.png](http://i.imgur.com/nwqVW5e.png)\n\nThose RVE clouds are gorgeous, but I\u0027m not sure if I\u0027m ready to try RSS. Is it possible to apply those clouds to stock-scale Kerbin?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-09-22T21:14:19Z","Content":"Just realized the tint parametere wasn\u0027t doing what it\u0027s supposed to (i.e, adjusting tint) and was also affecting luminosity. You can now adjust the tint/coloration without losing the \u0022muted\u0022 look of the new shader.\n\nHere\u0027s a screen with 175 extinction multiplier and 70 tint\n\n![NyquHHs.jpg](http://i.imgur.com/NyquHHs.jpg)\n\nWill try to upload a fixed version tomorrow as my internet is acting up now."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-09-22T21:18:16Z","Content":"\u003E \n\u003E Just realized the tint parametere wasn\u0027t doing what it\u0027s supposed to (i.e, adjusting tint) and was also affecting luminosity. You can now adjust the tint/coloration without losing the \u0022muted\u0022 look of the new shader.\n\u003E Here\u0027s a screen with 175 extinction multiplier and 70 tint\n\u003E \n\u003E [http://i.imgur.com/NyquHHs.jpg](http://i.imgur.com/NyquHHs.jpg)\n\u003E \n\u003E Will try to upload a fixed version tomorrow as my internet is acting up now.\n\nAn unrelated question... how do you take super high-res images? I tried doing so a bit ago but couldn\u0027t figure out how."},{"CreatedByName":"CalculusWarrior","CreatedById":58313,"CreatedDateTime":"2015-09-22T21:42:01Z","Content":"\u003E \n\u003E An unrelated question... how do you take super high-res images? I tried doing so a bit ago but couldn\u0027t figure out how.\n\nThere is a \u0027Supersample\u0027 line in the KSP settings.config file, which you can set the (integer) multiplier the screenshot taken will be with respect to your screen resolution."},{"CreatedByName":"TMS","CreatedById":57134,"CreatedDateTime":"2015-09-22T21:45:45Z","Content":"[https://lq.reddit.com/r/KerbalSpaceProgram/comments/2jttd2/how_to_take_better_screenshots/?](https://lq.reddit.com/r/KerbalSpaceProgram/comments/2jttd2/how_to_take_better_screenshots/?)"},{"CreatedByName":"RainerZufall","CreatedById":151499,"CreatedDateTime":"2015-09-23T18:18:56Z","Content":"Hi all, first time poster.\n\nIt took me some time, but I managed to get blackrack\u0027s/LGhassen\u0027s code up and running, yay!\n\nWell, first of all, I hope it\u0027s okay with you that I\u0027m fondling around with it at all, if not, say the word.\n\nI get why water is only sort of working, well actually, I\u0027m not getting why exactly but I know why it\u0027s not\n\nready for release at all: the occlusion isn\u0027t working (I think).\n\nBut man oh man performance is way up there, I have a 660ti and it\u0027s running flawlessly.\n\nSome screenshots:\n\n![UjmSnpP.jpg](http://i.imgur.com/UjmSnpP.jpg)\n\n![XGQMdIK.jpg](http://i.imgur.com/XGQMdIK.jpg)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-09-23T19:07:05Z","Content":"\u003E \n\u003E Hi all, first time poster.\n\u003E It took me some time, but I managed to get blackrack\u0027s/LGhassen\u0027s code up and running, yay!\n\u003E \n\u003E Well, first of all, I hope it\u0027s okay with you that I\u0027m fondling around with it at all, if not, say the word.\n\u003E \n\u003E I get why water is only sort of working, well actually, I\u0027m not getting why exactly but I know why it\u0027s not\n\u003E \n\u003E ready for release at all: the occlusion isn\u0027t working (I think).\n\u003E \n\u003E But man oh man performance is way up there, I have a 660ti and it\u0027s running flawlessly.\n\u003E \n\u003E Some screenshots:\n\u003E \n\u003E [http://i.imgur.com/UjmSnpP.jpg](http://i.imgur.com/UjmSnpP.jpg)\n\u003E \n\u003E [http://i.imgur.com/XGQMdIK.jpg](http://i.imgur.com/XGQMdIK.jpg)\n\nOf course it\u0027s okay, otherwise there wouldn\u0027t be any public source code ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nMay I ask what took so long to get the code running?\n\nAnd yeah, the ocean performance is good (getting 60 fps on a 560 Ti here) but I\u0027m not sure exactly if the occlusion isn\u0027t working (it does occlude ships halfway in it) it\u0027s just that it moves around with the camera. And tbh it doesn\u0027t seem much of a big problem but after wasting a few days on it with no success I decided to work on other things until I get more free time. In any case, the more people actually play around with the code and try to debug the ocean, the better it is. I\u0027m just an amateur coder and I\u0027ve learned a lot since I\u0027ve started the mot but still have a lot to learn."},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-09-23T20:07:07Z","Content":"Hey Blackrack, I\u0027ve done some more testing on RSS, the issue with terrain being covered by the haze effect is caused when using custom shaders made in proland?\n\nBtw that water looks great!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-09-24T08:16:42Z","Content":"\u003E \n\u003E Hey Blackrack, I\u0027ve done some more testing on RSS, the issue with terrain being covered by the haze effect is caused when using custom shaders made in proland?\n\u003E Btw that water looks great!\n\nAre you doing this with the config tool? From the mod\u0027s point of view there shouldn\u0027t be any difference between the atmo I included or any other one generated in the config tool/proland.\n\nI\u0027ll try to download RVE and do some testing with it. I\u0027ll need some more details on how to replicate the problem you\u0027re getting."},{"CreatedByName":"RainerZufall","CreatedById":151499,"CreatedDateTime":"2015-09-24T09:19:12Z","Content":"\u003E \n\u003E Of course it\u0027s okay, otherwise there wouldn\u0027t be any public source code ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\u003E May I ask what took so long to get the code running?\n\u003E \n\u003E And yeah, the ocean performance is good (getting 60 fps on a 560 Ti here) but I\u0027m not sure exactly if the occlusion isn\u0027t working (it does occlude ships halfway in it) it\u0027s just that it moves around with the camera. And tbh it doesn\u0027t seem much of a big problem but after wasting a few days on it with no success I decided to work on other things until I get more free time. In any case, the more people actually play around with the code and try to debug the ocean, the better it is. I\u0027m just an amateur coder and I\u0027ve learned a lot since I\u0027ve started the mot but still have a lot to learn.\n\nIt took some time, probably because I didn\u0027t assemble the code in the most direct/intendend manner.\n\nWhat I did was:\n\nGet the git repo by LGhassen, which included all the ocean code commented back in.\n\nOpen the git repo in Unity4, move the shaders in OceanShaders to the \n\nsubfolder Proland/Shaders/Ocean and compile the Ocean Shaders.\n\nOpen it in Visual Studio, add Unity references and compile the scatterer.dll.\n\nGet the Proland Unity port by scrawk.\n\nOpen the Proland port in Unity and compile Fourier.shader.\n\nRename all the compiled shaders (remove all hyphens and platform extensions).\n\nGet the most recent version of scatterer which included all the config files I would not know how to create.\n\nCopy scatterer.dll and compiled shaders into the scatterer directory.\n\nIs there a reason, why the uncompiled shaders are moved to a different directory than referenced inside the shaders?\n\nI am guessing, they are just copies from the proland port, so others can compile them for scatterer, but then again \n\nthe Fourier.shader was missing.\n\nI am not asking to document any of this, just curious so I can tinker with it some more.\n\nKeep up the good work!\n\n**Edited \u003Ctime datetime=\u00222015-09-24T18:11:10Z\u0022 title=\u002209/24/2015 06:11  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 24, 2015\u003C/time\u003E by RainerZufall**"},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-09-24T13:12:08Z","Content":"Hello, this may be a basic question, but is it possible to toggle the scatterer On/OFF through its toolbar? If yes, how?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-09-24T14:07:25Z","Content":"\u003E \n\u003E It took some time, probably because I didn\u0027t assemble the code in the most direct/intendend manner.\n\u003E What I did was:\n\u003E \n\u003E Get the git repo by LGhassen, which included all the ocean code commented back in.\n\u003E \n\u003E Open the git repo in Unity4, move the shaders in OceanShaders to the \n\u003E \n\u003E subfolder Proland/Shaders/Ocean and compile the Ocean Shaders.\n\u003E \n\u003E Open it in Visual Studio, add Unity references and compile the scatterer.dll.\n\u003E \n\u003E Get the Proland Unity port by scrawk.\n\u003E \n\u003E Open the Proland port in Unity and compile Fourier.shader.\n\u003E \n\u003E Rename all the compiled shaders (remove all hyphens and platform extensions).\n\u003E \n\u003E Get the most recent version of scatterer which included all the config files I would not know how to create.\n\u003E \n\u003E Copy scatterer.dll and compiled shaders into the scatterer directory.\n\u003E \n\u003E Is there a reason, why the uncompiled shaders are moved to a different directory than referenced inside the shaders?\n\u003E \n\u003E I am guessing, they are just copies from the proland port, so others can compile them for scatterer, but then again \n\u003E \n\u003E the Fourier.shader was missing.\n\u003E \n\u003E I am not asking to document any of this, just curious so I can tinker with it some more.\n\u003E \n\u003E Keep up the good work!\n\nYou could have just asked me for the ocean shaders as compiling them in unity is a pain. Anyway, they are modified copies of the proland shaders and I didn\u0027t bother to modify the names/path so much as it doesn\u0027t do anything (and I\u0027m lazy), most of them have been modified to run in dx9, OpenGL and shader model 3.0, a few others were modified because I had to do a few things differently than they are done in proland (making scattering on terrain a postprocessing shader that uses the depth buffer, splitting the extinction and scattering components into separate shaders and using the additive and multiplicative blending modes to compose them back into the original image because I couldn\u0027t figure out an easier way to get the original image halfway through the rendering without re-rendering it in a separate camera etc...) most of the shaders were butchered in one way or another except for the ocean shaders which were just made to work on shader model 3.0.\n\n\u003E \n\u003E Hello, this may be a basic question, but is it possible to toggle the scatterer On/OFF through its toolbar? If yes, how?\n\nNot sure why you want to do this on the fly but it\u0027s possible, postprocessing shader and extinction shaders are disabled by their own buttons and sky is disabled by setting the exposure to zero, then you can just re-enable the stock atmo with the appropriate button.\n\n**Edited \u003Ctime datetime=\u00222015-09-24T18:25:06Z\u0022 title=\u002209/24/2015 06:25  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 24, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-09-24T16:58:18Z","Content":"\u003E \n\u003E Are you doing this with the config tool? From the mod\u0027s point of view there shouldn\u0027t be any difference between the atmo I included or any other one generated in the config tool/proland.\n\u003E I\u0027ll try to download RVE and do some testing with it. I\u0027ll need some more details on how to replicate the problem you\u0027re getting.\n\nThanks! Ok so regardless of RVE being present; A standard RSS install with the latest Scatterer version. Create new shaders in proland and place them into gamedata/scatterer/etc. Land will be present in PQS(at land level) but once in Scaled space or zoomed out from ground view enough to be in scaled space, the land bodies dissapear. It\u0027s unrelated to the config.xml being present.. because I\u0027d wandered if proland was hardcoding the shaders to Kerbin name or something, however even with the name set to Kerbin in RSS the problem persisted. (you shouldn\u0027t need RVE to replicate as all it was doing was changing RSS \u0027Earth\u0027 back to Kerbin manually) Thanks again for looking into this man! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nEDIT: To alter the naming system in RSS without RVE, in RSS/RSSKopernicus.cfg you dash out the \u0027Cb name later = Earth\u0027 line (search for: namelater)\n\n**Edited \u003Ctime datetime=\u00222015-09-24T17:01:17Z\u0022 title=\u002209/24/2015 05:01  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 24, 2015\u003C/time\u003E by pingopete**"},{"CreatedByName":"sDaZe","CreatedById":111181,"CreatedDateTime":"2015-09-24T20:31:20Z","Content":"Blackrack, all I can say is keep up the amazing work on the mod! Here is a video I made with your \u0022masterpiece\u0022 XD Enjoy!\n\n\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/UUs_3t56z7Y?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E"}]}