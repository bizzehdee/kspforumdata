{"TopicId":103827,"ForumId":29,"TopicTitle":"Shaders not supported","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-10T08:11:29Z","PageNum":1,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-10T08:11:29Z","Content":"\n\u003Cp\u003ESo I made 3 shaders for KSP, all of them seem to work fine in unity and all of them use shader model 4.0. However, after I loaded them in KSP, one works and the two others don\u0027t.\u003C/p\u003E\u003Cp\u003EAfter checking each shader with isSupported I get the following \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EAtmo/Sky (UnityEngine.Shader)\u003Cbr\u003EFalse\u003Cbr\u003EAtmo/SkyMap (UnityEngine.Shader)\u003Cbr\u003EFalse\u003Cbr\u003EEncodeFloat/DecodeToFloat (UnityEngine.Shader)\u003Cbr\u003ETrue\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhat could be the reason for this? All three shaders were made for dx9, all three of them use rendertextures but don\u0027t use compute shaders. And I used the snippet of code to load all three, i\u0027m at a loss here...\u003C/p\u003E\u003Cp\u003EEdit: As it turns out, my shaders will run by forcing d3d11 or opengl but not d3d9 or d3d10 for some reason.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-10T09:42:22Z\u0022 title=\u002204/10/2015 09:42  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 10, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-10T09:53:28Z","Content":"\n\u003Cp\u003EShader model 4.0 require DX11 on Unity.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://docs.unity3d.com/Manual/SL-ShaderPrograms.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/Manual/SL-ShaderPrograms.html\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-10T11:35:05Z","Content":"\n\u003Cp\u003EI have modified my shaders, they now compile correctly for directx 9 and unity reports shader model 3.0, however, ingame it still says they are unsupported andf won\u0027t load. What could it be that I am missing? Does anybody have any guidelines or something?\u003C/p\u003E\u003Cp\u003EI have removed a few tex2Dlod calls and changed my code to work with tex2d instead.\u003C/p\u003E\u003Cp\u003EEdit: After adding #pragma only_renderers d3d9, unity now reports:No subshaders can run on this graphics card. No idea why.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-10T11:51:55Z\u0022 title=\u002204/10/2015 11:51  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 10, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-11T08:42:50Z","Content":"\n\u003Cp\u003EMy shaders now work in dx9, sort of\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/77jOuIG.jpg\u0022 alt=\u002277jOuIG.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAre there any mathematic operators in CG that work differently from dx9 to dx11? Maybe some flipped matrixes? I\u0027m trying to narrow it down but can\u0027t really find anything .\u003C/p\u003E\u003Cp\u003EEdit: I finally fixed this, turns out sqrt in dx9 is less precise than in dx11.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-13T00:18:51Z\u0022 title=\u002204/13/2015 12:18  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 13, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"}]}