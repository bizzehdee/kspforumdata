{"TopicId":104068,"ForumId":16,"TopicTitle":"\u0026quot;Lagrange\u0026quot; point woes","CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2015-04-13T20:19:09Z","PageNum":1,"Articles":[{"CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2015-04-13T20:19:09Z","Content":"\n\u003Cp\u003E--I know that Lagrange points don\u0027t exist in KSP... that\u0027s why I wrote \u0022Lagrange\u0022 instead--\u003C/p\u003E\u003Cp\u003ENow that that\u0027s out of the way. Here\u0027s what I\u0027ve been trying to do. I want to eventually build a station just outside Kerbin\u0027s SoI. Since KSP uses two-body orbital mechanics, I thought this should be possible.... so I started trying to launch communication satellites up there (RT2). I establish escape trajectory, wait until I\u0027m outside the SoI (quite a bit outside it in some cases), and then attempt to match kerbin\u0027s orbital velocity. I\u0027ve tried matching the orbital periods, but it doesn\u0027t seem to make much sense... it seems like in order to get an orbital period that matches kerbin\u0027s, I have to raise my apoapsis well above kerbin\u0027s (and thus I drift off). If I try to match kerbin\u0027s orbital velocity, I end up falling back to kerbin (though I shouldn\u0027t if I understand the two-body system correctly). What am I doing wrong? Is this even possible? I\u0027ve done it with the Mun with no issues... but I can\u0027t seem to replicate my success with Kerbin.\u003C/p\u003E\u003Cp\u003EThe only theory that I\u0027ve been able to come up with is that Kerbin is \u0022on rails\u0022 in an orbit that makes no sense given its velocity. Is this true?\u003C/p\u003E\u003Cp\u003EEDIT: Unless they manually calculated gravity in the kerbin-kerbol system accounting for both masses, and treated the mun as massless in the kerbin-mun system..... but why would they do that?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-13T20:30:52Z\u0022 title=\u002204/13/2015 08:30  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 13, 2015\u003C/time\u003E by impyre\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Deutherius","CreatedById":125381,"CreatedDateTime":"2015-04-13T20:42:59Z","Content":"\n\u003Cp\u003EIt\u0027s not very clear from your post which Lagrange point you are trying to simulate. I think you\u0027re trying to simulate L4/L5, which should be possible (well... they won\u0027t be automatically stable like the real ones would, you\u0027d have to get the trajectory absolutely perfect for it to work - but you probably know that), but it should be stated somewhere in your post. \u0022Just outside SOI\u0022 is pretty general and might get interpreted like you are trying to simulate L1 or L2, which will, of course, never work in a 2-body system.\u003C/p\u003E\u003Cp\u003EAs for the reason why it does work with the Mun but doesn\u0027t work with Kerbin... No idea. It most definitely should.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-13T20:46:03Z\u0022 title=\u002204/13/2015 08:46  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 13, 2015\u003C/time\u003E by Deutherius\u003C/strong\u003E\n\u003Cbr\u003Ecorrected quotes\n\u003C/span\u003E\n"},{"CreatedByName":"Taki117","CreatedById":89975,"CreatedDateTime":"2015-04-13T20:45:10Z","Content":"\n\u003Cp\u003EIf you ate just outside kerbins soi it is entirely possible that the rounding errors are putting you back inside kerbins soi. What you should do is get a significant portion of an orbit behind kerbon, then put one opposite kerbin in its orbit. You want to match kerbins orbital period, which might be difficult.\u003C/p\u003E\n"},{"CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2015-04-13T20:55:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Deutherius\u0022 data-cite=\u0022Deutherius\u0022\u003E\u003Cdiv\u003EIt\u0027s not very clear from your post which Lagrange point you are trying to simulate. I think you\u0027re trying to simulate L4/L5, which should be possible (well... they won\u0027t be automatically stable like the real ones would, you\u0027d have to get the trajectory absolutely perfect for it to work - but you probably know that), but it should be stated somewhere in your post. \u0022Just outside SOI\u0022 is pretty general and might get interpreted like you are trying to simulate L1 or L2, which will, of course, never work in a 2-body system.\u003Cp\u003EAs for the reason why it does work with the Mun but doesn\u0027t work with Kerbin... No idea. It most definitely should.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re right, L1/L2 couldn\u0027t work. As is, I wasn\u0027t trying to simulate an actual lagrange point... just a point on kerbin\u0027s orbit a little ahead of it in such a way that I don\u0027t drift off or \u0022fall\u0022 back in. \u003C/p\u003E\u003Cp\u003EAs for distance from kerbin being the issue, I\u0027ve been pretty far... I can try for further though.\u003C/p\u003E\n"},{"CreatedByName":"Yakky","CreatedById":94432,"CreatedDateTime":"2015-04-13T21:34:18Z","Content":"\n\u003Cp\u003EI just did some calculations based on the listed Kerbal Wiki orbit data, and it looks like the \u0022on rails\u0022 Kerbin orbital velocity may indeed be wrong. Either that or some part of the Wiki data is wrong.\u003C/p\u003E\u003Cp\u003ENote that for a circular orbit, the orbital speed \u003Cem\u003Es\u003C/em\u003E = sqrt(\u003Cem\u003Emu\u003C/em\u003E/\u003Cem\u003Er\u003C/em\u003E) where \u003Cem\u003Er\u003C/em\u003E is the orbital radius and \u003Cem\u003Emu\u003C/em\u003E is a gravitational parameter. More importantly for our purposes, given two different orbital radii \u003Cem\u003Er1\u003C/em\u003E and \u003Cem\u003Er2\u003C/em\u003E, and one corresponding \u003Cem\u003Es1\u003C/em\u003E, we can quickly calculate \u003Cem\u003Es2\u003C/em\u003E as \u003Cem\u003Es1\u003C/em\u003E*sqrt(\u003Cem\u003Er1\u003C/em\u003E/\u003Cem\u003Er2\u003C/em\u003E). We don\u0027t even need to mess with \u003Cem\u003Emu\u003C/em\u003E because it conveniently cancels out.\u003C/p\u003E\u003Cp\u003EI plugged the following Kerbal Wiki data into that equation:\u003C/p\u003E\u003Cp\u003EKerbol radius: 261,600 km\u003C/p\u003E\u003Cp\u003EKerbol surface rotation speed: 3.8048 km/s\u003C/p\u003E\u003Cp\u003EKerbol synchronous orbit altitude (\u0022\u003Cem\u003Er1\u003C/em\u003E\u0022): 1,508,045.29 km\u003C/p\u003E\u003Cp\u003EKerbol synchronous orbit speed (\u0022\u003Cem\u003Es1\u003C/em\u003E\u0022): 25.6548 km/s (calculated from the three numbers above)\u003C/p\u003E\u003Cp\u003EKerbin orbit altitude above Kerbol (\u0022\u003Cem\u003Er2\u003C/em\u003E\u0022): 13,599,840.26 km and perfectly circular \u003Cspan style=\u0022color:#800000;\u0022\u003E(Edit: see my note below)\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ENow, plugging \u003Cem\u003Er1\u003C/em\u003E, \u003Cem\u003Es1\u003C/em\u003E, and \u003Cem\u003Er2\u003C/em\u003E into our equation, we get \u003Cem\u003Es2\u003C/em\u003E = 9.16884 km/s. But Kerbin\u0027s orbital speed is listed in the wiki as 9.2845 km/s, which doesn\u0027t match. So if the Kerbal Wiki data is to be believed, that right there tells us something is inconsistent.\u003C/p\u003E\u003Cp\u003ESo while I haven\u0027t fired up KSP to verify what you said, from this math it looks like your suspicion is correct and staying in a Kerbin-following or Kerbin-leading orbit is impossible. But it also seems to me that someone would have stumbled across this already. Am I missing something obvious here?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003EEdit: It turns out that if Kerbin\u0027s listed orbital radius is taken as being from the \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003Ecenter\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003E of Kerbol while the kerbosynchronous altitude is interpreted as being from the \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003Esurface\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003E of Kerbol, then the calculated speed is 9.28446 km/s which pretty much matches the listed speed. But I don\u0027t know if the orbital radius is defined that way or not. Seems like one or the other value should be updated in the wiki so they are defined consistently. \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003EAnd since your in-game altitude display is shown relative to the \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003Esurface\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003E of the celestial body you\u0027re orbiting, you might be off from the correct altitude by 261,600 km if you\u0027re basing your satellite\u0027s altitude on some reference that is relative to Kerbol\u0027s \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003Ecenter\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003E (such as the wiki).\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#800000;\u0022\u003E(I have not launched KSP to look at what altitude Kerbin is shown to be orbiting in the game. Is it above Kerbol\u0027s surface or relative to Kerbol\u0027s center?) \u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-13T21:53:50Z\u0022 title=\u002204/13/2015 09:53  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 13, 2015\u003C/time\u003E by Yakky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LethalDose","CreatedById":92657,"CreatedDateTime":"2015-04-13T21:39:50Z","Content":"\n\u003Cp\u003EWhile I understand that you aren\u0027t trying to simulate any particular Lagrangian point, it may be helpful to try to roughly simulate L4 or L5, which are 60 degrees before or behind Kerbin\u0027s orbit.\u003C/p\u003E\u003Cp\u003EThis will provide a very wide margin for error in the positioning of the satellite so libration (back and forth oscillation of a body when viewed from an other point) doesn\u0027t cause the satellite to encounter Kerbin\u0027s SoI. Libration occurs when a synchronous orbit has a non zero eccentricity (horizontal libration) or non-zero inclination (vertical inclination). When simulating a Lagrange point, you are essentially placing the satellite in an orbit that has the same orbital period as the sibling body (In this case, Kerbin, as the the sun is the parent).\u003C/p\u003E\u003Cp\u003EYour target orbit should have AP \u002B PE = 2 * Kerbin\u0027s orbital radius, which will give cause your satellite\u0027s orbit\u0027s semi-major axis to match the length of Kerbin\u0027s semi-major axis, and hence, have similar orbital periods (this is a simplification of the math, but it should work). NOTE: The orbital radius given in the wiki \u003Cem\u003Eis not the orbital radius displayed in the map view.\u003C/em\u003E The wiki includes the radius of the parent body (again, the sun, in this case) in the radius, while the map display in the game does not. Just be consistent between the two and you\u0027ll be fine.\u003C/p\u003E\u003Cp\u003EIf the AP doesn\u0027t equal the PE (hence e != 0), the satellite will appear to librate back and forth in reference to Kerbin, but if it\u0027s far enough away, the movement should lead to encounters with Kerbin\u0027s SoI.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EProactive Addendum:\u003C/strong\u003E Yes, I know this may not be the exact definition of \u0022librate\u0022 but it works well enough in this situation.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yakky\u0022 data-cite=\u0022Yakky\u0022\u003E\u003Cdiv\u003EKerbin orbit altitude above Kerbol (\u0022\u003Cem\u003Er2\u003C/em\u003E\u0022): 13,599,840.26 km\u003Cp\u003ENow, plugging \u003Cem\u003Er1\u003C/em\u003E, \u003Cem\u003Es1\u003C/em\u003E, and \u003Cem\u003Er2\u003C/em\u003E into our equation, we get \u003Cem\u003Es2\u003C/em\u003E = 9.16884 km/s. But Kerbin\u0027s orbital speed is listed in the wiki as 9.2845 km/s, which doesn\u0027t match. So if the Kerbal Wiki data is to be believed, that right there tells us something is inconsistent.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I noted in the previous post, make sure you\u0027re aware that the wiki reports orbital altitude \u003Cem\u003Efrom the parent\u0027s center\u003C/em\u003E while the map view reports orbital altitude \u003Cem\u003Efrom the parent\u0027s surface at sea level\u003C/em\u003E. This is consistent across the wiki entries (typically the first footnote).\u003C/p\u003E\u003Cp\u003EBasically, just make sure you know what numbers you\u0027re using. Since you listed Kerbin\u0027s orbital altitude as it appears in the wiki and labeled it \u0022orbital altitude above Kerbol\u0022, I fear you may have fallen victim to one of the classic blunders.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate:\u003C/strong\u003E Using the orbital radius provided by the wiki as the footnote indicates it should be used, Kerbin\u0027s orbital velocity is calculated to be 9284.5 m/s using eq 4.6 \u003Ca href=\u0022http://www.braeunig.us/space/orbmech.htm\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. This value is consistent with wiki entry.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-13T21:59:25Z\u0022 title=\u002204/13/2015 09:59  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 13, 2015\u003C/time\u003E by LethalDose\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yakky","CreatedById":94432,"CreatedDateTime":"2015-04-13T21:56:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LethalDose\u0022 data-cite=\u0022LethalDose\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBasically, just make sure you know what numbers you\u0027re using. Since you listed Kerbin\u0027s orbital altitude as it appears in the wiki and labeled it \u0022orbital altitude above Kerbol\u0022, I fear you may have fallen victim to one of the classic blunders.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, just realized the numbers are not presented the same way... but thanks for pointing it out. It does raise the possibility that impyre is basing his target orbital altitude off an incorrectly calibrated reference.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-04-13T22:50:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LethalDose\u0022 data-cite=\u0022LethalDose\u0022\u003E\u003Cdiv\u003EYour target orbit should have AP \u002B PE = 2 * Kerbin\u0027s orbital radius, which will give cause your satellite\u0027s orbit\u0027s semi-major axis to match the length of Kerbin\u0027s semi-major axis, and hence, have similar orbital periods (this is a simplification of the math, but it should work).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is the key. Matching orbital periods is critical to avoiding drift, and it is the semi-major axis that determines period. It is better to have Ap 1000 km too high and Pe 1000km too low than to have both too high by 100km.\u003C/p\u003E\n"},{"CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2015-04-14T01:42:12Z","Content":"\n\u003Cp\u003EThanks guys, I\u0027ll have another look and pay a bit more attention to exactly what\u0027s going on. I\u0027ll update once I know for sure what I\u0027m doing wrong.\u003C/p\u003E\u003Cp\u003EUPDATE: My issue was a combination of floating point error and very slight orbital period mismatch.... so I kept falling back into kerbin\u0027s soi. Setting up just outside the soi and *behind* kerbin was much easier (and I was able to stay relatively close without fear of being \u0022caught\u0022). Another thing that was confusing me (but not causing problems really) was that KER was showing orbital periods in 24-hour days rather than 6 hour days. I also managed to set up a much more interesting \u0022pseudo orbit\u0022 by burning radial-out once out of the soi, this eliminated accidental encounters and made it seem as if I were still orbiting kerbin (was kinda cool).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-14T04:48:23Z\u0022 title=\u002204/14/2015 04:48  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 14, 2015\u003C/time\u003E by impyre\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2015-04-14T06:27:27Z","Content":"\n\u003Cp\u003EBtw. There are two well-known problems: near-Langrange orbit stability and synchronous orbit stability.\u003C/p\u003E\u003Cp\u003EBoth problems are the same: some virtual point in space moves along a fixed trajectory, and we want all crafts in its proximity to float around this point without an engine burn.\u003C/p\u003E\u003Cp\u003EMaybe the best solution would be if anybody skilled in the KSP modding would create a mod for such purposes, smth like \u0022Attractive Points\u0022.\u003C/p\u003E\u003Cp\u003EI.e. a player manually puts/defines in cfg a virtual non-visual object - where some Lagrange or synchronous position would be.\u003C/p\u003E\u003Cp\u003EThe he/she launches any craft to its proximity range.\u003C/p\u003E\u003Cp\u003EAnd then this object just cyclically searches all crafts in some radius and corrects their position with a brute mathematical force - to keep the craft in proximity unless craft\u0027s engines are on.\u003C/p\u003E\u003Cp\u003EI.e. then we have not a N-bodies problem, but just an orbit patching.\u003C/p\u003E\u003Cp\u003Eupd: Maybe Kopernicus mod would be a quick-and-dirty solution for Lagrange points. Defining invisible and untouchable pseudo-\u0022celestial bodies\u0022 in desired points. \u003C/p\u003E\u003Cp\u003EWith some little mass, weak gravity and small SOI: enough to keep the craft aside, insignificant to effect something another, invisible (or with weak particle effect).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-14T07:01:21Z\u0022 title=\u002204/14/2015 07:01  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 14, 2015\u003C/time\u003E by kerbiloid\u003C/strong\u003E\n\u003C/span\u003E\n"}]}