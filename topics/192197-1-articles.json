{"TopicId":192197,"ForumId":32,"TopicTitle":"Need help for accurate Landing Burn Altitude (kOS)","CreatedByName":"M4GiC","CreatedById":176847,"CreatedDateTime":"2020-03-07T12:49:01Z","PageNum":1,"Articles":[{"CreatedByName":"M4GiC","CreatedById":176847,"CreatedDateTime":"2020-03-07T12:49:01Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Comic Sans MS\u0027, cursive;\u0022\u003EI have been trying to figure out the exact landing burn altitude for my hoverslam script and I can\u0027t work it out accurately. I\u0027ve looked at others\u0027 script but does not seem to work well with my script.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Elock burnAlt to (ship:velocity:surface:mag^2)/(2*(ship:sensors:acc:mag)). \u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis is what I use to determine the landing burn altitude.\u00A0 And my condition is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nif trueRader \u0026lt;= burnAlt {\n\tset autoThrottle to hoverslam.\n} else {\n    set autoThrottle to 0.\n}\n\u003C/pre\u003E\n\u003Cp\u003E\nFrom what i understand from this condition, the throttle should be never 0 whenever it is below and equal to burnAlt unless otherwise. But that\u0027s the problem, the burnAlt decreases\u00A0as the rocket throttling up.\u00A0 Do I need to use constant to find my landing burn altitude or something else that is more efficient?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nP.S: This does not account for aerodynamic drag nor that it need\u00A0to be accounted for\u00A0as I\u0027m playing stock and not \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-03-07T12:50:42Z\u0022 title=\u002203/07/2020 12:50  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 7, 2020\u003C/time\u003E by M4GiC\u003C/strong\u003E\n\u003Cbr\u003ESpelling\n\u003C/span\u003E\n"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2020-03-10T08:08:07Z","Content":"\n\u003Cp\u003E\nUnless your whole script is meant to be run in a loop, you might want to use the\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nWAIT UNTIL ALT:RADAR \u0026lt; burnAlt\u003C/pre\u003E\n\u003Cp\u003E\ninstruction to just delay further script execution until you\u0027re certain to be below the threshold altitude.\n\u003C/p\u003E\n"},{"CreatedByName":"Black-Two-","CreatedById":177626,"CreatedDateTime":"2020-03-10T09:55:12Z","Content":"\n\u003Cp\u003E\nI don\u0027t remember exactly what ship:sensors:acc:mag returns, but in the equation you\u0027re using you should subtract gravity from the craft\u0027s max acceleration. Also, alt:radar is measured from the center of mass, which is not zero when you\u0027re landed, so you might want to look into the bounds structure in the documentation.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"aubranium","CreatedById":200188,"CreatedDateTime":"2020-03-11T15:33:33Z","Content":"\n\u003Cp\u003E\nI recently published a video on the Kerbalism channel with a deep dive walkthrough of a KOS script I wrote to automate a Mun landing. Hoverslam code is included, and it works like a dream on every body I visited in testing. The key for me was not using a constant for gravity, but instead computing the body\u0027s gravity based on altitude and standard gravitational parameter (\u00B5).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.youtube.com/watch?v=t4dIED5JLos\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.youtube.com/watch?v=t4dIED5JLos\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nA link to the script is included in the video description. Hope this helps!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-03-11T15:34:07Z\u0022 title=\u002203/11/2020 03:34  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 11, 2020\u003C/time\u003E by aubranium\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"M4GiC","CreatedById":176847,"CreatedDateTime":"2020-03-13T08:57:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223754463\u0022 data-ipsquote-contentid=\u0022192197\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221583827687\u0022 data-ipsquote-userid=\u0022110576\u0022 data-ipsquote-username=\u0022soulsource\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/10/2020 at 4:08 PM, soulsource said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUnless your whole script is meant to be run in a loop, you might want to use the\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nWAIT UNTIL ALT:RADAR \u0026lt; burnAlt\u003C/pre\u003E\n\u003Cp\u003E\ninstruction to just delay further script execution until you\u0027re certain to be below the threshold altitude.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, the script is meant to run in a loop which is the problem for me.\u00A0\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223754489\u0022 data-ipsquote-contentid=\u0022192197\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221583834112\u0022 data-ipsquote-userid=\u0022177626\u0022 data-ipsquote-username=\u0022Black-Two-\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/10/2020 at 5:55 PM, Black-Two- said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t remember exactly what ship:sensors:acc:mag returns, but in the equation you\u0027re using you should subtract gravity from the craft\u0027s max acceleration. Also, alt:radar is measured from the center of mass, which is not zero when you\u0027re landed, so you might want to look into the bounds structure in the documentation.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m sure\u00A0that it returns the acceleration of the ship. Okay i will try that. Yes i took that into account which create its own problem, now I\u0027m using ship:altitude-(geoposition:terrainheight\u002BOffset). Thank you.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-03-13T08:57:50Z\u0022 title=\u002203/13/2020 08:57  AM\u0022 data-short=\u00224 yr\u0022\u003EMarch 13, 2020\u003C/time\u003E by M4GiC\u003C/strong\u003E\n\u003Cbr\u003ESpelling\n\u003C/span\u003E\n"},{"CreatedByName":"M4GiC","CreatedById":176847,"CreatedDateTime":"2020-03-13T09:12:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223755137\u0022 data-ipsquote-contentid=\u0022192197\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221583940813\u0022 data-ipsquote-userid=\u0022200188\u0022 data-ipsquote-username=\u0022aubranium\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/11/2020 at 11:33 PM, aubranium said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI recently published a video on the Kerbalism channel with a deep dive walkthrough of a KOS script I wrote to automate a Mun landing. Hoverslam code is included, and it works like a dream on every body I visited in testing. The key for me was not using a constant for gravity, but instead computing the body\u0027s gravity based on altitude and standard gravitational parameter (\u00B5).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.youtube.com/watch?v=t4dIED5JLos\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.youtube.com/watch?v=t4dIED5JLos\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nA link to the script is included in the video description. Hope this helps!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGreat video! And great script as well. Although, I\u0027ve seen that hoverslam code before but I was hesitant of using it, don\u0027t know why.\u00A0 I am using this one instead which is rather complicated.\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Edeclare function hoverslamthrot {\n\tlocal targetaccres is (ship:velocity:surface * ship:up:vector) / (2*trueRadarLand) * ship:velocity:surface.\n\tlocal neededengineacc is targetaccres - gravitacc() - coriolisacc() - centrifugalacc() - dragforce(cdTimesA, 1*trueRadarLand, 1*ship:velocity:surface)/ship:mass.\n\treturn (neededengineacc:mag * ship:mass)/ship:availablethrust.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nBut I\u0027m going to try what you are using and see if it works better.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBTW, what mic are using in that video? It sounds great.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"aubranium","CreatedById":200188,"CreatedDateTime":"2020-03-18T15:13:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223755919\u0022 data-ipsquote-contentid=\u0022192197\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221584090724\u0022 data-ipsquote-userid=\u0022176847\u0022 data-ipsquote-username=\u0022M4GiC\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/13/2020 at 2:12 AM, M4GiC said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBTW, what mic are using in that video? It sounds great.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks! I use a Shure SM7B mic with a CloudLifter pre-amp and a Zoom H4N recorder. I\u0027ve been podcasting for about 7yrs about technology, design, and startup life (\u003Ca href=\u0022https://distilledradio.com\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://distilledradio.com\u003C/a\u003E). I\u0027m thrilled to hear you enjoyed the video. Please share with your friends.\u00A0\n\u003C/p\u003E\n"}]}