{"TopicId":115128,"ForumId":39,"TopicTitle":"faeryty\u0027s control panel adventure","CreatedByName":"faeryty","CreatedById":135618,"CreatedDateTime":"2015-07-05T19:05:05Z","PageNum":1,"Articles":[{"CreatedByName":"faeryty","CreatedById":135618,"CreatedDateTime":"2015-07-05T19:05:05Z","Content":"So having not played KSP for months due to lack of time, I decided to give myself some motivation to do so by building my own control panel/simPit (we\u0027ll see how far I get as to what to call it). \n\nI\u0027m really just approaching this hapharzadly with no real plan. I\u0027ve collected a bunch of components from ebay ranging from necessities like resistors and potentiometers through 7 segment and thumb-joysticks up to gLCD. Not really got any concept of how I\u0027m using most of it yet. I also have clones of both arduino uno and arduino mega to drive things and will be using zitroenen\u0027s plugin to drive things. And have some dibond to make my panels from.\n\nI\u0027m a developer by trade, mostly a full stack web dev but do a bit of everything using various languages like C, python, Delphi and java for my job so I\u0027m reasonably competant at switching between languages and picking up new ones. On the other hand, I failed electronics in school so this is going to be fun.\n\nHere\u0027s the current state of my project:\n\n![DSC_0183_zpsoxb2sdn7.jpg](http://i1117.photobucket.com/albums/k597/faeryty/DSC_0183_zpsoxb2sdn7.jpg)\n\nYep. It\u0027s a breadboard with two x 4 digit 7 segment displays driven by a max7219 that shows altitude. I feel accomplished.\n\nAnd here\u0027s the link to the [github repo](https://github.com/faeryty/ksp-simpit/) of my code.\n\n**Edited \u003Ctime datetime=\u00222015-07-06T20:31:58Z\u0022 title=\u002207/06/2015 08:31  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 6, 2015\u003C/time\u003E by faeryty**"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-07-06T18:12:52Z","Content":"I think you\u0027ll find that if you have the knack for it, simpits are a literal pit of awesome that will suck you in, with a smile! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nNow add moar -b-o-o-s-t-e-r-s- displays! ![:cool:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif)"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-07-07T22:55:20Z","Content":"Well, it is not as if the hardware needs to be terribly complicated to be hugely useful. Replace altitude with radar altitude and add a throttle with a rotary potmeter, and you have the most important stuff. You will wonder how you ever managed to land without it once the system is up and running."},{"CreatedByName":"faeryty","CreatedById":135618,"CreatedDateTime":"2015-07-08T06:44:20Z","Content":"Thanks for the replies ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI have some slide pots sitting around that I\u0027ll probably use for a throttle, but I do have an off the shelf HOTAS that I can use for input for now anyway, so at the moment I think I\u0027m on a display all the telemetry kick and will come to controls later on.\n\nActually no, now I\u0027ve understood how a rotary pot would work as a throttle that\u0027s what I want to do. Note to self: [krewmember](https://forum.kerbalspaceprogram.com/threads/122945-My-Simpit-Project?p=1986763\u0026viewfull=1#post1986763) has the right idea.\n\nI vaguely have a design for my first panel, which will have 3x 8 digit seven segment displays, LEDs for K, M and G for each of those displays (until I get some 16seg displays that I can use to display the actual letter) and a switch or 3 to control what mode the panel is in. Planning on having 3 modes that match in game - orbit: showing Alt, Ap and Peri, surface showing rAlt, vert speed and time to suicide burn, and rendezvous/docking showing distance, relative velocity and something else.\n\nThat\u0027s the plan for this first panel at the moment. But I suppose software can always change that without too much hassle...\n\n**Edited \u003Ctime datetime=\u00222015-07-08T09:26:20Z\u0022 title=\u002207/08/2015 09:26  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 8, 2015\u003C/time\u003E by faeryty**\n  \nfound some throttle inspiration"},{"CreatedByName":"faeryty","CreatedById":135618,"CreatedDateTime":"2015-07-08T08:20:28Z","Content":"Okay, so this is where my complete lack of electronics understanding comes into play.\n\nEach segment of my 7seg displays require around 20mA. So a fully lit digit, i.e. an 8 ignoring any decimal points for now, 140mA. Am I right in thinking the max7219 only actually lights one digit at a time, just looping through them so quickly that they look as though they\u0027re constantly on?\n\nMy understanding is that the \u002B5V pin of the arduino can supply up to 500mA. Given i\u0027m currently powering by USB and that itself can only supply 500mA, the max current sourced from the \u002B5V pin is less than that nominal value since I assume the atmega and other components on the arduino also consume some current. If I want to hook up all three 8 digit seven segment displays, that would require 420mA being available, plus around 20mA x 3 for the multiplier indicators, and another 20mA for the mode indicate. There\u0027s 500mA right there. I\u0027m definitely going to need some external power, but have no idea where to start with that. I have absolutely no understanding of elementary electronics but I don\u0027t want to fry my circuits. \n\nI guess I need to take into account voltage of a power supply, max current and AC/DC (and I assume DC is what I need for the vast majority of things) and but what else? Do I need to do anything special to protect my circuits if I hook up an external battery for example? Do I need to do anything special because there will not only be an external power supply but a usb as well?\n\nI\u0027m just gonna store a [link](http://electronics.stackexchange.com/questions/34745/choosing-power-supply-how-to-get-the-voltage-and-current-ratings) to this here, because I want to be able to reference it. Good old stack exchange, a developers best friend.\n\n**Edited \u003Ctime datetime=\u00222015-07-08T08:30:42Z\u0022 title=\u002207/08/2015 08:30  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 8, 2015\u003C/time\u003E by faeryty**"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-07-08T19:27:50Z","Content":"There is a very informative page on the Arduino website detailing the power consumption of MAX display drivers. Basically, if you need more than one 8 digit display, you need external power. I use a 12 V 1.2 A DC power supply I had lying around, it plugs directly into the drum connector on the Arduino. It then limits the voltage to 5 V. There is quite some waste there, but it actually handles a bit more within safety margin. [http://playground.arduino.cc/Learning/WhatAdapter](http://playground.arduino.cc/Learning/WhatAdapter)"},{"CreatedByName":"faeryty","CreatedById":135618,"CreatedDateTime":"2015-07-09T21:02:17Z","Content":"Thanks for the info. I shall have to seek out 12v wall wart. Surely, surely I have one lying around the house somewhere.\n\nIn other news, I officially hate soldering. I evidently cannot think in mirror images or follow my carefully drawn out circuit diagrams. I think I need to invest in some acetate and coloured markers for it so I can draw it, colour code the wires then turn it over and not end up desoldering half of my wires when i realise I\u0027ve reversed some of them but not the others.\n\nOr maybe Ill just get some supplies to etch my own pcbs."},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-07-10T19:50:47Z","Content":"I think that soldering is the one thing I really learned by doing prototyping for my second controller. I always draw my diagrams solder side up, so I can follow them as they are drawn, and use ten different color wires (although I am running out). For complicated projects, I tend to cross out the wires on the diagram as they are soldered, and go about slow and systematically. \n\nIt is also a place where the quality of hardware *really* makes a difference. I switched soldering iron twice before I settled on a 12 W with a tiny tip, and a good solder with lots of rosin to make it stick. I got a \u0022third hand\u0022 (actually, two sets because one has the tweezers too far apart) to keep things in place while I solder. When I started, I had been doing a little bit of electrics, but it was my first adventure into electronics, so I had to learn to use veroboards. I found some with same layout as breadboard that are highly useful, as well as ones with 3 hole strips that I cut up for mounting connectors on my panel. Further, shrink tube wrapping have some commonalities with [close air support](http://www.schlockmercenary.com/2008-04-14), making your connections a lot more robust than they would otherwise have been.\n\nIf you have difficulties making the solder joints hold, try to watch a couple of youtube videos for hints. I made a world of difference for me, as well as a lot of practice on now discarded boards while trying to figure my controller."},{"CreatedByName":"faeryty","CreatedById":135618,"CreatedDateTime":"2015-07-23T19:11:51Z","Content":"I\u0027ve given up on point to point soldering now. I have some copper clad and etchant on their way, and have designed my PCB in fritzing. So I\u0027m going to have a play with toner transfer and etching soon. \n\nI now have a concept for my controller though. I\u0027m going steampunk. Steampunk TARDIS console to be specific. I have various ideas floating around in my head, elements that have crystalised into solid plans include lots of nixie tubes. I even have my first set of IN-14 tubes to make a steampunk version of my altimeter. I\u0027m also planning a peripheral DSKY with a load of little nixies, which will plug into each panel (6 of them of course, given it\u0027s a TARDIS console). \n\nPanels I\u0027m planning are listed below, subject to a lot of change. I\u0027ll be making them one at a time, so things may well get shifted around a lot. Still, it should be fun.\n\nMain flight controls\n\n----------------------\n\nAltimeter - nixie tubes\n\nSOI Display - I have a plan but no idea how to describe it. Basically a rotating display attached to a servo.\n\nThrottle - large lever\n\nStage - not sure yet - possibly some sort of flush like device, possibly a foot pedal. Possibly both, connected mechanically. \n\nFlight stick - undecided as to how to approach it\n\nDSKY port\n\nSteam gauges for useful things like fuel remaining, battery status, velocity. I say steam gauges. I\u0027d love to actually run them on compressed air, but for now they\u0027ll just be pretty ammeters mounted on copper tubing.\n\nDocking\n\n---------\n\nArray of 6 levers for translation and transformation.\n\nDocking Port Alignment Indicator - I\u0027m dreaming of a small monochrome CRT with a display kinda like the eponymous app.\n\nSome edgewise meters for telemetry. \n\nDSKY Port\n\nAuxilliary Systems\n\n---------------------\n\nAtmopheric flight\n\n--------------------\n\nRoving\n\n--------\n\nPanel 6?\n\n--------\n\n**Edited \u003Ctime datetime=\u00222015-07-23T19:20:53Z\u0022 title=\u002207/23/2015 07:20  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 23, 2015\u003C/time\u003E by faeryty**"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-07-24T05:00:08Z","Content":"I just put together a nicely comprehensive compilation of info on some of the nicest edgewise meters for the application. Rather than repost the same data, I\u0027ll just link the thread. OP had specifically asked about the Apollo/Shuttle edgewise fuel meters, and was wondering if there were similar meters.https://forum.kerbalspaceprogram.com/threads/104969-Custom-Controller-Parts?p=2098492#post2098492\n\nhttp://forum.kerbalspaceprogram.com/threads/104969-Custom-Controller-Parts?p=2098492#post2098492\n\nHaha! Another nixie fan! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nAs much as I LOVE nixies, they wouldn\u0027t fit the look I\u0027m going for.\n\nIt\u0027s okay though, my computer has nixies to make up for it! ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)\n\n**Edited \u003Ctime datetime=\u00222015-07-25T05:32:14Z\u0022 title=\u002207/25/2015 05:32  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 25, 2015\u003C/time\u003E by richfiles**"}]}