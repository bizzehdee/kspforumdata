{"TopicId":91625,"ForumId":34,"TopicTitle":"[1.10.1\u002B] Contract Configurator [v1.30.5] [2020-10-05]","CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2014-11-30T06:23:07Z","PageNum":69,"Articles":[{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-09-03T03:43:21Z","Content":"\n\u003Cp\u003EDo you know what this is about?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[ERR 22:41:03.918] ContractConfigurator.ContractType: CONTRACT_TYPE \u0027FS_Scraps\u0027: Error parsing validBodies\u003Cbr\u003E\u003Cbr\u003E[EXC 22:41:03.919] DataStoreCastException: Cannot cast from CelestialBody to System.Collections.Generic.List\u00601[CelestialBody].\u003Cbr\u003E\tContractConfigurator.ExpressionParser.ExpressionParser\u00601[CelestialBody].ParseList[CelestialBody] ()\u003Cbr\u003E\tRethrow as TargetInvocationException: Exception has been thrown by the target of an invocation.\u003Cbr\u003E\tSystem.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)\u003Cbr\u003E\tSystem.Reflection.MethodBase.Invoke (System.Object obj, System.Object[] parameters)\u003Cbr\u003E\tContractConfigurator.ExpressionParser.ExpressionParser\u00601[Contracts.Contract\u002BContractPrestige].ParseStatement[ContractPrestige] ()\u003Cbr\u003E\tRethrow as DataStoreCastException: Cannot cast from CelestialBody to System.Collections.Generic.List\u00601[CelestialBody].\u003Cbr\u003E\tContractConfigurator.ExpressionParser.ExpressionParser\u00601[Contracts.Contract\u002BContractPrestige].ParseStatement[ContractPrestige] ()\u003Cbr\u003E\tRethrow as TargetInvocationException: Exception has been thrown by the target of an invocation.\u003Cbr\u003E\tSystem.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)\u003Cbr\u003E\tSystem.Reflection.MethodBase.Invoke (System.Object obj, System.Object[] parameters)\u003Cbr\u003E\tContractConfigurator.ExpressionParser.ExpressionParser\u00601[CelestialBody].ParseStatement[CelestialBody] ()\u003Cbr\u003E\tRethrow as DataStoreCastException: Cannot cast from CelestialBody to System.Collections.Generic.List\u00601[CelestialBody].\u003Cbr\u003E\tContractConfigurator.ExpressionParser.ExpressionParser\u00601[CelestialBody].ParseStatement[CelestialBody] ()\u003Cbr\u003E\tRethrow as Exception: Error parsing statement.\u003Cbr\u003E\tError occurred near \u0027*\u0027:\u003Cbr\u003E\tPrestige() == Trivial ? [ HomeWorld() ] : Prestige() == Significant ? @FieldResearch:l2Bodies.Random() : @FieldResearch:l3Bodies.Random()\u003Cbr\u003E\t.......................* \u0026lt;-- HERE\u003Cbr\u003E\tContractConfigurator.ExpressionParser.ExpressionParser\u00601[T].ParseExpression (System.String key, System.String expression, ContractConfigurator.ExpressionParser.DataNode dataNode)\u003Cbr\u003E\tContractConfigurator.ExpressionParser.ExpressionParser\u00601[T].ExecuteExpression (System.String key, System.String expression, ContractConfigurator.ExpressionParser.DataNode dataNode)\u003Cbr\u003E\tContractConfigurator.ConfigNodeUtil.ParseSingleValue[CelestialBody] (System.String key, System.String stringValue, Boolean allowExpression)\u003Cbr\u003E\tSystem.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)\u003Cbr\u003E\tRethrow as TargetInvocationException: Exception has been thrown by the target of an invocation.\u003Cbr\u003E\tSystem.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)\u003Cbr\u003E\tSystem.Reflection.MethodBase.Invoke (System.Object obj, System.Object[] parameters)\u003Cbr\u003E\tContractConfigurator.ConfigNodeUtil.ParseValue[List\u00601] (.ConfigNode configNode, System.String key, Boolean allowExpression)\u003Cbr\u003E\tUnityEngine.Debug:LogException(Exception)\u003Cbr\u003E\tContractConfigurator.LoggingUtil:LogException(Exception)\u003Cbr\u003E\tContractConfigurator.ConfigNodeUtil:ParseValue(ConfigNode, String, Action\u00601, IContractConfiguratorFactory, List\u00601, Func\u00602)\u003Cbr\u003E\tContractConfigurator.ConfigNodeUtil:ParseValue(ConfigNode, String, Action\u00601, IContractConfiguratorFactory, Func\u00602)\u003Cbr\u003E\tContractConfigurator.DeferredLoadUtil:ExecuteLoad(DeferredLoadObject\u00601)\u003Cbr\u003E\tSystem.Reflection.MethodBase:Invoke(Object, Object[])\u003Cbr\u003E\tContractConfigurator.\u0026lt;UpdateNonDeterministicValuesIterator\u0026gt;d__10:MoveNext()\u003Cbr\u003E\tSystem.Linq.\u0026lt;CreateConcatIterator\u0026gt;c__Iterator1\u00601:MoveNext()\u003Cbr\u003E\tContractConfigurator.\u0026lt;ContractGenerator\u0026gt;d__f:MoveNext()\u003Cbr\u003E\tContractConfigurator.\u0026lt;ContractGenerator\u0026gt;d__2:MoveNext()\u003Cbr\u003E\tContractConfigurator.ContractPreLoader:Update()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-09-03T03:47:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EFixed that for you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EReally? I thought for sure it was RoverDude. Maybe it\u0027s that he has \u0022Rover\u0022 in his name. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-03T04:22:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EDo you know what this is about?\u003Cp\u003E\u0026lt;snip\u0026gt;\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo idea. Raised [\u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/issues/313\u0022 rel=\u0022external nofollow\u0022\u003E#313\u003C/a\u003E]\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EReally? I thought for sure it was RoverDude. Maybe it\u0027s that he has \u0022Rover\u0022 in his name. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, was definitely Arsonide\u0027s FinePrint - I\u0027m fairly certain RoverDude never touched contracts in a mod (although I guess the Asteroid Day thing counts).\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-09-03T05:35:18Z","Content":"\n\u003Cp\u003EOkay I\u0027ve got 2 questions for you, and no log file yet but I\u0027ll try to get one asap.\u003C/p\u003E\u003Cp\u003Ehidden and hideChildren don\u0027t seem to be working, or at least don\u0027t do what I expect. Given this code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tPARAMETER\u003Cbr\u003E\t{\u003Cbr\u003E\t\ttype = VesselParameterGroup\u003Cbr\u003E\t\ttitle = Get the ENTIRE station on the ground. If a couple parts burn off or explode it shouldn\u0027t be a big deal, but we need at least ONE of every part the station started with.\u003Cbr\u003E\t\thideChildren = true\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\ttype = ReturnHome\u003Cbr\u003E\t\t\thidden = true\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\ttype = PartValidation\u003Cbr\u003E\t\t\tpart = batteryBank\u003Cbr\u003E\t\t\thidden = true\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\ttype = PartValidation\u003Cbr\u003E\t\t\tpart = advSasModule\u003Cbr\u003E\t\t\thidden = true\u003Cbr\u003E\t\t}\u003Cbr\u003E... (and about 20 more)\u003Cbr\u003E\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhether I have that hideChildren in there OR the hidden, the parameters show up in the contracts and look all ugly\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://pulpaudio.com/ksp/not_hidden.jpg\u0022 alt=\u0022not_hidden.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m trying to make it just have what I wrote, which is Human for all the stuff that shows up below.\u003C/p\u003E\u003Cp\u003ESecond one, I\u0027m spawning parts at random around KSC for a contract, and sometimes the part just doesn\u0027t show up. In the debug I\u0027m not seeing anything related to making that part show up. I\u0027m going through right now generating parts to get an example to upload a log, but KSP\u0027s fighting me at the moment.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-03T05:48:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00225thHorseman\u0022 data-cite=\u00225thHorseman\u0022\u003E\u003Cdiv\u003EOkay I\u0027ve got 2 questions for you, and no log file yet but I\u0027ll try to get one asap.\u003Cp\u003Ehidden and hideChildren don\u0027t seem to be working, or at least don\u0027t do what I expect. Given this code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    PARAMETER\u003Cbr\u003E    {\u003Cbr\u003E        type = VesselParameterGroup\u003Cbr\u003E        title = Get the ENTIRE station on the ground. If a couple parts burn off or explode it shouldn\u0027t be a big deal, but we need at least ONE of every part the station started with.\u003Cbr\u003E        hideChildren = true\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            type = ReturnHome\u003Cbr\u003E            hidden = true\u003Cbr\u003E        }\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            type = PartValidation\u003Cbr\u003E            part = batteryBank\u003Cbr\u003E            hidden = true\u003Cbr\u003E        }\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            type = PartValidation\u003Cbr\u003E            part = advSasModule\u003Cbr\u003E            hidden = true\u003Cbr\u003E        }\u003Cbr\u003E... (and about 20 more)\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhether I have that hideChildren in there OR the hidden, the parameters show up in the contracts and look all ugly\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pulpaudio.com/ksp/not_hidden.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pulpaudio.com/ksp/not_hidden.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m trying to make it just have what I wrote, which is Human for all the stuff that shows up below.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure why that\u0027s not working, you\u0027ve got a pretty basic use case there. I\u0027m just about to sign off for the night - mind copying this into a GitHub issue and I\u0027ll reproduce tomorrow?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ESecond one, I\u0027m spawning parts at random around KSC for a contract, and sometimes the part just doesn\u0027t show up. In the debug I\u0027m not seeing anything related to making that part show up. I\u0027m going through right now generating parts to get an example to upload a log, but KSP\u0027s fighting me at the moment.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs it tied to specific parts or random? It could perhaps be \u0022under\u0022 KSC (which is actually floating 5-10 m above the terrain) - although you\u0027d still see a vessel icon and see it in the tracking station in that case. Can\u0027t really think of anything else to ask on this one, but there\u0027s enough issues with Vessel spawning that it wouldn\u0027t surprise me if there\u0027s something weird going on.\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2015-09-03T06:00:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-cite=\u0022nightingale\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-username=\u0022nightingale\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nnightingale said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv\u003E\nNot sure why that\u0027s not working, you\u0027ve got a pretty basic use case there. I\u0027m just about to sign off for the night - mind copying this into a GitHub issue and I\u0027ll reproduce tomorrow?\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWill do.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-cite=\u0022nightingale\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-username=\u0022nightingale\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nnightingale said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv\u003E\nIs it tied to specific parts or random? It could perhaps be \u0022under\u0022 \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E (which is actually floating 5-10 m above the terrain) - although you\u0027d still see a vessel icon and see it in the tracking station in that case. Can\u0027t really think of anything else to ask on this one, but there\u0027s enough issues with Vessel spawning that it wouldn\u0027t surprise me if there\u0027s something weird going on.\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not tied to a part. I just successfully generated each part.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not the spawning under terrain thing, I\u0027ve already had that problem and fixed it \u003Cimg alt=\u0022:D\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022\u003E, and it doesn\u0027t happen every time. Maybe 1 out 10 or so. I\u0027ve got the log file, there is a null ref in there:\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003ENullReferenceException: Object reference not set to an instance of an object\n  at ContractConfigurator.Behaviour.SpawnVessel.CreateVessels () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n\u003C/pre\u003E\n\u003Cp\u003E\nHere\u0027s my current full contract pack that has both issues, so you don\u0027t have to set anything up. All you need to do is accept and then alt-f12 to complete the grabby car, and the other contracts will start showing up. To get the Kylab contract (which has the hidden/hidechildren stuff) you must also accept and complete the Old Lander contract.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E[defunct site link removed by moderator]\u003C/em\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2015-09-04T17:50:19Z","Content":"\n\u003Cp\u003EThis may well be me, but I\u0027m getting an unhandled exception:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EException occured while attempt to generate contract of type \u0027SurfaceSample\u0027:\u003Cbr\u003ESystem.ArgumentNullException: Argument cannot be null.\u003Cbr\u003EParameter name: source\u003Cbr\u003E  at System.Linq.Check.SourceAndSelector (System.Object source, System.Object selector) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at System.Linq.Enumerable.Select[ScienceExperiment,String] (IEnumerable\u00601 source, System.Func\u00602 selector) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.CollectScienceFactory.Generate (Contracts.Contract contract) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.ParameterFactory.Generate (ContractConfigurator.ConfiguredContract contract, IContractParameterHost contractParamHost) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.ParameterFactory.GenerateParameters (ContractConfigurator.ConfiguredContract contract, IContractParameterHost contractParamHost, System.Collections.Generic.List\u00601 paramFactories) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.ParameterFactory.GenerateParameters (ContractConfigurator.ConfiguredContract contract, IContractParameterHost contractParamHost, System.Collections.Generic.List\u00601 paramFactories) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.ContractType.GenerateParameters (ContractConfigurator.ConfiguredContract contract) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at ContractConfigurator.ConfiguredContract.Initialize (ContractConfigurator.ContractType contractType) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ELooking at the debug log, the bit it doesn\u0027t like is:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\tDATA\u003Cbr\u003E\t{\u003Cbr\u003E\ttype = ScienceSubject\u003Cbr\u003E\trequiredValue = true\u003Cbr\u003E\tuniqueValue = true\u003Cbr\u003E\texperiment1 = AllScienceSubjectsByBiome([@biome1]).Where(s =\u0026gt; s.Experiment() == surfaceSample \u0026amp;\u0026amp; s.CollectedScience() \u0026lt;1).First()\u003Cbr\u003E\t}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe specific error in the log is \u0022Cannot cast from ScienceSubject to ScienceExperiment\u0022 (but I don\u0027t think I\u0027m trying to?)\u003C/p\u003E\u003Cp\u003EIt\u0027s probably an issue with my contract... basically, I\u0027m trying to only make the contract ask for Surface Samples if the player hasn\u0027t already collected one from that biome.\u003C/p\u003E\u003Cp\u003EFull contract: \u003Ca href=\u0022http://pastebin.com/SZQqmdzZ\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/SZQqmdzZ\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELogs: \u003Ca href=\u0022https://www.dropbox.com/s/mpgy01ics7f4ja2/Logs.zip?dl=0:\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/mpgy01ics7f4ja2/Logs.zip?dl=0:\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: I figured it out. The problem was further down, in the Parameters. I was using\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eexperiment = @/experiment1\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ebut I should have been using \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Esubject = @/experiment1\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EStill... unhandled exception and all that. Could be handled a little more gracefully.\u003C/p\u003E\u003Cp\u003EEdit the 2nd: And I think I found a real exception. I\u0027ve just logged \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/issues/315\u0022 rel=\u0022external nofollow\u0022\u003E#315\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-04T18:15:22Z\u0022 title=\u002209/04/2015 06:15  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 4, 2015\u003C/time\u003E by severedsolo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-04T21:02:10Z","Content":"\n\u003Cp\u003EThanks for the bug report - I see what the issue is, and should be able to fix it for the next release.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-05T04:23:59Z","Content":"\n\u003Cp\u003EBug fix release. \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/releases/tag/1.7.3\u0022 rel=\u0022external nofollow\u0022\u003EDownload now\u003C/a\u003E!\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EContract Configurator 1.7.3\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EAdded Round() function for rounding numeric values.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EContracts will now expire out of the pre-loader after a few Kerbin days. Help prevent contracts that may no longer be valid from being generated.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed issue with hidden parameters not actually being hidden (thanks 5thHorseman).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed issue with using subject with CollectScience (thanks severedsolo).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed issue using Biome with uniqueValue in a DATA node (thanks severedsolo).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EFixed issue where disabling a contract pack doesn\u0027t save the fact that it is disabled (thanks Poodmund).\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"TheRag","CreatedById":144674,"CreatedDateTime":"2015-09-06T17:00:54Z","Content":"\n\u003Cp\u003EIs it possible to have contracts target Biomes? I am thinking about starting a contract back that involves biome targeting. I just want to make sure that CC can target biomes.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-06T18:35:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheRag\u0022 data-cite=\u0022TheRag\u0022\u003E\u003Cdiv\u003EIs it possible to have contracts target Biomes? I am thinking about starting a contract back that involves biome targeting. I just want to make sure that CC can target biomes.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe question is sort of vague, I\u0027d recommend reading the wiki and asking more specific questions. \u003C/p\u003E\u003Cp\u003EIn general, there is some stuff you can do around biomes, mostly around science. Doll the answer is most likely yes. Other stuff that isn\u0027t there might be easy to add - all depends on what you\u0027re trying to do.\u003C/p\u003E\n"},{"CreatedByName":"TheRag","CreatedById":144674,"CreatedDateTime":"2015-09-06T19:17:34Z","Content":"\n\u003Cp\u003EWell, I am looking to add contracts that replace the default \u0022Take visual surveys and crew reports on X area\u0022 with \u0022Explore X biome.\u0022\u003C/p\u003E\u003Cp\u003EFor example instead of \u0022Take a crew report at Area XYZ\u0022 it\u0027ll be \u0022Explore the Far-side Crater of the Mun\u0022 or \u0022Explore the Greater Flats of Minmus.\u0022 I am hoping that these contracts will incentivize exploring all the biomes on the celestial bodies. I will check the wiki on it.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-06T19:23:47Z","Content":"\n\u003Cp\u003EShould be possible. \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/wiki/ReachState-Parameter\u0022 rel=\u0022external nofollow\u0022\u003EReachState\u003C/a\u003E supports a biome, so that covers a contract parameter for things like \u0022Landed at the Mun\u0027s Highlands\u0022. You can get a list of biomes for a \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/wiki/CelestialBody-Type\u0022 rel=\u0022external nofollow\u0022\u003ECelestialBody \u003C/a\u003Eusing the Biomes() method (eg. @targetBody.Biomes()). There\u0027s no way to tell which biomes a player has visited, aside from which biomes they\u0027ve done science in. That gets a bit more complicated, but you can have a look at \u003Ca href=\u0022https://github.com/jrossignol/ContractPack-FieldResearch/tree/master/GameData/ContractPacks/FieldResearch\u0022 rel=\u0022external nofollow\u0022\u003EField Research\u003C/a\u003E, it should have lots of examples that are pretty close to what you want.\u003C/p\u003E\n"},{"CreatedByName":"zeropositivo","CreatedById":133563,"CreatedDateTime":"2015-09-07T20:52:00Z","Content":"\n\u003Cp\u003EHey there. I\u0027ve got a question regarding modded contract packs in general. Let\u0027s say I completed one contract pack\u0027s contract progression (like Kerbin of Fire, for example), so new contracts are not showing up anymore (as it should happen). Would there be a way to force said contract progress to restart? I\u0027ve tried simply removing the contract pack in question and reinstalling it, but that hasn\u0027t done the trick\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-08T02:33:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zeropositivo\u0022 data-cite=\u0022zeropositivo\u0022\u003E\u003Cdiv\u003EHey there. I\u0027ve got a question regarding modded contract packs in general. Let\u0027s say I completed one contract pack\u0027s contract progression (like Kerbin of Fire, for example), so new contracts are not showing up anymore (as it should happen). Would there be a way to force said contract progress to restart? I\u0027ve tried simply removing the contract pack in question and reinstalling it, but that hasn\u0027t done the trick\u003Cp\u003EThanks!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere isn\u0027t a simple answer, as it depends how the contract pack does its progression logic. If it does it by contracts (you have to do contract A to get contract \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E, then you can clear all your completed contracts through the alt-f12 debug menu. If it uses any other mechanism (KSP internal progress tracking, \u0022state\u0022 variables), then you need to do some save hackery, and you\u0027d need to understand what the contract pack in question is doing to do it right.\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-09-08T04:20:20Z","Content":"\n\u003Cp\u003EOk, so changed all my contracts over to using type duration instead of VPG duration. Just tried to test a really simple setup and after the duration completes it reverts to non-completions if the next step negates the previous.\u003C/p\u003E\u003Cp\u003Eso for instance:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\tPARAMETER\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = Orbit\u003Cbr\u003E\t\ttype = VesselParameterGroup\u003Cbr\u003E\t\ttitle = Orbit @targetBody\u003Cbr\u003E\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = NewVessel\u003Cbr\u003E\t\t\ttype = NewVessel\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = HasCrew\u003Cbr\u003E\t\t\ttype = HasCrew\u003Cbr\u003E\t\t\tminCrew = 1\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = Orbit\u003Cbr\u003E\t\t\ttype = Orbit\u003Cbr\u003E\t\t\tminPeA = @targetBody.AtmosphereAltitude() * 1.1\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = Duration\u003Cbr\u003E\t\t\ttype = Duration\u003Cbr\u003E\t\t\tduration = 1d\u003Cbr\u003E\u003Cbr\u003E\t\t\tpreWaitText = Orbiting for a day will provide us with some valuable data.\u003Cbr\u003E\t\t\twaitingText = One more day should do.\u003Cbr\u003E\t\t\tcompletionText = Excellent, this will be very helpful.\u003Cbr\u003E\t\t\trewardFunds = 6250 / @targetBody.Multiplier()\u003Cbr\u003E\t\t\trewardScience = 2 / @targetBody.Multiplier()\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tPARAMETER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = ReturnHome\u003Cbr\u003E\t\t\ttype = ReturnHome\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI used to have this contract apply a simple 1d duration under the VPG. Trying to move everything over to type=duration instead.\u003C/p\u003E\u003Cp\u003EBut this isn\u0027t working how I thought it would. Is the issue that the ones before ReturnHome don\u0027t stay completed since return home is in the same VPG? I did try completeinsequence and disableonstatechange to no avail.\u003C/p\u003E\u003Cp\u003EHowever, if I add another VPG then you are tied to the one vessel. Sorry if this is similar to other conversations we\u0027ve had before. I haven\u0027t worked on this for a week or so, so I may be teading similar ground.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-08T04:43:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EOk, so changed all my contracts over to using type duration instead of VPG duration. Just tried to test a really simple setup and after the duration completes it reverts to non-completions if the next step negates the previous.\u003Cp\u003Eso for instance:\u003C/p\u003E\u003Cp\u003E\u0026lt;snip\u0026gt;\u003C/p\u003E\u003Cp\u003EI used to have this contract apply a simple 1d duration under the VPG. Trying to move everything over to type=duration instead.\u003C/p\u003E\u003Cp\u003EBut this isn\u0027t working how I thought it would. Is the issue that the ones before ReturnHome don\u0027t stay completed since return home is in the same VPG? I did try completeinsequence and disableonstatechange to no avail.\u003C/p\u003E\u003Cp\u003EHowever, if I add another VPG then you are tied to the one vessel. Sorry if this is similar to other conversations we\u0027ve had before. I haven\u0027t worked on this for a week or so, so I may be teading similar ground.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI may have to go and document up some stuff around the Duration, as the recommended way to do this has changed (NathanKell came up with some more issues that needed a fix). So the recommendation for what you\u0027re trying to do would look like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    PARAMETER\u003Cbr\u003E    {\u003Cbr\u003E        name = Orbit\u003Cbr\u003E        type = VesselParameterGroup\u003Cbr\u003E        title = Orbit @targetBody\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = NewVessel\u003Cbr\u003E            type = NewVessel\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = HasCrew\u003Cbr\u003E            type = HasCrew\u003Cbr\u003E            minCrew = 1\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = Orbit\u003Cbr\u003E            type = Orbit\u003Cbr\u003E            minPeA = @targetBody.AtmosphereAltitude() * 1.1\u003Cbr\u003E\u003Cbr\u003E            PARAMETER\u003Cbr\u003E            {\u003Cbr\u003E                name = Duration\u003Cbr\u003E                type = Duration\u003Cbr\u003E                duration = 1d\u003Cbr\u003E\u003Cbr\u003E                preWaitText = Orbiting for a day will provide us with some valuable data.\u003Cbr\u003E                waitingText = One more day should do.\u003Cbr\u003E                completionText = Excellent, this will be very helpful.\u003Cbr\u003E                rewardFunds = 6250 / @targetBody.Multiplier()\u003Cbr\u003E                rewardScience = 2 / @targetBody.Multiplier()\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = ReturnHome\u003Cbr\u003E            type = ReturnHome\u003Cbr\u003E\u003Cbr\u003E            completeInSequence = true\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-09-08T04:54:17Z","Content":"\n\u003Cp\u003EOk, thanks. That was literally the one thing I hadn\u0027t tried yet. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E it was the next thing though...\u003C/p\u003E\u003Cp\u003EAlso, do you sleep with this thread open or something cuz you respond so insanely fast! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-08T04:56:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EOk, thanks. That was literally the one thing I hadn\u0027t tried yet. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E it was the next thing though...\u003Cp\u003EAlso, do you sleep with this thread open or something cuz you respond so insanely fast! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI check subscribed threads frequently (and I have a lot of subscriptions). \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-09-08T19:48:10Z","Content":"\n\u003Cp\u003EI\u0027ve got the following DATA node and it\u0027s working great. But I decided that I don\u0027t want this contract to fire more than once per planet.\u003C/p\u003E\u003Cp\u003ESo, this contract fires if you have reached a planet but not landed on. Issue is, for compatibility reasons I don\u0027t check whether it has been orbited or not. Technically you can complete this contract without landing on the body. If you do that the CB will still be a valid target. It also will continue to offer the contact for surfaceless bodies and that isn\u0027t ideal either.\u003C/p\u003E\u003Cp\u003ELooking at data documentation I thought about adding uniqueValue = true but then I\u0027m assuming if the player failed the contract it wouldn\u0027t fire for that planet.\u003C/p\u003E\u003Cp\u003EAny thoughts on a \u0022simple\u0022 way to do this?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = CelestialBody\u003Cbr\u003E\tactiveUniqueValue = true\u003Cbr\u003E        validTarget = AllBodies().Where(cb =\u0026gt; cb.SemiMajorAxis() \u0026lt; @/smamax \u0026amp;\u0026amp; cb.SemiMajorAxis() \u0026gt; @/smamin \u0026amp;\u0026amp; cb.IsPlanet() \u0026amp;\u0026amp; cb.HaveReached() \u0026amp;\u0026amp; cb.HaveLandedOn() == false \u0026amp;\u0026amp; cb.IsHomeWorld() == false).Random()\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-08T20:06:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EI\u0027ve got the following DATA node and it\u0027s working great. But I decided that I don\u0027t want this contract to fire more than once per planet.\u003Cp\u003ESo, this contract fires if you have reached a planet but not landed on. Issue is, for compatibility reasons I don\u0027t check whether it has been orbited or not. Technically you can complete this contract without landing on the body. If you do that the CB will still be a valid target. It also will continue to offer the contact for surfaceless bodies and that isn\u0027t ideal either.\u003C/p\u003E\u003Cp\u003ELooking at data documentation I thought about adding uniqueValue = true but then I\u0027m assuming if the player failed the contract it wouldn\u0027t fire for that planet.\u003C/p\u003E\u003Cp\u003EAny thoughts on a \u0022simple\u0022 way to do this?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = CelestialBody\u003Cbr\u003E    activeUniqueValue = true\u003Cbr\u003E        validTarget = AllBodies().Where(cb =\u0026gt; cb.SemiMajorAxis() \u0026lt; @/smamax \u0026amp;\u0026amp; cb.SemiMajorAxis() \u0026gt; @/smamin \u0026amp;\u0026amp; cb.IsPlanet() \u0026amp;\u0026amp; cb.HaveReached() \u0026amp;\u0026amp; cb.HaveLandedOn() == false \u0026amp;\u0026amp; cb.IsHomeWorld() == false).Random()\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe expression behaviour changes that allow you to have any type (introduced in 1.7.x) will help you here. I\u0027m thinking something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    // Track the bodies that this contract has been completed for\u003Cbr\u003E    BEHAVIOUR\u003Cbr\u003E    {\u003Cbr\u003E        type = Expression\u003Cbr\u003E\u003Cbr\u003E        // The CONTRACT_COMPLETED_SUCCESS node gets executed when the\u003Cbr\u003E        // contract is completed successfully.\u003Cbr\u003E        CONTRACT_COMPLETED_SUCCESS\u003Cbr\u003E        {\u003Cbr\u003E            type = List\u0026lt;CelestialBody\u0026gt;\u003Cbr\u003E\u003Cbr\u003E            DummyList = [ @/targetBody ]\u003Cbr\u003E            NoriContractCompletedBody = $DummyList.Concat($NoriContractCompletedBody)\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    // Add in an exclusion for anything where there contract has already been completed\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = CelestialBody\u003Cbr\u003E        activeUniqueValue = true\u003Cbr\u003E        validTarget = AllBodies().Where(cb =\u0026gt; cb.SemiMajorAxis() \u0026lt; @/smamax \u0026amp;\u0026amp; cb.SemiMajorAxis() \u0026gt; @/smamin \u0026amp;\u0026amp; cb.IsPlanet() \u0026amp;\u0026amp; cb.HaveReached() \u0026amp;\u0026amp; cb.HaveLandedOn() == false \u0026amp;\u0026amp; cb.IsHomeWorld() == false).[COLOR=#ff0000]ExcludeAll($NoriContractCompletedBody).[/COLOR]Random()\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI haven\u0027t tested the above, so it may not work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe reason I do stuff in a bit of a weird way is due to some parser limitations. If it hasn\u0027t initialized $NoriContractCompletedBody, it won\u0027t know what type it is, which means doing $NoriContractCompletedBody.Something() won\u0027t parse. There\u0027s a chance the way I did it above won\u0027t work either... but this way probably has the best odds.\u003C/p\u003E\u003Cp\u003EOh and a quick tip - if you seperate the validTarget into two (ie. break out a List\u0026lt;CelestialBody\u0026gt; called validTargets), you\u0027ll be able to see its list of bodies in the debug window - might help you in testing/debugging.\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-09-08T21:55:03Z","Content":"\n\u003Cp\u003EThanks. I\u0027ll try that out.\u003C/p\u003E\u003Cp\u003ELists confuse me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E ... Something like this then? Is the activeUniqueValue in the right spot?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = CelestialBody\u003Cbr\u003E        activeUniqueValue = true\u003Cbr\u003E        validTarget = AllBodies().Where(cb =\u0026gt; cb.SemiMajorAxis() \u0026lt; @/smamax \u0026amp;\u0026amp; cb.SemiMajorAxis() \u0026gt; @/smamin \u0026amp;\u0026amp; cb.IsPlanet() \u0026amp;\u0026amp; cb.HaveReached() \u0026amp;\u0026amp; cb.HaveLandedOn() == false \u0026amp;\u0026amp; cb.IsHomeWorld() == false).Random()\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = List\u0026lt;CelestialBody\u0026gt;\u003Cbr\u003E        validTargets = validTarget\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI looked at some of your contracts and is there any reason why I couldn\u0027t do this instead?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EtargetBody = @/validTarget.Random()\u003Cbr\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = List\u0026lt;CelestialBody\u0026gt;\u003Cbr\u003E        activeUniqueValue = true\u003Cbr\u003E        validTarget = AllBodies().Where(cb =\u0026gt; cb.SemiMajorAxis() \u0026lt; @/smamax \u0026amp;\u0026amp; cb.SemiMajorAxis() \u0026gt; @/smamin \u0026amp;\u0026amp; cb.IsPlanet() \u0026amp;\u0026amp; cb.HaveReached() \u0026amp;\u0026amp; cb.HaveLandedOn() == false \u0026amp;\u0026amp; cb.IsHomeWorld() == false)\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf I am able to, could .ExcludeAll($NoriContractCompletedBody) still be added to the end?\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-09-09T00:55:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EI may have to go and document up some stuff around the Duration, as the recommended way to do this has changed (NathanKell came up with some more issues that needed a fix). So the recommendation for what you\u0027re trying to do would look like this:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    PARAMETER\u003Cbr\u003E    {\u003Cbr\u003E        name = Orbit\u003Cbr\u003E        type = VesselParameterGroup\u003Cbr\u003E        title = Orbit @targetBody\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = NewVessel\u003Cbr\u003E            type = NewVessel\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = HasCrew\u003Cbr\u003E            type = HasCrew\u003Cbr\u003E            minCrew = 1\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = Orbit\u003Cbr\u003E            type = Orbit\u003Cbr\u003E            minPeA = @targetBody.AtmosphereAltitude() * 1.1\u003Cbr\u003E\u003Cbr\u003E            PARAMETER\u003Cbr\u003E            {\u003Cbr\u003E                name = Duration\u003Cbr\u003E                type = Duration\u003Cbr\u003E                duration = 1d\u003Cbr\u003E\u003Cbr\u003E                preWaitText = Orbiting for a day will provide us with some valuable data.\u003Cbr\u003E                waitingText = One more day should do.\u003Cbr\u003E                completionText = Excellent, this will be very helpful.\u003Cbr\u003E                rewardFunds = 6250 / @targetBody.Multiplier()\u003Cbr\u003E                rewardScience = 2 / @targetBody.Multiplier()\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        PARAMETER\u003Cbr\u003E        {\u003Cbr\u003E            name = ReturnHome\u003Cbr\u003E            type = ReturnHome\u003Cbr\u003E\u003Cbr\u003E            completeInSequence = true\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust tested this out and unfortanetly it isn\u0027t working for me. The orbit parameter goes to not completed when I try to land.\u003C/p\u003E\u003Cp\u003EDo I need to set a disableonstatechange = true for the Orbit parameter?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-09-09T02:10:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EJust tested this out and unfortanetly it isn\u0027t working for me. The orbit parameter goes to not completed when I try to land.\u003Cp\u003EDo I need to set a disableonstatechange = true for the Orbit parameter?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect. I missed that the first time I looked at this one.\u003C/p\u003E\u003Cp\u003EEDIT: Also, the Duration won\u0027t be optional in this set-up, but I don\u0027t think there is a way to have it optional without going back to the VesselParameterGroup (as we discussed a few pages back \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E)\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EThanks. I\u0027ll try that out.\u003Cp\u003ELists confuse me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E ... Something like this then? Is the activeUniqueValue in the right spot?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = CelestialBody\u003Cbr\u003E        activeUniqueValue = true\u003Cbr\u003E        validTarget = AllBodies().Where(cb =\u0026gt; cb.SemiMajorAxis() \u0026lt; @/smamax \u0026amp;\u0026amp; cb.SemiMajorAxis() \u0026gt; @/smamin \u0026amp;\u0026amp; cb.IsPlanet() \u0026amp;\u0026amp; cb.HaveReached() \u0026amp;\u0026amp; cb.HaveLandedOn() == false \u0026amp;\u0026amp; cb.IsHomeWorld() == false).Random()\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = List\u0026lt;CelestialBody\u0026gt;\u003Cbr\u003E        validTargets = validTarget\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI looked at some of your contracts and is there any reason why I couldn\u0027t do this instead?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EtargetBody = @/validTarget.Random()\u003Cbr\u003E\u003Cbr\u003E    DATA\u003Cbr\u003E    {\u003Cbr\u003E        type = List\u0026lt;CelestialBody\u0026gt;\u003Cbr\u003E        activeUniqueValue = true\u003Cbr\u003E        validTarget = AllBodies().Where(cb =\u0026gt; cb.SemiMajorAxis() \u0026lt; @/smamax \u0026amp;\u0026amp; cb.SemiMajorAxis() \u0026gt; @/smamin \u0026amp;\u0026amp; cb.IsPlanet() \u0026amp;\u0026amp; cb.HaveReached() \u0026amp;\u0026amp; cb.HaveLandedOn() == false \u0026amp;\u0026amp; cb.IsHomeWorld() == false)\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf I am able to, could .ExcludeAll($NoriContractCompletedBody) still be added to the end?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe first one is wrong, the second right. You can still add the ExcludeAll.\u003C/p\u003E\u003Cp\u003EEDIT: To expand on this, you have it reversed (the List\u0026lt;\u0026gt; should feed into the single value). Basically exactly what you have in the second one.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-09T02:29:33Z\u0022 title=\u002209/09/2015 02:29  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 9, 2015\u003C/time\u003E by nightingale\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"guto8797","CreatedById":89191,"CreatedDateTime":"2015-09-09T14:39:53Z","Content":"\n\u003Cp\u003EIs it just me, or using this mod remove\u0027s the record default contracts and the \u0022launch a new vessel contract\u0022? The only contract I can do in the beginning is the 18KM and that is tad difficult\u003C/p\u003E\n"}]}