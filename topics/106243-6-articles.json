{"TopicId":106243,"ForumId":34,"TopicTitle":"[1.8.1 - 1.12.5] Interstellar Fuel Switch (IFS) 3.29.5","CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-04-30T08:28:26Z","PageNum":6,"Articles":[{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-06-28T09:52:40Z","Content":"[h=2]Version 1.14 for Kerbal Space Program 1.0.4[/h] Released on 2015-06-28\n\n- Fixed incorrect initialization after reload\n- Compiled with Tweakscale Version v2.2.1"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-07-01T16:30:00Z","Content":"Bug report ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nIt seems IFS is activating engines with built in fuel tanks in the editor. I originally thought this was a KER problem but it was just reporting what was happening. My original bug report:\n\n\u003E \n\u003E So I\u0027ve found a little but annoying bug that only occurs in quite specific circumstances.\n\u003E Ingredients: KER 1.0.17.0, Interstellar Fuel Switch 1.14, any engine that also contains fuel (I use the Beagle from Stock Part Revamp) and [a config that allows that fuel tank to be switched](https://forum.kerbalspaceprogram.com/threads/117766-1-04-Cryogenic-Engines-high-Isp-chemical-rockets%21-%2828-06-15-1-04-and-tank-switch-fixes%29?p=1941624\u0026viewfull=1#post1941624).\n\u003E \n\u003E Recipe: Build a simple rocket that consists of any pod, any fuel tank, the aforementioned engine, a decoupler, some more fuel tanks and any other normal engine.\n\u003E \n\u003E The problem is that KER doesn\u0027t calculate any \u00C3\u017D\u00E2\u20ACv or TWR etc info for the rocket. Here\u0027s a picture that should help illustrate it:\n\u003E \n\u003E ![YVNiwjr.jpg](http://i.imgur.com/YVNiwjr.jpg)\n\u003E \n\u003E You can (faintly) see the bottom two tanks and Swivel engine, (clearly) see the engine info, the Fuel Switch info and KER not accounting for this. The log gets spammed with \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     NullReferenceException: Object reference not set to an instance of an object  at ModuleEngines.CalculateThrust () [0x00000] in :0   at ModuleEngines.ThrustUpdate () [0x00000] in :0   at ModuleEngines.FixedUpdate () [0x00000] in :0 (Filename:  Line: -1)NullReferenceException: Object reference not set to an instance of an object  at StackIconInfoBox.Update () [0x00000] in :0 \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [(full log here)](https://www.dropbox.com/s/7s39599hna65kpk/output_log%20%28IFS%2C%20KER%2C%20VSR%29.txt?dl=0)\n\u003E \n\u003E Removing InterstellarFuelSwitch does fix this issue, but then again, so would removing the modded engine or KER.. So, it\u0027s a little bug and one that I don\u0027t necessarily expect a fix for (though I\u0027d like it), but it effectively renders that engine useless (which is annoying as it comes before the Terrier in the tech tree).\n\nThe problem, as discovered by Padishar:\n\n\u003E \n\u003E It does... Line 41152 is where the simulation proper starts (the previous 150 lines are the setup for it). This shows that the dodgy engine is incorrectly marked as active and the other engine is activated because it is in the initial stage. So, it is simulating both engines burning at the same time and the top engine presumably burns all its fuel before the lower one. If you turn the thrust limiter on the top engine right down you should be able to slow it down enough that it will still have some fuel left when the lower one runs out and then some deltaV will appear in stage 0. The active flag is read from ModuleEngines.isOperational so I would expect all engines to have this set to false in the VAB and for it to be false during flight until the engine is activated (either by the staging or any other method). I\u0027ve no idea why this flag is being set while in the VAB but this should give the IFS and/or VSR folks something to look into...\n\nI know this is a problem with IFS because removing it solved the issue and testing on a purely stock \u002B StockPartRevamp resulted in no log errors (adding KER back in but not IFS results in no bug either)."},{"CreatedByName":"rasta013","CreatedById":140002,"CreatedDateTime":"2015-07-02T09:04:58Z","Content":"\u003E \n\u003E Bug report ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\u003E It seems IFS is activating engines with built in fuel tanks in the editor. I originally thought this was a KER problem but it was just reporting what was happening.\n\nI\u0027ve also run into an issue with the Daikon Service Module from HGR and the LTS Mk2 \u0022Bun\u0022 Lower Stage from Dr. Jet\u0027s Chop Shop. Both parts cause the following to appear in the output log:\n\nNullReferenceException: Object reference not set to an instance of an object\n\n at ModuleDecouple.OnDecouple () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003C/filename\u003E\n\n at ModuleDecouple.OnActive () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003C/filename\u003E\n\n at Part.ModulesOnActivate () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003C/filename\u003E\n\n at Part.force\\_activate () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003C/filename\u003E\n\n at InterstellarFuelSwitch.InterstellarFuelSwitch.OnStart (StartState state) [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003C/filename\u003E\n\n at Part.ModulesOnStart () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003C/filename\u003E\n\n at Part\u002B.MoveNext () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003C/filename\u003E\n\nIn this particular case both parts have decouplers built into the part and the fx\\_gasBurst\\_white effect is playing continuously in the editor and on the launch pad. It appears the parts are working normally. I also pulled this out of debug when selecting the parts in the editor just in case it helps at all:\n\n --- when selecting the Daikon Service Module\n\n[Warning]: InsterstellarFuelSwitch: error parsing selectedTankResource amount 0/0: \u002790,110\u0027: \u002790\u0027\n\n[Log]: InsterstellarFuelSwitch parseDoubles: invalid float: tankCost [len:0] \u0027\u0027]\n\n[Log]: InsterstellarFuelSwitch OnStart loaded persistant selectedTankSetup = -1\n\n--- when selecting the LTS Mk2 \u0022Bun\u0022 Lower Stage\n\n[Warning]: InsterstellarFuelSwitch: error parsing selectedTankResource amount 0/0: \u0027324,396\u0027: \u0027324\u0027\n\n[Log]: InsterstellarFuelSwitch parseDoubles: invalid float: tankCost [len:0] \u0027\u0027]\n\n[Log]: InsterstellarFuelSwitch OnStart loaded persistant selectedTankSetup = -1\n\nI am running the fuel switch config from Cryogenic Engines for my tank selection and use no other tank switching mods at all. (No RF or MFT) Once I removed IFS the problems went away and the tanks stopped the consistent playing of the fx\\_gasBurst\\_white effect as well. I also tested an earlier version of the config file where this problem was not occurring and was able to duplicate the problem with both the NREs and consistent smoke effect.\n\nI hope all this info gets you pointed in the right direction. You do really great work with this switching mod and I prefer it above all others I\u0027ve tried. Keep up the good work!"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-07-02T14:16:30Z","Content":"Quick question. The first post indicates tweakscale support, but the tweakscale cfgs in the download are blank. Is that intentional?"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-07-02T17:36:00Z","Content":"\u003E \n\u003E Quick question. The first post indicates tweakscale support, but the tweakscale cfgs in the download are blank. Is that intentional?\n\nFor technical reasons Tweakscale is fully integrated. In the past tweakscale.cfg was used to configure it be it is now handled by the part itlsef. To control scalling massExponent and volumeExponent (default 3). THe reason why I left is to overrite old configuration files. But now they can simply be removed\n\n- - - Updated - - -\n\n**Version 1.15 for Kerbal Space Program 1.0.4**\n\n Released on 2015-07-02\n\n- Fixed an issue where it would force activate other modules in the part where it is placed in (like engine modules)\n\n- - - Updated - - -\n\n\u003E \n\u003E Bug report ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\u003E It seems IFS is activating engines with built in fuel tanks in the editor. I originally thought this was a KER problem but it was just reporting what was happening. My original bug report:\n\u003E \n\u003E The problem, as discovered by Padishar:\n\u003E \n\u003E I know this is a problem with IFS because removing it solved the issue and testing on a purely stock \u002B StockPartRevamp resulted in no log errors (adding KER back in but not IFS results in no bug either).\n\nTry again with the new version"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-07-02T20:51:37Z","Content":"Cool, thanks for the explanation. I test a bit after I made the post and found that it scaled just fine with the default tweakscale settings."},{"CreatedByName":"Maddin","CreatedById":126872,"CreatedDateTime":"2015-07-14T00:16:29Z","Content":"Hey, \n\nI have some trouble with IFS after updating to version 1.15. I do use a massive amount of mods, so there is a wide field of potential collision, but so far the mods worked together pretty well. After updating I now dont get the option to change any of my fuel types in any of my tanks. Even the stock tanks are not interchangeable anymore. Was there a new dependency in IFS 1.15 that I might be missing maybe?"},{"CreatedByName":"Cerebrate","CreatedById":110690,"CreatedDateTime":"2015-07-14T02:01:12Z","Content":"I\u0027m having trouble installing this via CKAN: it won\u0027t install at the same time as Real Fuels. (Specifically, \u0022Interstellar Fuel Switch\u0022 won\u0027t; \u0022Interstellar Fuel Switch Core\u0022 installs just fine.) Bit of a problem for me, that, since Real Fuels and KSPI are two essential parts of my All Reality, All The Time combo pack...\n\nKnown problem? Any thoughts or workarounds?\n\n-c"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-07-14T19:08:33Z","Content":"\u003E \n\u003E I\u0027m having trouble installing this via CKAN: it won\u0027t install at the same time as Real Fuels. (Specifically, \u0022Interstellar Fuel Switch\u0022 won\u0027t; \u0022Interstellar Fuel Switch Core\u0022 installs just fine.) Bit of a problem for me, that, since Real Fuels and KSPI are two essential parts of my All Reality, All The Time combo pack...\n\u003E Known problem? Any thoughts or workarounds?\n\u003E \n\u003E -c\n\nThis is not my fault . Ask Real Fuels why they block IFS in Real Fuels CKAN. In the mean time you just have to install it oldschool, which manually.\n\n**Edited \u003Ctime datetime=\u00222015-07-14T20:07:54Z\u0022 title=\u002207/14/2015 08:07  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 14, 2015\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"Maddin","CreatedById":126872,"CreatedDateTime":"2015-07-15T11:15:41Z","Content":"Regarding the post I made yesterday, I found out that IFS is working with it\u0027s own tanks, but exclusively with those. \n\nIs that on purpose or is my Module Manager messed up and fails to patch the other tanks correctly? \n\nIt used to be standard that IFS used MM to patch all detected tanks to use the fuel switches, wasn\u0027t it?\n\nAnd if that is intentional, can I somehow undo these changes? I liked to be able to change to liquid fuel only in all my tanks to have freedom of building with nuclear engines. Sadly enough that is not possible anymore with this state.\n\nIs anyone else having this issue or is it just me having trouble with MM and IFS together?"},{"CreatedByName":"DivisionByZero","CreatedById":62591,"CreatedDateTime":"2015-07-21T03:32:24Z","Content":"I just came over here from the KSPIE thread where I posted a similar question. The source of the incompatilibity seems to be some testing done in May.\n\nsee here and surrounding posts:\n\n[http://forum.kerbalspaceprogram.com/threads/64118-1-0-4-Real-Fuels-v10-4-7-July-17?p=1976304\u0026viewfull=1#post1976304](https://forum.kerbalspaceprogram.com/threads/64118-1-0-4-Real-Fuels-v10-4-7-July-17?p=1976304\u0026viewfull=1#post1976304)\n\nIt seems that some tanks are reverting on the launch pad. I hope something can be worked out."},{"CreatedByName":"Alrightman","CreatedById":148177,"CreatedDateTime":"2015-07-21T14:18:35Z","Content":"Great mod. I got a question though, when I use the already buggy UbioWelding ltd, the interstellar fuel switch keeps on the part. I suspect this is the cause of my crashes because there are more than one type of fuel on the welded part, not to mention the non-generic LqdHydrogen and etc also in it. What would I need to do in the .CFG file to disable the fuel switch for a specific part? Changing the part type didn\u0027t do the trick.\n\nHope that made sense. Thanks in advance."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-07-23T14:04:12Z","Content":"\u003E \n\u003E Regarding the post I made yesterday, I found out that IFS is working with it\u0027s own tanks, but exclusively with those. \n\u003E Is that on purpose or is my Module Manager messed up and fails to patch the other tanks correctly? \n\u003E \n\u003E It used to be standard that IFS used MM to patch all detected tanks to use the fuel switches, wasn\u0027t it?\n\u003E \n\u003E And if that is intentional, can I somehow undo these changes? I liked to be able to change to liquid fuel only in all my tanks to have freedom of building with nuclear engines. Sadly enough that is not possible anymore with this state.\n\u003E \n\u003E Is anyone else having this issue or is it just me having trouble with MM and IFS together?\n\nThere are several mods which disable IFS when they encounter it. It\u0027s not my respnsiblility. It only provide this as a tool which people can use to augment their tanks, when other mods override those, it\u0027s the reponsiblity of those who override.\n\n- - - Updated - - -\n\n\u003E \n\u003E Great mod. I got a question though, when I use the already buggy UbioWelding ltd, the interstellar fuel switch keeps on the part. I suspect this is the cause of my crashes because there are more than one type of fuel on the welded part, not to mention the non-generic LqdHydrogen and etc also in it. What would I need to do in the .CFG file to disable the fuel switch for a specific part? Changing the part type didn\u0027t do the trick.\n\u003E Hope that made sense. Thanks in advance.\n\nIf a part contains more than one Fuel Switcher and they define the same resource, they will conflict with each other, causing each other tanks to be removed when switching or at startup.\n\nWhat should be possible is if one fuel switch defines only liquid and other only gases, they should play nice together, but I haven\u0027t tested it myself, I only know that IFS will ignore resources that are not in their list of switchable resources. This allows you for example to put it on a service module with resources like Electric Charge.\n\n**Edited \u003Ctime datetime=\u00222015-07-30T06:01:25Z\u0022 title=\u002207/30/2015 06:01  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 30, 2015\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"123nick","CreatedById":27488,"CreatedDateTime":"2015-07-28T15:47:36Z","Content":"can anyone make a config so that this mod works with stock parts? i would like it if i could have a long mk2 fuselage adapter, with only LF and not LF and OX, and i know i could just remove the ox but then im only using half of the full capacity of a mk2 adapter."},{"CreatedByName":"Ewypig","CreatedById":149140,"CreatedDateTime":"2015-08-01T18:39:29Z","Content":"Hi, my game says that the mod needs to update even though I\u0027ve got the latest version installed. Any suggestions?"},{"CreatedByName":"Probus","CreatedById":102512,"CreatedDateTime":"2015-08-02T14:50:53Z","Content":"Sorry if I missed this earlier in the thread, but is there an easy way to get fuel switch to work with any tank instead of just the interstellar ones?"},{"CreatedByName":"Argonicus","CreatedById":111889,"CreatedDateTime":"2015-08-03T22:06:00Z","Content":"KSP in log write next:\n\n[LOG 01:04:12.530] PhysicsGlobals: Loading database\n\n[ERR 01:04:14.173] Error: Empty part config file\n\n[WRN 01:04:14.174] Cannot create config from file \u0027:\\route to ksp\\GameData\\InterstellarFuelSwitch\\Plugins\\FuelSwitchConfig.cfg\u0027.\n\n[ERR 01:04:14.176] Error: Empty part config file\n\n[WRN 01:04:14.177] Cannot create config from file \u0027:\\route to ksp\\GameData\\InterstellarFuelSwitch\\Resources\\InterstellarResources.cfg\u0027.\n\nHow to fix it?"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-08-10T00:12:48Z","Content":"\u003E \n\u003E KSP in log write next:\n\u003E [LOG 01:04:12.530] PhysicsGlobals: Loading database\n\u003E \n\u003E [ERR 01:04:14.173] Error: Empty part config file\n\u003E \n\u003E [WRN 01:04:14.174] Cannot create config from file \u0027:\\route to ksp\\GameData\\InterstellarFuelSwitch\\Plugins\\FuelSwitchConfig.cfg\u0027.\n\u003E \n\u003E [ERR 01:04:14.176] Error: Empty part config file\n\u003E \n\u003E [WRN 01:04:14.177] Cannot create config from file \u0027:\\route to ksp\\GameData\\InterstellarFuelSwitch\\Resources\\InterstellarResources.cfg\u0027.\n\u003E \n\u003E How to fix it?\n\nI was just coming here to wonder the same thing. Are these benign or a real problem?"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-08-11T08:04:20Z","Content":"\u003E \n\u003E I was just coming here to wonder the same thing. Are these benign or a real problem?\n\nTHese are old configs that needed to be overriten. They can be safely removed. In next release I will simply remove them"},{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-08-14T11:18:32Z","Content":"IFS keeps telling me it isn\u0027t up to date even though i have the latest version?"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-08-14T16:35:47Z","Content":"\u003E \n\u003E IFS keeps telling me it isn\u0027t up to date even though i have the latest version?\n\nAre you sure? most likely you installed it on the wrong location, happens to the best of us.\n\n**Edited \u003Ctime datetime=\u00222015-08-19T21:05:24Z\u0022 title=\u002208/19/2015 09:05  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 19, 2015\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"SmashBrown","CreatedById":102799,"CreatedDateTime":"2015-08-14T16:39:04Z","Content":"Well i have done this before, but i did it again, deleted it and reinstalled it, and it works fine again... weirdness, as all i did was delete exactly the same file i put back in. Thanks anyway."},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-08-22T07:28:13Z","Content":"\u003E \n\u003E THese are old configs that needed to be overriten. They can be safely removed. In next release I will simply remove them\n\nJust a reminder. The warning is still in my log I noticed when I went to check on some other stuff"},{"CreatedByName":"skald","CreatedById":145796,"CreatedDateTime":"2015-09-04T19:00:18Z","Content":"I love this mod, but i\u0027m having trouble finding a single solution to fuel switching without combining multiple fuel switching mods that conflict with one another. Is there a way to get this mod to work with all tanks and also include liquid hydrogen in it\u0027s list of fuel types?\n\ncurrently most of my tanks can switch between liquid fuel/ox, ox, and liquid fuel, the exception is kw rocketry. But none of my tanks can switch to liquid hydrogen. If this isn\u0027t possible that\u0027s cool but I feel like with how useful this mod is someone somewhere has probably figured out how to use it for all their fuel needs instead of having a funky combination of this and modular fuel tanks which tends to cause oddness."},{"CreatedByName":"Farix","CreatedById":98315,"CreatedDateTime":"2015-09-04T21:44:09Z","Content":"While working on a Community Tech Tree comparability script for TAC-LS, I came across an interesting situation that isn\u0027t address by either Interstellar Fuel Switch or Firespitter. I was originally going to place all of the life support parts into suitability node except for the waste containers, which were going to be put in the recycling node to sync it with Universal Storage. However, my declutter script bases everything off the first life support parts that are unlocked, thus allowing the player to switch to the waste container configuration without having to unlock the recycling node. Is it possible to limit certain options to specific tech nodes?\n\nSuch as...\n\n    MODULE{\tname = InterstellarTextureSwitch2\tobjectNames = MyContainer\tnextButtonText = Next Container\tprevButtonText = Previous Container\ttextureRootFolder = ThunderAerospace/TacLifeSupportContainers/\ttextureNames = Texture;FoodTexture;WaterTexture;OxygenTexture;WasteTexture\ttextureDisplayNames = Life Support;Food;Water;Oxygen;Waste\tuseFuelSwitchModule = true\tfuelTankSetups = 0;1;2;3;4\tshowInfo = false\ttechRequired = survivability;survivability;survivability;survivability;recycling}MODULE{\tname = InterstellarFuelSwitch\tresourceNames = Food,Water,Oxygen;Food;Water;Oxygen;Waste,WasteWater,CarbonDioxide\tresourceAmounts = 113.2,74.8,11466.9;240;240;53072.3;19.5,180.9,18800.1\tinitialResourceAmounts = 113.2,74.8,11466.9;240;240;53072.3;0,0,0\ttankCost = 27.8;57.4;0.2;3;0\tdisplayCurrentTankCost = true\thasGUI = false\tshowInfo = true\ttechRequired = survivability;survivability;survivability;survivability;recycling}\n\n...or something similar\n\nI can see this being useful for configuring tanks for fuels that aren\u0027t available early at the begining of the tech tree, but are unlocked later."}]}