{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":55,"Articles":[{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-04T21:08:46Z","Content":"\n\u003Cp\u003E\nWhat happens:\n\u003C/p\u003E\n\u003Cp\u003E\nA ship on the launch pad. The LEDs initialize. Getting a handshake. Being connected for about 0.25 seconds. After that the green LED turns off.\n\u003C/p\u003E\n\u003Cp\u003E\nThe plugin tells me: Starting serial port COM4.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI use an Arduino Mega2560 R3.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd a Poti on analog0. The value that is set, when a connection seems so be active, stays and can\u0027t be overwritten with keyboard controls.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n___________________\n\u003C/p\u003E\n\u003Cp\u003E\nRX is blinking...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-07T15:36:17Z\u0022 title=\u002202/07/2016 03:36  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 7, 2016\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003Cbr\u003EPerformed the simple LED Test.\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-07T15:45:15Z","Content":"\n\u003Cp\u003E\nYou need to post the debug log, and tell me which version of the plugin and arduino code you are using.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-07T22:26:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222397872\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454859915\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou need to post the debug log, and tell me which version of the plugin and arduino code you are using.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI thought I downloaded 0.17.4, the latest version, but the log notifies 0.17.3 . Downloaded from kerbalstuff.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLog and all the infos:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/sh/m3zwmryesrm00i1/AABp2YdyyxD7y0O7p5_9NIJ9a?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/m3zwmryesrm00i1/AABp2YdyyxD7y0O7p5_9NIJ9a?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks a lot.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-09T00:38:36Z","Content":"\n\u003Cp\u003E\nUh looks like you are using demo 13? You need demo 12 if you are using 17.3, see the first post. Demo 13 is for 17.4 - 17.6 If you want to use the latest plugin versions\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-09T09:24:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222397872\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454859915\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7.2.2016 at 4:45 PM, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222400026\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454978316\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUh looks like you are using demo 13? You need demo 12 if you are using 17.3, see the first post. Demo 13 is for 17.4 - 17.6 If you want to use the latest plugin versions\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou need to post the debug log, and tell me which version of the plugin and arduino code you are using.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks, found 17.6 - Connection is established on Scene Change but the arduino doesn\u0027t seem to receive data. After whatever IDLETIMER I define, status switches back to not connected. Sometimes in midflight the connection is reestablished, but breaks up again after IDLETIMER.\n\u003C/p\u003E\n\u003Cp\u003E\nThe log in the same spot:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/sh/m3zwmryesrm00i1/AABp2YdyyxD7y0O7p5_9NIJ9a?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/m3zwmryesrm00i1/AABp2YdyyxD7y0O7p5_9NIJ9a?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(Tried Demo12 with 17.3 =\u0026gt; similar results)\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-09T14:36:51Z","Content":"\n\u003Cp\u003E\nThat\u0027s weird. Also it seems like you craft explodes 1 second after launch?\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are not using any other mods and is running the demo arduino code the only thing I can think of is trying to increase the serial receive buffer in HardwareSerial.h in your arduino install. Maybe try different baud rates too.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-09T18:24:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222400702\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455028611\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s weird. Also it seems like you craft explodes 1 second after launch?\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are not using any other mods and is running the demo arduino code the only thing I can think of is trying to increase the serial receive buffer in HardwareSerial.h in your arduino install. Maybe try different baud rates too.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo. I just staged all the boosters and let the shuttle glide for a time.\n\u003C/p\u003E\n\u003Cp\u003E\nI will try some combinations.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-12T08:13:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222400970\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455042250\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9.2.2016 at 7:24 PM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI will try some combinations.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSad times. Whatever combinations I try, the \u0022stuttering\u0022 remains. I\u0027ll update to Win10, hoping for some magic.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-12T14:45:09Z","Content":"\n\u003Cp\u003E\nHave you tried increasing the serial buffer?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso people using win 10 have reported the plugin does not work for some reason, we have not figured out why yet.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-13T07:38:59Z","Content":"\n\u003Cp\u003E\nYa, I tried the serial buffer. The stutttering was more like a stuttering. More frequent. But remained, for whatever values I tried.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m aware of the Win10 issue, but since it didn\u0027t work so far, I \u003Cs\u003Ehardly care\u003C/s\u003E, just wait and see what the future brings. Perhaps some Win10 support some day.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for your help and for the lovely mod (in theory).\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-14T03:10:05Z","Content":"\n\u003Cp\u003E\nOK... When you say it\u0027s stuttering, what is stuttering? The LEDs? Can you describe exactly what happens when the connections starts? What happens to the green, tx, and rx LEDs?\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know how good you are at writing code, but you can add some debug stuff in the arduino code to see what is happening.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: which arduino do you have? If you have a cheap one you might be having the #ftdigate problem maybe??\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-14T03:13:10Z\u0022 title=\u002202/14/2016 03:13  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 14, 2016\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-14T10:05:41Z","Content":"\n\u003Cp\u003E\nThat\u0027s what happens:\n\u003C/p\u003E\n\u003Cp\u003E\n1. Scene change to Launch Pad\n\u003C/p\u003E\n\u003Cp\u003E\n2. Handshake, Connected\n\u003C/p\u003E\n\u003Cp\u003E\n3. Physical calculations start\n\u003C/p\u003E\n\u003Cp\u003E\n4. Not Connected (RX blinks like hell)\n\u003C/p\u003E\n\u003Cp\u003E\n5. After some time, sometimes 10 seconds, sometimes 25 seconds Connected again. But for the \u0026lt;idletimer\u0026gt; only.\n\u003C/p\u003E\n\u003Cp\u003E\nThen 4. again, 5., 4., ...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWith higher buffers the \u0022not connected\u0022-times are a bit shorter.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m using the original Arduino Mega 2560 R3. I have two of them and a few unos, for some other little projects. Also tried the other 2560, but it gives the same result.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps I will try some debugging. I studied informatics for about 3 or 4 semesters, but I try to stay away from night long coding, etc... I liked the theoretical aspects but got bored by the actual programming. That\u0027s why I quite. So, I\u0027m not sure how much energy I want to invest, sorry.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-14T16:55:50Z","Content":"\n\u003Cp\u003E\nWhen you say not connected, how do you know? Do you have the LEDs connected to pins 11 12 13? What do they do?\n\u003C/p\u003E\n\u003Cp\u003E\nrx blinking is correct, it should blink like 4-5 time a second, it means KSP is sending data and arduino is getting it. tx light should be blinking very fast so it looks like it\u0027s on solid.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-14T17:28:03Z","Content":"\n\u003Cp\u003E\nI have a LCDisplay to display some information. The boolean Connected is one of them.\n\u003C/p\u003E\n\u003Cp\u003E\nTX isn\u0027t blinking at all. If I want to display flight data, like VData.VOrbit, it\u0027s just showing the value at which the game was when the boolean Conected = true.\n\u003C/p\u003E\n\u003Cp\u003E\nRX blinking 4-5 times a second sounds about right.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-15T18:10:25Z","Content":"\n\u003Cp\u003E\nWell it\u0027s probably a problem with your LCD code slowing things down. This is why you MUST test with the default code with the LEDs first. It\u0027s impossible to debug if you don\u0027t post your code.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2016-02-15T21:49:48Z","Content":"\n\u003Cp\u003E\nThere\u0027s the code: \u003Ca href=\u0022https://www.dropbox.com/sh/m3zwmryesrm00i1/AABp2YdyyxD7y0O7p5_9NIJ9a?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/m3zwmryesrm00i1/AABp2YdyyxD7y0O7p5_9NIJ9a?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe LCD is very simple to code, but as always the logic behind is very likely to be complicated and slow.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t have any timing issues with other projects, but I\u0027m not sending this much data there and back.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-16T15:00:21Z","Content":"\n\u003Cp\u003E\nOh you are using a graphic LCD, no wonder it can\u0027t keep up. Try commenting out\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E    myGLCD.setColor(0, 255, 0);\n    myGLCD.print(\u0022     CONNECTED\u0022, 478, 98, 90);\n\n\n    myGLCD.printNumF(VData.Alt, 2, 200, 100);\n    myGLCD.printNumF(VData.VOrbit, 2, 200, 130);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnd just have it turn on and off an LED instead.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can try to reduce the work load by reducing the refresh rate in the plugin config file in plugindata folder. Change \u0022refresh\u0022 to 1.0 second instead of 0.08. You can also try to find a faster GLCD library, but I don\u0027t know which is best.\n\u003C/p\u003E\n"},{"CreatedByName":"Mattew","CreatedById":144806,"CreatedDateTime":"2016-02-20T10:04:22Z","Content":"\n\u003Cp\u003E\nSeem like lots of ppl having trouble with conection and random disconects. I had same problems, but I figured out what was wrong. At first time\u00A0I take Mega \u002B GLCD, put it all togather write some code, all good until actual game start. Plugin had problems to connect, sometime it did, sometimes only few handshakes and nothing. Sometimes I got random disconnects and recconects between Arduino and KSP, like controls went out in middle of ascend, then was okay minute later. Tx blink, RX off with random blinks and so on.\u00A0Tried different ports, buffer setting, serial speeds, no luck. After some time i figured out problem. It was \u0022The Code\u0022. As Zitronen said, your code probably is too slow and arduino and kps get \u0022desynchonized\u0022 and missmatch pakets of data. \u00A0Graphic LCD, LCD, TFT displays and so on,\u00A0\u00A0is too much time consuming. Solution: Get rid of your LCDs\u00A0or change code. It realy depends on where you\u00A0put your code in original demo code. I recomend start by 3 leds, test it, then add display, test it. that is how i made it work. Now I have 4x20 LCD \u002B LEDS \u002B 6 Nixie Tubes driven by Atmega328 comunicate by serial with Mega. All works nice and well. Working on actual controls now.\n\u003C/p\u003E\n\u003Cp\u003E\nHope it helps somebody \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-21T01:16:53Z","Content":"\n\u003Cp\u003E\n^^ Yes.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat happens is if your LCD code takes too long, the serial code does not have enough time to read the incoming packets, the serial packets fill up the serial buffer waiting to be read. When the buffer is full (which doesn\u0027t take very long), all new packets have no where to go. If you really want to use GLCDs, you can try reducing the rate data is sent, see if you can find a faster library, or use another arduino as the \u0022dedicated graphics card\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"mtpatane","CreatedById":157952,"CreatedDateTime":"2016-02-25T15:59:15Z","Content":"\n\u003Cp\u003E\nHello!\n\u003C/p\u003E\n\u003Cp\u003E\nMechanical engineer here. I have a pretty awesome idea for a design of a control panel that I\u0027m working in Autodesk Fusion 360 I\u0027m in the process of teaching myself how to work and arduino and breadboard some some switches and LEDs.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthe code though is foreign to me so I was so happy to stumble across this mod. \u00A0Only problem is that I only have a windows 10 computer.\n\u003C/p\u003E\n\u003Cp\u003E\nany chance to root-cause the Windows 10 problem here? I\u0027d love to bring my design to life!\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-26T00:05:43Z","Content":"\n\u003Cp\u003E\nCool, I\u0027m mech eng as well. The problem is the windows 10 version cannot receive any data from the arduino. Unity does not have a serial port library, we are using an external library that is incomplete and very old. There the latest version of the plugin (0.17.6) has a config setting to only send data to arduino, so you can try that, and use an arduino based USB HID for control and switches.\n\u003C/p\u003E\n\u003Cp\u003E\nThe main problem with windows 10 is I don\u0027t even have it to test things, and currently not planning to. I might look into getting data out through UDP and use an external program for UDP to serial.\n\u003C/p\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2016-02-26T01:07:56Z","Content":"\n\u003Cp\u003E\nCan you share your panel design? I\u0027m about to start working on my own as well.\n\u003C/p\u003E\n"},{"CreatedByName":"mtpatane","CreatedById":157952,"CreatedDateTime":"2016-02-26T04:37:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222429910\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456445143\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCool, I\u0027m mech eng as well. The problem is the windows 10 version cannot receive any data from the arduino. Unity does not have a serial port library, we are using an external library that is incomplete and very old. There the latest version of the plugin (0.17.6) has a config setting to only send data to arduino, so you can try that, and use an arduino based USB HID for control and switches.\n\u003C/p\u003E\n\u003Cp\u003E\nThe main problem with windows 10 is I don\u0027t even have it to test things, and currently not planning to. I might look into getting data out through UDP and use an external program for UDP to serial.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAwesome. Ok. So I think I have a plan then.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo the from KSP to Arduino connection still works?\n\u003C/p\u003E\n\u003Cp\u003E\nIf I can use the old version to receive data from the game then I\u0027ll use that with 1 arduino to run displays, status LEDs etc.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthen using another\u00A032bit based arduino I\u0027ll run the keyboard and mouse control\u00A0library. Where I\u0027ll basically have a large switchboard actuated keyboard.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m thinking of using a few of the analog ports for two, two axis joysticks, of which I\u0027ll break the plane into 8 slices to actuate wasd, and their associated 2 button combinations, and then one for RCS and maybe a 1 axis stick for roll \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nuse a 10 position rotary switch and series resistors with notes to make an analog port measure the voltage and hit the key\u00A0based on which action group I have picked in the rotary switch\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1 axis spring \u0022return to zero\u0022 switch for throttle up and down \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthen a bunch of regular switches for the rest of the toggles\n\u003C/p\u003E\n\u003Cp\u003E\nam I missing anything?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2016-02-26T10:46:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222421588\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456017413\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn February 21, 2016 at 7:16 PM, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat happens is if your LCD code takes too long, the serial code does not have enough time to read the incoming packets, the serial packets fill up the serial buffer waiting to be read. When the buffer is full (which doesn\u0027t take very long), all new packets have no where to go. If you really want to use GLCDs, you can try reducing the rate data is sent, see if you can find a faster library, or use another arduino as the \u0022dedicated graphics card\u0022.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI am incredibly new to programming on anything beyond a Commodore!\u00A0\u003Cimg alt=\u0022:rolleyes:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 title=\u0022:rolleyes:\u0022\u003E\u00A0As such, I have already been planning to simplify my code, by splitting tasks to dedicated Arduinos. I plan to have a Mega serve as my primary I/O unit. It\u0027ll send necessary data via serial to other Arduinos, as well as\u00A0monitor the toggles and the joysticks, and directly communicate that data back to the USB port to the computer. Basically, it\u0027ll only do things it can send quickly over serial, or do rapid reads or writes. No significant processing of any kind will happen on board, save for states and communication.\u00A0I may also have it handle my analog meters, as I only need to set PWM values as\u00A0\u0022analog\u0022 outs.\u003Cbr\u003E\u003Cbr\u003E\nMy FDAI (navball) and my LED displays will each have their own arduino dedicated to rendering the necessary outputs. Since the LED segment display drivers need you to break down numbers into each separate digit (how annoying), I\u0027ll have another arduino (probably a Pro Mini) handle that, and maybe an annunciator panel. Some of the Simple on/off LED enunciators may get handled by the main Arduino Mega. The FDAI will have its own dedicated Mega or possibly a Teensy 3.1 (not sure if the smaller Arduinos will have the memory, and I still don\u0027t know if the Mega is even fast enough to do all the trigonometry). I have to generate 9 attenuation values and polarity states to control 9 analog switches, and 9 multiplying DACs, based on angular deviation from\u00A00\u00B0 at both 120\u00B0\u00A0and 240\u00B0 from the yaw, pitch and roll angles\u00A0of the vessel.\u00A0It\u0027ll likely be a lookup table of values. Those states and values will shape a reference 400 Hz sine wave to emulate the functionality of a synchro, of which I need to emulate three,\u00A0to drive my FDAI hardware.\u003Cbr\u003E\u003Cbr\u003E\nI am already looking at no less than three\u00A0microcontrollers\u00A0on my build. I may use a tiny 3.5 inch diagonal color CRT with a Raspberry Pi, someday, to generate some manner of cosmetic display. Maybe have little \u0022GIF\u0022 like animations of KSC staff \u0022communicating\u0022 with the vessel, IVA views, that sort of thing. The only thing it might actually DO, control wise, would be to emulate a keyboard and press whatever hot key I have set for Chatterer, so i set \u0022coms sounds\u0022 when it \u0022does\u0022 things. It won\u0027t actually \u0022do\u0022 anything but look nifty. Waiting to snag one of those Raspberry Pi Zero units, since they are dirt cheap and you can connect a composite low res\u00A0NTSC monitor to them.\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-02-26T18:39:48Z","Content":"\n\u003Cp\u003E\nAll of those things are possible, and people have done it. My advice is to start simple first, before planning out super complicated systems.\n\u003C/p\u003E\n"}]}