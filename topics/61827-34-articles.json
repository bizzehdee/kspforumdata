{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":34,"Articles":[{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-05-31T10:38:57Z","Content":"\n\u003Cp\u003EHey all.\u003C/p\u003E\u003Cp\u003EI have two things:\u003C/p\u003E\u003Cp\u003E1) out of sync errors. I found a post saying this is probably a race condition. If you\u0027re still interested in log files / craft files / scripts, let me know. It seems to be quite reproducable in the craft / script I have.\u003C/p\u003E\u003Cp\u003E2) How the hell \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E can I display the pitch of a target vessel over the horizon? target:bearing / target:heading is easy enough for the compass reading to the target but I\u0027ve tried verious things for the better part of yesterday and every value I\u0027ve tried gives me some weird number, not the 80\u00C3\u201A\u00C2\u00B0 / 70\u00C3\u201A\u00C2\u00B0 / ... / 20\u00C3\u201A\u00C2\u00B0 or whatever it is that is on the navball where the red target marker is that I expected.\u003C/p\u003E\u003Cp\u003Ethanks in advance.\u003C/p\u003E\u003Cp\u003EP.S.: oh by the way if that hover craft guy is still around, this is an accurate calculation of the g-pull experienced by your craft:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset G to 6.6738480e-11.\u003Cbr\u003Elock vesselMass to ship:mass * 100. \t\t\t\t\t\t// must be converted to kg\u003Cbr\u003Elock bodyMass to ship:body:mass.\t\t\t\t\t\t\t// is already in kg\u003Cbr\u003Elock distance to ship:body:radius \u002B ship:body:distance.\t\t// in meters\u003Cbr\u003Elock bothMasses to vesselMass * bodyMass.\t\t\t\t\t\u003Cbr\u003Elock distanceSquared to distance * distance.\u003Cbr\u003Elock massesByDistance to bothMasses / distanceSquared.\u003Cbr\u003Elock F to G * massesByDistance.\u003Cbr\u003Elock vesselGPull to F / vesselMass.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eas you can see its broken up into many pieces for debugging purposes, you can probably condense it somewhat \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-31T10:53:02Z\u0022 title=\u002205/31/2014 10:53  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 31, 2014\u003C/time\u003E by MrOnak\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-31T11:46:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elock bothMasses to vesselMass * bodyMass.\t\u003Cbr\u003Elock distanceSquared to distance * distance.\u003Cbr\u003Elock massesByDistance to bothMasses / distanceSquared.\u003Cbr\u003Elock F to G * massesByDistance.\u003Cbr\u003Elock vesselGPull to F / vesselMass.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI suspect that\u0027s going to be susceptible to large floating point error because you\u0027re multiplying two things one of which is rather small compared to the other (the vessel mass being many orders of magnitude smaller than the body mass), and then in the end dividing the end result by the small thing again (the vessel mass) to get the quantity you want, the acceleration from gravity. Multiplying the scale of a number up to a huge magnitude and then trying to cancel it back out again by dividing it back down tends to be more error prone than using calculations that keep everything in the same general magnitude.\u003C/p\u003E\u003Cp\u003EFor example, if you want to calculate what is 99.99999999% of 5000, this way of doing it:\u003C/p\u003E\u003Cp\u003Eset x to 5000 * (9999999999/10000000000).\u003C/p\u003E\u003Cp\u003Eends up being more accurate than this way:\u003C/p\u003E\u003Cp\u003Eset x to (5000 * 9999999999) / 10000000000.\u003C/p\u003E\u003Cp\u003Eeven though in principle they should be mathematically identical. (assuming I typed the correct number of zeros there.)\u003C/p\u003E\u003Cp\u003ESo you\u0027re going to be better off cancelling out the mass of the vessel in paper algebra first before calculating anything on the computer. (It does cancel out - left as an exercise for the reader, if the only thing you\u0027re interested in calculating in the end is vesselGPull).\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-05-31T13:36:05Z","Content":"\n\u003Cp\u003EI can\u0027t seem to figure out the frame of reference (?) relative to which nearly all ship: vectors seem to be.\u003C/p\u003E\u003Cp\u003EFor example, when I read the ship:facing:roll value in level flight, the number changes depending on whether I fly north/south/west/east. The same happens with ship:facing:pitch.\u003C/p\u003E\u003Cp\u003Eship:direction:* seems to behave identical to ship:facing:*.\u003C/p\u003E\u003Cp\u003ETo be honest I\u0027m running out of ideas how to put the numbers in a stable frame of reference that does not change depending on the planes\u0027 attitude (thats a bad way to put it - of course they change to the ships attitude - hope you know what I mean) but that always gives me numbers identical to what indicated by the center of the navball.\u003C/p\u003E\u003Cp\u003EAny clues? Thanks in advance.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-31T13:54:49Z\u0022 title=\u002205/31/2014 01:54  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 31, 2014\u003C/time\u003E by MrOnak\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-05-31T18:27:13Z","Content":"\n\u003Cp\u003EAll the directions when on the surface/low altitude use a frame of reference that can be considered to be at the center of the planet, and the components of it are rotations around the axes. We know that that is completely unintuitive so we\u0027re working in adding some features to convert between the different reference frames.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-05-31T20:28:07Z","Content":"\n\u003Cp\u003Ethanks the for explanation... I thought something like that might be the case but I must admit I hadn\u0027t thought of the center of the planet \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIs there any way to convert the direction to something \u0022sane\u0022? I tried things like UP \u002B R(p, y, r) or NORTH \u002B R(p, y, r) but that doesn\u0027t seem to make any difference.\u003C/p\u003E\n"},{"CreatedByName":"TheClassiestMedic","CreatedById":92545,"CreatedDateTime":"2014-05-31T22:56:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E-snip-\u003C/p\u003E\u003Cp\u003EP.S.: oh by the way if that hover craft guy is still around, this is an accurate calculation of the g-pull experienced by your craft:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset G to 6.6738480e-11.\u003Cbr\u003Elock vesselMass to ship:mass * 100. \t\t\t\t\t\t// must be converted to kg\u003Cbr\u003Elock bodyMass to ship:body:mass.\t\t\t\t\t\t\t// is already in kg\u003Cbr\u003Elock distance to ship:body:radius \u002B ship:body:distance.\t\t// in meters\u003Cbr\u003Elock bothMasses to vesselMass * bodyMass.\t\t\t\t\t\u003Cbr\u003Elock distanceSquared to distance * distance.\u003Cbr\u003Elock massesByDistance to bothMasses / distanceSquared.\u003Cbr\u003Elock F to G * massesByDistance.\u003Cbr\u003Elock vesselGPull to F / vesselMass.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eas you can see its broken up into many pieces for debugging purposes, you can probably condense it somewhat \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHover guy here \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EI ended up teaching myself the basics of control theory, and making a PID control system for the craft! It\u0027s insensitive to gravity, engine type, and you could even use it for something completely different with just a little tweaking! I\u0027d post it somewhere for others to use, but I\u0027m not sure if this is the right place.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-06-01T00:32:40Z","Content":"\n\u003Cp\u003EYay! Progress is alway awesome \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-06-01T01:12:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003EI can\u0027t seem to figure out the frame of reference (?) relative to which nearly all ship: vectors seem to be.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo a certain extent this isn\u0027t kOS\u0027s fault because its just exposing what\u0027s really wacky about KSP\u0027s own internal coordinate system, which is truly messy to work with.\u003C/p\u003E\u003Cp\u003EHere\u0027s the stuff that is always true about KSP\u0027s coordinate system, and whether or not kOS does anything to try to \u0022fix\u0022 it or not:\u003C/p\u003E\u003Cp\u003E- The origin is always *near* the active vessel but not exactly at it. (After coming out of a timewarp it starts off being right on the vessel, but as the physics engine operates on the ship the ship drifts away from the origin.) kOS tries to fix this for you by offsetting all coordinates to give you a frame of reference relative to the ship\u0027s actual center of mass, as if the origin was there. I discovered a place where it didn\u0027t do that but I think it\u0027s fixed now in the latest release.\u003C/p\u003E\u003Cp\u003E- The Y axis is fixed. Draw an imaginary arrow from the center of the primary body through its north pole. This is always the direction of the Y axis. The origin isn\u0027t AT the center of the body, but it\u0027s Y axis is oriented to be in line with the body\u0027s north pole axis direction. Note this is NOT the same as the \u0022north\u0022 direction, because of curvature of the surface. i.e. if you were at latitude 45 degrees, then the Y axis would be pointing toward the north but pitched up 45 degrees above the horizon. If you were at the north pole, the Y axis would be pointing straight up.\u003C/p\u003E\u003Cp\u003E- The X and Z axes are always perpendicular to the body\u0027s equator plane, 90 degrees apart from each other (obviously). BUT they are not fixed. This is the messy part, due to some really wacky stuff KSP does with the rotation of the planet (sometimes the planet rotates and the universe\u0027s coordinate grid stays still, while other times the universe\u0027s coordinate grid rotates and the planet stays still - it depends on what altitude you\u0027re at which method the game uses. As you get lower and closer to the terrain it becomes better to keep the planet fixed so the terrain doesn\u0027t get recalculated all the time, or so I\u0027ve heard that\u0027s the explanation.) Anyway, the result of this is that it\u0027s impossible to say what the direction of the X and Z axes is because it all depends on how long you spent at low altitude and how long you spent at high altitude - how much of the time was the planet fixed and how much of the time was it rotating?\u003C/p\u003E\u003Cp\u003EI\u0027m trying to come up with some good tools to hide a lot of this mess from the user, but I\u0027m waiting on feedback from the others for approval or disapproval of my proposal before I embark upon trying to implement any of it (hint, hint).\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-06-01T10:45:21Z","Content":"\n\u003Cp\u003EWoah! Thanks for the detailed answer, I think I begin to understand why my attempts were futile \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ETo a certain extent this isn\u0027t kOS\u0027s fault because its just exposing what\u0027s really wacky about KSP\u0027s own internal coordinate system, which is truly messy to work with.\u003Cp\u003EHere\u0027s the stuff that is always true about KSP\u0027s coordinate system, and whether or not kOS does anything to try to \u0022fix\u0022 it or not:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust to be sure, I wasn\u0027t implying kOS is at fault or anything \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. Its awesome, and it has a \u00220.\u0022 in front of its version number. All is good \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E- The X and Z axes are always perpendicular to the body\u0027s equator plane, 90 degrees apart from each other (obviously). BUT they are not fixed. This is the messy part, due to some really wacky stuff KSP does with the rotation of the planet (sometimes the planet rotates and the universe\u0027s coordinate grid stays still, while other times the universe\u0027s coordinate grid rotates and the planet stays still - it depends on what altitude you\u0027re at which method the game uses. As you get lower and closer to the terrain it becomes better to keep the planet fixed so the terrain doesn\u0027t get recalculated all the time, or so I\u0027ve heard that\u0027s the explanation.) Anyway, the result of this is that it\u0027s impossible to say what the direction of the X and Z axes is because it all depends on how long you spent at low altitude and how long you spent at high altitude - how much of the time was the planet fixed and how much of the time was it rotating?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm.... X/Z are not fixed to a point on the surface, that is to GeoCoordinates? That\u0027d imply that Kerbin doesn\u0027t have a Greenwich? \u003C/p\u003E\u003Cp\u003EIf so, how do GeoCoordinates work, where is the 0\u00C3\u201A\u00C2\u00B0 longitude?\u003C/p\u003E\u003Cp\u003EOne thought crossed my mind last night. When I \u003Cem\u003Elock steering to HEADING(90, 20).\u003C/em\u003E I go indeed go due east, 20\u00C3\u201A\u00C2\u00B0 up and with 0\u00C3\u201A\u00C2\u00B0 roll. Is there a way to \u003Cem\u003Eread\u003C/em\u003E my current heading / pitch /roll similar to setting it in that way? Maybe a picture of what I\u0027m trying to do (one of many things) will help. \u003C/p\u003E\u003Cp\u003EI present, my Kerbal Defense SAM launcher:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/fcqmEIB\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/fcqmEIB.jpg\u0022 alt=\u0022fcqmEIB.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt is already a working system which tracks a target automatically, launches when target is within range and the missile actually intercepts the target (with a margin for error due to framerate \u0026amp; the physics range load hiccup). Problem is, I\u0027m not happy with it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EThe parts of relevance here are the washer (to point to the right heading) and the hinge (to adjust pitch toward the target). Both are bound to action groups for easy manipulation in kOS. \u003C/p\u003E\u003Cp\u003ESince the launcher itself actually doesn\u0027t move I can\u0027t simply \u003Cem\u003Elock steering to VESSEL(\u0022target\u0022):direction.\u003C/em\u003E, obviously. What I do is to move the washer until abs(target:bearing) \u0026lt; 1 and keep adjusting. Easy enough. The hinge currently just moves up for a fixed amount of time to point about 60\u00C3\u201A\u00C2\u00B0 up. There is nothing smart involving the hinge.\u003C/p\u003E\u003Cp\u003ENow, what I\u0027d like to do programatically is two things:\u003C/p\u003E\u003Cp\u003E- query the angle over the horizon of the target, a.k.a. the pitch I need to point at. Which I think I know how, but there is no point in trying before part two works, which is\u003C/p\u003E\u003Cp\u003E- query my own current pitch. The missile does have a probe core, so after \u0022control from here\u0022 the navball shows the correct pitch. \u003C/p\u003E\u003Cp\u003EOnce I have those two I can very easily move the hinge accordingly until my own pitch matches the targets angle over the horizon.\u003C/p\u003E\u003Cp\u003EI guess whats screwing with my head is that the navball is showing the information (hence KSP knows my pitch?) I want and that kOS in fact allows me to set my direction with HEADING(h, p) which seems to imply that kOS also knows how to \u0022get\u0022 there? Is there a way to query that information? If pitch could be read, how about roll? In an unrelated project I\u0027m trying to develop an autopilot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003ESorry that I keep you people, this is driving me mad \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks a ton again for kOS. It has already become my physics programming environment of choice \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-06-01T14:03:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESorry that I keep you people, this is driving me mad \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDon\u0027t be sorry. You\u0027re using it to do something cool, and that\u0027s always good - the more people do that the better the advertising for it is.\u003C/p\u003E\u003Cp\u003EAnd yes, I understand why it drives you mad. It drove me mad to the point where back in 2013 I worked it out from experiments and pencil and paper without even being able to read the C# code under the hood yet. (What I did was I put an object into orbit and had a program just printing out data to the screen so I could compare longitude/latitude and the UP rotation tuple to my XYZ coordinates to try to work out by inductive reasoning what the actual system was.)\u003C/p\u003E\u003Cp\u003EThere is a way to work out what the current offset is between longitude and the actual Z axis by reading the rotations inside the UP rotation tuple and working out from that what the relationship between the original axias and the rotation that was needed to turn it into an upward direction. (i.e. if Up:yaw is 30, then that means the Z axis (if you moved the origin to the center of the planet) would be poking out of the surface 30 degrees longitude away from where you are right now, or something like that. It\u0027s been a while since I worked it out. Here\u0027s the page I wrote about it back then, but it\u0027s getting a bit dated and I don\u0027t make any promises that it\u0027s still true:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kos.wikia.com/wiki/XYZ_system_of_KSP\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kos.wikia.com/wiki/XYZ_system_of_KSP\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E)\u003C/p\u003E\u003Cp\u003EIt\u0027s not entirely right, I now realize (for example it assumed the world grid was right-handed but it\u0027s actually left-handed.)\u003C/p\u003E\u003Cp\u003EAlso because of the constantly rotating frame of reference, you\u0027ll need to make sure you keep re-updating your vector calculations otherwise sometimes they become off over time as the universe\u0027s coordinate grid rotated the axes and thus altered the meaning of your vector\u0027s x, y, and z components.\u003C/p\u003E\u003Cp\u003EWe all do want this messy reference frame problem dealt with, but it\u0027s not a quick fix. It affects a lot of things and has to be thought through carefully.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-01T14:17:19Z\u0022 title=\u002206/01/2014 02:17  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 1, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-06-01T22:17:54Z","Content":"\n\u003Cp\u003ESo I tried upgrading to v0.12.1 today and upon loading a ship already in orbit, my ship appeared to be missing everything except the command module. It\u0027s like the rest of it was deleted.\u003C/p\u003E\u003Cp\u003EAnd then I tried launching a new ship, and the first one launched okay but the 2nd one after revert to launch caused me to have another command-module-only ship.\u003C/p\u003E\u003Cp\u003EAnyone know what\u0027s going on?\u003C/p\u003E\u003Cp\u003EEDIT 1: Nevermind, the zipped download says 12.1 but in the terminal it says the version is 12.0. Maybe this is the older broken version still. I need to sort out what version this really is.\u003C/p\u003E\u003Cp\u003EEDIT 2: I tried downloading 12.1 from GitHub instead of Curse and the same bad results happened. Ships missing everything but their module. Even worse, this time I would click the launchpad/runways/VAB buildings and it wouldn\u0027t let me actually do anything with them. Until I know what\u0027s going on I\u0027ll roll back to 0.11.\u003C/p\u003E\u003Cp\u003EEDIT 3: Okay, I tried 12.2 prerelease, and the same bug with ships missing everything but a command module occurs here too.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-01T23:14:12Z\u0022 title=\u002206/01/2014 11:14  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 1, 2014\u003C/time\u003E by Entropius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-06-01T23:42:42Z","Content":"\n\u003Cp\u003EOkay I think I found the root of the problem, 12.2-prerelease stopped erasing my ships parts and horribly glitching things out after I removed my old module-manager config. The removed module-manager code is as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleCommand]:HAS[!MODULE[kOSProcessor]]]\u003Cbr\u003E{\u003Cbr\u003E    MODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = kOSProcessor\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m guessing that while this worked in 0.11, it breaks stuff in 0.12 or newer. \u003C/p\u003E\u003Cp\u003ESo does anybody know how to add kOS processor functions to all command modules in 0.12.x without breaking them?? (Preferably for sandbox mode, in case it matters)\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-06-01T23:56:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Entropius\u0022 data-cite=\u0022Entropius\u0022\u003E\u003Cdiv\u003ESo I tried upgrading to v0.12.1 today and upon loading a ship already in orbit, my ship appeared to be missing everything except the command module. It\u0027s like the rest of it was deleted.\u003Cp\u003EAnd then I tried launching a new ship, and the first one launched okay but the 2nd one after revert to launch caused me to have another command-module-only ship.\u003C/p\u003E\u003Cp\u003EAnyone know what\u0027s going on?\u003C/p\u003E\u003Cp\u003EEDIT 1: Nevermind, the zipped download says 12.1 but in the terminal it says the version is 12.0. Maybe this is the older broken version still. I need to sort out what version this really is.\u003C/p\u003E\u003Cp\u003EEDIT 2: I tried downloading 12.1 from GitHub instead of Curse and the same bad results happened. Ships missing everything but their module. Even worse, this time I would click the launchpad/runways/VAB buildings and it wouldn\u0027t let me actually do anything with them. Until I know what\u0027s going on I\u0027ll roll back to 0.11.\u003C/p\u003E\u003Cp\u003EEDIT 3: Okay, I tried 12.2 prerelease, and the same bug with ships missing everything but a command module occurs here too.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow did you exit the game the first time the error happened? Because I\u0027ve seen this ages ago back in the old 0.9 version, and once it happens it will permanently STORE the vessel in the campaign save file with the parts gone from it unless you hurry up and force-quit KOS without letting it checkpoint the save file. Once it happens the first time, then subsequent reloads won\u0027t bring the missing parts back again, even if the actual bug that caused it is no longer there, because the bug deleted the parts from the saved game the first time.\u003C/p\u003E\u003Cp\u003EI have never seen this problem happen in versions higher than 0.10 anymore, and you\u0027re the first to report it with any new versions. Can you try it with a *new* vessel, save and restore the game, and the very first moment a part of the vessel is missing upon loading, ALT-TAB out of the game while it\u0027s still running and save a copy of the file KSP_Data/output_log.txt somewhere and then go back into the game and quit out of it? (You have to save the output.txt file to a new name because it overwrites the file each time you run KSP so the evidence will be gone if you run again after the bug happened.)\u003C/p\u003E\u003Cp\u003EThe bug happens when something throws an error during the process of reloading the vessel from on-rails into full-blown-physics. It goes through each of the vessel\u0027s parts one by one and puts them on the ship. If any part along the way generates an error, the act of loading the parts quits and the rest of the vessel\u0027s parts don\u0027t get loaded. (Then if it saves the game at that point it saves this new missing-parts version of the vessel and you\u0027ll never get the parts back again after that.)\u003C/p\u003E\u003Cp\u003ESeeing the output_log.txt file will let us see what the actual error was that was generated, and let us see which mod was responsible.\u003C/p\u003E\u003Cp\u003EMore than one mod has had this effect before because pretty much any error during the loading process will do it. KSP is designed to quit loading and not continue with the rest of the parts of the ship once any single error happens.\u003C/p\u003E\u003Cp\u003E[EDIT: your second post ninja\u0027d in while I was writing this]\u003C/p\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-06-01T23:58:10Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@MrOnak:\u003C/strong\u003E Nice to see my missile inspired someone \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s no simple way to convert a direction to heading and elevation, but can be done with some vector math:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// this only change when you move on the surface\u003Cbr\u003Eset targetVector to targetVessel:direction:vector:normalized.\u003Cbr\u003Eset upVector to ship:up:vector:normalized.\u003Cbr\u003E\u003Cbr\u003Eset shipFacing to ship:facing.\u003Cbr\u003Eset sinYawF to sin(shipFacing:yaw).\u003Cbr\u003Eset cosYawF to cos(shipFacing:yaw).\u003Cbr\u003Eset sinPitchF to sin(shipFacing:pitch).\u003Cbr\u003Eset cosPitchF to cos(shipFacing:pitch).\u003Cbr\u003Eset facingVector to V(sinYawF*cosPitchF, -sinPitchF, cosYawF*cosPitchF).\u003Cbr\u003E\u003Cbr\u003Eset diffVector to facingVector - targetVector.\u003Cbr\u003E\u003Cbr\u003E// this returns a value where 0 is the horizon and 1 is looking directly up\u003Cbr\u003E// can be multiplied by 90 to get degrees from the horizon\u003Cbr\u003Eset diffUp to vdot(diffVector, upVector)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Entropius:\u003C/strong\u003E ModuleManager support is broken, but we accidentally left the patch in the download. We\u0027re working to fix it.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-06-02T12:00:10Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Mariano\u003C/strong\u003E: Oh yeah, that vid started quite something in my head \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E In fact I ended up copying your code for the missile-in-flight part and tweaked it a bit to my needs. I\u0027ll put the whole kOS script up once I\u0027m happy with it, with credits to you of course \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. \u003C/p\u003E\u003Cp\u003EI\u0027ll definitely check your code of calculating the elevation over the horizon, that should be helpful \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Steven\u003C/strong\u003E: Thanks for the link to the coordinate system page. I read it twice by now but that topic needs more time than I currently have \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Anyway, thanks a bunch, it will be helpful.\u003C/p\u003E\u003Cp\u003EWhat I noticed while writing my plane autopilot: As soon as I start setting any of the \u003Cem\u003Eship:control:*\u003C/em\u003E values, manual steering and manual throttle is completely disabled. Is that a known issue? \u003C/p\u003E\u003Cp\u003EI.e. with my \u0022altitude hold\u0022 program in the autopilot being active (it manipulates \u003Cem\u003Eship:control:pitch\u003C/em\u003E) it immediately slams the throttle to 0 without an option for manually control the throttle any further until the script is stopped.\u003C/p\u003E\u003Cp\u003ESimilarily when I enable my cruise control (manipulates \u003Cem\u003Eship:control:mainthrottle\u003C/em\u003E) I\u0027m unable to steer with any of w/a/s/d/q/e. Using \u003Cem\u003Eship:control:mainthrottle\u003C/em\u003E was necessary in the first place because the \u0022altitude hold\u0022 aspect makes using \u003Cem\u003Elock throttle to myThrottleVal\u003C/em\u003E impossible.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-06-02T23:21:30Z","Content":"\n\u003Cp\u003EI just thought I\u0027d share a first glimpse of my autopilot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/xB_EFE0LhGo?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E(edited for embedding the video)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-03T07:52:26Z\u0022 title=\u002206/03/2014 07:52  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 3, 2014\u003C/time\u003E by MrOnak\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-06-02T23:41:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003EI just thought I\u0027d share this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/xB_EFE0LhGo?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood Show Chap!\u003C/p\u003E\u003Cp\u003EThat was a fun video to watch. Thank you for sharing!\u003C/p\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-06-03T03:55:55Z","Content":"\n\u003Cp\u003ENice! (although I kept waiting for the SAM to appear behind a hill and blow the plane to pieces \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\n"},{"CreatedByName":"DocBear","CreatedById":112144,"CreatedDateTime":"2014-06-03T03:58:32Z","Content":"\n\u003Cp\u003EHi I do not speak English. I use Google translator. \u003C/p\u003E\u003Cp\u003EPlease help me. In the video \u003Ca href=\u0022https://youtu.be/uzdizR6bJiM?t=5m41s\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://youtu.be/uzdizR6bJiM?t=5m41s\u003C/a\u003E with 5:41. Section \u0022synchronezed orbiters\u0022. \u003C/p\u003E\u003Cp\u003EShows how to launch two missiles at one time. kOS version 0.2. \u003C/p\u003E\u003Cp\u003EBut in version 0.12.1 by using the command \u0022on ag1 run programName\u0022 and use the \u00221\u0022 key. Triggered all script steps immediately. rocket crashing.\u003C/p\u003E\u003Cp\u003Ehow to replicate this training video?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-06-03T06:39:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrOnak\u0022 data-cite=\u0022MrOnak\u0022\u003E\u003Cdiv\u003EI just thought I\u0027d share this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/xB_EFE0LhGo?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s pretty good! I\u0027m impressed. I\u0027ve done a lot with space maneuvering but nothing with flying in atmo yet (other than calculating terminal velocity for rocket throttle purposes.)\u003C/p\u003E\u003Cp\u003EAs to your comment about the inability to control the ship while the autopilot is doing things, I too think it would be great if that could be dealt with but I don\u0027t know how hard that would be. In the real world most autopilots are there to supplement pilot\u0027s inputs rather than override them utterly. (As least they were until Airbus changed all that ... grumble). So, for example, you can tell the autopilot things like \u0022please adjust my throttles as needed to maintain my speed at a constant while I make this turning maneuver...\u0022\u003C/p\u003E\u003Cp\u003EMany autopilots also have an emergency dis-engage where they \u0022let go\u0022 if the pilot moves the controls manually. (I\u0027m not sure we necessarily want *that*).\u003C/p\u003E\u003Cp\u003EDoes kOS actually *need* to lock out user input on WASDQE/Shift/Ctrl? Can that lockout be disabled? And if it is, and the autopilot is trying to, say, pitch down while the player is trying to pitch up, who will win? A solution in which flybywire releases control of a particular control axis (one axis at a time, rather than all controls globally) when it notices the user pressing the appropriate control for that axis, and then grabs it back again after that control hasn\u0027t been pushed for a second or so, would be great.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-06-03T08:22:25Z","Content":"\n\u003Cp\u003EHaha! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E I\u0027m glad you all like it. As I said in the video description the source will be available in a short while, when its a bit more useful.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Mariano\u003C/strong\u003E: I was actually thinking about that but I can\u0027t figure out how to have two scripts run on two different vessels at the same time... as soon as I switch vessels the one I just left seems to stop processing and gets out of control. (BTW your pitch script works like a charm, thanks again!)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESteven\u003C/strong\u003E: I must say I was surprised myself how well the terrain follow mode works. Given that the KSP ground radar points straight down and not forward as any sane terrain following radar would. (Yes yes, its useful for rockets, I know \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E ) That means that I can\u0027t do calculations based on \u0022hill coming up in 20 seconds\u0022 but have to resort to \u0022HILL! NOOOOOW!\u0022. Hence the 9-10 g pulls. Aside from that, the PID controllers do a rather good job. The coding part was easy enough (getting to know kOS aside). The only time consuming part was the PID-Tuning but it always is a PITA, not only in KSP \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EObviously if you follow the terrain at a radar altitude of 2km rather than 400m the upper/lower bounds for the pitch can be much less, resulting in slower response and less accurate altitude over changing terrain but smooooother flight. If anyone is interested, I did a datalogging run on another flight while I was tuning the gain parameters. It was a terrain following flight with much smoother pitch bounds and a radar altitude of 894m: \u003Ca href=\u0022http://imgur.com/nxzCT8e\u0022 rel=\u0022external nofollow\u0022\u003Eimage here\u003C/a\u003E. For a quick glimpse: Light green is the required altitude over terrain, red is the actual altitude over terrain.\u003C/p\u003E\u003Cp\u003ERegarding those locked controls: Obviously I don\u0027t know why they\u0027re locked in the first place but assuming there\u0027s a good reason for that I believe there is still an option for a more controlled handing-over-controls:\u003C/p\u003E\u003Cp\u003EOne way would be to have the script to lock/unlock controls \u003Cstrong\u003Eexplicitly, on a per axis basis\u003C/strong\u003E. \u003Cem\u003Eset ship:control:mainthrottlelock to true\u003C/em\u003E or something like that. That would allow i.e. my autopilot to take control over the throttle but leave pitch/yaw/roll untouched. Or lock only pitch for terrain following but allow me to handle throttle/roll/yaw. I believe that is transparent enough for the programmer to handle and it would avoid fighting-over-control issues which would probably lead to increasing oscillation.\u003C/p\u003E\u003Cp\u003EAnother way would be a \u0022last input wins\u0022 approach. Not sure how feasible that is to implement in kOS as that depends largely on how the ship:control section is structured in the first place. \u003C/p\u003E\u003Cp\u003EConcerning flight performance I don\u0027t see any benefit of the \u0022last input wins\u0022 approach. kOS trying to achieve (A) while your inputs are trying (\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E on the same control axis doesn\u0027t seem like something that would work in many scenarios.\u003C/p\u003E\u003Cp\u003EEmergency disengage? Nah... switching off kOS is easy enough and its not like a crash actually matters.\u003C/p\u003E\u003Cp\u003EAnnnnnyway. Back to me figuring out heading and roll *sigh* heheh\u003C/p\u003E\u003Cp\u003E[edit]\u003Cstrong\u003E@Steven\u003C/strong\u003E Oh my god I just found the VecDraw video on youtube. I\u0027m so excited now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E[/edit]\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-03T09:10:53Z\u0022 title=\u002206/03/2014 09:10  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 3, 2014\u003C/time\u003E by MrOnak\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-06-03T10:37:36Z","Content":"\n\u003Cp\u003EOn a different note I think my SAM-Launcher is ready for the public. \u003Ca href=\u0022https://www.dropbox.com/s/q259owv1o3ubj1l/kOS%20SAMLauncher.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/q259owv1o3ubj1l/kOS%20SAMLauncher.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThanks to Mariano and Steven once more, the whole thing would have taken a lot longer without your help \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"marianoapp","CreatedById":104009,"CreatedDateTime":"2014-06-04T00:05:04Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@MrOnak:\u003C/strong\u003E I used the Skillful plugin (just the dll) that automatically expand the loading range of the vessels, that way you can switch between the plane and the launcher and have scripts running in different vessels at the same time.\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2014-06-04T09:53:38Z","Content":"\n\u003Cp\u003EActually range isn\u0027t my problem at the moment. It will be later I\u0027m sure, so thanks for the hint \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EOne of the cores simply will stop processing the script when I switch to the other one, even with a simple two-rocket system on the launchpad. \u003C/p\u003E\u003Cp\u003EEdit: Scratch that, freshly infused with coffee I just managed to launch both... some more investigation is required \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EErm.... one other thing I noticed last night: There is no pow(double x, double y) function in kOS? At first I thought oh well I just use exp(y * ln(x)) but exp() is also not available. Am I missing something? I\u0027m trying to implement atmospheric pressure at current altitude for a terminal velocity calculation. Back to spreadsheets, wikipedia and the ksp-wiki it seems...\u003C/p\u003E\n"},{"CreatedByName":"Joe32320","CreatedById":81055,"CreatedDateTime":"2014-06-04T13:24:46Z","Content":"\n\u003Cp\u003EYou can just type x^y for powers (the power sign appears as an upwards arrow in the terminal though).\u003C/p\u003E\u003Cp\u003EAlso just for reference, the constant e can be got using \u0022constant():e\u0022 should you ever need it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}