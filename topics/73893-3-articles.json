{"TopicId":73893,"ForumId":34,"TopicTitle":"ModStatistics 1.0.3 - Anonymous mod usage statistics - Now for public distribution!","CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-02T05:02:45Z","PageNum":3,"Articles":[{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-05T06:12:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JewelShisen\u0022 data-cite=\u0022JewelShisen\u0022\u003E\u003Cdiv\u003EAwesome. Perhaps just let authors see the crash data as they are the only ones who really need it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d rather not restrict it like that. It helps users to see which mods are unreliable. On that note, I also have an obligation to make sure the analysis is not misleading. What\u0027s up on the site right now is just exploratory, and every listing has some flaws. (If anyone has a stronger statistics and machine learning background, I\u0027d certainly appreciate help!)\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-05T08:28:44Z","Content":"\n\u003Cp\u003EIt would be interesting to see the numbers of a particular version of a mod in the wild so a mod author can track how many folks have not yet upgraded.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-06-05T08:57:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003E[EDIT 2] And here\u0027s average total loading time: \u003Ca href=\u0022http://stats.majiir.net/loading\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://stats.majiir.net/loading\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure what this tells us. Is that something like, \u0022the average loading time of users who have plugin X installed is ~Y seconds\u0022? As the list is right now, it is not very useful, because it leads to the wrong conclusions. For example, I can\u0027t think of a reason why PartHighlighter should increase loading times by a large amount.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003ESo it turns out computing statistics is hard.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPersonally, I\u0027d use \u003Ca href=\u0022http://www.splunk.com\u0022 rel=\u0022external nofollow\u0022\u003ESplunk\u003C/a\u003E for analysis and graphing things. I\u0027m sure there are other neat tools as well.\u003C/p\u003E\u003Cp\u003ESplunk example:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/8J3DCFq.png\u0022 alt=\u00228J3DCFq.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-05T09:00:55Z\u0022 title=\u002206/05/2014 09:00  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 5, 2014\u003C/time\u003E by blizzy78\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-06-05T09:08:53Z","Content":"\n\u003Cp\u003E@Majiir: previous reports from yesterday have not been sent (maybe due to the exception below).\u003C/p\u003E\u003Cp\u003EI got:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E[ModStatistics] report-0.json sent successfully\u003Cp\u003E(Filename: C:/BuildAgent/work/ea95e74f6e5f192d/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 54)\u003C/p\u003E\u003Cp\u003E[ModStatistics] Could not upload report-1.json:\u003C/p\u003E\u003Cp\u003ESystem.Net.WebException: The remote server returned an error: (403) Forbidden.\u003C/p\u003E\u003Cp\u003E at System.Net.HttpWebRequest.CheckFinalStatus (System.Net.WebAsyncResult result) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at System.Net.HttpWebRequest.SetResponseData (System.Net.WebConnectionData data) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-05T18:30:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EIt would be interesting to see the numbers of a particular version of a mod in the wild so a mod author can track how many folks have not yet upgraded.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt would, yes. The plugin collections assembly file and informational versions, but unfortunately, it\u0027s hard to tell which of these is correct\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20ACif either. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EI\u0027m not sure what this tells us. Is that something like, \u0022the average loading time of users who have plugin X installed is ~Y seconds\u0022? As the list is right now, it is not very useful, because it leads to the wrong conclusions. For example, I can\u0027t think of a reason why PartHighlighter should increase loading times by a large amount.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, it\u0027s the average loading time of installations which include that mod. There are a few things going on with the current analysis. There\u0027s not enough data, so there are going to be irregularities here for a while; crashes aren\u0027t filtered out, so one person who let the loading screen sit there frozen for 22 minutes really skewed things; and most importantly, the analysis is flawed to begin with. It\u0027s not \u003Cem\u003Ewrong\u003C/em\u003E, it\u0027s just not a particularly useful stat yet. With large volumes of data, we might see that certain mods stand out, but a proper analysis is more complicated.\u003C/p\u003E\u003Cp\u003ETo expand on that: Ideally, we\u0027d like to know how long each mod takes to load on average hardware. We have access to a list of installed mods and the total loading time. In principle, it\u0027s possible to work this out, but only if you have a \u003Cem\u003Elot\u003C/em\u003E of data. You can\u0027t very well use data that spans multiple users because users have different hardware. In effect, each user has a different load time multiplier. You could try to find users who have identical mod lists and compute the factor between them, but there will be few such coincidences. What you really have is a more complex system: \u003Cem\u003Elots\u003C/em\u003E of users which all overlap, and lots of runs for each user with potentially different mod combinations. The part that I don\u0027t know how to solve is the simultaneous over- and under-specification. The system is under-specified because some mods are never used alone, or not used in enough combinations to pin down their contribution to load time. It\u0027s over-specified because popular mods will show up a lot, and you need to be able to average those results. I may just be blanking on something I should know, but this seems like a difficult problem. Perhaps I can think of it as fitting a line to data in n-dimensional space where n is the number of mods, but then I\u0027m not sure how different users play into it. (Maybe it should be n\u002B1 dimensions? But then users need to be properly distributed along their dimension, and that\u0027s part of the challenge.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EPersonally, I\u0027d use \u003Ca href=\u0022http://www.splunk.com\u0022 rel=\u0022external nofollow\u0022\u003ESplunk\u003C/a\u003E for analysis and graphing things. I\u0027m sure there are other neat tools as well.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure an analytics package is going to help here. Simple queries are easy, and harder ones are difficult to even conceptualize. If you can point me to specific capabilities, I\u0027ll give it a look.\u003C/p\u003E\u003Cp\u003ERight now I\u0027m using MongoDB\u0027s aggregation pipeline, and it works nicely if you know what you\u0027re trying to compute. I could certainly use something else, but working with MongoDB directly keeps the whole thing simpler.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003E@Majiir: previous reports from yesterday have not been sent (maybe due to the exception below).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich version are you using? The server is only accepting reports from 0.0.3.\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-06-05T18:56:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EIt would, yes. The plugin collections assembly file and informational versions, but unfortunately, it\u0027s hard to tell which of these is correct\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20ACif either. \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt may be even impossible if author didn\u0027t take time to add version to the library \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E. (md5/other ? \u002B reference like pluginchecksumA = 1.0.0.1, pluginchecksumB = 1.0.2 sounds like a real pain somewhere to maintain)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhich version are you using? The server is only accepting reports from 0.0.3.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E0.0.3, this particular report (report-1.json) has been removed, so I guess it has been uploaded, confirmed by:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E[ModStatistics] report-1.json sent successfully\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd it\u0027s do the same again for second report:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E[ModStatistics] Could not upload report-2.json:\u003Cp\u003ESystem.Net.WebException: The remote server returned an error: (403) Forbidden.\u003C/p\u003E\u003Cp\u003E at System.Net.HttpWebRequest.CheckFinalStatus (System.Net.WebAsyncResult result) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at System.Net.HttpWebRequest.SetResponseData (System.Net.WebConnectionData data) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks like your plug-in is some kind of psycho-spaceball \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E, first time it crash, second time, it is ok.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-06-05T19:02:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EIf you can point me to specific capabilities, I\u0027ll give it a look.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMind you, I\u0027m not a Splunk guru. Even though we could use it at work, we don\u0027t, so the only experience is what I got from private use on my server. It has an awful lot of searching (filtering) and aggregation commands (see \u003Ca href=\u0022http://docs.splunk.com/Documentation/Splunk/latest/SearchReference/Top\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.splunk.com/Documentation/Splunk/latest/SearchReference/Top\u003C/a\u003E, then expand \u0022Search Command Reference\u0022 on the left), and it can display all sorts of reports and diagrams. Personally I don\u0027t think I\u0027m using even 20% of what it can do.\u003C/p\u003E\u003Cp\u003ESo in that regard, it would be better to ask what info you would want to see, and then try to figure out how to do that with Splunk. (For example, a graph over time that shows the average KSP loading time of users that have plugin X and Y and Z installed. Such a graph would be more on the easier side, I think.)\u003C/p\u003E\u003Cp\u003EOh, and you could correlate things with crash reports, even if crash reports and regular statistics are transmitted separately.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-05T19:06:45Z\u0022 title=\u002206/05/2014 07:06  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 5, 2014\u003C/time\u003E by blizzy78\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-05T19:07:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003ELooks like your plug-in is some kind of psycho-spaceball \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E, first time it crash, second time, it is ok.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDo you have multiple ModStatistics.dll plugins present? It\u0027s possible that version negotiation is failing. Also: are you behind some kind of proxy or filter? There are some requests with a blanked-out User-Agent header, which are also rejected.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-07T07:02:19Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cstrong\u003EModStatistics 1.0.0 has been released. The download link in the \u003C/strong\u003E\u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/81764-ModStatistics-0-0-1-Anonymous-mod-usage-statistics-Beta-release-seeking-testers?p=1189593\u0026amp;viewfull=1#post1189593\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cstrong\u003Efirst post\u003C/strong\u003E\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cstrong\u003E has been updated.\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThis is the first release suitable for redistribution.\u003C/strong\u003E Details and best practices have been added to the first post. Please read that information thoroughly before including ModStatistics with your download.\u003C/p\u003E\u003Cp\u003EAdditionally, the site has been revamped a bit, although there is now only one listing. I\u0027ll be expanding it over time. As before, if there is a particular stat you\u0027d like to see, let me know.\u003C/p\u003E\u003Cp\u003E[EDIT] One more thing: A big thanks to everyone who tested the beta! Your feedback was immensely useful. The stats you contributed over the last three days helped a great deal as well.\u003C/p\u003E\u003Cp\u003EChanges in this version:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EAssembly title is now reported. This is a name contained by each plugin and not bound to the DLL filename, which will improve mod identification. (This should fix the ModuleManager categorization issues.)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EReports no longer freeze the game while sending.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EReports are now sent only when the game starts. This provides consistency between crash and non-crash reports and eliminates the delay when closing the game.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOn startup, the plugin installs the latest version of itself into the GameData/ModStatistics folder. This ensures that the plugin version is not bound to the mod distributing it.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERemoved the blank settings file from the download package and improved the instructions in the file that the plugin generates on first run.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EReduced debug messages to avoid spamming the output log.\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-07T07:04:58Z\u0022 title=\u002206/07/2014 07:04  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 7, 2014\u003C/time\u003E by Majiir\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-06-07T07:53:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EThe plugin detects other copies of itself and only runs the latest version it finds. It also manages its own directory structure, so you should not place it in GameData/ModStatistics within your download. Instead, place it in your own mod\u0027s folder (e.g. \u003Cstrong\u003EGameData/YourMod/ModStatistics/ModStatistics.dll\u003C/strong\u003E). This ensures your mod is properly detected, even if it is a pluginless mod.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know you\u0027ve work a lot I guess to avoid conflicts or weird issues of many kind but should it not be better to have:\u003C/p\u003E\u003Cp\u003EGamedata/ModStatistics/ModStatistics.dll\u003C/p\u003E\u003Cp\u003Ewhich is a \u0022global oversight\u0022\u003C/p\u003E\u003Cp\u003Eand:\u003C/p\u003E\u003Cp\u003EGameData/modA/ModStatistics.cfg\u003C/p\u003E\u003Cp\u003EGameData/modB/\u003C/p\u003E\u003Cp\u003EGameData/modC/ModStatistics.cfg\u003C/p\u003E\u003Cp\u003EmodB is not surveyed, A and C are, cfg file may contains specific items to each mod (include crash data or not, monitor parts if such option is added later, or anything which could be useful to mod author)\u003C/p\u003E\u003Cp\u003EAs you have made it for now, it is a kind of dll invasion, and\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003Ethey will negotiate amongst themselves, and only the latest version will execute.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eis not very clear, how much dll are loaded ? Does one load after another then disabled itself ?\u003C/p\u003E\u003Cp\u003EWhat if 3 latest versions are there ? All 3 will be executed ? Or only one (which one ?) of the 3 ?\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-07T08:07:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003EI know you\u0027ve work a lot I guess to avoid conflicts or weird issues of many kind but should it not be better to have:\u003Cp\u003EGamedata/ModStatistics/ModStatistics.dll\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe issue here is this can cause the ModStatistics directory structure (or individual files within) to be overwritten when another mod is installed. Additionally, users are used to erasing such directories before installing mods; that can cause issues when a mod is distributed with an out-of-date version. Finally, pluginless mods cannot currently be detected unless a plugin (like ModStatistics) is in their directory structure.\u003C/p\u003E\u003Cp\u003EIf the packaging instructions are followed, the user is unlikely to notice that multiple files are present. It would also be acceptable, for example, to put the ModStatistics DLLs in GameData/YourMod/Plugins, where other plugins are already distributed. ModStatistics is very small, so I don\u0027t think this is an issue.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003EGameData/modA/ModStatistics.cfg\u003Cp\u003EGameData/modB/\u003C/p\u003E\u003Cp\u003EGameData/modC/ModStatistics.cfg\u003C/p\u003E\u003Cp\u003EmodB is not surveyed, A and C are, cfg file may contains specific items to each mod (include crash data or not, monitor parts if such option is added later, or anything which could be useful to mod author)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will be adding configuration options in a future version, but for now there\u0027s nothing to put in those files.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003Eis not very clear, how much dll are loaded ? Does one load after another then disabled itself ?\u003Cp\u003EWhat if 3 latest versions are there ? All 3 will be executed ? Or only one (which one ?) of the 3 ?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOnly one instance of the latest version of ModStatistics will run.\u003C/p\u003E\u003Cp\u003ENote that I\u0027m looking into ways to have ModStatistics erase duplicate versions, but that\u0027s a technical challenge. (Assemblies cannot be unloaded without unloading the entire AppDomain, so I\u0027d have to do something like create a new AppDomain which runs a cleanup task, or maybe even spawn a separate process.)\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-06-07T09:08:28Z","Content":"\n\u003Cp\u003Eok thanks.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ENote that I\u0027m looking into ways\u003Cstrong\u003E to have ModStatistics erase duplicate versions\u003C/strong\u003E, but that\u0027s a technical challenge. (Assemblies cannot be unloaded without unloading the entire AppDomain, so I\u0027d have to do something like create a new AppDomain which runs a cleanup task, or maybe even spawn a separate process.)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIMHO, this is VERY BAD ! It\u0027s kind of Microsoft programming style (=\u0022the average user is too stupid to understand\u0022 \u002B doing thing behind the back of people on their behalf).\u003C/p\u003E\u003Cp\u003EThe best way I see is like standard \u0022shared\u0022 plug-in, ex FireSpitter, many mods use it and there is (shoud be) only one single file.\u003C/p\u003E\u003Cp\u003EI know it\u0027s not the same usage of course, so the config file style given before may be preferred, with maybe a global finding/parsing of configs like MM does.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-07T09:53:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003EIMHO, this is VERY BAD ! It\u0027s kind of Microsoft programming style (=\u0022the average user is too stupid to understand\u0022 \u002B doing thing behind the back of people on their behalf).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure what\u0027s so bad about it, but it doesn\u0027t matter anyway. Deleting them just cleans up the plugins that aren\u0027t running to begin with.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003EThe best way I see is like standard \u0022shared\u0022 plug-in, ex FireSpitter, many mods use it and there is (shoud be) only one single file.\u003Cp\u003EI know it\u0027s not the same usage of course, so the config file style given before may be preferred, with maybe a global finding/parsing of configs like MM does.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf every modder puts the file in the same path as you suggest, modders need to constantly stay up-to-date with ModStatistics or they\u0027ll end up overwriting new versions with old ones. This is easier on modders because they can package it once and not worry about ModStatistics updating. (Another mod will probably come along with a more up-to-date version.) It\u0027s easier on users because they don\u0027t have to figure out how to merge the ModStatistics folder. (This would inevitably cause problems when users merge incorrectly or delete the old folder; or they\u0027d delete the new one, and thus not receive an update. Directory merging has been a constant source of confusion.)\u003C/p\u003E\u003Cp\u003EI know that this is a little unusual, but as you say, it\u0027s a different use case. This is somewhat similar to ModuleManager and Toolbar, and the system I\u0027ve designed solves many of the problems those mods have experienced. If you have specific concerns, let me know, but I think this will work quite well for all involved.\u003C/p\u003E\n"},{"CreatedByName":"willow","CreatedById":13072,"CreatedDateTime":"2014-06-07T10:40:49Z","Content":"\n\u003Cp\u003EJust a generic comment...\u003C/p\u003E\u003Cp\u003EI think it would be highly undesirable if users would inadvertantly install this plugin via a third party mod and have it upload data to servers without their knowledge. No matter how anonymous the information is. Let me put it another way. In Europe information gathering like this by law should be an opt-in scenario. If it happens behind my back, you\u0027re breaking the law.\u003C/p\u003E\u003Cp\u003EAdmittedly almost every smartphone out there is laden with software who in some shape or form does this behind our backs. But this doesn\u0027t change the law or ethics.\u003C/p\u003E\u003Cp\u003EYou described the process as opt-out... I think it should be opt-in.. Upon startup of KSP a dialog may explain to me exactly when and what kind of information is going to be sent to the servers so I may make an informed decision. But I as an end user should clearly give my consent. And then if you\u0027d honestly tell me the benefits I\u0027d be giving to the mod makers I\u0027ll probably say yes.\u003C/p\u003E\u003Cp\u003EHowever, curse gaming already keeps pretty good statistics about mod downloads, which is a close indication of usage. Meaning that this plugin is superfluous.\u003C/p\u003E\u003Cp\u003EConsider alternatives that you can offer as services to the user while they achieve your goals at the same time.\u003C/p\u003E\u003Cp\u003EYou could change your plugin so it does automatic update checks for the user. Which gives your server the same information and adds benefits for the users. You\u0027d also need to offer a repository for mods on your server though. Proxying to curse wouldn\u0027t be the same. You could add in game error reporting where users can upload bugs to your servers which benefits both the users and the mod makers, and gives you usage statistics. You could for every bug send a mod list to the server. Because that\u0027s relevant information when reporting a bug. You could also consider ingame feature requesting to this system which adds the same benefits. You could offer a list of update information so the user is informed of version information for every mod in their game.\u003C/p\u003E\u003Cp\u003EIn fact a plugin which finds updates to my mods (Or as yet uninstalled mods) and offers to install them for me in game would definately be on my wish list. That you learn about the mods I have installed in the process isn\u0027t that big a thing to me.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-07T12:25:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022willow\u0022 data-cite=\u0022willow\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYou could change your plugin so it does automatic update checks for the user. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI like this idea - you know what version the user has and you can check if other users have a higher version based on the reports of other users, so you can figure out that a user is out of date without even having to worry about what is on curse or any other download site.\u003C/p\u003E\u003Cp\u003ENo comment on the legal stuff.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-06-07T14:40:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EI\u0027m not sure what\u0027s so bad about it, but it doesn\u0027t matter anyway. Deleting them just cleans up the plugins that aren\u0027t running to begin with.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell there are minor effects like they at least having some memory impact and the current version adds ~10 types, so all code that does reflection will be slowed down a tiny bit. That\u0027s ofc not significant unless this mod grows in complexity or is very frequently updated. I though about that for the error reporting stuff i\u0027ll probably never have the time to realize anyway, and one approach might be to manually load assemblies. KSP won\u0027t touch them as long as they are named *.notdll, allowing the mod to load or delete whatever dependencies it likes...\u003C/p\u003E\u003Cp\u003EBut imo the more serious problem is trust. Automatically downloading and running code can end very bad for the user.... very very bad. Who cares about privacy of uploaded data when you can push code that uploads all my password files without me noticing. I certainly wouldn\u0027t install anything like that from some community member that isn\u0027t that well respected as you, but it still doesn\u0027t feel great.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-06-07T15:05:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022willow\u0022 data-cite=\u0022willow\u0022\u003E\u003Cdiv\u003EHowever, curse gaming already keeps pretty good statistics about mod downloads, which is a close indication of usage. Meaning that this plugin is superfluous.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI believe the whole point of all this is that simple download numbers aren\u0027t very valuable. They tell you very little about actual usage.\u003C/p\u003E\u003Cp\u003EDoes this generate a file with the info being sent? I think that might help assuage some of people\u0027s worries about data privacy.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-07T15:09:39Z\u0022 title=\u002206/07/2014 03:09  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 7, 2014\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-06-07T16:19:58Z","Content":"\n\u003Cp\u003ERegarding downloads, I, myself usually download some mods but not install them right away, sometimes left one, two, ... n versions even before I paid them some attention, like KAX for example. Then I install a single mod on a test install for a few days/weeks/months, and then and only then, I install he mod on my main game.\u003C/p\u003E\u003Cp\u003ESo, KAX can have a few more downloads without any more use. That\u0027s make such counter unreliable at all, without mentioning people redownloading a mod because they erase it by accident, or any other reason.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-07T21:12:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022willow\u0022 data-cite=\u0022willow\u0022\u003E\u003Cdiv\u003EI think it would be highly undesirable if users would inadvertantly install this plugin via a third party mod and have it upload data to servers without their knowledge.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is why I notify users in a prominent place in this thread, and I instruct mod authors to do the same. This isn\u0027t the first plugin to contact a remote server; some are quite popular and don\u0027t even tell users about it. If you see a mod you want to play and it has ModStatistics, and you don\u0027t want to contribute, then run the game once, let ModStatistics generate the settings.cfg file, and change the disabled flag. No data is sent on the first run.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022willow\u0022 data-cite=\u0022willow\u0022\u003E\u003Cdiv\u003EYou could change your plugin so it does automatic update checks for the user. Which gives your server the same information and adds benefits for the users. You\u0027d also need to offer a repository for mods on your server though. Proxying to curse wouldn\u0027t be the same. You could add in game error reporting where users can upload bugs to your servers which benefits both the users and the mod makers, and gives you usage statistics. You could for every bug send a mod list to the server. Because that\u0027s relevant information when reporting a bug. You could also consider ingame feature requesting to this system which adds the same benefits. You could offer a list of update information so the user is informed of version information for every mod in their game.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/71133-Community-Mod-Repository-and-The-Majiir-Challenge\u0022 rel=\u0022external nofollow\u0022\u003EI have offered my server resources for hosting a community-run mod repository.\u003C/a\u003E The coder of one of the candidate sites has already remarked that there\u0027s potential for integration between ModStatistics and their repository. I have a lot of \u0022meta-modding\u0022 projects, and this is one of them. I think they\u0027re all useful on their own, but clearly there\u0027s a possibility they\u0027ll converge. It\u0027s far too early in any project to give it much serious thought, though.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EWell there are minor effects like they at least having some memory impact and the current version adds ~10 types, so all code that does reflection will be slowed down a tiny bit. That\u0027s ofc not significant unless this mod grows in complexity or is very frequently updated. I though about that for the error reporting stuff i\u0027ll probably never have the time to realize anyway, and one approach might be to manually load assemblies. KSP won\u0027t touch them as long as they are named *.notdll, allowing the mod to load or delete whatever dependencies it likes...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe performance impact will be truly negligible. The *.notdll idea is interesting, but there needs to be a plugin to load those in the first place. If I figure out a good way to clean up DLLs, I\u0027ll raise the discussion again and we\u0027ll see what works best.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EBut imo the more serious problem is trust. Automatically downloading and running code can end very bad for the user.... very very bad. Who cares about privacy of uploaded data when you can push code that uploads all my password files without me noticing. I certainly wouldn\u0027t install anything like that from some community member that isn\u0027t that well respected as you, but it still doesn\u0027t feel great.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhile I recognize this guarantees nothing, I\u0027ll say: If I wanted to do something malicious, I\u0027d have already used Kethane or KAS as delivery mechanisms; or I\u0027d have more aggressively pursued Replaceport with my own code to harvest passwords; or, years ago when I discovered a public-facing database with thousands of plaintext passwords, I\u0027d have saved a copy instead of typing the drop-column command as fast as possible.\u003C/p\u003E\u003Cp\u003EUpdating and reporting can both be disabled. (\u0022update=false\u0022 in settings.cfg will prevent it from checking for new versions; I need to add that property to the default config file.) Honestly, lack of SSL is a far bigger problem than I ever will be. I did try a few times to add it, but Mono requires you to implement certificate validation logic yourself, and I\u0027m loathe to include something with the appearance of security unless it\u0027s really secure. (Of course, if someone is MITM\u0027ing your anonymous usage logs, you have bigger problems.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EDoes this generate a file with the info being sent? I think that might help assuage some of people\u0027s worries about data privacy.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes. As of the latest version, files are generated only when the game closes, and they are sent only when the game starts. So you can run a session, close KSP, and inspect the file to see what will be sent.\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2014-06-08T01:16:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EAs of the latest version, files are generated only when the game closes, and they are sent only when the game starts. So you can run a session, close KSP, and inspect the file to see what will be sent.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI really like that. Mainly so that I can make sure my mods are being reported correctly (making sure that I am filling out the Assembly information encoded in the DLL properly).\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2014-06-08T01:48:41Z","Content":"\n\u003Cp\u003EHL Mods will be including this in the next update.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-09T09:42:30Z","Content":"\n\u003Cp\u003EI am consulting other modders on including this in the next release of ConnectedLivingSpace.\u003C/p\u003E\n"},{"CreatedByName":"willow","CreatedById":13072,"CreatedDateTime":"2014-06-09T16:20:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EThis is why I notify users in a prominent place in this thread, and I instruct mod authors to do the same..\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerhaps the place should be on first ksp startup? It seems to me that most users will not have read this thread if somewhere in the future they load up a mod that includes your software.\u003C/p\u003E\u003Cp\u003EIt should be possible for you to cause a popup right? And that way you\u0027ve solved all ethical issues.\u003C/p\u003E\u003Cp\u003EYou say a lot of mods upload data without telling us about it.. Could you list them so I can uninstall them?\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-09T21:43:02Z","Content":"\n\u003Cp\u003EJewelShisen and codepoet: Cheers. I\u0027ll appreciate you letting me know when you do end up releasing it so I can figure that into my query design.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022willow\u0022 data-cite=\u0022willow\u0022\u003E\u003Cdiv\u003EIt seems to me that most users will not have read this thread if somewhere in the future they load up a mod that includes your software.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI ask modders to include a notice in \u003Cem\u003Etheir thread\u003C/em\u003E in a prominent place. This was done both as a courtesy to users and also to leave no doubt about compliance with the forum rules. I\u0027m considering a popup, but I want to test a few different things first.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022willow\u0022 data-cite=\u0022willow\u0022\u003E\u003Cdiv\u003EYou say a lot of mods upload data without telling us about it.. Could you list them so I can uninstall them?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI said some mods contact a remote server. (The very act of connecting transmits some information, but that\u0027s distinct from uploading application data.) Toolbar, for instance, contacts an update server. It can be disabled, but there aren\u0027t warnings plastered everywhere as with ModStatistics.\u003C/p\u003E\u003Cp\u003E--------\u003C/p\u003E\u003Cp\u003EOn another note: I\u0027ve discovered an odd issue with report submission as of 1.0.0. The server logs show that a large majority of clients that are able to contact the server are not submitting reports. At first, I thought it was one or two users manually deleting the reports every time they were generated, but there are too many instances of the issue now for that to be the case. (Only one user has been able to submit 1.0.0 reports.) I\u0027m working on a patch that will shed some light on the issue. In the meantime, if you\u0027re using 1.0.0, please give your GameData/ModStatistics folder a look and tell me what you see. In particular, I\u0027m interested in whether checkpoint.json exists while KSP is running, and whether report-#.json files are stacked up. I suspect there\u0027s an issue with file write permissions that\u0027s preventing reports from being saved for transmission at all. (To be clear: I think this is an issue affecting all versions released thus far, but only 1.0.0 made it discoverable on my end.)\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-06-09T22:28:43Z","Content":"\n\u003Cp\u003ESurely the place to notify users is in the license. \u0022If you want to use this software then you must agree to this ....\u0022 No-one can reasonably argue that it is not reasonable to read the license. \u003C/p\u003E\u003Cp\u003EPerhaps a standard text could be offered that modders can add to their license if they want to ship with ModStatistics.\u003C/p\u003E\n"}]}