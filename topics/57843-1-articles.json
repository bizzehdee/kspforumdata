{"TopicId":57843,"ForumId":36,"TopicTitle":"How would you go about designing a Living Space heuristic?","CreatedByName":"Headhunter09","CreatedById":67393,"CreatedDateTime":"2013-12-27T01:04:18Z","PageNum":1,"Articles":[{"CreatedByName":"Headhunter09","CreatedById":67393,"CreatedDateTime":"2013-12-27T01:04:18Z","Content":"\n\u003Cp\u003EI\u0027m working on a plugin that requires you to give your Kerbals ample space for long journeys. I\u0027ve got most of the technical backend setup, but I\u0027m struggling with creating a realistic/fun algorithm for space requirements.\u003C/p\u003E\u003Cp\u003ECurrently, each Kerbal has a level of \u0022sanity\u0022 from 0 to 1. Bad things happen if sanity levels fall too low. How should sanity correlate to mission time and living space?\u003C/p\u003E\u003Cp\u003EIn my mind, a full Hitchhiker pod should degrade sanity slower than a full Mk1 pod; even though the ratio of Kerbals to spots is the same, the Hitchhiker still has more \u0022space\u0022. Additionally, if a stupid Kerbal is stuck with a brave Kerbal, I feel like the brave Kerbal\u0027s sanity would degrade faster than if he was paired with another brave Kerbal.\u003C/p\u003E\u003Cp\u003ESo far I\u0027ve been looking at logistic functions as the basic building block (because linear functions are passe), but I\u0027m not sure how to quantify the interplay of the qualities mentioned above. \u003C/p\u003E\u003Cp\u003EAny opinions would be appreciated.\u003C/p\u003E\n"},{"CreatedByName":"Stargate525","CreatedById":53585,"CreatedDateTime":"2013-12-27T05:26:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Headhunter09\u0022 data-cite=\u0022Headhunter09\u0022\u003E\u003Cdiv\u003EAny opinions would be appreciated.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhelp, I\u0027m the king of opinions...\u003C/p\u003E\u003Cp\u003EI\u0027ve been roleplaying additional living space for long missions as a ratio of kerbals to total seats. Anything inside Kerbin\u0027s SOI is 1:1, Duna and eve is 2:1, etcetera.\u003C/p\u003E\u003Cp\u003EWould you be able to do something like that? Assign each pod a \u0027minimum flight time\u0027 where any kerbal is guaranteed to not lose sanity (a day or two for the Mk1, a week for the MK1-2, a month for the hitchhiker, whatever), but then Divide that out by the number of kerbals in the pod? So, as an example, I could send my hitchhiker out for Duna fully loaded, and my kerbals begin to go a bit batty after two weeks. But if I sent only two guys, it would take a month, and a single dude, while lonely, wouldn\u0027t be climbing the walls for two months.\u003C/p\u003E\u003Cp\u003E...Are you going to simulate loneliness in this? I\u0027d imagine no matter the living space, a kerbal would go a little nuts flying out all on his own.\u003C/p\u003E\u003Cp\u003EAs for the math behind it... I\u0027m not a programmer, so I\u0027m talking out my butt on this. I would imagine each pod to have a sort of \u0027resource\u0027 of sanity; a duration that\u0027s multiplied by the number of seats in the thing, and then evenly distributed amongst the passengers. That takes care of the ratio bit, and you should be able to fine-tune it for each pod (personally, from shortest duration to longest I would go Mk1 command, the Mk 1 and 2 cockpits, the Mk1 landercan, the Mk3 cockpit, the Mk1-2, the cupola, the Mk2 lander, and the hitchhiker).\u003C/p\u003E\u003Cp\u003EThen as a modifier to that degradation, I\u0027d apply the bravery bit (average of the crew should be enough, though you could consider multiplying it by 1.X, were X is the total crew. Strength in numbers and all that) with a straight bonus for any badass flags (if you wanted to), and a flat penalty if the kerbal is alone.\u003C/p\u003E\u003Cp\u003EAs for stupidity... not sure how or if you should model that. I mean, sure, idiots might panic more, but they might be too stupid to realize the danger and thereby increase morale with their brave, ignorant little face.\u003C/p\u003E\u003Cp\u003EAgain, not a programmer, so no idea if this actually helped... :/\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2013-12-27T06:24:35Z","Content":"\n\u003Cp\u003ELove the concept! Finally a use for those useless stats \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI think hard coding per module isn\u0027t a good idea. Your thing won\u0027t work with mods without each one adding the stuff. How about something like a living space affords sanity equal to the number of seats minus 1? Or number of seats*1.5, rounded down. So your hitchhiker would give you 6 \u0022sanity points\u0022 while the Mk1 would only give you 1 \u0022sanity point\u0022. THe 3-seater would give you 4 (4.5 rounded down) points.\u003C/p\u003E\u003Cp\u003EThat way, Joe Schmo\u0027s 6 Seater Lander Can will just work, giving you 9 \u0022sanity point\u0022s.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-27T07:00:46Z","Content":"\n\u003Cp\u003EHere\u0027s an idea:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EGet the total part volume (which can be the absolutely roughest Collider.bounds box for the purposes of this calculation) for every part with seats in it per vessel, divide by number of kerbals present, you get living-space-per-kerbal.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EProduce some arbitrary sanity drain value based on reasonable assumptions that a Mk1-2 capsule is supposed to be sufficient for, say, a couple of weeks with full complement -- after all, that was good enough for Apollo -- so that it\u0027s equal to the half-life of a kerbal\u0027s sanity, and modulate that drain based on the amount of space actually available. Apply this drain over time.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EModulate sanity by whee and panic levels. (look into kerbalExpressionSystem, which is what governs whee and panic levels when kerbals are IVA, these determine their facial expressions). When kerbals have high whee levels, their sanity should receive a boost, when they have high panic levels, their sanity should drop. Modulate that by courage and stupidity -- courageous kerbals lose less sanity when panic is high, stupid kerbals get more sanity when whee is high.\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat should get you a nice starting formula. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TheCanadianVendingMachine","CreatedById":59684,"CreatedDateTime":"2013-12-27T07:13:52Z","Content":"\n\u003Cp\u003EIdea - Instead of Sanity a boolean value, make it a integer. Lets say it is from 0-11. So, if the number is less than 3, kerbals are sane. If its between 3 and 6, kerbals will do something else, lets say boredom. 6-8, can\u0027t EVA, time to maneuver and control the pod is slower. 9-10, kerbals wont control craft at all. 11. They die\u003C/p\u003E\n"},{"CreatedByName":"Volt Cruelerz","CreatedById":59176,"CreatedDateTime":"2013-12-27T08:37:39Z","Content":"\n\u003Cp\u003EConsider though that a Kerbal ought to require some level of social interaction to remain sane. Otherwise, your Kerbals are basically just in solitary confinement which has been referred to before as the \u0022maniac maker.\u0022\u003C/p\u003E\u003Cp\u003EThe more Kerbals are on a craft, the slower the drain on sanity should be as with each Kerbal sent, you send a larger pool of information/culture which sustains the other members of the crew. The benefit gleaned from the number of Kerbals on a craft should definitely be logarithmic.\u003C/p\u003E\u003Cp\u003EIn addition, there ought to be a bit of a sweet spot regarding just how much volume/Kerbal is ideal. After all, stick someone inside a house by themselves for an extended period and they\u0027ll likely be much more sane than if you stick them in a warehouse for the same length of time.\u003C/p\u003E\u003Cp\u003ESo as far as math goes...\u003C/p\u003E\u003Cp\u003EThe following is effectively a recursive function for determining the sanity of a Kerbal on a given day.\u003C/p\u003E\u003Cp\u003En=number of kerbals\u003C/p\u003E\u003Cp\u003Ec=sanity drain reduction due to company\u003C/p\u003E\u003Cp\u003Ed=distance from Kerbin, with a given unit being the distance between Kerbin and the Mun.\u003C/p\u003E\u003Cp\u003Eds=sanity modifier accounting for distance away from home (and thus communication lag)\u003C/p\u003E\u003Cp\u003Ev=sum of the volumes of all habitable parts of the craft\u003C/p\u003E\u003Cp\u003Evpk=volume per Kerbal\u003C/p\u003E\u003Cp\u003Eivpk=idea volume per Kerbal (we\u0027ll assume this to be 30m^3 in this)\u003C/p\u003E\u003Cp\u003Evs=sanity modifier accounting for the difference between vpk and ivpk\u003C/p\u003E\u003Cp\u003Ep=sanity of the given Kerbal on the previous day\u003C/p\u003E\u003Cp\u003Eiepk=ideal entertainment per Kerbal (we\u0027ll assume 1)\u003C/p\u003E\u003Cp\u003Ee=entertainment sum (provided that you have entertainment equipment on the ship)\u003C/p\u003E\u003Cp\u003Ees=sanity modifier due to entertainment\u003C/p\u003E\u003Cp\u003Ef=natural sanity falloff. We\u0027ll assume 0 for now.\u003C/p\u003E\u003Cp\u003Es=sanity [0,10] (0=suicidal,0.25=homicidal,0.5=vandalization,1=disobedience during maneuvers, 2=delayed reaction during maneuvers, 3=disobedience when performing science, 4=delayed transmission of data, 6=minor impairment of actions, 8=minor reduction in science points from a given experiment, 9=normal, 10=slightly increased science points from experiments). Kerbals start at 10 on the launchpad.\u003C/p\u003E\u003Cp\u003Ebravery=how brave the Kerbal is [0,1]\u003C/p\u003E\u003Cp\u003Estupidity=how stupid the Kerbal is [0,1]\u003C/p\u003E\u003Cp\u003Eab=average bravery on the craft\u003C/p\u003E\u003Cp\u003Ebm=bravery modifier\u003C/p\u003E\u003Cp\u003Eas=average stupidity on the craft\u003C/p\u003E\u003Cp\u003Esm=stupidity modifier\u003C/p\u003E\u003Cp\u003Ewp=whee/panic modifier which is derived from the kerbalExpressionSystem discussed by a previous poster. It is to be bounded by [-1,1]. wp is to be the most extreme whee/panic incident during the day added to the average whee/panic divided by 2.\u003C/p\u003E\u003Cp\u003Ec=log2(1\u002Bn)\u003C/p\u003E\u003Cp\u003Eds=log(1\u002Bd)/10\u003C/p\u003E\u003Cp\u003Eivk=30\u003C/p\u003E\u003Cp\u003Evpk=v/n\u003C/p\u003E\u003Cp\u003Ef=0\u003C/p\u003E\u003Cp\u003Eiepk=1\u003C/p\u003E\u003Cp\u003Ees=\u003Cem\u003Enormal\u003C/em\u003E(iepk, iepk/3, e)*2-1\u003C/p\u003E\u003Cp\u003Evs=\u003Cem\u003Enormal\u003C/em\u003E(ivpk,ivpk/3,vpk)*2-1\u003C/p\u003E\u003Cp\u003Ebm=bravery-as\u003C/p\u003E\u003Cp\u003Esm=ab-stupidity\u003C/p\u003E\u003Cp\u003Es=p\u002Bvs\u002Bes\u002Bc-ds-f\u002Bbm\u002Bsm\u002Bwp\u003C/p\u003E\u003Cp\u003EHopefully that should be something close to what you\u0027re looking for? Change constants as necessary obviously. In addition, certain events should impact sanity as well. Hitting the gravity well of the target planet ought to have a huge boost in sanity as should getting back to Kerbin\u0027s SOI. Having another crew member commit murder or suicide ought to dramatically reduce their sanity. Coming in contact with new Kerbals that the crew hasn\u0027t met before also ought to increase their sanity.\u003C/p\u003E\u003Cp\u003EWhen it comes time to implement the system, do so incrementally and test each layer to see if it works and makes sense before moving on to the next level of complexity.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-27T09:19:20Z\u0022 title=\u002212/27/2013 09:19  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 27, 2013\u003C/time\u003E by Volt Cruelerz\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Scotius","CreatedById":57622,"CreatedDateTime":"2013-12-27T21:41:25Z","Content":"\n\u003Cp\u003E\u0022Social\u0022 mods like Chatterer should give a boost to morale \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E . The same if a greenhouse module is detected on the ship. Also distance: IMHO morale should drop faster when you are in deep space, than in Kerbin\u0027s SoI.\u003C/p\u003E\n"},{"CreatedByName":"Helix935","CreatedById":71312,"CreatedDateTime":"2013-12-27T22:01:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scotius\u0022 data-cite=\u0022Scotius\u0022\u003E\u003Cdiv\u003E\u0022Social\u0022 mods like Chatterer should give a boost to morale \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E . The same if a greenhouse module is detected on the ship. Also distance: IMHO morale should drop faster when you are in deep space, than in Kerbin\u0027s SoI.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyeah shouldn\u0027t also slow down when in view of a moon or planet as they would marvel at the sight\u003C/p\u003E\n"},{"CreatedByName":"DerekL1963","CreatedById":57091,"CreatedDateTime":"2013-12-28T18:13:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Headhunter09\u0022 data-cite=\u0022Headhunter09\u0022\u003E\u003Cdiv\u003EAny opinions would be appreciated.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat I wouldn\u0027t do is make it too complicated... it\u0027s easy to design complicated algorithms that only a mathematician could understand. But most players aren\u0027t mathematicians. Or Comp Sci majors. Simple, reasonably represents the situation, reasonably easy to grasp, and results in reasonable ship designs and/or mission durations.\u003C/p\u003E\n"},{"CreatedByName":"kiwiak","CreatedById":82796,"CreatedDateTime":"2013-12-28T19:52:43Z","Content":"\n\u003Cp\u003EThis is something that coudl be incorporated with FUSTEK station parts.\u003C/p\u003E\n"},{"CreatedByName":"kiwiak","CreatedById":82796,"CreatedDateTime":"2013-12-28T20:12:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scotius\u0022 data-cite=\u0022Scotius\u0022\u003E\u003Cdiv\u003E\u0022Social\u0022 mods like Chatterer should give a boost to morale \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E . The same if a greenhouse module is detected on the ship. Also distance: IMHO morale should drop faster when you are in deep space, than in Kerbin\u0027s SoI.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI dont really know how to govern various pods and living modules influence on kerbal sanity because there are many options. Distanmce from kerbin, size of crew, comfort of command pods and size nd number of living modules, time of mission..\u003C/p\u003E\u003Cp\u003EBut i have some ideas what shoudl mmomentary boost their mood:\u003C/p\u003E\u003Cp\u003E- Various tasks that brake their boredoom. Eva in space (smallest gain), arriving in SOL of other planet, landing, driving rover (largest gain). \u003C/p\u003E\u003Cp\u003E- Landing on Laythe or Duna gives especially large boost because these are earth like. \u003C/p\u003E\u003Cp\u003E- If no kerbal (in this savegame) landed on some planet/moon before, doing it gives strong \u0022exploler\u0022 moorale bust.\u003C/p\u003E\u003Cp\u003E- Docking with another ship and meeting with kerbal \u003Cstrong\u003Ethat wasnt on board before\u003C/strong\u003E. This is to prevent just undocking part of the ship and redocking right away to boost morale in cheat way.\u003C/p\u003E\u003Cp\u003E- Death of one of the crew members. This woudl of course decrease morale.\u003C/p\u003E\u003Cp\u003EAlso, communiation equipment. These parts coudl boost morale in similar way that living modules do.\u003C/p\u003E\u003Cp\u003ESImpliest antennas allow to talk to mission control, mmore sophistiated allow video-chats, downloading mmovies and games fromm kerbal-net. Farther from kerbin ship is, more power antennas drain.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-28T20:26:09Z\u0022 title=\u002212/28/2013 08:26  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 28, 2013\u003C/time\u003E by kiwiak\u003C/strong\u003E\n\u003C/span\u003E\n"}]}