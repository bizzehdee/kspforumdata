{"TopicId":172665,"ForumId":29,"TopicTitle":"Toolbar buttons are fuzzy in 1.4.1","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-03-19T11:27:16Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-03-19T11:27:16Z","Content":"\n\u003Cp\u003E\nI\u0027m sure this is related to the new engine, but buttons which are fine in 1.3.1 are now fuzzy in 1.3.1.\u00A0 It\u0027s almost as if they are being resized in some way.\n\u003C/p\u003E\n\u003Cp\u003E\nAny ideas, suggestions?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-03-19T12:51:05Z","Content":"\n\u003Cp\u003E\nFor anyone who need to know, I figured this out.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s Unity :-(\n\u003C/p\u003E\n\u003Cp\u003E\nThe old way of getting textures from the game database:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ETexture2D texture = GameDatabase.Instance.GetTexture(MainMenu.flagURL, false);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\ndoesn\u0027t work well because of Unity needed it to be a power of 2.\n\u003C/p\u003E\n\u003Cp\u003E\nYou need to manually read the file using something like:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Etex.LoadImage(System.IO.File.ReadAllBytes(fileNamePath));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Aerospike","CreatedById":159274,"CreatedDateTime":"2018-03-30T22:33:52Z","Content":"\n\u003Cp\u003E\nThank you for figuring out the solution!\n\u003C/p\u003E\n\u003Cp\u003E\nI have encountered more or less the same issue, just that in my case the texture didn\u0027t show up at all. I just got a black square instead.\u003Cbr\u003E\nIn the end I had to change this code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E_settingsTexture \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EGameDatabase\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EInstance\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EGetTexture\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022KerbalImprovedSaveSystem/icons/settings\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efalse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\ninto this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E_settingsTexture \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003ETexture2D\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E20\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E20\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003ETextureFormat\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EARGB32\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efalse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n_settingsTexture\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003ELoadImage\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003ESystem\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EIO\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EFile\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EReadAllBytes\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022GameData/KerbalImprovedSaveSystem/icons/settings.png\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAlthough I\u0027m not sure that the first line is required? I have to admit that is copy and paste coding of the most embarrassing kind. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-30T22:39:27Z\u0022 title=\u002203/30/2018 10:39  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 30, 2018\u003C/time\u003E by Aerospike\u003C/strong\u003E\n\u003Cbr\u003Ebetter readable code\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2018-03-31T09:17:29Z","Content":"\n\u003Cp\u003E\nJust make sure you do not reaload your texture for each part or scene change because they are never removed from memory.\n\u003C/p\u003E\n"},{"CreatedByName":"Aerospike","CreatedById":159274,"CreatedDateTime":"2018-03-31T20:17:25Z","Content":"\n\u003Cp\u003E\nOh... thanks for the heads up! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nKISS used to have the startup type\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan\u003EKSPAddon\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EKSPAddon\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EStartup\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EFlightAndKSC\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efalse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)]\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nso I had to rework that.\n\u003C/p\u003E\n\u003Cp\u003E\nSince KISS is pretty lightweight (just a save dialog with a bunch of ui styles and some custom settings) I decided to just keep it around permanently (set \u0022once\u0022 to true in the above line) and check the currently loaded scene in update to make sure it only reacts to user input in the appropriate scenes.\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2018-04-21T14:50:47Z","Content":"\n\u003Cp\u003E\nSorry to revive a month-quiet thread, but I was hoping for some clarification on things discussed here as I\u0027m also running into texture issues building a mod for 1.4.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E, can you expand on what you mean by \u0022they are never removed from memory\u0022? Is any Texture2D persisted forever, whether loaded or created (a la Transfer Window Planner, with a call to new Texture2D() and then bitmap created during runtime)? Or is it just the Texture.LoadImage() method that puts something in memory until the game closes?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E, Any idea why Unity needs a power of 2? Does it have to be square or just each dimension needs a power of 2? Also, with the method outlined here, can you have textures of arbitrary size?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks everyone!\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-04-21T14:53:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223360230\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524322247\u0022 data-ipsquote-userid=\u002262446\u0022 data-ipsquote-username=\u0022Booots\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Booots said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry to revive a month-quiet thread, but I was hoping for some clarification on things discussed here as I\u0027m also running into texture issues building a mod for 1.4.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E, can you expand on what you mean by \u0022they are never removed from memory\u0022? Is any Texture2D persisted forever, whether loaded or created (a la Transfer Window Planner, with a call to new Texture2D() and then bitmap created during runtime)? Or is it just the Texture.LoadImage() method that puts something in memory until the game closes?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E, Any idea why Unity needs a power of 2? Does it have to be square or just each dimension needs a power of 2? Also, with the method outlined here, can you have textures of arbitrary size?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks everyone!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou need to destroy the texture yourself, when done with it, otherwise it will remain in memory.\u00A0 Use something like:\n\u003C/p\u003E\n\u003Cp\u003E\nDestroy(tex);\n\u003C/p\u003E\n\u003Cp\u003E\nI have no idea why it needs a power of two, probably something to do with the compression.\u00A0 My method will load any size without a problem\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2018-04-21T14:59:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223360236\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524322381\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou need to destroy the texture yourself, when done with it, otherwise it will remain in memory.\u00A0 Use something like:\n\u003C/p\u003E\n\u003Cp\u003E\nDestroy(tex);\n\u003C/p\u003E\n\u003Cp\u003E\nI have no idea why it needs a power of two, probably something to do with the compression.\u00A0 My method will load any size without a problem\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, thanks! So if I keep reusing the same Texture2D variable for a texture that changes through the life of the plugin and then Destroy it in the OnDestroy method of the main plugin it\u0027ll be all good? Or do I need to Destroy the Texture2D prior to each change/load of a new image for safety?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-21T15:00:20Z\u0022 title=\u002204/21/2018 03:00  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 21, 2018\u003C/time\u003E by Booots\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-04-21T15:00:32Z","Content":"\n\u003Cp\u003E\nI _think_ that will be OK, but ask \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E for a better answer.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2018-04-21T20:50:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223360241\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524322795\u0022 data-ipsquote-userid=\u002262446\u0022 data-ipsquote-username=\u0022Booots\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Booots said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay, thanks! So if I keep reusing the same Texture2D variable for a texture that changes through the life of the plugin and then Destroy it in the OnDestroy method of the main plugin it\u0027ll be all good? Or do I need to Destroy the Texture2D prior to each change/load of a new image for safety?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you \u0022new\u0022 or load a texture you ll have to destroy it once you do not use it. A \u0022variable\u0022 is just a reference to the texture, not the texture itself.\n\u003C/p\u003E\n"},{"CreatedByName":"Booots","CreatedById":62446,"CreatedDateTime":"2018-04-21T22:36:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223360500\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524343817\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you \u0022new\u0022 or load a texture you ll have to destroy it once you do not use it. A \u0022variable\u0022 is just a reference to the texture, not the texture itself.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGotcha. So what you\u0027re saying is that Unity won\u0027t let the GC clean up the texture once the reference is changed and it goes out of scope.\n\u003C/p\u003E\n\u003Cp\u003E\nConfirmed from this:\u00A0\u003Ca href=\u0022https://forum.unity.com/threads/unused-textures-do-not-trigger-garbage-collector.476758/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forum.unity.com/threads/unused-textures-do-not-trigger-garbage-collector.476758/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-21T22:50:16Z\u0022 title=\u002204/21/2018 10:50  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 21, 2018\u003C/time\u003E by Booots\u003C/strong\u003E\n\u003Cbr\u003EFound source.\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2018-04-22T04:25:48Z","Content":"\n\u003Cp\u003E\nYou have to keep in mind that Unity is not a C# game engine. It\u0027s a C\u002B\u002B game engine with\u00A0C# scripting. Texture (and most Unity object) are on the C\u002B\u002B side and\u00A0not managed by the GC at all. Some are cleaned up on scene change (gameobject that are not marked dontdestroy) but most just stay in memory unless explicitly removed.\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2018-07-28T15:14:49Z","Content":"\n\u003Cp\u003E\nOh, hate to necro an older thread but I couldn\u0027t find anything else on this and it\u0027s relevant.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250907\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0022 rel=\u0022\u0022\u003E@SpannerMonkey(smce)\u003C/a\u003E\u00A0and I have been having a private chat about the code KAX uses to load it\u0027s icon and my attempt to duplicate it.\u00A0 His code looks like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E            var normIcon = new Texture2D(64, 64, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_normal.png\u0022); // icon to be present in same folder as dll\n            normIcon.LoadImage(File.ReadAllBytes(normIconFile));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt uses the Texture2D.LoadImage.\u00A0 I can get that code to compile just fine.\u00A0 However, when I load up KSP and jump into the editor, I get this in the log file:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[ERR 10:01:11.562] Exception handling event onGUIEditorToolbarReady in class KAXFilter:System.MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n  at KAE_Ltd.BaseFilter.SubCategories () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventVoid.Fire () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 10:01:11.563] MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n\tKAE_Ltd.BaseFilter.SubCategories ()\n\tEventVoid.Fire ()\n\tUnityEngine.Debug:LogException(Exception)\n\tEventVoid:Fire()\n\tKSP.UI.Screens.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;SetInitialState\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator1:MoveNext()\n\tUnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\n\tKSP.UI.Screens.PartCategorizer:Setup()\n\tEventVoid:Fire()\n\tKSP.UI.Screens.EditorPanels:ShowPartsList(Action)\n\tEditorLogic:SelectPanelParts(Boolean)\n\tEditorLogic:StartEditor(Boolean)\n\t\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Start\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator0:MoveNext()\n\tUnityEngine.SetupCoroutine:InvokeMoveNext(IEnumerator, IntPtr)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand no icon of course.\n\u003C/p\u003E\n\u003Cp\u003E\nSpanner however is able to compile that code, run KSP and get\u00A0 it to load up his icon with no problems.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only workaround I have found that works on my install is this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E            var normIcon = new Texture2D(32, 32, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_off.png\u0022); // icon to be present in same folder as dll\n            WWW www = new WWW(normIconFile);\n            normIcon = www.texture;\n            normIcon.Apply();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNow, the next thing is, the only reference I can find in the Unity docs to Texture2D.LoadImage is for version 5.3 and older.\u00A0 In the latest docs, the Texture2D.LoadImage method doesn\u0027t even exist.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd, as per this post, the icons I get on the toolbar are \u0027fuzzy\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n*EDIT*\n\u003C/p\u003E\n\u003Cp\u003E\nAh hah. I fixed the fuzzy buy doing this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ewww.LoadImageIntoTexture(normIcon);\n//normIcon = www.texture;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbut it still doesn\u0027t explain why Spanner can get the LoadImage to work and I can\u0027t.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-07-28T15:24:16Z\u0022 title=\u002207/28/2018 03:24  PM\u0022 data-short=\u00225 yr\u0022\u003EJuly 28, 2018\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DoctorDavinci","CreatedById":150019,"CreatedDateTime":"2018-07-28T17:23:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223423715\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221532790889\u0022 data-ipsquote-userid=\u002278435\u0022 data-ipsquote-username=\u0022Fengist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Fengist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, hate to necro an older thread but I couldn\u0027t find anything else on this and it\u0027s relevant.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250907\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0022 rel=\u0022\u0022\u003E@SpannerMonkey(smce)\u003C/a\u003E\u00A0and I have been having a private chat about the code KAX uses to load it\u0027s icon and my attempt to duplicate it.\u00A0 His code looks like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E            var normIcon = new Texture2D(64, 64, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_normal.png\u0022); // icon to be present in same folder as dll\n            normIcon.LoadImage(File.ReadAllBytes(normIconFile));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt uses the Texture2D.LoadImage.\u00A0 I can get that code to compile just fine.\u00A0 However, when I load up KSP and jump into the editor, I get this in the log file:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E[ERR 10:01:11.562] Exception handling event onGUIEditorToolbarReady in class KAXFilter:System.MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n  at KAE_Ltd.BaseFilter.SubCategories () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventVoid.Fire () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 10:01:11.563] MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n\tKAE_Ltd.BaseFilter.SubCategories ()\n\tEventVoid.Fire ()\n\tUnityEngine.Debug:LogException(Exception)\n\tEventVoid:Fire()\n\tKSP.UI.Screens.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;SetInitialState\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator1:MoveNext()\n\tUnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\n\tKSP.UI.Screens.PartCategorizer:Setup()\n\tEventVoid:Fire()\n\tKSP.UI.Screens.EditorPanels:ShowPartsList(Action)\n\tEditorLogic:SelectPanelParts(Boolean)\n\tEditorLogic:StartEditor(Boolean)\n\t\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Start\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator0:MoveNext()\n\tUnityEngine.SetupCoroutine:InvokeMoveNext(IEnumerator, IntPtr)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand no icon of course.\n\u003C/p\u003E\n\u003Cp\u003E\nSpanner however is able to compile that code, run KSP and get\u00A0 it to load up his icon with no problems.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only workaround I have found that works on my install is this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E            var normIcon = new Texture2D(32, 32, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_off.png\u0022); // icon to be present in same folder as dll\n            WWW www = new WWW(normIconFile);\n            normIcon = www.texture;\n            normIcon.Apply();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNow, the next thing is, the only reference I can find in the Unity docs to Texture2D.LoadImage is for version 5.3 and older.\u00A0 In the latest docs, the Texture2D.LoadImage method doesn\u0027t even exist.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo that code you are using is a modified version of DCK\u0027s editor category deal that was adapted from \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E Tools\n\u003C/p\u003E\n\u003Cp\u003E\nPost a link to your editorcategory code and I\u0027ll take a look .... I\u0027m having no issues with it in DCK, DCK FutureTech, Enemy Mine and any of my other mods so only thing it can be is the adaptation you did to the code\n\u003C/p\u003E\n\u003Cp\u003E\nLet me look at it and I\u0027m sure I can spot what is going wrong\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-07-28T17:26:38Z\u0022 title=\u002207/28/2018 05:26  PM\u0022 data-short=\u00225 yr\u0022\u003EJuly 28, 2018\u003C/time\u003E by DoctorDavinci\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2018-07-28T17:34:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223423755\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221532798598\u0022 data-ipsquote-userid=\u0022150019\u0022 data-ipsquote-username=\u0022DoctorDavinci\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, DoctorDavinci said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo that code you are using is a modified version of DCK\u0027s editor category deal that was adapted from \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E Tools\n\u003C/p\u003E\n\u003Cp\u003E\nPost a link to your editorcategory code and I\u0027ll take a look .... I\u0027m having no issues with it in DCK, DCK FutureTech, Enemy Mine and any of my other mods so only thing it can be is the adaptation you did to the code\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150019-doctordavinci/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022150019\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150019-doctordavinci/\u0022 rel=\u0022\u0022\u003E@DoctorDavinci\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s essentially the same as this code from KAX:\u00A0\u003Ca href=\u0022https://github.com/SpannerMonkey/KAX/blob/master/KAXPartCatalog.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/SpannerMonkey/KAX/blob/master/KAXPartCatalog.cs\u003C/a\u003E\u00A0 \u00A0(Which Spanner tells me is also adapted\u00A0from \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E)\u00A0The only difference is the strings for the the mod \u0026amp; category names and the changes I posted above (for both icons).\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s what\u0027s puzzling us.\u00A0 If I download the KAX distribution with that compiled DLL I still get the error posted above that it can\u0027t find the method LoadImage.\u00A0 If I change the code to using WWW as I posted above, it works perfectly.\u00A0 Spanner however is able to use the KAX .dll with no problems.\u00A0 And I\u0027m doing all of this in the Steam download folder so my KSP version is exactly what Steam sent.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll do a wipe and re-download of KSP and see what happens.\u00A0 I did briefly install some mods (which I deleted) that seemed to have affected the tech tree. They may have affected other things but I can\u0027t imagine them wiping out the Texture2D.LoadImage.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not at the machine with that code atm.\u00A0 I\u0027ll post it in a bit.\n\u003C/p\u003E\n"},{"CreatedByName":"DoctorDavinci","CreatedById":150019,"CreatedDateTime":"2018-07-28T17:39:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223423759\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221532799299\u0022 data-ipsquote-userid=\u002278435\u0022 data-ipsquote-username=\u0022Fengist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Fengist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150019-doctordavinci/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022150019\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150019-doctordavinci/\u0022 rel=\u0022\u0022\u003E@DoctorDavinci\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s essentially the same as this code from KAX:\u00A0\u003Ca href=\u0022https://github.com/SpannerMonkey/KAX/blob/master/KAXPartCatalog.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/SpannerMonkey/KAX/blob/master/KAXPartCatalog.cs\u003C/a\u003E\u00A0 \u00A0(Which Spanner tells me is also adapted\u00A0from \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E)\u00A0The only difference is the strings for the the mod \u0026amp; category names and the changes I posted above (for both icons).\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s what\u0027s puzzling us.\u00A0 If I download the KAX distribution with that compiled DLL I still get the error posted above that it can\u0027t find the method LoadImage.\u00A0 If I change the code to using WWW as I posted above, it works perfectly.\u00A0 Spanner however is able to use the KAX .dll with no problems.\u00A0 And I\u0027m doing all of this in the Steam download folder so my KSP version is exactly what Steam sent.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll do a wipe and re-download of KSP and see what happens.\u00A0 I did briefly install some mods (which I deleted) that seemed to have affected the tech tree. They may have affected other things but I can\u0027t imagine them wiping out the Texture2D.LoadImage.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not at the machine with that code atm.\u00A0 I\u0027ll post it in a bit.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTake your time ... Spanner mentioned this issue to me so I figured I\u0027d lend a hand\n\u003C/p\u003E\n\u003Cp\u003E\nWorst case scenario is I slap a category module together for you and you import the .cs into your project (would take all of 5 minutes) .... easy peasy\n\u003C/p\u003E\n\u003Cp\u003E\nWe\u0027ll get you up and running by the end of the day\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2018-07-28T18:07:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223423763\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221532799574\u0022 data-ipsquote-userid=\u0022150019\u0022 data-ipsquote-username=\u0022DoctorDavinci\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 minutes ago, DoctorDavinci said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTake your time ... Spanner mentioned this issue to me so I figured I\u0027d lend a hand\n\u003C/p\u003E\n\u003Cp\u003E\nWorst case scenario is I slap a category module together for you and you import the .cs into your project (would take all of 5 minutes) .... easy peasy\n\u003C/p\u003E\n\u003Cp\u003E\nWe\u0027ll get you up and running by the end of the day\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, I\u0027m up and running just fine. The code I have works great now. I get the icons and all my parts are under those icons.\u00A0 Now I\u0027m just trying to figure out why the code everyone else uses doesn\u0027t work for me and whether this is my issue or if I\u0027m just the first to\u00A0stumble into\u00A0this problem.\u00A0 As I said earlier\u00A0 Texture2D.LoadImage doesn\u0027t even appear in the current Unity docs:\u00A0\u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Texture2D.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/ScriptReference/Texture2D.html\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a post here:\u00A0\u003Ca href=\u0022https://forum.unity.com/threads/unityengine-texture2d-loadimage-is-missing.467202/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forum.unity.com/threads/unityengine-texture2d-loadimage-is-missing.467202/\u003C/a\u003E\u00A0where one of the Unity devs says that LoadImage was being moved to\u00A0ImageConversion.LoadImage.\u00A0 I wasn\u0027t able to find any ImageConversion class so I found the WWW class solution.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s my code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eusing KSP.UI.Screens;\nusing RUI.Icons.Selectable;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Reflection;\nusing UnityEngine;\n\nnamespace MPUtils\n{\n\n    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\n    public class MPFilter : BaseFilter\n    {\n        protected override string Manufacturer\n        {\n            get { return \u0022Fengist\u0027s Shipyard and Gedunk Shoppe\u0022; }// part manufacturer in cfgs and agents files \n            set { }\n        }\n        protected override string categoryTitle\n        {\n            get { return \u0022Maritime Pack\u0022; } // the category name \n            set { }\n        }\n    }\n\n    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\n    public class SteampunkFilter : BaseFilter\n    {\n        protected override string Manufacturer\n        {\n            get { return \u0022Fengist\u0027s Clock and Watch Factory\u0022; }\n            set { }\n        }\n        protected override string categoryTitle\n        {\n            get { return \u00221869\u0022; }\n            set { }\n        }\n    }\n\n    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\n    public class KerbalElectricFilter : BaseFilter\n    {\n        protected override string Manufacturer\n        {\n            get { return \u0022Kerbal Electric\u0022; }\n            set { }\n        }\n        protected override string categoryTitle\n        {\n            get { return \u0022Kerbal Electric\u0022; }\n            set { }\n        }\n    }\n\n    public abstract class BaseFilter : MonoBehaviour\n    {\n        private readonly List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;AvailablePart\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E parts = new List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;AvailablePart\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n        internal string category = \u0022Filter by function\u0022;\n        internal bool filter = true;\n        protected abstract string Manufacturer { get; set; }\n        protected abstract string categoryTitle { get; set; }\n\n        void Awake()\n        {\n            if (!MPConfig.MPLoadIcons)\n            {\n                return;\n            }\n            parts.Clear();\n            var count = PartLoader.LoadedPartsList.Count;\n            for (int i = 0; i \u0026lt; count; \u002B\u002Bi)\n            {\n                var avPart = PartLoader.LoadedPartsList[i];\n                if (!avPart.partPrefab) continue;\n                if (avPart.manufacturer == Manufacturer)\n                {\n                    parts.Add(avPart);\n                }\n            }\n\n            print(categoryTitle \u002B \u0022  Filter Count: \u0022 \u002B parts.Count);\n            if (parts.Count \u0026gt; 0)\n                GameEvents.onGUIEditorToolbarReady.Add(SubCategories);\n        }\n\n        private bool EditorItemsFilter(AvailablePart avPart)\n        {\n            return parts.Contains(avPart);\n        }\n\n        private void SubCategories()\n        {\n            var icon = GenIcon(categoryTitle);\n            var filter = PartCategorizer.Instance.filters.Find(f =\u0026gt; f.button.categorydisplayName == \u0022#autoLOC_453547\u0022);//change for 1.3.1\n            PartCategorizer.AddCustomSubcategoryFilter(filter, categoryTitle, categoryTitle, icon, EditorItemsFilter);\n        }\n\n        private Icon GenIcon(string iconName)\n        {\n            \n            var normIcon = new Texture2D(32, 32, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_off.png\u0022); // icon to be present in same folder as dll\n            WWW www = new WWW(normIconFile);\n            www.LoadImageIntoTexture(normIcon);\n            //normIcon = www.texture;\n            //normIcon.LoadRawTextureData(File.ReadAllBytes(normIconFile));\n            normIcon.Apply();\n\n            var selIcon = new Texture2D(32, 32, TextureFormat.RGBA32, false);\n            var selIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_on.png\u0022);// icon to be present in same folder as dll\n            www = new WWW(selIconFile);\n            www.LoadImageIntoTexture(selIcon);\n            //selIcon = www.texture;\n            //selIcon.LoadRawTextureData(File.ReadAllBytes(selIconFile));\n            selIcon.Apply();\n            www.Dispose();\n\n            print(\u0022*****Adding icon for \u0022 \u002B categoryTitle);\n            var icon = new Icon(iconName \u002B \u0022Icon\u0022, normIcon, selIcon);\n            return icon;\n        }\n    }\n\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"DoctorDavinci","CreatedById":150019,"CreatedDateTime":"2018-07-28T18:21:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223423773\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221532801250\u0022 data-ipsquote-userid=\u002278435\u0022 data-ipsquote-username=\u0022Fengist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Fengist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, I\u0027m up and running just fine. The code I have works great now. I get the icons and all my parts are under those icons.\u00A0 Now I\u0027m just trying to figure out why the code everyone else uses doesn\u0027t work for me and whether this is my issue or if I\u0027m just the first to\u00A0stumble into\u00A0this problem.\u00A0 As I said earlier\u00A0 Texture2D.LoadImage\u003Cspan\u003E\uFEFF\u003C/span\u003E doesn\u0027t even appear in the current Unity docs:\u00A0\u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Texture2D.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/ScriptReference/Texture2D.html\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a post here:\u00A0\u003Ca href=\u0022https://forum.unity.com/threads/unityengine-texture2d-loadimage-is-missing.467202/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forum.unity.com/threads/unityengine-texture2d-loadimage-is-missing.467202/\u003C/a\u003E\u00A0where one of the Unity devs says that LoadImage was being moved to\u00A0ImageConversion.LoadImage.\u00A0 I wasn\u0027t able to find any ImageConversion class so I found the WWW class solution.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s my code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Eusing KSP.UI.Screens;\nusing RUI.Icons.Selectable;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Reflection;\nusing UnityEngine;\n\nnamespace MPUtils\n{\n\n    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\n    public class MPFilter : BaseFilter\n    {\n        protected override string Manufacturer\n        {\n            get { return \u0022Fengist\u0027s Shipyard and Gedunk Shoppe\u0022; }// part manufacturer in cfgs and agents files \n            set { }\n        }\n        protected override string categoryTitle\n        {\n            get { return \u0022Maritime Pack\u0022; } // the category name \n            set { }\n        }\n    }\n\n    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\n    public class SteampunkFilter : BaseFilter\n    {\n        protected override string Manufacturer\n        {\n            get { return \u0022Fengist\u0027s Clock and Watch Factory\u0022; }\n            set { }\n        }\n        protected override string categoryTitle\n        {\n            get { return \u00221869\u0022; }\n            set { }\n        }\n    }\n\n    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\n    public class KerbalElectricFilter : BaseFilter\n    {\n        protected override string Manufacturer\n        {\n            get { return \u0022Kerbal Electric\u0022; }\n            set { }\n        }\n        protected override string categoryTitle\n        {\n            get { return \u0022Kerbal Electric\u0022; }\n            set { }\n        }\n    }\n\n    public abstract class BaseFilter : MonoBehaviour\n    {\n        private readonly List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;AvailablePart\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E parts = new List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;AvailablePart\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n        internal string category = \u0022Filter by function\u0022;\n        internal bool filter = true;\n        protected abstract string Manufacturer { get; set; }\n        protected abstract string categoryTitle { get; set; }\n\n        void Awake()\n        {\n            if (!MPConfig.MPLoadIcons)\n            {\n                return;\n            }\n            parts.Clear();\n            var count = PartLoader.LoadedPartsList.Count;\n            for (int i = 0; i \u0026lt; count; \u002B\u002Bi)\n            {\n                var avPart = PartLoader.LoadedPartsList[i];\n                if (!avPart.partPrefab) continue;\n                if (avPart.manufacturer == Manufacturer)\n                {\n                    parts.Add(avPart);\n                }\n            }\n\n            print(categoryTitle \u002B \u0022  Filter Count: \u0022 \u002B parts.Count);\n            if (parts.Count \u0026gt; 0)\n                GameEvents.onGUIEditorToolbarReady.Add(SubCategories);\n        }\n\n        private bool EditorItemsFilter(AvailablePart avPart)\n        {\n            return parts.Contains(avPart);\n        }\n\n        private void SubCategories()\n        {\n            var icon = GenIcon(categoryTitle);\n            var filter = PartCategorizer.Instance.filters.Find(f =\u0026gt; f.button.categorydisplayName == \u0022#autoLOC_453547\u0022);//change for 1.3.1\n            PartCategorizer.AddCustomSubcategoryFilter(filter, categoryTitle, categoryTitle, icon, EditorItemsFilter);\n        }\n\n        private Icon GenIcon(string iconName)\n        {\n            \n            var normIcon = new Texture2D(32, 32, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_off.png\u0022); // icon to be present in same folder as dll\n            WWW www = new WWW(normIconFile);\n            www.LoadImageIntoTexture(normIcon);\n            //normIcon = www.texture;\n            //normIcon.LoadRawTextureData(File.ReadAllBytes(normIconFile));\n            normIcon.Apply();\n\n            var selIcon = new Texture2D(32, 32, TextureFormat.RGBA32, false);\n            var selIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_on.png\u0022);// icon to be present in same folder as dll\n            www = new WWW(selIconFile);\n            www.LoadImageIntoTexture(selIcon);\n            //selIcon = www.texture;\n            //selIcon.LoadRawTextureData(File.ReadAllBytes(selIconFile));\n            selIcon.Apply();\n            www.Dispose();\n\n            print(\u0022*****Adding icon for \u0022 \u002B categoryTitle);\n            var icon = new Icon(iconName \u002B \u0022Icon\u0022, normIcon, selIcon);\n            return icon;\n        }\n    }\n\n}\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0 \u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHonestly I have no clue .... the only real difference is in the GenIcon ... this is what I have there and it compiles no issue and works flawlessly\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 private Icon GenIcon(string iconName)\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 {\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 var normIcon = new Texture2D(64, 64, TextureFormat.RGBA32, false);\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_normal.png\u0022);\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 normIcon.LoadImage(File.ReadAllBytes(normIconFile));\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 var selIcon = new Texture2D(64, 64, TextureFormat.RGBA32, false);\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 var selIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_selected.png\u0022);\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 selIcon.LoadImage(File.ReadAllBytes(selIconFile));\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 print(\u0022*****Adding icon for \u0022 \u002B categoryTitle);\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 var icon = new Icon(iconName \u002B \u0022Icon\u0022, normIcon, selIcon);\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 return icon;\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEDIT: this is a quote from a unity dev on the matter of texture2d.loadimage ... it is there but was moved to code that is inherited by texture2d so still accesible through texture2d\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022 Texture2D.LoadImage has been moved to a Texture2D extension method ImageConversion.LoadImage: \u003Ca href=\u0022https://docs.unity3d.com/2017.1/Documentation/ScriptReference/ImageConversion.LoadImage.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/2017.1/Documentation/ScriptReference/ImageConversion.LoadImage.html\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nSince it is an extension method of Texture2D, you can still use it the same way, and any existing code using it, should compile without changes \u0022\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.unity.com/threads/unityengine-texture2d-loadimage-is-missing.467202/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forum.unity.com/threads/unityengine-texture2d-loadimage-is-missing.467202/\u003C/a\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78435-fengist/\u0026amp;do=hovercard\u0022 data-mentionid=\u002278435\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78435-fengist/\u0022 rel=\u0022\u0022\u003E@Fengist\u003C/a\u003E - just a thought but is your MPConfig running at startup and if so do all the checks it does run before the category code? .... could be that the reference in the awake section is trying to access the MPConfig but it is either not loaded or the values that are being looked for haven\u0027t been grabbed yet\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-07-28T18:31:36Z\u0022 title=\u002207/28/2018 06:31  PM\u0022 data-short=\u00225 yr\u0022\u003EJuly 28, 2018\u003C/time\u003E by DoctorDavinci\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2018-07-28T18:32:48Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[ERR 13:28:14.381] Exception handling event onGUIEditorToolbarReady in class KerbalElectricFilter:System.MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n  at MPUtils.BaseFilter.SubCategories () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventVoid.Fire () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 13:28:14.383] MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n\tMPUtils.BaseFilter.SubCategories ()\n\tEventVoid.Fire ()\n\tUnityEngine.Debug:LogException(Exception)\n\tEventVoid:Fire()\n\tKSP.UI.Screens.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;SetInitialState\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator1:MoveNext()\n\tUnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\n\tKSP.UI.Screens.PartCategorizer:Setup()\n\tEventVoid:Fire()\n\tKSP.UI.Screens.EditorPanels:ShowPartsList(Action)\n\tEditorLogic:SelectPanelParts(Boolean)\n\tEditorLogic:StartEditor(Boolean)\n\t\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Start\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator0:MoveNext()\n\tUnityEngine.SetupCoroutine:InvokeMoveNext(IEnumerator, IntPtr)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnd that\u0027s after copying your code exactly and only changing the icon extension string.\n\u003C/p\u003E\n\u003Cp\u003E\nAll 3 of my icons cause that error as well as KAX which I still have installed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ELet me delete and reinstall KSP and see what happens.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2018-07-28T19:08:11Z","Content":"\n\u003Cp\u003E\nReinstalled KSP\u003Cbr\u003E\nCopied the GameData folder back over and ran it\u003Cbr\u003E\nTexture2D.LoadImage error\u003Cbr\u003E\u003Cbr\u003E\nRemoved all of my KSP references from VS 2015\u003Cbr\u003E\nReplace the references pointing to those in the KSP 64 bit folder\u003Cbr\u003E\nRecompiled\u003Cbr\u003E\nMy\u00A0Icons are now there and working using your code.\u003Cbr\u003E\nbut\u003Cbr\u003E\u003Cstrong\u003EKAX\u00A0distribution still produced the error and didn\u0027t load the icon.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow I know damned well I told VS to use the references in the KSP game folder.\u00A0 But it appears it didn\u0027t pick up the new ones when I updated KSP and it decided to keep using the ones in the bin/Debug folder (that\u0027s my guess).\n\u003C/p\u003E\n\u003Cp\u003E\nSo, either way it appears that\u00A0both your solution and the one I floundered into works. If Unity does ever move/remove LoadIcon there is a workaround.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for KAX, since that\u0027s not a fuzzy icon issue, if you want to private me I\u0027ll be glad to test any .dll you or Spanner have for KAX and we can stop bombing this thread.\n\u003C/p\u003E\n\u003Cp\u003E\nEither way, thanks to both you and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250907\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0022 rel=\u0022\u0022\u003E@SpannerMonkey(smce)\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-07-28T19:10:37Z\u0022 title=\u002207/28/2018 07:10  PM\u0022 data-short=\u00225 yr\u0022\u003EJuly 28, 2018\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-07-29T02:56:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223423715\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221532790889\u0022 data-ipsquote-userid=\u002278435\u0022 data-ipsquote-username=\u0022Fengist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Fengist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, hate to necro an older thread but I couldn\u0027t find anything else on this and it\u0027s relevant.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250907\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0022 rel=\u0022\u0022\u003E@SpannerMonkey(smce)\u003C/a\u003E\u00A0and I have been having a private chat about the code KAX uses to load it\u0027s icon and my attempt to duplicate it.\u00A0 His code looks like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E            var normIcon = new Texture2D(64, 64, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_normal.png\u0022); // icon to be present in same folder as dll\n            normIcon.LoadImage(File.ReadAllBytes(normIconFile));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt uses the Texture2D.LoadImage.\u00A0 I can get that code to compile just fine.\u00A0 However, when I load up KSP and jump into the editor, I get this in the log file:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E[ERR 10:01:11.562] Exception handling event onGUIEditorToolbarReady in class KAXFilter:System.MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n  at KAE_Ltd.BaseFilter.SubCategories () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at EventVoid.Fire () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n\n[EXC 10:01:11.563] MissingMethodException: Method not found: \u0027UnityEngine.Texture2D.LoadImage\u0027.\n\tKAE_Ltd.BaseFilter.SubCategories ()\n\tEventVoid.Fire ()\n\tUnityEngine.Debug:LogException(Exception)\n\tEventVoid:Fire()\n\tKSP.UI.Screens.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;SetInitialState\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator1:MoveNext()\n\tUnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\n\tKSP.UI.Screens.PartCategorizer:Setup()\n\tEventVoid:Fire()\n\tKSP.UI.Screens.EditorPanels:ShowPartsList(Action)\n\tEditorLogic:SelectPanelParts(Boolean)\n\tEditorLogic:StartEditor(Boolean)\n\t\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Start\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__Iterator0:MoveNext()\n\tUnityEngine.SetupCoroutine:InvokeMoveNext(IEnumerator, IntPtr)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand no icon of course.\n\u003C/p\u003E\n\u003Cp\u003E\nSpanner however is able to compile that code, run KSP and get\u00A0 it to load up his icon with no problems.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only workaround I have found that works on my install is this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E            var normIcon = new Texture2D(32, 32, TextureFormat.RGBA32, false);\n            var normIconFile = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), iconName \u002B \u0022_off.png\u0022); // icon to be present in same folder as dll\n            WWW www = new WWW(normIconFile);\n            normIcon = www.texture;\n            normIcon.Apply();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNow, the next thing is, the only reference I can find in the Unity docs to Texture2D.LoadImage is for version 5.3 and older.\u00A0 In the latest docs, the Texture2D.LoadImage method doesn\u0027t even exist.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd, as per this post, the icons I get on the toolbar are \u0027fuzzy\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n*EDIT*\n\u003C/p\u003E\n\u003Cp\u003E\nAh hah. I fixed the fuzzy buy doing this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Ewww.LoadImageIntoTexture(normIcon);\n//normIcon = www.texture;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbut it still doesn\u0027t explain why Spanner can get the LoadImage to work and I can\u0027t.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nReally stupid questions:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nIs the project net to .Net 3.5?\n\u003C/li\u003E\n\u003Cli\u003E\nYou are compiling against the correct version of the game?\n\u003C/li\u003E\n\u003Cli\u003E\nYou are testing the right version of the game?\n\u003C/li\u003E\n\u003C/ol\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2018-07-29T03:53:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223423964\u0022 data-ipsquote-contentid=\u0022172665\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221532832982\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n52 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nReally stupid questions:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nIs the project net to .Net 3.5?\n\u003C/li\u003E\n\u003Cli\u003E\nYou are compiling against the correct version of the game?\n\u003C/li\u003E\n\u003Cli\u003E\nYou are testing the right version of the game?\n\u003C/li\u003E\n\u003C/ol\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep\u003Cbr\u003E\nThat was essentially the problem.\u00A0 Using references from what I guess was an older version.\u003Cbr\u003E\nYep\n\u003C/p\u003E\n\u003Cp\u003E\nSpanner recompiled the KAX.dll and it then worked on my install.\u00A0 My guess\u00A0was that he compiled the distribution with the same .dll\u0027s I was compiling with and that\u0027s why it was showing that loadicon wasn\u0027t a method.\u00A0 Just coincidence that both his .dll and mine were producing the same error.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat one link I posted was one where people were getting the same error I was.\u00A0 I assume it was a bug in the Unity.dll which got fixed.\n\u003C/p\u003E\n"},{"CreatedByName":"cakepie","CreatedById":69278,"CreatedDateTime":"2019-05-11T02:41:44Z","Content":"\n\u003Cp\u003E\nOld thread, but leaving a note for future people searching for a solution.\n\u003C/p\u003E\n\u003Cp\u003E\nThe fuzzy / blurry textures discussed here, are not caused by compression per se but by mipmapping.\u003Cbr\u003E\nThe problem can be avoided by understanding how KSP / Unity handles textures when loading them, and making textures encoded and saved in the right format to ensure you get the correct behavior.\u003Cbr\u003E\nThe workaround offered above is not needed -- in fact it incurs unnecessary file I/O costs and consumes extra RAM / graphics memory by making essentially a duplicate of the texture when one is already loaded in GameDatabase.\n\u003C/p\u003E\n\u003Cp\u003E\nFurther details:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7340138548\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/184264-textures-in-kspunity-or-how-to-not-end-up-with-a-blurry-mess-in-your-ui/\u0026amp;do=embed\u0022 style=\u0022height:226px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-05-11T02:54:11Z\u0022 title=\u002205/11/2019 02:54  AM\u0022 data-short=\u00225 yr\u0022\u003EMay 11, 2019\u003C/time\u003E by cakepie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-05-11T17:39:11Z","Content":"\n\u003Cp\u003E\nFollowing up what \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/69278-cakepie/\u0026amp;do=hovercard\u0022 data-mentionid=\u002269278\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/69278-cakepie/\u0022 rel=\u0022\u0022\u003E@cakepie\u003C/a\u003E\u00A0said above, Ill be updating the function in the ToolbarCcontroller to use this method if the texture is already in the database, otherwise it will fallback to reading the file\n\u003C/p\u003E\n"}]}