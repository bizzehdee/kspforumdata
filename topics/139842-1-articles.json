{"TopicId":139842,"ForumId":36,"TopicTitle":"[WIP][Hardware, Plugin, Software] A debugging tool for KSPSerialIO","CreatedByName":"KingLuxor","CreatedById":160620,"CreatedDateTime":"2016-05-15T18:21:32Z","PageNum":1,"Articles":[{"CreatedByName":"KingLuxor","CreatedById":160620,"CreatedDateTime":"2016-05-15T18:21:32Z","Content":"\n\u003Cp\u003E\nI\u0027ve developed a simple tool for testing/debugging custom display/controllers which use the KSPSerialIO mod by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0026amp;do=hovercard\u0022 data-mentionid=\u002211842\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11842-zitronen/\u0022 rel=\u0022\u0022\u003E@zitronen\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis allows you to monitor controls from the Arduino, as well as send control values to the Arduino. Reloading KSP multiple times, and the lack of real time onscreen data make this tool a bit more efficient in finding what isn\u0027t working.\n\u003C/p\u003E\n\u003Cp\u003E\nIt also allows you to test/play with your display or controller without loading KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nThe project is open source and can be found on my github at\u00A0\u003Ca href=\u0022https://github.com/bolwire/KSPSerialIODebugTool\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/bolwire/KSPSerialIODebugTool\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThoughts ? Ideas ? Found a bug ? Please reply to this thread. Once things smooth out I will add a link in the application to the Report Issue feature on github, as well as this thread.\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently this only runs on windows, and you must build it from the source.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/WrAUegs.png\u0022 alt=\u0022WrAUegs.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/n4TgzT5.jpg\u0022 alt=\u0022n4TgzT5.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2016-05-15T21:37:59Z","Content":"\n\u003Cp\u003E\nThis is going to be so useful. Thanks a lot.\n\u003C/p\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2016-05-15T22:27:19Z","Content":"\n\u003Cp\u003E\nHere\u0027s to hoping someone can compile a version of this to run on Macs!\u00A0\u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\u003Cbr\u003E\nThis looks \u003Cem\u003EINCREDIBLY\u003C/em\u003E useful!\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-05-15T23:32:34Z","Content":"\n\u003Cp\u003E\nThat\u0027s amazing! I hope you can keep this updated as we add more stuff to the packet.\n\u003C/p\u003E\n"},{"CreatedByName":"Mattew","CreatedById":144806,"CreatedDateTime":"2016-05-30T07:32:53Z","Content":"\n\u003Cp\u003E\nWau, this thing. Amazing piece of work! It ll be very helpful. That makes my Kerbals happy.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: I found kind of issue or bug if you want call it like that. Your pluggin/debug program\u00A0expect that arduino serial port is running at default baud rate setting (38400) and if you change that to any other value (like i did, I am running at\u00A057600) then debug program cant establish connection and wont find control panel. I tryed to change my code to use 38400 and then it connects no problem at all.\u00A0\u00A0It is something to look at maybe, have option to select baud rate would be nice \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT2: I just found config file for build. I did changes and now it works with 57600 also. Still would be nice to have way ti change it without\u00A0need rebuild program \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-30T17:22:42Z\u0022 title=\u002205/30/2016 05:22  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 30, 2016\u003C/time\u003E by Mattew\u003C/strong\u003E\n\u003Cbr\u003EBug repport added\n\u003C/span\u003E\n"},{"CreatedByName":"KingLuxor","CreatedById":160620,"CreatedDateTime":"2016-08-24T01:32:13Z","Content":"\n\u003Cp\u003E\nI\u0027ve been in class for work for a while, I\u0027ll try to take a look and add an option to change the baud rate when I get a bit of time.\n\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2016-10-12T08:42:33Z","Content":"\n\u003Cp\u003E\nDo we know if this will work with 1.2? ( \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E )\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ryan00793","CreatedById":168824,"CreatedDateTime":"2016-10-22T18:36:31Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160620-kingluxor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022160620\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160620-kingluxor/\u0022 rel=\u0022\u0022\u003E@KingLuxor\u003C/a\u003E\u00A0I found a bug, just posting here incase you have github notifications turned off. The bug is basically that you hard coded the refresh rate into the timer at half a second. In the issue on github you can find a fix for the code (only one line so I didn\u0027t make a pull request).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/bolwire/KSPSerialIODebugTool/issues/1\u0022 rel=\u0022external nofollow\u0022\u003ELink to github issue\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve made a PR for \u003Cs\u003Ethe fix\u003C/s\u003E\u00A0the next update of serialIO. (turns out that you can\u0027t just make a PR and then push a change to your own fork with out it getting included into the PR)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-22T21:48:26Z\u0022 title=\u002210/22/2016 09:48  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 22, 2016\u003C/time\u003E by ryan00793\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mattew","CreatedById":144806,"CreatedDateTime":"2016-12-09T16:07:17Z","Content":"\n\u003Cp\u003E\nWill be this awesome tool ever updated? That would be cool. I did try to fix it by myself but no luck \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"moeburn","CreatedById":26426,"CreatedDateTime":"2017-06-27T01:03:38Z","Content":"\n\u003Cp\u003E\nDoes anyone have a precompiled EXE of this? \u00A0I can\u0027t install Visual Studio on my PC.\n\u003C/p\u003E\n"},{"CreatedByName":"moeburn","CreatedById":26426,"CreatedDateTime":"2017-06-27T21:10:29Z","Content":"\n\u003Cp\u003E\nWell I finally got VS installed and managed to build an EXE out of it. \u00A0But it doesn\u0027t seem to work like KSP does - it handshakes, connects, then immediately disconnects. \u00A0It also doesn\u0027t seem to send any of the data. \u00A0Does this not work with the latest version?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-27T21:20:23Z\u0022 title=\u002206/27/2017 09:20  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 27, 2017\u003C/time\u003E by moeburn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-06-28T07:15:07Z","Content":"\n\u003Cp\u003E\nIf it\u0027s from May then it almost certainly won\u0027t work. There\u0027s been a couple of additions to the VesselData packet the plugin sends to devices since then. That means after handshaking this tool will send packets that your newer arduino sketch won\u0027t be able to decode properly, and it will disconnect.\n\u003C/p\u003E\n\u003Cp\u003E\nAt a bare minimum, you\u0027ll want to update the KSPSerialIO.cs file in this tool\u0027s source repository, and ensure the VesselData struct within it contains the same fields as the VesselData struct listed in the first post of the KSPSerialIO thread. You\u0027ll immediately notice that this tool only has the first 52 fields, whereas there are currently 55.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter that, it\u0027s probably worthwhile to add them to the user interface some how so that they can be modified/tested like the other fields, but that\u0027s getting well out of scope of what I know about this tool.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-28T07:15:48Z\u0022 title=\u002206/28/2017 07:15  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 28, 2017\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jimbofarrar","CreatedById":156767,"CreatedDateTime":"2019-11-11T19:19:52Z","Content":"\n\u003Cp\u003E\nHi everyone\n\u003C/p\u003E\n\u003Cp\u003E\nI was using this tool when i started to make my own controller.\n\u003C/p\u003E\n\u003Cp\u003E\nI let it in stand by for a long time (i moved twice and started to run a business) and recently i found a solution to bring back the Zitronen plugin to life with win10.\n\u003C/p\u003E\n\u003Cp\u003E\nThis tool is very usefull to try and debug code, so i forked this tool to make it compliant with the version 0.19.1 of the Zitronen plugin, essentially in updating the VesselData packet, added controls for \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, navball mode, liquid fuel and oxidizer total and current stage and \u0022vectors\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nIt is still open source and can be found on GitHub \u003Cspan\u003E: \u003C/span\u003E\u003Ca href=\u0022https://github.com/Jimbo-Farrar/KSPSerialIODebugTool\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Jimbo-Farrar/KSPSerialIODebugTool\u003C/a\u003E (there is a executable version in the directory bin/Release/)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-11-11T19:46:01Z\u0022 title=\u002211/11/2019 07:46  PM\u0022 data-short=\u00224 yr\u0022\u003ENovember 11, 2019\u003C/time\u003E by Jimbofarrar\u003C/strong\u003E\n\u003Cbr\u003Eadded infos\n\u003C/span\u003E\n"},{"CreatedByName":"nenico87","CreatedById":60274,"CreatedDateTime":"2021-02-22T16:20:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223703663\u0022 data-ipsquote-contentid=\u0022139842\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573499992\u0022 data-ipsquote-userid=\u0022156767\u0022 data-ipsquote-username=\u0022Jimbofarrar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/11/2019 at 8:19 PM, Jimbofarrar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi everyone\n\u003C/p\u003E\n\u003Cp\u003E\nI was using this tool when i started to make my own controller.\n\u003C/p\u003E\n\u003Cp\u003E\nI let it in stand by for a long time (i moved twice and started to run a business) and recently i found a solution to bring back the Zitronen plugin to life with win10.\n\u003C/p\u003E\n\u003Cp\u003E\nThis tool is very usefull to try and debug code, so i forked this tool to make it compliant with the version 0.19.1 of the Zitronen plugin, essentially in updating the VesselData packet, added controls for \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E, navball mode, liquid fuel and oxidizer total and current stage and \u0022vectors\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nIt is still open source and can be found on GitHub \u003Cspan\u003E: \u003C/span\u003E\u003Ca href=\u0022https://github.com/Jimbo-Farrar/KSPSerialIODebugTool\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Jimbo-Farrar/KSPSerialIODebugTool\u003C/a\u003E (there is a executable version in the directory bin/Release/)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was expecting some guidance to packet format that i type/paste in serial monitor but i got thing with GUI?\u00A0That is better that i hoped for!\n\u003C/p\u003E\n"}]}