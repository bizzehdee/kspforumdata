{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":87,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T00:56:03Z","Content":"\u003E \n\u003E \n\u003E Just now, Monkthespy said:\n\u003E \n\u003E \n\u003E I thought oceans were based off the PQS system and Jool doesn\u0027t have an PQS?\n\u003E \n\nI see what you mean, scatterer can create an ocean regardless of the PQS system (\u0022hasOcean = true\u0022 in settings file) but if it doesn\u0027t have one in the PQS it\u0027ll only be cosmetic."},{"CreatedByName":"Monkthespy","CreatedById":7644,"CreatedDateTime":"2015-12-03T00:57:19Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Monkthespy said:\n\u003E \n\u003E \n\u003E I thought oceans were based off the PQS system and Jool doesn\u0027t have an PQS?\n\u003E \n\nAh, I thought Scatterer just replaced the ocean. It actually just overlays it on top of the ocean, right?"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2015-12-03T00:59:34Z","Content":"\u003E \n\u003E \n\u003E Just now, Monkthespy said:\n\u003E \n\u003E \n\u003E Ah, I thought Scatterer just replaced the ocean. It actually just overlays it on top of the ocean, right?\n\u003E \n\nIf this is true, then am I correct in thinking there won\u0027t be any issues between this and EVE whenever EVE gets its pretty oceans back? Cuz these oceans are prettier, but I love me my clouds. [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)??"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T01:01:04Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, Monkthespy said:\n\u003E \n\u003E \n\u003E Ah, I thought Scatterer just replaced the ocean. It actually just overlays it on top of the ocean, right?\n\u003E \n\nIt disables the stock ocean rendering and adds it\u0027s own ocean.\n\nThe stock ocean is still generating quads for now because I couldn\u0027t find a clean way to disable them from within scatterer, all methods seem to cause serious problems in the PQS system. The quads are hidden though. rbray and some other people suggested a few things I could try but they involve modulemanager or kopernicus and I thought I\u0027d look at them later. For now you could probably squeeze some extra performance if you lower the stock ocean subdivision settings (they\u0027re somewhere in the settings file I believe, there are some .cfg files around that do this).\n\n\u003E \n\u003E \n\u003E 4 minutes ago, gkorgood said:\n\u003E \n\u003E \n\u003E If this is true, then am I correct in thinking there won\u0027t be any issues between this and EVE whenever EVE gets its pretty oceans back? Cuz these oceans are prettier, but I love me my clouds. [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)??\n\u003E \n\nNot sure what you mean but you could always disable scatterer\u0027s ocean or EVE\u0027s.\n\n**Edited \u003Ctime datetime=\u00222015-12-03T01:04:26Z\u0022 title=\u002212/03/2015 01:04  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Monkthespy","CreatedById":7644,"CreatedDateTime":"2015-12-03T01:03:19Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, blackrack said:\n\u003E \n\u003E \n\u003E It disables the stock ocean rendering and adds it\u0027s own ocean.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The stock ocean is still generating quads for now because I couldn\u0027t find a clean way to disable them from within scatterer. The quads are hidden though. rbray and some other people suggested a few things I could try but they involve modulemanager or kopernicus and I thought I\u0027d look at them later. For now you could probably squeeze some extra performance if you lower the stock ocean subdivision settings (they\u0027re somewhere in the settings file I believe, there are some .cfg files around that do this).\n\u003E \n\nOk, thanks. That actually makes more sense, lol. I assume this was actually quite a bit of a learning experience and a lot of work just to get this work smoothly."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T01:05:49Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Monkthespy said:\n\u003E \n\u003E \n\u003E Ok, thanks. That actually makes more sense, lol. I assume this was actually quite a bit of a learning experience and a lot of work just to get this work smoothly.\n\u003E \n\nThe whole mod has been one big learning experience for me, and yeah, I\u0027ve put a lot of work into it, but it was above all very, very rewarding.\n\n**Edited \u003Ctime datetime=\u00222015-12-03T01:06:10Z\u0022 title=\u002212/03/2015 01:06  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2015-12-03T01:06:49Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Not sure what you mean but you could always disable scatterer\u0027s ocean or EVE\u0027s.\n\u003E \n\nIf/when rBray brings back the nice water from EVE Overhaul into new EVE, will it conflict with your water? If so, how does one disable EVE\u0027s water (Your\u0027s looks better) If not, YAY ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\n**Edited \u003Ctime datetime=\u00222015-12-03T01:07:45Z\u0022 title=\u002212/03/2015 01:07  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by gkorgood**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T01:11:26Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, gkorgood said:\n\u003E \n\u003E \n\u003E If/when rBray brings back the nice water from EVE Overhaul into new EVE, will it conflict with your water? If so, how does one disable EVE\u0027s water (Your\u0027s looks better) If not, YAY ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\u003E \n\nI think it\u0027s togglable, this one is also togglable. I don\u0027t think there will be any conflicts\n\n**Edited \u003Ctime datetime=\u00222015-12-03T01:11:41Z\u0022 title=\u002212/03/2015 01:11  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-12-03T01:29:58Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E PostProcessing is now working perfectly with the ocean, no longer relying on the depth buffer. This also nullifies the moire patterns, but we already had a fix for these (and we still need it for horizon artifacts).\n\u003E \n\nBeautiful! Glad to see that sphere-intersection code came in handy.  \n\nCurious... Do you get a small FPS bump by disabling the stock Ocean? I also think I may have come up with a solution do disable it on the fly as well. I\u0027ll test it and let you know.\n\n\u003E \n\u003E \n\u003E 25 minutes ago, gkorgood said:\n\u003E \n\u003E \n\u003E If/when rBray brings back the nice water from EVE Overhaul into new EVE, will it conflict with your water? If so, how does one disable EVE\u0027s water (Your\u0027s looks better) If not, YAY ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\u003E \n\nThis will be an optional thing. I think what I\u0027ll do in the future going forward is release packs (lights, clouds, shadows, terrain, oceans, etc.)"},{"CreatedByName":"Monkthespy","CreatedById":7644,"CreatedDateTime":"2015-12-03T01:37:40Z","Content":"Hey blackrack, I thought you were delaying Scatterer updates because that guy needed to finish his finals? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-12-03T01:40:50Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Monkthespy said:\n\u003E \n\u003E \n\u003E Hey blackrack, I thought you were delaying Scatterer updates because that guy needed to finish his finals? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nHUSH! I will find you and duct tape your hands behind your back..."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-12-03T01:41:27Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Also, I want F-14s on the carriers.\n\u003E \n\nHere\u0027s the F-14:\n\n![screenshot99.png](https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.5/screenshot99.png)\n\nSave me from that hideously stock sky and water. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T01:45:49Z","Content":"\u003E \n\u003E \n\u003E 16 minutes ago, rbray89 said:\n\u003E \n\u003E \n\u003E Beautiful! Glad to see that sphere-intersection code came in handy.  \n\u003E   \n\u003E \n\u003E Curious... Do you get a small FPS bump by disabling the stock Ocean? I also think I may have come up with a solution do disable it on the fly as well. I\u0027ll test it and let you know.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This will be an optional thing. I think what I\u0027ll do in the future going forward is release packs (lights, clouds, shadows, terrain, oceans, etc.)\n\u003E \n\nYeah I do, but not really a big one. I used to get a much bigger one when I was disabling it\u0027s generation entirely but it caused the PQS system to mess up after a while.\n\nLet me know if it works, the performance boost is actually not negligible at all.\n\n\u003E \n\u003E \n\u003E 8 minutes ago, Monkthespy said:\n\u003E \n\u003E \n\u003E Hey blackrack, I thought you were delaying Scatterer updates because that guy needed to finish his finals? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nWe\u0027re not doing that anymore, the conditions remaining to be filled are:  8 sea planes, 2 carriers (complete with F-14s) and 2 submarines.\n\nEdited:\n\n\u003E \n\u003E \n\u003E 5 minutes ago, Red Iron Crown said:\n\u003E \n\u003E \n\u003E Here\u0027s the F-14:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Save me from that hideously stock sky and water. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nAlright, it doesn\u0027t look like it has variable wing sweep but I\u0027ll let it slide.\n\n**Edited \u003Ctime datetime=\u00222015-12-03T01:47:30Z\u0022 title=\u002212/03/2015 01:47  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-12-03T01:50:59Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Yeah I do, but not really a big one. I used to get a much bigger one when I was disabling it\u0027s generation entirely but it caused the PQS system to mess up after a while.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Let me know if it works, the performance boost is actually not negligible at all.\n\u003E \n\nWill do. I\u0027ll also try and think of a way to allow lights to work. Wait... how do projectors work on it? What is the geometry like? If projectors work, lights should as well."},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-12-03T01:53:44Z","Content":"Can we find them on KerbalX and post them?? ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif \u0022:huh:\u0022)"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-12-03T01:59:43Z","Content":"\u003E \n\u003E \n\u003E 12 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Alright, it doesn\u0027t look like it has variable wing sweep but I\u0027ll let it slide.\n\u003E \n\n\u003EImplying I can\u0027t into IR.\n\n![screenshot100.png](https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.5/screenshot100.png)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T02:03:42Z","Content":"\u003E \n\u003E \n\u003E 17 minutes ago, rbray89 said:\n\u003E \n\u003E \n\u003E Will do. I\u0027ll also try and think of a way to allow lights to work. Wait... how do projectors work on it? What is the geometry like? If projectors work, lights should as well.\n\u003E \n\nHaven\u0027t actually tried the lights yet but I will. the trick is, the projectors don\u0027t work. Since the stock ocean still generates geometry, I swapped it\u0027s shader out for an empty shader, actually just a color shader that the projectors work on.\n\n    // Compiled shader for all platforms, uncompressed size: 0.3KB\n    \n    Shader \u0022Custom/TranspUnlit\u0022 {\n    Properties {\n     _Color (\u0022Color \u0026 Transparency\u0022, Color) = (0,0,0,0)\n    }\n    SubShader { \n     Tags { \u0022QUEUE\u0022=\u0022Transparent\u0022 }\n     Pass {\n      Tags { \u0022QUEUE\u0022=\u0022Transparent\u0022 }\n      Color [_Color]\n      ZWrite off\n      Blend SrcAlpha OneMinusSrcAlpha\n     }\n    }\n    Fallback \u0022Unlit/Transparent\u0022\n    }\n\nThen I just moved the ocean\u0027s renderqueue to be behind that of the projector. So now it looks like it works, and it mostly holds, only exceptions are when you can see shadows that are projected on terrain *behind the curvature of the planet* appear on top of the ocean but it doesn\u0027t happen all that often.\n\nNot entirely sure why the projectors don\u0027t work normally with the ocean shader, maybe I messed something up, but I\u0027ll get back to it later on, for now this dirty trick looks fine.\n\n\u003E \n\u003E \n\u003E 14 minutes ago, Nhawks17 said:\n\u003E \n\u003E \n\u003E Can we find them on KerbalX and post them?? ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif \u0022:huh:\u0022)\n\u003E \n\nIf you do that the release is scrapped.\n\nEdited:\n\n\u003E \n\u003E \n\u003E 8 minutes ago, Red Iron Crown said:\n\u003E \n\u003E \n\u003E \u003EImplying I can\u0027t into IR.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![screenshot100.png](https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.5/screenshot100.png)](https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.5/screenshot100.png \u0022Enlarge image\u0022)\n\u003E \n\n\u003EGreentexting on kspforum\n\nVery nicely done though.\n\n**Edited \u003Ctime datetime=\u00222015-12-03T02:08:26Z\u0022 title=\u002212/03/2015 02:08  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Mad Rocket Scientist","CreatedById":139256,"CreatedDateTime":"2015-12-03T02:12:47Z","Content":"I hear that you\u0027re looking for boat stuff, is there a list of what\u0027s not been done yet?"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-12-03T02:13:39Z","Content":"Heh, I knew you would appreciate it, seen some of your posts over there. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nETA: One submarine (from 1.0.5 Day 1):\n\n![screenshot2.png](https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.5/screenshot2.png)\n\n**Edited \u003Ctime datetime=\u00222015-12-03T02:16:50Z\u0022 title=\u002212/03/2015 02:16  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by Red Iron Crown**"},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-12-03T02:19:15Z","Content":"\u003E \n\u003E \n\u003E 14 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E If you do that the release is scrapped.\n\u003E \n\nGAH \\*throws in towel"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2015-12-03T02:22:57Z","Content":"Spoiler\n\nI\u0027m that guy ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022:wink:\u0022)\n\n**Edited \u003Ctime datetime=\u00222015-12-03T02:23:25Z\u0022 title=\u002212/03/2015 02:23  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by gkorgood**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T02:25:09Z","Content":"[@rbray89](https://forum.kerbalspaceprogram.com/index.php?/profile/48847-rbray89/) I actually tried the lights and they don\u0027t work indeed.\n\n\u003E \n\u003E \n\u003E 9 minutes ago, Red Iron Crown said:\n\u003E \n\u003E \n\u003E Heh, I knew you would appreciate it, seen some of your posts over there. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E ETA: One submarine (from 1.0.5 Day 1):\n\u003E \n\nNice, I wouldn\u0027t have took you for the kind of person who goes there.\n\nBtw I actually remember when you posted that submarine.\n\n\u003E \n\u003E \n\u003E 9 minutes ago, Mad Rocket Scientist said:\n\u003E \n\u003E \n\u003E I hear that you\u0027re looking for boat stuff, is there a list of what\u0027s not been done yet?\n\u003E \n\n8 sea planes, 2 carriers and 1 submarine."},{"CreatedByName":"Mad Rocket Scientist","CreatedById":139256,"CreatedDateTime":"2015-12-03T02:27:35Z","Content":"\u003E \n\u003E \n\u003E Just now, blackrack said:\n\u003E \n\u003E \n\u003E [@rbray89](https://forum.kerbalspaceprogram.com/index.php?/profile/48847-rbray89/) I actually tried the lights and they don\u0027t work indeed.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Nice, I wouldn\u0027t have took you for the kind of person who goes there.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Btw I actually remember when you posted that submarine.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 8 sea planes, 2 carriers and 1 submarine.\n\u003E \n\nHow\u0027s this looking? (Early prototype) I call the party boat:\n\n![WgaG10x.png](http://i.imgur.com/WgaG10x.png)"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2015-12-03T02:28:37Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Mad Rocket Scientist said:\n\u003E \n\u003E \n\u003E How\u0027s this looking? (Early prototype) I call the party boat:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![WgaG10x.png](http://i.imgur.com/WgaG10x.png)](http://i.imgur.com/WgaG10x.png \u0022Enlarge image\u0022)\n\u003E \n\nwhere\u0027s the F14 dude?\n\nEDIT: Or is this a seaplane?\n\n**Edited \u003Ctime datetime=\u00222015-12-03T02:29:25Z\u0022 title=\u002212/03/2015 02:29  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by gkorgood**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-03T02:30:16Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Mad Rocket Scientist said:\n\u003E \n\u003E \n\u003E How\u0027s this looking? (Early prototype) I call the party boat:\n\u003E \n\nIf you manage to land a plane on it, it could count as a carrier."}]}