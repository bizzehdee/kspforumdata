{"TopicId":202132,"ForumId":50,"TopicTitle":"Finding the right azimuth to launch into for a specified target inclination","CreatedByName":"VMQ","CreatedById":209650,"CreatedDateTime":"2021-05-01T23:09:21Z","PageNum":1,"Articles":[{"CreatedByName":"VMQ","CreatedById":209650,"CreatedDateTime":"2021-05-01T23:09:21Z","Content":"\n\u003Cp\u003E\nAfter my own kOS scripts and even MechJeb failed to get me into the exact target inclination, I did some searching and math and came up with the following formalism that gets me right on target. This is mostly based on \u003Ca href=\u0022https://www.orbiterwiki.org/wiki/Launch_Azimuth\u0022 rel=\u0022external nofollow\u0022\u003Ethis website\u003C/a\u003E, but adds some derivations and\u00A0 corrects the part that takes the rotating body into consideration.\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u003Ca href=\u0022https://en.wikipedia.org/wiki/Azimuth\u0022 rel=\u0022external nofollow\u0022\u003Eazimuth\u003C/a\u003E, or degrees from north dynamically changes during the course of an orbit around a body and depends on the latitude of the object at that time. With some spherical geometry, and especially \u003Ca href=\u0022https://en.wikipedia.org/wiki/Spherical_trigonometry#Napier%27s_analogies\u0022 rel=\u0022external nofollow\u0022\u003ENapier\u0027s rules for right spherical triangles\u003C/a\u003E (R8) one finds that:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\ncos(inclination) = sin(azimuth) cos(latitude)\u003C/pre\u003E\n\u003Cp\u003E\nFrom this formula one finds that for a given orbit inclination the azimuth is given by (note there are two possible solutions):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nazimuth = arcsin(cos(inclination)/cos(latitude))\n    or\nazimuth = 180 - arcsin(cos(inclination)/cos(latitude))\u003C/pre\u003E\n\u003Cp\u003E\nThis is sometimes also referred to as the inertial azimuth. Please see that for latitude 0, on the equator, this becomes the familiar\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nazimuth = 90 \u002B inclination     or     azimuth = 90 - inclination\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEffect of the earth rotation\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf the body wouldn\u0027t rotate one would be done by now. But the rotating body gives the ship an additional velocity toward the east, so that launching into the calculated azimuth above will still miss the target inclination by a fair amount because an orbit with with orbital velocity v_ob will have the following two components:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ev_ox = sin(azimuth) v_ob  // component along the equator\nv_oy = cos(azimuth) v_ob  // component perpendicular to the equator\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis means, that launching into an inclined orbit will be off slightly because of the additional equatorial velocity that is added at launch. The velocity changes with the latitude of the launch.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nv_e = cos(launch latitude) * equatorial surface velocity\u003C/pre\u003E\n\u003Cp\u003E\nPutting this all together means that we need to launch and maintain the azimuth of the rocket during flight so that the surface rotation is taken into account and that the rocket is applying the thrust in a corrected azimuth\u00A0 direction. The velocity components need to obey:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ev_ox = sin(azimuth) v_ob - v_e (1) // component along the equator\nv_oy = cos(azimuth) v_ob       (2) // component perpendicular to the equator\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe picture at the bottom shows the possible cases (with iAzi = azimuth and cAzi = corrected azimuth) for the velocity vector for v_o that includes the surface velocity that is gained for free and the components v_ox and v_oy that the rocket is getting through the burn.\n\u003C/p\u003E\n\u003Cp\u003E\nWith this in mind the corrected azimuth (cAzi) can be calculated by:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\ncAzi = arctan2(v_ox, v_oy)   (3)\u003C/pre\u003E\n\u003Cp\u003E\nThe upper left and upper right diagrams are fairly obvious and cover the situation for launching into the ascending node. Equation (3) follows directly from the diagrams. The case is slightly more complicated for azimuths from 90 to 270 (launches into descending node), but symmetry shows that the absolute values for vox and voy are also correct, but that voy needs to come out negative.\u00A0 This is correct, because cos(180-x) = -cos(x), so that eqn. (2) also holds in those cases and eqn. (3) stays valid.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEffect of the earth rotation (final comment)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn the website referenced at the top the velocity v_ob is assumed to be the velocity of the stable orbit. This is incorrect of the burn is interrupted before the final orbit is reached. Instead the corrected azimuth needs to be maintained until the engine shuts off after the initial burn, hence the horizontal velocity at engine shutoff, usually with an apoapsis higher than the atmosphere, but not a stable orbit yet, determines the v_ob and therefore the corrected azimuth.\n\u003C/p\u003E\n\u003Cp\u003E\nFor people using kOS it works well to select v_ob that is reached during the initial burn - 1500 m/s usually works well for Kerbin launches - and switch the heading of the rocket from \u0022corrected azimuth\u0022 to \u0022azimuth\u0022 once the target inclination has been reached.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if this was helpful, or if someone is interested in my kOS scrip that uses this formalism.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPicture to show dependency between corrected and inertial azimuth:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022jJYZFp3.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002296.74\u0022 height=\u0022593\u0022 width=\u0022613\u0022 src=\u0022https://i.imgur.com/jJYZFp3.jpg\u0022\u003E\u003C/p\u003E\n"}]}