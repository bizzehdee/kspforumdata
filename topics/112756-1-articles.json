{"TopicId":112756,"ForumId":29,"TopicTitle":"Help! Update() doesen\u0026#039;t work!","CreatedByName":"JuhaJGamer","CreatedById":146029,"CreatedDateTime":"2015-06-12T14:13:44Z","PageNum":1,"Articles":[{"CreatedByName":"JuhaJGamer","CreatedById":146029,"CreatedDateTime":"2015-06-12T14:13:44Z","Content":"\n\u003Cp\u003ECan someone help? I\u0027m having problems with my code. I\u0027m trying to make a part module which would trigger some functions when part cant get any fuel. in my codepart its like \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic void onUpdate () {\u003Cbr\u003E\u003Cbr\u003E            double anti = this.part.RequestResource (\u0022Antimatter\u0022, 20);\u003Cbr\u003E            double EM = this.part.RequestResource (\u0022Electric Matter\u0022, 1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (anti \u0026lt;= 20 ^ EM \u0026gt;= 1) stabilizeField (antiFieldState);\u003Cbr\u003E            else calculateExplosions (antiFieldState);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2015-06-12T14:26:12Z","Content":"\n\u003Cp\u003EPublic void onUpdate() should be public void Update ()(if using monobehaviour callbacks) or public override void OnUpdate () if using ksp callbacks from PartModule?*\u003C/p\u003E\u003Cp\u003E*questionmark because im a total noob at c#\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-12T14:57:00Z\u0022 title=\u002206/12/2015 02:57  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 12, 2015\u003C/time\u003E by landeTLS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JuhaJGamer","CreatedById":146029,"CreatedDateTime":"2015-06-12T14:57:55Z","Content":"\n\u003Cp\u003EOk I\u0027ll try. Hope it works \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI dont think it works. My code: \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic override void OnUpdate () {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            double anti = this.part.RequestResource (\u0022Antimatter\u0022, 20);\u003Cbr\u003E            double EM = this.part.RequestResource (\u0022Electric Matter\u0022, 1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (anti \u0026lt;= 20 ^ EM \u0026gt;= 1) stabilizeField (antiFieldState);\u003Cbr\u003E            else calculateExplosions (antiFieldState);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E It should work and I actually have a debug messaging after that but it shows nothing in the log. Stabilize field shows in the debug that it works and calculate explosions explodes the part.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-12T14:59:36Z\u0022 title=\u002206/12/2015 02:59  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 12, 2015\u003C/time\u003E by JuhaJGamer\u003C/strong\u003E\n\u003Cbr\u003EAdding stuff\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-12T14:58:40Z","Content":"\n\u003Cp\u003ERemember that OnUpdate() only runs if the part is the part is active (staged). I suspect this may be your issue.\u003C/p\u003E\u003Cp\u003EUpdate() always runs, though you make want to run some checks that the part is in flight (not in the editor) depending what you want to do.\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2015-06-12T16:28:04Z","Content":"\n\u003Cp\u003EO i must have remembered wrong. I thought OnUpdate () ran regardless of staging but OnFixedUpdate () ran only after staging. Sorry for the confusion. Then as lo-fi said it is better to use Update () which runs regardless of staging since this is unitys own frame callback. That is unless you want to integrate some functionality with ksps staging timeline.\u003C/p\u003E\n"},{"CreatedByName":"JuhaJGamer","CreatedById":146029,"CreatedDateTime":"2015-06-12T17:50:37Z","Content":"\n\u003Cp\u003EYaa that works. I\u0027ll mention you two in the readme file when I get my mod ready\u003C/p\u003E\n"}]}