{"TopicId":82748,"ForumId":36,"TopicTitle":"Hardware Cockpit with Mod for external instruments","CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2014-08-24T19:03:26Z","PageNum":1,"Articles":[{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2014-08-24T19:03:26Z","Content":"\n\u003Cp\u003EI\u0027m working on a Kerbal related project for the Hackaday Prize, and thought it might be good to get conversation started here for suggestions, as I do want it to be as useful to other people as possible!\u003C/p\u003E\u003Cp\u003EI\u0027m building a hardware cockpit for three 7th-12th grade students to fly a simulated space mission. I\u0027ll be catching all of the physical button presses with a TI Connected Launchpad microcontroller board. Most of the buttons it will just convert to keypresses via it\u0027s USB port, but for advanced stuff (Mechjeb control!) the Launchpad will send commands via the network. For the moment I\u0027m going to use Telemachus to catch these commands and relay them to mechjeb, though I do plan to eventually build this into my own plugin, so you won\u0027t have to run both of them. I\u0027m attaching a pic of the buttons - the pic really highlights the tiny bubbles and wrinkles in the panel labels... in person these are barely noticeable and the boards look like they have a piano finish! \u003C/p\u003E\u003Cp\u003EOn the data out side, I\u0027m writing a plugin that will use HTTP post to spit out all of the relevant flight data to an external C# application that will render a full cockpit\u0027s worth of instruments. I\u0027m planning to use two monitors to display all of these. On the project page you can see a test render in the youtube video showing the first single screen mockup. The artificial horizon and orbit info display both fully work now! I\u0027m heavily deriving my plugin from GoAtThrottleUp... I started with Telemachus, but the amount of data I was trying to drag out of it was causing performance hits in the game... so I looked at GoAtThrottleUp, then tried to go my own way... but I kept running into issues they\u0027d already solved... so my code keeps looking more and more like theirs. I\u0027m thinking I\u0027ll eventually start over with their code and fork it so my plugin winds up being completely backwards compatible with their relay server if you prefer the python/web-browser approach to my standalone c# method of using the data.\u003C/p\u003E\u003Cp\u003EAt the moment I\u0027m planning to use the left screen to display:\u003C/p\u003E\u003Cp\u003EOrbit Info Window\u003C/p\u003E\u003Cp\u003EDocking Assistance Window (similar to Navyfish\u0027s ingame plugin)\u003C/p\u003E\u003Cp\u003ELanding Data - Pitch, Roll, Yaw, Horizontal and Vertical Speeds, Altitude (both ASL and AGL) and remaining deltaV\u003C/p\u003E\u003Cp\u003EOn the right screen I\u0027m wanting to display:\u003C/p\u003E\u003Cp\u003EArtificial Horizon\u003C/p\u003E\u003Cp\u003ERendezvous and Transfer data\u003C/p\u003E\u003Cp\u003ETime to Next Node and Delta V\u003C/p\u003E\u003Cp\u003EEngineering Panel with resource and staging information\u003C/p\u003E\u003Cp\u003EOnce the bugs are out I plan to release my KSP plugin that spits out data- along with both a barebones C# project that just grabs all of that data and puts it into variables (for use as a template for other people\u0027s projects) and the full two screen instrument package I\u0027ll be using.\u003C/p\u003E\u003Cp\u003EAre there other features that would be useful in this package? I looked at the external camera system that GoAtThrottleUp has put together... and it\u0027s awesome, but on my system it was too slow on refresh rate to be all that useful, so I decided not to implement external cams at this time...\u003C/p\u003E\u003Cp\u003EI... like every other plug maker... wish I had a good plan for a \u0027map view\u0027 replacement that let you create and edit maneuver nodes... but at the moment this challenge is beyond me. I suppose I probably could hook in triggers for mechjeb\u0027s maneuver planner - so you could have a few commands - circularize at ap, circularize at pe, Hohmann transfer to target, match velocity at closest approach... what else would you want?\u003C/p\u003E\u003Cp\u003EAnyway - the project page is here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://hackaday.io/project/2774-Send-Everyone-To-Space\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hackaday.io/project/2774-Send-Everyone-To-Space\u003C/a\u003E!\u003C/p\u003E\u003Cp\u003EI will update this thread with progress... and I will REALLY appreciate suggestions along the way. Once I\u0027m reasonably certain it won\u0027t cause anything to smoke I\u0027ll start a release thread with links to code and such!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://static.hackaday.io/images/1864431408906955583.png\u0022 alt=\u00221864431408906955583.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://static.hackaday.io/images/4019501408840770701.jpg\u0022 alt=\u00224019501408840770701.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MeateaW","CreatedById":24950,"CreatedDateTime":"2014-08-25T05:22:02Z","Content":"\n\u003Cp\u003EThis sounds pretty cool!\u003C/p\u003E\u003Cp\u003ERegarding your issues spitting out information, you might want to flip it. Poll KSP for the information, rather than push.\u003C/p\u003E\u003Cp\u003EPush gives complications like, what happens if your push update takes longer for the remote server to process than the time between update pushes?\u003C/p\u003E\u003Cp\u003EWhereas a pull (like using telemachus) means that the processing time is limited by the KSP end.\u003C/p\u003E\u003Cp\u003EIf polling telemachus is causing performance issues, it sounds like telemachus hasn\u0027t separated out enough of his web server related code?\u003C/p\u003E\u003Cp\u003EOtherwise sounds fun! I\u0027ll keep an eye on this thread.\u003C/p\u003E\u003Cp\u003ERegarding a \u0022map\u0022 view, the 2d map they use in orbiter is kind of useful for \u0022visualising\u0022 your orbit. It isn\u0027t particularly useful for showing orbits in 3 dimensions however! (And just as if not even more useless for node creation!)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022http://orbitertraining.files.wordpress.com/2012/02/orbit-mfd.jpg\u0022 alt=\u0022orbit-mfd.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EJust describing that: the circle is the \u0022earth\u0022 or \u0022ground\u0022 and the little elipse is the current \u0022orbit\u0022. I think this image is showing a ship stationary on the ground. (a little forward momentum, and positioned on the circle - AKA traveling at 0 \u0022surface\u0022 velocity)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-25T05:23:54Z\u0022 title=\u002208/25/2014 05:23  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 25, 2014\u003C/time\u003E by MeateaW\u003C/strong\u003E\n\u003Cbr\u003Emore detail.\n\u003C/span\u003E\n"},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2014-08-25T08:25:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MeateaW\u0022 data-cite=\u0022MeateaW\u0022\u003E\u003Cdiv\u003EThis sounds pretty cool!\u003Cp\u003ERegarding your issues spitting out information, you might want to flip it. Poll KSP for the information, rather than push.\u003C/p\u003E\u003Cp\u003EPush gives complications like, what happens if your push update takes longer for the remote server to process than the time between update pushes?\u003C/p\u003E\u003Cp\u003EWhereas a pull (like using telemachus) means that the processing time is limited by the KSP end.\u003C/p\u003E\u003Cp\u003EIf polling telemachus is causing performance issues, it sounds like telemachus hasn\u0027t separated out enough of his web server related code?\u003C/p\u003E\u003Cp\u003EOtherwise sounds fun! I\u0027ll keep an eye on this thread.\u003C/p\u003E\u003Cp\u003ERegarding a \u0022map\u0022 view, the 2d map they use in orbiter is kind of useful for \u0022visualising\u0022 your orbit. It isn\u0027t particularly useful for showing orbits in 3 dimensions however! (And just as if not even more useless for node creation!)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://orbitertraining.files.wordpress.com/2012/02/orbit-mfd.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://orbitertraining.files.wordpress.com/2012/02/orbit-mfd.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EJust describing that: the circle is the \u0022earth\u0022 or \u0022ground\u0022 and the little elipse is the current \u0022orbit\u0022. I think this image is showing a ship stationary on the ground. (a little forward momentum, and positioned on the circle - AKA traveling at 0 \u0022surface\u0022 velocity)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, i like the orbital map from orbiter but i wonder if it\u0027s possible to impliment the 3D map mfd?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://orbithangar.com/addonpics/ImpactPoint2.PNG\u0022 alt=\u0022ImpactPoint2.PNG\u0022\u003E\u003C/p\u003E\n"}]}