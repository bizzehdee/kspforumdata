{"TopicId":22623,"ForumId":34,"TopicTitle":"[1.0.4] (2015-07-04) Telemachus \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 Telemetry and Flight Control in the Web Browser","CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2013-04-18T23:36:12Z","PageNum":20,"Articles":[{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2014-01-12T12:01:48Z","Content":"\n\u003Cp\u003ESweet mother of \u0026lt;deity\u0026gt;. I suspect something as intense as this would benefit from websockets.\u003C/p\u003E\n"},{"CreatedByName":"tankstrr","CreatedById":99599,"CreatedDateTime":"2014-01-12T18:46:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mjukis\u0022 data-cite=\u0022mjukis\u0022\u003E\u003Cdiv\u003EOK here\u0027s some pictures of a linux terminal screen running a first jab at providing flight data using the Telemachus API. There are two basic displays so far, one showing telemetry data about vehicle position, and the other showing some basic radar info. The radar info has about a 1% error, and rounds altitudes. The telemetry lat and long also have a built in error.\u003Cp\u003EFirst is a screen showing everything working as planned. The \u0022-\u0022 next to telemetry altitude is no showing a negative altitude, it\u0027s showing that the number is trending downward.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/2JbJXlA.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/2JbJXlA.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESecond is a screen showing what the controller would see if telemetry was lost. It shows an error and displays the last data it got. I haven\u0027t figured out how to query whether or not the antenna is active (help!) so for now it just returns failures randomly about 10% of the time for testing. Radar data is unaffected.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/pUP8SWj.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/pUP8SWj.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELast is a screen showing normal operation outside the range of the radar. The radar range is configurable but I have it set to only work around Kerbin between 500m ASL and 7Mm ASL.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/CUK1DRL.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/CUK1DRL.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sli\u0022 data-cite=\u0022Sli\u0022\u003E\u003Cdiv\u003EOk, so here\u0027s my prototype UI that i\u0027ve been working on the last few nights.\u003Cp\u003E- It\u0027s a lot more visually orientated and the modules are based off of the look and feel of the existing UI for KSP. \u003C/p\u003E\u003Cp\u003E- It\u0027s designed as more of a ksp \u0027remote\u0027 for mobile devices and display for second monitors rather than a raw telemetry readout. \u003C/p\u003E\u003Cp\u003E- It\u0027s completely modular - add as many modules or as little as you need via a drag and drop grid. \u003C/p\u003E\u003Cp\u003E- The layout is saved automatically between refreshes and can be exported/imported so you can share your own custom control screen. \u003C/p\u003E\u003Cp\u003E- You can add custom resource modules (i.e to track Food, Water, Kethane...) in addition to the stock ones.\u003C/p\u003E\u003Cp\u003E- There is a template structure for the individual modules that you can use to (in theory) code your own. \u003C/p\u003E\u003Cp\u003EI can confirm that it does run smoothly (albeit with a few bugs) on both an iPad and Android Tablet, but I won\u0027t be prioritizing optimization for phones due to screen size limitations and general clunkiness.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/ZqkFZ00.png?1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/ZqkFZ00.png?1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EThe add module GUI has filters for different types. There are buttons, scales, dials, screens/displays and resources.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/PNnncnH.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/PNnncnH.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EYou can drag and drop any element to where you want it and delete by hitting the cross at the top right.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/BZyVeNE.png?4\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/BZyVeNE.png?4\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EPretty much all of the modules are functioning. Note the added \u0027Oxygen\u0027 resource which comes from TAC life support. \u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/g6gp2wa.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/g6gp2wa.gif\u003C/a\u003E \u003Ca href=\u0022http://i.imgur.com/jFOBrNw.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/jFOBrNw.gif\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EJust to show the animation in action.\u003C/em\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy mouth is watering.\u003C/p\u003E\n"},{"CreatedByName":"mjukis","CreatedById":48841,"CreatedDateTime":"2014-01-12T22:28:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sli\u0022 data-cite=\u0022Sli\u0022\u003E\u003Cdiv\u003EOk, so here\u0027s my prototype UI that i\u0027ve been working on the last few nights.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have no words, this looks amazing!\u003C/p\u003E\n"},{"CreatedByName":"Sli","CreatedById":67645,"CreatedDateTime":"2014-01-15T11:17:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rich\u0022 data-cite=\u0022Rich\u0022\u003E\u003Cdiv\u003ESweet mother of \u0026lt;deity\u0026gt;. I suspect something as intense as this would benefit from websockets.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAbsolutely! I\u0027ve done some work with Node.js and Websockets in the past and it can be lightning quick (I built a small multiplayer game with it). At the moment I am seeing a small amount of lag in getting data over wifi, so hopefully the switch to sockets rectifies this, else there will be a lot of prediction going on to keep things looking smooth haha.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EI started work on implementing a three.js navball...\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/oEAYq30.gif\u0022 alt=\u0022oEAYq30.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/1Hy4n2g.png\u0022 alt=\u00221Hy4n2g.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EPlease excuse the colour, I wanted to keep the fps on the gif quite high. Works a charm locally on my desktop but there are massive fps and delay issues for this on the tablet that I will have to look into, that is at least partly related to the interval at which it gets data and partly just because mobile browsers suck at running anything javascript related, especially jQuery.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-15T11:21:05Z\u0022 title=\u002201/15/2014 11:21  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 15, 2014\u003C/time\u003E by Sli\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2014-01-15T21:13:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sli\u0022 data-cite=\u0022Sli\u0022\u003E\u003Cdiv\u003EAbsolutely! I\u0027ve done some work with Node.js and Websockets in the past and it can be lightning quick (I built a small multiplayer game with it). At the moment I am seeing a small amount of lag in getting data over wifi, so hopefully the switch to sockets rectifies this, else there will be a lot of prediction going on to keep things looking smooth haha.\u003Cp\u003E\u003Cem\u003EI started work on implementing a three.js navball...\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/oEAYq30.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/oEAYq30.gif\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/1Hy4n2g.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/1Hy4n2g.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPlease excuse the colour, I wanted to keep the fps on the gif quite high. Works a charm locally on my desktop but there are massive fps and delay issues for this on the tablet that I will have to look into, that is at least partly related to the interval at which it gets data and partly just because mobile browsers suck at running anything javascript related, especially jQuery.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe loss of colour is worth it to see the excellent sync between the actual nav ball and the web representation.\u003C/p\u003E\n"},{"CreatedByName":"Raptor831","CreatedById":68286,"CreatedDateTime":"2014-01-16T01:43:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sli\u0022 data-cite=\u0022Sli\u0022\u003E\u003Cdiv\u003EOk, so here\u0027s my prototype UI that i\u0027ve been working on the last few nights.\u003Cp\u003E..snip..\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, that\u0027s what I was eventually heading towards, though not with the same level of awesomeness. Would love to play KSP with this!\u003C/p\u003E\n"},{"CreatedByName":"fullje","CreatedById":101178,"CreatedDateTime":"2014-01-17T10:14:18Z","Content":"\n\u003Cp\u003EI have only one question. When i can download these great UI?\u003C/p\u003E\n"},{"CreatedByName":"slimtimmy","CreatedById":101297,"CreatedDateTime":"2014-01-18T08:45:00Z","Content":"\n\u003Cp\u003EI was screwing around in PS.... I like the idea of using my tablet as a Apollo-esque command console\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/jOcDKP6.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/jOcDKP6.png\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"hakan","CreatedById":92934,"CreatedDateTime":"2014-01-18T09:34:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022slimtimmy\u0022 data-cite=\u0022slimtimmy\u0022\u003E\u003Cdiv\u003EI was screwing around in PS.... I like the idea of using my tablet as a Apollo-esque command console\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/jOcDKP6.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/jOcDKP6.png\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is EXAAAAAACTLY what I need.... I guess I just have to go and laser-cut myself a holder for the tablet and maybe some kind of buttons and stuff and wire everything with and Arduino... BUT I GOTTA HAVE MY LAUNCH CONTROL CONSOLE !!1!1!!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ffenliv","CreatedById":101061,"CreatedDateTime":"2014-01-19T04:36:38Z","Content":"\n\u003Cp\u003EA friend and I decided to give a team-flying, \u0027mission control\u0027 setup a go. I have telemachus running, and he was able to connect, only the data updates to him were uselessly slow. Like, one update per minute.\u003C/p\u003E\u003Cp\u003ENow, I have terrible internet. I live in Canada\u0027s far North, where all the options are satellite, and they\u0027re all poor. That said, this was in a realm well beyond what I normally experience. I can play MMOs with lag usually in the 600-700ms range ... not 60 seconds.\u003C/p\u003E\u003Cp\u003EIs this a known thing with telemachus and high-latency connections, or is something else up here?\u003C/p\u003E\n"},{"CreatedByName":"mjukis","CreatedById":48841,"CreatedDateTime":"2014-01-19T07:48:24Z","Content":"\n\u003Cp\u003EHas anybody else stumbled upon an error that causes the longitude output (v.long) to have a strange offset?\u003C/p\u003E\u003Cp\u003EI normally have good readings at start but I\u0027ve encountered several times that v.long was reading large negative numbers, such as -410. This causes the map display to show the ship well outside the map, and obviously causes my telemetry display some amount of confusion in converting to East/West coordinates \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Should note that it still seems to reset once per orbit, it\u0027s just that the number is offset.\u003C/p\u003E\n"},{"CreatedByName":"Zander","CreatedById":76100,"CreatedDateTime":"2014-01-19T07:58:06Z","Content":"\n\u003Cp\u003EGreat mod but it needs vessel mass and it also need to be fixed to work with nathankells real fuels. Also it should have a way to print out a log of the data over mission time.\u003C/p\u003E\n"},{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2014-01-19T10:22:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ffenliv\u0022 data-cite=\u0022ffenliv\u0022\u003E\u003Cdiv\u003EA friend and I decided to give a team-flying, \u0027mission control\u0027 setup a go. I have telemachus running, and he was able to connect, only the data updates to him were uselessly slow. Like, one update per minute.\u003Cp\u003ENow, I have terrible internet. I live in Canada\u0027s far North, where all the options are satellite, and they\u0027re all poor. That said, this was in a realm well beyond what I normally experience. I can play MMOs with lag usually in the 600-700ms range ... not 60 seconds.\u003C/p\u003E\u003Cp\u003EIs this a known thing with telemachus and high-latency connections, or is something else up here?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe issue is known but the root cause is not, and I am hoping that the addition of web sockets will either solve the problem or point towards it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mjukis\u0022 data-cite=\u0022mjukis\u0022\u003E\u003Cdiv\u003EHas anybody else stumbled upon an error that causes the longitude output (v.long) to have a strange offset?\u003Cp\u003EI normally have good readings at start but I\u0027ve encountered several times that v.long was reading large negative numbers, such as -410. This causes the map display to show the ship well outside the map, and obviously causes my telemetry display some amount of confusion in converting to East/West coordinates \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Should note that it still seems to reset once per orbit, it\u0027s just that the number is offset.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI believe KSP is to blame in that it sometimes provides longitude values which are correct to some modulus of 180/360. Are you using the latest version of Telemachus (1.4.16.0)? As I am pretty sure I fixed the map view at least. If you are using the latest version then I will take another look at it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zander\u0022 data-cite=\u0022Zander\u0022\u003E\u003Cdiv\u003EGreat mod but it needs vessel mass and it also need to be fixed to work with nathankells real fuels. Also it should have a way to print out a log of the data over mission time.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will ask Nathan about his real fuels and maybe one day I will get round to writing a logger.\u003C/p\u003E\n"},{"CreatedByName":"Mechrior","CreatedById":57987,"CreatedDateTime":"2014-01-19T17:00:16Z","Content":"\n\u003Cp\u003Ehey rich, how come i cant use the dpad or touchball to change pitch roll or yaw while sas is enabled?! something broke?!\u003C/p\u003E\n"},{"CreatedByName":"mjukis","CreatedById":48841,"CreatedDateTime":"2014-01-20T05:30:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rich\u0022 data-cite=\u0022Rich\u0022\u003E\u003Cdiv\u003EI believe KSP is to blame in that it sometimes provides longitude values which are correct to some modulus of 180/360. Are you using the latest version of Telemachus (1.4.16.0)? As I am pretty sure I fixed the map view at least. If you are using the latest version then I will take another look at it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am running 1.4.16.0, yes. I\u0027ll try to do some more testing and see if I can spot a pattern. So far I have never had an error with the reading on the launchpad. At prelaunch check everything matches up, it always pops up later.\u003C/p\u003E\n"},{"CreatedByName":"mjukis","CreatedById":48841,"CreatedDateTime":"2014-01-20T06:06:36Z","Content":"\n\u003Cp\u003EOK I just stuck a ship with a MechJeb2 on it into orbit and monitored the surface info longitude in that side by side with the Telemachus map and v.long value. Interesting, if odd observations to follow.\u003C/p\u003E\u003Cp\u003EAt the launch pad, we know that the longitude is about -74.55 degrees. The telemetry however is showing the proper map position, but giving a v.long of 285.442. As I launched, this number increased normally as I headed eastward, and then suddenly changed to a negative number which corresponded perfectly with the longitude readout of MechJeb2. At no point did the map display show an incorrect position. As I neared 0 degrees longitude, all displays were synchronized perfectly, as they were at 180 degrees. Here, they diverged, as MechJeb2 \u0022crossed the dateline\u0022 and now began counting from -180 toward 0. The map displayed correctly, and v.long continued rising until a reading of about 240 degrees longitude. At this point it switched over to a negative number and was again synchronized with MechJeb2. Interestingly, upon passing KSC in orbit on this first pass, v.long read -74.55 degrees. I time accelerated to lock down exactly where the switch from positive to negative occurred, but on my second pass, it happened somewhere around 230 degrees. The next pass it was even earlier. The map was still displaying correctly however.\u003C/p\u003E\u003Cp\u003EI then did a revert to launch to see if the 285.442 reading on the launch pad might have been an error on my part, since it displayed correctly when passing overhead. It once again read 285.442. However, about a minute later it suddenly switched to the correct reading, without a launch. Not much in the way of a theory on my part, but hopefully the data will mean more to someone else than it did to me.\u003C/p\u003E\n"},{"CreatedByName":"JahBonez","CreatedById":101562,"CreatedDateTime":"2014-01-21T17:05:31Z","Content":"\n\u003Cp\u003EWow great looking mod! I\u0027m working on an arduino control board and we really want to include flight data displays. I\u0027m quite new to using APIs, can anyone give me a brief idea of what the C\u002B\u002B code might look like to retrieve data such as altitude and resource level from Telemachus? Much appreciated! \u003C/p\u003E\u003Cp\u003EWe will be posting progress of this project in another thread eventually if anyone is interested.\u003C/p\u003E\n"},{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2014-01-21T19:39:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mechrior\u0022 data-cite=\u0022Mechrior\u0022\u003E\u003Cdiv\u003Ehey rich, how come i cant use the dpad or touchball to change pitch roll or yaw while sas is enabled?! something broke?!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will check it out, but it might be a limitation of the KSP API.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mjukis\u0022 data-cite=\u0022mjukis\u0022\u003E\u003Cdiv\u003EOK I just stuck a ship with a MechJeb2 on it into orbit and monitored the surface info longitude in that side by side with the Telemachus map and v.long value. Interesting, if odd observations to follow.\u003Cp\u003EAt the launch pad, we know that the longitude is about -74.55 degrees. The telemetry however is showing the proper map position, but giving a v.long of 285.442. As I launched, this number increased normally as I headed eastward, and then suddenly changed to a negative number which corresponded perfectly with the longitude readout of MechJeb2. At no point did the map display show an incorrect position. As I neared 0 degrees longitude, all displays were synchronized perfectly, as they were at 180 degrees. Here, they diverged, as MechJeb2 \u0022crossed the dateline\u0022 and now began counting from -180 toward 0. The map displayed correctly, and v.long continued rising until a reading of about 240 degrees longitude. At this point it switched over to a negative number and was again synchronized with MechJeb2. Interestingly, upon passing KSC in orbit on this first pass, v.long read -74.55 degrees. I time accelerated to lock down exactly where the switch from positive to negative occurred, but on my second pass, it happened somewhere around 230 degrees. The next pass it was even earlier. The map was still displaying correctly however.\u003C/p\u003E\u003Cp\u003EI then did a revert to launch to see if the 285.442 reading on the launch pad might have been an error on my part, since it displayed correctly when passing overhead. It once again read 285.442. However, about a minute later it suddenly switched to the correct reading, without a launch. Not much in the way of a theory on my part, but hopefully the data will mean more to someone else than it did to me.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt sounds like I just need to place the same safe guards on the table output as I have on the map view.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JahBonez\u0022 data-cite=\u0022JahBonez\u0022\u003E\u003Cdiv\u003EWow great looking mod! I\u0027m working on an arduino control board and we really want to include flight data displays. I\u0027m quite new to using APIs, can anyone give me a brief idea of what the C\u002B\u002B code might look like to retrieve data such as altitude and resource level from Telemachus? Much appreciated! \u003Cp\u003EWe will be posting progress of this project in another thread eventually if anyone is interested.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1. The arduino will need to be connected to the same network as the computer running KSP.\u003C/p\u003E\u003Cp\u003E2. Use \u003Ca href=\u0022http://curl.haxx.se/libcurl/\u0022 rel=\u0022external nofollow\u0022\u003Elibcurl\u003C/a\u003E to make HTTP requests to the Telemachus server.\u003C/p\u003E\u003Cp\u003EHTTP requests take the following form.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ehttp://127.0.0.1:8080/telemachus/datalink?alt=[B]v.altitude[/B]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe text in bold is the \u003Cem\u003EAPI string\u003C/em\u003E and a full list of these can be found on the landing page served by Telemachus.\u003C/p\u003E\n"},{"CreatedByName":"hakan","CreatedById":92934,"CreatedDateTime":"2014-01-21T22:11:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JahBonez\u0022 data-cite=\u0022JahBonez\u0022\u003E\u003Cdiv\u003EWe will be posting progress of this project in another thread eventually if anyone is interested.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease be sure to add a short notification here as well so we don\u0027t overlook your new thread. Sounds so amazing it would be a shame to lose sight of it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"JahBonez","CreatedById":101562,"CreatedDateTime":"2014-01-22T16:06:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rich\u0022 data-cite=\u0022Rich\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E1. The arduino will need to be connected to the same network as the computer running KSP.\u003C/p\u003E\u003Cp\u003E2. Use \u003Ca href=\u0022http://curl.haxx.se/libcurl/\u0022 rel=\u0022external nofollow\u0022\u003Elibcurl\u003C/a\u003E to make HTTP requests to the Telemachus server.\u003C/p\u003E\u003Cp\u003EHTTP requests take the following form.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ehttp://127.0.0.1:8080/telemachus/datalink?alt=[B]v.altitude[/B]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe text in bold is the \u003Cem\u003EAPI string\u003C/em\u003E and a full list of these can be found on the landing page served by Telemachus.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFantastic thanks! \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hakan\u0022 data-cite=\u0022hakan\u0022\u003E\u003Cdiv\u003EPlease be sure to add a short notification here as well so we don\u0027t overlook your new thread. Sounds so amazing it would be a shame to lose sight of it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll keep you posted, right now we are just working out our parts orders but we\u0027ll get a thread going soon.\u003C/p\u003E\n"},{"CreatedByName":"Mechrior","CreatedById":57987,"CreatedDateTime":"2014-01-22T16:31:15Z","Content":"\n\u003Cp\u003EOMFG!!!!! When will this be available for other people to use please!!!! it is EXACTLY what i need!\u003C/p\u003E\n"},{"CreatedByName":"mjukis","CreatedById":48841,"CreatedDateTime":"2014-01-26T04:36:39Z","Content":"\n\u003Cp\u003EFigured I\u0027ll drop off a little update on the terminal using the Telemachus API.\u003C/p\u003E\u003Cp\u003EWe\u0027ve done some early tests with a pilot in a Raster Prop Monitor capsule with two mission controllers. We found that two scripts running continuous requests for data was... a bit much for our system, or Telemachus. But never fear, I did some rewriting and now have a separate script which gathers the data from Telemachus and then distributes it via RabbitMQ to as many separate screens as we want. So now we\u0027re on to designing screens for EECOM, FDO and Booster. Here\u0027s a pic of the latest version of the Flight Directors summary screen.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jHqt2Tm.jpg\u0022 alt=\u0022jHqt2Tm.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"hakan","CreatedById":92934,"CreatedDateTime":"2014-01-26T21:50:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mjukis\u0022 data-cite=\u0022mjukis\u0022\u003E\u003Cdiv\u003Egathers the data from Telemachus and then distributes it via RabbitMQ to as many separate screens as we want\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWow, now stuff starts to get really really amazing.. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003ENext level of dream: distributed Multiplayer control where the \u0022Flight Officer\u0022 controls the Munar Approach while the \u0022Science Officer\u0022 controls which experiments are being performed when, each player using his/her own laptop / tablet / purpose-built flight control setup \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 alt=\u0022:0.0:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2014-01-27T00:56:32Z","Content":"\n\u003Cp\u003EExactly......\u003C/p\u003E\n"},{"CreatedByName":"Rich","CreatedById":17874,"CreatedDateTime":"2014-01-27T20:37:06Z","Content":"\n\u003Cp\u003EQuick update on development progress:\u003C/p\u003E\u003Cp\u003EThe web socket server is \u0022working\u0022, in that a command can be sent from a browser to request a subscription to a data stream. The subscription request doesn\u0027t do anything when it gets there, but to fix that is just a matter of hooking it up to the same code the HTTP server uses to grab KSP data.\u003C/p\u003E\u003Cp\u003EWith advice from alexmun the following protocol has been put together:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E{\u003Cbr\u003E    \u0022subscribe\u0022: [\u003Cbr\u003E        \u0022v.altitude\u0022,\u003Cbr\u003E        \u0022v.name\u0022\u003Cbr\u003E    ],\u003Cbr\u003E    \u0022command\u0022: [\u0022v.stage\u0022],\u003Cbr\u003E    \u0022unsubscribe\u0022: [ \u0022v.surfaceSpeed\u0022 ]\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe above command when sent will: activate the next stage; subscribe to the altitude and vessel name streams; unsubscribe from the surface speed stream.\u003C/p\u003E\u003Cp\u003EAll dictionary keys are optional; that is, \u0022{}\u0022 is a valid command but does nothing, and the following will just activate the next stage.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E{\u003Cbr\u003E    \u0022command\u0022: [\u0022v.stage\u0022]\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENext:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EPack KSP data up and stream it back to the browser.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-27T20:52:26Z\u0022 title=\u002201/27/2014 08:52  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 27, 2014\u003C/time\u003E by Rich\u003C/strong\u003E\n\u003C/span\u003E\n"}]}