{"TopicId":84584,"ForumId":15,"TopicTitle":"Method to Make a Movable Collision Mesh?","CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-14T14:22:43Z","PageNum":1,"Articles":[{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-14T14:22:43Z","Content":"\n\u003Cp\u003EAssume I have an animated part. There is a collision mesh parented to that part. I then attach another part to it, such as a battery. When the first part animates, I want the second part to travel with it. Is this possible in Unity?\u003C/p\u003E\u003Cp\u003EAs of now, when I parent a collider to the animated part and add another part to the first part, as I animate the first part, the second is left behind clinging to the non-moving collider mesh.\u003C/p\u003E\u003Cp\u003Ethanks\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-09-14T14:40:41Z","Content":"\n\u003Cp\u003EI think collision meshes should be components of objects. Highlight the object that animates and add the component, choosing the mesh you want.\u003C/p\u003E\n"},{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-14T15:48:46Z","Content":"\n\u003Cp\u003EIn Blender, I created the collision mesh. In Unity, I removed the mesh renderer and added the mesh collider to that collision mesh. That\u0027s what did not work.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-14T15:53:37Z","Content":"\n\u003Cp\u003Eif you mean moving a part attached in VAB/SPH, it won\u0027t work. If you mean in Unity, it\u0027s a matter of attaching the component directly to the animated part; or childing the collider to the moving part in Unity.\u003C/p\u003E\u003Cp\u003EYou can move the collider if you child it to a moving transform in Unity, landing legs and gears do just that. animating the collider properties like radius, height, won\u0027t work, you will get an error about animation curves when attempting to load the model.\u003C/p\u003E\n"},{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-14T16:37:50Z","Content":"\n\u003Cp\u003EI don\u0027t mean in the VAB/SPH. I\u0027m not trying to directly animate the collision mesh.\u003C/p\u003E\u003Cp\u003EHere\u0027s what I tried:\u003C/p\u003E\u003Cp\u003E1. In Blender, I created the collider mesh and and made the moving part its parent\u003C/p\u003E\u003Cp\u003E2. In Unity, I selected the collider mesh and removed the render component. I then added the \u0022mesh collider\u0022 component to it. Unity indicated that the collision mesh was a child of the moving part. \u003C/p\u003E\u003Cp\u003E3. In KSP, I moved the animated part (parent) not the collision mesh. I tried this in both the VAB and the launchpad.\u003C/p\u003E\u003Cp\u003EYou make an excellent point about the lander legs and landing gear. I must be missing something.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-14T16:39:56Z\u0022 title=\u002209/14/2014 04:39  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 14, 2014\u003C/time\u003E by Apollo13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-14T16:43:54Z","Content":"\n\u003Cp\u003Edid you mark the mesh collider as \u0022Convex\u0022?\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-09-14T16:50:02Z","Content":"\n\u003Cp\u003EIn the other hand, landing gear and legs use special and dedicated module to handle them, which may, or may not, take care of the moving collider, which is not the case of the basic PartModule used by \u003Cem\u003Estatic\u003C/em\u003E parts.\u003C/p\u003E\u003Cp\u003EI tired once with a kind of \u0022corridor extender\u0022 without success, collider was generated by unity, convex and tied to the mesh.\u003C/p\u003E\u003Cp\u003EIt may be possible to do something with Infernal Robotics (like the piston for example).\u003C/p\u003E\n"},{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-14T17:29:13Z","Content":"\n\u003Cp\u003EUnity setup:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/qS48Acb.png\u0022 alt=\u0022qS48Acb.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Ethe result:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/t3rHB1z.png\u0022 alt=\u0022t3rHB1z.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-14T17:32:52Z\u0022 title=\u002209/14/2014 05:32  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 14, 2014\u003C/time\u003E by Apollo13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-09-14T17:36:36Z","Content":"\n\u003Cp\u003EThe problem is not that collision meshes are not movable, because they are.\u003C/p\u003E\u003Cp\u003EThe problem is that the position of the child part (the part you attached) does not get updated. It has a specific position relative to the parent part and once that position is set, it is not changed.\u003C/p\u003E\u003Cp\u003EThe game has no concept of an object being attached to a specific mesh on an object with multiple meshes. It\u0027s just attached to the object.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003EJustin\u0027s probably right about IR. Or maybe not; I\u0027m not sure if IR parts move just a part of a mesh or the entire object....... but maybe you can accomplish what you want using IR, or see how they do it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-14T17:39:42Z\u0022 title=\u002209/14/2014 05:39  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 14, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-14T17:40:16Z","Content":"\n\u003Cp\u003E@Starwaster: If I understand you, the battery in the above example cannot rotate with the red lever. The battery is attached to the object, which consists of the red lever and turquoise plane. True?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-14T17:42:42Z\u0022 title=\u002209/14/2014 05:42  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 14, 2014\u003C/time\u003E by Apollo13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-09-14T20:18:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Apollo13\u0022 data-cite=\u0022Apollo13\u0022\u003E\u003Cdiv\u003E@Starwaster: If I understand you, the battery in the above example cannot rotate with the red lever. The battery is attached to the object, which consists of the red lever and turquoise plane. True?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect.\u003C/p\u003E\u003Cp\u003EIt doesn\u0027t even know which of multiple meshes it was attached to because the only real attachment is the object as a whole.\u003C/p\u003E\u003Cp\u003EIt\u0027s not practically possible.... (theoretically maybe but that\u0027s a big maybe)\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u0022\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E\u003Cem\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EThe technology involved in making something properly invisible is so mind-bogglingly complex that 999,999,999 times out of a billion it\u0027s simpler just to take the thing away and do without it.......\u0022\u003C/span\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#252525;\u0022\u003E\u003Cem\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E- Douglas Adams, Life, the Universe and Everything\u003C/span\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2014-09-14T20:29:45Z","Content":"\n\u003Cp\u003EHi tried to do just this very thing for ages, and i\u0027m firmly of the opinion it can\u0027t be done , one of the IR chaps explained to me why, it\u0027s something to do with collider origins iirc, but this is the reason IR exists, because if it was possible we\u0027d all have animated robot arms etc. It\u0027s a lot easier than you may think to incorporate an IR element in your hierarchy , check out the IR tutorial , that I can\u0027t find again. and if you do go down the IR route I\u0027d be happy to help with any issues\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2014-09-15T12:52:41Z","Content":"\n\u003Cp\u003EIf you look at the VESSEL blocks in your Persistence/Quicksave, all of the parts on your ship have their coordinates set relative to the root-node of the vessel. So no, the battery will never move.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-15T13:53:52Z","Content":"\n\u003Cp\u003Eyou need Infernal Robotics for that.\u003C/p\u003E\n"},{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-15T14:43:11Z","Content":"\n\u003Cp\u003EThank you all for the replies. That saved me a lot of hours trying to figure out something that can\u0027t be done, except through IR.\u003C/p\u003E\n"}]}