{"TopicId":121695,"ForumId":16,"TopicTitle":"Math check - ISP","CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2015-09-25T23:06:07Z","PageNum":1,"Articles":[{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2015-09-25T23:06:07Z","Content":"\n\u003Cp\u003ENeed a quick sanity check here. It occurred to me while talking in another thread. If I have 2 identical engines on a stage, is the Isp additive, absolute, or a loss?\u003C/p\u003E\u003Cp\u003EI don\u0027t think it is additive (could be wrong I guess), but would the Isp for the stage be the same as the Isp for one of the engines, or would it lose efficiency?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-25T23:10:46Z\u0022 title=\u002209/25/2015 11:10  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 25, 2015\u003C/time\u003E by Alshain\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-25T23:09:01Z","Content":"\n\u003Cp\u003EAlshain,\u003C/p\u003E\u003Cp\u003E The Isp would be a constant for identical engines. You\u0027re doubling the thrust and flow rate, but exhaust velocity remains constant.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"ghpstage","CreatedById":129622,"CreatedDateTime":"2015-09-25T23:10:15Z","Content":"\n\u003Cp\u003ETwo identical engines would have the same ISP as one, with a larger dry mass and more thrust.\u003C/p\u003E\n"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2015-09-25T23:10:22Z","Content":"\n\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-25T23:14:12Z","Content":"\n\u003Cp\u003EAlshain,\u003C/p\u003E\u003Cp\u003E You\u0027re very welcome.\u003C/p\u003E\u003Cp\u003EGive \u0027em Hell!,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"pincushionman","CreatedById":98495,"CreatedDateTime":"2015-09-26T02:21:06Z","Content":"\n\u003Cp\u003EAnd if you have different engines, it will be a weighted average. Weighted by \u003Cem\u003Ewhat,\u003C/em\u003E I don\u0027t know off the top of my head. Probably mass flow rate.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-09-26T12:18:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pincushionman\u0022 data-cite=\u0022pincushionman\u0022\u003E\u003Cdiv\u003EAnd if you have different engines, it will be a weighted average. Weighted by \u003Cem\u003Ewhat,\u003C/em\u003E I don\u0027t know off the top of my head. Probably mass flow rate.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThrust weighted. Like so (F is thrust):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://wiki.kerbalspaceprogram.com/images/math/5/6/4/5649bb43490708471f734294d36eb565.png\u0022 alt=\u00225649bb43490708471f734294d36eb565.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-26T16:29:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EThrust weighted. Like so (F is thrust):\u003Cp\u003E\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/images/math/5/6/4/5649bb43490708471f734294d36eb565.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/images/math/5/6/4/5649bb43490708471f734294d36eb565.png\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt the risk of getting too far into the weeds, either approach would technically work since the mass flow rate is proportional to thrust. \u003C/p\u003E\u003Cp\u003E Thrust is a much more convenient value for the calculation though.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-09-26T16:43:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GoSlash27\u0022 data-cite=\u0022GoSlash27\u0022\u003E\u003Cdiv\u003EAt the risk of getting too far into the weeds, either approach would technically work since the mass flow rate is proportional to thrust. \u003Cp\u003E Thrust is a much more convenient value for the calculation though.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoesn\u0027t work out that way for me. I tried it with a 4xLV-909 \u002B 1xLV-N cluster, thrust weighting gives ~389s while mass flow weighting gives ~365s.\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2015-09-26T18:12:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GoSlash27\u0022 data-cite=\u0022GoSlash27\u0022\u003E\u003Cdiv\u003EAt the risk of getting too far into the weeds, either approach would technically work since the mass flow rate is proportional to thrust. \u003Cp\u003E Thrust is a much more convenient value for the calculation though.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EDoesn\u0027t work out that way for me. I tried it with a 4xLV-909 \u002B 1xLV-N cluster, thrust weighting gives ~389s while mass flow weighting gives ~365s.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAveraging by mass flow rate would work if using the same propellants with the same proportions on the different engines. Averaging by mass flow for 909s and nukes doesn\u0027t work as 909 use LFO but nukes only LF.\u003C/p\u003E\u003Cp\u003EIf you tried with a stage using solely LFO or LF or monoprop or whatever fuel your want, then I\u0027m pretty sure averaging by mass flow rate would work.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-09-26T18:14:58Z","Content":"\n\u003Cp\u003EMass flow rates don\u0027t care if it\u0027s LFO or LF, just that it\u0027s mass.\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-26T18:25:25Z","Content":"\n\u003Cp\u003ERIC,\u003C/p\u003E\u003Cp\u003E The process to weight them would be different, so you couldn\u0027t just plug in Rf in place of T. \u003C/p\u003E\u003Cp\u003E When you invoke \u0022F/Isp\u0022 in the denominator you are talking about mass flow rate at that point.\u003C/p\u003E\u003Cp\u003E Likewise, when you invoke F in the numerator that\u0027s really the same thing as \u0022RfIsp\u0022\u003Cspan style=\u0022color:#008000;\u0022\u003E*\u003C/span\u003E.\u003C/p\u003E\u003Cp\u003EI would expect a proper weighting based on mass flow rate to look something like (Rf1Isp1\u002BRf2Isp2\u002B...\u002B RfnIspn)/(Rf1\u002BRf2\u002B...\u002BRfn) although I haven\u0027t actually verified that\u003C/p\u003E\u003Cp\u003Etl/dr: Aside from it\u0027s use in the rocket equation, Isp can be readily converted to exhaust velocity by multiplying by 9.81. This exhaust velocity is convertible to thrust when the mass flow rate is given or mass flow rate when the thrust is given. \u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#008000;\u0022\u003E*not exactly, but it\u0027s proportional and that\u0027s what matters\u003C/span\u003E\u003C/span\u003E\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-26T18:35:38Z\u0022 title=\u002209/26/2015 06:35  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 26, 2015\u003C/time\u003E by GoSlash27\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-09-26T18:30:24Z","Content":"\n\u003Cp\u003EI certainly agree that it can be calculated from mass flow rates, but it is incorrect to call it a mass flow rate-weighted average of the Isps. \u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EWe\u0027re pretty far into the weeds now.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-26T18:46:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI certainly agree that it can be calculated from mass flow rates, but it is incorrect to call it a mass flow rate-weighted average of the Isps. \u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EWe\u0027re pretty far into the weeds now.\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERIC,\u003C/p\u003E\u003Cp\u003E Oh, sure it would be. Engine A consumes yada percentage of the fuel at such-and-such an Isp. Engine b consumes yada percentage of the fuel at such-and-such an Isp. Therefore the combined Isp is weighted proportionally. \u003C/p\u003E\u003Cp\u003E This is actually what you\u0027re doing when you weight by F/Isp. \u003C/p\u003E\u003Cp\u003E And yeah... definitely in the weeds. My point was just that either description would be technically correct, so Pincushion\u0027s speculation is accurate although we think of it as weighting by thrust. And of course reconstituting mass flow rate by Isp and thrust is convenient because those figures are more readily available.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-09-26T18:59:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EDoesn\u0027t work out that way for me. I tried it with a 4xLV-909 \u002B 1xLV-N cluster, thrust weighting gives ~389s while mass flow weighting gives ~365s.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIndeed, this is the cause of KER showing wrong ISP values for multi-engine setups, it uses mass flow rates and gets the wrong answers. The trouble is that the mass flow rate for each engine is also inversely proportional to the Isp of the individual engine which alters the weighting. I\u0027m currently fixing this in KER but it\u0027s also complicated by the need to account for the individual thrust vectors of the engines. E.g. if you have an LV-N pointing up and 4 909s pointing sideways (so they balance out and are just wasting fuel) then the effective Isp is much lower than if they were all pointing in the same direction.\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2015-09-26T20:56:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pincushionman\u0022 data-cite=\u0022pincushionman\u0022\u003E\u003Cdiv\u003EAnd if you have different engines, it will be a weighted average. Weighted by \u003Cem\u003Ewhat,\u003C/em\u003E I don\u0027t know off the top of my head. Probably mass flow rate.\u003C/div\u003E\u003C/blockquote\u003EThrust weighted. Like so (F is thrust):\u003Cp\u003E\u003Cimg src=\u0022http://wiki.kerbalspaceprogram.com/images/math/5/6/4/5649bb43490708471f734294d36eb565.png\u0022 alt=\u00225649bb43490708471f734294d36eb565.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it is more correct to say it is mass flow rate weighted. That is,\u003C/p\u003E\u003Cp\u003EI\u003Csub\u003Esp\u003C/sub\u003E = (\u00C3\u00A1\u00C2\u00B9\u00C2\u003Csub\u003E1\u003C/sub\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E\u00C3\u00A2\u00CB\u2020\u00E2\u201E\u00A2\u003C/span\u003E\u003C/span\u003EI\u003Csub\u003Esp1\u003C/sub\u003E \u002B \u00C3\u00A1\u00C2\u00B9\u00C2\u003Csub\u003E2\u003C/sub\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E\u00C3\u00A2\u00CB\u2020\u00E2\u201E\u00A2\u003C/span\u003E\u003C/span\u003EI\u003Csub\u003Esp2\u003C/sub\u003E \u002B ...) / (\u00C3\u00A1\u00C2\u00B9\u00C2\u003Csub\u003E1\u003C/sub\u003E \u002B \u00C3\u00A1\u00C2\u00B9\u00C2\u003Csub\u003E2\u003C/sub\u003E \u002B ...)\u003C/p\u003E\u003Cp\u003ENote that \u00C3\u00A1\u00C2\u00B9\u00C2 = F\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E/(\u003C/span\u003E\u003C/span\u003Eg\u003Csub\u003Eo\u003C/sub\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E\u00C3\u00A2\u00CB\u2020\u00E2\u201E\u00A2\u003C/span\u003E\u003C/span\u003EI\u003Csub\u003Esp\u003C/sub\u003E). Therefore, by substituting F\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E/(\u003C/span\u003E\u003C/span\u003Eg\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003Eo\u003C/sub\u003E\u003C/span\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E\u00C3\u00A2\u00CB\u2020\u00E2\u201E\u00A2\u003C/span\u003E\u003C/span\u003EI\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003Esp\u003C/sub\u003E\u003C/span\u003E) for \u00C3\u00A1\u00C2\u00B9\u00C2 and multiplying through by g\u003Csub\u003Eo\u003C/sub\u003E, we get\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://wiki.kerbalspaceprogram.com/images/math/5/6/4/5649bb43490708471f734294d36eb565.png\u0022 alt=\u00225649bb43490708471f734294d36eb565.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI certainly agree that it can be calculated from mass flow rates, but it is incorrect to call it a mass flow rate-weighted average of the Isps.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA thrust weighted average would be,\u003C/p\u003E\u003Cp\u003EI\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003Esp\u003C/sub\u003E\u003C/span\u003E = (F\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003E1\u003C/sub\u003E\u003C/span\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E\u00C3\u00A2\u00CB\u2020\u00E2\u201E\u00A2\u003C/span\u003E\u003C/span\u003EI\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003Esp1\u003C/sub\u003E\u003C/span\u003E \u002B F\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003E2\u003C/sub\u003E\u003C/span\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:Calibri;\u0022\u003E\u00C3\u00A2\u00CB\u2020\u00E2\u201E\u00A2\u003C/span\u003E\u003C/span\u003EI\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003Esp2\u003C/sub\u003E\u003C/span\u003E \u002B ...) / (F\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003E1\u003C/sub\u003E\u003C/span\u003E \u002B F\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Csub\u003E2\u003C/sub\u003E\u003C/span\u003E \u002B ...)\u003C/p\u003E\u003Cp\u003Ewhich is incorrect. I think \u0022mass flow rate-weighted average\u0022 is the correct way to say it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-26T21:01:18Z\u0022 title=\u002209/26/2015 09:01  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 26, 2015\u003C/time\u003E by OhioBob\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-09-26T21:11:28Z","Content":"\n\u003Cp\u003EI realized my mistake while thinking about it on the drive home today. It was the substitution of \u00C3\u00A1\u00C2\u00B9\u00C2*Isp for F that was throwing me, as well as the omission of g (though since that is applied to all terms on both top and bottom of the fraction it can be factored out). \u003C/p\u003E\u003Cp\u003EApologies Slashy and thanks for the correction (and your well-illustrated one, too, OhioBob).\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-26T21:15:43Z","Content":"\n\u003Cp\u003ERIC,\u003C/p\u003E\u003Cp\u003E Certainly no apology needed. I was the one who wandered off into the weeds and I think this gave me some food for thought on a problem I\u0027ve been wrestling with.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2015-09-26T21:42:44Z","Content":"\n\u003Cp\u003EIt\u0027s easy to make mistakes when working with these kinds of problems. I\u0027ve often seen people incorrectly compute Isp using a thrust-weighted average (I think I made the same mistake the first time I did it). A similar mistake often occurs when computing average densities. For example, what is the density of a solution containing of 1 kg water (specific gravity = 1) and 1 kg of ethanol (specific gravity = 0.789)? How about 1 liter of water and 1 liter of ethanol?\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-09-27T00:04:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EIndeed, this is the cause of KER showing wrong ISP values for multi-engine setups, it uses mass flow rates and gets the wrong answers. The trouble is that the mass flow rate for each engine is also inversely proportional to the Isp of the individual engine which alters the weighting. I\u0027m currently fixing this in KER but it\u0027s also complicated by the need to account for the individual thrust vectors of the engines. E.g. if you have an LV-N pointing up and 4 909s pointing sideways (so they balance out and are just wasting fuel) then the effective Isp is much lower than if they were all pointing in the same direction.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually KER uses the correct mass flow rate weighting and is generating the correct values. I believe the reports of this problem are seeing the effects of the engines with different ISPs burning out a different times during the stage which results in a different effective Isp for the stage as a whole. E.g. in the case of the LV-N and 4 909s, if the 909s burn out before the LV-N then the effective Isp will be higher than the 389s given by the weighting.\u003C/p\u003E\n"}]}