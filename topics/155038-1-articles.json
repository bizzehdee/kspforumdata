{"TopicId":155038,"ForumId":29,"TopicTitle":"1.2 - How do I do the equivalent of vessel.GetResource(\u0026quot;ElectricCharge\u0026quot;) now?","CreatedByName":"genericeventhandler","CreatedById":149557,"CreatedDateTime":"2017-01-15T14:37:45Z","PageNum":1,"Articles":[{"CreatedByName":"genericeventhandler","CreatedById":149557,"CreatedDateTime":"2017-01-15T14:37:45Z","Content":"\n\u003Cp\u003E\nI\u0027m updating some code from 1.1.3 to 1.2 and I have a compile error on\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nvar vessel = FlightGlobals.ActiveVessel;\n\u003C/p\u003E\n\u003Cp\u003E\nvar ec = vessel.GetResource(\u0022ElectricCharge\u0022); // Compile error\n\u003C/p\u003E\n\u003Cp\u003E\nHow do I do this with the new resource management?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nGEH\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-01-16T19:53:34Z","Content":"\n\u003Cp\u003E\nI didn\u0027t use this in earlier versions of KSP, so maybe if you could explain what you are looking to achieve with the code. Are you requesting some of the resources, or are you getting the definition, or the amount available?\n\u003C/p\u003E\n"},{"CreatedByName":"genericeventhandler","CreatedById":149557,"CreatedDateTime":"2017-01-16T19:55:33Z","Content":"\n\u003Cp\u003E\ncurrent amount and max amount of a resource by name.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-01-16T20:00:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222924015\u0022 data-ipsquote-contentid=\u0022155038\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484596533\u0022 data-ipsquote-userid=\u0022149557\u0022 data-ipsquote-username=\u0022genericeventhandler\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, genericeventhandler said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ncurrent amount and max amount of a resource by name.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs far as I can read in the object browser, we now have\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Evessel.resourcePartSet.GetConnectedResourceTotals(int id, out double amount, out double maxAmount, [bool pulling = True])\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThat should yield the figures you are looking for. You need the id though, which I think you need to retrieve from the partresourcelibrary\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPartResourceLibrary.Instance.GetDefinition(\u0022resourceNAME\u0022).id\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"genericeventhandler","CreatedById":149557,"CreatedDateTime":"2017-01-16T20:06:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222924024\u0022 data-ipsquote-contentid=\u0022155038\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484596839\u0022 data-ipsquote-userid=\u0022145377\u0022 data-ipsquote-username=\u0022Warezcrawler\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Warezcrawler said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs far as I can read in the object browser, we now have\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Evessel.resourcePartSet.GetConnectedResourceTotals(int id, out double amount, out double maxAmount, [bool pulling = True])\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThat should yield the figures you are looking for. You need the id though, which I think you need to retrieve from the partresourcelibrary\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EPartResourceLibrary.Instance.GetDefinition(\u0022resourceNAME\u0022).id\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks, the get definition was what I was missing. \u00A0I\u0027ll write an helper function for it.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-01-16T20:07:30Z","Content":"\n\u003Cp\u003E\nyou are welcome.... I looked for long before finding the GetDefinition as well..... Good luck.\n\u003C/p\u003E\n"}]}