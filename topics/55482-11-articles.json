{"TopicId":55482,"ForumId":34,"TopicTitle":"Optional MechJeb Modules for FAR, NEAR \u0026amp; km_Gimbal 2/3 (July 16)","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-12-07T19:02:36Z","PageNum":11,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-11-25T19:18:37Z","Content":"\n\u003Cp\u003EI fixed the \u0022breaks due to the new version number\u0022 (Also called \u003Ca href=\u0022https://github.com/sarbian/MechJebFARExt/commit/b90989b0e954610aae9050a1494abce4d5dcb35f\u0022 rel=\u0022external nofollow\u0022\u003Erewrite half the code\u003C/a\u003E) and MechJebFARExt should now work for FAR v0.14.4\u003C/p\u003E\u003Cp\u003EI found and fixed a big bug too.\u003C/p\u003E\u003Cp\u003EMechJebNEARExt needs some love but I can\u0027t do more today.\u003C/p\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-11-25T19:24:53Z","Content":"\n\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_ohmy.png\u0022 alt=\u0022:o\u0022\u003E Mother of god. Well on the bright side at least more was pulled than added? Congrats on the release though; I use the hell out of these plugins \u0026lt;3\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-11-25T21:43:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI fixed the \u0022breaks due to the new version number\u0022 (Also called \u003Ca href=\u0022https://github.com/sarbian/MechJebFARExt/commit/b90989b0e954610aae9050a1494abce4d5dcb35f\u0022 rel=\u0022external nofollow\u0022\u003Erewrite half the code\u003C/a\u003E) and MechJebFARExt should now work for FAR v0.14.4\u003Cp\u003EI found and fixed a big bug too.\u003C/p\u003E\u003Cp\u003EMechJebNEARExt needs some love but I can\u0027t do more today.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks.\u003C/p\u003E\u003Cp\u003ELoving the new Surface Smart ASS modes, by the way. The horizontal velocity is very handy for VTOL flight and zero-atmosphere horizontal landings.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-25T22:06:12Z","Content":"\n\u003Cp\u003ESarbian, I apologize for my previous post. It was not meant to motivate, but more to express displeasure at not being able to use the latest FAR. I remember a time back in 0.23.5 when the MJ RPM plugin needed to be recompiled each time MJ\u0027s version number changed, and it couldn\u0027t be used with dev builds. For whatever reason, I thought the solution would be simple and quick to implement.\u003C/p\u003E\u003Cp\u003EThank you for your hard work and continued development of these plugins.\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2014-12-01T09:28:34Z","Content":"\n\u003Cp\u003EQuestion. Why isn\u0027t this integrated in MechJeb by default?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-12-01T11:56:56Z","Content":"\n\u003Cp\u003E1. It adds hard dependency on FAR/NEAR/KM_Gimbals \u003C/p\u003E\u003Cp\u003E2. I don\u0027t control MJ build server but I control mine, and it does make things easier for me.\u003C/p\u003E\n"},{"CreatedByName":"MainSailor","CreatedById":74050,"CreatedDateTime":"2014-12-01T12:09:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI fixed the \u0022breaks due to the new version number\u0022 (Also called \u003Ca href=\u0022https://github.com/sarbian/MechJebFARExt/commit/b90989b0e954610aae9050a1494abce4d5dcb35f\u0022 rel=\u0022external nofollow\u0022\u003Erewrite half the code\u003C/a\u003E) \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know coding but I know what it\u0027s like to replace half of the work you\u0027ve done, and I salute you sir. You do great work and are a pillar of the KSP modding community.\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-12-17T18:45:08Z","Content":"\n\u003Cp\u003EAnyone test compatability with 0.90 and FAR 14.5?\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-12-17T18:49:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ruedii\u0022 data-cite=\u0022Ruedii\u0022\u003E\u003Cdiv\u003EAnyone test compatability with 0.90 and FAR 14.5?\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThis version is compiled for FAR v0.14.3.2\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPretty sure it won\u0027t work.\u003C/p\u003E\n"},{"CreatedByName":"acc","CreatedById":80018,"CreatedDateTime":"2014-12-18T01:31:26Z","Content":"\n\u003Cp\u003Enope, FAR plugin drops NREs\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-12-19T21:57:28Z","Content":"\n\u003Cp\u003EIppo yep, seems it\u0027s not working right now. There were some changes in FAR (again), and it may need a little more than a recompile (again).\u003C/p\u003E\u003Cp\u003ESometimes build versions aren\u0027t a issue sometimes they are. After all mono libraries are dynamically linked, so only if there are actual changes in the API do they need to change such libraries. Sadly, this is often the case.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-12-21T19:14:05Z","Content":"\n\u003Cp\u003EBoth FAR and NEAR ext are updated.\u003C/p\u003E\n"},{"CreatedByName":"King Arthur","CreatedById":73849,"CreatedDateTime":"2014-12-22T01:44:13Z","Content":"\n\u003Cp\u003EMy apologies for asking this Sarbian, but you\u0027d be the most knowledgable about this than anyone else. Is the km_gimbal extension still compatible with the update to km_gimbal and the SSE pack that you pushed out just a while ago?\u003C/p\u003E\u003Cp\u003EMany thanks for maintaining all these mods, gratitude cannot be adequately stated in mere words. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-12-22T10:56:17Z","Content":"\n\u003Cp\u003ENo, it will need an update. I\u0027ll most likely keep the current one (needed bu the current B9) and add an other for the renamed module I now maintain for SSE. Hopefully B0 will switch to the new one.\u003C/p\u003E\n"},{"CreatedByName":"spookydonut","CreatedById":10744,"CreatedDateTime":"2014-12-22T11:22:15Z","Content":"\n\u003Cp\u003EWill these extensions ever properly model atmospheric drag for landing like mechjeb does for the stock aero model?\u003C/p\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2014-12-22T11:55:33Z","Content":"\n\u003Cp\u003EFAR fix updated? Oh Sarbian, you are the man.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-12-22T11:59:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022spookydonut\u0022 data-cite=\u0022spookydonut\u0022\u003E\u003Cdiv\u003EWill these extensions ever properly model atmospheric drag for landing like mechjeb does for the stock aero model?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen I get the time to do it...\u003C/p\u003E\n"},{"CreatedByName":"hab136","CreatedById":75997,"CreatedDateTime":"2014-12-29T12:24:38Z","Content":"\n\u003Cp\u003EIt seems like \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/104694\u0022 rel=\u0022external nofollow\u0022\u003ETrajectories\u003C/a\u003E has already solved FAR landing predictions, and has an API. Alternatively, it\u0027s MIT-licensed, which is GPL-compatible, so you can just borrow from the code.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-12-29T12:30:32Z","Content":"\n\u003Cp\u003EYouens was OK with me using the code before he made it MIT. As I stated before I need time to do it and right now free time to code is not something I have. Doing it require adding an abstraction layer to MJ landing sim code and that is time consuming.\u003C/p\u003E\u003Cp\u003EFurthermore I hurt my back this morning so I\u0027ll most likely spend most of the week in bed, and not the the fun kind of \u0022in bed\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Errol","CreatedById":118622,"CreatedDateTime":"2014-12-31T16:42:47Z","Content":"\n\u003Cp\u003EI seem to be having some weird phantom control issues while using this with FAR and MJ. At first I thought MJ was broken because SASS just wouldn\u0027t work. I just noticed that my craft is actually recieving control input all the time, as if it has SAS with a pilot on board all the time, until I can activate and de-activate SAS. The same is true even if SAS isn\u0027t available on the vessel, such as a vessel with only a stayputnik probe core. I posted in the MJ thread about it, and here\u0027s what someone had to say about my log (\u003Ca href=\u0022https://www.dropbox.com/s/uv5vulnwdgtr433/mjbug.txt?dl=0):\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/uv5vulnwdgtr433/mjbug.txt?dl=0):\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EYou\u0027re getting a lot of errors from MechJebFARExt.dll (Sarbian\u0027s FAR extensions for MJ)\u003Cp\u003EAn error at just the wrong time could prevent other functions from being called.\u003C/p\u003E\u003Cp\u003ENot sure how your new observations fit into this... \u003C/p\u003E\u003Cp\u003EBut what I suggest is removing the FAR Extensions and seeing if the problem persists. Or see if there\u0027s an updated version of it.\u003C/p\u003E\u003Cp\u003ESomething else I noticed was a lot of RT errors, but that\u0027s a discussion for their thread. I enclose the error below: (the log said it was version 1.5 but there was an AVC log entry indicating it downloaded 1.5.2)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at kOS.SteeringHelper.GetThrustTorque (.Part p, .Vessel vessel) [0x00000] in \u0026lt;filename unknown\u0026gt;:0   at kOS.SteeringHelper.GetTorque (.Vessel vessel, Single thrust) [0x00000] in \u0026lt;filename unknown\u0026gt;:0   at RemoteTech.FlightComputer.updatePIDParameters () [0x00000] in \u0026lt;filename unknown\u0026gt;:0   at RemoteTech.FlightComputer.OnFixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0   at RemoteTech.ModuleSPU.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, coles notes of what I shared over there was that when I get the bug my vessel still responds to my control input. It\u0027s just that MJ\u0027s SASS appears to be unable to fully utilize the reaction wheel torque and my vessel simply bobbles on the spot. Same with RCS turned on. It\u0027s not a craft design issue; these craft work in one instance, then not in the next. At first I thought the bug only occurred when jumping into a vessel as opposed to loading and launching it, but it appears at least somewhat more randomly then that. I am using updated FAR, DRE, RT, MJ and this, as well as the USI suite and a few other convenience/LS/part mods. I have posted about these errors in the RT thread as well.\u003C/p\u003E\u003Cp\u003EEDIT: Is this still only supposed to work with the dev version of mechjeb?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-31T16:49:57Z\u0022 title=\u002212/31/2014 04:49  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 31, 2014\u003C/time\u003E by Errol\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"aradapilot","CreatedById":88559,"CreatedDateTime":"2015-01-02T23:51:35Z","Content":"\n\u003Cp\u003Esarbian: can you add these as extensions to mechjeb in ckan once the .90 builds are confirmed stable?\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-01-05T10:59:16Z","Content":"\n\u003Cp\u003ECan you do one for Stock Drag Fix?\u003C/p\u003E\u003Cp\u003EWhat I\u0027ve noticed with SDF and Landing Guidance is MechJeb tends to under-burn on the initial deorbit, then it has to make a fairly large correction, often it overcorrects and has to make more correction burns. I\u0027ve had it make so many correction burns (usually with larger, slower turning rockets) that it overshoots KSC and either lands or \u0022lawn darts\u0022 into the ocean. SDF has such an effect on landing guidance that with a quick turning craft it can precisely miss the VAB and land in front of it on the pad side every time. Pad landing attempts with SDF tend to end up at the bottom end of the ramp toward the VAB.\u003C/p\u003E\u003Cp\u003EAll SDF is doing is removing fuel/oxidizer mass from the stock drag calculations, but it seems to confuse Landing Guidance because the rockets don\u0027t have as much drag as they\u0027re supposed to with stock aero. (Though they have as much drag as they \u0022should have\u0022 since fuel inside a tank has no bearing on how much friction their is with the air outside the tank.)\u003C/p\u003E\u003Cp\u003EThere\u0027s not a real problem with Ascent Guidance, rockets use less fuel with SDF, though I\u0027ve had some rockets where terminal velocity is hit (the text turns green) but it\u0027s not throttling back and I get the red heat effects. Probably would use even less fuel if it would throttle back at TV with SDF.\u003C/p\u003E\u003Cp\u003EOn bodies without atmosphere, SDF does nothing.\u003C/p\u003E\n"},{"CreatedByName":"mecki","CreatedById":116929,"CreatedDateTime":"2015-01-05T11:36:53Z","Content":"\n\u003Cp\u003EIt would be great if this was also available via CKAN!\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-01-05T11:42:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003ECan you do one for Stock Drag Fix?\u003Cp\u003EWhat I\u0027ve noticed with SDF and Landing Guidance is MechJeb tends to under-burn on the initial deorbit, then it has to make a fairly large correction, often it overcorrects and has to make more correction burns. I\u0027ve had it make so many correction burns (usually with larger, slower turning rockets) that it overshoots KSC and either lands or \u0022lawn darts\u0022 into the ocean. SDF has such an effect on landing guidance that with a quick turning craft it can precisely miss the VAB and land in front of it on the pad side every time. Pad landing attempts with SDF tend to end up at the bottom end of the ramp toward the VAB.\u003C/p\u003E\u003Cp\u003EAll SDF is doing is removing fuel/oxidizer mass from the stock drag calculations, but it seems to confuse Landing Guidance because the rockets don\u0027t have as much drag as they\u0027re supposed to with stock aero. (Though they have as much drag as they \u0022should have\u0022 since fuel inside a tank has no bearing on how much friction their is with the air outside the tank.)\u003C/p\u003E\u003Cp\u003EThere\u0027s not a real problem with Ascent Guidance, rockets use less fuel with SDF, though I\u0027ve had some rockets where terminal velocity is hit (the text turns green) but it\u0027s not throttling back and I get the red heat effects. Probably would use even less fuel if it would throttle back at TV with SDF.\u003C/p\u003E\u003Cp\u003EOn bodies without atmosphere, SDF does nothing.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny inaccuracy is going to be due to resource consumption which will render earlier predictions invalid. You\u0027re not taking into account inertia. Less fuel means drag has more impact on the craft.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-05T12:46:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mecki\u0022 data-cite=\u0022mecki\u0022\u003E\u003Cdiv\u003EIt would be great if this was also available via CKAN!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will but not before I automate the build process properly.\u003C/p\u003E\n"}]}