{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":381,"Articles":[{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2021-07-08T07:46:50Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, OrbitalManeuvers said:\n\u003E \n\u003E \n\u003E Is this an AA problem?\n\u003E \n\nYes, it is. What I did on my end as a compromise is totally disabled the included AA from Scatterer so it\u0027s not \u0022disassembling\u0022 thin objects anymore and enabled the postprocessing FXAA from KS3P. Sometimes it makes supersampled pictures a little bit blurry, but I downscale them anyways, so that\u0027s not a problem. Look at the antennas on top.   \n  \n![MRywsoB.jpg](https://i.imgur.com/MRywsoB.jpg)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-07-08T09:28:56Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, OrbitalManeuvers said:\n\u003E \n\u003E \n\u003E First - thank you for answering, and for scatterer in general!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Maybe there\u0027s a nit here ... if you use Highest, the KSP settings still says 8x. So when you go to projector mode, KSP shows 8x, but it\u0027s actually off. So I had to go to 4, then back to 8, then save. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So projector mode totally solves the previously pictured AA issue for me.  I have KSP capped at 60fps, and I have 60fps on the pad with this setting. I don\u0027t know what scattering the scattered scatters does or what else I\u0027m giving up, but this allows me to film on the ground, and if I am missing anything I\u0027ll turn it back on for other shots. This is a fine workaround/workflow for me.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I do have an additional observation after lots of testing:\n\u003E \n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E When you compare the red against the red, you\u0027re like \u0022Yup, that\u0027s AA\u0022 \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E When you compare the green against the green you go \u0022hmmm...\u0022  Idk what this means, if anything - it\u0027s just how my system looks.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![jS2RaFk.png](https://i.imgur.com/jS2RaFk.png)](https://i.imgur.com/jS2RaFk.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Better view of the distances...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![LCGvqmA.png](https://i.imgur.com/LCGvqmA.png)](https://i.imgur.com/LCGvqmA.png \u0022Enlarge image\u0022)\n\u003E \n\nWhat you see here is the difference between real AA, that takes multiple samples, actually adding information to the scene, and post-processing AA that just smoothes over aliased edges.\n\nFor the red one, the geometry is well present, so smoothing the edges goes well. For the green one, there isn\u0027t enough information to work with in the base image, that\u0027s where MSAA\u0027s additional samples add detail, and can actually resolve the thin geometry.\n\nFor what you\u0027re giving up with projector mode though check this post: [https://forum.kerbalspaceprogram.com/index.php?/topic/103963-wip19-112-scatterer-atmospheric-scattering-00772-18062021/\u0026do=findComment\u0026comment=3908432](https://forum.kerbalspaceprogram.com/index.php?/topic/103963-wip19-112-scatterer-atmospheric-scattering-00772-18062021/\u0026do=findComment\u0026comment=3908432)\n\n**Edited \u003Ctime datetime=\u00222021-07-08T12:09:23Z\u0022 title=\u002207/08/2021 12:09  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 8, 2021\u003C/time\u003E by blackrack**"},{"CreatedByName":"Dominiquini","CreatedById":110408,"CreatedDateTime":"2021-07-09T02:09:26Z","Content":"\u003E \n\u003E \n\u003E 22 hours ago, Dominiquini said:\n\u003E \n\u003E \n\u003E I\u0027m seeing some exceptions when I enter \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E or \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E. Also when I exit the game:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP.log: [https://www.dropbox.com/s/df5meot2fxx68cr/KSP(Scatterer).log?dl=0](https://www.dropbox.com/s/df5meot2fxx68cr/KSP%28Scatterer%29.log?dl=0)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Player.log: [https://www.dropbox.com/s/3awf6o82vzp4y88/Player(Scatterer).log?dl=0](https://www.dropbox.com/s/3awf6o82vzp4y88/Player%28Scatterer%29.log?dl=0)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks.\n\u003E \n\nI also get a warning message when I change scene from \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E and TrackStation: \n\n    RenderTexture.Create failed: width \u0026 height must be larger than 0\n    Graphics.CopyTexture destination render texture could not be created.\n\nKSP.log: [https://www.dropbox.com/s/stj4cufdlnn7ycs/KSP(Scatterer_WRN).log?dl=0](https://www.dropbox.com/s/stj4cufdlnn7ycs/KSP%28Scatterer_WRN%29.log?dl=0)\n\nPlayer.log:  [https://www.dropbox.com/s/q0f9pb9fcqblfj6/Player(Scatterer_WRN).log?dl=0](https://www.dropbox.com/s/q0f9pb9fcqblfj6/Player%28Scatterer_WRN%29.log?dl=0)\n\nThanks."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-07-09T14:59:05Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, Dominiquini said:\n\u003E \n\u003E \n\u003E I also get a warning message when I change scene from \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003E\u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E\u003C/abbr\u003E and TrackStation: \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     RenderTexture.Create failed: width \u0026 height must be larger than 0\n\u003E     Graphics.CopyTexture destination render texture could not be created.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP.log: [https://www.dropbox.com/s/stj4cufdlnn7ycs/KSP(Scatterer_WRN).log?dl=0](https://www.dropbox.com/s/stj4cufdlnn7ycs/KSP%28Scatterer_WRN%29.log?dl=0)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Player.log:  [https://www.dropbox.com/s/q0f9pb9fcqblfj6/Player(Scatterer_WRN).log?dl=0](https://www.dropbox.com/s/q0f9pb9fcqblfj6/Player%28Scatterer_WRN%29.log?dl=0)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks.\n\u003E \n\nI don\u0027t really investigate exceptions or warnings unless you identify an in-game issue."},{"CreatedByName":"Dominiquini","CreatedById":110408,"CreatedDateTime":"2021-07-09T17:23:29Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E I don\u0027t really investigate exceptions or warnings unless you identify an in-game issue.\n\u003E \n\nI\u0027m new to the game, so I don\u0027t know if it had an impact on the game or just an exception!\n\nThanks."},{"CreatedByName":"SpaceODY","CreatedById":211821,"CreatedDateTime":"2021-07-11T01:03:33Z","Content":"I am noticing an issue with the anti aliasing not saving at x8 in settings with scatterer. Whenever i switch a scene when i already set it to 8 it acts like it was off. I noticed some anti aliasing in the scatterer config and I don\u0027t know if i need to change something there or not.  \n\nEDIT: Looked into it more, found out why. Not a problem for me now.\n\n**Edited \u003Ctime datetime=\u00222021-07-11T01:13:40Z\u0022 title=\u002207/11/2021 01:13  AM\u0022 data-short=\u00223 yr\u0022\u003EJuly 11, 2021\u003C/time\u003E by SpaceODY**"},{"CreatedByName":"Diddly Feelerino","CreatedById":116824,"CreatedDateTime":"2021-07-11T23:15:43Z","Content":"Question; I\u0027m trying to get my sunflare working but no matter what, the stock \u0022sun\u0022 seems to shine through the sunflare everytime. I think scatterer is the culprit?  \n\nPic for proof;\n\n[https://ibb.co/MV3V1nb](https://ibb.co/MV3V1nb)  \n\nPS - Should note that I\u0027m trying to use another sunflare over Scatterer; yet with the default Scatterer sunflare the issue persists.\n\n**Edited \u003Ctime datetime=\u00222021-07-11T23:24:56Z\u0022 title=\u002207/11/2021 11:24  PM\u0022 data-short=\u00222 yr\u0022\u003EJuly 11, 2021\u003C/time\u003E by Diddly Feelerino**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-07-12T00:44:42Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Diddly Feelerino said:\n\u003E \n\u003E \n\u003E Question; I\u0027m trying to get my sunflare working but no matter what, the stock \u0022sun\u0022 seems to shine through the sunflare everytime. I think scatterer is the culprit?  \n\u003E   \n\u003E \n\u003E Pic for proof;\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://ibb.co/MV3V1nb](https://ibb.co/MV3V1nb)  \n\u003E   \n\u003E \n\u003E PS - Should note that I\u0027m trying to use another sunflare over Scatterer; yet with the default Scatterer sunflare the issue persists.\n\u003E \n\nI don\u0027t see anything wrong, but I\u0027m also on mobile so can\u0027t see super well. All I see is the stock corona (which is supposed to remain) \u002B the scatterer flare, can\u0027t ser the stock flare."},{"CreatedByName":"Diddly Feelerino","CreatedById":116824,"CreatedDateTime":"2021-07-12T01:21:29Z","Content":"Should clarify; older iterations showed a clear flare over the stock sun (rather than it being front and centre); for example from JadeofMaars mod;  \n\nhttps://imgur.com/2U1t1nO  \n\nAlready tried setting syntax =1 or deleting the line entirely but the central stock sun still ruins the flare. Almost as if it is in \u0022front\u0022 of the flare rather than behind it....."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-07-14T01:20:05Z","Content":"\u003E \n\u003E \n\u003E On 7/12/2021 at 3:21 AM, Diddly Feelerino said:\n\u003E \n\u003E \n\u003E Should clarify; older iterations showed a clear flare over the stock sun (rather than it being front and centre); for example from JadeofMaars mod;  \n\u003E   \n\u003E [https://imgur.com/2U1t1nO](https://imgur.com/2U1t1nO)  \n\u003E   \n\u003E \n\u003E Already tried setting syntax =1 or deleting the line entirely but the central stock sun still ruins the flare. Almost as if it is in \u0022front\u0022 of the flare rather than behind it.....\n\u003E \n\nThat\u0027s just a bigger flare"},{"CreatedByName":"MashAndBangers","CreatedById":202185,"CreatedDateTime":"2021-07-14T17:59:44Z","Content":"\u003E \n\u003E \n\u003E On 7/10/2021 at 9:03 PM, SpaceODY said:\n\u003E \n\u003E \n\u003E EDIT: Looked into it more, found out why. Not a problem for me now.\n\u003E \n\nwhat was your solution?"},{"CreatedByName":"SpaceODY","CreatedById":211821,"CreatedDateTime":"2021-07-14T18:29:57Z","Content":"You can switch it from SMAA to another option for how it renders it. Though it does create new issues in different ways and is slower."},{"CreatedByName":"SolarShield","CreatedById":212116,"CreatedDateTime":"2021-07-17T06:11:42Z","Content":"[https://imgur.com/a/vMaRG9n](https://imgur.com/a/vMaRG9n)\n\nI noticed that the sunflare is shining through certain planets such as Kerbin where it changes color and not through others such as the mun or duna. What CFG would I need to edit to make it so the sunflare would not shine through any planets, thanks."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-07-17T15:15:21Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, SolarShield said:\n\u003E \n\u003E \n\u003E [https://imgur.com/a/vMaRG9n](https://imgur.com/a/vMaRG9n)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I noticed that the sunflare is shining through certain planets such as Kerbin where it changes color and not through others such as the mun or duna. What CFG would I need to edit to make it so the sunflare would not shine through any planets, thanks.\n\u003E \n\nDo you have Kopernicus installed? This is a Kopernicus issue."},{"CreatedByName":"SolarShield","CreatedById":212116,"CreatedDateTime":"2021-07-17T15:34:44Z","Content":"Ok, thank you, they fixed it in the most recent update, I had just assumed it was Scatterer."},{"CreatedByName":"Natokerbal","CreatedById":171505,"CreatedDateTime":"2021-07-17T22:19:58Z","Content":"I\u0027ve set the quality preset to very high but godrays still don\u0027t show up I\u0027ve even restarted my game and they are missing\n\nEdit: It just fixed itself randomly lol\n\n**Edited \u003Ctime datetime=\u00222021-07-17T22:40:08Z\u0022 title=\u002207/17/2021 10:40  PM\u0022 data-short=\u00222 yr\u0022\u003EJuly 17, 2021\u003C/time\u003E by Natokerbal**"},{"CreatedByName":"wpetula","CreatedById":209905,"CreatedDateTime":"2021-07-18T14:45:05Z","Content":"**Question**: how do I generate custom atmosphere colors with Scatterer? None of the variables in the atmo.cfg seem to adjust color, and I can\u0027t figure out how to generate new scattering tables using the config tool. I read through the documentation and searched the forum, but I couldn\u0027t find an answer. Thanks!"},{"CreatedByName":"Neebel","CreatedById":208684,"CreatedDateTime":"2021-07-19T09:55:43Z","Content":"Quick question: Is there an option to lower the height of the waves? Only found out how to disable their interaction with crafts but that\u0027s not what I want."},{"CreatedByName":"AeroSky","CreatedById":207684,"CreatedDateTime":"2021-07-19T10:23:40Z","Content":"Is Scatterer already compatible with KSP 1.12?"},{"CreatedByName":"RyanRising","CreatedById":79932,"CreatedDateTime":"2021-07-20T02:35:47Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, AeroSky said:\n\u003E \n\u003E \n\u003E Is Scatterer already compatible with KSP 1.12?\n\u003E \n\nIf you read the thread title, you may find the answer is yes."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-07-22T10:01:21Z","Content":"Saw this posted today:\n\n![anticrep_herron.jpg](https://apod.nasa.gov/apod/image/0609/anticrep_herron.jpg)\n\nLooked familiar\n\n![5yyaxTf.png](https://i.imgur.com/5yyaxTf.png)\n\n\u003E \n\u003E \n\u003E On 7/19/2021 at 11:55 AM, Neebel said:\n\u003E \n\u003E \n\u003E Quick question: Is there an option to lower the height of the waves? Only found out how to disable their interaction with crafts but that\u0027s not what I want.\n\u003E \n\nIn the ocean tab, lower wind\\_speed and/or AMP\n\n\u003E \n\u003E \n\u003E On 7/18/2021 at 4:45 PM, wpetula said:\n\u003E \n\u003E \n\u003E **Question**: how do I generate custom atmosphere colors with Scatterer? None of the variables in the atmo.cfg seem to adjust color, and I can\u0027t figure out how to generate new scattering tables using the config tool. I read through the documentation and searched the forum, but I couldn\u0027t find an answer. Thanks!\n\u003E \n\nUse the config tool linked in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E, it\u0027s (partly) explained there\n\n**Edited \u003Ctime datetime=\u00222021-07-22T10:04:06Z\u0022 title=\u002207/22/2021 10:04  AM\u0022 data-short=\u00222 yr\u0022\u003EJuly 22, 2021\u003C/time\u003E by blackrack**"},{"CreatedByName":"wpetula","CreatedById":209905,"CreatedDateTime":"2021-07-22T14:24:22Z","Content":"![GGCwDqj.jpg](https://i.imgur.com/GGCwDqj.jpg)\n\nI\u0027m confused about the config tool. When I press Alt\u002Bf10 or f11, the config tool does not contain any of the variables nor the generate button seen in the image above. I can toggle post processing, save or load the atmosphere, etc, but I can\u0027t adjust atmosphere scattering or generate the scattering tables. I searched but found nothing. **How to I navigate to the part of the config tool shown in the image above? Thanks.**"},{"CreatedByName":"wpetula","CreatedById":209905,"CreatedDateTime":"2021-07-22T16:20:02Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, wpetula said:\n\u003E \n\u003E \n\u003E How to I navigate to the part of the config tool shown in the image above? Thanks.\n\u003E \n\nMy apologies! I just realized that the config tool is a separate download than Scatterer. Not sure how I missed that. ![:/](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png \u0022:/\u0022)"},{"CreatedByName":"wpetula","CreatedById":209905,"CreatedDateTime":"2021-07-22T18:58:58Z","Content":"Actually, one last thing. Should the config tool go into the GameData folder of KSP? Also, how do I call up the config tool? Thanks.\n\nUpdate: issue resolved.\n\n**Edited \u003Ctime datetime=\u00222021-07-22T19:11:31Z\u0022 title=\u002207/22/2021 07:11  PM\u0022 data-short=\u00222 yr\u0022\u003EJuly 22, 2021\u003C/time\u003E by wpetula**"},{"CreatedByName":"TheKSPBeginner","CreatedById":154786,"CreatedDateTime":"2021-07-27T15:25:29Z","Content":"\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E [AddonLoader]: Instantiating addon \u0027Scatterer\u0027 from assembly \u0027scatterer\u0027  \n\u003E \n\u003E    \n\u003E \n\u003E (Filename: C:\\buildslave\\unity\\build\\Runtime/Export/Debug/Debug.bindings.h Line: 35)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [Scatterer][Error] Destroying duplicate instance, check your install for duplicate scatterer folders, or nested GameData folders  \n\u003E \n\u003E    \n\u003E \n\u003E (Filename: C:\\buildslave\\unity\\build\\Runtime/Export/Debug/Debug.bindings.h Line: 35)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [Scatterer][Info] Version:0.0770  \n\u003E \n\u003E    \n\u003E \n\u003E (Filename: C:\\buildslave\\unity\\build\\Runtime/Export/Debug/Debug.bindings.h Line: 35)\n\u003E \n\nGame crashes whenever I try to launch a craft, I think this might have something to do with it"}]}