{"TopicId":113772,"ForumId":29,"TopicTitle":"Part heating rate","CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-22T23:24:01Z","PageNum":1,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-22T23:24:01Z","Content":"\n\u003Cp\u003EPatch notes have this to say about revisions to the thermal system\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EThermal:\u003Cbr\u003E* 1.0.3 features a revised thermal mechanic to better balance heating/cooling between pods and spaceplanes.\u003Cbr\u003E* Parts now have separate internal temperature and skin temperatures. \u003Cbr\u003E* Skin temperature is the temperature used for radiation and convection, as well as engine exhaust damage. \u003Cbr\u003E* Part internal temperature is increased by modules that generate heat and is used for part-part conduction. \u003Cbr\u003E* Part internal and skin temperature also conduct between each other.\u003Cbr\u003E* Solar panel efficiency is now calculated based on skin temperature.\u003Cbr\u003E* When in an atmosphere, there is a divide between the exposed (to convection) and unexposed skin temperatures.\u003Cbr\u003E* When not in an atmosphere, only one skin temperature is tracked; the two temperatures are unified on atmosphere exit.\u003Cbr\u003E* Radiative outflux and influx is tracked separately for exposed and unexposed areas of skin (since the shock temperature is much higher than ambient temperature).\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo how does each source of thermal energy (flux) affect internal temperature and skin temperature now?\u003C/p\u003E\u003Cp\u003EDebug menu has these values:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E(Skin/Internal) Temperature:\u003C/strong\u003E Temperature in Kelvin\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E(Skin/Internal) Thermal Mass:\u003C/strong\u003E Measure of how much energy it takes to increase temperature in kJ/K. Temperature * Thermal Mass is the thermal energy in the part in kJ\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EConductive Flux:\u003C/strong\u003E Thermal energy transfer rate from connected parts \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eand atmosphere\u003C/span\u003E via conduction. \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EHow is it split between internal temperature and skin temperature?\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EConvective Flux:\u003C/strong\u003E Thermal energy transfer rate from atmosphere via convection. Main source of vessel atmospheric/reentry heating, transfers only to skin?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERadiative Flux:\u003C/strong\u003E Thermal energy transfer rate via electromagnetic waves. Main source of vessel heating/cooling outside atmosphere. Transfer through exposed skin?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EInternal Flux:\u003C/strong\u003E Thermal energy generated or dissipated inside a part (eg. engines generate heat when burning fuel).\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESkinToInt Flux:\u003C/strong\u003E A constant that controls the transfer of energy between the skin and interior? How is it determined?\u003C/p\u003E\u003Cp\u003EFrom above information\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EInternal Heating Rate:\u003C/strong\u003E (ConductiveFlux \u002B InternalFlux \u002B SkinToIntFlux * (SkinTemp - InternalTemp)) / InternalThermalMass\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESkin Heating Rate\u003C/strong\u003E\u003Cstrong\u003E:\u003C/strong\u003E (ConvectiveFlux \u002B RadiativeFlux \u002B SkinToIntFlux * (InternalTemp - SkinTemp)) / SkinThermalMass\u003C/p\u003E\u003Cp\u003EThis doesn\u0027t match what\u0027s occurring in game though (I suspect a misunderstanding of the SkinToInternal Flux constant) and I can\u0027t get the debug menu information to match up for skin heating rate\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-23T00:01:19Z\u0022 title=\u002206/23/2015 12:01  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-22T23:38:59Z","Content":"\n\u003Cp\u003EThere\u0027s a bug in skinToIntFlux display, it doesn\u0027t have the temperature delta multiplied in.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-22T23:48:45Z","Content":"\n\u003Cp\u003EAs to the list, conduction is only for parts (and skins), not environment. Environment effects come via radiation (sun/body flux, background temperature) and via convection (air/water).\u003C/p\u003E\u003Cp\u003EConductive flux is internal-internal flux, and it and internal flux and skintoint flux are the only things that modify internal temperature; convection and radiation modify skin temperature (as does skin\u0026lt;-\u0026gt;skin conduction, which isn\u0027t listed, and pyrolysis flux from ablation).\u003C/p\u003E\u003Cp\u003ERadiation is black-body radiation. Total flux =\u003C/p\u003E\u003Cp\u003Eemissivity * (solar flux * solar flux area \u002B body flux * body flux area - sigma * area * (skin temp^4 - background temp^4))\u003C/p\u003E\u003Cp\u003ENote that the lack of multiplication by the temp delta only affects skintoint flux; the other fluxes are (AFAIK) correct, although as mentioned above skin to skin conduction isn\u0027t listed.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-23T00:15:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Eskin to skin conduction isn\u0027t listed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo there is internal \u0026lt;-\u0026gt; internal conductivity and skin \u0026lt;-\u0026gt; skin conductivity as separate effects (if so, how to get skin\u0026lt;-\u0026gt; skin flux?), or is skin\u0026lt;-\u0026gt;skin conductivity wrapped up in the conductive flux somehow?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAlso, how should skin -\u0026gt; int flux be calculated if it\u0027s borked? Is it just: (temp diff) * someFactor?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-23T06:14:16Z","Content":"\n\u003Cp\u003EThere are four conductions, actually\u003C/p\u003E\u003Cp\u003E1. internal-internal (different parts)\u003C/p\u003E\u003Cp\u003E2. internal-skin (same part)\u003C/p\u003E\u003Cp\u003E3. exposed_skin-unexposed_skin (same part) -- only when in atmosphere, when some skin is unexposed to convection.\u003C/p\u003E\u003Cp\u003E4. skin-skin (different parts) -- that one\u0027s tricky because when in an atmosphere, one or both parts might have a divide between exposed and unexposed skin, so there are really four cases.\u003C/p\u003E\u003Cp\u003ENote that when in space, all skin is treated as exposed. Skin temp displayed is the temp of the exposed skin.\u003C/p\u003E\u003Cp\u003Eskin-\u0026gt;int flux \u003Cstrong\u003Eis\u003C/strong\u003E the \u0022some factor\u0022 in your expression.\u003C/p\u003E\u003Cp\u003EConduction flux handles all part-part conduction, it looks like (I was wrong before, sorry), so it\u0027s the sum of 1 and 4. 3 is (skin temp - part temp) * displayed skinToInt, and the flux of 2 is not shown (or tracked), it\u0027s just done.\u003C/p\u003E\n"},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-23T07:36:19Z","Content":"\n\u003Cp\u003EAnybody knows if stock skin has mass-ratio/thickness parameter?\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-23T07:46:05Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EskinInternalConductionMult // default = 1.0\u003Cbr\u003EskinThermalMassModifier\u003Cbr\u003EskinSkinConductionMult // default = 1.0\u003Cbr\u003EskinMaxTemp // default = maxTemp\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eprobably valid in the .cfg\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-23T08:02:57Z\u0022 title=\u002206/23/2015 08:02  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-23T08:00:10Z","Content":"\n\u003Cp\u003EIsn\u0027t skinMassPerArea for fairings mass?\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-23T08:02:47Z","Content":"\n\u003Cp\u003EOops, so it is. I was just listing the variables out that were constants starting with skin and it slipped in... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-23T08:09:18Z","Content":"\n\u003Cp\u003EThe other look like from DRE. The only one actually present in stock is skinInternalConductionMult.\u003C/p\u003E\u003Cp\u003EIs there any official list for modders? I wonder if there is more stock parameters, but unused.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-23T08:11:58Z\u0022 title=\u002206/23/2015 08:11  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 23, 2015\u003C/time\u003E by Psycho_zs\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-23T21:24:45Z","Content":"\n\u003Cp\u003EskinMassPerArea is in fact correct, and defaults to 1kg / m^2 of area.\u003C/p\u003E\u003Cp\u003EAnything for fairings will be inside the ModuleProceduralFairing, not in the Part class.\u003C/p\u003E\u003Cp\u003EPsycho_zs: Crzyrndm\u0027s list is \u003Cem\u003Efrom stock\u0027s Part class\u003C/em\u003E. Just because a value isn\u0027t set in a stock cfg doesn\u0027t mean it\u0027s not a settable value.\u003C/p\u003E\n"},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-24T20:56:58Z","Content":"\n\u003Cp\u003EHas anybody divined the use of RadiatorHeadroom yet?\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-06-27T06:57:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Randazzo\u0022 data-cite=\u0022Randazzo\u0022\u003E\u003Cdiv\u003EHas anybody divined the use of RadiatorHeadroom yet?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was just looking into that myself. So far the only thing that came to mind was this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/EzPlotAwm8Y?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003ENot exactly the most meaningful of variable names \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-30T20:01:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EI was just looking into that myself. So far the only thing that came to mind was this:\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/EzPlotAwm8Y?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003ENot exactly the most meaningful of variable names \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it\u0027s one of two things (but could still be wrong, I haven\u0027t bothered testing it anymore since my computer fried):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ESets the maximum allowed percentage of the radiators own max temperature that it can fill via the internal flux of the stock radiator module.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAffects the sometimes drastic change in thermal mass that radiator panels experience when deployed.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOr maybe both.\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-09-14T12:46:16Z","Content":"\n\u003Cp\u003EI wonder why I cannot modify skinToInternalFlux parameter? Is it computed from other values?\u003C/p\u003E\u003Cp\u003EIn other words is there a way to reduce heat moving from skin to internal of the same part without using ModuleAblator (which has something similar but called differently -\u0026gt;reentryConductivity) ?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-09-14T16:44:03Z","Content":"\n\u003Cp\u003Eadd a line to the part\u0027s cfg\u003C/p\u003E\u003Cp\u003EskinInternalConductionMult = 0.5\u003C/p\u003E\u003Cp\u003Ethat will halve the rate of skin to internal flux. Change the 0.5 to whatever you want.\u003C/p\u003E\u003Cp\u003EModuleAblator won\u0027t change the rate at all.\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-09-14T16:59:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Eadd a line to the part\u0027s cfg\u003Cp\u003EskinInternalConductionMult = 0.5\u003C/p\u003E\u003Cp\u003Ethat will halve the rate of skin to internal flux. Change the 0.5 to whatever you want.\u003C/p\u003E\u003Cp\u003EModuleAblator won\u0027t change the rate at all.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Echeers, thx for help. I have tried setting skinInternalConductionMult to really low value. It\u0027s ok, however it acts weirdly - namely skin temperature is more or less constant however part\u0027s temperature jumps up and down like crazy. Maybe because my skinTermalMass is much higher than part\u0027s thermal mass (3x times or so). Also reducing that multiplier to less than 0.1 (0.001 0.0001) seems to not decrease conductivity further.\u003C/p\u003E\n"}]}