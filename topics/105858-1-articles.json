{"TopicId":105858,"ForumId":16,"TopicTitle":"Serious Bug in Convective Aerodynamic Heating?","CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-29T01:13:25Z","PageNum":1,"Articles":[{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-29T01:13:25Z","Content":"\n\u003Cp\u003ESo, i\u0027ve noticed that some of my craft appear to explode for no reason in 1.0, so i decided to debug a bit.\u003C/p\u003E\u003Cp\u003EI think i\u0027ve found the (a?) problem:\u003C/p\u003E\u003Cp\u003EWhen i look at the ram intake temperature, it is larger than air stream temperature, and yet, the convective flux is still positive-- why? \u003Cimg src=\u0022http://i.imgur.com/Rg01W6D.jpg\u0022 alt=\u0022Rg01W6D.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-01T02:50:32Z\u0022 title=\u002205/01/2015 02:50  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 1, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-04-29T03:04:47Z","Content":"\n\u003Cp\u003EThe airstream temperature is the temperature of air around your craft. The convective flux is the flux you suffer from ramming into the air. Not quite the same thing.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-29T03:31:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThe airstream temperature is the temperature of air around your craft. The convective flux is the flux you suffer from ramming into the air. Not quite the same thing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe temperature around the craft is the temperature the surrounding air is heated to due to isentropic compression (i.e. ramming into the air). If not, why is it so damn high?? (temperature in upper atmosphere is low, not high)\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAfter some studying, it appears convective flux is hyper-sensitive to attitude. Look at these two images taken just three seconds apart after changing attitude slightly:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/8B6vge7.jpg\u0022 alt=\u00228B6vge7.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd three seconds later:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/kqIF9JL.jpg\u0022 alt=\u0022kqIF9JL.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s an over 10x increase in convective flux...\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-04-29T07:26:19Z","Content":"\n\u003Cp\u003EIt appears to be applied based on frontal area, and also modified by occlusion (per the changelog), so if you\u0027re changing attitude, things may go in and out of occlusion.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-29T14:46:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EIt appears to be applied based on frontal area, and also modified by occlusion (per the changelog), so if you\u0027re changing attitude, things may go in and out of occlusion.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ebut that doesnt explain the 10x increase, does it?\u003C/p\u003E\n"},{"CreatedByName":"Rokmonkey","CreatedById":9319,"CreatedDateTime":"2015-04-29T18:57:45Z","Content":"\n\u003Cp\u003EDo you know off hand how it\u0027s being calculated. As far as the sign is concerned, it changes if it\u0027s Air-\u0026gt;Intake or Intake-\u0026gt;Air.\u003C/p\u003E\u003Cp\u003EAs well, your attitude with respect to your velocity vector is going to make a large difference, as that will change the local velocity of the air over the intake and since this is convection your heat transfer changes based on the fluid velocity.\u003C/p\u003E\n"},{"CreatedByName":"Windy_Skunk","CreatedById":142260,"CreatedDateTime":"2015-04-29T19:05:28Z","Content":"\n\u003Cp\u003EThere definitely seems to be something wrong with the convection equations.\u003C/p\u003E\u003Cp\u003EI turned off temperature damage and flew a plane at 1500 m/s and some parts got to nearly four times the temperature of the surface of the sun.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/1pte659.jpg\u0022 alt=\u00221pte659.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-30T00:43:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rokmonkey\u0022 data-cite=\u0022Rokmonkey\u0022\u003E\u003Cdiv\u003EDo you know off hand how it\u0027s being calculated. As far as the sign is concerned, it changes if it\u0027s Air-\u0026gt;Intake or Intake-\u0026gt;Air.\u003Cp\u003EAs well, your attitude with respect to your velocity vector is going to make a large difference, as that will change the local velocity of the air over the intake and since this is convection your heat transfer changes based on the fluid velocity.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt shouldnt matter which direction heat is going, the general form is the same-- it should still follow newton\u0027s law of cooling (at least as a first order approximation).\u003C/p\u003E\u003Cp\u003EThe angle difference in the picture is like 30 degrees. Can 30 degrees really increase convection 10x? There is barely any part shading, and i dont beleive KSP does any complicated calculations to change velocity based on part shape and attitude etc...\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Windy_Skunk\u0022 data-cite=\u0022Windy_Skunk\u0022\u003E\u003Cdiv\u003EThere definitely seems to be something wrong with the convection equations.\u003Cp\u003EI turned off temperature damage and flew a plane at 1500 m/s and some parts got to nearly four times the temperature of the surface of the sun.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/1pte659.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/1pte659.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethis is a good test. thanks!\u003C/p\u003E\u003Cp\u003EIt doesnt make sense that temperature can get so hot when outside air is so cold!?!?!?!?! There is clearly some bug/equation being used incorrectly.\u003C/p\u003E\n"},{"CreatedByName":"Hobbes Novakoff","CreatedById":129018,"CreatedDateTime":"2015-04-30T02:40:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EIt shouldnt matter which direction heat is going, the general form is the same-- it should still follow newton\u0027s law of cooling (at least as a first order approximation).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat the heck is Newton\u0027s Law of Cooling?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThe angle difference in the picture is like 30 degrees. Can 30 degrees really increase convection 10x? There is barely any part shading, and i dont beleive KSP does any complicated calculations to change velocity based on part shape and attitude etc...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, in fact, 30 degrees can cause those variations, because the part that was previously occluded by a heat shield is now in the airstream. And also, KSP does do those calculations, that was part of the aero update.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIt doesnt make sense that temperature can get so hot when outside air is so cold!?!?!?!?! There is clearly some bug/equation being used incorrectly.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaybe it\u0027s got something to do with that fact that that test was at about 0.95 atm, going at 1.5 thousand m/s (Or, to put some scale in there, 3.35 thousand miles per hour, or 5.4 thousand kilometers per hour.) You were going at near hypersonic velocities at very low altitude. That\u0027s going to make you heat up a LOT.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-30T02:54:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hobbes Novakoff\u0022 data-cite=\u0022Hobbes Novakoff\u0022\u003E\u003Cdiv\u003EWhat the heck is Newton\u0027s Law of Cooling? \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Convective_heat_transfer\u0022 rel=\u0022external nofollow\u0022\u003ELet me google that for you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf you arent familiar with Newton\u0027s law of cooling or convective heat transfer, why are participating in this thread? (not trying to be rude, but...)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hobbes Novakoff\u0022 data-cite=\u0022Hobbes Novakoff\u0022\u003E\u003Cdiv\u003EYes, in fact, 30 degrees can cause those variations, because the part that was previously occluded by a heat shield is now in the airstream. And also, KSP does do those calculations, that was part of the aero update. \u003Cp\u003Ethe part wasnt occluded by the heat shield. Look at the picture! Velocity vector is mostly horizontal... also, there is no heat shield part since i did not build this with one...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hobbes Novakoff\u0022 data-cite=\u0022Hobbes Novakoff\u0022\u003E\u003Cdiv\u003EMaybe it\u0027s got something to do with that fact that that test was at about 0.95 atm, going at 1.5 thousand m/s (Or, to put some scale in there, 3.35 thousand miles per hour, or 5.4 thousand kilometers per hour.) You were going at near hypersonic velocities at very low altitude. That\u0027s going to make you heat up a LOT.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, the air heats up a lot. If you look at the debug menu, the air temperature (Temp ext) is 1505.6 K-- that\u0027s how hot it gets from heating. So how exactly is the part almost 20,000 K?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-30T03:02:08Z\u0022 title=\u002204/30/2015 03:02  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 30, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rokmonkey","CreatedById":9319,"CreatedDateTime":"2015-04-30T12:29:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EIt shouldnt matter which direction heat is going, the general form is the same-- it should still follow newton\u0027s law of cooling (at least as a first order approximation).\u003Cp\u003EThe angle difference in the picture is like 30 degrees. Can 30 degrees really increase convection 10x? There is barely any part shading, and i dont beleive KSP does any complicated calculations to change velocity based on part shape and attitude etc...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, the order matters, if T and Tenv are swapped you get different signs, it\u0027s entirely a matter of convention. Regardless, that bit is just nitpicking and it\u0027s not really the issue you have shown here. You can\u0027t base your assessment if this is a bug based on only Newton\u0027s Law of Cooling, the coefficient of heat transfer is dependent on Reynolds Number, among a dozen other variables, all of which can change radically depending on the angle of incidence.\u003C/p\u003E\u003Cp\u003EYou can\u0027t disregard the angle and airflow unless you know how it\u0027s being calculated in the engine. If you are considering this a bug, then it should be in the bug report forum not gameplay questions. \u003C/p\u003E\u003Cp\u003ETurning off temperature damage is a terrible way of proving your point. Of course the whole thing is going to skyrocket, it was supposed to fail, if the part doesn\u0027t fail then the thermal flux will stay and keep pumping thermal energy into it. It may never reach equilibrium.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-30T13:46:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rokmonkey\u0022 data-cite=\u0022Rokmonkey\u0022\u003E\u003Cdiv\u003EYes, the order matters, if T and Tenv are swapped you get different signs, it\u0027s entirely a matter of convention. Regardless, that bit is just nitpicking and it\u0027s not really the issue you have shown here. You can\u0027t base your assessment if this is a bug based on only Newton\u0027s Law of Cooling, the coefficient of heat transfer is dependent on Reynolds Number, among a dozen other variables, all of which can change radically depending on the angle of incidence.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s not entirely a matter of convention. The relative signs matter. \u003C/p\u003E\u003Cp\u003EQ=h*A*(T-T_fluid) -- if T \u0026lt; T_fluid, Q is negative, so heat is leaving the part, but that is clearly not what is shown here. \u003C/p\u003E\u003Cp\u003EFor low mach number, Q is negative when T_fluid \u0026gt; T. The problem only occurs at high Mach numbers...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rokmonkey\u0022 data-cite=\u0022Rokmonkey\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYou can\u0027t disregard the angle and airflow unless you know how it\u0027s being calculated in the engine. If you are considering this a bug, then it should be in the bug report forum not gameplay questions. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe effect of Reynolds number, attitude etc... cannot influence sign, just magnitude of the value of \u0022h\u0022. I think i will post it to the bug reports... but first i wanted to see if anyone was aware of this or had a logical explanation.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rokmonkey\u0022 data-cite=\u0022Rokmonkey\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ETurning off temperature damage is a terrible way of proving your point. Of course the whole thing is going to skyrocket, it was supposed to fail, if the part doesn\u0027t fail then the thermal flux will stay and keep pumping thermal energy into it. It may never reach equilibrium.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf there was proper implementation, turning off temperature damage wouldnt matter, since Q would be negative and T would approach T_ext... I dont think you understand how heat transfer is supposed to work....\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Windy_Skunk\u0022 data-cite=\u0022Windy_Skunk\u0022\u003E\u003Cdiv\u003EThere definitely seems to be something wrong with the convection equations.\u003Cp\u003EI turned off temperature damage and flew a plane at 1500 m/s and some parts got to nearly four times the temperature of the surface of the sun.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/1pte659.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/1pte659.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnyone notice how 1505.6 is both the value for surface velocity as well as T_ext?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-30T22:41:09Z\u0022 title=\u002204/30/2015 10:41  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 30, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DoToH","CreatedById":68428,"CreatedDateTime":"2015-04-30T15:36:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EAnyone notice how 1505.6 is both the value for surface velocity as well as T_ext?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExternal temperature(assuming that\u0027s what T_ext stands for) raises with speed????\u003C/p\u003E\u003Cp\u003EWe are going to burn the planet!!!!!\u003C/p\u003E\n"},{"CreatedByName":"Windy_Skunk","CreatedById":142260,"CreatedDateTime":"2015-04-30T20:15:00Z","Content":"\n\u003Cp\u003EWhat\u0027s been bothering me about the convection in KSP is that heat continues to flow from the super-heated air to the ship even though the ship is already several times hotter than the air.\u003C/p\u003E\u003Cp\u003EFlying like I did should be punished by making the external temperature higher due to doing it so close to sea level, and making the ship quickly reach equilibrium with that, instead of adding some extra term to the convection equation that makes heat flow backwards.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-04-30T22:43:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Windy_Skunk\u0022 data-cite=\u0022Windy_Skunk\u0022\u003E\u003Cdiv\u003EWhat\u0027s been bothering me about the convection in KSP is that heat continues to flow from the super-heated air to the ship even though the ship is already several times hotter than the air.\u003Cp\u003EFlying like I did should be punished by making the external temperature higher due to doing it so close to sea level, and making the ship quickly reach equilibrium with that, instead of adding some extra term to the convection equation that makes heat flow backwards.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethat\u0027s what ive been saying \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EUnless it\u0027s just a display bug, and the game actually simulates atmospheric compression to 20,000 K \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003Ethat\u0027s what ive been saying \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EUnless it\u0027s just a display bug, and the game actually simulates atmospheric compression to 20,000 K \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe main reason this is a problem is because it seems to be acting up even when it shouldnt... \u003C/p\u003E\u003Cp\u003Ei.e. everyone would be fine with the plane getting superhot at sea level and going 1500 m/s. However, at 65 km, there shouldnt be any convection even at interplanetary velocities... and my ships have had trouble returning at orbital velocity...\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-05-01T00:11:00Z","Content":"\n\u003Cp\u003EAs you can tell from Physics.cfg, and some ingame experimentation, KSP uses two convection models:\u003C/p\u003E\u003Cp\u003E1. a Newtonian model, where convection is based on the temperature delta between part and enviroment and a heat transfer coefficient. The external temperature for this is calculated as the ship\u0027s velocity (which is true, ish, for Earthlike atmospheres between 300m/s and ~7000m/s).\u003C/p\u003E\u003Cp\u003E2. a mach model (might call it hypersonic heating) where convection is based on velocity and density, and does not care about external temperature (indeed, it seems external temperature under this model is not computed, since it\u0027s still computed the \u0022old\u0022 way). Instead, convective flux is directly calcutaed, going by the exponents in Physics.cfg as k * density^1 * velocity^3 * convectionFactor (40).\u003C/p\u003E\u003Cp\u003EModel 1 has a multiplier of 1.0 to heating. Model 2, by Physics.cfg, has a multiplier of 40.\u003C/p\u003E\u003Cp\u003EThe bug here seems to be that a \u0027fake\u0027 external temperature for model 2 isn\u0027t calculated for you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-01T02:50:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EAs you can tell from Physics.cfg, and some ingame experimentation, KSP uses two convection models:\u003Cp\u003E1. a Newtonian model, where convection is based on the temperature delta between part and enviroment and a heat transfer coefficient. The external temperature for this is calculated as the ship\u0027s velocity (which is true, ish, for Earthlike atmospheres between 300m/s and ~7000m/s).\u003C/p\u003E\u003Cp\u003E2. a mach model (might call it hypersonic heating) where convection is based on velocity and density, and does not care about external temperature (indeed, it seems external temperature under this model is not computed, since it\u0027s still computed the \u0022old\u0022 way). Instead, convective flux is directly calcutaed, going by the exponents in Physics.cfg as k * density^1 * velocity^3 * convectionFactor (40).\u003C/p\u003E\u003Cp\u003EModel 1 has a multiplier of 1.0 to heating. Model 2, by Physics.cfg, has a multiplier of 40.\u003C/p\u003E\u003Cp\u003EThe bug here seems to be that a \u0027fake\u0027 external temperature for model 2 isn\u0027t calculated for you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! That is consistent with everything we have observed.\u003C/p\u003E\u003Cp\u003ESince external temperature isnt used (i.e. bypassed when doing convective flux calculations), it has been a bit misleading. \u003C/p\u003E\u003Cp\u003EMarked as answered!\u003C/p\u003E\u003Cp\u003EI would like to know what the effective Temp_ext, given the flux and heat transfer coefficient to see if that is realistic...\u003C/p\u003E\u003Cp\u003EThanks again.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-01T04:56:03Z\u0022 title=\u002205/01/2015 04:56  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 1, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-01T06:21:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EAs you can tell from Physics.cfg, and some ingame experimentation, KSP uses two convection models:\u003Cp\u003E1. a Newtonian model, where convection is based on the temperature delta between part and enviroment and a heat transfer coefficient. The external temperature for this is calculated as the ship\u0027s velocity (which is true, ish, for Earthlike atmospheres between 300m/s and ~7000m/s).\u003C/p\u003E\u003Cp\u003E2. a mach model (might call it hypersonic heating) where convection is based on velocity and density, and does not care about external temperature (indeed, it seems external temperature under this model is not computed, since it\u0027s still computed the \u0022old\u0022 way). Instead, convective flux is directly calcutaed, going by the exponents in Physics.cfg as k * density^1 * velocity^3 * convectionFactor (40).\u003C/p\u003E\u003Cp\u003EModel 1 has a multiplier of 1.0 to heating. Model 2, by Physics.cfg, has a multiplier of 40.\u003C/p\u003E\u003Cp\u003EThe bug here seems to be that a \u0027fake\u0027 external temperature for model 2 isn\u0027t calculated for you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI found a good reference for the convective flux relationship:\u003C/p\u003E\u003Cp\u003Econvective_flux = density*velocity^3*convection_constant\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.engr.sjsu.edu/nikos/courses/AE264/pdf/Hypersonic.pdf\u0022 rel=\u0022external nofollow\u0022\u003ESee Page 22\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EInterestingly, the derivation assumes that the wall temperature is much less than stagnation temperature. Thus, this formula correctly predicts heating when the wall is cold and heating is just beginning, but as T_wall approaches stagnation temperature, convective flux will not approach zero, as it should...\u003C/p\u003E\u003Cp\u003ENathanKell: how difficult would it be to make a mod that corrects this incorrect assumption?\u003C/p\u003E\u003Cp\u003EAfter reviewing the equations all that is needed is to add an additional term to the convective flux:\u003C/p\u003E\u003Cp\u003Efrom:\u003C/p\u003E\u003Cp\u003Econvective_flux = density*velocity^3*convection coefficient\u003C/p\u003E\u003Cp\u003ETo:\u003C/p\u003E\u003Cp\u003Econvective_flux = density*velocity*convection_coefficient*(velocity^2 - 2*specific_heat*(T_part - T_atm))\u003C/p\u003E\u003Cp\u003Ewhere T_atm is static temperature (not stagnation temperature)\u003C/p\u003E\u003Cp\u003EWhat do you think?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-01T06:51:55Z\u0022 title=\u002205/01/2015 06:51  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 1, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rokmonkey","CreatedById":9319,"CreatedDateTime":"2015-05-01T14:15:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EI found a good reference for the convective flux relationship:\u003Cp\u003Econvective_flux = density*velocity^3*convection_constant\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.engr.sjsu.edu/nikos/courses/AE264/pdf/Hypersonic.pdf\u0022 rel=\u0022external nofollow\u0022\u003ESee Page 22\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EInterestingly, the derivation assumes that the wall temperature is much less than stagnation temperature. Thus, this formula correctly predicts heating when the wall is cold and heating is just beginning, but as T_wall approaches stagnation temperature, convective flux will not approach zero, as it should...\u003C/p\u003E\u003Cp\u003ENathanKell: how difficult would it be to make a mod that corrects this incorrect assumption?\u003C/p\u003E\u003Cp\u003EAfter reviewing the equations all that is needed is to add an additional term to the convective flux:\u003C/p\u003E\u003Cp\u003Efrom:\u003C/p\u003E\u003Cp\u003Econvective_flux = density*velocity^3*convection coefficient\u003C/p\u003E\u003Cp\u003ETo:\u003C/p\u003E\u003Cp\u003Econvective_flux = density*velocity*convection_coefficient*(velocity^2 - 2*specific_heat*(T_part - T_atm))\u003C/p\u003E\u003Cp\u003Ewhere T_atm is static temperature (not stagnation temperature)\u003C/p\u003E\u003Cp\u003EWhat do you think?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlmost, however in that those equations its not T_atm, it\u0027s the Adiabatic temperature(T_aw), not the same. Though T_aq depends on the temperature of the air. I\u0027ll have to go back to my old Heat Transfer and Aerodynamics textbooks to confirm but for now:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.thermopedia.com/content/291/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.thermopedia.com/content/291/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEquation (2) and (3), since it\u0027s Air, and you want an accurate model you need to use the compressibility equations. However, it can quickly spiral out, since in that equation is also depend son the Prandtl number but only for certain ranges of Prandtl numbers. We don\u0027t want to have to do CFD for all of this, so a line must be drawn somewhere.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-01T15:27:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rokmonkey\u0022 data-cite=\u0022Rokmonkey\u0022\u003E\u003Cdiv\u003EAlmost, however in that those equations its not T_atm, it\u0027s the Adiabatic temperature(T_aw), not the same. Though T_aq depends on the temperature of the air. I\u0027ll have to go back to my old Heat Transfer and Aerodynamics textbooks to confirm but for now:\u003Cp\u003E\u003Ca href=\u0022http://www.thermopedia.com/content/291/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.thermopedia.com/content/291/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEquation (2) and (3), since it\u0027s Air, and you want an accurate model you need to use the compressibility equations. However, it can quickly spiral out, since in that equation is also depend son the Prandtl number but only for certain ranges of Prandtl numbers. We don\u0027t want to have to do CFD for all of this, so a line must be drawn somewhere.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the informative reply. I will review your source.\u003C/p\u003E\u003Cp\u003EBased on my derivation from my source, i arrived at T_atm (static temperature) is in the equation. it is not a mistake. please double check my derivation. I am aware that T_aw is not T_atm...\u003C/p\u003E\u003Cp\u003EYes, the source i posted ignored recovery, apparently (i\u0027m not an aerospace engineer so some of these equations are new to me). We can assume Pr is 1 for simplicity and still be more accurate than what KSP does now. The main benefit is convective flux not spiraling out of control...(it seems in the forums, other people are starting to complain about re-entry heating difficulty)\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rokmonkey\u0022 data-cite=\u0022Rokmonkey\u0022\u003E\u003Cdiv\u003EAlmost, however in that those equations its not T_atm, it\u0027s the Adiabatic temperature(T_aw), not the same. Though T_aq depends on the temperature of the air. I\u0027ll have to go back to my old Heat Transfer and Aerodynamics textbooks to confirm but for now:\u003Cp\u003E\u003Ca href=\u0022http://www.thermopedia.com/content/291/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.thermopedia.com/content/291/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEquation (2) and (3), since it\u0027s Air, and you want an accurate model you need to use the compressibility equations. However, it can quickly spiral out, since in that equation is also depend son the Prandtl number but only for certain ranges of Prandtl numbers. We don\u0027t want to have to do CFD for all of this, so a line must be drawn somewhere.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour source says:\u003C/p\u003E\u003Cp\u003Eq=h(T_w-T_r)\u003C/p\u003E\u003Cp\u003Ewith \u003C/p\u003E\u003Cp\u003ET_r = T_atm \u002B1/2* r*V^2/Cp\u003C/p\u003E\u003Cp\u003EMy formula is:\u003C/p\u003E\u003Cp\u003Eq=C0*rho*V*(V^2 - 2*Cp*(T_w - T_atm))\u003C/p\u003E\u003Cp\u003Eif we make the simplification that r=1 everywhere (an overestimate), then we can substitute T_atm = T_r - 1/2*V^2/Cp\u003C/p\u003E\u003Cp\u003Eq=C0*rho*V*(V^2 - 2*Cp*(T_w - T_r \u002B 1/2*V^2/Cp))\u003C/p\u003E\u003Cp\u003Eq=C0*rho*V*(V^2 - 2*Cp*(T_w - T_r) - V^2)\u003C/p\u003E\u003Cp\u003Eq=2*C0*rho*V*Cp*(T_w-T_r)\u003C/p\u003E\u003Cp\u003Eso \u003Cstrong\u003Eour formulations are equivalent\u003C/strong\u003E and your h = 2*C0*rho*V*Cp\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-01T15:35:09Z\u0022 title=\u002205/01/2015 03:35  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 1, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"}]}