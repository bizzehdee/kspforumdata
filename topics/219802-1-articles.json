{"TopicId":219802,"ForumId":120,"TopicTitle":"Use unity impostors for environment props","CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-10-05T21:07:02Z","PageNum":1,"Articles":[{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-10-05T21:07:02Z","Content":"\n\u003Cp\u003E\nWhile playing KSP2 I noticed more than once the prop loading that really takes the immersion out of it. Often while landing on a planet I see a circular area of props with quite clear boundaries expanding below me in real time. And after landing, you can see this picture\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022900KerbalSpaceProgram20.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://u.cubeupload.com/Vortygont/900KerbalSpaceProgram20.png\u0022\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nBecause of the far distance to the horizon, the beauty of the scenery is compromised, because the prop generation area is smaller than this distance. Ideally, the player expects to see rocks to the horizon. But this is not physically feasible due to performance limitations. That\u0027s why the Unity impostors comes to the rescue\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://assetstore.unity.com/packages/tools/utilities/impostors-runtime-optimization-188562\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://assetstore.unity.com/packages/tools/utilities/impostors-runtime-optimization-188562\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn simple words instead of generating 3d meshes, the impostor system generates a 2d sprite of your object, which requires less resources. The sprite of the object is practically indistinguishable from itself at a far distance. So you can increase the drawing distance and the number of objects on the scene with minimal impact on performance. Stones on the scene do not have exotic complex geometry and their sprites can be generated without problems and be indistinguishable even at some smaller drawing distance than now\u003Cbr\u003E\nNow during landing props will be rendered earlier and smoothly increase in detail as they approach the surface so that the moment of abrupt transition of the prop to the drawing radius will not be noticeable. Landscapes on planets will become more picturesque, because with greater rendering range will increase the number of small details in the picture and increase realism of scene\n\u003C/p\u003E\n"},{"CreatedByName":"shdwlrd","CreatedById":113880,"CreatedDateTime":"2023-10-06T19:07:51Z","Content":"\n\u003Cp\u003E\nThis would make sense. Many old school flight and driving sims used this style of props for scenery that you didn\u0027t need to directly interact with. As time and tech progressed, this use of scenery props changed from almost all props to the props where it didn\u0027t matter if it was 3d or not.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-10-06T21:03:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224328561\u0022 data-ipsquote-contentid=\u0022219802\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221696619271\u0022 data-ipsquote-userid=\u0022113880\u0022 data-ipsquote-username=\u0022shdwlrd\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, shdwlrd said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMany old school flight and driving sims used this style of props for scenery that you didn\u0027t need to directly interact with\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt is good that you said about driving and flight sims. In impostors\u0027 description in the link was said, that this system doesn\u0027t work well as expected with these types of game because of fast-paced camera movement. System will regenerate impostors for new angle of view\u00A0 every time it changes significantly. But I believe that for KSP2 is nuance. I suggest to generate impostors for far distant props. You need to drive over planet surface of a significant distance to change angle of view to regenerate impostors,\u00A0 with flight above surface impostors\u0027 regeneration will happen more but not significantly.\u00A0The same can be said for an overhead view of the scenery, such as landing.\u00A0 So I think that it isn\u0027t big problem if you use impostor for distant objects\n\u003C/p\u003E\n"},{"CreatedByName":"shdwlrd","CreatedById":113880,"CreatedDateTime":"2023-10-06T23:07:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224328587\u0022 data-ipsquote-contentid=\u0022219802\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221696626183\u0022 data-ipsquote-userid=\u0022223549\u0022 data-ipsquote-username=\u0022Vortygont\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Vortygont said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt is good that you said about driving and flight sims. In impostors\u0027 description in the link was said, that this system doesn\u0027t work well as expected with these types of game because of fast-paced camera movement. System will regenerate impostors for new angle of view\u00A0 every time it changes significantly\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt was the only real method of doing 3d games at the time. (Think the original Doom or Micropose Flight sim era of 3d games.) Some of those old tricks could still work for KSP.\u00A0 The planets are hand created and decorated. It wouldn\u0027t be difficult to but some rough sprites in at certain areas and altitudes for terrain features and scatter.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s the LOD transitions that will make or break the effect though. If not set right, you will see the sprites move, disappear, or 3d objects growing out if the sprites. The sprites will have to stay long enough for the 3d models load, but disappear when you would expect to see the 3d transition.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nExample would be flying around Kerbin. You don\u0027t really need to see really detailed sprites on something 50km away. Just that something is there. You really should start making out the details at around 3-5km away. You would expect to start seeing 3d details at around 1km getting sharper as you get closer.\n\u003C/p\u003E\n"},{"CreatedByName":"Spicat","CreatedById":228085,"CreatedDateTime":"2023-10-07T20:03:18Z","Content":"\n\u003Cp\u003E\nApparently MSFS also uses \u00223d imposters\u0022 for their trees, which can be a similar problem than ksp2:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.asobostudio.com/files/inline-images/Designing_Terrain_System_Fuentes_Lionel.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.asobostudio.com/files/inline-images/Designing_Terrain_System_Fuentes_Lionel.pdf\u003C/a\u003E\u00A0(page 74)\n\u003C/p\u003E\n"},{"CreatedByName":"mattihase","CreatedById":73161,"CreatedDateTime":"2023-10-09T07:13:43Z","Content":"\n\u003Cp\u003E\nI imagine you\u0027d get \u0022good enough\u0022 results for far render distance with one billboard constrained to yawwing and one overhead static render?\n\u003C/p\u003E\n\u003Cp\u003E\nanother problem to consider is that of shadows though especially at sunrise/sunset.\n\u003C/p\u003E\n\u003Cp\u003E\nthose might be difficult to get looking right.\n\u003C/p\u003E\n"},{"CreatedByName":"Barrackar","CreatedById":197197,"CreatedDateTime":"2023-10-11T18:13:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224328364\u0022 data-ipsquote-contentid=\u0022219802\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221696540022\u0022 data-ipsquote-userid=\u0022223549\u0022 data-ipsquote-username=\u0022Vortygont\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/5/2023 at 2:07 PM, Vortygont said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn simple words instead of generating 3d meshes, the impostor system generates a 2d sprite of your object, which requires less resources.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not sure this is true in this case. Sure raw 2D sprite require less than raw 3D mesh, but that isn\u0027t what we have. The terrain system in KSP isn\u0027t raw 3D mesh, it is the PQS system. I don\u0027t know the internal workings of that system so I would hesitate to say a 2D sprite system would necessarily entail fewer resources/performance after accounting for the calculations required to swap them in/out and adjust for things mentioned above like shadows, consistent placement, or other things required to make it look okay.\n\u003C/p\u003E\n\u003Cp\u003E\nInstead of implementing a new 2D system, why not tweak the view distance level of detail to obfuscate the load distance? Perhaps split assets into different distance load groups so some of them load at different distances so there is no sharp boundary.\n\u003C/p\u003E\n"},{"CreatedByName":"Lyneira","CreatedById":149515,"CreatedDateTime":"2023-10-12T09:08:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224329658\u0022 data-ipsquote-contentid=\u0022219802\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221697048023\u0022 data-ipsquote-userid=\u0022197197\u0022 data-ipsquote-username=\u0022Barrackar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Barrackar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m not sure this is true in this case. Sure raw 2D sprite require less than raw 3D mesh, but that isn\u0027t what we have. The terrain system in KSP isn\u0027t raw 3D mesh, it is the PQS system. I don\u0027t know the internal workings of that system so I would hesitate to say a 2D sprite system would necessarily entail fewer resources/performance after accounting for the calculations required to swap them in/out and adjust for things mentioned above like shadows, consistent placement, or other things required to make it look okay.\n\u003C/p\u003E\n\u003Cp\u003E\nInstead of implementing a new 2D system, why not tweak the view distance level of detail to obfuscate the load distance? Perhaps split assets into different distance load groups so some of them load at different distances so there is no sharp boundary.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo clarify, the suggestion is not to render distant terrain itself (pqs) as a 2d sprite, but rather the objects (rocks, trees, grasses etc) scattered procedurally on top of it, to break the \u0022circle of terrain scatter\u0022 effect that is currently very clear to see when flying close to the ground or driving.\n\u003C/p\u003E\n"},{"CreatedByName":"Alpha_star","CreatedById":230385,"CreatedDateTime":"2023-10-15T13:47:59Z","Content":"\n\u003Cp\u003E\nYes and this issue has been annoying me visually both in KSP2 and in Parallax since it basically uses a similar enviromental scattering system. They could, perhaps, make the render distance adjustable so that people with more beefy machines can enjoy better scenes on the surface and people playing on weaker ones can turn it down a bit so they can have better performance.\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing I would like to mention here, however, is that Parallax bundles multiple rocks into one object so the prop scattering system treats them as one single object, making performance better without downgrading the visual effects too much. I hope the same gets added to the base game of KSP2, too. As mentioned before, it would be better if it gets toggleable!\n\u003C/p\u003E\n\u003Cp\u003E\n(The first suggestion also applies to Parallax.)\n\u003C/p\u003E\n"},{"CreatedByName":"Vortygont","CreatedById":223549,"CreatedDateTime":"2023-10-26T14:19:37Z","Content":"\n\u003Cp\u003E\nI thought about another application. You can use impostor system also for rocks in planet rings!\n\u003C/p\u003E\n"},{"CreatedByName":"aNERVASman","CreatedById":211629,"CreatedDateTime":"2023-11-06T15:18:31Z","Content":"\n\u003Cp\u003E\namong us??\n\u003C/p\u003E\n"},{"CreatedByName":"davidmakurin","CreatedById":229110,"CreatedDateTime":"2023-11-09T20:57:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224337303\u0022 data-ipsquote-contentid=\u0022219802\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221699283911\u0022 data-ipsquote-userid=\u0022211629\u0022 data-ipsquote-username=\u0022aNERVASman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/6/2023 at 6:18 PM, aNERVASman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\namong us??\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, among us\n\u003C/p\u003E\n"}]}