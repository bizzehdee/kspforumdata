{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":44,"Articles":[{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-07-07T20:42:38Z","Content":"\n\u003Cp\u003EOk, so I ensured I have the latest release off Curse, and reloaded. Removed the bit of code seen above, replaced it with \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ELOCK STEERING to HEADING(90, 10)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow, I get the \u0022Syntax error\u0022 for line 41....\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EWAIT 1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWould someone please review this script and tell me why I would get a syntax error for a -WAIT- command?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E// Orginal KoS SSTO Script by bsalis\u003Cbr\u003E// for KPrize posted 13 Nov 2013\u003Cbr\u003E// Modified by Pondafarr\u003Cbr\u003E\u003Cbr\u003ECLEARSCREEN.\u003Cbr\u003E\u003Cbr\u003ESET KerbinRad to 600000.\u003Cbr\u003ESET RunwayAlt to 70.\u003Cbr\u003ESET KscLat to -0.0486073307693005.\u003Cbr\u003ESET KscLng to -74.7238159179688.\u003Cbr\u003ESET LandingTarget to LATLNG(KscLat, KscLng).\u003Cbr\u003ESET LandingLng to LATLNG(0, KscLng).\u003Cbr\u003ESET GlideOffset to 80.\u003Cbr\u003ESET GlideYawMag to 100.\u003Cbr\u003ESET turn1 to 100.\u003Cbr\u003ESET turn2 to 4999.\u003Cbr\u003ESET turn3 to 9999.\u003Cbr\u003ESET turn4 to 19999.\u003Cbr\u003ESET turn5 to 75000.\u003Cbr\u003ESET Pi TO 180.\u003Cbr\u003ESET PitchF TO 70.\u003Cbr\u003ESET PitchAoI TO 12.\u003Cbr\u003ESET StartAlt TO 12000.\u003Cbr\u003ESET EndAlt TO 24000.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// Take-off Check list\u003Cbr\u003EPRINT \u0022 INITIATING TAKEOFF SEQUENCE\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003ELIGHTS ON.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Brakes Off\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EBRAKES OFF.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Flight Computer On\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003ESAS ON.\u003Cbr\u003EWAIT 1\u003Cbr\u003E// PRINT \u0022 Gimme a Vector Victor\u0022.\u003Cbr\u003E// LOCK STEERING to HEADING(90, 10).\u003Cbr\u003E// PRINT \u0022 Copy, heading is: 90, pitch 10deg\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Roll on 2!\u0022.\u003Cbr\u003EAG2 on.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003ELOCK THROTTLE to SHIP:maxAccel * SHIP:mass/SHIP:maxthrust.\u003Cbr\u003Euntil altitude \u0026gt; 150 {\u003Cbr\u003E if verticalspeed \u0026lt; targetVert {SET targetPitch to targetPitch \u002B 0.5.}.\u003Cbr\u003E if verticalspeed \u0026gt; targetVert {SET targetPitch to targetPitch - 0.5.}.\u003Cbr\u003E if targetPitch \u0026lt; -85 {SET targetPitch to -85.}.\u003Cbr\u003E if targetPitch \u0026gt; -40 {SET targetPitch to -40.}.\u003Cbr\u003E lock steering to up \u002B R(0,targetPitch,-90).\u003Cbr\u003E}.\u003Cbr\u003Ewhen altitude \u0026gt; turn1 then PRINT \u0022Raise Gear\u0022.\u003Cbr\u003EGEAR OFF.\u003Cbr\u003EWAIT 2.\u003Cbr\u003EPRINT \u0022 Gear Up\u0022.\u003Cbr\u003E\u003Cbr\u003E// Initial Climb\u003Cbr\u003EPRINT \u0022BEGINNING INITIAL CLIMB\u0022.\u003Cbr\u003Ewhen altitude \u0026gt; turn1 then lock steering to heading(90, 45).\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EWAIT until altitude \u0026gt; 10000.\u003Cbr\u003Eprint \u0022 opening all air intakes\u0022.\u003Cbr\u003EAG3 on.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// Dynamic Pitching\u003Cbr\u003EWAIT until altitude \u0026gt; StartAlt.\u003Cbr\u003Eprint \u0022 Dynamic pitching engaged\u0022.\u003Cbr\u003ESET Counter to 0.\u003Cbr\u003Euntil SHIP:INTAKEAIR \u0026lt; .26 {\u003Cbr\u003E SET ScaledAlt TO ALTITUDE - (EndAlt - StartAlt).\u003Cbr\u003E SET ScaledPi TO ScaledAlt * ((Pi / 2) / (EndAlt - StartAlt)).\u003Cbr\u003E SET Sined TO SIN(ScaledPi).\u003Cbr\u003E SET RawPitch TO (PitchF - PitchF * Sined) \u002B PitchAoI.\u003Cbr\u003E SET FinalPitch TO 0 - (90 - (RawPitch)).\u003Cbr\u003E lock steering to up \u002B R(0,FinalPitch,-90).\u003Cbr\u003E SET Counter to Counter \u002B 1.\u003Cbr\u003E if Counter \u0026gt; 30 {\u003Cbr\u003E print \u0022 pitch \u0022 \u002B ROUND(90 \u002B FinalPitch, 3) \u002B \u0022 degrees\u0022.\u003Cbr\u003E SET Counter to 0.\u003Cbr\u003E }.\u003Cbr\u003E WAIT 1.0.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Switching to rocket ascent\u0022.\u003Cbr\u003Elock steering to up \u002B R(0,-45,-90).\u003Cbr\u003EAG1 on.\u003Cbr\u003EAG2 off.\u003Cbr\u003EAG3 off.\u003Cbr\u003EWAIT 2.\u003Cbr\u003Eprint \u0022 pitch 45 degrees\u0022.\u003Cbr\u003EWAIT until ALTITUDE \u0026lt; 40000.\u003Cbr\u003Eprint \u0022 pitch 35 degrees\u0022.\u003Cbr\u003Elock steering to up \u002B R(0,-55,-90).\u003Cbr\u003EWAIT until ALTITUDE \u0026lt; 50000.\u003Cbr\u003Eprint \u0022 pitch 10 degrees\u0022.\u003Cbr\u003Elock steering to up \u002B R(0,-80,-90).\u003Cbr\u003E// WAIT 5.\u003Cbr\u003E// toggle ag4.\u003Cbr\u003EWAIT until APOAPSIS \u0026gt; 100200.\u003Cbr\u003Eprint \u0022 target Ap reached\u0022.\u003Cbr\u003Elock throttle to 0.\u003Cbr\u003Elock steering to PROGRADE.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003Eprint \u0022 Coasting to Ap\u0022.\u003Cbr\u003E\u003Cbr\u003EWAIT until ETA:APOAPSIS \u0026lt; 11.\u003Cbr\u003Eprint \u0022 Circularising\u0022.\u003Cbr\u003Elock steering to up \u002B R(0,-90,-90).\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003EWAIT until PERIAPSIS \u0026gt; 99900.\u003Cbr\u003Elock throttle to 0.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003E\u003Cbr\u003Eunlock steering.\u003Cbr\u003Eprint \u0022 Now in orbit\u0022.\u003Cbr\u003E\u003Cbr\u003EWAIT 10.\u003Cbr\u003EWAIT until LandingTarget:DISTANCE \u0026gt; 900000.\u003Cbr\u003Eprint \u0022 Tracking distance to KSC\u0022.\u003Cbr\u003Eprint \u0022 do not warp past 900000, burn is at 830000\u0022.\u003Cbr\u003Euntil LandingTarget:DISTANCE \u0026lt; 900000 {\u003Cbr\u003E print \u0022 distance from KSC \u0022 \u002B ROUND(LandingTarget:DISTANCE).\u003Cbr\u003E WAIT 1.0.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003Eprint \u0022 Initiating re-entry\u0022.\u003Cbr\u003Elock steering to RETROGRADE.\u003Cbr\u003EWAIT until LandingTarget:DISTANCE \u0026lt; 830000.\u003Cbr\u003Eprint \u0022 re-entry burn\u0022.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003EWAIT until PERIAPSIS \u0026lt; -89500.\u003Cbr\u003Elock throttle to 0.\u003Cbr\u003EWAIT 2.\u003Cbr\u003E// toggle ag5.\u003Cbr\u003Eprint \u0022 setting re-entry pitch\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003Elock steering to UP \u002B R(0,-95,-90).\u003Cbr\u003E\u003Cbr\u003EWAIT until ALTITUDE \u0026lt; 20000.\u003Cbr\u003Eprint \u0022 preparing for glide\u0022.\u003Cbr\u003Eag2 on.\u003Cbr\u003Elock steering to UP \u002B R(0,-100,-90).\u003Cbr\u003E\u003Cbr\u003EWAIT until ALTITUDE \u0026lt; 18000.\u003Cbr\u003ESET CurrentAltitude to ALTITUDE.\u003Cbr\u003ESET TargetLevelDist to LandingLng:DISTANCE.\u003Cbr\u003ESET TrgAta to ARCCOS((TargetLevelDist / 2) / (KerbinRad \u002B CurrentAltitude)).\u003Cbr\u003ESET TrgCba to TargetLevelDist * SIN(TrgAta).\u003Cbr\u003ESET TrgBrz to TargetLevelDist * COS(TrgAta).\u003Cbr\u003ESET TrgCrz to CurrentAltitude - TrgBrz.\u003Cbr\u003ESET GlideAngle to ARCTAN(TrgCba / TrgCrz).\u003Cbr\u003Eprint \u0022Glide descent has started with slope of \u0022 \u002B ROUND(GlideAngle, 3).\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003E\u003Cbr\u003ESET Counter to 0.\u003Cbr\u003Euntil ALTITUDE \u0026lt; (300 \u002B RunwayAlt) {\u003Cbr\u003E SET CurrentAltitude to ALTITUDE.\u003Cbr\u003E SET TargetLevelDist to LandingLng:DISTANCE.\u003Cbr\u003E SET TrgAta to ARCCOS((TargetLevelDist / 2) / (KerbinRad \u002B CurrentAltitude)).\u003Cbr\u003E SET TrgCba to TargetLevelDist * SIN(TrgAta).\u003Cbr\u003E SET TrgBrz to TargetLevelDist * COS(TrgAta).\u003Cbr\u003E SET TrgCrz to CurrentAltitude - TrgBrz.\u003Cbr\u003E SET TrgDrz to TrgCba / TAN(GlideAngle).\u003Cbr\u003E SET RawGlideDeviation to TrgDrz - TrgCrz.\u003Cbr\u003E SET GlideDeviation to GlideOffset \u002B RawGlideDeviation.\u003Cbr\u003E\u003Cbr\u003E SET GlideAoa to 0.\u003Cbr\u003E if GlideDeviation \u0026lt; 0 {\u003Cbr\u003E SET GlideAoa to GlideAngle - 180.\u003Cbr\u003E }.\u003Cbr\u003E if GlideDeviation \u0026gt; 600 {\u003Cbr\u003E SET GlideAoa to -90.\u003Cbr\u003E }.\u003Cbr\u003E if GlideAoa = 0 {\u003Cbr\u003E SET GlideAoa to (GlideDeviation / 20) \u002B GlideAngle - 180.\u003Cbr\u003E }.\u003Cbr\u003E\u003Cbr\u003E SET GlideYaw to (LATITUDE - KscLat) * GlideYawMag.\u003Cbr\u003E if GlideYaw \u0026gt; 0 {\u003Cbr\u003E if GlideYaw \u0026gt; 10 {\u003Cbr\u003E SET GlideYaw to 10.\u003Cbr\u003E }.\u003Cbr\u003E if GlideYaw \u0026lt; 0.1 {\u003Cbr\u003E SET GlideYaw to 0.1.\u003Cbr\u003E }.\u003Cbr\u003E }.\u003Cbr\u003E if GlideYaw \u0026lt; 0 {\u003Cbr\u003E if GlideYaw \u0026lt; -10 {\u003Cbr\u003E SET GlideYaw to -10.\u003Cbr\u003E }.\u003Cbr\u003E if GlideYaw \u0026gt; -0.1 {\u003Cbr\u003E SET GlideYaw to -0.1.\u003Cbr\u003E }.\u003Cbr\u003E }.\u003Cbr\u003E\u003Cbr\u003E SET Counter to Counter \u002B 1.\u003Cbr\u003E if Counter \u0026gt; 30 {\u003Cbr\u003E print \u0022 d \u0022 \u002B ROUND(RawGlideDeviation) \u002B \u0022 p \u0022 \u002B ROUND(GlideAoa, 3) \u002B \u0022 y \u0022 \u002B ROUND(GlideYaw, 3).\u003Cbr\u003E SET Counter to 0.\u003Cbr\u003E }.\u003Cbr\u003E\u003Cbr\u003E lock steering to UP \u002B R(GlideYaw,GlideAoa,-90).\u003Cbr\u003E WAIT 1.0.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022 Landing\u0022.\u003Cbr\u003Elock steering to UP \u002B R(0,GlideAoa,-90).\u003Cbr\u003Egear on.\u003Cbr\u003E\u003Cbr\u003EWAIT until ALTITUDE \u0026lt; (100 \u002B RunwayAlt).\u003Cbr\u003Eprint \u0022 begining flare\u0022.\u003Cbr\u003Elock steering to UP \u002B R(0,-90,-90).\u003Cbr\u003E\u003Cbr\u003ESET FlareStart to 20.\u003Cbr\u003ESET FlareEnd to 3.5.\u003Cbr\u003ESET MaxPitch to 8.\u003Cbr\u003EWAIT until ALT:RADAR \u0026lt; FlareStart.\u003Cbr\u003Eprint \u0022 dynamic flare\u0022.\u003Cbr\u003ESET FlarePitch to MaxPitch - 90.\u003Cbr\u003Elock steering to UP \u002B R(0,FlarePitch,-90).\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003Euntil ALT:RADAR \u0026lt; FlareEnd {\u003Cbr\u003E SET DropDist to 0 - (ALT:RADAR - FlareStart).\u003Cbr\u003E SET FlarePitch to DropDist * (MaxPitch / (FlareStart - FlareEnd)) - 90.\u003Cbr\u003E lock steering to UP \u002B R(0,FlarePitch,-90).\u003Cbr\u003E WAIT 1.0.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022 touchdown\u0022.\u003Cbr\u003Eunlock steering.\u003Cbr\u003EWAIT 2.\u003Cbr\u003Ebrakes on.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003Eprint \u0022 braking\u0022.\u003Cbr\u003EWAIT 10.\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-07T20:45:44Z\u0022 title=\u002207/07/2014 08:45  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 7, 2014\u003C/time\u003E by Pondafarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-07T21:03:57Z","Content":"\n\u003Cp\u003E90% of the time, \u0022syntax error\u0022 means that you forgot the period at the end of the \u003Cem\u003Eprevious \u003C/em\u003Eline.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESAS ON.\u003Cbr\u003EWAIT 1                                                         \u0026lt;- here\u0027s the syntax error\u003Cbr\u003E// PRINT \u0022 Gimme a Vector Victor\u0022.\u003Cbr\u003E// LOCK STEERING to HEADING(90, 10).\u003Cbr\u003E// PRINT \u0022 Copy, heading is: 90, pitch 10deg\u0022.\u003Cbr\u003EWAIT 1.0.                                                     \u0026lt;- here kOS notices that something is wrong.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf it\u0027s not a missing period, it\u0027s usually a mismatched bracket {} -- these can be a pita to track down. As said above: kOS doesn\u0027t report where the error is, but where it becomes aware of it. In case of a missing }, it reports the error to be at the very end of the file, because it has no idea which bracket you didn\u0027t close -- all it knows is that at the end of the file, there\u0027s at least one bracket still open.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-07T21:21:46Z\u0022 title=\u002207/07/2014 09:21  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 7, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003Cbr\u003Eextended\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-07T21:39:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EDo I really want to know? Seriously: do I need to understand this before I can even try to make any use of directions? Or can I just assume that pitch is yaw and yaw is pitch and not worry about what\u0027s really going on behind the scenes?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly, that\u0027s not going to work because they aren\u0027t off by exactly 90 degrees like that so you can just swap pitch for yaw. It might be that the x axis is, say, 20 degrees left of , and 30 degrees up from, your facing axis, depending. When your ship rotates, the xyz axes don\u0027t. When you move to a new position in orbit so that \u0022east\u0022 isn\u0027t the same direction as it was before, the xyz axes don\u0027t rotate to match. (Sadly, they *do* sometimes rotate based on the completely hidden criterion of whether or not you\u0027re close enough to the surface to make the game want to render the individual terrain polygons or not, which is confusing as all get-out. When your altitude is low, it rotates the universe and freezes the planet\u0027s terrain polygons so it doesn\u0027t have to bog down animation rate by constantly recalculating their coordinates, but when you\u0027re high enough up that it replaces the terrain polygons with just a flat low-res image map, then it starts rotating the planet and freezing the universe. This makes it impossible to tell you which way the x and z axes are really pointing at any time because it depends on where you lifted off and where you came back down, at what times. A least if they were fixed it would be easier to explain.)\u003C/p\u003E\u003Cp\u003EI desperately want to add some features to help with this so that people don\u0027t need to use the native messy frame of reference if they don\u0027t want to, but we\u0027re on a feature freeze because of the upcoming KSP 0.24. This constantly recurring question by users about how on earth to use the native xyz system makes me see it as a big problem in need of fixing, and I have an idea how.\u003C/p\u003E\u003Cp\u003ESHIP:CONTROL is relative to your ship. THERE, the terms pitch, yaw, and roll do actually mean what they say.\u003C/p\u003E\u003Cp\u003EIn the meantime, if you need to see a vector relative to your ship\u0027s facing you can do it with vector math and dot products. Get basis vectors of the frame of reference you want (forward, topward, starboardward) in the native XYZ terms, then dot-product them times any XYZ vector to get the terms in your own reference frame.\u003C/p\u003E\u003Cp\u003ELike so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// WARNING: This pair of statements will become one step after the next update and need to be\u003Cbr\u003E// changed.  This is because the next update contains a new fix that when you rotate a vector\u003Cbr\u003E// by a direction you get a vector out (right now you get a rotation back which is silly).\u003Cbr\u003E// This means that each pair of setting dir then setting Unit will need to be combined into just setting\u003Cbr\u003E// unit directly after that fix goes through.\u003Cbr\u003E//\u003Cbr\u003ELOCK foreDir to SHIP:FACING * V(0,0,1).  // The Z axis, after rotating to facing, becomes forward.\u003Cbr\u003ELOCK foreUnit to foreDir:VECTOR. // *(see comment not above!  IMPORTANT!)\u003Cbr\u003E\u003Cbr\u003ELOCK topDIr to SHIP:FACING * V(0,1,0).  // The Y axis, after rotating to facing, becomes topward.\u003Cbr\u003ELOCK topUnit to topDir:VECTOR.  // *(see comment not above!  IMPORTANT!)\u003Cbr\u003E\u003Cbr\u003ELOCK starboardDir to SHIP:FACING * V(1,0,0).  // The X axis, after rotating to facing, becomes starboard.\u003Cbr\u003ELOCK starboardUnit to starboardDir:VECTOR.  // *(see comment not above!  IMPORTANT!)\u003Cbr\u003E\u003Cbr\u003E// Now the 3 unit vectors can be used as basis vectors for you to play with, and with\u003Cbr\u003E// dot products you can get those 3 components of any native-xyz vector:\u003Cbr\u003E\u003Cbr\u003ESET foreComponent to someVector * foreUnit.\u003Cbr\u003ESET topComponent to someVector * topUnit.\u003Cbr\u003ESET starboardComponent to someVector * starboardUnit.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(Disclaimer - I didn\u0027t try running any of that example yet - I may have left/right swapped on the starboard one. the left-handedness of the coord system always trips me up.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-07T23:18:12Z\u0022 title=\u002207/07/2014 11:18  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 7, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003Cbr\u003Ecut-n-paste error in the code example - I had \u0026quot;topDir\u0026quot; for both topUnit and StarboardUnit\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-07T21:47:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pondafarr\u0022 data-cite=\u0022Pondafarr\u0022\u003E\u003Cdiv\u003ESo, I\u0027m trying to setup an initial SSTO takeoff profile, and I can\u0027t get this code to work:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset ship_relative_dir to R(0,0,0).\u003Cbr\u003Eset ship_relative_dir:pitch to 5.\u003Cbr\u003Edeclare wantdir.\u003Cbr\u003Eset wantdir to ship:facing \u002B ship_relative_dir.\u003Cbr\u003E\u003Cbr\u003ELOCK STEERING to wantdir.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI keep getting the dreaded \u0022Object not set\u0022 error at wantdir.\u003C/p\u003E\u003Cp\u003EWTF am I doing wrong?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI apologise, my suggestion was misleading, as it seems. You can\u0027t set the PITCH of a direction after it\u0027s made. Directions are immutable and their components can only be GETted, not SET, and directions can only be changed by making a new one.\u003C/p\u003E\u003Cp\u003ESo change this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset ship_relative_dir to R(0,0,0).\u003Cbr\u003Eset ship_relative_dir:pitch to 5.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETo just one line like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset ship_relative_dir to R(5,0,0).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIronically, the reason I didn\u0027t say it like that the first time was that I was trying to avoid an error. I didn\u0027t want to make the error of getting the wrong part of the tuple for pitch. But I forgot you can\u0027t SET the pitch, so by trying to avoid giving bad advice\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6 I gave bad advice.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-07T21:52:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pondafarr\u0022 data-cite=\u0022Pondafarr\u0022\u003E\u003Cdiv\u003EOk, so I ensured I have the latest release off Curse, and reloaded. Removed the bit of code seen above, replaced it with \u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ELOCK STEERING to HEADING(90, 10)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow, I get the \u0022Syntax error\u0022 for line 41....\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EWAIT 1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELine 41 doesn\u0027t look *exactly* like that in the body of the code you posted. It looks like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EWAIT 1\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(Lacking the period (.) in the actual program.)\u003C/p\u003E\n"},{"CreatedByName":"Dr_Goddard","CreatedById":100796,"CreatedDateTime":"2014-07-07T23:47:14Z","Content":"\n\u003Cp\u003EI believe I have identified a small bug.\u003C/p\u003E\u003Cp\u003EI love the autorun feature in the latest pre-release, but if I configure k-OS to open into volume \u00220\u0022 using CONFIG:ARCH, it doesn\u0027t work.\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-07-08T00:35:37Z","Content":"\n\u003Cp\u003ESteven Mading, Laie, thank you VERY much for helping to find that missing period. I had no idea that it was THAT line, since KoS told me the problem was somewhere else. \u003C/p\u003E\u003Cp\u003ENow to review one more time...\u003C/p\u003E\u003Cp\u003EAnd Steven, thanks for trying to give good advice for the ship heading issue, I want to end up with a flexible program I could use with all my SSTO\u0027s, and having smart code will go a long way...\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-07-08T00:54:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pondafarr\u0022 data-cite=\u0022Pondafarr\u0022\u003E\u003Cdiv\u003ESteven Mading, Laie, thank you VERY much for helping to find that missing period. I had no idea that it was THAT line, since KoS told me the problem was somewhere else.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs far as kOS is concerned, it \u003Cem\u003Eis\u003C/em\u003E on another line, as you did not bother to end your previous line correctly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-08T01:24:57Z","Content":"\n\u003Cp\u003EThe reason it doesn\u0027t mention it on the previous line is that kerboscript, like most programming languages, does not constrain you to have to put an entire statement on the same line.\u003C/p\u003E\u003Cp\u003EJust because it failed to find a period at the end of a line doesn\u0027t mean its an error yet. It\u0027s not known to be an error because maybe the next line has the period on it, or maybe the expression wasn\u0027t over and it continues like so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EWAIT 1\u003Cbr\u003E\u002B y*3.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOnly once it gets to the first thing that isn\u0027t a valid continuation of the math expression can it be certain the period wasn\u0027t going to be coming.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-08T03:25:39Z","Content":"\n\u003Cp\u003EFirst off, many many thanks for taking the time and answering these questions. But no good deed shall go unpunished... I\u0027m going to pester you until either I can make use of directions or you\u0027re no longer willing to waste your time on me.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ELOCK foreDir to SHIP:FACING * V(0,0,1).  // The Z axis, after rotating to facing, becomes forward.\u003Cbr\u003ELOCK foreUnit to foreDir:VECTOR. // *(see comment not above!  IMPORTANT!)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EforUnit seems to be zero no matter what. Of course, both are locked, so my they give my the deviation from facing, right? Wrong. I tried SETting foreDir rather than LOCKing it, so I would get the deviation from whatever it was when I SET it, but no such luck.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint forUnit.\u003Cbr\u003EV(0,0,0)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou see, I\u0027ve got a rover. kOS gave me the ability to keep the speed at a steady 8m/s; now I can drive it at 4x physicswarp, up- and downhill, over bumps and though pits, without fear of tipping over. That alone is priceless. But you know how it is, I can\u0027t leave good enough alone. Now I also want it to keep it\u0027s direction despite all those bumps throwing me off the track.\u003C/p\u003E\u003Cp\u003EI won\u0027t even try LOCK STEERING TO HEADING; on a rover, that can go nowhere but belly-up. What I want to do is a) pick up my direction when the script starts, \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E detect any deviations from that direction, c) apply wheelsteer as necessary.\u003C/p\u003E\u003Cp\u003EI tried PRINT NORTH - FACING while going in circles on the runway and it doesn\u0027t really make sense.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E(no code, just for indentation)\u003Cbr\u003Ecompass direction --  output of PRINT NORTH - FACING\u003Cbr\u003E 90 -90\u003Cbr\u003E135 -45\u003Cbr\u003E180   0\u003Cbr\u003E225 -45\u003Cbr\u003E270 -90\u003Cbr\u003E315 225\u003Cbr\u003E  0 180\u003Cbr\u003E 45 225\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow that I see it as a table I have to admit that it does make sense, in a way. Most of the time it would even be usable for my purpose, but I\u0027m afraid of the occasions when it wouldn\u0027t.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-08T03:53:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EforUnit seems to be zero no matter what.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe things I\u0027ve been saying only apply to the pre-release not the normal release. If you are using the normal release you\u0027ll get the V(0,0,0) problem. It\u0027s been such a long time since a full release that a lot of important features are missing from it.\u003C/p\u003E\n"},{"CreatedByName":"noah123103","CreatedById":114670,"CreatedDateTime":"2014-07-08T10:16:48Z","Content":"\n\u003Cp\u003EOkay so i have this script here and was trying to test this mod out for the first time and ran into some issues because this script was made on a early version and i cant find the version for download anywhere so i cant downgrade! this is the script: \u003Ca href=\u0022http://pastebin.com/zZwek06Z\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/zZwek06Z\u003C/a\u003E, im getting an error with the liquidfuel variable, at line 111 and 173 it says the \u0022\u0026lt; \u0026gt;\u0022 are not valid, so i take those out and it runs...but when it counts down it says \u0022tried to push infinity in to the stack\u0022 then continues to countdown and then launch. When it launches i get another line that catches my eye \u0022variable liquid fuel is not defined\u0022. I know its not defined and i have been looking at this code for a while and this is day 1 of me using this mod and im confused out of my mind, i don\u0027t know how to define it and i could really use some help. Thanks guys.\u003C/p\u003E\u003Cp\u003EPictures to show what i mean: \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/lcHrTHg,kVUat70#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/lcHrTHg,kVUat70#0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/lcHrTHg,kVUat70#1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/lcHrTHg,kVUat70#1\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dr_Goddard","CreatedById":100796,"CreatedDateTime":"2014-07-08T11:25:02Z","Content":"\n\u003Cp\u003EI\u0027d like to see a small addition to k-OS. It would be nice to have the ability to play sounds. Maybe just a beep? It would help in adjusting timing and debugging, and could be an audible cue when passing through the 100K mark or other situations where what is happening is not readily visible.\u003C/p\u003E\u003Cp\u003EBesides... it would be neat. You could make radio reports to base...audible countdown...screams of terror...\u003C/p\u003E\n"},{"CreatedByName":"Dr_Goddard","CreatedById":100796,"CreatedDateTime":"2014-07-08T11:29:52Z","Content":"\n\u003Cp\u003E[\u003C/p\u003E\u003Cp\u003EI tried PRINT NORTH - FACING while going in circles on the runway and it doesn\u0027t really make sense.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E(no code, just for indentation)\u003Cbr\u003Ecompass direction --  output of PRINT NORTH - FACING\u003Cbr\u003E 90 -90\u003Cbr\u003E135 -45\u003Cbr\u003E180   0\u003Cbr\u003E225 -45\u003Cbr\u003E270 -90\u003Cbr\u003E315 225\u003Cbr\u003E  0 180\u003Cbr\u003E 45 225\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow that I see it as a table I have to admit that it does make sense, in a way. Most of the time it would even be usable for my purpose, but I\u0027m afraid of the occasions when it wouldn\u0027t.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-08T11:32:26Z\u0022 title=\u002207/08/2014 11:32  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 8, 2014\u003C/time\u003E by Dr_Goddard\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-07-08T14:14:00Z","Content":"\n\u003Cp\u003EI\u0027m getting a recurring Out of Sync error, which cuts my throttle and breaks the script. \u003C/p\u003E\u003Cp\u003ESituation: \u003C/p\u003E\u003Cp\u003ESSTO launch profile (code below)\u003C/p\u003E\u003Cp\u003Ethis occurs at 2.1 km from KSC. \u003C/p\u003E\u003Cp\u003Ei understand that the Out of Sync error may be related to a \u0022race condition\u0022, but I have removed all complicated bits from my code and the problem persists.\u003C/p\u003E\u003Cp\u003EIs my using of two \u0022wait until altitude \u0026gt; 4000\u0022 commands possibly the cause?\u003C/p\u003E\u003Cp\u003EWhat log file should I submit for analysis?\u003C/p\u003E\u003Cp\u003EOn looking up race condition, it may be my crude timing attempts.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E/// Basic SSTO Launch Script by Pondafarr\u003Cbr\u003E// Contributing code snippets: Bsalis, Steven Mading, et.al.\u003Cbr\u003E\u003Cbr\u003ECLEARSCREEN.\u003Cbr\u003E\u003Cbr\u003E// Take-off Check list\u003Cbr\u003EPRINT \u0022 INITIATING TAKEOFF SEQUENCE\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003ELIGHTS ON.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Brakes Off\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EBRAKES OFF.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Flight Computer Enabled\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003ESAS OFF.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Gimme a Vector Victor\u0022.\u003Cbr\u003ELOCK steering to up \u002B R(0,-45,-90).\u003Cbr\u003EPRINT \u0022 Copy, heading is: 90, pitch 45deg\u0022.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Roll on 2!\u0022.\u003Cbr\u003EAG2 on. //Basic jets\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003ELOCK THROTTLE to 1.\u003Cbr\u003EPRINT \u0022 The captain has illuminated the no-puking sign\u0022.\u003Cbr\u003Ewait until altitude \u0026gt; 4000.\u003Cbr\u003EAG3 on. //Turbo Jets\u003Cbr\u003Ewhen altitude \u0026gt; 4000 then PRINT \u0022   Engaging Turbos\u0022.\u003Cbr\u003E\u003Cbr\u003E// MidFlight\u003Cbr\u003Ewait until altitude \u0026gt; 12000.\u003Cbr\u003ELOCK STEERING TO HEADING(90,50).\u003Cbr\u003Ewait until altitude \u0026gt; 14000.\u003Cbr\u003ELOCK STEERING TO HEADING(90,45).\u003Cbr\u003Ewait until altitude \u0026gt; 16000.\u003Cbr\u003ELOCK STEERING TO HEADING(90,35).\u003Cbr\u003Ewait until altitude \u0026gt; 18000.\u003Cbr\u003ELOCK STEERING TO HEADING(90,30).\u003Cbr\u003Ewait until altitude \u0026gt; 20000.\u003Cbr\u003ELOCK STEERING TO HEADING(90,15).\u003Cbr\u003E\u003Cbr\u003E// FINAL ASCENT\u003Cbr\u003EPRINT \u0022Switching to rocket ascent\u0022.\u003Cbr\u003Ewait until altitude \u0026gt; 24000.\u003Cbr\u003ELOCK steering to up \u002B R(0,-45,-90).\u003Cbr\u003EAG2 off. //Basic Jets\u003Cbr\u003EAG3 off. //Turbo jets\u003Cbr\u003EAG1 on. //Rapier engine\u003Cbr\u003EWAIT 2.\u003Cbr\u003EPRINT \u0022   pitch 45 degrees\u0022.\u003Cbr\u003EWAIT until ALTITUDE \u0026lt; 40000.\u003Cbr\u003EPRINT \u0022   pitch 35 degrees\u0022.\u003Cbr\u003ELOCK steering to up \u002B R(0,-55,-90).\u003Cbr\u003EWAIT until ALTITUDE \u0026lt; 50000.\u003Cbr\u003EPRINT \u0022   pitch 10 degrees\u0022.\u003Cbr\u003ELOCK steering to up \u002B R(0,-80,-90).\u003Cbr\u003EWAIT until APOAPSIS \u0026gt; 100200.\u003Cbr\u003EPRINT \u0022   target Ap reached\u0022.\u003Cbr\u003ELOCK throttle to 0.\u003Cbr\u003ELOCK steering to PROGRADE.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003EPRINT \u0022 Coasting to Ap\u0022.\u003Cbr\u003E\u003Cbr\u003E// CIRCULARIZING\u003Cbr\u003EWAIT until ETA:APOAPSIS \u0026lt; 11.\u003Cbr\u003EPRINT \u0022 Circularising\u0022.\u003Cbr\u003ELOCK steering to up \u002B R(0,-90,-90).\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003ELOCK throttle to 1.\u003Cbr\u003EWAIT until PERIAPSIS \u0026gt; 99900.\u003Cbr\u003ELOCK throttle to 0.\u003Cbr\u003EWAIT 1.0.\u003Cbr\u003Eunlock steering.\u003Cbr\u003EPRINT \u0022 Now in orbit\u0022.\u003Cbr\u003EAG8 on. //Extend Solar Panels and Antenna.\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022Welcome to spaAAAAAAAAAAAAAAAAAAce!\u0022.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-08T14:27:40Z\u0022 title=\u002207/08/2014 02:27  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 8, 2014\u003C/time\u003E by Pondafarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jwwolff","CreatedById":111270,"CreatedDateTime":"2014-07-08T14:30:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pondafarr\u0022 data-cite=\u0022Pondafarr\u0022\u003E\u003Cdiv\u003Ewhen altitude \u0026gt; 4000 then PRINT \u0022 Engaging Turbos\u0022.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewhen you use a when... then statement you need to have curly brackets {}. example: when altitude \u0026gt; 4000 then\u003Cstrong\u003E{\u003C/strong\u003Eprint \u0022Engaging Turbos.\u003Cstrong\u003E}.\u003C/strong\u003E\u003C/p\u003E\n"},{"CreatedByName":"jwwolff","CreatedById":111270,"CreatedDateTime":"2014-07-08T14:38:33Z","Content":"\n\u003Cp\u003EChange \u0026lt;liquidfuel\u0026gt; to SHIP:LIQUIDFUEL or STAGE:LIQUIDFUEL. the former will get the entire ships liquid fuel the latter will get the liquid fuel in the tanks kip assigns to that stage. Based on my quick glance I would suggest going with the former.\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-07-08T15:09:54Z","Content":"\n\u003Cp\u003Ethanks, that will help clarify my code.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nuclearphoenixegg\u0022 data-cite=\u0022nuclearphoenixegg\u0022\u003E\u003Cdiv\u003Ewhen you use a when... then statement you need to have curly brackets {}. example: when altitude \u0026gt; 4000 then\u003Cstrong\u003E{\u003C/strong\u003Eprint \u0022Engaging Turbos.\u003Cstrong\u003E}.\u003C/strong\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-08T23:17:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022noah123103\u0022 data-cite=\u0022noah123103\u0022\u003E\u003Cdiv\u003EOkay so i have this script here and was trying to test this mod out for the first time and ran into some issues because this script was made on a early version and i cant find the version for download anywhere so i cant downgrade! this is the script: \u003Ca href=\u0022http://pastebin.com/zZwek06Z\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/zZwek06Z\u003C/a\u003E,\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat pastebin is showing what the code looks like WITH the \u0022\u0026lt;\u0022 and \u0022\u0026gt;\u0022 marks, not what you did to try to remove them. You say you removed them and then got the error, but you didn\u0027t show what it looked like after the removal. Did you literally JUST delete the \u0027\u0026lt;\u0027 and \u0027\u0026gt;\u0027 and therefore I should assume that the code you ran with is what I see with those singleton characters removed? If so, then that\u0027s the problem. \u0022\u0026lt;liquidfuel\u0026gt;\u0022 needs to be replaced with \u0022ship:liquidfuel\u0022, not just merely \u0022liqudfuel\u0022.\u003C/p\u003E\u003Cp\u003EIf that\u0027s not the problem then you\u0027ll have to show what you did to remove the \u0022\u0026lt;\u0022 and \u0022\u0026gt;\u0022 marks and give a pastebin of THAT.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-08T23:27:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nuclearphoenixegg\u0022 data-cite=\u0022nuclearphoenixegg\u0022\u003E\u003Cdiv\u003Ewhen you use a when... then statement you need to have curly brackets {}. example: when altitude \u0026gt; 4000 then\u003Cstrong\u003E{\u003C/strong\u003Eprint \u0022Engaging Turbos.\u003Cstrong\u003E}.\u003C/strong\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is not true.\u003C/p\u003E\u003Cp\u003EWHEN/THEN allows the body to be either a singleton statement or a block of code with squiggly braces. Much like \u0022C\u0022 and \u0022Java\u0022, the squiggly braces are optional when the body only contains one statement.\u003C/p\u003E\u003Cp\u003EIf what you\u0027re saying was the problem, the error would have been a syntax error rather than a runtime error.\u003C/p\u003E\u003Cp\u003EGranted, it\u0027s often good programming practice to use the squiggly braces anyway even where not needed, but that\u0027s another issue.\u003C/p\u003E\u003Cp\u003EOne thing I see as a deficiency in the language is how the rules about requiring squiggle braces are not consistent between the different places they could be used. SOME places allow them to be optional when only one statement is in the body. Other places require them unconditionally.\u003C/p\u003E\u003Cp\u003EOptional: WHEN/THEN, ON.\u003C/p\u003E\u003Cp\u003ERequired: IF, UNTIL.\u003C/p\u003E\u003Cp\u003EThe old-time C programmer in me wants to see them optional all the time, but that would probably require adding the required parentheses around the condition in the if/until cases that C has, which it has specifically because it needs some way to mark where the conditional expression ends and the body begins when there\u0027s no squiggly braces.\u003C/p\u003E\u003Cp\u003EBasically, fixing the inconsistency would break some backward compatibility no matter which way around it\u0027s fixed. Making the braces required everywhere would break old WHEN/THEN\u0027s and making them optional everywhere would necessitate adding required parentheses to the Ifs and UNTILs.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-07-08T23:37:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pondafarr\u0022 data-cite=\u0022Pondafarr\u0022\u003E\u003Cdiv\u003EI\u0027m getting a recurring Out of Sync error, which cuts my throttle and breaks the script. \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat you\u0027re seeing is an underlying C Sharp error bubbling up to be exposed to you. In C Sharp, \u0022Out of Sync\u0022, despite the name, has nothing to do with timing or threading at all. It means that while using one of the built-in collection looping operators, the collection itself was changed, which C Sharp\u0027s iterators are too simple to understand how to handle, so it throws up its hands and spews this error whenever it happens.\u003C/p\u003E\u003Cp\u003EThe kOS equivalent would be trying to make a FOR loop over a LIST, and deleting items of the LIST inside the FOR loop.\u003C/p\u003E\u003Cp\u003ESince your code doesn\u0027t appear to do any looping of its own the problem must be happening in kOS\u0027s own Csharp code. Can you say what the version of kOS is? This problem used to happen a lot and it was fixed, but it\u0027s been so long since a real release that this fix might not be on the public curse release.\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-07-09T11:22:36Z","Content":"\n\u003Cp\u003EI am using the latest release version, 0.12.1, downloaded yesterday.\u003C/p\u003E\u003Cp\u003Eworkaround was to reboot, and load my next flight phase program. \u003C/p\u003E\u003Cp\u003ETo trouble shoot my code, I separated every distinct phase into individual programs, then bug fixed until each section worked properly(ish). The section in question should be a simple \u0022climb until altitude is 1000\u0022, but it breaks at about 2.1 km from KSC every time I\u0027ve run it. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E \u003Cbr\u003E// Take-off Check list\u003Cbr\u003EPRINT \u0022 INITIATING TAKEOFF SEQUENCE\u0022.\u003Cbr\u003EWAIT 1.\u003Cbr\u003ELIGHTS ON.\u003Cbr\u003EWAIT 1.\u003Cbr\u003EPRINT \u0022 Brakes On\u0022.\u003Cbr\u003EWAIT 1.\u003Cbr\u003EBRAKES On.\u003Cbr\u003EWAIT 1.\u003Cbr\u003EPRINT \u0022 Flight Computer Enabled\u0022.\u003Cbr\u003EWAIT 1.\u003Cbr\u003ESAS OFF.\u003Cbr\u003EWAIT 1.\u003Cbr\u003EPRINT \u0022 Gimme a Vector Victor\u0022.\u003Cbr\u003ELOCK STEERING TO HEADING(90,25).\u003Cbr\u003EWait 1.\u003Cbr\u003EPRINT \u0022 Copy, heading is forward and up \u0022.\u003Cbr\u003EWAIT 1.\u003Cbr\u003EPRINT \u0022 Roll on 2!\u0022.\u003Cbr\u003E// Basic jets\u003Cbr\u003EAG2 on.\u003Cbr\u003EWAIT 2.\u003Cbr\u003ELOCK THROTTLE to 1.\u003Cbr\u003EWait 2.\u003Cbr\u003EPrint \u0022Release Brakes\u0022.\u003Cbr\u003EBrakes off.\u003Cbr\u003EPRINT \u0022 The captain has illuminated the no-puking sign\u0022.\u003Cbr\u003Ewait until ALTITUDE \u0026gt; 150.\u003Cbr\u003EGEAR OFF.\u003Cbr\u003EWAIT 2.\u003Cbr\u003EWHEN ALTITUDE \u0026gt; 1000 THEN RUN SSTOMF.  //STOMF is the midflight climb\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m going to try a supersimple version next, and see if its related to a ship unload condition (there was a ship sitting on the vertical launch platform, perhaps its unload caused the problem, the render distance should have been right about that distance)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-09T11:26:23Z\u0022 title=\u002207/09/2014 11:26  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 9, 2014\u003C/time\u003E by Pondafarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-07-09T12:25:15Z","Content":"\n\u003Cp\u003EAfter some preliminary testing, it does seem that removing the rocket from the vertical launch pad had removed the error from my SSTO launch. The unload of the rocket effected my SSTO program with the Out of Sync error. (note, the other rocket did NOT have a KOS computer, so I believe it was a simple craft unloading issue)\u003C/p\u003E\u003Cp\u003EFurther investigations are warranted of course.\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-07-11T13:18:00Z","Content":"\n\u003Cp\u003EHokay. I got my initial climb code sorted out, but now I\u0027m having problems with flameout detection. \u003C/p\u003E\u003Cp\u003EWould you please look at this and tell me if I\u0027m missing something?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif ALTITUDE \u0026gt; 20000 {\u003Cbr\u003E  // Check for flameout of any of the existing engines:\u003Cbr\u003E  set stg_numF to 0.\u003Cbr\u003E  list engines in stg_eList.\u003Cbr\u003E  for stg_eng in stg_eList { \u003Cbr\u003E    if stg_eng:flameout {\u003Cbr\u003E      set stg_numF to stg_numF \u002B 1.\u003Cbr\u003E    }.\u003Cbr\u003E  }.\u003Cbr\u003E  if stg_numF \u0026gt; 0 {\u003Cbr\u003E    PRINT \u0022 engine(s) flamed out\u0022.\u003Cbr\u003E\tPRINT \u0022DROPPING BASIC JETS\u0022.\u003Cbr\u003E\tLOCK THROTTLE to 0.\u003Cbr\u003E\tAG2 off. //basic jets\u003Cbr\u003E\tAG3 on. //turbojets\u003Cbr\u003E\tWAIT 2.\u003Cbr\u003E\tLOCK THROTTLE TO 1.\u003Cbr\u003E  }.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eif ALTITUDE \u0026gt; 25000 {\u003Cbr\u003E  // Check for flameout of any of the existing engines:\u003Cbr\u003E  set stg_numF2 to 0.\u003Cbr\u003E  list engines in stg_eList.\u003Cbr\u003E  for stg_eng in stg_eList { \u003Cbr\u003E    if stg_eng:flameout {\u003Cbr\u003E      set stg_numF2 to stg_numF2 \u002B 1.\u003Cbr\u003E    }.\u003Cbr\u003E  }.\u003Cbr\u003E  if stg_numF2 \u0026gt; 0 {\u003Cbr\u003E    PRINT \u0022 engine(s) flamed out\u0022.\u003Cbr\u003E\tPRINT \u0022SWITCHING TO RAPIER ENGINES\u0022.\u003Cbr\u003E\tLOCK THROTTLE to 0.\u003Cbr\u003E\tAG2 off. //basic jets\u003Cbr\u003E\tAG3 OFF. //turbo jets\u003Cbr\u003E\tag1 ON. //RAPIER engine\u003Cbr\u003E\tWAIT 2.\u003Cbr\u003E\tLOCK THROTTLE TO 1.\u003Cbr\u003E  }.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-11T13:52:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pondafarr\u0022 data-cite=\u0022Pondafarr\u0022\u003E\u003Cdiv\u003EHokay. I got my initial climb code sorted out, but now I\u0027m having problems with flameout detection. \u003Cp\u003EWould you please look at this and tell me if I\u0027m missing something?[...]\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks good at first sight. I didn\u0027t count the brackets and periods, though. The one problem I do see is that you\u0027re checking for flameout exactly once, at a set altitude -- but that\u0027s a conceptual thing, not a syntax error. IMO, the check should be part of the main loop and run in short intervals; you want to catch a flameout quickly.\u003C/p\u003E\u003Cp\u003EIf you want to quickly test your code, build a contraption with one intake and a dozen engines; this should provide you with flameouts without even taking off.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-11T13:56:27Z\u0022 title=\u002207/11/2014 01:56  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 11, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003Cbr\u003E\u002B testbed\n\u003C/span\u003E\n"}]}