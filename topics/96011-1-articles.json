{"TopicId":96011,"ForumId":20,"TopicTitle":"CargoBay and Fairing payload sleep-mode part/plugin","CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-01-08T12:10:00Z","PageNum":1,"Articles":[{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-01-08T12:10:00Z","Content":"\n\u003Cp\u003EIs it possible to make a plugin that can add custom action group to disable and turn off all components of payload ?\u003C/p\u003E\u003Cp\u003EWhat i mean, is that player would add a \u0022payload sleep mode\u0022 part to main craft, add all payload components, select it\u0027s \u0022disable\u0022 action and in separate popup window further select actions from all parts attached to it, like turn off reaction wheels, disable RCS ports, stop RTGs etc ...\u003C/p\u003E\u003Cp\u003EAfter craft reaches it\u0027s destination, user can than activate \u0022enable\u0022 action to toggle all payload components state back to active, prior to deployment.\u003C/p\u003E\n"},{"CreatedByName":"DBT85","CreatedById":114980,"CreatedDateTime":"2015-01-08T13:01:23Z","Content":"\n\u003Cp\u003EI assume you mean instead of just adding all of those items toggles to one action group as you can at the moment?\u003C/p\u003E\u003Cp\u003EIf the payload is connected via a docking port as many seem to do, how would it know which ones to turn off?\u003C/p\u003E\n"},{"CreatedByName":"RainDreamer","CreatedById":129077,"CreatedDateTime":"2015-01-08T13:13:39Z","Content":"\n\u003Cp\u003EI think what OP meant is, a separator part that you can place in your cargobay/payload fairing, where anything attach to it will be recognized as payload/cargo and will have its parts automatically shut down on launch and be controlled separately in a popup window. This would save the micro managing to shut down/reactivate stuff in cargo bay/payload.\u003C/p\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-01-08T13:16:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DBT85\u0022 data-cite=\u0022DBT85\u0022\u003E\u003Cdiv\u003EI assume you mean instead of just adding all of those items toggles to one action group as you can at the moment?\u003Cp\u003EIf the payload is connected via a docking port as many seem to do, how would it know which ones to turn off?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think he just want to add the parts with 1 click to the category \u0022payload\u0022 and then use a button to toggle everything on/off\u003C/p\u003E\u003Cp\u003Eas of now you need to select the part and add every module you want to toggle to the action group, and if you want the ability to switch off also you need to use 2 different action groups because not every item has a \u0022toggle\u0022 option\u003C/p\u003E\u003Cp\u003Emy problem with cargobays is that I can only secure the payload on one side (using a docking port) but not on the other because I would need something to change lenght in order to put the second docking port at the right distance (already tried infernal robotics, I don\u0027t really like the pylon...)\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-01-08T14:10:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sigma88\u0022 data-cite=\u0022Sigma88\u0022\u003E\u003Cdiv\u003Emy problem with cargobays is that I can only secure the payload on one side (using a docking port) but not on the other because I would need something to change lenght in order to put the second docking port at the right distance (already tried infernal robotics, I don\u0027t really like the pylon...)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMOAR struts!!\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-01-08T14:56:01Z","Content":"\n\u003Cp\u003EThank you all for the replies and posts pretty much reflect my own idea how to implement this. I have further elaborated on this idea at \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/74195-0-90-(Jan04-14)-Action-Groups-Extended-250-Action-Groups-in-flight-editing?p=1656382\u0026amp;viewfull=1#post1656382\u0022 rel=\u0022external nofollow\u0022\u003EAction Groups Extended\u003C/a\u003E thread. Maybe AGExt author will have exact answers on this since he has expirience in this matter.\u003C/p\u003E\u003Cp\u003EPS: I know about cross-posting issues, i\u0027m just trying to keep this from cluttering the AGExt thread.\u003C/p\u003E\u003Cp\u003EAs for stabilizing payloads, i use \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/96361\u0022 rel=\u0022external nofollow\u0022\u003EActive Struts\u003C/a\u003E. I was hoping they would behave similar to static struts, but they do have one snag : when enabling setting \u0022Straight Up FreeAttach\u0022 on \u0022CIT Targeter\u0022 part in editor, i was hoping it would hold payload on flight scene from start, but it does not. Active Struts engage AFTER physics kicks in and causes my sideways mounted payload to drop inside cargobay then it gets attached. When i redesigned payload with docking port lined up with it\u0027s CoM and fitting another port on cargobay floor, it went ok.\u003C/p\u003E\u003Cp\u003EEDIT: The whole idea of having payload sleep mode is to keep various components on launch inactive so it does not use electricity, cause extra torque, have its fuel used or (most annoyingly) have it\u0027s lights turn on along with main craft, turning it into disco ball light show.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-08T15:00:06Z\u0022 title=\u002201/08/2015 03:00  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 8, 2015\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003Cbr\u003Eelaborating\n\u003C/span\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-01-08T15:00:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EMOAR struts!!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t like to use struts, first of all because I want to be able to do an automated recovery mission (no possibility of going EVA and using KAS to attach struts)\u003C/p\u003E\u003Cp\u003Eand second of all I\u0027m kinda OCD about my satellites and I don\u0027t like strut end points to stay attached to them after release\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-01-08T15:48:04Z","Content":"\n\u003Cp\u003EAlright, as this would have to be it\u0027s own mod rather then part of AGX, I\u0027ll reply here.\u003C/p\u003E\u003Cp\u003EThis is actually quite possible, with a couple largish hurdles to be aware of.\u003C/p\u003E\u003Cp\u003EThe easy part is actually disabling actions, simply find the BaseAction and set it\u0027s .active property to false. That will prevent that action from doing anything. Note however that this also hides the action from the \u0022available actions list\u0022 in the default KSP editor and in AGX\u0027s actions list as well.\u003C/p\u003E\u003Cp\u003EThen renable the action by changing that .active field back to true when you want to turn everything back on. This will even work for things such as lights that default assign to a group. If that light\u0027s \u0022Turn On\u0022 BaseAction.active =false, it will not turn on when the L key is pressed.\u003C/p\u003E\u003Cp\u003EThe first hurdle is that in code you can\u0027t grab \u0022this part of the vessel\u0022, you have to walk the parts based on their connections to each other. Most of the time simply saying \u0022from this sleep mode part, find all child parts\u0022 will work, but that assumes that a) you want to turn off all parts on that side of the sleep-mode part (so no in-line cargo as part of the mothership) and \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E the root part of the vessel is on the other side of the part. \u003C/p\u003E\u003Cp\u003EThe second hurdle is that not everything you want to turn off can be turned off this way. Notably, I don\u0027t think this method would turn off RCS blocks as while the RCS system turns on/off based on the RCS action group, everything else is contained in the RCS system code. So some custom code would have to be written for that. Easy enough to do, just a matter of tracking down everything that needs custom code to work this way.\u003C/p\u003E\u003Cp\u003EThen to integrate, on the sleep-mode part, simply make a standard action using the [KSPAction] property and it will be picked up by KSP as any other action.\u003C/p\u003E\u003Cp\u003EIf someone wants to try I\u0027m certainly will to answer questions, but I\u0027ve got too many mods on the go already to take on another.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2015-01-08T16:09:16Z","Content":"\n\u003Cp\u003EThank you Diazo for taking time to review my request.\u003C/p\u003E\n"}]}