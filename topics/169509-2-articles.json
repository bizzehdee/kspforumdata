{"TopicId":169509,"ForumId":34,"TopicTitle":"[1.12.x] Toolbar Controller (for modders)","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-12T20:32:08Z","PageNum":2,"Articles":[{"CreatedByName":"Apaseall","CreatedById":176515,"CreatedDateTime":"2018-01-18T15:47:47Z","Content":"\n\u003Cp\u003E\nMerely trying to keep my game running \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Thank you for ... well lots of things \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-18T16:09:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223271368\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516290467\u0022 data-ipsquote-userid=\u0022176515\u0022 data-ipsquote-username=\u0022Apaseall\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, Apaseall said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMerely trying to keep my game running \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Thank you for ... well lots of things \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo problem at all, thanks for letting me know\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-21T01:37:39Z","Content":"\n\u003Cp\u003E\nNew release, 1.3.5\n\u003C/p\u003E\n\u003Cp\u003E\nMore fixes for toolbar buttons not being deleted\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-22T15:57:21Z","Content":"\n\u003Cp\u003E\nNew release, 0.1.4:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdded left/right button callbacks\n\u003C/li\u003E\n\u003Cli\u003E\nUpdated documentation\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Li0n","CreatedById":142527,"CreatedDateTime":"2018-01-23T12:21:36Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E I\u0027m trying to add support for Toolbar Control on Antenna Helper. It works but throw an exception when clicking on the Blizzy\u0027s button, stock one is fine.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[Toolbar] [ERROR] error while handling click event: AntennaHelper.823779\u003Cbr\u003E\n\u00A0\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\u003C/p\u003E\n\u003Cp\u003E\nNullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0 at ToolbarControl_NS.ToolbarControl.button_Click (ToolbarControl_NS.ClickEvent e) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u003Cbr\u003E\n\u00A0 at ToolbarControl_NS.Button.clicked (System.Object realEvent) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u003Cbr\u003E\n\u00A0 at Toolbar.Command.click () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u003Cbr\u003E\nUnityEngine.DebugLogHandler:Internal_LogException(Exception, Object)\u003Cbr\u003E\nUnityEngine.DebugLogHandler:LogException(Exception, Object)\u003Cbr\u003E\nUnityEngine.Logger:LogException(Exception, Object)\u003Cbr\u003E\nUnityEngine.Debug:LogException(Exception)\u003Cbr\u003E\nToolbar.Log:log(LogLevel, Exception, String, Object[])\u003Cbr\u003E\nToolbar.Log:error(Exception, String, Object[])\u003Cbr\u003E\nToolbar.Command:click()\u003Cbr\u003E\nToolbar.Button:click()\u003Cbr\u003E\nToolbar.Button:drawInToolbar(Rect, Boolean)\u003Cbr\u003E\nToolbar.Toolbar:drawButtons()\u003Cbr\u003E\nToolbar.Toolbar:draw()\u003Cbr\u003E\nToolbar.ToolbarManager:OnGUI()\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/9dl4gdrb74u1joj/output_log.7z?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EFull log\u003C/a\u003E. Just launch the game, click twice on the button on quit. Error is at line 12272.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Li0n-0/Antenna-Helper/blob/DEV/Source/AntennaHelper/AHEditor.cs\u0022 rel=\u0022external nofollow\u0022\u003EAntenna Helper source file\u003C/a\u003E. I\u0027ve just try in the editor, relevant code in the ToolbarButton region starting line 560. Everything commented is what I used before to do the stock button.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-23T12:31:22Z","Content":"\n\u003Cp\u003E\nI may not be able to get to this intil this evening but, what version are you using?\n\u003C/p\u003E\n"},{"CreatedByName":"Li0n","CreatedById":142527,"CreatedDateTime":"2018-01-23T12:32:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223275619\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516710682\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI may not be able to get to this intil this evening but, what version are you using?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nToolbarControl 0.1.4\n\u003C/p\u003E\n\u003Cp\u003E\nToolbar 1.7.16.5\n\u003C/p\u003E\n\u003Cp\u003E\nLast version of KSP (x64) on win10 (x64)\n\u003C/p\u003E\n\u003Cp\u003E\nTake your time, there is no rush.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-23T12:58:05Z","Content":"\n\u003Cp\u003E\nI\u0027ve replicated the problem, trying to see if I can fix it in the next few minutes\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 Ok, it\u0027s harmless, so you can continue to work.\u00A0 I know what\u0027s going on\n\u003C/p\u003E\n\u003Cp\u003E\nand fixed:\n\u003C/p\u003E\n\u003Cp\u003E\nNew release, 0.1.4.1:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFixed harmless nullrefs which were happening after clicking toolbar button\n\u003C/li\u003E\n\u003Cli\u003E\nAdded checks to all callbacks for nulls\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nYou will probably have to download it manually, it may take \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E a few hours to update\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-23T12:59:20Z\u0022 title=\u002201/23/2018 12:59  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 23, 2018\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Li0n","CreatedById":142527,"CreatedDateTime":"2018-01-23T15:29:58Z","Content":"\n\u003Cp\u003E\nI\u0027m done integrating Toolbar Contol to Antenna Helper. Very straightforward, coming from the stock applauncher and never used Blizzy\u0027s toolbar.\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing I notice : \u0022ToolbarControl.buttonClickedMousePos\u0022 return (0, 0) when clicked on Blizzy\u0027s toolbar, return fine with stock. I don\u0027t think that actually matter as I can get the same thing with Mouse.screenPos on OnTrue.\n\u003C/p\u003E\n\u003Cp\u003E\nMy point of wanting the button position was to display the gui next to it, to perfectly align it the mouse position when clicked isn\u0027t enough, the actual button position is needed. I now realize that it won\u0027t be enough for blizzy toolbar as it can have multiple column...\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway I wrote a little method to position the window next to the button, any button, it\u0027s not as precise as it was with the button position but it\u0027s good enough\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Eprivate Vector2 GetWindowPosNextToButton (Rect window, Vector2 clickPos, bool useBlizzy)\n\t\t{\n\t\t\tfloat offset, posX, posY;\n\n\t\t\tif (useBlizzy) {\n\t\t\t\toffset = 20f;\n\t\t\t} else {\n\t\t\t\toffset = 30f;\n\t\t\t}\n\n\t\t\tif (clickPos.x \u002B offset \u002B window.width \u0026gt; Screen.width) {\n\t\t\t\t// Window on the left of the button\n\t\t\t\tposX = clickPos.x - offset - window.width;\n\t\t\t} else {\n\t\t\t\t// Window on the right of the button\n\t\t\t\tposX = clickPos.x \u002B offset;\n\t\t\t}\n\n\t\t\tif (clickPos.y \u002B offset \u002B window.height \u0026gt; Screen.height) {\n\t\t\t\t// Window on the bottom of the button\n\t\t\t\tposY = clickPos.y - offset - window.height;\n\t\t\t} else {\n\t\t\t\t// Window on the top of the button\n\t\t\t\tposY = clickPos.y \u002B offset;\n\t\t\t}\n\n\t\t\treturn new Vector2 (posX, posY);\n\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nOne last thing, should I bundle Toolbar Control with my mod or do you prefer if players get it directly from you ? Personally I prefer the second option.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-23T16:28:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223275753\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516721398\u0022 data-ipsquote-userid=\u0022142527\u0022 data-ipsquote-username=\u0022Li0n\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, Li0n said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m done integrating Toolbar Contol to Antenna Helper. Very straightforward, coming from the stock applauncher and never used Blizzy\u0027s toolbar.\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing I notice : \u0022ToolbarControl.buttonClickedMousePos\u0022 return (0, 0) when clicked on Blizzy\u0027s toolbar, return fine with stock. I don\u0027t think that actually matter as I can get the same thing with Mouse.screenPos on OnTrue.\n\u003C/p\u003E\n\u003Cp\u003E\nMy point of wanting the button position was to display the gui next to it, to perfectly align it the mouse position when clicked isn\u0027t enough, the actual button position is needed. I now realize that it won\u0027t be enough for blizzy toolbar as it can have multiple column...\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway I wrote a little method to position the window next to the button, any button, it\u0027s not as precise as it was with the button position but it\u0027s good enough\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\n\u003Cspan class=\u0022pln\u0022\u003Eprivate Vector2 GetWindowPosNextToButton (Rect window, Vector2 clickPos, bool useBlizzy)\n\t\t{\n\t\t\tfloat offset, posX, posY;\n\n\t\t\tif (useBlizzy) {\n\t\t\t\toffset = 20f;\n\t\t\t} else {\n\t\t\t\toffset = 30f;\n\t\t\t}\n\n\t\t\tif (clickPos.x \u002B offset \u002B window.width \u0026gt; Screen.width) {\n\t\t\t\t// Window on the left of the button\n\t\t\t\tposX = clickPos.x - offset - window.width;\n\t\t\t} else {\n\t\t\t\t// Window on the right of the button\n\t\t\t\tposX = clickPos.x \u002B offset;\n\t\t\t}\n\n\t\t\tif (clickPos.y \u002B offset \u002B window.height \u0026gt; Screen.height) {\n\t\t\t\t// Window on the bottom of the button\n\t\t\t\tposY = clickPos.y - offset - window.height;\n\t\t\t} else {\n\t\t\t\t// Window on the top of the button\n\t\t\t\tposY = clickPos.y \u002B offset;\n\t\t\t}\n\n\t\t\treturn new Vector2 (posX, posY);\n\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nOne last thing, should I bundle Toolbar Control with my mod or do you prefer if players get it directly from you ? Personally I prefer the second option.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027d like you to wait until this evening when I can fix that buttonClickedMousePos problem.\u00A0 I\u0027m pretty sure I know what it is, if I get some time, I might even be able to fix it during the day.\n\u003C/p\u003E\n\u003Cp\u003E\nOtherwise, I\u0027d prefer that you don\u0027t bundle, since it is still a work-in-progress.\n\u003C/p\u003E\n"},{"CreatedByName":"Morse","CreatedById":154930,"CreatedDateTime":"2018-01-23T17:28:37Z","Content":"\n\u003Cp\u003E\nI can already see that this is gonna break my \u0022Adjustable Mod Panel\u0022 since all the mods will have exactly the same looking button (same module, same callback).\n\u003C/p\u003E\n\u003Cp\u003E\nCan you maybe come up with some way of distinguishing one mod from another on the gameobject level?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-23T17:29:04Z\u0022 title=\u002201/23/2018 05:29  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 23, 2018\u003C/time\u003E by Morse\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-23T18:55:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223275861\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516728517\u0022 data-ipsquote-userid=\u0022154930\u0022 data-ipsquote-username=\u0022Morse\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Morse said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can already see that this is gonna break my \u0022Adjustable Mod Panel\u0022 since all the mods will have exactly the same looking button (same module, same callback).\n\u003C/p\u003E\n\u003Cp\u003E\nCan you maybe come up with some way of distinguishing one mod from another on the gameobject level?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, how about a method which will return the button id which is passed in by the code?\u00A0 It has to be unique.\n\u003C/p\u003E\n"},{"CreatedByName":"Morse","CreatedById":154930,"CreatedDateTime":"2018-01-23T19:09:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223275929\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516733746\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, how about a method which will return the button id which is passed in by the code?\u00A0 It has to be unique.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nA method where? Your class is supposed to be a component somewhere in the depth of other mods\u0027 internals. Also just id would not be enough, since if the button\u0027s callback is implemented inside your dll, there won\u0027t be even a way to find out what is the name of the mod this button belongs to.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-23T20:02:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223275942\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516734545\u0022 data-ipsquote-userid=\u0022154930\u0022 data-ipsquote-username=\u0022Morse\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, Morse said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA method where? Your class is supposed to be a component somewhere in the depth of other mods\u0027 internals. Also just id would not be enough, since if the button\u0027s callback is implemented inside your dll, there won\u0027t be even a way to find out what is the name of the mod this button belongs to.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nA public API, which could provide both the mod name and id which are supplied when creating the button.\n\u003C/p\u003E\n\u003Cp\u003E\nIt sounds like you may need another method which would essentially hide a button, but that is actually a bit more complicated.\n\u003C/p\u003E\n"},{"CreatedByName":"Morse","CreatedById":154930,"CreatedDateTime":"2018-01-23T20:21:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223275988\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516737731\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA public API, which could provide both the mod name and id which are supplied when creating the button.\n\u003C/p\u003E\n\u003Cp\u003E\nIt sounds like you may need another method which would essentially hide a button, but that is actually a bit more complicated.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe hiding of the button I\u0027ll manage myself \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E. But when I get a list of buttons from the application panel I need to know which button is which, so that to hide the ones that user chose. I use the combination of \u0022module name\u0022 \u002B \u0022callback name\u0022, but it won\u0027t work for a wrapper. I also use the icon hashcode as an additional identificator, but this is more of an emergency measure, and I don\u0027t want to rely on it too much.\n\u003C/p\u003E\n\u003Cp\u003E\nA \u0022public API\u0022 is a vague term. Just adding the methods into the class would be pointless, because I don\u0027t even have an access to the object in the first place. Also, I\u0027d rather avoid a hard dependency on your mod, since the user might not even have a single mod that uses it, but will have to install it anyway.\n\u003C/p\u003E\n\u003Cp\u003E\nok, let\u0027s maybe put it on hold for some time. I have an idea how to store the needed information, but let\u0027s wait until your code more or less stabilizes. A method I\u0027m thinking about involves a fair share of black magic, so we\u0027ll have to wait for a full moon first \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-23T20:27:09Z","Content":"\n\u003Cp\u003E\nYou can use Reflection to see if my mod is loaded, and if so, then access it\u0027s methods\n\u003C/p\u003E\n\u003Cp\u003E\nRight now I don\u0027t store any sort of list of buttons, but that\u0027s doable.\u00A0 In fact, I could even take a look at your code and create the same \u0022module name\u0022 \u002B \u0022callback name\u0022, and return that\n\u003C/p\u003E\n"},{"CreatedByName":"Morse","CreatedById":154930,"CreatedDateTime":"2018-01-23T20:37:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223276010\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516739229\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou can use Reflection to see if my mod is loaded, and if so, then access it\u0027s methods\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u0022it\u0027s\u0022 methods? You don\u0027t access methods of the \u0022mod\u0022, you access methods of the object. And with your design, every mod that uses your controller will have it\u0027s own instance of that object. Of course I could do a global lookup over all the objects in the game every time a new button is added to the stock panel, but that would be so wrong on so many levels...\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-23T20:56:22Z","Content":"\n\u003Cp\u003E\nplease stop the criticism of the terminology.\n\u003C/p\u003E\n\u003Cp\u003E\nI could create a static, global list which would hold all the created objects, and then there could be a method of the OBJECT which could read and return the list, either one at a time or the whole list.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Morse","CreatedById":154930,"CreatedDateTime":"2018-01-23T21:29:17Z","Content":"\n\u003Cp\u003E\nA static list of all the mods that could be accessed using the reflection. Yep, that should solve the task. The whole list would probably be redundant, but a method that would return the name of the button (or of a mod, or... anything, to just show the user where this button came from) and some unique id based on the ApplicationLauncherButton object - that would be nice. Something like\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022com\u0022\u003E/// \u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E/// Checks whether the given button was created by this mod.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E/// \u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E/// \u0026lt;param name=\u0022button\u0022\u0026gt;the button to check\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E/// \u0026lt;param name=\u0022name\u0022\u0026gt;the human-readable description of the button\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E/// \u0026lt;param name=\u0022id\u0022\u0026gt;the unique ID of the button\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E/// \u0026lt;returns\u0026gt;true, if the button was created by the mod, false otherwise\u0026lt;/returns\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Epublic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Estatic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Ebool\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EIsButtonManaged\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EApplicationLauncherButton\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E button\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E out string name\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E out string id\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-24T00:01:27Z","Content":"\n\u003Cp\u003E\nNew release, 0.1.4.2:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFixed mouse position for Blizzy toolbar\n\u003C/li\u003E\n\u003Cli\u003E\nInverted the y value for the mouse position\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Li0n","CreatedById":142527,"CreatedDateTime":"2018-01-24T09:46:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223276180\u0022 data-ipsquote-contentid=\u0022169509\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516752087\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNew release, 0.1.4.2:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFixed mouse position for Blizzy toolbar\n\u003C/li\u003E\n\u003Cli\u003E\nInverted the y value for the mouse position\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve just tested and everything works as expected, thanks.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-24T21:39:42Z","Content":"\n\u003Cp\u003E\nNew release, 0.1.4.3\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdded method/function to allow mods to check to see if a toolbarbutton is controlled by this mod\n\u003C/li\u003E\n\u003Cli\u003E\nRenamed License.md and README.md\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-25T13:56:01Z","Content":"\n\u003Cp\u003E\nNew release, 0.1.4.4:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nImproved the UseBlizzy method to now allow setting it BEFORE\u00A0creating the toolbar, this\u00A0makes it possible to not have to use the UseBlizzy in an OnGUI if not desired\n\u003C/li\u003E\n\u003Cli\u003E\nAdded methods: \u00A0SetTrue() and SetFalse()\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nThe \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E has been updated as well\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-25T20:29:39Z\u0022 title=\u002201/25/2018 08:29  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 25, 2018\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-25T20:34:18Z","Content":"\n\u003Cp\u003E\nI\u0027m thinking of\u00A0adding some more versions of the AddToAllToolbars methods.\u00A0 The new versions will duplicate the existing ones, with the addition of one new parameter:\n\u003C/p\u003E\n\u003Cp\u003E\nbool initialBlizzy\n\u003C/p\u003E\n\u003Cp\u003E\nThis will eliminate the need to call the UseBlizzy() method before the call to initialize it.\n\u003C/p\u003E\n\u003Cp\u003E\nAny comments?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-01-28T03:28:31Z","Content":"\n\u003Cp\u003E\nNew release, 0.1.4.5 (was a stealth release)\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFixed typo in the UseBlizzy method which was causing the blizzy toolbar to be always selected if it was called before the initial button creation\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nNew release, 0.1.4.6:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdded code to not try to use tooltips if not in a scene which supports it\n\u003C/li\u003E\n\u003C/ul\u003E\n"}]}