{"TopicId":142213,"ForumId":34,"TopicTitle":"PEGAS - Powered Explicit Guidance Ascent System - devlog","CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2016-06-22T01:03:11Z","PageNum":6,"Articles":[{"CreatedByName":"LAND ASAP","CreatedById":184612,"CreatedDateTime":"2018-02-19T12:36:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223297658\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518897121\u0022 data-ipsquote-userid=\u0022124298\u0022 data-ipsquote-username=\u0022Reddy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2018/2/18 at 3:52 AM, Reddy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt sounds like a common problem with kOS and \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E steering. Try to run something like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003ELOCK STEERING TO RETROGRADE.\nWAIT 20.\nUNLOCK STEERING.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand see what happens. If you observe the same symptoms, it\u0027s the kOS fault (or your vehicle, but I\u0027m not sure).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/184612-land-asap/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022184612\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/184612-land-asap/\u0022 rel=\u0022\u0022\u003E@LAND ASAP\u003C/a\u003E\u00A0I see you\u0027re trying to launch to zero inclination orbit. Where\u00A0is your launch site located?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you for your reply!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI launch the rocket in Cape Canaveral.\u00A0Is it where the problem lies in?\n\u003C/p\u003E\n\u003Cp\u003E\nShould I use kourou for such launch?\n\u003C/p\u003E\n"},{"CreatedByName":"LAND ASAP","CreatedById":184612,"CreatedDateTime":"2018-02-19T23:14:26Z","Content":"\n\u003Cp\u003E\nOne more question. After receiving\u00A0your reply, I tried to launch the vehicle without setting the inclination in the mission config. Still converging most of the time\u00A0time. I have tried times and times again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0But when it works, it\u2019s really amazing!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Or should I submit it to github? Thanks!\u003Cimg alt=\u0022:kiss:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 title=\u0022:kiss:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-19T23:14:58Z\u0022 title=\u002202/19/2018 11:14  PM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 19, 2018\u003C/time\u003E by LAND ASAP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ola","CreatedById":82138,"CreatedDateTime":"2018-04-04T16:33:54Z","Content":"\n\u003Cp\u003E\nOK, so, after seeing this I\u0027ve actually started reading articles in Journal of Guidance, Control and Dynamics. Damn you, science!\n\u003C/p\u003E\n"},{"CreatedByName":"martinmike2","CreatedById":113086,"CreatedDateTime":"2018-09-23T03:41:43Z","Content":"\n\u003Cp\u003E\nJust a quick question,\u00A0 tried to use this with the Shuttle Lifting Body mod, which uses the Mk3 cockpit as the control point.\u00A0 Got the following error: \u0022CONTROLFROM command found a generic part value.\u0022\u00A0 Am I doing something wrong?\u00A0 or does this not work with manned rockets?\n\u003C/p\u003E\n"},{"CreatedByName":"Desdinova","CreatedById":144628,"CreatedDateTime":"2018-09-23T10:54:56Z","Content":"\n\u003Cp\u003E\nI\u0027m working on my own PEG implementation in KOS as a side project. I\u0027ve got it sort of working, I\u0027m having issues\u00A0with the delta v - it\u0027s off by a factor of about 5. It starts decreasing towards zero, then around 30 seconds before cutoff, jumps randomly by huge amounts, changing sign. As far as I can tell I\u0027ve implemented the algorithm just as described in the NASA paper / orbiter notes. If I comment out the derivative terms it basically\u00A0works. Anyone here want to take a peek at my script and see if anything jumps out?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\tfunction GuidanceLoop\n{\u00A0\u00A0 \u00A0\n\u00A0\u00A0 \u00A0SetOldTime(GetTimer()).\n\u00A0\u00A0 \u00A0SetTimer(time:seconds()).\n\t\u00A0\u00A0 \u00A0local T is GetT().\n\u00A0\u00A0 \u00A0local r_v is -ship:body:position.\n\u00A0\u00A0 \u00A0local r is r_v:mag.\n\u00A0\u00A0 \u00A0//solve for guidance parameters A and B\u00A0\u00A0 \u00A0\n\u00A0\u00A0 \u00A0local b0 is -ve() * ln(1 - min(0.9999, T / GetTau())).\u00A0\n\u00A0\u00A0 \u00A0local b1 is b0 * GetTau() - ve() * t.\n\u00A0\u00A0 \u00A0local c0 is b0 * t - b1.\n\u00A0\u00A0 \u00A0local c1 is c0 * GetTau() - ve() * t^2 / 2.\n\u00A0\u00A0 \u00A0local M_B_0 is r_d_t - verticalspeed.\u00A0\n\u00A0\u00A0 \u00A0local M_B_1 is r_t - r - verticalspeed * T.\u00A0\n\u00A0\u00A0 \u00A0//update steering parameters\n\u00A0\u00A0 \u00A0if T \u0026gt; 10\n\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SetB(((M_B_1 / c0) - (M_B_0 / b0)) / ((c1 / c0) - (b1 / b0))).\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SetA((M_B_0 / b0) - GetB() * b1 / b0).\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SetOldA(GetA() \u002B delta_t * GetB()).\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SetOldB(GetB()).\n\u00A0\u00A0 \u00A0}\n\u00A0\u00A0 \u00A0SetOldT(T - delta_t).\n\u00A0\u00A0 \u00A0\n\u00A0\u00A0 \u00A0//update state vectors\n\u00A0\u00A0 \u00A0local h_v is vcrs(r_v, ship:velocity:orbit).\u00A0\n\u00A0\u00A0 \u00A0local theta_unit is vcrs(h_v:normalized, r_v:normalized).\n\u00A0\u00A0 \u00A0local delta_h is h_t - h_v:mag.\n\u00A0\u00A0 \u00A0local r_mean is (r_t \u002B r) / 2.\u00A0\n\u00A0\u00A0 \u00A0\n\u00A0\u00A0 \u00A0//performance\n\u00A0\u00A0 \u00A0local omega is vdot(ship:velocity:orbit, theta_unit) / r.\n\u00A0\u00A0 \u00A0local C_t is C(r_t, omega_t, GetOldT(), GetTau()).\n\u00A0\u00A0 \u00A0SetTau(tau()).\n\u00A0\u00A0 \u00A0if T \u0026gt; 10\n\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SetC(C(r, omega, 0, GetTau())).\n\u00A0\u00A0 \u00A0}\n\u00A0\u00A0 \u00A0\n\u00A0\u00A0 \u00A0//calculate delta v\n\u00A0\u00A0 \u00A0local f_r is GetOldA() \u002B GetC().\u00A0\n\u00A0\u00A0 \u00A0local f_r_d is GetOldB() \u002B (C_t - f_r) / GetOldT().\u00A0\n\u00A0\u00A0 \u00A0local f_theta is 1 - f_r^2 / 2.\n\u00A0\u00A0 \u00A0local f_theta_d is -f_r * f_r_d.\n\u00A0\u00A0 \u00A0local f_theta_d2 is - f_theta_d^2 / 2.\n\u00A0\u00A0 \u00A0//local delta_v is (delta_h / r_mean) \u002B ve()* T * (f_theta_d \u002B f_theta_d2) * GetTau() \u002B (f_theta_d2 * ve() * T^2 / 2 ).\u00A0\n\u00A0\u00A0 \u00A0//set delta_v to delta_v / (f_theta \u002B f_theta_d * GetTau() \u002B f_theta_d2 * GetTau()^2).\n\u00A0\u00A0 \u00A0local delta_v is (delta_h / r_mean) / f_theta.\n\u00A0\u00A0 \u00A0SetT(GetTau() * (1 - constant:e^(-delta_v / ve()))).\n}\n\t\u003C/pre\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Jim DiGriz","CreatedById":92465,"CreatedDateTime":"2018-09-23T22:52:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223456392\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537700096\u0022 data-ipsquote-userid=\u0022144628\u0022 data-ipsquote-username=\u0022Desdinova\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Desdinova said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m working on my own PEG implementation in KOS as a side project. I\u0027ve got it sort of working, I\u0027m having issues\u00A0with the delta v - it\u0027s off by a factor of about 5. It starts decreasing towards zero, then around 30 seconds before cutoff, jumps randomly by huge amounts, changing sign. As far as I can tell I\u0027ve implemented the algorithm just as described in the NASA paper / orbiter notes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat isn\u0027t PEG, that is the old Surveyor-era Atlas-Centaur guidance that precedes both IGM and PEG.\u00A0 The correct reference for that is here:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19660006073.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19660006073.pdf\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe orbiter notes are incorrect and buggy, and I can\u0027t recall exactly where (it\u0027s been over a year and I\u0027ve forgotten the algorithm, not to mention the specific bugs in that wiki).\u00A0 An implementation of that code that works is here:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/7a78a57740a37eeb5509e2c3f8d09c012b347648/MechJeb2/MechJebModuleAscentPEG.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/7a78a57740a37eeb5509e2c3f8d09c012b347648/MechJeb2/MechJebModuleAscentPEG.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(Yes that file is still named \u0022PEG\u0022 but I named it incorrectly ages ago)\n\u003C/p\u003E\n\u003Cp\u003E\nWhere my code agrees with the NASA code and disagrees with OrbiterWiki you should not use the Wiki pseudo-code (where my code disagrees with the NASA paper, I\u0027d bet I\u0027ve got bugs and NASA knew what they were doing...)\n\u003C/p\u003E\n\u003Cp\u003E\nNote that I never got the yaw steering implemented.\u00A0 The N-stage summations in Terens paper are brutal to implement and debug to eliminate typos.\u00A0 The actual PEG algorithm is easier to implement fully.\n\u003C/p\u003E\n"},{"CreatedByName":"GRAVITY_TURN","CreatedById":192629,"CreatedDateTime":"2018-10-20T19:14:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223456770\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221537743173\u0022 data-ipsquote-userid=\u002292465\u0022 data-ipsquote-username=\u0022Jim DiGriz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/23/2018 at 11:52 PM, Jim DiGriz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat isn\u0027t PEG, that is the old Surveyor-era Atlas-Centaur guidance that precedes both IGM and PEG.\u00A0 The correct reference for that is here:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19660006073.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19660006073.pdf\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe orbiter notes are incorrect and buggy, and I can\u0027t recall exactly where (it\u0027s been over a year and I\u0027ve forgotten the algorithm, not to mention the specific bugs in that wiki).\u00A0 An implementation of that code that works is here:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/7a78a57740a37eeb5509e2c3f8d09c012b347648/MechJeb2/MechJebModuleAscentPEG.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/7a78a57740a37eeb5509e2c3f8d09c012b347648/MechJeb2/MechJebModuleAscentPEG.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(Yes that file is still named \u0022PEG\u0022 but I named it incorrectly ages ago)\n\u003C/p\u003E\n\u003Cp\u003E\nWhere my code agrees with the NASA code and disagrees with OrbiterWiki you should not use the Wiki pseudo-code (where my code disagrees with the NASA paper, I\u0027d bet I\u0027ve got bugs and NASA knew what they were doing...)\n\u003C/p\u003E\n\u003Cp\u003E\nNote that I never got the yaw steering implemented.\u00A0 The N-stage summations in Terens paper are brutal to implement and debug to eliminate typos.\u00A0 The actual PEG algorithm is easier to implement fully.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy implementation is almost identical to yours, but in MATLAB. I\u0027m getting strange results - I believe it converges as Tgo is consistenly reducing, but the fr term begins to go crazy and ends up being \u0026gt;1, clearly impossible! Did you ever experience behaviour like this? It should be near zero as my velocity vector is near the local horizontal and the vehicle isn\u0027t far off the target insertion altitude, but instead it begins to rise hence adding to the radial component.\n\u003C/p\u003E\n"},{"CreatedByName":"Jim DiGriz","CreatedById":92465,"CreatedDateTime":"2018-10-21T18:16:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223472039\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221540062848\u0022 data-ipsquote-userid=\u0022192629\u0022 data-ipsquote-username=\u0022GRAVITY_TURN\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, GRAVITY_TURN said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy implementation is almost identical to yours, but in MATLAB. I\u0027m getting strange results - I believe it converges as Tgo is consistenly reducing, but the fr term begins to go crazy and ends up being \u0026gt;1, clearly impossible! Did you ever experience behaviour like this? It should be near zero as my velocity vector is near the local horizontal and the vehicle isn\u0027t far off the target insertion altitude, but instead it begins to rise hence adding to the radial component.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf that\u0027s in the last couple of seconds, then its terminal guidance issues, you need to freeze guidance at some point before the end or you get swamped by errors.\u00A0 Basically the same problem that \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E has when it has nearly burned a maneuver node to zero and if you have the deltav m/s tuned up too high it\u0027ll constantly try to \u0027hunt\u0027 the maneuver node and due to errors can never burn it down to exactly 0 m/s.\u00A0 All guidance has this problem.\n\u003C/p\u003E\n"},{"CreatedByName":"GRAVITY_TURN","CreatedById":192629,"CreatedDateTime":"2018-11-03T20:31:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223472707\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221540145781\u0022 data-ipsquote-userid=\u002292465\u0022 data-ipsquote-username=\u0022Jim DiGriz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/21/2018 at 7:16 PM, Jim DiGriz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf that\u0027s in the last couple of seconds, then its terminal guidance issues, you need to freeze guidance at some point before the end or you get swamped by errors.\u00A0 Basically the same problem that \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E has when it has nearly burned a maneuver node to zero and if you have the deltav m/s tuned up too high it\u0027ll constantly try to \u0027hunt\u0027 the maneuver node and due to errors can never burn it down to exactly 0 m/s.\u00A0 All guidance has this problem.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe issue seems to be occuring earlier than that. Tgo is around 59 seconds before suddently going crazy, with the fr term blowing up too. Very strange behaviour as the plot for Tgo is linear up until this point.\n\u003C/p\u003E\n"},{"CreatedByName":"Rohit007","CreatedById":193836,"CreatedDateTime":"2018-12-08T15:48:03Z","Content":"\n\u003Cp\u003E\ncan you please share craft file for the same (shown in video for PEG)\n\u003C/p\u003E\n"},{"CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2021-01-17T16:29:46Z","Content":"\n\u003Cp\u003E\nI\u0027ve just pushed \u003Ca href=\u0022https://github.com/Noiredd/PEGAS/releases/tag/v1.2\u0022 rel=\u0022external nofollow\u0022\u003Eversion 1.2\u003C/a\u003E, featuring delegate events and a new CSE routine. You can now execute custom tasks during the ascent using \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/structures/misc/kosdelegate.html\u0022 rel=\u0022external nofollow\u0022\u003EKOSDelegates\u003C/a\u003E, like so:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EFUNCTION myCustomOperation {\n    SET curState TO acquireState().  // You can use PEGAS internal functions...\n    SET lastCSER TO upfgInternal[\u0022cser\u0022].  // ...and variables\n    // do whatever you want here\n}\n// Assuming the craft boot file has already set the main sequence, we\u0027ll just edit it\nsequence:ADD(\n    LEXICON(\n        \u0022time\u0022, 450,\n        \u0022type\u0022, \u0022delegate\u0022,\n        \u0022function\u0022, myCustomOperation@\n    )\n).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nGive a thumbs up if you\u0027re still using this in 2021\u00A0\u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-17T16:41:40Z\u0022 title=\u002201/17/2021 04:41  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 17, 2021\u003C/time\u003E by Reddy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dman979","CreatedById":123837,"CreatedDateTime":"2021-01-17T21:08:21Z","Content":"\n\u003Cp\u003E\nMoved to Add-On Releases.\n\u003C/p\u003E\n\u003Cp\u003E\nCongrats on full release!\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2021-01-17T22:23:55Z","Content":"\n\u003Cp\u003E\nNice to see work still being done here. It\u0027s def a thing I\u0027m considering for future missions with more advanced designs that will benefit from something like this\n\u003C/p\u003E\n"},{"CreatedByName":"La Piante","CreatedById":205406,"CreatedDateTime":"2021-05-04T10:39:07Z","Content":"\n\u003Cp\u003E\nis this mod\u0027s working now ?\n\u003C/p\u003E\n"},{"CreatedByName":"Razgriz1","CreatedById":88541,"CreatedDateTime":"2021-05-06T19:43:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223965971\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620124747\u0022 data-ipsquote-userid=\u0022205406\u0022 data-ipsquote-username=\u0022La Piante\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/4/2021 at 5:39 AM, La Piante said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nis this mod\u0027s working now ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, this still works with the current version of kOS.\n\u003C/p\u003E\n"},{"CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2021-05-10T19:37:35Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/88541-razgriz1/\u0026amp;do=hovercard\u0022 data-mentionid=\u002288541\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/88541-razgriz1/\u0022 rel=\u0022\u0022\u003E@Razgriz1\u003C/a\u003E\u00A0Thanks for confirming that - I wouldn\u0027t have checked myself as I\u0027m still stuck with KSP\u00A0v1.2.2 (and\u00A0 thus kOS 1.1.0.0) due to my savefile\u00A0which wouldn\u0027t endure an update. I feel too connected to my builds.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyways, if you ever encounter any problems with the newest KSP/kOS, please let me know (preferably through an issue on github) and I\u0027ll fix such a problem as soon as possible. PEGAS is still being worked on, in fact I\u0027m planning a 1.3 release in a few weeks \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-10T23:16:14Z\u0022 title=\u002205/10/2021 11:16  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 10, 2021\u003C/time\u003E by Reddy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Razgriz1","CreatedById":88541,"CreatedDateTime":"2021-05-11T14:05:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970113\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620675455\u0022 data-ipsquote-userid=\u0022124298\u0022 data-ipsquote-username=\u0022Reddy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Reddy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/88541-razgriz1/\u0026amp;do=hovercard\u0022 data-mentionid=\u002288541\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/88541-razgriz1/\u0022 rel=\u0022\u0022\u003E@Razgriz1\u003C/a\u003E\u00A0Thanks for confirming that - I wouldn\u0027t have checked myself as I\u0027m still stuck with KSP\u00A0v1.2.2 (and\u00A0 thus kOS 1.1.0.0) due to my savefile\u00A0which wouldn\u0027t endure an update. I feel too connected to my builds.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyways, if you ever encounter any problems with the newest KSP/kOS, please let me know (preferably through an issue on github) and I\u0027ll fix such a problem as soon as possible. PEGAS is still being worked on, in fact I\u0027m planning a 1.3 release in a few weeks \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI haven\u0027t had any issues at all. Your code is pretty solid and very clean. I\u0027ve tweaked it a bit for my personal use, and incorporated the Aram1D\u0027s pitch table ascent mode into my own version but the base code still works great.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m glad to hear you\u0027re still working on it! Any hints on what 1.3 will change/add?\n\u003C/p\u003E\n"},{"CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2021-05-11T16:12:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970509\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620741943\u0022 data-ipsquote-userid=\u002288541\u0022 data-ipsquote-username=\u0022Razgriz1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, Razgriz1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny hints on what 1.3 will change/add?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI want to merge Aram1D\u0027s PR but this needs some more work. Would be absolutely great to have it in 1.3 but it relies mostly on me being able to get in touch with him.\n\u003C/p\u003E\n\u003Cp\u003E\nOther than that, I\u0027m working on one other big feature:\u00A0\u003Cem\u003Evirtual stages\u003C/em\u003E\u00A0- representing some physical vehicle stages with more than one\u00A0\u003Cem\u003Elogical\u003C/em\u003E\u00A0stage.\u00A0We\u0027ve already had this to some extent, for example stages with an acceleration limit set - under the hood they were actually treated as two separate stages: one with max throttle until some point, then a new stage with automatic throttling to maintain constant acceleration. This is getting a major extension to allow shutting down selected engines (so it will be possible to tag the\u00A0center engine in an S-IC and shut it down like in a proper Saturn V launch sequence) and more accurate handling of jettison events. These two are already implemented, I\u0027m working on smoothing things out a little bit on the UI side.\u00A0Along the way, the staging mechanism is getting refactored (it\u0027s just a technical thing with no effect on the user, at least no intended one). I\u0027m also planning to use this framework to allow throttling during UPFG control - useful for things like Falcon Heavy, where for some time the boosters provide the most thrust while the core throttles down to conserve fuel.\n\u003C/p\u003E\n\u003Cp\u003E\nAmong the minor things on my radar there\u0027s the long-neglected \u003Cabbr title=\u0022Kerbal Alarm Clock (mod)\u0022\u003EKAC\u003C/abbr\u003E compatibility patch, post-launch task scheduling, better pre-launch checks (partially done alread). I\u0027m also planning a small extension to the staging sequence\u00A0(currently limited to\u00A0\u003Cem\u003Ejettison\u003C/em\u003E,\u00A0\u003Cem\u003Eignition\u003C/em\u003E\u00A0and\u00A0\u003Cem\u003Eullage\u003C/em\u003E\u00A0events), another optional item that would happen \u003Cem\u003Eafter\u003C/em\u003E everything else. This would allow things\u00A0like\u00A0on Saturn V again, where the S-II had that extra interstage ring which was jettisoned soon after the J-2\u0027s ignited (I happen to need this for one of my own designs).\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, I started to hate the current UI and I\u0027m thinking of reshaping that area a little bit... add some more telemetry (\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E? remaining delta-v?), maybe the list of upcoming events. But whether I\u0027ll get around to it for 1.3 or will it get pushed for a hypothetical 1.4 - we\u0027ll see \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Razgriz1","CreatedById":88541,"CreatedDateTime":"2021-05-11T18:22:11Z","Content":"\n\u003Cp\u003E\nHaving more engine-specific throttling control would be very nice.\u00A0 I\u0027m happy to help you verify that it\u0027s still working on the current kOS version again. They do a pretty good job of maintaining backwards-compatibility over there so hopefully it won\u0027t be an issue.\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps my biggest vote for UI improvement would be something along the lines of ETA to upcoming events or something along those lines.\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970564\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620749532\u0022 data-ipsquote-userid=\u0022124298\u0022 data-ipsquote-username=\u0022Reddy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Reddy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI want to merge Aram1D\u0027s PR but this needs some more work. Would be absolutely great to have it in 1.3 but it relies mostly on me being able to get in touch with him.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat about his PR do you think needs tweaking? I may be able to help with that if needed. I\u0027ve got a somewhat modified version of his PR in my own version of the script, as well as the ability to steer the craft so that the thrust vector is pointing through the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E toward the steering direction as opposed to just the facing vector. This is useful for flying the shuttle after booster sep, especially through the roll to heads up maneuver.\n\u003C/p\u003E\n"},{"CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2021-05-11T19:49:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970641\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620757331\u0022 data-ipsquote-userid=\u002288541\u0022 data-ipsquote-username=\u0022Razgriz1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Razgriz1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat about his PR do you think needs tweaking?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI haven\u0027t reviewed his PR in detail, haven\u0027t even tested his solution. But after glancing through the changes, it was obvious to me that it\u00A0needs a bit of cleaning at least. I\u0027ll get to it in due time, I hope Aram1D will want to help me with this. Feel free to join the\u00A0\u003Ca href=\u0022https://github.com/Noiredd/PEGAS/pull/35\u0022 rel=\u0022external nofollow\u0022\u003Ediscussion\u003C/a\u003E\u00A0in the meantime.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970641\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620757331\u0022 data-ipsquote-userid=\u002288541\u0022 data-ipsquote-username=\u0022Razgriz1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Razgriz1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nETA to upcoming events\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSomething like a time-table of events, past and future, with something like a marker denoting where we are? \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970641\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620757331\u0022 data-ipsquote-userid=\u002288541\u0022 data-ipsquote-username=\u0022Razgriz1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Razgriz1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nability to steer the craft so that the thrust vector is pointing through the \u003Cabbr title=\u0022Center of Mass\u0022\u003E\u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E\u003C/abbr\u003E toward the steering direction\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat sounds awesome. I\u0027ve never flown anything like a Shuttle, so haven\u0027t even realized something like this is necessary. I\u0027d love to take a look at that, if possible.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-11T19:53:14Z\u0022 title=\u002205/11/2021 07:53  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 11, 2021\u003C/time\u003E by Reddy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Razgriz1","CreatedById":88541,"CreatedDateTime":"2021-05-11T20:14:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970692\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620762590\u0022 data-ipsquote-userid=\u0022124298\u0022 data-ipsquote-username=\u0022Reddy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, Reddy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSomething like a time-table of events, past and future, with something like a marker denoting where we are?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u00A0would definitely be cool. Very launch livestream\u00A0haha!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970692\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620762590\u0022 data-ipsquote-userid=\u0022124298\u0022 data-ipsquote-username=\u0022Reddy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, Reddy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat sounds awesome. I\u0027ve never flown anything like a Shuttle, so haven\u0027t even realized something like this is necessary. I\u0027d love to take a look at that, if that\u0027s possible.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s definitely a somewhat niche requirement. The Stock Shuttle Orbiter (which is what I fly) has a bit of a hack that rotates the command direction 15 degrees down, but kOS does not like having the command point switch partway through launch, and it wasn\u0027t quite the right angle for the OMS engines, so I thought I\u0027d try and solve it myself. I\u0027m actually fairly proud of my solution. It turned out to be a lot easier than I thought it would be. Basically I just get the position of each of the engines and weights them by their max thrust and sum those vectors. That gives you the offset vector that you need to use instead of your facing vector for steering. Then\u00A0 you just rotate the desired steering direction around the cross product of your forward vector and that offset thrust vector by the angle between them, and lock your steering to that new direction instead of the initial direction.\n\u003C/p\u003E\n\u003Cp\u003E\nMy code for that is at\u00A0\u003Ca href=\u0022https://github.com/Jakathan/shuttle-guidance\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Jakathan/shuttle-guidance\u003C/a\u003E. Specifically the function is\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EshuttleSteerDir(\u0026lt;direction\u0026gt;)\u003C/span\u003E\u00A0in\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elib_shuttle_mnv.ks\u003C/span\u003E. It\u0027s as simple as wrapping whatever steering direction you want to use in the the function and it should take care of the calculation.\u00A0It should be able to handle both pitch and yaw offset, though I\u0027ve really only done significant testing on the pitch offset since that\u0027s what\u0027s required for the shuttle. I need to do more OMS engine out scenarios to test it more.\n\u003C/p\u003E\n\u003Cp\u003E\np.s. Don\u0027t look at the entry guidance portion of the repository, it\u0027s not very good\u00A0\u003Cimg alt=\u0022:sealed:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 title=\u0022:sealed:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-11T20:24:43Z\u0022 title=\u002205/11/2021 08:24  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 11, 2021\u003C/time\u003E by Razgriz1\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"La Piante","CreatedById":205406,"CreatedDateTime":"2021-05-12T04:41:29Z","Content":"\n\u003Cp\u003E\nthank you @\u003Cstrong\u003E\u003Ca data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/88541-razgriz1/\u0026amp;do=hovercard\u0026amp;referrer=https%253A%252F%252Fforum.kerbalspaceprogram.com%252Findex.php%253F%252Ftopic%252F142213-pegas-powered-explicit-guidance-ascent-system-devlog%252F%2526page%253D6%2526csrfKey%253D5b25c625e8875074af189597be570ba6\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/88541-razgriz1/\u0022 style=\u0022background-color:transparent;color:inherit;\u0022 title=\u0022Go to Razgriz1\u0027s profile\u0022 rel=\u0022\u0022\u003ERazgriz1\u003C/a\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI have a problem, after i\u0027m selecting the target, I start the guidance whith KOS but the programme is not auto time warping. Anybody know why ?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Razgriz1","CreatedById":88541,"CreatedDateTime":"2021-05-12T14:38:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970898\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620794489\u0022 data-ipsquote-userid=\u0022205406\u0022 data-ipsquote-username=\u0022La Piante\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, La Piante said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe programme is not auto time warping\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAt the risk of speaking for Reddy again, this code does not do any sort of auto-warping.\n\u003C/p\u003E\n"},{"CreatedByName":"La Piante","CreatedById":205406,"CreatedDateTime":"2021-05-12T17:49:05Z","Content":"\n\u003Cp\u003E\naaaaahhh ok thank you .... I try to launch the space shuttle to the iss orbit whith this programme but when\u00A0 i\u0027m arriving near to the target AP, my shuttle start to flip in every side and its impossible for me to get into orbit... I tried a lot of settings and every time it\u0027s flipping . I think i\u0027m doing somthings wrong ...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EGLOBAL mission IS LEXICON(\n\t\t\t\t\t\u0022payload\u0022, 24844,\n\t\t\t\t\t\u0022periapsis\u0022, 180,\n\t\t\t\t\t\u0022apoapsis\u0022, 200,\n\t\t\t\t\t\u0022inclination\u0022, 65,\n\t\t\t\t\t\u0022LAN\u0022, 100,\n\t\t\t\t\t\u0022direction\u0022, \u0022north\u0022\n).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EGLOBAL vehicle IS LIST(\n\t\t\t\t\tLEXICON(\n\t\t\t\t\t\t\u0022name\u0022, \u0022External Fuel Tank\u0022,\n\t\t\t\t\t\t\u0022massTotal\u0022, 767475,\n\t\t\t\t\t\t\u0022massFuel\u0022, 631381\u002B106094,\n\t\t\t\t\t\t\u0022gLim\u0022, 3,\n\t\t\t\t\t\t\u0022minThrottle\u0022, 0.65,\n\t\t\t\t\t\t\u0022engines\u0022, LIST(LEXICON(\u0022isp\u0022, 453, \u0022thrust\u0022, 3*2090000)),\n\t\t\t\t\t\t\u0022staging\u0022, LEXICON(\n\t\t\t\t\t\t\t\t\t\t\u0022jettison\u0022, FALSE,\n\t\t\t\t\t\t\t\t\t\t\u0022ignition\u0022, FALSE\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n).\nGLOBAL sequence IS LIST(\n\t\t\t\t\tLEXICON(\u0022time\u0022, -4, \u0022type\u0022, \u0022stage\u0022, \u0022message\u0022, \u0022RD-180 ignition\u0022),\n\t\t\t\t\tLEXICON(\u0022time\u0022, 0, \u0022type\u0022, \u0022stage\u0022, \u0022message\u0022, \u0022LIFTOFF\u0022),\n\t\t\t\t\tLEXICON(\u0022time\u0022, 6, \u0022type\u0022, \u0022roll\u0022, \u0022angle\u0022, 180),\n\t\t\t\t\tLEXICON(\u0022time\u0022, 125, \u0022type\u0022, \u0022stage\u0022, \u0022message\u0022, \u0022SRB jettison\u0022),\n\t\t\t\t\tLEXICON(\u0022time\u0022, 200, \u0022type\u0022, \u0022roll\u0022, \u0022angle\u0022, 0)\n).\nGLOBAL controls IS LEXICON(\n\t\t\t\t\t\u0022launchTimeAdvance\u0022, 150,\n\t\t\t\t\t\u0022verticalAscentTime\u0022, 11,\n\t\t\t\t\t\u0022pitchOverAngle\u0022, 4,\n\t\t\t\t\t\u0022upfgActivation\u0022, 130\n).\nSET STEERINGMANAGER:ROLLTS TO 10.\nSWITCH TO 0.\nCLEARSCREEN.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nthanks for your help\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Razgriz1","CreatedById":88541,"CreatedDateTime":"2021-05-12T19:38:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223971143\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620841745\u0022 data-ipsquote-userid=\u0022205406\u0022 data-ipsquote-username=\u0022La Piante\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, La Piante said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nmy shuttle\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs it an actual shuttle-style spacecraft where the thrust vector is not necessarily in line with the forward vector of the vehicle? If so, you can\u0027t really use this code as it currently is to fly a ship like that, as the estimation the script does assumes that your thrust is all acting in the same direction that your ship is facing. If it\u0027s like the Space Shuttle, and you don\u0027t have a way of compensating for that, then the script will think you\u0027re getting less thrust than you actually are, due to some of it acting perpendicular to your facing vector. This invalidates the scripts calculations, and thus it cannot plan its burn duration or attitude correctly. This doesn\u0027t really become apparent until the end of the burn, where it\u0027s trying to fine-tune the orbital insertion.\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s why I wrote the function I was describing above\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223970710\u0022 data-ipsquote-contentid=\u0022142213\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620764098\u0022 data-ipsquote-userid=\u002288541\u0022 data-ipsquote-username=\u0022Razgriz1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, Razgriz1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSpecifically the function is\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EshuttleSteerDir(\u0026lt;direction\u0026gt;)\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere\u0027s also just some inherent issues with kOS\u0027s built in steering if you\u0027re trying to fly vehicles where the thrust is significantly offset if you don\u0027t appropriately correct for it.\n\u003C/p\u003E\n"}]}