{"TopicId":81425,"ForumId":29,"TopicTitle":"Anyone have success with Json.net or other Json libraries?","CreatedByName":"noisybit","CreatedById":62545,"CreatedDateTime":"2014-08-11T16:16:36Z","PageNum":1,"Articles":[{"CreatedByName":"noisybit","CreatedById":62545,"CreatedDateTime":"2014-08-11T16:16:36Z","Content":"\n\u003Cp\u003EI\u0027m having trouble getting Json.net (\u003Ca href=\u0022http://james.newtonking.com/json\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://james.newtonking.com/json\u003C/a\u003E) working in my mod. I think it comes down to KSP/Unity linking against a slightly different version of System.Data.dll. Does anyone have any suggestions or pointers to another Json library. The root exception on calling a Json.net method is \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ECould not load file or assembly \u0027System.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\u0027 or one of its dependencies.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI had success with SimpleJSON (\u003Ca href=\u0022http://wiki.unity3d.com/index.php/SimpleJSON\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.unity3d.com/index.php/SimpleJSON\u003C/a\u003E) but it doesn\u0027t preserve type information.\u003C/p\u003E\n"},{"CreatedByName":"Greys","CreatedById":57109,"CreatedDateTime":"2014-08-11T17:41:23Z","Content":"\n\u003Cp\u003EModStats uses json to encode the statistics package for transmission to the collection server\u003C/p\u003E\u003Cp\u003E*goes for coffee*\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Majiir/ModStatistics/blob/master/ModStatistics.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Majiir/ModStatistics/blob/master/ModStatistics.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ethe very first line is: using JsonFx.Json;\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/jsonfx/jsonfx\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/jsonfx/jsonfx\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-08-12T09:15:30Z","Content":"\n\u003Cp\u003EYou need to make sure it\u0027s build for .NET 3.5 and not 4 or later. ie build it your self.\u003C/p\u003E\n"},{"CreatedByName":"noisybit","CreatedById":62545,"CreatedDateTime":"2014-08-12T18:35:28Z","Content":"\n\u003Cp\u003EThanks! I ended up getting Facebook\u0027s Json library to work (\u003Ca href=\u0022https://github.com/facebook-csharp-sdk/simple-json\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/facebook-csharp-sdk/simple-json\u003C/a\u003E). But I\u0027ll take a look at JsonFx too.\u003C/p\u003E\n"},{"CreatedByName":"noisybit","CreatedById":62545,"CreatedDateTime":"2014-08-12T18:37:00Z","Content":"\n\u003Cp\u003EYeah, Unity/KSP seem to be quite particular with c# versions and libraries. Am I correct in thinking that whatever is linked into Unity and KSP is slightly non-standard, even using the c# 3.5 client profile?\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-08-12T22:01:08Z","Content":"\n\u003Cp\u003EI don\u0027t think so, because you don\u0027t use Unity to compile it, but your C# compiler.\u003C/p\u003E\n"},{"CreatedByName":"noisybit","CreatedById":62545,"CreatedDateTime":"2014-08-13T22:19:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EI don\u0027t think so, because you don\u0027t use Unity to compile it, but your C# compiler.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETrue. I just learned C# for this project so my knowledge is a little lacking. What\u0027s inside the Assembly-CSharp reference that we link in from the KSP install?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-08-14T08:59:00Z","Content":"\n\u003Cp\u003EThe game code itself.\u003C/p\u003E\n"},{"CreatedByName":"noisybit","CreatedById":62545,"CreatedDateTime":"2014-08-14T22:25:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThe game code itself.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDerp. Yup. Thanks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MeateaW","CreatedById":24950,"CreatedDateTime":"2014-08-17T05:20:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022noisybit\u0022 data-cite=\u0022noisybit\u0022\u003E\u003Cdiv\u003EYeah, Unity/KSP seem to be quite particular with c# versions and libraries. Am I correct in thinking that whatever is linked into Unity and KSP is slightly non-standard, even using the c# 3.5 client profile?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnity uses Mono, which is an open source implementation of DotNet. They use mono so they can use dotnet on mac, and linux. As far as I am aware they have most of .net 2, and 3.5 is based off the 2 framework. (4 onwards did new [awesome] things, which we sadly cannot use due to mono not implementing them [yet??]).\u003C/p\u003E\n"}]}