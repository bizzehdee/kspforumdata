{"TopicId":104743,"ForumId":29,"TopicTitle":"[ANSWERED]floatCurves","CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-04-23T08:42:58Z","PageNum":1,"Articles":[{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-04-23T08:42:58Z","Content":"\n\u003Cp\u003EI there any way I can create Float curve function in a Plugin. Does unity expose any tools for this I can use in C#?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T09:39:17Z\u0022 title=\u002204/23/2015 09:39  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by FreeThinker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-04-23T08:52:06Z","Content":"\n\u003Cp\u003EWhat do you mean by \u0027create float curve function\u0027? Can you give a bit more detail?\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-04-23T09:13:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EWhat do you mean by \u0027create float curve function\u0027? Can you give a bit more detail?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m looking for a way to get a result from a floatcurve with several nodes. I like to do something like\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evar result = new Unity.FloatCurve(new double[4][2] {{0,0.01},{0.2,0.1},{0.5, 0.5}{1,1}}).Evaluate(x);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T09:27:43Z\u0022 title=\u002204/23/2015 09:27  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by FreeThinker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T09:24:32Z","Content":"\n\u003Cp\u003ENo such luck for a one liner (you could ofc make your own to do so), although why you wouldn\u0027t be caching the resulting curve...?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFloatCurve curve = new FloatCurve();\u003Cbr\u003Ecurve.Add(0,0.1,0,0);\u003Cbr\u003Ecurve.add(0.2,0.1)\u003Cbr\u003Ecurve.add(0.5,0.5);\u003Cbr\u003Ecurve.add(1,1);\u003Cbr\u003Ecurve.Evaluate(x);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T09:26:34Z\u0022 title=\u002204/23/2015 09:26  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-04-23T09:30:37Z","Content":"\n\u003Cp\u003EWell, it was just an short illustration to make clear what I want. I want to create a Curve which I can use to get result given x. The curve would be created only once durrent initialisation and then called durring update.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003EPerhaps I can do it unity AnimationCurve\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic class ExampleClass : MonoBehaviour {\u003Cbr\u003E    public AnimationCurve curve = new AnimationCurve(new Keyframe(0, 0), new Keyframe(1, 1));\u003Cbr\u003E    void Update() {\u003Cbr\u003E        transform.position.x = Time.time;\u003Cbr\u003E        transform.position.y = curve.Evaluate(Time.time);\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-23T09:33:02Z","Content":"\n\u003Cp\u003EFloatCurve are KSP class that uses Unity AnimationCurve. They don\u0027t have a useful constructor in .90 but AnimationCurve has : \u003C/p\u003E\u003Cp\u003Evar result = new AnimationCurve( new[] { new Keyframe(0,1), new Keyframe(1,5) }).Evaluate(0.5)\u003C/p\u003E\u003Cp\u003EI just want to add that those object should be saved and doing that much new each frame, or worse in a loop, is an abomination \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit : I took too much time to post \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-23T09:35:25Z\u0022 title=\u002204/23/2015 09:35  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 23, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-04-23T09:41:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EFloatCurve are KSP class that uses Unity AnimationCurve. They don\u0027t have a useful constructor in .90 but AnimationCurve has : \u003Cp\u003Evar result = new AnimationCurve( new[] { new Keyframe(0,1), new Keyframe(1,5) }).Evaluate(0.5)\u003C/p\u003E\u003Cp\u003EI just want to add that those object should be saved and doing that much new each frame, or worse in a loop, is an abomination \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit : I took too much time to post \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat, I think I now have the tools to achieve what I want. Now the only question left if to create some decent set of nodes, but it appears some special editors can help me with that. Thanks!\u003C/p\u003E\n"}]}