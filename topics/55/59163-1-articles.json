{"TopicId":59163,"ForumId":55,"TopicTitle":"Stream Mods from hard disk rather than load into memory.","CreatedByName":"Zaithe","CreatedById":66014,"CreatedDateTime":"2014-01-07T08:17:18Z","PageNum":1,"Articles":[{"CreatedByName":"Zaithe","CreatedById":66014,"CreatedDateTime":"2014-01-07T08:17:18Z","Content":"\n\u003Cp\u003EKSP could be a lot more mod friendly if you followed best practices for how the program loads content and handles it. You could make the program use a ton less than it does now by just loading from the hard disk when needing to be used and anything not on is garbage collected in the memory. Not to mention it would eliminate the long loading screen at the bottom and probably use 1/3 of the memory if not more than it uses now.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2014-01-07T10:48:38Z","Content":"\n\u003Cp\u003EMost of this is currently handled by Unity\u0027s own file loading system, AFAIK. Doing this would require coding an entirely new loading sequence from scratch... or I guess potentially finding some open source, freely-available codebase to work with on this matter...\u003C/p\u003E\n"},{"CreatedByName":"MR4Y","CreatedById":66897,"CreatedDateTime":"2014-01-07T15:13:02Z","Content":"\n\u003Cp\u003EI suggested this before and was met with refusal for the most part. Apparently, if it only works well with audio (Native Instruments\u0027 Kontakt uses disk streaming to load samples on the fly as you press the key, Vienna Symphonic does that and even supports loading samples from a second PC[it\u0027s library being 750 GB large]), probably won\u0027t work in pc, as stated by some, even though Space Engine, Batman: Arkham Asylum, Burnout Paradise, Fallout: New Vegas and a few other ones use Dynamic Loading as well, instead of running entirely from RAM.\u003C/p\u003E\n"},{"CreatedByName":"Zaithe","CreatedById":66014,"CreatedDateTime":"2014-01-07T20:08:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MR4Y\u0022 data-cite=\u0022MR4Y\u0022\u003E\u003Cdiv\u003EI suggested this before and was met with refusal for the most part. Apparently, if it only works well with audio (Native Instruments\u0027 Kontakt uses disk streaming to load samples on the fly as you press the key, Vienna Symphonic does that and even supports loading samples from a second PC[it\u0027s library being 750 GB large]), probably won\u0027t work in pc, as stated by some, even though Space Engine, Batman: Arkham Asylum, Burnout Paradise, Fallout: New Vegas and a few other ones use Dynamic Loading as well, instead of running entirely from RAM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIts ridiculous because you could have this setup by a Indian programmer in a couple days. Good to see Squad is putting the money to good use. Stop working on career mode which noone cares about and put the money where it actually matters.\u003C/p\u003E\n"},{"CreatedByName":"MR4Y","CreatedById":66897,"CreatedDateTime":"2014-01-08T01:05:08Z","Content":"\n\u003Cp\u003EIt is possible to do dynamic loading of assets in Unity3D, according to it\u0027s documentation.\u003C/p\u003E\n"},{"CreatedByName":"Yourself","CreatedById":4465,"CreatedDateTime":"2014-01-08T02:43:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zaithe\u0022 data-cite=\u0022Zaithe\u0022\u003E\u003Cdiv\u003EKSP could be a lot more mod friendly if you followed best practices for how the program loads content and handles it. You could make the program use a ton less than it does now by just loading from the hard disk when needing to be used and anything not on is garbage collected in the memory. Not to mention it would eliminate the long loading screen at the bottom and probably use 1/3 of the memory if not more than it uses now.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe primary problem with your idea is that as soon as anyone needs to load the VAB, they have to load everything anyway so that the parts are available for use.\u003C/p\u003E\n"},{"CreatedByName":"MR4Y","CreatedById":66897,"CreatedDateTime":"2014-01-08T02:47:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yourself\u0022 data-cite=\u0022Yourself\u0022\u003E\u003Cdiv\u003EThe primary problem with your idea is that as soon as anyone needs to load the VAB, they have to load everything anyway so that the parts are available for use.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot really. You could load the parts and put them into RAM when needed. Then you offload other parts that aren\u0027t being used at the moment from RAM.\u003C/p\u003E\n"},{"CreatedByName":"6.forty","CreatedById":97939,"CreatedDateTime":"2014-01-08T03:17:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yourself\u0022 data-cite=\u0022Yourself\u0022\u003E\u003Cdiv\u003EThe primary problem with your idea is that as soon as anyone needs to load the VAB, they have to load everything anyway so that the parts are available for use.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOnly the parts being used on the rocket need full res textures. The entire parts catalog could use quarter res mipmaps and low quality mesh for the thumbnail, and only the current page of the current section absolutely needs to be loaded anyway. Loading everything always is just not necessary, but likely to be addressed if Squad gets in an \u0022OPTIMIZE!\u0022 mood.\u003C/p\u003E\n"},{"CreatedByName":"MR4Y","CreatedById":66897,"CreatedDateTime":"2014-01-08T04:54:36Z","Content":"\n\u003Cp\u003EThe problem can escalate to a point that we won\u0027t be able to run the Stock KSP because of how much RAM it uses. KSP doesn\u0027t use parallel processing, nor it\u0027s 64 bit and relies into copying the eintire game into RAM.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-08T04:57:56Z\u0022 title=\u002201/08/2014 04:57  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 8, 2014\u003C/time\u003E by MR4Y\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LORDPrometheus","CreatedById":61414,"CreatedDateTime":"2014-01-08T18:39:54Z","Content":"\n\u003Cp\u003EWhile a good idea in concept it really only affects the where you wait not how long. Either wait three minutes at the beginning once or three minutes every time you enter the VAB or SPH. Personally I just take the time to grab a fresca or go to the bathroom and relax\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-01-08T18:52:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022vexx32\u0022 data-cite=\u0022vexx32\u0022\u003E\u003Cdiv\u003EMost of this is currently handled by Unity\u0027s own file loading system, AFAIK. Doing this would require coding an entirely new loading sequence from scratch... or I guess potentially finding some open source, freely-available codebase to work with on this matter...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease (you and others) stop repeating this falsehood. KSP already has its own file loading system, and it\u0027s about as primitive as you can get. This is absolutely something that can and must be solved by Squad.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2014-01-09T03:07:16Z","Content":"\n\u003Cp\u003EI stand corrected. Needs a re-code, then, eh? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"LORDPrometheus","CreatedById":61414,"CreatedDateTime":"2014-01-09T04:12:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022vexx32\u0022 data-cite=\u0022vexx32\u0022\u003E\u003Cdiv\u003EI stand corrected. Needs a re-code, then, eh? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMore like coded in the first place by someone who has reason to try\u003C/p\u003E\n"},{"CreatedByName":"MR4Y","CreatedById":66897,"CreatedDateTime":"2014-01-09T05:29:57Z","Content":"\n\u003Cp\u003EMore like needs to be something with function in mind instead of a quick fix. They\u0027ll never leave the alpha stage this way. Yes, the alpha stage is where you implement features, but you can\u0027t implement features under a base that needs to be fixed constantly.\u003C/p\u003E\n"},{"CreatedByName":"6.forty","CreatedById":97939,"CreatedDateTime":"2014-01-09T06:07:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LORDPrometheus\u0022 data-cite=\u0022LORDPrometheus\u0022\u003E\u003Cdiv\u003EEither wait three minutes at the beginning once or \u003Cstrong\u003Ethree minutes every time you enter the VAB or SPH.\u003C/strong\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI take it you\u0027ve never played Oblivion, Skyrim, GTA, or any of the other countless games that, in just one minute of gameplay, stream - in real time - more data than the KSP folder even contains.\u003C/p\u003E\n"},{"CreatedByName":"LORDPrometheus","CreatedById":61414,"CreatedDateTime":"2014-01-09T14:09:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00226.forty\u0022 data-cite=\u00226.forty\u0022\u003E\u003Cdiv\u003EI take it you\u0027ve never played Oblivion, Skyrim, GTA, or any of the other countless games that, in just one minute of gameplay, stream - in real time - more data than the KSP folder even contains.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EArea loading is a lot different than what KSP does that\u0027s rendering a cell from a preset database KSP has to account for whatever you can and will build meaning it is actually a lot more complex. That and C# is a lot more. Effecient than squads system at loading.\u003C/p\u003E\n"},{"CreatedByName":"6.forty","CreatedById":97939,"CreatedDateTime":"2014-01-09T19:09:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LORDPrometheus\u0022 data-cite=\u0022LORDPrometheus\u0022\u003E\u003Cdiv\u003EArea loading is a lot different than what KSP does that\u0027s rendering a cell from a preset database KSP has to account for whatever you can and will build meaning it is actually a lot more complex. That and C# is a lot more. Effecient than squads system at loading.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif(bVisible)\u003Cbr\u003E{\u003Cbr\u003E    LoadGfx();\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EComplex indeed.\u003C/p\u003E\n"},{"CreatedByName":"MR4Y","CreatedById":66897,"CreatedDateTime":"2014-01-09T19:18:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LORDPrometheus\u0022 data-cite=\u0022LORDPrometheus\u0022\u003E\u003Cdiv\u003EArea loading is a lot different than what KSP does that\u0027s rendering a cell from a preset database KSP has to account for whatever you can and will build meaning it is actually a lot more complex. That and C# is a lot more. Effecient than squads system at loading.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can give you a LIST of games that use dynamic loading for a MULTITUDE of tasks, not only area loading.\u003C/p\u003E\u003Cp\u003E-Burnout Paradise loads car models during the selection screen when you pick them.\u003C/p\u003E\u003Cp\u003E-Dead Space 2 uses a lot of dynamic loading tricks, which explains why the game apparently has no loading screens at all.\u003C/p\u003E\u003Cp\u003E-The PSP port of Disgaea 2 loaded it\u0027s spells from the disk. The animations before them were just there to mask the loading.\u003C/p\u003E\u003Cp\u003E-The C64 version of Dragon\u0027s Lair and it\u0027s sequel loaded the next level while you were playing the level before that.\u003C/p\u003E\u003Cp\u003E-The God of War series was acclaimed for it\u0027s lack of loading screens.\u003C/p\u003E\u003Cp\u003E-In Legend of Zelda: The Wind Waker, islands load while you are sailing towards them. In fact, the developers set the sailing speed as seen in the Gamecube version in order to ensure the islands do get loaded.\u003C/p\u003E\u003Cp\u003EWe don\u0027t need to go so far. Operating systems use dynamic loading ALL THE TIME.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-09T19:30:22Z\u0022 title=\u002201/09/2014 07:30  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 9, 2014\u003C/time\u003E by MR4Y\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jwenting","CreatedById":57735,"CreatedDateTime":"2014-01-09T19:20:25Z","Content":"\n\u003Cp\u003Eunless you\u0027re overloaded with mods and addons, there\u0027s no need for any of this. And if you are, you\u0027re in trouble anyway.\u003C/p\u003E\u003Cp\u003EMy RAM is a lot faster than my hard disk, to have to wait a minute whenever I click something in the VAB or it comes into view anywhere, and that\u0027s what would happen, would be an unacceptable burden.\u003C/p\u003E\n"},{"CreatedByName":"MR4Y","CreatedById":66897,"CreatedDateTime":"2014-01-09T19:38:52Z","Content":"\n\u003Cp\u003E[quote name=jwenting;898462\u003C/p\u003E\u003Cp\u003EMy RAM is a lot faster than my hard disk\u0027 date=\u0027 to have to wait a minute whenever I click something in the VAB or it comes into view anywhere, and that\u0027s what would happen, would be an unacceptable burden.\u003C/p\u003E\u003Cp\u003EGood for you. Unfortunately, we don\u0027t have the same hardware you have.\u003C/p\u003E\n"},{"CreatedByName":"6.forty","CreatedById":97939,"CreatedDateTime":"2014-01-09T19:55:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jwenting\u0022 data-cite=\u0022jwenting\u0022\u003E\u003Cdiv\u003Eunless you\u0027re overloaded with mods and addons, there\u0027s no need for any of this. And if you are, you\u0027re in trouble anyway.\u003Cp\u003EMy RAM is a lot faster than my hard disk, to have to wait a minute whenever I click something in the VAB or it comes into view anywhere, and that\u0027s what would happen, would be an unacceptable burden.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re underestimating the throughput of a hard drive. An old PATA drive would handle it all in a couple of seconds, and for any modern drive it would be about one second or less. We aren\u0027t dealing with a bunch of 4096x4096 textures. And if we are, then as I\u0027ve said before mipmaps are great and should be in use.\u003C/p\u003E\n"},{"CreatedByName":"LORDPrometheus","CreatedById":61414,"CreatedDateTime":"2014-01-09T21:35:16Z","Content":"\n\u003Cp\u003EIt would actually create a more processor intensive system creating lag and since ksp is single threaded therr isn\u0027t much room to work with\u003C/p\u003E\n"},{"CreatedByName":"6.forty","CreatedById":97939,"CreatedDateTime":"2014-01-09T21:46:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LORDPrometheus\u0022 data-cite=\u0022LORDPrometheus\u0022\u003E\u003Cdiv\u003EIt would actually create a more processor intensive system creating lag and since ksp is single threaded therr isn\u0027t much room to work with\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECode that would be active for only a second (or fraction of one) at vessel switch/encounter or on entering VAB/SPH is hardly \u0022intensive\u0022... unless you\u0027re trying to play KSP on a Pentium II in which case you\u0027re gonna have a bad time no matter what.\u003C/p\u003E\n"},{"CreatedByName":"miracmert","CreatedById":67128,"CreatedDateTime":"2014-01-09T22:26:08Z","Content":"\n\u003Cp\u003ENobody ever played FSX? IF FSX loaded all planes, sceneries and ground objects at one time, you computer would melt. Instead, it has a menu to choose and load your aircraft and then while in the simulation, it loads things that are only visible. Even though, it uses lots of gigs in RAM however provides a beautiful gameplay. It wouldn\u0027t be so difficult for SQUAD to create a dynamic loading system which would improve the gameplay a lot and help SQUAD not thinking desperately if they should add a feature or not.\u003C/p\u003E\n"},{"CreatedByName":"austincurr","CreatedById":31939,"CreatedDateTime":"2014-01-09T23:29:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MR4Y\u0022 data-cite=\u0022MR4Y\u0022\u003E\u003Cdiv\u003EGood for you. Unfortunately, we don\u0027t have the same hardware you have.\u003C/div\u003E\u003C/blockquote\u003E XD there is no way your ram is slower than your hard drive. Ram is way, way faster- tens of gigabytes per second versus maybe 100-200 peak for a mechanical hard drive, and that figure drops if seeking around the platter.\u003Cp\u003EEdit: Idea: Having to load from disk would be bad IMO but what about loading from a separate thread dedicated to holding the parts, textures, etc that aren\u0027t in use, basically a ramdisk? (That should be possible maybe and if hard drives are being considered anything would have to be better.) The problem with only loading what is being used is what happens if you build a rocket with so many unique parts you can\u0027t load them all at once? Do you drop down to super low-rez textures, do you somehow fetch each one in and out just in tome, I don\u0027t even know.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-09T23:38:19Z\u0022 title=\u002201/09/2014 11:38  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 9, 2014\u003C/time\u003E by austincurr\u003C/strong\u003E\n\u003C/span\u003E\n"}]}