{"TopicId":133670,"ForumId":55,"TopicTitle":"One docking port, disconnected vessels, two\u002B docking ports connected","CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-03-07T07:31:14Z","PageNum":1,"Articles":[{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-03-07T07:31:14Z","Content":"\n\u003Cp\u003E\nI was thinking about version 1.1 and independently threaded ships and thinking, it would be great to have a nice ship and a nice station, but when you dock they become one, and you become subject to the single physics thread bad person. So my idea was why can\u0027t two craft docked by only a single docking port remain two vessels, physics wise.\u00A0If you dock two or more docking ports together you are trying to build a single craft. In my head I can see a different type of joint that does not simulate torque and other physics calculations, is easily breakable, but just allows transfer of resources and Kerbals.\n\u003C/p\u003E\n\u003Cp\u003E\nI know there will be lots of people who will bring up cases where they want to dock two craft with a single docking port and become one, but, think of the advantages, a proper space port with multiple ships docked? A single docking port is a poor physical \u00A0connection between craft anyway, and I would always connect multiple,\u00A0I have seen many stock and modded solutions to the weakness of docking port joins.\n\u003C/p\u003E\n\u003Cp\u003E\ni know there are issues, especially calculating movement change between vessels and torque from one affecting another, I guess I am thinking a super sloppy linkage, maybe magnetic force only? that breaks at the least provocation, its physics is very simply simulated and if timewarp or scene changes happen the vessels are actually separated.\n\u003C/p\u003E\n"},{"CreatedByName":"Tex","CreatedById":75164,"CreatedDateTime":"2016-03-07T13:46:39Z","Content":"\n\u003Cp\u003E\nI imagine the main reason for it, as with many other things in KSP, is done for saving peoples\u0027 FPS. Games get clogged up by just calculating for debris, and you don\u0027t even have to be looking at said debris for it to have an effect. Imagine calculating multiple different ships, all of which have higher part counts and such. Docking together to join them makes them all one part. Flimsy, yes, but there are mods to stabilize it.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCertainly don\u0027t quote me on the game mechanics, I\u0027ve got no idea. It\u0027s just what I can figure from conjecture.\n\u003C/p\u003E\n"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-03-08T06:00:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222445966\u0022 data-ipsquote-contentid=\u0022133670\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457358399\u0022 data-ipsquote-userid=\u002275164\u0022 data-ipsquote-username=\u0022Maximus97\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Maximus97 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI imagine the main reason for it, as with many other things in KSP, is done for saving peoples\u0027 FPS. Games get clogged up by just calculating for debris, and you don\u0027t even have to be looking at said debris for it to have an effect. Imagine calculating multiple different ships, all of which have higher part counts and such. Docking together to join them makes them all one part. Flimsy, yes, but there are mods to stabilize it.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCertainly don\u0027t quote me on the game mechanics, I\u0027ve got no idea. It\u0027s just what I can figure from conjecture.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s just it though, currently it doesn\u0027t matter the more parts and vessels in physics range\u00A0the worse your game runs because the physics thread is single threaded, in 1.1 it is going to be multi threaded, so each vessel will have its own thread. So having lots of ships in physics range won\u0027t lag the game like it currently does. However start docking those vessels together and you will be pushing it all into one thread again and the lag will start. I am just proposing some thought goes into a docking method that does not require actually creating one craft from two docked craft, and that they maintain there own separate physics thread.\n\u003C/p\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2016-03-08T11:20:56Z","Content":"\n\u003Cp\u003E\nIf it can be done then great.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the very nature of docking (both IRL and in\u00A0game) means that the\u00A0two vessels become joined, and any movement by one will have an effect on the other so it may well not be possible to\u00A0treat them as separate ships on individual threads.\n\u003C/p\u003E\n"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-03-08T22:44:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222447431\u0022 data-ipsquote-contentid=\u0022133670\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457436056\u0022 data-ipsquote-userid=\u0022130621\u0022 data-ipsquote-username=\u0022pandaman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, pandaman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf it can be done then great.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the very nature of docking (both IRL and in\u00A0game) means that the\u00A0two vessels become joined, and any movement by one will have an effect on the other so it may well not be possible to\u00A0treat them as separate ships on individual threads.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is true, but how well does it need to be simulated, maybe the docking joint could run it\u0027s own little thread and just pass values to the two other threads. It would probably be sloppy as heck and the joint would react slowly, but I would sacrifice this for having a great station and a nice craft docked for transfer in orbit.\n\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2016-03-09T17:56:45Z","Content":"\n\u003Cp\u003E\nMultiple ships in the same physics bubble affect each other right now anyway, what happens when you bump into a piece of debris with your active vessel? It explodes or gets nudged out of the way.\n\u003C/p\u003E\n\u003Cp\u003E\nIf two vessels are docked, it only means they are in some way constrained together when it comes to movement,\u00A0but can still be calculated as being two different vessels (just like in real life). Right now, KSP recalculates the part tree when a vessel docks or undocks, which poses its own set of specific problems, most notably with the root part changing causing controls to go haywire.\n\u003C/p\u003E\n"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-03-09T23:14:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222449456\u0022 data-ipsquote-contentid=\u0022133670\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457546205\u0022 data-ipsquote-userid=\u0022139954\u0022 data-ipsquote-username=\u0022Stoney3K\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Stoney3K said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMultiple ships in the same physics bubble affect each other right now anyway, what happens when you bump into a piece of debris with your active vessel? It explodes or gets nudged out of the way.\n\u003C/p\u003E\n\u003Cp\u003E\nIf two vessels are docked, it only means they are in some way constrained together when it comes to movement,\u00A0but can still be calculated as being two different vessels (just like in real life). Right now, KSP recalculates the part tree when a vessel docks or undocks, which poses its own set of specific problems, most notably with the root part changing causing controls to go haywire.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey won\u0027t be such a burden in 1.1 because even though their movement needs to be calculated each part tree can be in a different thread, You could break this problem up into many threads, but once you dock and create one craft, and the part tree is recalculated that all must be in a single thread and then you lose performance. If however you could break the problem into three threads by keeping the part trees separate your performance would not suffer as much. You would not be able to say, tow a cart this way, the simulation would be too sloppy, I would suggest the connection severs if any large movement happens and then they are all separate again, otherwise you would have springy rope type behaviour.\n\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2016-03-11T13:47:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222449952\u0022 data-ipsquote-contentid=\u0022133670\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457565272\u0022 data-ipsquote-userid=\u0022125899\u0022 data-ipsquote-username=\u0022selfish_meme\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9-3-2016 at 0:14 AM, selfish_meme said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou would not be able to say, tow a cart this way, the simulation would be too sloppy, I would suggest the connection severs if any large movement happens and then they are all separate again, otherwise you would have springy rope type behaviour.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI suspect that towing a cart through docking ports will work *better* with a mechanism like that. Right now, when docking ports are docked, their connection is rigid no matter what happens, with no force being strong enough to tear the two docked pieces apart without ripping the docking port off first. That\u0027s not how real docking ports work.\n\u003C/p\u003E\n\u003Cp\u003E\nSure, when a hard dock is achieved there will be limited room for movement, but this is normal since a real spacecraft also needs to take care not to apply any huge forces which may tear the docked combination apart. You can also put a technical spin on it like saying the port has a built-in safety mechanism that undocks or reverts to soft dock if any of the forces on the port are too big to prevent the port(s) from being torn off the ship.\n\u003C/p\u003E\n\u003Cp\u003E\nUsing KAS you can already connect up or tow two separate vessels which *remain* separate. The only KAS part that acts as a docking port is the fuel line, and even that is flexible.\n\u003C/p\u003E\n"},{"CreatedByName":"StarManta","CreatedById":57805,"CreatedDateTime":"2016-03-11T16:02:28Z","Content":"\n\u003Cp\u003E\nThe problem is that forces can still translate and feed-back through the docking ports, and that\u0027s what prevent them from being on different cores.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, imagine you have a big space station, and a tiny capsule, connected to the station by a docking port. Now, take another ship, and ram the tiny capsule. The physics engine must not only calculate how hard the capsule pushes back against your ramming ship, it has to calculate how hard the \u003Cem\u003Eentire station\u003C/em\u003E pushes back. The mass of the station, not to mention how it\u0027s configured, all factor into the \u0022pushing back\u0022 factor - if said docking port is on the end of a flexible \u0027arm\u0027 of the station, it won\u0027t push back as hard as if it\u0027s in the central area\u00A0of a solid, rigid station.\n\u003C/p\u003E\n\u003Cp\u003E\nThat \u0022pushing back\u0022 calculation is nearly impossible to split into threads, and it has to be calculated a lot, even for non-ramming purposes. That\u0027s probably the main reason for not being able to split it into different sections.\n\u003C/p\u003E\n\u003Cp\u003E\nSome games (I think Space Engineers does this?)\u00A0get around this sort of thing by having the core of the station be \u0027static\u0027 - it doesn\u0027t flex and doesn\u0027t move no matter how hard it\u0027s pushed. So when the \u0027pushing back\u0027 calculation reaches a static part, it can stop, and doesn\u0027t have to care about anything that\u0027s connected beyond that part. Thus, each connected part that \u003Cem\u003Eis\u003C/em\u003E\u00A0physics-simulated counts as its own independent vessel, and can be simulated on a different thread.\u00A0Possibly, in a future update to the game, the rails physics might be updated to simulate the station core itself and make it static, under certain conditions (e.g. it\u0027s not rotating, it has enough solid rigid parts that it wouldn\u0027t flex, etc) - but such a system would be prone to its own bugs and problems unless extremely carefully handled, so it might be kind of a long shot.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-11T16:03:34Z\u0022 title=\u002203/11/2016 04:03  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 11, 2016\u003C/time\u003E by StarManta\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2016-03-11T16:34:38Z","Content":"\n\u003Cp\u003E\nForget docking ports. This sounds like the plastic inflated transfer tube concept that I think some sci fi uses.\n\u003C/p\u003E\n\u003Cp\u003E\nI guess I\u0027m convinced. You\u0027d get the two separate ships within\u00A0say 20m and their transfer tube ports facing each other. You click the \u0022extend transfer tube\u0022 button, and an initial calculation is done somewhere to establish whether they\u0027re close enough for the link to be established. If so, then the game starts rendering a long floppy connector that clearly has no ability to withstand significant forces, and a flag is set in each craft so that they re-check the connection on each of their physics passes from that point onward to see whether the tube has ripped in half. As long as it\u0027s still there, you have access to menu options to move crew and fuel between the separate crafts. Sounds a bit too future-tech for stock, but I can imagine it in a mod.\n\u003C/p\u003E\n"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-03-11T20:39:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222452541\u0022 data-ipsquote-contentid=\u0022133670\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457714078\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nForget docking ports. This sounds like the plastic inflated transfer tube concept that I think some sci fi uses.\n\u003C/p\u003E\n\u003Cp\u003E\nI guess I\u0027m convinced. You\u0027d get the two separate ships within\u00A0say 20m and their transfer tube ports facing each other. You click the \u0022extend transfer tube\u0022 button, and an initial calculation is done somewhere to establish whether they\u0027re close enough for the link to be established. If so, then the game starts rendering a long floppy connector that clearly has no ability to withstand significant forces, and a flag is set in each craft so that they re-check the connection on each of their physics passes from that point onward to see whether the tube has ripped in half. As long as it\u0027s still there, you have access to menu options to move crew and fuel between the separate crafts. Sounds a bit too future-tech for stock, but I can imagine it in a mod.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is exactly what I am thinking without the tube. You would not need to calculate force transfer through the connection above the ship is moving at more than .2ms or something then the connection is severed.\n\u003C/p\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2016-03-11T21:51:52Z","Content":"\n\u003Cp\u003E\nThe flexible tube idea could be a possibility. \u00A0For stuff in space I imagine it would be deployed temporarily while you transfer stuff. Then retracted to prevent damage, possibly automatically if neither vessel is focused.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}