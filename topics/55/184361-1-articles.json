{"TopicId":184361,"ForumId":55,"TopicTitle":"Upgrade NET Framework version","CreatedByName":"LVLVbNH","CreatedById":197387,"CreatedDateTime":"2019-05-09T14:44:18Z","PageNum":1,"Articles":[{"CreatedByName":"LVLVbNH","CreatedById":197387,"CreatedDateTime":"2019-05-09T14:44:18Z","Content":"\n\u003Cp\u003E\nAny plans for up NET Framework version from 3.5? Any reasons why it can\u0027t be done?\n\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2019-05-10T22:47:35Z","Content":"\n\u003Cp\u003E\nI think the more important question is - is there any real benefit to moving to a new version of .NET?\n\u003C/p\u003E\n\u003Cp\u003E\nSoftware development is driven by both technical and business decisions, through cost-benefit analysis. Given that KSP is currently built around .NET 3.5, migrating to a newer version may require significant refactoring/rewriting of existing code, which is likely to require far more time and resources compared with adding and improving new gameplay features on the existing version of .NET. \u0022But it\u0027ll be awesome/worth it!\u0022 isn\u0027t really pragmatic decision making.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s a real-life example from one of my past jobs:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nI used to work at a company whose products were essentially embedded Linux computers running a custom Java application. We identified an issue where the internal clock of the embedded computers inside the products would sometimes forget what time zone it was in, causing the generated log files to have the wrong time stamps.\n\u003C/p\u003E\n\u003Cp\u003E\nI eventually determined that the version of the Java Runtime Environment running on our embedded computers had a bug with its time synchronization feature, which was already fixed with a newer and publicly-available version of the JRE. I confirmed the fix by actually building and running our custom app against the new JRE.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, we realized that migrating to the new JRE would be very risky because many of our app\u0027s mission-critical features relied on third-party libraries officially certified for use with the current (older) JRE - verifying, updating or finding replacements for all the libraries would be very time consuming and costly (we would have to pay licensing fees for any updated libraries on every product we ship or have already shipped, whereas we had currently been using older, free and open-source libraries up until now). Not to mention all the extra time required to verify that the new JRE doesn\u0027t break any of our other features.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the end, the head of software development (and my boss at the time) simply wrote a cron job to manually sync time zones for the buggy JRE - a hacky but time and cost-saving workaround.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2019-05-14T18:20:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223596196\u0022 data-ipsquote-contentid=\u0022184361\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221557413058\u0022 data-ipsquote-userid=\u0022197387\u0022 data-ipsquote-username=\u0022LVLVbNH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/9/2019 at 8:44 AM, LVLVbNH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny plans for up NET Framework version from 3.5? Any reasons why it can\u0027t be done?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo expand upon \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66272-sumghai/\u0026amp;do=hovercard\u0022 data-mentionid=\u002266272\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66272-sumghai/\u0022 rel=\u0022\u0022\u003E@sumghai\u003C/a\u003E\u0027s explanation -- there is little benefit for KSP (or rather Unity) to use newer .NET versions.\u00A0 In fact, they don\u0027t even use the .NET compiler, they use Mono (or Roselyn in recent versions of Unity).\u00A0 Moreso, this isn\u0027t a decision made specifically by the KSP devs, but rather is a limitation of the Unity version that KSP is built with.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, personally I found that if I use Visual Studio as a stand-alone I am able to compile .dll\u0027s using newer C# language features that are not supported by the older .NET 3.5 target (such as inline \u0027out\u0027 variables from C#6/7).\u00A0 So if your only goal is to get access to the newer language features -- you already can.\u00A0 You only need to target the older versions if you are letting Unity compile your .dlls.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.lifehacker.com.au/2016/05/a-primer-for-unity-developers-what-the-heck-is-mono/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.lifehacker.com.au/2016/05/a-primer-for-unity-developers-what-the-heck-is-mono/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"LVLVbNH","CreatedById":197387,"CreatedDateTime":"2019-05-14T20:53:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223598837\u0022 data-ipsquote-contentid=\u0022184361\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221557858045\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo expand upon \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66272-sumghai/\u0026amp;do=hovercard\u0022 data-mentionid=\u002266272\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66272-sumghai/\u0022 rel=\u0022\u0022\u003E@sumghai\u003C/a\u003E\u0027s explanation -- there is little benefit for KSP (or rather Unity) to use newer .NET versions.\u00A0 In fact, they don\u0027t even use the .NET compiler, they use Mono (or Roselyn \u003Cspan\u003E\uFEFF\u003C/span\u003Ein recent versions of Unity).\u00A0 Moreso, this isn\u0027t a decision made specifically by the KSP devs, but rather is a limitation of the Unity version that KSP is built with.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, personally I found that if I use Visual Studio as a stand-alone I am able to compile .dll\u0027s using newer C# language features that are not supported by the older .NET 3.5 target (such as inline \u0027out\u0027 variables from C#6/7).\u00A0 So if your only goal is to get access to the newer language features -- you already can.\u00A0 You only need to target the older versions if you are letting Unity compile your .dlls.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.lifehacker.com.au/2016/05/a-primer-for-unity-developers-what-the-heck-is-mono/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.lifehacker.com.au/2016/05/a-primer-for-unity-developers-what-the-heck-is-mono/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAccording \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/183869-mods-with-wrong-net-target-framework/\u0022 rel=\u0022\u0022\u003Ethis post\u003C/a\u003E\u00A0there is some problems with 4.x dll\u0060s.\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently i just wanted to know why in 2019 moddevs still should use 3.5. At this point @\u003Cstrong\u003E\u003Ca data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66272-sumghai/\u0026amp;do=hovercard\u0026amp;referrer=https%253A%252F%252Fforum.kerbalspaceprogram.com%252Findex.php%253F%252Ftopic%252F184361-upgrade-net-framework-version%252F%2526tab%253Dcomments\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/66272-sumghai/\u0022 style=\u0022background-color:transparent;color:inherit;\u0022 title=\u0022Go to sumghai\u0027s profile\u0022 rel=\u0022\u0022\u003Esumghai\u003C/a\u003E\u00A0\u003C/strong\u003Egave an exhaustive answer.\n\u003C/p\u003E\n"},{"CreatedByName":"Xavier513","CreatedById":103114,"CreatedDateTime":"2019-06-15T23:54:04Z","Content":"\n\u003Cp\u003E\nIt\u0027s understandable for not upgrading, but the world is changing fast, more and more third-party software never support .Net Framework 3.5, for example, \u003Ca href=\u0022https://github.com/grpc/grpc/blob/v1.21.0/src/csharp/README.md#prerequisites\u0022 rel=\u0022external nofollow\u0022\u003EGRPC requires .Net Framework 4.5\u002B\u003C/a\u003E, and \u003Ca href=\u0022https://stackoverflow.com/questions/46293653/grpc-support-for-net-3-5-framework\u0022 rel=\u0022external nofollow\u0022\u003EGRPC has no plan to support 3.5\u003C/a\u003E.(I\u0027m planning to create a new plugin based on GRPC, but unfortunately, I find KSP requires .Net framework 3.5)\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223596990\u0022 data-ipsquote-contentid=\u0022184361\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221557528455\u0022 data-ipsquote-userid=\u002266272\u0022 data-ipsquote-username=\u0022sumghai\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/11/2019 at 6:47 AM, sumghai said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGiven that KSP is currently built around .NET 3.5, migrating to a newer version may require significant refactoring/rewriting of existing code, which is likely to require far more time and resources compared with adding and improving new gameplay features on the existing version of .NET. \u0022But it\u0027ll be awesome/worth it!\u0022 isn\u0027t really pragmatic decision making.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m also a programmer, I believe \u0022refactoring/rewriting of existing code\u0022 is an important part of a long-term software project such as KSP, the key is how to balance the effort between \u0022refactoring/rewriting of existing code\u0022 and new feature development. Many times, I have seen a software finally corrupted and became so hard to maintain that it was\u00A0replaced by a totally new software, at the cost of huge resources and time investment.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe for now, KSP hasn\u0027t reach the point that\u00A0SQUAD has to upgrade .Net Framework, otherwise KSP is too painful to add new features for the dev, or too painful for the community to develop a new plugin/mod. But that day will finally come, as long as KSP is still alive, the later that day is, the more effort \u0022refactoring/rewriting\u0022 KSP will require.\n\u003C/p\u003E\n\u003Cp\u003E\nI can see some signs already in recent years.\u00A0Even\u003Ca href=\u0022https://dotnet.microsoft.com/download/dotnet-framework\u0022 rel=\u0022external nofollow\u0022\u003E Microsoftware won\u0027t end 3.5\u0027s life before 2028-10-10\u003C/a\u003E, depending on an \u0022unofficially outdated\u0022 framework is not a good idea for me, especially when we are talking about KSP, which is still under development and\u00A0\u0022young\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nI bravely estimate that, in three years, KSP will upgrade .Net Framework, before SQUAD finds it\u0027s too late.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-06-16T00:11:03Z\u0022 title=\u002206/16/2019 12:11  AM\u0022 data-short=\u00225 yr\u0022\u003EJune 16, 2019\u003C/time\u003E by Xavier513\u003C/strong\u003E\n\u003Cbr\u003Eadd a link\n\u003C/span\u003E\n"},{"CreatedByName":"4x4cheesecake","CreatedById":187982,"CreatedDateTime":"2019-06-16T05:23:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223619616\u0022 data-ipsquote-contentid=\u0022184361\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221560642844\u0022 data-ipsquote-userid=\u0022103114\u0022 data-ipsquote-username=\u0022Xavier513\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Xavier513 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(I\u0027m planning\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003Cspan\u003E\uFEFF\u003C/span\u003E to create a new plugin based on GRPC, but unfortunately, I find KSP requires .Net framework 3.5\u003Cspan\u003E\uFEFF\u003C/span\u003E)\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, we already got kRPC, might be helpful for you to peek at their code \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002276528\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed2055847608\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/130742-15x-to-122-krpc-control-the-game-using-c-c-java-lua-python-ruby-haskell-c-arduino-v048-28th-october-2018/\u0026amp;do=embed\u0022 style=\u0022height:213px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Xavier513","CreatedById":103114,"CreatedDateTime":"2019-06-16T12:59:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223619716\u0022 data-ipsquote-contentid=\u0022184361\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221560662627\u0022 data-ipsquote-userid=\u0022187982\u0022 data-ipsquote-username=\u00224x4cheesecake\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, 4x4cheesecake said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, we already got kRPC, might be helpful for you to peek at their code \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks.\n\u003C/p\u003E\n\u003Cp\u003E\nIndeed, KRPC is a great mod, and I spent alomost a whole last\u00A0week reading the source code(I\u0027m totally new to C sharp and KSP plugin development), I learnt \u003Cstrong\u003EA LOT \u003C/strong\u003Efrom \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\u0027s great work!\n\u003C/p\u003E\n\u003Cp\u003E\nBut I prefer using existing RPC framework(for example,\u00A0GRPC, Thrift),\u00A0rather than building my own RPC framework.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nGood news!\u00A0I find Thrift still supports .Net framework 3.5, and in fact I have already ran a \u0022HelloWorld.exe\u0022 successfully.\n\u003C/p\u003E\n\u003Cp\u003E\nThe bridge between local process and KSP is through! Now I can continue my development focusing on \u0022bussiness logic\u0022.\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"LVLVbNH","CreatedById":197387,"CreatedDateTime":"2019-08-29T21:16:29Z","Content":"\n\u003Cp\u003E\nSince annonce of upgrade to Unity 2019.2 and net 4.5 this thread\u00A0can be considered completed.\u00A0\n\u003C/p\u003E\n"}]}