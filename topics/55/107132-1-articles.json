{"TopicId":107132,"ForumId":55,"TopicTitle":"Airbrakes should\u0027t affect drag or lift when not deployed.","CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-05-03T10:53:46Z","PageNum":1,"Articles":[{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-05-03T10:53:46Z","Content":"I put four airbrakes on a lander on top of a rocket to test to see if when deployed they\u0027d increase drag for landing on Kerbin. Whyfor? To see if that would reduce the fuel required to land.\n\nThe problem is that the airbrakes cause a huge shift in center of lift, requiring enough fins on the bottom end to outfit a fleet of 1959 Cadillacs. Consider airbrakes on real aircraft. They\u0027re made to be flush with the surrounding surface so they don\u0027t cause drag when retracted.\n\nCan the CFG for that part be edited to make them produce zero lift all the time and zero drag unless deployed? It would be nice to see this fixed as a hotfix not requiring a full re-download."},{"CreatedByName":"Markarian421","CreatedById":57423,"CreatedDateTime":"2015-05-13T15:06:32Z","Content":"I want to second this, I ran into the same problem, both trying to use them to slow down a lander and just trying to use them normally on aircraft. They have unexpected effects even when control functions are shut off and they aren\u0027t deployed.\n\nI was tweaking the config files last night to see what I could figure out, and it appears the problem is that **airbrakes are never completely off**, they are always at least slightly deployed -- the curve must not go to zero. (The curve unfortunately isn\u0027t in the config file.) You can see this by adjusting the parameter:\n\n    deflectionLiftCoeff = 0.38\n\nFrom the variable name one would guess this is only applied when the airbrake is deployed, but it significantly changes the drag when it\u0027s not deployed as well."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-13T15:09:08Z","Content":"Every part has drag and will generate lift if at an angle to the airflow, wings generate lift even when at a zero angle to airflow, you can edit them if you like but this is by design ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Markarian421","CreatedById":57423,"CreatedDateTime":"2015-05-13T15:17:37Z","Content":"My point is that the variables that determine drag for a standard part aren\u0027t the apparent problem, it\u0027s the variable that controls what happens when the airbrake is deployed that\u0027s the problem when it\u0027s not deployed -- that seems unlikely to be by design. The effect on a craft is far out of proportion from what you\u0027d expect.\n\n- - - Updated - - -\n\nAh, I see what you mean though -- if the implementation was done as if this was a wing, it might not go to zero at zero deflection. I think though it\u0027s not working as intended for this part. (If it was, in the real world, no aircraft would ever have airbrakes.)\n\n**Edited \u003Ctime datetime=\u00222015-05-13T15:14:11Z\u0022 title=\u002205/13/2015 03:14  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 13, 2015\u003C/time\u003E by Markarian421**\n  \nclarification"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-13T15:34:07Z","Content":"There is a drag coefficient value for airbrakes but I think setting it to zero removes *all* their drag, and there\u0027s no per part drag curve, you can see the drag curve in the Alt\u002BF12 debug screen under the physics/dragprofile tab.\n\nDrag for the airbrake should be as low as possible when closed, but as KSP doesn\u0027t actually simulate air itself any airbrakes that are at an angle to the velocity vector will have drag, same as any other part."},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2015-05-13T16:41:52Z","Content":"When airbrakes are folded against the ship, they should only have minimal drag of the type body parts have. Squad should fix that.\n\nNote that it is important to right-click the airbrakes in the VAB to disable the pitch and yaw control functions of the airbrakes (leaving only the braking function active), otherwise they WILL pop out a little during flight in an attempt to control pitch and yaw, but just create too much drag.\n\n**Edited \u003Ctime datetime=\u00222015-05-13T17:05:59Z\u0022 title=\u002205/13/2015 05:05  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 13, 2015\u003C/time\u003E by Brotoro**"},{"CreatedByName":"Markarian421","CreatedById":57423,"CreatedDateTime":"2015-05-13T16:47:22Z","Content":"I\u0027ll have to take another look . . . probably not tonight. But following what you\u0027re saying, I think I did notice the problem is even worse if you mount an airbrake on a surface that\u0027s at an angle to the direction of flight. If an airbrake is flush with the surface it\u0027s mounted on, no matter what the angle of that surface, it should not add any significant drag. But it may be that the game is only looking at angle relative to flight as opposed to angle of deployment. (If so, that\u0027s a bug.) Even if that is the case, I was seeing problems with airbrakes mounted at no angle to airflow, they still act partially deployed. Maybe the angle isn\u0027t being calculated correctly? That or it doesn\u0027t go to zero drag at zero angle.\n\nThe reason I mentioned the deflectionLiftCoeff is that in playing around with pretty much every parameter in the config file, that appeared to be the one related to the problem. Even zeroing out other parameters did not fix it, but increasing this parameter makes it much worse."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-13T17:02:23Z","Content":"If airbrakes are made to provide no drag when closed, you would have a situation where they provide no drag even when visually perpendicular to the airflow, just because they are closed.\n\nAs you can see they are not perfectly flush with a surface when closed, so some drag can be expected, that more drag occurs when they are at an angle to the airflow is a product of the aero engine, there is no occlusion of radial parts from drag, only heat.\n\nJust how significant is this drag you are experiencing? As long as it\u0027s low it shouldn\u0027t matter that it is non-zero.\n\nThey are working correctly in the manner they have been coded to function, so I don\u0027t see how this can be a bug, feedback maybe."},{"CreatedByName":"Markarian421","CreatedById":57423,"CreatedDateTime":"2015-05-13T17:45:54Z","Content":"\u003E \n\u003E If airbrakes are made to provide no drag when closed, you would have a situation where they provide no drag even when visually perpendicular to the airflow, just because they are closed.\n\nYes, that is how they should work as long as they are flush with the surface. If you fly a brick wall, and put air brakes on the face of the brick wall, they should not add significant additional drag.\n\n\u003E \n\u003E As you can see they are not perfectly flush with a surface when closed, so some drag can be expected, that more drag occurs when they are at an angle to the airflow is a product of the aero engine, there is no occlusion of radial parts from drag, only heat.\n\u003E I don\u0027t think it would be possible to make them perfectly flush in the game as they are in the real world. But that doesn\u0027t mean they shouldn\u0027t try to behave like their real world counterpart. \n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E Just how significant is this drag you are experiencing? As long as it\u0027s low it shouldn\u0027t matter that it is non-zero.\n\u003E \n\u003E \n\u003E Enough that I don\u0027t consider air brakes as implemented usable. But I think you\u0027re missing the point that it appears the problem isn\u0027t tied to normal stationary object drag, it\u0027s related to the variable drag air brakes are supposed to produce. Those appear to be different parameters. \n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E They are working correctly in the manner they have been coded to function, so I don\u0027t see how this can be a bug, feedback maybe.\n\u003E \n\u003E \n\u003E ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) IRL I\u0027m an R\u0026D physicist working on scientific instrumentation, and I can\u0027t tell you how many times I\u0027ve had a discussion like that with someone in the software group. \u0022Well yes when it comes to using the instrument this code breaks everything, but it works the way we coded it so it\u0027s not a bug.\u0022 So you just made my day! (Luckily their manager is also a physicist who also considers \u0022doesn\u0027t do what it should\u0022 a bug.)"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-05-13T20:22:01Z","Content":"The way the airbrakes work, they\u0027re unusable as drag adders for a lander because huge fins have to be added to the tail of a rocket to shift the center of lift back. When closed and direction control disabled, the airbrakes are being treated as if they are fixed fins instead of having no lift or drag effect.\n\nHow do airbrakes work in parts mods that have them?\n\nI was looking forward to having these as an alternative to parachutes. Dissapointing. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"Keith_Bones","CreatedById":143851,"CreatedDateTime":"2015-05-14T01:18:10Z","Content":"Having done some very basic testing, I am guessing that something non-standard is going on with air brakes, and the drag they generate. They seem to create an otherwise unreasonably high amount of drag when deployed, more so than a part of similar proportion in a similar position.\n\nBut that being said, I\u0027m quite fond of an \u0022air brake umbrella\u0022 atmo reentry design I\u0027ve played with a number of times, with closed airbrakes forming the leading nosecone on takeoff, and have never experienced these issues.\n\nMaybe some screenshots, or craft files so we can see the issue you guys are having?"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-05-14T02:17:19Z","Content":"So, I think there\u0027s a fundamental misunderstanding about how the aero surface works.\n\n1) It does not produce lift. Period.\n\n2) It produces drag based on the local AoA of the surface relative to the oncoming wind, regardless of deployed state or what part it\u0027s attached to. It\u0027s drag production is similar to a lifting surface, vice a drag cube. So yes, it will have higher drag than an equivalently sized flat plate, because it\u0027s using drag curves similar to an aero surface.\n\nFor the aero surfaces, the curves that govern lift and drag can be found in the physics.cfg file, which I\u0027ve posted below:\n\n    \tLIFTING_SURFACE\t{\t\tname = SpeedBrake\t\tlift\t\t{\t\t\tkey = 0 0 0 0\t\t}\t\tliftMach\t\t{\t\t\tkey = 0 0 0 0\t\t}\t\tdrag\t\t{\t\t\tkey = 0 0.01 0 0\t\t\tkey = 0.3420201 0.1 0.1750731 0.1750731\t\t\tkey = 0.5 0.4 4.557837 4.557837\t\t\tkey = 0.7071068 2.828427 4 4\t\t\tkey = 1 4 4 0\t\t}\t\tdragMach\t\t{\t\t\tkey = 0 0.25 0 -0.8463008\t\t\tkey = 0.15 0.125 0 0\t\t\tkey = 0.9 0.375 0.7227947 0.7227947\t\t\tkey = 1.1 1 0 0\t\t\tkey = 1.4 0.65 -1.29191 -1.29191\t\t\tkey = 1.6 0.5 -0.4376471 -0.4376471\t\t\tkey = 2 0.42 -0.1475873 -0.1475873\t\t\tkey = 5 0.275 0 0\t\t\tkey = 25 0.4 0.0006807274 0\t\t}\t}\n\nSo if it\u0027s not producing lift, why does it cause stability problems? Because it produces drag like a wing. Which means it changes considerably based on the AoA which outstrips similarly sized parts.\n\nI could build a fix for this in my Stock Bug Fixes, if there\u0027s enough interest.\n\nCheers,\n\n~Claw\n\n**Edited \u003Ctime datetime=\u00222015-05-14T02:19:51Z\u0022 title=\u002205/14/2015 02:19  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 14, 2015\u003C/time\u003E by Claw**"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-05-14T07:43:33Z","Content":"\u003E \n\u003E I could build a fix for this in my Stock Bug Fixes, if there\u0027s enough interest.\n\u003E \n\u003E Cheers,\n\u003E \n\u003E ~Claw\n\nYES! I want to be able to put a bunch of airbrakes up on the nose of a rocket and have them \\*not\\* drag the nose around to the rear when they\u0027re not deployed. In other words, airbrakes that work like airbrakes, not combination fin/spoileron/airbrake thinguses. So long as when deployed they will make large amounts of drag, like a similarly sized wing panel sticking out at the same angle.\n\nAlan Aerospace Recycling and Packaging only very reluctantly uses parachutes. Properly functioning airbrakes should help the company continue not relying on flimsy cloth.\n\nAnother drag issue some have noted is that the \u0022lego\u0022 wing pieces don\u0027t drag shield each other edge to edge so building a large wing from them produces far more drag than a single part wing of the same size."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-05-14T16:40:54Z","Content":"\u003E \n\u003E YES!\n\u003E ...\n\u003E \n\u003E Another drag issue some have noted is that the \u0022lego\u0022 wing pieces don\u0027t drag shield each other edge to edge so building a large wing from them produces far more drag than a single part wing of the same size.\n\nThis request is now included in the StockPlus portion of my Stock Bug Fixes (link in my sig). When stowed (or stowing), they generate zero drag. It\u0027s in the ModuleAeroSurface. Although I\u0027ve received a bug report for ModuleControlSurface, so expect another update to come down later today.\n\nAlso, the drag for equivalent lift rating should be the same regardless of how many wing parts it is made out of. Wing drag is generated based on lift rating and not part shape, so there is no need to occlude edges.\n\nCheers,\n\n-Claw"},{"CreatedByName":"Markarian421","CreatedById":57423,"CreatedDateTime":"2015-05-14T19:51:31Z","Content":"Thanks!"}]}