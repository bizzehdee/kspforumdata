{"TopicId":130771,"ForumId":55,"TopicTitle":"Drain fuel evenly across a rocket stage.","CreatedByName":"Frozen_Heart","CreatedById":118627,"CreatedDateTime":"2016-01-26T17:07:21Z","PageNum":1,"Articles":[{"CreatedByName":"Frozen_Heart","CreatedById":118627,"CreatedDateTime":"2016-01-26T17:07:21Z","Content":"\n\u003Cp\u003E\nThis is something that has been a minor irritant to me since I got KSP but with the KSP fairing bug has been made even more important. Fuel should drain evenly from a rocket stage rather than from the top down. This would reduce rockets becoming unbalanced and flipping on the way up. Real life\u00A0rockets have a separate oxidiser and fuel tank and so drain much more evenly than KSP tanks.\n\u003C/p\u003E\n\u003Cp\u003E\nAll the weight being concentrated at the bottom of the rocket with all the drag coming from beyond the rockets nose has pretty much stopped me using rockets\u00A0in 1.0.5. (I like falcon 9 like designs so adding huge fins isn\u0027t an option for me)\n\u003C/p\u003E\n"},{"CreatedByName":"EladDv","CreatedById":118368,"CreatedDateTime":"2016-01-26T17:18:18Z","Content":"\n\u003Cp\u003E\ni agree- it\u0027d make it much more realistic and easier to control with new aero\n\u003C/p\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2016-01-26T19:24:16Z","Content":"\n\u003Cp\u003E\nYes, as an easy way to more accurately simulate what happens IRL\u00A0that does seem to make sense. \u00A0As well as helping reduce the \u0027sudden flip syndrome\u0027.\n\u003C/p\u003E\n"},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2016-01-26T21:20:12Z","Content":"\n\u003Cp\u003E\nThis is already possible in version 1.0.5.All it needs to be done is some *.cfg tweaking.But,since it will take long time to edit every engine,you can try this little\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/50533-105-module-manager-2618-january-17th-with-even-more-sha-and-less-bug/\u0022\u003EMM\u003C/a\u003E patch to see if fits your needs.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\n@PART[*]:HAS[@MODULE[ModuleEngines*]]:Final\n{    \n@MODULE[ModuleEngines*]\n{\n@PROPELLANT[LiquidFuel]\n {\n %resourceFlowMode = STAGE_STACK_FLOW_BALANCE\n }\n@PROPELLANT[Oxidizer]\n {\n %resourceFlowMode = STAGE_STACK_FLOW_BALANCE\n }\n}\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-26T21:25:04Z\u0022 title=\u002201/26/2016 09:25  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 26, 2016\u003C/time\u003E by sebi.zzr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Temstar","CreatedById":24430,"CreatedDateTime":"2016-01-26T21:37:02Z","Content":"\n\u003Cp\u003E\nIn real life fuel drains from the top down as well, assuming we\u0027re talking multi-stage rocket. This change would mess with asparagus staging and other such designs that rely on fuel flow logic.\n\u003C/p\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2016-01-26T22:06:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222380824\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453844222\u0022 data-ipsquote-userid=\u002224430\u0022 data-ipsquote-username=\u0022Temstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n30 minutes ago, Temstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn real life fuel drains from the top down as well, assuming we\u0027re talking multi-stage rocket. This change would mess with asparagus staging and other such designs that rely on fuel flow logic.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf the object is to simulate that (IRL) LF and Ox are in separate tanks, one above the other, \u00A0then even if they are in the same \u0027outer\u0027 tank casing then the shift in CoM\u00A0from top to bottom would be slower than for a single large container\u00A0due to there still being a part filled tank near to the top. \u00A0Would it be possible and/or practical to simulate this by not shifting a tank\u0027s CoM so much as it empties?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-26T22:08:04Z\u0022 title=\u002201/26/2016 10:08  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 26, 2016\u003C/time\u003E by pandaman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mr. Speed","CreatedById":72133,"CreatedDateTime":"2016-01-26T22:14:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222380824\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453844222\u0022 data-ipsquote-userid=\u002224430\u0022 data-ipsquote-username=\u0022Temstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 minutes ago, Temstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn real life fuel drains from the top down as well, assuming we\u0027re talking multi-stage rocket. This change would mess with asparagus staging and other such designs that rely on fuel flow logic.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo how about a toggle for fuel flow behavior in the VAB, in the tweakables. Just select an engine and choose between \u0022normal drain/drain evenly\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2016-01-26T22:43:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222380884\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453846462\u0022 data-ipsquote-userid=\u002272133\u0022 data-ipsquote-username=\u0022Mr. Speed\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, Mr. Speed said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo how about a toggle for fuel flow behavior in the VAB, in the tweakables. Just select an engine and choose between \u0022normal drain/drain evenly\u0022.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat could work\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u00A0guess it would need to be per\u00A0stage rather\u00A0than by engine though.\n\u003C/p\u003E\n"},{"CreatedByName":"royying","CreatedById":20591,"CreatedDateTime":"2016-01-27T03:44:54Z","Content":"\n\u003Cp\u003E\nIRL, as the compress\u00A0liquify fuel drain, the remain fuel should expand to fill up the space, does it affect how the CoM shift?\n\u003C/p\u003E\n"},{"CreatedByName":"Temstar","CreatedById":24430,"CreatedDateTime":"2016-01-27T04:00:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222381419\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453866294\u0022 data-ipsquote-userid=\u002220591\u0022 data-ipsquote-username=\u0022royying\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, royying said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIRL, as the compress\u00A0liquify fuel drain, the remain fuel should expand to fill up the space, does it affect how the CoM shift?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, fuel tanks are kept at constant pressure by pumping in inert glasses like helium as the tanks are emptied. The CoM change is only because liquid (which is heavy) are being removed from the bottom of the tank and replaced by gas which is much less dense.\n\u003C/p\u003E\n"},{"CreatedByName":"Frozen_Heart","CreatedById":118627,"CreatedDateTime":"2016-01-27T10:40:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222380824\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453844222\u0022 data-ipsquote-userid=\u002224430\u0022 data-ipsquote-username=\u0022Temstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Temstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn real life fuel drains from the top down as well, assuming we\u0027re talking multi-stage rocket. This change would mess with asparagus staging and other such designs that rely on fuel flow logic.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nReal life rockets have a separate oxidiser tank and fuel tank. One will be at the top of the rocket stage so the CoM doesn\u0027t move down in the same way it does in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe you should be able to choose which tanks or stages drain first? That way asparagus could still be set up.\n\u003C/p\u003E\n"},{"CreatedByName":"Kaos","CreatedById":110849,"CreatedDateTime":"2016-01-27T13:13:30Z","Content":"\n\u003Cp\u003E\nSetting these values for every rocket or stage would help, yes. I would prefer if one could set this not only on construction, but also in flight, also for redistributing fuel in the tanks. Right now unless one completely fills or empties the tanks, uneven filling is unavoidable when refueling in flight. Hence, in refueled rockets one easily gets imbalanced propulsion.\n\u003C/p\u003E\n"},{"CreatedByName":"Blaarkies","CreatedById":153700,"CreatedDateTime":"2016-01-27T13:59:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222381764\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453900410\u0022 data-ipsquote-userid=\u0022110849\u0022 data-ipsquote-username=\u0022Kaos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n40 minutes ago, Kaos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSetting these values for every rocket or stage would help, yes. I would prefer if one could set this not only on construction, but also in flight, also for redistributing fuel in the tanks. Right now unless one completely fills or empties the tanks, uneven filling is unavoidable when refueling in flight. Hence, in refueled rockets one easily gets imbalanced propulsion.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you mean uneven ratio between LF en OX in a tank?(after full burn, theres always some LF left...or OX left)\u003Cbr\u003E\nOr do you mean like filling spaceplane fueltanks, resulting in you left wing having slightly more fuel?\u003Cbr\u003E\u003Cbr\u003E\nI hate both, but they can be avoided with a small \u0022measurement cup\u0022 fuel tank.\n\u003C/p\u003E\n"},{"CreatedByName":"Kaos","CreatedById":110849,"CreatedDateTime":"2016-01-27T14:18:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222381806\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453903189\u0022 data-ipsquote-userid=\u0022153700\u0022 data-ipsquote-username=\u0022Blaarkies\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Blaarkies said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo you mean uneven ratio between LF en OX in a tank?(after full burn, theres always some LF left...or OX left)\u003Cbr\u003E\nOr do you mean like filling spaceplane fueltanks, resulting in you left wing having slightly more fuel?\u003Cbr\u003E\u003Cbr\u003E\nI hate both, but they can be avoided with a small \u0022measurement cup\u0022 fuel tank.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI meant the spaceplane like case, but for rockets. Center of mass not equal center of force is in both cases annoying. But the other is problematic as well, yes.\n\u003C/p\u003E\n\u003Cp\u003E\nI know the measurement cup trick, but that is ugly, time consuming and easily forgotten. Just recently I decided to simply burn quarter of my fuel until everything fits in one tank, because it was a fully equipped ISRU lander with then still enough fuel for landing and this was the most simple solution. Further I had forgotten to include a measurement tank. And if burning through fuel just to get rid of it is the most simple and time efficient solution and has no drawbacks, some changes of the program might be useful \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2016-01-27T17:00:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222381657\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453891241\u0022 data-ipsquote-userid=\u0022118627\u0022 data-ipsquote-username=\u0022Frozen_Heart\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Frozen_Heart said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nReal life rockets have a separate oxidiser tank and fuel tank. One will be at the top of the rocket stage so the CoM doesn\u0027t move down in the same way it does in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe you should be able to choose which tanks or stages drain first? That way asparagus could still be set up.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt doens\u0027t move down *in the same way* but it does move down. Each tank empties from its top, so the CoM of each tank shifts down as it is emptied, but the net CoM shift is less for most of the duration (when tanks are completely empty, it makes no difference).\n\u003C/p\u003E\n\u003Cp\u003E\nIn a multistage rocket, IRL and in KSP, CoM shifts up as the bottom stage empties, but the mass of the top upper stages stays the same.\n\u003C/p\u003E\n\u003Cp\u003E\nIn modular kerbal rockets, I don\u0027t see why we can\u0027t treat a stack of two tanks as two actual tanks, and drain from both evenly - that would even work IRL. Indeed we can even manually disable flow from the top tanks so that the bottom tank empties, and then open the top tank just before the bottom runs out... CoM shifts up as fuel burns.\n\u003C/p\u003E\n\u003Cp\u003E\nThis works for single stacks... but it can mess you up trying to rapidly click on multiple tanks for multiple stacks.\n\u003C/p\u003E\n\u003Cp\u003E\nAllowing us to toggle fuel flow from tanks via action groups would be very much appreciated... maybe it merits its own suggestion.\n\u003C/p\u003E\n\u003Cp\u003E\nI have made, and have seen others make, designs that rely on proper timing of enabling and disabling tank flows to remain stable throughout flight (while staying stock, TAC fuel balancer would help I guess)\n\u003C/p\u003E\n"},{"CreatedByName":"Mr. Speed","CreatedById":72133,"CreatedDateTime":"2016-01-28T11:20:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222382058\u0022 data-ipsquote-contentid=\u0022130771\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453914024\u0022 data-ipsquote-userid=\u002291917\u0022 data-ipsquote-username=\u0022KerikBalm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, KerikBalm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis works for single stacks... but it can mess you up trying to rapidly click on multiple tanks for multiple stacks.\n\u003C/p\u003E\n\u003Cp\u003E\nAllowing us to toggle fuel flow from tanks via action groups would be very much appreciated... maybe it merits its own suggestion.\n\u003C/p\u003E\n\u003Cp\u003E\nI have made, and have seen others make, designs that rely on proper timing of enabling and disabling tank flows to remain stable throughout flight (while staying stock, TAC fuel balancer would help I guess)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFuel tank toggle in action groups would make me very happy. It\u0027s actually kind of weird it has never been implemented before, seems like such a useful and logical thing to have.\n\u003C/p\u003E\n"}]}