{"TopicId":148282,"ForumId":55,"TopicTitle":"smarter RCS controls","CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2016-09-21T09:48:01Z","PageNum":1,"Articles":[{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2016-09-21T09:48:01Z","Content":"\n\u003Cp\u003E\nThe need to set up a perfectly balanced \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E is starting to get on my nerves. My gripe isn\u0027t with balance as such, but that it needs to be perfect. \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E does shift after all, and once you dock two vessels all bets are off. Would it be possible to have a smart \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E controller that tries to utilize the available thrusters in such a way that you get rotation without translation and vice versa?\n\u003C/p\u003E\n\u003Cp\u003E\nWe already have something along these lines if we try to translate with \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on. What I\u0027m asking for is a solution that a) tries to minimize the forces before the PID controller even comes into play, and b) also works when rotating. The latter is probably not very important when you have strong reaction wheels, but hey.\n\u003C/p\u003E\n"},{"CreatedByName":"pandaman","CreatedById":130621,"CreatedDateTime":"2016-09-21T11:01:25Z","Content":"\n\u003Cp\u003E\nMaybe this could be a feature for higher level probe cores or more experienced pilots? \u00A0Or perhaps an extra \u0027Smart \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E controller\u0027 part, though I\u0027d rather it be integrated into existing parts personally.\n\u003C/p\u003E\n\u003Cp\u003E\nI believe the CTRL\u002BShift \u0027fine control\u0027 mode does this to a degree, but I find that it lacks enough \u0027welly\u0027 a lot of the time.\n\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-09-21T12:20:43Z","Content":"\n\u003Cp\u003E\nI would like to see a better algorithm used here too. If I put ports at the front and back of the ship, then the game could calculate the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E and automatically reduce the thrust of one of them so that a balanced translation happens.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(Doesn\u0027t MechJeb have an \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E balancer? I feel like it\u0027s not actually that hard a problem...)\n\u003C/p\u003E\n"},{"CreatedByName":"RoboRay","CreatedById":46556,"CreatedDateTime":"2016-09-21T18:26:49Z","Content":"\n\u003Cp\u003E\nDoesn\u0027t Fine Controls already do exactly this?\u00A0\u00A0 You still have to build a ship that\u0027s reasonably balanced, though, since there\u0027s a limit on how low they can reduce the thrust and still accomplish anything.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-21T18:28:54Z\u0022 title=\u002209/21/2016 06:28  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 21, 2016\u003C/time\u003E by RoboRay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2016-09-21T19:37:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222767949\u0022 data-ipsquote-contentid=\u0022148282\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474482409\u0022 data-ipsquote-userid=\u002246556\u0022 data-ipsquote-username=\u0022RoboRay\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, RoboRay said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoesn\u0027t Fine Controls already do exactly this?\u00A0\u00A0 You still have to build a ship that\u0027s reasonably balanced, though, since there\u0027s a limit on how low they can reduce the thrust and still accomplish anything.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, what Laie is suggesting is a form of throttle controlled balance.\u00A0 If your pod would yaw to the right during translation left, then the force of the rear right jet would decrease and the force of the front right would increase to maintain translation balance.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m kinda back and forth on this myself.\u00A0 On the one hand I like the challenge, but on the other hand it is translation controls so you would think it would translate and not yaw, pitch, and roll.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe if it were a late tech tree part that was more intelligent than the early tier \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E it could work.\n\u003C/p\u003E\n\u003Cp\u003E\nBut it inherits a lot of complication.\u00A0 What if there aren\u0027t two jets on any one side?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-21T19:41:45Z\u0022 title=\u002209/21/2016 07:41  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 21, 2016\u003C/time\u003E by Alshain\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RoboRay","CreatedById":46556,"CreatedDateTime":"2016-09-21T23:14:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222768047\u0022 data-ipsquote-contentid=\u0022148282\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474486653\u0022 data-ipsquote-userid=\u0022110959\u0022 data-ipsquote-username=\u0022Alshain\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Alshain said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo, what Laie is suggesting is a form of throttle controlled balance.\u00A0 If your pod would yaw to the right during translation left, then the force of the rear right jet would decrease and the force of the front right would increase to maintain translation balance.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, that\u0027s exactly what I\u0027m talking about.\u00A0 It does.\u00A0 They added this \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thruster-reduction for balancing a couple of years ago.\u00A0 It doesn\u0027t do it in coarse control mode, but in fine it does.\u00A0 Or, it used to, anyway, if it doesn\u0027t work anymore.\u00A0 I balance my craft with \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E Build Aid, so I don\u0027t really notice.\u00A0 And I usually do a single set of thrusters amidships instead of fore-and-aft thrusters, anyway, on smaller craft.\n\u003C/p\u003E\n\u003Cp\u003E\nThere was a huge fiasco on the forums when\u00A0 they implemented \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E balancing, because they did it in coarse and fine controls both and it made the coarse controls much weaker.\u00A0 So they changed it to just balance the thrust in fine.\n\u003C/p\u003E\n\u003Cp\u003E\nBut maybe that function got lost somewhere along the way.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-21T23:19:27Z\u0022 title=\u002209/21/2016 11:19  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 21, 2016\u003C/time\u003E by RoboRay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2016-09-21T23:45:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222768355\u0022 data-ipsquote-contentid=\u0022148282\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474499648\u0022 data-ipsquote-userid=\u002246556\u0022 data-ipsquote-username=\u0022RoboRay\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, RoboRay said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, that\u0027s exactly what I\u0027m talking about.\u00A0 It does.\u00A0 They added this \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thruster-reduction for balancing a couple of years ago.\u00A0 It doesn\u0027t do it in coarse control mode, but in fine it does.\u00A0 Or, it used to, anyway, if it doesn\u0027t work anymore.\u00A0 I balance my craft with \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E Build Aid, so I don\u0027t really notice.\u00A0 And I usually do a single set of thrusters amidships instead of fore-and-aft thrusters, anyway, on smaller craft.\n\u003C/p\u003E\n\u003Cp\u003E\nThere was a huge fiasco on the forums when\u00A0 they implemented \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E balancing, because they did it in coarse and fine controls both and it made the coarse controls much weaker.\u00A0 So they changed it to just balance the thrust in fine.\n\u003C/p\u003E\n\u003Cp\u003E\nBut maybe that function got lost somewhere along the way.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMust have, I just tried and it\u0027s not working.\n\u003C/p\u003E\n"},{"CreatedByName":"RoboRay","CreatedById":46556,"CreatedDateTime":"2016-09-22T00:03:01Z","Content":"\n\u003Cp\u003E\nIn that case, I wholeheartedly agree that a self-compensating \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E balancing system should be implemented.\u00A0 Maybe require a pilot?\n\u003C/p\u003E\n\u003Cp\u003E\nBetter yet, since engineers are under-employed, make it require an engineer to be aboard, so they can calculate the proper settings based on the current mass distribution throughout the ship.\n\u003C/p\u003E\n\u003Cp\u003E\nMake the minimum thruster setting like 50%, though.\u00A0\u00A0\u00A0 Much less than that, you may as well not even have a thruster over there.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-22T00:06:52Z\u0022 title=\u002209/22/2016 12:06  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 22, 2016\u003C/time\u003E by RoboRay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2016-09-22T07:28:36Z","Content":"\n\u003Cp\u003E\nMore often than not, you don\u0027t need smart \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E: just translate away and let \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E deal with the fallout.\n\u003C/p\u003E\n\u003Cp\u003E\nThe use case I have in mind is comparatively long vessels with docking ports at the far ends. Here it would be better if rotation could be avoided to begin with, as even slight oscillations shift the docking port far out of alignment. For all I care the algorithm need not be very smart, just combine translation\u0026amp;rotation into a single action that minimizes one or the other as desired. I don\u0027t see me use it very often, but when I need it I really do.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t like the idea of tying it to personnel -- unmanned tugs are where I\u0027d need it the most. Better to have it tied to \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E level X. It should be a distinct mode of operation (cycle \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E off-white-blue-off?)\n\u003C/p\u003E\n"},{"CreatedByName":"StahnAileron","CreatedById":139783,"CreatedDateTime":"2016-09-22T08:53:54Z","Content":"\n\u003Cp\u003E\nSo I just looked at the 1.2 Pre-release to see what \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E offers now... I guess this is an advanced tweakable, but there\u0027s an option after hitting \u0022Show actuation Toggles\u0022 called \u0022Always full action\u0022. Haven\u0027t tested it yet, but maybe that\u0027s the toggle for smart/compensated \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thrust? (I have advanced tweakable on by default, so not sure off-hand, but it sure sounds like an advanced option/configuration.)\n\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-09-22T09:50:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222768047\u0022 data-ipsquote-contentid=\u0022148282\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474486653\u0022 data-ipsquote-userid=\u0022110959\u0022 data-ipsquote-username=\u0022Alshain\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Alshain said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut it inherits a lot of complication.\u00A0 What if there aren\u0027t two jets on any one side?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nProblem for the players rather than the code, imho. The game just needs to see if there is a relevant\u002Benabled thruster on each side of the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E - if not, you\u0027re going to\u00A0spin no matter what it does so don\u0027t try. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nArguably you could end up with a thruster at the nose, and one just slightly ahead of the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E in which case the algorithm could disable the nose... but that\u0027s probably more advanced than it needs to be. A building guide that says \u0022put \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E on each side of the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E\u0022 is fairly easy to understand \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2016-09-22T13:45:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222768837\u0022 data-ipsquote-contentid=\u0022148282\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221474537802\u0022 data-ipsquote-userid=\u0022127483\u0022 data-ipsquote-username=\u0022eddiew\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, eddiew said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe game just needs to see if there is a relevant\u002Benabled thruster on each side of the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E - if not, you\u0027re going to\u00A0spin no matter what it does so don\u0027t try.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022rotate-translate.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://ksp.schnobs.de/stuff/rotate-translate.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFigure 1, how a craft with unbalanced \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E can both translate and fight rotation at the same time.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a nutshell: as long as you can translate and rotate in all directions, it is possible to get one without the other. On a very unbalanced vessel it becomes utterly impractical, of course -- but not impossible.\n\u003C/p\u003E\n"},{"CreatedByName":"eddiew","CreatedById":127483,"CreatedDateTime":"2016-09-22T14:01:02Z","Content":"\n\u003Cp\u003E\nOk\u00A0so I was mostly considering outward-facing thrusters ^^; \u00A0But yeah, I see where you\u0027re coming from on that. Why can\u0027t the game identify when the translation key will produce a torque and apply a counter-torque with either reaction wheels, or other thrusters, we might ask...\n\u003C/p\u003E\n\u003Cp\u003E\n(Tbh I\u0027m not sure why we even use \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E for rotation in KSP. With free torque provided by infinite reaction wheels, they\u0027re redundant outside of self-imposed difficulty.)\n\u003C/p\u003E\n"},{"CreatedByName":"Racescort666","CreatedById":137852,"CreatedDateTime":"2016-09-22T17:57:53Z","Content":"\n\u003Cp\u003E\n\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E does not auto balance in fine control mode. Fine control mode only reduces \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thrust. I can\u0027t really speak to versions older than 0.90 because that\u0027s the earliest version I\u0027ve tested but I can say that such behavior is not present in 1.0 through 1.1.3.\n\u003C/p\u003E\n"},{"CreatedByName":"Tyko","CreatedById":164179,"CreatedDateTime":"2016-10-05T18:32:14Z","Content":"\n\u003Cp\u003E\nI started a similar suggestion thread a few months ago titled\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/144003-smart-rcs-thrusters/\u0022 rel=\u0022\u0022\u003ESmart \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E Thrusters\u003C/a\u003E \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0\u00A0In that thread, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125662\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0022 rel=\u0022\u0022\u003E@Snark\u003C/a\u003E\u00A0and \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154640-rocket-in-my-pocket/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022154640\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154640-rocket-in-my-pocket/\u0022 rel=\u0022\u0022\u003E@Rocket In My Pocket\u003C/a\u003E\u00A0both said that fine control mode also included some measure of thrust balancing. This may have changed with 1.2-Pre.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI dropped the subject, but would still like to see something like what\u0027s being discussed here that offers more thrust.\u003C/span\u003E\n\u003C/p\u003E\n"}]}