{"TopicId":196696,"ForumId":55,"TopicTitle":"Nbody physics. Only for ship parts?!(multithreaded rigid body.)","CreatedByName":"Arugela","CreatedById":133381,"CreatedDateTime":"2020-09-03T23:24:21Z","PageNum":1,"Articles":[{"CreatedByName":"Arugela","CreatedById":133381,"CreatedDateTime":"2020-09-03T23:24:21Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://pdfs.semanticscholar.org/e74e/9c6feafccd37cfcfdea893ba36436a7c9dc2.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://pdfs.semanticscholar.org/e74e/9c6feafccd37cfcfdea893ba36436a7c9dc2.pdf\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is going to be stupid, but can this be applied to only ship parts and not the general universe? If so can we have loose parts and then start to simulate proper connections to the parts and get a better overall result. Lets say the parts aren\u0027t unrealistic. We have compartmentalized components in real construction. Can we do more realistic physics for ship connects and then simulate connections between them. And then even possibly have the connections and parts simulated separately or something that allow multithread/core part simulation. Couldn\u0027t we get real flex for this?(This would require parts made of parts for individual part flex over ship flex.) The connections between parts could even be part of ship construction. You could choose different types of welding or other things to connect the part with more realistic connection strengths. Would it help to make the connections like objects? Technically they are. A weld is a bunch of metal.\n\u003C/p\u003E\n\u003Cp\u003E\nIf physics can be multi core in general. Can that be increased to make up for the parts connection and increase overall parts count? Or is that not the limit of parts count?\n\u003C/p\u003E\n\u003Cp\u003E\nCould gpu compute then be used to aid the cpu or vice versa?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-03T23:43:45Z\u0022 title=\u002209/03/2020 11:43  PM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 3, 2020\u003C/time\u003E by Arugela\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JcoolTheShipbuilder","CreatedById":204576,"CreatedDateTime":"2020-09-04T15:55:13Z","Content":"\n\u003Cp\u003E\nas in, principia, but planets are still on rails? hmmm, interesting concept\n\u003C/p\u003E\n"},{"CreatedByName":"Incarnation of Chaos","CreatedById":197414,"CreatedDateTime":"2020-09-07T21:49:27Z","Content":"\n\u003Cp\u003E\nRigid body simulation is the actual issue, as it requires knowing the previous state of the previous part. Which in English means that you cannot multithread it (well you technically could, but the result would be each thread waiting for the last in sequential order. So it would actually be SLOWER)\n\u003C/p\u003E\n\u003Cp\u003E\nYou can do multi-core, multiple thread, gpu accelerated physics for ships, but it will require a different way of handling vessels, likely involving particles, and it would take time, money and specialized developers to make.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDoing a full N-body simulation of the system in reality wouldn\u0027t be that computationally expensive if they developed it from the ground up, and used a system of culling like KSP2 where systems wouldn\u0027t be fully loaded until you encountered their outer boundaries\u00A0 (you\u0027d still have to simulate the interactions with the system in the background, so I\u0027m not actually sure how much you\u0027re saving )\n\u003C/p\u003E\n\u003Cp\u003E\nThe issues with n-body come mostly from the inherent chaotic nature, relative reference frames and etc. That would all be alien to anyone who hadn\u0027t touched principia in KSP, and it would also make orbits unstable.\n\u003C/p\u003E\n\u003Cp\u003E\nBut you don\u0027t want to simulate the systems/celestials; you want the ships. And for that, it literally isn\u0027t even a talking point. There\u0027s ways to do it, but it has very little to do with n-body (this is referring to gravitation!). Where the ship physics has to do with forces, acceleration, joints, deformation etc.\n\u003C/p\u003E\n\u003Cp\u003E\nThis has been beaten to death on multiple threads though, so to summarize the same conclusion that they all reached.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not impossible, but it\u0027s not going to happen due to the breaking of compatibility, and the specialist resources needed. Especially anything on a GPU. The last nail in the coffin though?\n\u003C/p\u003E\n\u003Cp\u003E\nKSP2 is still using rigid body for vessels, but they\u0027ve developed a system to treat large numbers of relatively static parts as a single one for the calculations. This will in their opinion allow part counts in the thousands.\n\u003C/p\u003E\n\u003Cp\u003E\nThat remains to be seen, but they\u0027ve been bullish about this from day one. And it doesn\u0027t require any fancy new physics or developer skills, just going from a naive implementation of the same code to a more well optimized version.\n\u003C/p\u003E\n"},{"CreatedByName":"Arugela","CreatedById":133381,"CreatedDateTime":"2020-09-08T04:24:51Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223850595\u0022 data-ipsquote-contentid=\u0022196696\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599515367\u0022 data-ipsquote-userid=\u0022197414\u0022 data-ipsquote-username=\u0022Incarnation of Chaos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Incarnation of Chaos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nRigid body simulation is the actual issue, as it requires knowing the previous state of the previous part. Which in English means that you cannot multithread it (well you technically could, but the result would be each thread waiting for the last in sequential order. So it would actually be SLOWER)\n\u003C/p\u003E\n\u003Cp\u003E\nYou can do multi-core, multiple thread, gpu accelerated physics for ships, but it will require a different way of handling vessels, likely involving particles, and it would take time, money and specialized developers to make.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDoing a full N-body simulation of the system in reality wouldn\u0027t be that computationally expensive if they developed it from the ground up, and used a system of culling like KSP2 where systems wouldn\u0027t be fully loaded until you encountered their outer boundaries\u00A0 (you\u0027d still have to simulate the interactions with the system in the background, so I\u0027m not actually sure how much you\u0027re saving )\n\u003C/p\u003E\n\u003Cp\u003E\nThe issues with n-body come mostly from the inherent chaotic nature, relative reference frames and etc. That would all be alien to anyone who hadn\u0027t touched principia in KSP, and it would also make orbits unstable.\n\u003C/p\u003E\n\u003Cp\u003E\nBut you don\u0027t want to simulate the systems/celestials; you want the ships. And for that, it literally isn\u0027t even a talking point. There\u0027s ways to do it, but it has very little to do with n-body (this is referring to gravitation!). Where the ship physics has to do with forces, acceleration, joints, deformation etc.\n\u003C/p\u003E\n\u003Cp\u003E\nThis has been beaten to death on multiple threads though, so to summarize the same conclusion that they all reached.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not impossible, but it\u0027s not going to happen due to the breaking of compatibility, and the specialist resources needed. Especially anything on a GPU. The last nail in the coffin though?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cstrong\u003EKSP2 is still using rigid body for vessels, but they\u0027ve developed a system to treat large numbers of relatively static parts as a single one for the calculations. This will in their opinion allow part counts in the thousands.\u003C/strong\u003E\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat remains to be seen, but they\u0027ve been bullish about this from day one. And it doesn\u0027t require any fancy new physics or developer skills, just going from a naive implementation of the same code to a more well optimized version.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI wonder if they will back port that into ksp1. I had a similar idea about letting users define such things in the vehicle area.\n\u003C/p\u003E\n\u003Cp\u003E\nI was saying nbody because I thought someone said it reduced some calculations per part in relationship to ships and gave higher parts count.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-08T04:25:59Z\u0022 title=\u002209/08/2020 04:25  AM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 8, 2020\u003C/time\u003E by Arugela\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Incarnation of Chaos","CreatedById":197414,"CreatedDateTime":"2020-09-08T17:41:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223850787\u0022 data-ipsquote-contentid=\u0022196696\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221599539091\u0022 data-ipsquote-userid=\u0022133381\u0022 data-ipsquote-username=\u0022Arugela\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Arugela said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI wonder if they will back port that into ksp1. I had a similar idea about letting users define such things in the vehicle area.\n\u003C/p\u003E\n\u003Cp\u003E\nI was saying nbody because I thought someone said it reduced some calculations per part in relationship to ships and gave higher parts count.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEven if you could, you would break compatibility with all other KSP versions potentially. One of the main reasons they\u0027re making KSP2 however is because the code from KSP2 is not weighed down by the years of dependencies and cruft that KSP is, and these might very well prevent a backport of the feature to KSP1.\n\u003C/p\u003E\n\u003Cp\u003E\nThere is plenty in the meantime that could be done to further optimize KSP1, but at this point I\u0027m not even sure if SQUAD has the staff on hand. They seem to be in maintenance mode, rather than actively developing major features/changes to the game\u0027s core code. This would imply to me that anything of this magnitude is unlikely, but stranger things have happened in games.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the last one...\n\u003C/p\u003E\n\u003Cp\u003E\nYou\u0027d have to give me the link (Unless it\u0027s that paper), because N-body isn\u0027t anything to do with calculating the interactions between parts. It\u0027s calculating interactions between massive bodies like planets, asteroids, and stars, with the vessel physics being somewhat separate. I say \u0022Somewhat\u0022 because there is one case i could think of, which is where the craft is being pulled by multiple bodies. In an N-body simulation, this would just \u0022Emerge\u0022 from the fact that the code is simulating how such a situation would play out IRL. Where in a Patched Conics Approximation, it would require special code to handle.\n\u003C/p\u003E\n\u003Cp\u003E\nBut KSP doesn\u0027t deal with such situations at all, since it uses \u0022Spheres of influence\u0022, and treats your ship as always being dominated by the influence of one gravity well. So i don\u0027t see that happening for KSP. KSP2 would have a situation like this at Rask and Rusk, but we\u0027d have to see their solution there before calling it either way.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-08T17:44:17Z\u0022 title=\u002209/08/2020 05:44  PM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 8, 2020\u003C/time\u003E by Incarnation of Chaos\u003C/strong\u003E\n\u003Cbr\u003EFlubbed the Enter Key\n\u003C/span\u003E\n"}]}