{"TopicId":133410,"ForumId":55,"TopicTitle":"Documentation for API","CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2016-03-03T11:17:56Z","PageNum":1,"Articles":[{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2016-03-03T11:17:56Z","Content":"\n\u003Cp\u003E\nOne of the things that makes KSP great is the\u00A0 public API which allows al the great mods that exist to be created. However writing a mod is often a matter of trial and error trying to work out what each call on the API does and what the arguments mean\n\u003C/p\u003E\n\u003Cp\u003E\nE.g. GameEvents EventData\u0026lt;float, ScienceSubject, ProtoVessel, bool\u0026gt; OnScienceRecieved - the \u003Ca href=\u0022http://anatid.github.io/XML-Documentation-for-the-KSP-API/class_game_events.html#a6e0c814e13e00c3165b9df3ecd0a6621\u0022 rel=\u0022external nofollow\u0022\u003Ecommunity generated documentation\u003C/a\u003E hasn\u0027t been updated with the last two parameters and it is unclear what the last parameter means\n\u003C/p\u003E\n\u003Cp\u003E\nWould it be possible to spend some time creating documentation for the API while creating 1.2\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2016-03-03T18:56:53Z","Content":"\n\u003Cp\u003E\nAs a \u003Ca href=\u0022http://spacedock.info/profile/Snark\u0022 rel=\u0022external nofollow\u0022\u003Emodder\u003C/a\u003E, I would \u003Cem\u003E\u003Cu\u003Ereally really really \u003C/u\u003E\u003C/em\u003E like to have documentation for the API.\u00A0 So I totally feel your pain, here.\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately, API docs are a pretty tall order.\u00A0 It\u0027s a super big work item, bigger than perhaps you realize.\u00A0 Exactly how big I don\u0027t know, but having worked on commercial SDKs as a developer and collaborating closely with the technical writing staff, I\u0027d hazard a guess that it would be at \u003Cem\u003E\u003Cu\u003Eleast\u003C/u\u003E\u003C/em\u003E as big as \u0022occupy one Squad staff full-time for an entire patch release cycle\u0022, probably considerably bigger than that.\n\u003C/p\u003E\n\u003Cp\u003E\n(Especially bearing in mind that Squad has \u003Cem\u003E\u003Cu\u003Enever\u003C/u\u003E\u003C/em\u003E been in the business of documenting APIs.\u00A0 Even the little documentation that\u0027s available out there is community-produced, as you point out.\u00A0 So for them to document this themselves, they\u0027d have to gear up to take on a new type of professional task that they don\u0027t have prior experience with, which makes this an even bigger ask.)\n\u003C/p\u003E\n\u003Cp\u003E\nGiven how incredibly busy Squad is doing things like fixing bugs, adding features, getting the next patch out the door, etc., I\u0027m not sure that\u0027s the best use of their time.\u00A0 Especially given that the community actually \u003Cem\u003E\u003Cu\u003Ecan\u003C/u\u003E\u003C/em\u003E produce documentation-- I\u0027d rather have Squad staff working on the stuff that the community \u003Cem\u003E\u003Cu\u003Ecan\u0027t\u003C/u\u003E\u003C/em\u003E work on, i.e. game internals.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, what I \u003Cem\u003E\u003Cu\u003Ewould\u003C/u\u003E\u003C/em\u003E like to see would be a good community-driven wiki that documents the API.\u00A0 The size of the modding community is considerably larger than the size of Squad itself, so this seems like the perfect kind of problem to community-source.\u00A0 \u003Cspan style=\u0022font-size:10px;\u0022\u003E(And given how friendly and approachable the Squad devs are:\u00A0 if the community built this and did most of the heavy lifting, I expect that it wouldn\u0027t be too to get input from the devs for the rough edges where users aren\u0027t sure how to document something.)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nA wiki seems like the right answer. Preferably coupled with some automation that \u0022initializes\u0022 the API by just reflecting all the public methods, members, and properties of the API and making \u0022skeleton\u0022 pages for them all, with some facility for updating when new versions come out.\u00A0 (And even that is a pretty tall order that would take a dedicated programmer a fair amount of time to implement.\u00A0 Not everyone is set up to do that.\u00A0 I could probably do it... but I don\u0027t have that kind of time.)\n\u003C/p\u003E\n\u003Cp\u003E\nSo, how about it, gang?\u00A0 Community call to action?\u00A0 Any takers?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-03T18:59:43Z\u0022 title=\u002203/03/2016 06:59  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 3, 2016\u003C/time\u003E by Snark\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2016-03-03T19:19:11Z","Content":"\n\u003Cp\u003E\nI\u0027m a developer myself and I know the pain of having to document after I have written all the code.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not really a c# person, but I know that in Java when you compile a library you can choose whether variable/parameter names are left in the copiled code. Is that an option that could be enabled for this API? If so it could be quite easy to do and guessing the correct usage of GameEvents EventData\u0026lt;theScienceAmount, ScienceSubject, ProtoVessel, someMeaningfullName\u0026gt; OnScienceRecieved would be much easier and form a better starting point than we currently have.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-03-03T19:52:17Z","Content":"\n\u003Cp\u003E\nFor that specific event the bool at the end is used to differentiate standard science transmissions/returns from the science lab and M700 resource scanner. Those two parts don\u0027t behave the same way when transmitting science so something in the event is needed to tell the two apart. The value is true for the science lab/M700 and false for all regular experiments. The protoVessel just lets you know which vessel the results came from.\n\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-03-03T19:54:50Z","Content":"\n\u003Cp\u003E\nI think the biggest problem is that KSP doesn\u0027t really have a true public API. \u00A0Instead, we as modders have access to invoke pretty much anything in their code via the same internal API that Squad uses (ie. public class members, for those involved in the programming craft). \u00A0This gives us enormous flexibility in modding, but it means that trying to document that would be an absolutely massive undertaking. \u00A0I couldn\u0027t see a way in Visual Studio to count the number of classes that KSP has in 1.0.5, but by visual estimation its in the high hundreds, if not in the thousands. \u00A0Each class will have anywhere between three or four\u00A0functions to over a hundred. \u00A0So documenting the whole thing (even if it wasn\u0027t a moving target) would easily mean looking at tens of thousands of different functions.\n\u003C/p\u003E\n\u003Cp\u003E\nObviously, that\u0027s not a viable approach. \u00A0So we probably need to narrow it down to the important ones. \u00A0But who decides what\u0027s important? \u00A0What\u0027s important to me (contract stuff, career stuff) doesn\u0027t intersect with what might be important to Thomas P. (Kopernicus dev).\n\u003C/p\u003E\n\u003Cp\u003E\nThis overwhelming effort could be why the previous API documentation failed (although I don\u0027t really know, and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/1156-the_duck/\u0026amp;do=hovercard\u0022 data-mentionid=\u00221156\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/1156-the_duck/\u0022\u003E@The_Duck\u003C/a\u003E\u00A0hasn\u0027t been seen on the forums in close to a year, so it\u0027s possible they simply lost interest in KSP). Although the idea of a wiki sounds appealing, I\u0027d be inclined to say the approach should be to fork that (warning: there\u0027s no license specified anywhere on the \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Edocumentation project\u003C/a\u003E). \u00A0The fork should be owned by an \u0022organization\u0022 with multiple member in GitHub (so that it\u0027s not on one single person to deal with pull requests). \u00A0Then we have to get people to contribute (I know I\u0027d be more willing to contribute if I know that pull requests would be accepted more than once a year)!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222440130\u0022 data-ipsquote-contentid=\u0022133410\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457032751\u0022 data-ipsquote-userid=\u002257809\u0022 data-ipsquote-username=\u0022tomf\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, tomf said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m not really a c# person, but I know that in Java when you compile a library you can choose whether variable/parameter names are left in the copiled code. Is that an option that could be enabled for this API? If so it could be quite easy to do and guessing the correct usage of GameEvents EventData\u0026lt;theScienceAmount, ScienceSubject, ProtoVessel, someMeaningfullName\u0026gt; OnScienceRecieved would be much easier and form a better starting point than we currently have.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is the case for C# as well for public/protected members. \u00A0The problem is that the GameEvents.* accept a\u00A0callback function, so the parameters don\u0027t actually get names. \u00A0I know a little about this one because the addition of the ProtoVessel was in 1.0, and the addition of the bool was in 1.0.1 (both broke Contract Configurator). \u00A0The hint as to what it is is from the 1.0.1 release notes:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EScience contracts and science World Firsts can no longer be triggered with science gained by reverse engineering recovered vessels. You have to transmit or recover an actual experiment.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nSo the bool will be true if a vessel is being \u0022reverse engineered\u0022, which it took me a long bit of experimenting to figure out is when KSP generates the list of experiments on the vessel for the vessel recovery dialog box. \u00A0The ProtoVessel parameter is the vessel the science is coming from and I assume was added in 1.0 to support those world firsts contracts in some way (not 100% sure how).\n\u003C/p\u003E\n\u003Cp\u003E\nSo yeah, you picked the perfect example to show the reason why getting this\u00A0API documentation done as a community is both very difficult and very necessary.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: I\u0027m al lot less sure of my answer after \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257416\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0022\u003E@DMagic\u003C/a\u003E\u0027s ninja - I think I\u0027ll have to do some verification as it may mean I have a bug or two in the handling of science labs.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT2: Unstrikethrough. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-03T20:14:29Z\u0022 title=\u002203/03/2016 08:14  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 3, 2016\u003C/time\u003E by nightingale\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-03-03T20:11:10Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/119307-nightingale/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119307\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119307-nightingale/\u0022\u003E@nightingale\u003C/a\u003E\u00A0No, I think you are right.\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe bool that I was thinking of was one that was added to the Science Data object at some point in the last few updates.\n\u003C/p\u003E\n"},{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2016-03-04T08:50:17Z","Content":"\n\u003Cp\u003E\nOk, it looks like the best that is going to happen is a restart of the community documentation project.\n\u003C/p\u003E\n\u003Cp\u003E\nI have created an organisation on Github called KSP-API-docs and invited everyone who has contributed to this thread to join it. It would be great if one of the higher repped members would attempt to recruit people to make contributions.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll spend some time this morning adding in as many missing classes as I can find.\n\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-03-04T14:30:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222441059\u0022 data-ipsquote-contentid=\u0022133410\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457081417\u0022 data-ipsquote-userid=\u002257809\u0022 data-ipsquote-username=\u0022tomf\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, tomf said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, it looks like the best that is going to happen is a restart of the community documentation project.\n\u003C/p\u003E\n\u003Cp\u003E\nI have created an organisation on Github called KSP-API-docs and invited everyone who has contributed to this thread to join it. It would be great if one of the higher repped members would attempt to recruit people to make contributions.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll spend some time this morning adding in as many missing classes as I can find.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood stuff, although the one suggestion I would make is to hold off on the call to action\u00A0for two weeks or so until the KSP 1.1 pre-release comes out - that will hopefully reduce the amount of re-work required from 1.1 changes (I don\u0027t imagine the changes between 1.1 pre-release and 1.1 full will be so significant to warrant waiting \u003Cem\u003Eanother \u003C/em\u003Etwo weeks on top of it).\n\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-03-04T16:58:34Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57809-tomf/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257809\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57809-tomf/\u0022\u003E@tomf\u003C/a\u003E\u00A0- can you go to the settings and enable the issue tracker? \u00A0I want to create a couple issue for stuff that needs to be done (one for manually pulling in the pending pull request on\u00A0Anatid/XML-Documentation-for-the-KSP-API, and another to throw out some ideas I have to automate getting the info from the KSP dlls).\n\u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2016-03-04T17:12:38Z","Content":"\n\u003Cp\u003E\nHi guys-- sorry for abandoning the Github documentation project. I haven\u0027t spent time on KSP in quite a while. You\u0027re of course free to fork it. Let me know if you need explanations of how I built the XML and HTML docs from the .cs files.\n\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-03-04T17:33:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222441638\u0022 data-ipsquote-contentid=\u0022133410\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457111558\u0022 data-ipsquote-userid=\u00221156\u0022 data-ipsquote-username=\u0022The_Duck\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, The_Duck said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi guys-- sorry for abandoning the Github documentation project. I haven\u0027t spent time on KSP in quite a while. You\u0027re of course free to fork it. Let me know if you need explanations of how I built the XML and HTML docs from the .cs files.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAwesome, good to hear! \u00A0I\u0027d like to put a license file on the fork - can you formally state a license for your original work to cover off any code/doxyfile/end-documentation?\u00A0 If you don\u0027t know/care then I\u0027d suggest \u003Ca href=\u0022http://choosealicense.com/licenses/mit/\u0022 rel=\u0022external nofollow\u0022\u003EMIT\u003C/a\u003E as a very simple and permissive license.\n\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-03-04T20:58:22Z","Content":"\n\u003Cp\u003E\nI\u0027ve added issue \u003Ca href=\u0022https://github.com/KSP-API-docs/XML-Documentation-for-the-KSP-API/issues/2\u0022 rel=\u0022external nofollow\u0022\u003E#2\u003C/a\u003E to the GitHub with some suggestions on how we can improve the process going forward to make it easier for people to help out (by pre-generating all the class information so people just don\u0027t have to extract it themselves) and to make it easier to handle changes from one KSP version to another (by using a tool that handles the comparison and merges in a smart way automatically). \u00A0I\u0027d like feedback from anyone who has some interest/expertise on that side of things.\n\u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2016-03-06T20:03:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222441677\u0022 data-ipsquote-contentid=\u0022133410\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457112794\u0022 data-ipsquote-userid=\u0022119307\u0022 data-ipsquote-username=\u0022nightingale\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/4/2016 at 0:33 PM, nightingale said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAwesome, good to hear! \u00A0I\u0027d like to put a license file on the fork - can you formally state a license for your original work to cover off any code/doxyfile/end-documentation?\u00A0 If you don\u0027t know/care then I\u0027d suggest \u003Ca href=\u0022http://choosealicense.com/licenses/mit/\u0022 rel=\u0022external nofollow\u0022\u003EMIT\u003C/a\u003E as a very simple and permissive license.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSure, I added a \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/LICENSE.txt\u0022 rel=\u0022external nofollow\u0022\u003Elicense\u003C/a\u003E.\u00A0\n\u003C/p\u003E\n"}]}