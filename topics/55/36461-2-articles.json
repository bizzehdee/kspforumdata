{"TopicId":36461,"ForumId":55,"TopicTitle":"Barycenters and non-spherical Volumes of Influence (an idea for binary planets/stars)","CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T18:38:46Z","PageNum":2,"Articles":[{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-10T07:51:11Z","Content":"\n\u003Cp\u003Echaos_forge, I\u0027m not one to accept 3% error when the model still can be improved; which is why I was having a bit of a fit over how badly it handles typical bodies.\u003C/p\u003E\u003Cp\u003EI STRONGLY believe that\u003C/p\u003E\u003Cp\u003EA) You have more experience in astrophysics than I (Or rather, I choose to believe; you said you were a physicist in training)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E If you stop trying to write a formula for equal mass objects, you can correct that error by modifying the action for non-equal mass objects\u003C/p\u003E\u003Cp\u003E(In fact, the error should be greater for equal mass because \u0022it should\u0022... I think... idk, I woke up abruptly a half-hour ago [and fell asleep abruptly too])\u003C/p\u003E\u003Cp\u003E(Yes, I was thinking about how a regular body akin to kerbin and the mun, should have a \u0022barycenter\u0022 that is ~1cm off of kerbin\u0027s center [From mental imagery]. This is most accurate when approaching from \u0022some angles that don\u0027t strongly intersect the different soi\u0027s\u0022....)\u003C/p\u003E\u003Cp\u003E*** In terms of the thingy ***\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.alemor.org/~mario/uploads/semicircle_barycenterdiagram.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.alemor.org/~mario/uploads/semicircle_barycenterdiagram.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThink of it as having a \u0022sphere of influence\u0022 whose radius is not actually the central object (planet A or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E; these two spheres only applies while inside the Barycenter\u0027s SOI (hence akin to your statement; the stuff is separated-ma-tron)\u003C/p\u003E\u003Cp\u003EAs it stands, you could implement this with zero issue; for a single binary system... the issue is only the error.\u003C/p\u003E\u003Cp\u003EOkay, it\u0027s been about an hour now :S, but try settling for a 1:3 system. The \u0022Barycenter\u0022 you want is the orbital center (where the two objects orbit each other... ness... basically where you can spin it and stuff) As I see, the further the center is from either planet, the greater the inaccuracy, so if it is closer... w/e, you get it.\u003C/p\u003E\u003Cp\u003E*I like the idea, I think it can be improved.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T08:14:23Z\u0022 title=\u002207/10/2013 08:14  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by Fel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-10T12:43:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CaptainArbitrary\u0022 data-cite=\u0022CaptainArbitrary\u0022\u003E\u003Cdiv\u003EThe big problem is that your piecewise function breaks off the axis. Along \u003Cem\u003Emost\u003C/em\u003E of the line connecting the centers of the two gravitating bodies, your piecewise function is okay \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC*except for a single point where it goes to minus infinity. But just off that line connecting the centers, your piecewise function gives completely bonkers results, compared to real life.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the graphs, I don\u0027t know how to make 3D graph like that xD And yes, you\u0027ve identified exactly the problem with this model, which is the infinite force as you approach the barycenter. Would it be possible to make a graph using the semi-circular SOI\u0027s that I depicted above?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EAdding new zones can be done ad infinium. Consider what happens when you have so many zones that you\u0027re making an SOI transition exactly once per frame; you\u0027re close to doing a full N-body simulation, assuming your zones are set up correctly. You can get a lot of granularity by adding a zone, say, at 0.05g gravity potential intervals. The issue is you start stressing the patched conics system since you\u0027re constantly doing SOI changes.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree. After thinking about this, I think the most reasonable approximation would be to have semi-circular SOI\u0027s. Having many concentric SOI\u0027s for the barycenter would put too much strain on the patched conics system.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PringleMan\u0022 data-cite=\u0022PringleMan\u0022\u003E\u003Cdiv\u003EThe alternative to simplify that would be to have a simple circle SOI around both bodies which is basically what we have now.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMan, I feel like a broken record, but what would you think about the semi-circular SOI thing?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fel\u0022 data-cite=\u0022Fel\u0022\u003E\u003Cdiv\u003EOkay, it\u0027s been about an hour now :S, but try settling for a 1:3 system. The \u0022Barycenter\u0022 you want is the orbital center (where the two objects orbit each other... ness... basically where you can spin it and stuff) As I see, the further the center is from either planet, the greater the inaccuracy, so if it is closer... w/e, you get it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll try doing some calculations for non-equal masses next, but my intuitive prediction is that the greater the difference between the masses, the less error there will be.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T12:56:54Z\u0022 title=\u002207/10/2013 12:56  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainArbitrary","CreatedById":28110,"CreatedDateTime":"2013-07-10T15:29:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EWould it be possible to make a graph using the semi-circular SOI\u0027s that I depicted above?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfter spending thirty seconds on it, I can\u0027t think of a quick way to, no. See, the plots I gave you are mathematical. The first plot is just an illustration of the gravitational acceleration field emerging from two fixed sources:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/JbHodls.png\u0022 alt=\u0022JbHodls.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe second one is a piecewise function where the acceleration is a function of one body when close to that body, the other when close to that body, and everywhere else a function of your imaginary barycenter body:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/tFIrLLp.png\u0022 alt=\u0022tFIrLLp.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn the second case, outside the SOIs of the two bodies (defined by radii \u003Cem\u003Er\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u003C/em\u003E and \u003Cem\u003Er\u00C3\u00A2\u00E2\u20AC\u0161\u00E2\u20AC\u0161\u003C/em\u003E) the gravitational acceleration field is created by a single source with the mass of both bodies that lies at the center of mass of the pair. That\u0027s what you described, and the plots I posted show the results.\u003C/p\u003E\u003Cp\u003EThis would work perfectly from \u003Cem\u003Eoutside\u003C/em\u003E the immediate vicinity of the system. That\u0027s Gauss\u0027s law, in essence; the gravitational field created by a distribution of mass looks, from a distance, like the field created by a single point of the same total mass. That\u0027s why when we do two-body gravity math we can ignore the fact that the bodies have extent; we can pretend they\u0027re just points.\u003C/p\u003E\u003Cp\u003EBut what you\u0027re trying to do is model the region \u003Cem\u003Ebetween\u003C/em\u003E the two bodies in a way that\u0027s simple and that can be reduced to polynomials of time (\u0022put on rails,\u0022 in KSP jargon) but that comes close enough to reality to make it worth doing. You\u0027re not going to get there with this approach. The idea of using a piecewise function is fine in principle; that\u0027s essentially what KSP already \u003Cem\u003Edoes,\u003C/em\u003E with patched conics. But in the patched-conic approximation, you get away with it because the boundaries between regions are relatively smooth. They\u0027re discontinuous, yes, which is why you can\u0027t differentiate across them. But they\u0027re \u003Cem\u003Esmoothish,\u003C/em\u003E because you choose to put your SOI boundaries out in fairly flat space, away from steep gradients. Like so:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/iokaUx5.png\u0022 alt=\u0022iokaUx5.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe flat blue area is flat space, where the acceleration scalar is exactly zero everywhere. Within predefined radii, the acceleration scalar is like normal, going like 1/\u003Cem\u003Er\u00C3\u201A\u00C2\u00B2\u003C/em\u003E. See how there are discontinuities at the boundaries, but they\u0027re relatively smooth ones? Crossing a boundary from flat space, the acceleration scalar goes from exactly zero to \u003Cem\u003Esomething\u003C/em\u003E with no transition, but the something it goes to is very close to zero. So it\u0027s okay; we can work with it without too many problems. It becomes a \u003Cem\u003Edecent\u003C/em\u003E approximation of how things would happen in real life, where there are no discontinuities.\u003C/p\u003E\u003Cp\u003EBut in your model, the discontinuities in the region between the bodies are enormous; the acceleration scalar jumps wildly from one value to another very different value as you move from SOI to SOI. This would create some very weird behaviors, as your orbits make sudden right turns, or even go degenerate and hyperbolic, when you cross an SOI boundary.\u003C/p\u003E\u003Cp\u003EIt really doesn\u0027t matter how you implement your idea, I\u0027m afraid. It really just can\u0027t work. You\u0027re trying to break Gauss\u0027s law, basically, by treating a non-symmetric distribution of mass as a single point from \u003Cem\u003Ewithin\u003C/em\u003E that distribution of mass. That can never work. It can\u0027t even be close enough.\u003C/p\u003E\u003Cp\u003ESorry.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-10T15:51:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CaptainArbitrary\u0022 data-cite=\u0022CaptainArbitrary\u0022\u003E\u003Cdiv\u003EBut in your model, the discontinuities in the region between the bodies are enormous; the acceleration scalar jumps wildly from one value to another very different value as you move from SOI to SOI. This would create some very weird behaviors, as your orbits make sudden right turns, or even go degenerate and hyperbolic, when you cross an SOI boundary.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, I see what you\u0027re saying. So in the case of semi-circular SOI\u0027s, the acceleration function would be continuous at the interface between the two planetary SOI\u0027s, but it would still be non-differentiable (similar to the vertex of an absolute value graph). And the non-differentiability is the more important problem.\u003C/p\u003E\u003Cp\u003EEDIT: Just out of personal interest, what graphing utility are you using? If it\u0027s gnuplot, could I see the code you\u0027re using to get the graphs?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T15:56:44Z\u0022 title=\u002207/10/2013 03:56  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainArbitrary","CreatedById":28110,"CreatedDateTime":"2013-07-10T16:35:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EOk, I see what you\u0027re saying. So in the case of semi-circular SOI\u0027s, the acceleration function would be continuous at the interface between the two planetary SOI\u0027s, but it would still be non-differentiable (similar to the vertex of an absolute value graph). And the non-differentiability is the more important problem.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKind of. If the boundary were continuous it would also be differentiable across, along the line connecting the radii. But even in that case, it would not be differentiable anywhere else. And it\u0027s not the fact that there\u0027s a discontinuity there that causes issues; there must necessarily be discontinuities in a patched-conic approximation. It\u0027s the \u003Cem\u003Emagnitude\u003C/em\u003E of the discontinuity that causes the problem. You\u0027re moving from a region where your trajectory goes \u003Cem\u003Ethisaway\u003C/em\u003E smoothly and sensibly to a region where your trajectory suddenly makes a 90\u00C3\u201A\u00C2\u00B0 turn, or flips back on itself, or whatever.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EEDIT: Just out of personal interest, what graphing utility are you using? If it\u0027s gnuplot, could I see the code you\u0027re using to get the graphs?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EToo lazy for that. I just kicked \u0027em out in Mathematica right quick.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-10T17:03:05Z","Content":"\n\u003Cp\u003ECan I see the mathematica code then? I disagree with what you\u0027re saying, but I think being able to make graphs would help me visualize what I\u0027m trying to say. And I just got mathematica literally last week, so it\u0027d be easier for me to just modify your code than figure out how graphing works from scratch xD\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T17:05:58Z\u0022 title=\u002207/10/2013 05:05  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003Cbr\u003EGrammar\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-10T18:10:03Z","Content":"\n\u003Cp\u003EI\u0027m not a mathematician. I\u0027m just spitballing here.\u003C/p\u003E\u003Cp\u003EThis might be like making rockets with duct tape but how about hemispheres of influence with some interpolation between the hemispheres and the barycenter SOI. To decrease the the magnitude of discontinuity you could extend the interpolation far inside the hemispheres and in the opposite direction into the barycenter SOI......or is that already too complex?\u003C/p\u003E\n"},{"CreatedByName":"LeadMagnet","CreatedById":43256,"CreatedDateTime":"2013-07-10T18:20:44Z","Content":"\n\u003Cp\u003EAHHHHHH...you killed Kenny...you *$%!@\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EWay over my head, but love the graphics!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-10T19:49:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EI\u0027m not a mathematician. I\u0027m just spitballing here.\u003Cp\u003EThis might be like making rockets with duct tape but how about hemispheres of influence with some interpolation between the hemispheres and the barycenter SOI. To decrease the the magnitude of discontinuity you could extend the interpolation far inside the hemispheres and in the opposite direction into the barycenter SOI......or is that already too complex?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s probably too complex.\u003C/p\u003E\n"},{"CreatedByName":"CaptainArbitrary","CreatedById":28110,"CreatedDateTime":"2013-07-10T20:10:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003ECan I see the mathematica code then?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI didn\u0027t keep it. It\u0027s not really \u0022code,\u0022 though. You just type in the equations and tell Mathematica to plot them for you.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-10T21:27:41Z","Content":"\n\u003Cp\u003EI\u0027d be really interested in seeing a gravity plot for the HemiSOIs. I\u0027m sure the devs would be too.\u003C/p\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-10T22:07:15Z","Content":"\n\u003Cp\u003EThere\u0027s a lot of good analysis here directed towards implementing this model.\u003C/p\u003E\u003Cp\u003Ehowever, I\u0027d like to throw my hat in the ring with a simple question: What advantage does this system have over the current method from a gameplay sense?\u003C/p\u003E\u003Cp\u003EIt would only be worth implementing for bodies with similar masses - what KSP bodies/systems do you feel would benefit from this?\u003C/p\u003E\u003Cp\u003EIt would not model Lagrange points, or even approximate them. What new gameplay abilities would it give you?\u003C/p\u003E\u003Cp\u003EIt would cause more SOI changes, lower performance, and more orbit instability as Majiir mentioned. Why is that worth it?\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EWhat motivates changing to this system?\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-10T22:23:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EI\u0027d be really interested in seeing a gravity plot for the HemiSOIs. I\u0027m sure the devs would be too.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWorking on it xD Give me a while, I\u0027m still learning how to use mathematica. But hopefully I\u0027ll have another one of my uber-long posts done by today evening.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NielC\u0022 data-cite=\u0022NielC\u0022\u003E\u003Cdiv\u003EThere\u0027s a lot of good analysis here directed towards implementing this model.\u003Cp\u003Ehowever, I\u0027d like to throw my hat in the ring with a simple question: What advantage does this system have over the current method from a gameplay sense?\u003C/p\u003E\u003Cp\u003EIt would only be worth implementing for bodies with similar masses - what KSP bodies/systems do you feel would benefit from this?\u003C/p\u003E\u003Cp\u003EIt would not model Lagrange points, or even approximate them. What new gameplay abilities would it give you?\u003C/p\u003E\u003Cp\u003EIt would cause more SOI changes, lower performance, and more orbit instability as Majiir mentioned. Why is that worth it?\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EWhat motivates changing to this system?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it\u0027s only worth implementing in systems where the barycenter is \u003Cstrong\u003Eoutside\u003C/strong\u003E both planets/moons (this happens almost exclusively when they have similar masses). Currently no in-game systems would be changed, but if the distance between Ike and Duna was increased a little, then you could apply this system to them. The benefit of this system is that it would allow double planets, and eventually multiple-star systems (this is a long-term suggestion of course). For the benefit of multiple-star systems, see the thread I linked to in my original post. As for whether it would cause more SOI changes, probably, but the performance/feasibility of this system is (as you can see) still in debate.\u003C/p\u003E\u003Cp\u003EEDIT: Also, it would just be really cool, and allow us to have several types of astronomical objects that are currently impossible in KSP.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T22:55:29Z\u0022 title=\u002207/10/2013 10:55  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-11T00:01:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIt would cause more SOI changes, lower performance, and more orbit instability as Majiir mentioned. Why is that worth it?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027ll be fine when we have multithreading and GPU physics.\u003C/p\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-11T01:19:55Z","Content":"\n\u003Cp\u003EAh, though I\u0027m a big fan of the BSG series (modern, not 1970s) I\u0027d never seen the layout of the 12 colonies - they don\u0027t really get into FTL ranges and such, I\u0027d always assumed they were 12 different star systems. I understand the \u0022cool factor\u0022 now.\u003C/p\u003E\u003Cp\u003EWould it be fair to say that the main reason for implementing this system is to allow you to make a BSG mod? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EIs this something that could be done with the current system, just by making \u0022Barycenter objects\u0022 normal planets with really high masses, tiny collision meshes, and all-black texturing?\u003C/p\u003E\n"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2013-07-11T02:04:57Z","Content":"\n\u003Cp\u003ENo NeilC. They\u0027re proposing a barycenter object that is a normal planet with NO collision mesh or texturing. What you\u0027re describing is a tiny black hole.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-11T02:43:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EIs this something that could be done with the current system, just by making \u0022Barycenter objects\u0022 normal planets with really high masses, tiny collision meshes, and all-black texturing?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, that\u0027s more or less what I thought in my original post, but CaptainArbitrary pointed out some problems with that method that can\u0027t be overcome, so we had to come up with a different method. And that different method is semi-circular SOI\u0027s.\u003C/p\u003E\u003Cp\u003ETo refresh everyone\u0027s memories, this is approximately what the potential field for a real two-body system of equal masses would look like: \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/mathematica_barycenter.jpg\u0022 alt=\u0022mathematica_barycenter.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow the system I described in my original post would produce a potential field that looks something like this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/mathematica_barycenter2.jpg\u0022 alt=\u0022mathematica_barycenter2.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe main problem with this system is that the force experienced as you approach the barycenter goes to infinity, which is significantly different from the real-life behavior. However, we were able to come up with a modification to my original idea, using semicircular SOI\u0027s, that would produce approximately the following potential well: \u003C/p\u003E\u003Cp\u003ERevised model:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/mathematica_barycenter3.jpg\u0022 alt=\u0022mathematica_barycenter3.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis model has two significant advantages: 1) that it more closely matches the real-life potential well, and 2) that the interface between the SOI\u0027s is relatively even/flat/\u0022nice\u0022 at every point.\u003C/p\u003E\u003Cp\u003EHowever, it also has one significant \u003Cstrong\u003Edis\u003C/strong\u003Eadvantage, and that is that it would require the devs to change how SOI\u0027s behave. The main problem is that this model no longer uses \u003Cstrong\u003Espheres\u003C/strong\u003E of influence, but rather \u0022irregularly shaped regions\u0022 of influence. Apart from that, the behavior would (as far as I can tell) be the same as in KSP\u0027s current physics system.\u003C/p\u003E\u003Cp\u003EI\u0027ve also included a plot of the percentage error for the semicircle (revised) system, because why not? The error is always below 50%, which is okay, but not great. The calculation I\u0027m doing is: (real value - simulated value) / real value\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/mathematica_barycenter4.jpg\u0022 alt=\u0022mathematica_barycenter4.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs long as we\u0027ve given up on using spheres of influence, the SOI region of the two planets could be elongated somewhat along the x-axis and contracted along the y-axis to give us even lower amounts of error.\u003C/p\u003E\u003Cp\u003ESorry I haven\u0027t been able to do systems with an uneven distribution of masses yet, I\u0027ll see if I can get to that tomorrow.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-11T03:06:15Z\u0022 title=\u002207/11/2013 03:06  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 11, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-11T02:47:36Z","Content":"\n\u003Cp\u003ESo, if the only difference is the presence of a mesh and texture, it should be pretty easy to implement. I\u0027m just pointing out that if it doesn\u0027t get implemented it would be easy to do in a mod once KSP allows celestial bodies to be modded.\u003C/p\u003E\u003Cp\u003EDon\u0027t get me wrong, I like the idea! I\u0027d love to see a BSG mod, I would definitely play that. That\u0027s why I\u0027m suggesting ways to do it that don\u0027t involve changes to the game, so it\u0027s more likely to happen. If the only difference between \u0022possible now\u0022 and \u0022requires dev time\u0022 is a 1m black sphere at the barycenter that, granted, might be dense enough to form an event horizon if KSP actually modeled those physics... I think I could live with that.\u003C/p\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-11T02:50:44Z","Content":"\n\u003Cp\u003EGotcha, thanks for summarizing. Sorry I didn\u0027t read it more carefully before.\u003C/p\u003E\u003Cp\u003EI hope the devs are listening. I\u0027ll be watching the Add-ons for your mod. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-11T02:52:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003ESo, if the only difference is the presence of a mesh and texture, it should be pretty easy to implement. I\u0027m just pointing out that if it doesn\u0027t get implemented it would be easy to do in a mod once KSP allows celestial bodies to be modded.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry, but I\u0027m pretty sure it would require a change in the behavior of SOI\u0027s \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E . Using the current SOI shapes would end up producing extremely unphysical/wonky behavior.\u003C/p\u003E\u003Cp\u003EEDIT: But on the up side, I don\u0027t think changing the shapes of SOI\u0027s would be that difficult. After all, the shape should be little more than just a glorified if statement. Then again, I have no idea how KSP works on the inside . . .\u003C/p\u003E\u003Cp\u003EEDIT2: \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EI\u0027ll be watching the Add-ons for your mod. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell I start college in about two months, and I severely doubt I\u0027ll have enough free time to make a mod then (also I know nothing about programming C# or how Unity works), but if somebody else wants to make a mod using my idea, then go for it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-11T03:01:53Z\u0022 title=\u002207/11/2013 03:01  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 11, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-11T03:18:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EBut on the up side, I don\u0027t think changing the shapes of SOI\u0027s would be that difficult. After all, the shape should be little more than just a glorified if statement. \u0026lt;...\u0026gt; (also I know nothing about programming C# or how Unity works)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know a bit about programming. You\u0027re right, but the if statement is likely not even glorified. in pseudocode:\u003C/p\u003E\u003Cp\u003Efor( \u0026lt;all bodies in system\u0026gt; ) { if( distance(ship, \u0026lt;body\u0026gt;) \u0026lt;= SOI_RADIUS_FOR_BODY ) set_SOI(ship, \u0026lt;body\u0026gt;); }\u003C/p\u003E\u003Cp\u003EI\u0027d be surprised if KSP has any concept of the shape of an SOI at the moment: it\u0027s probably just a number, hardcoded or defined in a config file, and the circular assumption is built right into the way the code works.\u003C/p\u003E\u003Cp\u003EIntroducing any notion of shape, while certainly not impossible, would be non-trivial.\u003C/p\u003E\u003Cp\u003EThat\u0027s why this change is unlikely to happen, IMHO. You\u0027re proposing replacing a trivial system with a non-trivial one, and there don\u0027t seem to be any gameplay benefits associated with the change.\u003C/p\u003E\u003Cp\u003EYou could implement multi-planet and multi-star systems with the current SOI model. It\u0027s just that you\u0027d either have to pick one of them as the center instead of having the concept of a barycenter, or you\u0027d have to use a \u0022tiny black hole\u0022 of a planet as a barycenter and have both orbit it. It wouldn\u0027t be as accurate. It wouldn\u0027t be as cool. But it would work the same for all intents and purposes as far as gameplay is concerned, with erratic behaviour near the barycenter - same with your SOI model, that\u0027s where your error is highest.\u003C/p\u003E\u003Cp\u003EI really don\u0027t mean to be a negative nelly - I think this is a cool idea! Just possibly not a very practical one, in my opinion. Here\u0027s hoping the devs disagree.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-11T03:20:30Z\u0022 title=\u002207/11/2013 03:20  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 11, 2013\u003C/time\u003E by NeilC\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CouchLizzard","CreatedById":11580,"CreatedDateTime":"2013-07-11T05:03:01Z","Content":"\n\u003Cp\u003EChiming in with my two cents.\u003C/p\u003E\u003Cp\u003EUnless I\u0027ve got something confused, a hemisphere system should still be trivial, but would require a little extra coding. Whenever the ship is inside the inner barycenter radius, just consider the ship to be within the sphere of influence of the closer of the two bodies.\u003C/p\u003E\u003Cp\u003ESo, something like this: if( distance(ship, \u0026lt;barycenter\u0026gt;) \u0026lt;= BARYCENTER_INNER_RADIUS) { if( distance(ship, \u0026lt;body1\u0026gt;) \u0026lt; distance(ship, \u0026lt;body2\u0026gt;)) set_SOI(ship, \u0026lt;body1\u0026gt;); else set_SOI(ship, \u0026lt;body2\u0026gt;);}\u003C/p\u003E\u003Cp\u003EEdit: Of course, this is assuming that the \u0027inner area\u0027 of the system is still spherical. I\u0027m not sure if that could cause problems for more complex systems...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-11T05:08:09Z\u0022 title=\u002207/11/2013 05:08  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 11, 2013\u003C/time\u003E by CouchLizzard\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2013-07-11T05:17:43Z","Content":"\n\u003Cp\u003EThe problem is that the model chaos forge came up with (although it is impressively close to the real system), is still just for objects of the same mass. Granted, since the primary stipulation is that the barycenter must be external to both bodies (otherwise the current system could be used), but if they are not exactly equal than wouldn\u0027t the larger body\u0027s HSOI (HemiSphere Of Influence) be larger than the other one\u0027s? Perhaps the surface that divides the sphere into parts would be curved towards the smaller of the bodies, so that the region around the larger one was more of a waxing crescent shape, and the one around the smaller one was waning. Again, I disclaim that I don\u0027t know enough about n-body mechanics to say one way or the other, but it seems like a complication that\u0027d need to be addressed for this to work.\u003C/p\u003E\u003Cp\u003EAlso, how would you set the size of each region? It seems to me like the best way to do it would be to set the size of the SOI to whatever the size would be of a single planet that contains the mass of both objects (using the standard SOI size formula) then deciding how to separate them based on the individual masses and other characteristics of the system.\u003C/p\u003E\u003Cp\u003EI\u0027m not sure how possible any of this is in the current framework. The only way to know for sure would be to get some input from the devs themselves, and I wouldn\u0027t hold my breath waiting for harv to come comment on this.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-11T09:44:09Z","Content":"\n\u003Cp\u003EWow chaos those plots look great but I noticed that you seem to be using \u0022stars\u0022 that are either very large or very close together. Is that the reason for the large errors? Would it be more helpful to the devs if you demonstrated this method with something like BSG Helios Alpha and Beta for example?\u003C/p\u003E\u003Cp\u003EAnyway here\u0027s some ideas for asymmetric VOIs (Volumes of influence) in addition to tntristan12\u0027s crescent idea.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/7VsOAsN.png\u0022 alt=\u00227VsOAsN.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-11T13:16:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CouchLizzard\u0022 data-cite=\u0022CouchLizzard\u0022\u003E\u003Cdiv\u003EUnless I\u0027ve got something confused, a hemisphere system should still be trivial, but would require a little extra coding. Whenever the ship is inside the inner barycenter radius, just consider the ship to be within the sphere of influence of the closer of the two bodies.\u003Cp\u003ESo, something like this: if( distance(ship, \u0026lt;barycenter\u0026gt;) \u0026lt;= BARYCENTER_INNER_RADIUS) { if( distance(ship, \u0026lt;body1\u0026gt;) \u0026lt; distance(ship, \u0026lt;body2\u0026gt;)) set_SOI(ship, \u0026lt;body1\u0026gt;); else set_SOI(ship, \u0026lt;body2\u0026gt;);}\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, the problem with this code is that it\u0027s only applicable to models where both bodies have exactly the same mass. For bodies with differing masses, the interface should be the plane passing through the L1 lagrange point perpendicular to the line joining the center of the two bodies. So the if would become more complicated.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tntristan12\u0022 data-cite=\u0022tntristan12\u0022\u003E\u003Cdiv\u003EThe problem is that the model chaos forge came up with (although it is impressively close to the real system), is still just for objects of the same mass. . . . Also, how would you set the size of each region?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m planning to do an analysis of the behavior when the masses are unequal next, but I won\u0027t be able to get to it until at least 12 hours from now (at the time of the writing of this post). The size of the SOI of the barycenter would be determined by using the normal SOI formula with an body whose mass is the combined mass of both stars/planets/moons. The SOI\u0027s of the two stars/planets/moon would be calculated using the relative locations of their lagrange points (specifically the L1 and L2 points).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EWow chaos those plots look great but I noticed that you seem to be using \u0022stars\u0022 that are either very large or very close together. Is that the reason for the large errors?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell right now what I\u0027m doing is an extremely rough \u0022proof-of-concept\u0022 simulation. I\u0027m using a system of units such that the gravitational constant is 1, so it\u0027s hard to get \u0022real-life\u0022 numbers. Once I make sure things work like they should, I\u0027ll use more realistic numbers. However, since I\u0027m using percentage error and not absolute error, I\u0027m not sure how it would be affected. I think the HemiSOI\u0027s should look like the picture on the left, but since I haven\u0027t gotten to test it yet I\u0027m not sure.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-11T13:26:47Z\u0022 title=\u002207/11/2013 01:26  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 11, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"}]}