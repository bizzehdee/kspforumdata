{"TopicId":36461,"ForumId":55,"TopicTitle":"Barycenters and non-spherical Volumes of Influence (an idea for binary planets/stars)","CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T18:38:46Z","PageNum":1,"Articles":[{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T18:38:46Z","Content":"\n\u003Cp\u003EAs we all know, a system such as the Earth-Moon system is actually a 2-body system, where any orbiting spacecraft has to account for the gravity of the Moon as well as the gravity of the Earth. Currently, the way KSP avoids this problem is by using Spheres of Influence. This is a perfectly reasonable simplification, and I\u0027m quite happy with how it works. However, it has one important limitation: it only makes sense in systems where the barycenter (center of mass) is inside the larger object, and the smaller object essentially \u0022orbits\u0022 the larger one.\u003C/p\u003E\u003Cp\u003EIn systems such as the Pluto-Charon system, where both objects are of similar mass, the barycenter can actually be in the space between both objects, meaning that they are both essentially orbiting the same point in empty space. What I think should be implemented in this case is a invisible, collision-less, and otherwise impossible to interact with Barycenter object. For two object with equal mass, the relative SOI\u0027s would look something like this:\u003C/p\u003E\u003Cp\u003E(Please excuse my amazing paint skillz)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/barycenterdiagram.jpg\u0022 alt=\u0022barycenterdiagram.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo any ship approaching the Red-Blue system would first enter into orbit around the system\u0027s barycenter (whose gravitational mass would be the sum of the two planets\u0027 masses), and then possibly encounter the SOI of one of the two planets. I know that this isn\u0027t actually what happens in a real two-body system, but I think it\u0027s a good enough approximation.\u003C/p\u003E\u003Cp\u003ETwo important things to note are that 1) the barycenter would ALWAYS have to be inside the SOI of one of the planets/moons, otherwise nonsensical (from a physics standpoint) things would happens, and 2) the interface between the SOI\u0027s of the two objects would be located at their L1 Lagrange point (however, since this system isn\u0027t a full 3-body simulation, Lagrange points would still be impossible, sorry).\u003C/p\u003E\u003Cp\u003EFor a system where (for example) one object has half the mass of the other, the SOIs would look something like this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/unevenbarycenter.jpg\u0022 alt=\u0022unevenbarycenter.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI know that this isn\u0027t actually what happens in a real two-body system, but I think it\u0027s a good enough approximation, and would allow the devs to add interesting features like double planets such as Pluto-Charon, and more importantly would further my personal crusade to get binary/multiple star systems added in the game (which I posted about here: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/39185-A-hopefully-more-reasonable-suggestion-for-future-expansion-of-the-universe?p=505403\u0026amp;viewfull=1#post505403\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/39185-A-hopefully-more-reasonable-suggestion-for-future-expansion-of-the-universe?p=505403\u0026amp;viewfull=1#post505403\u003C/a\u003E) xD\u003C/p\u003E\u003Cp\u003EEither way, I think it\u0027s a cool idea, but tell me what you think. ALSO: all of this reasoning is with nothing more than a single semester of AP mechanics, so if I have an error in my pseudo-physics reasoning, please let me know.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EEDIT:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EChanged the name to reflect the new ideas in the thread and not mention N-body\u003C/p\u003E\u003Cp\u003EThe following is a summary of the last 12 pages of discussion.\u003C/p\u003E\u003Cp\u003EThe barycenter model in it\u0027s original incarnation had an irredeemable flaw, that in the equal mass case it is possible to approach the barycenter to an arbitrarily small distance, potentially producing ridiculous gravity assists and other bugs similar to when Kerbol didn\u0027t have a surface. There are two possible way to fix this:\u003C/p\u003E\u003Cp\u003EFirst, some terminology: m is mass, r is distance. Anything with a 1 in it has to do with Body 1, and vice versa. In cases where the masses aren\u0027t equal, Body 1 is the larger body. The mass ratio is m1/m2. A Volume of Influence (VOI) is basically a Sphere of Influence generalized to have an arbitrary shape.\u003C/p\u003E\u003Cp\u003E1) Use the original system, but only in situations where the mass ratio is 4 or greater. This has the benefit of being easier to implement, but has the obvious drawback that it doesn\u0027t work for every situation.\u003C/p\u003E\u003Cp\u003E2) The HemiSOI/Horn model:\u003C/p\u003E\u003Cp\u003EIn this case, the barycenter would be divided into an inner and outer region. The inner barycenter region would be divided into a Body 1 VOI and a Body 2 VOI. In the equal mass case, it would look something like this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/semicircle_barycenterdiagram.jpg\u0022 alt=\u0022semicircle_barycenterdiagram.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote: the radius of the inner barycenter region is pretty arbitrary, but I\u0027ve chosen it to be the distance between L2 and the barycenter.\u003C/p\u003E\u003Cp\u003EThanks to Horn Brain, we generalized this system to cases of unequal mass. The boundary line between the two VOI\u0027s in this system is defined by r1/r2 = (m1/m2)^(2/5)\u003C/p\u003E\u003Cp\u003EThe VOI\u0027s would look something like this: (picture credit goes to Horn Brain)\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/DoPqQ\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EWe\u0027ve done an error analysis on the Horn system, and it gives reasonable error in both magnitude and direction. If you want to see more about the error, look in the thread. The obvious drawback to this system is that it would require the devs to at least partially change the SOI logic. Anyways, if you have any questions/comments, don\u0027t be afraid to post in the thread.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-23T13:57:13Z\u0022 title=\u002207/23/2013 01:57  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 23, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pachi3080","CreatedById":65427,"CreatedDateTime":"2013-07-09T19:31:51Z","Content":"\n\u003Cp\u003EAWESOME, JUST, AWESOME! I can\u0027t say more... Really, i don\u0027t even know what to post about this. Let\u0027s see what forum users have to say...\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-09T20:00:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003E...1) the barycenter would ALWAYS have to be inside the SOI of one of the planets/moons, otherwise nonsensical (from a physics standpoint) things would happens...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECould you elaborate? It occurs to me that the barycenter should be inside it\u0027s own SOI so that any trajectory passing right through the barycenter should behave as if it\u0027s traveling through the center of mass of both objects, no? Also why are the SOIs of the two objects always touching? For a system like the twelve colonies they should be seperate shouldn\u0027t they?\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T20:29:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003ECould you elaborate? It occurs to me that the barycenter should be inside it\u0027s own SOI so that any trajectory passing right through the barycenter should behave as if it\u0027s traveling through the center of mass of both objects, no? \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think so, it has to do with the fact that when you\u0027re far away from the two objects, they\u0027re both pulling you in roughly the same direction, whereas when you\u0027re close to them, they\u0027re pulling in opposite directions. It\u0027s a similar thing to what happens when you have a huge hollow sphere: anything on the outside of the sphere would experience a force pulling it towards the center of the sphere, but once you\u0027re inside the sphere, you actually have a net force of zero acting on you.\u003C/p\u003E\u003Cp\u003EThat phenomenon is easiest to see in the case where the two objects are of equal size, since in that case the barycenter coincides with the L1 point. Imagine a line passing through the barycenter and the center of both planets. In real life, the L1 point is an unstable equilibrium: if you are at rest on the right side of the barycenter, you should fall to the right (towards the red planet). However, if the barycenter was in its own SOI, it would be possible to find a point to the right of the barycenter where you would fall back towards the barycenter (to the left), in the opposite direction of what *should* happen.\u003C/p\u003E\u003Cp\u003EThat\u0027s what I meant when nonsensical things would happen.\u003C/p\u003E\u003Cp\u003EEDIT: TL;DR: You can only orbit the barycenter when you\u0027re farther away from it than the two planets\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E Also why are the SOIs of the two objects always touching? For a system like the twelve colonies they should be seperate shouldn\u0027t they?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy reasoning for the SOI\u0027s to always be touching is based on the aforementioned behavior of the L1 point, and also on the reasoning that since they HAVE to be touching in the case of equal mass, it makes sense for them to be touching in other cases. My reasoning for this is more of an intuitive decision and harder to explain, but if you give me some time I might be able to form a coherent argument.\u003C/p\u003E\u003Cp\u003EEDIT: Having the SOI\u0027s touch each other also guarantees that the barycenter will never be in its own SOI\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-09T20:40:37Z\u0022 title=\u002207/09/2013 08:40  PM\u0022 data-short=\u002211 yr\u0022\u003EJuly 9, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-09T20:42:36Z","Content":"\n\u003Cp\u003EI understand now, but in the special case of two stars of exactly equal mass, there still should be an infinitesimally small passage between SOIs so that in the unlikely event that a ship travels through the barycenter then the ship is pulled equally in both directions. This in effect means that in the special case of equal stars the barycenter should be inside its own SOI. In every other case the SOIs can touch just to make things simple.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T20:47:18Z","Content":"\n\u003Cp\u003EWell yes, if you passed *exactly* equidistant to both objects, your path would not be affected, but basically that\u0027s unlikely enough for us to disregard it\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-07-09T21:07:18Z","Content":"\n\u003Cp\u003EI really like this idea, I\u0027m sure there\u0027s things that could be tweaked with it, but the general idea makes sense and would probably work for KSP.\u003C/p\u003E\u003Cp\u003EDevs, please? Pretty please? At least consider it? xD\u003C/p\u003E\u003Cp\u003EEDIT: Apparently this is my 100th post! Hurrah! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kodiak42","CreatedById":62082,"CreatedDateTime":"2013-07-09T21:27:22Z","Content":"\n\u003Cp\u003EUhh... I honestly have no clue about what to think of this, it looks good on paper, but some physicist in the back of my head is screaming \u0022No, this model can be exploited for horribly unrealistic effects!\u0022\u003C/p\u003E\u003Cp\u003EOf course, I would just like to say that if a person who knew what they were doing had a nice enough environment to work in with enough scratch paper, table space, and other mathematical resources, that person could eventually figure out how to calculate a rail system for N-body physics.\u003C/p\u003E\n"},{"CreatedByName":"DisarmingBaton5","CreatedById":68576,"CreatedDateTime":"2013-07-09T22:25:36Z","Content":"\n\u003Cp\u003EWOW. That\u0027s one of few very good ideas on the development forum. Would it work for 3 or more bodies? It seems not, because the SOIs would screw each other up.\u003C/p\u003E\n"},{"CreatedByName":"OrbitusII","CreatedById":57305,"CreatedDateTime":"2013-07-09T22:33:29Z","Content":"\n\u003Cp\u003EI\u0027m sure that there\u0027d be exploitations of the system in order to achieve unrealistic effects, but that\u0027s one of the curses of having a system without n-body physics. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe only way to really know what those exploitations and any physics issues might be is to actually test it in-game. Paper is good for planning, but the actual experiment will often take unexpected turns. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027d be really interested to see how this actually functions if anyone does it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-09T22:34:48Z\u0022 title=\u002207/09/2013 10:34  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 9, 2013\u003C/time\u003E by OrbitusII\u003C/strong\u003E\n\u003Cbr\u003Efixed tense\n\u003C/span\u003E\n"},{"CreatedByName":"SolarLiner","CreatedById":41047,"CreatedDateTime":"2013-07-09T22:40:57Z","Content":"\n\u003Cp\u003EObviously the drawings are not 1:1.\u003C/p\u003E\u003Cp\u003EThe fact about barycenter being on one of the planet\u0027s SOI is because if the barycenter is on its own, you could technically orbit the barycenter with a very low orbit. (tl;dr)\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-09T23:08:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DisarmingBaton5\u0022 data-cite=\u0022DisarmingBaton5\u0022\u003E\u003Cdiv\u003EWOW. That\u0027s one of few very good ideas on the development forum. Would it work for 3 or more bodies? It seems not, because the SOIs would screw each other up.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell that\u0027s ok. The usual way a trinary system behaves is where a pair and a single orbit a common barycenter with the pair having a barycenter of its own. There\u0027s also a hypothetical \u003Ca href=\u0022http://www.atlasoftheuniverse.com/orbits.html\u0022 rel=\u0022external nofollow\u0022\u003Efigure-of-eight\u003C/a\u003E arrangement but no one has ever observed it yet. It seems it\u0027s extremely unlikely that it can form.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T23:15:01Z","Content":"\n\u003Cp\u003EThe exploitation that I can see off the top of my head is doing gravity assists extremely close to the Barycenter in the case of two equal masses (sorry if I explained that badly)\u003C/p\u003E\u003Cp\u003EI\u0027m actually a prospective physics major, so once I have the time (hopefully later today) I\u0027ll do some math to see how closely this model matches reality\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-09T23:30:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DisarmingBaton5\u0022 data-cite=\u0022DisarmingBaton5\u0022\u003E\u003Cdiv\u003EWOW. That\u0027s one of few very good ideas on the development forum. Would it work for 3 or more bodies? It seems not, because the SOIs would screw each other up.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn theory, you\u0027d just have minmus orbiting \u0022Kerbin \u002B Mun\u0022 Barycenter.\u003C/p\u003E\u003Cp\u003EOf course, I think this also claims that Kerbin rotates around the Mun while the Mun rotates around kerbin. (The Barycenter will be very close to kerbin, but to keep it \u0022stable\u0022 that means kerbin needs to move around said center.)\u003C/p\u003E\u003Cp\u003E(It appears to be mass center, so (1 / ((9.7600236 / 529.15793) \u002B 1)) = 0.9818895927760384785963456534583\u003C/p\u003E\u003Cp\u003E(1 - ANS) * 12000000 = 217.325km\u003C/p\u003E\u003Cp\u003ESo Kerbin\u0027s orbit would be changed by 217.325km (err, wow)\u003C/p\u003E\u003Cp\u003ERMS isn\u0027t much better\u003C/p\u003E\u003Cp\u003E529.15793 \u002B 9.7600236\u003C/p\u003E\u003Cp\u003E 538.9179536\u003C/p\u003E\u003Cp\u003ESQRT((529.15793) ^ 2 \u002B (9.7600236) ^ 2) / 538.9179536\u003C/p\u003E\u003Cp\u003E 0.98205659676604809847742049577729\u003C/p\u003E\u003Cp\u003EPerhaps something akin to\u003C/p\u003E\u003Cp\u003E(1-(1/(1 \u002B (1/54)^1.25)))*1200000\u003C/p\u003E\u003Cp\u003E 8142.022681168805296252160480469\u003C/p\u003E\u003Cp\u003E(1-(1/(1 \u002B (1/54)^1.25)))\u003C/p\u003E\u003Cp\u003E 0.0067850189009740044135434670670575\u003C/p\u003E\u003Cp\u003E(1-(1/(1 \u002B (1/2)^1.25)))\u003C/p\u003E\u003Cp\u003E 0.29599685885717724602342750529076\u003C/p\u003E\u003Cp\u003ENow the barycenter is much closer to kerbin (as it needs to be).\u003C/p\u003E\u003Cp\u003E*I know that the moon pulls on the earth and should possibly cause a small \u0022orbit around a barycenter\u0022 but that seems excessive. (And this is KSP so the values are much larger)\u003C/p\u003E\u003Cp\u003E*Addendum, it would include the radius of the planet; kerbin is 600km. (Still... it seems excessive)\u003C/p\u003E\u003Cp\u003E*What we should be seeing for most of KSP\u0027s bodies is nearly zero deviation from their already existing orbits. (Using the Barycenter in Barycenter Model). Only a significant mass should shift it away allowing that \u0022circulating\u0022 orbit. (You can see it with aki)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.atlasoftheuniverse.com/orbit3.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.atlasoftheuniverse.com/orbit3.gif\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELooking further at the systems, most (figure of 8 excluded) can be done using barycenters if you can have strongly elliptical orbits for planets about said barycenter (currently they\u0027re circular orbits; in the model I\u0027m using)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-09T23:54:38Z\u0022 title=\u002207/09/2013 11:54  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 9, 2013\u003C/time\u003E by Fel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T23:45:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fel\u0022 data-cite=\u0022Fel\u0022\u003E\u003Cdiv\u003EIOf course, I think this also claims that Kerbin rotates around the Mun while the Mun rotates around kerbin. (The Barycenter will be very close to kerbin, but to keep it \u0022stable\u0022 that means kerbin needs to move around said center.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf the barycenter of the system is actually inside the larger body, I think the current barycenter-less system is enough. This system is only for similar (same order of magnitude) masses.\u003C/p\u003E\u003Cp\u003ENote: this happens with (as far as I know) every planet\u002Bmoon system in KSP, including Duna\u002BIke. This would have to be added to new systems, or maybe if Duna and Ike were moved farther apart.\u003C/p\u003E\u003Cp\u003EEDIT: Oh and Fel, I\u0027m not sure what you\u0027re doing to calculate the location of the barycenter, but the easiest way to do it is with the formula\u003C/p\u003E\u003Cp\u003Er = d / (1 \u002B m1/m2), where\u003C/p\u003E\u003Cp\u003Er = distance from center of body 1 to barycenter\u003C/p\u003E\u003Cp\u003Ed = distance from center of body 1 to center of body 2\u003C/p\u003E\u003Cp\u003Em1 = mass of body 1\u003C/p\u003E\u003Cp\u003Em2 = mass of body 2\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-09T23:57:02Z\u0022 title=\u002207/09/2013 11:57  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 9, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-10T00:27:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EIf the barycenter of the system is actually inside the larger body, I think the current barycenter-less system is enough. This system is only for similar (same order of magnitude) masses.\u003Cp\u003ENote: this happens with (as far as I know) every planet\u002Bmoon system in KSP, including Duna\u002BIke. This would have to be added to new systems, or maybe if Duna and Ike were moved farther apart.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027d be more productive to adapt the system to be in \u0022constant use\u0022; (Else you\u0027ll have \u0022weird physics\u0022 happening when the engine tries to juggle the two systems.\u003C/p\u003E\u003Cp\u003EAlso, should our \u0022barycenter\u0022 be more akin to gravity centers rather than mass centers?\u003C/p\u003E\u003Cp\u003Ei.e.\u003C/p\u003E\u003Cp\u003EM1 / (R - R2) ^ 2 = M2 / (R - R1) ^ 2\u003C/p\u003E\u003Cp\u003E(R - R1) ^ 2 / (R - R2) ^ 2 = (M2 / M1)\u003C/p\u003E\u003Cp\u003E(R - R1) / (R - R2) = SQRT(M2 / M1)\u003C/p\u003E\u003Cp\u003ER2 / (R - R2) = SQRT(M2 / M1)\u003C/p\u003E\u003Cp\u003ER2 = R / (SQRT(M1 / M2) \u002B 1)\u003C/p\u003E\u003Cp\u003E(Actually, I think I\u0027ve confused myself.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EEDIT: Oh and Fel, I\u0027m not sure what you\u0027re doing to calculate the location of the barycenter, but the easiest way to do it is with the formula\u003C/p\u003E\u003Cp\u003Er = d / (1 \u002B m1/m2), where\u003C/p\u003E\u003Cp\u003Er = distance from center of body 1 to barycenter\u003C/p\u003E\u003Cp\u003Ed = distance from center of body 1 to center of body 2\u003C/p\u003E\u003Cp\u003Em1 = mass of body 1\u003C/p\u003E\u003Cp\u003Em2 = mass of body 2\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was trying to calculate how far off kerbin would be, the model would say that bodies rotate around the barycenter rather than the central body. (Given that the barycenter is in constant flux; and to model what was seen in \u0022http://www.atlasoftheuniverse.com/orbits.html\u0022 it\u0027d mean rotating about the center)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T00:34:29Z\u0022 title=\u002207/10/2013 12:34  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by Fel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-10T00:38:55Z","Content":"\n\u003Cp\u003EOk I\u0027ve thought about this a little and I may have come across a serious limitation of this way of doing things.\u003C/p\u003E\u003Cp\u003EConsider this image. It\u0027s to scale with the exception of the barycenter SOI and the size of the ship.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/NFFnvSu.png\u0022 alt=\u0022NFFnvSu.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EYou can see the stars are very close to eachoter, which means that the SOIs have to be very small. That means that a ship in such a low orbit around the barycenter would orbit it in perfect circles, but in reality the orbit would become perturbed rather quickly. Now I\u0027m not an astrophysicist so I have no clue as to how quickly the ship would be ejected from the system or collide with one of the stars, It could be as soon as a few orbits or a few million years, but I\u0027m pretty sure that such a low orbit wold be unstable in reality.\u003C/p\u003E\u003Cp\u003EActually I\u0027m not even sure whether any scientists have even created any simulations for this kind of thing. As far as I can see planetary stability for multiple star systems is still a contentious topic.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-10T00:40:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E It\u0027d be more productive to adapt the system to be in \u0022constant use\u0022; (Else you\u0027ll have \u0022weird physics\u0022 happening when the engine tries to juggle the two systems.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe beauty of the system is that it uses the same physics as the current planet physics system in KSP. The Barycenter object would be like a normal planet, except without a surface, and the two planets would orbit \u0027on rails\u0027 around the barycenter (IE they would be the barycenter\u0027s children/moons) and the barycenter would orbit around the star. The only code that would have to be modified would be possibly if the barycenter can\u0027t exist in another planet\u0027s SOI while still being its parent (I have no idea how the planet system works in KSP), but that functionality could be added to the general \u0022planet\u0022 object with no bad consequences. Thus, there would be no juggling of the two systems. The barycenter would exist within the current system, simply as an extension of it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAlso, should our \u0022barycenter\u0022 be more akin to gravity centers rather than mass centers?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell in Newtonian physics at least, gravitational mass and inertial mass are the same so both \u0027gravity center\u0027 and \u0027mass center\u0027 would mean the same thing.\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E You can see the stars are very close to eachoter, which means that the SOIs have to be very small. That means that a ship in such a low orbit around the barycenter would orbit it in perfect circles, but in reality the orbit would become perturbed rather quickly. \u003C/div\u003E\u003C/blockquote\u003E \u003Cp\u003EYes, this is a valid concern, but I\u0027ll take orbits being more stable than they should be as a small price to pay for an approximation of n-body physics. After all, with the current single-body physics, orbits are also more stable than they should be.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T00:43:37Z\u0022 title=\u002207/10/2013 12:43  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-10T01:25:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAlso, should our \u0022barycenter\u0022 be more akin to gravity centers rather than mass centers?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell in Newtonian physics at least, gravitational mass and inertial mass are the same so both \u0027gravity center\u0027 and \u0027mass center\u0027 would mean the same thing.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you want to ignore all of vector analysis, sure.\u003C/p\u003E\u003Cp\u003EYour model has a massive flaw in that The closer an object is to the \u0022main body\u0022 the closer the \u0022mass center\u0022 is to the main body; but the farther away objects actually MOVE the \u0022mass center\u0022 further out. (A close body should have a greater impact than a body that is several Gm away)\u003C/p\u003E\u003Cp\u003EYou can do whatever calculations you need to properly calculate where the effective center should be; on a supercomputer if you like, once you know where they are you program it into the game (there is no reason to calculate it continuously).\u003C/p\u003E\u003Cp\u003EI\u0027d also add that there is no reason to have a \u0022Sphere of Influence\u0022 rather than a \u0022bulb of influence\u0022; having two additional \u0022spheres of influence\u0022 on the sides to help transfer from 1 \u0022sphere/bulb\u0022 to the other.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T01:27:21Z\u0022 title=\u002207/10/2013 01:27  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by Fel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-10T01:37:53Z","Content":"\n\u003Cp\u003EOne alternative could be to replace spheres of influence with a shape that\u0027s half spherical outside and half oblate (squashed) between the stars. This would allow for larger volumes of influence without sacrificing a lot of realism.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-10T03:41:42Z","Content":"\n\u003Cp\u003EOk so after doing some math I\u0027ve figured out some things. First, I\u0027ll present a diagram which I\u0027ll refer to throughout the post:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/barycenterdiagram_extended.jpg\u0022 alt=\u0022barycenterdiagram_extended.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe acceleration due to gravity is G*m/r^2, but we\u0027ll choose a system of units such that G=1 to simplify things. We\u0027ll also arbitrarily decide that the mass of each planet is 1 and the distance between the two planets is 2. Based on the relative SOI sizes of Duna and Ike, I\u0027ve estimated that the SOI of our barycenter would have a radius of 20. r is the distance from our spacecraft to the barycenter.\u003C/p\u003E\u003Cp\u003EIn this diagram, the barycenter\u0027s SOI is divided into two regions: an inner region and an outer region. We\u0027ll begin by examining the Outer region because it\u0027s easier.\u003C/p\u003E\u003Cp\u003EIn real n-body physics, a spacecraft on the y-axis would experience an acceleration of 2*r / sqrt(r^2 \u002B 1)^3\u003C/p\u003E\u003Cp\u003Eand a spacecraft on the x-axis would experience an acceleration of 2*(r^2 \u002B 1) / (r^4 -2r^2 \u002B1)\u003C/p\u003E\u003Cp\u003EBoth of these functions approach 2/r^2 asymptotically, so the farther you get from the barycenter, the better the approximation works. The maximum error you can get, at the interface between the inner and outer regions (r=2) is 48%, while doubling the distance from the spacecraft to the barycenter leads to the error being reduced by a factor of more than 3.5, to 17% error. Taking r=8 gives us an error of 3%. While the error is not negligible, I think that it\u0027s good enough for our purposes, and most importantly, the behavior of a craft in the outside region is not \u003Cstrong\u003Equalitatively\u003C/strong\u003E different from a craft in real life (apart from super-stable orbits, but we already have several simplifications in KSP that give us more stable orbits, so I don\u0027t think another one would be that big of a deal).\u003C/p\u003E\u003Cp\u003EAs for the inside region, this presents a more serious problem, because there are qualitative differences in the behavior of a craft in this region: for example, a craft in the inside region should be pulled away from the y-axis in real life, but in our barycenter model, it would be pulled towards the y-axis and also the acceleration as you approach the barycenter should go to zero, but in our simplified model, it instead goes to infinity. As both Fel and Cpt. Kipard have suggested, a possible solution to this would be to have spheres of influence that look more or less like this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alemor.org/~mario/uploads/semicircle_barycenterdiagram.jpg\u0022 alt=\u0022semicircle_barycenterdiagram.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EHowever, I don\u0027t like this solution because it would require the devs to change the current behavior of SOI\u0027s in-game (as far as I know, semicircular SOI\u0027s are not allowed in KSP so far). Another possible solution would be to possibly have a system of several concentric SOI\u0027s, but I haven\u0027t had time to look into that possibility today. I\u0027ll make another post tomorrow if I can figure out a system of concentric SOI\u0027s that produces reasonably low error.\u003C/p\u003E\u003Cp\u003ENote: all of these anomalous behaviors are most prominent when the mass of the two planets is equal, and the errors produced by the simplified model are reduced as the difference between the masses increases\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-10T03:49:29Z\u0022 title=\u002207/10/2013 03:49  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainArbitrary","CreatedById":28110,"CreatedDateTime":"2013-07-10T05:02:31Z","Content":"\n\u003Cp\u003EThis is what you\u0027re trying to get:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/FsxaFcV.png\u0022 alt=\u0022FsxaFcV.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis is what you\u0027re actually getting:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/irIFdSj.png\u0022 alt=\u0022irIFdSj.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe big problem is that your piecewise function breaks off the axis. Along \u003Cem\u003Emost\u003C/em\u003E of the line connecting the centers of the two gravitating bodies, your piecewise function is okay \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC*except for a single point where it goes to minus infinity. But just off that line connecting the centers, your piecewise function gives completely bonkers results, compared to real life.\u003C/p\u003E\u003Cp\u003EI honestly think this would be worse than the status quo. Even if the developers wrote a lot of conditionals to get around the singularity at the center, there are still those discontinuities where the laws of physics would go cuckoo for Cocoa Puffs, resulting in really weird, unphysical orbits that would leave you staring slack-jawed at the map view.\u003C/p\u003E\n"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2013-07-10T05:12:49Z","Content":"\n\u003Cp\u003EI must admit, when I saw the title I was getting my flamethrower ready for another battle with the \u0022L1 can be approximated with an invisible planet\u0022 crowd, but I am glad to have been pleasantly surprised by this suggestion. It certainly *seems* more reasonable than the former... But I currently don\u0027t know enough about n-body physics to say whether or not it\u0027d be semi-realistic or preferable. Certainly, CaptainArbitrary\u0027s observation punches a big hole in the idea, but would people really notice? Is there perhaps a way to circumvent that behavior? I don\u0027t know, but it\u0027d be neat if somebody could expound on this idea and pitch it to the devs.\u003C/p\u003E\u003Cp\u003ENote that I am not condoning this as a way of implementing legrange points (which it wouldn\u0027t really do). It seems like a better way of having binary systems of large planets, planet-moon systems, or even stars later on down the road. That\u0027s something I\u0027d certainly like to see even if it has to work well with the current patched conics model.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2013-07-10T05:26:03Z","Content":"\n\u003Cp\u003EForgive me if this has already been mentioned.\u003C/p\u003E\u003Cp\u003EAdding new zones can be done ad infinium. Consider what happens when you have so many zones that you\u0027re making an SOI transition exactly once per frame; you\u0027re close to doing a full N-body simulation, assuming your zones are set up correctly. You can get a lot of granularity by adding a zone, say, at 0.05g gravity potential intervals. The issue is you start stressing the patched conics system since you\u0027re \u003Cem\u003Econstantly\u003C/em\u003E doing SOI changes. You\u0027ll have to crank up the conic prediction limit, you\u0027ll get more precision issues, et cetera. The range of orbits considered \u0022stable\u0022 is decreased because elliptical orbits (and even some circular ones) will transition a bunch of SOIs. The current system makes it easy to tell when an orbit will be stable, but with additional zones you\u0027ll likely lose a \u003Cem\u003Elot\u003C/em\u003E of satellites when making a long warp to align with a planet. Basically, yes, you can do this, but even perfectly executed it has gameplay problems. I argue this kind of gameplay is very realistic, because orbital perturbations are a real problem, but without something like Kerbal Alarm Clock integrated into the game, it won\u0027t work well as a stock feature.\u003C/p\u003E\n"},{"CreatedByName":"PringleMan","CreatedById":1396,"CreatedDateTime":"2013-07-10T05:29:51Z","Content":"\n\u003Cp\u003EThis would be perfectly acceptable for a game with the current realism of KSP. Without doing proper N-body (which would make the current physics engine cry because of multi-part ships rather than a single parented entity) this would be the best approach for an improvement. \u003C/p\u003E\u003Cp\u003EI would however point out that your pictures showing the spacecraft orbiting the barycenter nicely runs into a critical flaw. I point you to \u003Ca href=\u0022https://en.wikipedia.org/wiki/Roche_lobe\u0022 rel=\u0022external nofollow\u0022\u003ERoche Lobes\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ERoche Lobes are a means of expressing the gravitational lines of equipotential. In a two body system with the barycenter outside of one of the bodies, that would be the result. What you propose is to basically have the Roche Lobes be the spheres of influence, which as I said WOULD be a nice alternative to trying to do full N-body, but those spheres would get real complex real fast. The alternative to simplify that would be to have a simple circle SOI around both bodies which is basically what we have now.\u003C/p\u003E\n"}]}