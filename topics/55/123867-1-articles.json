{"TopicId":123867,"ForumId":55,"TopicTitle":"So just how bad is loading all stock parts anyway? A comparison.","CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-10-27T17:05:26Z","PageNum":1,"Articles":[{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-10-27T17:05:26Z","Content":"\n\u003Cp\u003E\nSometimes players ask about running KSP on old PC\u0027s with limited resources, and the usual recommendation is to use active texture management on aggressive to compensate for Squads choice to preload all part textures.\n\u003C/p\u003E\n\u003Cp\u003E\nBut lately I see people posting that even ATM isn\u0027t helping, since 1.0.x all the Squad textures have been converted to the more memory efficient .dds format, but rather than mess around with ATM I thought I\u0027d see what would happen if they were removed completely.\n\u003C/p\u003E\n\u003Cp\u003E\nBare in mind this just covers initial memory use with a stock install, any issues with PQS terrain caching, requestresource, the GUI or any addons aren\u0027t covered here.\n\u003C/p\u003E\n\u003Cp\u003E\nAll tests were with 32bit KSP on Linux, as 64bit programs naturally use more memory, and all memory is shown in megabytes, and this is \u003Cem\u003ERAM\u003C/em\u003E, not the size on the hard drive.\n\u003C/p\u003E\n\u003Cp\u003E\nSo first I needed a baseline, I unzipped a new copy of 1.0.4, opened htop, started a new game with all settings on their defaults, put a KerbalX on the pad and flew to orbit...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022imgur-embed-pub\u0022 data-id=\u0022a/pcDrp\u0022 lang=\u0022en\u0022\u003E\n\u003Ca href=\u0022//imgur.com/a/pcDrp\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\n\u003C/blockquote\u003E\n\u003Cscript async=\u0022\u0022 src=\u0022//s.imgur.com/min/embed.js\u0022 charset=\u0022utf-8\u0022\u003E\u003C/script\u003E\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 height=\u0022165\u0022 width=\u0022651\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\nScene\n\u003C/td\u003E\n\u003Ctd\u003E\nMemory\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nStart\n\u003C/td\u003E\n\u003Ctd\u003E\n1194\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nKSC\n\u003C/td\u003E\n\u003Ctd\u003E\n1317\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nVAB\n\u003C/td\u003E\n\u003Ctd\u003E\n1383\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nPad\n\u003C/td\u003E\n\u003Ctd\u003E\n1345\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nFlight\n\u003C/td\u003E\n\u003Ctd\u003E\n1365\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nOrbit\n\u003C/td\u003E\n\u003Ctd\u003E\n1373\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cp\u003E\nInterestingly the editor used the most memory, also memory went back up to the VAB level when I reverted and dropped again when I relaunched, I tried this a few times from the beginning and the memory used was the same so things seem pretty stable.\n\u003C/p\u003E\n\u003Cp\u003E\nNow to get rid of those nasty memory hogging textures!\n\u003C/p\u003E\n\u003Cp\u003E\nFirst I wanted to know how many .dds files I was dealing with, so I used the terminal programs \u0022find\u0022 to find every file in the KSP folder that ended in \u0022.dds\u0022 then piped finds output to \u0022wc\u0022 so it could count the newlines, like this:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cdiv\u003E\nfind ~/ksp/ksp_notextures/ *.dds | wc -l\n\u003Cp\u003E\n545\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm quite a lot! Now to get rid of them.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cdiv\u003E\nfind ~/ksp/ksp_notextures/ *.dds -delete\n\u003Cp\u003E\nfind ~/ksp/ksp_notextures/ *.dds | wc -l\n\u003C/p\u003E\n\u003Cp\u003E\n0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGreat! Lets see how lean KSP is now...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022imgur-embed-pub\u0022 data-id=\u0022a/XXjca\u0022 lang=\u0022en\u0022\u003E\n\u003Ca href=\u0022//imgur.com/a/XXjca\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\n\u003C/blockquote\u003E\n\u003Cscript async=\u0022\u0022 src=\u0022//s.imgur.com/min/embed.js\u0022 charset=\u0022utf-8\u0022\u003E\u003C/script\u003E\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width: 500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\nScene\n\u003C/td\u003E\n\u003Ctd\u003E\nMemory\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nStart\n\u003C/td\u003E\n\u003Ctd\u003E\n1102\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nKSC\n\u003C/td\u003E\n\u003Ctd\u003E\n1228\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nVAB\n\u003C/td\u003E\n\u003Ctd\u003E\n1290\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nPad\n\u003C/td\u003E\n\u003Ctd\u003E\n1248\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nFlight\n\u003C/td\u003E\n\u003Ctd\u003E\n1252\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nOrbit\n\u003C/td\u003E\n\u003Ctd\u003E\n1257\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cp\u003E\nWell...\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s kinda funny seeing all the parts bright white, like there was a sale on white paint, but the change in memory is only about 100 megs, that\u0027s not enough to worry about so maybe the preloaded textures aren\u0027t the problem, that leaves the meshes and cfg\u0027s.\n\u003C/p\u003E\n\u003Cp\u003E\nBest get rid of them, as well...\n\u003C/p\u003E\n\u003Cp\u003E\nAfter a lot of messing around I got it down to the following:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsStyle_spoiler\u0022 data-ipsspoiler=\u0022\u0022 tabindex=\u00220\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nfind -name *.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Electrical/z-400Battery/z-400Battery.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Electrical/radialFlatSolarPanel/radialFlatSolarPanel.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./FuelTank/fuelTankX200-16/fuelTankX200-16.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./FuelTank/fuelTankX200-32/fuelTankX200-32.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./FuelTank/fuelTankT400/fuelTankT400.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Aero/cones/ConeB.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Aero/wingletAV-R8/wingletAV-R8.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Command/Mk1-2Pod/mk1-2CommandPod.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./CompoundParts/fuelLine/fuelLine.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./CompoundParts/strutConnector/strutConnector.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Misc/PotatoRoid/part.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Engine/liquidEngineLV-T45/liquidEngineLV-T45.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Engine/liquidEngineMainsail/liquidEngineMainsail.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Engine/liquidEnginePoodle/liquidEnginePoodle.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/ladderRadial/ladderRadial.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/ladderTelescopic/ladderTelescopic.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/launchClamp1/launchClamp1.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/decouplerStack2m/decouplerStack2m.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/parachuteMk16-XL/parachuteMk16-XL.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/landingLegLT-2/landingLegLT-2.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/decouplerRadialHDM/decouplerRadialHDM.cfg\n\u003C/p\u003E\n\u003Cp\u003E\n./Utility/ladderTelescopicBay/ladderTelescopicBay.cfg\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHad to keep the potato in there so it didn\u0027t cause problems, and the Mk1-2 IVA files sans textures, \u003Cspan style=\u0022font-size:8px\u0022\u003Ethanks for reminding me Stone Blue.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOkay! \u003Cem\u003ENow\u003C/em\u003E for a lean, mean and much easier-to-choose-parts-for-my-builds version of KSP...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022imgur-embed-pub\u0022 data-id=\u0022a/P4QiM\u0022 lang=\u0022en\u0022\u003E\n\u003Ca href=\u0022//imgur.com/a/P4QiM\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\n\u003C/blockquote\u003E\n\u003Cscript async=\u0022\u0022 src=\u0022//s.imgur.com/min/embed.js\u0022 charset=\u0022utf-8\u0022\u003E\u003C/script\u003E\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width: 500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\nScene\n\u003C/td\u003E\n\u003Ctd\u003E\nMemory\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nStart\n\u003C/td\u003E\n\u003Ctd\u003E\n1031\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nKSC\n\u003C/td\u003E\n\u003Ctd\u003E\n1172\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nVAB\n\u003C/td\u003E\n\u003Ctd\u003E\n1235\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nPad\n\u003C/td\u003E\n\u003Ctd\u003E\n1195\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nFlight\n\u003C/td\u003E\n\u003Ctd\u003E\n1197\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nOrbit\n\u003C/td\u003E\n\u003Ctd\u003E\n1202\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cp\u003E\nWell...again...but at least it loaded really fast...\n\u003C/p\u003E\n\u003Cp\u003E\nSo all the models and cfg\u0027s only really came to about 50 megabytes, about 150 megs for over 500 parts, Squad could double the number of stock parts and it wouldn\u0027t be a problem unless you\u0027re really pushing KSP to the 32bit memory limits, but if all parts were as light on their feet as Squads you\u0027d need closer to 7,000 or 8,000 parts added to your install before KSP fell over.\n\u003C/p\u003E\n\u003Cp\u003E\nSo far I have used a new settings.cfg and save each time, but many textures aren\u0027t in convenient-to-delete .dds files, the only way I can deal with those terrain and building textures without messing with the Unity asset files is to lower the graphics settings.\n\u003C/p\u003E\n\u003Cp\u003E\nSo that is what I did next!\n\u003C/p\u003E\n\u003Cp\u003E\nWith all settings on their lowest I get...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022imgur-embed-pub\u0022 data-id=\u0022a/xz48Q\u0022 lang=\u0022en\u0022\u003E\n\u003Ca href=\u0022//imgur.com/a/xz48Q\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\n\u003C/blockquote\u003E\n\u003Cscript async=\u0022\u0022 src=\u0022//s.imgur.com/min/embed.js\u0022 charset=\u0022utf-8\u0022\u003E\u003C/script\u003E\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width: 500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\nScene\n\u003C/td\u003E\n\u003Ctd\u003E\nMemory\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nStart\n\u003C/td\u003E\n\u003Ctd\u003E\n918\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nKSC\n\u003C/td\u003E\n\u003Ctd\u003E\n1066\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nVAB\n\u003C/td\u003E\n\u003Ctd\u003E\n1114\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nPad\n\u003C/td\u003E\n\u003Ctd\u003E\n1085\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nFlight\n\u003C/td\u003E\n\u003Ctd\u003E\nN/A\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nOrbit\n\u003C/td\u003E\n\u003Ctd\u003E\nN/A\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cp\u003E\nHorrible menu textures! But also the lowest memory used yet at 918 megabytes, if you used a seriously lightweight OS you might be able to at least start KSP in 1 gig, though you\u0027d need more than that to play it, \u003Cem\u003Ebut not much more!\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAlso seeing as the flight and orbit memory doesn\u0027t change much I skipped them this time, but added a shot of the VAB, doesn\u0027t look half as bad as I thought it would.\n\u003C/p\u003E\n\u003Cp\u003E\nBut that\u0027s an average reduction in the editor and the flight scene of over 100 megabytes, more than completely deleting all the part textures!\n\u003C/p\u003E\n\u003Cp\u003E\nSo which setting is using all the memory?\n\u003C/p\u003E\n\u003Cp\u003E\nAfter a lot of changing of settings and restarts it turned out to be the texture quality, here\u0027s a test with an unravaged 1.0.4 install, all settings on default \u003Cem\u003Eexcept\u003C/em\u003E texture quality, which was on the lowest setting...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022imgur-embed-pub\u0022 data-id=\u0022a/pbi7w\u0022 lang=\u0022en\u0022\u003E\n\u003Ca href=\u0022//imgur.com/a/pbi7w\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\n\u003C/blockquote\u003E\n\u003Cscript async=\u0022\u0022 src=\u0022//s.imgur.com/min/embed.js\u0022 charset=\u0022utf-8\u0022\u003E\u003C/script\u003E\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width: 500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\nScene\n\u003C/td\u003E\n\u003Ctd\u003E\nMemory\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nStart\n\u003C/td\u003E\n\u003Ctd\u003E\n1011\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nKSC\n\u003C/td\u003E\n\u003Ctd\u003E\n1145\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nVAB\n\u003C/td\u003E\n\u003Ctd\u003E\n1179\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nPad\n\u003C/td\u003E\n\u003Ctd\u003E\n1146\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nFlight\n\u003C/td\u003E\n\u003Ctd\u003E\n1147\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nOrbit\n\u003C/td\u003E\n\u003Ctd\u003E\nN/A\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cp\u003E\nThat\u0027s a big difference from one setting change and memory used is lower than I expected it would be, so maybe the lower texture setting works better with the default SM3 shaders than it does with the SM2 and fallback shaders, also after asking around in IRC I found that all the textures in the asset files are already .dds, so I guess there\u0027s just a lot of them, they certainly have to cover a much larger area.\n\u003C/p\u003E\n\u003Cp\u003E\nSo what can we take away from all this?\n\u003C/p\u003E\n\u003Cp\u003E\nSquads part preloading doesn\u0027t look like a problem, and ATM or even texture deletion isn\u0027t going to help much with memory use, but you could run out of memory if you use a lot of unoptimized parts.\n\u003C/p\u003E\n\u003Cp\u003E\nSo insist on .dds whenever possible, and convert textures yourself if you have to, there\u0027s \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98672-WIN-KSP-to-DDS-texture-converter\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ea converter here by Lilleman\u003C/strong\u003E\u003C/a\u003E, as well as free tools like \u003Ca href=\u0022http://imagemagick.org/script/index.php\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EImagemagick\u003C/strong\u003E\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nBut for a quick fix for high memory usage, turn down your texture quality.\n\u003C/p\u003E\n"},{"CreatedByName":"Wjolcz","CreatedById":39636,"CreatedDateTime":"2015-10-27T17:25:18Z","Content":"\n\u003Cp\u003EThat is really nice to know. I was starting to worry about all those new parts we get every update, but that doesn\u0027t seem like a peoblem.\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-10-27T17:32:11Z","Content":"\n\u003Cp\u003EI have always been worried, too. Time to swallow the pride and play on uglier settings.\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2015-10-27T17:39:40Z","Content":"\n\u003Cp\u003EExcellent experiment and write-up...\u003C/p\u003E\u003Cp\u003EWhat about trying a fresh, default install, and now removing JUST the IVA folder/files (now Spaces folder)?... Or did you do that along with the part files and just not mention it?...\u003C/p\u003E\u003Cp\u003EI\u0027m thinking it also probably wont make much difference, but I know in pre-0.90, the Squad IVA folder alone was HUGE, somewhere between 250-400MB depending on KSP version...I never used the IVAs, so I always deleted the folder, and it seemed to help quite a bit...\u003C/p\u003E\u003Cp\u003ESquad has definately improved THAT situation since 0.25, but I\u0027m still wondering if there\u0027s any performance gain from removing the stock IVAs, and if the game is still playable without them...(I know it was pre-0.90)...\u003C/p\u003E\u003Cp\u003EDo you have any ideas on this, sal_vager?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-10-27T17:43:05Z","Content":"\n\u003Cp\u003EYep, every .dds texture outside the asset files were nuked, not just those in Parts, and everything but the Mk1-2 IVA in the later test.\u003C/p\u003E\u003Cp\u003EAlso, folder size has virtually no correlation to the size loaded into memory \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut the problem with fully removing IVA\u0027s is that if you do that you can\u0027t load any pod or cockpit that uses them.\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2015-10-27T18:01:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EYep, every .dds texture outside the asset files were nuked, not just those in Parts, and everything but the Mk1-2 IVA in the later test.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK...that answers THAT question then... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, folder size has virtually no correlation to the size loaded into memory \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI realise its certainly not a DIRECT correlation, but I\u0027ve got to think that just having to load all the extra files alone, WILL certainly use more RAM than if they werent loaded at all, and also cutting down on loading times abit...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EBut the problem with fully removing IVA\u0027s is that if you do that you can\u0027t load any pod or cockpit that uses them.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... I certainly dont recall having that problem in pre-0.90... But then again, i started using the ALCOR, RPM, and several other IVA mods in 0.90, and many re-used or reqd. the stock files, so i quit deleting the Squad files...Maybe stock now handles IVAs differently, where they ARE required to even load parts that have them??...\u003C/p\u003E\u003Cp\u003EOh well, still good stuff to know, thanx! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-10-27T18:13:36Z","Content":"\n\u003Cp\u003EHeh, I knew I should have not done this from memory, you can get this far...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://i.imgur.com/YGVba77.png\u0022 alt=\u0022YGVba77.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut that\u0027s it.\u003C/p\u003E\u003Cp\u003EPoor Bob can\u0027t see!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-27T18:15:41Z\u0022 title=\u002210/27/2015 06:15  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 27, 2015\u003C/time\u003E by sal_vager\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-10-27T18:24:07Z","Content":"\n\u003Cp\u003EIf you remove Spaces and then also remove all INTERNAL nodes in part cfgs, that makes it work fine.\u003C/p\u003E\u003Cp\u003EGreat work sal! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E(Quick note: DDS size on disk actually is proportional to memory usage. because there\u0027s no conversion process once the texture is imported. It\u0027s not *equivalent* to memory usage per se, because of how the shadowing bug works, but it\u0027s at least linearly proportional.)\u003C/p\u003E\n"},{"CreatedByName":"CaptainTurbomuffin","CreatedById":113456,"CreatedDateTime":"2015-10-27T18:34:08Z","Content":"\n\u003Cp\u003EIf you have a closer look at the grass for example, you can see how detailed it is. Now, think about flying in the atmosphere. That same detailed texture is being used on the terrain. Even if you can see very far away, every square-meter of the landscape is covered with a rather detailed texture. More levels of texture detail should be used. More details from the suggestion in my signature. Am I wrong?\u003C/p\u003E\n"},{"CreatedByName":"klgraham1013","CreatedById":105132,"CreatedDateTime":"2015-10-27T19:24:55Z","Content":"\n\u003Cp\u003EHmm. Time to figure out why my game runs at 4.5 gigs. I certainly don\u0027t have 7,000 to 8,000 mod textures. It seems there\u0027s more than meets the eye.\u003C/p\u003E\u003Cp\u003EI wonder if it\u0027s as simple as converting my older texture replacer files to dds.\u003C/p\u003E\n"},{"CreatedByName":"nothingSpecial","CreatedById":118683,"CreatedDateTime":"2015-10-27T19:46:13Z","Content":"\n\u003Cp\u003EUhm.\u003C/p\u003E\u003Cp\u003EAs someone who has a lots of trouble with memory, I\u0027d like to say that GameData textures are not all the textures included in the game.\u003C/p\u003E\u003Cp\u003EAnd Texture Quality setting affects other textures as well, starting with the main menu.\u003C/p\u003E\u003Cp\u003EAnd I really suppose that I could run much better with beautiful ships if there were option to drop all the textures quality except parts ones.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-10-27T19:54:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CaptainTurbomuffin\u0022 data-cite=\u0022CaptainTurbomuffin\u0022\u003E\u003Cdiv\u003EMore levels of texture detail should be used.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESeparate quality settings for non-part textures would be nice yes.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022klgraham1013\u0022 data-cite=\u0022klgraham1013\u0022\u003E\u003Cdiv\u003EI wonder if it\u0027s as simple as converting my older texture replacer files to dds.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry it, it would be interesting to know how it turns out.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothingSpecial\u0022 data-cite=\u0022nothingSpecial\u0022\u003E\u003Cdiv\u003EUhm.\u003Cp\u003EAs someone who has a lots of trouble with memory, I\u0027d like to say that GameData textures are not all the textures included in the game.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, that\u0027s why I looked for .dds files in the KSP root directory, since 1.0.x all the stock textures are .dds now, but the ones in the asset folders aren\u0027t so easily deleted.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003E.assets archive files I should say.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote class=\u0022ipsStyle_spoiler\u0022 data-ipsspoiler=\u0022\u0022 tabindex=\u00220\u0022\u003E\u003Cp\u003E~/ksp/ksp_notextures/KSP_Data$ ls\u003C/p\u003E\u003Cp\u003Elevel0 level15 level7 Resources sharedassets13.assets sharedassets3.assets sharedassets9.assets.resS\u003C/p\u003E\u003Cp\u003Elevel1 level16 level8 resources.assets sharedassets14.assets sharedassets4.assets\u003C/p\u003E\u003Cp\u003Elevel10 level2 level9 sharedassets0.assets sharedassets15.assets sharedassets5.assets\u003C/p\u003E\u003Cp\u003Elevel11 level3 mainData sharedassets0.assets.resS sharedassets16.assets sharedassets6.assets\u003C/p\u003E\u003Cp\u003Elevel12 level4 Managed sharedassets10.assets sharedassets17.assets sharedassets7.assets\u003C/p\u003E\u003Cp\u003Elevel13 level5 Mono sharedassets11.assets sharedassets1.assets sharedassets8.assets\u003C/p\u003E\u003Cp\u003Elevel14 level6 Plugins sharedassets12.assets sharedassets2.assets sharedassets9.assets\u003C/p\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-27T22:12:36Z\u0022 title=\u002210/27/2015 10:12  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 27, 2015\u003C/time\u003E by sal_vager\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nothingSpecial","CreatedById":118683,"CreatedDateTime":"2015-10-27T21:59:29Z","Content":"\n\u003Cp\u003Eah, okay then. I only now recalled that \u0022asset\u0022 is also Unity internal designation.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-10-29T12:25:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003Ethe ones in the asset folders aren\u0027t so easily deleted.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd all are .dds as well anyway, IIRC.\u003C/p\u003E\u003Cp\u003EAnyway, good writeup, it\u0027s nice to have some solid evidence about RAM usage and parts etc.\u003C/p\u003E\n"},{"CreatedByName":"jwbrase","CreatedById":150131,"CreatedDateTime":"2015-10-30T12:21:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stone Blue\u0022 data-cite=\u0022Stone Blue\u0022\u003E\u003Cdiv\u003EI realise its certainly not a DIRECT correlation, but I\u0027ve got to think that just having to load all the extra files alone, WILL certainly use more RAM than if they werent loaded at all, and also cutting down on loading times abit...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot necessarily, because depending on your operating system and what system calls were used to load the files, and what the program does with the files immediately after loading them, \u0022loading\u0022 does not always mean \u0022moving immediately into RAM\u0022. Modern operating systems will often tell a program that they\u0027ve loaded a file but not actually load it until the program actually uses it (and even then, they will only load the parts of the file that the program actually uses).\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-10-30T12:24:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jwbrase\u0022 data-cite=\u0022jwbrase\u0022\u003E\u003Cdiv\u003ENot necessarily, because depending on your operating system and what system calls were used to load the files, and what the program does with the files immediately after loading them, \u0022loading\u0022 does not always mean \u0022moving immediately into RAM\u0022. Modern operating systems will often tell a program that they\u0027ve loaded a file but not actually load it until the program actually uses it (and even then, they will only load the parts of the file that the program actually uses).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoesn\u0027t matter, it\u0027s still using up address space which is what is limiting in 32-bit.\u003C/p\u003E\n"},{"CreatedByName":"jwbrase","CreatedById":150131,"CreatedDateTime":"2015-10-31T03:08:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EDoesn\u0027t matter, it\u0027s still using up address space which is what is limiting in 32-bit.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat all depends on your hardware. As I read it, the OP is discussing low memory situations in general, including cases where the amount of physical RAM is less than the 32-bit limit.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-10-31T10:46:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jwbrase\u0022 data-cite=\u0022jwbrase\u0022\u003E\u003Cdiv\u003EThat all depends on your hardware. As I read it, the OP is discussing low memory situations in general, including cases where the amount of physical RAM is less than the 32-bit limit.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlso doesn\u0027t matter, as it will still have the same address space available. As long as they haven\u0027t done something silly like disabling the pagefile it will be just as stable as it would be with more RAM, just slower.\u003C/p\u003E\n"},{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2015-11-01T02:58:09Z","Content":"\n\u003Cp\u003EInteresting. I\u0027ve just tried to install KSP to an atom based windows tablet with 2gb of ram, with low res options and stock KSP (up to the VAB) runs perfectly fine. I doubt I can make a 100\u002B ship and enjoy decent frame rates with that machine, but the device is below minimum system requisites.\u003C/p\u003E\u003Cp\u003EA problem is that the VAB isn\u0027t designed for touch, so even without adding mods, it doesn\u0027t work as a VAB-lite, so to speak, to design ships on the go. And I came to rely a lot in MRS and SpaceY to make ships, so I don\u0027t 2gb of ram will be enough for my play style, even if I only use it as a VAB lite.\u003C/p\u003E\n"},{"CreatedByName":"r_rolo1","CreatedById":26192,"CreatedDateTime":"2015-11-07T18:53:34Z","Content":"\n\u003Cp\u003EInteresting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E I already had noticed that the textures ate a lot of RAM ( more even if you add some beautification mods ), but I haven\u0027t thought that it would make such a diference.\u003C/p\u003E\u003Cp\u003EAnyway, what I have noticed is that KSP , while having pretty much squashed the memory leaks it had in the 0.90-\u0026gt;1.0 transition and that it has a much reduced RAM footprint nowadays ... as long as you don\u0027t change scenes. In changing scenes, I\u0027ve seen the RAM usage to spike up to the double of the current RAM base load in my system ( even when I was going stock ) and I\u0027m pretty sure half of the issues people have with RAM nowadays are because of that ( I currently have a base load of around 2 Gigs due to some light modding, but that is enough to MAF out sometimes when loading the VAB/SPH, for a example ). It woul be niceif there was a mod for that, but AFAIK there isn\u0027t ... :/\u003C/p\u003E\n"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2015-11-13T23:49:09Z","Content":"\n\u003Cp\u003EI received this tip from MalevolentNinja:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EWith almost every mod using compressed textures natively, as well as the stock game having been converted over to compressed textures, you shouldn\u0027t be using ATM any more.\u003C/span\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EThe real issue is a Unity (the game engine) bug with DirectX 9 that keeps a copy of textures in system memory in addition to offloading them to the video card. The best workarounds we have today are to force OpenGL or DirectX 11 via the command line switches -force-opengl or -force-d3d11 (use one or the other, not both). They both have their drawbacks (for example no shadows in OpenGL, messed up fonts with DirectX 11) but they both work well at reducing the memory footprint to a reasonable level, even with a lot of mods installed. I recommend you try both and see which works best on your system.\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EIt reduced the memory load about 25-30% for me.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EAnd about running in low texture quality... yeah, so 1980s \u003C/span\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Talavar","CreatedById":75264,"CreatedDateTime":"2015-11-14T04:48:19Z","Content":"\n\u003Cp\u003EActually, its not really the game assets causing the problem.. it\u0027s either a lack of memory scrubbing, or a memory leak is hiding in there... somewhere...... With the Kraken... The thing is, the longer you play, the larger the games memory footprint becomes. This generally means that entities aren\u0027t being zero\u0027d out of memory correctly.. It could be a problem with unity storign the textures, but looks more like a leak to me, since the memory usage keeps increasing. I use the 64 bit hack with only mechjeb installed (Coffee game setup), and I sometimes get to 6 Gigs usage before restarting to lower it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-14T05:11:38Z\u0022 title=\u002211/14/2015 05:11  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 14, 2015\u003C/time\u003E by Talavar\u003C/strong\u003E\n\u003C/span\u003E\n"}]}