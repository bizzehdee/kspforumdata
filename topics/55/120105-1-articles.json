{"TopicId":120105,"ForumId":55,"TopicTitle":"Increase performance by...","CreatedByName":"Darnok","CreatedById":85708,"CreatedDateTime":"2015-09-04T07:29:45Z","PageNum":1,"Articles":[{"CreatedByName":"Darnok","CreatedById":85708,"CreatedDateTime":"2015-09-04T07:29:45Z","Content":"\n\u003Cp\u003EUnloading content of cargo bays and content of fairings from physics engine. \u003C/p\u003E\u003Cp\u003EIf something is inside cargo bay just add mass of \u0022cargo/package\u0022 to cargo bay, but don\u0027t load each part until cargo bay is opened. This would allow us to increase performance making smart builds with proper fairings.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-04T07:31:58Z\u0022 title=\u002209/04/2015 07:31  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 4, 2015\u003C/time\u003E by Darnok\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Grumman","CreatedById":76014,"CreatedDateTime":"2015-09-04T09:45:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Darnok\u0022 data-cite=\u0022Darnok\u0022\u003E\u003Cdiv\u003EUnloading content of cargo bays and content of fairings from physics engine. \u003Cp\u003EIf something is inside cargo bay just add mass of \u0022cargo/package\u0022 to cargo bay, but don\u0027t load each part until cargo bay is opened. This would allow us to increase performance making smart builds with proper fairings.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou would need to turn physics back on if *any* of your connected cargo bays were open, not just the one. Otherwise it would be impossible to drive a rover out of a cargo bay with the new cargo ramp.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-09-04T09:45:30Z","Content":"\n\u003Cp\u003EIf the parts are unloaded from physics, how are you going to keep them attached to the craft? How would the parts know where to go if there\u0027s no physical interaction between them and the rest of the rocket?\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-09-04T10:26:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EIf the parts are unloaded from physics, how are you going to keep them attached to the craft? How would the parts know where to go if there\u0027s no physical interaction between them and the rest of the rocket?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey would just cease to be modeled as parts -- the cargo bay would be modeled as a lumped solid if it (and all connected bays) were closed.\u003C/p\u003E\u003Cp\u003EThe parts would only spawn when the cargo bay doors are opened. This has the implication of all of the parts being unusable when the doors are closed (which is really annoying for fuel cells, batteries, monoprop tanks, etc.) but it would prevent physics from rattling the parts around in the bay.\u003C/p\u003E\u003Cp\u003EI don\u0027t think it would matter much performance wise because the reduction in part count is marginal, unless you haul a 150-part station core up in your SSTO.\u003C/p\u003E\n"},{"CreatedByName":"Darnok","CreatedById":85708,"CreatedDateTime":"2015-09-04T10:34:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stoney3K\u0022 data-cite=\u0022Stoney3K\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI don\u0027t think it would matter much performance wise because the reduction in part count is marginal, unless you haul a 150-part station core up in your SSTO.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIMO if you make 50 parts lander with cargo bay and put 50 part rover/miner/lab inside ability to land with 50 part craft instead of 100 near planetary base with some ~100 parts would reduce lag.\u003C/p\u003E\n"},{"CreatedByName":"Grumman","CreatedById":76014,"CreatedDateTime":"2015-09-04T11:06:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stoney3K\u0022 data-cite=\u0022Stoney3K\u0022\u003E\u003Cdiv\u003EThe parts would only spawn when the cargo bay doors are opened. This has the implication of all of the parts being unusable when the doors are closed (which is really annoying for fuel cells, batteries, monoprop tanks, etc.) but it would prevent physics from rattling the parts around in the bay.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaking a battery physicsless while in a closed cargo bay would not prevent access to its ElectricCharge. We know this because we used to have batteries which were physicsless all the time, and they still worked.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-09-04T12:22:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Darnok\u0022 data-cite=\u0022Darnok\u0022\u003E\u003Cdiv\u003EIMO if you make 50 parts lander with cargo bay and put 50 part rover/miner/lab inside ability to land with 50 part craft instead of 100 near planetary base with some ~100 parts would reduce lag.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, but you\u0027ll still have to open the cargo bay/whatever to get the rover/miner/lab out which means you\u0027d be having 200 parts at the scene at some point anyway. Though I grant you, there would be an initial benefit.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Grumman\u0022 data-cite=\u0022Grumman\u0022\u003E\u003Cdiv\u003EMaking a battery physicsless while in a closed cargo bay would not prevent access to its ElectricCharge. We know this because we used to have batteries which were physicsless all the time, and they still worked.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPhysicsless != unloaded. I believe OP is proposing that parts inside cargo bays are unloaded from the physics engine and their mass added to the cargo bay, I guess similar to how the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/88933-1-0-2-Hangar-v2-3-2-BETA2\u0022 rel=\u0022external nofollow\u0022\u003EHangar mod\u003C/a\u003E works.\u003C/p\u003E\n"},{"CreatedByName":"Darnok","CreatedById":85708,"CreatedDateTime":"2015-09-04T13:37:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EOk, but you\u0027ll still have to open the cargo bay/whatever to get the rover/miner/lab out which means you\u0027d be having 200 parts at the scene at some point anyway. Though I grant you, there would be an initial benefit.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t mind having 200 parts after landing, I do mind having 50 part less while landing, for my CPU it is noticeable difference \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003EPhysicsless != unloaded\u003C/strong\u003E. I believe OP is proposing that parts inside cargo bays are unloaded from the physics engine and their mass added to the cargo bay, I guess similar to how the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/88933-1-0-2-Hangar-v2-3-2-BETA2\u0022 rel=\u0022external nofollow\u0022\u003EHangar mod\u003C/a\u003E works.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have no idea how unity works, so pick whatever works better to improve performance and what is easier to implement.\u003C/p\u003E\u003Cp\u003EEDIT: I read about this mod and IMO those parts should be physicsless it should work good enough, we don\u0027t need new mechanic.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-04T13:40:05Z\u0022 title=\u002209/04/2015 01:40  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 4, 2015\u003C/time\u003E by Darnok\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-09-04T14:18:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Darnok\u0022 data-cite=\u0022Darnok\u0022\u003E\u003Cdiv\u003EEDIT: I read about this mod and IMO those parts should be physicsless it should work good enough, we don\u0027t need new mechanic.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPhysicsless doesn\u0027t mean what you think it means. It just means that it\u0027s mass is added to its parent part. Any forces (lift, drag, inertial, w/e) are still applied to it, the game still needs to calculate physics for it (I could be wrong though).\u003C/p\u003E\n"},{"CreatedByName":"Darnok","CreatedById":85708,"CreatedDateTime":"2015-09-04T14:36:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EPhysicsless doesn\u0027t mean what you think it means. It just means that it\u0027s mass is added to its parent part. Any forces (lift, drag, inertial, w/e) are still applied to it, the game still needs to calculate physics for it (I could be wrong though).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWait... lift and drag isn\u0027t calculated inside cargo bays right now? I want to remove as much as possible physics from parts inside cargo bays as long as bay is closed. I don\u0027t mind loading textures and shapes of those parts, but any periodic checks should be disabled.\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-09-04T15:20:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EPhysicsless doesn\u0027t mean what you think it means. It just means that it\u0027s mass is added to its parent part. Any forces (lift, drag, inertial, w/e) are still applied to it, the game still needs to calculate physics for it (I could be wrong though).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe forces are still calculated but they are calculated as if the \u0027physicsless\u0027 part was part of its parent. So if the physicsless part has a drag coefficient, that is added to the parent\u0027s drag coefficient and the parent drag is calculated from that.\u003C/p\u003E\u003Cp\u003ECorrect me if I\u0027m wrong on that...\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-09-04T17:44:36Z","Content":"\n\u003Cp\u003EThere is actually a checkbox selection in the debug menu for drag, with regards to physicsless parts.\u003C/p\u003E\u003Cp\u003ETwo Options for Drag:\u003C/p\u003E\u003Cp\u003E-Drag is applied at the physicsless part = just like it sounds\u003C/p\u003E\u003Cp\u003E-Drag is applied to the parent = The physicsless part calculates it\u0027s drag, then applies the resulting force to the parent. It does not pass up a drag coefficient.\u003C/p\u003E\u003Cp\u003EPhysicsless parts used to be largely ignored by the physics engine. That\u0027s not really the case anymore, so the name is a bit of a misnomer.\u003C/p\u003E\u003Cp\u003EOn the topic of unloading parts in the cargo bay...\u003C/p\u003E\u003Cp\u003EWhile I\u0027m not trying to get hung up on terminology, unload has a specific meaning in the internals of KSP. It\u0027s technically impossible to send only part of a craft on-rails, pakced, or unloaded within the current construct of the game\u0027s code. That would result in instant ship-shredding kraken attacks.\u003C/p\u003E\u003Cp\u003EWhat is more practical, would be full deletion of those parts from the scene, and replacing them by adding a \u0022dummy load\u0022 of mass, resources, ect. to the cargo bay itself. However, there would be a lot of problems with that, and a lot of assumptions that would need to be made (which may or may not be true).\u003C/p\u003E\u003Cp\u003EIt\u0027s an interesting concept though, so might be worth thinking about in some form.\u003C/p\u003E\n"}]}