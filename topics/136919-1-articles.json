{"TopicId":136919,"ForumId":29,"TopicTitle":"How To Put Multiple Buttons Per Line?","CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T03:58:29Z","PageNum":1,"Articles":[{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T03:58:29Z","Content":"\n\u003Cp\u003E\nFor All Y\u0027All I\u0027m thinking of tightening up the UI a bit, to allow both more (and more varied) functionality and less spam of lines in the right-click menu. I already feel bad that I add 2 lines per part, and any more functionality could increase that even more. Ideally, I\u0027d like to modify (or replace) the current single line to keep things tighter and easier to use.\n\u003C/p\u003E\n\u003Cp\u003E\nA picture is worth a thousand words, so in lieu of writing 3,000 words here\u0027s what I want in simple pictures:\n\u003C/p\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022\u003E\u003Cthead\u003E\u003Ctr\u003E\u003Cth scope=\u0022col\u0022\u003E\nWhat KSP Does Now\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022\u003E\nWhat All Y\u0027All Does Now\n\u003C/th\u003E\n\u003Cth scope=\u0022col\u0022\u003E\nWhat I Want All Y\u0027All To Do\n\u003C/th\u003E\n\u003C/tr\u003E\u003C/thead\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u003Cimg alt=\u00229oj9KsW.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/9oj9KsW.jpg\u0022\u003E\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cimg alt=\u0022DwTQLhh.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/DwTQLhh.jpg\u0022\u003E\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cimg alt=\u0022EmsG0rc.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/EmsG0rc.jpg\u0022\u003E\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nI \u003Cstrong\u003ETHINK\u003C/strong\u003E that what I need to do is remove the current KSPEvent that implements \u0022Extend Panels\u0022 (which I don\u0027t know how to do) and add my own KSPEvent-type-thing that implements the original functional button and also adds the two new buttons that do their jobs (which I also don\u0027t know how to do). Could anybody offer any pointers on any of these things?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve got the \u0022how do you extend all panels\u0022 and \u0022how do you extend all of the same panels\u0022 part, but not the \u0022how do you modify the UI to put buttons where I want them\u0022 part.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T04:00:01Z\u0022 title=\u002204/14/2016 04:00  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by 5thHorseman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-04-14T04:44:19Z","Content":"\n\u003Cp\u003E\nI had a quick look and have some partial answers for you (I know it may not be to the level of detail that you need/want though).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EShort answer\u003C/strong\u003E: It looks possible, but not very far from trivial.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELong answer\u003C/strong\u003E:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EHow it works:\u003C/em\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhen the part right click menu needs displaying, the UIPartActionController will create a UIPartActionWindow (which is a Unity component on its own GameObject).\n\u003C/li\u003E\n\u003Cli\u003E\nAs part of the setup of the UIPartActionWindow it\u0027ll fire GameEvents.onPartActionUICreate (this is to allow stuff to update its internal state\u00A0\u003Cem\u003Ebefore\u003C/em\u003E\u00A0the dialog is created).\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cem\u003EHow I\u0027d hack it:\u003C/em\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nYou can subscribe to the\u00A0onPartActionUICreate event to know when a part window is being displayed. \u00A0You\u0027d have to just flag it and look at it on your own update cycle, as that event is fired while it\u0027s still being set up.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen you see it get opened, use either nasty reflection or expensive Unity.Object.FindObjectOfType to get the UIPartActionWindow.\n\u003C/li\u003E\n\u003Cli\u003E\nUse reflection to find the list of\u00A0UIPartActionItem (ie widgets) to see if the one you want is there (the \u0022Extend Panels\u0022 in this example).\n\u003C/li\u003E\n\u003Cli\u003E\nAdd additional\u00A0UIPartActionButton objects \u0022beside\u0022 it. \u00A0I didn\u0027t dig into this part at all - I have no idea how the layout works to say if that is possible (but from just looking at how other UI elements are laid out I would guess that it is).\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nSo yeah - that should give you a fairly clear picture of the scope of what\u0027s required (hopefully).\n\u003C/p\u003E\n"},{"CreatedByName":"Superfluous J","CreatedById":73725,"CreatedDateTime":"2016-04-14T04:57:03Z","Content":"\n\u003Cp\u003E\nThat sounds a bit outside my current skillset \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThank you a bunch for the answer, though. It definitely gives me stuff to chew on while I think up new questions to ask!\n\u003C/p\u003E\n"}]}