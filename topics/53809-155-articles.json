{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":155,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-09-29T21:46:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022damerell\u0022 data-cite=\u0022damerell\u0022\u003E\u003Cdiv\u003EHint: I\u0027ve never used the Aggressive version. If the Basic version doesn\u0027t smoosh your icons, it\u0027s because of some combination of the KSP \u0022Texture Quality\u0022 setting (which does affect the behaviour) and configuration files in ATM written for you (by people like me).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I said, I haven\u0027t touched the config files so it must be the fact that I have texture quality as high as possible. That certainly makes sense. Anyways I\u0027m not trying to get into an argument but make sure more information is revealed about the handling of icons than your initial statement which makes one think they always end up being squashed by ATM\u003C/p\u003E\n"},{"CreatedByName":"AlphaAsh","CreatedById":105348,"CreatedDateTime":"2015-09-29T21:52:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022damerell\u0022 data-cite=\u0022damerell\u0022\u003E\u003Cdiv\u003ESubmit pull requests to github to fix the mods you use? I did when I used ATM. (PS, rbray, I\u0027ve got an open one for Connected Living Space).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy mods don\u0027t need fixing. ATM does.\u003C/p\u003E\n"},{"CreatedByName":"adsii1970","CreatedById":89014,"CreatedDateTime":"2015-09-30T01:14:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EThe \u0027fix\u0027 he referenced included a config to make ATM ignore IR but that doesn\u0027t actually seem to work, I don\u0027t have the link handy but it was a recent discussion on the IR thread\u003Cp\u003EWorks just fine, cept for the IR issue noted above\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI, too, have this problem and ATM also seems to ignore the FLAGS folder restrictions. Which means all the flags look like a tie-dye nightmare... Any suggestions for a fix?\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-09-30T09:59:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EAs I said, I haven\u0027t touched the config files so it must be the fact that I have texture quality as high as possible.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA combination of that and configuration files in ATM written for you by people like me who actually know what they\u0027re talking about, to make my point absolutely clear. Some icons are affected at high texture quality. You happen to use mods where that has been fixed.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAnyways I\u0027m not trying to get into an argument but make sure more information is revealed about the handling of icons than your initial statement which makes one think they always end up being squashed by ATM\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHowever, bluntly, you labour under the disadvantage that you don\u0027t know what you\u0027re talking about. That is why you say \u0022The Basic version by default (which are the configs I use) will not compress things enough to notice any change to your icons\u0022, which is flat-out wrong. It _will_ in many cases unless ATM includes mod-specific configs to address that. It is also why you posted a link to a \u0022fix\u0022 for IR that could not possibly have worked.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AlphaAsh\u0022 data-cite=\u0022AlphaAsh\u0022\u003E\u003Cdiv\u003EMy mods don\u0027t need fixing. ATM does.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIndeed. That is why I am trying to alert the ATM developer to a pull request for ATM.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-30T17:18:39Z\u0022 title=\u002209/30/2015 05:18  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 30, 2015\u003C/time\u003E by damerell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"mghslowell","CreatedById":151592,"CreatedDateTime":"2015-10-01T17:38:43Z","Content":"\n\u003Cp\u003EI have KSP 1.04 of course and downloaded the Community ISS and the soviet pack upto date, Built my ISS and all set, LAGS like crazy with all the different parts together. so I installed this ATM and now It wont load my saved game because of the \u0022 missing POISK \u0022 module that i put on the Zenith side of the ISS. the PIRS module works and loads fine, the POISK wont show in my parts picker and wont load my station because of the missing part, \u003C/p\u003E\u003Cp\u003E I did go into the CFG and added the normal state to add //Poisk and model designation but no matter what Always cant load the POISK module. \u003C/p\u003E\u003Cp\u003Eanything I can do?\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-10-02T11:37:00Z","Content":"\n\u003Cp\u003EI don\u0027t believe ATM can remove a part, but you could try removing ATM.\u003C/p\u003E\n"},{"CreatedByName":"SmarterThanMe","CreatedById":58706,"CreatedDateTime":"2015-10-10T10:59:57Z","Content":"\n\u003Cp\u003ESo... IR. The solution is that ATM isn\u0027t necessary any more?\u003C/p\u003E\n"},{"CreatedByName":"astroknott58","CreatedById":152241,"CreatedDateTime":"2015-10-11T23:29:30Z","Content":"\n\u003Cp\u003ETried this and everything else I can find. Nothing seems to work. The game is becoming unplayable. I have a bad to the bone Alienware laptop, 16 gigs ram, 3d card.....the works. Game still constantly crashing to desktop. Love the game but I am getting frustrated. They need to fix this.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-10-12T00:08:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022astroknott58\u0022 data-cite=\u0022astroknott58\u0022\u003E\u003Cdiv\u003ETried this and everything else I can find. Nothing seems to work. The game is becoming unplayable. I have a bad to the bone Alienware laptop, 16 gigs ram, 3d card.....the works. Game still constantly crashing to desktop. Love the game but I am getting frustrated. They need to fix this.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m guessing you\u0027re running the 32bit Windows version, yes? Because that can still only access about 3.2GB of RAM, regardless of how much you have. Also, most mods and stock textures have been updated to be .dds textures which your GPU can directly use and that the game now loads as standard and which, unfortunately, ATM doesn\u0027t even touch. So unless most of your currently installed mods use outdated jpgs, pngs or mbms etc, there\u0027s not a lot ATM can do to help (not even the Aggressive version). TBH, ATM isn\u0027t really needed any more, because of the aforementioned reasons - 99% of mods (and 100% of stock) now use dds textures which stock KSP can load fine, but ATM doesn\u0027t compress those at all (yet).\u003C/p\u003E\u003Cp\u003ETL;DR - you have too many and/or old mods. \u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EAlso, you paid way too much for your computer.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-12T01:59:45Z","Content":"\n\u003Cp\u003EATM\u0027s main use these days is for beautification mods. Only proot has released some DDS textures. Some. Everything else still uses mostly PNG. Even loading a select number of planetary \u0026amp; cloud textures will gobble up your RAM otherwise\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-10-12T09:47:07Z","Content":"\n\u003Cp\u003EYou\u0027ll probably find it easier to attack those last holdouts with \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98672-WIN-KSP-to-DDS-texture-converter\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/98672-WIN-KSP-to-DDS-texture-converter\u003C/a\u003E - I used this on Kerbal Foundries. The advantage is that you leave mods alone by default rather than process them by default; the disadvantage is that if a mod has frequent updates, you\u0027ll be running it frequently.\u003C/p\u003E\n"},{"CreatedByName":"Jwmflying14","CreatedById":65900,"CreatedDateTime":"2015-10-16T23:32:42Z","Content":"\n\u003Cp\u003EGuys, this might be mentioned previously. I am a veteran player, and am extremely skilled with the gaming aspect, but I am extremely limited on my computer knowledge/skill. So please be nice, and walk me through, as in I need my hand held.\u003C/p\u003E\u003Cp\u003EI know infernal robotics rework is known to not work nicely with ATM. I have read there is a way to tell ATM to ignore certain parts, so that you can have the two coincide peacefully. Can someone walk me through how to do this?\u003C/p\u003E\u003Cp\u003EI am on KSP 1.04 with I believe the most recent ATM? (downloaded on 2015/06/20).\u003C/p\u003E\u003Cp\u003EThanks in advance everyone!\u003C/p\u003E\u003Cp\u003EEdit: I guess my question is, everyone references using config files to get ATM to completely ignore IR. My point is, I have no idea what they are referring to, or the process that needs to be accomplished to do so.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-16T23:37:21Z\u0022 title=\u002210/16/2015 11:37  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 16, 2015\u003C/time\u003E by Jwmflying14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2015-10-18T19:16:16Z","Content":"\n\u003Cp\u003EHey folks. Is there a way to exclude certain textures from being compressed? I use the aggressive one, and it makes some parts look quite poor, but that is fine because I\u0027m usually far away. What I would not like to compress is the Skybox texture, as the compressed stars just look blurry.\u003C/p\u003E\u003Cp\u003EIs there a way to get select files from undergoing the compression?\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-10-19T10:02:54Z","Content":"\n\u003Cp\u003EPlease explain first why you are still using ATM rather than taking the advice above.\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2015-10-19T16:23:02Z","Content":"\n\u003Cp\u003EWhat \u0022advice above\u0022? Your last post about using some other mod to attack the last holdouts that aren\u0027t being compressed? Because it seemed to have nothing to do with me trying to avoid compression on certain files or folders.\u003C/p\u003E\u003Cp\u003EI found in the ATM configuration file some parts about exceptions, and I attempted to get it to work by adding my own lines targeting the directory in question, but I must\u0027ve not done it right because my skybox is still blurry.\u003C/p\u003E\n"},{"CreatedByName":"BlackHat","CreatedById":138278,"CreatedDateTime":"2015-10-19T18:30:53Z","Content":"\n\u003Cp\u003EWhile not 100% positive, since I have not used ATM since .90, I believe you want something like this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EACTIVE_TEXTURE_MANAGER_CONFIG\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E folder = TextureReplacer\u003C/p\u003E\u003Cp\u003E enabled = true\u003C/p\u003E\u003Cp\u003E OVERRIDES\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E TextureReplacer/Plugins/.*\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E compress = false\u003C/p\u003E\u003Cp\u003E mipmaps = false\u003C/p\u003E\u003Cp\u003E scale = 1\u003C/p\u003E\u003Cp\u003E max_size = 0\u003C/p\u003E\u003Cp\u003E make_not_readable = false\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E TextureReplacer/EnvMap/.*\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E compress = false\u003C/p\u003E\u003Cp\u003E mipmaps = false\u003C/p\u003E\u003Cp\u003E scale = 1\u003C/p\u003E\u003Cp\u003E max_size = 0\u003C/p\u003E\u003Cp\u003E make_not_readable = false\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour adding the folder \u0022TextureReplacer/EnvMap/\u0022 to the excludes as I believe thats where the skybox is located. \u003C/p\u003E\u003Cp\u003E(Its been a long time since I messed with Texturereplacer)\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2015-10-19T18:42:31Z","Content":"\n\u003Cp\u003EOooh, I think I see some things I was going stupidly wrong! I really am not savvy in this department, but I have a brain.\u003C/p\u003E\u003Cp\u003EOff to test, thanks a lot BlackHat!\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2015-10-19T19:28:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022klesh\u0022 data-cite=\u0022klesh\u0022\u003E\u003Cdiv\u003EWhat \u0022advice above\u0022? Your last post about using some other mod to attack the last holdouts that aren\u0027t being compressed? Because it seemed to have nothing to do with me trying to avoid compression on certain files or folders.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThese days it may be easier to avoid it by not using ATM and only compressing specific mods with non-DDS textures. I\u0027m not saying you and \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/members/67664-Jwmflying14\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EJwmflying14\u003C/strong\u003E\u003C/a\u003E have to take the advice, but it might be worth considering.\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2015-10-19T23:52:38Z","Content":"\n\u003Cp\u003EThanks BlackHat, with a slight adjustment (the skybox is in the TR/Default directory) that seems to work just right! Its amazing how much better the sky looks. \u003C/p\u003E\u003Cp\u003EDamerell, you presume I know what a non-DDS texture is, or a DDS texture for that matter. I looked into the mods you linked and they explicitly say \u0022you better know what you\u0027re doing\u0022, which I don\u0027t. ATM seems to work okay for me, without needing a crash course in computer graphics imaging technology. Works for me!\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-10-20T00:07:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022klesh\u0022 data-cite=\u0022klesh\u0022\u003E\u003Cdiv\u003EDamerell, you presume I know what a non-DDS texture is, or a DDS texture for that matter.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E.dds is a filetype, like .png or .jpg but it\u0027s one that is used directly by your graphics card. PNGs or JPEGs need to be converted, by your graphics card, into .dds so it can read and use them. This increases time and RAM usage as it\u0027s loading the PNG etc and the actual .dds used. If the textures are already in .dds format, no conversion needs to happen, which means good news for everyone.\u003C/p\u003E\u003Cp\u003E(please, someone correct me if I\u0027m wrong, this is just my basic understand of it, from knowing what ATM and DDSLoader used to do).\u003C/p\u003E\n"},{"CreatedByName":"Bomber355","CreatedById":114439,"CreatedDateTime":"2015-10-21T04:04:13Z","Content":"\n\u003Cp\u003EIs it possible if you could whip up a config for Ven\u0027s Stock Part Revamp?\u003C/p\u003E\n"},{"CreatedByName":"CrashTestDanny","CreatedById":151030,"CreatedDateTime":"2015-10-29T02:48:07Z","Content":"\n\u003Cp\u003Ehope this isn\u0027t too noob a question... if I have no RAM issues (32G ram, never seen it filled) will this mod do anything good for me?\u003C/p\u003E\u003Cp\u003EThanks,\u003C/p\u003E\u003Cp\u003EDanny\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2015-10-29T16:53:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bomber355\u0022 data-cite=\u0022Bomber355\u0022\u003E\u003Cdiv\u003EIs it possible if you could whip up a config for Ven\u0027s Stock Part Revamp?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy would you need this?...The current release of Ven\u0027s is already in .dds...???\u003C/p\u003E\n"},{"CreatedByName":"Galenmacil","CreatedById":118681,"CreatedDateTime":"2015-11-01T23:45:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CrashTestDanny\u0022 data-cite=\u0022CrashTestDanny\u0022\u003E\u003Cdiv\u003Ehope this isn\u0027t too noob a question... if I have no RAM issues (32G ram, never seen it filled) will this mod do anything good for me?\u003Cp\u003EThanks,\u003C/p\u003E\u003Cp\u003EDanny\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHello Danny,\u003C/p\u003E\u003Cp\u003ENo question is too \u0022noob\u0022 to be unworthy of asking. We all start somewhere and there is always a vast ocean of knowledge left to explore compared to the puddle of each individual savoir...\u003C/p\u003E\u003Cp\u003ENow, on to the actual answering: On a modern computer, to make things simple, there a usually two types of memory. Main system memory (RAM) and video memory (VRAM). You have 32 GB of main memory. Which is more than enough for any modern desktop machine...\u003C/p\u003E\u003Cp\u003ELet\u0027s talk a little bit about how Kerbal Space Program is affected by RAM/VRAM. Currently, and I could add sadly, KSP is a 32 bit application which mean that, even on a 64 bit operating system, it is limited to roughly 3.5~4 GB of usable RAM. This has something to do with the fact that in binary, using 32 bit, you get an integer number between 0 and 4294967295. That is roughly 4 billion which in turn translate to 4 GB. As an example, imagine you have a counter, in decimal, made up of 3 digit. 3 digit in decimal is any integer number between 0 and 999. If you add one when you are at 999, the counter \u0022flip back\u0022 to zero. So, in a computer, if you have 32 \u0022binary digit\u0022 counter, it will \u0022flip back\u0022 to zero at the \u00224 GB boundary\u0022.\u003C/p\u003E\u003Cp\u003ESo, to make a long story short, KSP cannot address or allocate more than 4GB of RAM. That seems like a high enough number but things can get out of hand pretty quickly if you start piling MODs and new parts into the \u0022Gamedata\u0022 directory! There is also a fundamental \u0022bug\u0022 within KSP (probably within the engine used for KSP, namely Unity 4.x) that causes RAM usage to increase ever so slightly the longer you play the game until it gets completely allocated and the computer says \u0022Whoa, store closed! I sold all my memory...\u0022. In KSP this happens roughly around 3.5 GB of allocated memory.\u003C/p\u003E\u003Cp\u003ENow that we know that the game, given enough time, will crash no matter what. What can we do about it? Well, it turns out that, aside from using no mods (which is out of question!), textures for the in-game 3D graphics is an area where things can be improved dramatically. Squad, with the release of recent update, made their part by converting most texture to highly compressed DDS format but not all mods use DDS as texture. Luckily for us, there is a guy named rbray89 that created this awesome mod called Active Texture Management. It not only convert any texture to DDS but can also rescale them to reduce texture memory footprint even more. It does a few other tricks too that help when you are using lots of mods simultaneously.\u003C/p\u003E\u003Cp\u003ESHORT ANSWER: If you use a lot of mods, in particular parts mod, using Active Texture Management will allow you to play longer before you encounter the \u0022oh! so annoying, memory leak crash\u0022. It can even allow the game to actually start correctly while, without it, you can\u0027t even reach the menu before it exhaust the 4 GB allocation restriction! It can also help if you have an \u0022old\u0022 (in computer terms, old means more than 2 years... I know...) graphics subsystem.\u003C/p\u003E\u003Cp\u003EAnother thing that you could do if you encounter the aforementioned issue and are on Windows, is to force the game to run using the OpenGL render path instead of the default DirectX path. More on this can be found on this forum.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-01T23:52:37Z\u0022 title=\u002211/01/2015 11:52  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 1, 2015\u003C/time\u003E by Galenmacil\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CrashTestDanny","CreatedById":151030,"CreatedDateTime":"2015-11-06T02:06:20Z","Content":"\n\u003Cp\u003Ewow - what an excellent answer! Thanks and have some rep.\u003C/p\u003E\u003Cp\u003EI already knew some of this, being a programmer, but as my experience is limited to mainframe and midrange systems and unix/linux where 64 bits is normal anything less is ...??!?, I as not fully aware of all of it. SO I guess I\u0027m gonna go uninstall some part mods and get this mod!\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\u003Cp\u003EDanny!\u003C/p\u003E\n"}]}