{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":173,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-05T00:55:48Z","Content":"\n\u003Cp\u003E\nI\u0027m uploading a new PR13 ZIP file with a fix for the TwoBodyImpactPoint constraints such that they don\u0027t return NaN anymore.\u00A0 However, as I mentioned, it\u0027s best to just propagate to your impact point generally and set constraints for latitude, longitude, etc.\u00A0 These specialized constraints are probably only really for when you can be \u003Cem\u003Ecertain\u003C/em\u003E that you\u0027re going to hit a body and optimization steps won\u0027t take you away from that.\u00A0 (Think, for example, constraining the first stage impact point for your rocket launch.)\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-05T10:50:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223903759\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609804661\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, I see the issue now.\u00A0 You\u0027re not hitting the body so the constraint sort of freaks out since there is no impact.\u00A0 I would recommend just propagating to the impact point directly in LVD and setting your latitude, longitude, and altitude constraints for that point as desired.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAlright, I\u0027ll do it. Thanks for the explanation!\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe bug:\n\u003C/p\u003E\n\u003Cp\u003E\n- LVD is somewhat unresponsive for some time after scrubbing the mission time slider.\n\u003C/p\u003E\n\u003Cp\u003E\nQoL suggestions:\n\u003C/p\u003E\n\u003Cp\u003E\n- Let the user select select (or do it automatically) the reference frame for the Spacecraft state panels (Initial Spacecraft State, Final Spacecraft State, view state after event). It would be a lot more useful for times where the spacecraft is at ground\n\u003C/p\u003E\n\u003Cp\u003E\n- For the objective function, let the scaling factor be negative. This would allow us to, for example, minimize distance to body while maximizing spacecraft mass\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-05T12:07:02Z\u0022 title=\u002201/05/2021 12:07  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 5, 2021\u003C/time\u003E by vitorboschi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-05T11:54:16Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E I\u0027m trying to launch retrograde, but for some reason I can\u0027t get the pitch to go over 90 degrees. I have also tried to roll 180 degrees before pitching from 90 to 0, but it doesn\u0027t helped either. However, if I set the initial steering pitch to 90.01 instead of 89.99, at least the graphical visualization seems to be correct (the ship launches retrograde), but the pitch values still are between 90 and 0.\n\u003C/p\u003E\n\u003Cp\u003E\nQuestion: What is the correct approach to get a retrograde orbit? Is this a bug?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-05T14:32:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223903922\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609843818\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlright, I\u0027ll do it. Thanks for the explanation!\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe bug:\n\u003C/p\u003E\n\u003Cp\u003E\n- LVD is somewhat unresponsive for some time after scrubbing the mission time slider.\n\u003C/p\u003E\n\u003Cp\u003E\nQoL suggestions:\n\u003C/p\u003E\n\u003Cp\u003E\n- Let the user select select (or do it automatically) the reference frame for the Spacecraft state panels (Initial Spacecraft State, Final Spacecraft State, view state after event). It would be a lot more useful for times where the spacecraft is at ground\n\u003C/p\u003E\n\u003Cp\u003E\n- For the objective function, let the scaling factor be negative. This would allow us to, for example, minimize distance to body while maximizing spacecraft mass\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Col\u003E\u003Cli\u003E\nThis has gotten a lot better over previous performance.\u00A0 Unfortunately, there\u0027s not much I can do about the slider\u0027s performance at this point as it\u0027s all internal to MATLAB.\u00A0 It can be a bit frustrating,\u00A0 I understand, I\u0027m just not sure what else to do about it.\n\u003C/li\u003E\n\u003Cli\u003E\nThis is an interesting idea, yes.\u00A0 I don\u0027t think it\u0027ll make it into the v1.6.7 release as I\u0027m itching to get it out, but I\u0027ll certainly keep it in mind for the v1.6.8 release.\u00A0 Let me add it to my to-do/consider list on the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EGenerally, the way to go about what you\u0027re trying to do is to set a constraint for the distance to body (since you probably have something in mind) and then maximize spacecraft mass.\u00A0 Generally when you\u0027re in a situation where you want to minimize one thing and maximize another, there\u0027s a better way to formulate the problem where one of those quantities is actually a constraint.\u00A0 Give that a try.\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223903929\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609847656\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E I\u0027m trying to launch retrograde, but for some reason I can\u0027t get the pitch to go over 90 degrees. I have also tried to roll 180 degrees before pitching from 90 to 0, but it doesn\u0027t helped either. However, if I set the initial steering pitch to 90.01 instead of 89.99, at least the graphical visualization seems to be correct (the ship launches retrograde), but the pitch values still are between 90 and 0.\n\u003C/p\u003E\n\u003Cp\u003E\nQuestion: What is the correct approach to get a retrograde orbit? Is this a bug?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can\u0027t get pitch over 90 degrees because pitch is only defined between -90 and 90 degrees. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E What you want to do is set yaw to 270 for a westward launch (90 being east and 0 being north) and then set pitch as you desire.\u00A0 Roll only controls the vehicle around the x axis after yaw and pitch rotations have been carried out, so it doesn\u0027t point the vehicle at all.\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-05T15:58:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904009\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609857134\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis has gotten a lot better over previous performance.\u00A0 Unfortunately, there\u0027s not much I can do about the slider\u0027s performance at this point as it\u0027s all internal to MATLAB.\u00A0 It can be a bit frustrating,\u00A0 I understand, I\u0027m just not sure what else to do about it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGot it! I remember seeing some mentions about this problem earlier in this thread, but wasn\u0027t sure this was the same thing. Thank you for the clarification\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904009\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609857134\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is an interesting idea, yes.\u00A0 I don\u0027t think it\u0027ll make it into the v1.6.7 release as I\u0027m itching to get it out, but I\u0027ll certainly keep it in mind for the v1.6.8 release.\u00A0 Let me add it to my to-do/consider list on the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003E\u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCool!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904009\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609857134\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EGenerally, the way to go about what you\u0027re trying to do is to set a constraint for the distance to body (since you probably have something in mind) and then maximize spacecraft mass.\u00A0 Generally when you\u0027re in a situation where you want to minimize one thing and maximize another, there\u0027s a better way to formulate the problem where one of those quantities is actually a constraint.\u00A0 Give that a try.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWill do!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904009\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609857134\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou can\u0027t get pitch over 90 degrees because pitch is only defined between -90 and 90 degrees. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E What you want to do is set yaw to 270 for a westward launch (90 being east and 0 being north) and then set pitch as you desire.\u00A0 Roll only controls the vehicle around the x axis after yaw and pitch rotations have been carried out, so it doesn\u0027t point the vehicle at all.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat did it, thanks! Maybe it\u0027s a good idea to add an error message when the user try to set pitch (or any other parameter, really) to an invalid/out of range value.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-05T16:03:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904035\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609862328\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat did it, thanks! Maybe it\u0027s a good idea to add an error message when the user try to set pitch (or any other parameter, really) to an invalid/out of range value.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is the tricky bit, because it\u0027s not really erroneous in the typical sense.\u00A0 If pitch goes greater than 90 or less than -90, then what happens is that the yaw flips by 180 degrees and the new pitch becomes 180 degrees minus the old pitch.\u00A0 This can actually be useful behavior in some situations where you want the vehicle to flip through the 90 degree point and back out the other side.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-05T17:12:15Z\u0022 title=\u002201/05/2021 05:12  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 5, 2021\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-05T21:14:42Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E Ok, I finally finished the mission planning stage (.mat is here: \u003Ca href=\u0022https://www.dropbox.com/s/m7g64hybdpsl2kz/Mun%20impact%20mission4.mat?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/m7g64hybdpsl2kz/Mun impact mission4.mat?dl=0\u003C/a\u003E) and generated the .csv out of it (\u003Ca href=\u0022https://www.dropbox.com/s/70r33wsk8lewfap/testKerbinLiftoff.csv?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/70r33wsk8lewfap/testKerbinLiftoff.csv?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I tried to run it on the launchpad but it does not work:\n\u003C/p\u003E\n\u003Cp\u003E\n- It seems to keep waiting at the first event with throttle = 0 (which is expect)\n\u003C/p\u003E\n\u003Cp\u003E\n- When the time comes, the script will quickly jump until the coast event (number 9 at the .mat) without really running the other steps, which of course just crash the ship\n\u003C/p\u003E\n\u003Cp\u003E\nAm I missing something?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-05T21:25:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904260\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609881282\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E Ok, I finally finished the mission planning stage (.mat is here: \u003Ca href=\u0022https://www.dropbox.com/s/m7g64hybdpsl2kz/Mun%20impact%20mission4.mat?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/m7g64hybdpsl2kz/Mun impact mission4.mat?dl=0\u003C/a\u003E) and generated the .csv out of it (\u003Ca href=\u0022https://www.dropbox.com/s/70r33wsk8lewfap/testKerbinLiftoff.csv?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/70r33wsk8lewfap/testKerbinLiftoff.csv?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I tried to run it on the launchpad but it does not work:\n\u003C/p\u003E\n\u003Cp\u003E\n- It seems to keep waiting at the first event with throttle = 0 (which is expect)\n\u003C/p\u003E\n\u003Cp\u003E\n- When the time comes, the script will quickly jump until the coast event (number 9 at the .mat) without really running the other steps, which of course just crash the ship\n\u003C/p\u003E\n\u003Cp\u003E\nAm I missing something?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell that is interesting... so it looks like MATLAB\u0027s \u003Cspan\u003E\u003Cspan\u003E\u003Cem\u003Ecsvwrite \u003C/em\u003E\u003C/span\u003E\u003C/span\u003Efunction spits out data in scientific notation if the numbers get too long.\u00A0 Let me investigate how to do this properly.\u00A0 Thanks for sharing.\u00A0 I\u0027ll try to get a new build up ASAP.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: By the way, just by looking at your CSV file, I see you may have an issue.\u00A0 You need to up your data rate so the linear interpolation in the script doesn\u0027t get to wonky.\u00A0 Try setting your global integration output step size to 1 second.\u00A0 You can do this in Settings -\u0026gt; Integration Settings.\u00A0 Then experiment to find a good balance between too much data and sufficient fidelity to capture the steering correctly.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT 2: Okay, got it figured out and the new PR13 ZIP file with the fix is uploaded.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-05T22:41:11Z\u0022 title=\u002201/05/2021 10:41  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 5, 2021\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-05T23:12:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904264\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609881935\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell that is interesting... so it looks like MATLAB\u0027s \u003Cspan\u003E\u003Cspan\u003E\u003Cem\u003Ecsvwrite \u003C/em\u003E\u003C/span\u003E\u003C/span\u003Efunction spits out data in scientific notation if the numbers get too long.\u00A0 Let me investigate how to do this properly.\u00A0 Thanks for sharing.\u00A0 I\u0027ll try to get a new build up ASAP.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: By the way, just by looking at your CSV file, I see you may have an issue.\u00A0 You need to up your data rate so the linear interpolation in the script doesn\u0027t get to wonky.\u00A0 Try setting your global integration output step size to 1 second.\u00A0 You can do this in Settings -\u0026gt; Integration Settings.\u00A0 Then experiment to find a good balance between too much data and sufficient fidelity to capture the steering correctly.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT 2: Okay, got it figured out and the new PR13 ZIP file with the fix is uploaded.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you! I\u0027ll retry now. I\u0027ve also got a couple of suggestions:\n\u003C/p\u003E\n\u003Cp\u003E\n1. I recommend using only lowercase chars for KOS filenames. The reason is that it\u0027ll convert to lowercase internally, which makes it unable to load files with uppercase characters on case sensitive filesystems (Linux and Mac, I think)\n\u003C/p\u003E\n\u003Cp\u003E\n2. When exporting the CSV files, I think it makes more sense to be able to select only a few events (or time range) of the mission for exportation, because we\u0027ll usually have to tweak the mission after each burn to correct imprecisions.\n\u003C/p\u003E\n\u003Cp\u003E\n3. The global integration output affects other things besides the CSV export, no? Would it make sense to let the user select a specific step size when exporting the CSV (so that other things are not changed)\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-05T23:26:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904315\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609888376\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThank you! I\u0027ll retry now. I\u0027ve also got a couple of suggestions:\n\u003C/p\u003E\n\u003Cp\u003E\n1. I recommend using only lowercase chars for KOS filenames. The reason is that it\u0027ll convert to lowercase internally, which makes it unable to load files with uppercase characters on case sensitive filesystems (Linux and Mac, I think)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGreat idea, I\u0027ll do this for the release.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n2. When exporting the CSV files, I think it makes more sense to be able to select only a few events (or time range) of the mission for exportation, because we\u0027ll usually have to tweak the mission after each burn to correct imprecisions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo I thought about this and almost did it.\u00A0 However, with the ability to jump around in time and propagate backwards, it seemed like it would cause too much confusion to the user about which events to select.\u00A0 Outputting everything and then using the new \u0022advance to event\u0022 functionality to later jump past completed events spares everyone that confusion at the expense of just a bit of loading time in kOS.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n3. The global integration output affects other things besides the CSV export, no?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe only big thing it impacts for most integrators is the number of data points output: the solutions themselves generally stay the same.\u00A0 This is not necessarily true for ODE5, because it\u0027s a fixed step size integrator.\u00A0 But I think \u0022generally no\u0022 is a good answer to your question.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWould it make sense to let the user select a specific step size when exporting the CSV (so that other things are not changed)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, because the integration would have to be redone anyway in order to get the states of the vehicle at those new step sizes anyway.\u00A0 If it\u0027s not desirable to keep the small step sizes after outputting the\u00A0 CSV file for kOS, one can always Edit -\u0026gt; Undo that change later.\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-06T11:12:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904315\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609888376\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThank you! I\u0027ll retry now. I\u0027ve also got a couple of suggestions:\n\u003C/p\u003E\n\u003Cp\u003E\n1. I recommend using only lowercase chars for KOS filenames. The reason is that it\u0027ll convert to lowercase internally, which makes it unable to load files with uppercase characters on case sensitive filesystems (Linux and Mac, I think)\n\u003C/p\u003E\n\u003Cp\u003E\n2. When exporting the CSV files, I think it makes more sense to be able to select only a few events (or time range) of the mission for exportation, because we\u0027ll usually have to tweak the mission after each burn to correct imprecisions.\n\u003C/p\u003E\n\u003Cp\u003E\n3. The global integration output affects other things besides the CSV export, no? Would it make sense to let the user select a specific step size when exporting the CSV (so that other things are not changed)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, it seems to have worked now, although I couldn\u0027t yet make the launch work \u0027till the end because KSP keeps crashing mid flight (looks like a KOS issue), but I have found a small issue with roll: it happened many times that the ship performed a full roll while it shouldn\u0027t (roll was set to zero all the time), and I\u0027m pretty sure this is because of the way it\u0027s represented in KOS/KSP-TOT: as a 0-360 degree value (or rad, but it doesn\u0027t really matter). Since the set value is 0, a small perturbation may make it wrap to something like 359.9, and the ship does a complete roll to fix that. Now, I\u0027m not sure this is easily fixable into the KOS script or if it\u0027s something that should/must be fixed in KOS itself, but just setting the roll to a value far from 0 and 360 should workaround this problem.\n\u003C/p\u003E\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003EAnother suggestion to the KOS feature: if you transpose the data when exporting (so that each line represents a point in time instead of a column), it would be possible to make the script work by reading a line at a time. This would likely reduce memory usage, but most importantly, would cut the long loading time to zero\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-06T13:35:37Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003EHow hard would it be to implement the CSV exporter as a plugin instead of being embedded into the application? I\u0027m asking because it looks to me that it would be a great example plugin (that people can learn from in order to make their own) and also enable really easy customization.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-06T14:14:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904538\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609931579\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, it seems to have worked now, although I couldn\u0027t yet make the launch work \u0027till the end because KSP keeps crashing mid flight (looks like a KOS issue), but I have found a small issue with roll: it happened many times that the ship performed a full roll while it shouldn\u0027t (roll was set to zero all the time), and I\u0027m pretty sure this is because of the way it\u0027s represented in KOS/KSP-TOT: as a 0-360 degree value (or rad, but it doesn\u0027t really matter). Since the set value is 0, a small perturbation may make it wrap to something like 359.9, and the ship does a complete roll to fix that. Now, I\u0027m not sure this is easily fixable into the KOS script or if it\u0027s something that should/must be fixed in KOS itself, but just setting the roll to a value far from 0 and 360 should workaround this problem.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI noticed this too, yes.\u00A0 There\u0027s not much I can do about it, though.\u00A0 This is a control systems issue.\u00A0 kOS needs to be smart enough to find the short way rotation between its current and commanded attitude.\u00A0 At the moment, it\u0027s not.\u00A0 Maybe I\u0027ll file a bug report with the kOS devs.\u00A0 At least it\u0027ll get on their radar that way.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003EAnother suggestion to the KOS feature: if you transpose the data when exporting (so that each line represents a point in time instead of a column), it would be possible to make the script work by reading a line at a time. This would likely reduce memory usage, but most importantly, would cut the long loading time to zero\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, that\u0027s true.\u00A0 It\u0027s not a bad suggestion actually.\u00A0 I don\u0027t think I\u0027ll change it for the v1.6.7 release since I really do want to get it out the door in the next few days, but I can look into the change afterwards.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904597\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609940137\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003EHow hard would it be to implement the CSV exporter as a plugin instead of being embedded into the application? I\u0027m asking because it looks to me that it would be a great example plugin (that people can learn from in order to make their own) and also enable really easy customization.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI suspect it wouldn\u0027t be hard at all.\u00A0 However, that would put the functionality in an unintuitive spot that would be hard to find and would likely never get used, so I\u0027d prefer not to move it.\u00A0 I probably could include it, or something similar to it, as an example plugin, though.\n\u003C/p\u003E\n\u003Cp\u003E\nAs far as customization goes, I actually do rely on the fixed format of the CSV file for the kOS script, so I\u0027m afraid that\u0027s not an option.\u00A0 However, if you want to produce a custom CSV file, remember that Graphical Analysis is capable of spitting out CSV files along with the plotting capabilities.\u00A0 You can certainly try that!\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-06T14:51:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904630\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609942446\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n31 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, that\u0027s true.\u00A0 It\u0027s not a bad suggestion actually.\u00A0 I don\u0027t think I\u0027ll change it for the v1.6.7 release since I really do want to get it out the door in the next few days, but I can look into the change afterwards.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAwesome! I have just reworked the script side of the thing to work that way (worked like a charm) and made a launch from Kerbin using it. Here are my stats:\n\u003C/p\u003E\n\u003Cp\u003E\nExpected orbit / Actual orbit:\n\u003C/p\u003E\n\u003Cp\u003E\nSMA:\u00A0 6993.698km /\u00A0 7077.637 km\n\u003C/p\u003E\n\u003Cp\u003E\nECC: 0.9248807 / 0.92720\n\u003C/p\u003E\n\u003Cp\u003E\nINC: 179.8792 deg / 179.844 deg\n\u003C/p\u003E\n\u003Cp\u003E\nRAAN: 57.00031 deg / 30.664 deg\n\u003C/p\u003E\n\u003Cp\u003E\nAOP: 184.3414 deg / 154.729 deg\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-06T15:03:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904649\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609944680\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAwesome! I have just reworked the script side of the thing to work that way (worked like a charm) and made a launch from Kerbin using it. Here are my stats:\n\u003C/p\u003E\n\u003Cp\u003E\nExpected orbit / Actual orbit:\n\u003C/p\u003E\n\u003Cp\u003E\nSMA:\u00A0 6993.698km /\u00A0 7077.637 km\n\u003C/p\u003E\n\u003Cp\u003E\nECC: 0.9248807 / 0.92720\n\u003C/p\u003E\n\u003Cp\u003E\nINC: 179.8792 deg / 179.844 deg\n\u003C/p\u003E\n\u003Cp\u003E\nRAAN: 57.00031 deg / 30.664 deg\n\u003C/p\u003E\n\u003Cp\u003E\nAOP: 184.3414 deg / 154.729 deg\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, it\u0027s not actually as bad as I was thinking it was going to be, but clearly it\u0027s fairly far off.\u00A0 This is why real rockets use closed loop guidance for orbit insertion and don\u0027t just run open loop steering the whole way to orbit. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have just reworked the script side of the thing to work that way (worked like a charm)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWould you mind sharing the updated script with me?\u00A0 If you\u0027ve already done it and don\u0027t mind me just using it after the v1.6.7 release, I may just go that route...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-06T15:04:25Z\u0022 title=\u002201/06/2021 03:04  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 6, 2021\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-06T16:02:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904654\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609945399\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, it\u0027s not actually as bad as I was thinking it was going to be, but clearly it\u0027s fairly far off.\u00A0 This is why real rockets use closed loop guidance for orbit insertion and don\u0027t just run open loop steering the whole way to orbit. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, but still way better than I could do myself \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nDo you know some keywords I can search for, if I ever try to write a closed loop guidance control?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904654\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609945399\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWould you mind sharing the updated script with me?\u00A0 If you\u0027ve already done it and don\u0027t mind me just using it after the v1.6.7 release, I may just go that route...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSure thing: \u003Ca href=\u0022https://www.dropbox.com/s/x9i5mao7cx333i8/execlvdcontrolt.ks?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/x9i5mao7cx333i8/execlvdcontrolt.ks?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI have used the csvtool application (available on Linux) to transpose the generated CSV and test it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904630\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609942446\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs far as customization goes, I actually do rely on the fixed format of the CSV file for the kOS script, so I\u0027m afraid that\u0027s not an option.\u00A0 However, if you want to produce a custom CSV file, remember that Graphical Analysis is capable of spitting out CSV files along with the plotting capabilities.\u00A0 You can certainly try that!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, customization would require changes in the kOS script too, but that part is already easily changeable. I know I can generate data from the GA tool, but I was thinking in a slightly more advanced workflow, like, for example, generating a few lines at the beginning of the file with the expected state after each event, and only after that putting the throttle/attitude data points. That would allow me to display how much the ship is deviating from the plan, and maybe add some sort of closed loop guidance to the mix\n\u003C/p\u003E\n"},{"CreatedByName":"KC_073","CreatedById":8898,"CreatedDateTime":"2021-01-06T17:33:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904688\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609948945\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, but still way better than I could do myself \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nDo you know some keywords I can search for, if I ever try to write a closed loop guidance control?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u00A0\u003C/span\u003ESomething like this \u003Ca href=\u0022https://ksp-kos.github.io/KOS/tutorials/pidloops.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/tutorials/pidloops.html ?\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-06T18:00:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904741\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609954398\u0022 data-ipsquote-userid=\u00228898\u0022 data-ipsquote-username=\u0022KC_073\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 minutes ago, KC_073 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u00A0\u003C/span\u003ESomething like this \u003Ca href=\u0022https://ksp-kos.github.io/KOS/tutorials/pidloops.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/tutorials/pidloops.html ?\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot really. A PID is just a small part of the problem. What I meant by closed loop is a guidance controller that will try to achieve a given orbit instead of blindly following the calculated attitude/throttle over time\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-06T18:01:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904751\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609956034\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot really. A PID is just a small part of the problem. What I meant by closed loop is a guidance controller that will try to achieve a given orbit instead of blindly following the calculated attitude/throttle over time\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLook for Powered Explicit Guidance, PEG.\u00A0 A modified version of PEG was flown on Shuttle so it\u0027s pretty good all around.\n\u003C/p\u003E\n"},{"CreatedByName":"KC_073","CreatedById":8898,"CreatedDateTime":"2021-01-06T18:02:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223904751\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609956034\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot really. A PID is just a small part of the problem. What I meant by closed loop is a guidance controller that will try to achieve a given orbit instead of blindly following the calculated attitude/throttle over time\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, got it.\u00A0 This seems relevant -\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022124298\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7715033156\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/142213-pegas-powered-explicit-guidance-ascent-system-devlog/\u0026amp;do=embed#comments\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOr some related light reading here - \u003Ca href=\u0022https://ntrs.nasa.gov/citations/19970022700\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ntrs.nasa.gov/citations/19970022700\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-01-06T18:04:06Z\u0022 title=\u002201/06/2021 06:04  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 6, 2021\u003C/time\u003E by KC_073\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-07T15:12:20Z","Content":"\n\u003Cp\u003E\nLast call for bug reports in v1.6.7 pre-release 13!\u00A0 Otherwise we\u0027re looking at a release tomorrow I think. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-01-08T19:04:09Z","Content":"\n\u003Cp\u003E\nHi everyone!\n\u003C/p\u003E\n\u003Cp\u003E\nThis afternoon I\u0027m pleased to announce the release of the \u003Cstrong\u003EKSP Trajectory Optimization Tool v1.6.7\u003C/strong\u003E!\u00A0 This is a major release that generally adds significant new functionality to\u003Cstrong\u003E Launch Vehicle designer\u003C/strong\u003E.\u00A0 It also fixes some bugs in \u003Cstrong\u003EMission Architect\u003C/strong\u003E and other parts of the application.\n\u003C/p\u003E\n\u003Cp\u003E\nOne of the marquee improvements to \u003Cstrong\u003ELaunch Vehicle Designer \u003C/strong\u003Eis the ability to export LVD steering and throttle controls to a CSV file which can be read in from a custom kOS script.\u00A0 You can check out some of the discussion on this topic earlier in this thread, or check out the following demonstration video of a munar lander inserting into a circular orbit from the surface.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022374\u0022 src=\u0022https://player.vimeo.com/video/496754795?app_id=122963\u0022 title=\u0022KSPTOT LVD kOS Control Example 3 - Lunar Liftoff\u0022 width=\u0022640\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nHere\u0027s the full change log:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD: Implementation of alternators and electric engines.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fix for broken plot background color option.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: GA now respects event plotting setting when plotting data.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Implementation of alternators and electric engines.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fix for broken plot background color option.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: GA now respects event plotting setting when plotting data.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added option to set number of parallel workers for optimization.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Fixed bug with having more than one variable item in a variable (initial state).\n\u003C/li\u003E\n\u003Cli\u003E\nMA: LWA can now import target orbit data from KSP.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Added functionality to set launch site from ground target in Set State (estimate launch).\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bug with power sources (wrong matrix size stuff).\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Resolved issue that causes error if an event does not have any states associated with it.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added ability to set positive output step sizes for all active integrators on events.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Boosted performance when looking for downward \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E\u003C/abbr\u003E transitions.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Can now create event continuity constraints via a context menu accessed by right clicking on the sequential events listbox.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Drawing plots should be faster when plotting other celestial bodies.\u00A0 The slow multiprocessing stuff from a previous pre-release is gone here.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added a feature to output the wall clock run time for each event to the ksptot.log file upon propagation.\u00A0 See Settings menu.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bug with the time slider sucking up a bunch of CPU time after sliding it around a bunch.\n\u003C/li\u003E\n\u003Cli\u003E\nThe missing parentID lines of the SolarSystemBodies.ini file have been added.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added a linear tangent steering model to the available options in LVD.\u00A0 This is a great way to get an optimal ascent from the surface of a body to space, as the linear tangent steering law is actually derived directly from optimal control theory.\u00A0 As of now, only \u0022pitch\u0022 type angles can use this steering.\n\u003Cul\u003E\u003Cli\u003E\nThe linear tangent steering law is: tan(pitch_angle) = a*t \u002B b, where t is time after the steering law is initiated and a and b are constants.\n\u003C/li\u003E\n\u003Cli\u003E\nThere is a new lvd example MAT file that shows how to use it, and best of all, shows how it can be used to get off of the Mun in a single event!\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added a flight path angle graphical analysis task and constraint.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bug with Adjust Variable dialog getting a weird axes in the background sometimes.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Optimization variables are now sorted by event number before optimization so they appear in order in the optimization UI.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Having the Update View Limits option checked in the View Settings now retains the existing view direction, it just updates the axis limits.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added ability to display a semi-transparent atmosphere overlay in the View Settings.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added a new astro calculator to find radius/velocity/FPA from sma/ecc/true anomaly.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Mission Animator UT time entry field now has a context menu for entering time as date/time. It also attempts string evaluation.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added angle equations to steering and throttle UIs.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Users can now set the type of throttle model and steering model in the initial state, as well as their corresponding parameters.\n\u003C/li\u003E\n\u003Cli\u003E\nCelestial bodies can now display a surface texture instead of the color gradient used previously.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added flight path angle graphical analysis tasks and constraints.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Mission Animator time slider step size is now fixed to warp rate.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Steering model UIs now display proper angle names and not just \u0022alpha\u0022, \u0022beta\u0022, and \u0022gamma.\u0022\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: The main LVD window is now resizable.\u00A0 There is a minimum size limit equal to the current window size, but no limit on the maximum.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Resolved TwoBodyPropagator error.\n\u003C/li\u003E\n\u003Cli\u003E\nThe issue with radio button strings overrunning their bounds in the main KSPTOT UI on Linux has been resolved.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added a new toolbar button to toggle the camera toolbar on and off.\u00A0 The camera toolbar can be used to move the physical scene camera around, which often makes for a better viewing experience.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bugs regarding vessel orbit import from KSP and SFS files in initial state and set kinematic state UIs.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Fixed bug with propagating to node calculations.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Engines now model thrust and isp as a function of pressure through the use of curves and not the hard-coded vacuum and sea level pressure points.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Engine data can now be imported from KSP engine config files.\u00A0 Right click in the edit engine dialog box on the thrust and Isp buttons.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Upload impulsive delta-v maneuver from \u0022Add Impulsive Delta-V\u0022 event action is now available.\u00A0 Right click on an event in the sequential events list with an \u0022Add Impulsive Delta-V\u0022 action and click on the upload maneuver menu item.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Resolved issue with computing position wrt Sun of other spacecraft.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: True anomaly termination condition should now work properly.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Event actions with variables now correctly remove those variables when the action is deleted.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003ELVD: \u003C/span\u003EFixed bug where attitudes would not display in backwards prop segments.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added option to FMINCON otimizer to automatically find optimal step size.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Removing an event now removes the variables associated with that event\u0027s termination condition and actions.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Resolved issue with typo in 2BImpactPointLat name.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Resolved issue with empty globals in 2BodyImpactPt calls to findSoITransitions.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed issue with finding down \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E\u003C/abbr\u003E transitions not working if eccentricity \u0026gt;= 1.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Fixed bug with chunked state log generation skipping last state log entry if there\u0027s only one event in \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E\u003C/abbr\u003E.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nAs usual, the Windows and Linux download links are available in the first post of this thread.\u00A0 Please let me know if you find any bugs, and I\u0027ll work to get them resolved.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, if you enjoy using KSPTOT and its many applications (the Porkchop Plotter, Multi-Flyby Maneuver Sequencer, Mission Architect, Launch Vehicle Designer, and all the rest), please consider \u003Ca href=\u0022https://ko-fi.com/arrowstar\u0022 rel=\u0022external nofollow\u0022\u003Ebuying me a coffee\u003C/a\u003E via my Ko-Fi account to support KSPTOT\u0027s development. As I note in the first post of this thread, KSPTOT is a labor of love that I have put many, many hundreds of hours into for the benefit of the KSP community. The best part of it for me, aside from knowing that KSPTOT is the premier mission design tool for KSP, is all the thank you notes I\u0027ve received over the years. I offer this as another way to say \u0022Thank you!\u0022, if you so desire.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ko-fi.com/arrowstar\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022pFX1IYV.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002225.33\u0022 height=\u002257\u0022 width=\u0022225\u0022 src=\u0022https://i.imgur.com/pFX1IYV.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHappy orbiting!\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2021-01-08T19:09:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223905797\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221610132649\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi everyone!\n\u003C/p\u003E\n\u003Cp\u003E\nThis afternoon I\u0027m pleased to announce the release of the \u003Cstrong\u003EKSP Trajectory Optimization Tool v1.6.7\u003C/strong\u003E!\u00A0 This is a major release that generally adds significant new functionality to\u003Cstrong\u003E Launch Vehicle designer\u003C/strong\u003E.\u00A0 It also fixes some bugs in \u003Cstrong\u003EMission Architect\u003C/strong\u003E and other parts of the application.\n\u003C/p\u003E\n\u003Cp\u003E\nOne of the marquee improvements to \u003Cstrong\u003ELaunch Vehicle Designer \u003C/strong\u003Eis the ability to export LVD steering and throttle controls to a CSV file which can be read in from a custom kOS script.\u00A0 You can check out some of the discussion on this topic earlier in this thread, or check out the following demonstration video of a munar lander inserting into a circular orbit from the surface.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022374\u0022 src=\u0022https://player.vimeo.com/video/496754795?app_id=122963\u0022 title=\u0022KSPTOT LVD kOS Control Example 3 - Lunar Liftoff\u0022 width=\u0022640\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nHere\u0027s the full change log:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD: Implementation of alternators and electric engines.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fix for broken plot background color option.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: GA now respects event plotting setting when plotting data.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Implementation of alternators and electric engines.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fix for broken plot background color option.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: GA now respects event plotting setting when plotting data.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added option to set number of parallel workers for optimization.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Fixed bug with having more than one variable item in a variable (initial state).\n\u003C/li\u003E\n\u003Cli\u003E\nMA: LWA can now import target orbit data from KSP.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Added functionality to set launch site from ground target in Set State (estimate launch).\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bug with power sources (wrong matrix size stuff).\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Resolved issue that causes error if an event does not have any states associated with it.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added ability to set positive output step sizes for all active integrators on events.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Boosted performance when looking for downward \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E\u003C/abbr\u003E transitions.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Can now create event continuity constraints via a context menu accessed by right clicking on the sequential events listbox.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Drawing plots should be faster when plotting other celestial bodies.\u00A0 The slow multiprocessing stuff from a previous pre-release is gone here.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added a feature to output the wall clock run time for each event to the ksptot.log file upon propagation.\u00A0 See Settings menu.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bug with the time slider sucking up a bunch of CPU time after sliding it around a bunch.\n\u003C/li\u003E\n\u003Cli\u003E\nThe missing parentID lines of the SolarSystemBodies.ini file have been added.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added a linear tangent steering model to the available options in LVD.\u00A0 This is a great way to get an optimal ascent from the surface of a body to space, as the linear tangent steering law is actually derived directly from optimal control theory.\u00A0 As of now, only \u0022pitch\u0022 type angles can use this steering.\n\u003Cul\u003E\u003Cli\u003E\nThe linear tangent steering law is: tan(pitch_angle) = a*t \u002B b, where t is time after the steering law is initiated and a and b are constants.\n\u003C/li\u003E\n\u003Cli\u003E\nThere is a new lvd example MAT file that shows how to use it, and best of all, shows how it can be used to get off of the Mun in a single event!\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added a flight path angle graphical analysis task and constraint.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bug with Adjust Variable dialog getting a weird axes in the background sometimes.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Optimization variables are now sorted by event number before optimization so they appear in order in the optimization UI.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Having the Update View Limits option checked in the View Settings now retains the existing view direction, it just updates the axis limits.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added ability to display a semi-transparent atmosphere overlay in the View Settings.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added a new astro calculator to find radius/velocity/FPA from sma/ecc/true anomaly.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Mission Animator UT time entry field now has a context menu for entering time as date/time. It also attempts string evaluation.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added angle equations to steering and throttle UIs.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Users can now set the type of throttle model and steering model in the initial state, as well as their corresponding parameters.\n\u003C/li\u003E\n\u003Cli\u003E\nCelestial bodies can now display a surface texture instead of the color gradient used previously.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Added flight path angle graphical analysis tasks and constraints.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Mission Animator time slider step size is now fixed to warp rate.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Steering model UIs now display proper angle names and not just \u0022alpha\u0022, \u0022beta\u0022, and \u0022gamma.\u0022\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: The main LVD window is now resizable.\u00A0 There is a minimum size limit equal to the current window size, but no limit on the maximum.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Resolved TwoBodyPropagator error.\n\u003C/li\u003E\n\u003Cli\u003E\nThe issue with radio button strings overrunning their bounds in the main KSPTOT UI on Linux has been resolved.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added a new toolbar button to toggle the camera toolbar on and off.\u00A0 The camera toolbar can be used to move the physical scene camera around, which often makes for a better viewing experience.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bugs regarding vessel orbit import from KSP and SFS files in initial state and set kinematic state UIs.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Fixed bug with propagating to node calculations.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Engines now model thrust and isp as a function of pressure through the use of curves and not the hard-coded vacuum and sea level pressure points.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Engine data can now be imported from KSP engine config files.\u00A0 Right click in the edit engine dialog box on the thrust and Isp buttons.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Upload impulsive delta-v maneuver from \u0022Add Impulsive Delta-V\u0022 event action is now available.\u00A0 Right click on an event in the sequential events list with an \u0022Add Impulsive Delta-V\u0022 action and click on the upload maneuver menu item.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Resolved issue with computing position wrt Sun of other spacecraft.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: True anomaly termination condition should now work properly.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Event actions with variables now correctly remove those variables when the action is deleted.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003ELVD: \u003C/span\u003EFixed bug where attitudes would not display in backwards prop segments.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Added option to FMINCON otimizer to automatically find optimal step size.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Removing an event now removes the variables associated with that event\u0027s termination condition and actions.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Resolved issue with typo in 2BImpactPointLat name.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Resolved issue with empty globals in 2BodyImpactPt calls to findSoITransitions.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed issue with finding down \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E\u003C/abbr\u003E transitions not working if eccentricity \u0026gt;= 1.\n\u003C/li\u003E\n\u003Cli\u003E\nMA/LVD: Fixed bug with chunked state log generation skipping last state log entry if there\u0027s only one event in \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E\u003C/abbr\u003E.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nAs usual, the Windows and Linux download links are available in the first post of this thread.\u00A0 Please let me know if you find any bugs, and I\u0027ll work to get them resolved.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, if you enjoy using KSPTOT and its many applications (the Porkchop Plotter, Multi-Flyby Maneuver Sequencer, Mission Architect, Launch Vehicle Designer, and all the rest), please consider \u003Ca href=\u0022https://ko-fi.com/arrowstar\u0022 rel=\u0022external nofollow\u0022\u003Ebuying me a coffee\u003C/a\u003E via my Ko-Fi account to support KSPTOT\u0027s development. As I note in the first post of this thread, KSPTOT is a labor of love that I have put many, many hundreds of hours into for the benefit of the KSP community. The best part of it for me, aside from knowing that KSPTOT is the premier mission design tool for KSP, is all the thank you notes I\u0027ve received over the years. I offer this as another way to say \u0022Thank you!\u0022, if you so desire.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ko-fi.com/arrowstar\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022pFX1IYV.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002225.33\u0022 height=\u002257\u0022 width=\u0022225\u0022 src=\u0022https://i.imgur.com/pFX1IYV.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHappy orbiting!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGreat release! Congratulations \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E!\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2021-01-13T02:09:01Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E the latest Kerbal Weather Project update has been made to work with \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E so that the pressure and temperature changes are put into effect. Does my suggestion about manual input for weather data in LVD make sense? I feel this should be more upon the user to handle if they want to deal with it\n\u003C/p\u003E\n"},{"CreatedByName":"RaceToTheMun","CreatedById":182102,"CreatedDateTime":"2021-01-14T14:53:24Z","Content":"\n\u003Cp\u003E\nIs there any PDF advance tutorials in the Multi-Flyby Manuever Sequencer?\n\u003C/p\u003E\n"}]}