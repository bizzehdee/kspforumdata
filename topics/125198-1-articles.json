{"TopicId":125198,"ForumId":69,"TopicTitle":"Fairing CoL Offset (also staged)","CreatedByName":"KroShan","CreatedById":90357,"CreatedDateTime":"2015-11-12T13:53:53Z","PageNum":1,"Articles":[{"CreatedByName":"KroShan","CreatedById":90357,"CreatedDateTime":"2015-11-12T13:53:53Z","Content":"\n\u003Cp\u003EAt the end of my new Caveman-Career i unlocked fairings. With fairing the launch felt quite different compared to 1.0.5 without and 1.0.4 with fairings. It seems that the payload causes less flips than the fairing even when they are in similar sice and shape. Thats how i found the offset of the bodylift vector. Its allways in front of the fairing no matter how long you build it in the VAB. I am even more concerned as the vector is still drawn when the fairing is staged. But i am not sure if this force is applied also. It is also interesting that the direction of the shown vector is inverted to what one would expect.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EKSP Version:\u003C/strong\u003E v1.0.5.1028 Windows7 32-bit, updated from v1.0.5.1024 (clean install)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EWhat Happens:\u003C/strong\u003E Center of Lift (bodylift) is applied in front of the fairing. Bodylift is even applied when the shroud is already staged.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMods / Add-Ons:\u003C/strong\u003E All Stock\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESteps to Replicate:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E1) build craft with fairing. launch with aero overlay (F12)\u003C/p\u003E\u003Cp\u003E2) deviate craft from prograde.\u003C/p\u003E\u003Cp\u003E3) stage the fairing.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EResult:\u003C/strong\u003E Rocket is too fliphappy since the tourque is much higher than it should be. Especially when the fairing is staged there shouldn\u0027t be any effect caused by the fairing.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EFurther investigation:\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EIf you ad \u003C/p\u003E\u003Cp\u003E4) toggle Aero Overlay off and on\u003C/p\u003E\u003Cp\u003Eyou can find that the vector of the fairing bodylift is no longer displayed. So maybe the force isn\u0027t applied.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFixes/Workarounds:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E- don\u0027t use Fairings!?!\u003C/p\u003E\u003Cp\u003E- have wings on the backend of the rocket till the craft is above 30 km\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EOther Notes/Pictures:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E- i tried out for 1.25m and 2.5m fairing - same result \u003C/p\u003E\u003Cp\u003E- 2 additional screenshots here \u003Ca href=\u0022http://imgur.com/a/nKlNj\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/nKlNj\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Uz1Skol.png\u0022 alt=\u0022Uz1Skol.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-13T15:49:40Z\u0022 title=\u002211/13/2015 03:49  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 13, 2015\u003C/time\u003E by KroShan\u003C/strong\u003E\n\u003Cbr\u003EIntroduction, English is tough, what happens, further investigation\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-11-12T21:07:22Z","Content":"\n\u003Cp\u003EGood find, checked and can confirm. Would rate this a bug, will be reported for action.\u003C/p\u003E\n"},{"CreatedByName":"KroShan","CreatedById":90357,"CreatedDateTime":"2015-11-13T15:53:28Z","Content":"\n\u003Cp\u003EThx. \u003C/p\u003E\u003Cp\u003EI pm\u0027d sal-vager for the \u0022Kerbal Space Program 1.0.5 New Issues Repository.\u0022 Are you reporting it on the bugtracker?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-11-13T16:07:56Z","Content":"\n\u003Cp\u003EYeah, well spotted, though hopefully the effect is small as the lift, drag and CoM of the fairing resets to the fairing base when staged, so while the bodymass (that\u0027s the cyan line) looks to be offset incorrectly the force should be small, and dropping as air density decreases.\u003C/p\u003E\n"},{"CreatedByName":"EdFred","CreatedById":108599,"CreatedDateTime":"2015-11-13T18:35:46Z","Content":"\n\u003Cp\u003ESo I had a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/139169-Did-1-0-5-make-enclosure-fairings-useless\u0022 rel=\u0022external nofollow\u0022\u003Esimilar thread\u003C/a\u003E stared in the KSP General discussion which was closed a redirected here. Is this really not going to be fixed until 1.1? This makes the game rather, um useless for rockets at this point. I have KSP on steam - which autoupdated to 1.05 for me. Is there a way to get a prior version back, because this is pretty much a broken version at this point.\u003C/p\u003E\n"},{"CreatedByName":"KroShan","CreatedById":90357,"CreatedDateTime":"2015-11-13T19:35:17Z","Content":"\n\u003Cp\u003EOff Topic:\u003C/p\u003E\u003Cp\u003Ediomedia wrote in your thread that it may be fixed earlier. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EdFred\u0022 data-cite=\u0022EdFred\u0022\u003E\u003Cdiv\u003E I have KSP on steam - which autoupdated to 1.05 for me. Is there a way to get a prior version back, because this is pretty much a broken version at this point.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am also looking forward to 1.1, but i think this Version is quite good, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/138938-Roll-back-to-previous-version-in-Steam\u0022 rel=\u0022external nofollow\u0022\u003Enonetheless this may help you\u003C/a\u003E.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-13T19:40:28Z\u0022 title=\u002211/13/2015 07:40  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 13, 2015\u003C/time\u003E by KroShan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"EdFred","CreatedById":108599,"CreatedDateTime":"2015-11-13T19:43:30Z","Content":"\n\u003Cp\u003EThanks. I did the rollback.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-11-13T20:43:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KroShan\u0022 data-cite=\u0022KroShan\u0022\u003E\u003Cdiv\u003EThx. \u003Cp\u003EI pm\u0027d sal-vager for the \u0022Kerbal Space Program 1.0.5 New Issues Repository.\u0022 Are you reporting it on the bugtracker?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, reported on the tracker less than 30 mins after my previous post.\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-11-15T07:27:06Z","Content":"\n\u003Cp\u003EAfter further investigation, there are three bugs going on here.\u003C/p\u003E\u003Cp\u003E1) The location of the body lift line before decoupling the fairing is incorrect. It\u0027s applying lift force too far ahead of the fairing (i.e. the overlay is correct).\u003C/p\u003E\u003Cp\u003E- My StockBugFixes now contain the fix for this in ModuleProceduralFairingFix. (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/97285\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/97285\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003E2) The location of the cyan overlay line after decoupling the fairing is not correct. That is, it\u0027s showing the lift too far ahead, but that\u0027s an overlay problem. That\u0027s not a force position problem.\u003C/p\u003E\u003Cp\u003E- Fix for this is to simply cycle the overlay after decoupling (I did not include this fix because it seemed wasteful to spend CPU cycles checking for and fixing the overlay).\u003C/p\u003E\u003Cp\u003E3) The direction of the body lift after decoupling is incorrect. The overlay is showing the direction that lift is being applied, which is in an incorrect direction (i.e. the overlay direction is correct).\u003C/p\u003E\u003Cp\u003E- This is not limited to the procedural fairings, but is actually a systemic problem in the body lift algorithms. You can replace the fairing with any part that\u0027s wider than it is tall (such as a SAS module, or FL-T100), and the incorrect direction of body lift results.\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003E~Claw\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-15T07:58:49Z\u0022 title=\u002211/15/2015 07:58  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 15, 2015\u003C/time\u003E by Claw\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-11-15T08:41:59Z","Content":"\n\u003Cp\u003EAdded to the known issues list, this will require work at the developer level but we\u0027ll have to use Claws fix for the time being.\u003C/p\u003E\n"},{"CreatedByName":"KroShan","CreatedById":90357,"CreatedDateTime":"2015-11-15T13:09:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Claw\u0022 data-cite=\u0022Claw\u0022\u003E\u003Cdiv\u003EAfter further investigation, there are three bugs going on here.\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003E~Claw\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ei am a bit proud of my finding and right guessing regarding the forces of the staged fairing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for the Stock Bug Fix Modules.\u003C/p\u003E\n"},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-11-18T13:18:35Z","Content":"\nOut of interest, are these bugs that apply to stock aerodynamics exclusively? I.e. if I installed FAR, would they go away?\u003Cbr\u003E\n\u003Cbr\u003E\nOr are the bugs part of modules that FAR doesn\u0026#39;t replace, and appear just the same in such a modded install?\n"},{"CreatedByName":"KroShan","CreatedById":90357,"CreatedDateTime":"2015-12-02T08:45:11Z","Content":"\n\u003Cp\u003E\nOff Topic\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222285133\u0022 data-ipsquote-contentid=\u0022125198\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221447852715\u0022 data-ipsquote-userid=\u002298962\u0022 data-ipsquote-username=\u0022Streetwind\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 18.11.2015, 14:18:35, Streetwind said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOut of interest, are these bugs that apply to stock aerodynamics exclusively? I.e. if I installed FAR, would they go away?\u003Cbr\u003E\u003Cbr\u003E\nOr are the bugs part of modules that FAR doesn\u0027t replace, and appear just the same in such a modded install?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI haven\u0027t installed FAR on 1.0.5 - but i assume that this bug doesn\u0027t occur in FAR. The drag model in FAR is based on a voxel rebuilt craft and not on the drag cubes of the parts like in stock.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}