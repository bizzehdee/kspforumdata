{"TopicId":115355,"ForumId":70,"TopicTitle":"KSP Crashes after load but before start game menu appears","CreatedByName":"l3tsputasmileonthatfacexd","CreatedById":147673,"CreatedDateTime":"2015-07-08T00:26:19Z","PageNum":1,"Articles":[{"CreatedByName":"l3tsputasmileonthatfacexd","CreatedById":147673,"CreatedDateTime":"2015-07-08T00:26:19Z","Content":"**KSP:** 1.0.4\n\n**Problem:** KSP will start, it will begin to load and finishes loading, it will then hesitate and then crash. (Sidenote: before this issue occurred, KSP would still hesitate for about 10 seconds before getting to the start game menu. So I don\u0027t believe the hesitation is related.)![;.;](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif)\n\n**Mods Installed:**\n\n\u003E ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif)\n\u003E Alcubierre Warp Drive (Stand-alone) (AlcubierreStandalone 0.2.1)\n\u003E \n\u003E AmpYear Power Manager \u002B Reserve Power \u002B Ion RCS (AmpYearPowerManager 1:V1.0.0.0)\n\u003E \n\u003E Asteroid Day (AsteroidDay 1.0)\n\u003E \n\u003E Astronomer\u0027s Pack - Clouds - High (AstronomersPack-Clouds-High Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack - Distant Object Enhancement config (AstronomersPack-DistantObjectEnhancement Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack - PlanetShine configuration (AstronomersPack-PlanetShine Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack: Atmospheric Scattering (AstronomersPack-AtmosphericScattering Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack: Auroras - 4K (recommended) (AstronomersPack-Auroras-4K Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack: Clouds for Eve \u0026 Jool - 2K (AstronomersPack-Eve-Jool-Clouds-2K Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack: Lightning (AstronomersPack-Lightning Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack: Sandstorms and Surface Dust (AstronomersPack-Sandstorms Interstellar.V2)\n\u003E \n\u003E Astronomer\u0027s Pack: Snow (AstronomersPack-Snow Interstellar.V2)\n\u003E \n\u003E Atomic Age (AtomicAge 3.0)\n\u003E \n\u003E AutoAsparagus (AutoAsparagus v1.0)\n\u003E \n\u003E Behemoth Aerospace Engineering Large Parts (BehemothAerospaceEngineeringLargeParts 1.3.0)\n\u003E \n\u003E Better Buoyancy (BetterBuoyancy v1.3)\n\u003E \n\u003E Collision FX (CollisionFX 3.2)\n\u003E \n\u003E Community Tech Tree (CommunityTechTree 2.1)\n\u003E \n\u003E Connected Living Space (ConnectedLivingSpace 1.1.3.1)\n\u003E \n\u003E Crew Manifest (CrewManifest 0.6.0)\n\u003E \n\u003E Davon Supply Mod (DavonSupplyMod 014)\n\u003E \n\u003E DeepFreeze Continued... (DeepFreeze V0.17.0.0)\n\u003E \n\u003E Distant Object Enhancement (DistantObject v1.5.6)\n\u003E \n\u003E Dr. Jet\u0027s Chop Shop (ChopShop 0.7.2)\n\u003E \n\u003E Environmental Visual Enhancements (EnvironmentalVisualEnhancements 7-4)\n\u003E \n\u003E Firespitter Core (FirespitterCore v7.1.4)\n\u003E \n\u003E HyperEdit (HyperEdit 1.4.1)\n\u003E \n\u003E Kerbal Attachment System (KAS 0.5.2)\n\u003E \n\u003E Kerbal Inventory System (KIS 1.1.5)\n\u003E \n\u003E Kerbal Joint Reinforcement (KerbalJointReinforcement v3.1.4)\n\u003E \n\u003E KSP AVC (KSP-AVC 1.1.5.0)\n\u003E \n\u003E MechJeb 2 (MechJeb2 2.5.3)\n\u003E \n\u003E Module Manager (ModuleManager 2.6.6)\n\u003E \n\u003E PlanetShine (PlanetShine 0.2.3.1)\n\u003E \n\u003E Ship Manifest (ShipManifest 4.4.1.0)\n\u003E \n\u003E SmartStage (SmartStage v2.6.2)\n\u003E \n\u003E TweakScale - Rescale Everything! (TweakScale v2.2.1)\n\u003E \n\u003E \n\n**Reproduction:**\n\nJust starting the game, causes it to crash after load finishes. \n\n[https://youtu.be/WjDRXKPQAug](https://youtu.be/WjDRXKPQAug)\n\n**Logs:**\n\n[http://bit.ly/1eE7sw1](http://bit.ly/1eE7sw1)\n\n[http://bit.ly/1dKIU3J](http://bit.ly/1dKIU3J)"},{"CreatedByName":"Tynrael","CreatedById":144990,"CreatedDateTime":"2015-07-08T12:15:03Z","Content":"In the Main Menu, Kerbin is in the background off in the distance, using EVE adds clouds to it. It appears you are crashing when it is loading these clouds while it transitions to the Main Menu. [This reply from sumghai](https://forum.kerbalspaceprogram.com/threads/128054-Crash-at-BoulderCo-Clouds-detaileve1?p=2065560\u0026viewfull=1#post2065560) to a recent and similar crash may help explain what is happening and what you might try to fix it."},{"CreatedByName":"WeirdCulture","CreatedById":76591,"CreatedDateTime":"2015-07-08T13:47:59Z","Content":"from your logfiles: \n\n    DynamicHeapAllocator out of memory - Could not get memory for large allocationCould not allocate memory: System out of memory!Trying to allocate: 357913940B with 4 alignment. MemoryLabel: NewDeleteAllocation happend at: Line:0 in Overloaded New[]Memory overview[ ALLOC_DEFAULT ] used: 711921091B | peak: 0B | reserved: 737696845B [ ALLOC_GFX ] used: 788773419B | peak: 0B | reserved: 824246610B [ ALLOC_CACHEOBJECTS ] used: 177268B | peak: 0B | reserved: 12582912B [ ALLOC_TYPETREE ] used: 0B | peak: 0B | reserved: 0B [ ALLOC_PROFILER ] used: 340164B | peak: 0B | reserved: 8388608B Could not allocate memory: System out of memory!Trying to allocate: 357913940B with 4 alignment. MemoryLabel: NewDeleteAllocation happend at: Line:0 in Overloaded New[]Memory overview[ ALLOC_DEFAULT ] used: 711921091B | peak: 0B | reserved: 737696845B [ ALLOC_GFX ] used: 788773419B | peak: 0B | reserved: 824246610B [ ALLOC_CACHEOBJECTS ] used: 177268B | peak: 0B | reserved: 12582912B [ ALLOC_TYPETREE ] used: 0B | peak: 0B | reserved: 0B [ ALLOC_PROFILER ] used: 340164B | peak: 0B | reserved: 8388608B (Filename:  Line: 920)Crash!!!\n\nyou simply run out of memory, hit the 32 Bit Memory wall. Three things you can do: \n\n1.) use ATM: [http://forum.kerbalspaceprogram.com/threads/59005](https://forum.kerbalspaceprogram.com/threads/59005)\n\n2.) if ATM could not help: use --force-opengl (as mentioned above), but get a ugly FPS reduction since 1.0.4\n\n3.) use linux, use as many mods you want or your system memory \u002B swap allows, but have also ugly FPS because linux runs OpenGL too.."},{"CreatedByName":"l3tsputasmileonthatfacexd","CreatedById":147673,"CreatedDateTime":"2015-07-08T13:58:37Z","Content":"\u003E \n\u003E In the Main Menu, Kerbin is in the background off in the distance, using EVE adds clouds to it. It appears you are crashing when it is loading these clouds while it transitions to the Main Menu. [This reply from sumghai](https://forum.kerbalspaceprogram.com/threads/128054-Crash-at-BoulderCo-Clouds-detaileve1?p=2065560\u0026viewfull=1#post2065560) to a recent and similar crash may help explain what is happening and what you might try to fix it.\n\nThanks so much for the reply I will definitely check that out to see of using GL and texture management will make my install more stable. I just finished doing a fresh install and adding all the mods back one by one to try and find the culprit myself and surprisingly I have had no issues so far. Exact same mods just fresh install and it actually seems to be running more stable than the aforementioned install lol. So not quite sure what the issue was, even the hesitation is gone. Still going to check out GL and texture management options, also doing some game resolution testing to see if that\u0027s part of the issue. Native resolution is 2880x1620 starting at 1024x768 and working up, will keep this thread posted on progress. Thanks again for the reply.\n\n- - - Updated - - -\n\n\u003E \n\u003E from your logfiles: \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     DynamicHeapAllocator out of memory - Could not get memory for large allocationCould not allocate memory: System out of memory!Trying to allocate: 357913940B with 4 alignment. MemoryLabel: NewDeleteAllocation happend at: Line:0 in Overloaded New[]Memory overview[ ALLOC_DEFAULT ] used: 711921091B | peak: 0B | reserved: 737696845B [ ALLOC_GFX ] used: 788773419B | peak: 0B | reserved: 824246610B [ ALLOC_CACHEOBJECTS ] used: 177268B | peak: 0B | reserved: 12582912B [ ALLOC_TYPETREE ] used: 0B | peak: 0B | reserved: 0B [ ALLOC_PROFILER ] used: 340164B | peak: 0B | reserved: 8388608B Could not allocate memory: System out of memory!Trying to allocate: 357913940B with 4 alignment. MemoryLabel: NewDeleteAllocation happend at: Line:0 in Overloaded New[]Memory overview[ ALLOC_DEFAULT ] used: 711921091B | peak: 0B | reserved: 737696845B [ ALLOC_GFX ] used: 788773419B | peak: 0B | reserved: 824246610B [ ALLOC_CACHEOBJECTS ] used: 177268B | peak: 0B | reserved: 12582912B [ ALLOC_TYPETREE ] used: 0B | peak: 0B | reserved: 0B [ ALLOC_PROFILER ] used: 340164B | peak: 0B | reserved: 8388608B (Filename:  Line: 920)Crash!!!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E you simply run out of memory, hit the 32 Bit Memory wall. Three things you can do: \n\u003E \n\u003E 1.) use ATM: [http://forum.kerbalspaceprogram.com/threads/59005](https://forum.kerbalspaceprogram.com/threads/59005)\n\u003E \n\u003E 2.) if ATM could not help: use --force-opengl (as mentioned above), but get a ugly FPS reduction since 1.0.4\n\u003E \n\u003E 3.) use linux, use as many mods you want or your system memory \u002B swap allows, but have also ugly FPS because linux runs OpenGL too..\n\nThanks for the input, I can\u0027t believe I missed that when I checked the log, definitely makes sense. For the ATM, would you recommend the aggressive or basic version? Also do you know how much of an impact the compression might have on the visual quality of the textures I know it says it cuts the texture res in half or 1/8 I think. Not sure if that would end up being any improvement on the stock texture at that point. Probably a dumb question I suspect my game resolution would also affect the memory issue, would playing at a lower red help too? Thanks again for all the help and info, still kicking myself for missing that in the log."},{"CreatedByName":"WeirdCulture","CreatedById":76591,"CreatedDateTime":"2015-07-08T14:42:47Z","Content":"yes resolution affects the memory usage. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif) ATM do not work as reducing the texture resoltion, it converts the ultra high ingame files to a reasonable sizes. I could not see any differences in texture quality between Agressive and non ATM installs"},{"CreatedByName":"l3tsputasmileonthatfacexd","CreatedById":147673,"CreatedDateTime":"2015-07-09T05:51:25Z","Content":"\u003E \n\u003E yes resolution affects the memory usage. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif) ATM do not work as reducing the texture resoltion, it converts the ultra high ingame files to a reasonable sizes. I could not see any differences in texture quality between Agressive and non ATM installs\n\nJust tried openGL mode still on 1024x768 just for a base line and dropped memory from 2.7gb to 1.9gb so far on this res not really noticing any framerate issues. Next I\u0027ll try ATM with DX\n\nTried openGL and ATM and memory issue solved, went all the way down to 1.3GB and that\u0027s at 2880x1620 with all graphics up. Thanks again for everyone\u0027s input issue has been solved.\n\n**Edited \u003Ctime datetime=\u00222015-07-09T09:39:18Z\u0022 title=\u002207/09/2015 09:39  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 9, 2015\u003C/time\u003E by l3tsputasmileonthatfacexd**"},{"CreatedByName":"WeirdCulture","CreatedById":76591,"CreatedDateTime":"2015-07-09T08:35:44Z","Content":"For FPS issues .Wait until your 100 part ship encounter atmospheric effects...."},{"CreatedByName":"l3tsputasmileonthatfacexd","CreatedById":147673,"CreatedDateTime":"2015-07-09T09:47:20Z","Content":"\u003E \n\u003E For FPS issues .Wait until your 100 part ship encounter atmospheric effects....\n\nHey let\u0027s not be negative lol, haven\u0027t tried that yet will post the outcome. That actually reminds me of a different question I was wondering about, I\u0027ve seen ships in the exchange here with 500\u002B parts and in their demos just displaying the ship it\u0027s smooth. Haven\u0027t tried anything more than 30 yet with new openGL and ATM setup but previously I want to say anything 200 or more just in hanger was too choppy/laggy. Would that have been related to the memory issue, or do high part ships always cause fps tanks? Just trying to figure out how they demo it and even build it if their fps is about 3 or so like mine is. I mean my system isn\u0027t the best but not bad, i5 2500k stock clock, gtx 970 super clocked, 128gb ssd, 20gb 1600mhz ram\n\nEdit:\n\nAfter many failed rendezvous with my orbiting station-in progress lol I have seen the fps tank during both re-entry and leaving the atmo. Depending on the ship part count 200 and under I get about 25 fps which from what I understand isn\u0027t bad for using both ATM and OpenGL together with about 40 mods installed. Anything over that and it drops substantially last test with 300 parts I had to zoom all the way out when leaving otherwise I was getting about 5 fps lol ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\n**Edited \u003Ctime datetime=\u00222015-07-10T22:39:17Z\u0022 title=\u002207/10/2015 10:39  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 10, 2015\u003C/time\u003E by l3tsputasmileonthatfacexd**"}]}