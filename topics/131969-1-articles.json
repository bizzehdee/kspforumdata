{"TopicId":131969,"ForumId":29,"TopicTitle":"Couple of c# / API questions.","CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-12T20:14:40Z","PageNum":1,"Articles":[{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-12T20:14:40Z","Content":"\n\u003Cp\u003E\nHi all,\n\u003C/p\u003E\n\u003Cp\u003E\nBeen poking around here for a while, and have started on a mod (which for the moment is a secret....sssshhhh :-P)\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m making really good progress so far but I\u0027m very very new to c#, I have some knowledge of vb.net, so the translation isn\u0027t too hard so far.\n\u003C/p\u003E\n\u003Cp\u003E\nChances are I\u0027ll have a few more questions on how to do a couple of things I need to do, but for now I\u0027ll start with.......\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I have at the moment is a bunch of objects spread around Kerbin and what I would like to do is get the\u00A0straight line distance value between a Kerbal and the closest of these objects (all of the objects will be identical, so I\u0027ll also need a way to identify them, but I assume there will be a method to add a \u0027tag\u0027 or something to said objects, so not worried about that for the moment :)). \u00A0The idea being that when said Kerbal is within a certain distance of this object a GUI window pops open.\n\u003C/p\u003E\n\u003Cp\u003E\nWould anyone be able to point me in the right direction as to what to use to get this number?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-14T18:19:20Z\u0022 title=\u002202/14/2016 06:19  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 14, 2016\u003C/time\u003E by TheMightySpud\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-02-13T10:06:50Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Edouble distance = Vector3d.Distance(FlightGlobals.ActiveVessel.GetWorldPos3D(), YOURTHINGY.GetWorldPos3D());\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe answer to a lot of low level questions like this is frequently easier to find if you just google for Unity info instead of KSP specifically. \u00A0Like \u0022Unity Distance Between Two Points\u0022. \u00A0Good luck and shout at us if you have more questions!\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-13T12:03:22Z","Content":"\n\u003Cp\u003E\nExcellent, thank you \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nReally appreciate you taking the time to reply \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNext problem I\u0027m having is how to assign my object to \u0027YOURTHINGY\u0027 in the \u0027YOURTHINGY.GetWorldPos3D()\u0027 part. \u00A0:-/ \u00A0Seems like it should be a very simple thing, but having a devil of a time figuring it out.\n\u003C/p\u003E\n\u003Cp\u003E\nReading lots, but not really making a lot of sense to me. lol.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-13T19:44:41Z","Content":"\n\u003Cp\u003E\nHi again all,\n\u003C/p\u003E\n\u003Cp\u003E\nI have another annoying question. :-P\n\u003C/p\u003E\n\u003Cp\u003E\nAs part of my mod I\u0027d like to spawn a bunch of Parts as vessels over the surface of a planet/moon at the games startup, I think I\u0027ve got the positioning etc. all sorted in my head at least, the problem I\u0027m having it getting things to actually spawn. :-/ \u00A0I\u0027ve been playing around with the ProtoVessel bits and pieces but I\u0027ll be honest, the usage and syntax is kicking my backside.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve had a poke around at the source of a few mods that kinda do something similar, but again I\u0027m having a real hard time making heads or tails of how it all works.\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone point me in the right direction? (Just want to be clear and say I\u0027m not looking for someone to spoonfeed the code to me, just a general idea of where to look for answers :))\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks,\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-13T21:50:53Z","Content":"\n\u003Cp\u003E\nSooooo,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve got some code that should (and I stress should) spawn an object at run time.......logically in my head it should work, but I\u0027m probably doing something really stupid.\n\u003C/p\u003E\n\u003Cp\u003E\nAt the moment, if I\u0027m reading the log correctly, I don\u0027t think this code is even running, I\u0027ve been staring at it and trying various things for several hours so I would be most appreciative if someone could take a look and point out where I\u0027ve been an idiot \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Epublic class TMS_Module_Test_001\n\u00A0 \u00A0 {\n\u00A0 \u00A0 \u00A0 \u00A0 public void Onstart()\n\u00A0 \u00A0 \u00A0 \u00A0 {\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 // Create a new blank vessel\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Vessel newVessel = new Vessel();\n\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 // Add a part to the vessel\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Debug.Log(\u0022getPartInfoByName\u0022);\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 AvailablePart avPart = PartLoader.getPartInfoByName(\u0022TMS_Module_001\u0022);\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Debug.Log(\u0022Instantiate\u0022);\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 UnityEngine.Object obj = UnityEngine.Object.Instantiate(avPart.partPrefab);\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Debug.Log(\u0022newPart\u0022);\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Part newPart = (Part)obj;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Debug.Log(\u0022rootPart ; parts.Add()\u0022);\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newPart.gameObject.name = \u0022TMS_Module_001\u0022;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newPart.partInfo = avPart;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.rootPart = newPart;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.parts = new List\u003C/span\u003E\u003Cspan\u003E\u0026lt;Part\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.parts.Add(newPart);\n\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 // Set vessel parameters\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Debug.Log(\u0022Set vessel params\u0022);\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.name = \u0022Test_Module_001\u0022;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.Landed = true;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\u00A0 \u00A0newVessel.Splashed = false;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0\u00A0 \u00A0newVessel.landedAt = string.Empty;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.situation = Vessel.Situations.LANDED;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.vesselType = VesselType.Debris;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.transform.position = new Vector3(5f,0f,5f);\n\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.GoOffRails();\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 newVessel.Load();\n\u00A0 \u00A0 \u00A0 \u00A0 }\n\u00A0 \u00A0 }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs I said I\u0027m very new to C# so not really sure what I\u0027m doing wrong, but logically I\u0027m creating a new vessel, adding a part, defining all the attributes of the new vessel and then spawning it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-02-14T04:18:55Z","Content":"\n\u003Cp\u003E\nNew to modding myself so grain of salt and all. If this is a partless plugin - that is it\u0027s not attached to a part - I think you\u0027ll need to derive your class from MonoBehaviour (you\u0027ll want to double check that) to get it to run in game. As for creating vessels I would dig into the Extra Planetary Launchpads code -unfortunately there\u0027s a lot of it.\n\u003C/p\u003E\n\u003Cp\u003E\nGood luck!\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-02-14T08:12:17Z","Content":"\n\u003Cp\u003E\nFlightGlobals.Vessels is a list of all vessels in the game. \u00A0You could iterate or search\u00A0through it and look for the object with the right name, launch number, location... \u00A0whatever you can locate it by.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/120438-wasml/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022120438\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/120438-wasml/\u0022\u003E@wasml\u003C/a\u003E\u00A0is right - you\u0027ve got to inherit from MonoBehavior for a partless plugin to get it\u0027s code to actually get called. \u00A0\u003Ca href=\u0022https://github.com/taraniselsu/TacExamples/blob/master/01-SimplePartlessPlugin/Source/SimplePartlessPlugin.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacExamples/blob/master/01-SimplePartlessPlugin/Source/SimplePartlessPlugin.cs\u003C/a\u003E\u00A0will show you a simple\u00A0example of how it\u0027s done.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI haven\u0027t dealt with spawning before, so I can\u0027t really comment on that part of what you\u0027re doing!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-14T08:12:41Z\u0022 title=\u002202/14/2016 08:12  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 14, 2016\u003C/time\u003E by artwhaley\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-14T08:57:28Z","Content":"\n\u003Cp\u003E\nThanks for the responses guys, really appreciate it. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve updated my code a little, and finally figured out I was using the wrong debug window *dumbass* lol. \u00A0I was using the one in the Alt\u002BF12 menu, but discovered the Alt\u002Bf2 window this morning, which is far more helpful.\n\u003C/p\u003E\n\u003Cp\u003E\nSo the code is here, the problems are listed below (there is only one that I can see, well two, but we\u0027ll come to the second one in due time :))\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eusing UnityEngine;\nusing KSP.IO;\nusing System.Collections.Generic;\n\nnamespace TMS_Module_001\n{\n    [KSPAddon(KSPAddon.Startup.SpaceCentre, true)]\n\n    public class TMS_Module_001 : MonoBehaviour\n    {\n        public void Awake()\n        {\n            // Create a new blank vessel\n            Vessel newVessel = new Vessel();\n\n            // Add a part to the vessel\n            \n            Debug.Log(\u0022getPartInfoByName\u0022);\n            AvailablePart avParts = PartLoader.getPartInfoByName(\u0022GearFixed\u0022);\n\n            Debug.Log(\u0022Instantiate\u0022);\n            //UnityEngine.Object obj = UnityEngine.Object.Instantiate(avParts.partPrefab);\n            if (avParts != null)\n            {\n                UnityEngine.Object obj = Instantiate(avParts.partPrefab, new Vector3(0f, 0f, 0f), Quaternion.identity);\n                Debug.Log(\u0022newPart\u0022);\n                Part newPart = (Part)obj;\n                Debug.Log(\u0022rootPart ; parts.Add()\u0022);\n                newPart.gameObject.name = \u0022TMS_Module_001\u0022;\n                newPart.partInfo = avParts;\n                newVessel.rootPart = newPart;\n                newVessel.parts = new List\u003C/span\u003E\u003Cspan\u003E\u0026lt;Part\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n                newVessel.parts.Add(newPart);\n\n                // Set vessel parameters\n                Debug.Log(\u0022Set vessel params\u0022);\n                Debug.Log(\u0022-----------------\u0022);\n\n\n                Debug.Log(\u0022Set vessel name\u0022);\n                if (newVessel != null)\n                {\n                    newVessel.name = \u0022TMS_Module_001\u0022;\n                }\n                else\n                {\n                    Debug.Log(\u0022Vessel is Empty\u0022);\n                }\n\n\n\n                Debug.Log(\u0022Set Landed status\u0022);\n                if (newVessel != null)\n                {\n                newVessel.Landed = true;\n                }\n                else\n                {\n                    Debug.Log(\u0022Vessel is Empty\u0022);\n                }\n\n\n\n                Debug.Log(\u0022Set Splashed status\u0022);\n                if (newVessel != null)\n                {\n                newVessel.Splashed = false;\n                }\n                else\n                {\n                    Debug.Log(\u0022Vessel is Empty\u0022);\n                }\n\n\n\n                Debug.Log(\u0022Set LandedAt status\u0022);\n                 if (newVessel != null)\n                {\n                newVessel.landedAt = string.Empty;\n                }\n                else\n                {\n                    Debug.Log(\u0022Vessel is Empty\u0022);\n                }\n\n\n\n                Debug.Log(\u0022Set Landed status\u0022);\n                if (newVessel != null)\n                {\n                newVessel.situation = Vessel.Situations.LANDED;\n                }\n                else\n                {\n                    Debug.Log(\u0022Vessel is Empty\u0022);\n                }\n\n\n                Debug.Log(\u0022Set vessel type\u0022);\n                if (newVessel != null)\n                {\n                newVessel.vesselType = VesselType.Debris;\n                }\n                else\n                {\n                    Debug.Log(\u0022Vessel is Empty\u0022);\n                }\n\n\n                Debug.Log(\u0022Set vessel Position\u0022);\n                if (newVessel != null)\n                {\n                newVessel.transform.position = new Vector3(5f, 0f, 5f);\n                }\n                else\n                {\n                    Debug.Log(\u0022Vessel is Empty\u0022);\n                }\n\n                newVessel.GoOffRails();\n                newVessel.Load();\n            }\n            else\n            {\n                print(\u0022Part Not Found\u0022);\n            }\n\n            \n\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAfter a little more poking around I decided to go with the KSPAddon bit, and the code executes exactly when I want it to, which is great. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 (yes I realise that my module will spawn every time I go to the space center at the moment, but I\u0027ll be adding a check to see if the object already exists when I finally get it to spawn. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo onto the main problem. \u00A0According to the Log, the \u0027newVessel\u0027 Vessel, never gets populated. \u00A0As you can see I\u0027ve added a bunch of debug commands to see what\u0027s going on and each line prints out the debug info (Vessel is Empty) So right off the bat there\u0027s nothing there which is stopping pretty much everything else, and I can\u0027t seem to figure out the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nAny insight would be greatly appreciated.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-14T09:02:43Z","Content":"\n\u003Cp\u003E\nApologies, forgot to address \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/120438-wasml/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022120438\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/120438-wasml/\u0022\u003E@wasml\u003C/a\u003E\u0027s comments.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve looked at a bunch of \u0027spawning\u0027 mods, but to be completely honest, I can\u0027t make head nor tail of any of them. \u00A0I\u0027m still very new to the whole class thing and find it really confusing as to what\u0027s referencing what etc. (especially in other people\u0027s code). \u00A0I\u0027m primarily a Modeller but do have a little background in coding (PHP/HTML, a little vb.net, a little python etc) but nothing as complicated as some of the things I\u0027ve seen on here. lol.\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-14T14:59:16Z","Content":"\n\u003Cp\u003E\nRight then, completely changed my approach.\n\u003C/p\u003E\n\u003Cp\u003E\nI found a plugin that was a lot easier to \u0027read\u0027 than the others I\u0027ve seen. \u00A0Typically I now can\u0027t find the thread (The mod is called KSPSmelter)\u00A0to give proper credit, as soon as I do though I will.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Smelter mod makes use of code modified from Planetary Launch systems (I believe) and the Kerbal Attachment system.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m making progress on whittling down what I need and modifying it to be a partless mod.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I\u0027ve hit something of a roadblock with an exception error. (I think I\u0027ve commented something important out. lol.)\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the vehicle \u0027Spawner code\u0027\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing UnityEngine;\n\nnamespace TMS_Module_001\n{\n\n    /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n    /// This class is pretty much built on what KAS uses to pull parts out of containers\n    /// All credit to https://github.com/KospY/KAS\n    /// https://github.com/KospY/KAS/blob/master/LICENSE.md\n    /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n    public class VesselSpawner\n    {\n        const string PluginPath = \u0022\\\\GameData\\\\TMSOrbitalMechanics\\\\PluginData\\\\\u0022;\n\n        private HideConfigNode _OldVabShip;\n        private string _craftFile = \u0022\u0022;\n        private string vesselName = \u0022\u0022;\n        private Vector3 vesselPosition = new Vector3(0, 0, 0);\n        //private Part _srcPart = null;\n\n\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_craftFile\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003ECraft file name as it appears in the PluginPath folder\u003C/span\u003E\u003Cspan\u003E\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_srcPart\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003ESource part to spawn relative to\u003C/span\u003E\u003Cspan\u003E\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_spawnOffset\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003EOffset spawn from Source part position\u003C/span\u003E\u003Cspan\u003E\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        //public VesselSpawner(string _craftFile, Vector3 _spawnOffset)\n        public VesselSpawner(string _craftFile, string vesselName, Vector3 vesselPosition)\n        {\n            //Store paths\n            this._craftFile = _craftFile;\n            //this._srcPart = _srcPart;\n            this.vesselPosition = vesselPosition;\n            this.vesselName = vesselName;\n\n            //if (this._srcPart == null)\n            //    Debug.Log(\u0022Relative source part can\u0027t be null\u0022);\n            //if ((_craftFile != String.Empty))\n            //    Debug.Log(\u0022Source part path can\u0027t be null\u0022);\n\n        }\n\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// Spawns the vessel\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        public void SpawnVessel()\n        {\n            Debug.Log(\u0022SpawnVessel\u0022);\n            //Load craft file\n            ShipConstruct _ship = LoadVessel(this._craftFile);\n            if (_ship != null)\n                SpawnVessel(this.vesselName, _ship, this.vesselPosition);\n            else\n                Debug.Log(\u0022Failed to load the vessel\u0022);\n        }\n\n\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// Attempt vessel load\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_craftFile\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        private ShipConstruct LoadVessel(string _craftFile)\n        {\n            Debug.Log(\u0022ConstructVessel\u0022);\n            //Get path to vessel\n            Debug.Log(\u0022Loading the craft file\u0022);\n            string BasePath = Environment.CurrentDirectory \u002B PluginPath;\n            string path = BasePath \u002B _craftFile;\n            Debug.Log(path);\n            //Save old ship for later, else player will see it in the VAB\n            _OldVabShip = new HideConfigNode(ShipConstruction.ShipConfig);\n\n            //Load craft file\n            ShipConstruct _shipConstruct = ShipConstruction.LoadShip(path);\n\n            //Check load\n            Debug.Log(\u0022Checking if its loaded\u0022);\n            if (_shipConstruct == null)\n            {\n                // Restore ShipConstruction ship, otherwise player sees loaded craft in VAB\n                ShipConstruction.ShipConfig = _OldVabShip.GetConfigNode();\n                return null; //Fail\n            }\n            Debug.Log(\u0022Sending it back\u0022);\n            return _shipConstruct;\n        }\n\n\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// Spawn ship construct\n        /// https://github.com/KospY/KAS/blob/master/Plugin/KAS_Shared.cs\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_shipConstruct\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003EShipconstruct to spawn\u003C/span\u003E\u003Cspan\u003E\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_srcPart\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003ESource part to spawn relative to\u003C/span\u003E\u003Cspan\u003E\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_spawnOffset\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003EOffset spawn from Source part position\u003C/span\u003E\u003Cspan\u003E\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        private void SpawnVessel(string vesselName, ShipConstruct _shipConstruct, Vector3 _spawnOffset)\n        {\n            Debug.Log(\u0022PrivateSpawnVessel\u0022);\n            //Store construct root\n            Part _newConstructRootPart = _shipConstruct.parts[0];\n\n            Debug.Log(\u0022Doing something with the Root\u0022);\n            //Center rootpart\n            Vector3 offset = _newConstructRootPart.transform.localPosition;\n            _newConstructRootPart.transform.Translate(-offset);\n\n            //Get launch spawn point, relative to part\n            //Transform t = _srcPart.transform;\n            //GameObject launchPos = new GameObject();\n            //launchPos.transform.parent = _srcPart.transform;\n            //launchPos.transform.position = t.position;\n            //launchPos.transform.position \u002B= t.TransformDirection(_spawnOffset);\n            //launchPos.transform.rotation = t.rotation;\n\n\n            //Store our launch / spawn position\n            //Transform launchTransform = launchPos.transform;\n\n\n            //Kill original object\n            //launchPos.DestroyGameObject();\n\n\n            //Set rootpart origin\n            //_shipConstruct.Parts[0].localRoot.transform.Translate(launchPos.transform.position, Space.World);\n\n\n            //Position\n            //float angle;\n            //Vector3 axis;\n\n\n            //Extract ToAngleAxis data from selected spawning location\n            //launchTransform.rotation.ToAngleAxis(out angle, out axis);\n\n\n            //TRANSFORM Rotate localRootPart in relation to root\n            //_shipConstruct.Parts[0].localRoot.transform.RotateAround(launchTransform.position, axis, angle);\n\n            //Create vessel object\n            Debug.Log(\u0022CreateVesselObject\u0022);\n            Vessel _newVessel = _newConstructRootPart.localRoot.gameObject.AddComponent\u003C/span\u003E\u003Cspan\u003E\u0026lt;Vessel\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n\n            //Init from VAB\n            _newVessel.Initialize(true);\n\n            Debug.Log(\u0022Adding all the info to the ship\u0022);\n            //Attach vessel information\n            _newVessel.id = Guid.NewGuid();\n            _newVessel.name = vesselName;\n            _newVessel.Landed = true;\n            _newVessel.Splashed = false;\n            _newVessel.landedAt = string.Empty;\n            _newVessel.situation = Vessel.Situations.LANDED;\n            _newVessel.vesselType = VesselType.Debris;\n            Vector3 vesselPosition = new Vector3(5f, 0f, 5f);\n\n            //_newVessel.vesselName = _srcPart.vessel.vesselName \u002B \u0022 - \u0022 \u002B _shipConstruct.shipName;\n            //_newVessel.landedAt = _srcPart.vessel.vesselName;\n\n            //Store backup\n            ShipConstruction.CreateBackup(_shipConstruct);\n\n\n            Debug.Log(\u0022MissionIDStuff\u0022);\n            //Set Orbit\n            //InitiateOrbit(vesselPosition, _newVessel);\n\n            //Set Mission info\n            Debug.Log(\u0022Set Mission ID\u0022);\n            uint missionId = (uint)Guid.NewGuid().GetHashCode();\n            //string flagUrl = _srcPart.flagURL;\n            Debug.Log(\u0022Set Launch ID\u0022);\n            uint launchId = HighLogic.CurrentGame.launchID\u002B\u002B;\n\n            //Set part mission info\n            for (int i = 0; i \u0026lt; _newVessel.parts.Count; i\u002B\u002B)\n            {\n                Debug.Log(\u0022Loop through parts\u0022);\n                Part part = _newVessel.parts[i];\n                Debug.Log(\u0022Assign FlightID using ShipConstruction\u0022);\n                part.flightID = ShipConstruction.GetUniqueFlightID(FlightDriver.FlightStateCache.flightState);\n                Debug.Log(\u0022Done it Once\u0022);\n                part.launchID = launchId;\n                part.missionID = missionId;\n            }\n            Debug.Log(\u0022Finished Mission Stuff\u0022);\n            //Generate staging\n            //Staging.beginFlight();\n            //_newConstructRootPart.vessel.ResumeStaging();\n            //Staging.GenerateStagingSequence(_newConstructRootPart.localRoot);\n            //Staging.RecalculateVesselStaging(_newConstructRootPart.vessel);\n\n            //Set position, again\n            //_newVessel.SetPosition(launchTransform.position);\n            //_newVessel.SetRotation(launchTransform.rotation);\n\n            ////Get allll the parts, does it even matter since we launch from VAB?\n            //for (int i = 0; i \u0026lt; _newVessel.parts.Count; i\u002B\u002B)\n            //{\n            //    // Solar panels from containers (we dont have no bloody containers here tho) don\u0027t work otherwise\n            //    for (int j = 0; j \u0026lt; _newVessel.parts[i].Modules.Count; j\u002B\u002B)\n            //    {\n            //        ConfigNode node = new ConfigNode();\n            //        node.AddValue(\u0022name\u0022, _newVessel.parts[i].Modules[j].moduleName);\n            //        _newVessel.parts[i].LoadModule(node, ref j);\n            //    }\n            //}\n\n            Debug.Log(\u0022ProtoVesselStuff\u0022);\n            //Save Protovessel\n            ProtoVessel _newProto = new ProtoVessel(_newVessel);\n\n            Debug.Log(\u0022Defined ProtoVessel\u0022);\n\n            if (_newProto == null)\n            {\n                Debug.Log(\u0022Nope\u0022);\n            }\n\n            else\n            {\n                Debug.Log(\u0022If Statement if not failed\u0022);\n\n                //Kill and remove spawned vessel, had some serious problems with spawn position warping/glitching\n                _newVessel.Die();\n\n                //Set the protovessels position to the relative one we found, maybe redundant\n                //_newProto.position = launchPos.transform.position;\n\n                //If you check this value, you will see the height change from launch scene to resume scene, extra dafuq\n                float height = _newProto.height;\n\n                if (FlightDriver.StartupBehaviour == FlightDriver.StartupBehaviours.RESUME_SAVED_FILE ||\n                    FlightDriver.StartupBehaviour == FlightDriver.StartupBehaviours.RESUME_SAVED_CACHE)\n                {\n                    //Odd behaviour with positioning during different flight scenes, workaround awaaaay\n                    //_newProto.height = TrueAlt(launchTransform.position, _srcPart.vessel);\n                }\n\n                //Load Protovessel\n                _newProto.Load(HighLogic.CurrentGame.flightState);\n\n                // Restore ShipConstruction ship, otherwise player sees loaded craft in VAB\n                ShipConstruction.ShipConfig = _OldVabShip.GetConfigNode();\n\n                //Fix Control Lock\n                //FlightInputHandler.ResumeVesselCtrlState(FlightGlobals.ActiveVessel);\n\n                //Fix active vessel staging\n                //FlightGlobals.ActiveVessel.ResumeStaging();\n            }\n\n        }\n\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// http://forum.kerbalspaceprogram.com/threads/111116-KSP-Altitude-Calculation-Inquiry\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        //private float TrueAlt(Vector3 _LauncPos, Vessel _srcVessel)\n        //{\n        //    Debug.Log(\u0022Altitude Stuff?\u0022);\n        //    //Vector3 pos = _srcPart.transform.position; //or this.vessel.GetWorldPos3D()\n        //    float ASL = FlightGlobals.getAltitudeAtPos(_LauncPos);\n        //    if (_srcVessel.mainBody.pqsController == null) { return ASL; }\n        //    float terrainAlt = Convert.ToSingle(_srcVessel.pqsAltitude);\n        //    if (_srcVessel.mainBody.ocean \u0026amp;\u0026amp; _srcVessel.heightFromTerrain \u0026lt;= 0) { return ASL; } //Checks for oceans\n        //    return ASL - terrainAlt;\n        //}\n\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// https://github.com/taniwha-qf/Extraplanetary-Launchpads/blob/master/Source/BuildControl.cs\n        /// https://github.com/taniwha-qf/Extraplanetary-Launchpads/blob/master/License.txt\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;/summary\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_newVessel\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        /// \u003C/span\u003E\u003Cspan\u003E\u0026lt;param\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Ename\u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E\u0022_srcVessel\u0022\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u0026lt;/param\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n        //private void InitiateOrbit(Vector3 vesselPosition, Vessel _newVessel)\n        //{\n        //   Debug.Log(\u0022More OrbitStuff\u0022);\n        //    var mode = OrbitDriver.UpdateMode.UPDATE;\n        //    _newVessel.orbitDriver.SetOrbitMode(mode);\n        //\n        //   var craftCoM = GetVesselWorldCoM(_newVessel);\n        //    var vesselCoM = vesselPosition;\n        //    var offset = (Vector3d.zero \u002B craftCoM - vesselCoM).xzy;\n        //\n        //    var corb = _newVessel.orbit;\n        //    //var orb = _srcVessel.orbit;\n        //    var UT = Planetarium.GetUniversalTime();\n        //    //var body = orb.referenceBody;\n        //    //corb.UpdateFromStateVectors(orb.pos \u002B offset, orb.vel, body, UT);\n\n        //Debug.Log(String.Format(\u0022[EL] {0} {1}\u0022, \u0022orb\u0022, orb.pos));\n        //    Debug.Log(String.Format(\u0022[EL] {0} {1}\u0022, \u0022corb\u0022, corb.pos));\n\n        //}\n\n\n        //public Vector3 GetVesselWorldCoM(Vessel v)\n        //{\n        //    var com = v.findLocalCenterOfMass();\n        //    return v.rootPart.partTransform.TransformPoint(com);\n        //}\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd here is the code I\u0027m using to call the class etc.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are a few things that I will need to change later on down the line one I get the actual spawning part working.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Eusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing UnityEngine;\n\nnamespace TMS_Module_001\n{\n    [KSPAddon(KSPAddon.Startup.SpaceCentre, true)]\n\n    public class TMS_Stargate : MonoBehaviour\n    {\n        public void Awake()\n        {\n            string vesselName = \u0022namespace TMS_Module_001\u0022;\n            Vector3 vesselPosition = new Vector3(5f, 0f, 5f);\n            VesselSpawner TMS_Module_001 = new VesselSpawner(\u0022namespace TMS_Module_001.craft\u0022, vesselName, vesselPosition);\n            Debug.Log(\u0022Spawn the Ship\u0022);\n            TMS_Module_001.SpawnVessel();\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAccording to the Log, everything is getting called and running fine. \u00A0However, there is a problem in the code which I can\u0027t seem to figure out how to fix (or at least undo what I\u0027ve done to it)\n\u003C/p\u003E\n\u003Cp\u003E\nIn the Log I see.......\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[LOG 12:55:49.006] Assign FlightID using ShipConstruction\u003Cbr\u003E\n[EXC 12:55:49.009] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0 \u00A0 TMS_Module_001.VesselSpawner.SpawnVessel (System.String vesselName, .ShipConstruct _shipConstruct, Vector3 _spawnOffset)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMS_Module_001.VesselSpawner.SpawnVessel ()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMS_Module_001.TMS_Module_001.Awake ()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0UnityEngine.GameObject:AddComponent(Type)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0AddonLoader:StartAddon(LoadedAssembly, Type, KSPAddon, Startup)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0AddonLoader:StartAddons(Startup)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0AddonLoader:OnLevelWasLoaded(Int32)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis exception is referring to this part of the code......(I\u0027ve added a buttload of debug statements around this part to help identify the problem.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Efor (int i = 0; i \u0026lt; _newVessel.parts.Count; i\u002B\u002B)\n            {\n                Debug.Log(\u0022Loop through parts\u0022);\n                Part part = _newVessel.parts[i];\n                Debug.Log(\u0022Assign FlightID using ShipConstruction\u0022);\n                part.flightID = ShipConstruction.GetUniqueFlightID(FlightDriver.FlightStateCache.flightState);\n                Debug.Log(\u0022Done it Once\u0022);\n                part.launchID = launchId;\n                part.missionID = missionId;\n            }\n            Debug.Log(\u0022Finished Mission Stuff\u0022);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nSpecifically, line 6 in that block (part.flightID = ShipConstruction..........yadda yadda yadda)\n\u003C/p\u003E\n\u003Cp\u003E\nA weird side-effect of this is that it completely breaks the game. \u00A0It creates an infinite for\u00A0loop and messes everything else up (can\u0027t get off the Space Center screen :-O)\n\u003C/p\u003E\n\u003Cp\u003E\nWould anyone have any clue what\u0027s going on with that?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-02-15T00:01:08Z","Content":"\n\u003Cp\u003E\nNow you\u0027re past my area of expertise... \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDid you see the suggestions here:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/128191-spawn-a-vessel/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-15T12:26:33Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/118388-artwhaley/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022118388\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/118388-artwhaley/\u0022\u003E@artwhaley\u003C/a\u003E,\n\u003C/p\u003E\n\u003Cp\u003E\nI did see that (I think I\u0027ve seen pretty much every thread involving spawning vessels. lol.) \u00A0The problem I\u0027m having with a lot of the threads is how to use the methods etc. that are mentioned.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still dissecting the KSPSmelter plugin as it looks like that\u0027s the most promising (I am definitely making progress:)). \u00A0It\u0027s just a matter of figuring out what it\u0027s doing and how to change it from spawning based on the location of a vessel part and spawning it in world space instead.\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-02-16T02:18:15Z","Content":"\n\u003Cp\u003E\nSorry but I\u0027ve never been in that area of KSP code before. My only suggestion would be that if the \u0022part.flightID = ShipConstruction.GetUniqueFlightID(FlightDriver.FlightStateCache.flightState);\u0022 line is throwing an exception you put a few debug statements right before it like so:\n\u003C/p\u003E\n\u003Cp\u003E\nif (ShipConstruction== null) Debug.Log(\u0022ShipConstruction== null\u0022);\n\u003C/p\u003E\n\u003Cp\u003E\nif (FlightDriver == null) Debug.Log(\u0022FlightDriver == null\u0022);\n\u003C/p\u003E\n\u003Cp\u003E\nif (FlightStateCache== null) Debug.Log(\u0022FlightStateCache== null\u0022);\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I find some new objects that has info I want but they throw exceptions it usually turns out they\u0027re null at that point in the game.\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-16T02:35:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222410146\u0022 data-ipsquote-contentid=\u0022131969\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455539193\u0022 data-ipsquote-userid=\u0022158070\u0022 data-ipsquote-username=\u0022TheMightySpud\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, TheMightySpud said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/118388-artwhaley/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022118388\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/118388-artwhaley/\u0022\u003E@artwhaley\u003C/a\u003E,\n\u003C/p\u003E\n\u003Cp\u003E\nI did see that (I think I\u0027ve seen pretty much every thread involving spawning vessels. lol.) \u00A0The problem I\u0027m having with a lot of the threads is how to use the methods etc. that are mentioned.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still dissecting the KSPSmelter plugin as it looks like that\u0027s the most promising (I am definitely making progress:)). \u00A0It\u0027s just a matter of figuring out what it\u0027s doing and how to change it from spawning based on the location of a vessel part and spawning it in world space instead.\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHere\u0027s some more code for you to peruse, if it will help. This was functional to the point that I could spawn space stations using config data. (it would look for a specific named node in all game config nodes until it found the space station template)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Starwaster/Ioncross-Crew-Support/blob/master/Source/IoncrossCrewSupport/Contracts/Templates/IonContractResupply.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Starwaster/Ioncross-Crew-Support/blob/master/Source/IoncrossCrewSupport/Contracts/Templates/IonContractResupply.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt was designed to work with the format used by *.craft files. The config data was here:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Starwaster/Ioncross-Crew-Support/blob/master/KerbalInstallFolder/GameData/IoncrossCrewSupport/Contracts/Stations/station.type2.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Starwaster/Ioncross-Crew-Support/blob/master/KerbalInstallFolder/GameData/IoncrossCrewSupport/Contracts/Stations/station.type2.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFeel free to use any of this that is useful to you.\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-16T10:46:29Z","Content":"\n\u003Cp\u003E\nOoooooh......\n\u003C/p\u003E\n\u003Cp\u003E\nAfter a quick glance over I think this is going to be very helpful.\n\u003C/p\u003E\n\u003Cp\u003E\nFrom what I can tell it pretty much does exactly what I want to do, all I need to do I think is remove the contracts parts (with a little fiddling obviously :)) and tie it to a specific craft file instead of searching through the database.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you so much for that \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-17T00:22:31Z","Content":"\n\u003Cp\u003E\nHmmm........\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027ve been playing around for a while with the code that \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0026amp;do=hovercard\u0022 data-mentionid=\u002271262\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0022\u003E@Starwaster\u003C/a\u003E\u00A0provided, and I\u0027m pretty sure I\u0027m on the right track........however (yes there\u0027s always a however), it would appear as though the config file doesn\u0027t get added to the database (I double checked in the Alt\u002Bf12 options and it\u0027s nowhere to be seen). \u00A0So I\u0027m a bit stumped.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried loading the file directly, but I couldn\u0027t get my head around how to do that at all. :-/\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone have any ideas?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-17T01:10:28Z","Content":"\n\u003Cp\u003E\nIt won\u0027t appear in the debug menu database. Pretty sure the code that parses through the configs is in that file. I\u0027m BBQing right now but I\u0027ll go digging for it when I\u0027m done.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-17T01:59:44Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/158070-themightyspud/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022158070\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/158070-themightyspud/\u0022\u003E@TheMightySpud\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOk, this section is how you search for a specific config. This is pretty much how every mod out there does it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Starwaster/Ioncross-Crew-Support/blob/master/Source/IoncrossCrewSupport/Contracts/Templates/IonContractResupply.cs#L47-L64\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Starwaster/Ioncross-Crew-Support/blob/master/Source/IoncrossCrewSupport/Contracts/Templates/IonContractResupply.cs#L47-L64\u003C/a\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\n\u003Cspan\u003E\t\t\u003C/span\u003E\u003Cspan\u003Epublic\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EList\u003C/span\u003E\u003Cspan\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EConfigNode\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EGetProtoStation\u003C/span\u003E\u003Cspan\u003E()\u003C/span\u003E\u003Cspan\u003E\n\t\t\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\n\t\t\t\u003C/span\u003E\u003Cspan\u003EList\u003C/span\u003E\u003Cspan\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EConfigNode\u003C/span\u003E\u003Cspan\u003E\u0026gt;\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EStations\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003Enew\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EList\u003C/span\u003E\u003Cspan\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EConfigNode\u003C/span\u003E\u003Cspan\u003E\u0026gt;();\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\u003C/span\u003E\u003Cspan\u003E//Loops through all ION_CONTRACT_FLEET configNodes in the GameDatabase\u003C/span\u003E\u003Cspan\u003E\n\t\t\tforeach \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EConfigNode\u003C/span\u003E\u003Cspan\u003E fleet in \u003C/span\u003E\u003Cspan\u003EGameDatabase\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EInstance\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EGetConfigNodes\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E\u0022ION_CONTRACT_STATIONS\u0022\u003C/span\u003E\u003Cspan\u003E))\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E#if DEBUG\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\t\u003C/span\u003E\u003Cspan\u003EDebug\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003ELog\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E\u0022IonContractResupply.GetStationFleet(): found ION_CONTRACT_STATIONS node\u0022\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E#endif\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\tforeach\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EConfigNode\u003C/span\u003E\u003Cspan\u003E station_candidate in fleet\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EGetNodes\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E\u0022VESSEL\u0022\u003C/span\u003E\u003Cspan\u003E))\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\t\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\t\t\u003C/span\u003E\u003Cspan\u003EDebug\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003ELog\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E\u0022IonContractResupply.GetStationFleet(): found VESSEL node\u0022\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\t\t\u003C/span\u003E\u003Cspan\u003EStations\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EAdd\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Estation_candidate\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\t\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003Cspan\u003E\n\t\t\t\u003C/span\u003E\u003Cspan\u003Ereturn\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EStations\u003C/span\u003E\u003Cspan\u003E;\u003C/span\u003E\u003Cspan\u003E\n\t\t\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-19T20:21:16Z","Content":"\n\u003Cp\u003E\nThanks for the pointers \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0026amp;do=hovercard\u0022 data-mentionid=\u002271262\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0022\u003E@Starwaster\u003C/a\u003E, it\u0027s really been helpful.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve edited down the code quite substantially to the best of my knowledge, and logically it all seems fine.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever there is a problem which I can\u0027t seem to figure out.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve narrowed down where the problem is, and it\u0027s definitely something to do with finding and parsing the config.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn this part of the code.......\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Epublic List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E GetProtoModule()\n        {\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Defining our Module List\u0022);\n            List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E Modules = new List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Defined our Module List\u0022);\n\n            //Loops through all TMSMODULE001 configNodes in the GameDatabase\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - About to Start our first foreach Loop\u0022);\n            foreach (ConfigNode modules in GameDatabase.Instance.GetConfigNodes(\u0022TMSMODULE001\u0022))\n            {\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - Modules in list = \u0022 \u002B Modules.Count);\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - found TMSMODULE001 node\u0022);\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - About to Start our Second ForEach loop\u0022);\n                foreach (ConfigNode module_candidate in gates.GetNodes(\u0022VESSEL\u0022))\n                {\n                    Debug.Log(\u0022TMS ORBITAL MECHANICS - found VESSEL node\u0022);\n                    Debug.Log(\u0022TMS ORBITAL MECHANICS - Adding to candidate List\u0022);\n                    Modules.Add(module_candidate);\n                    Debug.Log(\u0022TMS ORBITAL MECHANICS - Modules in list = \u0022 \u002B Modules.Count);\n                }\n            }\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Returning Info\u0022);\n            return Modules;\n        }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nEverything works fine, except that it never finds the node \u0027TMSMODULE001\u0027 So everything else carries on, but as soon as it starts to go through the PART node, it craps out.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the log of that section so you can see what\u0027s happening.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[LOG 20:06:53.735] TMS ORBITAL MECHANICS - Going to GetProtoModule\u003Cbr\u003E\n[LOG 20:06:53.737] TMS ORBITAL MECHANICS - Defining our Module List\u003Cbr\u003E\n[LOG 20:06:53.738] TMS ORBITAL MECHANICS - Defined our Module List\u003Cbr\u003E\n[LOG 20:06:53.742] TMS ORBITAL MECHANICS - About to Start our first foreach Loop\u003Cbr\u003E\n[LOG 20:06:53.745] TMS ORBITAL MECHANICS - Returning Info\u003Cbr\u003E\n[LOG 20:06:53.746] TMS ORBITAL MECHANICS - Coming back from GetProtoModule\u003Cbr\u003E\n[LOG 20:06:53.747] TMS ORBITAL MECHANICS - about to return false (empty\u00A0Module nodes; unable to spawn)\u003Cbr\u003E\n[LOG 20:06:53.749] TMS ORBITAL MECHANICS - Module Name = Kerbin Module\u003Cbr\u003E\n[LOG 20:06:53.751] TMS ORBITAL MECHANICS - assign Flight ID\u003Cbr\u003E\n[LOG 20:06:53.757] TMS ORBITAL MECHANICS - Get Parts\u003Cbr\u003E\n[EXC 20:06:53.765] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003E\nParameter name: index\u003Cbr\u003E\n\u00A0\u00A0 \u00A0System.Collections.Generic.List\u00601[ConfigNode].get_Item (Int32 index)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMS_Stargate.CreateModule.BuildModule (System.String planet)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMS_Stargate.TMS_Module001.Awake ()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0UnityEngine.GameObject:AddComponent(Type)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0AddonLoader:StartAddon(LoadedAssembly, Type, KSPAddon, Startup)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0AddonLoader:StartAddons(Startup)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0AddonLoader:OnLevelWasLoaded(Int32)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs you can see it craps out when trying to get the Parts because there\u0027s nothing to get, and I\u0027m a little bit stumped :-/\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the config file I\u0027m trying to reference. \u00A0It\u0027s just a mk1 pod at the moment for testing purposes, I\u0027ve tried to match the sample that was provided but I may have missed something. :-/\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003ETMSMODULE001\n{\n\tVESSEL\n\t{\n\tship = Untitled Space Craft\n\tversion = 1.0.5\n\tdescription = mk1pod Test Vehicle\n\ttype = VAB\n\tsize = 1.268897,1.132535,1.270908\n\tPART\n\t{\n\t\tpart = mk1pod_4294731242\n\t\tpartName = Part\n\t\tpos = 0,15,0\n\t\tattPos = 0,0,0\n\t\tattPos0 = 0,15,0\n\t\trot = 0,0,0,1\n\t\tattRot = 0,0,0,1\n\t\tattRot0 = 0,0,0,1\n\t\tmir = 1,1,1\n\t\tsymMethod = Radial\n\t\tistg = 0\n\t\tdstg = 0\n\t\tsidx = -1\n\t\tsqor = -1\n\t\tsepI = 0\n\t\tattm = 0\n\t\tmodCost = 0\n\t\tmodMass = 0\n\t\tmodSize = (0.0, 0.0, 0.0)\n\t\tEVENTS\n\t\t{\n\t\t}\n\t\tACTIONS\n\t\t{\n\t\t}\n\t\tPARTDATA\n\t\t{\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = ModuleCommand\n\t\t\tisEnabled = True\n\t\t\tcontrolSrcStatusText = \n\t\t\tstagingEnabled = True\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tMakeReference\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Control From Here\n\t\t\t\t\tguiName = Control From Here\n\t\t\t\t\tcategory = Control From Here\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tRenameVessel\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveUncommand = True\n\t\t\t\t\tguiIcon = Rename Vessel\n\t\t\t\t\tguiName = Rename Vessel\n\t\t\t\t\tcategory = Rename Vessel\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t}\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = ModuleReactionWheel\n\t\t\tisEnabled = True\n\t\t\tstateString = Active\n\t\t\tstagingEnabled = True\n\t\t\tWheelState = Active\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tOnToggle\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveEditor = True\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Toggle Torque\n\t\t\t\t\tguiName = Toggle Torque\n\t\t\t\t\tcategory = Toggle Torque\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t\tActivate\n\t\t\t\t{\n\t\t\t\t\tactionGroup = None\n\t\t\t\t}\n\t\t\t\tDeactivate\n\t\t\t\t{\n\t\t\t\t\tactionGroup = None\n\t\t\t\t}\n\t\t\t\tToggle\n\t\t\t\t{\n\t\t\t\t\tactionGroup = None\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = ModuleScienceExperiment\n\t\t\tisEnabled = True\n\t\t\tDeployed = False\n\t\t\tInoperable = False\n\t\t\tstagingEnabled = True\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tDeployExperiment\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Deploy\n\t\t\t\t\tguiName = Deploy\n\t\t\t\t\tcategory = Deploy\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tCollectDataExternalEvent\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = \n\t\t\t\t\tguiName = \n\t\t\t\t\tcategory = \n\t\t\t\t\tguiActiveUnfocused = True\n\t\t\t\t\tunfocusedRange = 1.5\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tReviewDataEvent\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Review Data\n\t\t\t\t\tguiName = Review Data\n\t\t\t\t\tcategory = Review Data\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tResetExperiment\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Reset\n\t\t\t\t\tguiName = Reset\n\t\t\t\t\tcategory = Reset\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tDeployExperimentExternal\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Deploy\n\t\t\t\t\tguiName = Deploy\n\t\t\t\t\tcategory = Deploy\n\t\t\t\t\tguiActiveUnfocused = True\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tResetExperimentExternal\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Reset\n\t\t\t\t\tguiName = Reset\n\t\t\t\t\tcategory = Reset\n\t\t\t\t\tguiActiveUnfocused = True\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tCleanUpExperimentExternal\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Restore\n\t\t\t\t\tguiName = Restore\n\t\t\t\t\tcategory = Restore\n\t\t\t\t\tguiActiveUnfocused = True\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t\tDeployAction\n\t\t\t\t{\n\t\t\t\t\tactionGroup = None\n\t\t\t\t}\n\t\t\t\tResetAction\n\t\t\t\t{\n\t\t\t\t\tactionGroup = None\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = ModuleScienceContainer\n\t\t\tisEnabled = True\n\t\t\tstagingEnabled = True\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tStoreDataExternalEvent\n\t\t\t\t{\n\t\t\t\t\tactive = False\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = \n\t\t\t\t\tguiName = Store Experiments (0)\n\t\t\t\t\tcategory = \n\t\t\t\t\tguiActiveUnfocused = True\n\t\t\t\t\tunfocusedRange = 1.3\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tCollectDataExternalEvent\n\t\t\t\t{\n\t\t\t\t\tactive = False\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = \n\t\t\t\t\tguiName = Take Data (0)\n\t\t\t\t\tcategory = \n\t\t\t\t\tguiActiveUnfocused = True\n\t\t\t\t\tunfocusedRange = 1.3\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tReviewDataEvent\n\t\t\t\t{\n\t\t\t\t\tactive = False\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Review Data\n\t\t\t\t\tguiName = Review Stored Data (0)\n\t\t\t\t\tcategory = Review Data\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t}\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = FlagDecal\n\t\t\tisEnabled = True\n\t\t\tflagDisplayed = True\n\t\t\tstagingEnabled = True\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tToggleFlag\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveEditor = True\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Toggle Flag\n\t\t\t\t\tguiName = Toggle Flag\n\t\t\t\t\tcategory = Toggle Flag\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t}\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = ModuleConductionMultiplier\n\t\t\tisEnabled = True\n\t\t\tstagingEnabled = True\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t}\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = ModuleTripLogger\n\t\t\tisEnabled = True\n\t\t\tstagingEnabled = True\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t}\n\t\t\tLog\n\t\t\t{\n\t\t\t\tflight = 0\n\t\t\t}\n\t\t}\n\t\tMODULE\n\t\t{\n\t\t\tname = TransferDialogSpawner\n\t\t\tisEnabled = True\n\t\t\tstagingEnabled = True\n\t\t\tEVENTS\n\t\t\t{\n\t\t\t\tSpawnDialog\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = True\n\t\t\t\t\tguiActiveUncommand = True\n\t\t\t\t\tguiIcon = Transfer Crew\n\t\t\t\t\tguiName = Transfer Crew\n\t\t\t\t\tcategory = Transfer Crew\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t\tToggleStaging\n\t\t\t\t{\n\t\t\t\t\tactive = True\n\t\t\t\t\tguiActive = False\n\t\t\t\t\tguiActiveUncommand = False\n\t\t\t\t\tguiIcon = Disable Staging\n\t\t\t\t\tguiName = Disable Staging\n\t\t\t\t\tcategory = Disable Staging\n\t\t\t\t\tguiActiveUnfocused = False\n\t\t\t\t\tunfocusedRange = 2\n\t\t\t\t\texternalToEVAOnly = True\n\t\t\t\t}\n\t\t\t}\n\t\t\tACTIONS\n\t\t\t{\n\t\t\t}\n\t\t}\n\t\tRESOURCE\n\t\t{\n\t\t\tname = ElectricCharge\n\t\t\tamount = 50\n\t\t\tmaxAmount = 50\n\t\t\tflowState = True\n\t\t\tisTweakable = True\n\t\t\thideFlow = False\n\t\t\tisVisible = True\n\t\t\tflowMode = Both\n\t\t}\n\t\tRESOURCE\n\t\t{\n\t\t\tname = MonoPropellant\n\t\t\tamount = 10\n\t\t\tmaxAmount = 10\n\t\t\tflowState = True\n\t\t\tisTweakable = True\n\t\t\thideFlow = False\n\t\t\tisVisible = True\n\t\t\tflowMode = Both\n\t\t}\n\t}\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFrom what I can see it\u0027s just a matter of wrapping the existing Craft file contents inside TMSMODULE001 { VESSEL { \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 } } tags.\n\u003C/p\u003E\n\u003Cp\u003E\nBut like I say I could have missed something.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2016-02-19T20:34:03Z","Content":"\n\u003Cp\u003E\nYou\u0027ll save yourself a lot of time if you can get debug mode working inside KSP via one of the stickies. Where is the cfg file itself located? That would be my current suspicion. GameDatabase only auto-loads ConfigNodes inside GameData and subdirectories so if you\u0027ve put it elsewhere (maybe alongside the persistent sfs or .craft you copied its contents from?) it won\u0027t be found\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-19T20:54:32Z","Content":"\n\u003Cp\u003E\nThe cfg is currently in \u0027GameData/MyMod/PluginData/\u0027\n\u003C/p\u003E\n\u003Cp\u003E\nSo very confused as to why it\u0027s not working.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll have a look for the debug mode thingy you mentioned, Thanks for that \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-19T20:54:44Z\u0022 title=\u002202/19/2016 08:54  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 19, 2016\u003C/time\u003E by TheMightySpud\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-02-19T21:06:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222419328\u0022 data-ipsquote-contentid=\u0022131969\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455915272\u0022 data-ipsquote-userid=\u0022158070\u0022 data-ipsquote-username=\u0022TheMightySpud\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, TheMightySpud said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGameData/MyMod/PluginData/\u0027\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere\u0027s your problem, PluginData is a special directory that KSP\u00A0\u003Cstrong\u003Edoesn\u0027t\u003C/strong\u003E\u00A0autoload on start. Move it out of there\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-19T21:06:27Z\u0022 title=\u002202/19/2016 09:06  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 19, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-19T21:10:51Z","Content":"\n\u003Cp\u003E\nAH HAAAAA!!!!\n\u003C/p\u003E\n\u003Cp\u003E\nThank you so so so so so so so much.\n\u003C/p\u003E\n\u003Cp\u003E\nGot it to read everything, now I\u0027m getting a new error. lol.\n\u003C/p\u003E\n\u003Cp\u003E\nThis one is an \u0027in game\u0027 error saying that it can\u0027t load the vessel because of a missing part, but it doesn\u0027t say which part, it\u0027s just blank.....lol.\n\u003C/p\u003E\n\u003Cp\u003E\nWell, time to go and mess about with stuff \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThanks again\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-19T23:26:30Z","Content":"\n\u003Cp\u003E\nHooooookay,\n\u003C/p\u003E\n\u003Cp\u003E\nSpent a couple of hours trying to figure this out and have gotten nowhere. :-/\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E// ------------------------------------------------------------------------------\n//  \u003C/span\u003E\u003Cspan\u003E\u0026lt;autogenerated\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n//      This code was generated by a tool.\n//      Mono Runtime Version: 4.0.30319.1\n// \n//      Changes to this file may cause incorrect behavior and will be lost if \n//      the code is regenerated.\n//  \u003C/span\u003E\u003Cspan\u003E\u0026lt;/autogenerated\u0026gt;\u003C/span\u003E\u003Cspan\u003E\n// ------------------------------------------------------------------------------\n\nusing KSP;\nusing UnityEngine;\nusing Contracts;\nusing Contracts.Parameters;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace TMS_Stargate\n{\n\n    public class CreateGates : MonoBehaviour\n    {\n\n        //Define a load of lists and variables\n        private List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E stargateList = new List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n        private CelestialBody gateBody = null;\n        private string _planet;\n        public string stargateName = \u0022Unnamed Stargate\u0022;\n\n        public List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E GetProtoGate()\n        {\n            //Defines our list of Stargates\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Defining our Gate List\u0022);\n            List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E Stargates = new List\u003C/span\u003E\u003Cspan\u003E\u0026lt;ConfigNode\u0026gt;\u003C/span\u003E\u003Cspan\u003E();\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Defined our Gate List\u0022);\n\n            //Loops through all the configs to find any starting with a Node called STARGATE\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - About to Start our first foreach Loop\u0022);\n            foreach (ConfigNode gates in GameDatabase.Instance.GetConfigNodes(\u0022STARGATE\u0022))\n            {\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - Gates in list = \u0022 \u002B Stargates.Count);\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - found STARGATE node\u0022);\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - About to Start our Second ForEach loop\u0022);\n                //Finds all the VESSEL Nodes in our Configs\n                foreach (ConfigNode stargate_candidate in gates.GetNodes(\u0022VESSEL\u0022))\n                {\n                    //Adds any relevant items from the Configs to our Stargate List\n                    Debug.Log(\u0022TMS ORBITAL MECHANICS - found VESSEL node\u0022);\n                    Debug.Log(\u0022TMS ORBITAL MECHANICS - Adding to candidate List\u0022);\n                    Stargates.Add(stargate_candidate);\n                    Debug.Log(\u0022TMS ORBITAL MECHANICS - Gates in list = \u0022 \u002B Stargates.Count);\n                }\n            }\n            //Sends the completed list back to the main bit\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Returning Info\u0022);\n            return Stargates;\n        }\n\n        public void BuildGate(string planet)\n        {\n            //Defines which planet/moon we are referencing\n            this._planet = planet;\n            Debug.Log(\u0022The Commencement has Beginulated\u0022);\n            foreach (CelestialBody targetBody in FlightGlobals.Bodies)\n            {\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - Found Body \u0022 \u002B targetBody);\n                if (targetBody.name == _planet)\n                    gateBody = targetBody;\n            }\n            Debug.Log(\u0022Locked on to \u0022 \u002B gateBody);\n\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Trying to Spawn a Gate\u0022);            \n            //Sends a request to \u0027GetProtoGate\u0027 to grab info we can use.\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Going to GetProtoGate\u0022);\n            stargateList = GetProtoGate();\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Coming back from GetProtoGate\u0022);\n\n            //Checks to make sure we\u0027re getting something back\n            if (stargateList.Count \u0026lt;= 0)\n            {\n                Debug.Log(\u0022TMS ORBITAL MECHANICS - about to return false (empty fleet nodes; unable to spawn)\u0022);\n                //return false;\n            }\n\n            //Give our Stargate a name\n            stargateName = gateBody.bodyName \u002B \u0022 Stargate\u0022;\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Stargate Name = \u0022 \u002B stargateName);\n\n            //Defines out unique flightID\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - assign Flight ID\u0022);\n            uint uniqueFlightID = ShipConstruction.GetUniqueFlightID(HighLogic.CurrentGame.flightState);\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Stargate Name\u0022 \u002B stargateList[0].name);\n\n            //Tries to get all the parts from our loaded vessel config file\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Get Parts\u0022);\n            ConfigNode[] stargateParts = stargateList[0].GetNodes(\u0022PART\u0022);\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Part Name\u0022 \u002B stargateParts[0].name);\n\n            //Define our orbit details (Needs heavy editing to put our gates exactly where we want them.  Ideally getting info from TMS_Stargate.cs)\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Defining Orbit Details\u0022);\n            double lowOrbit = Math.Max(gateBody.Radius \u002B gateBody.Radius * 0.15, gateBody.Radius \u002B (double)gateBody.atmosphereDepth * 2.0);\n            double highOrbit = Math.Max(gateBody.Radius \u002B gateBody.Radius * 0.2, gateBody.Radius \u002B (double)gateBody.atmosphereDepth * 2.3);\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Defining Parameters config node\u0022);\n\n            //Define our parameters node (not actually sure what this does if honest)\n            ConfigNode[] parameters = new ConfigNode[] { ProtoVessel.CreateDiscoveryNode(DiscoveryLevels.Unowned, UntrackedObjectClass.A, 50000 * 2.0, 50000 * 2.0) };\n\n            //Assign our orbit details to our actual orbit\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Creating Orbit details\u0022);\n            Orbit orbit = Orbit.CreateRandomOrbitAround(this.gateBody, lowOrbit, highOrbit);\n            \n            //Define and add our details to the ProtoVessel\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Adding all info to the ProtoVesselNode\u0022);\n            ConfigNode protoVesselNode = ProtoVessel.CreateVesselNode(stargateName,\n                                                                       VesselType.Station,\n                                                                       orbit,\n                                                                       0,\n                                                                       stargateParts,\n                                                                       parameters\n                                                                       );\n\n            //Add our ProtoVessel to the game\n            Debug.Log(\u0022TMS ORBITAL MECHANICS - Adding our Gate to the game(I think)\u0022);\n            ProtoVessel protoVessel = HighLogic.CurrentGame.AddVessel(protoVesselNode);\n\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHere\u0027s what I\u0027ve got (Yes, it\u0027s a Stargate Mod, don\u0027t judge me. lol.)\n\u003C/p\u003E\n\u003Cp\u003E\nAll credit to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0026amp;do=hovercard\u0022 data-mentionid=\u002271262\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0022\u003E@Starwaster\u003C/a\u003E\u00A0for the code, making more headway with this than I have any other. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve got the thing to read the file and attempt loading, but there\u0027s a line that\u0027s causing a bit of a problem.\n\u003C/p\u003E\n\u003Cp\u003E\nThis little nugget seems to refuse to read the parts of the loaded file.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EConfigNode[] stargateParts = stargateList[0].GetNodes(\u0022PART\u0022);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIn Starwasters original code this was set to look for a random value based on how many items were in the \u0027stargateList\u0027 however as this will only ever return a single item, I\u0027ve set it to 0.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I can\u0027t see what it won\u0027t get the parts. :-/\n\u003C/p\u003E\n\u003Cp\u003E\nThanks.\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-02-19T23:34:10Z","Content":"\n\u003Cp\u003E\nMy first question would be: what does the node stargateList[0] look like? Print it to the log and you can see exactly what is / isn\u0027t there. The other thing would be what behaviour are you actually getting, vs. expecting\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, if you have a github (or similar) repository, it\u0027s much easier to read larger blocks of code vs. the small forum code blocks (for example: \u003Ca href=\u0022https://github.com/Crzyrndm/FilterExtension/blob/master/FilterExtension/Core.cs#L58-L69\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Crzyrndm/FilterExtension/blob/master/FilterExtension/Core.cs#L58-L69)\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-19T23:53:23Z\u0022 title=\u002202/19/2016 11:53  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 19, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"}]}