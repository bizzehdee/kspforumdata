{"TopicId":32962,"ForumId":36,"TopicTitle":"Programatically delete a cloned command module in the VAB","CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2013-06-14T17:10:52Z","PageNum":1,"Articles":[{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2013-06-14T17:10:52Z","Content":"\n\u003Cp\u003EFor Subassembly Loader, there is a bug in which how KSP stores your ship if it doesn\u0027t include a command module as the root part. I don\u0027t expect Squad to fix this issue any time soon since we\u0027re obviously going outside the spectrum of what their game is supposed to do. The save routine basically breaks any mirrored part. The \u0022source\u0022 part of the mirror is properly placed, but the parts mirrored parts aren\u0027t. So I\u0027m trying to work my way around this limitation by forcing the current command module on the build to be included in the saved assembly, then on load, rip out the command module, and resume work as normal. The save part works, meaning the command pod I inserted in the structure shows up both on screen and in the craft file, but the load part isn\u0027t working to expectation. The entire ship shows up, but I cannot, for the life of me, figure out how to properly delete the unwanted command pod. So my question is, how do you delete the very first part in the VAB editor right after you load the assembly?\u003C/p\u003E\u003Cp\u003EWhat is happening now is the command module shows up, but it becomes inert. You can\u0027t do anything with it. You can spin the camera around, and you can still see the modules different sides, but, clicking on it, or attempting to attach something to it fails. If I leave the VAB and come back in, the extra command module is gone from the screen.\u003C/p\u003E\u003Cp\u003EAdditional Details:\u003C/p\u003E\u003Cp\u003EWhen looking at a working, versus non-working craft file, the working craft file has an additional cdata entry that points to the proper part ID, such as fuel tanks. In a non-working craft file, the cdata is pointing to a gas tank, but, with an invalid ID. That invalid ID is -1. My guess is that the each component of the vessel that gets saved is assigned an ID number. This happens when the save occurs. If a command module is clicked saved, then the craft loaded up works, but when just an assembly with no command modules on, the mirrored parts break due to the -1.\u003C/p\u003E\n"},{"CreatedByName":"FireStormOOO","CreatedById":69144,"CreatedDateTime":"2013-06-14T20:34:36Z","Content":"\n\u003Cp\u003EI\u0027m not sure if the vessel class works inside of the VAB/SPH, but that has a property called rootPart which might be what you need?\u003C/p\u003E\n"},{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2013-06-14T22:55:07Z","Content":"\n\u003Cp\u003EI\u0027m not looking at the code right at the moment, but I THINK it does. I recognize rootPart but I don\u0027t recall where its from, be it another class or a variable name, or whatever. I\u0027ll poke at it some more tomorrow. Been up \u002B24 hours so far. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2013-06-15T14:21:22Z","Content":"\n\u003Cp\u003EThis thread can be closed. The methodology of saving the subassemblies is doomed to fail due to how 0.20 handles moving things around. Pipes and struts are temporarily disconnected, and that state seems to be saved.\u003C/p\u003E\n"}]}