{"TopicId":104535,"ForumId":34,"TopicTitle":"1.1.2 Magic Smoke Industries Infernal Robotics 2.0.2","CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2015-04-20T21:18:38Z","PageNum":17,"Articles":[{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-26T18:02:22Z","Content":"\u003E \n\u003E @GrafZahl\n\u003E The problem is IR parts need to be attached in a specific way on a vessel. The model rework mod shows it in an easy way.\n\u003E \n\u003E The small arrows show where the base of that part is. If you dock two crafts the root part of the vessel can change. If you got into a situation like I built in this screenshot one of the joints will be oriented the wrong way and thus not work correctly anymore.\n\u003E \n\u003E Sure you could \u0027simply\u0027 rotate the joint in the right orientation and reattach it to the vessel in the plugin. But it\u0027s very likely to provoke the kraken that way.\n\u003E \n\u003E [http://i.imgur.com/Ag11GdK.jpg](http://i.imgur.com/Ag11GdK.jpg)\n\nTo expand on this, I\u0027ve just done some quick testing as its been a while since I\u0027ve played with this bug. The fundamental problem is that when you dock two craft together the tree structure of the craft causes some parts to be reversed (that we knew), but it causes the created joint to behave strangely almost as if there\u0027s two fighting each other, and if you force this then the craft is liable to be krackened.\n\nNow if you save and load the craft again the joint will be fine but the part would just be visually reversed. Also any rotation you applied before the save will be treated as zero when you reload, potentially causing the part to move more or less than you intended. This seems to be true for translational parts too, but the position of the part gets changes. Basically, because IR does not know if this part switch-around has occurred, there\u0027s no way for the plugin to even begin to flip the models or whatever to overcome this issue. If you\u0027re willing to spend the time, you may find situations which will work, but ultimately the original disclaimer still applies."},{"CreatedByName":"Fuel","CreatedById":118530,"CreatedDateTime":"2015-06-26T19:30:07Z","Content":"\u003E \n\u003E [https://github.com/MagicSmokeIndustries/InfernalRobotics/releases/tag/v0.21.3](https://github.com/MagicSmokeIndustries/InfernalRobotics/releases/tag/v0.21.3)\n\u003E Or you can wait for KS and Curse release, but sirkut is a bit busy\n\nThanks a lot mate, for the link although I don\u0027t seem to be able to test it do to a glitch in the 1.0.4.861 build, building upgrades do not take effect."},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-26T20:35:25Z","Content":"\u003E \n\u003E Thanks a lot mate, for the link although I don\u0027t seem to be able to test it do to a glitch in the 1.0.4.861 build, building upgrades do not take effect.\n\n\u003Cslow clap=\u0022\u0022\u003E Well done Squad \u003C/slow clap=\u0022\u0022\u003E"},{"CreatedByName":"Fuel","CreatedById":118530,"CreatedDateTime":"2015-06-27T07:40:55Z","Content":"\u003E \n\u003E \u003Cslow clap=\u0022\u0022\u003E Well done Squad \u003C/slow clap=\u0022\u0022\u003E\n\nIt was solved, it turned out that the problem was with 0.0.9 kopernicus it was added to the updated vs of Kerbol Plus and I did not noticed, so updating it with 0.1 solved the issue, anyhow I am not very happy with the 1.0.4 update as it interferes with quite some mods generating severe issues, for such a small update I don\u0027t think squad did a proper testing before it\u0027s release."},{"CreatedByName":"GrafZahl","CreatedById":147027,"CreatedDateTime":"2015-06-27T12:17:57Z","Content":"Thanks @Aqua and @ZodiusInfuser for explaining this. I\u0027m still new to all the KSP modding stuff, so sorry for the silly questions ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nLet\u0027s summarize your explanation with my less professional words, to be sure I understood everything correctly:\n\n- for the movement of the robotic parts a well-defined root-part is necessary, because every movement is relative to that part\n\n- when the root part changes (what happens when you dock), then the movement will be wrong, since the direction of movement is done in respect of the old root-part, but there is a new root-part and it should be relative to this now\n\n- for mods it seems not to be possible to determine the root part to correct the direction of movement\n\n- and mods can also not determine when the root-part is changed, since there is no event triggered for that\n\nBest regards,\n\nGrafZahl"},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-27T12:59:05Z","Content":"\u003E \n\u003E Thanks @Aqua and @ZodiusInfuser for explaining this. I\u0027m still new to all the KSP modding stuff, so sorry for the silly questions ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E Let\u0027s summarize your explanation with my less professional words, to be sure I understood everything correctly:\n\u003E \n\u003E - for the movement of the robotic parts a well-defined root-part is necessary, because every movement is relative to that part\n\u003E \n\u003E - when the root part changes (what happens when you dock), then the movement will be wrong, since the direction of movement is done in respect of the old root-part, but there is a new root-part and it should be relative to this now\n\u003E \n\u003E - for mods it seems not to be possible to determine the root part to correct the direction of movement\n\u003E \n\u003E - and mods can also not determine when the root-part is changed, since there is no event triggered for that\n\u003E \n\u003E Best regards,\n\u003E \n\u003E GrafZahl\n\nThat\u0027s pretty much it, although I suspect the game does tell mods that a dock / undock occurs. Without the other information though there\u0027s not much that can be done from there. Someone is more than welcome to try and figure it out though ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-27T13:07:48Z","Content":"@GrafZahl\n\nBecause of your nickname I assume you\u0027re German: Es gibt keine dummen Fragen, nur dumme Antworten.\n\n(It\u0027s a German expression and means something like: There are no stupid questions but there are some stupid answers.)\n\nJust ask if you don\u0027t know how something works."},{"CreatedByName":"GrafZahl","CreatedById":147027,"CreatedDateTime":"2015-06-27T13:09:24Z","Content":"Thanks for confirming ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nSince I\u0027m new to that modding stuff, I don\u0027t think I can find a workaround. However I will look at the IR code anyway to understand how it works. When I have an idea to improve this situation I will tell you."},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-27T13:15:07Z","Content":"There are several events IR could attach to if a vessel docks another:\n\nGameEvents.onSameVesselDock - self-explanatory\n\nGameEvents.onSameVesselUnDock - self-explanatory\n\nGameEvents.onUndock - self-explanatory\n\nGameEvents.onVesselWasModified - fires whenever the vessel docks, undocks, decouples, explodes etc.\n\nNote there\u0027s no GameEvents.onDock."},{"CreatedByName":"GrafZahl","CreatedById":147027,"CreatedDateTime":"2015-06-27T21:26:32Z","Content":"Sorry for more silly questions. \n\nI downloaded the source from github \u0022git clone [https://github.com/MagicSmokeIndustries/InfernalRobotics.git](https://github.com/MagicSmokeIndustries/InfernalRobotics.git)\u0022 and tried to compile it.\n\nHowever I get an compile error in Rescale.cs, Line 24 ( [https://github.com/MagicSmokeIndustries/InfernalRobotics/blob/develop/InfernalRobotics/InfernalRobotics/Module/Rescale.cs](https://github.com/MagicSmokeIndustries/InfernalRobotics/blob/develop/InfernalRobotics/InfernalRobotics/Module/Rescale.cs) ) since the compiler cannot convert \u0022factor.relative.linear\u0022 (that is a float) into a TweakScale.ScalingFactor object that is expected by the OnRescale method from the MuMechToggle class. \n\nBasically this is not a big issue, since inside of the OnRescale method only the \u0022relative.linear\u0022 member of the ScalingFactor is used. So I can simply pass the whole object to the method and from the semantic point of view everything will stay the same. However I would expect to find a consistent version as download, that will compile out of the box (since there are several releases of that mod available). So I wonder, if I did something wrong? Maybe I downloaded an invalid version with bugs inside?"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-27T22:56:28Z","Content":"TweakScale is another mod. You\u0027ll probably need the .dll from [there](https://forum.kerbalspaceprogram.com/threads/112693)."},{"CreatedByName":"GrafZahl","CreatedById":147027,"CreatedDateTime":"2015-06-27T23:11:30Z","Content":"Hi Aqua,\n\nthanks for your answer. I know about TweakScale, everything seems to be fine with that. It is more, that the IR code itself does not be consistent here. \n\nInside of the IR code the method OnRescale is called differently that this method is specified (also inside the IR code). \n\nSo I can correct this code, but I wonder why the downloaded source it not able to compile out of the box. Maybe I downloaded a wrong version of the IR source?\n\nBest regards,\n\nAndr\u00C3\u0192\u00C2\u00A9"},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-28T00:15:13Z","Content":"\u003E \n\u003E Hi Aqua,\n\u003E thanks for your answer. I know about TweakScale, everything seems to be fine with that. It is more, that the IR code itself does not be consistent here. \n\u003E \n\u003E Inside of the IR code the method OnRescale is called differently that this method is specified (also inside the IR code). \n\u003E \n\u003E So I can correct this code, but I wonder why the downloaded source it not able to compile out of the box. Maybe I downloaded a wrong version of the IR source?\n\u003E \n\u003E Best regards,\n\u003E \n\u003E Andr\u00C3\u0192\u00C2\u00A9\n\nThe best people to ask about this are Ziw, erendrake and pellinor (our current coders). They\u0027re able to compile it just fine for all the preview builds I\u0027ve tried, but maybe there\u0027s something missing from the repo."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2015-06-28T13:17:13Z","Content":"\u003E \n\u003E Sorry for more silly questions. \n\u003E I downloaded the source from github \u0022git clone [https://github.com/MagicSmokeIndustries/InfernalRobotics.git](https://github.com/MagicSmokeIndustries/InfernalRobotics.git)\u0022 and tried to compile it.\n\u003E \n\u003E However I get an compile error in Rescale.cs, Line 24 ( [https://github.com/MagicSmokeIndustries/InfernalRobotics/blob/develop/InfernalRobotics/InfernalRobotics/Module/Rescale.cs](https://github.com/MagicSmokeIndustries/InfernalRobotics/blob/develop/InfernalRobotics/InfernalRobotics/Module/Rescale.cs) ) since the compiler cannot convert \u0022factor.relative.linear\u0022 (that is a float) into a TweakScale.ScalingFactor object that is expected by the OnRescale method from the MuMechToggle class. \n\u003E \n\u003E Basically this is not a big issue, since inside of the OnRescale method only the \u0022relative.linear\u0022 member of the ScalingFactor is used. So I can simply pass the whole object to the method and from the semantic point of view everything will stay the same. However I would expect to find a consistent version as download, that will compile out of the box (since there are several releases of that mod available). So I wonder, if I did something wrong? Maybe I downloaded an invalid version with bugs inside?\n\nIs Rescale.cs still needed at all? It looks like MuMechToggle now implements IRescalable (which comes from TweakScale) directly instead of using an intermediate class IRRescale. Anyway, your solution looks good to me, you are on the right version and something is wrong in the github repo. \n\nMy guess is that the github version InfernalRobotics.csproj is not up to date. This file contains paths to the KSP binaries which are different for all of us, so we don\u0027t keep it as synchronized as the other files. This would be a bug that is only found if a new person tries to compile the code."},{"CreatedByName":"Kolago","CreatedById":103729,"CreatedDateTime":"2015-06-28T14:13:29Z","Content":"I see some Texture load errors in the log:\n\n    Load(Texture): MagicSmokeIndustries/Parts/Legacy/dockingwasher_free/washer(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)Texture load error in \u0027C:\\Kerbal Space Program 1.0.4\\GameData\\MagicSmokeIndustries\\Parts\\Legacy\\dockingwasher_free\\washer.dds\u0027(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)Load(Texture): MagicSmokeIndustries/Parts/Legacy/dockingwasher_free/washer1(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)Texture load error in \u0027C:\\Kerbal Space Program 1.0.4\\GameData\\MagicSmokeIndustries\\Parts\\Legacy\\dockingwasher_free\\washer1.dds\u0027(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)Load(Texture): MagicSmokeIndustries/Parts/Legacy/dockingwasher_free/washernorm(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)Texture load error in \u0027C:\\Kerbal Space Program 1.0.4\\GameData\\MagicSmokeIndustries\\Parts\\Legacy\\dockingwasher_free\\washernorm.dds\u0027"},{"CreatedByName":"Dr_Goddard","CreatedById":100796,"CreatedDateTime":"2015-06-28T18:48:44Z","Content":"Quick inverse kinematic hexapod update.\n\n\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/6dPVgBWx7Lc?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\n**Edited \u003Ctime datetime=\u00222015-06-28T19:53:15Z\u0022 title=\u002206/28/2015 07:53  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 28, 2015\u003C/time\u003E by Dr\\_Goddard**"},{"CreatedByName":"Shanty","CreatedById":140553,"CreatedDateTime":"2015-06-28T20:55:38Z","Content":"Hi guys , i have a problem with the open powered hinges. \n\nwhen i scale them with tweakscale over 150% their function to fold breaks for some reason. it seems like it has something to do with the position where the folding needs to take place. kind of like the axis position. When i scaled it back down to 100% or 150% it worked just fine. so it must be something caused by the scaling.\n\n Am i the only person who has that problem?\n\nI really hope someone can help me with that ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nah and yes, i made sure that ive got the latest version of tweakscale and infernal robotics ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nedit: using them inside the VAB does work just fine but as soon as im on the launchpad it doesnt work anymore.. it looks like its stuck and is pressing against itself. one side of the hinge is slowly moving up instead of rotating to fold.\n\n**Edited \u003Ctime datetime=\u00222015-06-28T21:01:12Z\u0022 title=\u002206/28/2015 09:01  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 28, 2015\u003C/time\u003E by Shanty**"},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-28T22:00:14Z","Content":"IR has issues if parts are scaled up too much, as KSP does some funky stuff with joints and attachment nodes. If you really want to have a part at a large size you\u0027re best to make a copy of its .cfg and change the rescaleFactor."},{"CreatedByName":"Shanty","CreatedById":140553,"CreatedDateTime":"2015-06-29T00:57:47Z","Content":"Thank you very much, your idea with the config file worked perfectly."},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2015-06-29T15:07:19Z","Content":"Updated to the latest and greatest. Enjoy!"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-06-29T17:28:51Z","Content":"I don\u0027t mean to be the rear end of a donkey here (okay, maybe a teeny bit) but I\u0027m curious... from the change log it says \u0022Fixes for tweakscale interaction for transalting IR parts\u0022. What the heck is \u0022transalting\u0022?"},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-29T18:20:05Z","Content":"\u003E \n\u003E I don\u0027t mean to be the rear end of a donkey here (okay, maybe a teeny bit) but I\u0027m curious... from the change log it says \u0022Fixes for tweakscale interaction for transalting IR parts\u0022. What the heck is \u0022transalting\u0022?\n\n\u0022translating\u0022 ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif), e.g pistons."},{"CreatedByName":"Fuel","CreatedById":118530,"CreatedDateTime":"2015-06-29T19:38:46Z","Content":"\u003E \n\u003E Thank you very much, your idea with the config file worked perfectly.\n\nJust out of curiosity are You using KSP 1.0.4?\n\n- - - Updated - - -\n\n@Sirkut, mate, may the laws of physics bless You !!!!!\n\n**Edited \u003Ctime datetime=\u00222015-06-29T19:46:36Z\u0022 title=\u002206/29/2015 07:46  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 29, 2015\u003C/time\u003E by Fuel**"},{"CreatedByName":"Jodo42","CreatedById":68895,"CreatedDateTime":"2015-06-29T21:21:48Z","Content":"I\u0027m having some extremely frustrating issues with the docking washer. In the VAB it displays it rotating one section of my ship, but in flight it rotates the other.\n\n![ZHAH1ql.png](http://i.imgur.com/ZHAH1ql.png)\n\nIn the VAB, the ring rotates.\n\n![eLA9bYS.png](http://i.imgur.com/eLA9bYS.png)\n\nIn flight, the lower tanks rotate.\n\nI\u0027m unable to get the ring portion to rotate, actually. Every configuration I\u0027ve tried with the washer causes the lower tanks to rotate instead of the upper. What\u0027s going on?"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2015-06-29T21:32:45Z","Content":"\u003E \n\u003E I\u0027m having some extremely frustrating issues with the docking washer. In the VAB it displays it rotating one section of my ship, but in flight it rotates the other.\n\u003E [http://i.imgur.com/ZHAH1ql.png](http://i.imgur.com/ZHAH1ql.png)\n\u003E \n\u003E In the VAB, the ring rotates.\n\u003E \n\u003E [http://i.imgur.com/eLA9bYS.png](http://i.imgur.com/eLA9bYS.png)\n\u003E \n\u003E In flight, the lower tanks rotate.\n\u003E \n\u003E I\u0027m unable to get the ring portion to rotate, actually. Every configuration I\u0027ve tried with the washer causes the lower tanks to rotate instead of the upper. What\u0027s going on?\n\nIt\u0027s all about relative mass. The mass of the ring is far greater than the mass of the command pod (root part) at the rings hub. Now the mass needs to be considerably different as leverage is also at play here. In the VAB the ring rotates because of which side of the docking washer it is on. In space you aren\u0027t connected to anything. When the Canadarm 2 moves an item around on the ISS. The station is moving in the opposite direction as the payload on the arm. Push the item away you push the entire station away in the opposite direction. But the mass of the station as well as the cushioning of the canadarm\u0027s joints slowly changing speeds is such, it moves very slow / not at all, with a light payload at the end of the Canadarm 2. So in short make the hub / station heavier, the ring lighter. Adjust the acceleration curve of the docking washer, as well as add SAS to the stationary bits. No SAS on the ring and it should work.\n\n**Edited \u003Ctime datetime=\u00222015-06-29T21:38:20Z\u0022 title=\u002206/29/2015 09:38  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 29, 2015\u003C/time\u003E by V8jester**"}]}