{"TopicId":208076,"ForumId":32,"TopicTitle":"Randomly changing orbit during time warp","CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2022-05-06T18:13:57Z","PageNum":1,"Articles":[{"CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2022-05-06T18:13:57Z","Content":"\n\u003Cp\u003E\nI want to describe a glitch that\u0027s been pestering me a few times: spaceships changing orbits for no reason.\n\u003C/p\u003E\n\u003Cp\u003E\nToday the latest instance: here\u0027s my spaceship, in low earth orbit, slowly raising apoapsis with nuclear engines over multiple passages. Here it just stopped the engines, and it\u0027s got a 37700 km apoapsis. I reset the manuever node, click a few minutes before the next periapsis and tell the game to time warp to there\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ILA78nb.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://imgur.com/ILA78nb.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWhen i enter time warp, the manuever suddenly rises to 8000 m/s.\n\u003C/p\u003E\n\u003Cp\u003E\nNot only, but though the ship moved in front of the manuever node, the game thinks there\u0027s still a few minutes left.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ZlVoIdk.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://imgur.com/ZlVoIdk.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou can see what happened: the orbit has been changed, the apoapsis lowered by 1000 km, which changed the orbital time and screwed up the manuever node.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s the second time it happened today - good thing I\u0027m saving after every manuever - but it\u0027s not the first time I see this bug. Previously in my A\u0027Tuin mission, while the eponymous ship was orbiting Tekto (an OPM moon that\u0027s a Titan analogue), the orbit also changed, with the periapsis inexplicably becoming lower between different saves, despite the ship never using the engines. We\u0027re talking 50 m/s lower, not the small differences caused by docking manuevers.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile it happened occasionally in the past, though, it seems now it\u0027s happening every other save. Just as I write, I had to reload for the third time because it happened again. And again, it happens as soon as I activate time warp.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you also experience it? Is there any solution?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Fraktal","CreatedById":184990,"CreatedDateTime":"2022-05-06T18:50:42Z","Content":"\n\u003Cp\u003E\nThis appeared a couple versions ago, yes, and is caused by float rounding errors in the engine as far as I\u0027m aware.\n\u003C/p\u003E\n\u003Cp\u003E\nOnly workaround I know of is to engage 5x time warp\u00A0\u003Cem\u003Ebefore\u003C/em\u003E\u00A0you warp to the maneuver node. Kicking to high warp right away is what triggers this.\n\u003C/p\u003E\n"},{"CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2022-05-06T19:33:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224128109\u0022 data-ipsquote-contentid=\u0022208076\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221651863042\u0022 data-ipsquote-userid=\u0022184990\u0022 data-ipsquote-username=\u0022Fraktal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Fraktal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis appeared a couple versions ago, yes, and is caused by float rounding errors in the engine as far as I\u0027m aware.\n\u003C/p\u003E\n\u003Cp\u003E\nOnly workaround I know of is to engage 5x time warp\u00A0\u003Cem\u003Ebefore\u003C/em\u003E\u00A0you warp to the maneuver node. Kicking to high warp right away is what triggers this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nif i go 5x and then tell it to warp to manuever node, it tell me that it cannot because manual warp already active\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: it doesn\u0027t seem to do that anymore, actually. it does prevent me from ordering time warp only if i use x4 time warp.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-05-06T20:35:43Z\u0022 title=\u002205/06/2022 08:35  PM\u0022 data-short=\u00222 yr\u0022\u003EMay 6, 2022\u003C/time\u003E by king of nowhere\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2022-05-07T17:23:53Z","Content":"\n\u003Cp\u003E\nI have not seen this happen in the stock game. Is it perhaps modding-related?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2022-05-07T17:35:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224128605\u0022 data-ipsquote-contentid=\u0022208076\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221651944233\u0022 data-ipsquote-userid=\u002227914\u0022 data-ipsquote-username=\u0022Vanamonde\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Vanamonde said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have not seen this happen in the stock game. Is it perhaps modding-related?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nlikely, because i\u0027ve also only seen it with mods that change the planets. opm in the old mission, \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003Erss\u003C/abbr\u003E in this one\n\u003C/p\u003E\n"},{"CreatedByName":"DeadJohn","CreatedById":201293,"CreatedDateTime":"2022-05-09T19:41:07Z","Content":"\n\u003Cp\u003E\nRoundoff errors in the game frequently distort orbits. I\u0027ve made it a habit to quicksave frequently. I also readily use the Hyperedit mod and alt-f12 orbit cheat to fix orbit bugs.\n\u003C/p\u003E\n\u003Cp\u003E\nThe roundoff is especially frustrating when doing aerobraking passes. For example, a Duna lander might want to sample the atmosphere from multiple biomes on the way down. I set a high apoapsis, place periapsis barely inside the atmosphere so I don\u0027t deorbit too quickly, then plan to do multiple passes in and out of the atmo to gather science. Warping past each apoapsis will eventually, randomly, raise periapsis above the atmosphere.\n\u003C/p\u003E\n"},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2022-05-10T23:14:57Z","Content":"\n\u003Cp\u003E\nEngage the first level of time warp manually, and \u003Ci\u003Ethen\u003C/i\u003E\u00A0click warp to node. I recently had a lunar flyby change to an apoapsis of just 11Mm (from over 350Mm!) by just clicking warp to node, so now I always quicksave before warping and bump the warp one notch manually before letting anything else take over.\n\u003C/p\u003E\n\u003Cp\u003E\nMechJeb seems less prone to this error as it engages time warp one step at a time, resulting in relatively small trajectory changes (which can still be annoying, but manageable) whereas the stock warp to node button cranks it up as high as it can immediately and seems to make the problem much worse.\n\u003C/p\u003E\n"},{"CreatedByName":"Nazalassa","CreatedById":217956,"CreatedDateTime":"2022-08-20T22:34:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224128605\u0022 data-ipsquote-contentid=\u0022208076\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221651944233\u0022 data-ipsquote-userid=\u002227914\u0022 data-ipsquote-username=\u0022Vanamonde\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/7/2022 at 7:23 PM, Vanamonde said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs it perhaps modding-related?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m afraid no, because I got the exact same issue today with an unmodded KSP.\n\u003C/p\u003E\n"},{"CreatedByName":"se5a","CreatedById":156245,"CreatedDateTime":"2022-08-21T04:51:25Z","Content":"\n\u003Cp\u003E\nI tend to suspect the root of the problem is not rounding errors, but something causing the game to not put the entity into a rails type Kepler orbit, which thing causes it to keep it in the physics loop which is where you\u0027re possibly getting the rounding errors, or a phantom force.\n\u003C/p\u003E\n\u003Cp\u003E\nThis could be caused by Kraken drive type physics bugs and or something very similar. ie the game thinks there\u0027s a force acting on the ship, so it says in the physics loop.\n\u003C/p\u003E\n\u003Cp\u003E\nLast time this happened to me (yesterday) I solved it by switching away from the ship to \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E before enabling warp. this *should* force the ship out of the physics loop. (I use Kerbal alarm clock, which stopped warp and switched me back to the ship when it needed it)\n\u003C/p\u003E\n"},{"CreatedByName":"Nazalassa","CreatedById":217956,"CreatedDateTime":"2022-08-21T17:47:09Z","Content":"\n\u003Cp\u003E\nGot the problem four times today!\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s getting annoying.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the ideal KSP, this wouldn\u0027t happen.\n\u003C/p\u003E\n"},{"CreatedByName":"se5a","CreatedById":156245,"CreatedDateTime":"2022-08-21T20:33:46Z","Content":"\n\u003Cp\u003E\nDoes using the built in alarm clock or \u003Cabbr title=\u0022Kerbal Alarm Clock (mod)\u0022\u003EKAC\u003C/abbr\u003E and switching to the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E (or switching to any other object out of physics range should work) fix it for you?\n\u003C/p\u003E\n"},{"CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2022-08-21T20:42:14Z","Content":"\n\u003Cp\u003E\nI don\u0027t know about anyone else, but to me manually warping at 10x first, and then activating higher time warp, helps.\n\u003C/p\u003E\n\u003Cp\u003E\nSaving often and reloading if needed is also the general panacea\n\u003C/p\u003E\n"},{"CreatedByName":"GigFiz","CreatedById":205457,"CreatedDateTime":"2022-08-25T20:20:32Z","Content":"\n\u003Cp\u003E\nThe workaround I use that seems to work (along with always quicksaving before a warp) is never using the warpto button and instead just manually clicking a spot on the flight path close to it and warping there. Why that works better than the warpto button, idk (maybe it doesn\u0027t ramp up as quick?) but I have had a high success rate (I think it has always worked, but these things blur together sometimes, so can\u0027t say 100%)\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: just tried it again, and of course it failed this time\u00A0\u003Cimg alt=\u0022:huh:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 title=\u0022:huh:\u0022\u003E. Though it worked when I was focused on the craft, and it failed when focused on the body. May be just a coincidence, maybe not. I\u0027ll keep on eye on it in the future\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-08-25T21:13:54Z\u0022 title=\u002208/25/2022 09:13  PM\u0022 data-short=\u00221 yr\u0022\u003EAugust 25, 2022\u003C/time\u003E by GigFiz\u003C/strong\u003E\n\u003Cbr\u003EUpdate\n\u003C/span\u003E\n"},{"CreatedByName":"Nazalassa","CreatedById":217956,"CreatedDateTime":"2022-08-27T09:58:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224167374\u0022 data-ipsquote-contentid=\u0022208076\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221661458832\u0022 data-ipsquote-userid=\u0022205457\u0022 data-ipsquote-username=\u0022GigFiz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/25/2022 at 10:20 PM, GigFiz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nit failed when focused on the body\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nit\u0027s probably part of the issue as the same thing happens with my game.\n\u003C/p\u003E\n"}]}