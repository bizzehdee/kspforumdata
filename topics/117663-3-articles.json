{"TopicId":117663,"ForumId":36,"TopicTitle":"[1.1.3] Kerbal Animation Suite","CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-08-05T01:40:21Z","PageNum":3,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-08-22T03:12:39Z","Content":"\u003E \n\u003E Try it again, but this time, set the duration in the properties tab BEFORE adding keyframes. I think the duration was set to 0 seconds long, therefore any keyframes would technically be at the same time in the animation, and overwrite each other.\n\nHave another look at the first image of my last album. I specified in the caption I\u0027m setting the name and length prior to creating the first keyframe, unless just typing in the number and switching focus off the text box doesn\u0027t do it? Do I have to close the properties window for it to save? To be honest I didn\u0027t even think the clip length mattered, since there are no numbers on the timeline I assumed any keyframe would just be a value between 0 and 1 which would correspond to the length of the clip (a keyframe at 0.5, placed halfway along the timeline, would be at 0:05 for a 10 second animation or 0:30 for a 60 second one). Even if the clip length is 0s with a couple keyframes in it, clicking each keyframe should just load a pose - right now I think it\u0027s trying to automatically interpolate or something...\n\nyea I am completely epic failing at this. I dunno. Here look at [this anim](http://www.blade-edge.com/misc/CrossArm.zip). I had the kerbal in a nice cross-armed pose for the second keyframe, clicked save, exited the editor and reloaded the animations, nothing played when I selected it. reload the anim in the editor and clicking on both keyframes just shows a default pose??\n\n**Edited \u003Ctime datetime=\u00222015-08-22T03:53:05Z\u0022 title=\u002208/22/2015 03:53  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 22, 2015\u003C/time\u003E by Gaiiden**"},{"CreatedByName":"SpriteCoke","CreatedById":123609,"CreatedDateTime":"2015-08-26T20:46:23Z","Content":"Do you think it would be possible to add a skeletal overlay on the kerbal for easier positioning, just click on a point an rotate it or move it like like how you would on a part the sph or vab for example. I\u0027m a very visual person so this would help out a lot.\n\n**Example (the blue part)**\n\n![image002.jpg](http://www.csit.parkland.edu/~dbock/Class/csc189/Lecture/CharacterSkeleton_files/image002.jpg)\n\np.s Thanks for making me an official guinea pig XD\n\n**Edited \u003Ctime datetime=\u00222015-08-26T21:00:26Z\u0022 title=\u002208/26/2015 09:00  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 26, 2015\u003C/time\u003E by SpriteCoke**"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-08-27T03:20:33Z","Content":"That sounds like a good idea for the future, but I don\u0027t really have as much time for plugin development anymore, what with school starting back up and everything. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2015-08-27T03:30:47Z","Content":"This is outstanding!"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-27T19:59:43Z","Content":"Just a heads up, your latest zip (1.1.3.2) is missing KerbalAnimationSuite in the directory structure (everything gets dumped under GameData)."},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-08-27T20:28:51Z","Content":"\u003E \n\u003E Just a heads up, your latest zip (1.1.3.2) is missing KerbalAnimationSuite in the directory structure (everything gets dumped under GameData).\n\nOh wow... ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif) Fixed."},{"CreatedByName":"yorshee","CreatedById":135011,"CreatedDateTime":"2015-09-01T14:13:44Z","Content":"I saw this on Reddit a few months back and fell in love with it. Good to see it\u0027s been updated to work with 1.0. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nEDIT: I, as well as a few other people, have been having trouble with the facial expressions. Is changing a Kerbal\u0027s expression, or making them move their mouths to talk, impossible? I can open their mouths but it just shows their bottom teeth and it looks goofy.\n\n\u003E \n\u003E The facial bones are weird. You should never rotate them, just translate them up and down. Ive gotten them to work before, so they should work now, unless anything changed in 1.0.4/1.0.3.\n\nI can\u0027t translate \u0027em, only rotate them.\n\n**Edited \u003Ctime datetime=\u00222015-09-05T21:11:33Z\u0022 title=\u002209/05/2015 09:11  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 5, 2015\u003C/time\u003E by yorshee**"},{"CreatedByName":"Ficko","CreatedById":130951,"CreatedDateTime":"2015-09-11T03:40:42Z","Content":"That\u0027s amazing!"},{"CreatedByName":"Xacktar","CreatedById":88876,"CreatedDateTime":"2015-09-16T16:09:05Z","Content":"Sweet Kerbal Christmas!\n\nIt\u0027s back!\n\nGlad to see you didn\u0027t give up on it, MrHappyFace!"},{"CreatedByName":"crasher925","CreatedById":44578,"CreatedDateTime":"2015-09-17T16:39:16Z","Content":"i could use this..."},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-09-20T09:30:31Z","Content":"I have made a [discovery and found](https://forum.kerbalspaceprogram.com/threads/131247-IVA-Kerbal-how-to-force-a-Kerbal-in-IVA-to-stand-instead-of-sit?p=2204936\u0026viewfull=1#post2204936) all the necessary pieces to the puzzle to also enable/replace IVA kerbal animations."},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-09-20T15:24:11Z","Content":"I already knew all of this. I just need to know how to disable the expression system so we can animate their mouths properly."},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-09-21T01:05:22Z","Content":"\u003E \n\u003E I already knew all of this. I just need to know how to disable the expression system so we can animate their mouths properly.\n\nThe expressions? on IVA kerbals appear to be embedded in the animations attached to the Unity Legacy Animator.\n\nIf I turn off the Animator all movement stops including their faces, head, arms, legs.\n\nThere are a couple of classes related to expressions AI, etc, but I thought they were only related to EVA kerbals.\n\nI will investigate further."},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-09-21T02:51:09Z","Content":"I asked danRosas about the expressions, and he said that they\u0027re handled by a kebalExpressionSystem object for both IVA and EVA, unfortunatley, I can only find the kerbalExpressionSystem object for IVA.\n\nAlso, I\u0027m pretty sure that the bug where people can\u0027t animate kerbal faces is related to the kerbalExpressionSystem powered by an **Animator** component, and the regular animations, powered by an **Animation** component, conflicting, I just can\u0027t figure out how to disable it on EVA. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nI hope you have better luck, because I\u0027ve been stuck on this for a while."},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-09-21T06:10:07Z","Content":"\u003E \n\u003E I asked danRosas about the expressions, and he said that they\u0027re handled by a kebalExpressionSystem object for both IVA and EVA, unfortunatley, I can only find the kerbalExpressionSystem object for IVA.\n\u003E Also, I\u0027m pretty sure that the bug where people can\u0027t animate kerbal faces is related to the kerbalExpressionSystem powered by an **Animator** component, and the regular animations, powered by an **Animation** component, conflicting, I just can\u0027t figure out how to disable it on EVA. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\u003E \n\u003E I hope you have better luck, because I\u0027ve been stuck on this for a while.\n\nI\u0027ll see what I can find and report back to you.\n\nEDIT: I have found a KerbalExpressionSystem class/object for both IVA/EVA. You can find it a number of ways:\n\nThis class is an extension of MonoBehaviour so all instances can be found with:\n\n    foreach (kerbalExpressionSystem kes in Resources.FindObjectsOfTypeAll())\n\nA single instance is instantiated per kerbal attached to their kerbal class. (kerbalref). So can be found with:\n\n    foreach (kerbalExpressionSystem kes in kerbal.gameObject.GetComponentsInChildren())\n\nwhere kerbal is the Kerbal class/kerbalref attached to the protocrewmember, etc. So you could check if it\u0027s an EVA kerbal first,\n\nGet the crew protocrewmember.kerbalref from the vessel.GetVesselCrew() list, a number of ways you could do it.\n\nWithin the class there a number of useful vars as well:\n\nBool isIVAController is true if attached to IVA kerbal or false if attached to EVA kerbal.\n\nKerbalEVA kerbalEVA is null if on IVA kerbal or set to the kerbalEVA partmodule if on an EVA kerbal.\n\nPart evaPart contains the EVAPart when attached to a kerbal in EVA\n\n**Edited \u003Ctime datetime=\u00222015-09-21T09:19:49Z\u0022 title=\u002209/21/2015 09:19  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 21, 2015\u003C/time\u003E by JPLRepo**"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-09-21T15:24:09Z","Content":"\u003E \n\u003E (**kerbalref**)\n\nOh wow, that helps a lot. I had already found it for IVA, but for EVA, I was looking for the kerbalExpressionSystem in the KerbalEVA\u0027s object, and I didn\u0027t think to look in the kerbalRef. Should be able to fix that mouth animating bug now. Thanks!\n\n**Edited \u003Ctime datetime=\u00222015-09-21T15:24:49Z\u0022 title=\u002209/21/2015 03:24  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 21, 2015\u003C/time\u003E by MrHappyFace**\n  \ngrammar"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-09-21T20:37:26Z","Content":"\u003E \n\u003E Oh wow, that helps a lot. I had already found it for IVA, but for EVA, I was looking for the kerbalExpressionSystem in the KerbalEVA\u0027s object, and I didn\u0027t think to look in the kerbalRef. Should be able to fix that mouth animating bug now. Thanks!\n\nNP. How about extending this mod to animate IVA kerbals as well then? ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-10-06T23:30:44Z","Content":"\u003E \n\u003E Daniel (danRosas) made some changes to the Kerbal rig for the animations. A small revision of the mouth made it easier to move the mouth around. The mouth is now a joint based rig\n\nThis was announced in today\u0027s devnotes. It seems like it might fix some of the bugs animating the face that we\u0027ve been experiencing. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Monsterlunch","CreatedById":135085,"CreatedDateTime":"2015-10-07T12:33:46Z","Content":"This looks nice! Definitely going to take a look into it!"},{"CreatedByName":"Felbourn","CreatedById":97344,"CreatedDateTime":"2015-10-11T16:28:01Z","Content":"I\u0027m using TextureReplacer with this. By default my Kerbals have no helmets when around the base. When I activate this mod, my Kerbal has no helmet. When I deactivate it to go back to my scene, the helmet appears. If I toggle the helmet with this mod\u0027s GUI, it only stays off while the mod GUI is up. The helmet always comes back after I go back to the scene. Is there a way to keep the helmet from ever appearing? Or a way to toggle it without the GUI? I glanced at the source code but did not see an immediate solution in there.\n\n**Edited \u003Ctime datetime=\u00222015-10-11T17:00:08Z\u0022 title=\u002210/11/2015 05:00  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 11, 2015\u003C/time\u003E by Felbourn**"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-10-11T18:56:01Z","Content":"\u003E \n\u003E I\u0027m using TextureReplacer with this. By default my Kerbals have no helmets when around the base. When I activate this mod, my Kerbal has no helmet. When I deactivate it to go back to my scene, the helmet appears. If I toggle the helmet with this mod\u0027s GUI, it only stays off while the mod GUI is up. The helmet always comes back after I go back to the scene. Is there a way to keep the helmet from ever appearing? Or a way to toggle it without the GUI? I glanced at the source code but did not see an immediate solution in there.\n\nIn the editor, there\u0027s a button to toggle the helmet, and I have it automatically set the helmet back to enabled when you exit the animator, so that your kerbals don\u0027t accidentally have incorrect helmet info. You should probably just turn the helmet back on with TextureReplacer before animating, and use that button if you want to animate with the helmet off."},{"CreatedByName":"Felbourn","CreatedById":97344,"CreatedDateTime":"2015-10-11T20:44:42Z","Content":"Oh, I didn\u0027t even know TR had a GUI button to toggle it too. I thought it was set by CFG only (which is how I have mine defaulted to off). I\u0027ll search for that button now!\n\n- - - Updated - - -\n\nActually, correction, I didn\u0027t know TR even had a GUI! I\u0027m not seeing a toolbar button nor an app bar button. Maybe I am missing a change I need in my CFGs. I\u0027ll look.\n\n- - - Updated - - -\n\nOhh I do remember this TR GUI. The problem is it\u0027s only accessible from the space center view. It\u0027s not available in flight. What is happening to me is:\n\n\\* I enter the flight scene. My Kerbal has no helmet.\n\n\\* I activate the animation GUI. The Kerbal floats in the air as expected, and has no helmet.\n\n\\* I create an animation and save it.\n\n\\* I close the animation GUI. The Kerbal goes back to the scene and stops floating in air. He now has a helmet.\n\nHowever, I discovered the workaround for this. If you just leave to the space center scene and return back to the flight scene, the helmet disappears. It\u0027s a pain, but hopefully I won\u0027t need to be making new animations a lot."},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-10-11T23:03:34Z","Content":"\u003E \n\u003E -snip-\n\nIn TR, there should be an action in the Kerbal\u0027s rightclick menu that is for toggling the helmet. Just use that, I don\u0027t see why the space center GUI has anything to do with it.\n\nEDIT: Apparently, there isn\u0027t a button in TR that does that, either I\u0027m misremembering, or it was removed at some point. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nAnyways, another fix I found is entering/exiting a pod, so you can do that if you don\u0027t want to leave the flight scene.\n\n**Edited \u003Ctime datetime=\u00222015-10-11T23:05:56Z\u0022 title=\u002210/11/2015 11:05  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 11, 2015\u003C/time\u003E by MrHappyFace**"},{"CreatedByName":"LitaAlto","CreatedById":110917,"CreatedDateTime":"2015-10-19T22:04:36Z","Content":"\u003E \n\u003E EDIT: Apparently, there isn\u0027t a button in TR that does that, either I\u0027m misremembering, or it was removed at some point. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nI thought I saw that option recently--but it might be the other way around, as in being able to put on the helmet from the right-click menu, but not being able to remove it. Now I want to experiment...."},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-10-20T19:30:55Z","Content":"I\u0027m so confused with this. How do I save stuff onto the keyframes?"}]}