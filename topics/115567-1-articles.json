{"TopicId":115567,"ForumId":35,"TopicTitle":"Better textures with nvcompress","CreatedByName":"peteletroll","CreatedById":144573,"CreatedDateTime":"2015-07-10T16:34:12Z","PageNum":1,"Articles":[{"CreatedByName":"peteletroll","CreatedById":144573,"CreatedDateTime":"2015-07-10T16:34:12Z","Content":"I used Active Texture Management, then DDSLoader, and I was enthusiastic about the startup speed: I play KSP on an Aspire One netbook, so any performance tweak is important.\n\nBut I started noticing texture artifacts. When DDS became stock, the artifacts where still there.\n\nI experimented a lot with DDS, and i found out nvcompress gives much better results: just reprocessing the stock DDS files all the artifacts were gone.\n\nThis is an example: the tank on the left has the stock texture, the one on the right is reprocessed with nvcompress. The quality difference is huge.\n\n![QjIbf4Q.png](http://i.imgur.com/QjIbf4Q.png)\n\nI tried with img2dds, but the artifacts remain.\n\nDoes anybody else had the same problems? I\u0027m currently working on a perl script to automatize the whole reprocessing, and I\u0027d like to share it when it\u0027s done, if it is useful to anybody."},{"CreatedByName":"Trolllception","CreatedById":147346,"CreatedDateTime":"2015-07-11T22:23:48Z","Content":"I don\u0027t have artifacts like these. The stock dds textures look fine for me."},{"CreatedByName":"Weywot8","CreatedById":146603,"CreatedDateTime":"2015-07-12T13:36:35Z","Content":"I do when running on OpenGL mode as one does when looking for performance hacks ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif). Does nvcompress result in a smaller RAM footprint though? Knowing absolutely nothing about graphics and compression, can\u0027t help out but would be interested in providing testing feedback if you want any.\n\nQuick callout on what does and doesn\u0027t get\u0027s compressed - some visual enhancement mods appear to need certain formats for \u0022volumetric clouds\u0022 and stuff. Might want to keep an eye out for that to avoid floods of reporting when everyone starts using your script."},{"CreatedByName":"peteletroll","CreatedById":144573,"CreatedDateTime":"2015-07-13T08:03:25Z","Content":"Thanks for the feedback, Weywot8 - at least I know I\u0027m not alone now :-)\n\nThere\u0027s no performance or memory changes switching to nvcompress, because of how DDS compression works. But many stock textures have an unused transparency channel, and that\u0027s a waste: textures with transparency must be compressed to DXT5 format, but textures without transparency can use the DXT1 format, taking exactly half the space. The tool I\u0027m writing can detect these cases and optimize them away. And it can be used to reduce the size of textures you don\u0027t use much - most spaceplane parts for me.\n\nBy the way, it\u0027s a Linux tool! It needs the ImageMagick utilities to analyze and convert textures. They work on windows too, but the installation could be a little tricky.\n\nIt mostly works now, I\u0027m trying to make it a little more user friendly."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-13T18:38:35Z","Content":"Alpha is used for specularity in the usual KSP shader. I think the only case where an RGBA texture can be made RGB is if the alpha channel is 100% white."},{"CreatedByName":"peteletroll","CreatedById":144573,"CreatedDateTime":"2015-07-13T21:34:06Z","Content":"Yes NathanKell, 100% alpha is what I check for.\n\nBy the way, here\u0027s a link to the script I\u0027m working on. It\u0027s feature complete, just not very user friendly. It\u0027s written and tested on Linux, but it should work on Windows, with a little effort.\n\nIt needs the ImageMagick command line tools and the NVIDIA Texture Tools ([https://code.google.com/p/nvidia-texture-tools/](https://code.google.com/p/nvidia-texture-tools/)).\n\nIt shows a little help message when launched with no parameters.\n\nFor instance, this recompresses the stock parts textures:\n\n$ ksp-dds-tool \u003Cpath-to-ksp\u003E/GameData/Squad\u003C/path-to-ksp\u003E\n\nThe script ignores images if their height and width are not powers of two, and if they\u0027re smaller than 32x32.\n\nLicense: GPL\n\n[https://www.dropbox.com/s/i7ke2mh63nyemgu/ksp-dds-tool.zip?dl=0](https://www.dropbox.com/s/i7ke2mh63nyemgu/ksp-dds-tool.zip?dl=0)\n\nThis program is distributed in the hope that it will be useful,\n\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."},{"CreatedByName":"peteletroll","CreatedById":144573,"CreatedDateTime":"2015-07-23T13:41:24Z","Content":"New version, with DXT3 support!\n\n[https://www.dropbox.com/s/jcdmyb597mbm9mh/ksp-dds-tool-1.1.zip?dl=0](https://www.dropbox.com/s/jcdmyb597mbm9mh/ksp-dds-tool-1.1.zip?dl=0)\n\n**Edited \u003Ctime datetime=\u00222015-07-23T13:53:34Z\u0022 title=\u002207/23/2015 01:53  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 23, 2015\u003C/time\u003E by peteletroll**"}]}